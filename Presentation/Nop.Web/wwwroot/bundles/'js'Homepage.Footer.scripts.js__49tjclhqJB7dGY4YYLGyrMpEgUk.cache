{"Headers":{"Last-Modified":"Tue, 21 Dec 2021 11:33:22 GMT","X-Content-Type-Options":"nosniff"},"Body":"LyohIGpRdWVyeSB2My41LjEgfCAoYykgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCmZ1bmN0aW9uIE9wZW5XaW5kb3cobix0LGkscil7dmFyIHU9KHNjcmVlbi53aWR0aC10KS8yLGY9KHNjcmVlbi5oZWlnaHQtaSkvMixlO3dpbnByb3BzPSJyZXNpemFibGU9MCwgaGVpZ2h0PSIraSsiLHdpZHRoPSIrdCsiLHRvcD0iK2YrIixsZWZ0PSIrdSsidyI7ciYmKHdpbnByb3BzKz0iLHNjcm9sbGJhcnM9MSIpO2U9d2luZG93Lm9wZW4obiwiX2JsYW5rIix3aW5wcm9wcyl9ZnVuY3Rpb24gc2V0TG9jYXRpb24obil7d2luZG93LmxvY2F0aW9uLmhyZWY9bn1mdW5jdGlvbiBkaXNwbGF5QWpheExvYWRpbmcobil7bj8kKCIuYWpheC1sb2FkaW5nLWJsb2NrLXdpbmRvdyIpLnNob3coKTokKCIuYWpheC1sb2FkaW5nLWJsb2NrLXdpbmRvdyIpLmhpZGUoInNsb3ciKX1mdW5jdGlvbiBkaXNwbGF5UG9wdXBOb3RpZmljYXRpb24obix0LGkpe3ZhciBmLHIsdSxlO2lmKGY9dD09InN1Y2Nlc3MiPyQoIiNkaWFsb2ctbm90aWZpY2F0aW9ucy1zdWNjZXNzIik6dD09ImVycm9yIj8kKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtZXJyb3IiKTp0PT0id2FybmluZyI/JCgiI2RpYWxvZy1ub3RpZmljYXRpb25zLXdhcm5pbmciKTokKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtc3VjY2VzcyIpLHI9IiIsdHlwZW9mIG49PSJzdHJpbmciKXI9IjxwPiIrbisiPFwvcD4iO2Vsc2UgZm9yKHU9MDt1PG4ubGVuZ3RoO3UrKylyPXIrIjxwPiIrblt1XSsiPFwvcD4iO2YuaHRtbChyKTtlPWk/ITA6ITE7Zi5kaWFsb2coe21vZGFsOmUsd2lkdGg6MzUwfSl9ZnVuY3Rpb24gZGlzcGxheUpvaW5lZFBvcHVwTm90aWZpY2F0aW9ucyhuKXt2YXIgdSxmLGksZSxyLHQ7aWYoT2JqZWN0LmtleXMobikubGVuZ3RoIT09MCl7dT0kKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtc3VjY2VzcyIpO2Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zm9yKGkgaW4gbilpZihuLmhhc093blByb3BlcnR5KGkpKWZvcihlPW5baV0scj0wO3I8ZS5sZW5ndGg7KytyKXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdC5pbm5lckhUTUw9ZVtyXSx0LmNsYXNzTGlzdC5hZGQoInBvcHVwLW5vdGlmaWNhdGlvbiIpLHQuY2xhc3NMaXN0LmFkZChpKSxmLmFwcGVuZCh0KTt1Lmh0bWwoZik7dS5kaWFsb2coe3dpZHRoOjM1MCxtb2RhbDohMH0pfX1mdW5jdGlvbiBkaXNwbGF5UG9wdXBDb250ZW50RnJvbVVybChuLHQsaSxyKXt2YXIgdT1pPyEwOiExLGY9cj9yOjU1MCxlPSQod2luZG93KS5oZWlnaHQoKS0yMDskKCI8ZGl2PjxcL2Rpdj4iKS5sb2FkKG4pLmRpYWxvZyh7bW9kYWw6dSx3aWR0aDpmLG1heEhlaWdodDplLHRpdGxlOnQsY2xvc2U6ZnVuY3Rpb24oKXskKHRoaXMpLmRpYWxvZygiZGVzdHJveSIpLnJlbW92ZSgpfX0pfWZ1bmN0aW9uIGRpc3BsYXlCYXJOb3RpZmljYXRpb24obix0LGkpe3ZhciBjLG89dHlwZW9mIG49PSJzdHJpbmciP1tuXTpuLHMscix1LGYsZSxoO2lmKG8ubGVuZ3RoIT09MCl7Zm9yKHM9WyJzdWNjZXNzIiwiZXJyb3IiLCJ3YXJuaW5nIl0uaW5kZXhPZih0KSE9PS0xP3Q6InN1Y2Nlc3MiLCQoIiNiYXItbm90aWZpY2F0aW9uIikucmVtb3ZlQ2xhc3MoInN1Y2Nlc3MiKS5yZW1vdmVDbGFzcygiZXJyb3IiKS5yZW1vdmVDbGFzcygid2FybmluZyIpLCQoIi5iYXItbm90aWZpY2F0aW9uIikucmVtb3ZlKCkscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxyLmNsYXNzTGlzdC5hZGQoImJhci1ub3RpZmljYXRpb24iLHMpLHIuY2xhc3NMaXN0LmFkZChzKSx1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSx1LmNsYXNzTGlzdC5hZGQoImNsb3NlIiksdS5zZXRBdHRyaWJ1dGUoInRpdGxlIixkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmFyLW5vdGlmaWNhdGlvbiIpLmRhdGFzZXQuY2xvc2UpLGY9MDtmPG8ubGVuZ3RoO2YrKyllPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKSxlLmNsYXNzTGlzdC5hZGQoImNvbnRlbnQiKSxlLmlubmVySFRNTD1vW2ZdLHIuYXBwZW5kQ2hpbGQoZSk7ci5hcHBlbmRDaGlsZCh1KTskKCIjYmFyLW5vdGlmaWNhdGlvbiIpLmFwcGVuZChyKTskKHIpLmZhZGVJbigic2xvdyIpLm9uKCJtb3VzZWVudGVyIixmdW5jdGlvbigpe2NsZWFyVGltZW91dChjKX0pO2g9ZnVuY3Rpb24oKXskKHIpLnJlbW92ZSgpfTskKHUpLm9uKCJjbGljayIsZnVuY3Rpb24oKXskKHIpLmZhZGVPdXQoInNsb3ciLGgpfSk7aT4wJiYoYz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChyKS5mYWRlT3V0KCJzbG93IixoKX0saSkpfX1mdW5jdGlvbiBodG1sRW5jb2RlKG4pe3JldHVybiAkKCI8ZGl2Lz4iKS50ZXh0KG4pLmh0bWwoKX1mdW5jdGlvbiBodG1sRGVjb2RlKG4pe3JldHVybiAkKCI8ZGl2Lz4iKS5odG1sKG4pLnRleHQoKX1mdW5jdGlvbiBhZGRBbnRpRm9yZ2VyeVRva2VuKG4pe258fChuPXt9KTt2YXIgdD0kKCJpbnB1dFtuYW1lPV9fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuXSIpO3JldHVybiB0Lmxlbmd0aCYmKG4uX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW49dC52YWwoKSksbn0hZnVuY3Rpb24obix0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bi5kb2N1bWVudD90KG4sITApOmZ1bmN0aW9uKG4pe2lmKCFuLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KG4pfTp0KG4pfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihuLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBicihuLHQsaSl7dmFyIHIsZSx1PShpPWl8fGYpLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2lmKHUudGV4dD1uLHQpZm9yKHIgaW4gc2UpKGU9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmdS5zZXRBdHRyaWJ1dGUocixlKTtpLmhlYWQuYXBwZW5kQ2hpbGQodSkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh1KX1mdW5jdGlvbiB1dChuKXtyZXR1cm4gbnVsbD09bj9uKyIiOiJvYmplY3QiPT10eXBlb2Ygbnx8ImZ1bmN0aW9uIj09dHlwZW9mIG4/cmlbcHIuY2FsbChuKV18fCJvYmplY3QiOnR5cGVvZiBufWZ1bmN0aW9uIHBpKG4pe3ZhciB0PSEhbiYmImxlbmd0aCJpbiBuJiZuLmxlbmd0aCxpPXV0KG4pO3JldHVybiF1KG4pJiYhcnQobikmJigiYXJyYXkiPT09aXx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gbil9ZnVuY3Rpb24gYyhuLHQpe3JldHVybiBuLm5vZGVOYW1lJiZuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gYmkobix0LHIpe3JldHVybiB1KHQpP2kuZ3JlcChuLGZ1bmN0aW9uKG4saSl7cmV0dXJuISF0LmNhbGwobixpLG4pIT09cn0pOnQubm9kZVR5cGU/aS5ncmVwKG4sZnVuY3Rpb24obil7cmV0dXJuIG49PT10IT09cn0pOiJzdHJpbmciIT10eXBlb2YgdD9pLmdyZXAobixmdW5jdGlvbihuKXtyZXR1cm4tMTxpaS5jYWxsKHQsbikhPT1yfSk6aS5maWx0ZXIodCxuLHIpfWZ1bmN0aW9uIHV1KG4sdCl7d2hpbGUoKG49blt0XSkmJjEhPT1uLm5vZGVUeXBlKTtyZXR1cm4gbn1mdW5jdGlvbiBldChuKXtyZXR1cm4gbn1mdW5jdGlvbiBmaShuKXt0aHJvdyBuO31mdW5jdGlvbiBmdShuLHQsaSxyKXt2YXIgZjt0cnl7biYmdShmPW4ucHJvbWlzZSk/Zi5jYWxsKG4pLmRvbmUodCkuZmFpbChpKTpuJiZ1KGY9bi50aGVuKT9mLmNhbGwobix0LGkpOnQuYXBwbHkodm9pZCAwLFtuXS5zbGljZShyKSl9Y2F0Y2gobil7aS5hcHBseSh2b2lkIDAsW25dKX19ZnVuY3Rpb24gb2koKXtmLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLG9pKTtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLG9pKTtpLnJlYWR5KCl9ZnVuY3Rpb24gbGUobix0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfWZ1bmN0aW9uIHkobil7cmV0dXJuIG4ucmVwbGFjZShoZSwibXMtIikucmVwbGFjZShjZSxsZSl9ZnVuY3Rpb24gYnQoKXt0aGlzLmV4cGFuZG89aS5leHBhbmRvK2J0LnVpZCsrfWZ1bmN0aW9uIG91KG4sdCxpKXt2YXIgdSxyO2lmKHZvaWQgMD09PWkmJjE9PT1uLm5vZGVUeXBlKWlmKHU9ImRhdGEtIit0LnJlcGxhY2UodmUsIi0kJiIpLnRvTG93ZXJDYXNlKCksInN0cmluZyI9PXR5cGVvZihpPW4uZ2V0QXR0cmlidXRlKHUpKSl7dHJ5e2k9InRydWUiPT09KHI9aSl8fCJmYWxzZSIhPT1yJiYoIm51bGwiPT09cj9udWxsOnI9PT0rcisiIj8rcjphZS50ZXN0KHIpP0pTT04ucGFyc2Uocik6cil9Y2F0Y2gobil7fW8uc2V0KG4sdCxpKX1lbHNlIGk9dm9pZCAwO3JldHVybiBpfWZ1bmN0aW9uIGh1KG4sdCxyLHUpe3ZhciBzLGgsYz0yMCxsPXU/ZnVuY3Rpb24oKXtyZXR1cm4gdS5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gaS5jc3Mobix0LCIiKX0sbz1sKCksZT1yJiZyWzNdfHwoaS5jc3NOdW1iZXJbdF0/IiI6InB4IiksZj1uLm5vZGVUeXBlJiYoaS5jc3NOdW1iZXJbdF18fCJweCIhPT1lJiYrbykmJmt0LmV4ZWMoaS5jc3Mobix0KSk7aWYoZiYmZlszXSE9PWUpe2ZvcihvLz0yLGU9ZXx8ZlszXSxmPStvfHwxO2MtLTspaS5zdHlsZShuLHQsZitlKSwoMS1oKSooMS0oaD1sKCkvb3x8LjUpKTw9MCYmKGM9MCksZi89aDtmKj0yO2kuc3R5bGUobix0LGYrZSk7cj1yfHxbXX1yZXR1cm4gciYmKGY9K2Z8fCtvfHwwLHM9clsxXT9mKyhyWzFdKzEpKnJbMl06K3JbMl0sdSYmKHUudW5pdD1lLHUuc3RhcnQ9Zix1LmVuZD1zKSksc31mdW5jdGlvbiBodChuLHQpe2Zvcih2YXIgaCxmLGEscyxjLGwsZSxvPVtdLHU9MCx2PW4ubGVuZ3RoO3U8djt1KyspKGY9blt1XSkuc3R5bGUmJihoPWYuc3R5bGUuZGlzcGxheSx0Pygibm9uZSI9PT1oJiYob1t1XT1yLmdldChmLCJkaXNwbGF5Iil8fG51bGwsb1t1XXx8KGYuc3R5bGUuZGlzcGxheT0iIikpLCIiPT09Zi5zdHlsZS5kaXNwbGF5JiZkdChmKSYmKG9bdV09KGU9Yz1zPXZvaWQgMCxjPShhPWYpLm93bmVyRG9jdW1lbnQsbD1hLm5vZGVOYW1lLChlPWtpW2xdKXx8KHM9Yy5ib2R5LmFwcGVuZENoaWxkKGMuY3JlYXRlRWxlbWVudChsKSksZT1pLmNzcyhzLCJkaXNwbGF5Iikscy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHMpLCJub25lIj09PWUmJihlPSJibG9jayIpLGtpW2xdPWUpKSkpOiJub25lIiE9PWgmJihvW3VdPSJub25lIixyLnNldChmLCJkaXNwbGF5IixoKSkpO2Zvcih1PTA7dTx2O3UrKyludWxsIT1vW3VdJiYoblt1XS5zdHlsZS5kaXNwbGF5PW9bdV0pO3JldHVybiBufWZ1bmN0aW9uIHMobix0KXt2YXIgcjtyZXR1cm4gcj0idW5kZWZpbmVkIiE9dHlwZW9mIG4uZ2V0RWxlbWVudHNCeVRhZ05hbWU/bi5nZXRFbGVtZW50c0J5VGFnTmFtZSh0fHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2Ygbi5xdWVyeVNlbGVjdG9yQWxsP24ucXVlcnlTZWxlY3RvckFsbCh0fHwiKiIpOltdLHZvaWQgMD09PXR8fHQmJmMobix0KT9pLm1lcmdlKFtuXSxyKTpyfWZ1bmN0aW9uIGRpKG4sdCl7Zm9yKHZhciBpPTAsdT1uLmxlbmd0aDtpPHU7aSsrKXIuc2V0KG5baV0sImdsb2JhbEV2YWwiLCF0fHxyLmdldCh0W2ldLCJnbG9iYWxFdmFsIikpfWZ1bmN0aW9uIHZ1KG4sdCxyLHUsZil7Zm9yKHZhciBlLG8scCxhLHcsdixjPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHk9W10sbD0wLGI9bi5sZW5ndGg7bDxiO2wrKylpZigoZT1uW2xdKXx8MD09PWUpaWYoIm9iamVjdCI9PT11dChlKSlpLm1lcmdlKHksZS5ub2RlVHlwZT9bZV06ZSk7ZWxzZSBpZihhdS50ZXN0KGUpKXtmb3Iobz1vfHxjLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHA9KGN1LmV4ZWMoZSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksYT1oW3BdfHxoLl9kZWZhdWx0LG8uaW5uZXJIVE1MPWFbMV0raS5odG1sUHJlZmlsdGVyKGUpK2FbMl0sdj1hWzBdO3YtLTspbz1vLmxhc3RDaGlsZDtpLm1lcmdlKHksby5jaGlsZE5vZGVzKTsobz1jLmZpcnN0Q2hpbGQpLnRleHRDb250ZW50PSIifWVsc2UgeS5wdXNoKHQuY3JlYXRlVGV4dE5vZGUoZSkpO2ZvcihjLnRleHRDb250ZW50PSIiLGw9MDtlPXlbbCsrXTspaWYodSYmLTE8aS5pbkFycmF5KGUsdSkpZiYmZi5wdXNoKGUpO2Vsc2UgaWYodz1zdChlKSxvPXMoYy5hcHBlbmRDaGlsZChlKSwic2NyaXB0IiksdyYmZGkobykscilmb3Iodj0wO2U9b1t2KytdOylsdS50ZXN0KGUudHlwZXx8IiIpJiZyLnB1c2goZSk7cmV0dXJuIGN9ZnVuY3Rpb24gY3QoKXtyZXR1cm4hMH1mdW5jdGlvbiBsdCgpe3JldHVybiExfWZ1bmN0aW9uIGJlKG4sdCl7cmV0dXJuIG49PT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gZi5hY3RpdmVFbGVtZW50fWNhdGNoKG4pe319KCk9PSgiZm9jdXMiPT09dCl9ZnVuY3Rpb24gZ2kobix0LHIsdSxmLGUpe3ZhciBvLHM7aWYoIm9iamVjdCI9PXR5cGVvZiB0KXtmb3IocyBpbiJzdHJpbmciIT10eXBlb2YgciYmKHU9dXx8cixyPXZvaWQgMCksdClnaShuLHMscix1LHRbc10sZSk7cmV0dXJuIG59aWYobnVsbD09dSYmbnVsbD09Zj8oZj1yLHU9cj12b2lkIDApOm51bGw9PWYmJigic3RyaW5nIj09dHlwZW9mIHI/KGY9dSx1PXZvaWQgMCk6KGY9dSx1PXIscj12b2lkIDApKSwhMT09PWYpZj1sdDtlbHNlIGlmKCFmKXJldHVybiBuO3JldHVybiAxPT09ZSYmKG89ZiwoZj1mdW5jdGlvbihuKXtyZXR1cm4gaSgpLm9mZihuKSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLmd1aWQ9by5ndWlkfHwoby5ndWlkPWkuZ3VpZCsrKSksbi5lYWNoKGZ1bmN0aW9uKCl7aS5ldmVudC5hZGQodGhpcyx0LGYsdSxyKX0pfWZ1bmN0aW9uIGhpKG4sdCx1KXt1PyhyLnNldChuLHQsITEpLGkuZXZlbnQuYWRkKG4sdCx7bmFtZXNwYWNlOiExLGhhbmRsZXI6ZnVuY3Rpb24obil7dmFyIG8sZSxmPXIuZ2V0KHRoaXMsdCk7aWYoMSZuLmlzVHJpZ2dlciYmdGhpc1t0XSl7aWYoZi5sZW5ndGgpKGkuZXZlbnQuc3BlY2lhbFt0XXx8e30pLmRlbGVnYXRlVHlwZSYmbi5zdG9wUHJvcGFnYXRpb24oKTtlbHNlIGlmKGY9ay5jYWxsKGFyZ3VtZW50cyksci5zZXQodGhpcyx0LGYpLG89dSh0aGlzLHQpLHRoaXNbdF0oKSxmIT09KGU9ci5nZXQodGhpcyx0KSl8fG8/ci5zZXQodGhpcyx0LCExKTplPXt9LGYhPT1lKXJldHVybiBuLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLG4ucHJldmVudERlZmF1bHQoKSxlLnZhbHVlfWVsc2UgZi5sZW5ndGgmJihyLnNldCh0aGlzLHQse3ZhbHVlOmkuZXZlbnQudHJpZ2dlcihpLmV4dGVuZChmWzBdLGkuRXZlbnQucHJvdG90eXBlKSxmLnNsaWNlKDEpLHRoaXMpfSksbi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSl9fSkpOnZvaWQgMD09PXIuZ2V0KG4sdCkmJmkuZXZlbnQuYWRkKG4sdCxjdCl9ZnVuY3Rpb24gcHUobix0KXtyZXR1cm4gYyhuLCJ0YWJsZSIpJiZjKDExIT09dC5ub2RlVHlwZT90OnQuZmlyc3RDaGlsZCwidHIiKSYmaShuKS5jaGlsZHJlbigidGJvZHkiKVswXXx8bn1mdW5jdGlvbiBubyhuKXtyZXR1cm4gbi50eXBlPShudWxsIT09bi5nZXRBdHRyaWJ1dGUoInR5cGUiKSkrIi8iK24udHlwZSxufWZ1bmN0aW9uIHRvKG4pe3JldHVybiJ0cnVlLyI9PT0obi50eXBlfHwiIikuc2xpY2UoMCw1KT9uLnR5cGU9bi50eXBlLnNsaWNlKDUpOm4ucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksbn1mdW5jdGlvbiB3dShuLHQpe3ZhciB1LHMsZixoLGMsZTtpZigxPT09dC5ub2RlVHlwZSl7aWYoci5oYXNEYXRhKG4pJiYoZT1yLmdldChuKS5ldmVudHMpKWZvcihmIGluIHIucmVtb3ZlKHQsImhhbmRsZSBldmVudHMiKSxlKWZvcih1PTAscz1lW2ZdLmxlbmd0aDt1PHM7dSsrKWkuZXZlbnQuYWRkKHQsZixlW2ZdW3VdKTtvLmhhc0RhdGEobikmJihoPW8uYWNjZXNzKG4pLGM9aS5leHRlbmQoe30saCksby5zZXQodCxjKSl9fWZ1bmN0aW9uIGF0KG4sdCxmLG8pe3Q9eXIodCk7dmFyIGEsYixsLHYsaCx5LGM9MCxwPW4ubGVuZ3RoLGQ9cC0xLHc9dFswXSxrPXUodyk7aWYoa3x8MTxwJiYic3RyaW5nIj09dHlwZW9mIHcmJiFlLmNoZWNrQ2xvbmUmJmRlLnRlc3QodykpcmV0dXJuIG4uZWFjaChmdW5jdGlvbihpKXt2YXIgcj1uLmVxKGkpO2smJih0WzBdPXcuY2FsbCh0aGlzLGksci5odG1sKCkpKTthdChyLHQsZixvKX0pO2lmKHAmJihiPShhPXZ1KHQsblswXS5vd25lckRvY3VtZW50LCExLG4sbykpLmZpcnN0Q2hpbGQsMT09PWEuY2hpbGROb2Rlcy5sZW5ndGgmJihhPWIpLGJ8fG8pKXtmb3Iodj0obD1pLm1hcChzKGEsInNjcmlwdCIpLG5vKSkubGVuZ3RoO2M8cDtjKyspaD1hLGMhPT1kJiYoaD1pLmNsb25lKGgsITAsITApLHYmJmkubWVyZ2UobCxzKGgsInNjcmlwdCIpKSksZi5jYWxsKG5bY10saCxjKTtpZih2KWZvcih5PWxbbC5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxpLm1hcChsLHRvKSxjPTA7Yzx2O2MrKyloPWxbY10sbHUudGVzdChoLnR5cGV8fCIiKSYmIXIuYWNjZXNzKGgsImdsb2JhbEV2YWwiKSYmaS5jb250YWlucyh5LGgpJiYoaC5zcmMmJiJtb2R1bGUiIT09KGgudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/aS5fZXZhbFVybCYmIWgubm9Nb2R1bGUmJmkuX2V2YWxVcmwoaC5zcmMse25vbmNlOmgubm9uY2V8fGguZ2V0QXR0cmlidXRlKCJub25jZSIpfSx5KTpicihoLnRleHRDb250ZW50LnJlcGxhY2UoZ2UsIiIpLGgseSkpfXJldHVybiBufWZ1bmN0aW9uIGJ1KG4sdCxyKXtmb3IodmFyIHUsZT10P2kuZmlsdGVyKHQsbik6bixmPTA7bnVsbCE9KHU9ZVtmXSk7ZisrKXJ8fDEhPT11Lm5vZGVUeXBlfHxpLmNsZWFuRGF0YShzKHUpKSx1LnBhcmVudE5vZGUmJihyJiZzdCh1KSYmZGkocyh1LCJzY3JpcHQiKSksdS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHUpKTtyZXR1cm4gbn1mdW5jdGlvbiBuaShuLHQscil7dmFyIG8scyxoLGYsdT1uLnN0eWxlO3JldHVybihyPXJ8fGNpKG4pKSYmKCIiIT09KGY9ci5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxyW3RdKXx8c3Qobil8fChmPWkuc3R5bGUobix0KSksIWUucGl4ZWxCb3hTdHlsZXMoKSYmbnIudGVzdChmKSYmaW8udGVzdCh0KSYmKG89dS53aWR0aCxzPXUubWluV2lkdGgsaD11Lm1heFdpZHRoLHUubWluV2lkdGg9dS5tYXhXaWR0aD11LndpZHRoPWYsZj1yLndpZHRoLHUud2lkdGg9byx1Lm1pbldpZHRoPXMsdS5tYXhXaWR0aD1oKSksdm9pZCAwIT09Zj9mKyIiOmZ9ZnVuY3Rpb24gZHUobix0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIW4oKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fWZ1bmN0aW9uIHRyKG4pe3ZhciB0PWkuY3NzUHJvcHNbbl18fHRmW25dO3JldHVybiB0fHwobiBpbiBuZj9uOnRmW25dPWZ1bmN0aW9uKG4pe2Zvcih2YXIgaT1uWzBdLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKSx0PWd1Lmxlbmd0aDt0LS07KWlmKChuPWd1W3RdK2kpaW4gbmYpcmV0dXJuIG59KG4pfHxuKX1mdW5jdGlvbiBmZihuLHQsaSl7dmFyIHI9a3QuZXhlYyh0KTtyZXR1cm4gcj9NYXRoLm1heCgwLHJbMl0tKGl8fDApKSsoclszXXx8InB4Iik6dH1mdW5jdGlvbiBpcihuLHQscix1LGYsZSl7dmFyIG89IndpZHRoIj09PXQ/MTowLGg9MCxzPTA7aWYocj09PSh1PyJib3JkZXIiOiJjb250ZW50IikpcmV0dXJuIDA7Zm9yKDtvPDQ7bys9MikibWFyZ2luIj09PXImJihzKz1pLmNzcyhuLHIrYltvXSwhMCxmKSksdT8oImNvbnRlbnQiPT09ciYmKHMtPWkuY3NzKG4sInBhZGRpbmciK2Jbb10sITAsZikpLCJtYXJnaW4iIT09ciYmKHMtPWkuY3NzKG4sImJvcmRlciIrYltvXSsiV2lkdGgiLCEwLGYpKSk6KHMrPWkuY3NzKG4sInBhZGRpbmciK2Jbb10sITAsZiksInBhZGRpbmciIT09cj9zKz1pLmNzcyhuLCJib3JkZXIiK2Jbb10rIldpZHRoIiwhMCxmKTpoKz1pLmNzcyhuLCJib3JkZXIiK2Jbb10rIldpZHRoIiwhMCxmKSk7cmV0dXJuIXUmJjA8PWUmJihzKz1NYXRoLm1heCgwLE1hdGguY2VpbChuWyJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXS1lLXMtaC0uNSkpfHwwKSxzfWZ1bmN0aW9uIGVmKG4sdCxyKXt2YXIgZj1jaShuKSxvPSghZS5ib3hTaXppbmdSZWxpYWJsZSgpfHxyKSYmImJvcmRlci1ib3giPT09aS5jc3MobiwiYm94U2l6aW5nIiwhMSxmKSxzPW8sdT1uaShuLHQsZiksaD0ib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKTtpZihuci50ZXN0KHUpKXtpZighcilyZXR1cm4gdTt1PSJhdXRvIn1yZXR1cm4oIWUuYm94U2l6aW5nUmVsaWFibGUoKSYmb3x8IWUucmVsaWFibGVUckRpbWVuc2lvbnMoKSYmYyhuLCJ0ciIpfHwiYXV0byI9PT11fHwhcGFyc2VGbG9hdCh1KSYmImlubGluZSI9PT1pLmNzcyhuLCJkaXNwbGF5IiwhMSxmKSkmJm4uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJihvPSJib3JkZXItYm94Ij09PWkuY3NzKG4sImJveFNpemluZyIsITEsZiksKHM9aCBpbiBuKSYmKHU9bltoXSkpLCh1PXBhcnNlRmxvYXQodSl8fDApK2lyKG4sdCxyfHwobz8iYm9yZGVyIjoiY29udGVudCIpLHMsZix1KSsicHgifWZ1bmN0aW9uIGEobix0LGkscix1KXtyZXR1cm4gbmV3IGEucHJvdG90eXBlLmluaXQobix0LGkscix1KX1mdW5jdGlvbiBycigpe2xpJiYoITE9PT1mLmhpZGRlbiYmbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/bi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocnIpOm4uc2V0VGltZW91dChycixpLmZ4LmludGVydmFsKSxpLmZ4LnRpY2soKSl9ZnVuY3Rpb24gbGYoKXtyZXR1cm4gbi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dnQ9dm9pZCAwfSksdnQ9RGF0ZS5ub3coKX1mdW5jdGlvbiBhaShuLHQpe3ZhciB1LHI9MCxpPXtoZWlnaHQ6bn07Zm9yKHQ9dD8xOjA7cjw0O3IrPTItdClpWyJtYXJnaW4iKyh1PWJbcl0pXT1pWyJwYWRkaW5nIit1XT1uO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9biksaX1mdW5jdGlvbiBhZihuLHQsaSl7Zm9yKHZhciB1LGY9KHYudHdlZW5lcnNbdF18fFtdKS5jb25jYXQodi50d2VlbmVyc1siKiJdKSxyPTAsZT1mLmxlbmd0aDtyPGU7cisrKWlmKHU9ZltyXS5jYWxsKGksdCxuKSlyZXR1cm4gdX1mdW5jdGlvbiB2KG4sdCxyKXt2YXIgbyxzLGg9MCxhPXYucHJlZmlsdGVycy5sZW5ndGgsZT1pLkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIGwuZWxlbX0pLGw9ZnVuY3Rpb24oKXtpZihzKXJldHVybiExO2Zvcih2YXIgbz12dHx8bGYoKSx0PU1hdGgubWF4KDAsZi5zdGFydFRpbWUrZi5kdXJhdGlvbi1vKSxpPTEtKHQvZi5kdXJhdGlvbnx8MCkscj0wLHU9Zi50d2VlbnMubGVuZ3RoO3I8dTtyKyspZi50d2VlbnNbcl0ucnVuKGkpO3JldHVybiBlLm5vdGlmeVdpdGgobixbZixpLHRdKSxpPDEmJnU/dDoodXx8ZS5ub3RpZnlXaXRoKG4sW2YsMSwwXSksZS5yZXNvbHZlV2l0aChuLFtmXSksITEpfSxmPWUucHJvbWlzZSh7ZWxlbTpuLHByb3BzOmkuZXh0ZW5kKHt9LHQpLG9wdHM6aS5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOmkuZWFzaW5nLl9kZWZhdWx0fSxyKSxvcmlnaW5hbFByb3BlcnRpZXM6dCxvcmlnaW5hbE9wdGlvbnM6cixzdGFydFRpbWU6dnR8fGxmKCksZHVyYXRpb246ci5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24odCxyKXt2YXIgdT1pLlR3ZWVuKG4sZi5vcHRzLHQscixmLm9wdHMuc3BlY2lhbEVhc2luZ1t0XXx8Zi5vcHRzLmVhc2luZyk7cmV0dXJuIGYudHdlZW5zLnB1c2godSksdX0sc3RvcDpmdW5jdGlvbih0KXt2YXIgaT0wLHI9dD9mLnR3ZWVucy5sZW5ndGg6MDtpZihzKXJldHVybiB0aGlzO2ZvcihzPSEwO2k8cjtpKyspZi50d2VlbnNbaV0ucnVuKDEpO3JldHVybiB0PyhlLm5vdGlmeVdpdGgobixbZiwxLDBdKSxlLnJlc29sdmVXaXRoKG4sW2YsdF0pKTplLnJlamVjdFdpdGgobixbZix0XSksdGhpc319KSxjPWYucHJvcHM7Zm9yKCFmdW5jdGlvbihuLHQpe3ZhciByLGYsZSx1LG87Zm9yKHIgaW4gbilpZihlPXRbZj15KHIpXSx1PW5bcl0sQXJyYXkuaXNBcnJheSh1KSYmKGU9dVsxXSx1PW5bcl09dVswXSksciE9PWYmJihuW2ZdPXUsZGVsZXRlIG5bcl0pLChvPWkuY3NzSG9va3NbZl0pJiYiZXhwYW5kImluIG8pZm9yKHIgaW4gdT1vLmV4cGFuZCh1KSxkZWxldGUgbltmXSx1KXIgaW4gbnx8KG5bcl09dVtyXSx0W3JdPWUpO2Vsc2UgdFtmXT1lfShjLGYub3B0cy5zcGVjaWFsRWFzaW5nKTtoPGE7aCsrKWlmKG89di5wcmVmaWx0ZXJzW2hdLmNhbGwoZixuLGMsZi5vcHRzKSlyZXR1cm4gdShvLnN0b3ApJiYoaS5fcXVldWVIb29rcyhmLmVsZW0sZi5vcHRzLnF1ZXVlKS5zdG9wPW8uc3RvcC5iaW5kKG8pKSxvO3JldHVybiBpLm1hcChjLGFmLGYpLHUoZi5vcHRzLnN0YXJ0KSYmZi5vcHRzLnN0YXJ0LmNhbGwobixmKSxmLnByb2dyZXNzKGYub3B0cy5wcm9ncmVzcykuZG9uZShmLm9wdHMuZG9uZSxmLm9wdHMuY29tcGxldGUpLmZhaWwoZi5vcHRzLmZhaWwpLmFsd2F5cyhmLm9wdHMuYWx3YXlzKSxpLmZ4LnRpbWVyKGkuZXh0ZW5kKGwse2VsZW06bixhbmltOmYscXVldWU6Zi5vcHRzLnF1ZXVlfSkpLGZ9ZnVuY3Rpb24gdHQobil7cmV0dXJuKG4ubWF0Y2gobCl8fFtdKS5qb2luKCIgIil9ZnVuY3Rpb24gaXQobil7cmV0dXJuIG4uZ2V0QXR0cmlidXRlJiZuLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiJ9ZnVuY3Rpb24gdXIobil7cmV0dXJuIEFycmF5LmlzQXJyYXkobik/bjoic3RyaW5nIj09dHlwZW9mIG4mJm4ubWF0Y2gobCl8fFtdfWZ1bmN0aW9uIHNyKG4sdCxyLHUpe3ZhciBmO2lmKEFycmF5LmlzQXJyYXkodCkpaS5lYWNoKHQsZnVuY3Rpb24odCxpKXtyfHxmby50ZXN0KG4pP3UobixpKTpzcihuKyJbIisoIm9iamVjdCI9PXR5cGVvZiBpJiZudWxsIT1pP3Q6IiIpKyJdIixpLHIsdSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dXQodCkpdShuLHQpO2Vsc2UgZm9yKGYgaW4gdClzcihuKyJbIitmKyJdIix0W2ZdLHIsdSl9ZnVuY3Rpb24gbmUobil7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7InN0cmluZyIhPXR5cGVvZiB0JiYoaT10LHQ9IioiKTt2YXIgcixmPTAsZT10LnRvTG93ZXJDYXNlKCkubWF0Y2gobCl8fFtdO2lmKHUoaSkpd2hpbGUocj1lW2YrK10pIisiPT09clswXT8ocj1yLnNsaWNlKDEpfHwiKiIsKG5bcl09bltyXXx8W10pLnVuc2hpZnQoaSkpOihuW3JdPW5bcl18fFtdKS5wdXNoKGkpfX1mdW5jdGlvbiB0ZShuLHQscix1KXtmdW5jdGlvbiBlKHMpe3ZhciBoO3JldHVybiBmW3NdPSEwLGkuZWFjaChuW3NdfHxbXSxmdW5jdGlvbihuLGkpe3ZhciBzPWkodCxyLHUpO3JldHVybiJzdHJpbmciIT10eXBlb2Ygc3x8b3x8ZltzXT9vPyEoaD1zKTp2b2lkIDA6KHQuZGF0YVR5cGVzLnVuc2hpZnQocyksZShzKSwhMSl9KSxofXZhciBmPXt9LG89bj09PWhyO3JldHVybiBlKHQuZGF0YVR5cGVzWzBdKXx8IWZbIioiXSYmZSgiKiIpfWZ1bmN0aW9uIGxyKG4sdCl7dmFyIHIsdSxmPWkuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IociBpbiB0KXZvaWQgMCE9PXRbcl0mJigoZltyXT9uOnV8fCh1PXt9KSlbcl09dFtyXSk7cmV0dXJuIHUmJmkuZXh0ZW5kKCEwLG4sdSksbn12YXIgcD1bXSx2cj1PYmplY3QuZ2V0UHJvdG90eXBlT2Ysaz1wLnNsaWNlLHlyPXAuZmxhdD9mdW5jdGlvbihuKXtyZXR1cm4gcC5mbGF0LmNhbGwobil9OmZ1bmN0aW9uKG4pe3JldHVybiBwLmNvbmNhdC5hcHBseShbXSxuKX0seWk9cC5wdXNoLGlpPXAuaW5kZXhPZixyaT17fSxwcj1yaS50b1N0cmluZyx1aT1yaS5oYXNPd25Qcm9wZXJ0eSx3cj11aS50b1N0cmluZyxvZT13ci5jYWxsKE9iamVjdCksZT17fSx1PWZ1bmN0aW9uKG4pe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYibnVtYmVyIiE9dHlwZW9mIG4ubm9kZVR5cGV9LHJ0PWZ1bmN0aW9uKG4pe3JldHVybiBudWxsIT1uJiZuPT09bi53aW5kb3d9LGY9bi5kb2N1bWVudCxzZT17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9LGtyPSIzLjUuMSIsaT1mdW5jdGlvbihuLHQpe3JldHVybiBuZXcgaS5mbi5pbml0KG4sdCl9LGQsd2ksbnUsdHUsaXUscnUsbCxldSxlaSxvdCxkdCxraSxoLGF1LHZ0LGxpLHl0LHNmLGhmLGNmLHZmLHB0LHlmLHBmLHdmLGZyLGVyLGllLHd0LHJlLGFyLHZpLHVlLGZlLGVlO2kuZm49aS5wcm90b3R5cGU9e2pxdWVyeTprcixjb25zdHJ1Y3RvcjppLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gay5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4/ay5jYWxsKHRoaXMpOm48MD90aGlzW24rdGhpcy5sZW5ndGhdOnRoaXNbbl19LHB1c2hTdGFjazpmdW5jdGlvbihuKXt2YXIgdD1pLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxuKTtyZXR1cm4gdC5wcmV2T2JqZWN0PXRoaXMsdH0sZWFjaDpmdW5jdGlvbihuKXtyZXR1cm4gaS5lYWNoKHRoaXMsbil9LG1hcDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaS5tYXAodGhpcyxmdW5jdGlvbih0LGkpe3JldHVybiBuLmNhbGwodCxpLHQpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhrLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGV2ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaS5ncmVwKHRoaXMsZnVuY3Rpb24obix0KXtyZXR1cm4odCsxKSUyfSkpfSxvZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaS5ncmVwKHRoaXMsZnVuY3Rpb24obix0KXtyZXR1cm4gdCUyfSkpfSxlcTpmdW5jdGlvbihuKXt2YXIgaT10aGlzLmxlbmd0aCx0PStuKyhuPDA/aTowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soMDw9dCYmdDxpP1t0aGlzW3RdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDp5aSxzb3J0OnAuc29ydCxzcGxpY2U6cC5zcGxpY2V9O2kuZXh0ZW5kPWkuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIHMsZixlLHQsbyxjLG49YXJndW1lbnRzWzBdfHx7fSxyPTEsbD1hcmd1bWVudHMubGVuZ3RoLGg9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIG4mJihoPW4sbj1hcmd1bWVudHNbcl18fHt9LHIrKyksIm9iamVjdCI9PXR5cGVvZiBufHx1KG4pfHwobj17fSkscj09PWwmJihuPXRoaXMsci0tKTtyPGw7cisrKWlmKG51bGwhPShzPWFyZ3VtZW50c1tyXSkpZm9yKGYgaW4gcyl0PXNbZl0sIl9fcHJvdG9fXyIhPT1mJiZuIT09dCYmKGgmJnQmJihpLmlzUGxhaW5PYmplY3QodCl8fChvPUFycmF5LmlzQXJyYXkodCkpKT8oZT1uW2ZdLGM9byYmIUFycmF5LmlzQXJyYXkoZSk/W106b3x8aS5pc1BsYWluT2JqZWN0KGUpP2U6e30sbz0hMSxuW2ZdPWkuZXh0ZW5kKGgsYyx0KSk6dm9pZCAwIT09dCYmKG5bZl09dCkpO3JldHVybiBufTtpLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5Iisoa3IrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihuKXt0aHJvdyBuZXcgRXJyb3Iobik7fSxub29wOmZ1bmN0aW9uKCl7fSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKG4pe3ZhciB0LGk7cmV0dXJuISghbnx8IltvYmplY3QgT2JqZWN0XSIhPT1wci5jYWxsKG4pKSYmKCEodD12cihuKSl8fCJmdW5jdGlvbiI9PXR5cGVvZihpPXVpLmNhbGwodCwiY29uc3RydWN0b3IiKSYmdC5jb25zdHJ1Y3RvcikmJndyLmNhbGwoaSk9PT1vZSl9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24obil7Zm9yKHZhciB0IGluIG4pcmV0dXJuITE7cmV0dXJuITB9LGdsb2JhbEV2YWw6ZnVuY3Rpb24obix0LGkpe2JyKG4se25vbmNlOnQmJnQubm9uY2V9LGkpfSxlYWNoOmZ1bmN0aW9uKG4sdCl7dmFyIHIsaT0wO2lmKHBpKG4pKXtmb3Iocj1uLmxlbmd0aDtpPHI7aSsrKWlmKCExPT09dC5jYWxsKG5baV0saSxuW2ldKSlicmVha31lbHNlIGZvcihpIGluIG4paWYoITE9PT10LmNhbGwobltpXSxpLG5baV0pKWJyZWFrO3JldHVybiBufSxtYWtlQXJyYXk6ZnVuY3Rpb24obix0KXt2YXIgcj10fHxbXTtyZXR1cm4gbnVsbCE9biYmKHBpKE9iamVjdChuKSk/aS5tZXJnZShyLCJzdHJpbmciPT10eXBlb2Ygbj9bbl06bik6eWkuY2FsbChyLG4pKSxyfSxpbkFycmF5OmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gbnVsbD09dD8tMTppaS5jYWxsKHQsbixpKX0sbWVyZ2U6ZnVuY3Rpb24obix0KXtmb3IodmFyIHU9K3QubGVuZ3RoLGk9MCxyPW4ubGVuZ3RoO2k8dTtpKyspbltyKytdPXRbaV07cmV0dXJuIG4ubGVuZ3RoPXIsbn0sZ3JlcDpmdW5jdGlvbihuLHQsaSl7Zm9yKHZhciB1PVtdLHI9MCxmPW4ubGVuZ3RoLGU9IWk7cjxmO3IrKykhdChuW3JdLHIpIT09ZSYmdS5wdXNoKG5bcl0pO3JldHVybiB1fSxtYXA6ZnVuY3Rpb24obix0LGkpe3ZhciBlLHUscj0wLGY9W107aWYocGkobikpZm9yKGU9bi5sZW5ndGg7cjxlO3IrKyludWxsIT0odT10KG5bcl0scixpKSkmJmYucHVzaCh1KTtlbHNlIGZvcihyIGluIG4pbnVsbCE9KHU9dChuW3JdLHIsaSkpJiZmLnB1c2godSk7cmV0dXJuIHlyKGYpfSxndWlkOjEsc3VwcG9ydDplfSk7ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKGkuZm5bU3ltYm9sLml0ZXJhdG9yXT1wW1N5bWJvbC5pdGVyYXRvcl0pO2kuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24obix0KXtyaVsiW29iamVjdCAiK3QrIl0iXT10LnRvTG93ZXJDYXNlKCl9KTtkPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHUobix0LHIsdSl7dmFyIHMseSxjLGwscCx3LGQsdj10JiZ0Lm93bmVyRG9jdW1lbnQsYT10P3Qubm9kZVR5cGU6OTtpZihyPXJ8fFtdLCJzdHJpbmciIT10eXBlb2Ygbnx8IW58fDEhPT1hJiY5IT09YSYmMTEhPT1hKXJldHVybiByO2lmKCF1JiYoYih0KSx0PXR8fGksaCkpe2lmKDExIT09YSYmKHA9YXIuZXhlYyhuKSkpaWYocz1wWzFdKXtpZig5PT09YSl7aWYoIShjPXQuZ2V0RWxlbWVudEJ5SWQocykpKXJldHVybiByO2lmKGMuaWQ9PT1zKXJldHVybiByLnB1c2goYykscn1lbHNlIGlmKHYmJihjPXYuZ2V0RWxlbWVudEJ5SWQocykpJiZldCh0LGMpJiZjLmlkPT09cylyZXR1cm4gci5wdXNoKGMpLHJ9ZWxzZXtpZihwWzJdKXJldHVybiBrLmFwcGx5KHIsdC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKSkscjtpZigocz1wWzNdKSYmZi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZ0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIGsuYXBwbHkocix0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUocykpLHJ9aWYoZi5xc2EmJiFsdFtuKyIgIl0mJighb3x8IW8udGVzdChuKSkmJigxIT09YXx8Im9iamVjdCIhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihkPW4sdj10LDE9PT1hJiYoZXIudGVzdChuKXx8eWkudGVzdChuKSkpe2Zvcigodj10aS50ZXN0KG4pJiZyaSh0LnBhcmVudE5vZGUpfHx0KT09PXQmJmYuc2NvcGV8fCgobD10LmdldEF0dHJpYnV0ZSgiaWQiKSk/bD1sLnJlcGxhY2UocGksd2kpOnQuc2V0QXR0cmlidXRlKCJpZCIsbD1lKSkseT0odz1mdChuKSkubGVuZ3RoO3ktLTspd1t5XT0obD8iIyIrbDoiOnNjb3BlIikrIiAiK3B0KHdbeV0pO2Q9dy5qb2luKCIsIil9dHJ5e3JldHVybiBrLmFwcGx5KHIsdi5xdWVyeVNlbGVjdG9yQWxsKGQpKSxyfWNhdGNoKHQpe2x0KG4sITApfWZpbmFsbHl7bD09PWUmJnQucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIHNpKG4ucmVwbGFjZShhdCwiJDEiKSx0LHIsdSl9ZnVuY3Rpb24geXQoKXt2YXIgbj1bXTtyZXR1cm4gZnVuY3Rpb24gaShyLHUpe3JldHVybiBuLnB1c2gocisiICIpPnQuY2FjaGVMZW5ndGgmJmRlbGV0ZSBpW24uc2hpZnQoKV0saVtyKyIgIl09dX19ZnVuY3Rpb24gbChuKXtyZXR1cm4gbltlXT0hMCxufWZ1bmN0aW9uIGEobil7dmFyIHQ9aS5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIW4odCl9Y2F0Y2gobil7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTt0PW51bGx9fWZ1bmN0aW9uIGlpKG4saSl7Zm9yKHZhciByPW4uc3BsaXQoInwiKSx1PXIubGVuZ3RoO3UtLTspdC5hdHRySGFuZGxlW3JbdV1dPWl9ZnVuY3Rpb24ga2kobix0KXt2YXIgaT10JiZuLHI9aSYmMT09PW4ubm9kZVR5cGUmJjE9PT10Lm5vZGVUeXBlJiZuLnNvdXJjZUluZGV4LXQuc291cmNlSW5kZXg7aWYocilyZXR1cm4gcjtpZihpKXdoaWxlKGk9aS5uZXh0U2libGluZylpZihpPT09dClyZXR1cm4tMTtyZXR1cm4gbj8xOi0xfWZ1bmN0aW9uIHlyKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iaW5wdXQiPT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZ0LnR5cGU9PT1ufX1mdW5jdGlvbiBwcihuKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybigiaW5wdXQiPT09aXx8ImJ1dHRvbiI9PT1pKSYmdC50eXBlPT09bn19ZnVuY3Rpb24gZGkobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJmb3JtImluIHQ/dC5wYXJlbnROb2RlJiYhMT09PXQuZGlzYWJsZWQ/ImxhYmVsImluIHQ/ImxhYmVsImluIHQucGFyZW50Tm9kZT90LnBhcmVudE5vZGUuZGlzYWJsZWQ9PT1uOnQuZGlzYWJsZWQ9PT1uOnQuaXNEaXNhYmxlZD09PW58fHQuaXNEaXNhYmxlZCE9PSFuJiZ2cih0KT09PW46dC5kaXNhYmxlZD09PW46ImxhYmVsImluIHQmJnQuZGlzYWJsZWQ9PT1ufX1mdW5jdGlvbiBpdChuKXtyZXR1cm4gbChmdW5jdGlvbih0KXtyZXR1cm4gdD0rdCxsKGZ1bmN0aW9uKGkscil7Zm9yKHZhciB1LGY9bihbXSxpLmxlbmd0aCx0KSxlPWYubGVuZ3RoO2UtLTspaVt1PWZbZV1dJiYoaVt1XT0hKHJbdV09aVt1XSkpfSl9KX1mdW5jdGlvbiByaShuKXtyZXR1cm4gbiYmInVuZGVmaW5lZCIhPXR5cGVvZiBuLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZufWZ1bmN0aW9uIGdpKCl7fWZ1bmN0aW9uIHB0KG4pe2Zvcih2YXIgdD0wLHI9bi5sZW5ndGgsaT0iIjt0PHI7dCsrKWkrPW5bdF0udmFsdWU7cmV0dXJuIGl9ZnVuY3Rpb24gd3Qobix0LGkpe3ZhciByPXQuZGlyLHU9dC5uZXh0LGY9dXx8cixvPWkmJiJwYXJlbnROb2RlIj09PWYscz1ucisrO3JldHVybiB0LmZpcnN0P2Z1bmN0aW9uKHQsaSx1KXt3aGlsZSh0PXRbcl0paWYoMT09PXQubm9kZVR5cGV8fG8pcmV0dXJuIG4odCxpLHUpO3JldHVybiExfTpmdW5jdGlvbih0LGksaCl7dmFyIGMsbCxhLHk9W3Ysc107aWYoaCl7d2hpbGUodD10W3JdKWlmKCgxPT09dC5ub2RlVHlwZXx8bykmJm4odCxpLGgpKXJldHVybiEwfWVsc2Ugd2hpbGUodD10W3JdKWlmKDE9PT10Lm5vZGVUeXBlfHxvKWlmKGw9KGE9dFtlXXx8KHRbZV09e30pKVt0LnVuaXF1ZUlEXXx8KGFbdC51bmlxdWVJRF09e30pLHUmJnU9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpdD10W3JdfHx0O2Vsc2V7aWYoKGM9bFtmXSkmJmNbMF09PT12JiZjWzFdPT09cylyZXR1cm4geVsyXT1jWzJdO2lmKChsW2ZdPXkpWzJdPW4odCxpLGgpKXJldHVybiEwfXJldHVybiExfX1mdW5jdGlvbiB1aShuKXtyZXR1cm4gMTxuLmxlbmd0aD9mdW5jdGlvbih0LGkscil7Zm9yKHZhciB1PW4ubGVuZ3RoO3UtLTspaWYoIW5bdV0odCxpLHIpKXJldHVybiExO3JldHVybiEwfTpuWzBdfWZ1bmN0aW9uIGJ0KG4sdCxpLHIsdSl7Zm9yKHZhciBlLG89W10sZj0wLHM9bi5sZW5ndGgsaD1udWxsIT10O2Y8cztmKyspKGU9bltmXSkmJihpJiYhaShlLHIsdSl8fChvLnB1c2goZSksaCYmdC5wdXNoKGYpKSk7cmV0dXJuIG99ZnVuY3Rpb24gZmkobix0LGkscixmLG8pe3JldHVybiByJiYhcltlXSYmKHI9ZmkocikpLGYmJiFmW2VdJiYoZj1maShmLG8pKSxsKGZ1bmN0aW9uKGUsbyxzLGgpe3ZhciBhLGwsdix3PVtdLHA9W10sYj1vLmxlbmd0aCxkPWV8fGZ1bmN0aW9uKG4sdCxpKXtmb3IodmFyIHI9MCxmPXQubGVuZ3RoO3I8ZjtyKyspdShuLHRbcl0saSk7cmV0dXJuIGl9KHR8fCIqIixzLm5vZGVUeXBlP1tzXTpzLFtdKSx5PSFufHwhZSYmdD9kOmJ0KGQsdyxuLHMsaCksYz1pP2Z8fChlP246Ynx8cik/W106bzp5O2lmKGkmJmkoeSxjLHMsaCkscilmb3IoYT1idChjLHApLHIoYSxbXSxzLGgpLGw9YS5sZW5ndGg7bC0tOykodj1hW2xdKSYmKGNbcFtsXV09ISh5W3BbbF1dPXYpKTtpZihlKXtpZihmfHxuKXtpZihmKXtmb3IoYT1bXSxsPWMubGVuZ3RoO2wtLTspKHY9Y1tsXSkmJmEucHVzaCh5W2xdPXYpO2YobnVsbCxjPVtdLGEsaCl9Zm9yKGw9Yy5sZW5ndGg7bC0tOykodj1jW2xdKSYmLTE8KGE9Zj9udChlLHYpOndbbF0pJiYoZVthXT0hKG9bYV09dikpfX1lbHNlIGM9YnQoYz09PW8/Yy5zcGxpY2UoYixjLmxlbmd0aCk6YyksZj9mKG51bGwsbyxjLGgpOmsuYXBwbHkobyxjKX0pfWZ1bmN0aW9uIGVpKG4pe2Zvcih2YXIgbyx1LHIscz1uLmxlbmd0aCxoPXQucmVsYXRpdmVbblswXS50eXBlXSxjPWh8fHQucmVsYXRpdmVbIiAiXSxpPWg/MTowLGw9d3QoZnVuY3Rpb24obil7cmV0dXJuIG49PT1vfSxjLCEwKSxhPXd0KGZ1bmN0aW9uKG4pe3JldHVybi0xPG50KG8sbil9LGMsITApLGY9W2Z1bmN0aW9uKG4sdCxpKXt2YXIgcj0haCYmKGl8fHQhPT1odCl8fCgobz10KS5ub2RlVHlwZT9sKG4sdCxpKTphKG4sdCxpKSk7cmV0dXJuIG89bnVsbCxyfV07aTxzO2krKylpZih1PXQucmVsYXRpdmVbbltpXS50eXBlXSlmPVt3dCh1aShmKSx1KV07ZWxzZXtpZigodT10LmZpbHRlcltuW2ldLnR5cGVdLmFwcGx5KG51bGwsbltpXS5tYXRjaGVzKSlbZV0pe2ZvcihyPSsraTtyPHM7cisrKWlmKHQucmVsYXRpdmVbbltyXS50eXBlXSlicmVhaztyZXR1cm4gZmkoMTxpJiZ1aShmKSwxPGkmJnB0KG4uc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09bltpLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoYXQsIiQxIiksdSxpPHImJmVpKG4uc2xpY2UoaSxyKSkscjxzJiZlaShuPW4uc2xpY2UocikpLHI8cyYmcHQobikpfWYucHVzaCh1KX1yZXR1cm4gdWkoZil9dmFyIHJ0LGYsdCxzdCxvaSxmdCxrdCxzaSxodCx3LHV0LGIsaSxzLGgsbyxkLGN0LGV0LGU9InNpenpsZSIrMSpuZXcgRGF0ZSxjPW4uZG9jdW1lbnQsdj0wLG5yPTAsaGk9eXQoKSxjaT15dCgpLGxpPXl0KCksbHQ9eXQoKSxkdD1mdW5jdGlvbihuLHQpe3JldHVybiBuPT09dCYmKHV0PSEwKSwwfSx0cj17fS5oYXNPd25Qcm9wZXJ0eSxnPVtdLGlyPWcucG9wLHJyPWcucHVzaCxrPWcucHVzaCxhaT1nLnNsaWNlLG50PWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPTAscj1uLmxlbmd0aDtpPHI7aSsrKWlmKG5baV09PT10KXJldHVybiBpO3JldHVybi0xfSxndD0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLHI9IltcXHgyMFxcdFxcclxcblxcZl0iLHR0PSIoPzpcXFxcW1xcZGEtZkEtRl17MSw2fSIrcisiP3xcXFxcW15cXHJcXG5cXGZdfFtcXHctXXxbXlwwLVxceDdmXSkrIix2aT0iXFxbIityKyIqKCIrdHQrIikoPzoiK3IrIiooWypeJHwhfl0/PSkiK3IrIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIit0dCsiKSl8KSIrcisiKlxcXSIsbmk9IjooIit0dCsiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrdmkrIikqKXwuKilcXCl8KSIsdXI9bmV3IFJlZ0V4cChyKyIrIiwiZyIpLGF0PW5ldyBSZWdFeHAoIl4iK3IrIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrcisiKyQiLCJnIiksZnI9bmV3IFJlZ0V4cCgiXiIrcisiKiwiK3IrIioiKSx5aT1uZXcgUmVnRXhwKCJeIityKyIqKFs+K35dfCIrcisiKSIrcisiKiIpLGVyPW5ldyBSZWdFeHAocisifD4iKSxvcj1uZXcgUmVnRXhwKG5pKSxzcj1uZXcgUmVnRXhwKCJeIit0dCsiJCIpLHZ0PXtJRDpuZXcgUmVnRXhwKCJeIygiK3R0KyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK3R0KyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIit0dCsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK3ZpKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrbmkpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrcisiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrcisiKig/OihbKy1dfCkiK3IrIiooXFxkKyl8KSkiK3IrIipcXCl8KSIsImkiKSxib29sOm5ldyBSZWdFeHAoIl4oPzoiK2d0KyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrcisiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIityKyIqKCg/Oi1cXGQpP1xcZCopIityKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxocj0vSFRNTCQvaSxjcj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGxyPS9eaFxkJC9pLG90PS9eW157XStce1xzKlxbbmF0aXZlIFx3Lyxhcj0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLHRpPS9bK35dLyx5PW5ldyBSZWdFeHAoIlxcXFxbXFxkYS1mQS1GXXsxLDZ9IityKyI/fFxcXFwoW15cXHJcXG5cXGZdKSIsImciKSxwPWZ1bmN0aW9uKG4sdCl7dmFyIGk9IjB4IituLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwoaTwwP1N0cmluZy5mcm9tQ2hhckNvZGUoaSs2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShpPj4xMHw1NTI5NiwxMDIzJml8NTYzMjApKX0scGk9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csd2k9ZnVuY3Rpb24obix0KXtyZXR1cm4gdD8iXDAiPT09bj8i77+9IjpuLnNsaWNlKDAsLTEpKyJcXCIrbi5jaGFyQ29kZUF0KG4ubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitufSxiaT1mdW5jdGlvbigpe2IoKX0sdnI9d3QoZnVuY3Rpb24obil7cmV0dXJuITA9PT1uLmRpc2FibGVkJiYiZmllbGRzZXQiPT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e2suYXBwbHkoZz1haS5jYWxsKGMuY2hpbGROb2RlcyksYy5jaGlsZE5vZGVzKTtnW2MuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKHJ0KXtrPXthcHBseTpnLmxlbmd0aD9mdW5jdGlvbihuLHQpe3JyLmFwcGx5KG4sYWkuY2FsbCh0KSl9OmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPW4ubGVuZ3RoLHI9MDtuW2krK109dFtyKytdOyk7bi5sZW5ndGg9aS0xfX19Zm9yKHJ0IGluIGY9dS5zdXBwb3J0PXt9LG9pPXUuaXNYTUw9ZnVuY3Rpb24obil7dmFyIGk9bi5uYW1lc3BhY2VVUkksdD0obi5vd25lckRvY3VtZW50fHxuKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIWhyLnRlc3QoaXx8dCYmdC5ub2RlTmFtZXx8IkhUTUwiKX0sYj11LnNldERvY3VtZW50PWZ1bmN0aW9uKG4pe3ZhciB2LHUsbD1uP24ub3duZXJEb2N1bWVudHx8bjpjO3JldHVybiBsIT1pJiY5PT09bC5ub2RlVHlwZSYmbC5kb2N1bWVudEVsZW1lbnQmJihzPShpPWwpLmRvY3VtZW50RWxlbWVudCxoPSFvaShpKSxjIT1pJiYodT1pLmRlZmF1bHRWaWV3KSYmdS50b3AhPT11JiYodS5hZGRFdmVudExpc3RlbmVyP3UuYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIixiaSwhMSk6dS5hdHRhY2hFdmVudCYmdS5hdHRhY2hFdmVudCgib251bmxvYWQiLGJpKSksZi5zY29wZT1hKGZ1bmN0aW9uKG4pe3JldHVybiBzLmFwcGVuZENoaWxkKG4pLmFwcGVuZENoaWxkKGkuY3JlYXRlRWxlbWVudCgiZGl2IikpLCJ1bmRlZmluZWQiIT10eXBlb2Ygbi5xdWVyeVNlbGVjdG9yQWxsJiYhbi5xdWVyeVNlbGVjdG9yQWxsKCI6c2NvcGUgZmllbGRzZXQgZGl2IikubGVuZ3RofSksZi5hdHRyaWJ1dGVzPWEoZnVuY3Rpb24obil7cmV0dXJuIG4uY2xhc3NOYW1lPSJpIiwhbi5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZi5nZXRFbGVtZW50c0J5VGFnTmFtZT1hKGZ1bmN0aW9uKG4pe3JldHVybiBuLmFwcGVuZENoaWxkKGkuY3JlYXRlQ29tbWVudCgiIikpLCFuLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksZi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPW90LnRlc3QoaS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxmLmdldEJ5SWQ9YShmdW5jdGlvbihuKXtyZXR1cm4gcy5hcHBlbmRDaGlsZChuKS5pZD1lLCFpLmdldEVsZW1lbnRzQnlOYW1lfHwhaS5nZXRFbGVtZW50c0J5TmFtZShlKS5sZW5ndGh9KSxmLmdldEJ5SWQ/KHQuZmlsdGVyLklEPWZ1bmN0aW9uKG4pe3ZhciB0PW4ucmVwbGFjZSh5LHApO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sdC5maW5kLklEPWZ1bmN0aW9uKG4sdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZoKXt2YXIgaT10LmdldEVsZW1lbnRCeUlkKG4pO3JldHVybiBpP1tpXTpbXX19KToodC5maWx0ZXIuSUQ9ZnVuY3Rpb24obil7dmFyIHQ9bi5yZXBsYWNlKHkscCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpPSJ1bmRlZmluZWQiIT10eXBlb2Ygbi5nZXRBdHRyaWJ1dGVOb2RlJiZuLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIGkmJmkudmFsdWU9PT10fX0sdC5maW5kLklEPWZ1bmN0aW9uKG4sdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZoKXt2YXIgcix1LGYsaT10LmdldEVsZW1lbnRCeUlkKG4pO2lmKGkpe2lmKChyPWkuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKSkmJnIudmFsdWU9PT1uKXJldHVybltpXTtmb3IoZj10LmdldEVsZW1lbnRzQnlOYW1lKG4pLHU9MDtpPWZbdSsrXTspaWYoKHI9aS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmci52YWx1ZT09PW4pcmV0dXJuW2ldfXJldHVybltdfX0pLHQuZmluZC5UQUc9Zi5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihuLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pOmYucXNhP3QucXVlcnlTZWxlY3RvckFsbChuKTp2b2lkIDB9OmZ1bmN0aW9uKG4sdCl7dmFyIGkscj1bXSxmPTAsdT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pO2lmKCIqIj09PW4pe3doaWxlKGk9dVtmKytdKTE9PT1pLm5vZGVUeXBlJiZyLnB1c2goaSk7cmV0dXJuIHJ9cmV0dXJuIHV9LHQuZmluZC5DTEFTUz1mLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKG4sdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmgpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShuKX0sZD1bXSxvPVtdLChmLnFzYT1vdC50ZXN0KGkucXVlcnlTZWxlY3RvckFsbCkpJiYoYShmdW5jdGlvbihuKXt2YXIgdDtzLmFwcGVuZENoaWxkKG4pLmlubmVySFRNTD0iPGEgaWQ9JyIrZSsiJz48XC9hPjxzZWxlY3QgaWQ9JyIrZSsiLVxyXFwnIG1zYWxsb3djYXB0dXJlPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PFwvb3B0aW9uPjxcL3NlbGVjdD4iO24ucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJm8ucHVzaCgiWypeJF09IityKyIqKD86Jyd8XCJcIikiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fG8ucHVzaCgiXFxbIityKyIqKD86dmFsdWV8IitndCsiKSIpO24ucXVlcnlTZWxlY3RvckFsbCgiW2lkfj0iK2UrIi1dIikubGVuZ3RofHxvLnB1c2goIn49Iik7KHQ9aS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCIiKTtuLmFwcGVuZENoaWxkKHQpO24ucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9JyddIikubGVuZ3RofHxvLnB1c2goIlxcWyIrcisiKm5hbWUiK3IrIio9IityKyIqKD86Jyd8XCJcIikiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHxvLnB1c2goIjpjaGVja2VkIik7bi5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrZSsiKyoiKS5sZW5ndGh8fG8ucHVzaCgiLiMuK1srfl0iKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIlxcXGYiKTtvLnB1c2goIltcXHJcXG5cXGZdIil9KSxhKGZ1bmN0aW9uKG4pe24uaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PFwvYT48c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PFwvc2VsZWN0PiI7dmFyIHQ9aS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Quc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIik7bi5hcHBlbmRDaGlsZCh0KS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJEIik7bi5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCYmby5wdXNoKCJuYW1lIityKyIqWypeJHwhfl0/PSIpOzIhPT1uLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RoJiZvLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIik7cy5hcHBlbmRDaGlsZChuKS5kaXNhYmxlZD0hMDsyIT09bi5xdWVyeVNlbGVjdG9yQWxsKCI6ZGlzYWJsZWQiKS5sZW5ndGgmJm8ucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKTtvLnB1c2goIiwuKjoiKX0pKSwoZi5tYXRjaGVzU2VsZWN0b3I9b3QudGVzdChjdD1zLm1hdGNoZXN8fHMud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxzLm1vek1hdGNoZXNTZWxlY3Rvcnx8cy5vTWF0Y2hlc1NlbGVjdG9yfHxzLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmEoZnVuY3Rpb24obil7Zi5kaXNjb25uZWN0ZWRNYXRjaD1jdC5jYWxsKG4sIioiKTtjdC5jYWxsKG4sIltzIT0nJ106eCIpO2QucHVzaCgiIT0iLG5pKX0pLG89by5sZW5ndGgmJm5ldyBSZWdFeHAoby5qb2luKCJ8IikpLGQ9ZC5sZW5ndGgmJm5ldyBSZWdFeHAoZC5qb2luKCJ8IikpLHY9b3QudGVzdChzLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSxldD12fHxvdC50ZXN0KHMuY29udGFpbnMpP2Z1bmN0aW9uKG4sdCl7dmFyIHI9OT09PW4ubm9kZVR5cGU/bi5kb2N1bWVudEVsZW1lbnQ6bixpPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gbj09PWl8fCEoIWl8fDEhPT1pLm5vZGVUeXBlfHwhKHIuY29udGFpbnM/ci5jb250YWlucyhpKTpuLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZuLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGkpKSl9OmZ1bmN0aW9uKG4sdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09bilyZXR1cm4hMDtyZXR1cm4hMX0sZHQ9dj9mdW5jdGlvbihuLHQpe2lmKG49PT10KXJldHVybiB1dD0hMCwwO3ZhciByPSFuLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSF0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiByfHwoMSYocj0obi5vd25lckRvY3VtZW50fHxuKT09KHQub3duZXJEb2N1bWVudHx8dCk/bi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0KToxKXx8IWYuc29ydERldGFjaGVkJiZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4pPT09cj9uPT1pfHxuLm93bmVyRG9jdW1lbnQ9PWMmJmV0KGMsbik/LTE6dD09aXx8dC5vd25lckRvY3VtZW50PT1jJiZldChjLHQpPzE6dz9udCh3LG4pLW50KHcsdCk6MDo0JnI/LTE6MSl9OmZ1bmN0aW9uKG4sdCl7aWYobj09PXQpcmV0dXJuIHV0PSEwLDA7dmFyIHIsdT0wLG89bi5wYXJlbnROb2RlLHM9dC5wYXJlbnROb2RlLGY9W25dLGU9W3RdO2lmKCFvfHwhcylyZXR1cm4gbj09aT8tMTp0PT1pPzE6bz8tMTpzPzE6dz9udCh3LG4pLW50KHcsdCk6MDtpZihvPT09cylyZXR1cm4ga2kobix0KTtmb3Iocj1uO3I9ci5wYXJlbnROb2RlOylmLnVuc2hpZnQocik7Zm9yKHI9dDtyPXIucGFyZW50Tm9kZTspZS51bnNoaWZ0KHIpO3doaWxlKGZbdV09PT1lW3VdKXUrKztyZXR1cm4gdT9raShmW3VdLGVbdV0pOmZbdV09PWM/LTE6ZVt1XT09Yz8xOjB9KSxpfSx1Lm1hdGNoZXM9ZnVuY3Rpb24obix0KXtyZXR1cm4gdShuLG51bGwsbnVsbCx0KX0sdS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24obix0KXtpZihiKG4pLGYubWF0Y2hlc1NlbGVjdG9yJiZoJiYhbHRbdCsiICJdJiYoIWR8fCFkLnRlc3QodCkpJiYoIW98fCFvLnRlc3QodCkpKXRyeXt2YXIgcj1jdC5jYWxsKG4sdCk7aWYocnx8Zi5kaXNjb25uZWN0ZWRNYXRjaHx8bi5kb2N1bWVudCYmMTEhPT1uLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiByfWNhdGNoKG4pe2x0KHQsITApfXJldHVybiAwPHUodCxpLG51bGwsW25dKS5sZW5ndGh9LHUuY29udGFpbnM9ZnVuY3Rpb24obix0KXtyZXR1cm4obi5vd25lckRvY3VtZW50fHxuKSE9aSYmYihuKSxldChuLHQpfSx1LmF0dHI9ZnVuY3Rpb24obixyKXsobi5vd25lckRvY3VtZW50fHxuKSE9aSYmYihuKTt2YXIgZT10LmF0dHJIYW5kbGVbci50b0xvd2VyQ2FzZSgpXSx1PWUmJnRyLmNhbGwodC5hdHRySGFuZGxlLHIudG9Mb3dlckNhc2UoKSk/ZShuLHIsIWgpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09dT91OmYuYXR0cmlidXRlc3x8IWg/bi5nZXRBdHRyaWJ1dGUocik6KHU9bi5nZXRBdHRyaWJ1dGVOb2RlKHIpKSYmdS5zcGVjaWZpZWQ/dS52YWx1ZTpudWxsfSx1LmVzY2FwZT1mdW5jdGlvbihuKXtyZXR1cm4obisiIikucmVwbGFjZShwaSx3aSl9LHUuZXJyb3I9ZnVuY3Rpb24obil7dGhyb3cgbmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK24pO30sdS51bmlxdWVTb3J0PWZ1bmN0aW9uKG4pe3ZhciByLHU9W10sdD0wLGk9MDtpZih1dD0hZi5kZXRlY3REdXBsaWNhdGVzLHc9IWYuc29ydFN0YWJsZSYmbi5zbGljZSgwKSxuLnNvcnQoZHQpLHV0KXt3aGlsZShyPW5baSsrXSlyPT09bltpXSYmKHQ9dS5wdXNoKGkpKTt3aGlsZSh0LS0pbi5zcGxpY2UodVt0XSwxKX1yZXR1cm4gdz1udWxsLG59LHN0PXUuZ2V0VGV4dD1mdW5jdGlvbihuKXt2YXIgcixpPSIiLHU9MCx0PW4ubm9kZVR5cGU7aWYodCl7aWYoMT09PXR8fDk9PT10fHwxMT09PXQpe2lmKCJzdHJpbmciPT10eXBlb2Ygbi50ZXh0Q29udGVudClyZXR1cm4gbi50ZXh0Q29udGVudDtmb3Iobj1uLmZpcnN0Q2hpbGQ7bjtuPW4ubmV4dFNpYmxpbmcpaSs9c3Qobil9ZWxzZSBpZigzPT09dHx8ND09PXQpcmV0dXJuIG4ubm9kZVZhbHVlfWVsc2Ugd2hpbGUocj1uW3UrK10paSs9c3Qocik7cmV0dXJuIGl9LCh0PXUuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86bCxtYXRjaDp2dCxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24obil7cmV0dXJuIG5bMV09blsxXS5yZXBsYWNlKHkscCksblszXT0oblszXXx8bls0XXx8bls1XXx8IiIpLnJlcGxhY2UoeSxwKSwifj0iPT09blsyXSYmKG5bM109IiAiK25bM10rIiAiKSxuLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKG4pe3JldHVybiBuWzFdPW5bMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PW5bMV0uc2xpY2UoMCwzKT8oblszXXx8dS5lcnJvcihuWzBdKSxuWzRdPSsobls0XT9uWzVdKyhuWzZdfHwxKToyKigiZXZlbiI9PT1uWzNdfHwib2RkIj09PW5bM10pKSxuWzVdPSsobls3XStuWzhdfHwib2RkIj09PW5bM10pKTpuWzNdJiZ1LmVycm9yKG5bMF0pLG59LFBTRVVETzpmdW5jdGlvbihuKXt2YXIgaSx0PSFuWzZdJiZuWzJdO3JldHVybiB2dC5DSElMRC50ZXN0KG5bMF0pP251bGw6KG5bM10/blsyXT1uWzRdfHxuWzVdfHwiIjp0JiZvci50ZXN0KHQpJiYoaT1mdCh0LCEwKSkmJihpPXQuaW5kZXhPZigiKSIsdC5sZW5ndGgtaSktdC5sZW5ndGgpJiYoblswXT1uWzBdLnNsaWNlKDAsaSksblsyXT10LnNsaWNlKDAsaSkpLG4uc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihuKXt2YXIgdD1uLnJlcGxhY2UoeSxwKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PW4/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24obil7cmV0dXJuIG4ubm9kZU5hbWUmJm4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihuKXt2YXIgdD1oaVtuKyIgIl07cmV0dXJuIHR8fCh0PW5ldyBSZWdFeHAoIihefCIrcisiKSIrbisiKCIrcisifCQpIikpJiZoaShuLGZ1bmN0aW9uKG4pe3JldHVybiB0LnRlc3QoInN0cmluZyI9PXR5cGVvZiBuLmNsYXNzTmFtZSYmbi5jbGFzc05hbWV8fCJ1bmRlZmluZWQiIT10eXBlb2Ygbi5nZXRBdHRyaWJ1dGUmJm4uZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBmPXUuYXR0cihyLG4pO3JldHVybiBudWxsPT1mPyIhPSI9PT10OiF0fHwoZis9IiIsIj0iPT09dD9mPT09aToiIT0iPT09dD9mIT09aToiXj0iPT09dD9pJiYwPT09Zi5pbmRleE9mKGkpOiIqPSI9PT10P2kmJi0xPGYuaW5kZXhPZihpKToiJD0iPT09dD9pJiZmLnNsaWNlKC1pLmxlbmd0aCk9PT1pOiJ+PSI9PT10Py0xPCgiICIrZi5yZXBsYWNlKHVyLCIgIikrIiAiKS5pbmRleE9mKGkpOiJ8PSI9PT10JiYoZj09PWl8fGYuc2xpY2UoMCxpLmxlbmd0aCsxKT09PWkrIi0iKSl9fSxDSElMRDpmdW5jdGlvbihuLHQsaSxyLHUpe3ZhciBzPSJudGgiIT09bi5zbGljZSgwLDMpLG89Imxhc3QiIT09bi5zbGljZSgtNCksZj0ib2YtdHlwZSI9PT10O3JldHVybiAxPT09ciYmMD09PXU/ZnVuY3Rpb24obil7cmV0dXJuISFuLnBhcmVudE5vZGV9OmZ1bmN0aW9uKHQsaSxoKXt2YXIgcCxkLHksYyxhLHcsYj1zIT09bz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLGs9dC5wYXJlbnROb2RlLG50PWYmJnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxnPSFoJiYhZixsPSExO2lmKGspe2lmKHMpe3doaWxlKGIpe2ZvcihjPXQ7Yz1jW2JdOylpZihmP2Mubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PW50OjE9PT1jLm5vZGVUeXBlKXJldHVybiExO3c9Yj0ib25seSI9PT1uJiYhdyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih3PVtvP2suZmlyc3RDaGlsZDprLmxhc3RDaGlsZF0sbyYmZyl7Zm9yKGw9KGE9KHA9KGQ9KHk9KGM9aylbZV18fChjW2VdPXt9KSlbYy51bmlxdWVJRF18fCh5W2MudW5pcXVlSURdPXt9KSlbbl18fFtdKVswXT09PXYmJnBbMV0pJiZwWzJdLGM9YSYmay5jaGlsZE5vZGVzW2FdO2M9KythJiZjJiZjW2JdfHwobD1hPTApfHx3LnBvcCgpOylpZigxPT09Yy5ub2RlVHlwZSYmKytsJiZjPT09dCl7ZFtuXT1bdixhLGxdO2JyZWFrfX1lbHNlIGlmKGcmJihsPWE9KHA9KGQ9KHk9KGM9dClbZV18fChjW2VdPXt9KSlbYy51bmlxdWVJRF18fCh5W2MudW5pcXVlSURdPXt9KSlbbl18fFtdKVswXT09PXYmJnBbMV0pLCExPT09bCl3aGlsZShjPSsrYSYmYyYmY1tiXXx8KGw9YT0wKXx8dy5wb3AoKSlpZigoZj9jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1udDoxPT09Yy5ub2RlVHlwZSkmJisrbCYmKGcmJigoZD0oeT1jW2VdfHwoY1tlXT17fSkpW2MudW5pcXVlSURdfHwoeVtjLnVuaXF1ZUlEXT17fSkpW25dPVt2LGxdKSxjPT09dCkpYnJlYWs7cmV0dXJuKGwtPXUpPT09cnx8bCVyPT0wJiYwPD1sL3J9fX0sUFNFVURPOmZ1bmN0aW9uKG4saSl7dmFyIGYscj10LnBzZXVkb3Nbbl18fHQuc2V0RmlsdGVyc1tuLnRvTG93ZXJDYXNlKCldfHx1LmVycm9yKCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIrbik7cmV0dXJuIHJbZV0/cihpKToxPHIubGVuZ3RoPyhmPVtuLG4sIiIsaV0sdC5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KG4udG9Mb3dlckNhc2UoKSk/bChmdW5jdGlvbihuLHQpe2Zvcih2YXIgZSx1PXIobixpKSxmPXUubGVuZ3RoO2YtLTspbltlPW50KG4sdVtmXSldPSEodFtlXT11W2ZdKX0pOmZ1bmN0aW9uKG4pe3JldHVybiByKG4sMCxmKX0pOnJ9fSxwc2V1ZG9zOntub3Q6bChmdW5jdGlvbihuKXt2YXIgdD1bXSxyPVtdLGk9a3Qobi5yZXBsYWNlKGF0LCIkMSIpKTtyZXR1cm4gaVtlXT9sKGZ1bmN0aW9uKG4sdCxyLHUpe2Zvcih2YXIgZSxvPWkobixudWxsLHUsW10pLGY9bi5sZW5ndGg7Zi0tOykoZT1vW2ZdKSYmKG5bZl09ISh0W2ZdPWUpKX0pOmZ1bmN0aW9uKG4sdSxmKXtyZXR1cm4gdFswXT1uLGkodCxudWxsLGYsciksdFswXT1udWxsLCFyLnBvcCgpfX0pLGhhczpsKGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gMDx1KG4sdCkubGVuZ3RofX0pLGNvbnRhaW5zOmwoZnVuY3Rpb24obil7cmV0dXJuIG49bi5yZXBsYWNlKHkscCksZnVuY3Rpb24odCl7cmV0dXJuLTE8KHQudGV4dENvbnRlbnR8fHN0KHQpKS5pbmRleE9mKG4pfX0pLGxhbmc6bChmdW5jdGlvbihuKXtyZXR1cm4gc3IudGVzdChufHwiIil8fHUuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrbiksbj1uLnJlcGxhY2UoeSxwKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKHQpe3ZhciBpO2RvIGlmKGk9aD90Lmxhbmc6dC5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIil8fHQuZ2V0QXR0cmlidXRlKCJsYW5nIikpcmV0dXJuKGk9aS50b0xvd2VyQ2FzZSgpKT09PW58fDA9PT1pLmluZGV4T2YobisiLSIpO3doaWxlKCh0PXQucGFyZW50Tm9kZSkmJjE9PT10Lm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24odCl7dmFyIGk9bi5sb2NhdGlvbiYmbi5sb2NhdGlvbi5oYXNoO3JldHVybiBpJiZpLnNsaWNlKDEpPT09dC5pZH0scm9vdDpmdW5jdGlvbihuKXtyZXR1cm4gbj09PXN9LGZvY3VzOmZ1bmN0aW9uKG4pe3JldHVybiBuPT09aS5hY3RpdmVFbGVtZW50JiYoIWkuaGFzRm9jdXN8fGkuaGFzRm9jdXMoKSkmJiEhKG4udHlwZXx8bi5ocmVmfHx+bi50YWJJbmRleCl9LGVuYWJsZWQ6ZGkoITEpLGRpc2FibGVkOmRpKCEwKSxjaGVja2VkOmZ1bmN0aW9uKG4pe3ZhciB0PW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmISFuLmNoZWNrZWR8fCJvcHRpb24iPT09dCYmISFuLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihuKXtyZXR1cm4gbi5wYXJlbnROb2RlJiZuLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCwhMD09PW4uc2VsZWN0ZWR9LGVtcHR5OmZ1bmN0aW9uKG4pe2ZvcihuPW4uZmlyc3RDaGlsZDtuO249bi5uZXh0U2libGluZylpZihuLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihuKXtyZXR1cm4hdC5wc2V1ZG9zLmVtcHR5KG4pfSxoZWFkZXI6ZnVuY3Rpb24obil7cmV0dXJuIGxyLnRlc3Qobi5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKG4pe3JldHVybiBjci50ZXN0KG4ubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24obil7dmFyIHQ9bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT10JiYiYnV0dG9uIj09PW4udHlwZXx8ImJ1dHRvbiI9PT10fSx0ZXh0OmZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybiJpbnB1dCI9PT1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiJ0ZXh0Ij09PW4udHlwZSYmKG51bGw9PSh0PW4uZ2V0QXR0cmlidXRlKCJ0eXBlIikpfHwidGV4dCI9PT10LnRvTG93ZXJDYXNlKCkpfSxmaXJzdDppdChmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6aXQoZnVuY3Rpb24obix0KXtyZXR1cm5bdC0xXX0pLGVxOml0KGZ1bmN0aW9uKG4sdCxpKXtyZXR1cm5baTwwP2krdDppXX0pLGV2ZW46aXQoZnVuY3Rpb24obix0KXtmb3IodmFyIGk9MDtpPHQ7aSs9MiluLnB1c2goaSk7cmV0dXJuIG59KSxvZGQ6aXQoZnVuY3Rpb24obix0KXtmb3IodmFyIGk9MTtpPHQ7aSs9MiluLnB1c2goaSk7cmV0dXJuIG59KSxsdDppdChmdW5jdGlvbihuLHQsaSl7Zm9yKHZhciByPWk8MD9pK3Q6dDxpP3Q6aTswPD0tLXI7KW4ucHVzaChyKTtyZXR1cm4gbn0pLGd0Oml0KGZ1bmN0aW9uKG4sdCxpKXtmb3IodmFyIHI9aTwwP2krdDppOysrcjx0OyluLnB1c2gocik7cmV0dXJuIG59KX19KS5wc2V1ZG9zLm50aD10LnBzZXVkb3MuZXEse3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KXQucHNldWRvc1tydF09eXIocnQpO2ZvcihydCBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KXQucHNldWRvc1tydF09cHIocnQpO3JldHVybiBnaS5wcm90b3R5cGU9dC5maWx0ZXJzPXQucHNldWRvcyx0LnNldEZpbHRlcnM9bmV3IGdpLGZ0PXUudG9rZW5pemU9ZnVuY3Rpb24obixpKXt2YXIgZSxmLHMsbyxyLGgsYyxsPWNpW24rIiAiXTtpZihsKXJldHVybiBpPzA6bC5zbGljZSgwKTtmb3Iocj1uLGg9W10sYz10LnByZUZpbHRlcjtyOyl7Zm9yKG8gaW4gZSYmIShmPWZyLmV4ZWMocikpfHwoZiYmKHI9ci5zbGljZShmWzBdLmxlbmd0aCl8fHIpLGgucHVzaChzPVtdKSksZT0hMSwoZj15aS5leGVjKHIpKSYmKGU9Zi5zaGlmdCgpLHMucHVzaCh7dmFsdWU6ZSx0eXBlOmZbMF0ucmVwbGFjZShhdCwiICIpfSkscj1yLnNsaWNlKGUubGVuZ3RoKSksdC5maWx0ZXIpKGY9dnRbb10uZXhlYyhyKSkmJighY1tvXXx8KGY9Y1tvXShmKSkpJiYoZT1mLnNoaWZ0KCkscy5wdXNoKHt2YWx1ZTplLHR5cGU6byxtYXRjaGVzOmZ9KSxyPXIuc2xpY2UoZS5sZW5ndGgpKTtpZighZSlicmVha31yZXR1cm4gaT9yLmxlbmd0aDpyP3UuZXJyb3Iobik6Y2kobixoKS5zbGljZSgwKX0sa3Q9dS5jb21waWxlPWZ1bmN0aW9uKG4scil7dmFyIHMsYyxhLG8seSxwLHc9W10sZD1bXSxmPWxpW24rIiAiXTtpZighZil7Zm9yKHJ8fChyPWZ0KG4pKSxzPXIubGVuZ3RoO3MtLTspKGY9ZWkocltzXSkpW2VdP3cucHVzaChmKTpkLnB1c2goZik7KGY9bGkobiwoYz1kLG89MDwoYT13KS5sZW5ndGgseT0wPGMubGVuZ3RoLHA9ZnVuY3Rpb24obixyLGYsZSxzKXt2YXIgbCxudCxkLGc9MCxwPSIwIix0dD1uJiZbXSx3PVtdLGl0PWh0LHJ0PW58fHkmJnQuZmluZC5UQUcoIioiLHMpLHV0PXYrPW51bGw9PWl0PzE6TWF0aC5yYW5kb20oKXx8LjEsZnQ9cnQubGVuZ3RoO2ZvcihzJiYoaHQ9cj09aXx8cnx8cyk7cCE9PWZ0JiZudWxsIT0obD1ydFtwXSk7cCsrKXtpZih5JiZsKXtmb3IobnQ9MCxyfHxsLm93bmVyRG9jdW1lbnQ9PWl8fChiKGwpLGY9IWgpO2Q9Y1tudCsrXTspaWYoZChsLHJ8fGksZikpe2UucHVzaChsKTticmVha31zJiYodj11dCl9byYmKChsPSFkJiZsKSYmZy0tLG4mJnR0LnB1c2gobCkpfWlmKGcrPXAsbyYmcCE9PWcpe2ZvcihudD0wO2Q9YVtudCsrXTspZCh0dCx3LHIsZik7aWYobil7aWYoMDxnKXdoaWxlKHAtLSl0dFtwXXx8d1twXXx8KHdbcF09aXIuY2FsbChlKSk7dz1idCh3KX1rLmFwcGx5KGUsdyk7cyYmIW4mJjA8dy5sZW5ndGgmJjE8ZythLmxlbmd0aCYmdS51bmlxdWVTb3J0KGUpfXJldHVybiBzJiYodj11dCxodD1pdCksdHR9LG8/bChwKTpwKSkpLnNlbGVjdG9yPW59cmV0dXJuIGZ9LHNpPXUuc2VsZWN0PWZ1bmN0aW9uKG4saSxyLHUpe3ZhciBvLGYsZSxsLGEsYz0iZnVuY3Rpb24iPT10eXBlb2YgbiYmbixzPSF1JiZmdChuPWMuc2VsZWN0b3J8fG4pO2lmKHI9cnx8W10sMT09PXMubGVuZ3RoKXtpZigyPChmPXNbMF09c1swXS5zbGljZSgwKSkubGVuZ3RoJiYiSUQiPT09KGU9ZlswXSkudHlwZSYmOT09PWkubm9kZVR5cGUmJmgmJnQucmVsYXRpdmVbZlsxXS50eXBlXSl7aWYoIShpPSh0LmZpbmQuSUQoZS5tYXRjaGVzWzBdLnJlcGxhY2UoeSxwKSxpKXx8W10pWzBdKSlyZXR1cm4gcjtjJiYoaT1pLnBhcmVudE5vZGUpO249bi5zbGljZShmLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1mb3Iobz12dC5uZWVkc0NvbnRleHQudGVzdChuKT8wOmYubGVuZ3RoO28tLTspe2lmKGU9ZltvXSx0LnJlbGF0aXZlW2w9ZS50eXBlXSlicmVhaztpZigoYT10LmZpbmRbbF0pJiYodT1hKGUubWF0Y2hlc1swXS5yZXBsYWNlKHkscCksdGkudGVzdChmWzBdLnR5cGUpJiZyaShpLnBhcmVudE5vZGUpfHxpKSkpe2lmKGYuc3BsaWNlKG8sMSksIShuPXUubGVuZ3RoJiZwdChmKSkpcmV0dXJuIGsuYXBwbHkocix1KSxyO2JyZWFrfX19cmV0dXJuKGN8fGt0KG4scykpKHUsaSwhaCxyLCFpfHx0aS50ZXN0KG4pJiZyaShpLnBhcmVudE5vZGUpfHxpKSxyfSxmLnNvcnRTdGFibGU9ZS5zcGxpdCgiIikuc29ydChkdCkuam9pbigiIik9PT1lLGYuZGV0ZWN0RHVwbGljYXRlcz0hIXV0LGIoKSxmLnNvcnREZXRhY2hlZD1hKGZ1bmN0aW9uKG4pe3JldHVybiAxJm4uY29tcGFyZURvY3VtZW50UG9zaXRpb24oaS5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpKX0pLGEoZnVuY3Rpb24obil7cmV0dXJuIG4uaW5uZXJIVE1MPSI8YSBocmVmPScjJz48XC9hPiIsIiMiPT09bi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGlpKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihuLHQsaSl7aWYoIWkpcmV0dXJuIG4uZ2V0QXR0cmlidXRlKHQsInR5cGUiPT09dC50b0xvd2VyQ2FzZSgpPzE6Mil9KSxmLmF0dHJpYnV0ZXMmJmEoZnVuY3Rpb24obil7cmV0dXJuIG4uaW5uZXJIVE1MPSI8aW5wdXQvPiIsbi5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSwiIj09PW4uZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KXx8aWkoInZhbHVlIixmdW5jdGlvbihuLHQsaSl7aWYoIWkmJiJpbnB1dCI9PT1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIG4uZGVmYXVsdFZhbHVlfSksYShmdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09bi5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8aWkoZ3QsZnVuY3Rpb24obix0LGkpe3ZhciByO2lmKCFpKXJldHVybiEwPT09blt0XT90LnRvTG93ZXJDYXNlKCk6KHI9bi5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSksdX0obik7aS5maW5kPWQ7aS5leHByPWQuc2VsZWN0b3JzO2kuZXhwclsiOiJdPWkuZXhwci5wc2V1ZG9zO2kudW5pcXVlU29ydD1pLnVuaXF1ZT1kLnVuaXF1ZVNvcnQ7aS50ZXh0PWQuZ2V0VGV4dDtpLmlzWE1MRG9jPWQuaXNYTUw7aS5jb250YWlucz1kLmNvbnRhaW5zO2kuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGZ0PWZ1bmN0aW9uKG4sdCxyKXtmb3IodmFyIHU9W10sZj12b2lkIDAhPT1yOyhuPW5bdF0pJiY5IT09bi5ub2RlVHlwZTspaWYoMT09PW4ubm9kZVR5cGUpe2lmKGYmJmkobikuaXMocikpYnJlYWs7dS5wdXNoKG4pfXJldHVybiB1fSxkcj1mdW5jdGlvbihuLHQpe2Zvcih2YXIgaT1bXTtuO249bi5uZXh0U2libGluZykxPT09bi5ub2RlVHlwZSYmbiE9PXQmJmkucHVzaChuKTtyZXR1cm4gaX0sZ3I9aS5leHByLm1hdGNoLm5lZWRzQ29udGV4dDt3aT0vXjwoW2Etel1bXlwvXDA+Olx4MjBcdFxyXG5cZl0qKVtceDIwXHRcclxuXGZdKlwvPz4oPzo8XC9cMT58KSQvaTtpLmZpbHRlcj1mdW5jdGlvbihuLHQscil7dmFyIHU9dFswXTtyZXR1cm4gciYmKG49Ijpub3QoIituKyIpIiksMT09PXQubGVuZ3RoJiYxPT09dS5ub2RlVHlwZT9pLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHUsbik/W3VdOltdOmkuZmluZC5tYXRjaGVzKG4saS5ncmVwKHQsZnVuY3Rpb24obil7cmV0dXJuIDE9PT1uLm5vZGVUeXBlfSkpfTtpLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihuKXt2YXIgdCxyLHU9dGhpcy5sZW5ndGgsZj10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgbilyZXR1cm4gdGhpcy5wdXNoU3RhY2soaShuKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8dTt0KyspaWYoaS5jb250YWlucyhmW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihyPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDx1O3QrKylpLmZpbmQobixmW3RdLHIpO3JldHVybiAxPHU/aS51bmlxdWVTb3J0KHIpOnJ9LGZpbHRlcjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYmkodGhpcyxufHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGJpKHRoaXMsbnx8W10sITApKX0saXM6ZnVuY3Rpb24obil7cmV0dXJuISFiaSh0aGlzLCJzdHJpbmciPT10eXBlb2YgbiYmZ3IudGVzdChuKT9pKG4pOm58fFtdLCExKS5sZW5ndGh9fSk7dHU9L14oPzpccyooPFtcd1xXXSs+KVtePl0qfCMoW1x3LV0rKSkkLzsoaS5mbi5pbml0PWZ1bmN0aW9uKG4sdCxyKXt2YXIgZSxvO2lmKCFuKXJldHVybiB0aGlzO2lmKHI9cnx8bnUsInN0cmluZyI9PXR5cGVvZiBuKXtpZighKGU9IjwiPT09blswXSYmIj4iPT09bltuLmxlbmd0aC0xXSYmMzw9bi5sZW5ndGg/W251bGwsbixudWxsXTp0dS5leGVjKG4pKXx8IWVbMV0mJnQpcmV0dXJuIXR8fHQuanF1ZXJ5Pyh0fHxyKS5maW5kKG4pOnRoaXMuY29uc3RydWN0b3IodCkuZmluZChuKTtpZihlWzFdKXtpZih0PXQgaW5zdGFuY2VvZiBpP3RbMF06dCxpLm1lcmdlKHRoaXMsaS5wYXJzZUhUTUwoZVsxXSx0JiZ0Lm5vZGVUeXBlP3Qub3duZXJEb2N1bWVudHx8dDpmLCEwKSksd2kudGVzdChlWzFdKSYmaS5pc1BsYWluT2JqZWN0KHQpKWZvcihlIGluIHQpdSh0aGlzW2VdKT90aGlzW2VdKHRbZV0pOnRoaXMuYXR0cihlLHRbZV0pO3JldHVybiB0aGlzfXJldHVybihvPWYuZ2V0RWxlbWVudEJ5SWQoZVsyXSkpJiYodGhpc1swXT1vLHRoaXMubGVuZ3RoPTEpLHRoaXN9cmV0dXJuIG4ubm9kZVR5cGU/KHRoaXNbMF09bix0aGlzLmxlbmd0aD0xLHRoaXMpOnUobik/dm9pZCAwIT09ci5yZWFkeT9yLnJlYWR5KG4pOm4oaSk6aS5tYWtlQXJyYXkobix0aGlzKX0pLnByb3RvdHlwZT1pLmZuO251PWkoZik7aXU9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS87cnU9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07aS5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihuKXt2YXIgdD1pKG4sdGhpcykscj10Lmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIG49MDtuPHI7bisrKWlmKGkuY29udGFpbnModGhpcyx0W25dKSlyZXR1cm4hMH0pfSxjbG9zZXN0OmZ1bmN0aW9uKG4sdCl7dmFyIHIsZj0wLG89dGhpcy5sZW5ndGgsdT1bXSxlPSJzdHJpbmciIT10eXBlb2YgbiYmaShuKTtpZighZ3IudGVzdChuKSlmb3IoO2Y8bztmKyspZm9yKHI9dGhpc1tmXTtyJiZyIT09dDtyPXIucGFyZW50Tm9kZSlpZihyLm5vZGVUeXBlPDExJiYoZT8tMTxlLmluZGV4KHIpOjE9PT1yLm5vZGVUeXBlJiZpLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsbikpKXt1LnB1c2gocik7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKDE8dS5sZW5ndGg/aS51bmlxdWVTb3J0KHUpOnUpfSxpbmRleDpmdW5jdGlvbihuKXtyZXR1cm4gbj8ic3RyaW5nIj09dHlwZW9mIG4/aWkuY2FsbChpKG4pLHRoaXNbMF0pOmlpLmNhbGwodGhpcyxuLmpxdWVyeT9uWzBdOm4pOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGkudW5pcXVlU29ydChpLm1lcmdlKHRoaXMuZ2V0KCksaShuLHQpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmFkZChudWxsPT1uP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKG4pKX19KTtpLmVhY2goe3BhcmVudDpmdW5jdGlvbihuKXt2YXIgdD1uLnBhcmVudE5vZGU7cmV0dXJuIHQmJjExIT09dC5ub2RlVHlwZT90Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24obil7cmV0dXJuIGZ0KG4sInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gZnQobiwicGFyZW50Tm9kZSIsaSl9LG5leHQ6ZnVuY3Rpb24obil7cmV0dXJuIHV1KG4sIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24obil7cmV0dXJuIHV1KG4sInByZXZpb3VzU2libGluZyIpfSxuZXh0QWxsOmZ1bmN0aW9uKG4pe3JldHVybiBmdChuLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKG4pe3JldHVybiBmdChuLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gZnQobiwibmV4dFNpYmxpbmciLGkpfSxwcmV2VW50aWw6ZnVuY3Rpb24obix0LGkpe3JldHVybiBmdChuLCJwcmV2aW91c1NpYmxpbmciLGkpfSxzaWJsaW5nczpmdW5jdGlvbihuKXtyZXR1cm4gZHIoKG4ucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsbil9LGNoaWxkcmVuOmZ1bmN0aW9uKG4pe3JldHVybiBkcihuLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihuKXtyZXR1cm4gbnVsbCE9bi5jb250ZW50RG9jdW1lbnQmJnZyKG4uY29udGVudERvY3VtZW50KT9uLmNvbnRlbnREb2N1bWVudDooYyhuLCJ0ZW1wbGF0ZSIpJiYobj1uLmNvbnRlbnR8fG4pLGkubWVyZ2UoW10sbi5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihuLHQpe2kuZm5bbl09ZnVuY3Rpb24ocix1KXt2YXIgZj1pLm1hcCh0aGlzLHQscik7cmV0dXJuIlVudGlsIiE9PW4uc2xpY2UoLTUpJiYodT1yKSx1JiYic3RyaW5nIj09dHlwZW9mIHUmJihmPWkuZmlsdGVyKHUsZikpLDE8dGhpcy5sZW5ndGgmJihydVtuXXx8aS51bmlxdWVTb3J0KGYpLGl1LnRlc3QobikmJmYucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhmKX19KTtsPS9bXlx4MjBcdFxyXG5cZl0rL2c7aS5DYWxsYmFja3M9ZnVuY3Rpb24obil7dmFyIGEsaDtuPSJzdHJpbmciPT10eXBlb2Ygbj8oYT1uLGg9e30saS5lYWNoKGEubWF0Y2gobCl8fFtdLGZ1bmN0aW9uKG4sdCl7aFt0XT0hMH0pLGgpOmkuZXh0ZW5kKHt9LG4pO3ZhciBvLHIsdixmLHQ9W10scz1bXSxlPS0xLHk9ZnVuY3Rpb24oKXtmb3IoZj1mfHxuLm9uY2Usdj1vPSEwO3MubGVuZ3RoO2U9LTEpZm9yKHI9cy5zaGlmdCgpOysrZTx0Lmxlbmd0aDspITE9PT10W2VdLmFwcGx5KHJbMF0sclsxXSkmJm4uc3RvcE9uRmFsc2UmJihlPXQubGVuZ3RoLHI9ITEpO24ubWVtb3J5fHwocj0hMSk7bz0hMTtmJiYodD1yP1tdOiIiKX0sYz17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIHQmJihyJiYhbyYmKGU9dC5sZW5ndGgtMSxzLnB1c2gocikpLGZ1bmN0aW9uIGYocil7aS5lYWNoKHIsZnVuY3Rpb24oaSxyKXt1KHIpP24udW5pcXVlJiZjLmhhcyhyKXx8dC5wdXNoKHIpOnImJnIubGVuZ3RoJiYic3RyaW5nIiE9PXV0KHIpJiZmKHIpfSl9KGFyZ3VtZW50cyksciYmIW8mJnkoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGkuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24obixyKXtmb3IodmFyIHU7LTE8KHU9aS5pbkFycmF5KHIsdCx1KSk7KXQuc3BsaWNlKHUsMSksdTw9ZSYmZS0tfSksdGhpc30saGFzOmZ1bmN0aW9uKG4pe3JldHVybiBuPy0xPGkuaW5BcnJheShuLHQpOjA8dC5sZW5ndGh9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHQmJih0PVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGY9cz1bXSx0PXI9IiIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdH0sbG9jazpmdW5jdGlvbigpe3JldHVybiBmPXM9W10scnx8b3x8KHQ9cj0iIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFmfSxmaXJlV2l0aDpmdW5jdGlvbihuLHQpe3JldHVybiBmfHwodD1bbiwodD10fHxbXSkuc2xpY2U/dC5zbGljZSgpOnRdLHMucHVzaCh0KSxvfHx5KCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gYy5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXZ9fTtyZXR1cm4gY307aS5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKHQpe3ZhciBmPVtbIm5vdGlmeSIsInByb2dyZXNzIixpLkNhbGxiYWNrcygibWVtb3J5IiksaS5DYWxsYmFja3MoIm1lbW9yeSIpLDJdLFsicmVzb2x2ZSIsImRvbmUiLGkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLGkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLDAsInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixpLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxpLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwxLCJyZWplY3RlZCJdXSxvPSJwZW5kaW5nIixlPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBvfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gci5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LCJjYXRjaCI6ZnVuY3Rpb24obil7cmV0dXJuIGUudGhlbihudWxsLG4pfSxwaXBlOmZ1bmN0aW9uKCl7dmFyIG49YXJndW1lbnRzO3JldHVybiBpLkRlZmVycmVkKGZ1bmN0aW9uKHQpe2kuZWFjaChmLGZ1bmN0aW9uKGksZil7dmFyIGU9dShuW2ZbNF1dKSYmbltmWzRdXTtyW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIG49ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7biYmdShuLnByb21pc2UpP24ucHJvbWlzZSgpLnByb2dyZXNzKHQubm90aWZ5KS5kb25lKHQucmVzb2x2ZSkuZmFpbCh0LnJlamVjdCk6dFtmWzBdKyJXaXRoIl0odGhpcyxlP1tuXTphcmd1bWVudHMpfSl9KTtuPW51bGx9KS5wcm9taXNlKCl9LHRoZW46ZnVuY3Rpb24odCxyLGUpe2Z1bmN0aW9uIHModCxyLGYsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGg9dGhpcyxjPWFyZ3VtZW50cyxsPWZ1bmN0aW9uKCl7dmFyIG4saTtpZighKHQ8bykpe2lmKChuPWYuYXBwbHkoaCxjKSk9PT1yLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTtpPW4mJigib2JqZWN0Ij09dHlwZW9mIG58fCJmdW5jdGlvbiI9PXR5cGVvZiBuKSYmbi50aGVuO3UoaSk/ZT9pLmNhbGwobixzKG8scixldCxlKSxzKG8scixmaSxlKSk6KG8rKyxpLmNhbGwobixzKG8scixldCxlKSxzKG8scixmaSxlKSxzKG8scixldCxyLm5vdGlmeVdpdGgpKSk6KGYhPT1ldCYmKGg9dm9pZCAwLGM9W25dKSwoZXx8ci5yZXNvbHZlV2l0aCkoaCxjKSl9fSxhPWU/bDpmdW5jdGlvbigpe3RyeXtsKCl9Y2F0Y2gobCl7aS5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZpLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sobCxhLnN0YWNrVHJhY2UpO288PXQrMSYmKGYhPT1maSYmKGg9dm9pZCAwLGM9W2xdKSxyLnJlamVjdFdpdGgoaCxjKSl9fTt0P2EoKTooaS5EZWZlcnJlZC5nZXRTdGFja0hvb2smJihhLnN0YWNrVHJhY2U9aS5EZWZlcnJlZC5nZXRTdGFja0hvb2soKSksbi5zZXRUaW1lb3V0KGEpKX19dmFyIG89MDtyZXR1cm4gaS5EZWZlcnJlZChmdW5jdGlvbihuKXtmWzBdWzNdLmFkZChzKDAsbix1KGUpP2U6ZXQsbi5ub3RpZnlXaXRoKSk7ZlsxXVszXS5hZGQocygwLG4sdSh0KT90OmV0KSk7ZlsyXVszXS5hZGQocygwLG4sdShyKT9yOmZpKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24obil7cmV0dXJuIG51bGwhPW4/aS5leHRlbmQobixlKTplfX0scj17fTtyZXR1cm4gaS5lYWNoKGYsZnVuY3Rpb24obix0KXt2YXIgaT10WzJdLHU9dFs1XTtlW3RbMV1dPWkuYWRkO3UmJmkuYWRkKGZ1bmN0aW9uKCl7bz11fSxmWzMtbl1bMl0uZGlzYWJsZSxmWzMtbl1bM10uZGlzYWJsZSxmWzBdWzJdLmxvY2ssZlswXVszXS5sb2NrKTtpLmFkZCh0WzNdLmZpcmUpO3JbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gclt0WzBdKyJXaXRoIl0odGhpcz09PXI/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfTtyW3RbMF0rIldpdGgiXT1pLmZpcmVXaXRofSksZS5wcm9taXNlKHIpLHQmJnQuY2FsbChyLHIpLHJ9LHdoZW46ZnVuY3Rpb24obil7dmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PWUsbz1BcnJheSh0KSxmPWsuY2FsbChhcmd1bWVudHMpLHI9aS5EZWZlcnJlZCgpLHM9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe29bbl09dGhpcztmW25dPTE8YXJndW1lbnRzLmxlbmd0aD9rLmNhbGwoYXJndW1lbnRzKTp0Oy0tZXx8ci5yZXNvbHZlV2l0aChvLGYpfX07aWYoZTw9MSYmKGZ1KG4sci5kb25lKHModCkpLnJlc29sdmUsci5yZWplY3QsIWUpLCJwZW5kaW5nIj09PXIuc3RhdGUoKXx8dShmW3RdJiZmW3RdLnRoZW4pKSlyZXR1cm4gci50aGVuKCk7d2hpbGUodC0tKWZ1KGZbdF0scyh0KSxyLnJlamVjdCk7cmV0dXJuIHIucHJvbWlzZSgpfX0pO2V1PS9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO2kuRGVmZXJyZWQuZXhjZXB0aW9uSG9vaz1mdW5jdGlvbih0LGkpe24uY29uc29sZSYmbi5jb25zb2xlLndhcm4mJnQmJmV1LnRlc3QodC5uYW1lKSYmbi5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrdC5tZXNzYWdlLHQuc3RhY2ssaSl9O2kucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24odCl7bi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgdDt9KX07ZWk9aS5EZWZlcnJlZCgpO2kuZm4ucmVhZHk9ZnVuY3Rpb24obil7cmV0dXJuIGVpLnRoZW4obilbImNhdGNoIl0oZnVuY3Rpb24obil7aS5yZWFkeUV4Y2VwdGlvbihuKX0pLHRoaXN9O2kuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLHJlYWR5OmZ1bmN0aW9uKG4peyghMD09PW4/LS1pLnJlYWR5V2FpdDppLmlzUmVhZHkpfHwoaS5pc1JlYWR5PSEwKSE9PW4mJjA8LS1pLnJlYWR5V2FpdHx8ZWkucmVzb2x2ZVdpdGgoZixbaV0pfX0pO2kucmVhZHkudGhlbj1laS50aGVuOyJjb21wbGV0ZSI9PT1mLnJlYWR5U3RhdGV8fCJsb2FkaW5nIiE9PWYucmVhZHlTdGF0ZSYmIWYuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsP24uc2V0VGltZW91dChpLnJlYWR5KTooZi5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixvaSksbi5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixvaSkpO3ZhciB3PWZ1bmN0aW9uKG4sdCxyLGYsZSxvLHMpe3ZhciBoPTAsbD1uLmxlbmd0aCxjPW51bGw9PXI7aWYoIm9iamVjdCI9PT11dChyKSlmb3IoaCBpbiBlPSEwLHIpdyhuLHQsaCxyW2hdLCEwLG8scyk7ZWxzZSBpZih2b2lkIDAhPT1mJiYoZT0hMCx1KGYpfHwocz0hMCksYyYmKHM/KHQuY2FsbChuLGYpLHQ9bnVsbCk6KGM9dCx0PWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gYy5jYWxsKGkobikscil9KSksdCkpZm9yKDtoPGw7aCsrKXQobltoXSxyLHM/ZjpmLmNhbGwobltoXSxoLHQobltoXSxyKSkpO3JldHVybiBlP246Yz90LmNhbGwobik6bD90KG5bMF0scik6b30saGU9L14tbXMtLyxjZT0vLShbYS16XSkvZztvdD1mdW5jdGlvbihuKXtyZXR1cm4gMT09PW4ubm9kZVR5cGV8fDk9PT1uLm5vZGVUeXBlfHwhK24ubm9kZVR5cGV9O2J0LnVpZD0xO2J0LnByb3RvdHlwZT17Y2FjaGU6ZnVuY3Rpb24obil7dmFyIHQ9blt0aGlzLmV4cGFuZG9dO3JldHVybiB0fHwodD17fSxvdChuKSYmKG4ubm9kZVR5cGU/blt0aGlzLmV4cGFuZG9dPXQ6T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdGhpcy5leHBhbmRvLHt2YWx1ZTp0LGNvbmZpZ3VyYWJsZTohMH0pKSksdH0sc2V0OmZ1bmN0aW9uKG4sdCxpKXt2YXIgcix1PXRoaXMuY2FjaGUobik7aWYoInN0cmluZyI9PXR5cGVvZiB0KXVbeSh0KV09aTtlbHNlIGZvcihyIGluIHQpdVt5KHIpXT10W3JdO3JldHVybiB1fSxnZXQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gdm9pZCAwPT09dD90aGlzLmNhY2hlKG4pOm5bdGhpcy5leHBhbmRvXSYmblt0aGlzLmV4cGFuZG9dW3kodCldfSxhY2Nlc3M6ZnVuY3Rpb24obix0LGkpe3JldHVybiB2b2lkIDA9PT10fHx0JiYic3RyaW5nIj09dHlwZW9mIHQmJnZvaWQgMD09PWk/dGhpcy5nZXQobix0KToodGhpcy5zZXQobix0LGkpLHZvaWQgMCE9PWk/aTp0KX0scmVtb3ZlOmZ1bmN0aW9uKG4sdCl7dmFyIHUscj1uW3RoaXMuZXhwYW5kb107aWYodm9pZCAwIT09cil7aWYodm9pZCAwIT09dClmb3IodT0odD1BcnJheS5pc0FycmF5KHQpP3QubWFwKHkpOih0PXkodCkpaW4gcj9bdF06dC5tYXRjaChsKXx8W10pLmxlbmd0aDt1LS07KWRlbGV0ZSByW3RbdV1dOyh2b2lkIDA9PT10fHxpLmlzRW1wdHlPYmplY3QocikpJiYobi5ub2RlVHlwZT9uW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBuW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihuKXt2YXIgdD1uW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFpLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgcj1uZXcgYnQsbz1uZXcgYnQsYWU9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyx2ZT0vW0EtWl0vZztpLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihuKXtyZXR1cm4gby5oYXNEYXRhKG4pfHxyLmhhc0RhdGEobil9LGRhdGE6ZnVuY3Rpb24obix0LGkpe3JldHVybiBvLmFjY2VzcyhuLHQsaSl9LHJlbW92ZURhdGE6ZnVuY3Rpb24obix0KXtvLnJlbW92ZShuLHQpfSxfZGF0YTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHIuYWNjZXNzKG4sdCxpKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24obix0KXtyLnJlbW92ZShuLHQpfX0pO2kuZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKG4sdCl7dmFyIGYsdSxlLGk9dGhpc1swXSxzPWkmJmkuYXR0cmlidXRlcztpZih2b2lkIDA9PT1uKXtpZih0aGlzLmxlbmd0aCYmKGU9by5nZXQoaSksMT09PWkubm9kZVR5cGUmJiFyLmdldChpLCJoYXNEYXRhQXR0cnMiKSkpe2ZvcihmPXMubGVuZ3RoO2YtLTspc1tmXSYmMD09PSh1PXNbZl0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHU9eSh1LnNsaWNlKDUpKSxvdShpLHUsZVt1XSkpO3Iuc2V0KGksImhhc0RhdGFBdHRycyIsITApfXJldHVybiBlfXJldHVybiJvYmplY3QiPT10eXBlb2Ygbj90aGlzLmVhY2goZnVuY3Rpb24oKXtvLnNldCh0aGlzLG4pfSk6dyh0aGlzLGZ1bmN0aW9uKHQpe3ZhciByO2lmKGkmJnZvaWQgMD09PXQpcmV0dXJuIHZvaWQgMCE9PShyPW8uZ2V0KGksbikpP3I6dm9pZCAwIT09KHI9b3UoaSxuKSk/cjp2b2lkIDA7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7by5zZXQodGhpcyxuLHQpfSl9LG51bGwsdCwxPGFyZ3VtZW50cy5sZW5ndGgsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe28ucmVtb3ZlKHRoaXMsbil9KX19KTtpLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24obix0LHUpe3ZhciBmO2lmKG4pcmV0dXJuIHQ9KHR8fCJmeCIpKyJxdWV1ZSIsZj1yLmdldChuLHQpLHUmJighZnx8QXJyYXkuaXNBcnJheSh1KT9mPXIuYWNjZXNzKG4sdCxpLm1ha2VBcnJheSh1KSk6Zi5wdXNoKHUpKSxmfHxbXX0sZGVxdWV1ZTpmdW5jdGlvbihuLHQpe3Q9dHx8ImZ4Ijt2YXIgcj1pLnF1ZXVlKG4sdCksZT1yLmxlbmd0aCx1PXIuc2hpZnQoKSxmPWkuX3F1ZXVlSG9va3Mobix0KTsiaW5wcm9ncmVzcyI9PT11JiYodT1yLnNoaWZ0KCksZS0tKTt1JiYoImZ4Ij09PXQmJnIudW5zaGlmdCgiaW5wcm9ncmVzcyIpLGRlbGV0ZSBmLnN0b3AsdS5jYWxsKG4sZnVuY3Rpb24oKXtpLmRlcXVldWUobix0KX0sZikpOyFlJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24obix0KXt2YXIgdT10KyJxdWV1ZUhvb2tzIjtyZXR1cm4gci5nZXQobix1KXx8ci5hY2Nlc3Mobix1LHtlbXB0eTppLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rpb24oKXtyLnJlbW92ZShuLFt0KyJxdWV1ZSIsdV0pfSl9KX19KTtpLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24obix0KXt2YXIgcj0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgbiYmKHQ9bixuPSJmeCIsci0tKSxhcmd1bWVudHMubGVuZ3RoPHI/aS5xdWV1ZSh0aGlzWzBdLG4pOnZvaWQgMD09PXQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1pLnF1ZXVlKHRoaXMsbix0KTtpLl9xdWV1ZUhvb2tzKHRoaXMsbik7ImZ4Ij09PW4mJiJpbnByb2dyZXNzIiE9PXJbMF0mJmkuZGVxdWV1ZSh0aGlzLG4pfSl9LGRlcXVldWU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2kuZGVxdWV1ZSh0aGlzLG4pfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucXVldWUobnx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24obix0KXt2YXIgdSxlPTEsbz1pLkRlZmVycmVkKCksZj10aGlzLHM9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZXx8by5yZXNvbHZlV2l0aChmLFtmXSl9O2Zvcigic3RyaW5nIiE9dHlwZW9mIG4mJih0PW4sbj12b2lkIDApLG49bnx8ImZ4IjtzLS07KSh1PXIuZ2V0KGZbc10sbisicXVldWVIb29rcyIpKSYmdS5lbXB0eSYmKGUrKyx1LmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxvLnByb21pc2UodCl9fSk7dmFyIHN1PS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLGt0PW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIitzdSsiKShbYS16JV0qKSQiLCJpIiksYj1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLGc9Zi5kb2N1bWVudEVsZW1lbnQsc3Q9ZnVuY3Rpb24obil7cmV0dXJuIGkuY29udGFpbnMobi5vd25lckRvY3VtZW50LG4pfSx5ZT17Y29tcG9zZWQ6ITB9O2cuZ2V0Um9vdE5vZGUmJihzdD1mdW5jdGlvbihuKXtyZXR1cm4gaS5jb250YWlucyhuLm93bmVyRG9jdW1lbnQsbil8fG4uZ2V0Um9vdE5vZGUoeWUpPT09bi5vd25lckRvY3VtZW50fSk7ZHQ9ZnVuY3Rpb24obix0KXtyZXR1cm4ibm9uZSI9PT0obj10fHxuKS5zdHlsZS5kaXNwbGF5fHwiIj09PW4uc3R5bGUuZGlzcGxheSYmc3QobikmJiJub25lIj09PWkuY3NzKG4sImRpc3BsYXkiKX07a2k9e307aS5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oKXtyZXR1cm4gaHQodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gaHQodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihuKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBuP24/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZHQodGhpcyk/aSh0aGlzKS5zaG93KCk6aSh0aGlzKS5oaWRlKCl9KX19KTt2YXIgbnQsc2ksZ3Q9L14oPzpjaGVja2JveHxyYWRpbykkL2ksY3U9LzwoW2Etel1bXlwvXDA+XHgyMFx0XHJcblxmXSopL2ksbHU9L14kfF5tb2R1bGUkfFwvKD86amF2YXxlY21hKXNjcmlwdC9pO250PWYuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLmFwcGVuZENoaWxkKGYuY3JlYXRlRWxlbWVudCgiZGl2IikpOyhzaT1mLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIik7c2kuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpO3NpLnNldEF0dHJpYnV0ZSgibmFtZSIsInQiKTtudC5hcHBlbmRDaGlsZChzaSk7ZS5jaGVja0Nsb25lPW50LmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZDtudC5pbm5lckhUTUw9Ijx0ZXh0YXJlYT54PFwvdGV4dGFyZWE+IjtlLm5vQ2xvbmVDaGVja2VkPSEhbnQuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlO250LmlubmVySFRNTD0iPG9wdGlvbj48XC9vcHRpb24+IjtlLm9wdGlvbj0hIW50Lmxhc3RDaGlsZDtoPXt0aGVhZDpbMSwiPHRhYmxlPiIsIjxcL3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjxjb2xncm91cD4iLCI8XC9jb2xncm91cD48XC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8XC90Ym9keT48XC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPFwvdHI+PFwvdGJvZHk+PFwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtoLnRib2R5PWgudGZvb3Q9aC5jb2xncm91cD1oLmNhcHRpb249aC50aGVhZDtoLnRoPWgudGQ7ZS5vcHRpb258fChoLm9wdGdyb3VwPWgub3B0aW9uPVsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPFwvc2VsZWN0PiJdKTthdT0vPHwmIz9cdys7Lzt2YXIgcGU9L15rZXkvLHdlPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyx5dT0vXihbXi5dKikoPzpcLiguKyl8KS87aS5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihuLHQsdSxmLGUpe3ZhciBwLGEsayx2LHcsaCxzLGMsbyxiLGQseT1yLmdldChuKTtpZihvdChuKSlmb3IodS5oYW5kbGVyJiYodT0ocD11KS5oYW5kbGVyLGU9cC5zZWxlY3RvciksZSYmaS5maW5kLm1hdGNoZXNTZWxlY3RvcihnLGUpLHUuZ3VpZHx8KHUuZ3VpZD1pLmd1aWQrKyksKHY9eS5ldmVudHMpfHwodj15LmV2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpKSwoYT15LmhhbmRsZSl8fChhPXkuaGFuZGxlPWZ1bmN0aW9uKHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgaSYmaS5ldmVudC50cmlnZ2VyZWQhPT10LnR5cGUpcmV0dXJuIGkuZXZlbnQuZGlzcGF0Y2guYXBwbHkobixhcmd1bWVudHMpfSksdz0odD0odHx8IiIpLm1hdGNoKGwpfHxbIiJdKS5sZW5ndGg7dy0tOylvPWQ9KGs9eXUuZXhlYyh0W3ddKXx8W10pWzFdLGI9KGtbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxvJiYocz1pLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGU/cy5kZWxlZ2F0ZVR5cGU6cy5iaW5kVHlwZSl8fG8scz1pLmV2ZW50LnNwZWNpYWxbb118fHt9LGg9aS5leHRlbmQoe3R5cGU6byxvcmlnVHlwZTpkLGRhdGE6ZixoYW5kbGVyOnUsZ3VpZDp1Lmd1aWQsc2VsZWN0b3I6ZSxuZWVkc0NvbnRleHQ6ZSYmaS5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGUpLG5hbWVzcGFjZTpiLmpvaW4oIi4iKX0scCksKGM9dltvXSl8fCgoYz12W29dPVtdKS5kZWxlZ2F0ZUNvdW50PTAscy5zZXR1cCYmITEhPT1zLnNldHVwLmNhbGwobixmLGIsYSl8fG4uYWRkRXZlbnRMaXN0ZW5lciYmbi5hZGRFdmVudExpc3RlbmVyKG8sYSkpLHMuYWRkJiYocy5hZGQuY2FsbChuLGgpLGguaGFuZGxlci5ndWlkfHwoaC5oYW5kbGVyLmd1aWQ9dS5ndWlkKSksZT9jLnNwbGljZShjLmRlbGVnYXRlQ291bnQrKywwLGgpOmMucHVzaChoKSxpLmV2ZW50Lmdsb2JhbFtvXT0hMCl9LHJlbW92ZTpmdW5jdGlvbihuLHQsdSxmLGUpe3ZhciB5LGssYyx2LHAscyxoLGEsbyxiLGQsdz1yLmhhc0RhdGEobikmJnIuZ2V0KG4pO2lmKHcmJih2PXcuZXZlbnRzKSl7Zm9yKHA9KHQ9KHR8fCIiKS5tYXRjaChsKXx8WyIiXSkubGVuZ3RoO3AtLTspaWYobz1kPShjPXl1LmV4ZWModFtwXSl8fFtdKVsxXSxiPShjWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyl7Zm9yKGg9aS5ldmVudC5zcGVjaWFsW29dfHx7fSxhPXZbbz0oZj9oLmRlbGVnYXRlVHlwZTpoLmJpbmRUeXBlKXx8b118fFtdLGM9Y1syXSYmbmV3IFJlZ0V4cCgiKF58XFwuKSIrYi5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKSxrPXk9YS5sZW5ndGg7eS0tOylzPWFbeV0sIWUmJmQhPT1zLm9yaWdUeXBlfHx1JiZ1Lmd1aWQhPT1zLmd1aWR8fGMmJiFjLnRlc3Qocy5uYW1lc3BhY2UpfHxmJiZmIT09cy5zZWxlY3RvciYmKCIqKiIhPT1mfHwhcy5zZWxlY3Rvcil8fChhLnNwbGljZSh5LDEpLHMuc2VsZWN0b3ImJmEuZGVsZWdhdGVDb3VudC0tLGgucmVtb3ZlJiZoLnJlbW92ZS5jYWxsKG4scykpO2smJiFhLmxlbmd0aCYmKGgudGVhcmRvd24mJiExIT09aC50ZWFyZG93bi5jYWxsKG4sYix3LmhhbmRsZSl8fGkucmVtb3ZlRXZlbnQobixvLHcuaGFuZGxlKSxkZWxldGUgdltvXSl9ZWxzZSBmb3IobyBpbiB2KWkuZXZlbnQucmVtb3ZlKG4sbyt0W3BdLHUsZiwhMCk7aS5pc0VtcHR5T2JqZWN0KHYpJiZyLnJlbW92ZShuLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihuKXt2YXIgdSxoLGMsZSxmLGwscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdD1pLmV2ZW50LmZpeChuKSxhPShyLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdC50eXBlXXx8W10sbz1pLmV2ZW50LnNwZWNpYWxbdC50eXBlXXx8e307Zm9yKHNbMF09dCx1PTE7dTxhcmd1bWVudHMubGVuZ3RoO3UrKylzW3VdPWFyZ3VtZW50c1t1XTtpZih0LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIW8ucHJlRGlzcGF0Y2h8fCExIT09by5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdCkpe2ZvcihsPWkuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLHQsYSksdT0wOyhlPWxbdSsrXSkmJiF0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KWZvcih0LmN1cnJlbnRUYXJnZXQ9ZS5lbGVtLGg9MDsoZj1lLmhhbmRsZXJzW2grK10pJiYhdC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpOyl0LnJuYW1lc3BhY2UmJiExIT09Zi5uYW1lc3BhY2UmJiF0LnJuYW1lc3BhY2UudGVzdChmLm5hbWVzcGFjZSl8fCh0LmhhbmRsZU9iaj1mLHQuZGF0YT1mLmRhdGEsdm9pZCAwIT09KGM9KChpLmV2ZW50LnNwZWNpYWxbZi5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGYuaGFuZGxlcikuYXBwbHkoZS5lbGVtLHMpKSYmITE9PT0odC5yZXN1bHQ9YykmJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSkpO3JldHVybiBvLnBvc3REaXNwYXRjaCYmby5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHQpLHQucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24obix0KXt2YXIgZixoLHUsZSxvLGM9W10scz10LmRlbGVnYXRlQ291bnQscj1uLnRhcmdldDtpZihzJiZyLm5vZGVUeXBlJiYhKCJjbGljayI9PT1uLnR5cGUmJjE8PW4uYnV0dG9uKSlmb3IoO3IhPT10aGlzO3I9ci5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1yLm5vZGVUeXBlJiYoImNsaWNrIiE9PW4udHlwZXx8ITAhPT1yLmRpc2FibGVkKSl7Zm9yKGU9W10sbz17fSxmPTA7ZjxzO2YrKyl2b2lkIDA9PT1vW3U9KGg9dFtmXSkuc2VsZWN0b3IrIiAiXSYmKG9bdV09aC5uZWVkc0NvbnRleHQ/LTE8aSh1LHRoaXMpLmluZGV4KHIpOmkuZmluZCh1LHRoaXMsbnVsbCxbcl0pLmxlbmd0aCksb1t1XSYmZS5wdXNoKGgpO2UubGVuZ3RoJiZjLnB1c2goe2VsZW06cixoYW5kbGVyczplfSl9cmV0dXJuIHI9dGhpcyxzPHQubGVuZ3RoJiZjLnB1c2goe2VsZW06cixoYW5kbGVyczp0LnNsaWNlKHMpfSksY30sYWRkUHJvcDpmdW5jdGlvbihuLHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkV2ZW50LnByb3RvdHlwZSxuLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6dSh0KT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdCh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W25dfSxzZXQ6ZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsbix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pfX0pfSxmaXg6ZnVuY3Rpb24obil7cmV0dXJuIG5baS5leHBhbmRvXT9uOm5ldyBpLkV2ZW50KG4pfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXN8fG47cmV0dXJuIGd0LnRlc3QodC50eXBlKSYmdC5jbGljayYmYyh0LCJpbnB1dCIpJiZoaSh0LCJjbGljayIsY3QpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXN8fG47cmV0dXJuIGd0LnRlc3QodC50eXBlKSYmdC5jbGljayYmYyh0LCJpbnB1dCIpJiZoaSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihuKXt2YXIgdD1uLnRhcmdldDtyZXR1cm4gZ3QudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZjKHQsImlucHV0IikmJnIuZ2V0KHQsImNsaWNrIil8fGModCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24obil7dm9pZCAwIT09bi5yZXN1bHQmJm4ub3JpZ2luYWxFdmVudCYmKG4ub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1uLnJlc3VsdCl9fX19O2kucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24obix0LGkpe24ucmVtb3ZlRXZlbnRMaXN0ZW5lciYmbi5yZW1vdmVFdmVudExpc3RlbmVyKHQsaSl9O2kuRXZlbnQ9ZnVuY3Rpb24obix0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBpLkV2ZW50KSlyZXR1cm4gbmV3IGkuRXZlbnQobix0KTtuJiZuLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1uLHRoaXMudHlwZT1uLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9bi5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1uLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09bi5yZXR1cm5WYWx1ZT9jdDpsdCx0aGlzLnRhcmdldD1uLnRhcmdldCYmMz09PW4udGFyZ2V0Lm5vZGVUeXBlP24udGFyZ2V0LnBhcmVudE5vZGU6bi50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PW4uY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9bi5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9bjt0JiZpLmV4dGVuZCh0aGlzLHQpO3RoaXMudGltZVN0YW1wPW4mJm4udGltZVN0YW1wfHxEYXRlLm5vdygpO3RoaXNbaS5leHBhbmRvXT0hMH07aS5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmkuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOmx0LGlzUHJvcGFnYXRpb25TdG9wcGVkOmx0LGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmx0LGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPWN0O24mJiF0aGlzLmlzU2ltdWxhdGVkJiZuLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWN0O24mJiF0aGlzLmlzU2ltdWxhdGVkJiZuLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1jdDtuJiYhdGhpcy5pc1NpbXVsYXRlZCYmbi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX07aS5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLGNoYXI6ITAsY29kZTohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDpmdW5jdGlvbihuKXt2YXIgdD1uLmJ1dHRvbjtyZXR1cm4gbnVsbD09bi53aGljaCYmcGUudGVzdChuLnR5cGUpP251bGwhPW4uY2hhckNvZGU/bi5jaGFyQ29kZTpuLmtleUNvZGU6IW4ud2hpY2gmJnZvaWQgMCE9PXQmJndlLnRlc3Qobi50eXBlKT8xJnQ/MToyJnQ/Mzo0JnQ/MjowOm4ud2hpY2h9fSxpLmV2ZW50LmFkZFByb3ApO2kuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24obix0KXtpLmV2ZW50LnNwZWNpYWxbbl09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGhpKHRoaXMsbixiZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gaGkodGhpcyxuKSwhMH0sZGVsZWdhdGVUeXBlOnR9fSk7aS5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihuLHQpe2kuZXZlbnQuc3BlY2lhbFtuXT17ZGVsZWdhdGVUeXBlOnQsYmluZFR5cGU6dCxoYW5kbGU6ZnVuY3Rpb24obil7dmFyIHUscj1uLnJlbGF0ZWRUYXJnZXQsZj1uLmhhbmRsZU9iajtyZXR1cm4gciYmKHI9PT10aGlzfHxpLmNvbnRhaW5zKHRoaXMscikpfHwobi50eXBlPWYub3JpZ1R5cGUsdT1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLG4udHlwZT10KSx1fX19KTtpLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIGdpKHRoaXMsbix0LGkscil9LG9uZTpmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4gZ2kodGhpcyxuLHQsaSxyLDEpfSxvZmY6ZnVuY3Rpb24obix0LHIpe3ZhciB1LGY7aWYobiYmbi5wcmV2ZW50RGVmYXVsdCYmbi5oYW5kbGVPYmopcmV0dXJuIHU9bi5oYW5kbGVPYmosaShuLmRlbGVnYXRlVGFyZ2V0KS5vZmYodS5uYW1lc3BhY2U/dS5vcmlnVHlwZSsiLiIrdS5uYW1lc3BhY2U6dS5vcmlnVHlwZSx1LnNlbGVjdG9yLHUuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIG4pe2ZvcihmIGluIG4pdGhpcy5vZmYoZix0LG5bZl0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChyPXQsdD12b2lkIDApLCExPT09ciYmKHI9bHQpLHRoaXMuZWFjaChmdW5jdGlvbigpe2kuZXZlbnQucmVtb3ZlKHRoaXMsbixyLHQpfSl9fSk7dmFyIGtlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLGRlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLGdlPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztpLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihuKXtyZXR1cm4gbn0sY2xvbmU6ZnVuY3Rpb24obix0LHIpe3ZhciB1LGMsbyxmLGwsYSx2LGg9bi5jbG9uZU5vZGUoITApLHk9c3Qobik7aWYoIShlLm5vQ2xvbmVDaGVja2VkfHwxIT09bi5ub2RlVHlwZSYmMTEhPT1uLm5vZGVUeXBlfHxpLmlzWE1MRG9jKG4pKSlmb3IoZj1zKGgpLHU9MCxjPShvPXMobikpLmxlbmd0aDt1PGM7dSsrKWw9b1t1XSxhPWZbdV0sdm9pZCAwLCJpbnB1dCI9PT0odj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZndC50ZXN0KGwudHlwZSk/YS5jaGVja2VkPWwuY2hlY2tlZDoiaW5wdXQiIT09diYmInRleHRhcmVhIiE9PXZ8fChhLmRlZmF1bHRWYWx1ZT1sLmRlZmF1bHRWYWx1ZSk7aWYodClpZihyKWZvcihvPW98fHMobiksZj1mfHxzKGgpLHU9MCxjPW8ubGVuZ3RoO3U8Yzt1Kyspd3Uob1t1XSxmW3VdKTtlbHNlIHd1KG4saCk7cmV0dXJuIDA8KGY9cyhoLCJzY3JpcHQiKSkubGVuZ3RoJiZkaShmLCF5JiZzKG4sInNjcmlwdCIpKSxofSxjbGVhbkRhdGE6ZnVuY3Rpb24obil7Zm9yKHZhciB1LHQsZixzPWkuZXZlbnQuc3BlY2lhbCxlPTA7dm9pZCAwIT09KHQ9bltlXSk7ZSsrKWlmKG90KHQpKXtpZih1PXRbci5leHBhbmRvXSl7aWYodS5ldmVudHMpZm9yKGYgaW4gdS5ldmVudHMpc1tmXT9pLmV2ZW50LnJlbW92ZSh0LGYpOmkucmVtb3ZlRXZlbnQodCxmLHUuaGFuZGxlKTt0W3IuZXhwYW5kb109dm9pZCAwfXRbby5leHBhbmRvXSYmKHRbby5leHBhbmRvXT12b2lkIDApfX19KTtpLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKG4pe3JldHVybiBidSh0aGlzLG4sITApfSxyZW1vdmU6ZnVuY3Rpb24obil7cmV0dXJuIGJ1KHRoaXMsbil9LHRleHQ6ZnVuY3Rpb24obil7cmV0dXJuIHcodGhpcyxmdW5jdGlvbihuKXtyZXR1cm4gdm9pZCAwPT09bj9pLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9bil9KX0sbnVsbCxuLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gYXQodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obil7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fHB1KHRoaXMsbikuYXBwZW5kQ2hpbGQobil9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBhdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihuKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9cHUodGhpcyxuKTt0Lmluc2VydEJlZm9yZShuLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBhdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihuKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobix0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBhdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihuKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobix0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgbix0PTA7bnVsbCE9KG49dGhpc1t0XSk7dCsrKTE9PT1uLm5vZGVUeXBlJiYoaS5jbGVhbkRhdGEocyhuLCExKSksbi50ZXh0Q29udGVudD0iIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49bnVsbCE9biYmbix0PW51bGw9PXQ/bjp0LHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGkuY2xvbmUodGhpcyxuLHQpfSl9LGh0bWw6ZnVuY3Rpb24obil7cmV0dXJuIHcodGhpcyxmdW5jdGlvbihuKXt2YXIgdD10aGlzWzBdfHx7fSxyPTAsdT10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1uJiYxPT09dC5ub2RlVHlwZSlyZXR1cm4gdC5pbm5lckhUTUw7aWYoInN0cmluZyI9PXR5cGVvZiBuJiYha2UudGVzdChuKSYmIWhbKGN1LmV4ZWMobil8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXtuPWkuaHRtbFByZWZpbHRlcihuKTt0cnl7Zm9yKDtyPHU7cisrKTE9PT0odD10aGlzW3JdfHx7fSkubm9kZVR5cGUmJihpLmNsZWFuRGF0YShzKHQsITEpKSx0LmlubmVySFRNTD1uKTt0PTB9Y2F0Y2gobil7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKG4pfSxudWxsLG4sYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIGF0KHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKHQpe3ZhciByPXRoaXMucGFyZW50Tm9kZTtpLmluQXJyYXkodGhpcyxuKTwwJiYoaS5jbGVhbkRhdGEocyh0aGlzKSksciYmci5yZXBsYWNlQ2hpbGQodCx0aGlzKSl9LG4pfX0pO2kuZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKG4sdCl7aS5mbltuXT1mdW5jdGlvbihuKXtmb3IodmFyIHUsZj1bXSxlPWkobiksbz1lLmxlbmd0aC0xLHI9MDtyPD1vO3IrKyl1PXI9PT1vP3RoaXM6dGhpcy5jbG9uZSghMCksaShlW3JdKVt0XSh1KSx5aS5hcHBseShmLHUuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhmKX19KTt2YXIgbnI9bmV3IFJlZ0V4cCgiXigiK3N1KyIpKD8hcHgpW2EteiVdKyQiLCJpIiksY2k9ZnVuY3Rpb24odCl7dmFyIGk9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiBpJiZpLm9wZW5lcnx8KGk9biksaS5nZXRDb21wdXRlZFN0eWxlKHQpfSxrdT1mdW5jdGlvbihuLHQsaSl7dmFyIHUscixmPXt9O2ZvcihyIGluIHQpZltyXT1uLnN0eWxlW3JdLG4uc3R5bGVbcl09dFtyXTtmb3IociBpbiB1PWkuY2FsbChuKSx0KW4uc3R5bGVbcl09ZltyXTtyZXR1cm4gdX0saW89bmV3IFJlZ0V4cChiLmpvaW4oInwiKSwiaSIpOyFmdW5jdGlvbigpe2Z1bmN0aW9uIHIoKXtpZih0KXtzLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiO3Quc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSI7Zy5hcHBlbmRDaGlsZChzKS5hcHBlbmRDaGlsZCh0KTt2YXIgaT1uLmdldENvbXB1dGVkU3R5bGUodCk7aD0iMSUiIT09aS50b3A7dj0xMj09PXUoaS5tYXJnaW5MZWZ0KTt0LnN0eWxlLnJpZ2h0PSI2MCUiO2E9MzY9PT11KGkucmlnaHQpO2M9MzY9PT11KGkud2lkdGgpO3Quc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtsPTEyPT09dSh0Lm9mZnNldFdpZHRoLzMpO2cucmVtb3ZlQ2hpbGQocyk7dD1udWxsfX1mdW5jdGlvbiB1KG4pe3JldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQobikpfXZhciBoLGMsbCxhLG8sdixzPWYuY3JlYXRlRWxlbWVudCgiZGl2IiksdD1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Quc3R5bGUmJih0LnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsdC5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLGUuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT10LnN0eWxlLmJhY2tncm91bmRDbGlwLGkuZXh0ZW5kKGUse2JveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSxjfSxwaXhlbEJveFN0eWxlczpmdW5jdGlvbigpe3JldHVybiByKCksYX0scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiByKCksaH0scmVsaWFibGVNYXJnaW5MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSx2fSxzY3JvbGxib3hTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSxsfSxyZWxpYWJsZVRyRGltZW5zaW9uczpmdW5jdGlvbigpe3ZhciB0LGkscix1O3JldHVybiBudWxsPT1vJiYodD1mLmNyZWF0ZUVsZW1lbnQoInRhYmxlIiksaT1mLmNyZWF0ZUVsZW1lbnQoInRyIikscj1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHQuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweCIsaS5zdHlsZS5oZWlnaHQ9IjFweCIsci5zdHlsZS5oZWlnaHQ9IjlweCIsZy5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChpKS5hcHBlbmRDaGlsZChyKSx1PW4uZ2V0Q29tcHV0ZWRTdHlsZShpKSxvPTM8cGFyc2VJbnQodS5oZWlnaHQpLGcucmVtb3ZlQ2hpbGQodCkpLG99fSkpfSgpO3ZhciBndT1bIldlYmtpdCIsIk1veiIsIm1zIl0sbmY9Zi5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZSx0Zj17fTt2YXIgcm89L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLHJmPS9eLS0vLHVvPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSx1Zj17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07aS5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24obix0KXtpZih0KXt2YXIgaT1uaShuLCJvcGFjaXR5Iik7cmV0dXJuIiI9PT1pPyIxIjppfX19fSxjc3NOdW1iZXI6e2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiEwLGNvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxncmlkQXJlYTohMCxncmlkQ29sdW1uOiEwLGdyaWRDb2x1bW5FbmQ6ITAsZ3JpZENvbHVtblN0YXJ0OiEwLGdyaWRSb3c6ITAsZ3JpZFJvd0VuZDohMCxncmlkUm93U3RhcnQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7fSxzdHlsZTpmdW5jdGlvbihuLHQscix1KXtpZihuJiYzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJm4uc3R5bGUpe3ZhciBmLGgsbyxjPXkodCksbD1yZi50ZXN0KHQpLHM9bi5zdHlsZTtpZihsfHwodD10cihjKSksbz1pLmNzc0hvb2tzW3RdfHxpLmNzc0hvb2tzW2NdLHZvaWQgMD09PXIpcmV0dXJuIG8mJiJnZXQiaW4gbyYmdm9pZCAwIT09KGY9by5nZXQobiwhMSx1KSk/ZjpzW3RdOyJzdHJpbmciPT0oaD10eXBlb2YgcikmJihmPWt0LmV4ZWMocikpJiZmWzFdJiYocj1odShuLHQsZiksaD0ibnVtYmVyIik7bnVsbCE9ciYmcj09ciYmKCJudW1iZXIiIT09aHx8bHx8KHIrPWYmJmZbM118fChpLmNzc051bWJlcltjXT8iIjoicHgiKSksZS5jbGVhckNsb25lU3R5bGV8fCIiIT09cnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoc1t0XT0iaW5oZXJpdCIpLG8mJiJzZXQiaW4gbyYmdm9pZCAwPT09KHI9by5zZXQobixyLHUpKXx8KGw/cy5zZXRQcm9wZXJ0eSh0LHIpOnNbdF09cikpfX0sY3NzOmZ1bmN0aW9uKG4sdCxyLHUpe3ZhciBmLGUsbyxzPXkodCk7cmV0dXJuIHJmLnRlc3QodCl8fCh0PXRyKHMpKSwobz1pLmNzc0hvb2tzW3RdfHxpLmNzc0hvb2tzW3NdKSYmImdldCJpbiBvJiYoZj1vLmdldChuLCEwLHIpKSx2b2lkIDA9PT1mJiYoZj1uaShuLHQsdSkpLCJub3JtYWwiPT09ZiYmdCBpbiB1ZiYmKGY9dWZbdF0pLCIiPT09cnx8cj8oZT1wYXJzZUZsb2F0KGYpLCEwPT09cnx8aXNGaW5pdGUoZSk/ZXx8MDpmKTpmfX0pO2kuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24obix0KXtpLmNzc0hvb2tzW3RdPXtnZXQ6ZnVuY3Rpb24obixyLHUpe2lmKHIpcmV0dXJuIXJvLnRlc3QoaS5jc3MobiwiZGlzcGxheSIpKXx8bi5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9lZihuLHQsdSk6a3Uobix1byxmdW5jdGlvbigpe3JldHVybiBlZihuLHQsdSl9KX0sc2V0OmZ1bmN0aW9uKG4scix1KXt2YXIgcyxmPWNpKG4pLGg9IWUuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09Zi5wb3NpdGlvbixjPShofHx1KSYmImJvcmRlci1ib3giPT09aS5jc3MobiwiYm94U2l6aW5nIiwhMSxmKSxvPXU/aXIobix0LHUsYyxmKTowO3JldHVybiBjJiZoJiYoby09TWF0aC5jZWlsKG5bIm9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldLXBhcnNlRmxvYXQoZlt0XSktaXIobix0LCJib3JkZXIiLCExLGYpLS41KSksbyYmKHM9a3QuZXhlYyhyKSkmJiJweCIhPT0oc1szXXx8InB4IikmJihuLnN0eWxlW3RdPXIscj1pLmNzcyhuLHQpKSxmZigwLHIsbyl9fX0pO2kuY3NzSG9va3MubWFyZ2luTGVmdD1kdShlLnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihuLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQobmkobiwibWFyZ2luTGVmdCIpKXx8bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LWt1KG4se21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KTtpLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihuLHQpe2kuY3NzSG9va3Nbbit0XT17ZXhwYW5kOmZ1bmN0aW9uKGkpe2Zvcih2YXIgcj0wLGY9e30sdT0ic3RyaW5nIj09dHlwZW9mIGk/aS5zcGxpdCgiICIpOltpXTtyPDQ7cisrKWZbbitiW3JdK3RdPXVbcl18fHVbci0yXXx8dVswXTtyZXR1cm4gZn19OyJtYXJnaW4iIT09biYmKGkuY3NzSG9va3Nbbit0XS5zZXQ9ZmYpfSk7aS5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihuLHQpe3JldHVybiB3KHRoaXMsZnVuY3Rpb24obix0LHIpe3ZhciBmLGUsbz17fSx1PTA7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKGY9Y2kobiksZT10Lmxlbmd0aDt1PGU7dSsrKW9bdFt1XV09aS5jc3Mobix0W3VdLCExLGYpO3JldHVybiBvfXJldHVybiB2b2lkIDAhPT1yP2kuc3R5bGUobix0LHIpOmkuY3NzKG4sdCl9LG4sdCwxPGFyZ3VtZW50cy5sZW5ndGgpfX0pOygoaS5Ud2Vlbj1hKS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmEsaW5pdDpmdW5jdGlvbihuLHQscix1LGYsZSl7dGhpcy5lbGVtPW47dGhpcy5wcm9wPXI7dGhpcy5lYXNpbmc9Znx8aS5lYXNpbmcuX2RlZmF1bHQ7dGhpcy5vcHRpb25zPXQ7dGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpO3RoaXMuZW5kPXU7dGhpcy51bml0PWV8fChpLmNzc051bWJlcltyXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIG49YS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gbiYmbi5nZXQ/bi5nZXQodGhpcyk6YS5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24obil7dmFyIHQscj1hLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLnBvcz10aGlzLm9wdGlvbnMuZHVyYXRpb24/dD1pLmVhc2luZ1t0aGlzLmVhc2luZ10obix0aGlzLm9wdGlvbnMuZHVyYXRpb24qbiwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0PW4sdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksciYmci5zZXQ/ci5zZXQodGhpcyk6YS5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSkuaW5pdC5wcm90b3R5cGU9YS5wcm90b3R5cGU7KGEucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybiAxIT09bi5lbGVtLm5vZGVUeXBlfHxudWxsIT1uLmVsZW1bbi5wcm9wXSYmbnVsbD09bi5lbGVtLnN0eWxlW24ucHJvcF0/bi5lbGVtW24ucHJvcF06KHQ9aS5jc3Mobi5lbGVtLG4ucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKG4pe2kuZnguc3RlcFtuLnByb3BdP2kuZnguc3RlcFtuLnByb3BdKG4pOjEhPT1uLmVsZW0ubm9kZVR5cGV8fCFpLmNzc0hvb2tzW24ucHJvcF0mJm51bGw9PW4uZWxlbS5zdHlsZVt0cihuLnByb3ApXT9uLmVsZW1bbi5wcm9wXT1uLm5vdzppLnN0eWxlKG4uZWxlbSxuLnByb3Asbi5ub3crbi51bml0KX19fSkuc2Nyb2xsVG9wPWEucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihuKXtuLmVsZW0ubm9kZVR5cGUmJm4uZWxlbS5wYXJlbnROb2RlJiYobi5lbGVtW24ucHJvcF09bi5ub3cpfX07aS5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihuKXtyZXR1cm4gbn0sc3dpbmc6ZnVuY3Rpb24obil7cmV0dXJuLjUtTWF0aC5jb3MobipNYXRoLlBJKS8yfSxfZGVmYXVsdDoic3dpbmcifTtpLmZ4PWEucHJvdG90eXBlLmluaXQ7aS5meC5zdGVwPXt9O2hmPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLztjZj0vcXVldWVIb29rcyQvO2kuQW5pbWF0aW9uPWkuZXh0ZW5kKHYse3R3ZWVuZXJzOnsiKiI6W2Z1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5jcmVhdGVUd2VlbihuLHQpO3JldHVybiBodShpLmVsZW0sbixrdC5leGVjKHQpLGkpLGl9XX0sdHdlZW5lcjpmdW5jdGlvbihuLHQpe3Uobik/KHQ9bixuPVsiKiJdKTpuPW4ubWF0Y2gobCk7Zm9yKHZhciBpLHI9MCxmPW4ubGVuZ3RoO3I8ZjtyKyspaT1uW3JdLHYudHdlZW5lcnNbaV09di50d2VlbmVyc1tpXXx8W10sdi50d2VlbmVyc1tpXS51bnNoaWZ0KHQpfSxwcmVmaWx0ZXJzOltmdW5jdGlvbihuLHQsdSl7dmFyIGYseSx3LGMsYixoLG8sbCxrPSJ3aWR0aCJpbiB0fHwiaGVpZ2h0ImluIHQsdj10aGlzLHA9e30scz1uLnN0eWxlLGE9bi5ub2RlVHlwZSYmZHQobiksZT1yLmdldChuLCJmeHNob3ciKTtmb3IoZiBpbiB1LnF1ZXVlfHwobnVsbD09KGM9aS5fcXVldWVIb29rcyhuLCJmeCIpKS51bnF1ZXVlZCYmKGMudW5xdWV1ZWQ9MCxiPWMuZW1wdHkuZmlyZSxjLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXtjLnVucXVldWVkfHxiKCl9KSxjLnVucXVldWVkKyssdi5hbHdheXMoZnVuY3Rpb24oKXt2LmFsd2F5cyhmdW5jdGlvbigpe2MudW5xdWV1ZWQtLTtpLnF1ZXVlKG4sImZ4IikubGVuZ3RofHxjLmVtcHR5LmZpcmUoKX0pfSkpLHQpaWYoeT10W2ZdLGhmLnRlc3QoeSkpe2lmKGRlbGV0ZSB0W2ZdLHc9d3x8InRvZ2dsZSI9PT15LHk9PT0oYT8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09eXx8IWV8fHZvaWQgMD09PWVbZl0pY29udGludWU7YT0hMH1wW2ZdPWUmJmVbZl18fGkuc3R5bGUobixmKX1pZigoaD0haS5pc0VtcHR5T2JqZWN0KHQpKXx8IWkuaXNFbXB0eU9iamVjdChwKSlmb3IoZiBpbiBrJiYxPT09bi5ub2RlVHlwZSYmKHUub3ZlcmZsb3c9W3Mub3ZlcmZsb3cscy5vdmVyZmxvd1gscy5vdmVyZmxvd1ldLG51bGw9PShvPWUmJmUuZGlzcGxheSkmJihvPXIuZ2V0KG4sImRpc3BsYXkiKSksIm5vbmUiPT09KGw9aS5jc3MobiwiZGlzcGxheSIpKSYmKG8/bD1vOihodChbbl0sITApLG89bi5zdHlsZS5kaXNwbGF5fHxvLGw9aS5jc3MobiwiZGlzcGxheSIpLGh0KFtuXSkpKSwoImlubGluZSI9PT1sfHwiaW5saW5lLWJsb2NrIj09PWwmJm51bGwhPW8pJiYibm9uZSI9PT1pLmNzcyhuLCJmbG9hdCIpJiYoaHx8KHYuZG9uZShmdW5jdGlvbigpe3MuZGlzcGxheT1vfSksbnVsbD09byYmKGw9cy5kaXNwbGF5LG89Im5vbmUiPT09bD8iIjpsKSkscy5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSksdS5vdmVyZmxvdyYmKHMub3ZlcmZsb3c9ImhpZGRlbiIsdi5hbHdheXMoZnVuY3Rpb24oKXtzLm92ZXJmbG93PXUub3ZlcmZsb3dbMF07cy5vdmVyZmxvd1g9dS5vdmVyZmxvd1sxXTtzLm92ZXJmbG93WT11Lm92ZXJmbG93WzJdfSkpLGg9ITEscClofHwoZT8iaGlkZGVuImluIGUmJihhPWUuaGlkZGVuKTplPXIuYWNjZXNzKG4sImZ4c2hvdyIse2Rpc3BsYXk6b30pLHcmJihlLmhpZGRlbj0hYSksYSYmaHQoW25dLCEwKSx2LmRvbmUoZnVuY3Rpb24oKXtmb3IoZiBpbiBhfHxodChbbl0pLHIucmVtb3ZlKG4sImZ4c2hvdyIpLHApaS5zdHlsZShuLGYscFtmXSl9KSksaD1hZihhP2VbZl06MCxmLHYpLGYgaW4gZXx8KGVbZl09aC5zdGFydCxhJiYoaC5lbmQ9aC5zdGFydCxoLnN0YXJ0PTApKX1dLHByZWZpbHRlcjpmdW5jdGlvbihuLHQpe3Q/di5wcmVmaWx0ZXJzLnVuc2hpZnQobik6di5wcmVmaWx0ZXJzLnB1c2gobil9fSk7aS5zcGVlZD1mdW5jdGlvbihuLHQscil7dmFyIGY9biYmIm9iamVjdCI9PXR5cGVvZiBuP2kuZXh0ZW5kKHt9LG4pOntjb21wbGV0ZTpyfHwhciYmdHx8dShuKSYmbixkdXJhdGlvbjpuLGVhc2luZzpyJiZ0fHx0JiYhdSh0KSYmdH07cmV0dXJuIGkuZngub2ZmP2YuZHVyYXRpb249MDoibnVtYmVyIiE9dHlwZW9mIGYuZHVyYXRpb24mJihmLmR1cmF0aW9uPWYuZHVyYXRpb24gaW4gaS5meC5zcGVlZHM/aS5meC5zcGVlZHNbZi5kdXJhdGlvbl06aS5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPWYucXVldWUmJiEwIT09Zi5xdWV1ZXx8KGYucXVldWU9ImZ4IiksZi5vbGQ9Zi5jb21wbGV0ZSxmLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dShmLm9sZCkmJmYub2xkLmNhbGwodGhpcyk7Zi5xdWV1ZSYmaS5kZXF1ZXVlKHRoaXMsZi5xdWV1ZSl9LGZ9O2kuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIHRoaXMuZmlsdGVyKGR0KS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LG4saSxyKX0sYW5pbWF0ZTpmdW5jdGlvbihuLHQsdSxmKXt2YXIgcz1pLmlzRW1wdHlPYmplY3Qobiksbz1pLnNwZWVkKHQsdSxmKSxlPWZ1bmN0aW9uKCl7dmFyIHQ9dih0aGlzLGkuZXh0ZW5kKHt9LG4pLG8pOyhzfHxyLmdldCh0aGlzLCJmaW5pc2giKSkmJnQuc3RvcCghMCl9O3JldHVybiBlLmZpbmlzaD1lLHN8fCExPT09by5xdWV1ZT90aGlzLmVhY2goZSk6dGhpcy5xdWV1ZShvLnF1ZXVlLGUpfSxzdG9wOmZ1bmN0aW9uKG4sdCx1KXt2YXIgZj1mdW5jdGlvbihuKXt2YXIgdD1uLnN0b3A7ZGVsZXRlIG4uc3RvcDt0KHUpfTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIG4mJih1PXQsdD1uLG49dm9pZCAwKSx0JiZ0aGlzLnF1ZXVlKG58fCJmeCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBzPSEwLHQ9bnVsbCE9biYmbisicXVldWVIb29rcyIsbz1pLnRpbWVycyxlPXIuZ2V0KHRoaXMpO2lmKHQpZVt0XSYmZVt0XS5zdG9wJiZmKGVbdF0pO2Vsc2UgZm9yKHQgaW4gZSllW3RdJiZlW3RdLnN0b3AmJmNmLnRlc3QodCkmJmYoZVt0XSk7Zm9yKHQ9by5sZW5ndGg7dC0tOylvW3RdLmVsZW0hPT10aGlzfHxudWxsIT1uJiZvW3RdLnF1ZXVlIT09bnx8KG9bdF0uYW5pbS5zdG9wKHUpLHM9ITEsby5zcGxpY2UodCwxKSk7IXMmJnV8fGkuZGVxdWV1ZSh0aGlzLG4pfSl9LGZpbmlzaDpmdW5jdGlvbihuKXtyZXR1cm4hMSE9PW4mJihuPW58fCJmeCIpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0LGU9ci5nZXQodGhpcyksdT1lW24rInF1ZXVlIl0sbz1lW24rInF1ZXVlSG9va3MiXSxmPWkudGltZXJzLHM9dT91Lmxlbmd0aDowO2ZvcihlLmZpbmlzaD0hMCxpLnF1ZXVlKHRoaXMsbixbXSksbyYmby5zdG9wJiZvLnN0b3AuY2FsbCh0aGlzLCEwKSx0PWYubGVuZ3RoO3QtLTspZlt0XS5lbGVtPT09dGhpcyYmZlt0XS5xdWV1ZT09PW4mJihmW3RdLmFuaW0uc3RvcCghMCksZi5zcGxpY2UodCwxKSk7Zm9yKHQ9MDt0PHM7dCsrKXVbdF0mJnVbdF0uZmluaXNoJiZ1W3RdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSBlLmZpbmlzaH0pfX0pO2kuZWFjaChbInRvZ2dsZSIsInNob3ciLCJoaWRlIl0sZnVuY3Rpb24obix0KXt2YXIgcj1pLmZuW3RdO2kuZm5bdF09ZnVuY3Rpb24obixpLHUpe3JldHVybiBudWxsPT1ufHwiYm9vbGVhbiI9PXR5cGVvZiBuP3IuYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuYW5pbWF0ZShhaSh0LCEwKSxuLGksdSl9fSk7aS5lYWNoKHtzbGlkZURvd246YWkoInNob3ciKSxzbGlkZVVwOmFpKCJoaWRlIiksc2xpZGVUb2dnbGU6YWkoInRvZ2dsZSIpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24obix0KXtpLmZuW25dPWZ1bmN0aW9uKG4saSxyKXtyZXR1cm4gdGhpcy5hbmltYXRlKHQsbixpLHIpfX0pO2kudGltZXJzPVtdO2kuZngudGljaz1mdW5jdGlvbigpe3ZhciByLG49MCx0PWkudGltZXJzO2Zvcih2dD1EYXRlLm5vdygpO248dC5sZW5ndGg7bisrKShyPXRbbl0pKCl8fHRbbl0hPT1yfHx0LnNwbGljZShuLS0sMSk7dC5sZW5ndGh8fGkuZnguc3RvcCgpO3Z0PXZvaWQgMH07aS5meC50aW1lcj1mdW5jdGlvbihuKXtpLnRpbWVycy5wdXNoKG4pO2kuZnguc3RhcnQoKX07aS5meC5pbnRlcnZhbD0xMztpLmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7bGl8fChsaT0hMCxycigpKX07aS5meC5zdG9wPWZ1bmN0aW9uKCl7bGk9bnVsbH07aS5meC5zcGVlZHM9e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH07aS5mbi5kZWxheT1mdW5jdGlvbih0LHIpe3JldHVybiB0PWkuZngmJmkuZnguc3BlZWRzW3RdfHx0LHI9cnx8ImZ4Iix0aGlzLnF1ZXVlKHIsZnVuY3Rpb24oaSxyKXt2YXIgdT1uLnNldFRpbWVvdXQoaSx0KTtyLnN0b3A9ZnVuY3Rpb24oKXtuLmNsZWFyVGltZW91dCh1KX19KX07eXQ9Zi5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3NmPWYuY3JlYXRlRWxlbWVudCgic2VsZWN0IikuYXBwZW5kQ2hpbGQoZi5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSk7eXQudHlwZT0iY2hlY2tib3giO2UuY2hlY2tPbj0iIiE9PXl0LnZhbHVlO2Uub3B0U2VsZWN0ZWQ9c2Yuc2VsZWN0ZWQ7KHl0PWYuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkudmFsdWU9InQiO3l0LnR5cGU9InJhZGlvIjtlLnJhZGlvVmFsdWU9InQiPT09eXQudmFsdWU7cHQ9aS5leHByLmF0dHJIYW5kbGU7aS5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24obix0KXtyZXR1cm4gdyh0aGlzLGkuYXR0cixuLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aS5yZW1vdmVBdHRyKHRoaXMsbil9KX19KTtpLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihuLHQscil7dmFyIGYsdSxlPW4ubm9kZVR5cGU7aWYoMyE9PWUmJjghPT1lJiYyIT09ZSlyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIG4uZ2V0QXR0cmlidXRlP2kucHJvcChuLHQscik6KDE9PT1lJiZpLmlzWE1MRG9jKG4pfHwodT1pLmF0dHJIb29rc1t0LnRvTG93ZXJDYXNlKCldfHwoaS5leHByLm1hdGNoLmJvb2wudGVzdCh0KT92Zjp2b2lkIDApKSx2b2lkIDAhPT1yP251bGw9PT1yP3ZvaWQgaS5yZW1vdmVBdHRyKG4sdCk6dSYmInNldCJpbiB1JiZ2b2lkIDAhPT0oZj11LnNldChuLHIsdCkpP2Y6KG4uc2V0QXR0cmlidXRlKHQscisiIikscik6dSYmImdldCJpbiB1JiZudWxsIT09KGY9dS5nZXQobix0KSk/ZjpudWxsPT0oZj1pLmZpbmQuYXR0cihuLHQpKT92b2lkIDA6Zil9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKG4sdCl7aWYoIWUucmFkaW9WYWx1ZSYmInJhZGlvIj09PXQmJmMobiwiaW5wdXQiKSl7dmFyIGk9bi52YWx1ZTtyZXR1cm4gbi5zZXRBdHRyaWJ1dGUoInR5cGUiLHQpLGkmJihuLnZhbHVlPWkpLHR9fX19LHJlbW92ZUF0dHI6ZnVuY3Rpb24obix0KXt2YXIgaSx1PTAscj10JiZ0Lm1hdGNoKGwpO2lmKHImJjE9PT1uLm5vZGVUeXBlKXdoaWxlKGk9clt1KytdKW4ucmVtb3ZlQXR0cmlidXRlKGkpfX0pO3ZmPXtzZXQ6ZnVuY3Rpb24obix0LHIpe3JldHVybiExPT09dD9pLnJlbW92ZUF0dHIobixyKTpuLnNldEF0dHJpYnV0ZShyLHIpLHJ9fTtpLmVhY2goaS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksZnVuY3Rpb24obix0KXt2YXIgcj1wdFt0XXx8aS5maW5kLmF0dHI7cHRbdF09ZnVuY3Rpb24obix0LGkpe3ZhciBmLGUsdT10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIGl8fChlPXB0W3VdLHB0W3VdPWYsZj1udWxsIT1yKG4sdCxpKT91Om51bGwscHRbdV09ZSksZn19KTt5Zj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pO3BmPS9eKD86YXxhcmVhKSQvaTtpLmZuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihuLHQpe3JldHVybiB3KHRoaXMsaS5wcm9wLG4sdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkZWxldGUgdGhpc1tpLnByb3BGaXhbbl18fG5dfSl9fSk7aS5leHRlbmQoe3Byb3A6ZnVuY3Rpb24obix0LHIpe3ZhciBmLHUsZT1uLm5vZGVUeXBlO2lmKDMhPT1lJiY4IT09ZSYmMiE9PWUpcmV0dXJuIDE9PT1lJiZpLmlzWE1MRG9jKG4pfHwodD1pLnByb3BGaXhbdF18fHQsdT1pLnByb3BIb29rc1t0XSksdm9pZCAwIT09cj91JiYic2V0ImluIHUmJnZvaWQgMCE9PShmPXUuc2V0KG4scix0KSk/ZjpuW3RdPXI6dSYmImdldCJpbiB1JiZudWxsIT09KGY9dS5nZXQobix0KSk/ZjpuW3RdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24obil7dmFyIHQ9aS5maW5kLmF0dHIobiwidGFiaW5kZXgiKTtyZXR1cm4gdD9wYXJzZUludCh0LDEwKTp5Zi50ZXN0KG4ubm9kZU5hbWUpfHxwZi50ZXN0KG4ubm9kZU5hbWUpJiZuLmhyZWY/MDotMX19fSxwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn19KTtlLm9wdFNlbGVjdGVkfHwoaS5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihuKXt2YXIgdD1uLnBhcmVudE5vZGU7cmV0dXJuIHQmJnQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsbnVsbH0sc2V0OmZ1bmN0aW9uKG4pe3ZhciB0PW4ucGFyZW50Tm9kZTt0JiYodC5zZWxlY3RlZEluZGV4LHQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpfX0pO2kuZWFjaChbInRhYkluZGV4IiwicmVhZE9ubHkiLCJtYXhMZW5ndGgiLCJjZWxsU3BhY2luZyIsImNlbGxQYWRkaW5nIiwicm93U3BhbiIsImNvbFNwYW4iLCJ1c2VNYXAiLCJmcmFtZUJvcmRlciIsImNvbnRlbnRFZGl0YWJsZSJdLGZ1bmN0aW9uKCl7aS5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pO2kuZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihuKXt2YXIgbyx0LHIsZixlLHMsaCxjPTA7aWYodShuKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe2kodGhpcykuYWRkQ2xhc3Mobi5jYWxsKHRoaXMsdCxpdCh0aGlzKSkpfSk7aWYoKG89dXIobikpLmxlbmd0aCl3aGlsZSh0PXRoaXNbYysrXSlpZihmPWl0KHQpLHI9MT09PXQubm9kZVR5cGUmJiIgIit0dChmKSsiICIpe2ZvcihzPTA7ZT1vW3MrK107KXIuaW5kZXhPZigiICIrZSsiICIpPDAmJihyKz1lKyIgIik7ZiE9PShoPXR0KHIpKSYmdC5zZXRBdHRyaWJ1dGUoImNsYXNzIixoKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24obil7dmFyIG8scix0LGYsZSxzLGgsYz0wO2lmKHUobikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXtpKHRoaXMpLnJlbW92ZUNsYXNzKG4uY2FsbCh0aGlzLHQsaXQodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoImNsYXNzIiwiIik7aWYoKG89dXIobikpLmxlbmd0aCl3aGlsZShyPXRoaXNbYysrXSlpZihmPWl0KHIpLHQ9MT09PXIubm9kZVR5cGUmJiIgIit0dChmKSsiICIpe2ZvcihzPTA7ZT1vW3MrK107KXdoaWxlKC0xPHQuaW5kZXhPZigiICIrZSsiICIpKXQ9dC5yZXBsYWNlKCIgIitlKyIgIiwiICIpO2YhPT0oaD10dCh0KSkmJnIuc2V0QXR0cmlidXRlKCJjbGFzcyIsaCl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKG4sdCl7dmFyIGY9dHlwZW9mIG4sZT0ic3RyaW5nIj09PWZ8fEFycmF5LmlzQXJyYXkobik7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmZT90P3RoaXMuYWRkQ2xhc3Mobik6dGhpcy5yZW1vdmVDbGFzcyhuKTp1KG4pP3RoaXMuZWFjaChmdW5jdGlvbihyKXtpKHRoaXMpLnRvZ2dsZUNsYXNzKG4uY2FsbCh0aGlzLHIsaXQodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxvLHUscztpZihlKWZvcihvPTAsdT1pKHRoaXMpLHM9dXIobik7dD1zW28rK107KXUuaGFzQ2xhc3ModCk/dS5yZW1vdmVDbGFzcyh0KTp1LmFkZENsYXNzKHQpO2Vsc2Ugdm9pZCAwIT09biYmImJvb2xlYW4iIT09Znx8KCh0PWl0KHRoaXMpKSYmci5zZXQodGhpcywiX19jbGFzc05hbWVfXyIsdCksdGhpcy5zZXRBdHRyaWJ1dGUmJnRoaXMuc2V0QXR0cmlidXRlKCJjbGFzcyIsdHx8ITE9PT1uPyIiOnIuZ2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpKX0pfSxoYXNDbGFzczpmdW5jdGlvbihuKXtmb3IodmFyIHQscj0wLGk9IiAiK24rIiAiO3Q9dGhpc1tyKytdOylpZigxPT09dC5ub2RlVHlwZSYmLTE8KCIgIit0dChpdCh0KSkrIiAiKS5pbmRleE9mKGkpKXJldHVybiEwO3JldHVybiExfX0pO3dmPS9cci9nO2kuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHQscixlLGY9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT11KG4pLHRoaXMuZWFjaChmdW5jdGlvbihyKXt2YXIgdTsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh1PWU/bi5jYWxsKHRoaXMscixpKHRoaXMpLnZhbCgpKTpuKT91PSIiOiJudW1iZXIiPT10eXBlb2YgdT91Kz0iIjpBcnJheS5pc0FycmF5KHUpJiYodT1pLm1hcCh1LGZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uPyIiOm4rIiJ9KSksKHQ9aS52YWxIb29rc1t0aGlzLnR5cGVdfHxpLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHQmJnZvaWQgMCE9PXQuc2V0KHRoaXMsdSwidmFsdWUiKXx8KHRoaXMudmFsdWU9dSkpfSkpOmY/KHQ9aS52YWxIb29rc1tmLnR5cGVdfHxpLnZhbEhvb2tzW2Yubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHQmJnZvaWQgMCE9PShyPXQuZ2V0KGYsInZhbHVlIikpP3I6InN0cmluZyI9PXR5cGVvZihyPWYudmFsdWUpP3IucmVwbGFjZSh3ZiwiIik6bnVsbD09cj8iIjpyOnZvaWQgMH19KTtpLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKG4pe3ZhciB0PWkuZmluZC5hdHRyKG4sInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDp0dChpLnRleHQobikpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24obil7Zm9yKHZhciBlLHQsbz1uLm9wdGlvbnMsdT1uLnNlbGVjdGVkSW5kZXgsZj0ic2VsZWN0LW9uZSI9PT1uLnR5cGUscz1mP251bGw6W10saD1mP3UrMTpvLmxlbmd0aCxyPXU8MD9oOmY/dTowO3I8aDtyKyspaWYoKCh0PW9bcl0pLnNlbGVjdGVkfHxyPT09dSkmJiF0LmRpc2FibGVkJiYoIXQucGFyZW50Tm9kZS5kaXNhYmxlZHx8IWModC5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYoZT1pKHQpLnZhbCgpLGYpcmV0dXJuIGU7cy5wdXNoKGUpfXJldHVybiBzfSxzZXQ6ZnVuY3Rpb24obix0KXtmb3IodmFyIHIsdSxmPW4ub3B0aW9ucyxlPWkubWFrZUFycmF5KHQpLG89Zi5sZW5ndGg7by0tOykoKHU9ZltvXSkuc2VsZWN0ZWQ9LTE8aS5pbkFycmF5KGkudmFsSG9va3Mub3B0aW9uLmdldCh1KSxlKSkmJihyPSEwKTtyZXR1cm4gcnx8KG4uc2VsZWN0ZWRJbmRleD0tMSksZX19fX0pO2kuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe2kudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihuLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIG4uY2hlY2tlZD0tMTxpLmluQXJyYXkoaShuKS52YWwoKSx0KX19O2UuY2hlY2tPbnx8KGkudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT09bi5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjpuLnZhbHVlfSl9KTtlLmZvY3VzaW49Im9uZm9jdXNpbiJpbiBuO2ZyPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLztlcj1mdW5jdGlvbihuKXtuLnN0b3BQcm9wYWdhdGlvbigpfTtpLmV4dGVuZChpLmV2ZW50LHt0cmlnZ2VyOmZ1bmN0aW9uKHQsZSxvLHMpe3ZhciBrLGMsbCxkLHYseSxhLHAsdz1bb3x8Zl0saD11aS5jYWxsKHQsInR5cGUiKT90LnR5cGU6dCxiPXVpLmNhbGwodCwibmFtZXNwYWNlIik/dC5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihjPXA9bD1vPW98fGYsMyE9PW8ubm9kZVR5cGUmJjghPT1vLm5vZGVUeXBlJiYhZnIudGVzdChoK2kuZXZlbnQudHJpZ2dlcmVkKSYmKC0xPGguaW5kZXhPZigiLiIpJiYoaD0oYj1oLnNwbGl0KCIuIikpLnNoaWZ0KCksYi5zb3J0KCkpLHY9aC5pbmRleE9mKCI6Iik8MCYmIm9uIitoLCh0PXRbaS5leHBhbmRvXT90Om5ldyBpLkV2ZW50KGgsIm9iamVjdCI9PXR5cGVvZiB0JiZ0KSkuaXNUcmlnZ2VyPXM/MjozLHQubmFtZXNwYWNlPWIuam9pbigiLiIpLHQucm5hbWVzcGFjZT10Lm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIitiLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsdC5yZXN1bHQ9dm9pZCAwLHQudGFyZ2V0fHwodC50YXJnZXQ9byksZT1udWxsPT1lP1t0XTppLm1ha2VBcnJheShlLFt0XSksYT1pLmV2ZW50LnNwZWNpYWxbaF18fHt9LHN8fCFhLnRyaWdnZXJ8fCExIT09YS50cmlnZ2VyLmFwcGx5KG8sZSkpKXtpZighcyYmIWEubm9CdWJibGUmJiFydChvKSl7Zm9yKGQ9YS5kZWxlZ2F0ZVR5cGV8fGgsZnIudGVzdChkK2gpfHwoYz1jLnBhcmVudE5vZGUpO2M7Yz1jLnBhcmVudE5vZGUpdy5wdXNoKGMpLGw9YztsPT09KG8ub3duZXJEb2N1bWVudHx8ZikmJncucHVzaChsLmRlZmF1bHRWaWV3fHxsLnBhcmVudFdpbmRvd3x8bil9Zm9yKGs9MDsoYz13W2srK10pJiYhdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOylwPWMsdC50eXBlPTE8az9kOmEuYmluZFR5cGV8fGgsKHk9KHIuZ2V0KGMsImV2ZW50cyIpfHxPYmplY3QuY3JlYXRlKG51bGwpKVt0LnR5cGVdJiZyLmdldChjLCJoYW5kbGUiKSkmJnkuYXBwbHkoYyxlKSwoeT12JiZjW3ZdKSYmeS5hcHBseSYmb3QoYykmJih0LnJlc3VsdD15LmFwcGx5KGMsZSksITE9PT10LnJlc3VsdCYmdC5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gdC50eXBlPWgsc3x8dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8YS5fZGVmYXVsdCYmITEhPT1hLl9kZWZhdWx0LmFwcGx5KHcucG9wKCksZSl8fCFvdChvKXx8diYmdShvW2hdKSYmIXJ0KG8pJiYoKGw9b1t2XSkmJihvW3ZdPW51bGwpLGkuZXZlbnQudHJpZ2dlcmVkPWgsdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZwLmFkZEV2ZW50TGlzdGVuZXIoaCxlciksb1toXSgpLHQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmcC5yZW1vdmVFdmVudExpc3RlbmVyKGgsZXIpLGkuZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxsJiYob1t2XT1sKSksdC5yZXN1bHR9fSxzaW11bGF0ZTpmdW5jdGlvbihuLHQscil7dmFyIHU9aS5leHRlbmQobmV3IGkuRXZlbnQscix7dHlwZTpuLGlzU2ltdWxhdGVkOiEwfSk7aS5ldmVudC50cmlnZ2VyKHUsbnVsbCx0KX19KTtpLmZuLmV4dGVuZCh7dHJpZ2dlcjpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpLmV2ZW50LnRyaWdnZXIobix0LHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKG4sdCl7dmFyIHI9dGhpc1swXTtpZihyKXJldHVybiBpLmV2ZW50LnRyaWdnZXIobix0LHIsITApfX0pO2UuZm9jdXNpbnx8aS5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihuLHQpe3ZhciB1PWZ1bmN0aW9uKG4pe2kuZXZlbnQuc2ltdWxhdGUodCxuLnRhcmdldCxpLmV2ZW50LmZpeChuKSl9O2kuZXZlbnQuc3BlY2lhbFt0XT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsZj1yLmFjY2VzcyhpLHQpO2Z8fGkuYWRkRXZlbnRMaXN0ZW5lcihuLHUsITApO3IuYWNjZXNzKGksdCwoZnx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLmRvY3VtZW50fHx0aGlzLGY9ci5hY2Nlc3MoaSx0KS0xO2Y/ci5hY2Nlc3MoaSx0LGYpOihpLnJlbW92ZUV2ZW50TGlzdGVuZXIobix1LCEwKSxyLnJlbW92ZShpLHQpKX19fSk7dmFyIHRpPW4ubG9jYXRpb24sYmY9e2d1aWQ6RGF0ZS5ub3coKX0sb3I9L1w/LztpLnBhcnNlWE1MPWZ1bmN0aW9uKHQpe3ZhciByO2lmKCF0fHwic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuIG51bGw7dHJ5e3I9KG5ldyBuLkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKHQsInRleHQveG1sIil9Y2F0Y2godCl7cj12b2lkIDB9cmV0dXJuIHImJiFyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aHx8aS5lcnJvcigiSW52YWxpZCBYTUw6ICIrdCkscn07dmFyIGZvPS9cW1xdJC8sa2Y9L1xyP1xuL2csZW89L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLG9vPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtpLnBhcmFtPWZ1bmN0aW9uKG4sdCl7dmFyIHIsZj1bXSxlPWZ1bmN0aW9uKG4sdCl7dmFyIGk9dSh0KT90KCk6dDtmW2YubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQobikrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1pPyIiOmkpfTtpZihudWxsPT1uKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkobil8fG4uanF1ZXJ5JiYhaS5pc1BsYWluT2JqZWN0KG4pKWkuZWFjaChuLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihyIGluIG4pc3IocixuW3JdLHQsZSk7cmV0dXJuIGYuam9pbigiJiIpfTtpLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGkucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgbj1pLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gbj9pLm1ha2VBcnJheShuKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIG49dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFpKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmb28udGVzdCh0aGlzLm5vZGVOYW1lKSYmIWVvLnRlc3QobikmJih0aGlzLmNoZWNrZWR8fCFndC50ZXN0KG4pKX0pLm1hcChmdW5jdGlvbihuLHQpe3ZhciByPWkodGhpcykudmFsKCk7cmV0dXJuIG51bGw9PXI/bnVsbDpBcnJheS5pc0FycmF5KHIpP2kubWFwKHIsZnVuY3Rpb24obil7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOm4ucmVwbGFjZShrZiwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpyLnJlcGxhY2Uoa2YsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgc289LyUyMC9nLGhvPS8jLiokLyxjbz0vKFs/Jl0pXz1bXiZdKi8sbG89L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxhbz0vXig/OkdFVHxIRUFEKSQvLHZvPS9eXC9cLy8sZGY9e30saHI9e30sZ2Y9IiovIi5jb25jYXQoIioiKSxjcj1mLmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gY3IuaHJlZj10aS5ocmVmLGkuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDp0aS5ocmVmLHR5cGU6IkdFVCIsaXNMb2NhbDovXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLy50ZXN0KHRpLnByb3RvY29sKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsImFzeW5jIjohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6Z2YsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L1xieG1sXGIvLGh0bWw6L1xiaHRtbC8sanNvbjovXGJqc29uXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6SlNPTi5wYXJzZSwidGV4dCB4bWwiOmkucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihuLHQpe3JldHVybiB0P2xyKGxyKG4saS5hamF4U2V0dGluZ3MpLHQpOmxyKGkuYWpheFNldHRpbmdzLG4pfSxhamF4UHJlZmlsdGVyOm5lKGRmKSxhamF4VHJhbnNwb3J0Om5lKGhyKSxhamF4OmZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gYih0LHIsZixjKXt2YXIgdixydCxiLHAsZyxsPXI7c3x8KHM9ITAsZCYmbi5jbGVhclRpbWVvdXQoZCksYT12b2lkIDAsaz1jfHwiIixlLnJlYWR5U3RhdGU9MDx0PzQ6MCx2PTIwMDw9dCYmdDwzMDB8fDMwND09PXQsZiYmKHA9ZnVuY3Rpb24obix0LGkpe2Zvcih2YXIgZSx1LGYsbyxzPW4uY29udGVudHMscj1uLmRhdGFUeXBlczsiKiI9PT1yWzBdOylyLnNoaWZ0KCksdm9pZCAwPT09ZSYmKGU9bi5taW1lVHlwZXx8dC5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIikpO2lmKGUpZm9yKHUgaW4gcylpZihzW3VdJiZzW3VdLnRlc3QoZSkpe3IudW5zaGlmdCh1KTticmVha31pZihyWzBdaW4gaSlmPXJbMF07ZWxzZXtmb3IodSBpbiBpKXtpZighclswXXx8bi5jb252ZXJ0ZXJzW3UrIiAiK3JbMF1dKXtmPXU7YnJlYWt9b3x8KG89dSl9Zj1mfHxvfWlmKGYpcmV0dXJuIGYhPT1yWzBdJiZyLnVuc2hpZnQoZiksaVtmXX0odSxlLGYpKSwhdiYmLTE8aS5pbkFycmF5KCJzY3JpcHQiLHUuZGF0YVR5cGVzKSYmKHUuY29udmVydGVyc1sidGV4dCBzY3JpcHQiXT1mdW5jdGlvbigpe30pLHA9ZnVuY3Rpb24obix0LGkscil7dmFyIGgsdSxmLHMsZSxvPXt9LGM9bi5kYXRhVHlwZXMuc2xpY2UoKTtpZihjWzFdKWZvcihmIGluIG4uY29udmVydGVycylvW2YudG9Mb3dlckNhc2UoKV09bi5jb252ZXJ0ZXJzW2ZdO2Zvcih1PWMuc2hpZnQoKTt1OylpZihuLnJlc3BvbnNlRmllbGRzW3VdJiYoaVtuLnJlc3BvbnNlRmllbGRzW3VdXT10KSwhZSYmciYmbi5kYXRhRmlsdGVyJiYodD1uLmRhdGFGaWx0ZXIodCxuLmRhdGFUeXBlKSksZT11LHU9Yy5zaGlmdCgpKWlmKCIqIj09PXUpdT1lO2Vsc2UgaWYoIioiIT09ZSYmZSE9PXUpe2lmKCEoZj1vW2UrIiAiK3VdfHxvWyIqICIrdV0pKWZvcihoIGluIG8paWYoKHM9aC5zcGxpdCgiICIpKVsxXT09PXUmJihmPW9bZSsiICIrc1swXV18fG9bIiogIitzWzBdXSkpeyEwPT09Zj9mPW9baF06ITAhPT1vW2hdJiYodT1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1mKWlmKGYmJm4udGhyb3dzKXQ9Zih0KTtlbHNlIHRyeXt0PWYodCl9Y2F0Y2gobil7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6Zj9uOiJObyBjb252ZXJzaW9uIGZyb20gIitlKyIgdG8gIit1fX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh1LHAsZSx2KSx2Pyh1LmlmTW9kaWZpZWQmJigoZz1lLmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoaS5sYXN0TW9kaWZpZWRbb109ZyksKGc9ZS5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKGkuZXRhZ1tvXT1nKSksMjA0PT09dHx8IkhFQUQiPT09dS50eXBlP2w9Im5vY29udGVudCI6MzA0PT09dD9sPSJub3Rtb2RpZmllZCI6KGw9cC5zdGF0ZSxydD1wLmRhdGEsdj0hKGI9cC5lcnJvcikpKTooYj1sLCF0JiZsfHwobD0iZXJyb3IiLHQ8MCYmKHQ9MCkpKSxlLnN0YXR1cz10LGUuc3RhdHVzVGV4dD0ocnx8bCkrIiIsdj90dC5yZXNvbHZlV2l0aChoLFtydCxsLGVdKTp0dC5yZWplY3RXaXRoKGgsW2UsbCxiXSksZS5zdGF0dXNDb2RlKHcpLHc9dm9pZCAwLHkmJm50LnRyaWdnZXIodj8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFtlLHUsdj9ydDpiXSksaXQuZmlyZVdpdGgoaCxbZSxsXSkseSYmKG50LnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW2UsdV0pLC0taS5hY3RpdmV8fGkuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfSJvYmplY3QiPT10eXBlb2YgdCYmKHI9dCx0PXZvaWQgMCk7cj1yfHx7fTt2YXIgYSxvLGssdixkLGMscyx5LGcscCx1PWkuYWpheFNldHVwKHt9LHIpLGg9dS5jb250ZXh0fHx1LG50PXUuY29udGV4dCYmKGgubm9kZVR5cGV8fGguanF1ZXJ5KT9pKGgpOmkuZXZlbnQsdHQ9aS5EZWZlcnJlZCgpLGl0PWkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHc9dS5zdGF0dXNDb2RlfHx7fSxydD17fSx1dD17fSxmdD0iY2FuY2VsZWQiLGU9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihuKXt2YXIgdDtpZihzKXtpZighdilmb3Iodj17fTt0PWxvLmV4ZWMoayk7KXZbdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KHZbdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSk7dD12W24udG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gcz9rOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24obix0KXtyZXR1cm4gbnVsbD09cyYmKG49dXRbbi50b0xvd2VyQ2FzZSgpXT11dFtuLnRvTG93ZXJDYXNlKCldfHxuLHJ0W25dPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PXMmJih1Lm1pbWVUeXBlPW4pLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24obil7dmFyIHQ7aWYobilpZihzKWUuYWx3YXlzKG5bZS5zdGF0dXNdKTtlbHNlIGZvcih0IGluIG4pd1t0XT1bd1t0XSxuW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24obil7dmFyIHQ9bnx8ZnQ7cmV0dXJuIGEmJmEuYWJvcnQodCksYigwLHQpLHRoaXN9fTtpZih0dC5wcm9taXNlKGUpLHUudXJsPSgodHx8dS51cmx8fHRpLmhyZWYpKyIiKS5yZXBsYWNlKHZvLHRpLnByb3RvY29sKyIvLyIpLHUudHlwZT1yLm1ldGhvZHx8ci50eXBlfHx1Lm1ldGhvZHx8dS50eXBlLHUuZGF0YVR5cGVzPSh1LmRhdGFUeXBlfHwiKiIpLnRvTG93ZXJDYXNlKCkubWF0Y2gobCl8fFsiIl0sbnVsbD09dS5jcm9zc0RvbWFpbil7Yz1mLmNyZWF0ZUVsZW1lbnQoImEiKTt0cnl7Yy5ocmVmPXUudXJsO2MuaHJlZj1jLmhyZWY7dS5jcm9zc0RvbWFpbj1jci5wcm90b2NvbCsiLy8iK2NyLmhvc3QhPWMucHJvdG9jb2wrIi8vIitjLmhvc3R9Y2F0Y2godCl7dS5jcm9zc0RvbWFpbj0hMH19aWYodS5kYXRhJiZ1LnByb2Nlc3NEYXRhJiYic3RyaW5nIiE9dHlwZW9mIHUuZGF0YSYmKHUuZGF0YT1pLnBhcmFtKHUuZGF0YSx1LnRyYWRpdGlvbmFsKSksdGUoZGYsdSxyLGUpLHMpcmV0dXJuIGU7Zm9yKGcgaW4oeT1pLmV2ZW50JiZ1Lmdsb2JhbCkmJjA9PWkuYWN0aXZlKysmJmkuZXZlbnQudHJpZ2dlcigiYWpheFN0YXJ0IiksdS50eXBlPXUudHlwZS50b1VwcGVyQ2FzZSgpLHUuaGFzQ29udGVudD0hYW8udGVzdCh1LnR5cGUpLG89dS51cmwucmVwbGFjZShobywiIiksdS5oYXNDb250ZW50P3UuZGF0YSYmdS5wcm9jZXNzRGF0YSYmMD09PSh1LmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJih1LmRhdGE9dS5kYXRhLnJlcGxhY2Uoc28sIisiKSk6KHA9dS51cmwuc2xpY2Uoby5sZW5ndGgpLHUuZGF0YSYmKHUucHJvY2Vzc0RhdGF8fCJzdHJpbmciPT10eXBlb2YgdS5kYXRhKSYmKG8rPShvci50ZXN0KG8pPyImIjoiPyIpK3UuZGF0YSxkZWxldGUgdS5kYXRhKSwhMT09PXUuY2FjaGUmJihvPW8ucmVwbGFjZShjbywiJDEiKSxwPShvci50ZXN0KG8pPyImIjoiPyIpKyJfPSIrYmYuZ3VpZCsrK3ApLHUudXJsPW8rcCksdS5pZk1vZGlmaWVkJiYoaS5sYXN0TW9kaWZpZWRbb10mJmUuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLGkubGFzdE1vZGlmaWVkW29dKSxpLmV0YWdbb10mJmUuc2V0UmVxdWVzdEhlYWRlcigiSWYtTm9uZS1NYXRjaCIsaS5ldGFnW29dKSksKHUuZGF0YSYmdS5oYXNDb250ZW50JiYhMSE9PXUuY29udGVudFR5cGV8fHIuY29udGVudFR5cGUpJiZlLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsdS5jb250ZW50VHlwZSksZS5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLHUuZGF0YVR5cGVzWzBdJiZ1LmFjY2VwdHNbdS5kYXRhVHlwZXNbMF1dP3UuYWNjZXB0c1t1LmRhdGFUeXBlc1swXV0rKCIqIiE9PXUuZGF0YVR5cGVzWzBdPyIsICIrZ2YrIjsgcT0wLjAxIjoiIik6dS5hY2NlcHRzWyIqIl0pLHUuaGVhZGVycyllLnNldFJlcXVlc3RIZWFkZXIoZyx1LmhlYWRlcnNbZ10pO2lmKHUuYmVmb3JlU2VuZCYmKCExPT09dS5iZWZvcmVTZW5kLmNhbGwoaCxlLHUpfHxzKSlyZXR1cm4gZS5hYm9ydCgpO2lmKGZ0PSJhYm9ydCIsaXQuYWRkKHUuY29tcGxldGUpLGUuZG9uZSh1LnN1Y2Nlc3MpLGUuZmFpbCh1LmVycm9yKSxhPXRlKGhyLHUscixlKSl7aWYoZS5yZWFkeVN0YXRlPTEseSYmbnQudHJpZ2dlcigiYWpheFNlbmQiLFtlLHVdKSxzKXJldHVybiBlO3UuYXN5bmMmJjA8dS50aW1lb3V0JiYoZD1uLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmFib3J0KCJ0aW1lb3V0Iil9LHUudGltZW91dCkpO3RyeXtzPSExO2Euc2VuZChydCxiKX1jYXRjaCh0KXtpZihzKXRocm93IHQ7YigtMSx0KX19ZWxzZSBiKC0xLCJObyBUcmFuc3BvcnQiKTtyZXR1cm4gZX0sZ2V0SlNPTjpmdW5jdGlvbihuLHQscil7cmV0dXJuIGkuZ2V0KG4sdCxyLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihuLHQpe3JldHVybiBpLmdldChuLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxpLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24obix0KXtpW3RdPWZ1bmN0aW9uKG4scixmLGUpe3JldHVybiB1KHIpJiYoZT1lfHxmLGY9cixyPXZvaWQgMCksaS5hamF4KGkuZXh0ZW5kKHt1cmw6bix0eXBlOnQsZGF0YVR5cGU6ZSxkYXRhOnIsc3VjY2VzczpmfSxpLmlzUGxhaW5PYmplY3QobikmJm4pKX19KSxpLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24obil7Zm9yKHZhciB0IGluIG4uaGVhZGVycykiY29udGVudC10eXBlIj09PXQudG9Mb3dlckNhc2UoKSYmKG4uY29udGVudFR5cGU9bi5oZWFkZXJzW3RdfHwiIil9KSxpLl9ldmFsVXJsPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gaS5hamF4KHt1cmw6bix0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGNhY2hlOiEwLCJhc3luYyI6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKG4pe2kuZ2xvYmFsRXZhbChuLHQscil9fSl9LGkuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybiB0aGlzWzBdJiYodShuKSYmKG49bi5jYWxsKHRoaXNbMF0pKSx0PWkobix0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPXRoaXM7bi5maXJzdEVsZW1lbnRDaGlsZDspbj1uLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBufSkuYXBwZW5kKHRoaXMpKSx0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24obil7cmV0dXJuIHUobik/dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe2kodGhpcykud3JhcElubmVyKG4uY2FsbCh0aGlzLHQpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PWkodGhpcykscj10LmNvbnRlbnRzKCk7ci5sZW5ndGg/ci53cmFwQWxsKG4pOnQuYXBwZW5kKG4pfSl9LHdyYXA6ZnVuY3Rpb24obil7dmFyIHQ9dShuKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHIpe2kodGhpcykud3JhcEFsbCh0P24uY2FsbCh0aGlzLHIpOm4pfSl9LHVud3JhcDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5wYXJlbnQobikubm90KCJib2R5IikuZWFjaChmdW5jdGlvbigpe2kodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLHRoaXN9fSksaS5leHByLnBzZXVkb3MuaGlkZGVuPWZ1bmN0aW9uKG4pe3JldHVybiFpLmV4cHIucHNldWRvcy52aXNpYmxlKG4pfSxpLmV4cHIucHNldWRvcy52aXNpYmxlPWZ1bmN0aW9uKG4pe3JldHVybiEhKG4ub2Zmc2V0V2lkdGh8fG4ub2Zmc2V0SGVpZ2h0fHxuLmdldENsaWVudFJlY3RzKCkubGVuZ3RoKX0saS5hamF4U2V0dGluZ3MueGhyPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgbi5YTUxIdHRwUmVxdWVzdH1jYXRjaCh0KXt9fSxpZT17MDoyMDAsMTIyMzoyMDR9LHd0PWkuYWpheFNldHRpbmdzLnhocigpLGUuY29ycz0hIXd0JiYid2l0aENyZWRlbnRpYWxzImluIHd0LGUuYWpheD13dD0hIXd0LGkuYWpheFRyYW5zcG9ydChmdW5jdGlvbih0KXt2YXIgaSxyO2lmKGUuY29yc3x8d3QmJiF0LmNyb3NzRG9tYWluKXJldHVybntzZW5kOmZ1bmN0aW9uKHUsZil7dmFyIG8sZT10LnhocigpO2lmKGUub3Blbih0LnR5cGUsdC51cmwsdC5hc3luYyx0LnVzZXJuYW1lLHQucGFzc3dvcmQpLHQueGhyRmllbGRzKWZvcihvIGluIHQueGhyRmllbGRzKWVbb109dC54aHJGaWVsZHNbb107Zm9yKG8gaW4gdC5taW1lVHlwZSYmZS5vdmVycmlkZU1pbWVUeXBlJiZlLm92ZXJyaWRlTWltZVR5cGUodC5taW1lVHlwZSksdC5jcm9zc0RvbWFpbnx8dVsiWC1SZXF1ZXN0ZWQtV2l0aCJdfHwodVsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpLHUpZS5zZXRSZXF1ZXN0SGVhZGVyKG8sdVtvXSk7aT1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXtpJiYoaT1yPWUub25sb2FkPWUub25lcnJvcj1lLm9uYWJvcnQ9ZS5vbnRpbWVvdXQ9ZS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCwiYWJvcnQiPT09bj9lLmFib3J0KCk6ImVycm9yIj09PW4/Im51bWJlciIhPXR5cGVvZiBlLnN0YXR1cz9mKDAsImVycm9yIik6ZihlLnN0YXR1cyxlLnN0YXR1c1RleHQpOmYoaWVbZS5zdGF0dXNdfHxlLnN0YXR1cyxlLnN0YXR1c1RleHQsInRleHQiIT09KGUucmVzcG9uc2VUeXBlfHwidGV4dCIpfHwic3RyaW5nIiE9dHlwZW9mIGUucmVzcG9uc2VUZXh0P3tiaW5hcnk6ZS5yZXNwb25zZX06e3RleHQ6ZS5yZXNwb25zZVRleHR9LGUuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19O2Uub25sb2FkPWkoKTtyPWUub25lcnJvcj1lLm9udGltZW91dD1pKCJlcnJvciIpO3ZvaWQgMCE9PWUub25hYm9ydD9lLm9uYWJvcnQ9cjplLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1lLnJlYWR5U3RhdGUmJm4uc2V0VGltZW91dChmdW5jdGlvbigpe2kmJnIoKX0pfTtpPWkoImFib3J0Iik7dHJ5e2Uuc2VuZCh0Lmhhc0NvbnRlbnQmJnQuZGF0YXx8bnVsbCl9Y2F0Y2godSl7aWYoaSl0aHJvdyB1O319LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KSxpLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24obil7bi5jcm9zc0RvbWFpbiYmKG4uY29udGVudHMuc2NyaXB0PSExKX0pLGkuYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovXGIoPzpqYXZhfGVjbWEpc2NyaXB0XGIvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKG4pe3JldHVybiBpLmdsb2JhbEV2YWwobiksbn19fSksaS5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKG4pe3ZvaWQgMD09PW4uY2FjaGUmJihuLmNhY2hlPSExKTtuLmNyb3NzRG9tYWluJiYobi50eXBlPSJHRVQiKX0pLGkuYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihuKXt2YXIgcix0O2lmKG4uY3Jvc3NEb21haW58fG4uc2NyaXB0QXR0cnMpcmV0dXJue3NlbmQ6ZnVuY3Rpb24odSxlKXtyPWkoIjxzY3JpcHQ+IikuYXR0cihuLnNjcmlwdEF0dHJzfHx7fSkucHJvcCh7Y2hhcnNldDpuLnNjcmlwdENoYXJzZXQsc3JjOm4udXJsfSkub24oImxvYWQgZXJyb3IiLHQ9ZnVuY3Rpb24obil7ci5yZW1vdmUoKTt0PW51bGw7biYmZSgiZXJyb3IiPT09bi50eXBlPzQwNDoyMDAsbi50eXBlKX0pO2YuaGVhZC5hcHBlbmRDaGlsZChyWzBdKX0sYWJvcnQ6ZnVuY3Rpb24oKXt0JiZ0KCl9fX0pLGFyPVtdLHZpPS8oPSlcPyg/PSZ8JCl8XD9cPy8saS5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBuPWFyLnBvcCgpfHxpLmV4cGFuZG8rIl8iK2JmLmd1aWQrKztyZXR1cm4gdGhpc1tuXT0hMCxufX0pLGkuYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24odCxyLGYpe3ZhciBlLG8scyxoPSExIT09dC5qc29ucCYmKHZpLnRlc3QodC51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgdC5kYXRhJiYwPT09KHQuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmdmkudGVzdCh0LmRhdGEpJiYiZGF0YSIpO2lmKGh8fCJqc29ucCI9PT10LmRhdGFUeXBlc1swXSlyZXR1cm4gZT10Lmpzb25wQ2FsbGJhY2s9dSh0Lmpzb25wQ2FsbGJhY2spP3QuanNvbnBDYWxsYmFjaygpOnQuanNvbnBDYWxsYmFjayxoP3RbaF09dFtoXS5yZXBsYWNlKHZpLCIkMSIrZSk6ITEhPT10Lmpzb25wJiYodC51cmwrPShvci50ZXN0KHQudXJsKT8iJiI6Ij8iKSt0Lmpzb25wKyI9IitlKSx0LmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gc3x8aS5lcnJvcihlKyIgd2FzIG5vdCBjYWxsZWQiKSxzWzBdfSx0LmRhdGFUeXBlc1swXT0ianNvbiIsbz1uW2VdLG5bZV09ZnVuY3Rpb24oKXtzPWFyZ3VtZW50c30sZi5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1vP2kobikucmVtb3ZlUHJvcChlKTpuW2VdPW87dFtlXSYmKHQuanNvbnBDYWxsYmFjaz1yLmpzb25wQ2FsbGJhY2ssYXIucHVzaChlKSk7cyYmdShvKSYmbyhzWzBdKTtzPW89dm9pZCAwfSksInNjcmlwdCJ9KSxlLmNyZWF0ZUhUTUxEb2N1bWVudD0oKHJlPWYuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKS5ib2R5KS5pbm5lckhUTUw9Ijxmb3JtPjxcL2Zvcm0+PGZvcm0+PFwvZm9ybT4iLDI9PT1yZS5jaGlsZE5vZGVzLmxlbmd0aCksaS5wYXJzZUhUTUw9ZnVuY3Rpb24obix0LHIpe3JldHVybiJzdHJpbmciIT10eXBlb2Ygbj9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKHI9dCx0PSExKSx0fHwoZS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChzPSh0PWYuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPWYubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocykpOnQ9ZiksdT0hciYmW10sKG89d2kuZXhlYyhuKSk/W3QuY3JlYXRlRWxlbWVudChvWzFdKV06KG89dnUoW25dLHQsdSksdSYmdS5sZW5ndGgmJmkodSkucmVtb3ZlKCksaS5tZXJnZShbXSxvLmNoaWxkTm9kZXMpKSk7dmFyIHMsbyx1fSxpLmZuLmxvYWQ9ZnVuY3Rpb24obix0LHIpe3ZhciBmLHMsaCxlPXRoaXMsbz1uLmluZGV4T2YoIiAiKTtyZXR1cm4tMTxvJiYoZj10dChuLnNsaWNlKG8pKSxuPW4uc2xpY2UoMCxvKSksdSh0KT8ocj10LHQ9dm9pZCAwKTp0JiYib2JqZWN0Ij09dHlwZW9mIHQmJihzPSJQT1NUIiksMDxlLmxlbmd0aCYmaS5hamF4KHt1cmw6bix0eXBlOnN8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOnR9KS5kb25lKGZ1bmN0aW9uKG4pe2g9YXJndW1lbnRzO2UuaHRtbChmP2koIjxkaXY+IikuYXBwZW5kKGkucGFyc2VIVE1MKG4pKS5maW5kKGYpOm4pfSkuYWx3YXlzKHImJmZ1bmN0aW9uKG4sdCl7ZS5lYWNoKGZ1bmN0aW9uKCl7ci5hcHBseSh0aGlzLGh8fFtuLnJlc3BvbnNlVGV4dCx0LG5dKX0pfSksdGhpc30saS5leHByLnBzZXVkb3MuYW5pbWF0ZWQ9ZnVuY3Rpb24obil7cmV0dXJuIGkuZ3JlcChpLnRpbWVycyxmdW5jdGlvbih0KXtyZXR1cm4gbj09PXQuZWxlbX0pLmxlbmd0aH0saS5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihuLHQscil7dmFyIHYsbyxzLGgsZSxjLGw9aS5jc3MobiwicG9zaXRpb24iKSxhPWkobiksZj17fTsic3RhdGljIj09PWwmJihuLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpO2U9YS5vZmZzZXQoKTtzPWkuY3NzKG4sInRvcCIpO2M9aS5jc3MobiwibGVmdCIpOygiYWJzb2x1dGUiPT09bHx8ImZpeGVkIj09PWwpJiYtMTwocytjKS5pbmRleE9mKCJhdXRvIik/KGg9KHY9YS5wb3NpdGlvbigpKS50b3Asbz12LmxlZnQpOihoPXBhcnNlRmxvYXQocyl8fDAsbz1wYXJzZUZsb2F0KGMpfHwwKTt1KHQpJiYodD10LmNhbGwobixyLGkuZXh0ZW5kKHt9LGUpKSk7bnVsbCE9dC50b3AmJihmLnRvcD10LnRvcC1lLnRvcCtoKTtudWxsIT10LmxlZnQmJihmLmxlZnQ9dC5sZWZ0LWUubGVmdCtvKTsidXNpbmciaW4gdD90LnVzaW5nLmNhbGwobixmKTooIm51bWJlciI9PXR5cGVvZiBmLnRvcCYmKGYudG9wKz0icHgiKSwibnVtYmVyIj09dHlwZW9mIGYubGVmdCYmKGYubGVmdCs9InB4IiksYS5jc3MoZikpfX0saS5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihuKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe2kub2Zmc2V0LnNldE9mZnNldCh0aGlzLG4sdCl9KTt2YXIgcix1LHQ9dGhpc1swXTtpZih0KXJldHVybiB0LmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhyPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdT10Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDpyLnRvcCt1LnBhZ2VZT2Zmc2V0LGxlZnQ6ci5sZWZ0K3UucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgbixyLHUsdD10aGlzWzBdLGY9e3RvcDowLGxlZnQ6MH07aWYoImZpeGVkIj09PWkuY3NzKHQsInBvc2l0aW9uIikpcj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2Vsc2V7Zm9yKHI9dGhpcy5vZmZzZXQoKSx1PXQub3duZXJEb2N1bWVudCxuPXQub2Zmc2V0UGFyZW50fHx1LmRvY3VtZW50RWxlbWVudDtuJiYobj09PXUuYm9keXx8bj09PXUuZG9jdW1lbnRFbGVtZW50KSYmInN0YXRpYyI9PT1pLmNzcyhuLCJwb3NpdGlvbiIpOyluPW4ucGFyZW50Tm9kZTtuJiZuIT09dCYmMT09PW4ubm9kZVR5cGUmJigoZj1pKG4pLm9mZnNldCgpKS50b3ArPWkuY3NzKG4sImJvcmRlclRvcFdpZHRoIiwhMCksZi5sZWZ0Kz1pLmNzcyhuLCJib3JkZXJMZWZ0V2lkdGgiLCEwKSl9cmV0dXJue3RvcDpyLnRvcC1mLnRvcC1pLmNzcyh0LCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OnIubGVmdC1mLmxlZnQtaS5jc3ModCwibWFyZ2luTGVmdCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe2Zvcih2YXIgbj10aGlzLm9mZnNldFBhcmVudDtuJiYic3RhdGljIj09PWkuY3NzKG4sInBvc2l0aW9uIik7KW49bi5vZmZzZXRQYXJlbnQ7cmV0dXJuIG58fGd9KX19KSxpLmVhY2goe3Njcm9sbExlZnQ6InBhZ2VYT2Zmc2V0IixzY3JvbGxUb3A6InBhZ2VZT2Zmc2V0In0sZnVuY3Rpb24obix0KXt2YXIgcj0icGFnZVlPZmZzZXQiPT09dDtpLmZuW25dPWZ1bmN0aW9uKGkpe3JldHVybiB3KHRoaXMsZnVuY3Rpb24obixpLHUpe3ZhciBmO2lmKHJ0KG4pP2Y9bjo5PT09bi5ub2RlVHlwZSYmKGY9bi5kZWZhdWx0Vmlldyksdm9pZCAwPT09dSlyZXR1cm4gZj9mW3RdOm5baV07Zj9mLnNjcm9sbFRvKHI/Zi5wYWdlWE9mZnNldDp1LHI/dTpmLnBhZ2VZT2Zmc2V0KTpuW2ldPXV9LG4saSxhcmd1bWVudHMubGVuZ3RoKX19KSxpLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24obix0KXtpLmNzc0hvb2tzW3RdPWR1KGUucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihuLHIpe2lmKHIpcmV0dXJuIHI9bmkobix0KSxuci50ZXN0KHIpP2kobikucG9zaXRpb24oKVt0XSsicHgiOnJ9KX0pLGkuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKG4sdCl7aS5lYWNoKHtwYWRkaW5nOiJpbm5lciIrbixjb250ZW50OnQsIiI6Im91dGVyIitufSxmdW5jdGlvbihyLHUpe2kuZm5bdV09ZnVuY3Rpb24oZixlKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoJiYocnx8ImJvb2xlYW4iIT10eXBlb2YgZikscz1yfHwoITA9PT1mfHwhMD09PWU/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiB3KHRoaXMsZnVuY3Rpb24odCxyLGYpe3ZhciBlO3JldHVybiBydCh0KT8wPT09dS5pbmRleE9mKCJvdXRlciIpP3RbImlubmVyIituXTp0LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IituXTo5PT09dC5ub2RlVHlwZT8oZT10LmRvY3VtZW50RWxlbWVudCxNYXRoLm1heCh0LmJvZHlbInNjcm9sbCIrbl0sZVsic2Nyb2xsIituXSx0LmJvZHlbIm9mZnNldCIrbl0sZVsib2Zmc2V0IituXSxlWyJjbGllbnQiK25dKSk6dm9pZCAwPT09Zj9pLmNzcyh0LHIscyk6aS5zdHlsZSh0LHIsZixzKX0sdCxvP2Y6dm9pZCAwLG8pfX0pfSksaS5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24obix0KXtpLmZuW3RdPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLm9uKHQsbil9fSksaS5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24obix0LGkpe3JldHVybiB0aGlzLm9uKG4sbnVsbCx0LGkpfSx1bmJpbmQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5vZmYobixudWxsLHQpfSxkZWxlZ2F0ZTpmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4gdGhpcy5vbih0LG4saSxyKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKG4sIioqIik6dGhpcy5vZmYodCxufHwiKioiLGkpfSxob3ZlcjpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIobikubW91c2VsZWF2ZSh0fHxuKX19KSxpLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24obix0KXtpLmZuW3RdPWZ1bmN0aW9uKG4saSl7cmV0dXJuIDA8YXJndW1lbnRzLmxlbmd0aD90aGlzLm9uKHQsbnVsbCxuLGkpOnRoaXMudHJpZ2dlcih0KX19KSx1ZT0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2csaS5wcm94eT1mdW5jdGlvbihuLHQpe3ZhciByLGYsZTtpZigic3RyaW5nIj09dHlwZW9mIHQmJihyPW5bdF0sdD1uLG49ciksdShuKSlyZXR1cm4gZj1rLmNhbGwoYXJndW1lbnRzLDIpLChlPWZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkodHx8dGhpcyxmLmNvbmNhdChrLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1uLmd1aWQ9bi5ndWlkfHxpLmd1aWQrKyxlfSxpLmhvbGRSZWFkeT1mdW5jdGlvbihuKXtuP2kucmVhZHlXYWl0Kys6aS5yZWFkeSghMCl9LGkuaXNBcnJheT1BcnJheS5pc0FycmF5LGkucGFyc2VKU09OPUpTT04ucGFyc2UsaS5ub2RlTmFtZT1jLGkuaXNGdW5jdGlvbj11LGkuaXNXaW5kb3c9cnQsaS5jYW1lbENhc2U9eSxpLnR5cGU9dXQsaS5ub3c9RGF0ZS5ub3csaS5pc051bWVyaWM9ZnVuY3Rpb24obil7dmFyIHQ9aS50eXBlKG4pO3JldHVybigibnVtYmVyIj09PXR8fCJzdHJpbmciPT09dCkmJiFpc05hTihuLXBhcnNlRmxvYXQobikpfSxpLnRyaW09ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4/IiI6KG4rIiIpLnJlcGxhY2UodWUsIiIpfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gaX0pLGZlPW4ualF1ZXJ5LGVlPW4uJCxpLm5vQ29uZmxpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIG4uJD09PWkmJihuLiQ9ZWUpLHQmJm4ualF1ZXJ5PT09aSYmKG4ualF1ZXJ5PWZlKSxpfSwidW5kZWZpbmVkIj09dHlwZW9mIHQmJihuLmpRdWVyeT1uLiQ9aSksaX0pOwovKiEgalF1ZXJ5IFZhbGlkYXRpb24gUGx1Z2luIC0gdjEuMTkuMyAtIDEvOS8yMDIxCiAqIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvCiAqIENvcHlyaWdodCAoYykgMjAyMSBKw7ZybiBaYWVmZmVyZXI7IExpY2Vuc2VkIE1JVCAqLwohZnVuY3Rpb24obil7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxuKToib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bihyZXF1aXJlKCJqcXVlcnkiKSk6bihqUXVlcnkpfShmdW5jdGlvbihuKXt2YXIgaSxyLHQ7cmV0dXJuIG4uZXh0ZW5kKG4uZm4se3ZhbGlkYXRlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdm9pZCh0JiZ0LmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS53YXJuKCJOb3RoaW5nIHNlbGVjdGVkLCBjYW4ndCB2YWxpZGF0ZSwgcmV0dXJuaW5nIG5vdGhpbmcuIikpO3ZhciBpPW4uZGF0YSh0aGlzWzBdLCJ2YWxpZGF0b3IiKTtyZXR1cm4gaT9pOih0aGlzLmF0dHIoIm5vdmFsaWRhdGUiLCJub3ZhbGlkYXRlIiksaT1uZXcgbi52YWxpZGF0b3IodCx0aGlzWzBdKSxuLmRhdGEodGhpc1swXSwidmFsaWRhdG9yIixpKSxpLnNldHRpbmdzLm9uc3VibWl0JiYodGhpcy5vbigiY2xpY2sudmFsaWRhdGUiLCI6c3VibWl0IixmdW5jdGlvbih0KXtpLnN1Ym1pdEJ1dHRvbj10LmN1cnJlbnRUYXJnZXQ7bih0aGlzKS5oYXNDbGFzcygiY2FuY2VsIikmJihpLmNhbmNlbFN1Ym1pdD0hMCk7dm9pZCAwIT09bih0aGlzKS5hdHRyKCJmb3Jtbm92YWxpZGF0ZSIpJiYoaS5jYW5jZWxTdWJtaXQ9ITApfSksdGhpcy5vbigic3VibWl0LnZhbGlkYXRlIixmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7dmFyIHIsdTtyZXR1cm4gaS5zdWJtaXRCdXR0b24mJihpLnNldHRpbmdzLnN1Ym1pdEhhbmRsZXJ8fGkuZm9ybVN1Ym1pdHRlZCkmJihyPW4oIjxpbnB1dCB0eXBlPSdoaWRkZW4nLz4iKS5hdHRyKCJuYW1lIixpLnN1Ym1pdEJ1dHRvbi5uYW1lKS52YWwobihpLnN1Ym1pdEJ1dHRvbikudmFsKCkpLmFwcGVuZFRvKGkuY3VycmVudEZvcm0pKSwhKGkuc2V0dGluZ3Muc3VibWl0SGFuZGxlciYmIWkuc2V0dGluZ3MuZGVidWcpfHwodT1pLnNldHRpbmdzLnN1Ym1pdEhhbmRsZXIuY2FsbChpLGkuY3VycmVudEZvcm0sdCksciYmci5yZW1vdmUoKSx2b2lkIDAhPT11JiZ1KX1yZXR1cm4gaS5zZXR0aW5ncy5kZWJ1ZyYmdC5wcmV2ZW50RGVmYXVsdCgpLGkuY2FuY2VsU3VibWl0PyhpLmNhbmNlbFN1Ym1pdD0hMSxyKCkpOmkuZm9ybSgpP2kucGVuZGluZ1JlcXVlc3Q/KGkuZm9ybVN1Ym1pdHRlZD0hMCwhMSk6cigpOihpLmZvY3VzSW52YWxpZCgpLCExKX0pKSxpKX0sdmFsaWQ6ZnVuY3Rpb24oKXt2YXIgdCxpLHI7cmV0dXJuIG4odGhpc1swXSkuaXMoImZvcm0iKT90PXRoaXMudmFsaWRhdGUoKS5mb3JtKCk6KHI9W10sdD0hMCxpPW4odGhpc1swXS5mb3JtKS52YWxpZGF0ZSgpLHRoaXMuZWFjaChmdW5jdGlvbigpe3Q9aS5lbGVtZW50KHRoaXMpJiZ0O3R8fChyPXIuY29uY2F0KGkuZXJyb3JMaXN0KSl9KSxpLmVycm9yTGlzdD1yKSx0fSxydWxlczpmdW5jdGlvbih0LGkpe3ZhciBlLHMsZix1LG8saCxyPXRoaXNbMF0sYz0idW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuYXR0cigiY29udGVudGVkaXRhYmxlIikmJiJmYWxzZSIhPT10aGlzLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpO2lmKG51bGwhPXImJighci5mb3JtJiZjJiYoci5mb3JtPXRoaXMuY2xvc2VzdCgiZm9ybSIpWzBdLHIubmFtZT10aGlzLmF0dHIoIm5hbWUiKSksbnVsbCE9ci5mb3JtKSl7aWYodClzd2l0Y2goZT1uLmRhdGEoci5mb3JtLCJ2YWxpZGF0b3IiKS5zZXR0aW5ncyxzPWUucnVsZXMsZj1uLnZhbGlkYXRvci5zdGF0aWNSdWxlcyhyKSx0KXtjYXNlImFkZCI6bi5leHRlbmQoZixuLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKGkpKTtkZWxldGUgZi5tZXNzYWdlcztzW3IubmFtZV09ZjtpLm1lc3NhZ2VzJiYoZS5tZXNzYWdlc1tyLm5hbWVdPW4uZXh0ZW5kKGUubWVzc2FnZXNbci5uYW1lXSxpLm1lc3NhZ2VzKSk7YnJlYWs7Y2FzZSJyZW1vdmUiOnJldHVybiBpPyhoPXt9LG4uZWFjaChpLnNwbGl0KC9ccy8pLGZ1bmN0aW9uKG4sdCl7aFt0XT1mW3RdO2RlbGV0ZSBmW3RdfSksaCk6KGRlbGV0ZSBzW3IubmFtZV0sZil9cmV0dXJuIHU9bi52YWxpZGF0b3Iubm9ybWFsaXplUnVsZXMobi5leHRlbmQoe30sbi52YWxpZGF0b3IuY2xhc3NSdWxlcyhyKSxuLnZhbGlkYXRvci5hdHRyaWJ1dGVSdWxlcyhyKSxuLnZhbGlkYXRvci5kYXRhUnVsZXMociksbi52YWxpZGF0b3Iuc3RhdGljUnVsZXMocikpLHIpLHUucmVxdWlyZWQmJihvPXUucmVxdWlyZWQsZGVsZXRlIHUucmVxdWlyZWQsdT1uLmV4dGVuZCh7cmVxdWlyZWQ6b30sdSkpLHUucmVtb3RlJiYobz11LnJlbW90ZSxkZWxldGUgdS5yZW1vdGUsdT1uLmV4dGVuZCh1LHtyZW1vdGU6b30pKSx1fX19KSxpPWZ1bmN0aW9uKG4pe3JldHVybiBuLnJlcGxhY2UoL15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLCIiKX0sbi5leHRlbmQobi5leHByLnBzZXVkb3N8fG4uZXhwclsiOiJdLHtibGFuazpmdW5jdGlvbih0KXtyZXR1cm4haSgiIituKHQpLnZhbCgpKX0sZmlsbGVkOmZ1bmN0aW9uKHQpe3ZhciByPW4odCkudmFsKCk7cmV0dXJuIG51bGwhPT1yJiYhIWkoIiIrcil9LHVuY2hlY2tlZDpmdW5jdGlvbih0KXtyZXR1cm4hbih0KS5wcm9wKCJjaGVja2VkIil9fSksbi52YWxpZGF0b3I9ZnVuY3Rpb24odCxpKXt0aGlzLnNldHRpbmdzPW4uZXh0ZW5kKCEwLHt9LG4udmFsaWRhdG9yLmRlZmF1bHRzLHQpO3RoaXMuY3VycmVudEZvcm09aTt0aGlzLmluaXQoKX0sbi52YWxpZGF0b3IuZm9ybWF0PWZ1bmN0aW9uKHQsaSl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP2Z1bmN0aW9uKCl7dmFyIGk9bi5tYWtlQXJyYXkoYXJndW1lbnRzKTtyZXR1cm4gaS51bnNoaWZ0KHQpLG4udmFsaWRhdG9yLmZvcm1hdC5hcHBseSh0aGlzLGkpfTp2b2lkIDA9PT1pP3Q6KGFyZ3VtZW50cy5sZW5ndGg+MiYmaS5jb25zdHJ1Y3RvciE9PUFycmF5JiYoaT1uLm1ha2VBcnJheShhcmd1bWVudHMpLnNsaWNlKDEpKSxpLmNvbnN0cnVjdG9yIT09QXJyYXkmJihpPVtpXSksbi5lYWNoKGksZnVuY3Rpb24obixpKXt0PXQucmVwbGFjZShuZXcgUmVnRXhwKCJcXHsiK24rIlxcfSIsImciKSxmdW5jdGlvbigpe3JldHVybiBpfSl9KSx0KX0sbi5leHRlbmQobi52YWxpZGF0b3Ise2RlZmF1bHRzOnttZXNzYWdlczp7fSxncm91cHM6e30scnVsZXM6e30sZXJyb3JDbGFzczoiZXJyb3IiLHBlbmRpbmdDbGFzczoicGVuZGluZyIsdmFsaWRDbGFzczoidmFsaWQiLGVycm9yRWxlbWVudDoibGFiZWwiLGZvY3VzQ2xlYW51cDohMSxmb2N1c0ludmFsaWQ6ITAsZXJyb3JDb250YWluZXI6bihbXSksZXJyb3JMYWJlbENvbnRhaW5lcjpuKFtdKSxvbnN1Ym1pdDohMCxpZ25vcmU6IjpoaWRkZW4iLGlnbm9yZVRpdGxlOiExLG9uZm9jdXNpbjpmdW5jdGlvbihuKXt0aGlzLmxhc3RBY3RpdmU9bjt0aGlzLnNldHRpbmdzLmZvY3VzQ2xlYW51cCYmKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQmJnRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLG4sdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyksdGhpcy5oaWRlVGhlc2UodGhpcy5lcnJvcnNGb3IobikpKX0sb25mb2N1c291dDpmdW5jdGlvbihuKXshdGhpcy5jaGVja2FibGUobikmJihuLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWR8fCF0aGlzLm9wdGlvbmFsKG4pKSYmdGhpcy5lbGVtZW50KG4pfSxvbmtleXVwOmZ1bmN0aW9uKHQsaSl7OT09PWkud2hpY2gmJiIiPT09dGhpcy5lbGVtZW50VmFsdWUodCl8fG4uaW5BcnJheShpLmtleUNvZGUsWzE2LDE3LDE4LDIwLDM1LDM2LDM3LDM4LDM5LDQwLDQ1LDE0NCwyMjVdKSE9PS0xfHwodC5uYW1lIGluIHRoaXMuc3VibWl0dGVkfHx0Lm5hbWUgaW4gdGhpcy5pbnZhbGlkKSYmdGhpcy5lbGVtZW50KHQpfSxvbmNsaWNrOmZ1bmN0aW9uKG4pe24ubmFtZSBpbiB0aGlzLnN1Ym1pdHRlZD90aGlzLmVsZW1lbnQobik6bi5wYXJlbnROb2RlLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWQmJnRoaXMuZWxlbWVudChuLnBhcmVudE5vZGUpfSxoaWdobGlnaHQ6ZnVuY3Rpb24odCxpLHIpeyJyYWRpbyI9PT10LnR5cGU/dGhpcy5maW5kQnlOYW1lKHQubmFtZSkuYWRkQ2xhc3MoaSkucmVtb3ZlQ2xhc3Mocik6bih0KS5hZGRDbGFzcyhpKS5yZW1vdmVDbGFzcyhyKX0sdW5oaWdobGlnaHQ6ZnVuY3Rpb24odCxpLHIpeyJyYWRpbyI9PT10LnR5cGU/dGhpcy5maW5kQnlOYW1lKHQubmFtZSkucmVtb3ZlQ2xhc3MoaSkuYWRkQ2xhc3Mocik6bih0KS5yZW1vdmVDbGFzcyhpKS5hZGRDbGFzcyhyKX19LHNldERlZmF1bHRzOmZ1bmN0aW9uKHQpe24uZXh0ZW5kKG4udmFsaWRhdG9yLmRlZmF1bHRzLHQpfSxtZXNzYWdlczp7cmVxdWlyZWQ6IlRoaXMgZmllbGQgaXMgcmVxdWlyZWQuIixyZW1vdGU6IlBsZWFzZSBmaXggdGhpcyBmaWVsZC4iLGVtYWlsOiJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLiIsdXJsOiJQbGVhc2UgZW50ZXIgYSB2YWxpZCBVUkwuIixkYXRlOiJQbGVhc2UgZW50ZXIgYSB2YWxpZCBkYXRlLiIsZGF0ZUlTTzoiUGxlYXNlIGVudGVyIGEgdmFsaWQgZGF0ZSAoSVNPKS4iLG51bWJlcjoiUGxlYXNlIGVudGVyIGEgdmFsaWQgbnVtYmVyLiIsZGlnaXRzOiJQbGVhc2UgZW50ZXIgb25seSBkaWdpdHMuIixlcXVhbFRvOiJQbGVhc2UgZW50ZXIgdGhlIHNhbWUgdmFsdWUgYWdhaW4uIixtYXhsZW5ndGg6bi52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgbm8gbW9yZSB0aGFuIHswfSBjaGFyYWN0ZXJzLiIpLG1pbmxlbmd0aDpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhdCBsZWFzdCB7MH0gY2hhcmFjdGVycy4iKSxyYW5nZWxlbmd0aDpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIHZhbHVlIGJldHdlZW4gezB9IGFuZCB7MX0gY2hhcmFjdGVycyBsb25nLiIpLHJhbmdlOm4udmFsaWRhdG9yLmZvcm1hdCgiUGxlYXNlIGVudGVyIGEgdmFsdWUgYmV0d2VlbiB7MH0gYW5kIHsxfS4iKSxtYXg6bi52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gezB9LiIpLG1pbjpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIHZhbHVlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB7MH0uIiksc3RlcDpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIG11bHRpcGxlIG9mIHswfS4iKX0sYXV0b0NyZWF0ZVJhbmdlczohMSxwcm90b3R5cGU6e2luaXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKHQpe3ZhciBlPSJ1bmRlZmluZWQiIT10eXBlb2Ygbih0aGlzKS5hdHRyKCJjb250ZW50ZWRpdGFibGUiKSYmImZhbHNlIiE9PW4odGhpcykuYXR0cigiY29udGVudGVkaXRhYmxlIik7aWYoIXRoaXMuZm9ybSYmZSYmKHRoaXMuZm9ybT1uKHRoaXMpLmNsb3Nlc3QoImZvcm0iKVswXSx0aGlzLm5hbWU9bih0aGlzKS5hdHRyKCJuYW1lIikpLHI9PT10aGlzLmZvcm0pe3ZhciB1PW4uZGF0YSh0aGlzLmZvcm0sInZhbGlkYXRvciIpLGY9Im9uIit0LnR5cGUucmVwbGFjZSgvXnZhbGlkYXRlLywiIiksaT11LnNldHRpbmdzO2lbZl0mJiFuKHRoaXMpLmlzKGkuaWdub3JlKSYmaVtmXS5jYWxsKHUsdGhpcyx0KX19dGhpcy5sYWJlbENvbnRhaW5lcj1uKHRoaXMuc2V0dGluZ3MuZXJyb3JMYWJlbENvbnRhaW5lcik7dGhpcy5lcnJvckNvbnRleHQ9dGhpcy5sYWJlbENvbnRhaW5lci5sZW5ndGgmJnRoaXMubGFiZWxDb250YWluZXJ8fG4odGhpcy5jdXJyZW50Rm9ybSk7dGhpcy5jb250YWluZXJzPW4odGhpcy5zZXR0aW5ncy5lcnJvckNvbnRhaW5lcikuYWRkKHRoaXMuc2V0dGluZ3MuZXJyb3JMYWJlbENvbnRhaW5lcik7dGhpcy5zdWJtaXR0ZWQ9e307dGhpcy52YWx1ZUNhY2hlPXt9O3RoaXMucGVuZGluZ1JlcXVlc3Q9MDt0aGlzLnBlbmRpbmc9e307dGhpcy5pbnZhbGlkPXt9O3RoaXMucmVzZXQoKTt2YXIgdCxyPXRoaXMuY3VycmVudEZvcm0sdT10aGlzLmdyb3Vwcz17fTtuLmVhY2godGhpcy5zZXR0aW5ncy5ncm91cHMsZnVuY3Rpb24odCxpKXsic3RyaW5nIj09dHlwZW9mIGkmJihpPWkuc3BsaXQoL1xzLykpO24uZWFjaChpLGZ1bmN0aW9uKG4saSl7dVtpXT10fSl9KTt0PXRoaXMuc2V0dGluZ3MucnVsZXM7bi5lYWNoKHQsZnVuY3Rpb24oaSxyKXt0W2ldPW4udmFsaWRhdG9yLm5vcm1hbGl6ZVJ1bGUocil9KTtuKHRoaXMuY3VycmVudEZvcm0pLm9uKCJmb2N1c2luLnZhbGlkYXRlIGZvY3Vzb3V0LnZhbGlkYXRlIGtleXVwLnZhbGlkYXRlIiwiOnRleHQsIFt0eXBlPSdwYXNzd29yZCddLCBbdHlwZT0nZmlsZSddLCBzZWxlY3QsIHRleHRhcmVhLCBbdHlwZT0nbnVtYmVyJ10sIFt0eXBlPSdzZWFyY2gnXSwgW3R5cGU9J3RlbCddLCBbdHlwZT0ndXJsJ10sIFt0eXBlPSdlbWFpbCddLCBbdHlwZT0nZGF0ZXRpbWUnXSwgW3R5cGU9J2RhdGUnXSwgW3R5cGU9J21vbnRoJ10sIFt0eXBlPSd3ZWVrJ10sIFt0eXBlPSd0aW1lJ10sIFt0eXBlPSdkYXRldGltZS1sb2NhbCddLCBbdHlwZT0ncmFuZ2UnXSwgW3R5cGU9J2NvbG9yJ10sIFt0eXBlPSdyYWRpbyddLCBbdHlwZT0nY2hlY2tib3gnXSwgW2NvbnRlbnRlZGl0YWJsZV0sIFt0eXBlPSdidXR0b24nXSIsaSkub24oImNsaWNrLnZhbGlkYXRlIiwic2VsZWN0LCBvcHRpb24sIFt0eXBlPSdyYWRpbyddLCBbdHlwZT0nY2hlY2tib3gnXSIsaSk7dGhpcy5zZXR0aW5ncy5pbnZhbGlkSGFuZGxlciYmbih0aGlzLmN1cnJlbnRGb3JtKS5vbigiaW52YWxpZC1mb3JtLnZhbGlkYXRlIix0aGlzLnNldHRpbmdzLmludmFsaWRIYW5kbGVyKX0sZm9ybTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoZWNrRm9ybSgpLG4uZXh0ZW5kKHRoaXMuc3VibWl0dGVkLHRoaXMuZXJyb3JNYXApLHRoaXMuaW52YWxpZD1uLmV4dGVuZCh7fSx0aGlzLmVycm9yTWFwKSx0aGlzLnZhbGlkKCl8fG4odGhpcy5jdXJyZW50Rm9ybSkudHJpZ2dlckhhbmRsZXIoImludmFsaWQtZm9ybSIsW3RoaXNdKSx0aGlzLnNob3dFcnJvcnMoKSx0aGlzLnZhbGlkKCl9LGNoZWNrRm9ybTpmdW5jdGlvbigpe3RoaXMucHJlcGFyZUZvcm0oKTtmb3IodmFyIG49MCx0PXRoaXMuY3VycmVudEVsZW1lbnRzPXRoaXMuZWxlbWVudHMoKTt0W25dO24rKyl0aGlzLmNoZWNrKHRbbl0pO3JldHVybiB0aGlzLnZhbGlkKCl9LGVsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGUsbyxpPXRoaXMuY2xlYW4odCkscj10aGlzLnZhbGlkYXRpb25UYXJnZXRGb3IoaSksdT10aGlzLGY9ITA7cmV0dXJuIHZvaWQgMD09PXI/ZGVsZXRlIHRoaXMuaW52YWxpZFtpLm5hbWVdOih0aGlzLnByZXBhcmVFbGVtZW50KHIpLHRoaXMuY3VycmVudEVsZW1lbnRzPW4ociksbz10aGlzLmdyb3Vwc1tyLm5hbWVdLG8mJm4uZWFjaCh0aGlzLmdyb3VwcyxmdW5jdGlvbihuLHQpe3Q9PT1vJiZuIT09ci5uYW1lJiYoaT11LnZhbGlkYXRpb25UYXJnZXRGb3IodS5jbGVhbih1LmZpbmRCeU5hbWUobikpKSxpJiZpLm5hbWUgaW4gdS5pbnZhbGlkJiYodS5jdXJyZW50RWxlbWVudHMucHVzaChpKSxmPXUuY2hlY2soaSkmJmYpKX0pLGU9dGhpcy5jaGVjayhyKSE9PSExLGY9ZiYmZSx0aGlzLmludmFsaWRbci5uYW1lXT1lPyExOiEwLHRoaXMubnVtYmVyT2ZJbnZhbGlkcygpfHwodGhpcy50b0hpZGU9dGhpcy50b0hpZGUuYWRkKHRoaXMuY29udGFpbmVycykpLHRoaXMuc2hvd0Vycm9ycygpLG4odCkuYXR0cigiYXJpYS1pbnZhbGlkIiwhZSkpLGZ9LHNob3dFcnJvcnM6ZnVuY3Rpb24odCl7aWYodCl7dmFyIGk9dGhpcztuLmV4dGVuZCh0aGlzLmVycm9yTWFwLHQpO3RoaXMuZXJyb3JMaXN0PW4ubWFwKHRoaXMuZXJyb3JNYXAsZnVuY3Rpb24obix0KXtyZXR1cm57bWVzc2FnZTpuLGVsZW1lbnQ6aS5maW5kQnlOYW1lKHQpWzBdfX0pO3RoaXMuc3VjY2Vzc0xpc3Q9bi5ncmVwKHRoaXMuc3VjY2Vzc0xpc3QsZnVuY3Rpb24obil7cmV0dXJuIShuLm5hbWUgaW4gdCl9KX10aGlzLnNldHRpbmdzLnNob3dFcnJvcnM/dGhpcy5zZXR0aW5ncy5zaG93RXJyb3JzLmNhbGwodGhpcyx0aGlzLmVycm9yTWFwLHRoaXMuZXJyb3JMaXN0KTp0aGlzLmRlZmF1bHRTaG93RXJyb3JzKCl9LHJlc2V0Rm9ybTpmdW5jdGlvbigpe24uZm4ucmVzZXRGb3JtJiZuKHRoaXMuY3VycmVudEZvcm0pLnJlc2V0Rm9ybSgpO3RoaXMuaW52YWxpZD17fTt0aGlzLnN1Ym1pdHRlZD17fTt0aGlzLnByZXBhcmVGb3JtKCk7dGhpcy5oaWRlRXJyb3JzKCk7dmFyIHQ9dGhpcy5lbGVtZW50cygpLnJlbW92ZURhdGEoInByZXZpb3VzVmFsdWUiKS5yZW1vdmVBdHRyKCJhcmlhLWludmFsaWQiKTt0aGlzLnJlc2V0RWxlbWVudHModCl9LHJlc2V0RWxlbWVudHM6ZnVuY3Rpb24obil7dmFyIHQ7aWYodGhpcy5zZXR0aW5ncy51bmhpZ2hsaWdodClmb3IodD0wO25bdF07dCsrKXRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLG5bdF0sdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLCIiKSx0aGlzLmZpbmRCeU5hbWUoblt0XS5uYW1lKS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MpO2Vsc2Ugbi5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3MpLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyl9LG51bWJlck9mSW52YWxpZHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYmplY3RMZW5ndGgodGhpcy5pbnZhbGlkKX0sb2JqZWN0TGVuZ3RoOmZ1bmN0aW9uKG4pe3ZhciB0LGk9MDtmb3IodCBpbiBuKXZvaWQgMCE9PW5bdF0mJm51bGwhPT1uW3RdJiZuW3RdIT09ITEmJmkrKztyZXR1cm4gaX0saGlkZUVycm9yczpmdW5jdGlvbigpe3RoaXMuaGlkZVRoZXNlKHRoaXMudG9IaWRlKX0saGlkZVRoZXNlOmZ1bmN0aW9uKG4pe24ubm90KHRoaXMuY29udGFpbmVycykudGV4dCgiIik7dGhpcy5hZGRXcmFwcGVyKG4pLmhpZGUoKX0sdmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuc2l6ZSgpfSxzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXJyb3JMaXN0Lmxlbmd0aH0sZm9jdXNJbnZhbGlkOmZ1bmN0aW9uKCl7aWYodGhpcy5zZXR0aW5ncy5mb2N1c0ludmFsaWQpdHJ5e24odGhpcy5maW5kTGFzdEFjdGl2ZSgpfHx0aGlzLmVycm9yTGlzdC5sZW5ndGgmJnRoaXMuZXJyb3JMaXN0WzBdLmVsZW1lbnR8fFtdKS5maWx0ZXIoIjp2aXNpYmxlIikudHJpZ2dlcigiZm9jdXMiKS50cmlnZ2VyKCJmb2N1c2luIil9Y2F0Y2godCl7fX0sZmluZExhc3RBY3RpdmU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxhc3RBY3RpdmU7cmV0dXJuIHQmJjE9PT1uLmdyZXAodGhpcy5lcnJvckxpc3QsZnVuY3Rpb24obil7cmV0dXJuIG4uZWxlbWVudC5uYW1lPT09dC5uYW1lfSkubGVuZ3RoJiZ0fSxlbGVtZW50czpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT17fTtyZXR1cm4gbih0aGlzLmN1cnJlbnRGb3JtKS5maW5kKCJpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgW2NvbnRlbnRlZGl0YWJsZV0iKS5ub3QoIjpzdWJtaXQsIDpyZXNldCwgOmltYWdlLCA6ZGlzYWJsZWQiKS5ub3QodGhpcy5zZXR0aW5ncy5pZ25vcmUpLmZpbHRlcihmdW5jdGlvbigpe3ZhciByPXRoaXMubmFtZXx8bih0aGlzKS5hdHRyKCJuYW1lIiksdT0idW5kZWZpbmVkIiE9dHlwZW9mIG4odGhpcykuYXR0cigiY29udGVudGVkaXRhYmxlIikmJiJmYWxzZSIhPT1uKHRoaXMpLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpO3JldHVybiFyJiZ0LnNldHRpbmdzLmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS5lcnJvcigiJW8gaGFzIG5vIG5hbWUgYXNzaWduZWQiLHRoaXMpLHUmJih0aGlzLmZvcm09bih0aGlzKS5jbG9zZXN0KCJmb3JtIilbMF0sdGhpcy5uYW1lPXIpLHRoaXMuZm9ybT09PXQuY3VycmVudEZvcm0mJiEociBpbiBpfHwhdC5vYmplY3RMZW5ndGgobih0aGlzKS5ydWxlcygpKSkmJihpW3JdPSEwLCEwKX0pfSxjbGVhbjpmdW5jdGlvbih0KXtyZXR1cm4gbih0KVswXX0sZXJyb3JzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLnNwbGl0KCIgIikuam9pbigiLiIpO3JldHVybiBuKHRoaXMuc2V0dGluZ3MuZXJyb3JFbGVtZW50KyIuIit0LHRoaXMuZXJyb3JDb250ZXh0KX0scmVzZXRJbnRlcm5hbHM6ZnVuY3Rpb24oKXt0aGlzLnN1Y2Nlc3NMaXN0PVtdO3RoaXMuZXJyb3JMaXN0PVtdO3RoaXMuZXJyb3JNYXA9e307dGhpcy50b1Nob3c9bihbXSk7dGhpcy50b0hpZGU9bihbXSl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZXNldEludGVybmFscygpO3RoaXMuY3VycmVudEVsZW1lbnRzPW4oW10pfSxwcmVwYXJlRm9ybTpmdW5jdGlvbigpe3RoaXMucmVzZXQoKTt0aGlzLnRvSGlkZT10aGlzLmVycm9ycygpLmFkZCh0aGlzLmNvbnRhaW5lcnMpfSxwcmVwYXJlRWxlbWVudDpmdW5jdGlvbihuKXt0aGlzLnJlc2V0KCk7dGhpcy50b0hpZGU9dGhpcy5lcnJvcnNGb3Iobil9LGVsZW1lbnRWYWx1ZTpmdW5jdGlvbih0KXt2YXIgaSxyLHU9bih0KSxmPXQudHlwZSxlPSJ1bmRlZmluZWQiIT10eXBlb2YgdS5hdHRyKCJjb250ZW50ZWRpdGFibGUiKSYmImZhbHNlIiE9PXUuYXR0cigiY29udGVudGVkaXRhYmxlIik7cmV0dXJuInJhZGlvIj09PWZ8fCJjaGVja2JveCI9PT1mP3RoaXMuZmluZEJ5TmFtZSh0Lm5hbWUpLmZpbHRlcigiOmNoZWNrZWQiKS52YWwoKToibnVtYmVyIj09PWYmJiJ1bmRlZmluZWQiIT10eXBlb2YgdC52YWxpZGl0eT90LnZhbGlkaXR5LmJhZElucHV0PyJOYU4iOnUudmFsKCk6KGk9ZT91LnRleHQoKTp1LnZhbCgpLCJmaWxlIj09PWY/IkM6XFxmYWtlcGF0aFxcIj09PWkuc3Vic3RyKDAsMTIpP2kuc3Vic3RyKDEyKToocj1pLmxhc3RJbmRleE9mKCIvIikscj49MD9pLnN1YnN0cihyKzEpOihyPWkubGFzdEluZGV4T2YoIlxcIikscj49MD9pLnN1YnN0cihyKzEpOmkpKToic3RyaW5nIj09dHlwZW9mIGk/aS5yZXBsYWNlKC9cci9nLCIiKTppKX0sY2hlY2s6ZnVuY3Rpb24odCl7dD10aGlzLnZhbGlkYXRpb25UYXJnZXRGb3IodGhpcy5jbGVhbih0KSk7dmFyIHUsZixyLGUsaT1uKHQpLnJ1bGVzKCksYz1uLm1hcChpLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHR9KS5sZW5ndGgscz0hMSxoPXRoaXMuZWxlbWVudFZhbHVlKHQpOyJmdW5jdGlvbiI9PXR5cGVvZiBpLm5vcm1hbGl6ZXI/ZT1pLm5vcm1hbGl6ZXI6ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuc2V0dGluZ3Mubm9ybWFsaXplciYmKGU9dGhpcy5zZXR0aW5ncy5ub3JtYWxpemVyKTtlJiYoaD1lLmNhbGwodCxoKSxkZWxldGUgaS5ub3JtYWxpemVyKTtmb3IoZiBpbiBpKXtyPXttZXRob2Q6ZixwYXJhbWV0ZXJzOmlbZl19O3RyeXtpZih1PW4udmFsaWRhdG9yLm1ldGhvZHNbZl0uY2FsbCh0aGlzLGgsdCxyLnBhcmFtZXRlcnMpLCJkZXBlbmRlbmN5LW1pc21hdGNoIj09PXUmJjE9PT1jKXtzPSEwO2NvbnRpbnVlfWlmKHM9ITEsInBlbmRpbmciPT09dSlyZXR1cm4gdm9pZCh0aGlzLnRvSGlkZT10aGlzLnRvSGlkZS5ub3QodGhpcy5lcnJvcnNGb3IodCkpKTtpZighdSlyZXR1cm4gdGhpcy5mb3JtYXRBbmRBZGQodCxyKSwhMX1jYXRjaChvKXt0aHJvdyB0aGlzLnNldHRpbmdzLmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2coIkV4Y2VwdGlvbiBvY2N1cnJlZCB3aGVuIGNoZWNraW5nIGVsZW1lbnQgIit0LmlkKyIsIGNoZWNrIHRoZSAnIityLm1ldGhvZCsiJyBtZXRob2QuIixvKSxvIGluc3RhbmNlb2YgVHlwZUVycm9yJiYoby5tZXNzYWdlKz0iLiAgRXhjZXB0aW9uIG9jY3VycmVkIHdoZW4gY2hlY2tpbmcgZWxlbWVudCAiK3QuaWQrIiwgY2hlY2sgdGhlICciK3IubWV0aG9kKyInIG1ldGhvZC4iKSxvO319aWYoIXMpcmV0dXJuIHRoaXMub2JqZWN0TGVuZ3RoKGkpJiZ0aGlzLnN1Y2Nlc3NMaXN0LnB1c2godCksITB9LGN1c3RvbURhdGFNZXNzYWdlOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIG4odCkuZGF0YSgibXNnIitpLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2kuc3Vic3RyaW5nKDEpLnRvTG93ZXJDYXNlKCkpfHxuKHQpLmRhdGEoIm1zZyIpfSxjdXN0b21NZXNzYWdlOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tuXTtyZXR1cm4gaSYmKGkuY29uc3RydWN0b3I9PT1TdHJpbmc/aTppW3RdKX0sZmluZERlZmluZWQ6ZnVuY3Rpb24oKXtmb3IodmFyIG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWlmKHZvaWQgMCE9PWFyZ3VtZW50c1tuXSlyZXR1cm4gYXJndW1lbnRzW25dfSxkZWZhdWx0TWVzc2FnZTpmdW5jdGlvbih0LGkpeyJzdHJpbmciPT10eXBlb2YgaSYmKGk9e21ldGhvZDppfSk7dmFyIHI9dGhpcy5maW5kRGVmaW5lZCh0aGlzLmN1c3RvbU1lc3NhZ2UodC5uYW1lLGkubWV0aG9kKSx0aGlzLmN1c3RvbURhdGFNZXNzYWdlKHQsaS5tZXRob2QpLCF0aGlzLnNldHRpbmdzLmlnbm9yZVRpdGxlJiZ0LnRpdGxlfHx2b2lkIDAsbi52YWxpZGF0b3IubWVzc2FnZXNbaS5tZXRob2RdLCI8c3Ryb25nPldhcm5pbmc6IE5vIG1lc3NhZ2UgZGVmaW5lZCBmb3IgIit0Lm5hbWUrIjxcL3N0cm9uZz4iKSx1PS9cJD9ceyhcZCspXH0vZztyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygcj9yPXIuY2FsbCh0aGlzLGkucGFyYW1ldGVycyx0KTp1LnRlc3QocikmJihyPW4udmFsaWRhdG9yLmZvcm1hdChyLnJlcGxhY2UodSwieyQxfSIpLGkucGFyYW1ldGVycykpLHJ9LGZvcm1hdEFuZEFkZDpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuZGVmYXVsdE1lc3NhZ2Uobix0KTt0aGlzLmVycm9yTGlzdC5wdXNoKHttZXNzYWdlOmksZWxlbWVudDpuLG1ldGhvZDp0Lm1ldGhvZH0pO3RoaXMuZXJyb3JNYXBbbi5uYW1lXT1pO3RoaXMuc3VibWl0dGVkW24ubmFtZV09aX0sYWRkV3JhcHBlcjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5zZXR0aW5ncy53cmFwcGVyJiYobj1uLmFkZChuLnBhcmVudCh0aGlzLnNldHRpbmdzLndyYXBwZXIpKSksbn0sZGVmYXVsdFNob3dFcnJvcnM6ZnVuY3Rpb24oKXtmb3IodmFyIGksdCxuPTA7dGhpcy5lcnJvckxpc3Rbbl07bisrKXQ9dGhpcy5lcnJvckxpc3Rbbl0sdGhpcy5zZXR0aW5ncy5oaWdobGlnaHQmJnRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0LmNhbGwodGhpcyx0LmVsZW1lbnQsdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyksdGhpcy5zaG93TGFiZWwodC5lbGVtZW50LHQubWVzc2FnZSk7aWYodGhpcy5lcnJvckxpc3QubGVuZ3RoJiYodGhpcy50b1Nob3c9dGhpcy50b1Nob3cuYWRkKHRoaXMuY29udGFpbmVycykpLHRoaXMuc2V0dGluZ3Muc3VjY2Vzcylmb3Iobj0wO3RoaXMuc3VjY2Vzc0xpc3Rbbl07bisrKXRoaXMuc2hvd0xhYmVsKHRoaXMuc3VjY2Vzc0xpc3Rbbl0pO2lmKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQpZm9yKG49MCxpPXRoaXMudmFsaWRFbGVtZW50cygpO2lbbl07bisrKXRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLGlbbl0sdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyk7dGhpcy50b0hpZGU9dGhpcy50b0hpZGUubm90KHRoaXMudG9TaG93KTt0aGlzLmhpZGVFcnJvcnMoKTt0aGlzLmFkZFdyYXBwZXIodGhpcy50b1Nob3cpLnNob3coKX0sdmFsaWRFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRFbGVtZW50cy5ub3QodGhpcy5pbnZhbGlkRWxlbWVudHMoKSl9LGludmFsaWRFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiBuKHRoaXMuZXJyb3JMaXN0KS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSl9LHNob3dMYWJlbDpmdW5jdGlvbih0LGkpe3ZhciB1LHMsZSxvLHI9dGhpcy5lcnJvcnNGb3IodCksaD10aGlzLmlkT3JOYW1lKHQpLGY9bih0KS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iik7ci5sZW5ndGg/KHIucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy52YWxpZENsYXNzKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3MpLHIuaHRtbChpKSk6KHI9bigiPCIrdGhpcy5zZXR0aW5ncy5lcnJvckVsZW1lbnQrIj4iKS5hdHRyKCJpZCIsaCsiLWVycm9yIikuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzKS5odG1sKGl8fCIiKSx1PXIsdGhpcy5zZXR0aW5ncy53cmFwcGVyJiYodT1yLmhpZGUoKS5zaG93KCkud3JhcCgiPCIrdGhpcy5zZXR0aW5ncy53cmFwcGVyKyIvPiIpLnBhcmVudCgpKSx0aGlzLmxhYmVsQ29udGFpbmVyLmxlbmd0aD90aGlzLmxhYmVsQ29udGFpbmVyLmFwcGVuZCh1KTp0aGlzLnNldHRpbmdzLmVycm9yUGxhY2VtZW50P3RoaXMuc2V0dGluZ3MuZXJyb3JQbGFjZW1lbnQuY2FsbCh0aGlzLHUsbih0KSk6dS5pbnNlcnRBZnRlcih0KSxyLmlzKCJsYWJlbCIpP3IuYXR0cigiZm9yIixoKTowPT09ci5wYXJlbnRzKCJsYWJlbFtmb3I9JyIrdGhpcy5lc2NhcGVDc3NNZXRhKGgpKyInXSIpLmxlbmd0aCYmKGU9ci5hdHRyKCJpZCIpLGY/Zi5tYXRjaChuZXcgUmVnRXhwKCJcXGIiK3RoaXMuZXNjYXBlQ3NzTWV0YShlKSsiXFxiIikpfHwoZis9IiAiK2UpOmY9ZSxuKHQpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiLGYpLHM9dGhpcy5ncm91cHNbdC5uYW1lXSxzJiYobz10aGlzLG4uZWFjaChvLmdyb3VwcyxmdW5jdGlvbih0LGkpe2k9PT1zJiZuKCJbbmFtZT0nIitvLmVzY2FwZUNzc01ldGEodCkrIiddIixvLmN1cnJlbnRGb3JtKS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IixyLmF0dHIoImlkIikpfSkpKSk7IWkmJnRoaXMuc2V0dGluZ3Muc3VjY2VzcyYmKHIudGV4dCgiIiksInN0cmluZyI9PXR5cGVvZiB0aGlzLnNldHRpbmdzLnN1Y2Nlc3M/ci5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnN1Y2Nlc3MpOnRoaXMuc2V0dGluZ3Muc3VjY2VzcyhyLHQpKTt0aGlzLnRvU2hvdz10aGlzLnRvU2hvdy5hZGQocil9LGVycm9yc0ZvcjpmdW5jdGlvbih0KXt2YXIgcj10aGlzLmVzY2FwZUNzc01ldGEodGhpcy5pZE9yTmFtZSh0KSksdT1uKHQpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKSxpPSJsYWJlbFtmb3I9JyIrcisiJ10sIGxhYmVsW2Zvcj0nIityKyInXSAqIjtyZXR1cm4gdSYmKGk9aSsiLCAjIit0aGlzLmVzY2FwZUNzc01ldGEodSkucmVwbGFjZSgvXHMrL2csIiwgIyIpKSx0aGlzLmVycm9ycygpLmZpbHRlcihpKX0sZXNjYXBlQ3NzTWV0YTpmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKC8oW1xcISIjJCUmJygpKissLlwvOjs8PT4/QFxbXF1eYHt8fX5dKS9nLCJcXCQxIil9LGlkT3JOYW1lOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmdyb3Vwc1tuLm5hbWVdfHwodGhpcy5jaGVja2FibGUobik/bi5uYW1lOm4uaWR8fG4ubmFtZSl9LHZhbGlkYXRpb25UYXJnZXRGb3I6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hlY2thYmxlKHQpJiYodD10aGlzLmZpbmRCeU5hbWUodC5uYW1lKSksbih0KS5ub3QodGhpcy5zZXR0aW5ncy5pZ25vcmUpWzBdfSxjaGVja2FibGU6ZnVuY3Rpb24obil7cmV0dXJuL3JhZGlvfGNoZWNrYm94L2kudGVzdChuLnR5cGUpfSxmaW5kQnlOYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMuY3VycmVudEZvcm0pLmZpbmQoIltuYW1lPSciK3RoaXMuZXNjYXBlQ3NzTWV0YSh0KSsiJ10iKX0sZ2V0TGVuZ3RoOmZ1bmN0aW9uKHQsaSl7c3dpdGNoKGkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZSJzZWxlY3QiOnJldHVybiBuKCJvcHRpb246c2VsZWN0ZWQiLGkpLmxlbmd0aDtjYXNlImlucHV0IjppZih0aGlzLmNoZWNrYWJsZShpKSlyZXR1cm4gdGhpcy5maW5kQnlOYW1lKGkubmFtZSkuZmlsdGVyKCI6Y2hlY2tlZCIpLmxlbmd0aH1yZXR1cm4gdC5sZW5ndGh9LGRlcGVuZDpmdW5jdGlvbihuLHQpe3JldHVybiF0aGlzLmRlcGVuZFR5cGVzW3R5cGVvZiBuXXx8dGhpcy5kZXBlbmRUeXBlc1t0eXBlb2Ygbl0obix0KX0sZGVwZW5kVHlwZXM6e2Jvb2xlYW46ZnVuY3Rpb24obil7cmV0dXJuIG59LHN0cmluZzpmdW5jdGlvbih0LGkpe3JldHVybiEhbih0LGkuZm9ybSkubGVuZ3RofSwiZnVuY3Rpb24iOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4odCl9fSxvcHRpb25hbDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmVsZW1lbnRWYWx1ZSh0KTtyZXR1cm4hbi52YWxpZGF0b3IubWV0aG9kcy5yZXF1aXJlZC5jYWxsKHRoaXMsaSx0KSYmImRlcGVuZGVuY3ktbWlzbWF0Y2gifSxzdGFydFJlcXVlc3Q6ZnVuY3Rpb24odCl7dGhpcy5wZW5kaW5nW3QubmFtZV18fCh0aGlzLnBlbmRpbmdSZXF1ZXN0Kyssbih0KS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnBlbmRpbmdDbGFzcyksdGhpcy5wZW5kaW5nW3QubmFtZV09ITApfSxzdG9wUmVxdWVzdDpmdW5jdGlvbih0LGkpe3RoaXMucGVuZGluZ1JlcXVlc3QtLTt0aGlzLnBlbmRpbmdSZXF1ZXN0PDAmJih0aGlzLnBlbmRpbmdSZXF1ZXN0PTApO2RlbGV0ZSB0aGlzLnBlbmRpbmdbdC5uYW1lXTtuKHQpLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MucGVuZGluZ0NsYXNzKTtpJiYwPT09dGhpcy5wZW5kaW5nUmVxdWVzdCYmdGhpcy5mb3JtU3VibWl0dGVkJiZ0aGlzLmZvcm0oKT8obih0aGlzLmN1cnJlbnRGb3JtKS5zdWJtaXQoKSx0aGlzLnN1Ym1pdEJ1dHRvbiYmbigiaW5wdXQ6aGlkZGVuW25hbWU9JyIrdGhpcy5zdWJtaXRCdXR0b24ubmFtZSsiJ10iLHRoaXMuY3VycmVudEZvcm0pLnJlbW92ZSgpLHRoaXMuZm9ybVN1Ym1pdHRlZD0hMSk6IWkmJjA9PT10aGlzLnBlbmRpbmdSZXF1ZXN0JiZ0aGlzLmZvcm1TdWJtaXR0ZWQmJihuKHRoaXMuY3VycmVudEZvcm0pLnRyaWdnZXJIYW5kbGVyKCJpbnZhbGlkLWZvcm0iLFt0aGlzXSksdGhpcy5mb3JtU3VibWl0dGVkPSExKX0scHJldmlvdXNWYWx1ZTpmdW5jdGlvbih0LGkpe3JldHVybiBpPSJzdHJpbmciPT10eXBlb2YgaSYmaXx8InJlbW90ZSIsbi5kYXRhKHQsInByZXZpb3VzVmFsdWUiKXx8bi5kYXRhKHQsInByZXZpb3VzVmFsdWUiLHtvbGQ6bnVsbCx2YWxpZDohMCxtZXNzYWdlOnRoaXMuZGVmYXVsdE1lc3NhZ2UodCx7bWV0aG9kOml9KX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5yZXNldEZvcm0oKTtuKHRoaXMuY3VycmVudEZvcm0pLm9mZigiLnZhbGlkYXRlIikucmVtb3ZlRGF0YSgidmFsaWRhdG9yIikuZmluZCgiLnZhbGlkYXRlLWVxdWFsVG8tYmx1ciIpLm9mZigiLnZhbGlkYXRlLWVxdWFsVG8iKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtZXF1YWxUby1ibHVyIikuZmluZCgiLnZhbGlkYXRlLWxlc3NUaGFuLWJsdXIiKS5vZmYoIi52YWxpZGF0ZS1sZXNzVGhhbiIpLnJlbW92ZUNsYXNzKCJ2YWxpZGF0ZS1sZXNzVGhhbi1ibHVyIikuZmluZCgiLnZhbGlkYXRlLWxlc3NUaGFuRXF1YWwtYmx1ciIpLm9mZigiLnZhbGlkYXRlLWxlc3NUaGFuRXF1YWwiKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtbGVzc1RoYW5FcXVhbC1ibHVyIikuZmluZCgiLnZhbGlkYXRlLWdyZWF0ZXJUaGFuRXF1YWwtYmx1ciIpLm9mZigiLnZhbGlkYXRlLWdyZWF0ZXJUaGFuRXF1YWwiKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtZ3JlYXRlclRoYW5FcXVhbC1ibHVyIikuZmluZCgiLnZhbGlkYXRlLWdyZWF0ZXJUaGFuLWJsdXIiKS5vZmYoIi52YWxpZGF0ZS1ncmVhdGVyVGhhbiIpLnJlbW92ZUNsYXNzKCJ2YWxpZGF0ZS1ncmVhdGVyVGhhbi1ibHVyIil9fSxjbGFzc1J1bGVTZXR0aW5nczp7cmVxdWlyZWQ6e3JlcXVpcmVkOiEwfSxlbWFpbDp7ZW1haWw6ITB9LHVybDp7dXJsOiEwfSxkYXRlOntkYXRlOiEwfSxkYXRlSVNPOntkYXRlSVNPOiEwfSxudW1iZXI6e251bWJlcjohMH0sZGlnaXRzOntkaWdpdHM6ITB9LGNyZWRpdGNhcmQ6e2NyZWRpdGNhcmQ6ITB9fSxhZGRDbGFzc1J1bGVzOmZ1bmN0aW9uKHQsaSl7dC5jb25zdHJ1Y3Rvcj09PVN0cmluZz90aGlzLmNsYXNzUnVsZVNldHRpbmdzW3RdPWk6bi5leHRlbmQodGhpcy5jbGFzc1J1bGVTZXR0aW5ncyx0KX0sY2xhc3NSdWxlczpmdW5jdGlvbih0KXt2YXIgaT17fSxyPW4odCkuYXR0cigiY2xhc3MiKTtyZXR1cm4gciYmbi5lYWNoKHIuc3BsaXQoIiAiKSxmdW5jdGlvbigpe3RoaXMgaW4gbi52YWxpZGF0b3IuY2xhc3NSdWxlU2V0dGluZ3MmJm4uZXh0ZW5kKGksbi52YWxpZGF0b3IuY2xhc3NSdWxlU2V0dGluZ3NbdGhpc10pfSksaX0sbm9ybWFsaXplQXR0cmlidXRlUnVsZTpmdW5jdGlvbihuLHQsaSxyKXsvbWlufG1heHxzdGVwLy50ZXN0KGkpJiYobnVsbD09PXR8fC9udW1iZXJ8cmFuZ2V8dGV4dC8udGVzdCh0KSkmJihyPU51bWJlcihyKSxpc05hTihyKSYmKHI9dm9pZCAwKSk7cnx8MD09PXI/bltpXT1yOnQ9PT1pJiYicmFuZ2UiIT09dCYmKG5baV09ITApfSxhdHRyaWJ1dGVSdWxlczpmdW5jdGlvbih0KXt2YXIgcixpLHU9e30sZj1uKHQpLGU9dC5nZXRBdHRyaWJ1dGUoInR5cGUiKTtmb3IociBpbiBuLnZhbGlkYXRvci5tZXRob2RzKSJyZXF1aXJlZCI9PT1yPyhpPXQuZ2V0QXR0cmlidXRlKHIpLCIiPT09aSYmKGk9ITApLGk9ISFpKTppPWYuYXR0cihyKSx0aGlzLm5vcm1hbGl6ZUF0dHJpYnV0ZVJ1bGUodSxlLHIsaSk7cmV0dXJuIHUubWF4bGVuZ3RoJiYvLTF8MjE0NzQ4MzY0N3w1MjQyODgvLnRlc3QodS5tYXhsZW5ndGgpJiZkZWxldGUgdS5tYXhsZW5ndGgsdX0sZGF0YVJ1bGVzOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdT17fSxmPW4odCksZT10LmdldEF0dHJpYnV0ZSgidHlwZSIpO2ZvcihpIGluIG4udmFsaWRhdG9yLm1ldGhvZHMpcj1mLmRhdGEoInJ1bGUiK2kuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkraS5zdWJzdHJpbmcoMSkudG9Mb3dlckNhc2UoKSksIiI9PT1yJiYocj0hMCksdGhpcy5ub3JtYWxpemVBdHRyaWJ1dGVSdWxlKHUsZSxpLHIpO3JldHVybiB1fSxzdGF0aWNSdWxlczpmdW5jdGlvbih0KXt2YXIgaT17fSxyPW4uZGF0YSh0LmZvcm0sInZhbGlkYXRvciIpO3JldHVybiByLnNldHRpbmdzLnJ1bGVzJiYoaT1uLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKHIuc2V0dGluZ3MucnVsZXNbdC5uYW1lXSl8fHt9KSxpfSxub3JtYWxpemVSdWxlczpmdW5jdGlvbih0LGkpe3JldHVybiBuLmVhY2godCxmdW5jdGlvbihyLHUpe2lmKHU9PT0hMSlyZXR1cm4gdm9pZCBkZWxldGUgdFtyXTtpZih1LnBhcmFtfHx1LmRlcGVuZHMpe3ZhciBmPSEwO3N3aXRjaCh0eXBlb2YgdS5kZXBlbmRzKXtjYXNlInN0cmluZyI6Zj0hIW4odS5kZXBlbmRzLGkuZm9ybSkubGVuZ3RoO2JyZWFrO2Nhc2UiZnVuY3Rpb24iOmY9dS5kZXBlbmRzLmNhbGwoaSxpKX1mP3Rbcl09dm9pZCAwPT09dS5wYXJhbXx8dS5wYXJhbToobi5kYXRhKGkuZm9ybSwidmFsaWRhdG9yIikucmVzZXRFbGVtZW50cyhuKGkpKSxkZWxldGUgdFtyXSl9fSksbi5lYWNoKHQsZnVuY3Rpb24obixyKXt0W25dPSJmdW5jdGlvbiI9PXR5cGVvZiByJiYibm9ybWFsaXplciIhPT1uP3IoaSk6cn0pLG4uZWFjaChbIm1pbmxlbmd0aCIsIm1heGxlbmd0aCJdLGZ1bmN0aW9uKCl7dFt0aGlzXSYmKHRbdGhpc109TnVtYmVyKHRbdGhpc10pKX0pLG4uZWFjaChbInJhbmdlbGVuZ3RoIiwicmFuZ2UiXSxmdW5jdGlvbigpe3ZhciBuO3RbdGhpc10mJihBcnJheS5pc0FycmF5KHRbdGhpc10pP3RbdGhpc109W051bWJlcih0W3RoaXNdWzBdKSxOdW1iZXIodFt0aGlzXVsxXSldOiJzdHJpbmciPT10eXBlb2YgdFt0aGlzXSYmKG49dFt0aGlzXS5yZXBsYWNlKC9bXFtcXV0vZywiIikuc3BsaXQoL1tccyxdKy8pLHRbdGhpc109W051bWJlcihuWzBdKSxOdW1iZXIoblsxXSldKSl9KSxuLnZhbGlkYXRvci5hdXRvQ3JlYXRlUmFuZ2VzJiYobnVsbCE9dC5taW4mJm51bGwhPXQubWF4JiYodC5yYW5nZT1bdC5taW4sdC5tYXhdLGRlbGV0ZSB0Lm1pbixkZWxldGUgdC5tYXgpLG51bGwhPXQubWlubGVuZ3RoJiZudWxsIT10Lm1heGxlbmd0aCYmKHQucmFuZ2VsZW5ndGg9W3QubWlubGVuZ3RoLHQubWF4bGVuZ3RoXSxkZWxldGUgdC5taW5sZW5ndGgsZGVsZXRlIHQubWF4bGVuZ3RoKSksdH0sbm9ybWFsaXplUnVsZTpmdW5jdGlvbih0KXtpZigic3RyaW5nIj09dHlwZW9mIHQpe3ZhciBpPXt9O24uZWFjaCh0LnNwbGl0KC9ccy8pLGZ1bmN0aW9uKCl7aVt0aGlzXT0hMH0pO3Q9aX1yZXR1cm4gdH0sYWRkTWV0aG9kOmZ1bmN0aW9uKHQsaSxyKXtuLnZhbGlkYXRvci5tZXRob2RzW3RdPWk7bi52YWxpZGF0b3IubWVzc2FnZXNbdF09dm9pZCAwIT09cj9yOm4udmFsaWRhdG9yLm1lc3NhZ2VzW3RdO2kubGVuZ3RoPDMmJm4udmFsaWRhdG9yLmFkZENsYXNzUnVsZXModCxuLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKHQpKX0sbWV0aG9kczp7cmVxdWlyZWQ6ZnVuY3Rpb24odCxpLHIpe2lmKCF0aGlzLmRlcGVuZChyLGkpKXJldHVybiJkZXBlbmRlbmN5LW1pc21hdGNoIjtpZigic2VsZWN0Ij09PWkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7dmFyIHU9bihpKS52YWwoKTtyZXR1cm4gdSYmdS5sZW5ndGg+MH1yZXR1cm4gdGhpcy5jaGVja2FibGUoaSk/dGhpcy5nZXRMZW5ndGgodCxpKT4wOnZvaWQgMCE9PXQmJm51bGwhPT10JiZ0Lmxlbmd0aD4wfSxlbWFpbDpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHwvXlthLXpBLVowLTkuISMkJSYnKitcLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqJC8udGVzdChuKX0sdXJsOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fC9eKD86KD86KD86aHR0cHM/fGZ0cCk6KT9cL1wvKSg/OlxTKyg/OjpcUyopP0ApPyg/Oig/ISg/OjEwfDEyNykoPzpcLlxkezEsM30pezN9KSg/ISg/OjE2OVwuMjU0fDE5MlwuMTY4KSg/OlwuXGR7MSwzfSl7Mn0pKD8hMTcyXC4oPzoxWzYtOV18MlxkfDNbMC0xXSkoPzpcLlxkezEsM30pezJ9KSg/OlsxLTldXGQ/fDFcZFxkfDJbMDFdXGR8MjJbMC0zXSkoPzpcLig/OjE/XGR7MSwyfXwyWzAtNF1cZHwyNVswLTVdKSl7Mn0oPzpcLig/OlsxLTldXGQ/fDFcZFxkfDJbMC00XVxkfDI1WzAtNF0pKXwoPzooPzpbYS16MC05XHUwMGExLVx1ZmZmZl1bYS16MC05XHUwMGExLVx1ZmZmZl8tXXswLDYyfSk/W2EtejAtOVx1MDBhMS1cdWZmZmZdXC4pKyg/OlthLXpcdTAwYTEtXHVmZmZmXXsyLH1cLj8pKSg/OjpcZHsyLDV9KT8oPzpbXC8/I11cUyopPyQvaS50ZXN0KG4pfSxkYXRlOmZ1bmN0aW9uKCl7dmFyIG49ITE7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7cmV0dXJuIG58fChuPSEwLHRoaXMuc2V0dGluZ3MuZGVidWcmJndpbmRvdy5jb25zb2xlJiZjb25zb2xlLndhcm4oIlRoZSBgZGF0ZWAgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2ZXJzaW9uICcyLjAuMCcuXG5QbGVhc2UgZG9uJ3QgdXNlIGl0LCBzaW5jZSBpdCByZWxpZXMgb24gdGhlIERhdGUgY29uc3RydWN0b3IsIHdoaWNoXG5iZWhhdmVzIHZlcnkgZGlmZmVyZW50bHkgYWNyb3NzIGJyb3dzZXJzIGFuZCBsb2NhbGVzLiBVc2UgYGRhdGVJU09gXG5pbnN0ZWFkIG9yIG9uZSBvZiB0aGUgbG9jYWxlIHNwZWNpZmljIG1ldGhvZHMgaW4gYGxvY2FsaXphdGlvbnMvYFxuYW5kIGBhZGRpdGlvbmFsLW1ldGhvZHMuanNgLiIpKSx0aGlzLm9wdGlvbmFsKGkpfHwhL0ludmFsaWR8TmFOLy50ZXN0KG5ldyBEYXRlKHQpLnRvU3RyaW5nKCkpfX0oKSxkYXRlSVNPOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fC9eXGR7NH1bXC9cLV0oMD9bMS05XXwxWzAxMl0pW1wvXC1dKDA/WzEtOV18WzEyXVswLTldfDNbMDFdKSQvLnRlc3Qobil9LG51bWJlcjpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHwvXig/Oi0/XGQrfC0/XGR7MSwzfSg/OixcZHszfSkrKT8oPzpcLlxkKyk/JC8udGVzdChuKX0sZGlnaXRzOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fC9eXGQrJC8udGVzdChuKX0sbWlubGVuZ3RoOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj1BcnJheS5pc0FycmF5KG4pP24ubGVuZ3RoOnRoaXMuZ2V0TGVuZ3RoKG4sdCk7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fHI+PWl9LG1heGxlbmd0aDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9QXJyYXkuaXNBcnJheShuKT9uLmxlbmd0aDp0aGlzLmdldExlbmd0aChuLHQpO3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxyPD1pfSxyYW5nZWxlbmd0aDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9QXJyYXkuaXNBcnJheShuKT9uLmxlbmd0aDp0aGlzLmdldExlbmd0aChuLHQpO3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxyPj1pWzBdJiZyPD1pWzFdfSxtaW46ZnVuY3Rpb24obix0LGkpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxuPj1pfSxtYXg6ZnVuY3Rpb24obix0LGkpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxuPD1pfSxyYW5nZTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fG4+PWlbMF0mJm48PWlbMV19LHN0ZXA6ZnVuY3Rpb24odCxpLHIpe3ZhciB1LGY9bihpKS5hdHRyKCJ0eXBlIiksaD0iU3RlcCBhdHRyaWJ1dGUgb24gaW5wdXQgdHlwZSAiK2YrIiBpcyBub3Qgc3VwcG9ydGVkLiIsYz1uZXcgUmVnRXhwKCJcXGIiK2YrIlxcYiIpLGw9ZiYmIWMudGVzdCgidGV4dCxudW1iZXIscmFuZ2UiKSxlPWZ1bmN0aW9uKG4pe3ZhciB0PSgiIituKS5tYXRjaCgvKD86XC4oXGQrKSk/JC8pO3JldHVybiB0JiZ0WzFdP3RbMV0ubGVuZ3RoOjB9LG89ZnVuY3Rpb24obil7cmV0dXJuIE1hdGgucm91bmQobipNYXRoLnBvdygxMCx1KSl9LHM9ITA7aWYobCl0aHJvdyBuZXcgRXJyb3IoaCk7cmV0dXJuIHU9ZShyKSwoZSh0KT51fHxvKHQpJW8ocikhPTApJiYocz0hMSksdGhpcy5vcHRpb25hbChpKXx8c30sZXF1YWxUbzpmdW5jdGlvbih0LGkscil7dmFyIHU9bihyKTtyZXR1cm4gdGhpcy5zZXR0aW5ncy5vbmZvY3Vzb3V0JiZ1Lm5vdCgiLnZhbGlkYXRlLWVxdWFsVG8tYmx1ciIpLmxlbmd0aCYmdS5hZGRDbGFzcygidmFsaWRhdGUtZXF1YWxUby1ibHVyIikub24oImJsdXIudmFsaWRhdGUtZXF1YWxUbyIsZnVuY3Rpb24oKXtuKGkpLnZhbGlkKCl9KSx0PT09dS52YWwoKX0scmVtb3RlOmZ1bmN0aW9uKHQsaSxyLHUpe2lmKHRoaXMub3B0aW9uYWwoaSkpcmV0dXJuImRlcGVuZGVuY3ktbWlzbWF0Y2giO3U9InN0cmluZyI9PXR5cGVvZiB1JiZ1fHwicmVtb3RlIjt2YXIgZixvLHMsZT10aGlzLnByZXZpb3VzVmFsdWUoaSx1KTtyZXR1cm4gdGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdfHwodGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdPXt9KSxlLm9yaWdpbmFsTWVzc2FnZT1lLm9yaWdpbmFsTWVzc2FnZXx8dGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdW3VdLHRoaXMuc2V0dGluZ3MubWVzc2FnZXNbaS5uYW1lXVt1XT1lLm1lc3NhZ2Uscj0ic3RyaW5nIj09dHlwZW9mIHImJnt1cmw6cn18fHIscz1uLnBhcmFtKG4uZXh0ZW5kKHtkYXRhOnR9LHIuZGF0YSkpLGUub2xkPT09cz9lLnZhbGlkOihlLm9sZD1zLGY9dGhpcyx0aGlzLnN0YXJ0UmVxdWVzdChpKSxvPXt9LG9baS5uYW1lXT10LG4uYWpheChuLmV4dGVuZCghMCx7bW9kZToiYWJvcnQiLHBvcnQ6InZhbGlkYXRlIitpLm5hbWUsZGF0YVR5cGU6Impzb24iLGRhdGE6byxjb250ZXh0OmYuY3VycmVudEZvcm0sc3VjY2VzczpmdW5jdGlvbihuKXt2YXIgcixzLGgsbz1uPT09ITB8fCJ0cnVlIj09PW47Zi5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdW3VdPWUub3JpZ2luYWxNZXNzYWdlO28/KGg9Zi5mb3JtU3VibWl0dGVkLGYucmVzZXRJbnRlcm5hbHMoKSxmLnRvSGlkZT1mLmVycm9yc0ZvcihpKSxmLmZvcm1TdWJtaXR0ZWQ9aCxmLnN1Y2Nlc3NMaXN0LnB1c2goaSksZi5pbnZhbGlkW2kubmFtZV09ITEsZi5zaG93RXJyb3JzKCkpOihyPXt9LHM9bnx8Zi5kZWZhdWx0TWVzc2FnZShpLHttZXRob2Q6dSxwYXJhbWV0ZXJzOnR9KSxyW2kubmFtZV09ZS5tZXNzYWdlPXMsZi5pbnZhbGlkW2kubmFtZV09ITAsZi5zaG93RXJyb3JzKHIpKTtlLnZhbGlkPW87Zi5zdG9wUmVxdWVzdChpLG8pfX0scikpLCJwZW5kaW5nIil9fX0pLHQ9e30sbi5hamF4UHJlZmlsdGVyP24uYWpheFByZWZpbHRlcihmdW5jdGlvbihuLGkscil7dmFyIHU9bi5wb3J0OyJhYm9ydCI9PT1uLm1vZGUmJih0W3VdJiZ0W3VdLmFib3J0KCksdFt1XT1yKX0pOihyPW4uYWpheCxuLmFqYXg9ZnVuY3Rpb24oaSl7dmFyIGY9KCJtb2RlImluIGk/aTpuLmFqYXhTZXR0aW5ncykubW9kZSx1PSgicG9ydCJpbiBpP2k6bi5hamF4U2V0dGluZ3MpLnBvcnQ7cmV0dXJuImFib3J0Ij09PWY/KHRbdV0mJnRbdV0uYWJvcnQoKSx0W3VdPXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRbdV0pOnIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksbn0pOyFmdW5jdGlvbihuKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSgianF1ZXJ5LnZhbGlkYXRlLnVub2J0cnVzaXZlIixbImpxdWVyeS12YWxpZGF0aW9uIl0sbik6Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPW4ocmVxdWlyZSgianF1ZXJ5LXZhbGlkYXRpb24iKSk6alF1ZXJ5LnZhbGlkYXRvci51bm9idHJ1c2l2ZT1uKGpRdWVyeSl9KGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGkobix0LGkpe24ucnVsZXNbdF09aTtuLm1lc3NhZ2UmJihuLm1lc3NhZ2VzW3RdPW4ubWVzc2FnZSl9ZnVuY3Rpb24gaChuKXtyZXR1cm4gbi5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIikuc3BsaXQoL1xzKixccyovZyl9ZnVuY3Rpb24gZihuKXtyZXR1cm4gbi5yZXBsYWNlKC8oWyEiIyQlJicoKSorLC5cLzo7PD0+P0BcW1xcXF1eYHt8fX5dKS9nLCJcXCQxIil9ZnVuY3Rpb24gZShuKXtyZXR1cm4gbi5zdWJzdHIoMCxuLmxhc3RJbmRleE9mKCIuIikrMSl9ZnVuY3Rpb24gbyhuLHQpe3JldHVybiAwPT09bi5pbmRleE9mKCIqLiIpJiYobj1uLnJlcGxhY2UoIiouIix0KSksbn1mdW5jdGlvbiBjKHQsaSl7dmFyIHI9bih0aGlzKS5maW5kKCJbZGF0YS12YWxtc2ctZm9yPSciK2YoaVswXS5uYW1lKSsiJ10iKSx1PXIuYXR0cigiZGF0YS12YWxtc2ctcmVwbGFjZSIpLGU9dT9uLnBhcnNlSlNPTih1KSE9PSExOm51bGw7ci5yZW1vdmVDbGFzcygiZmllbGQtdmFsaWRhdGlvbi12YWxpZCIpLmFkZENsYXNzKCJmaWVsZC12YWxpZGF0aW9uLWVycm9yIik7dC5kYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIscik7ZT8oci5lbXB0eSgpLHQucmVtb3ZlQ2xhc3MoImlucHV0LXZhbGlkYXRpb24tZXJyb3IiKS5hcHBlbmRUbyhyKSk6dC5oaWRlKCl9ZnVuY3Rpb24gbCh0LGkpe3ZhciB1PW4odGhpcykuZmluZCgiW2RhdGEtdmFsbXNnLXN1bW1hcnk9dHJ1ZV0iKSxyPXUuZmluZCgidWwiKTtyJiZyLmxlbmd0aCYmaS5lcnJvckxpc3QubGVuZ3RoJiYoci5lbXB0eSgpLHUuYWRkQ2xhc3MoInZhbGlkYXRpb24tc3VtbWFyeS1lcnJvcnMiKS5yZW1vdmVDbGFzcygidmFsaWRhdGlvbi1zdW1tYXJ5LXZhbGlkIiksbi5lYWNoKGkuZXJyb3JMaXN0LGZ1bmN0aW9uKCl7bigiPGxpIC8+IikuaHRtbCh0aGlzLm1lc3NhZ2UpLmFwcGVuZFRvKHIpfSkpfWZ1bmN0aW9uIGEodCl7dmFyIGk9dC5kYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIpLHIsdTtpJiYocj1pLmF0dHIoImRhdGEtdmFsbXNnLXJlcGxhY2UiKSx1PXI/bi5wYXJzZUpTT04ocik6bnVsbCxpLmFkZENsYXNzKCJmaWVsZC12YWxpZGF0aW9uLXZhbGlkIikucmVtb3ZlQ2xhc3MoImZpZWxkLXZhbGlkYXRpb24tZXJyb3IiKSx0LnJlbW92ZURhdGEoInVub2J0cnVzaXZlQ29udGFpbmVyIiksdSYmaS5lbXB0eSgpKX1mdW5jdGlvbiB2KCl7dmFyIHQ9bih0aGlzKSxpPSJfX2pxdWVyeV91bm9idHJ1c2l2ZV92YWxpZGF0aW9uX2Zvcm1fcmVzZXQiO2lmKCF0LmRhdGEoaSkpe3QuZGF0YShpLCEwKTt0cnl7dC5kYXRhKCJ2YWxpZGF0b3IiKS5yZXNldEZvcm0oKX1maW5hbGx5e3QucmVtb3ZlRGF0YShpKX10LmZpbmQoIi52YWxpZGF0aW9uLXN1bW1hcnktZXJyb3JzIikuYWRkQ2xhc3MoInZhbGlkYXRpb24tc3VtbWFyeS12YWxpZCIpLnJlbW92ZUNsYXNzKCJ2YWxpZGF0aW9uLXN1bW1hcnktZXJyb3JzIik7dC5maW5kKCIuZmllbGQtdmFsaWRhdGlvbi1lcnJvciIpLmFkZENsYXNzKCJmaWVsZC12YWxpZGF0aW9uLXZhbGlkIikucmVtb3ZlQ2xhc3MoImZpZWxkLXZhbGlkYXRpb24tZXJyb3IiKS5yZW1vdmVEYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIpLmZpbmQoIj4qIikucmVtb3ZlRGF0YSgidW5vYnRydXNpdmVDb250YWluZXIiKX19ZnVuY3Rpb24gcyh0KXt2YXIgaT1uKHQpLGY9aS5kYXRhKHUpLHM9bi5wcm94eSh2LHQpLGU9ci51bm9idHJ1c2l2ZS5vcHRpb25zfHx7fSxvPWZ1bmN0aW9uKGkscil7dmFyIHU9ZVtpXTt1JiZuLmlzRnVuY3Rpb24odSkmJnUuYXBwbHkodCxyKX07cmV0dXJuIGZ8fChmPXtvcHRpb25zOntlcnJvckNsYXNzOmUuZXJyb3JDbGFzc3x8ImlucHV0LXZhbGlkYXRpb24tZXJyb3IiLGVycm9yRWxlbWVudDplLmVycm9yRWxlbWVudHx8InNwYW4iLGVycm9yUGxhY2VtZW50OmZ1bmN0aW9uKCl7Yy5hcHBseSh0LGFyZ3VtZW50cyk7bygiZXJyb3JQbGFjZW1lbnQiLGFyZ3VtZW50cyl9LGludmFsaWRIYW5kbGVyOmZ1bmN0aW9uKCl7bC5hcHBseSh0LGFyZ3VtZW50cyk7bygiaW52YWxpZEhhbmRsZXIiLGFyZ3VtZW50cyl9LG1lc3NhZ2VzOnt9LHJ1bGVzOnt9LHN1Y2Nlc3M6ZnVuY3Rpb24oKXthLmFwcGx5KHQsYXJndW1lbnRzKTtvKCJzdWNjZXNzIixhcmd1bWVudHMpfX0sYXR0YWNoVmFsaWRhdGlvbjpmdW5jdGlvbigpe2kub2ZmKCJyZXNldC4iK3Uscykub24oInJlc2V0LiIrdSxzKS52YWxpZGF0ZSh0aGlzLm9wdGlvbnMpfSx2YWxpZGF0ZTpmdW5jdGlvbigpe3JldHVybiBpLnZhbGlkYXRlKCksaS52YWxpZCgpfX0saS5kYXRhKHUsZikpLGZ9dmFyIHQscj1uLnZhbGlkYXRvcix1PSJ1bm9idHJ1c2l2ZVZhbGlkYXRpb24iO3JldHVybiByLnVub2J0cnVzaXZlPXthZGFwdGVyczpbXSxwYXJzZUVsZW1lbnQ6ZnVuY3Rpb24odCxpKXt2YXIgcix1LG8sZj1uKHQpLGU9Zi5wYXJlbnRzKCJmb3JtIilbMF07ZSYmKHI9cyhlKSxyLm9wdGlvbnMucnVsZXNbdC5uYW1lXT11PXt9LHIub3B0aW9ucy5tZXNzYWdlc1t0Lm5hbWVdPW89e30sbi5lYWNoKHRoaXMuYWRhcHRlcnMsZnVuY3Rpb24oKXt2YXIgaT0iZGF0YS12YWwtIit0aGlzLm5hbWUscj1mLmF0dHIoaSkscz17fTt2b2lkIDAhPT1yJiYoaSs9Ii0iLG4uZWFjaCh0aGlzLnBhcmFtcyxmdW5jdGlvbigpe3NbdGhpc109Zi5hdHRyKGkrdGhpcyl9KSx0aGlzLmFkYXB0KHtlbGVtZW50OnQsZm9ybTplLG1lc3NhZ2U6cixwYXJhbXM6cyxydWxlczp1LG1lc3NhZ2VzOm99KSl9KSxuLmV4dGVuZCh1LHtfX2R1bW15X186ITB9KSxpfHxyLmF0dGFjaFZhbGlkYXRpb24oKSl9LHBhcnNlOmZ1bmN0aW9uKHQpe3ZhciBpPW4odCksdT1pLnBhcmVudHMoKS5hZGRCYWNrKCkuZmlsdGVyKCJmb3JtIikuYWRkKGkuZmluZCgiZm9ybSIpKS5oYXMoIltkYXRhLXZhbD10cnVlXSIpO2kuZmluZCgiW2RhdGEtdmFsPXRydWVdIikuZWFjaChmdW5jdGlvbigpe3IudW5vYnRydXNpdmUucGFyc2VFbGVtZW50KHRoaXMsITApfSk7dS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49cyh0aGlzKTtuJiZuLmF0dGFjaFZhbGlkYXRpb24oKX0pfX0sdD1yLnVub2J0cnVzaXZlLmFkYXB0ZXJzLHQuYWRkPWZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gaXx8KGk9dCx0PVtdKSx0aGlzLnB1c2goe25hbWU6bixwYXJhbXM6dCxhZGFwdDppfSksdGhpc30sdC5hZGRCb29sPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuYWRkKG4sZnVuY3Rpb24ocil7aShyLHR8fG4sITApfSl9LHQuYWRkTWluTWF4PWZ1bmN0aW9uKG4sdCxyLHUsZixlKXtyZXR1cm4gdGhpcy5hZGQobixbZnx8Im1pbiIsZXx8Im1heCJdLGZ1bmN0aW9uKG4pe3ZhciBmPW4ucGFyYW1zLm1pbixlPW4ucGFyYW1zLm1heDtmJiZlP2kobix1LFtmLGVdKTpmP2kobix0LGYpOmUmJmkobixyLGUpfSl9LHQuYWRkU2luZ2xlVmFsPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gdGhpcy5hZGQobixbdHx8InZhbCJdLGZ1bmN0aW9uKHUpe2kodSxyfHxuLHUucGFyYW1zW3RdKX0pfSxyLmFkZE1ldGhvZCgiX19kdW1teV9fIixmdW5jdGlvbigpe3JldHVybiEwfSksci5hZGRNZXRob2QoInJlZ2V4IixmdW5jdGlvbihuLHQsaSl7dmFyIHI7cmV0dXJuISF0aGlzLm9wdGlvbmFsKHQpfHwocj1uZXcgUmVnRXhwKGkpLmV4ZWMobiksciYmMD09PXIuaW5kZXgmJnJbMF0ubGVuZ3RoPT09bi5sZW5ndGgpfSksci5hZGRNZXRob2QoIm5vbmFscGhhbWluIixmdW5jdGlvbihuLHQsaSl7dmFyIHI7cmV0dXJuIGkmJihyPW4ubWF0Y2goL1xXL2cpLHI9ciYmci5sZW5ndGg+PWkpLHJ9KSxyLm1ldGhvZHMuZXh0ZW5zaW9uPyh0LmFkZFNpbmdsZVZhbCgiYWNjZXB0IiwibWltdHlwZSIpLHQuYWRkU2luZ2xlVmFsKCJleHRlbnNpb24iLCJleHRlbnNpb24iKSk6dC5hZGRTaW5nbGVWYWwoImV4dGVuc2lvbiIsImV4dGVuc2lvbiIsImFjY2VwdCIpLHQuYWRkU2luZ2xlVmFsKCJyZWdleCIsInBhdHRlcm4iKSx0LmFkZEJvb2woImNyZWRpdGNhcmQiKS5hZGRCb29sKCJkYXRlIikuYWRkQm9vbCgiZGlnaXRzIikuYWRkQm9vbCgiZW1haWwiKS5hZGRCb29sKCJudW1iZXIiKS5hZGRCb29sKCJ1cmwiKSx0LmFkZE1pbk1heCgibGVuZ3RoIiwibWlubGVuZ3RoIiwibWF4bGVuZ3RoIiwicmFuZ2VsZW5ndGgiKS5hZGRNaW5NYXgoInJhbmdlIiwibWluIiwibWF4IiwicmFuZ2UiKSx0LmFkZE1pbk1heCgibWlubGVuZ3RoIiwibWlubGVuZ3RoIikuYWRkTWluTWF4KCJtYXhsZW5ndGgiLCJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiKSx0LmFkZCgiZXF1YWx0byIsWyJvdGhlciJdLGZ1bmN0aW9uKHQpe3ZhciByPWUodC5lbGVtZW50Lm5hbWUpLHU9dC5wYXJhbXMub3RoZXIscz1vKHUsciksaD1uKHQuZm9ybSkuZmluZCgiOmlucHV0IikuZmlsdGVyKCJbbmFtZT0nIitmKHMpKyInXSIpWzBdO2kodCwiZXF1YWxUbyIsaCl9KSx0LmFkZCgicmVxdWlyZWQiLGZ1bmN0aW9uKG4peyJJTlBVVCI9PT1uLmVsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpJiYiQ0hFQ0tCT1giPT09bi5lbGVtZW50LnR5cGUudG9VcHBlckNhc2UoKXx8aShuLCJyZXF1aXJlZCIsITApfSksdC5hZGQoInJlbW90ZSIsWyJ1cmwiLCJ0eXBlIiwiYWRkaXRpb25hbGZpZWxkcyJdLGZ1bmN0aW9uKHQpe3ZhciByPXt1cmw6dC5wYXJhbXMudXJsLHR5cGU6dC5wYXJhbXMudHlwZXx8IkdFVCIsZGF0YTp7fX0sdT1lKHQuZWxlbWVudC5uYW1lKTtuLmVhY2goaCh0LnBhcmFtcy5hZGRpdGlvbmFsZmllbGRzfHx0LmVsZW1lbnQubmFtZSksZnVuY3Rpb24oaSxlKXt2YXIgcz1vKGUsdSk7ci5kYXRhW3NdPWZ1bmN0aW9uKCl7dmFyIGk9bih0LmZvcm0pLmZpbmQoIjppbnB1dCIpLmZpbHRlcigiW25hbWU9JyIrZihzKSsiJ10iKTtyZXR1cm4gaS5pcygiOmNoZWNrYm94Iik/aS5maWx0ZXIoIjpjaGVja2VkIikudmFsKCl8fGkuZmlsdGVyKCI6aGlkZGVuIikudmFsKCl8fCIiOmkuaXMoIjpyYWRpbyIpP2kuZmlsdGVyKCI6Y2hlY2tlZCIpLnZhbCgpfHwiIjppLnZhbCgpfX0pO2kodCwicmVtb3RlIixyKX0pLHQuYWRkKCJwYXNzd29yZCIsWyJtaW4iLCJub25hbHBoYW1pbiIsInJlZ2V4Il0sZnVuY3Rpb24obil7bi5wYXJhbXMubWluJiZpKG4sIm1pbmxlbmd0aCIsbi5wYXJhbXMubWluKTtuLnBhcmFtcy5ub25hbHBoYW1pbiYmaShuLCJub25hbHBoYW1pbiIsbi5wYXJhbXMubm9uYWxwaGFtaW4pO24ucGFyYW1zLnJlZ2V4JiZpKG4sInJlZ2V4IixuLnBhcmFtcy5yZWdleCl9KSx0LmFkZCgiZmlsZWV4dGVuc2lvbnMiLFsiZXh0ZW5zaW9ucyJdLGZ1bmN0aW9uKG4pe2kobiwiZXh0ZW5zaW9uIixuLnBhcmFtcy5leHRlbnNpb25zKX0pLG4oZnVuY3Rpb24oKXtyLnVub2J0cnVzaXZlLnBhcnNlKGRvY3VtZW50KX0pLHIudW5vYnRydXNpdmV9KTsKLyohIGpRdWVyeSBVSSAtIHYxLjEyLjEgLSAyMDE2LTA5LTE0CiogaHR0cDovL2pxdWVyeXVpLmNvbQoqIEluY2x1ZGVzOiB3aWRnZXQuanMsIHBvc2l0aW9uLmpzLCBkYXRhLmpzLCBkaXNhYmxlLXNlbGVjdGlvbi5qcywgZWZmZWN0LmpzLCBlZmZlY3RzL2VmZmVjdC1ibGluZC5qcywgZWZmZWN0cy9lZmZlY3QtYm91bmNlLmpzLCBlZmZlY3RzL2VmZmVjdC1jbGlwLmpzLCBlZmZlY3RzL2VmZmVjdC1kcm9wLmpzLCBlZmZlY3RzL2VmZmVjdC1leHBsb2RlLmpzLCBlZmZlY3RzL2VmZmVjdC1mYWRlLmpzLCBlZmZlY3RzL2VmZmVjdC1mb2xkLmpzLCBlZmZlY3RzL2VmZmVjdC1oaWdobGlnaHQuanMsIGVmZmVjdHMvZWZmZWN0LXB1ZmYuanMsIGVmZmVjdHMvZWZmZWN0LXB1bHNhdGUuanMsIGVmZmVjdHMvZWZmZWN0LXNjYWxlLmpzLCBlZmZlY3RzL2VmZmVjdC1zaGFrZS5qcywgZWZmZWN0cy9lZmZlY3Qtc2l6ZS5qcywgZWZmZWN0cy9lZmZlY3Qtc2xpZGUuanMsIGVmZmVjdHMvZWZmZWN0LXRyYW5zZmVyLmpzLCBmb2N1c2FibGUuanMsIGZvcm0tcmVzZXQtbWl4aW4uanMsIGpxdWVyeS0xLTcuanMsIGtleWNvZGUuanMsIGxhYmVscy5qcywgc2Nyb2xsLXBhcmVudC5qcywgdGFiYmFibGUuanMsIHVuaXF1ZS1pZC5qcywgd2lkZ2V0cy9hY2NvcmRpb24uanMsIHdpZGdldHMvYXV0b2NvbXBsZXRlLmpzLCB3aWRnZXRzL2J1dHRvbi5qcywgd2lkZ2V0cy9jaGVja2JveHJhZGlvLmpzLCB3aWRnZXRzL2NvbnRyb2xncm91cC5qcywgd2lkZ2V0cy9kYXRlcGlja2VyLmpzLCB3aWRnZXRzL2RpYWxvZy5qcywgd2lkZ2V0cy9kcmFnZ2FibGUuanMsIHdpZGdldHMvZHJvcHBhYmxlLmpzLCB3aWRnZXRzL21lbnUuanMsIHdpZGdldHMvbW91c2UuanMsIHdpZGdldHMvcHJvZ3Jlc3NiYXIuanMsIHdpZGdldHMvcmVzaXphYmxlLmpzLCB3aWRnZXRzL3NlbGVjdGFibGUuanMsIHdpZGdldHMvc2VsZWN0bWVudS5qcywgd2lkZ2V0cy9zbGlkZXIuanMsIHdpZGdldHMvc29ydGFibGUuanMsIHdpZGdldHMvc3Bpbm5lci5qcywgd2lkZ2V0cy90YWJzLmpzLCB3aWRnZXRzL3Rvb2x0aXAuanMKKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yczsgTGljZW5zZWQgTUlUICovCihmdW5jdGlvbihuKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLG4pOm4oalF1ZXJ5KX0pKGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGIobil7Zm9yKHZhciB0PW4uY3NzKCJ2aXNpYmlsaXR5Iik7ImluaGVyaXQiPT09dDspbj1uLnBhcmVudCgpLHQ9bi5jc3MoInZpc2liaWxpdHkiKTtyZXR1cm4iaGlkZGVuIiE9PXR9ZnVuY3Rpb24gayhuKXtmb3IodmFyIHQsaTtuLmxlbmd0aCYmblswXSE9PWRvY3VtZW50Oyl7aWYodD1uLmNzcygicG9zaXRpb24iKSwoImFic29sdXRlIj09PXR8fCJyZWxhdGl2ZSI9PT10fHwiZml4ZWQiPT09dCkmJihpPXBhcnNlSW50KG4uY3NzKCJ6SW5kZXgiKSwxMCksIWlzTmFOKGkpJiYwIT09aSkpcmV0dXJuIGk7bj1uLnBhcmVudCgpfXJldHVybiAwfWZ1bmN0aW9uIGMoKXt0aGlzLl9jdXJJbnN0PW51bGw7dGhpcy5fa2V5RXZlbnQ9ITE7dGhpcy5fZGlzYWJsZWRJbnB1dHM9W107dGhpcy5fZGF0ZXBpY2tlclNob3dpbmc9ITE7dGhpcy5faW5EaWFsb2c9ITE7dGhpcy5fbWFpbkRpdklkPSJ1aS1kYXRlcGlja2VyLWRpdiI7dGhpcy5faW5saW5lQ2xhc3M9InVpLWRhdGVwaWNrZXItaW5saW5lIjt0aGlzLl9hcHBlbmRDbGFzcz0idWktZGF0ZXBpY2tlci1hcHBlbmQiO3RoaXMuX3RyaWdnZXJDbGFzcz0idWktZGF0ZXBpY2tlci10cmlnZ2VyIjt0aGlzLl9kaWFsb2dDbGFzcz0idWktZGF0ZXBpY2tlci1kaWFsb2ciO3RoaXMuX2Rpc2FibGVDbGFzcz0idWktZGF0ZXBpY2tlci1kaXNhYmxlZCI7dGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3M9InVpLWRhdGVwaWNrZXItdW5zZWxlY3RhYmxlIjt0aGlzLl9jdXJyZW50Q2xhc3M9InVpLWRhdGVwaWNrZXItY3VycmVudC1kYXkiO3RoaXMuX2RheU92ZXJDbGFzcz0idWktZGF0ZXBpY2tlci1kYXlzLWNlbGwtb3ZlciI7dGhpcy5yZWdpb25hbD1bXTt0aGlzLnJlZ2lvbmFsWyIiXT17Y2xvc2VUZXh0OiJEb25lIixwcmV2VGV4dDoiUHJldiIsbmV4dFRleHQ6Ik5leHQiLGN1cnJlbnRUZXh0OiJUb2RheSIsbW9udGhOYW1lczpbIkphbnVhcnkiLCJGZWJydWFyeSIsIk1hcmNoIiwiQXByaWwiLCJNYXkiLCJKdW5lIiwiSnVseSIsIkF1Z3VzdCIsIlNlcHRlbWJlciIsIk9jdG9iZXIiLCJOb3ZlbWJlciIsIkRlY2VtYmVyIl0sbW9udGhOYW1lc1Nob3J0OlsiSmFuIiwiRmViIiwiTWFyIiwiQXByIiwiTWF5IiwiSnVuIiwiSnVsIiwiQXVnIiwiU2VwIiwiT2N0IiwiTm92IiwiRGVjIl0sZGF5TmFtZXM6WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLGRheU5hbWVzU2hvcnQ6WyJTdW4iLCJNb24iLCJUdWUiLCJXZWQiLCJUaHUiLCJGcmkiLCJTYXQiXSxkYXlOYW1lc01pbjpbIlN1IiwiTW8iLCJUdSIsIldlIiwiVGgiLCJGciIsIlNhIl0sd2Vla0hlYWRlcjoiV2siLGRhdGVGb3JtYXQ6Im1tL2RkL3l5IixmaXJzdERheTowLGlzUlRMOiExLHNob3dNb250aEFmdGVyWWVhcjohMSx5ZWFyU3VmZml4OiIifTt0aGlzLl9kZWZhdWx0cz17c2hvd09uOiJmb2N1cyIsc2hvd0FuaW06ImZhZGVJbiIsc2hvd09wdGlvbnM6e30sZGVmYXVsdERhdGU6bnVsbCxhcHBlbmRUZXh0OiIiLGJ1dHRvblRleHQ6Ii4uLiIsYnV0dG9uSW1hZ2U6IiIsYnV0dG9uSW1hZ2VPbmx5OiExLGhpZGVJZk5vUHJldk5leHQ6ITEsbmF2aWdhdGlvbkFzRGF0ZUZvcm1hdDohMSxnb3RvQ3VycmVudDohMSxjaGFuZ2VNb250aDohMSxjaGFuZ2VZZWFyOiExLHllYXJSYW5nZToiYy0xMDpjKzEwIixzaG93T3RoZXJNb250aHM6ITEsc2VsZWN0T3RoZXJNb250aHM6ITEsc2hvd1dlZWs6ITEsY2FsY3VsYXRlV2Vlazp0aGlzLmlzbzg2MDFXZWVrLHNob3J0WWVhckN1dG9mZjoiKzEwIixtaW5EYXRlOm51bGwsbWF4RGF0ZTpudWxsLGR1cmF0aW9uOiJmYXN0IixiZWZvcmVTaG93RGF5Om51bGwsYmVmb3JlU2hvdzpudWxsLG9uU2VsZWN0Om51bGwsb25DaGFuZ2VNb250aFllYXI6bnVsbCxvbkNsb3NlOm51bGwsbnVtYmVyT2ZNb250aHM6MSxzaG93Q3VycmVudEF0UG9zOjAsc3RlcE1vbnRoczoxLHN0ZXBCaWdNb250aHM6MTIsYWx0RmllbGQ6IiIsYWx0Rm9ybWF0OiIiLGNvbnN0cmFpbklucHV0OiEwLHNob3dCdXR0b25QYW5lbDohMSxhdXRvU2l6ZTohMSxkaXNhYmxlZDohMX07bi5leHRlbmQodGhpcy5fZGVmYXVsdHMsdGhpcy5yZWdpb25hbFsiIl0pO3RoaXMucmVnaW9uYWwuZW49bi5leHRlbmQoITAse30sdGhpcy5yZWdpb25hbFsiIl0pO3RoaXMucmVnaW9uYWxbImVuLVVTIl09bi5leHRlbmQoITAse30sdGhpcy5yZWdpb25hbC5lbik7dGhpcy5kcERpdj1sKG4oIjxkaXYgaWQ9JyIrdGhpcy5fbWFpbkRpdklkKyInIGNsYXNzPSd1aS1kYXRlcGlja2VyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXggdWktY29ybmVyLWFsbCc+PFwvZGl2PiIpKX1mdW5jdGlvbiBsKHQpe3ZhciBpPSJidXR0b24sIC51aS1kYXRlcGlja2VyLXByZXYsIC51aS1kYXRlcGlja2VyLW5leHQsIC51aS1kYXRlcGlja2VyLWNhbGVuZGFyIHRkIGEiO3JldHVybiB0Lm9uKCJtb3VzZW91dCIsaSxmdW5jdGlvbigpe24odGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIik7LTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLXByZXYiKSYmbih0aGlzKS5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIik7LTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLW5leHQiKSYmbih0aGlzKS5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIil9KS5vbigibW91c2VvdmVyIixpLGEpfWZ1bmN0aW9uIGEoKXtuLmRhdGVwaWNrZXIuX2lzRGlzYWJsZWREYXRlcGlja2VyKGkuaW5saW5lP2kuZHBEaXYucGFyZW50KClbMF06aS5pbnB1dFswXSl8fChuKHRoaXMpLnBhcmVudHMoIi51aS1kYXRlcGlja2VyLWNhbGVuZGFyIikuZmluZCgiYSIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLG4odGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLXByZXYiKSYmbih0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLW5leHQiKSYmbih0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIikpfWZ1bmN0aW9uIHUodCxpKXtuLmV4dGVuZCh0LGkpO2Zvcih2YXIgciBpbiBpKW51bGw9PWlbcl0mJih0W3JdPWlbcl0pO3JldHVybiB0fWZ1bmN0aW9uIHQobil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LnZhbCgpO24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3JlZnJlc2goKTt0IT09dGhpcy5lbGVtZW50LnZhbCgpJiZ0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiKX19dmFyIHYsbyxwLHcsaSxyLGU7bi51aT1uLnVpfHx7fTtuLnVpLnZlcnNpb249IjEuMTIuMSI7dj0wO289QXJyYXkucHJvdG90eXBlLnNsaWNlO24uY2xlYW5EYXRhPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpKXtmb3IodmFyIHIsdSxmPTA7bnVsbCE9KHU9aVtmXSk7ZisrKXRyeXtyPW4uX2RhdGEodSwiZXZlbnRzIik7ciYmci5yZW1vdmUmJm4odSkudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpfWNhdGNoKGUpe310KGkpfX0obi5jbGVhbkRhdGEpO24ud2lkZ2V0PWZ1bmN0aW9uKHQsaSxyKXt2YXIgZix1LG8saD17fSxlPXQuc3BsaXQoIi4iKVswXSxzO3JldHVybiB0PXQuc3BsaXQoIi4iKVsxXSxzPWUrIi0iK3Qscnx8KHI9aSxpPW4uV2lkZ2V0KSxuLmlzQXJyYXkocikmJihyPW4uZXh0ZW5kLmFwcGx5KG51bGwsW3t9XS5jb25jYXQocikpKSxuLmV4cHJbIjoiXVtzLnRvTG93ZXJDYXNlKCldPWZ1bmN0aW9uKHQpe3JldHVybiEhbi5kYXRhKHQscyl9LG5bZV09bltlXXx8e30sZj1uW2VdW3RdLHU9bltlXVt0XT1mdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLl9jcmVhdGVXaWRnZXQ/KGFyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChuLHQpLHZvaWQgMCk6bmV3IHUobix0KX0sbi5leHRlbmQodSxmLHt2ZXJzaW9uOnIudmVyc2lvbixfcHJvdG86bi5leHRlbmQoe30sciksX2NoaWxkQ29uc3RydWN0b3JzOltdfSksbz1uZXcgaSxvLm9wdGlvbnM9bi53aWRnZXQuZXh0ZW5kKHt9LG8ub3B0aW9ucyksbi5lYWNoKHIsZnVuY3Rpb24odCxyKXtyZXR1cm4gbi5pc0Z1bmN0aW9uKHIpPyhoW3RdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3JldHVybiBpLnByb3RvdHlwZVt0XS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdShuKXtyZXR1cm4gaS5wcm90b3R5cGVbdF0uYXBwbHkodGhpcyxuKX1yZXR1cm4gZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMuX3N1cGVyLGY9dGhpcy5fc3VwZXJBcHBseTtyZXR1cm4gdGhpcy5fc3VwZXI9bix0aGlzLl9zdXBlckFwcGx5PXUsdD1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9zdXBlcj1pLHRoaXMuX3N1cGVyQXBwbHk9Zix0fX0oKSx2b2lkIDApOihoW3RdPXIsdm9pZCAwKX0pLHUucHJvdG90eXBlPW4ud2lkZ2V0LmV4dGVuZChvLHt3aWRnZXRFdmVudFByZWZpeDpmP28ud2lkZ2V0RXZlbnRQcmVmaXh8fHQ6dH0saCx7Y29uc3RydWN0b3I6dSxuYW1lc3BhY2U6ZSx3aWRnZXROYW1lOnQsd2lkZ2V0RnVsbE5hbWU6c30pLGY/KG4uZWFjaChmLl9jaGlsZENvbnN0cnVjdG9ycyxmdW5jdGlvbih0LGkpe3ZhciByPWkucHJvdG90eXBlO24ud2lkZ2V0KHIubmFtZXNwYWNlKyIuIityLndpZGdldE5hbWUsdSxpLl9wcm90byl9KSxkZWxldGUgZi5fY2hpbGRDb25zdHJ1Y3RvcnMpOmkuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2godSksbi53aWRnZXQuYnJpZGdlKHQsdSksdX07bi53aWRnZXQuZXh0ZW5kPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaSxyLGY9by5jYWxsKGFyZ3VtZW50cywxKSx1PTAsZT1mLmxlbmd0aDtlPnU7dSsrKWZvcihpIGluIGZbdV0pcj1mW3VdW2ldLGZbdV0uaGFzT3duUHJvcGVydHkoaSkmJnZvaWQgMCE9PXImJih0W2ldPW4uaXNQbGFpbk9iamVjdChyKT9uLmlzUGxhaW5PYmplY3QodFtpXSk/bi53aWRnZXQuZXh0ZW5kKHt9LHRbaV0scik6bi53aWRnZXQuZXh0ZW5kKHt9LHIpOnIpO3JldHVybiB0fTtuLndpZGdldC5icmlkZ2U9ZnVuY3Rpb24odCxpKXt2YXIgcj1pLnByb3RvdHlwZS53aWRnZXRGdWxsTmFtZXx8dDtuLmZuW3RdPWZ1bmN0aW9uKHUpe3ZhciBzPSJzdHJpbmciPT10eXBlb2YgdSxlPW8uY2FsbChhcmd1bWVudHMsMSksZj10aGlzO3JldHVybiBzP3RoaXMubGVuZ3RofHwiaW5zdGFuY2UiIT09dT90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaSxvPW4uZGF0YSh0aGlzLHIpO3JldHVybiJpbnN0YW5jZSI9PT11PyhmPW8sITEpOm8/bi5pc0Z1bmN0aW9uKG9bdV0pJiYiXyIhPT11LmNoYXJBdCgwKT8oaT1vW3VdLmFwcGx5KG8sZSksaSE9PW8mJnZvaWQgMCE9PWk/KGY9aSYmaS5qcXVlcnk/Zi5wdXNoU3RhY2soaS5nZXQoKSk6aSwhMSk6dm9pZCAwKTpuLmVycm9yKCJubyBzdWNoIG1ldGhvZCAnIit1KyInIGZvciAiK3QrIiB3aWRnZXQgaW5zdGFuY2UiKTpuLmVycm9yKCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uICIrdCsiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJyIrdSsiJyIpfSk6Zj12b2lkIDA6KGUubGVuZ3RoJiYodT1uLndpZGdldC5leHRlbmQuYXBwbHkobnVsbCxbdV0uY29uY2F0KGUpKSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bi5kYXRhKHRoaXMscik7dD8odC5vcHRpb24odXx8e30pLHQuX2luaXQmJnQuX2luaXQoKSk6bi5kYXRhKHRoaXMscixuZXcgaSh1LHRoaXMpKX0pKSxmfX07bi5XaWRnZXQ9ZnVuY3Rpb24oKXt9O24uV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycz1bXTtuLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntjbGFzc2VzOnt9LGRpc2FibGVkOiExLGNyZWF0ZTpudWxsfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKHQsaSl7aT1uKGl8fHRoaXMuZGVmYXVsdEVsZW1lbnR8fHRoaXMpWzBdO3RoaXMuZWxlbWVudD1uKGkpO3RoaXMudXVpZD12Kys7dGhpcy5ldmVudE5hbWVzcGFjZT0iLiIrdGhpcy53aWRnZXROYW1lK3RoaXMudXVpZDt0aGlzLmJpbmRpbmdzPW4oKTt0aGlzLmhvdmVyYWJsZT1uKCk7dGhpcy5mb2N1c2FibGU9bigpO3RoaXMuY2xhc3Nlc0VsZW1lbnRMb29rdXA9e307aSE9PXRoaXMmJihuLmRhdGEoaSx0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKG4pe24udGFyZ2V0PT09aSYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1uKGkuc3R5bGU/aS5vd25lckRvY3VtZW50OmkuZG9jdW1lbnR8fGkpLHRoaXMud2luZG93PW4odGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKTt0aGlzLm9wdGlvbnM9bi53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksdCk7dGhpcy5fY3JlYXRlKCk7dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpO3RoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSk7dGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3JldHVybnt9fSxfZ2V0Q3JlYXRlRXZlbnREYXRhOm4ubm9vcCxfY3JlYXRlOm4ubm9vcCxfaW5pdDpuLm5vb3AsZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fZGVzdHJveSgpO24uZWFjaCh0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwLGZ1bmN0aW9uKG4saSl7dC5fcmVtb3ZlQ2xhc3MoaSxuKX0pO3RoaXMuZWxlbWVudC5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKTt0aGlzLndpZGdldCgpLm9mZih0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIik7dGhpcy5iaW5kaW5ncy5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSl9LF9kZXN0cm95Om4ubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24odCxpKXt2YXIgcix1LGYsZT10O2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZigic3RyaW5nIj09dHlwZW9mIHQpaWYoZT17fSxyPXQuc3BsaXQoIi4iKSx0PXIuc2hpZnQoKSxyLmxlbmd0aCl7Zm9yKHU9ZVt0XT1uLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW3RdKSxmPTA7ci5sZW5ndGgtMT5mO2YrKyl1W3JbZl1dPXVbcltmXV18fHt9LHU9dVtyW2ZdXTtpZih0PXIucG9wKCksMT09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PXVbdF0/bnVsbDp1W3RdO3VbdF09aX1lbHNle2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10aGlzLm9wdGlvbnNbdF0/bnVsbDp0aGlzLm9wdGlvbnNbdF07ZVt0XT1pfXJldHVybiB0aGlzLl9zZXRPcHRpb25zKGUpLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKG4pe2Zvcih2YXIgdCBpbiBuKXRoaXMuX3NldE9wdGlvbih0LG5bdF0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7cmV0dXJuImNsYXNzZXMiPT09biYmdGhpcy5fc2V0T3B0aW9uQ2xhc3Nlcyh0KSx0aGlzLm9wdGlvbnNbbl09dCwiZGlzYWJsZWQiPT09biYmdGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQodCksdGhpc30sX3NldE9wdGlvbkNsYXNzZXM6ZnVuY3Rpb24odCl7dmFyIGksdSxyO2ZvcihpIGluIHQpcj10aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwW2ldLHRbaV0hPT10aGlzLm9wdGlvbnMuY2xhc3Nlc1tpXSYmciYmci5sZW5ndGgmJih1PW4oci5nZXQoKSksdGhpcy5fcmVtb3ZlQ2xhc3MocixpKSx1LmFkZENsYXNzKHRoaXMuX2NsYXNzZXMoe2VsZW1lbnQ6dSxrZXlzOmksY2xhc3Nlczp0LGFkZDohMH0pKSl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbihuKXt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLndpZGdldCgpLHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCIsbnVsbCwhIW4pO24mJih0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhvdmVyYWJsZSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuZm9jdXNhYmxlLG51bGwsInVpLXN0YXRlLWZvY3VzIikpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITF9KX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMH0pfSxfY2xhc3NlczpmdW5jdGlvbih0KXtmdW5jdGlvbiByKHIsZil7Zm9yKHZhciBvLGU9MDtyLmxlbmd0aD5lO2UrKylvPXUuY2xhc3Nlc0VsZW1lbnRMb29rdXBbcltlXV18fG4oKSxvPXQuYWRkP24obi51bmlxdWUoby5nZXQoKS5jb25jYXQodC5lbGVtZW50LmdldCgpKSkpOm4oby5ub3QodC5lbGVtZW50KS5nZXQoKSksdS5jbGFzc2VzRWxlbWVudExvb2t1cFtyW2VdXT1vLGkucHVzaChyW2VdKSxmJiZ0LmNsYXNzZXNbcltlXV0mJmkucHVzaCh0LmNsYXNzZXNbcltlXV0pfXZhciBpPVtdLHU9dGhpcztyZXR1cm4gdD1uLmV4dGVuZCh7ZWxlbWVudDp0aGlzLmVsZW1lbnQsY2xhc3Nlczp0aGlzLm9wdGlvbnMuY2xhc3Nlc3x8e319LHQpLHRoaXMuX29uKHQuZWxlbWVudCx7cmVtb3ZlOiJfdW50cmFja0NsYXNzZXNFbGVtZW50In0pLHQua2V5cyYmcih0LmtleXMubWF0Y2goL1xTKy9nKXx8W10sITApLHQuZXh0cmEmJnIodC5leHRyYS5tYXRjaCgvXFMrL2cpfHxbXSksaS5qb2luKCIgIil9LF91bnRyYWNrQ2xhc3Nlc0VsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztuLmVhY2goaS5jbGFzc2VzRWxlbWVudExvb2t1cCxmdW5jdGlvbihyLHUpey0xIT09bi5pbkFycmF5KHQudGFyZ2V0LHUpJiYoaS5jbGFzc2VzRWxlbWVudExvb2t1cFtyXT1uKHUubm90KHQudGFyZ2V0KS5nZXQoKSkpfSl9LF9yZW1vdmVDbGFzczpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHRoaXMuX3RvZ2dsZUNsYXNzKG4sdCxpLCExKX0sX2FkZENsYXNzOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gdGhpcy5fdG9nZ2xlQ2xhc3Mobix0LGksITApfSxfdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24obix0LGkscil7cj0iYm9vbGVhbiI9PXR5cGVvZiByP3I6aTt2YXIgdT0ic3RyaW5nIj09dHlwZW9mIG58fG51bGw9PT1uLGY9e2V4dHJhOnU/dDppLGtleXM6dT9uOnQsZWxlbWVudDp1P3RoaXMuZWxlbWVudDpuLGFkZDpyfTtyZXR1cm4gZi5lbGVtZW50LnRvZ2dsZUNsYXNzKHRoaXMuX2NsYXNzZXMoZiksciksdGhpc30sX29uOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZix1PXRoaXM7ImJvb2xlYW4iIT10eXBlb2YgdCYmKHI9aSxpPXQsdD0hMSk7cj8oaT1mPW4oaSksdGhpcy5iaW5kaW5ncz10aGlzLmJpbmRpbmdzLmFkZChpKSk6KHI9aSxpPXRoaXMuZWxlbWVudCxmPXRoaXMud2lkZ2V0KCkpO24uZWFjaChyLGZ1bmN0aW9uKHIsZSl7ZnVuY3Rpb24gbygpe2lmKHR8fHUub3B0aW9ucy5kaXNhYmxlZCE9PSEwJiYhbih0aGlzKS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSlyZXR1cm4oInN0cmluZyI9PXR5cGVvZiBlP3VbZV06ZSkuYXBwbHkodSxhcmd1bWVudHMpfSJzdHJpbmciIT10eXBlb2YgZSYmKG8uZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxvLmd1aWR8fG4uZ3VpZCsrKTt2YXIgcz1yLm1hdGNoKC9eKFtcdzotXSopXHMqKC4qKSQvKSxoPXNbMV0rdS5ldmVudE5hbWVzcGFjZSxjPXNbMl07Yz9mLm9uKGgsYyxvKTppLm9uKGgsbyl9KX0sX29mZjpmdW5jdGlvbih0LGkpe2k9KGl8fCIiKS5zcGxpdCgiICIpLmpvaW4odGhpcy5ldmVudE5hbWVzcGFjZSsiICIpK3RoaXMuZXZlbnROYW1lc3BhY2U7dC5vZmYoaSkub2ZmKGkpO3RoaXMuYmluZGluZ3M9bih0aGlzLmJpbmRpbmdzLm5vdCh0KS5nZXQoKSk7dGhpcy5mb2N1c2FibGU9bih0aGlzLmZvY3VzYWJsZS5ub3QodCkuZ2V0KCkpO3RoaXMuaG92ZXJhYmxlPW4odGhpcy5ob3ZlcmFibGUubm90KHQpLmdldCgpKX0sX2RlbGF5OmZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gcigpe3JldHVybigic3RyaW5nIj09dHlwZW9mIG4/aVtuXTpuKS5hcHBseShpLGFyZ3VtZW50cyl9dmFyIGk9dGhpcztyZXR1cm4gc2V0VGltZW91dChyLHR8fDApfSxfaG92ZXJhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuaG92ZXJhYmxlPXRoaXMuaG92ZXJhYmxlLmFkZCh0KTt0aGlzLl9vbih0LHttb3VzZWVudGVyOmZ1bmN0aW9uKHQpe3RoaXMuX2FkZENsYXNzKG4odC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKHQpe3RoaXMuX3JlbW92ZUNsYXNzKG4odC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZCh0KTt0aGlzLl9vbih0LHtmb2N1c2luOmZ1bmN0aW9uKHQpe3RoaXMuX2FkZENsYXNzKG4odC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1mb2N1cyIpfSxmb2N1c291dDpmdW5jdGlvbih0KXt0aGlzLl9yZW1vdmVDbGFzcyhuKHQuY3VycmVudFRhcmdldCksbnVsbCwidWktc3RhdGUtZm9jdXMiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24odCxpLHIpe3ZhciB1LGYsZT10aGlzLm9wdGlvbnNbdF07aWYocj1yfHx7fSxpPW4uRXZlbnQoaSksaS50eXBlPSh0PT09dGhpcy53aWRnZXRFdmVudFByZWZpeD90OnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrdCkudG9Mb3dlckNhc2UoKSxpLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sZj1pLm9yaWdpbmFsRXZlbnQpZm9yKHUgaW4gZil1IGluIGl8fChpW3VdPWZbdV0pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihpLHIpLCEobi5pc0Z1bmN0aW9uKGUpJiZlLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbaV0uY29uY2F0KHIpKT09PSExfHxpLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19O24uZWFjaCh7c2hvdzoiZmFkZUluIixoaWRlOiJmYWRlT3V0In0sZnVuY3Rpb24odCxpKXtuLldpZGdldC5wcm90b3R5cGVbIl8iK3RdPWZ1bmN0aW9uKHIsdSxmKXsic3RyaW5nIj09dHlwZW9mIHUmJih1PXtlZmZlY3Q6dX0pO3ZhciBvLGU9dT91PT09ITB8fCJudW1iZXIiPT10eXBlb2YgdT9pOnUuZWZmZWN0fHxpOnQ7dT11fHx7fTsibnVtYmVyIj09dHlwZW9mIHUmJih1PXtkdXJhdGlvbjp1fSk7bz0hbi5pc0VtcHR5T2JqZWN0KHUpO3UuY29tcGxldGU9Zjt1LmRlbGF5JiZyLmRlbGF5KHUuZGVsYXkpO28mJm4uZWZmZWN0cyYmbi5lZmZlY3RzLmVmZmVjdFtlXT9yW3RdKHUpOmUhPT10JiZyW2VdP3JbZV0odS5kdXJhdGlvbix1LmVhc2luZyxmKTpyLnF1ZXVlKGZ1bmN0aW9uKGkpe24odGhpcylbdF0oKTtmJiZmLmNhbGwoclswXSk7aSgpfSl9fSk7bi53aWRnZXQsZnVuY3Rpb24oKXtmdW5jdGlvbiBmKG4sdCxpKXtyZXR1cm5bcGFyc2VGbG9hdChuWzBdKSooYy50ZXN0KG5bMF0pP3QvMTAwOjEpLHBhcnNlRmxvYXQoblsxXSkqKGMudGVzdChuWzFdKT9pLzEwMDoxKV19ZnVuY3Rpb24gaSh0LGkpe3JldHVybiBwYXJzZUludChuLmNzcyh0LGkpLDEwKXx8MH1mdW5jdGlvbiBsKHQpe3ZhciBpPXRbMF07cmV0dXJuIDk9PT1pLm5vZGVUeXBlP3t3aWR0aDp0LndpZHRoKCksaGVpZ2h0OnQuaGVpZ2h0KCksb2Zmc2V0Ont0b3A6MCxsZWZ0OjB9fTpuLmlzV2luZG93KGkpP3t3aWR0aDp0LndpZHRoKCksaGVpZ2h0OnQuaGVpZ2h0KCksb2Zmc2V0Ont0b3A6dC5zY3JvbGxUb3AoKSxsZWZ0OnQuc2Nyb2xsTGVmdCgpfX06aS5wcmV2ZW50RGVmYXVsdD97d2lkdGg6MCxoZWlnaHQ6MCxvZmZzZXQ6e3RvcDppLnBhZ2VZLGxlZnQ6aS5wYWdlWH19Ont3aWR0aDp0Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dC5vdXRlckhlaWdodCgpLG9mZnNldDp0Lm9mZnNldCgpfX12YXIgdSxyPU1hdGgubWF4LHQ9TWF0aC5hYnMsZT0vbGVmdHxjZW50ZXJ8cmlnaHQvLG89L3RvcHxjZW50ZXJ8Ym90dG9tLyxzPS9bXCtcLV1cZCsoXC5bXGRdKyk/JT8vLGg9L15cdysvLGM9LyUkLyxhPW4uZm4ucG9zaXRpb247bi5wb3NpdGlvbj17c2Nyb2xsYmFyV2lkdGg6ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT11KXJldHVybiB1O3ZhciByLGksdD1uKCI8ZGl2IHN0eWxlPSdkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7b3ZlcmZsb3c6aGlkZGVuOyc+PGRpdiBzdHlsZT0naGVpZ2h0OjEwMHB4O3dpZHRoOmF1dG87Jz48XC9kaXY+PFwvZGl2PiIpLGY9dC5jaGlsZHJlbigpWzBdO3JldHVybiBuKCJib2R5IikuYXBwZW5kKHQpLHI9Zi5vZmZzZXRXaWR0aCx0LmNzcygib3ZlcmZsb3ciLCJzY3JvbGwiKSxpPWYub2Zmc2V0V2lkdGgscj09PWkmJihpPXRbMF0uY2xpZW50V2lkdGgpLHQucmVtb3ZlKCksdT1yLWl9LGdldFNjcm9sbEluZm86ZnVuY3Rpb24odCl7dmFyIGk9dC5pc1dpbmRvd3x8dC5pc0RvY3VtZW50PyIiOnQuZWxlbWVudC5jc3MoIm92ZXJmbG93LXgiKSxyPXQuaXNXaW5kb3d8fHQuaXNEb2N1bWVudD8iIjp0LmVsZW1lbnQuY3NzKCJvdmVyZmxvdy15IiksdT0ic2Nyb2xsIj09PWl8fCJhdXRvIj09PWkmJnQud2lkdGg8dC5lbGVtZW50WzBdLnNjcm9sbFdpZHRoLGY9InNjcm9sbCI9PT1yfHwiYXV0byI9PT1yJiZ0LmhlaWdodDx0LmVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0O3JldHVybnt3aWR0aDpmP24ucG9zaXRpb24uc2Nyb2xsYmFyV2lkdGgoKTowLGhlaWdodDp1P24ucG9zaXRpb24uc2Nyb2xsYmFyV2lkdGgoKTowfX0sZ2V0V2l0aGluSW5mbzpmdW5jdGlvbih0KXt2YXIgaT1uKHR8fHdpbmRvdykscj1uLmlzV2luZG93KGlbMF0pLHU9ISFpWzBdJiY5PT09aVswXS5ub2RlVHlwZSxmPSFyJiYhdTtyZXR1cm57ZWxlbWVudDppLGlzV2luZG93OnIsaXNEb2N1bWVudDp1LG9mZnNldDpmP24odCkub2Zmc2V0KCk6e2xlZnQ6MCx0b3A6MH0sc2Nyb2xsTGVmdDppLnNjcm9sbExlZnQoKSxzY3JvbGxUb3A6aS5zY3JvbGxUb3AoKSx3aWR0aDppLm91dGVyV2lkdGgoKSxoZWlnaHQ6aS5vdXRlckhlaWdodCgpfX19O24uZm4ucG9zaXRpb249ZnVuY3Rpb24odSl7aWYoIXV8fCF1Lm9mKXJldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt1PW4uZXh0ZW5kKHt9LHUpO3ZhciB3LGMsdixwLHksayxkPW4odS5vZiksbnQ9bi5wb3NpdGlvbi5nZXRXaXRoaW5JbmZvKHUud2l0aGluKSx0dD1uLnBvc2l0aW9uLmdldFNjcm9sbEluZm8obnQpLGI9KHUuY29sbGlzaW9ufHwiZmxpcCIpLnNwbGl0KCIgIiksZz17fTtyZXR1cm4gaz1sKGQpLGRbMF0ucHJldmVudERlZmF1bHQmJih1LmF0PSJsZWZ0IHRvcCIpLGM9ay53aWR0aCx2PWsuaGVpZ2h0LHA9ay5vZmZzZXQseT1uLmV4dGVuZCh7fSxwKSxuLmVhY2goWyJteSIsImF0Il0sZnVuY3Rpb24oKXt2YXIgdCxpLG49KHVbdGhpc118fCIiKS5zcGxpdCgiICIpOzE9PT1uLmxlbmd0aCYmKG49ZS50ZXN0KG5bMF0pP24uY29uY2F0KFsiY2VudGVyIl0pOm8udGVzdChuWzBdKT9bImNlbnRlciJdLmNvbmNhdChuKTpbImNlbnRlciIsImNlbnRlciJdKTtuWzBdPWUudGVzdChuWzBdKT9uWzBdOiJjZW50ZXIiO25bMV09by50ZXN0KG5bMV0pP25bMV06ImNlbnRlciI7dD1zLmV4ZWMoblswXSk7aT1zLmV4ZWMoblsxXSk7Z1t0aGlzXT1bdD90WzBdOjAsaT9pWzBdOjBdO3VbdGhpc109W2guZXhlYyhuWzBdKVswXSxoLmV4ZWMoblsxXSlbMF1dfSksMT09PWIubGVuZ3RoJiYoYlsxXT1iWzBdKSwicmlnaHQiPT09dS5hdFswXT95LmxlZnQrPWM6ImNlbnRlciI9PT11LmF0WzBdJiYoeS5sZWZ0Kz1jLzIpLCJib3R0b20iPT09dS5hdFsxXT95LnRvcCs9djoiY2VudGVyIj09PXUuYXRbMV0mJih5LnRvcCs9di8yKSx3PWYoZy5hdCxjLHYpLHkubGVmdCs9d1swXSx5LnRvcCs9d1sxXSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYSxrLG89bih0aGlzKSxzPW8ub3V0ZXJXaWR0aCgpLGg9by5vdXRlckhlaWdodCgpLGl0PWkodGhpcywibWFyZ2luTGVmdCIpLHJ0PWkodGhpcywibWFyZ2luVG9wIiksdXQ9cytpdCtpKHRoaXMsIm1hcmdpblJpZ2h0IikrdHQud2lkdGgsZnQ9aCtydCtpKHRoaXMsIm1hcmdpbkJvdHRvbSIpK3R0LmhlaWdodCxlPW4uZXh0ZW5kKHt9LHkpLGw9ZihnLm15LG8ub3V0ZXJXaWR0aCgpLG8ub3V0ZXJIZWlnaHQoKSk7InJpZ2h0Ij09PXUubXlbMF0/ZS5sZWZ0LT1zOiJjZW50ZXIiPT09dS5teVswXSYmKGUubGVmdC09cy8yKTsiYm90dG9tIj09PXUubXlbMV0/ZS50b3AtPWg6ImNlbnRlciI9PT11Lm15WzFdJiYoZS50b3AtPWgvMik7ZS5sZWZ0Kz1sWzBdO2UudG9wKz1sWzFdO2E9e21hcmdpbkxlZnQ6aXQsbWFyZ2luVG9wOnJ0fTtuLmVhY2goWyJsZWZ0IiwidG9wIl0sZnVuY3Rpb24odCxpKXtuLnVpLnBvc2l0aW9uW2JbdF1dJiZuLnVpLnBvc2l0aW9uW2JbdF1dW2ldKGUse3RhcmdldFdpZHRoOmMsdGFyZ2V0SGVpZ2h0OnYsZWxlbVdpZHRoOnMsZWxlbUhlaWdodDpoLGNvbGxpc2lvblBvc2l0aW9uOmEsY29sbGlzaW9uV2lkdGg6dXQsY29sbGlzaW9uSGVpZ2h0OmZ0LG9mZnNldDpbd1swXStsWzBdLHdbMV0rbFsxXV0sbXk6dS5teSxhdDp1LmF0LHdpdGhpbjpudCxlbGVtOm99KX0pO3UudXNpbmcmJihrPWZ1bmN0aW9uKG4pe3ZhciBpPXAubGVmdC1lLmxlZnQsYT1pK2MtcyxmPXAudG9wLWUudG9wLHk9Zit2LWgsbD17dGFyZ2V0OntlbGVtZW50OmQsbGVmdDpwLmxlZnQsdG9wOnAudG9wLHdpZHRoOmMsaGVpZ2h0OnZ9LGVsZW1lbnQ6e2VsZW1lbnQ6byxsZWZ0OmUubGVmdCx0b3A6ZS50b3Asd2lkdGg6cyxoZWlnaHQ6aH0saG9yaXpvbnRhbDowPmE/ImxlZnQiOmk+MD8icmlnaHQiOiJjZW50ZXIiLHZlcnRpY2FsOjA+eT8idG9wIjpmPjA/ImJvdHRvbSI6Im1pZGRsZSJ9O3M+YyYmYz50KGkrYSkmJihsLmhvcml6b250YWw9ImNlbnRlciIpO2g+diYmdj50KGYreSkmJihsLnZlcnRpY2FsPSJtaWRkbGUiKTtsLmltcG9ydGFudD1yKHQoaSksdChhKSk+cih0KGYpLHQoeSkpPyJob3Jpem9udGFsIjoidmVydGljYWwiO3UudXNpbmcuY2FsbCh0aGlzLG4sbCl9KTtvLm9mZnNldChuLmV4dGVuZChlLHt1c2luZzprfSkpfSl9O24udWkucG9zaXRpb249e2ZpdDp7bGVmdDpmdW5jdGlvbihuLHQpe3ZhciBoLGU9dC53aXRoaW4sdT1lLmlzV2luZG93P2Uuc2Nyb2xsTGVmdDplLm9mZnNldC5sZWZ0LG89ZS53aWR0aCxzPW4ubGVmdC10LmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQsaT11LXMsZj1zK3QuY29sbGlzaW9uV2lkdGgtby11O3QuY29sbGlzaW9uV2lkdGg+bz9pPjAmJjA+PWY/KGg9bi5sZWZ0K2krdC5jb2xsaXNpb25XaWR0aC1vLXUsbi5sZWZ0Kz1pLWgpOm4ubGVmdD1mPjAmJjA+PWk/dTppPmY/dStvLXQuY29sbGlzaW9uV2lkdGg6dTppPjA/bi5sZWZ0Kz1pOmY+MD9uLmxlZnQtPWY6bi5sZWZ0PXIobi5sZWZ0LXMsbi5sZWZ0KX0sdG9wOmZ1bmN0aW9uKG4sdCl7dmFyIGgsbz10LndpdGhpbix1PW8uaXNXaW5kb3c/by5zY3JvbGxUb3A6by5vZmZzZXQudG9wLGU9dC53aXRoaW4uaGVpZ2h0LHM9bi50b3AtdC5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5Ub3AsaT11LXMsZj1zK3QuY29sbGlzaW9uSGVpZ2h0LWUtdTt0LmNvbGxpc2lvbkhlaWdodD5lP2k+MCYmMD49Zj8oaD1uLnRvcCtpK3QuY29sbGlzaW9uSGVpZ2h0LWUtdSxuLnRvcCs9aS1oKTpuLnRvcD1mPjAmJjA+PWk/dTppPmY/dStlLXQuY29sbGlzaW9uSGVpZ2h0OnU6aT4wP24udG9wKz1pOmY+MD9uLnRvcC09ZjpuLnRvcD1yKG4udG9wLXMsbi50b3ApfX0sZmxpcDp7bGVmdDpmdW5jdGlvbihuLGkpe3ZhciBvLHMscj1pLndpdGhpbix5PXIub2Zmc2V0LmxlZnQrci5zY3JvbGxMZWZ0LGM9ci53aWR0aCxoPXIuaXNXaW5kb3c/ci5zY3JvbGxMZWZ0OnIub2Zmc2V0LmxlZnQsbD1uLmxlZnQtaS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5MZWZ0LGE9bC1oLHY9bCtpLmNvbGxpc2lvbldpZHRoLWMtaCx1PSJsZWZ0Ij09PWkubXlbMF0/LWkuZWxlbVdpZHRoOiJyaWdodCI9PT1pLm15WzBdP2kuZWxlbVdpZHRoOjAsZj0ibGVmdCI9PT1pLmF0WzBdP2kudGFyZ2V0V2lkdGg6InJpZ2h0Ij09PWkuYXRbMF0/LWkudGFyZ2V0V2lkdGg6MCxlPS0yKmkub2Zmc2V0WzBdOzA+YT8obz1uLmxlZnQrdStmK2UraS5jb2xsaXNpb25XaWR0aC1jLXksKDA+b3x8dChhKT5vKSYmKG4ubGVmdCs9dStmK2UpKTp2PjAmJihzPW4ubGVmdC1pLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQrdStmK2UtaCwocz4wfHx2PnQocykpJiYobi5sZWZ0Kz11K2YrZSkpfSx0b3A6ZnVuY3Rpb24obixpKXt2YXIgbyxzLHI9aS53aXRoaW4seT1yLm9mZnNldC50b3Arci5zY3JvbGxUb3AsYz1yLmhlaWdodCxoPXIuaXNXaW5kb3c/ci5zY3JvbGxUb3A6ci5vZmZzZXQudG9wLGw9bi50b3AtaS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5Ub3AsYT1sLWgsdj1sK2kuY29sbGlzaW9uSGVpZ2h0LWMtaCxwPSJ0b3AiPT09aS5teVsxXSx1PXA/LWkuZWxlbUhlaWdodDoiYm90dG9tIj09PWkubXlbMV0/aS5lbGVtSGVpZ2h0OjAsZj0idG9wIj09PWkuYXRbMV0/aS50YXJnZXRIZWlnaHQ6ImJvdHRvbSI9PT1pLmF0WzFdPy1pLnRhcmdldEhlaWdodDowLGU9LTIqaS5vZmZzZXRbMV07MD5hPyhzPW4udG9wK3UrZitlK2kuY29sbGlzaW9uSGVpZ2h0LWMteSwoMD5zfHx0KGEpPnMpJiYobi50b3ArPXUrZitlKSk6dj4wJiYobz1uLnRvcC1pLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCt1K2YrZS1oLChvPjB8fHY+dChvKSkmJihuLnRvcCs9dStmK2UpKX19LGZsaXBmaXQ6e2xlZnQ6ZnVuY3Rpb24oKXtuLnVpLnBvc2l0aW9uLmZsaXAubGVmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bi51aS5wb3NpdGlvbi5maXQubGVmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRvcDpmdW5jdGlvbigpe24udWkucG9zaXRpb24uZmxpcC50b3AuYXBwbHkodGhpcyxhcmd1bWVudHMpO24udWkucG9zaXRpb24uZml0LnRvcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX19KCk7bi51aS5wb3NpdGlvbjtuLmV4dGVuZChuLmV4cHJbIjoiXSx7ZGF0YTpuLmV4cHIuY3JlYXRlUHNldWRvP24uZXhwci5jcmVhdGVQc2V1ZG8oZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiEhbi5kYXRhKGksdCl9fSk6ZnVuY3Rpb24odCxpLHIpe3JldHVybiEhbi5kYXRhKHQsclszXSl9fSk7bi5mbi5leHRlbmQoe2Rpc2FibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgbj0ib25zZWxlY3RzdGFydCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKT8ic2VsZWN0c3RhcnQiOiJtb3VzZWRvd24iO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLm9uKG4rIi51aS1kaXNhYmxlU2VsZWN0aW9uIixmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCl9KX19KCksZW5hYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2ZmKCIudWktZGlzYWJsZVNlbGVjdGlvbiIpfX0pO3ZhciBmPSJ1aS1lZmZlY3RzLSIscz0idWktZWZmZWN0cy1zdHlsZSIsaD0idWktZWZmZWN0cy1hbmltYXRlZCIseT1uO24uZWZmZWN0cz17ZWZmZWN0Ont9fSxmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGYobix0LGkpe3ZhciByPWhbdC50eXBlXXx8e307cmV0dXJuIG51bGw9PW4/aXx8IXQuZGVmP251bGw6dC5kZWY6KG49ci5mbG9vcj9+fm46cGFyc2VGbG9hdChuKSxpc05hTihuKT90LmRlZjpyLm1vZD8obityLm1vZCklci5tb2Q6MD5uPzA6bj5yLm1heD9yLm1heDpuKX1mdW5jdGlvbiBzKGYpe3ZhciBvPWkoKSxzPW8uX3JnYmE9W107cmV0dXJuIGY9Zi50b0xvd2VyQ2FzZSgpLHIodixmdW5jdGlvbihuLGkpe3ZhciByLGg9aS5yZS5leGVjKGYpLGM9aCYmaS5wYXJzZShoKSxlPWkuc3BhY2V8fCJyZ2JhIjtyZXR1cm4gYz8ocj1vW2VdKGMpLG9bdVtlXS5jYWNoZV09clt1W2VdLmNhY2hlXSxzPW8uX3JnYmE9ci5fcmdiYSwhMSk6dH0pLHMubGVuZ3RoPygiMCwwLDAsMCI9PT1zLmpvaW4oKSYmbi5leHRlbmQocyxlLnRyYW5zcGFyZW50KSxvKTplW2ZdfWZ1bmN0aW9uIG8obix0LGkpe3JldHVybiBpPShpKzEpJTEsMT42Kmk/bis2Kih0LW4pKmk6MT4yKmk/dDoyPjMqaT9uKzYqKHQtbikqKDIvMy1pKTpufXZhciBlLGE9L14oW1wtK10pPVxzKihcZCtcLj9cZCopLyx2PVt7cmU6L3JnYmE/XChccyooXGR7MSwzfSlccyosXHMqKFxkezEsM30pXHMqLFxzKihcZHsxLDN9KVxzKig/OixccyooXGQ/KD86XC5cZCspPylccyopP1wpLyxwYXJzZTpmdW5jdGlvbihuKXtyZXR1cm5bblsxXSxuWzJdLG5bM10sbls0XV19fSx7cmU6L3JnYmE/XChccyooXGQrKD86XC5cZCspPylcJVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKig/OixccyooXGQ/KD86XC5cZCspPylccyopP1wpLyxwYXJzZTpmdW5jdGlvbihuKXtyZXR1cm5bMi41NSpuWzFdLDIuNTUqblsyXSwyLjU1Km5bM10sbls0XV19fSx7cmU6LyMoW2EtZjAtOV17Mn0pKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkvLHBhcnNlOmZ1bmN0aW9uKG4pe3JldHVybltwYXJzZUludChuWzFdLDE2KSxwYXJzZUludChuWzJdLDE2KSxwYXJzZUludChuWzNdLDE2KV19fSx7cmU6LyMoW2EtZjAtOV0pKFthLWYwLTldKShbYS1mMC05XSkvLHBhcnNlOmZ1bmN0aW9uKG4pe3JldHVybltwYXJzZUludChuWzFdK25bMV0sMTYpLHBhcnNlSW50KG5bMl0rblsyXSwxNikscGFyc2VJbnQoblszXStuWzNdLDE2KV19fSx7cmU6L2hzbGE/XChccyooXGQrKD86XC5cZCspPylccyosXHMqKFxkKyg/OlwuXGQrKT8pXCVccyosXHMqKFxkKyg/OlwuXGQrKT8pXCVccyooPzosXHMqKFxkPyg/OlwuXGQrKT8pXHMqKT9cKS8sc3BhY2U6ImhzbGEiLHBhcnNlOmZ1bmN0aW9uKG4pe3JldHVybltuWzFdLG5bMl0vMTAwLG5bM10vMTAwLG5bNF1dfX1dLGk9bi5Db2xvcj1mdW5jdGlvbih0LGkscix1KXtyZXR1cm4gbmV3IG4uQ29sb3IuZm4ucGFyc2UodCxpLHIsdSl9LHU9e3JnYmE6e3Byb3BzOntyZWQ6e2lkeDowLHR5cGU6ImJ5dGUifSxncmVlbjp7aWR4OjEsdHlwZToiYnl0ZSJ9LGJsdWU6e2lkeDoyLHR5cGU6ImJ5dGUifX19LGhzbGE6e3Byb3BzOntodWU6e2lkeDowLHR5cGU6ImRlZ3JlZXMifSxzYXR1cmF0aW9uOntpZHg6MSx0eXBlOiJwZXJjZW50In0sbGlnaHRuZXNzOntpZHg6Mix0eXBlOiJwZXJjZW50In19fX0saD17Ynl0ZTp7Zmxvb3I6ITAsbWF4OjI1NX0scGVyY2VudDp7bWF4OjF9LGRlZ3JlZXM6e21vZDozNjAsZmxvb3I6ITB9fSxjPWkuc3VwcG9ydD17fSxsPW4oIjxwPiIpWzBdLHI9bi5lYWNoO2wuc3R5bGUuY3NzVGV4dD0iYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDEsMSwxLC41KSI7Yy5yZ2JhPWwuc3R5bGUuYmFja2dyb3VuZENvbG9yLmluZGV4T2YoInJnYmEiKT4tMTtyKHUsZnVuY3Rpb24obix0KXt0LmNhY2hlPSJfIituO3QucHJvcHMuYWxwaGE9e2lkeDozLHR5cGU6InBlcmNlbnQiLGRlZjoxfX0pO2kuZm49bi5leHRlbmQoaS5wcm90b3R5cGUse3BhcnNlOmZ1bmN0aW9uKG8saCxjLGwpe2lmKG89PT10KXJldHVybiB0aGlzLl9yZ2JhPVtudWxsLG51bGwsbnVsbCxudWxsXSx0aGlzOyhvLmpxdWVyeXx8by5ub2RlVHlwZSkmJihvPW4obykuY3NzKGgpLGg9dCk7dmFyIGE9dGhpcyx2PW4udHlwZShvKSx5PXRoaXMuX3JnYmE9W107cmV0dXJuIGghPT10JiYobz1bbyxoLGMsbF0sdj0iYXJyYXkiKSwic3RyaW5nIj09PXY/dGhpcy5wYXJzZShzKG8pfHxlLl9kZWZhdWx0KToiYXJyYXkiPT09dj8ocih1LnJnYmEucHJvcHMsZnVuY3Rpb24obix0KXt5W3QuaWR4XT1mKG9bdC5pZHhdLHQpfSksdGhpcyk6Im9iamVjdCI9PT12PyhvIGluc3RhbmNlb2YgaT9yKHUsZnVuY3Rpb24obix0KXtvW3QuY2FjaGVdJiYoYVt0LmNhY2hlXT1vW3QuY2FjaGVdLnNsaWNlKCkpfSk6cih1LGZ1bmN0aW9uKHQsaSl7dmFyIHU9aS5jYWNoZTtyKGkucHJvcHMsZnVuY3Rpb24obix0KXtpZighYVt1XSYmaS50byl7aWYoImFscGhhIj09PW58fG51bGw9PW9bbl0pcmV0dXJuO2FbdV09aS50byhhLl9yZ2JhKX1hW3VdW3QuaWR4XT1mKG9bbl0sdCwhMCl9KTthW3VdJiYwPm4uaW5BcnJheShudWxsLGFbdV0uc2xpY2UoMCwzKSkmJihhW3VdWzNdPTEsaS5mcm9tJiYoYS5fcmdiYT1pLmZyb20oYVt1XSkpKX0pLHRoaXMpOnR9LGlzOmZ1bmN0aW9uKG4pe3ZhciBvPWkobiksZj0hMCxlPXRoaXM7cmV0dXJuIHIodSxmdW5jdGlvbihuLGkpe3ZhciBzLHU9b1tpLmNhY2hlXTtyZXR1cm4gdSYmKHM9ZVtpLmNhY2hlXXx8aS50byYmaS50byhlLl9yZ2JhKXx8W10scihpLnByb3BzLGZ1bmN0aW9uKG4saSl7cmV0dXJuIG51bGwhPXVbaS5pZHhdP2Y9dVtpLmlkeF09PT1zW2kuaWR4XTp0fSkpLGZ9KSxmfSxfc3BhY2U6ZnVuY3Rpb24oKXt2YXIgbj1bXSx0PXRoaXM7cmV0dXJuIHIodSxmdW5jdGlvbihpLHIpe3Rbci5jYWNoZV0mJm4ucHVzaChpKX0pLG4ucG9wKCl9LHRyYW5zaXRpb246ZnVuY3Rpb24obix0KXt2YXIgZT1pKG4pLGM9ZS5fc3BhY2UoKSxvPXVbY10sbD0wPT09dGhpcy5hbHBoYSgpP2koInRyYW5zcGFyZW50Iik6dGhpcyxhPWxbby5jYWNoZV18fG8udG8obC5fcmdiYSkscz1hLnNsaWNlKCk7cmV0dXJuIGU9ZVtvLmNhY2hlXSxyKG8ucHJvcHMsZnVuY3Rpb24obixpKXt2YXIgYz1pLmlkeCxyPWFbY10sdT1lW2NdLG89aFtpLnR5cGVdfHx7fTtudWxsIT09dSYmKG51bGw9PT1yP3NbY109dTooby5tb2QmJih1LXI+by5tb2QvMj9yKz1vLm1vZDpyLXU+by5tb2QvMiYmKHItPW8ubW9kKSksc1tjXT1mKCh1LXIpKnQrcixpKSkpfSksdGhpc1tjXShzKX0sYmxlbmQ6ZnVuY3Rpb24odCl7aWYoMT09PXRoaXMuX3JnYmFbM10pcmV0dXJuIHRoaXM7dmFyIHI9dGhpcy5fcmdiYS5zbGljZSgpLHU9ci5wb3AoKSxmPWkodCkuX3JnYmE7cmV0dXJuIGkobi5tYXAocixmdW5jdGlvbihuLHQpe3JldHVybigxLXUpKmZbdF0rdSpufSkpfSx0b1JnYmFTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgaT0icmdiYSgiLHQ9bi5tYXAodGhpcy5fcmdiYSxmdW5jdGlvbihuLHQpe3JldHVybiBudWxsPT1uP3Q+Mj8xOjA6bn0pO3JldHVybiAxPT09dFszXSYmKHQucG9wKCksaT0icmdiKCIpLGkrdC5qb2luKCkrIikifSx0b0hzbGFTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgaT0iaHNsYSgiLHQ9bi5tYXAodGhpcy5oc2xhKCksZnVuY3Rpb24obix0KXtyZXR1cm4gbnVsbD09biYmKG49dD4yPzE6MCksdCYmMz50JiYobj1NYXRoLnJvdW5kKDEwMCpuKSsiJSIpLG59KTtyZXR1cm4gMT09PXRbM10mJih0LnBvcCgpLGk9ImhzbCgiKSxpK3Quam9pbigpKyIpIn0sdG9IZXhTdHJpbmc6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fcmdiYS5zbGljZSgpLHI9aS5wb3AoKTtyZXR1cm4gdCYmaS5wdXNoKH5+KDI1NSpyKSksIiMiK24ubWFwKGksZnVuY3Rpb24obil7cmV0dXJuIG49KG58fDApLnRvU3RyaW5nKDE2KSwxPT09bi5sZW5ndGg/IjAiK246bn0pLmpvaW4oIiIpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fcmdiYVszXT8idHJhbnNwYXJlbnQiOnRoaXMudG9SZ2JhU3RyaW5nKCl9fSk7aS5mbi5wYXJzZS5wcm90b3R5cGU9aS5mbjt1LmhzbGEudG89ZnVuY3Rpb24obil7aWYobnVsbD09blswXXx8bnVsbD09blsxXXx8bnVsbD09blsyXSlyZXR1cm5bbnVsbCxudWxsLG51bGwsblszXV07dmFyIHMsaCxpPW5bMF0vMjU1LHI9blsxXS8yNTUsZj1uWzJdLzI1NSxjPW5bM10sdT1NYXRoLm1heChpLHIsZiksZT1NYXRoLm1pbihpLHIsZiksdD11LWUsbz11K2UsbD0uNSpvO3JldHVybiBzPWU9PT11PzA6aT09PXU/NjAqKHItZikvdCszNjA6cj09PXU/NjAqKGYtaSkvdCsxMjA6NjAqKGktcikvdCsyNDAsaD0wPT09dD8wOi41Pj1sP3Qvbzp0LygyLW8pLFtNYXRoLnJvdW5kKHMpJTM2MCxoLGwsbnVsbD09Yz8xOmNdfTt1LmhzbGEuZnJvbT1mdW5jdGlvbihuKXtpZihudWxsPT1uWzBdfHxudWxsPT1uWzFdfHxudWxsPT1uWzJdKXJldHVybltudWxsLG51bGwsbnVsbCxuWzNdXTt2YXIgcj1uWzBdLzM2MCx1PW5bMV0sdD1uWzJdLGU9blszXSxpPS41Pj10P3QqKDErdSk6dCt1LXQqdSxmPTIqdC1pO3JldHVybltNYXRoLnJvdW5kKDI1NSpvKGYsaSxyKzEvMykpLE1hdGgucm91bmQoMjU1Km8oZixpLHIpKSxNYXRoLnJvdW5kKDI1NSpvKGYsaSxyLTEvMykpLGVdfTtyKHUsZnVuY3Rpb24odSxlKXt2YXIgcz1lLnByb3BzLG89ZS5jYWNoZSxoPWUudG8sYz1lLmZyb207aS5mblt1XT1mdW5jdGlvbih1KXtpZihoJiYhdGhpc1tvXSYmKHRoaXNbb109aCh0aGlzLl9yZ2JhKSksdT09PXQpcmV0dXJuIHRoaXNbb10uc2xpY2UoKTt2YXIgbCxhPW4udHlwZSh1KSx2PSJhcnJheSI9PT1hfHwib2JqZWN0Ij09PWE/dTphcmd1bWVudHMsZT10aGlzW29dLnNsaWNlKCk7cmV0dXJuIHIocyxmdW5jdGlvbihuLHQpe3ZhciBpPXZbIm9iamVjdCI9PT1hP246dC5pZHhdO251bGw9PWkmJihpPWVbdC5pZHhdKTtlW3QuaWR4XT1mKGksdCl9KSxjPyhsPWkoYyhlKSksbFtvXT1lLGwpOmkoZSl9O3IocyxmdW5jdGlvbih0LHIpe2kuZm5bdF18fChpLmZuW3RdPWZ1bmN0aW9uKGkpe3ZhciBmLGU9bi50eXBlKGkpLGg9ImFscGhhIj09PXQ/dGhpcy5faHNsYT8iaHNsYSI6InJnYmEiOnUsbz10aGlzW2hdKCkscz1vW3IuaWR4XTtyZXR1cm4idW5kZWZpbmVkIj09PWU/czooImZ1bmN0aW9uIj09PWUmJihpPWkuY2FsbCh0aGlzLHMpLGU9bi50eXBlKGkpKSxudWxsPT1pJiZyLmVtcHR5P3RoaXM6KCJzdHJpbmciPT09ZSYmKGY9YS5leGVjKGkpLGYmJihpPXMrcGFyc2VGbG9hdChmWzJdKSooIisiPT09ZlsxXT8xOi0xKSkpLG9bci5pZHhdPWksdGhpc1toXShvKSkpfSl9KX0pO2kuaG9vaz1mdW5jdGlvbih0KXt2YXIgdT10LnNwbGl0KCIgIik7cih1LGZ1bmN0aW9uKHQscil7bi5jc3NIb29rc1tyXT17c2V0OmZ1bmN0aW9uKHQsdSl7dmFyIG8sZixlPSIiO2lmKCJ0cmFuc3BhcmVudCIhPT11JiYoInN0cmluZyIhPT1uLnR5cGUodSl8fChvPXModSkpKSl7aWYodT1pKG98fHUpLCFjLnJnYmEmJjEhPT11Ll9yZ2JhWzNdKXtmb3IoZj0iYmFja2dyb3VuZENvbG9yIj09PXI/dC5wYXJlbnROb2RlOnQ7KCIiPT09ZXx8InRyYW5zcGFyZW50Ij09PWUpJiZmJiZmLnN0eWxlOyl0cnl7ZT1uLmNzcyhmLCJiYWNrZ3JvdW5kQ29sb3IiKTtmPWYucGFyZW50Tm9kZX1jYXRjaChoKXt9dT11LmJsZW5kKGUmJiJ0cmFuc3BhcmVudCIhPT1lP2U6Il9kZWZhdWx0Iil9dT11LnRvUmdiYVN0cmluZygpfXRyeXt0LnN0eWxlW3JdPXV9Y2F0Y2goaCl7fX19O24uZnguc3RlcFtyXT1mdW5jdGlvbih0KXt0LmNvbG9ySW5pdHx8KHQuc3RhcnQ9aSh0LmVsZW0sciksdC5lbmQ9aSh0LmVuZCksdC5jb2xvckluaXQ9ITApO24uY3NzSG9va3Nbcl0uc2V0KHQuZWxlbSx0LnN0YXJ0LnRyYW5zaXRpb24odC5lbmQsdC5wb3MpKX19KX07aS5ob29rKCJiYWNrZ3JvdW5kQ29sb3IgYm9yZGVyQm90dG9tQ29sb3IgYm9yZGVyTGVmdENvbG9yIGJvcmRlclJpZ2h0Q29sb3IgYm9yZGVyVG9wQ29sb3IgY29sb3IgY29sdW1uUnVsZUNvbG9yIG91dGxpbmVDb2xvciB0ZXh0RGVjb3JhdGlvbkNvbG9yIHRleHRFbXBoYXNpc0NvbG9yIik7bi5jc3NIb29rcy5ib3JkZXJDb2xvcj17ZXhwYW5kOmZ1bmN0aW9uKG4pe3ZhciB0PXt9O3JldHVybiByKFsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sZnVuY3Rpb24oaSxyKXt0WyJib3JkZXIiK3IrIkNvbG9yIl09bn0pLHR9fTtlPW4uQ29sb3IubmFtZXM9e2FxdWE6IiMwMGZmZmYiLGJsYWNrOiIjMDAwMDAwIixibHVlOiIjMDAwMGZmIixmdWNoc2lhOiIjZmYwMGZmIixncmF5OiIjODA4MDgwIixncmVlbjoiIzAwODAwMCIsbGltZToiIzAwZmYwMCIsbWFyb29uOiIjODAwMDAwIixuYXZ5OiIjMDAwMDgwIixvbGl2ZToiIzgwODAwMCIscHVycGxlOiIjODAwMDgwIixyZWQ6IiNmZjAwMDAiLHNpbHZlcjoiI2MwYzBjMCIsdGVhbDoiIzAwODA4MCIsd2hpdGU6IiNmZmZmZmYiLHllbGxvdzoiI2ZmZmYwMCIsdHJhbnNwYXJlbnQ6W251bGwsbnVsbCxudWxsLDBdLF9kZWZhdWx0OiIjZmZmZmZmIn19KHkpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgcix1LGk9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3P3Qub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHQsbnVsbCk6dC5jdXJyZW50U3R5bGUsZj17fTtpZihpJiZpLmxlbmd0aCYmaVswXSYmaVtpWzBdXSlmb3IodT1pLmxlbmd0aDt1LS07KXI9aVt1XSwic3RyaW5nIj09dHlwZW9mIGlbcl0mJihmW24uY2FtZWxDYXNlKHIpXT1pW3JdKTtlbHNlIGZvcihyIGluIGkpInN0cmluZyI9PXR5cGVvZiBpW3JdJiYoZltyXT1pW3JdKTtyZXR1cm4gZn1mdW5jdGlvbiBpKHQsaSl7dmFyIHIsZixlPXt9O2ZvcihyIGluIGkpZj1pW3JdLHRbcl0hPT1mJiYodVtyXXx8KG4uZnguc3RlcFtyXXx8IWlzTmFOKHBhcnNlRmxvYXQoZikpKSYmKGVbcl09ZikpO3JldHVybiBlfXZhciByPVsiYWRkIiwicmVtb3ZlIiwidG9nZ2xlIl0sdT17Ym9yZGVyOjEsYm9yZGVyQm90dG9tOjEsYm9yZGVyQ29sb3I6MSxib3JkZXJMZWZ0OjEsYm9yZGVyUmlnaHQ6MSxib3JkZXJUb3A6MSxib3JkZXJXaWR0aDoxLG1hcmdpbjoxLHBhZGRpbmc6MX07bi5lYWNoKFsiYm9yZGVyTGVmdFN0eWxlIiwiYm9yZGVyUmlnaHRTdHlsZSIsImJvcmRlckJvdHRvbVN0eWxlIiwiYm9yZGVyVG9wU3R5bGUiXSxmdW5jdGlvbih0LGkpe24uZnguc3RlcFtpXT1mdW5jdGlvbihuKXsoIm5vbmUiPT09bi5lbmR8fG4uc2V0QXR0cikmJigxIT09bi5wb3N8fG4uc2V0QXR0cil8fCh5LnN0eWxlKG4uZWxlbSxpLG4uZW5kKSxuLnNldEF0dHI9ITApfX0pO24uZm4uYWRkQmFja3x8KG4uZm4uYWRkQmFjaz1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09bj90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihuKSl9KTtuLmVmZmVjdHMuYW5pbWF0ZUNsYXNzPWZ1bmN0aW9uKHUsZixlLG8pe3ZhciBzPW4uc3BlZWQoZixlLG8pO3JldHVybiB0aGlzLnF1ZXVlKGZ1bmN0aW9uKCl7dmFyIG8sZT1uKHRoaXMpLGg9ZS5hdHRyKCJjbGFzcyIpfHwiIixmPXMuY2hpbGRyZW4/ZS5maW5kKCIqIikuYWRkQmFjaygpOmU7Zj1mLm1hcChmdW5jdGlvbigpe3ZhciBpPW4odGhpcyk7cmV0dXJue2VsOmksc3RhcnQ6dCh0aGlzKX19KTtvPWZ1bmN0aW9uKCl7bi5lYWNoKHIsZnVuY3Rpb24obix0KXt1W3RdJiZlW3QrIkNsYXNzIl0odVt0XSl9KX07bygpO2Y9Zi5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmQ9dCh0aGlzLmVsWzBdKSx0aGlzLmRpZmY9aSh0aGlzLnN0YXJ0LHRoaXMuZW5kKSx0aGlzfSk7ZS5hdHRyKCJjbGFzcyIsaCk7Zj1mLm1hcChmdW5jdGlvbigpe3ZhciBpPXRoaXMsdD1uLkRlZmVycmVkKCkscj1uLmV4dGVuZCh7fSxzLHtxdWV1ZTohMSxjb21wbGV0ZTpmdW5jdGlvbigpe3QucmVzb2x2ZShpKX19KTtyZXR1cm4gdGhpcy5lbC5hbmltYXRlKHRoaXMuZGlmZixyKSx0LnByb21pc2UoKX0pO24ud2hlbi5hcHBseShuLGYuZ2V0KCkpLmRvbmUoZnVuY3Rpb24oKXtvKCk7bi5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWw7bi5lYWNoKHRoaXMuZGlmZixmdW5jdGlvbihuKXt0LmNzcyhuLCIiKX0pfSk7cy5jb21wbGV0ZS5jYWxsKGVbMF0pfSl9KX07bi5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpLHIsdSxmKXtyZXR1cm4gcj9uLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7YWRkOml9LHIsdSxmKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KG4uZm4uYWRkQ2xhc3MpLHJlbW92ZUNsYXNzOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpLHIsdSxmKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xP24uZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHtyZW1vdmU6aX0scix1LGYpOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0obi5mbi5yZW1vdmVDbGFzcyksdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkscix1LGYsZSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2Ygcnx8dm9pZCAwPT09cj91P24uZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHI/e2FkZDppfTp7cmVtb3ZlOml9LHUsZixlKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTpuLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7dG9nZ2xlOml9LHIsdSxmKX19KG4uZm4udG9nZ2xlQ2xhc3MpLHN3aXRjaENsYXNzOmZ1bmN0aW9uKHQsaSxyLHUsZil7cmV0dXJuIG4uZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHthZGQ6aSxyZW1vdmU6dH0scix1LGYpfX0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGkscix1KXtyZXR1cm4gbi5pc1BsYWluT2JqZWN0KHQpJiYoaT10LHQ9dC5lZmZlY3QpLHQ9e2VmZmVjdDp0fSxudWxsPT1pJiYoaT17fSksbi5pc0Z1bmN0aW9uKGkpJiYodT1pLHI9bnVsbCxpPXt9KSwoIm51bWJlciI9PXR5cGVvZiBpfHxuLmZ4LnNwZWVkc1tpXSkmJih1PXIscj1pLGk9e30pLG4uaXNGdW5jdGlvbihyKSYmKHU9cixyPW51bGwpLGkmJm4uZXh0ZW5kKHQsaSkscj1yfHxpLmR1cmF0aW9uLHQuZHVyYXRpb249bi5meC5vZmY/MDoibnVtYmVyIj09dHlwZW9mIHI/cjpyIGluIG4uZnguc3BlZWRzP24uZnguc3BlZWRzW3JdOm4uZnguc3BlZWRzLl9kZWZhdWx0LHQuY29tcGxldGU9dXx8aS5jb21wbGV0ZSx0fWZ1bmN0aW9uIGkodCl7cmV0dXJuIXR8fCJudW1iZXIiPT10eXBlb2YgdHx8bi5meC5zcGVlZHNbdF0/ITA6InN0cmluZyIhPXR5cGVvZiB0fHxuLmVmZmVjdHMuZWZmZWN0W3RdP24uaXNGdW5jdGlvbih0KT8hMDoib2JqZWN0IiE9dHlwZW9mIHR8fHQuZWZmZWN0PyExOiEwOiEwfWZ1bmN0aW9uIHIobix0KXt2YXIgcj10Lm91dGVyV2lkdGgoKSx1PXQub3V0ZXJIZWlnaHQoKSxpPS9ecmVjdFwoKC0/XGQqXC4/XGQqcHh8LT9cZCslfGF1dG8pLD9ccyooLT9cZCpcLj9cZCpweHwtP1xkKyV8YXV0byksP1xzKigtP1xkKlwuP1xkKnB4fC0/XGQrJXxhdXRvKSw/XHMqKC0/XGQqXC4/XGQqcHh8LT9cZCslfGF1dG8pXCkkLy5leGVjKG4pfHxbIiIsMCxyLHUsMF07cmV0dXJue3RvcDpwYXJzZUZsb2F0KGlbMV0pfHwwLHJpZ2h0OiJhdXRvIj09PWlbMl0/cjpwYXJzZUZsb2F0KGlbMl0pLGJvdHRvbToiYXV0byI9PT1pWzNdP3U6cGFyc2VGbG9hdChpWzNdKSxsZWZ0OnBhcnNlRmxvYXQoaVs0XSl8fDB9fW4uZXhwciYmbi5leHByLmZpbHRlcnMmJm4uZXhwci5maWx0ZXJzLmFuaW1hdGVkJiYobi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiEhbihpKS5kYXRhKGgpfHx0KGkpfX0obi5leHByLmZpbHRlcnMuYW5pbWF0ZWQpKTtuLnVpQmFja0NvbXBhdCE9PSExJiZuLmV4dGVuZChuLmVmZmVjdHMse3NhdmU6ZnVuY3Rpb24obix0KXtmb3IodmFyIGk9MCxyPXQubGVuZ3RoO3I+aTtpKyspbnVsbCE9PXRbaV0mJm4uZGF0YShmK3RbaV0sblswXS5zdHlsZVt0W2ldXSl9LHJlc3RvcmU6ZnVuY3Rpb24obix0KXtmb3IodmFyIHIsaT0wLHU9dC5sZW5ndGg7dT5pO2krKyludWxsIT09dFtpXSYmKHI9bi5kYXRhKGYrdFtpXSksbi5jc3ModFtpXSxyKSl9LHNldE1vZGU6ZnVuY3Rpb24obix0KXtyZXR1cm4idG9nZ2xlIj09PXQmJih0PW4uaXMoIjpoaWRkZW4iKT8ic2hvdyI6ImhpZGUiKSx0fSxjcmVhdGVXcmFwcGVyOmZ1bmN0aW9uKHQpe2lmKHQucGFyZW50KCkuaXMoIi51aS1lZmZlY3RzLXdyYXBwZXIiKSlyZXR1cm4gdC5wYXJlbnQoKTt2YXIgaT17d2lkdGg6dC5vdXRlcldpZHRoKCEwKSxoZWlnaHQ6dC5vdXRlckhlaWdodCghMCksZmxvYXQ6dC5jc3MoImZsb2F0Iil9LHU9bigiPGRpdj48XC9kaXY+IikuYWRkQ2xhc3MoInVpLWVmZmVjdHMtd3JhcHBlciIpLmNzcyh7Zm9udFNpemU6IjEwMCUiLGJhY2tncm91bmQ6InRyYW5zcGFyZW50Iixib3JkZXI6Im5vbmUiLG1hcmdpbjowLHBhZGRpbmc6MH0pLGY9e3dpZHRoOnQud2lkdGgoKSxoZWlnaHQ6dC5oZWlnaHQoKX0scj1kb2N1bWVudC5hY3RpdmVFbGVtZW50O3RyeXtyLmlkfWNhdGNoKGUpe3I9ZG9jdW1lbnQuYm9keX1yZXR1cm4gdC53cmFwKHUpLCh0WzBdPT09cnx8bi5jb250YWlucyh0WzBdLHIpKSYmbihyKS50cmlnZ2VyKCJmb2N1cyIpLHU9dC5wYXJlbnQoKSwic3RhdGljIj09PXQuY3NzKCJwb3NpdGlvbiIpPyh1LmNzcyh7cG9zaXRpb246InJlbGF0aXZlIn0pLHQuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUifSkpOihuLmV4dGVuZChpLHtwb3NpdGlvbjp0LmNzcygicG9zaXRpb24iKSx6SW5kZXg6dC5jc3MoInotaW5kZXgiKX0pLG4uZWFjaChbInRvcCIsImxlZnQiLCJib3R0b20iLCJyaWdodCJdLGZ1bmN0aW9uKG4scil7aVtyXT10LmNzcyhyKTtpc05hTihwYXJzZUludChpW3JdLDEwKSkmJihpW3JdPSJhdXRvIil9KSx0LmNzcyh7cG9zaXRpb246InJlbGF0aXZlIix0b3A6MCxsZWZ0OjAscmlnaHQ6ImF1dG8iLGJvdHRvbToiYXV0byJ9KSksdC5jc3MoZiksdS5jc3MoaSkuc2hvdygpfSxyZW1vdmVXcmFwcGVyOmZ1bmN0aW9uKHQpe3ZhciBpPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7cmV0dXJuIHQucGFyZW50KCkuaXMoIi51aS1lZmZlY3RzLXdyYXBwZXIiKSYmKHQucGFyZW50KCkucmVwbGFjZVdpdGgodCksKHRbMF09PT1pfHxuLmNvbnRhaW5zKHRbMF0saSkpJiZuKGkpLnRyaWdnZXIoImZvY3VzIikpLHR9fSk7bi5leHRlbmQobi5lZmZlY3RzLHt2ZXJzaW9uOiIxLjEyLjEiLGRlZmluZTpmdW5jdGlvbih0LGkscil7cmV0dXJuIHJ8fChyPWksaT0iZWZmZWN0Iiksbi5lZmZlY3RzLmVmZmVjdFt0XT1yLG4uZWZmZWN0cy5lZmZlY3RbdF0ubW9kZT1pLHJ9LHNjYWxlZERpbWVuc2lvbnM6ZnVuY3Rpb24obix0LGkpe2lmKDA9PT10KXJldHVybntoZWlnaHQ6MCx3aWR0aDowLG91dGVySGVpZ2h0OjAsb3V0ZXJXaWR0aDowfTt2YXIgcj0iaG9yaXpvbnRhbCIhPT1pPyh0fHwxMDApLzEwMDoxLHU9InZlcnRpY2FsIiE9PWk/KHR8fDEwMCkvMTAwOjE7cmV0dXJue2hlaWdodDpuLmhlaWdodCgpKnUsd2lkdGg6bi53aWR0aCgpKnIsb3V0ZXJIZWlnaHQ6bi5vdXRlckhlaWdodCgpKnUsb3V0ZXJXaWR0aDpuLm91dGVyV2lkdGgoKSpyfX0sY2xpcFRvQm94OmZ1bmN0aW9uKG4pe3JldHVybnt3aWR0aDpuLmNsaXAucmlnaHQtbi5jbGlwLmxlZnQsaGVpZ2h0Om4uY2xpcC5ib3R0b20tbi5jbGlwLnRvcCxsZWZ0Om4uY2xpcC5sZWZ0LHRvcDpuLmNsaXAudG9wfX0sdW5zaGlmdDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9bi5xdWV1ZSgpO3Q+MSYmci5zcGxpY2UuYXBwbHkocixbMSwwXS5jb25jYXQoci5zcGxpY2UodCxpKSkpO24uZGVxdWV1ZSgpfSxzYXZlU3R5bGU6ZnVuY3Rpb24obil7bi5kYXRhKHMsblswXS5zdHlsZS5jc3NUZXh0KX0scmVzdG9yZVN0eWxlOmZ1bmN0aW9uKG4pe25bMF0uc3R5bGUuY3NzVGV4dD1uLmRhdGEocyl8fCIiO24ucmVtb3ZlRGF0YShzKX0sbW9kZTpmdW5jdGlvbihuLHQpe3ZhciBpPW4uaXMoIjpoaWRkZW4iKTtyZXR1cm4idG9nZ2xlIj09PXQmJih0PWk/InNob3ciOiJoaWRlIiksKGk/ImhpZGUiPT09dDoic2hvdyI9PT10KSYmKHQ9Im5vbmUiKSx0fSxnZXRCYXNlbGluZTpmdW5jdGlvbihuLHQpe3ZhciBpLHI7c3dpdGNoKG5bMF0pe2Nhc2UidG9wIjppPTA7YnJlYWs7Y2FzZSJtaWRkbGUiOmk9LjU7YnJlYWs7Y2FzZSJib3R0b20iOmk9MTticmVhaztkZWZhdWx0Omk9blswXS90LmhlaWdodH1zd2l0Y2goblsxXSl7Y2FzZSJsZWZ0IjpyPTA7YnJlYWs7Y2FzZSJjZW50ZXIiOnI9LjU7YnJlYWs7Y2FzZSJyaWdodCI6cj0xO2JyZWFrO2RlZmF1bHQ6cj1uWzFdL3Qud2lkdGh9cmV0dXJue3g6cix5Oml9fSxjcmVhdGVQbGFjZWhvbGRlcjpmdW5jdGlvbih0KXt2YXIgaSxyPXQuY3NzKCJwb3NpdGlvbiIpLHU9dC5wb3NpdGlvbigpO3JldHVybiB0LmNzcyh7bWFyZ2luVG9wOnQuY3NzKCJtYXJnaW5Ub3AiKSxtYXJnaW5Cb3R0b206dC5jc3MoIm1hcmdpbkJvdHRvbSIpLG1hcmdpbkxlZnQ6dC5jc3MoIm1hcmdpbkxlZnQiKSxtYXJnaW5SaWdodDp0LmNzcygibWFyZ2luUmlnaHQiKX0pLm91dGVyV2lkdGgodC5vdXRlcldpZHRoKCkpLm91dGVySGVpZ2h0KHQub3V0ZXJIZWlnaHQoKSksL14oc3RhdGljfHJlbGF0aXZlKS8udGVzdChyKSYmKHI9ImFic29sdXRlIixpPW4oIjwiK3RbMF0ubm9kZU5hbWUrIj4iKS5pbnNlcnRBZnRlcih0KS5jc3Moe2Rpc3BsYXk6L14oaW5saW5lfHJ1YnkpLy50ZXN0KHQuY3NzKCJkaXNwbGF5IikpPyJpbmxpbmUtYmxvY2siOiJibG9jayIsdmlzaWJpbGl0eToiaGlkZGVuIixtYXJnaW5Ub3A6dC5jc3MoIm1hcmdpblRvcCIpLG1hcmdpbkJvdHRvbTp0LmNzcygibWFyZ2luQm90dG9tIiksbWFyZ2luTGVmdDp0LmNzcygibWFyZ2luTGVmdCIpLG1hcmdpblJpZ2h0OnQuY3NzKCJtYXJnaW5SaWdodCIpLGZsb2F0OnQuY3NzKCJmbG9hdCIpfSkub3V0ZXJXaWR0aCh0Lm91dGVyV2lkdGgoKSkub3V0ZXJIZWlnaHQodC5vdXRlckhlaWdodCgpKS5hZGRDbGFzcygidWktZWZmZWN0cy1wbGFjZWhvbGRlciIpLHQuZGF0YShmKyJwbGFjZWhvbGRlciIsaSkpLHQuY3NzKHtwb3NpdGlvbjpyLGxlZnQ6dS5sZWZ0LHRvcDp1LnRvcH0pLGl9LHJlbW92ZVBsYWNlaG9sZGVyOmZ1bmN0aW9uKG4pe3ZhciB0PWYrInBsYWNlaG9sZGVyIixpPW4uZGF0YSh0KTtpJiYoaS5yZW1vdmUoKSxuLnJlbW92ZURhdGEodCkpfSxjbGVhblVwOmZ1bmN0aW9uKHQpe24uZWZmZWN0cy5yZXN0b3JlU3R5bGUodCk7bi5lZmZlY3RzLnJlbW92ZVBsYWNlaG9sZGVyKHQpfSxzZXRUcmFuc2l0aW9uOmZ1bmN0aW9uKHQsaSxyLHUpe3JldHVybiB1PXV8fHt9LG4uZWFjaChpLGZ1bmN0aW9uKG4saSl7dmFyIGY9dC5jc3NVbml0KGkpO2ZbMF0+MCYmKHVbaV09ZlswXSpyK2ZbMV0pfSksdX19KTtuLmZuLmV4dGVuZCh7ZWZmZWN0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gbyh0KXtmdW5jdGlvbiBjKCl7by5yZW1vdmVEYXRhKGgpO24uZWZmZWN0cy5jbGVhblVwKG8pOyJoaWRlIj09PWkubW9kZSYmby5oaWRlKCk7cygpfWZ1bmN0aW9uIHMoKXtuLmlzRnVuY3Rpb24oZikmJmYuY2FsbChvWzBdKTtuLmlzRnVuY3Rpb24odCkmJnQoKX12YXIgbz1uKHRoaXMpO2kubW9kZT1sLnNoaWZ0KCk7bi51aUJhY2tDb21wYXQ9PT0hMXx8dT8ibm9uZSI9PT1pLm1vZGU/KG9bcl0oKSxzKCkpOmUuY2FsbChvWzBdLGksYyk6KG8uaXMoIjpoaWRkZW4iKT8iaGlkZSI9PT1yOiJzaG93Ij09PXIpPyhvW3JdKCkscygpKTplLmNhbGwob1swXSxpLHMpfXZhciBpPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLGU9bi5lZmZlY3RzLmVmZmVjdFtpLmVmZmVjdF0sdT1lLm1vZGUscz1pLnF1ZXVlLGM9c3x8ImZ4IixmPWkuY29tcGxldGUscj1pLm1vZGUsbD1bXSxhPWZ1bmN0aW9uKHQpe3ZhciBmPW4odGhpcyksaT1uLmVmZmVjdHMubW9kZShmLHIpfHx1O2YuZGF0YShoLCEwKTtsLnB1c2goaSk7dSYmKCJzaG93Ij09PWl8fGk9PT11JiYiaGlkZSI9PT1pKSYmZi5zaG93KCk7dSYmIm5vbmUiPT09aXx8bi5lZmZlY3RzLnNhdmVTdHlsZShmKTtuLmlzRnVuY3Rpb24odCkmJnQoKX07cmV0dXJuIG4uZngub2ZmfHwhZT9yP3RoaXNbcl0oaS5kdXJhdGlvbixmKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtmJiZmLmNhbGwodGhpcyl9KTpzPT09ITE/dGhpcy5lYWNoKGEpLmVhY2gobyk6dGhpcy5xdWV1ZShjLGEpLnF1ZXVlKGMsbyl9LHNob3c6ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKGkocikpcmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciB1PXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1Lm1vZGU9InNob3ciLHRoaXMuZWZmZWN0LmNhbGwodGhpcyx1KX19KG4uZm4uc2hvdyksaGlkZTpmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24ocil7aWYoaShyKSlyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIHU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHUubW9kZT0iaGlkZSIsdGhpcy5lZmZlY3QuY2FsbCh0aGlzLHUpfX0obi5mbi5oaWRlKSx0b2dnbGU6ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKGkocil8fCJib29sZWFuIj09dHlwZW9mIHIpcmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciB1PXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1Lm1vZGU9InRvZ2dsZSIsdGhpcy5lZmZlY3QuY2FsbCh0aGlzLHUpfX0obi5mbi50b2dnbGUpLGNzc1VuaXQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5jc3ModCkscj1bXTtyZXR1cm4gbi5lYWNoKFsiZW0iLCJweCIsIiUiLCJwdCJdLGZ1bmN0aW9uKG4sdCl7aS5pbmRleE9mKHQpPjAmJihyPVtwYXJzZUZsb2F0KGkpLHRdKX0pLHJ9LGNzc0NsaXA6ZnVuY3Rpb24obil7cmV0dXJuIG4/dGhpcy5jc3MoImNsaXAiLCJyZWN0KCIrbi50b3ArInB4ICIrbi5yaWdodCsicHggIituLmJvdHRvbSsicHggIituLmxlZnQrInB4KSIpOnIodGhpcy5jc3MoImNsaXAiKSx0aGlzKX0sdHJhbnNmZXI6ZnVuY3Rpb24odCxpKXt2YXIgdT1uKHRoaXMpLHI9bih0LnRvKSxmPSJmaXhlZCI9PT1yLmNzcygicG9zaXRpb24iKSxlPW4oImJvZHkiKSxvPWY/ZS5zY3JvbGxUb3AoKTowLHM9Zj9lLnNjcm9sbExlZnQoKTowLGg9ci5vZmZzZXQoKSxsPXt0b3A6aC50b3AtbyxsZWZ0OmgubGVmdC1zLGhlaWdodDpyLmlubmVySGVpZ2h0KCksd2lkdGg6ci5pbm5lcldpZHRoKCl9LGM9dS5vZmZzZXQoKSxhPW4oIjxkaXYgY2xhc3M9J3VpLWVmZmVjdHMtdHJhbnNmZXInPjxcL2Rpdj4iKS5hcHBlbmRUbygiYm9keSIpLmFkZENsYXNzKHQuY2xhc3NOYW1lKS5jc3Moe3RvcDpjLnRvcC1vLGxlZnQ6Yy5sZWZ0LXMsaGVpZ2h0OnUuaW5uZXJIZWlnaHQoKSx3aWR0aDp1LmlubmVyV2lkdGgoKSxwb3NpdGlvbjpmPyJmaXhlZCI6ImFic29sdXRlIn0pLmFuaW1hdGUobCx0LmR1cmF0aW9uLHQuZWFzaW5nLGZ1bmN0aW9uKCl7YS5yZW1vdmUoKTtuLmlzRnVuY3Rpb24oaSkmJmkoKX0pfX0pO24uZnguc3RlcC5jbGlwPWZ1bmN0aW9uKHQpe3QuY2xpcEluaXR8fCh0LnN0YXJ0PW4odC5lbGVtKS5jc3NDbGlwKCksInN0cmluZyI9PXR5cGVvZiB0LmVuZCYmKHQuZW5kPXIodC5lbmQsdC5lbGVtKSksdC5jbGlwSW5pdD0hMCk7bih0LmVsZW0pLmNzc0NsaXAoe3RvcDp0LnBvcyoodC5lbmQudG9wLXQuc3RhcnQudG9wKSt0LnN0YXJ0LnRvcCxyaWdodDp0LnBvcyoodC5lbmQucmlnaHQtdC5zdGFydC5yaWdodCkrdC5zdGFydC5yaWdodCxib3R0b206dC5wb3MqKHQuZW5kLmJvdHRvbS10LnN0YXJ0LmJvdHRvbSkrdC5zdGFydC5ib3R0b20sbGVmdDp0LnBvcyoodC5lbmQubGVmdC10LnN0YXJ0LmxlZnQpK3Quc3RhcnQubGVmdH0pfX0oKSxmdW5jdGlvbigpe3ZhciB0PXt9O24uZWFjaChbIlF1YWQiLCJDdWJpYyIsIlF1YXJ0IiwiUXVpbnQiLCJFeHBvIl0sZnVuY3Rpb24obixpKXt0W2ldPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdyh0LG4rMil9fSk7bi5leHRlbmQodCx7U2luZTpmdW5jdGlvbihuKXtyZXR1cm4gMS1NYXRoLmNvcyhuKk1hdGguUEkvMil9LENpcmM6ZnVuY3Rpb24obil7cmV0dXJuIDEtTWF0aC5zcXJ0KDEtbipuKX0sRWxhc3RpYzpmdW5jdGlvbihuKXtyZXR1cm4gMD09PW58fDE9PT1uP246LU1hdGgucG93KDIsOCoobi0xKSkqTWF0aC5zaW4oKDgwKihuLTEpLTcuNSkqTWF0aC5QSS8xNSl9LEJhY2s6ZnVuY3Rpb24obil7cmV0dXJuIG4qbiooMypuLTIpfSxCb3VuY2U6ZnVuY3Rpb24obil7Zm9yKHZhciB0LGk9NDsoKHQ9TWF0aC5wb3coMiwtLWkpKS0xKS8xMT5uOyk7cmV0dXJuIDEvTWF0aC5wb3coNCwzLWkpLTcuNTYyNSpNYXRoLnBvdygoMyp0LTIpLzIyLW4sMil9fSk7bi5lYWNoKHQsZnVuY3Rpb24odCxpKXtuLmVhc2luZ1siZWFzZUluIit0XT1pO24uZWFzaW5nWyJlYXNlT3V0Iit0XT1mdW5jdGlvbihuKXtyZXR1cm4gMS1pKDEtbil9O24uZWFzaW5nWyJlYXNlSW5PdXQiK3RdPWZ1bmN0aW9uKG4pe3JldHVybi41Pm4/aSgyKm4pLzI6MS1pKC0yKm4rMikvMn19KX0oKTtwPW4uZWZmZWN0cztuLmVmZmVjdHMuZGVmaW5lKCJibGluZCIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7dmFyIGU9e3VwOlsiYm90dG9tIiwidG9wIl0sdmVydGljYWw6WyJib3R0b20iLCJ0b3AiXSxkb3duOlsidG9wIiwiYm90dG9tIl0sbGVmdDpbInJpZ2h0IiwibGVmdCJdLGhvcml6b250YWw6WyJyaWdodCIsImxlZnQiXSxyaWdodDpbImxlZnQiLCJyaWdodCJdfSx1PW4odGhpcyksbz10LmRpcmVjdGlvbnx8InVwIixzPXUuY3NzQ2xpcCgpLHI9e2NsaXA6bi5leHRlbmQoe30scyl9LGY9bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHUpO3IuY2xpcFtlW29dWzBdXT1yLmNsaXBbZVtvXVsxXV07InNob3ciPT09dC5tb2RlJiYodS5jc3NDbGlwKHIuY2xpcCksZiYmZi5jc3Mobi5lZmZlY3RzLmNsaXBUb0JveChyKSksci5jbGlwPXMpO2YmJmYuYW5pbWF0ZShuLmVmZmVjdHMuY2xpcFRvQm94KHIpLHQuZHVyYXRpb24sdC5lYXNpbmcpO3UuYW5pbWF0ZShyLHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTppfSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJib3VuY2UiLGZ1bmN0aW9uKHQsaSl7dmFyIGUsbyxhLHU9bih0aGlzKSxwPXQubW9kZSxzPSJoaWRlIj09PXAsdz0ic2hvdyI9PT1wLGg9dC5kaXJlY3Rpb258fCJ1cCIscj10LmRpc3RhbmNlLHY9dC50aW1lc3x8NSxiPTIqdisod3x8cz8xOjApLGM9dC5kdXJhdGlvbi9iLGw9dC5lYXNpbmcsZj0idXAiPT09aHx8ImRvd24iPT09aD8idG9wIjoibGVmdCIseT0idXAiPT09aHx8ImxlZnQiPT09aCxrPTAsZD11LnF1ZXVlKCkubGVuZ3RoO2ZvcihuLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIodSksYT11LmNzcyhmKSxyfHwocj11WyJ0b3AiPT09Zj8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oKS8zKSx3JiYobz17b3BhY2l0eToxfSxvW2ZdPWEsdS5jc3MoIm9wYWNpdHkiLDApLmNzcyhmLHk/MiotcjoyKnIpLmFuaW1hdGUobyxjLGwpKSxzJiYoci89TWF0aC5wb3coMix2LTEpKSxvPXt9LG9bZl09YTt2Pms7aysrKWU9e30sZVtmXT0oeT8iLT0iOiIrPSIpK3IsdS5hbmltYXRlKGUsYyxsKS5hbmltYXRlKG8sYyxsKSxyPXM/MipyOnIvMjtzJiYoZT17b3BhY2l0eTowfSxlW2ZdPSh5PyItPSI6Iis9Iikrcix1LmFuaW1hdGUoZSxjLGwpKTt1LnF1ZXVlKGkpO24uZWZmZWN0cy51bnNoaWZ0KHUsZCxiKzEpfSk7bi5lZmZlY3RzLmRlZmluZSgiY2xpcCIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7dmFyIHIsdT17fSxmPW4odGhpcyksZT10LmRpcmVjdGlvbnx8InZlcnRpY2FsIixvPSJib3RoIj09PWUscz1vfHwiaG9yaXpvbnRhbCI9PT1lLGg9b3x8InZlcnRpY2FsIj09PWU7cj1mLmNzc0NsaXAoKTt1LmNsaXA9e3RvcDpoPyhyLmJvdHRvbS1yLnRvcCkvMjpyLnRvcCxyaWdodDpzPyhyLnJpZ2h0LXIubGVmdCkvMjpyLnJpZ2h0LGJvdHRvbTpoPyhyLmJvdHRvbS1yLnRvcCkvMjpyLmJvdHRvbSxsZWZ0OnM/KHIucmlnaHQtci5sZWZ0KS8yOnIubGVmdH07bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKGYpOyJzaG93Ij09PXQubW9kZSYmKGYuY3NzQ2xpcCh1LmNsaXApLHUuY2xpcD1yKTtmLmFuaW1hdGUodSx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi5lZmZlY3RzLmRlZmluZSgiZHJvcCIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7dmFyIGUsdT1uKHRoaXMpLGg9dC5tb2RlLGM9InNob3ciPT09aCxmPXQuZGlyZWN0aW9ufHwibGVmdCIsbz0idXAiPT09Znx8ImRvd24iPT09Zj8idG9wIjoibGVmdCIscz0idXAiPT09Znx8ImxlZnQiPT09Zj8iLT0iOiIrPSIsbD0iKz0iPT09cz8iLT0iOiIrPSIscj17b3BhY2l0eTowfTtuLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIodSk7ZT10LmRpc3RhbmNlfHx1WyJ0b3AiPT09bz8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oITApLzI7cltvXT1zK2U7YyYmKHUuY3NzKHIpLHJbb109bCtlLHIub3BhY2l0eT0xKTt1LmFuaW1hdGUocix7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi5lZmZlY3RzLmRlZmluZSgiZXhwbG9kZSIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gYigpe3AucHVzaCh0aGlzKTtwLmxlbmd0aD09PWUqYyYmaygpfWZ1bmN0aW9uIGsoKXtvLmNzcyh7dmlzaWJpbGl0eToidmlzaWJsZSJ9KTtuKHApLnJlbW92ZSgpO2koKX1mb3IodmFyIHUsbCxhLHYseSxlPXQucGllY2VzP01hdGgucm91bmQoTWF0aC5zcXJ0KHQucGllY2VzKSk6MyxjPWUsbz1uKHRoaXMpLGQ9dC5tb2RlLGY9InNob3ciPT09ZCx3PW8uc2hvdygpLmNzcygidmlzaWJpbGl0eSIsImhpZGRlbiIpLm9mZnNldCgpLHM9TWF0aC5jZWlsKG8ub3V0ZXJXaWR0aCgpL2MpLGg9TWF0aC5jZWlsKG8ub3V0ZXJIZWlnaHQoKS9lKSxwPVtdLHI9MDtlPnI7cisrKWZvcihhPXcudG9wK3IqaCx5PXItKGUtMSkvMix1PTA7Yz51O3UrKylsPXcubGVmdCt1KnMsdj11LShjLTEpLzIsby5jbG9uZSgpLmFwcGVuZFRvKCJib2R5Iikud3JhcCgiPGRpdj48XC9kaXY+IikuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6InZpc2libGUiLGxlZnQ6LXUqcyx0b3A6LXIqaH0pLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1lZmZlY3RzLWV4cGxvZGUiKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsb3ZlcmZsb3c6ImhpZGRlbiIsd2lkdGg6cyxoZWlnaHQ6aCxsZWZ0OmwrKGY/dipzOjApLHRvcDphKyhmP3kqaDowKSxvcGFjaXR5OmY/MDoxfSkuYW5pbWF0ZSh7bGVmdDpsKyhmPzA6dipzKSx0b3A6YSsoZj8wOnkqaCksb3BhY2l0eTpmPzE6MH0sdC5kdXJhdGlvbnx8NTAwLHQuZWFzaW5nLGIpfSk7bi5lZmZlY3RzLmRlZmluZSgiZmFkZSIsInRvZ2dsZSIsZnVuY3Rpb24odCxpKXt2YXIgcj0ic2hvdyI9PT10Lm1vZGU7bih0aGlzKS5jc3MoIm9wYWNpdHkiLHI/MDoxKS5hbmltYXRlKHtvcGFjaXR5OnI/MTowfSx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi5lZmZlY3RzLmRlZmluZSgiZm9sZCIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7dmFyIHU9bih0aGlzKSxsPXQubW9kZSx2PSJzaG93Ij09PWwseT0iaGlkZSI9PT1sLG89dC5zaXplfHwxNSxhPS8oWzAtOV0rKSUvLmV4ZWMobykscD0hIXQuaG9yaXpGaXJzdCxmPXA/WyJyaWdodCIsImJvdHRvbSJdOlsiYm90dG9tIiwicmlnaHQiXSxzPXQuZHVyYXRpb24vMixoPW4uZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlcih1KSxlPXUuY3NzQ2xpcCgpLGM9e2NsaXA6bi5leHRlbmQoe30sZSl9LHI9e2NsaXA6bi5leHRlbmQoe30sZSl9LHc9W2VbZlswXV0sZVtmWzFdXV0sYj11LnF1ZXVlKCkubGVuZ3RoO2EmJihvPXBhcnNlSW50KGFbMV0sMTApLzEwMCp3W3k/MDoxXSk7Yy5jbGlwW2ZbMF1dPW87ci5jbGlwW2ZbMF1dPW87ci5jbGlwW2ZbMV1dPTA7diYmKHUuY3NzQ2xpcChyLmNsaXApLGgmJmguY3NzKG4uZWZmZWN0cy5jbGlwVG9Cb3gocikpLHIuY2xpcD1lKTt1LnF1ZXVlKGZ1bmN0aW9uKGkpe2gmJmguYW5pbWF0ZShuLmVmZmVjdHMuY2xpcFRvQm94KGMpLHMsdC5lYXNpbmcpLmFuaW1hdGUobi5lZmZlY3RzLmNsaXBUb0JveChyKSxzLHQuZWFzaW5nKTtpKCl9KS5hbmltYXRlKGMscyx0LmVhc2luZykuYW5pbWF0ZShyLHMsdC5lYXNpbmcpLnF1ZXVlKGkpO24uZWZmZWN0cy51bnNoaWZ0KHUsYiw0KX0pO24uZWZmZWN0cy5kZWZpbmUoImhpZ2hsaWdodCIsInNob3ciLGZ1bmN0aW9uKHQsaSl7dmFyIHI9bih0aGlzKSx1PXtiYWNrZ3JvdW5kQ29sb3I6ci5jc3MoImJhY2tncm91bmRDb2xvciIpfTsiaGlkZSI9PT10Lm1vZGUmJih1Lm9wYWNpdHk9MCk7bi5lZmZlY3RzLnNhdmVTdHlsZShyKTtyLmNzcyh7YmFja2dyb3VuZEltYWdlOiJub25lIixiYWNrZ3JvdW5kQ29sb3I6dC5jb2xvcnx8IiNmZmZmOTkifSkuYW5pbWF0ZSh1LHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTppfSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJzaXplIixmdW5jdGlvbih0LGkpe3ZhciBsLHIscCx1PW4odGhpcyksdj1bImZvbnRTaXplIl0scz1bImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSJdLGg9WyJib3JkZXJMZWZ0V2lkdGgiLCJib3JkZXJSaWdodFdpZHRoIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiXSx3PXQubW9kZSx5PSJlZmZlY3QiIT09dyxjPXQuc2NhbGV8fCJib3RoIixiPXQub3JpZ2lufHxbIm1pZGRsZSIsImNlbnRlciJdLGs9dS5jc3MoInBvc2l0aW9uIiksYT11LnBvc2l0aW9uKCksbz1uLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyh1KSxmPXQuZnJvbXx8byxlPXQudG98fG4uZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKHUsMCk7bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHUpOyJzaG93Ij09PXcmJihwPWYsZj1lLGU9cCk7cj17ZnJvbTp7eTpmLmhlaWdodC9vLmhlaWdodCx4OmYud2lkdGgvby53aWR0aH0sdG86e3k6ZS5oZWlnaHQvby5oZWlnaHQseDplLndpZHRoL28ud2lkdGh9fTsoImJveCI9PT1jfHwiYm90aCI9PT1jKSYmKHIuZnJvbS55IT09ci50by55JiYoZj1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbih1LHMsci5mcm9tLnksZiksZT1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbih1LHMsci50by55LGUpKSxyLmZyb20ueCE9PXIudG8ueCYmKGY9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24odSxoLHIuZnJvbS54LGYpLGU9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24odSxoLHIudG8ueCxlKSkpOygiY29udGVudCI9PT1jfHwiYm90aCI9PT1jKSYmci5mcm9tLnkhPT1yLnRvLnkmJihmPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKHUsdixyLmZyb20ueSxmKSxlPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKHUsdixyLnRvLnksZSkpO2ImJihsPW4uZWZmZWN0cy5nZXRCYXNlbGluZShiLG8pLGYudG9wPShvLm91dGVySGVpZ2h0LWYub3V0ZXJIZWlnaHQpKmwueSthLnRvcCxmLmxlZnQ9KG8ub3V0ZXJXaWR0aC1mLm91dGVyV2lkdGgpKmwueCthLmxlZnQsZS50b3A9KG8ub3V0ZXJIZWlnaHQtZS5vdXRlckhlaWdodCkqbC55K2EudG9wLGUubGVmdD0oby5vdXRlcldpZHRoLWUub3V0ZXJXaWR0aCkqbC54K2EubGVmdCk7dS5jc3MoZik7KCJjb250ZW50Ij09PWN8fCJib3RoIj09PWMpJiYocz1zLmNvbmNhdChbIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSJdKS5jb25jYXQodiksaD1oLmNvbmNhdChbIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCJdKSx1LmZpbmQoIipbd2lkdGhdIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcyksdT1uLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyhpKSxmPXtoZWlnaHQ6dS5oZWlnaHQqci5mcm9tLnksd2lkdGg6dS53aWR0aCpyLmZyb20ueCxvdXRlckhlaWdodDp1Lm91dGVySGVpZ2h0KnIuZnJvbS55LG91dGVyV2lkdGg6dS5vdXRlcldpZHRoKnIuZnJvbS54fSxlPXtoZWlnaHQ6dS5oZWlnaHQqci50by55LHdpZHRoOnUud2lkdGgqci50by54LG91dGVySGVpZ2h0OnUuaGVpZ2h0KnIudG8ueSxvdXRlcldpZHRoOnUud2lkdGgqci50by54fTtyLmZyb20ueSE9PXIudG8ueSYmKGY9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24oaSxzLHIuZnJvbS55LGYpLGU9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24oaSxzLHIudG8ueSxlKSk7ci5mcm9tLnghPT1yLnRvLngmJihmPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksaCxyLmZyb20ueCxmKSxlPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksaCxyLnRvLngsZSkpO3kmJm4uZWZmZWN0cy5zYXZlU3R5bGUoaSk7aS5jc3MoZik7aS5hbmltYXRlKGUsdC5kdXJhdGlvbix0LmVhc2luZyxmdW5jdGlvbigpe3kmJm4uZWZmZWN0cy5yZXN0b3JlU3R5bGUoaSl9KX0pKTt1LmFuaW1hdGUoZSx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgdD11Lm9mZnNldCgpOzA9PT1lLm9wYWNpdHkmJnUuY3NzKCJvcGFjaXR5IixmLm9wYWNpdHkpO3l8fCh1LmNzcygicG9zaXRpb24iLCJzdGF0aWMiPT09az8icmVsYXRpdmUiOmspLm9mZnNldCh0KSxuLmVmZmVjdHMuc2F2ZVN0eWxlKHUpKTtpKCl9fSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJzY2FsZSIsZnVuY3Rpb24odCxpKXt2YXIgdT1uKHRoaXMpLGY9dC5tb2RlLGU9cGFyc2VJbnQodC5wZXJjZW50LDEwKXx8KDA9PT1wYXJzZUludCh0LnBlcmNlbnQsMTApPzA6ImVmZmVjdCIhPT1mPzA6MTAwKSxyPW4uZXh0ZW5kKCEwLHtmcm9tOm4uZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKHUpLHRvOm4uZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKHUsZSx0LmRpcmVjdGlvbnx8ImJvdGgiKSxvcmlnaW46dC5vcmlnaW58fFsibWlkZGxlIiwiY2VudGVyIl19LHQpO3QuZmFkZSYmKHIuZnJvbS5vcGFjaXR5PTEsci50by5vcGFjaXR5PTApO24uZWZmZWN0cy5lZmZlY3Quc2l6ZS5jYWxsKHRoaXMscixpKX0pO24uZWZmZWN0cy5kZWZpbmUoInB1ZmYiLCJoaWRlIixmdW5jdGlvbih0LGkpe3ZhciByPW4uZXh0ZW5kKCEwLHt9LHQse2ZhZGU6ITAscGVyY2VudDpwYXJzZUludCh0LnBlcmNlbnQsMTApfHwxNTB9KTtuLmVmZmVjdHMuZWZmZWN0LnNjYWxlLmNhbGwodGhpcyxyLGkpfSk7bi5lZmZlY3RzLmRlZmluZSgicHVsc2F0ZSIsInNob3ciLGZ1bmN0aW9uKHQsaSl7dmFyIHI9bih0aGlzKSxlPXQubW9kZSxvPSJzaG93Ij09PWUsYz0iaGlkZSI9PT1lLGw9b3x8YyxmPTIqKHQudGltZXN8fDUpKyhsPzE6MCkscz10LmR1cmF0aW9uL2YsdT0wLGg9MSxhPXIucXVldWUoKS5sZW5ndGg7Zm9yKChvfHwhci5pcygiOnZpc2libGUiKSkmJihyLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLHU9MSk7Zj5oO2grKylyLmFuaW1hdGUoe29wYWNpdHk6dX0scyx0LmVhc2luZyksdT0xLXU7ci5hbmltYXRlKHtvcGFjaXR5OnV9LHMsdC5lYXNpbmcpO3IucXVldWUoaSk7bi5lZmZlY3RzLnVuc2hpZnQocixhLGYrMSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJzaGFrZSIsZnVuY3Rpb24odCxpKXt2YXIgbD0xLHI9bih0aGlzKSxmPXQuZGlyZWN0aW9ufHwibGVmdCIsZT10LmRpc3RhbmNlfHwyMCxhPXQudGltZXN8fDMsdj0yKmErMSx1PU1hdGgucm91bmQodC5kdXJhdGlvbi92KSxvPSJ1cCI9PT1mfHwiZG93biI9PT1mPyJ0b3AiOiJsZWZ0IixzPSJ1cCI9PT1mfHwibGVmdCI9PT1mLGg9e30sYz17fSx5PXt9LHA9ci5xdWV1ZSgpLmxlbmd0aDtmb3Iobi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHIpLGhbb109KHM/Ii09IjoiKz0iKStlLGNbb109KHM/Iis9IjoiLT0iKSsyKmUseVtvXT0ocz8iLT0iOiIrPSIpKzIqZSxyLmFuaW1hdGUoaCx1LHQuZWFzaW5nKTthPmw7bCsrKXIuYW5pbWF0ZShjLHUsdC5lYXNpbmcpLmFuaW1hdGUoeSx1LHQuZWFzaW5nKTtyLmFuaW1hdGUoYyx1LHQuZWFzaW5nKS5hbmltYXRlKGgsdS8yLHQuZWFzaW5nKS5xdWV1ZShpKTtuLmVmZmVjdHMudW5zaGlmdChyLHAsdisxKX0pO24uZWZmZWN0cy5kZWZpbmUoInNsaWRlIiwic2hvdyIsZnVuY3Rpb24odCxpKXt2YXIgcyxvLHU9bih0aGlzKSxoPXt1cDpbImJvdHRvbSIsInRvcCJdLGRvd246WyJ0b3AiLCJib3R0b20iXSxsZWZ0OlsicmlnaHQiLCJsZWZ0Il0scmlnaHQ6WyJsZWZ0IiwicmlnaHQiXX0sYz10Lm1vZGUsZj10LmRpcmVjdGlvbnx8ImxlZnQiLGU9InVwIj09PWZ8fCJkb3duIj09PWY/InRvcCI6ImxlZnQiLGw9InVwIj09PWZ8fCJsZWZ0Ij09PWYsYT10LmRpc3RhbmNlfHx1WyJ0b3AiPT09ZT8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oITApLHI9e307bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHUpO3M9dS5jc3NDbGlwKCk7bz11LnBvc2l0aW9uKClbZV07cltlXT0obD8tMToxKSphK287ci5jbGlwPXUuY3NzQ2xpcCgpO3IuY2xpcFtoW2ZdWzFdXT1yLmNsaXBbaFtmXVswXV07InNob3ciPT09YyYmKHUuY3NzQ2xpcChyLmNsaXApLHUuY3NzKGUscltlXSksci5jbGlwPXMscltlXT1vKTt1LmFuaW1hdGUocix7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi51aUJhY2tDb21wYXQhPT0hMSYmKHA9bi5lZmZlY3RzLmRlZmluZSgidHJhbnNmZXIiLGZ1bmN0aW9uKHQsaSl7bih0aGlzKS50cmFuc2Zlcih0LGkpfSkpO24udWkuZm9jdXNhYmxlPWZ1bmN0aW9uKHQsaSl7dmFyIHUsZixlLHIsbyxzPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iYXJlYSI9PT1zPyh1PXQucGFyZW50Tm9kZSxmPXUubmFtZSx0LmhyZWYmJmYmJiJtYXAiPT09dS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPyhlPW4oImltZ1t1c2VtYXA9JyMiK2YrIiddIiksZS5sZW5ndGg+MCYmZS5pcygiOnZpc2libGUiKSk6ITEpOigvXihpbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdCkkLy50ZXN0KHMpPyhyPSF0LmRpc2FibGVkLHImJihvPW4odCkuY2xvc2VzdCgiZmllbGRzZXQiKVswXSxvJiYocj0hby5kaXNhYmxlZCkpKTpyPSJhIj09PXM/dC5ocmVmfHxpOmksciYmbih0KS5pcygiOnZpc2libGUiKSYmYihuKHQpKSl9O24uZXh0ZW5kKG4uZXhwclsiOiJdLHtmb2N1c2FibGU6ZnVuY3Rpb24odCl7cmV0dXJuIG4udWkuZm9jdXNhYmxlKHQsbnVsbCE9bi5hdHRyKHQsInRhYmluZGV4IikpfX0pO24udWkuZm9jdXNhYmxlO24uZm4uZm9ybT1mdW5jdGlvbigpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdGhpc1swXS5mb3JtP3RoaXMuY2xvc2VzdCgiZm9ybSIpOm4odGhpc1swXS5mb3JtKX07bi51aS5mb3JtUmVzZXRNaXhpbj17X2Zvcm1SZXNldEhhbmRsZXI6ZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgaT10LmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIik7bi5lYWNoKGksZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0pfSl9LF9iaW5kRm9ybVJlc2V0SGFuZGxlcjpmdW5jdGlvbigpe2lmKHRoaXMuZm9ybT10aGlzLmVsZW1lbnQuZm9ybSgpLHRoaXMuZm9ybS5sZW5ndGgpe3ZhciBuPXRoaXMuZm9ybS5kYXRhKCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlcyIpfHxbXTtuLmxlbmd0aHx8dGhpcy5mb3JtLm9uKCJyZXNldC51aS1mb3JtLXJlc2V0Iix0aGlzLl9mb3JtUmVzZXRIYW5kbGVyKTtuLnB1c2godGhpcyk7dGhpcy5mb3JtLmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIixuKX19LF91bmJpbmRGb3JtUmVzZXRIYW5kbGVyOmZ1bmN0aW9uKCl7aWYodGhpcy5mb3JtLmxlbmd0aCl7dmFyIHQ9dGhpcy5mb3JtLmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIik7dC5zcGxpY2Uobi5pbkFycmF5KHRoaXMsdCksMSk7dC5sZW5ndGg/dGhpcy5mb3JtLmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIix0KTp0aGlzLmZvcm0ucmVtb3ZlRGF0YSgidWktZm9ybS1yZXNldC1pbnN0YW5jZXMiKS5vZmYoInJlc2V0LnVpLWZvcm0tcmVzZXQiKX19fTsiMS43Ij09PW4uZm4uanF1ZXJ5LnN1YnN0cmluZygwLDMpJiYobi5lYWNoKFsiV2lkdGgiLCJIZWlnaHQiXSxmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIHIodCxpLHIsdSl7cmV0dXJuIG4uZWFjaChlLGZ1bmN0aW9uKCl7aS09cGFyc2VGbG9hdChuLmNzcyh0LCJwYWRkaW5nIit0aGlzKSl8fDA7ciYmKGktPXBhcnNlRmxvYXQobi5jc3ModCwiYm9yZGVyIit0aGlzKyJXaWR0aCIpKXx8MCk7dSYmKGktPXBhcnNlRmxvYXQobi5jc3ModCwibWFyZ2luIit0aGlzKSl8fDApfSksaX12YXIgZT0iV2lkdGgiPT09aT9bIkxlZnQiLCJSaWdodCJdOlsiVG9wIiwiQm90dG9tIl0sdT1pLnRvTG93ZXJDYXNlKCksZj17aW5uZXJXaWR0aDpuLmZuLmlubmVyV2lkdGgsaW5uZXJIZWlnaHQ6bi5mbi5pbm5lckhlaWdodCxvdXRlcldpZHRoOm4uZm4ub3V0ZXJXaWR0aCxvdXRlckhlaWdodDpuLmZuLm91dGVySGVpZ2h0fTtuLmZuWyJpbm5lciIraV09ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQ/ZlsiaW5uZXIiK2ldLmNhbGwodGhpcyk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5jc3ModSxyKHRoaXMsdCkrInB4Iil9KX07bi5mblsib3V0ZXIiK2ldPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIm51bWJlciIhPXR5cGVvZiB0P2ZbIm91dGVyIitpXS5jYWxsKHRoaXMsdCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5jc3ModSxyKHRoaXMsdCwhMCxlKSsicHgiKX0pfX0pLG4uZm4uYWRkQmFjaz1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09bj90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihuKSl9KTtuLnVpLmtleUNvZGU9e0JBQ0tTUEFDRTo4LENPTU1BOjE4OCxERUxFVEU6NDYsRE9XTjo0MCxFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LEhPTUU6MzYsTEVGVDozNyxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNQQUNFOjMyLFRBQjo5LFVQOjM4fTtuLnVpLmVzY2FwZVNlbGVjdG9yPWZ1bmN0aW9uKCl7dmFyIG49LyhbISIjJCUmJygpKissLlwvOjs8PT4/QFtcXV5ge3x9fl0pL2c7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UobiwiXFwkMSIpfX0oKTtuLmZuLmxhYmVscz1mdW5jdGlvbigpe3ZhciB0LHIsdSxpLGY7cmV0dXJuIHRoaXNbMF0ubGFiZWxzJiZ0aGlzWzBdLmxhYmVscy5sZW5ndGg/dGhpcy5wdXNoU3RhY2sodGhpc1swXS5sYWJlbHMpOihpPXRoaXMuZXEoMCkucGFyZW50cygibGFiZWwiKSx1PXRoaXMuYXR0cigiaWQiKSx1JiYodD10aGlzLmVxKDApLnBhcmVudHMoKS5sYXN0KCksZj10LmFkZCh0Lmxlbmd0aD90LnNpYmxpbmdzKCk6dGhpcy5zaWJsaW5ncygpKSxyPSJsYWJlbFtmb3I9JyIrbi51aS5lc2NhcGVTZWxlY3Rvcih1KSsiJ10iLGk9aS5hZGQoZi5maW5kKHIpLmFkZEJhY2socikpKSx0aGlzLnB1c2hTdGFjayhpKSl9O24uZm4uc2Nyb2xsUGFyZW50PWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuY3NzKCJwb3NpdGlvbiIpLHU9ImFic29sdXRlIj09PWksZj10Py8oYXV0b3xzY3JvbGx8aGlkZGVuKS86LyhhdXRvfHNjcm9sbCkvLHI9dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtyZXR1cm4gdSYmInN0YXRpYyI9PT10LmNzcygicG9zaXRpb24iKT8hMTpmLnRlc3QodC5jc3MoIm92ZXJmbG93IikrdC5jc3MoIm92ZXJmbG93LXkiKSt0LmNzcygib3ZlcmZsb3cteCIpKX0pLmVxKDApO3JldHVybiJmaXhlZCIhPT1pJiZyLmxlbmd0aD9yOm4odGhpc1swXS5vd25lckRvY3VtZW50fHxkb2N1bWVudCl9O24uZXh0ZW5kKG4uZXhwclsiOiJdLHt0YWJiYWJsZTpmdW5jdGlvbih0KXt2YXIgaT1uLmF0dHIodCwidGFiaW5kZXgiKSxyPW51bGwhPWk7cmV0dXJuKCFyfHxpPj0wKSYmbi51aS5mb2N1c2FibGUodCxyKX19KTtuLmZuLmV4dGVuZCh7dW5pcXVlSWQ6ZnVuY3Rpb24oKXt2YXIgbj0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmlkfHwodGhpcy5pZD0idWktaWQtIisgKytuKX0pfX0oKSxyZW1vdmVVbmlxdWVJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsvXnVpLWlkLVxkKyQvLnRlc3QodGhpcy5pZCkmJm4odGhpcykucmVtb3ZlQXR0cigiaWQiKX0pfX0pO24ud2lkZ2V0KCJ1aS5hY2NvcmRpb24iLHt2ZXJzaW9uOiIxLjEyLjEiLG9wdGlvbnM6e2FjdGl2ZTowLGFuaW1hdGU6e30sY2xhc3Nlczp7InVpLWFjY29yZGlvbi1oZWFkZXIiOiJ1aS1jb3JuZXItdG9wIiwidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiOiJ1aS1jb3JuZXItYWxsIiwidWktYWNjb3JkaW9uLWNvbnRlbnQiOiJ1aS1jb3JuZXItYm90dG9tIn0sY29sbGFwc2libGU6ITEsZXZlbnQ6ImNsaWNrIixoZWFkZXI6Ij4gbGkgPiA6Zmlyc3QtY2hpbGQsID4gOm5vdChsaSk6ZXZlbiIsaGVpZ2h0U3R5bGU6ImF1dG8iLGljb25zOnthY3RpdmVIZWFkZXI6InVpLWljb24tdHJpYW5nbGUtMS1zIixoZWFkZXI6InVpLWljb24tdHJpYW5nbGUtMS1lIn0sYWN0aXZhdGU6bnVsbCxiZWZvcmVBY3RpdmF0ZTpudWxsfSxoaWRlUHJvcHM6e2JvcmRlclRvcFdpZHRoOiJoaWRlIixib3JkZXJCb3R0b21XaWR0aDoiaGlkZSIscGFkZGluZ1RvcDoiaGlkZSIscGFkZGluZ0JvdHRvbToiaGlkZSIsaGVpZ2h0OiJoaWRlIn0sc2hvd1Byb3BzOntib3JkZXJUb3BXaWR0aDoic2hvdyIsYm9yZGVyQm90dG9tV2lkdGg6InNob3ciLHBhZGRpbmdUb3A6InNob3ciLHBhZGRpbmdCb3R0b206InNob3ciLGhlaWdodDoic2hvdyJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7dGhpcy5wcmV2U2hvdz10aGlzLnByZXZIaWRlPW4oKTt0aGlzLl9hZGRDbGFzcygidWktYWNjb3JkaW9uIiwidWktd2lkZ2V0IHVpLWhlbHBlci1yZXNldCIpO3RoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwidGFibGlzdCIpO3QuY29sbGFwc2libGV8fHQuYWN0aXZlIT09ITEmJm51bGwhPXQuYWN0aXZlfHwodC5hY3RpdmU9MCk7dGhpcy5fcHJvY2Vzc1BhbmVscygpOzA+dC5hY3RpdmUmJih0LmFjdGl2ZSs9dGhpcy5oZWFkZXJzLmxlbmd0aCk7dGhpcy5fcmVmcmVzaCgpfSxfZ2V0Q3JlYXRlRXZlbnREYXRhOmZ1bmN0aW9uKCl7cmV0dXJue2hlYWRlcjp0aGlzLmFjdGl2ZSxwYW5lbDp0aGlzLmFjdGl2ZS5sZW5ndGg/dGhpcy5hY3RpdmUubmV4dCgpOm4oKX19LF9jcmVhdGVJY29uczpmdW5jdGlvbigpe3ZhciBpLHIsdD10aGlzLm9wdGlvbnMuaWNvbnM7dCYmKGk9bigiPHNwYW4+IiksdGhpcy5fYWRkQ2xhc3MoaSwidWktYWNjb3JkaW9uLWhlYWRlci1pY29uIiwidWktaWNvbiAiK3QuaGVhZGVyKSxpLnByZXBlbmRUbyh0aGlzLmhlYWRlcnMpLHI9dGhpcy5hY3RpdmUuY2hpbGRyZW4oIi51aS1hY2NvcmRpb24taGVhZGVyLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhyLHQuaGVhZGVyKS5fYWRkQ2xhc3MocixudWxsLHQuYWN0aXZlSGVhZGVyKS5fYWRkQ2xhc3ModGhpcy5oZWFkZXJzLCJ1aS1hY2NvcmRpb24taWNvbnMiKSl9LF9kZXN0cm95SWNvbnM6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhlYWRlcnMsInVpLWFjY29yZGlvbi1pY29ucyIpO3RoaXMuaGVhZGVycy5jaGlsZHJlbigiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvbiIpLnJlbW92ZSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBuO3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJyb2xlIik7dGhpcy5oZWFkZXJzLnJlbW92ZUF0dHIoInJvbGUgYXJpYS1leHBhbmRlZCBhcmlhLXNlbGVjdGVkIGFyaWEtY29udHJvbHMgdGFiSW5kZXgiKS5yZW1vdmVVbmlxdWVJZCgpO3RoaXMuX2Rlc3Ryb3lJY29ucygpO249dGhpcy5oZWFkZXJzLm5leHQoKS5jc3MoImRpc3BsYXkiLCIiKS5yZW1vdmVBdHRyKCJyb2xlIGFyaWEtaGlkZGVuIGFyaWEtbGFiZWxsZWRieSIpLnJlbW92ZVVuaXF1ZUlkKCk7ImNvbnRlbnQiIT09dGhpcy5vcHRpb25zLmhlaWdodFN0eWxlJiZuLmNzcygiaGVpZ2h0IiwiIil9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtyZXR1cm4iYWN0aXZlIj09PW4/KHRoaXMuX2FjdGl2YXRlKHQpLHZvaWQgMCk6KCJldmVudCI9PT1uJiYodGhpcy5vcHRpb25zLmV2ZW50JiZ0aGlzLl9vZmYodGhpcy5oZWFkZXJzLHRoaXMub3B0aW9ucy5ldmVudCksdGhpcy5fc2V0dXBFdmVudHModCkpLHRoaXMuX3N1cGVyKG4sdCksImNvbGxhcHNpYmxlIiE9PW58fHR8fHRoaXMub3B0aW9ucy5hY3RpdmUhPT0hMXx8dGhpcy5fYWN0aXZhdGUoMCksImljb25zIj09PW4mJih0aGlzLl9kZXN0cm95SWNvbnMoKSx0JiZ0aGlzLl9jcmVhdGVJY29ucygpKSx2b2lkIDApfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5lbGVtZW50LmF0dHIoImFyaWEtZGlzYWJsZWQiLG4pO3RoaXMuX3RvZ2dsZUNsYXNzKG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIW4pO3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMuaGVhZGVycy5hZGQodGhpcy5oZWFkZXJzLm5leHQoKSksbnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhbil9LF9rZXlkb3duOmZ1bmN0aW9uKHQpe2lmKCF0LmFsdEtleSYmIXQuY3RybEtleSl7dmFyIGk9bi51aS5rZXlDb2RlLHU9dGhpcy5oZWFkZXJzLmxlbmd0aCxmPXRoaXMuaGVhZGVycy5pbmRleCh0LnRhcmdldCkscj0hMTtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIGkuUklHSFQ6Y2FzZSBpLkRPV046cj10aGlzLmhlYWRlcnNbKGYrMSkldV07YnJlYWs7Y2FzZSBpLkxFRlQ6Y2FzZSBpLlVQOnI9dGhpcy5oZWFkZXJzWyhmLTErdSkldV07YnJlYWs7Y2FzZSBpLlNQQUNFOmNhc2UgaS5FTlRFUjp0aGlzLl9ldmVudEhhbmRsZXIodCk7YnJlYWs7Y2FzZSBpLkhPTUU6cj10aGlzLmhlYWRlcnNbMF07YnJlYWs7Y2FzZSBpLkVORDpyPXRoaXMuaGVhZGVyc1t1LTFdfXImJihuKHQudGFyZ2V0KS5hdHRyKCJ0YWJJbmRleCIsLTEpLG4ocikuYXR0cigidGFiSW5kZXgiLDApLG4ocikudHJpZ2dlcigiZm9jdXMiKSx0LnByZXZlbnREZWZhdWx0KCkpfX0sX3BhbmVsS2V5RG93bjpmdW5jdGlvbih0KXt0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuVVAmJnQuY3RybEtleSYmbih0LmN1cnJlbnRUYXJnZXQpLnByZXYoKS50cmlnZ2VyKCJmb2N1cyIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3RoaXMuX3Byb2Nlc3NQYW5lbHMoKTt0LmFjdGl2ZT09PSExJiZ0LmNvbGxhcHNpYmxlPT09ITB8fCF0aGlzLmhlYWRlcnMubGVuZ3RoPyh0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpOnQuYWN0aXZlPT09ITE/dGhpcy5fYWN0aXZhdGUoMCk6dGhpcy5hY3RpdmUubGVuZ3RoJiYhbi5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sdGhpcy5hY3RpdmVbMF0pP3RoaXMuaGVhZGVycy5sZW5ndGg9PT10aGlzLmhlYWRlcnMuZmluZCgiLnVpLXN0YXRlLWRpc2FibGVkIikubGVuZ3RoPyh0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpOnRoaXMuX2FjdGl2YXRlKE1hdGgubWF4KDAsdC5hY3RpdmUtMSkpOnQuYWN0aXZlPXRoaXMuaGVhZGVycy5pbmRleCh0aGlzLmFjdGl2ZSk7dGhpcy5fZGVzdHJveUljb25zKCk7dGhpcy5fcmVmcmVzaCgpfSxfcHJvY2Vzc1BhbmVsczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuaGVhZGVycyxuPXRoaXMucGFuZWxzO3RoaXMuaGVhZGVycz10aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaGVhZGVyKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmhlYWRlcnMsInVpLWFjY29yZGlvbi1oZWFkZXIgdWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiLCJ1aS1zdGF0ZS1kZWZhdWx0Iik7dGhpcy5wYW5lbHM9dGhpcy5oZWFkZXJzLm5leHQoKS5maWx0ZXIoIjpub3QoLnVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSkiKS5oaWRlKCk7dGhpcy5fYWRkQ2xhc3ModGhpcy5wYW5lbHMsInVpLWFjY29yZGlvbi1jb250ZW50IiwidWktaGVscGVyLXJlc2V0IHVpLXdpZGdldC1jb250ZW50Iik7biYmKHRoaXMuX29mZih0Lm5vdCh0aGlzLmhlYWRlcnMpKSx0aGlzLl9vZmYobi5ub3QodGhpcy5wYW5lbHMpKSl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLm9wdGlvbnMscj1pLmhlaWdodFN0eWxlLHU9dGhpcy5lbGVtZW50LnBhcmVudCgpO3RoaXMuYWN0aXZlPXRoaXMuX2ZpbmRBY3RpdmUoaS5hY3RpdmUpO3RoaXMuX2FkZENsYXNzKHRoaXMuYWN0aXZlLCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLl9yZW1vdmVDbGFzcyh0aGlzLmFjdGl2ZSwidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmFjdGl2ZS5uZXh0KCksInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSIpO3RoaXMuYWN0aXZlLm5leHQoKS5zaG93KCk7dGhpcy5oZWFkZXJzLmF0dHIoInJvbGUiLCJ0YWIiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKSxyPXQudW5pcXVlSWQoKS5hdHRyKCJpZCIpLGk9dC5uZXh0KCksdT1pLnVuaXF1ZUlkKCkuYXR0cigiaWQiKTt0LmF0dHIoImFyaWEtY29udHJvbHMiLHUpO2kuYXR0cigiYXJpYS1sYWJlbGxlZGJ5IixyKX0pLm5leHQoKS5hdHRyKCJyb2xlIiwidGFicGFuZWwiKTt0aGlzLmhlYWRlcnMubm90KHRoaXMuYWN0aXZlKS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIix0YWJJbmRleDotMX0pLm5leHQoKS5hdHRyKHsiYXJpYS1oaWRkZW4iOiJ0cnVlIn0pLmhpZGUoKTt0aGlzLmFjdGl2ZS5sZW5ndGg/dGhpcy5hY3RpdmUuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJ0cnVlIiwiYXJpYS1leHBhbmRlZCI6InRydWUiLHRhYkluZGV4OjB9KS5uZXh0KCkuYXR0cih7ImFyaWEtaGlkZGVuIjoiZmFsc2UifSk6dGhpcy5oZWFkZXJzLmVxKDApLmF0dHIoInRhYkluZGV4IiwwKTt0aGlzLl9jcmVhdGVJY29ucygpO3RoaXMuX3NldHVwRXZlbnRzKGkuZXZlbnQpOyJmaWxsIj09PXI/KHQ9dS5oZWlnaHQoKSx0aGlzLmVsZW1lbnQuc2libGluZ3MoIjp2aXNpYmxlIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykscj1pLmNzcygicG9zaXRpb24iKTsiYWJzb2x1dGUiIT09ciYmImZpeGVkIiE9PXImJih0LT1pLm91dGVySGVpZ2h0KCEwKSl9KSx0aGlzLmhlYWRlcnMuZWFjaChmdW5jdGlvbigpe3QtPW4odGhpcykub3V0ZXJIZWlnaHQoITApfSksdGhpcy5oZWFkZXJzLm5leHQoKS5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5oZWlnaHQoTWF0aC5tYXgoMCx0LW4odGhpcykuaW5uZXJIZWlnaHQoKStuKHRoaXMpLmhlaWdodCgpKSl9KS5jc3MoIm92ZXJmbG93IiwiYXV0byIpKToiYXV0byI9PT1yJiYodD0wLHRoaXMuaGVhZGVycy5uZXh0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykuaXMoIjp2aXNpYmxlIik7aXx8bih0aGlzKS5zaG93KCk7dD1NYXRoLm1heCh0LG4odGhpcykuY3NzKCJoZWlnaHQiLCIiKS5oZWlnaHQoKSk7aXx8bih0aGlzKS5oaWRlKCl9KS5oZWlnaHQodCkpfSxfYWN0aXZhdGU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fZmluZEFjdGl2ZSh0KVswXTtpIT09dGhpcy5hY3RpdmVbMF0mJihpPWl8fHRoaXMuYWN0aXZlWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OmksY3VycmVudFRhcmdldDppLHByZXZlbnREZWZhdWx0Om4ubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24odCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0P3RoaXMuaGVhZGVycy5lcSh0KTpuKCl9LF9zZXR1cEV2ZW50czpmdW5jdGlvbih0KXt2YXIgaT17a2V5ZG93bjoiX2tleWRvd24ifTt0JiZuLmVhY2godC5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7aVt0XT0iX2V2ZW50SGFuZGxlciJ9KTt0aGlzLl9vZmYodGhpcy5oZWFkZXJzLmFkZCh0aGlzLmhlYWRlcnMubmV4dCgpKSk7dGhpcy5fb24odGhpcy5oZWFkZXJzLGkpO3RoaXMuX29uKHRoaXMuaGVhZGVycy5uZXh0KCkse2tleWRvd246Il9wYW5lbEtleURvd24ifSk7dGhpcy5faG92ZXJhYmxlKHRoaXMuaGVhZGVycyk7dGhpcy5fZm9jdXNhYmxlKHRoaXMuaGVhZGVycyl9LF9ldmVudEhhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGUsbyxpPXRoaXMub3B0aW9ucyx1PXRoaXMuYWN0aXZlLHI9bih0LmN1cnJlbnRUYXJnZXQpLGY9clswXT09PXVbMF0scz1mJiZpLmNvbGxhcHNpYmxlLGM9cz9uKCk6ci5uZXh0KCksbD11Lm5leHQoKSxoPXtvbGRIZWFkZXI6dSxvbGRQYW5lbDpsLG5ld0hlYWRlcjpzP24oKTpyLG5ld1BhbmVsOmN9O3QucHJldmVudERlZmF1bHQoKTtmJiYhaS5jb2xsYXBzaWJsZXx8dGhpcy5fdHJpZ2dlcigiYmVmb3JlQWN0aXZhdGUiLHQsaCk9PT0hMXx8KGkuYWN0aXZlPXM/ITE6dGhpcy5oZWFkZXJzLmluZGV4KHIpLHRoaXMuYWN0aXZlPWY/bigpOnIsdGhpcy5fdG9nZ2xlKGgpLHRoaXMuX3JlbW92ZUNsYXNzKHUsInVpLWFjY29yZGlvbi1oZWFkZXItYWN0aXZlIiwidWktc3RhdGUtYWN0aXZlIiksaS5pY29ucyYmKGU9dS5jaGlsZHJlbigiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvbiIpLHRoaXMuX3JlbW92ZUNsYXNzKGUsbnVsbCxpLmljb25zLmFjdGl2ZUhlYWRlcikuX2FkZENsYXNzKGUsbnVsbCxpLmljb25zLmhlYWRlcikpLGZ8fCh0aGlzLl9yZW1vdmVDbGFzcyhyLCJ1aS1hY2NvcmRpb24taGVhZGVyLWNvbGxhcHNlZCIpLl9hZGRDbGFzcyhyLCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLGkuaWNvbnMmJihvPXIuY2hpbGRyZW4oIi51aS1hY2NvcmRpb24taGVhZGVyLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhvLG51bGwsaS5pY29ucy5oZWFkZXIpLl9hZGRDbGFzcyhvLG51bGwsaS5pY29ucy5hY3RpdmVIZWFkZXIpKSx0aGlzLl9hZGRDbGFzcyhyLm5leHQoKSwidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlIikpKX0sX3RvZ2dsZTpmdW5jdGlvbih0KXt2YXIgcj10Lm5ld1BhbmVsLGk9dGhpcy5wcmV2U2hvdy5sZW5ndGg/dGhpcy5wcmV2U2hvdzp0Lm9sZFBhbmVsO3RoaXMucHJldlNob3cuYWRkKHRoaXMucHJldkhpZGUpLnN0b3AoITAsITApO3RoaXMucHJldlNob3c9cjt0aGlzLnByZXZIaWRlPWk7dGhpcy5vcHRpb25zLmFuaW1hdGU/dGhpcy5fYW5pbWF0ZShyLGksdCk6KGkuaGlkZSgpLHIuc2hvdygpLHRoaXMuX3RvZ2dsZUNvbXBsZXRlKHQpKTtpLmF0dHIoeyJhcmlhLWhpZGRlbiI6InRydWUifSk7aS5wcmV2KCkuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJmYWxzZSIsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSJ9KTtyLmxlbmd0aCYmaS5sZW5ndGg/aS5wcmV2KCkuYXR0cih7dGFiSW5kZXg6LTEsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSJ9KTpyLmxlbmd0aCYmdGhpcy5oZWFkZXJzLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAwPT09cGFyc2VJbnQobih0aGlzKS5hdHRyKCJ0YWJJbmRleCIpLDEwKX0pLmF0dHIoInRhYkluZGV4IiwtMSk7ci5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIikucHJldigpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJ0cnVlIix0YWJJbmRleDowfSl9LF9hbmltYXRlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgaCxyLHUsYz10aGlzLG89MCxsPW4uY3NzKCJib3gtc2l6aW5nIiksYT1uLmxlbmd0aCYmKCF0Lmxlbmd0aHx8bi5pbmRleCgpPHQuaW5kZXgoKSksZT10aGlzLm9wdGlvbnMuYW5pbWF0ZXx8e30sZj1hJiZlLmRvd258fGUscz1mdW5jdGlvbigpe2MuX3RvZ2dsZUNvbXBsZXRlKGkpfTtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGYmJih1PWYpLCJzdHJpbmciPT10eXBlb2YgZiYmKHI9Zikscj1yfHxmLmVhc2luZ3x8ZS5lYXNpbmcsdT11fHxmLmR1cmF0aW9ufHxlLmR1cmF0aW9uLHQubGVuZ3RoP24ubGVuZ3RoPyhoPW4uc2hvdygpLm91dGVySGVpZ2h0KCksdC5hbmltYXRlKHRoaXMuaGlkZVByb3BzLHtkdXJhdGlvbjp1LGVhc2luZzpyLHN0ZXA6ZnVuY3Rpb24obix0KXt0Lm5vdz1NYXRoLnJvdW5kKG4pfX0pLG4uaGlkZSgpLmFuaW1hdGUodGhpcy5zaG93UHJvcHMse2R1cmF0aW9uOnUsZWFzaW5nOnIsY29tcGxldGU6cyxzdGVwOmZ1bmN0aW9uKG4saSl7aS5ub3c9TWF0aC5yb3VuZChuKTsiaGVpZ2h0IiE9PWkucHJvcD8iY29udGVudC1ib3giPT09bCYmKG8rPWkubm93KToiY29udGVudCIhPT1jLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJihpLm5vdz1NYXRoLnJvdW5kKGgtdC5vdXRlckhlaWdodCgpLW8pLG89MCl9fSksdm9pZCAwKTp0LmFuaW1hdGUodGhpcy5oaWRlUHJvcHMsdSxyLHMpOm4uYW5pbWF0ZSh0aGlzLnNob3dQcm9wcyx1LHIscyl9LF90b2dnbGVDb21wbGV0ZTpmdW5jdGlvbihuKXt2YXIgdD1uLm9sZFBhbmVsLGk9dC5wcmV2KCk7dGhpcy5fcmVtb3ZlQ2xhc3ModCwidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlIik7dGhpcy5fcmVtb3ZlQ2xhc3MoaSwidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUiKS5fYWRkQ2xhc3MoaSwidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiKTt0Lmxlbmd0aCYmKHQucGFyZW50KClbMF0uY2xhc3NOYW1lPXQucGFyZW50KClbMF0uY2xhc3NOYW1lKTt0aGlzLl90cmlnZ2VyKCJhY3RpdmF0ZSIsbnVsbCxuKX19KTtuLnVpLnNhZmVBY3RpdmVFbGVtZW50PWZ1bmN0aW9uKG4pe3ZhciB0O3RyeXt0PW4uYWN0aXZlRWxlbWVudH1jYXRjaChpKXt0PW4uYm9keX1yZXR1cm4gdHx8KHQ9bi5ib2R5KSx0Lm5vZGVOYW1lfHwodD1uLmJvZHkpLHR9O24ud2lkZ2V0KCJ1aS5tZW51Iix7dmVyc2lvbjoiMS4xMi4xIixkZWZhdWx0RWxlbWVudDoiPHVsPiIsZGVsYXk6MzAwLG9wdGlvbnM6e2ljb25zOntzdWJtZW51OiJ1aS1pY29uLWNhcmV0LTEtZSJ9LGl0ZW1zOiI+ICoiLG1lbnVzOiJ1bCIscG9zaXRpb246e215OiJsZWZ0IHRvcCIsYXQ6InJpZ2h0IHRvcCJ9LHJvbGU6Im1lbnUiLGJsdXI6bnVsbCxmb2N1czpudWxsLHNlbGVjdDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5hY3RpdmVNZW51PXRoaXMuZWxlbWVudDt0aGlzLm1vdXNlSGFuZGxlZD0hMTt0aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKHtyb2xlOnRoaXMub3B0aW9ucy5yb2xlLHRhYkluZGV4OjB9KTt0aGlzLl9hZGRDbGFzcygidWktbWVudSIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpO3RoaXMuX29uKHsibW91c2Vkb3duIC51aS1tZW51LWl0ZW0iOmZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX0sImNsaWNrIC51aS1tZW51LWl0ZW0iOmZ1bmN0aW9uKHQpe3ZhciBpPW4odC50YXJnZXQpLHI9bihuLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pKTshdGhpcy5tb3VzZUhhbmRsZWQmJmkubm90KCIudWktc3RhdGUtZGlzYWJsZWQiKS5sZW5ndGgmJih0aGlzLnNlbGVjdCh0KSx0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCl8fCh0aGlzLm1vdXNlSGFuZGxlZD0hMCksaS5oYXMoIi51aS1tZW51IikubGVuZ3RoP3RoaXMuZXhwYW5kKHQpOiF0aGlzLmVsZW1lbnQuaXMoIjpmb2N1cyIpJiZyLmNsb3Nlc3QoIi51aS1tZW51IikubGVuZ3RoJiYodGhpcy5lbGVtZW50LnRyaWdnZXIoImZvY3VzIixbITBdKSx0aGlzLmFjdGl2ZSYmMT09PXRoaXMuYWN0aXZlLnBhcmVudHMoIi51aS1tZW51IikubGVuZ3RoJiZjbGVhclRpbWVvdXQodGhpcy50aW1lcikpKX0sIm1vdXNlZW50ZXIgLnVpLW1lbnUtaXRlbSI6ZnVuY3Rpb24odCl7aWYoIXRoaXMucHJldmlvdXNGaWx0ZXIpe3ZhciByPW4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1tZW51LWl0ZW0iKSxpPW4odC5jdXJyZW50VGFyZ2V0KTtyWzBdPT09aVswXSYmKHRoaXMuX3JlbW92ZUNsYXNzKGkuc2libGluZ3MoKS5jaGlsZHJlbigiLnVpLXN0YXRlLWFjdGl2ZSIpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuZm9jdXModCxpKSl9fSxtb3VzZWxlYXZlOiJjb2xsYXBzZUFsbCIsIm1vdXNlbGVhdmUgLnVpLW1lbnUiOiJjb2xsYXBzZUFsbCIsZm9jdXM6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLmFjdGl2ZXx8dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKS5lcSgwKTt0fHx0aGlzLmZvY3VzKG4saSl9LGJsdXI6ZnVuY3Rpb24odCl7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt2YXIgaT0hbi5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sbi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSk7aSYmdGhpcy5jb2xsYXBzZUFsbCh0KX0pfSxrZXlkb3duOiJfa2V5ZG93biJ9KTt0aGlzLnJlZnJlc2goKTt0aGlzLl9vbih0aGlzLmRvY3VtZW50LHtjbGljazpmdW5jdGlvbihuKXt0aGlzLl9jbG9zZU9uRG9jdW1lbnRDbGljayhuKSYmdGhpcy5jb2xsYXBzZUFsbChuKTt0aGlzLm1vdXNlSGFuZGxlZD0hMX19KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUtaXRlbSIpLnJlbW92ZUF0dHIoInJvbGUgYXJpYS1kaXNhYmxlZCIpLGk9dC5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbS13cmFwcGVyIikucmVtb3ZlVW5pcXVlSWQoKS5yZW1vdmVBdHRyKCJ0YWJJbmRleCByb2xlIGFyaWEtaGFzcG9wdXAiKTt0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IikuZmluZCgiLnVpLW1lbnUiKS5hZGRCYWNrKCkucmVtb3ZlQXR0cigicm9sZSBhcmlhLWxhYmVsbGVkYnkgYXJpYS1leHBhbmRlZCBhcmlhLWhpZGRlbiBhcmlhLWRpc2FibGVkIHRhYkluZGV4IikucmVtb3ZlVW5pcXVlSWQoKS5zaG93KCk7aS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3QuZGF0YSgidWktbWVudS1zdWJtZW51LWNhcmV0IikmJnQucmVtb3ZlKCl9KX0sX2tleWRvd246ZnVuY3Rpb24odCl7dmFyIGksdSxyLGYsZT0hMDtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5QQUdFX1VQOnRoaXMucHJldmlvdXNQYWdlKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlBBR0VfRE9XTjp0aGlzLm5leHRQYWdlKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkhPTUU6dGhpcy5fbW92ZSgiZmlyc3QiLCJmaXJzdCIsdCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRU5EOnRoaXMuX21vdmUoImxhc3QiLCJsYXN0Iix0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5VUDp0aGlzLnByZXZpb3VzKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkRPV046dGhpcy5uZXh0KHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkxFRlQ6dGhpcy5jb2xsYXBzZSh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5SSUdIVDp0aGlzLmFjdGl2ZSYmIXRoaXMuYWN0aXZlLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5leHBhbmQodCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRU5URVI6Y2FzZSBuLnVpLmtleUNvZGUuU1BBQ0U6dGhpcy5fYWN0aXZhdGUodCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRVNDQVBFOnRoaXMuY29sbGFwc2UodCk7YnJlYWs7ZGVmYXVsdDplPSExO3U9dGhpcy5wcmV2aW91c0ZpbHRlcnx8IiI7Zj0hMTtyPXQua2V5Q29kZT49OTYmJjEwNT49dC5rZXlDb2RlPyIiKyh0LmtleUNvZGUtOTYpOlN0cmluZy5mcm9tQ2hhckNvZGUodC5rZXlDb2RlKTtjbGVhclRpbWVvdXQodGhpcy5maWx0ZXJUaW1lcik7cj09PXU/Zj0hMDpyPXUrcjtpPXRoaXMuX2ZpbHRlck1lbnVJdGVtcyhyKTtpPWYmJi0xIT09aS5pbmRleCh0aGlzLmFjdGl2ZS5uZXh0KCkpP3RoaXMuYWN0aXZlLm5leHRBbGwoIi51aS1tZW51LWl0ZW0iKTppO2kubGVuZ3RofHwocj1TdHJpbmcuZnJvbUNoYXJDb2RlKHQua2V5Q29kZSksaT10aGlzLl9maWx0ZXJNZW51SXRlbXMocikpO2kubGVuZ3RoPyh0aGlzLmZvY3VzKHQsaSksdGhpcy5wcmV2aW91c0ZpbHRlcj1yLHRoaXMuZmlsdGVyVGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5wcmV2aW91c0ZpbHRlcn0sMWUzKSk6ZGVsZXRlIHRoaXMucHJldmlvdXNGaWx0ZXJ9ZSYmdC5wcmV2ZW50RGVmYXVsdCgpfSxfYWN0aXZhdGU6ZnVuY3Rpb24obil7dGhpcy5hY3RpdmUmJiF0aGlzLmFjdGl2ZS5pcygiLnVpLXN0YXRlLWRpc2FibGVkIikmJih0aGlzLmFjdGl2ZS5jaGlsZHJlbigiW2FyaWEtaGFzcG9wdXA9J3RydWUnXSIpLmxlbmd0aD90aGlzLmV4cGFuZChuKTp0aGlzLnNlbGVjdChuKSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdSx0LGYsaSxlLHI9dGhpcyxzPXRoaXMub3B0aW9ucy5pY29ucy5zdWJtZW51LG89dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLm1lbnVzKTt0aGlzLl90b2dnbGVDbGFzcygidWktbWVudS1pY29ucyIsbnVsbCwhIXRoaXMuZWxlbWVudC5maW5kKCIudWktaWNvbiIpLmxlbmd0aCk7Zj1vLmZpbHRlcigiOm5vdCgudWktbWVudSkiKS5oaWRlKCkuYXR0cih7cm9sZTp0aGlzLm9wdGlvbnMucm9sZSwiYXJpYS1oaWRkZW4iOiJ0cnVlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIn0pLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLGk9dC5wcmV2KCksdT1uKCI8c3Bhbj4iKS5kYXRhKCJ1aS1tZW51LXN1Ym1lbnUtY2FyZXQiLCEwKTtyLl9hZGRDbGFzcyh1LCJ1aS1tZW51LWljb24iLCJ1aS1pY29uICIrcyk7aS5hdHRyKCJhcmlhLWhhc3BvcHVwIiwidHJ1ZSIpLnByZXBlbmQodSk7dC5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiLGkuYXR0cigiaWQiKSl9KTt0aGlzLl9hZGRDbGFzcyhmLCJ1aS1tZW51IiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWZyb250Iik7dT1vLmFkZCh0aGlzLmVsZW1lbnQpO3Q9dS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcyk7dC5ub3QoIi51aS1tZW51LWl0ZW0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtyLl9pc0RpdmlkZXIodCkmJnIuX2FkZENsYXNzKHQsInVpLW1lbnUtZGl2aWRlciIsInVpLXdpZGdldC1jb250ZW50Iil9KTtpPXQubm90KCIudWktbWVudS1pdGVtLCAudWktbWVudS1kaXZpZGVyIik7ZT1pLmNoaWxkcmVuKCkubm90KCIudWktbWVudSIpLnVuaXF1ZUlkKCkuYXR0cih7dGFiSW5kZXg6LTEscm9sZTp0aGlzLl9pdGVtUm9sZSgpfSk7dGhpcy5fYWRkQ2xhc3MoaSwidWktbWVudS1pdGVtIikuX2FkZENsYXNzKGUsInVpLW1lbnUtaXRlbS13cmFwcGVyIik7dC5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIik7dGhpcy5hY3RpdmUmJiFuLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSx0aGlzLmFjdGl2ZVswXSkmJnRoaXMuYmx1cigpfSxfaXRlbVJvbGU6ZnVuY3Rpb24oKXtyZXR1cm57bWVudToibWVudWl0ZW0iLGxpc3Rib3g6Im9wdGlvbiJ9W3RoaXMub3B0aW9ucy5yb2xlXX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe2lmKCJpY29ucyI9PT1uKXt2YXIgaT10aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUtaWNvbiIpO3RoaXMuX3JlbW92ZUNsYXNzKGksbnVsbCx0aGlzLm9wdGlvbnMuaWNvbnMuc3VibWVudSkuX2FkZENsYXNzKGksbnVsbCx0LnN1Ym1lbnUpfXRoaXMuX3N1cGVyKG4sdCl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbihuKXt0aGlzLl9zdXBlcihuKTt0aGlzLmVsZW1lbnQuYXR0cigiYXJpYS1kaXNhYmxlZCIsbisiIik7dGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhbil9LGZvY3VzOmZ1bmN0aW9uKG4sdCl7dmFyIGkscix1O3RoaXMuYmx1cihuLG4mJiJmb2N1cyI9PT1uLnR5cGUpO3RoaXMuX3Njcm9sbEludG9WaWV3KHQpO3RoaXMuYWN0aXZlPXQuZmlyc3QoKTtyPXRoaXMuYWN0aXZlLmNoaWxkcmVuKCIudWktbWVudS1pdGVtLXdyYXBwZXIiKTt0aGlzLl9hZGRDbGFzcyhyLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpO3RoaXMub3B0aW9ucy5yb2xlJiZ0aGlzLmVsZW1lbnQuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IixyLmF0dHIoImlkIikpO3U9dGhpcy5hY3RpdmUucGFyZW50KCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIpLmNoaWxkcmVuKCIudWktbWVudS1pdGVtLXdyYXBwZXIiKTt0aGlzLl9hZGRDbGFzcyh1LG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpO24mJiJrZXlkb3duIj09PW4udHlwZT90aGlzLl9jbG9zZSgpOnRoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLl9jbG9zZSgpfSx0aGlzLmRlbGF5KTtpPXQuY2hpbGRyZW4oIi51aS1tZW51Iik7aS5sZW5ndGgmJm4mJi9ebW91c2UvLnRlc3Qobi50eXBlKSYmdGhpcy5fc3RhcnRPcGVuaW5nKGkpO3RoaXMuYWN0aXZlTWVudT10LnBhcmVudCgpO3RoaXMuX3RyaWdnZXIoImZvY3VzIixuLHtpdGVtOnR9KX0sX3Njcm9sbEludG9WaWV3OmZ1bmN0aW9uKHQpe3ZhciBlLG8saSxyLHUsZjt0aGlzLl9oYXNTY3JvbGwoKSYmKGU9cGFyc2VGbG9hdChuLmNzcyh0aGlzLmFjdGl2ZU1lbnVbMF0sImJvcmRlclRvcFdpZHRoIikpfHwwLG89cGFyc2VGbG9hdChuLmNzcyh0aGlzLmFjdGl2ZU1lbnVbMF0sInBhZGRpbmdUb3AiKSl8fDAsaT10Lm9mZnNldCgpLnRvcC10aGlzLmFjdGl2ZU1lbnUub2Zmc2V0KCkudG9wLWUtbyxyPXRoaXMuYWN0aXZlTWVudS5zY3JvbGxUb3AoKSx1PXRoaXMuYWN0aXZlTWVudS5oZWlnaHQoKSxmPXQub3V0ZXJIZWlnaHQoKSwwPmk/dGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcChyK2kpOmkrZj51JiZ0aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKHIraS11K2YpKX0sYmx1cjpmdW5jdGlvbihuLHQpe3R8fGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTt0aGlzLmFjdGl2ZSYmKHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuYWN0aXZlLmNoaWxkcmVuKCIudWktbWVudS1pdGVtLXdyYXBwZXIiKSxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLl90cmlnZ2VyKCJibHVyIixuLHtpdGVtOnRoaXMuYWN0aXZlfSksdGhpcy5hY3RpdmU9bnVsbCl9LF9zdGFydE9wZW5pbmc6ZnVuY3Rpb24obil7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpOyJ0cnVlIj09PW4uYXR0cigiYXJpYS1oaWRkZW4iKSYmKHRoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLl9jbG9zZSgpO3RoaXMuX29wZW4obil9LHRoaXMuZGVsYXkpKX0sX29wZW46ZnVuY3Rpb24odCl7dmFyIGk9bi5leHRlbmQoeyJvZiI6dGhpcy5hY3RpdmV9LHRoaXMub3B0aW9ucy5wb3NpdGlvbik7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO3RoaXMuZWxlbWVudC5maW5kKCIudWktbWVudSIpLm5vdCh0LnBhcmVudHMoIi51aS1tZW51IikpLmhpZGUoKS5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKTt0LnNob3coKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCJ0cnVlIikucG9zaXRpb24oaSl9LGNvbGxhcHNlQWxsOmZ1bmN0aW9uKHQsaSl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO3RoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt2YXIgcj1pP3RoaXMuZWxlbWVudDpuKHQmJnQudGFyZ2V0KS5jbG9zZXN0KHRoaXMuZWxlbWVudC5maW5kKCIudWktbWVudSIpKTtyLmxlbmd0aHx8KHI9dGhpcy5lbGVtZW50KTt0aGlzLl9jbG9zZShyKTt0aGlzLmJsdXIodCk7dGhpcy5fcmVtb3ZlQ2xhc3Moci5maW5kKCIudWktc3RhdGUtYWN0aXZlIiksbnVsbCwidWktc3RhdGUtYWN0aXZlIik7dGhpcy5hY3RpdmVNZW51PXJ9LHRoaXMuZGVsYXkpfSxfY2xvc2U6ZnVuY3Rpb24obil7bnx8KG49dGhpcy5hY3RpdmU/dGhpcy5hY3RpdmUucGFyZW50KCk6dGhpcy5lbGVtZW50KTtuLmZpbmQoIi51aS1tZW51IikuaGlkZSgpLmF0dHIoImFyaWEtaGlkZGVuIiwidHJ1ZSIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpfSxfY2xvc2VPbkRvY3VtZW50Q2xpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIW4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1tZW51IikubGVuZ3RofSxfaXNEaXZpZGVyOmZ1bmN0aW9uKG4pe3JldHVybiEvW15cLVx1MjAxNFx1MjAxM1xzXS8udGVzdChuLnRleHQoKSl9LGNvbGxhcHNlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuYWN0aXZlJiZ0aGlzLmFjdGl2ZS5wYXJlbnQoKS5jbG9zZXN0KCIudWktbWVudS1pdGVtIix0aGlzLmVsZW1lbnQpO3QmJnQubGVuZ3RoJiYodGhpcy5fY2xvc2UoKSx0aGlzLmZvY3VzKG4sdCkpfSxleHBhbmQ6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5hY3RpdmUmJnRoaXMuYWN0aXZlLmNoaWxkcmVuKCIudWktbWVudSAiKS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcykuZmlyc3QoKTt0JiZ0Lmxlbmd0aCYmKHRoaXMuX29wZW4odC5wYXJlbnQoKSksdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLmZvY3VzKG4sdCl9KSl9LG5leHQ6ZnVuY3Rpb24obil7dGhpcy5fbW92ZSgibmV4dCIsImZpcnN0IixuKX0scHJldmlvdXM6ZnVuY3Rpb24obil7dGhpcy5fbW92ZSgicHJldiIsImxhc3QiLG4pfSxpc0ZpcnN0SXRlbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2ZSYmIXRoaXMuYWN0aXZlLnByZXZBbGwoIi51aS1tZW51LWl0ZW0iKS5sZW5ndGh9LGlzTGFzdEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmUmJiF0aGlzLmFjdGl2ZS5uZXh0QWxsKCIudWktbWVudS1pdGVtIikubGVuZ3RofSxfbW92ZTpmdW5jdGlvbihuLHQsaSl7dmFyIHI7dGhpcy5hY3RpdmUmJihyPSJmaXJzdCI9PT1ufHwibGFzdCI9PT1uP3RoaXMuYWN0aXZlWyJmaXJzdCI9PT1uPyJwcmV2QWxsIjoibmV4dEFsbCJdKCIudWktbWVudS1pdGVtIikuZXEoLTEpOnRoaXMuYWN0aXZlW24rIkFsbCJdKCIudWktbWVudS1pdGVtIikuZXEoMCkpO3ImJnIubGVuZ3RoJiZ0aGlzLmFjdGl2ZXx8KHI9dGhpcy5hY3RpdmVNZW51LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKVt0XSgpKTt0aGlzLmZvY3VzKGkscil9LG5leHRQYWdlOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdTtyZXR1cm4gdGhpcy5hY3RpdmU/KHRoaXMuaXNMYXN0SXRlbSgpfHwodGhpcy5faGFzU2Nyb2xsKCk/KHI9dGhpcy5hY3RpdmUub2Zmc2V0KCkudG9wLHU9dGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuYWN0aXZlLm5leHRBbGwoIi51aS1tZW51LWl0ZW0iKS5lYWNoKGZ1bmN0aW9uKCl7cmV0dXJuIGk9bih0aGlzKSwwPmkub2Zmc2V0KCkudG9wLXItdX0pLHRoaXMuZm9jdXModCxpKSk6dGhpcy5mb2N1cyh0LHRoaXMuYWN0aXZlTWVudS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcylbdGhpcy5hY3RpdmU/Imxhc3QiOiJmaXJzdCJdKCkpKSx2b2lkIDApOih0aGlzLm5leHQodCksdm9pZCAwKX0scHJldmlvdXNQYWdlOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdTtyZXR1cm4gdGhpcy5hY3RpdmU/KHRoaXMuaXNGaXJzdEl0ZW0oKXx8KHRoaXMuX2hhc1Njcm9sbCgpPyhyPXRoaXMuYWN0aXZlLm9mZnNldCgpLnRvcCx1PXRoaXMuZWxlbWVudC5oZWlnaHQoKSx0aGlzLmFjdGl2ZS5wcmV2QWxsKCIudWktbWVudS1pdGVtIikuZWFjaChmdW5jdGlvbigpe3JldHVybiBpPW4odGhpcyksaS5vZmZzZXQoKS50b3Atcit1PjB9KSx0aGlzLmZvY3VzKHQsaSkpOnRoaXMuZm9jdXModCx0aGlzLmFjdGl2ZU1lbnUuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmZpcnN0KCkpKSx2b2lkIDApOih0aGlzLm5leHQodCksdm9pZCAwKX0sX2hhc1Njcm9sbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKTx0aGlzLmVsZW1lbnQucHJvcCgic2Nyb2xsSGVpZ2h0Iil9LHNlbGVjdDpmdW5jdGlvbih0KXt0aGlzLmFjdGl2ZT10aGlzLmFjdGl2ZXx8bih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIpO3ZhciBpPXtpdGVtOnRoaXMuYWN0aXZlfTt0aGlzLmFjdGl2ZS5oYXMoIi51aS1tZW51IikubGVuZ3RofHx0aGlzLmNvbGxhcHNlQWxsKHQsITApO3RoaXMuX3RyaWdnZXIoInNlbGVjdCIsdCxpKX0sX2ZpbHRlck1lbnVJdGVtczpmdW5jdGlvbih0KXt2YXIgaT10LnJlcGxhY2UoL1tcLVxbXF17fSgpKis/LixcXFxeJHwjXHNdL2csIlxcJCYiKSxyPVJlZ0V4cCgiXiIraSwiaSIpO3JldHVybiB0aGlzLmFjdGl2ZU1lbnUuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmZpbHRlcigiLnVpLW1lbnUtaXRlbSIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiByLnRlc3Qobi50cmltKG4odGhpcykuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpLnRleHQoKSkpfSl9fSk7bi53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIse3ZlcnNpb246IjEuMTIuMSIsZGVmYXVsdEVsZW1lbnQ6IjxpbnB1dD4iLG9wdGlvbnM6e2FwcGVuZFRvOm51bGwsYXV0b0ZvY3VzOiExLGRlbGF5OjMwMCxtaW5MZW5ndGg6MSxwb3NpdGlvbjp7bXk6ImxlZnQgdG9wIixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoibm9uZSJ9LHNvdXJjZTpudWxsLGNoYW5nZTpudWxsLGNsb3NlOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwscmVzcG9uc2U6bnVsbCxzZWFyY2g6bnVsbCxzZWxlY3Q6bnVsbH0scmVxdWVzdEluZGV4OjAscGVuZGluZzowLF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdCxpLHIsdT10aGlzLmVsZW1lbnRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxmPSJ0ZXh0YXJlYSI9PT11LGU9ImlucHV0Ij09PXU7dGhpcy5pc011bHRpTGluZT1mfHwhZSYmdGhpcy5faXNDb250ZW50RWRpdGFibGUodGhpcy5lbGVtZW50KTt0aGlzLnZhbHVlTWV0aG9kPXRoaXMuZWxlbWVudFtmfHxlPyJ2YWwiOiJ0ZXh0Il07dGhpcy5pc05ld01lbnU9ITA7dGhpcy5fYWRkQ2xhc3MoInVpLWF1dG9jb21wbGV0ZS1pbnB1dCIpO3RoaXMuZWxlbWVudC5hdHRyKCJhdXRvY29tcGxldGUiLCJvZmYiKTt0aGlzLl9vbih0aGlzLmVsZW1lbnQse2tleWRvd246ZnVuY3Rpb24odSl7aWYodGhpcy5lbGVtZW50LnByb3AoInJlYWRPbmx5IikpcmV0dXJuIHQ9ITAscj0hMCxpPSEwLHZvaWQgMDt0PSExO3I9ITE7aT0hMTt2YXIgZj1uLnVpLmtleUNvZGU7c3dpdGNoKHUua2V5Q29kZSl7Y2FzZSBmLlBBR0VfVVA6dD0hMDt0aGlzLl9tb3ZlKCJwcmV2aW91c1BhZ2UiLHUpO2JyZWFrO2Nhc2UgZi5QQUdFX0RPV046dD0hMDt0aGlzLl9tb3ZlKCJuZXh0UGFnZSIsdSk7YnJlYWs7Y2FzZSBmLlVQOnQ9ITA7dGhpcy5fa2V5RXZlbnQoInByZXZpb3VzIix1KTticmVhaztjYXNlIGYuRE9XTjp0PSEwO3RoaXMuX2tleUV2ZW50KCJuZXh0Iix1KTticmVhaztjYXNlIGYuRU5URVI6dGhpcy5tZW51LmFjdGl2ZSYmKHQ9ITAsdS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubWVudS5zZWxlY3QodSkpO2JyZWFrO2Nhc2UgZi5UQUI6dGhpcy5tZW51LmFjdGl2ZSYmdGhpcy5tZW51LnNlbGVjdCh1KTticmVhaztjYXNlIGYuRVNDQVBFOnRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpJiYodGhpcy5pc011bHRpTGluZXx8dGhpcy5fdmFsdWUodGhpcy50ZXJtKSx0aGlzLmNsb3NlKHUpLHUucHJldmVudERlZmF1bHQoKSk7YnJlYWs7ZGVmYXVsdDppPSEwO3RoaXMuX3NlYXJjaFRpbWVvdXQodSl9fSxrZXlwcmVzczpmdW5jdGlvbihyKXtpZih0KXJldHVybiB0PSExLCghdGhpcy5pc011bHRpTGluZXx8dGhpcy5tZW51LmVsZW1lbnQuaXMoIjp2aXNpYmxlIikpJiZyLnByZXZlbnREZWZhdWx0KCksdm9pZCAwO2lmKCFpKXt2YXIgdT1uLnVpLmtleUNvZGU7c3dpdGNoKHIua2V5Q29kZSl7Y2FzZSB1LlBBR0VfVVA6dGhpcy5fbW92ZSgicHJldmlvdXNQYWdlIixyKTticmVhaztjYXNlIHUuUEFHRV9ET1dOOnRoaXMuX21vdmUoIm5leHRQYWdlIixyKTticmVhaztjYXNlIHUuVVA6dGhpcy5fa2V5RXZlbnQoInByZXZpb3VzIixyKTticmVhaztjYXNlIHUuRE9XTjp0aGlzLl9rZXlFdmVudCgibmV4dCIscil9fX0saW5wdXQ6ZnVuY3Rpb24obil7cmV0dXJuIHI/KHI9ITEsbi5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgMCk6KHRoaXMuX3NlYXJjaFRpbWVvdXQobiksdm9pZCAwKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkSXRlbT1udWxsO3RoaXMucHJldmlvdXM9dGhpcy5fdmFsdWUoKX0sYmx1cjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5jYW5jZWxCbHVyPyhkZWxldGUgdGhpcy5jYW5jZWxCbHVyLHZvaWQgMCk6KGNsZWFyVGltZW91dCh0aGlzLnNlYXJjaGluZyksdGhpcy5jbG9zZShuKSx0aGlzLl9jaGFuZ2Uobiksdm9pZCAwKX19KTt0aGlzLl9pbml0U291cmNlKCk7dGhpcy5tZW51PW4oIjx1bD4iKS5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKS5tZW51KHtyb2xlOm51bGx9KS5oaWRlKCkubWVudSgiaW5zdGFuY2UiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLm1lbnUuZWxlbWVudCwidWktYXV0b2NvbXBsZXRlIiwidWktZnJvbnQiKTt0aGlzLl9vbih0aGlzLm1lbnUuZWxlbWVudCx7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt0aGlzLmNhbmNlbEJsdXI9ITA7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5jYW5jZWxCbHVyO3RoaXMuZWxlbWVudFswXSE9PW4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkmJnRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpfSl9LG1lbnVmb2N1czpmdW5jdGlvbih0LGkpe3ZhciByLHU7cmV0dXJuIHRoaXMuaXNOZXdNZW51JiYodGhpcy5pc05ld01lbnU9ITEsdC5vcmlnaW5hbEV2ZW50JiYvXm1vdXNlLy50ZXN0KHQub3JpZ2luYWxFdmVudC50eXBlKSk/KHRoaXMubWVudS5ibHVyKCksdGhpcy5kb2N1bWVudC5vbmUoIm1vdXNlbW92ZSIsZnVuY3Rpb24oKXtuKHQudGFyZ2V0KS50cmlnZ2VyKHQub3JpZ2luYWxFdmVudCl9KSx2b2lkIDApOih1PWkuaXRlbS5kYXRhKCJ1aS1hdXRvY29tcGxldGUtaXRlbSIpLCExIT09dGhpcy5fdHJpZ2dlcigiZm9jdXMiLHQse2l0ZW06dX0pJiZ0Lm9yaWdpbmFsRXZlbnQmJi9ea2V5Ly50ZXN0KHQub3JpZ2luYWxFdmVudC50eXBlKSYmdGhpcy5fdmFsdWUodS52YWx1ZSkscj1pLml0ZW0uYXR0cigiYXJpYS1sYWJlbCIpfHx1LnZhbHVlLHImJm4udHJpbShyKS5sZW5ndGgmJih0aGlzLmxpdmVSZWdpb24uY2hpbGRyZW4oKS5oaWRlKCksbigiPGRpdj4iKS50ZXh0KHIpLmFwcGVuZFRvKHRoaXMubGl2ZVJlZ2lvbikpLHZvaWQgMCl9LG1lbnVzZWxlY3Q6ZnVuY3Rpb24odCxpKXt2YXIgcj1pLml0ZW0uZGF0YSgidWktYXV0b2NvbXBsZXRlLWl0ZW0iKSx1PXRoaXMucHJldmlvdXM7dGhpcy5lbGVtZW50WzBdIT09bi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSYmKHRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpLHRoaXMucHJldmlvdXM9dSx0aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMucHJldmlvdXM9dTt0aGlzLnNlbGVjdGVkSXRlbT1yfSkpOyExIT09dGhpcy5fdHJpZ2dlcigic2VsZWN0Iix0LHtpdGVtOnJ9KSYmdGhpcy5fdmFsdWUoci52YWx1ZSk7dGhpcy50ZXJtPXRoaXMuX3ZhbHVlKCk7dGhpcy5jbG9zZSh0KTt0aGlzLnNlbGVjdGVkSXRlbT1yfX0pO3RoaXMubGl2ZVJlZ2lvbj1uKCI8ZGl2PiIse3JvbGU6InN0YXR1cyIsImFyaWEtbGl2ZSI6ImFzc2VydGl2ZSIsImFyaWEtcmVsZXZhbnQiOiJhZGRpdGlvbnMifSkuYXBwZW5kVG8odGhpcy5kb2N1bWVudFswXS5ib2R5KTt0aGlzLl9hZGRDbGFzcyh0aGlzLmxpdmVSZWdpb24sbnVsbCwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIik7dGhpcy5fb24odGhpcy53aW5kb3cse2JlZm9yZXVubG9hZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKX19KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpO3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKTt0aGlzLm1lbnUuZWxlbWVudC5yZW1vdmUoKTt0aGlzLmxpdmVSZWdpb24ucmVtb3ZlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXt0aGlzLl9zdXBlcihuLHQpOyJzb3VyY2UiPT09biYmdGhpcy5faW5pdFNvdXJjZSgpOyJhcHBlbmRUbyI9PT1uJiZ0aGlzLm1lbnUuZWxlbWVudC5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKTsiZGlzYWJsZWQiPT09biYmdCYmdGhpcy54aHImJnRoaXMueGhyLmFib3J0KCl9LF9pc0V2ZW50VGFyZ2V0SW5XaWRnZXQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5tZW51LmVsZW1lbnRbMF07cmV0dXJuIHQudGFyZ2V0PT09dGhpcy5lbGVtZW50WzBdfHx0LnRhcmdldD09PWl8fG4uY29udGFpbnMoaSx0LnRhcmdldCl9LF9jbG9zZU9uQ2xpY2tPdXRzaWRlOmZ1bmN0aW9uKG4pe3RoaXMuX2lzRXZlbnRUYXJnZXRJbldpZGdldChuKXx8dGhpcy5jbG9zZSgpfSxfYXBwZW5kVG86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuYXBwZW5kVG87cmV0dXJuIHQmJih0PXQuanF1ZXJ5fHx0Lm5vZGVUeXBlP24odCk6dGhpcy5kb2N1bWVudC5maW5kKHQpLmVxKDApKSx0JiZ0WzBdfHwodD10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLWZyb250LCBkaWFsb2ciKSksdC5sZW5ndGh8fCh0PXRoaXMuZG9jdW1lbnRbMF0uYm9keSksdH0sX2luaXRTb3VyY2U6ZnVuY3Rpb24oKXt2YXIgaSxyLHQ9dGhpcztuLmlzQXJyYXkodGhpcy5vcHRpb25zLnNvdXJjZSk/KGk9dGhpcy5vcHRpb25zLnNvdXJjZSx0aGlzLnNvdXJjZT1mdW5jdGlvbih0LHIpe3Iobi51aS5hdXRvY29tcGxldGUuZmlsdGVyKGksdC50ZXJtKSl9KToic3RyaW5nIj09dHlwZW9mIHRoaXMub3B0aW9ucy5zb3VyY2U/KHI9dGhpcy5vcHRpb25zLnNvdXJjZSx0aGlzLnNvdXJjZT1mdW5jdGlvbihpLHUpe3QueGhyJiZ0Lnhoci5hYm9ydCgpO3QueGhyPW4uYWpheCh7dXJsOnIsZGF0YTppLGRhdGFUeXBlOiJqc29uIixzdWNjZXNzOmZ1bmN0aW9uKG4pe3Uobil9LGVycm9yOmZ1bmN0aW9uKCl7dShbXSl9fSl9KTp0aGlzLnNvdXJjZT10aGlzLm9wdGlvbnMuc291cmNlfSxfc2VhcmNoVGltZW91dDpmdW5jdGlvbihuKXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpO3RoaXMuc2VhcmNoaW5nPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50ZXJtPT09dGhpcy5fdmFsdWUoKSxpPXRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpLHI9bi5hbHRLZXl8fG4uY3RybEtleXx8bi5tZXRhS2V5fHxuLnNoaWZ0S2V5O3QmJighdHx8aXx8cil8fCh0aGlzLnNlbGVjdGVkSXRlbT1udWxsLHRoaXMuc2VhcmNoKG51bGwsbikpfSx0aGlzLm9wdGlvbnMuZGVsYXkpfSxzZWFyY2g6ZnVuY3Rpb24obix0KXtyZXR1cm4gbj1udWxsIT1uP246dGhpcy5fdmFsdWUoKSx0aGlzLnRlcm09dGhpcy5fdmFsdWUoKSxuLmxlbmd0aDx0aGlzLm9wdGlvbnMubWluTGVuZ3RoP3RoaXMuY2xvc2UodCk6dGhpcy5fdHJpZ2dlcigic2VhcmNoIix0KSE9PSExP3RoaXMuX3NlYXJjaChuKTp2b2lkIDB9LF9zZWFyY2g6ZnVuY3Rpb24obil7dGhpcy5wZW5kaW5nKys7dGhpcy5fYWRkQ2xhc3MoInVpLWF1dG9jb21wbGV0ZS1sb2FkaW5nIik7dGhpcy5jYW5jZWxTZWFyY2g9ITE7dGhpcy5zb3VyY2Uoe3Rlcm06bn0sdGhpcy5fcmVzcG9uc2UoKSl9LF9yZXNwb25zZTpmdW5jdGlvbigpe3ZhciB0PSsrdGhpcy5yZXF1ZXN0SW5kZXg7cmV0dXJuIG4ucHJveHkoZnVuY3Rpb24obil7dD09PXRoaXMucmVxdWVzdEluZGV4JiZ0aGlzLl9fcmVzcG9uc2Uobik7dGhpcy5wZW5kaW5nLS07dGhpcy5wZW5kaW5nfHx0aGlzLl9yZW1vdmVDbGFzcygidWktYXV0b2NvbXBsZXRlLWxvYWRpbmciKX0sdGhpcyl9LF9fcmVzcG9uc2U6ZnVuY3Rpb24obil7biYmKG49dGhpcy5fbm9ybWFsaXplKG4pKTt0aGlzLl90cmlnZ2VyKCJyZXNwb25zZSIsbnVsbCx7Y29udGVudDpufSk7IXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmbiYmbi5sZW5ndGgmJiF0aGlzLmNhbmNlbFNlYXJjaD8odGhpcy5fc3VnZ2VzdChuKSx0aGlzLl90cmlnZ2VyKCJvcGVuIikpOnRoaXMuX2Nsb3NlKCl9LGNsb3NlOmZ1bmN0aW9uKG4pe3RoaXMuY2FuY2VsU2VhcmNoPSEwO3RoaXMuX2Nsb3NlKG4pfSxfY2xvc2U6ZnVuY3Rpb24obil7dGhpcy5fb2ZmKHRoaXMuZG9jdW1lbnQsIm1vdXNlZG93biIpO3RoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpJiYodGhpcy5tZW51LmVsZW1lbnQuaGlkZSgpLHRoaXMubWVudS5ibHVyKCksdGhpcy5pc05ld01lbnU9ITAsdGhpcy5fdHJpZ2dlcigiY2xvc2UiLG4pKX0sX2NoYW5nZTpmdW5jdGlvbihuKXt0aGlzLnByZXZpb3VzIT09dGhpcy5fdmFsdWUoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIixuLHtpdGVtOnRoaXMuc2VsZWN0ZWRJdGVtfSl9LF9ub3JtYWxpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoJiZ0WzBdLmxhYmVsJiZ0WzBdLnZhbHVlP3Q6bi5tYXAodCxmdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/e2xhYmVsOnQsdmFsdWU6dH06bi5leHRlbmQoe30sdCx7bGFiZWw6dC5sYWJlbHx8dC52YWx1ZSx2YWx1ZTp0LnZhbHVlfHx0LmxhYmVsfSl9KX0sX3N1Z2dlc3Q6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5tZW51LmVsZW1lbnQuZW1wdHkoKTt0aGlzLl9yZW5kZXJNZW51KGksdCk7dGhpcy5pc05ld01lbnU9ITA7dGhpcy5tZW51LnJlZnJlc2goKTtpLnNob3coKTt0aGlzLl9yZXNpemVNZW51KCk7aS5wb3NpdGlvbihuLmV4dGVuZCh7Im9mIjp0aGlzLmVsZW1lbnR9LHRoaXMub3B0aW9ucy5wb3NpdGlvbikpO3RoaXMub3B0aW9ucy5hdXRvRm9jdXMmJnRoaXMubWVudS5uZXh0KCk7dGhpcy5fb24odGhpcy5kb2N1bWVudCx7bW91c2Vkb3duOiJfY2xvc2VPbkNsaWNrT3V0c2lkZSJ9KX0sX3Jlc2l6ZU1lbnU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm1lbnUuZWxlbWVudDtuLm91dGVyV2lkdGgoTWF0aC5tYXgobi53aWR0aCgiIikub3V0ZXJXaWR0aCgpKzEsdGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSkpfSxfcmVuZGVyTWVudTpmdW5jdGlvbih0LGkpe3ZhciByPXRoaXM7bi5lYWNoKGksZnVuY3Rpb24obixpKXtyLl9yZW5kZXJJdGVtRGF0YSh0LGkpfSl9LF9yZW5kZXJJdGVtRGF0YTpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLl9yZW5kZXJJdGVtKG4sdCkuZGF0YSgidWktYXV0b2NvbXBsZXRlLWl0ZW0iLHQpfSxfcmVuZGVySXRlbTpmdW5jdGlvbih0LGkpe3JldHVybiBuKCI8bGk+IikuYXBwZW5kKG4oIjxkaXY+IikudGV4dChpLmxhYmVsKSkuYXBwZW5kVG8odCl9LF9tb3ZlOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpP3RoaXMubWVudS5pc0ZpcnN0SXRlbSgpJiYvXnByZXZpb3VzLy50ZXN0KG4pfHx0aGlzLm1lbnUuaXNMYXN0SXRlbSgpJiYvXm5leHQvLnRlc3Qobik/KHRoaXMuaXNNdWx0aUxpbmV8fHRoaXMuX3ZhbHVlKHRoaXMudGVybSksdGhpcy5tZW51LmJsdXIoKSx2b2lkIDApOih0aGlzLm1lbnVbbl0odCksdm9pZCAwKToodGhpcy5zZWFyY2gobnVsbCx0KSx2b2lkIDApfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51LmVsZW1lbnR9LF92YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlTWV0aG9kLmFwcGx5KHRoaXMuZWxlbWVudCxhcmd1bWVudHMpfSxfa2V5RXZlbnQ6ZnVuY3Rpb24obix0KXsoIXRoaXMuaXNNdWx0aUxpbmV8fHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpKSYmKHRoaXMuX21vdmUobix0KSx0LnByZXZlbnREZWZhdWx0KCkpfSxfaXNDb250ZW50RWRpdGFibGU6ZnVuY3Rpb24obil7aWYoIW4ubGVuZ3RoKXJldHVybiExO3ZhciB0PW4ucHJvcCgiY29udGVudEVkaXRhYmxlIik7cmV0dXJuImluaGVyaXQiPT09dD90aGlzLl9pc0NvbnRlbnRFZGl0YWJsZShuLnBhcmVudCgpKToidHJ1ZSI9PT10fX0pO24uZXh0ZW5kKG4udWkuYXV0b2NvbXBsZXRlLHtlc2NhcGVSZWdleDpmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKC9bXC1cW1xde30oKSorPy4sXFxcXiR8I1xzXS9nLCJcXCQmIil9LGZpbHRlcjpmdW5jdGlvbih0LGkpe3ZhciByPVJlZ0V4cChuLnVpLmF1dG9jb21wbGV0ZS5lc2NhcGVSZWdleChpKSwiaSIpO3JldHVybiBuLmdyZXAodCxmdW5jdGlvbihuKXtyZXR1cm4gci50ZXN0KG4ubGFiZWx8fG4udmFsdWV8fG4pfSl9fSk7bi53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIsbi51aS5hdXRvY29tcGxldGUse29wdGlvbnM6e21lc3NhZ2VzOntub1Jlc3VsdHM6Ik5vIHNlYXJjaCByZXN1bHRzLiIscmVzdWx0czpmdW5jdGlvbihuKXtyZXR1cm4gbisobj4xPyIgcmVzdWx0cyBhcmUiOiIgcmVzdWx0IGlzIikrIiBhdmFpbGFibGUsIHVzZSB1cCBhbmQgZG93biBhcnJvdyBrZXlzIHRvIG5hdmlnYXRlLiJ9fX0sX19yZXNwb25zZTpmdW5jdGlvbih0KXt2YXIgaTt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyk7dGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmNhbmNlbFNlYXJjaHx8KGk9dCYmdC5sZW5ndGg/dGhpcy5vcHRpb25zLm1lc3NhZ2VzLnJlc3VsdHModC5sZW5ndGgpOnRoaXMub3B0aW9ucy5tZXNzYWdlcy5ub1Jlc3VsdHMsdGhpcy5saXZlUmVnaW9uLmNoaWxkcmVuKCkuaGlkZSgpLG4oIjxkaXY+IikudGV4dChpKS5hcHBlbmRUbyh0aGlzLmxpdmVSZWdpb24pKX19KTtuLnVpLmF1dG9jb21wbGV0ZTt3PS91aS1jb3JuZXItKFthLXpdKXsyLDZ9L2c7bi53aWRnZXQoInVpLmNvbnRyb2xncm91cCIse3ZlcnNpb246IjEuMTIuMSIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntkaXJlY3Rpb246Imhvcml6b250YWwiLGRpc2FibGVkOm51bGwsb25seVZpc2libGU6ITAsaXRlbXM6e2J1dHRvbjoiaW5wdXRbdHlwZT1idXR0b25dLCBpbnB1dFt0eXBlPXN1Ym1pdF0sIGlucHV0W3R5cGU9cmVzZXRdLCBidXR0b24sIGEiLGNvbnRyb2xncm91cExhYmVsOiIudWktY29udHJvbGdyb3VwLWxhYmVsIixjaGVja2JveHJhZGlvOiJpbnB1dFt0eXBlPSdjaGVja2JveCddLCBpbnB1dFt0eXBlPSdyYWRpbyddIixzZWxlY3RtZW51OiJzZWxlY3QiLHNwaW5uZXI6Ii51aS1zcGlubmVyLWlucHV0In19LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9lbmhhbmNlKCl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJ0b29sYmFyIik7dGhpcy5yZWZyZXNoKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fY2FsbENoaWxkTWV0aG9kKCJkZXN0cm95Iik7dGhpcy5jaGlsZFdpZGdldHMucmVtb3ZlRGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKTt0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigicm9sZSIpO3RoaXMub3B0aW9ucy5pdGVtcy5jb250cm9sZ3JvdXBMYWJlbCYmdGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zLmNvbnRyb2xncm91cExhYmVsKS5maW5kKCIudWktY29udHJvbGdyb3VwLWxhYmVsLWNvbnRlbnRzIikuY29udGVudHMoKS51bndyYXAoKX0sX2luaXRXaWRnZXRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPVtdO24uZWFjaCh0aGlzLm9wdGlvbnMuaXRlbXMsZnVuY3Rpb24ocix1KXt2YXIgZixlPXt9O2lmKHUpcmV0dXJuImNvbnRyb2xncm91cExhYmVsIj09PXI/KGY9dC5lbGVtZW50LmZpbmQodSksZi5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTt0LmNoaWxkcmVuKCIudWktY29udHJvbGdyb3VwLWxhYmVsLWNvbnRlbnRzIikubGVuZ3RofHx0LmNvbnRlbnRzKCkud3JhcEFsbCgiPHNwYW4gY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbC1jb250ZW50cyc+PFwvc3Bhbj4iKX0pLHQuX2FkZENsYXNzKGYsbnVsbCwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLXN0YXRlLWRlZmF1bHQiKSxpPWkuY29uY2F0KGYuZ2V0KCkpLHZvaWQgMCk6KG4uZm5bcl0mJihlPXRbIl8iK3IrIk9wdGlvbnMiXT90WyJfIityKyJPcHRpb25zIl0oIm1pZGRsZSIpOntjbGFzc2VzOnt9fSx0LmVsZW1lbnQuZmluZCh1KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHU9bih0aGlzKSxmPXVbcl0oImluc3RhbmNlIiksbz1uLndpZGdldC5leHRlbmQoe30sZSksczsiYnV0dG9uIj09PXImJnUucGFyZW50KCIudWktc3Bpbm5lciIpLmxlbmd0aHx8KGZ8fChmPXVbcl0oKVtyXSgiaW5zdGFuY2UiKSksZiYmKG8uY2xhc3Nlcz10Ll9yZXNvbHZlQ2xhc3Nlc1ZhbHVlcyhvLmNsYXNzZXMsZikpLHVbcl0obykscz11W3JdKCJ3aWRnZXQiKSxuLmRhdGEoc1swXSwidWktY29udHJvbGdyb3VwLWRhdGEiLGY/Zjp1W3JdKCJpbnN0YW5jZSIpKSxpLnB1c2goc1swXSkpfSkpLHZvaWQgMCl9KTt0aGlzLmNoaWxkV2lkZ2V0cz1uKG4udW5pcXVlKGkpKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmNoaWxkV2lkZ2V0cywidWktY29udHJvbGdyb3VwLWl0ZW0iKX0sX2NhbGxDaGlsZE1ldGhvZDpmdW5jdGlvbih0KXt0aGlzLmNoaWxkV2lkZ2V0cy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9bih0aGlzKSxpPXIuZGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKTtpJiZpW3RdJiZpW3RdKCl9KX0sX3VwZGF0ZUNvcm5lckNsYXNzOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5fYnVpbGRTaW1wbGVPcHRpb25zKHQsImxhYmVsIikuY2xhc3Nlcy5sYWJlbDt0aGlzLl9yZW1vdmVDbGFzcyhuLG51bGwsInVpLWNvcm5lci10b3AgdWktY29ybmVyLWJvdHRvbSB1aS1jb3JuZXItbGVmdCB1aS1jb3JuZXItcmlnaHQgdWktY29ybmVyLWFsbCIpO3RoaXMuX2FkZENsYXNzKG4sbnVsbCxpKX0sX2J1aWxkU2ltcGxlT3B0aW9uczpmdW5jdGlvbihuLHQpe3ZhciBpPSJ2ZXJ0aWNhbCI9PT10aGlzLm9wdGlvbnMuZGlyZWN0aW9uLHI9e2NsYXNzZXM6e319O3JldHVybiByLmNsYXNzZXNbdF09e21pZGRsZToiIixmaXJzdDoidWktY29ybmVyLSIrKGk/InRvcCI6ImxlZnQiKSxsYXN0OiJ1aS1jb3JuZXItIisoaT8iYm90dG9tIjoicmlnaHQiKSxvbmx5OiJ1aS1jb3JuZXItYWxsIn1bbl0scn0sX3NwaW5uZXJPcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2J1aWxkU2ltcGxlT3B0aW9ucyhuLCJ1aS1zcGlubmVyIik7cmV0dXJuIHQuY2xhc3Nlc1sidWktc3Bpbm5lci11cCJdPSIiLHQuY2xhc3Nlc1sidWktc3Bpbm5lci1kb3duIl09IiIsdH0sX2J1dHRvbk9wdGlvbnM6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2J1aWxkU2ltcGxlT3B0aW9ucyhuLCJ1aS1idXR0b24iKX0sX2NoZWNrYm94cmFkaW9PcHRpb25zOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9idWlsZFNpbXBsZU9wdGlvbnMobiwidWktY2hlY2tib3hyYWRpby1sYWJlbCIpfSxfc2VsZWN0bWVudU9wdGlvbnM6ZnVuY3Rpb24obil7dmFyIHQ9InZlcnRpY2FsIj09PXRoaXMub3B0aW9ucy5kaXJlY3Rpb247cmV0dXJue3dpZHRoOnQ/ImF1dG8iOiExLGNsYXNzZXM6e21pZGRsZTp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOiIiLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiOiIifSxmaXJzdDp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOiJ1aS1jb3JuZXItIisodD8idG9wIjoidGwiKSwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkIjoidWktY29ybmVyLSIrKHQ/InRvcCI6ImxlZnQiKX0sbGFzdDp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOnQ/IiI6InVpLWNvcm5lci10ciIsInVpLXNlbGVjdG1lbnUtYnV0dG9uLWNsb3NlZCI6InVpLWNvcm5lci0iKyh0PyJib3R0b20iOiJyaWdodCIpfSxvbmx5OnsidWktc2VsZWN0bWVudS1idXR0b24tb3BlbiI6InVpLWNvcm5lci10b3AiLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiOiJ1aS1jb3JuZXItYWxsIn19W25dfX0sX3Jlc29sdmVDbGFzc2VzVmFsdWVzOmZ1bmN0aW9uKHQsaSl7dmFyIHI9e307cmV0dXJuIG4uZWFjaCh0LGZ1bmN0aW9uKHUpe3ZhciBmPWkub3B0aW9ucy5jbGFzc2VzW3VdfHwiIjtmPW4udHJpbShmLnJlcGxhY2UodywiIikpO3JbdV09KGYrIiAiK3RbdV0pLnJlcGxhY2UoL1xzKy9nLCIgIil9KSxyfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7cmV0dXJuImRpcmVjdGlvbiI9PT1uJiZ0aGlzLl9yZW1vdmVDbGFzcygidWktY29udHJvbGdyb3VwLSIrdGhpcy5vcHRpb25zLmRpcmVjdGlvbiksdGhpcy5fc3VwZXIobix0KSwiZGlzYWJsZWQiPT09bj8odGhpcy5fY2FsbENoaWxkTWV0aG9kKHQ/ImRpc2FibGUiOiJlbmFibGUiKSx2b2lkIDApOih0aGlzLnJlZnJlc2goKSx2b2lkIDApfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzO3RoaXMuX2FkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAgdWktY29udHJvbGdyb3VwLSIrdGhpcy5vcHRpb25zLmRpcmVjdGlvbik7Imhvcml6b250YWwiPT09dGhpcy5vcHRpb25zLmRpcmVjdGlvbiYmdGhpcy5fYWRkQ2xhc3MobnVsbCwidWktaGVscGVyLWNsZWFyZml4Iik7dGhpcy5faW5pdFdpZGdldHMoKTt0PXRoaXMuY2hpbGRXaWRnZXRzO3RoaXMub3B0aW9ucy5vbmx5VmlzaWJsZSYmKHQ9dC5maWx0ZXIoIjp2aXNpYmxlIikpO3QubGVuZ3RoJiYobi5lYWNoKFsiZmlyc3QiLCJsYXN0Il0sZnVuY3Rpb24obixyKXt2YXIgdT10W3JdKCkuZGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKSxmO3UmJmlbIl8iK3Uud2lkZ2V0TmFtZSsiT3B0aW9ucyJdPyhmPWlbIl8iK3Uud2lkZ2V0TmFtZSsiT3B0aW9ucyJdKDE9PT10Lmxlbmd0aD8ib25seSI6ciksZi5jbGFzc2VzPWkuX3Jlc29sdmVDbGFzc2VzVmFsdWVzKGYuY2xhc3Nlcyx1KSx1LmVsZW1lbnRbdS53aWRnZXROYW1lXShmKSk6aS5fdXBkYXRlQ29ybmVyQ2xhc3ModFtyXSgpLHIpfSksdGhpcy5fY2FsbENoaWxkTWV0aG9kKCJyZWZyZXNoIikpfX0pO24ud2lkZ2V0KCJ1aS5jaGVja2JveHJhZGlvIixbbi51aS5mb3JtUmVzZXRNaXhpbix7dmVyc2lvbjoiMS4xMi4xIixvcHRpb25zOntkaXNhYmxlZDpudWxsLGxhYmVsOm51bGwsaWNvbjohMCxjbGFzc2VzOnsidWktY2hlY2tib3hyYWRpby1sYWJlbCI6InVpLWNvcm5lci1hbGwiLCJ1aS1jaGVja2JveHJhZGlvLWljb24iOiJ1aS1jb3JuZXItYWxsIn19LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIHQsaSx1PXRoaXMscj10aGlzLl9zdXBlcigpfHx7fTtyZXR1cm4gdGhpcy5fcmVhZFR5cGUoKSxpPXRoaXMuZWxlbWVudC5sYWJlbHMoKSx0aGlzLmxhYmVsPW4oaVtpLmxlbmd0aC0xXSksdGhpcy5sYWJlbC5sZW5ndGh8fG4uZXJyb3IoIk5vIGxhYmVsIGZvdW5kIGZvciBjaGVja2JveHJhZGlvIHdpZGdldCIpLHRoaXMub3JpZ2luYWxMYWJlbD0iIix0aGlzLmxhYmVsLmNvbnRlbnRzKCkubm90KHRoaXMuZWxlbWVudFswXSkuZWFjaChmdW5jdGlvbigpe3Uub3JpZ2luYWxMYWJlbCs9Mz09PXRoaXMubm9kZVR5cGU/bih0aGlzKS50ZXh0KCk6dGhpcy5vdXRlckhUTUx9KSx0aGlzLm9yaWdpbmFsTGFiZWwmJihyLmxhYmVsPXRoaXMub3JpZ2luYWxMYWJlbCksdD10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQsbnVsbCE9dCYmKHIuZGlzYWJsZWQ9dCkscn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMuZWxlbWVudFswXS5jaGVja2VkO3RoaXMuX2JpbmRGb3JtUmVzZXRIYW5kbGVyKCk7bnVsbD09dGhpcy5vcHRpb25zLmRpc2FibGVkJiYodGhpcy5vcHRpb25zLmRpc2FibGVkPXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCk7dGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdGhpcy5vcHRpb25zLmRpc2FibGVkKTt0aGlzLl9hZGRDbGFzcygidWktY2hlY2tib3hyYWRpbyIsInVpLWhlbHBlci1oaWRkZW4tYWNjZXNzaWJsZSIpO3RoaXMuX2FkZENsYXNzKHRoaXMubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tbGFiZWwiLCJ1aS1idXR0b24gdWktd2lkZ2V0Iik7InJhZGlvIj09PXRoaXMudHlwZSYmdGhpcy5fYWRkQ2xhc3ModGhpcy5sYWJlbCwidWktY2hlY2tib3hyYWRpby1yYWRpby1sYWJlbCIpO3RoaXMub3B0aW9ucy5sYWJlbCYmdGhpcy5vcHRpb25zLmxhYmVsIT09dGhpcy5vcmlnaW5hbExhYmVsP3RoaXMuX3VwZGF0ZUxhYmVsKCk6dGhpcy5vcmlnaW5hbExhYmVsJiYodGhpcy5vcHRpb25zLmxhYmVsPXRoaXMub3JpZ2luYWxMYWJlbCk7dGhpcy5fZW5oYW5jZSgpO24mJih0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLCJ1aS1jaGVja2JveHJhZGlvLWNoZWNrZWQiLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLmljb24mJnRoaXMuX2FkZENsYXNzKHRoaXMuaWNvbixudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpKTt0aGlzLl9vbih7Y2hhbmdlOiJfdG9nZ2xlQ2xhc3NlcyIsZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLG51bGwsInVpLXN0YXRlLWZvY3VzIHVpLXZpc3VhbC1mb2N1cyIpfSxibHVyOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5sYWJlbCxudWxsLCJ1aS1zdGF0ZS1mb2N1cyB1aS12aXN1YWwtZm9jdXMiKX19KX0sX3JlYWRUeXBlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50WzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7dGhpcy50eXBlPXRoaXMuZWxlbWVudFswXS50eXBlOyJpbnB1dCI9PT10JiYvcmFkaW98Y2hlY2tib3gvLnRlc3QodGhpcy50eXBlKXx8bi5lcnJvcigiQ2FuJ3QgY3JlYXRlIGNoZWNrYm94cmFkaW8gb24gZWxlbWVudC5ub2RlTmFtZT0iK3QrIiBhbmQgZWxlbWVudC50eXBlPSIrdGhpcy50eXBlKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVJY29uKHRoaXMuZWxlbWVudFswXS5jaGVja2VkKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWx9LF9nZXRSYWRpb0dyb3VwOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLmVsZW1lbnRbMF0ubmFtZSxyPSJpbnB1dFtuYW1lPSciK24udWkuZXNjYXBlU2VsZWN0b3IoaSkrIiddIjtyZXR1cm4gaT8odD10aGlzLmZvcm0ubGVuZ3RoP24odGhpcy5mb3JtWzBdLmVsZW1lbnRzKS5maWx0ZXIocik6bihyKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PW4odGhpcykuZm9ybSgpLmxlbmd0aH0pLHQubm90KHRoaXMuZWxlbWVudCkpOm4oW10pfSxfdG9nZ2xlQ2xhc3NlczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudFswXS5jaGVja2VkO3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZCIsInVpLXN0YXRlLWFjdGl2ZSIsdCk7dGhpcy5vcHRpb25zLmljb24mJiJjaGVja2JveCI9PT10aGlzLnR5cGUmJnRoaXMuX3RvZ2dsZUNsYXNzKHRoaXMuaWNvbixudWxsLCJ1aS1pY29uLWNoZWNrIHVpLXN0YXRlLWNoZWNrZWQiLHQpLl90b2dnbGVDbGFzcyh0aGlzLmljb24sbnVsbCwidWktaWNvbi1ibGFuayIsIXQpOyJyYWRpbyI9PT10aGlzLnR5cGUmJnRoaXMuX2dldFJhZGlvR3JvdXAoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5jaGVja2JveHJhZGlvKCJpbnN0YW5jZSIpO3QmJnQuX3JlbW92ZUNsYXNzKHQubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZCIsInVpLXN0YXRlLWFjdGl2ZSIpfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fdW5iaW5kRm9ybVJlc2V0SGFuZGxlcigpO3RoaXMuaWNvbiYmKHRoaXMuaWNvbi5yZW1vdmUoKSx0aGlzLmljb25TcGFjZS5yZW1vdmUoKSl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtpZigibGFiZWwiIT09bnx8dClyZXR1cm4odGhpcy5fc3VwZXIobix0KSwiZGlzYWJsZWQiPT09bj8odGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy5sYWJlbCxudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsdCksdGhpcy5lbGVtZW50WzBdLmRpc2FibGVkPXQsdm9pZCAwKToodGhpcy5yZWZyZXNoKCksdm9pZCAwKSl9LF91cGRhdGVJY29uOmZ1bmN0aW9uKHQpe3ZhciBpPSJ1aS1pY29uIHVpLWljb24tYmFja2dyb3VuZCAiO3RoaXMub3B0aW9ucy5pY29uPyh0aGlzLmljb258fCh0aGlzLmljb249bigiPHNwYW4+IiksdGhpcy5pY29uU3BhY2U9bigiPHNwYW4+IDxcL3NwYW4+IiksdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uU3BhY2UsInVpLWNoZWNrYm94cmFkaW8taWNvbi1zcGFjZSIpKSwiY2hlY2tib3giPT09dGhpcy50eXBlPyhpKz10PyJ1aS1pY29uLWNoZWNrIHVpLXN0YXRlLWNoZWNrZWQiOiJ1aS1pY29uLWJsYW5rIix0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmljb24sbnVsbCx0PyJ1aS1pY29uLWJsYW5rIjoidWktaWNvbi1jaGVjayIpKTppKz0idWktaWNvbi1ibGFuayIsdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uLCJ1aS1jaGVja2JveHJhZGlvLWljb24iLGkpLHR8fHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaWNvbixudWxsLCJ1aS1pY29uLWNoZWNrIHVpLXN0YXRlLWNoZWNrZWQiKSx0aGlzLmljb24ucHJlcGVuZFRvKHRoaXMubGFiZWwpLmFmdGVyKHRoaXMuaWNvblNwYWNlKSk6dm9pZCAwIT09dGhpcy5pY29uJiYodGhpcy5pY29uLnJlbW92ZSgpLHRoaXMuaWNvblNwYWNlLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLmljb24pfSxfdXBkYXRlTGFiZWw6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmxhYmVsLmNvbnRlbnRzKCkubm90KHRoaXMuZWxlbWVudFswXSk7dGhpcy5pY29uJiYobj1uLm5vdCh0aGlzLmljb25bMF0pKTt0aGlzLmljb25TcGFjZSYmKG49bi5ub3QodGhpcy5pY29uU3BhY2VbMF0pKTtuLnJlbW92ZSgpO3RoaXMubGFiZWwuYXBwZW5kKHRoaXMub3B0aW9ucy5sYWJlbCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmVsZW1lbnRbMF0uY2hlY2tlZCx0PXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZDt0aGlzLl91cGRhdGVJY29uKG4pO3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZCIsInVpLXN0YXRlLWFjdGl2ZSIsbik7bnVsbCE9PXRoaXMub3B0aW9ucy5sYWJlbCYmdGhpcy5fdXBkYXRlTGFiZWwoKTt0IT09dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDp0fSl9fV0pO24udWkuY2hlY2tib3hyYWRpbztuLndpZGdldCgidWkuYnV0dG9uIix7dmVyc2lvbjoiMS4xMi4xIixkZWZhdWx0RWxlbWVudDoiPGJ1dHRvbj4iLG9wdGlvbnM6e2NsYXNzZXM6eyJ1aS1idXR0b24iOiJ1aS1jb3JuZXItYWxsIn0sZGlzYWJsZWQ6bnVsbCxpY29uOm51bGwsaWNvblBvc2l0aW9uOiJiZWdpbm5pbmciLGxhYmVsOm51bGwsc2hvd0xhYmVsOiEwfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBuLHQ9dGhpcy5fc3VwZXIoKXx8e307cmV0dXJuIHRoaXMuaXNJbnB1dD10aGlzLmVsZW1lbnQuaXMoImlucHV0Iiksbj10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQsbnVsbCE9biYmKHQuZGlzYWJsZWQ9biksdGhpcy5vcmlnaW5hbExhYmVsPXRoaXMuaXNJbnB1dD90aGlzLmVsZW1lbnQudmFsKCk6dGhpcy5lbGVtZW50Lmh0bWwoKSx0aGlzLm9yaWdpbmFsTGFiZWwmJih0LmxhYmVsPXRoaXMub3JpZ2luYWxMYWJlbCksdH0sX2NyZWF0ZTpmdW5jdGlvbigpeyF0aGlzLm9wdGlvbi5zaG93TGFiZWwmIXRoaXMub3B0aW9ucy5pY29uJiYodGhpcy5vcHRpb25zLnNob3dMYWJlbD0hMCk7bnVsbD09dGhpcy5vcHRpb25zLmRpc2FibGVkJiYodGhpcy5vcHRpb25zLmRpc2FibGVkPXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZHx8ITEpO3RoaXMuaGFzVGl0bGU9ISF0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiKTt0aGlzLm9wdGlvbnMubGFiZWwmJnRoaXMub3B0aW9ucy5sYWJlbCE9PXRoaXMub3JpZ2luYWxMYWJlbCYmKHRoaXMuaXNJbnB1dD90aGlzLmVsZW1lbnQudmFsKHRoaXMub3B0aW9ucy5sYWJlbCk6dGhpcy5lbGVtZW50Lmh0bWwodGhpcy5vcHRpb25zLmxhYmVsKSk7dGhpcy5fYWRkQ2xhc3MoInVpLWJ1dHRvbiIsInVpLXdpZGdldCIpO3RoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRoaXMub3B0aW9ucy5kaXNhYmxlZCk7dGhpcy5fZW5oYW5jZSgpO3RoaXMuZWxlbWVudC5pcygiYSIpJiZ0aGlzLl9vbih7a2V5dXA6ZnVuY3Rpb24odCl7dC5rZXlDb2RlPT09bi51aS5rZXlDb2RlLlNQQUNFJiYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuZWxlbWVudFswXS5jbGljaz90aGlzLmVsZW1lbnRbMF0uY2xpY2soKTp0aGlzLmVsZW1lbnQudHJpZ2dlcigiY2xpY2siKSl9fSl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmlzKCJidXR0b24iKXx8dGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJidXR0b24iKTt0aGlzLm9wdGlvbnMuaWNvbiYmKHRoaXMuX3VwZGF0ZUljb24oImljb24iLHRoaXMub3B0aW9ucy5pY29uKSx0aGlzLl91cGRhdGVUb29sdGlwKCkpfSxfdXBkYXRlVG9vbHRpcDpmdW5jdGlvbigpe3RoaXMudGl0bGU9dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIik7dGhpcy5vcHRpb25zLnNob3dMYWJlbHx8dGhpcy50aXRsZXx8dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIix0aGlzLm9wdGlvbnMubGFiZWwpfSxfdXBkYXRlSWNvbjpmdW5jdGlvbih0LGkpe3ZhciB1PSJpY29uUG9zaXRpb24iIT09dCxyPXU/dGhpcy5vcHRpb25zLmljb25Qb3NpdGlvbjppLGY9InRvcCI9PT1yfHwiYm90dG9tIj09PXI7dGhpcy5pY29uP3UmJnRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaWNvbixudWxsLHRoaXMub3B0aW9ucy5pY29uKToodGhpcy5pY29uPW4oIjxzcGFuPiIpLHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvbiwidWktYnV0dG9uLWljb24iLCJ1aS1pY29uIiksdGhpcy5vcHRpb25zLnNob3dMYWJlbHx8dGhpcy5fYWRkQ2xhc3MoInVpLWJ1dHRvbi1pY29uLW9ubHkiKSk7dSYmdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uLG51bGwsaSk7dGhpcy5fYXR0YWNoSWNvbihyKTtmPyh0aGlzLl9hZGRDbGFzcyh0aGlzLmljb24sbnVsbCwidWktd2lkZ2V0LWljb24tYmxvY2siKSx0aGlzLmljb25TcGFjZSYmdGhpcy5pY29uU3BhY2UucmVtb3ZlKCkpOih0aGlzLmljb25TcGFjZXx8KHRoaXMuaWNvblNwYWNlPW4oIjxzcGFuPiA8XC9zcGFuPiIpLHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvblNwYWNlLCJ1aS1idXR0b24taWNvbi1zcGFjZSIpKSx0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmljb24sbnVsbCwidWktd2lnZXQtaWNvbi1ibG9jayIpLHRoaXMuX2F0dGFjaEljb25TcGFjZShyKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInJvbGUiKTt0aGlzLmljb24mJnRoaXMuaWNvbi5yZW1vdmUoKTt0aGlzLmljb25TcGFjZSYmdGhpcy5pY29uU3BhY2UucmVtb3ZlKCk7dGhpcy5oYXNUaXRsZXx8dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInRpdGxlIil9LF9hdHRhY2hJY29uU3BhY2U6ZnVuY3Rpb24obil7dGhpcy5pY29uWy9eKD86ZW5kfGJvdHRvbSkvLnRlc3Qobik/ImJlZm9yZSI6ImFmdGVyIl0odGhpcy5pY29uU3BhY2UpfSxfYXR0YWNoSWNvbjpmdW5jdGlvbihuKXt0aGlzLmVsZW1lbnRbL14oPzplbmR8Ym90dG9tKS8udGVzdChuKT8iYXBwZW5kIjoicHJlcGVuZCJdKHRoaXMuaWNvbil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PXZvaWQgMD09PW4uc2hvd0xhYmVsP3RoaXMub3B0aW9ucy5zaG93TGFiZWw6bi5zaG93TGFiZWwsaT12b2lkIDA9PT1uLmljb24/dGhpcy5vcHRpb25zLmljb246bi5pY29uO3R8fGl8fChuLnNob3dMYWJlbD0hMCk7dGhpcy5fc3VwZXIobil9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXsiaWNvbiI9PT1uJiYodD90aGlzLl91cGRhdGVJY29uKG4sdCk6dGhpcy5pY29uJiYodGhpcy5pY29uLnJlbW92ZSgpLHRoaXMuaWNvblNwYWNlJiZ0aGlzLmljb25TcGFjZS5yZW1vdmUoKSkpOyJpY29uUG9zaXRpb24iPT09biYmdGhpcy5fdXBkYXRlSWNvbihuLHQpOyJzaG93TGFiZWwiPT09biYmKHRoaXMuX3RvZ2dsZUNsYXNzKCJ1aS1idXR0b24taWNvbi1vbmx5IixudWxsLCF0KSx0aGlzLl91cGRhdGVUb29sdGlwKCkpOyJsYWJlbCI9PT1uJiYodGhpcy5pc0lucHV0P3RoaXMuZWxlbWVudC52YWwodCk6KHRoaXMuZWxlbWVudC5odG1sKHQpLHRoaXMuaWNvbiYmKHRoaXMuX2F0dGFjaEljb24odGhpcy5vcHRpb25zLmljb25Qb3NpdGlvbiksdGhpcy5fYXR0YWNoSWNvblNwYWNlKHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb24pKSkpO3RoaXMuX3N1cGVyKG4sdCk7ImRpc2FibGVkIj09PW4mJih0aGlzLl90b2dnbGVDbGFzcyhudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsdCksdGhpcy5lbGVtZW50WzBdLmRpc2FibGVkPXQsdCYmdGhpcy5lbGVtZW50LmJsdXIoKSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmVsZW1lbnQuaXMoImlucHV0LCBidXR0b24iKT90aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQ6dGhpcy5lbGVtZW50Lmhhc0NsYXNzKCJ1aS1idXR0b24tZGlzYWJsZWQiKTtuIT09dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDpufSk7dGhpcy5fdXBkYXRlVG9vbHRpcCgpfX0pO24udWlCYWNrQ29tcGF0IT09ITEmJihuLndpZGdldCgidWkuYnV0dG9uIixuLnVpLmJ1dHRvbix7b3B0aW9uczp7dGV4dDohMCxpY29uczp7cHJpbWFyeTpudWxsLHNlY29uZGFyeTpudWxsfX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5zaG93TGFiZWwmJiF0aGlzLm9wdGlvbnMudGV4dCYmKHRoaXMub3B0aW9ucy5zaG93TGFiZWw9dGhpcy5vcHRpb25zLnRleHQpOyF0aGlzLm9wdGlvbnMuc2hvd0xhYmVsJiZ0aGlzLm9wdGlvbnMudGV4dCYmKHRoaXMub3B0aW9ucy50ZXh0PXRoaXMub3B0aW9ucy5zaG93TGFiZWwpO3RoaXMub3B0aW9ucy5pY29ufHwhdGhpcy5vcHRpb25zLmljb25zLnByaW1hcnkmJiF0aGlzLm9wdGlvbnMuaWNvbnMuc2Vjb25kYXJ5P3RoaXMub3B0aW9ucy5pY29uJiYodGhpcy5vcHRpb25zLmljb25zLnByaW1hcnk9dGhpcy5vcHRpb25zLmljb24pOnRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5P3RoaXMub3B0aW9ucy5pY29uPXRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5Oih0aGlzLm9wdGlvbnMuaWNvbj10aGlzLm9wdGlvbnMuaWNvbnMuc2Vjb25kYXJ5LHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb249ImVuZCIpO3RoaXMuX3N1cGVyKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtyZXR1cm4idGV4dCI9PT1uPyh0aGlzLl9zdXBlcigic2hvd0xhYmVsIix0KSx2b2lkIDApOigic2hvd0xhYmVsIj09PW4mJih0aGlzLm9wdGlvbnMudGV4dD10KSwiaWNvbiI9PT1uJiYodGhpcy5vcHRpb25zLmljb25zLnByaW1hcnk9dCksImljb25zIj09PW4mJih0LnByaW1hcnk/KHRoaXMuX3N1cGVyKCJpY29uIix0LnByaW1hcnkpLHRoaXMuX3N1cGVyKCJpY29uUG9zaXRpb24iLCJiZWdpbm5pbmciKSk6dC5zZWNvbmRhcnkmJih0aGlzLl9zdXBlcigiaWNvbiIsdC5zZWNvbmRhcnkpLHRoaXMuX3N1cGVyKCJpY29uUG9zaXRpb24iLCJlbmQiKSkpLHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSx2b2lkIDApfX0pLG4uZm4uYnV0dG9uPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiF0aGlzLmxlbmd0aHx8dGhpcy5sZW5ndGgmJiJJTlBVVCIhPT10aGlzWzBdLnRhZ05hbWV8fHRoaXMubGVuZ3RoJiYiSU5QVVQiPT09dGhpc1swXS50YWdOYW1lJiYiY2hlY2tib3giIT09dGhpcy5hdHRyKCJ0eXBlIikmJiJyYWRpbyIhPT10aGlzLmF0dHIoInR5cGUiKT90LmFwcGx5KHRoaXMsYXJndW1lbnRzKToobi51aS5jaGVja2JveHJhZGlvfHxuLmVycm9yKCJDaGVja2JveHJhZGlvIHdpZGdldCBtaXNzaW5nIiksMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5jaGVja2JveHJhZGlvKHtpY29uOiExfSk6dGhpcy5jaGVja2JveHJhZGlvLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9fShuLmZuLmJ1dHRvbiksbi5mbi5idXR0b25zZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbi51aS5jb250cm9sZ3JvdXB8fG4uZXJyb3IoIkNvbnRyb2xncm91cCB3aWRnZXQgbWlzc2luZyIpLCJvcHRpb24iPT09YXJndW1lbnRzWzBdJiYiaXRlbXMiPT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMl0/dGhpcy5jb250cm9sZ3JvdXAuYXBwbHkodGhpcyxbYXJndW1lbnRzWzBdLCJpdGVtcy5idXR0b24iLGFyZ3VtZW50c1syXV0pOiJvcHRpb24iPT09YXJndW1lbnRzWzBdJiYiaXRlbXMiPT09YXJndW1lbnRzWzFdP3RoaXMuY29udHJvbGdyb3VwLmFwcGx5KHRoaXMsW2FyZ3VtZW50c1swXSwiaXRlbXMuYnV0dG9uIl0pOigib2JqZWN0Ij09dHlwZW9mIGFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLml0ZW1zJiYoYXJndW1lbnRzWzBdLml0ZW1zPXtidXR0b246YXJndW1lbnRzWzBdLml0ZW1zfSksdGhpcy5jb250cm9sZ3JvdXAuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0pO24udWkuYnV0dG9uO24uZXh0ZW5kKG4udWkse2RhdGVwaWNrZXI6e3ZlcnNpb246IjEuMTIuMSJ9fSk7bi5leHRlbmQoYy5wcm90b3R5cGUse21hcmtlckNsYXNzTmFtZToiaGFzRGF0ZXBpY2tlciIsbWF4Um93czo0LF93aWRnZXREYXRlcGlja2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHBEaXZ9LHNldERlZmF1bHRzOmZ1bmN0aW9uKG4pe3JldHVybiB1KHRoaXMuX2RlZmF1bHRzLG58fHt9KSx0aGlzfSxfYXR0YWNoRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkpe3ZhciByLGYsdTtyPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtmPSJkaXYiPT09cnx8InNwYW4iPT09cjt0LmlkfHwodGhpcy51dWlkKz0xLHQuaWQ9ImRwIit0aGlzLnV1aWQpO3U9dGhpcy5fbmV3SW5zdChuKHQpLGYpO3Uuc2V0dGluZ3M9bi5leHRlbmQoe30saXx8e30pOyJpbnB1dCI9PT1yP3RoaXMuX2Nvbm5lY3REYXRlcGlja2VyKHQsdSk6ZiYmdGhpcy5faW5saW5lRGF0ZXBpY2tlcih0LHUpfSxfbmV3SW5zdDpmdW5jdGlvbih0LGkpe3ZhciByPXRbMF0uaWQucmVwbGFjZSgvKFteQS1aYS16MC05X1wtXSkvZywiXFxcXCQxIik7cmV0dXJue2lkOnIsaW5wdXQ6dCxzZWxlY3RlZERheTowLHNlbGVjdGVkTW9udGg6MCxzZWxlY3RlZFllYXI6MCxkcmF3TW9udGg6MCxkcmF3WWVhcjowLGlubGluZTppLGRwRGl2Omk/bChuKCI8ZGl2IGNsYXNzPSciK3RoaXMuX2lubGluZUNsYXNzKyIgdWktZGF0ZXBpY2tlciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktaGVscGVyLWNsZWFyZml4IHVpLWNvcm5lci1hbGwnPjxcL2Rpdj4iKSk6dGhpcy5kcERpdn19LF9jb25uZWN0RGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkpe3ZhciByPW4odCk7aS5hcHBlbmQ9bihbXSk7aS50cmlnZ2VyPW4oW10pO3IuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpfHwodGhpcy5fYXR0YWNobWVudHMocixpKSxyLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5vbigia2V5ZG93biIsdGhpcy5fZG9LZXlEb3duKS5vbigia2V5cHJlc3MiLHRoaXMuX2RvS2V5UHJlc3MpLm9uKCJrZXl1cCIsdGhpcy5fZG9LZXlVcCksdGhpcy5fYXV0b1NpemUoaSksbi5kYXRhKHQsImRhdGVwaWNrZXIiLGkpLGkuc2V0dGluZ3MuZGlzYWJsZWQmJnRoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHQpKX0sX2F0dGFjaG1lbnRzOmZ1bmN0aW9uKHQsaSl7dmFyIHUscixmLGU9dGhpcy5fZ2V0KGksImFwcGVuZFRleHQiKSxvPXRoaXMuX2dldChpLCJpc1JUTCIpO2kuYXBwZW5kJiZpLmFwcGVuZC5yZW1vdmUoKTtlJiYoaS5hcHBlbmQ9bigiPHNwYW4gY2xhc3M9JyIrdGhpcy5fYXBwZW5kQ2xhc3MrIic+IitlKyI8XC9zcGFuPiIpLHRbbz8iYmVmb3JlIjoiYWZ0ZXIiXShpLmFwcGVuZCkpO3Qub2ZmKCJmb2N1cyIsdGhpcy5fc2hvd0RhdGVwaWNrZXIpO2kudHJpZ2dlciYmaS50cmlnZ2VyLnJlbW92ZSgpO3U9dGhpcy5fZ2V0KGksInNob3dPbiIpOygiZm9jdXMiPT09dXx8ImJvdGgiPT09dSkmJnQub24oImZvY3VzIix0aGlzLl9zaG93RGF0ZXBpY2tlcik7KCJidXR0b24iPT09dXx8ImJvdGgiPT09dSkmJihyPXRoaXMuX2dldChpLCJidXR0b25UZXh0IiksZj10aGlzLl9nZXQoaSwiYnV0dG9uSW1hZ2UiKSxpLnRyaWdnZXI9bih0aGlzLl9nZXQoaSwiYnV0dG9uSW1hZ2VPbmx5Iik/bigiPGltZy8+IikuYWRkQ2xhc3ModGhpcy5fdHJpZ2dlckNsYXNzKS5hdHRyKHtzcmM6ZixhbHQ6cix0aXRsZTpyfSk6bigiPGJ1dHRvbiB0eXBlPSdidXR0b24nPjxcL2J1dHRvbj4iKS5hZGRDbGFzcyh0aGlzLl90cmlnZ2VyQ2xhc3MpLmh0bWwoZj9uKCI8aW1nLz4iKS5hdHRyKHtzcmM6ZixhbHQ6cix0aXRsZTpyfSk6cikpLHRbbz8iYmVmb3JlIjoiYWZ0ZXIiXShpLnRyaWdnZXIpLGkudHJpZ2dlci5vbigiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIG4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJm4uZGF0ZXBpY2tlci5fbGFzdElucHV0PT09dFswXT9uLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk6bi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmbi5kYXRlcGlja2VyLl9sYXN0SW5wdXQhPT10WzBdPyhuLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCksbi5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0WzBdKSk6bi5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0WzBdKSwhMX0pKX0sX2F1dG9TaXplOmZ1bmN0aW9uKG4pe2lmKHRoaXMuX2dldChuLCJhdXRvU2l6ZSIpJiYhbi5pbmxpbmUpe3ZhciByLHUsZix0LGk9bmV3IERhdGUoMjAwOSwxMSwyMCksZT10aGlzLl9nZXQobiwiZGF0ZUZvcm1hdCIpO2UubWF0Y2goL1tETV0vKSYmKHI9ZnVuY3Rpb24obil7Zm9yKHU9MCxmPTAsdD0wO24ubGVuZ3RoPnQ7dCsrKW5bdF0ubGVuZ3RoPnUmJih1PW5bdF0ubGVuZ3RoLGY9dCk7cmV0dXJuIGZ9LGkuc2V0TW9udGgocih0aGlzLl9nZXQobixlLm1hdGNoKC9NTS8pPyJtb250aE5hbWVzIjoibW9udGhOYW1lc1Nob3J0IikpKSxpLnNldERhdGUocih0aGlzLl9nZXQobixlLm1hdGNoKC9ERC8pPyJkYXlOYW1lcyI6ImRheU5hbWVzU2hvcnQiKSkrMjAtaS5nZXREYXkoKSkpO24uaW5wdXQuYXR0cigic2l6ZSIsdGhpcy5fZm9ybWF0RGF0ZShuLGkpLmxlbmd0aCl9fSxfaW5saW5lRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkpe3ZhciByPW4odCk7ci5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSl8fChyLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5hcHBlbmQoaS5kcERpdiksbi5kYXRhKHQsImRhdGVwaWNrZXIiLGkpLHRoaXMuX3NldERhdGUoaSx0aGlzLl9nZXREZWZhdWx0RGF0ZShpKSwhMCksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihpKSx0aGlzLl91cGRhdGVBbHRlcm5hdGUoaSksaS5zZXR0aW5ncy5kaXNhYmxlZCYmdGhpcy5fZGlzYWJsZURhdGVwaWNrZXIodCksaS5kcERpdi5jc3MoImRpc3BsYXkiLCJibG9jayIpKX0sX2RpYWxvZ0RhdGVwaWNrZXI6ZnVuY3Rpb24odCxpLHIsZixlKXt2YXIgcyxoLGMsbCxhLG89dGhpcy5fZGlhbG9nSW5zdDtyZXR1cm4gb3x8KHRoaXMudXVpZCs9MSxzPSJkcCIrdGhpcy51dWlkLHRoaXMuX2RpYWxvZ0lucHV0PW4oIjxpbnB1dCB0eXBlPSd0ZXh0JyBpZD0nIitzKyInIHN0eWxlPSdwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogLTEwMHB4OyB3aWR0aDogMHB4OycvPiIpLHRoaXMuX2RpYWxvZ0lucHV0Lm9uKCJrZXlkb3duIix0aGlzLl9kb0tleURvd24pLG4oImJvZHkiKS5hcHBlbmQodGhpcy5fZGlhbG9nSW5wdXQpLG89dGhpcy5fZGlhbG9nSW5zdD10aGlzLl9uZXdJbnN0KHRoaXMuX2RpYWxvZ0lucHV0LCExKSxvLnNldHRpbmdzPXt9LG4uZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSwiZGF0ZXBpY2tlciIsbykpLHUoby5zZXR0aW5ncyxmfHx7fSksaT1pJiZpLmNvbnN0cnVjdG9yPT09RGF0ZT90aGlzLl9mb3JtYXREYXRlKG8saSk6aSx0aGlzLl9kaWFsb2dJbnB1dC52YWwoaSksdGhpcy5fcG9zPWU/ZS5sZW5ndGg/ZTpbZS5wYWdlWCxlLnBhZ2VZXTpudWxsLHRoaXMuX3Bvc3x8KGg9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLGM9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxsPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQsYT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHxkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCx0aGlzLl9wb3M9W2gvMi0xMDArbCxjLzItMTUwK2FdKSx0aGlzLl9kaWFsb2dJbnB1dC5jc3MoImxlZnQiLHRoaXMuX3Bvc1swXSsyMCsicHgiKS5jc3MoInRvcCIsdGhpcy5fcG9zWzFdKyJweCIpLG8uc2V0dGluZ3Mub25TZWxlY3Q9cix0aGlzLl9pbkRpYWxvZz0hMCx0aGlzLmRwRGl2LmFkZENsYXNzKHRoaXMuX2RpYWxvZ0NsYXNzKSx0aGlzLl9zaG93RGF0ZXBpY2tlcih0aGlzLl9kaWFsb2dJbnB1dFswXSksbi5ibG9ja1VJJiZuLmJsb2NrVUkodGhpcy5kcERpdiksbi5kYXRhKHRoaXMuX2RpYWxvZ0lucHV0WzBdLCJkYXRlcGlja2VyIixvKSx0aGlzfSxfZGVzdHJveURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dmFyIHIsdT1uKHQpLGY9bi5kYXRhKHQsImRhdGVwaWNrZXIiKTt1Lmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSYmKHI9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLG4ucmVtb3ZlRGF0YSh0LCJkYXRlcGlja2VyIiksImlucHV0Ij09PXI/KGYuYXBwZW5kLnJlbW92ZSgpLGYudHJpZ2dlci5yZW1vdmUoKSx1LnJlbW92ZUNsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5vZmYoImZvY3VzIix0aGlzLl9zaG93RGF0ZXBpY2tlcikub2ZmKCJrZXlkb3duIix0aGlzLl9kb0tleURvd24pLm9mZigia2V5cHJlc3MiLHRoaXMuX2RvS2V5UHJlc3MpLm9mZigia2V5dXAiLHRoaXMuX2RvS2V5VXApKTooImRpdiI9PT1yfHwic3BhbiI9PT1yKSYmdS5yZW1vdmVDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkuZW1wdHkoKSxpPT09ZiYmKGk9bnVsbCkpfSxfZW5hYmxlRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt2YXIgaSxyLHU9bih0KSxmPW4uZGF0YSh0LCJkYXRlcGlja2VyIik7dS5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkmJihpPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwiaW5wdXQiPT09aT8odC5kaXNhYmxlZD0hMSxmLnRyaWdnZXIuZmlsdGVyKCJidXR0b24iKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD0hMX0pLmVuZCgpLmZpbHRlcigiaW1nIikuY3NzKHtvcGFjaXR5OiIxLjAiLGN1cnNvcjoiIn0pKTooImRpdiI9PT1pfHwic3BhbiI9PT1pKSYmKHI9dS5jaGlsZHJlbigiLiIrdGhpcy5faW5saW5lQ2xhc3MpLHIuY2hpbGRyZW4oKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSxyLmZpbmQoInNlbGVjdC51aS1kYXRlcGlja2VyLW1vbnRoLCBzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyIikucHJvcCgiZGlzYWJsZWQiLCExKSksdGhpcy5fZGlzYWJsZWRJbnB1dHM9bi5tYXAodGhpcy5fZGlzYWJsZWRJbnB1dHMsZnVuY3Rpb24obil7cmV0dXJuIG49PT10P251bGw6bn0pKX0sX2Rpc2FibGVEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdT1uKHQpLGY9bi5kYXRhKHQsImRhdGVwaWNrZXIiKTt1Lmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSYmKGk9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCJpbnB1dCI9PT1pPyh0LmRpc2FibGVkPSEwLGYudHJpZ2dlci5maWx0ZXIoImJ1dHRvbiIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPSEwfSkuZW5kKCkuZmlsdGVyKCJpbWciKS5jc3Moe29wYWNpdHk6IjAuNSIsY3Vyc29yOiJkZWZhdWx0In0pKTooImRpdiI9PT1pfHwic3BhbiI9PT1pKSYmKHI9dS5jaGlsZHJlbigiLiIrdGhpcy5faW5saW5lQ2xhc3MpLHIuY2hpbGRyZW4oKS5hZGRDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSxyLmZpbmQoInNlbGVjdC51aS1kYXRlcGlja2VyLW1vbnRoLCBzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyIikucHJvcCgiZGlzYWJsZWQiLCEwKSksdGhpcy5fZGlzYWJsZWRJbnB1dHM9bi5tYXAodGhpcy5fZGlzYWJsZWRJbnB1dHMsZnVuY3Rpb24obil7cmV0dXJuIG49PT10P251bGw6bn0pLHRoaXMuX2Rpc2FibGVkSW5wdXRzW3RoaXMuX2Rpc2FibGVkSW5wdXRzLmxlbmd0aF09dCl9LF9pc0Rpc2FibGVkRGF0ZXBpY2tlcjpmdW5jdGlvbihuKXtpZighbilyZXR1cm4hMTtmb3IodmFyIHQ9MDt0aGlzLl9kaXNhYmxlZElucHV0cy5sZW5ndGg+dDt0KyspaWYodGhpcy5fZGlzYWJsZWRJbnB1dHNbdF09PT1uKXJldHVybiEwO3JldHVybiExfSxfZ2V0SW5zdDpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIG4uZGF0YSh0LCJkYXRlcGlja2VyIil9Y2F0Y2goaSl7dGhyb3ciTWlzc2luZyBpbnN0YW5jZSBkYXRhIGZvciB0aGlzIGRhdGVwaWNrZXIiO319LF9vcHRpb25EYXRlcGlja2VyOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZSxoLG8scyxmPXRoaXMuX2dldEluc3QodCk7cmV0dXJuIDI9PT1hcmd1bWVudHMubGVuZ3RoJiYic3RyaW5nIj09dHlwZW9mIGk/ImRlZmF1bHRzIj09PWk/bi5leHRlbmQoe30sbi5kYXRlcGlja2VyLl9kZWZhdWx0cyk6Zj8iYWxsIj09PWk/bi5leHRlbmQoe30sZi5zZXR0aW5ncyk6dGhpcy5fZ2V0KGYsaSk6bnVsbDooZT1pfHx7fSwic3RyaW5nIj09dHlwZW9mIGkmJihlPXt9LGVbaV09ciksZiYmKHRoaXMuX2N1ckluc3Q9PT1mJiZ0aGlzLl9oaWRlRGF0ZXBpY2tlcigpLGg9dGhpcy5fZ2V0RGF0ZURhdGVwaWNrZXIodCwhMCksbz10aGlzLl9nZXRNaW5NYXhEYXRlKGYsIm1pbiIpLHM9dGhpcy5fZ2V0TWluTWF4RGF0ZShmLCJtYXgiKSx1KGYuc2V0dGluZ3MsZSksbnVsbCE9PW8mJnZvaWQgMCE9PWUuZGF0ZUZvcm1hdCYmdm9pZCAwPT09ZS5taW5EYXRlJiYoZi5zZXR0aW5ncy5taW5EYXRlPXRoaXMuX2Zvcm1hdERhdGUoZixvKSksbnVsbCE9PXMmJnZvaWQgMCE9PWUuZGF0ZUZvcm1hdCYmdm9pZCAwPT09ZS5tYXhEYXRlJiYoZi5zZXR0aW5ncy5tYXhEYXRlPXRoaXMuX2Zvcm1hdERhdGUoZixzKSksImRpc2FibGVkImluIGUmJihlLmRpc2FibGVkP3RoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHQpOnRoaXMuX2VuYWJsZURhdGVwaWNrZXIodCkpLHRoaXMuX2F0dGFjaG1lbnRzKG4odCksZiksdGhpcy5fYXV0b1NpemUoZiksdGhpcy5fc2V0RGF0ZShmLGgpLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShmKSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKGYpKSx2b2lkIDApfSxfY2hhbmdlRGF0ZXBpY2tlcjpmdW5jdGlvbihuLHQsaSl7dGhpcy5fb3B0aW9uRGF0ZXBpY2tlcihuLHQsaSl9LF9yZWZyZXNoRGF0ZXBpY2tlcjpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9nZXRJbnN0KG4pO3QmJnRoaXMuX3VwZGF0ZURhdGVwaWNrZXIodCl9LF9zZXREYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuX2dldEluc3Qobik7aSYmKHRoaXMuX3NldERhdGUoaSx0KSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKGkpLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShpKSl9LF9nZXREYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuX2dldEluc3Qobik7cmV0dXJuIGkmJiFpLmlubGluZSYmdGhpcy5fc2V0RGF0ZUZyb21GaWVsZChpLHQpLGk/dGhpcy5fZ2V0RGF0ZShpKTpudWxsfSxfZG9LZXlEb3duOmZ1bmN0aW9uKHQpe3ZhciB1LGUsZixpPW4uZGF0ZXBpY2tlci5fZ2V0SW5zdCh0LnRhcmdldCkscj0hMCxvPWkuZHBEaXYuaXMoIi51aS1kYXRlcGlja2VyLXJ0bCIpO2lmKGkuX2tleUV2ZW50PSEwLG4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcpc3dpdGNoKHQua2V5Q29kZSl7Y2FzZSA5Om4uZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTtyPSExO2JyZWFrO2Nhc2UgMTM6cmV0dXJuIGY9bigidGQuIituLmRhdGVwaWNrZXIuX2RheU92ZXJDbGFzcysiOm5vdCguIituLmRhdGVwaWNrZXIuX2N1cnJlbnRDbGFzcysiKSIsaS5kcERpdiksZlswXSYmbi5kYXRlcGlja2VyLl9zZWxlY3REYXkodC50YXJnZXQsaS5zZWxlY3RlZE1vbnRoLGkuc2VsZWN0ZWRZZWFyLGZbMF0pLHU9bi5kYXRlcGlja2VyLl9nZXQoaSwib25TZWxlY3QiKSx1PyhlPW4uZGF0ZXBpY2tlci5fZm9ybWF0RGF0ZShpKSx1LmFwcGx5KGkuaW5wdXQ/aS5pbnB1dFswXTpudWxsLFtlLGldKSk6bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpLCExO2Nhc2UgMjc6bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpO2JyZWFrO2Nhc2UgMzM6bi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LHQuY3RybEtleT8tbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcEJpZ01vbnRocyIpOi1uLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDM0Om4uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCx0LmN0cmxLZXk/K24uZGF0ZXBpY2tlci5fZ2V0KGksInN0ZXBCaWdNb250aHMiKTorbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcE1vbnRocyIpLCJNIik7YnJlYWs7Y2FzZSAzNToodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZuLmRhdGVwaWNrZXIuX2NsZWFyRGF0ZSh0LnRhcmdldCk7cj10LmN0cmxLZXl8fHQubWV0YUtleTticmVhaztjYXNlIDM2Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJm4uZGF0ZXBpY2tlci5fZ290b1RvZGF5KHQudGFyZ2V0KTtyPXQuY3RybEtleXx8dC5tZXRhS2V5O2JyZWFrO2Nhc2UgMzc6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmbi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LG8/MTotMSwiRCIpO3I9dC5jdHJsS2V5fHx0Lm1ldGFLZXk7dC5vcmlnaW5hbEV2ZW50LmFsdEtleSYmbi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LHQuY3RybEtleT8tbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcEJpZ01vbnRocyIpOi1uLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDM4Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJm4uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCwtNywiRCIpO3I9dC5jdHJsS2V5fHx0Lm1ldGFLZXk7YnJlYWs7Y2FzZSAzOToodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsbz8tMToxLCJEIik7cj10LmN0cmxLZXl8fHQubWV0YUtleTt0Lm9yaWdpbmFsRXZlbnQuYWx0S2V5JiZuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsdC5jdHJsS2V5PytuLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwQmlnTW9udGhzIik6K24uZGF0ZXBpY2tlci5fZ2V0KGksInN0ZXBNb250aHMiKSwiTSIpO2JyZWFrO2Nhc2UgNDA6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmbi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LDcsIkQiKTtyPXQuY3RybEtleXx8dC5tZXRhS2V5O2JyZWFrO2RlZmF1bHQ6cj0hMX1lbHNlIDM2PT09dC5rZXlDb2RlJiZ0LmN0cmxLZXk/bi5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0aGlzKTpyPSExO3ImJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSl9LF9kb0tleVByZXNzOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdT1uLmRhdGVwaWNrZXIuX2dldEluc3QodC50YXJnZXQpO2lmKG4uZGF0ZXBpY2tlci5fZ2V0KHUsImNvbnN0cmFpbklucHV0IikpcmV0dXJuKGk9bi5kYXRlcGlja2VyLl9wb3NzaWJsZUNoYXJzKG4uZGF0ZXBpY2tlci5fZ2V0KHUsImRhdGVGb3JtYXQiKSkscj1TdHJpbmcuZnJvbUNoYXJDb2RlKG51bGw9PXQuY2hhckNvZGU/dC5rZXlDb2RlOnQuY2hhckNvZGUpLHQuY3RybEtleXx8dC5tZXRhS2V5fHwiICI+cnx8IWl8fGkuaW5kZXhPZihyKT4tMSl9LF9kb0tleVVwOmZ1bmN0aW9uKHQpe3ZhciByLGk9bi5kYXRlcGlja2VyLl9nZXRJbnN0KHQudGFyZ2V0KTtpZihpLmlucHV0LnZhbCgpIT09aS5sYXN0VmFsKXRyeXtyPW4uZGF0ZXBpY2tlci5wYXJzZURhdGUobi5kYXRlcGlja2VyLl9nZXQoaSwiZGF0ZUZvcm1hdCIpLGkuaW5wdXQ/aS5pbnB1dC52YWwoKTpudWxsLG4uZGF0ZXBpY2tlci5fZ2V0Rm9ybWF0Q29uZmlnKGkpKTtyJiYobi5kYXRlcGlja2VyLl9zZXREYXRlRnJvbUZpZWxkKGkpLG4uZGF0ZXBpY2tlci5fdXBkYXRlQWx0ZXJuYXRlKGkpLG4uZGF0ZXBpY2tlci5fdXBkYXRlRGF0ZXBpY2tlcihpKSl9Y2F0Y2godSl7fXJldHVybiEwfSxfc2hvd0RhdGVwaWNrZXI6ZnVuY3Rpb24odCl7aWYodD10LnRhcmdldHx8dCwiaW5wdXQiIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYodD1uKCJpbnB1dCIsdC5wYXJlbnROb2RlKVswXSksIW4uZGF0ZXBpY2tlci5faXNEaXNhYmxlZERhdGVwaWNrZXIodCkmJm4uZGF0ZXBpY2tlci5fbGFzdElucHV0IT09dCl7dmFyIGksbyxzLHIsZixlLGg7aT1uLmRhdGVwaWNrZXIuX2dldEluc3QodCk7bi5kYXRlcGlja2VyLl9jdXJJbnN0JiZuLmRhdGVwaWNrZXIuX2N1ckluc3QhPT1pJiYobi5kYXRlcGlja2VyLl9jdXJJbnN0LmRwRGl2LnN0b3AoITAsITApLGkmJm4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJm4uZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIobi5kYXRlcGlja2VyLl9jdXJJbnN0LmlucHV0WzBdKSk7bz1uLmRhdGVwaWNrZXIuX2dldChpLCJiZWZvcmVTaG93Iik7cz1vP28uYXBwbHkodCxbdCxpXSk6e307cyE9PSExJiYodShpLnNldHRpbmdzLHMpLGkubGFzdFZhbD1udWxsLG4uZGF0ZXBpY2tlci5fbGFzdElucHV0PXQsbi5kYXRlcGlja2VyLl9zZXREYXRlRnJvbUZpZWxkKGkpLG4uZGF0ZXBpY2tlci5faW5EaWFsb2cmJih0LnZhbHVlPSIiKSxuLmRhdGVwaWNrZXIuX3Bvc3x8KG4uZGF0ZXBpY2tlci5fcG9zPW4uZGF0ZXBpY2tlci5fZmluZFBvcyh0KSxuLmRhdGVwaWNrZXIuX3Bvc1sxXSs9dC5vZmZzZXRIZWlnaHQpLHI9ITEsbih0KS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe3JldHVybiByfD0iZml4ZWQiPT09bih0aGlzKS5jc3MoInBvc2l0aW9uIiksIXJ9KSxmPXtsZWZ0Om4uZGF0ZXBpY2tlci5fcG9zWzBdLHRvcDpuLmRhdGVwaWNrZXIuX3Bvc1sxXX0sbi5kYXRlcGlja2VyLl9wb3M9bnVsbCxpLmRwRGl2LmVtcHR5KCksaS5kcERpdi5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsZGlzcGxheToiYmxvY2siLHRvcDoiLTEwMDBweCJ9KSxuLmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIoaSksZj1uLmRhdGVwaWNrZXIuX2NoZWNrT2Zmc2V0KGksZixyKSxpLmRwRGl2LmNzcyh7cG9zaXRpb246bi5kYXRlcGlja2VyLl9pbkRpYWxvZyYmbi5ibG9ja1VJPyJzdGF0aWMiOnI/ImZpeGVkIjoiYWJzb2x1dGUiLGRpc3BsYXk6Im5vbmUiLGxlZnQ6Zi5sZWZ0KyJweCIsdG9wOmYudG9wKyJweCJ9KSxpLmlubGluZXx8KGU9bi5kYXRlcGlja2VyLl9nZXQoaSwic2hvd0FuaW0iKSxoPW4uZGF0ZXBpY2tlci5fZ2V0KGksImR1cmF0aW9uIiksaS5kcERpdi5jc3MoInotaW5kZXgiLGsobih0KSkrMSksbi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZz0hMCxuLmVmZmVjdHMmJm4uZWZmZWN0cy5lZmZlY3RbZV0/aS5kcERpdi5zaG93KGUsbi5kYXRlcGlja2VyLl9nZXQoaSwic2hvd09wdGlvbnMiKSxoKTppLmRwRGl2W2V8fCJzaG93Il0oZT9oOm51bGwpLG4uZGF0ZXBpY2tlci5fc2hvdWxkRm9jdXNJbnB1dChpKSYmaS5pbnB1dC50cmlnZ2VyKCJmb2N1cyIpLG4uZGF0ZXBpY2tlci5fY3VySW5zdD1pKSl9fSxfdXBkYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt0aGlzLm1heFJvd3M9NDtpPXQ7dC5kcERpdi5lbXB0eSgpLmFwcGVuZCh0aGlzLl9nZW5lcmF0ZUhUTUwodCkpO3RoaXMuX2F0dGFjaEhhbmRsZXJzKHQpO3ZhciByLHU9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHModCksZj11WzFdLGU9dC5kcERpdi5maW5kKCIuIit0aGlzLl9kYXlPdmVyQ2xhc3MrIiBhIik7ZS5sZW5ndGg+MCYmYS5hcHBseShlLmdldCgwKSk7dC5kcERpdi5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1tdWx0aS0yIHVpLWRhdGVwaWNrZXItbXVsdGktMyB1aS1kYXRlcGlja2VyLW11bHRpLTQiKS53aWR0aCgiIik7Zj4xJiZ0LmRwRGl2LmFkZENsYXNzKCJ1aS1kYXRlcGlja2VyLW11bHRpLSIrZikuY3NzKCJ3aWR0aCIsMTcqZisiZW0iKTt0LmRwRGl2WygxIT09dVswXXx8MSE9PXVbMV0/ImFkZCI6InJlbW92ZSIpKyJDbGFzcyJdKCJ1aS1kYXRlcGlja2VyLW11bHRpIik7dC5kcERpdlsodGhpcy5fZ2V0KHQsImlzUlRMIik/ImFkZCI6InJlbW92ZSIpKyJDbGFzcyJdKCJ1aS1kYXRlcGlja2VyLXJ0bCIpO3Q9PT1uLmRhdGVwaWNrZXIuX2N1ckluc3QmJm4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJm4uZGF0ZXBpY2tlci5fc2hvdWxkRm9jdXNJbnB1dCh0KSYmdC5pbnB1dC50cmlnZ2VyKCJmb2N1cyIpO3QueWVhcnNodG1sJiYocj10LnllYXJzaHRtbCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cj09PXQueWVhcnNodG1sJiZ0LnllYXJzaHRtbCYmdC5kcERpdi5maW5kKCJzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyOmZpcnN0IikucmVwbGFjZVdpdGgodC55ZWFyc2h0bWwpO3I9dC55ZWFyc2h0bWw9bnVsbH0sMCkpfSxfc2hvdWxkRm9jdXNJbnB1dDpmdW5jdGlvbihuKXtyZXR1cm4gbi5pbnB1dCYmbi5pbnB1dC5pcygiOnZpc2libGUiKSYmIW4uaW5wdXQuaXMoIjpkaXNhYmxlZCIpJiYhbi5pbnB1dC5pcygiOmZvY3VzIil9LF9jaGVja09mZnNldDpmdW5jdGlvbih0LGkscil7dmFyIHU9dC5kcERpdi5vdXRlcldpZHRoKCksZj10LmRwRGl2Lm91dGVySGVpZ2h0KCksaD10LmlucHV0P3QuaW5wdXQub3V0ZXJXaWR0aCgpOjAsbz10LmlucHV0P3QuaW5wdXQub3V0ZXJIZWlnaHQoKTowLGU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKyhyPzA6bihkb2N1bWVudCkuc2Nyb2xsTGVmdCgpKSxzPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQrKHI/MDpuKGRvY3VtZW50KS5zY3JvbGxUb3AoKSk7cmV0dXJuIGkubGVmdC09dGhpcy5fZ2V0KHQsImlzUlRMIik/dS1oOjAsaS5sZWZ0LT1yJiZpLmxlZnQ9PT10LmlucHV0Lm9mZnNldCgpLmxlZnQ/bihkb2N1bWVudCkuc2Nyb2xsTGVmdCgpOjAsaS50b3AtPXImJmkudG9wPT09dC5pbnB1dC5vZmZzZXQoKS50b3Arbz9uKGRvY3VtZW50KS5zY3JvbGxUb3AoKTowLGkubGVmdC09TWF0aC5taW4oaS5sZWZ0LGkubGVmdCt1PmUmJmU+dT9NYXRoLmFicyhpLmxlZnQrdS1lKTowKSxpLnRvcC09TWF0aC5taW4oaS50b3AsaS50b3ArZj5zJiZzPmY/TWF0aC5hYnMoZitvKTowKSxpfSxfZmluZFBvczpmdW5jdGlvbih0KXtmb3IodmFyIGkscj10aGlzLl9nZXRJbnN0KHQpLHU9dGhpcy5fZ2V0KHIsImlzUlRMIik7dCYmKCJoaWRkZW4iPT09dC50eXBlfHwxIT09dC5ub2RlVHlwZXx8bi5leHByLmZpbHRlcnMuaGlkZGVuKHQpKTspdD10W3U/InByZXZpb3VzU2libGluZyI6Im5leHRTaWJsaW5nIl07cmV0dXJuIGk9bih0KS5vZmZzZXQoKSxbaS5sZWZ0LGkudG9wXX0sX2hpZGVEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe3ZhciByLGYsdSxlLGk9dGhpcy5fY3VySW5zdDshaXx8dCYmaSE9PW4uZGF0YSh0LCJkYXRlcGlja2VyIil8fHRoaXMuX2RhdGVwaWNrZXJTaG93aW5nJiYocj10aGlzLl9nZXQoaSwic2hvd0FuaW0iKSxmPXRoaXMuX2dldChpLCJkdXJhdGlvbiIpLHU9ZnVuY3Rpb24oKXtuLmRhdGVwaWNrZXIuX3RpZHlEaWFsb2coaSl9LG4uZWZmZWN0cyYmKG4uZWZmZWN0cy5lZmZlY3Rbcl18fG4uZWZmZWN0c1tyXSk/aS5kcERpdi5oaWRlKHIsbi5kYXRlcGlja2VyLl9nZXQoaSwic2hvd09wdGlvbnMiKSxmLHUpOmkuZHBEaXZbInNsaWRlRG93biI9PT1yPyJzbGlkZVVwIjoiZmFkZUluIj09PXI/ImZhZGVPdXQiOiJoaWRlIl0ocj9mOm51bGwsdSkscnx8dSgpLHRoaXMuX2RhdGVwaWNrZXJTaG93aW5nPSExLGU9dGhpcy5fZ2V0KGksIm9uQ2xvc2UiKSxlJiZlLmFwcGx5KGkuaW5wdXQ/aS5pbnB1dFswXTpudWxsLFtpLmlucHV0P2kuaW5wdXQudmFsKCk6IiIsaV0pLHRoaXMuX2xhc3RJbnB1dD1udWxsLHRoaXMuX2luRGlhbG9nJiYodGhpcy5fZGlhbG9nSW5wdXQuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLGxlZnQ6IjAiLHRvcDoiLTEwMHB4In0pLG4uYmxvY2tVSSYmKG4udW5ibG9ja1VJKCksbigiYm9keSIpLmFwcGVuZCh0aGlzLmRwRGl2KSkpLHRoaXMuX2luRGlhbG9nPSExKX0sX3RpZHlEaWFsb2c6ZnVuY3Rpb24obil7bi5kcERpdi5yZW1vdmVDbGFzcyh0aGlzLl9kaWFsb2dDbGFzcykub2ZmKCIudWktZGF0ZXBpY2tlci1jYWxlbmRhciIpfSxfY2hlY2tFeHRlcm5hbENsaWNrOmZ1bmN0aW9uKHQpe2lmKG4uZGF0ZXBpY2tlci5fY3VySW5zdCl7dmFyIGk9bih0LnRhcmdldCkscj1uLmRhdGVwaWNrZXIuX2dldEluc3QoaVswXSk7KGlbMF0uaWQ9PT1uLmRhdGVwaWNrZXIuX21haW5EaXZJZHx8MCE9PWkucGFyZW50cygiIyIrbi5kYXRlcGlja2VyLl9tYWluRGl2SWQpLmxlbmd0aHx8aS5oYXNDbGFzcyhuLmRhdGVwaWNrZXIubWFya2VyQ2xhc3NOYW1lKXx8aS5jbG9zZXN0KCIuIituLmRhdGVwaWNrZXIuX3RyaWdnZXJDbGFzcykubGVuZ3RofHwhbi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZ3x8bi5kYXRlcGlja2VyLl9pbkRpYWxvZyYmbi5ibG9ja1VJKSYmKCFpLmhhc0NsYXNzKG4uZGF0ZXBpY2tlci5tYXJrZXJDbGFzc05hbWUpfHxuLmRhdGVwaWNrZXIuX2N1ckluc3Q9PT1yKXx8bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpfX0sX2FkanVzdERhdGU6ZnVuY3Rpb24odCxpLHIpe3ZhciBmPW4odCksdT10aGlzLl9nZXRJbnN0KGZbMF0pO3RoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKGZbMF0pfHwodGhpcy5fYWRqdXN0SW5zdERhdGUodSxpKygiTSI9PT1yP3RoaXMuX2dldCh1LCJzaG93Q3VycmVudEF0UG9zIik6MCksciksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcih1KSl9LF9nb3RvVG9kYXk6ZnVuY3Rpb24odCl7dmFyIHIsdT1uKHQpLGk9dGhpcy5fZ2V0SW5zdCh1WzBdKTt0aGlzLl9nZXQoaSwiZ290b0N1cnJlbnQiKSYmaS5jdXJyZW50RGF5PyhpLnNlbGVjdGVkRGF5PWkuY3VycmVudERheSxpLmRyYXdNb250aD1pLnNlbGVjdGVkTW9udGg9aS5jdXJyZW50TW9udGgsaS5kcmF3WWVhcj1pLnNlbGVjdGVkWWVhcj1pLmN1cnJlbnRZZWFyKToocj1uZXcgRGF0ZSxpLnNlbGVjdGVkRGF5PXIuZ2V0RGF0ZSgpLGkuZHJhd01vbnRoPWkuc2VsZWN0ZWRNb250aD1yLmdldE1vbnRoKCksaS5kcmF3WWVhcj1pLnNlbGVjdGVkWWVhcj1yLmdldEZ1bGxZZWFyKCkpO3RoaXMuX25vdGlmeUNoYW5nZShpKTt0aGlzLl9hZGp1c3REYXRlKHUpfSxfc2VsZWN0TW9udGhZZWFyOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZj1uKHQpLHU9dGhpcy5fZ2V0SW5zdChmWzBdKTt1WyJzZWxlY3RlZCIrKCJNIj09PXI/Ik1vbnRoIjoiWWVhciIpXT11WyJkcmF3IisoIk0iPT09cj8iTW9udGgiOiJZZWFyIildPXBhcnNlSW50KGkub3B0aW9uc1tpLnNlbGVjdGVkSW5kZXhdLnZhbHVlLDEwKTt0aGlzLl9ub3RpZnlDaGFuZ2UodSk7dGhpcy5fYWRqdXN0RGF0ZShmKX0sX3NlbGVjdERheTpmdW5jdGlvbih0LGkscix1KXt2YXIgZixlPW4odCk7bih1KS5oYXNDbGFzcyh0aGlzLl91bnNlbGVjdGFibGVDbGFzcyl8fHRoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKGVbMF0pfHwoZj10aGlzLl9nZXRJbnN0KGVbMF0pLGYuc2VsZWN0ZWREYXk9Zi5jdXJyZW50RGF5PW4oImEiLHUpLmh0bWwoKSxmLnNlbGVjdGVkTW9udGg9Zi5jdXJyZW50TW9udGg9aSxmLnNlbGVjdGVkWWVhcj1mLmN1cnJlbnRZZWFyPXIsdGhpcy5fc2VsZWN0RGF0ZSh0LHRoaXMuX2Zvcm1hdERhdGUoZixmLmN1cnJlbnREYXksZi5jdXJyZW50TW9udGgsZi5jdXJyZW50WWVhcikpKX0sX2NsZWFyRGF0ZTpmdW5jdGlvbih0KXt2YXIgaT1uKHQpO3RoaXMuX3NlbGVjdERhdGUoaSwiIil9LF9zZWxlY3REYXRlOmZ1bmN0aW9uKHQsaSl7dmFyIHUsZj1uKHQpLHI9dGhpcy5fZ2V0SW5zdChmWzBdKTtpPW51bGwhPWk/aTp0aGlzLl9mb3JtYXREYXRlKHIpO3IuaW5wdXQmJnIuaW5wdXQudmFsKGkpO3RoaXMuX3VwZGF0ZUFsdGVybmF0ZShyKTt1PXRoaXMuX2dldChyLCJvblNlbGVjdCIpO3U/dS5hcHBseShyLmlucHV0P3IuaW5wdXRbMF06bnVsbCxbaSxyXSk6ci5pbnB1dCYmci5pbnB1dC50cmlnZ2VyKCJjaGFuZ2UiKTtyLmlubGluZT90aGlzLl91cGRhdGVEYXRlcGlja2VyKHIpOih0aGlzLl9oaWRlRGF0ZXBpY2tlcigpLHRoaXMuX2xhc3RJbnB1dD1yLmlucHV0WzBdLCJvYmplY3QiIT10eXBlb2Ygci5pbnB1dFswXSYmci5pbnB1dC50cmlnZ2VyKCJmb2N1cyIpLHRoaXMuX2xhc3RJbnB1dD1udWxsKX0sX3VwZGF0ZUFsdGVybmF0ZTpmdW5jdGlvbih0KXt2YXIgaSxyLHUsZj10aGlzLl9nZXQodCwiYWx0RmllbGQiKTtmJiYoaT10aGlzLl9nZXQodCwiYWx0Rm9ybWF0Iil8fHRoaXMuX2dldCh0LCJkYXRlRm9ybWF0Iikscj10aGlzLl9nZXREYXRlKHQpLHU9dGhpcy5mb3JtYXREYXRlKGkscix0aGlzLl9nZXRGb3JtYXRDb25maWcodCkpLG4oZikudmFsKHUpKX0sbm9XZWVrZW5kczpmdW5jdGlvbihuKXt2YXIgdD1uLmdldERheSgpO3JldHVyblt0PjAmJjY+dCwiIl19LGlzbzg2MDFXZWVrOmZ1bmN0aW9uKG4pe3ZhciBpLHQ9bmV3IERhdGUobi5nZXRUaW1lKCkpO3JldHVybiB0LnNldERhdGUodC5nZXREYXRlKCkrNC0odC5nZXREYXkoKXx8NykpLGk9dC5nZXRUaW1lKCksdC5zZXRNb250aCgwKSx0LnNldERhdGUoMSksTWF0aC5mbG9vcihNYXRoLnJvdW5kKChpLXQpLzg2NGU1KS83KSsxfSxwYXJzZURhdGU6ZnVuY3Rpb24odCxpLHIpe2lmKG51bGw9PXR8fG51bGw9PWkpdGhyb3ciSW52YWxpZCBhcmd1bWVudHMiO2lmKGk9Im9iamVjdCI9PXR5cGVvZiBpPyIiK2k6aSsiIiwiIj09PWkpcmV0dXJuIG51bGw7Zm9yKHZhciBhLHYsdSxmPTAseT0ocj9yLnNob3J0WWVhckN1dG9mZjpudWxsKXx8dGhpcy5fZGVmYXVsdHMuc2hvcnRZZWFyQ3V0b2ZmLGQ9InN0cmluZyIhPXR5cGVvZiB5P3k6KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpJTEwMCtwYXJzZUludCh5LDEwKSxnPShyP3IuZGF5TmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXNTaG9ydCxudD0ocj9yLmRheU5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lcyx0dD0ocj9yLm1vbnRoTmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lc1Nob3J0LGl0PShyP3IubW9udGhOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lcyxlPS0xLHM9LTEsaD0tMSxwPS0xLHc9ITEsbD1mdW5jdGlvbihuKXt2YXIgaT10Lmxlbmd0aD5vKzEmJnQuY2hhckF0KG8rMSk9PT1uO3JldHVybiBpJiZvKyssaX0sYz1mdW5jdGlvbihuKXt2YXIgdT1sKG4pLHI9IkAiPT09bj8xNDoiISI9PT1uPzIwOiJ5Ij09PW4mJnU/NDoibyI9PT1uPzM6MixlPSJ5Ij09PW4/cjoxLG89UmVnRXhwKCJeXFxkeyIrZSsiLCIrcisifSIpLHQ9aS5zdWJzdHJpbmcoZikubWF0Y2gobyk7aWYoIXQpdGhyb3ciTWlzc2luZyBudW1iZXIgYXQgcG9zaXRpb24gIitmO3JldHVybiBmKz10WzBdLmxlbmd0aCxwYXJzZUludCh0WzBdLDEwKX0saz1mdW5jdGlvbih0LHIsdSl7dmFyIGU9LTEsbz1uLm1hcChsKHQpP3U6cixmdW5jdGlvbihuLHQpe3JldHVybltbdCxuXV19KS5zb3J0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuLShuWzFdLmxlbmd0aC10WzFdLmxlbmd0aCl9KTtpZihuLmVhY2gobyxmdW5jdGlvbihuLHQpe3ZhciByPXRbMV07aWYoaS5zdWJzdHIoZixyLmxlbmd0aCkudG9Mb3dlckNhc2UoKT09PXIudG9Mb3dlckNhc2UoKSlyZXR1cm4oZT10WzBdLGYrPXIubGVuZ3RoLCExKX0pLC0xIT09ZSlyZXR1cm4gZSsxO3Rocm93IlVua25vd24gbmFtZSBhdCBwb3NpdGlvbiAiK2Y7fSxiPWZ1bmN0aW9uKCl7aWYoaS5jaGFyQXQoZikhPT10LmNoYXJBdChvKSl0aHJvdyJVbmV4cGVjdGVkIGxpdGVyYWwgYXQgcG9zaXRpb24gIitmO2YrK30sbz0wO3QubGVuZ3RoPm87bysrKWlmKHcpIiciIT09dC5jaGFyQXQobyl8fGwoIiciKT9iKCk6dz0hMTtlbHNlIHN3aXRjaCh0LmNoYXJBdChvKSl7Y2FzZSJkIjpoPWMoImQiKTticmVhaztjYXNlIkQiOmsoIkQiLGcsbnQpO2JyZWFrO2Nhc2UibyI6cD1jKCJvIik7YnJlYWs7Y2FzZSJtIjpzPWMoIm0iKTticmVhaztjYXNlIk0iOnM9aygiTSIsdHQsaXQpO2JyZWFrO2Nhc2UieSI6ZT1jKCJ5Iik7YnJlYWs7Y2FzZSJAIjp1PW5ldyBEYXRlKGMoIkAiKSk7ZT11LmdldEZ1bGxZZWFyKCk7cz11LmdldE1vbnRoKCkrMTtoPXUuZ2V0RGF0ZSgpO2JyZWFrO2Nhc2UiISI6dT1uZXcgRGF0ZSgoYygiISIpLXRoaXMuX3RpY2tzVG8xOTcwKS8xZTQpO2U9dS5nZXRGdWxsWWVhcigpO3M9dS5nZXRNb250aCgpKzE7aD11LmdldERhdGUoKTticmVhaztjYXNlIiciOmwoIiciKT9iKCk6dz0hMDticmVhaztkZWZhdWx0OmIoKX1pZihpLmxlbmd0aD5mJiYodj1pLnN1YnN0cihmKSwhL15ccysvLnRlc3QodikpKXRocm93IkV4dHJhL3VucGFyc2VkIGNoYXJhY3RlcnMgZm91bmQgaW4gZGF0ZTogIit2O2lmKC0xPT09ZT9lPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKToxMDA+ZSYmKGUrPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKS0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwKyhkPj1lPzA6LTEwMCkpLHA+LTEpZm9yKHM9MSxoPXA7Oyl7aWYoYT10aGlzLl9nZXREYXlzSW5Nb250aChlLHMtMSksYT49aClicmVhaztzKys7aC09YX1pZih1PXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGUscy0xLGgpKSx1LmdldEZ1bGxZZWFyKCkhPT1lfHx1LmdldE1vbnRoKCkrMSE9PXN8fHUuZ2V0RGF0ZSgpIT09aCl0aHJvdyJJbnZhbGlkIGRhdGUiO3JldHVybiB1fSxBVE9NOiJ5eS1tbS1kZCIsQ09PS0lFOiJELCBkZCBNIHl5IixJU09fODYwMToieXktbW0tZGQiLFJGQ184MjI6IkQsIGQgTSB5IixSRkNfODUwOiJERCwgZGQtTS15IixSRkNfMTAzNjoiRCwgZCBNIHkiLFJGQ18xMTIzOiJELCBkIE0geXkiLFJGQ18yODIyOiJELCBkIE0geXkiLFJTUzoiRCwgZCBNIHkiLFRJQ0tTOiIhIixUSU1FU1RBTVA6IkAiLFczQzoieXktbW0tZGQiLF90aWNrc1RvMTk3MDo4NjRlOSooNzE4Njg1K01hdGguZmxvb3IoNDkyLjUpLU1hdGguZmxvb3IoMTkuNykrTWF0aC5mbG9vcig0LjkyNSkpLGZvcm1hdERhdGU6ZnVuY3Rpb24obix0LGkpe2lmKCF0KXJldHVybiIiO3ZhciB1LGg9KGk/aS5kYXlOYW1lc1Nob3J0Om51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lc1Nob3J0LGM9KGk/aS5kYXlOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXMsbD0oaT9pLm1vbnRoTmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lc1Nob3J0LGE9KGk/aS5tb250aE5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzLGY9ZnVuY3Rpb24odCl7dmFyIGk9bi5sZW5ndGg+dSsxJiZuLmNoYXJBdCh1KzEpPT09dDtyZXR1cm4gaSYmdSsrLGl9LGU9ZnVuY3Rpb24obix0LGkpe3ZhciByPSIiK3Q7aWYoZihuKSlmb3IoO2k+ci5sZW5ndGg7KXI9IjAiK3I7cmV0dXJuIHJ9LHM9ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIGYobik/clt0XTppW3RdfSxyPSIiLG89ITE7aWYodClmb3IodT0wO24ubGVuZ3RoPnU7dSsrKWlmKG8pIiciIT09bi5jaGFyQXQodSl8fGYoIiciKT9yKz1uLmNoYXJBdCh1KTpvPSExO2Vsc2Ugc3dpdGNoKG4uY2hhckF0KHUpKXtjYXNlImQiOnIrPWUoImQiLHQuZ2V0RGF0ZSgpLDIpO2JyZWFrO2Nhc2UiRCI6cis9cygiRCIsdC5nZXREYXkoKSxoLGMpO2JyZWFrO2Nhc2UibyI6cis9ZSgibyIsTWF0aC5yb3VuZCgobmV3IERhdGUodC5nZXRGdWxsWWVhcigpLHQuZ2V0TW9udGgoKSx0LmdldERhdGUoKSkuZ2V0VGltZSgpLW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDApLmdldFRpbWUoKSkvODY0ZTUpLDMpO2JyZWFrO2Nhc2UibSI6cis9ZSgibSIsdC5nZXRNb250aCgpKzEsMik7YnJlYWs7Y2FzZSJNIjpyKz1zKCJNIix0LmdldE1vbnRoKCksbCxhKTticmVhaztjYXNlInkiOnIrPWYoInkiKT90LmdldEZ1bGxZZWFyKCk6KDEwPnQuZ2V0RnVsbFllYXIoKSUxMDA/IjAiOiIiKSt0LmdldEZ1bGxZZWFyKCklMTAwO2JyZWFrO2Nhc2UiQCI6cis9dC5nZXRUaW1lKCk7YnJlYWs7Y2FzZSIhIjpyKz0xZTQqdC5nZXRUaW1lKCkrdGhpcy5fdGlja3NUbzE5NzA7YnJlYWs7Y2FzZSInIjpmKCInIik/cis9IiciOm89ITA7YnJlYWs7ZGVmYXVsdDpyKz1uLmNoYXJBdCh1KX1yZXR1cm4gcn0sX3Bvc3NpYmxlQ2hhcnM6ZnVuY3Rpb24obil7Zm9yKHZhciBpPSIiLHI9ITEsdT1mdW5jdGlvbihpKXt2YXIgcj1uLmxlbmd0aD50KzEmJm4uY2hhckF0KHQrMSk9PT1pO3JldHVybiByJiZ0Kysscn0sdD0wO24ubGVuZ3RoPnQ7dCsrKWlmKHIpIiciIT09bi5jaGFyQXQodCl8fHUoIiciKT9pKz1uLmNoYXJBdCh0KTpyPSExO2Vsc2Ugc3dpdGNoKG4uY2hhckF0KHQpKXtjYXNlImQiOmNhc2UibSI6Y2FzZSJ5IjpjYXNlIkAiOmkrPSIwMTIzNDU2Nzg5IjticmVhaztjYXNlIkQiOmNhc2UiTSI6cmV0dXJuIG51bGw7Y2FzZSInIjp1KCInIik/aSs9IiciOnI9ITA7YnJlYWs7ZGVmYXVsdDppKz1uLmNoYXJBdCh0KX1yZXR1cm4gaX0sX2dldDpmdW5jdGlvbihuLHQpe3JldHVybiB2b2lkIDAhPT1uLnNldHRpbmdzW3RdP24uc2V0dGluZ3NbdF06dGhpcy5fZGVmYXVsdHNbdF19LF9zZXREYXRlRnJvbUZpZWxkOmZ1bmN0aW9uKG4sdCl7aWYobi5pbnB1dC52YWwoKSE9PW4ubGFzdFZhbCl7dmFyIGY9dGhpcy5fZ2V0KG4sImRhdGVGb3JtYXQiKSxyPW4ubGFzdFZhbD1uLmlucHV0P24uaW5wdXQudmFsKCk6bnVsbCx1PXRoaXMuX2dldERlZmF1bHREYXRlKG4pLGk9dSxlPXRoaXMuX2dldEZvcm1hdENvbmZpZyhuKTt0cnl7aT10aGlzLnBhcnNlRGF0ZShmLHIsZSl8fHV9Y2F0Y2gobyl7cj10PyIiOnJ9bi5zZWxlY3RlZERheT1pLmdldERhdGUoKTtuLmRyYXdNb250aD1uLnNlbGVjdGVkTW9udGg9aS5nZXRNb250aCgpO24uZHJhd1llYXI9bi5zZWxlY3RlZFllYXI9aS5nZXRGdWxsWWVhcigpO24uY3VycmVudERheT1yP2kuZ2V0RGF0ZSgpOjA7bi5jdXJyZW50TW9udGg9cj9pLmdldE1vbnRoKCk6MDtuLmN1cnJlbnRZZWFyPXI/aS5nZXRGdWxsWWVhcigpOjA7dGhpcy5fYWRqdXN0SW5zdERhdGUobil9fSxfZ2V0RGVmYXVsdERhdGU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3Jlc3RyaWN0TWluTWF4KG4sdGhpcy5fZGV0ZXJtaW5lRGF0ZShuLHRoaXMuX2dldChuLCJkZWZhdWx0RGF0ZSIpLG5ldyBEYXRlKSl9LF9kZXRlcm1pbmVEYXRlOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZj1mdW5jdGlvbihuKXt2YXIgdD1uZXcgRGF0ZTtyZXR1cm4gdC5zZXREYXRlKHQuZ2V0RGF0ZSgpK24pLHR9LGU9ZnVuY3Rpb24oaSl7dHJ5e3JldHVybiBuLmRhdGVwaWNrZXIucGFyc2VEYXRlKG4uZGF0ZXBpY2tlci5fZ2V0KHQsImRhdGVGb3JtYXQiKSxpLG4uZGF0ZXBpY2tlci5fZ2V0Rm9ybWF0Q29uZmlnKHQpKX1jYXRjaChoKXt9Zm9yKHZhciBvPShpLnRvTG93ZXJDYXNlKCkubWF0Y2goL15jLyk/bi5kYXRlcGlja2VyLl9nZXREYXRlKHQpOm51bGwpfHxuZXcgRGF0ZSxmPW8uZ2V0RnVsbFllYXIoKSxlPW8uZ2V0TW9udGgoKSxyPW8uZ2V0RGF0ZSgpLHM9LyhbK1wtXT9bMC05XSspXHMqKGR8RHx3fFd8bXxNfHl8WSk/L2csdT1zLmV4ZWMoaSk7dTspe3N3aXRjaCh1WzJdfHwiZCIpe2Nhc2UiZCI6Y2FzZSJEIjpyKz1wYXJzZUludCh1WzFdLDEwKTticmVhaztjYXNlInciOmNhc2UiVyI6cis9NypwYXJzZUludCh1WzFdLDEwKTticmVhaztjYXNlIm0iOmNhc2UiTSI6ZSs9cGFyc2VJbnQodVsxXSwxMCk7cj1NYXRoLm1pbihyLG4uZGF0ZXBpY2tlci5fZ2V0RGF5c0luTW9udGgoZixlKSk7YnJlYWs7Y2FzZSJ5IjpjYXNlIlkiOmYrPXBhcnNlSW50KHVbMV0sMTApO3I9TWF0aC5taW4ocixuLmRhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKGYsZSkpfXU9cy5leGVjKGkpfXJldHVybiBuZXcgRGF0ZShmLGUscil9LHU9bnVsbD09aXx8IiI9PT1pP3I6InN0cmluZyI9PXR5cGVvZiBpP2UoaSk6Im51bWJlciI9PXR5cGVvZiBpP2lzTmFOKGkpP3I6ZihpKTpuZXcgRGF0ZShpLmdldFRpbWUoKSk7cmV0dXJuIHU9dSYmIkludmFsaWQgRGF0ZSI9PSIiK3U/cjp1LHUmJih1LnNldEhvdXJzKDApLHUuc2V0TWludXRlcygwKSx1LnNldFNlY29uZHMoMCksdS5zZXRNaWxsaXNlY29uZHMoMCkpLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KHUpfSxfZGF5bGlnaHRTYXZpbmdBZGp1c3Q6ZnVuY3Rpb24obil7cmV0dXJuIG4/KG4uc2V0SG91cnMobi5nZXRIb3VycygpPjEyP24uZ2V0SG91cnMoKSsyOjApLG4pOm51bGx9LF9zZXREYXRlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgdT0hdCxmPW4uc2VsZWN0ZWRNb250aCxlPW4uc2VsZWN0ZWRZZWFyLHI9dGhpcy5fcmVzdHJpY3RNaW5NYXgobix0aGlzLl9kZXRlcm1pbmVEYXRlKG4sdCxuZXcgRGF0ZSkpO24uc2VsZWN0ZWREYXk9bi5jdXJyZW50RGF5PXIuZ2V0RGF0ZSgpO24uZHJhd01vbnRoPW4uc2VsZWN0ZWRNb250aD1uLmN1cnJlbnRNb250aD1yLmdldE1vbnRoKCk7bi5kcmF3WWVhcj1uLnNlbGVjdGVkWWVhcj1uLmN1cnJlbnRZZWFyPXIuZ2V0RnVsbFllYXIoKTtmPT09bi5zZWxlY3RlZE1vbnRoJiZlPT09bi5zZWxlY3RlZFllYXJ8fGl8fHRoaXMuX25vdGlmeUNoYW5nZShuKTt0aGlzLl9hZGp1c3RJbnN0RGF0ZShuKTtuLmlucHV0JiZuLmlucHV0LnZhbCh1PyIiOnRoaXMuX2Zvcm1hdERhdGUobikpfSxfZ2V0RGF0ZTpmdW5jdGlvbihuKXtyZXR1cm4hbi5jdXJyZW50WWVhcnx8bi5pbnB1dCYmIiI9PT1uLmlucHV0LnZhbCgpP251bGw6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUobi5jdXJyZW50WWVhcixuLmN1cnJlbnRNb250aCxuLmN1cnJlbnREYXkpKX0sX2F0dGFjaEhhbmRsZXJzOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX2dldCh0LCJzdGVwTW9udGhzIiksaT0iIyIrdC5pZC5yZXBsYWNlKC9cXFxcL2csIlxcIik7dC5kcERpdi5maW5kKCJbZGF0YS1oYW5kbGVyXSIpLm1hcChmdW5jdGlvbigpe3ZhciB0PXtwcmV2OmZ1bmN0aW9uKCl7bi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGksLXIsIk0iKX0sbmV4dDpmdW5jdGlvbigpe24uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShpLCtyLCJNIil9LGhpZGU6ZnVuY3Rpb24oKXtuLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCl9LHRvZGF5OmZ1bmN0aW9uKCl7bi5kYXRlcGlja2VyLl9nb3RvVG9kYXkoaSl9LHNlbGVjdERheTpmdW5jdGlvbigpe3JldHVybiBuLmRhdGVwaWNrZXIuX3NlbGVjdERheShpLCt0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1tb250aCIpLCt0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS15ZWFyIiksdGhpcyksITF9LHNlbGVjdE1vbnRoOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKGksdGhpcywiTSIpLCExfSxzZWxlY3RZZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKGksdGhpcywiWSIpLCExfX07bih0aGlzKS5vbih0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1ldmVudCIpLHRbdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtaGFuZGxlciIpXSl9KX0sX2dlbmVyYXRlSFRNTDpmdW5jdGlvbihuKXt2YXIgYixzLHJ0LGgsdXQsayxmdCxldCxyaSxjLG90LHVpLGZpLGVpLG9pLHN0LGcsc2ksaHQsbnQsbyx5LGN0LHAsbHQsbCx1LGF0LHZ0LHl0LHB0LHR0LHd0LGksYnQsa3QsZCxhLGl0LGR0PW5ldyBEYXRlLGd0PXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGR0LmdldEZ1bGxZZWFyKCksZHQuZ2V0TW9udGgoKSxkdC5nZXREYXRlKCkpKSxmPXRoaXMuX2dldChuLCJpc1JUTCIpLGxpPXRoaXMuX2dldChuLCJzaG93QnV0dG9uUGFuZWwiKSxoaT10aGlzLl9nZXQobiwiaGlkZUlmTm9QcmV2TmV4dCIpLG5pPXRoaXMuX2dldChuLCJuYXZpZ2F0aW9uQXNEYXRlRm9ybWF0IiksZT10aGlzLl9nZXROdW1iZXJPZk1vbnRocyhuKSxhaT10aGlzLl9nZXQobiwic2hvd0N1cnJlbnRBdFBvcyIpLGNpPXRoaXMuX2dldChuLCJzdGVwTW9udGhzIiksdGk9MSE9PWVbMF18fDEhPT1lWzFdLGlpPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG4uY3VycmVudERheT9uZXcgRGF0ZShuLmN1cnJlbnRZZWFyLG4uY3VycmVudE1vbnRoLG4uY3VycmVudERheSk6bmV3IERhdGUoOTk5OSw5LDkpKSx3PXRoaXMuX2dldE1pbk1heERhdGUobiwibWluIiksdj10aGlzLl9nZXRNaW5NYXhEYXRlKG4sIm1heCIpLHQ9bi5kcmF3TW9udGgtYWkscj1uLmRyYXdZZWFyO2lmKDA+dCYmKHQrPTEyLHItLSksdilmb3IoYj10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh2LmdldEZ1bGxZZWFyKCksdi5nZXRNb250aCgpLWVbMF0qZVsxXSsxLHYuZ2V0RGF0ZSgpKSksYj13JiZ3PmI/dzpiO3RoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsdCwxKSk+YjspdC0tLDA+dCYmKHQ9MTEsci0tKTtmb3Iobi5kcmF3TW9udGg9dCxuLmRyYXdZZWFyPXIscz10aGlzLl9nZXQobiwicHJldlRleHQiKSxzPW5pP3RoaXMuZm9ybWF0RGF0ZShzLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsdC1jaSwxKSksdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKG4pKTpzLHJ0PXRoaXMuX2NhbkFkanVzdE1vbnRoKG4sLTEscix0KT8iPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItcHJldiB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3ByZXYnIGRhdGEtZXZlbnQ9J2NsaWNrJyB0aXRsZT0nIitzKyInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLSIrKGY/ImUiOiJ3IikrIic+IitzKyI8XC9zcGFuPjxcL2E+IjpoaT8iIjoiPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItcHJldiB1aS1jb3JuZXItYWxsIHVpLXN0YXRlLWRpc2FibGVkJyB0aXRsZT0nIitzKyInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLSIrKGY/ImUiOiJ3IikrIic+IitzKyI8XC9zcGFuPjxcL2E+IixoPXRoaXMuX2dldChuLCJuZXh0VGV4dCIpLGg9bmk/dGhpcy5mb3JtYXREYXRlKGgsdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocix0K2NpLDEpKSx0aGlzLl9nZXRGb3JtYXRDb25maWcobikpOmgsdXQ9dGhpcy5fY2FuQWRqdXN0TW9udGgobiwxLHIsdCk/IjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCcgZGF0YS1oYW5kbGVyPSduZXh0JyBkYXRhLWV2ZW50PSdjbGljaycgdGl0bGU9JyIraCsiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhmPyJ3IjoiZSIpKyInPiIraCsiPFwvc3Bhbj48XC9hPiI6aGk/IiI6IjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1kaXNhYmxlZCcgdGl0bGU9JyIraCsiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhmPyJ3IjoiZSIpKyInPiIraCsiPFwvc3Bhbj48XC9hPiIsaz10aGlzLl9nZXQobiwiY3VycmVudFRleHQiKSxmdD10aGlzLl9nZXQobiwiZ290b0N1cnJlbnQiKSYmbi5jdXJyZW50RGF5P2lpOmd0LGs9bmk/dGhpcy5mb3JtYXREYXRlKGssZnQsdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKG4pKTprLGV0PW4uaW5saW5lPyIiOiI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J3VpLWRhdGVwaWNrZXItY2xvc2UgdWktc3RhdGUtZGVmYXVsdCB1aS1wcmlvcml0eS1wcmltYXJ5IHVpLWNvcm5lci1hbGwnIGRhdGEtaGFuZGxlcj0naGlkZScgZGF0YS1ldmVudD0nY2xpY2snPiIrdGhpcy5fZ2V0KG4sImNsb3NlVGV4dCIpKyI8XC9idXR0b24+IixyaT1saT8iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1idXR0b25wYW5lIHVpLXdpZGdldC1jb250ZW50Jz4iKyhmP2V0OiIiKSsodGhpcy5faXNJblJhbmdlKG4sZnQpPyI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J3VpLWRhdGVwaWNrZXItY3VycmVudCB1aS1zdGF0ZS1kZWZhdWx0IHVpLXByaW9yaXR5LXNlY29uZGFyeSB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3RvZGF5JyBkYXRhLWV2ZW50PSdjbGljayc+IitrKyI8XC9idXR0b24+IjoiIikrKGY/IiI6ZXQpKyI8XC9kaXY+IjoiIixjPXBhcnNlSW50KHRoaXMuX2dldChuLCJmaXJzdERheSIpLDEwKSxjPWlzTmFOKGMpPzA6YyxvdD10aGlzLl9nZXQobiwic2hvd1dlZWsiKSx1aT10aGlzLl9nZXQobiwiZGF5TmFtZXMiKSxmaT10aGlzLl9nZXQobiwiZGF5TmFtZXNNaW4iKSxlaT10aGlzLl9nZXQobiwibW9udGhOYW1lcyIpLG9pPXRoaXMuX2dldChuLCJtb250aE5hbWVzU2hvcnQiKSxzdD10aGlzLl9nZXQobiwiYmVmb3JlU2hvd0RheSIpLGc9dGhpcy5fZ2V0KG4sInNob3dPdGhlck1vbnRocyIpLHNpPXRoaXMuX2dldChuLCJzZWxlY3RPdGhlck1vbnRocyIpLGh0PXRoaXMuX2dldERlZmF1bHREYXRlKG4pLG50PSIiLHk9MDtlWzBdPnk7eSsrKXtmb3IoY3Q9IiIsdGhpcy5tYXhSb3dzPTQscD0wO2VbMV0+cDtwKyspe2lmKGx0PXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsdCxuLnNlbGVjdGVkRGF5KSksbD0iIHVpLWNvcm5lci1hbGwiLHU9IiIsdGkpe2lmKHUrPSI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWdyb3VwIixlWzFdPjEpc3dpdGNoKHApe2Nhc2UgMDp1Kz0iIHVpLWRhdGVwaWNrZXItZ3JvdXAtZmlyc3QiO2w9IiB1aS1jb3JuZXItIisoZj8icmlnaHQiOiJsZWZ0Iik7YnJlYWs7Y2FzZSBlWzFdLTE6dSs9IiB1aS1kYXRlcGlja2VyLWdyb3VwLWxhc3QiO2w9IiB1aS1jb3JuZXItIisoZj8ibGVmdCI6InJpZ2h0Iik7YnJlYWs7ZGVmYXVsdDp1Kz0iIHVpLWRhdGVwaWNrZXItZ3JvdXAtbWlkZGxlIjtsPSIifXUrPSInPiJ9Zm9yKHUrPSI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWhlYWRlciB1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeCIrbCsiJz4iKygvYWxsfGxlZnQvLnRlc3QobCkmJjA9PT15P2Y/dXQ6cnQ6IiIpKygvYWxsfHJpZ2h0Ly50ZXN0KGwpJiYwPT09eT9mP3J0OnV0OiIiKSt0aGlzLl9nZW5lcmF0ZU1vbnRoWWVhckhlYWRlcihuLHQscix3LHYseT4wfHxwPjAsZWksb2kpKyI8XC9kaXY+PHRhYmxlIGNsYXNzPSd1aS1kYXRlcGlja2VyLWNhbGVuZGFyJz48dGhlYWQ+PHRyPiIsYXQ9b3Q/Ijx0aCBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWNvbCc+Iit0aGlzLl9nZXQobiwid2Vla0hlYWRlciIpKyI8XC90aD4iOiIiLG89MDs3Pm87bysrKXZ0PShvK2MpJTcsYXQrPSI8dGggc2NvcGU9J2NvbCciKygobytjKzYpJTc+PTU/IiBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWVuZCciOiIiKSsiPjxzcGFuIHRpdGxlPSciK3VpW3Z0XSsiJz4iK2ZpW3Z0XSsiPFwvc3Bhbj48XC90aD4iO2Zvcih1Kz1hdCsiPFwvdHI+PFwvdGhlYWQ+PHRib2R5PiIseXQ9dGhpcy5fZ2V0RGF5c0luTW9udGgocix0KSxyPT09bi5zZWxlY3RlZFllYXImJnQ9PT1uLnNlbGVjdGVkTW9udGgmJihuLnNlbGVjdGVkRGF5PU1hdGgubWluKG4uc2VsZWN0ZWREYXkseXQpKSxwdD0odGhpcy5fZ2V0Rmlyc3REYXlPZk1vbnRoKHIsdCktYys3KSU3LHR0PU1hdGguY2VpbCgocHQreXQpLzcpLHd0PXRpP3RoaXMubWF4Um93cz50dD90aGlzLm1heFJvd3M6dHQ6dHQsdGhpcy5tYXhSb3dzPXd0LGk9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocix0LDEtcHQpKSxidD0wO3d0PmJ0O2J0Kyspe2Zvcih1Kz0iPHRyPiIsa3Q9b3Q/Ijx0ZCBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWNvbCc+Iit0aGlzLl9nZXQobiwiY2FsY3VsYXRlV2VlayIpKGkpKyI8XC90ZD4iOiIiLG89MDs3Pm87bysrKWQ9c3Q/c3QuYXBwbHkobi5pbnB1dD9uLmlucHV0WzBdOm51bGwsW2ldKTpbITAsIiJdLGE9aS5nZXRNb250aCgpIT09dCxpdD1hJiYhc2l8fCFkWzBdfHx3JiZ3Pml8fHYmJmk+dixrdCs9Ijx0ZCBjbGFzcz0nIisoKG8rYys2KSU3Pj01PyIgdWktZGF0ZXBpY2tlci13ZWVrLWVuZCI6IiIpKyhhPyIgdWktZGF0ZXBpY2tlci1vdGhlci1tb250aCI6IiIpKyhpLmdldFRpbWUoKT09PWx0LmdldFRpbWUoKSYmdD09PW4uc2VsZWN0ZWRNb250aCYmbi5fa2V5RXZlbnR8fGh0LmdldFRpbWUoKT09PWkuZ2V0VGltZSgpJiZodC5nZXRUaW1lKCk9PT1sdC5nZXRUaW1lKCk/IiAiK3RoaXMuX2RheU92ZXJDbGFzczoiIikrKGl0PyIgIit0aGlzLl91bnNlbGVjdGFibGVDbGFzcysiIHVpLXN0YXRlLWRpc2FibGVkIjoiIikrKGEmJiFnPyIiOiIgIitkWzFdKyhpLmdldFRpbWUoKT09PWlpLmdldFRpbWUoKT8iICIrdGhpcy5fY3VycmVudENsYXNzOiIiKSsoaS5nZXRUaW1lKCk9PT1ndC5nZXRUaW1lKCk/IiB1aS1kYXRlcGlja2VyLXRvZGF5IjoiIikpKyInIisoYSYmIWd8fCFkWzJdPyIiOiIgdGl0bGU9JyIrZFsyXS5yZXBsYWNlKC8nL2csIiYjMzk7IikrIiciKSsoaXQ/IiI6IiBkYXRhLWhhbmRsZXI9J3NlbGVjdERheScgZGF0YS1ldmVudD0nY2xpY2snIGRhdGEtbW9udGg9JyIraS5nZXRNb250aCgpKyInIGRhdGEteWVhcj0nIitpLmdldEZ1bGxZZWFyKCkrIiciKSsiPiIrKGEmJiFnPyImI3hhMDsiOml0PyI8c3BhbiBjbGFzcz0ndWktc3RhdGUtZGVmYXVsdCc+IitpLmdldERhdGUoKSsiPFwvc3Bhbj4iOiI8YSBjbGFzcz0ndWktc3RhdGUtZGVmYXVsdCIrKGkuZ2V0VGltZSgpPT09Z3QuZ2V0VGltZSgpPyIgdWktc3RhdGUtaGlnaGxpZ2h0IjoiIikrKGkuZ2V0VGltZSgpPT09aWkuZ2V0VGltZSgpPyIgdWktc3RhdGUtYWN0aXZlIjoiIikrKGE/IiB1aS1wcmlvcml0eS1zZWNvbmRhcnkiOiIiKSsiJyBocmVmPScjJz4iK2kuZ2V0RGF0ZSgpKyI8XC9hPiIpKyI8XC90ZD4iLGkuc2V0RGF0ZShpLmdldERhdGUoKSsxKSxpPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KGkpO3UrPWt0KyI8XC90cj4ifXQrKzt0PjExJiYodD0wLHIrKyk7dSs9IjxcL3Rib2R5PjxcL3RhYmxlPiIrKHRpPyI8XC9kaXY+IisoZVswXT4wJiZwPT09ZVsxXS0xPyI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLXJvdy1icmVhayc+PFwvZGl2PiI6IiIpOiIiKTtjdCs9dX1udCs9Y3R9cmV0dXJuIG50Kz1yaSxuLl9rZXlFdmVudD0hMSxudH0sX2dlbmVyYXRlTW9udGhZZWFySGVhZGVyOmZ1bmN0aW9uKG4sdCxpLHIsdSxmLGUsbyl7dmFyIGssZCxoLHYseSxwLHMsYSx3PXRoaXMuX2dldChuLCJjaGFuZ2VNb250aCIpLGI9dGhpcy5fZ2V0KG4sImNoYW5nZVllYXIiKSxnPXRoaXMuX2dldChuLCJzaG93TW9udGhBZnRlclllYXIiKSxjPSI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLXRpdGxlJz4iLGw9IiI7aWYoZnx8IXcpbCs9IjxzcGFuIGNsYXNzPSd1aS1kYXRlcGlja2VyLW1vbnRoJz4iK2VbdF0rIjxcL3NwYW4+IjtlbHNle2ZvcihrPXImJnIuZ2V0RnVsbFllYXIoKT09PWksZD11JiZ1LmdldEZ1bGxZZWFyKCk9PT1pLGwrPSI8c2VsZWN0IGNsYXNzPSd1aS1kYXRlcGlja2VyLW1vbnRoJyBkYXRhLWhhbmRsZXI9J3NlbGVjdE1vbnRoJyBkYXRhLWV2ZW50PSdjaGFuZ2UnPiIsaD0wOzEyPmg7aCsrKSgha3x8aD49ci5nZXRNb250aCgpKSYmKCFkfHx1LmdldE1vbnRoKCk+PWgpJiYobCs9IjxvcHRpb24gdmFsdWU9JyIraCsiJyIrKGg9PT10PyIgc2VsZWN0ZWQ9J3NlbGVjdGVkJyI6IiIpKyI+IitvW2hdKyI8XC9vcHRpb24+Iik7bCs9IjxcL3NlbGVjdD4ifWlmKGd8fChjKz1sKyghZiYmdyYmYj8iIjoiJiN4YTA7IikpLCFuLnllYXJzaHRtbClpZihuLnllYXJzaHRtbD0iIixmfHwhYiljKz0iPHNwYW4gY2xhc3M9J3VpLWRhdGVwaWNrZXIteWVhcic+IitpKyI8XC9zcGFuPiI7ZWxzZXtmb3Iodj10aGlzLl9nZXQobiwieWVhclJhbmdlIikuc3BsaXQoIjoiKSx5PShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSxwPWZ1bmN0aW9uKG4pe3ZhciB0PW4ubWF0Y2goL2NbK1wtXS4qLyk/aStwYXJzZUludChuLnN1YnN0cmluZygxKSwxMCk6bi5tYXRjaCgvWytcLV0uKi8pP3krcGFyc2VJbnQobiwxMCk6cGFyc2VJbnQobiwxMCk7cmV0dXJuIGlzTmFOKHQpP3k6dH0scz1wKHZbMF0pLGE9TWF0aC5tYXgocyxwKHZbMV18fCIiKSkscz1yP01hdGgubWF4KHMsci5nZXRGdWxsWWVhcigpKTpzLGE9dT9NYXRoLm1pbihhLHUuZ2V0RnVsbFllYXIoKSk6YSxuLnllYXJzaHRtbCs9IjxzZWxlY3QgY2xhc3M9J3VpLWRhdGVwaWNrZXIteWVhcicgZGF0YS1oYW5kbGVyPSdzZWxlY3RZZWFyJyBkYXRhLWV2ZW50PSdjaGFuZ2UnPiI7YT49cztzKyspbi55ZWFyc2h0bWwrPSI8b3B0aW9uIHZhbHVlPSciK3MrIiciKyhzPT09aT8iIHNlbGVjdGVkPSdzZWxlY3RlZCciOiIiKSsiPiIrcysiPFwvb3B0aW9uPiI7bi55ZWFyc2h0bWwrPSI8XC9zZWxlY3Q+IjtjKz1uLnllYXJzaHRtbDtuLnllYXJzaHRtbD1udWxsfXJldHVybiBjKz10aGlzLl9nZXQobiwieWVhclN1ZmZpeCIpLGcmJihjKz0oIWYmJncmJmI/IiI6IiYjeGEwOyIpK2wpLGMrIjxcL2Rpdj4ifSxfYWRqdXN0SW5zdERhdGU6ZnVuY3Rpb24obix0LGkpe3ZhciB1PW4uc2VsZWN0ZWRZZWFyKygiWSI9PT1pP3Q6MCksZj1uLnNlbGVjdGVkTW9udGgrKCJNIj09PWk/dDowKSxlPU1hdGgubWluKG4uc2VsZWN0ZWREYXksdGhpcy5fZ2V0RGF5c0luTW9udGgodSxmKSkrKCJEIj09PWk/dDowKSxyPXRoaXMuX3Jlc3RyaWN0TWluTWF4KG4sdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUodSxmLGUpKSk7bi5zZWxlY3RlZERheT1yLmdldERhdGUoKTtuLmRyYXdNb250aD1uLnNlbGVjdGVkTW9udGg9ci5nZXRNb250aCgpO24uZHJhd1llYXI9bi5zZWxlY3RlZFllYXI9ci5nZXRGdWxsWWVhcigpOygiTSI9PT1pfHwiWSI9PT1pKSYmdGhpcy5fbm90aWZ5Q2hhbmdlKG4pfSxfcmVzdHJpY3RNaW5NYXg6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLl9nZXRNaW5NYXhEYXRlKG4sIm1pbiIpLHI9dGhpcy5fZ2V0TWluTWF4RGF0ZShuLCJtYXgiKSx1PWkmJmk+dD9pOnQ7cmV0dXJuIHImJnU+cj9yOnV9LF9ub3RpZnlDaGFuZ2U6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fZ2V0KG4sIm9uQ2hhbmdlTW9udGhZZWFyIik7dCYmdC5hcHBseShuLmlucHV0P24uaW5wdXRbMF06bnVsbCxbbi5zZWxlY3RlZFllYXIsbi5zZWxlY3RlZE1vbnRoKzEsbl0pfSxfZ2V0TnVtYmVyT2ZNb250aHM6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fZ2V0KG4sIm51bWJlck9mTW9udGhzIik7cmV0dXJuIG51bGw9PXQ/WzEsMV06Im51bWJlciI9PXR5cGVvZiB0P1sxLHRdOnR9LF9nZXRNaW5NYXhEYXRlOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX2RldGVybWluZURhdGUobix0aGlzLl9nZXQobix0KyJEYXRlIiksbnVsbCl9LF9nZXREYXlzSW5Nb250aDpmdW5jdGlvbihuLHQpe3JldHVybiAzMi10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShuLHQsMzIpKS5nZXREYXRlKCl9LF9nZXRGaXJzdERheU9mTW9udGg6ZnVuY3Rpb24obix0KXtyZXR1cm4gbmV3IERhdGUobix0LDEpLmdldERheSgpfSxfY2FuQWRqdXN0TW9udGg6ZnVuY3Rpb24obix0LGkscil7dmFyIGY9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHMobiksdT10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShpLHIrKDA+dD90OmZbMF0qZlsxXSksMSkpO3JldHVybiAwPnQmJnUuc2V0RGF0ZSh0aGlzLl9nZXREYXlzSW5Nb250aCh1LmdldEZ1bGxZZWFyKCksdS5nZXRNb250aCgpKSksdGhpcy5faXNJblJhbmdlKG4sdSl9LF9pc0luUmFuZ2U6ZnVuY3Rpb24obix0KXt2YXIgaSxmLGU9dGhpcy5fZ2V0TWluTWF4RGF0ZShuLCJtaW4iKSxvPXRoaXMuX2dldE1pbk1heERhdGUobiwibWF4Iikscj1udWxsLHU9bnVsbCxzPXRoaXMuX2dldChuLCJ5ZWFyUmFuZ2UiKTtyZXR1cm4gcyYmKGk9cy5zcGxpdCgiOiIpLGY9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLHI9cGFyc2VJbnQoaVswXSwxMCksdT1wYXJzZUludChpWzFdLDEwKSxpWzBdLm1hdGNoKC9bK1wtXS4qLykmJihyKz1mKSxpWzFdLm1hdGNoKC9bK1wtXS4qLykmJih1Kz1mKSksKCFlfHx0LmdldFRpbWUoKT49ZS5nZXRUaW1lKCkpJiYoIW98fHQuZ2V0VGltZSgpPD1vLmdldFRpbWUoKSkmJighcnx8dC5nZXRGdWxsWWVhcigpPj1yKSYmKCF1fHx1Pj10LmdldEZ1bGxZZWFyKCkpfSxfZ2V0Rm9ybWF0Q29uZmlnOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2dldChuLCJzaG9ydFllYXJDdXRvZmYiKTtyZXR1cm4gdD0ic3RyaW5nIiE9dHlwZW9mIHQ/dDoobmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwK3BhcnNlSW50KHQsMTApLHtzaG9ydFllYXJDdXRvZmY6dCxkYXlOYW1lc1Nob3J0OnRoaXMuX2dldChuLCJkYXlOYW1lc1Nob3J0IiksZGF5TmFtZXM6dGhpcy5fZ2V0KG4sImRheU5hbWVzIiksbW9udGhOYW1lc1Nob3J0OnRoaXMuX2dldChuLCJtb250aE5hbWVzU2hvcnQiKSxtb250aE5hbWVzOnRoaXMuX2dldChuLCJtb250aE5hbWVzIil9fSxfZm9ybWF0RGF0ZTpmdW5jdGlvbihuLHQsaSxyKXt0fHwobi5jdXJyZW50RGF5PW4uc2VsZWN0ZWREYXksbi5jdXJyZW50TW9udGg9bi5zZWxlY3RlZE1vbnRoLG4uY3VycmVudFllYXI9bi5zZWxlY3RlZFllYXIpO3ZhciB1PXQ/Im9iamVjdCI9PXR5cGVvZiB0P3Q6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocixpLHQpKTp0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShuLmN1cnJlbnRZZWFyLG4uY3VycmVudE1vbnRoLG4uY3VycmVudERheSkpO3JldHVybiB0aGlzLmZvcm1hdERhdGUodGhpcy5fZ2V0KG4sImRhdGVGb3JtYXQiKSx1LHRoaXMuX2dldEZvcm1hdENvbmZpZyhuKSl9fSk7bi5mbi5kYXRlcGlja2VyPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdGhpcztuLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWR8fChuKGRvY3VtZW50KS5vbigibW91c2Vkb3duIixuLmRhdGVwaWNrZXIuX2NoZWNrRXh0ZXJuYWxDbGljayksbi5kYXRlcGlja2VyLmluaXRpYWxpemVkPSEwKTswPT09bigiIyIrbi5kYXRlcGlja2VyLl9tYWluRGl2SWQpLmxlbmd0aCYmbigiYm9keSIpLmFwcGVuZChuLmRhdGVwaWNrZXIuZHBEaXYpO3ZhciBpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHR8fCJpc0Rpc2FibGVkIiE9PXQmJiJnZXREYXRlIiE9PXQmJiJ3aWRnZXQiIT09dD8ib3B0aW9uIj09PXQmJjI9PT1hcmd1bWVudHMubGVuZ3RoJiYic3RyaW5nIj09dHlwZW9mIGFyZ3VtZW50c1sxXT9uLmRhdGVwaWNrZXJbIl8iK3QrIkRhdGVwaWNrZXIiXS5hcHBseShuLmRhdGVwaWNrZXIsW3RoaXNbMF1dLmNvbmNhdChpKSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7InN0cmluZyI9PXR5cGVvZiB0P24uZGF0ZXBpY2tlclsiXyIrdCsiRGF0ZXBpY2tlciJdLmFwcGx5KG4uZGF0ZXBpY2tlcixbdGhpc10uY29uY2F0KGkpKTpuLmRhdGVwaWNrZXIuX2F0dGFjaERhdGVwaWNrZXIodGhpcyx0KX0pOm4uZGF0ZXBpY2tlclsiXyIrdCsiRGF0ZXBpY2tlciJdLmFwcGx5KG4uZGF0ZXBpY2tlcixbdGhpc1swXV0uY29uY2F0KGkpKX07bi5kYXRlcGlja2VyPW5ldyBjO24uZGF0ZXBpY2tlci5pbml0aWFsaXplZD0hMTtuLmRhdGVwaWNrZXIudXVpZD0obmV3IERhdGUpLmdldFRpbWUoKTtuLmRhdGVwaWNrZXIudmVyc2lvbj0iMS4xMi4xIjtuLmRhdGVwaWNrZXI7bi51aS5pZT0hIS9tc2llIFtcdy5dKy8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO3I9ITE7bihkb2N1bWVudCkub24oIm1vdXNldXAiLGZ1bmN0aW9uKCl7cj0hMX0pO24ud2lkZ2V0KCJ1aS5tb3VzZSIse3ZlcnNpb246IjEuMTIuMSIsb3B0aW9uczp7Y2FuY2VsOiJpbnB1dCwgdGV4dGFyZWEsIGJ1dHRvbiwgc2VsZWN0LCBvcHRpb24iLGRpc3RhbmNlOjEsZGVsYXk6MH0sX21vdXNlSW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5lbGVtZW50Lm9uKCJtb3VzZWRvd24uIit0aGlzLndpZGdldE5hbWUsZnVuY3Rpb24obil7cmV0dXJuIHQuX21vdXNlRG93bihuKX0pLm9uKCJjbGljay4iK3RoaXMud2lkZ2V0TmFtZSxmdW5jdGlvbihpKXtpZighMD09PW4uZGF0YShpLnRhcmdldCx0LndpZGdldE5hbWUrIi5wcmV2ZW50Q2xpY2tFdmVudCIpKXJldHVybihuLnJlbW92ZURhdGEoaS50YXJnZXQsdC53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSxpLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCExKX0pO3RoaXMuc3RhcnRlZD0hMX0sX21vdXNlRGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5vZmYoIi4iK3RoaXMud2lkZ2V0TmFtZSk7dGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUmJnRoaXMuZG9jdW1lbnQub2ZmKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLm9mZigibW91c2V1cC4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZVVwRGVsZWdhdGUpfSxfbW91c2VEb3duOmZ1bmN0aW9uKHQpe2lmKCFyKXt0aGlzLl9tb3VzZU1vdmVkPSExO3RoaXMuX21vdXNlU3RhcnRlZCYmdGhpcy5fbW91c2VVcCh0KTt0aGlzLl9tb3VzZURvd25FdmVudD10O3ZhciBpPXRoaXMsdT0xPT09dC53aGljaCxmPSJzdHJpbmciPT10eXBlb2YgdGhpcy5vcHRpb25zLmNhbmNlbCYmdC50YXJnZXQubm9kZU5hbWU/bih0LnRhcmdldCkuY2xvc2VzdCh0aGlzLm9wdGlvbnMuY2FuY2VsKS5sZW5ndGg6ITE7cmV0dXJuIHUmJiFmJiZ0aGlzLl9tb3VzZUNhcHR1cmUodCk/KHRoaXMubW91c2VEZWxheU1ldD0hdGhpcy5vcHRpb25zLmRlbGF5LHRoaXMubW91c2VEZWxheU1ldHx8KHRoaXMuX21vdXNlRGVsYXlUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5tb3VzZURlbGF5TWV0PSEwfSx0aGlzLm9wdGlvbnMuZGVsYXkpKSx0aGlzLl9tb3VzZURpc3RhbmNlTWV0KHQpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KHQpJiYodGhpcy5fbW91c2VTdGFydGVkPXRoaXMuX21vdXNlU3RhcnQodCkhPT0hMSwhdGhpcy5fbW91c2VTdGFydGVkKT8odC5wcmV2ZW50RGVmYXVsdCgpLCEwKTooITA9PT1uLmRhdGEodC50YXJnZXQsdGhpcy53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSYmbi5yZW1vdmVEYXRhKHQudGFyZ2V0LHRoaXMud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IiksdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGU9ZnVuY3Rpb24obil7cmV0dXJuIGkuX21vdXNlTW92ZShuKX0sdGhpcy5fbW91c2VVcERlbGVnYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBpLl9tb3VzZVVwKG4pfSx0aGlzLmRvY3VtZW50Lm9uKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLm9uKCJtb3VzZXVwLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSksdC5wcmV2ZW50RGVmYXVsdCgpLHI9ITAsITApKTohMH19LF9tb3VzZU1vdmU6ZnVuY3Rpb24odCl7aWYodGhpcy5fbW91c2VNb3ZlZCl7aWYobi51aS5pZSYmKCFkb2N1bWVudC5kb2N1bWVudE1vZGV8fDk+ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSYmIXQuYnV0dG9uKXJldHVybiB0aGlzLl9tb3VzZVVwKHQpO2lmKCF0LndoaWNoKWlmKHQub3JpZ2luYWxFdmVudC5hbHRLZXl8fHQub3JpZ2luYWxFdmVudC5jdHJsS2V5fHx0Lm9yaWdpbmFsRXZlbnQubWV0YUtleXx8dC5vcmlnaW5hbEV2ZW50LnNoaWZ0S2V5KXRoaXMuaWdub3JlTWlzc2luZ1doaWNoPSEwO2Vsc2UgaWYoIXRoaXMuaWdub3JlTWlzc2luZ1doaWNoKXJldHVybiB0aGlzLl9tb3VzZVVwKHQpfXJldHVybih0LndoaWNofHx0LmJ1dHRvbikmJih0aGlzLl9tb3VzZU1vdmVkPSEwKSx0aGlzLl9tb3VzZVN0YXJ0ZWQ/KHRoaXMuX21vdXNlRHJhZyh0KSx0LnByZXZlbnREZWZhdWx0KCkpOih0aGlzLl9tb3VzZURpc3RhbmNlTWV0KHQpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KHQpJiYodGhpcy5fbW91c2VTdGFydGVkPXRoaXMuX21vdXNlU3RhcnQodGhpcy5fbW91c2VEb3duRXZlbnQsdCkhPT0hMSx0aGlzLl9tb3VzZVN0YXJ0ZWQ/dGhpcy5fbW91c2VEcmFnKHQpOnRoaXMuX21vdXNlVXAodCkpLCF0aGlzLl9tb3VzZVN0YXJ0ZWQpfSxfbW91c2VVcDpmdW5jdGlvbih0KXt0aGlzLmRvY3VtZW50Lm9mZigibW91c2Vtb3ZlLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlKS5vZmYoIm1vdXNldXAuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VVcERlbGVnYXRlKTt0aGlzLl9tb3VzZVN0YXJ0ZWQmJih0aGlzLl9tb3VzZVN0YXJ0ZWQ9ITEsdC50YXJnZXQ9PT10aGlzLl9tb3VzZURvd25FdmVudC50YXJnZXQmJm4uZGF0YSh0LnRhcmdldCx0aGlzLndpZGdldE5hbWUrIi5wcmV2ZW50Q2xpY2tFdmVudCIsITApLHRoaXMuX21vdXNlU3RvcCh0KSk7dGhpcy5fbW91c2VEZWxheVRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuX21vdXNlRGVsYXlUaW1lciksZGVsZXRlIHRoaXMuX21vdXNlRGVsYXlUaW1lcik7dGhpcy5pZ25vcmVNaXNzaW5nV2hpY2g9ITE7cj0hMTt0LnByZXZlbnREZWZhdWx0KCl9LF9tb3VzZURpc3RhbmNlTWV0OmZ1bmN0aW9uKG4pe3JldHVybiBNYXRoLm1heChNYXRoLmFicyh0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWC1uLnBhZ2VYKSxNYXRoLmFicyh0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWS1uLnBhZ2VZKSk+PXRoaXMub3B0aW9ucy5kaXN0YW5jZX0sX21vdXNlRGVsYXlNZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb3VzZURlbGF5TWV0fSxfbW91c2VTdGFydDpmdW5jdGlvbigpe30sX21vdXNlRHJhZzpmdW5jdGlvbigpe30sX21vdXNlU3RvcDpmdW5jdGlvbigpe30sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbigpe3JldHVybiEwfX0pO24udWkucGx1Z2luPXthZGQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1LGY9bi51aVt0XS5wcm90b3R5cGU7Zm9yKHUgaW4gcilmLnBsdWdpbnNbdV09Zi5wbHVnaW5zW3VdfHxbXSxmLnBsdWdpbnNbdV0ucHVzaChbaSxyW3VdXSl9LGNhbGw6ZnVuY3Rpb24obix0LGkscil7dmFyIHUsZj1uLnBsdWdpbnNbdF07aWYoZiYmKHJ8fG4uZWxlbWVudFswXS5wYXJlbnROb2RlJiYxMSE9PW4uZWxlbWVudFswXS5wYXJlbnROb2RlLm5vZGVUeXBlKSlmb3IodT0wO2YubGVuZ3RoPnU7dSsrKW4ub3B0aW9uc1tmW3VdWzBdXSYmZlt1XVsxXS5hcHBseShuLmVsZW1lbnQsaSl9fTtuLnVpLnNhZmVCbHVyPWZ1bmN0aW9uKHQpe3QmJiJib2R5IiE9PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmbih0KS50cmlnZ2VyKCJibHVyIil9O24ud2lkZ2V0KCJ1aS5kcmFnZ2FibGUiLG4udWkubW91c2Use3ZlcnNpb246IjEuMTIuMSIsd2lkZ2V0RXZlbnRQcmVmaXg6ImRyYWciLG9wdGlvbnM6e2FkZENsYXNzZXM6ITAsYXBwZW5kVG86InBhcmVudCIsYXhpczohMSxjb25uZWN0VG9Tb3J0YWJsZTohMSxjb250YWlubWVudDohMSxjdXJzb3I6ImF1dG8iLGN1cnNvckF0OiExLGdyaWQ6ITEsaGFuZGxlOiExLGhlbHBlcjoib3JpZ2luYWwiLGlmcmFtZUZpeDohMSxvcGFjaXR5OiExLHJlZnJlc2hQb3NpdGlvbnM6ITEscmV2ZXJ0OiExLHJldmVydER1cmF0aW9uOjUwMCxzY29wZToiZGVmYXVsdCIsc2Nyb2xsOiEwLHNjcm9sbFNlbnNpdGl2aXR5OjIwLHNjcm9sbFNwZWVkOjIwLHNuYXA6ITEsc25hcE1vZGU6ImJvdGgiLHNuYXBUb2xlcmFuY2U6MjAsc3RhY2s6ITEsekluZGV4OiExLGRyYWc6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpeyJvcmlnaW5hbCI9PT10aGlzLm9wdGlvbnMuaGVscGVyJiZ0aGlzLl9zZXRQb3NpdGlvblJlbGF0aXZlKCk7dGhpcy5vcHRpb25zLmFkZENsYXNzZXMmJnRoaXMuX2FkZENsYXNzKCJ1aS1kcmFnZ2FibGUiKTt0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKTt0aGlzLl9tb3VzZUluaXQoKX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3RoaXMuX3N1cGVyKG4sdCk7ImhhbmRsZSI9PT1uJiYodGhpcy5fcmVtb3ZlSGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCkpfSxfZGVzdHJveTpmdW5jdGlvbigpe3JldHVybih0aGlzLmhlbHBlcnx8dGhpcy5lbGVtZW50KS5pcygiLnVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpPyh0aGlzLmRlc3Ryb3lPbkNsZWFyPSEwLHZvaWQgMCk6KHRoaXMuX3JlbW92ZUhhbmRsZUNsYXNzTmFtZSgpLHRoaXMuX21vdXNlRGVzdHJveSgpLHZvaWQgMCl9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zO3JldHVybiB0aGlzLmhlbHBlcnx8aS5kaXNhYmxlZHx8bih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLXJlc2l6YWJsZS1oYW5kbGUiKS5sZW5ndGg+MD8hMToodGhpcy5oYW5kbGU9dGhpcy5fZ2V0SGFuZGxlKHQpLHRoaXMuaGFuZGxlPyh0aGlzLl9ibHVyQWN0aXZlRWxlbWVudCh0KSx0aGlzLl9ibG9ja0ZyYW1lcyhpLmlmcmFtZUZpeD09PSEwPyJpZnJhbWUiOmkuaWZyYW1lRml4KSwhMCk6ITEpfSxfYmxvY2tGcmFtZXM6ZnVuY3Rpb24odCl7dGhpcy5pZnJhbWVCbG9ja3M9dGhpcy5kb2N1bWVudC5maW5kKHQpLm1hcChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7cmV0dXJuIG4oIjxkaXY+IikuY3NzKCJwb3NpdGlvbiIsImFic29sdXRlIikuYXBwZW5kVG8odC5wYXJlbnQoKSkub3V0ZXJXaWR0aCh0Lm91dGVyV2lkdGgoKSkub3V0ZXJIZWlnaHQodC5vdXRlckhlaWdodCgpKS5vZmZzZXQodC5vZmZzZXQoKSlbMF19KX0sX3VuYmxvY2tGcmFtZXM6ZnVuY3Rpb24oKXt0aGlzLmlmcmFtZUJsb2NrcyYmKHRoaXMuaWZyYW1lQmxvY2tzLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLmlmcmFtZUJsb2Nrcyl9LF9ibHVyQWN0aXZlRWxlbWVudDpmdW5jdGlvbih0KXt2YXIgaT1uLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pLHI9bih0LnRhcmdldCk7ci5jbG9zZXN0KGkpLmxlbmd0aHx8bi51aS5zYWZlQmx1cihpKX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zO3JldHVybiB0aGlzLmhlbHBlcj10aGlzLl9jcmVhdGVIZWxwZXIodCksdGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsInVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpLHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSxuLnVpLmRkbWFuYWdlciYmKG4udWkuZGRtYW5hZ2VyLmN1cnJlbnQ9dGhpcyksdGhpcy5fY2FjaGVNYXJnaW5zKCksdGhpcy5jc3NQb3NpdGlvbj10aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIiksdGhpcy5zY3JvbGxQYXJlbnQ9dGhpcy5oZWxwZXIuc2Nyb2xsUGFyZW50KCEwKSx0aGlzLm9mZnNldFBhcmVudD10aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKSx0aGlzLmhhc0ZpeGVkQW5jZXN0b3I9dGhpcy5oZWxwZXIucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiJmaXhlZCI9PT1uKHRoaXMpLmNzcygicG9zaXRpb24iKX0pLmxlbmd0aD4wLHRoaXMucG9zaXRpb25BYnM9dGhpcy5lbGVtZW50Lm9mZnNldCgpLHRoaXMuX3JlZnJlc2hPZmZzZXRzKHQpLHRoaXMub3JpZ2luYWxQb3NpdGlvbj10aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24odCwhMSksdGhpcy5vcmlnaW5hbFBhZ2VYPXQucGFnZVgsdGhpcy5vcmlnaW5hbFBhZ2VZPXQucGFnZVksaS5jdXJzb3JBdCYmdGhpcy5fYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcihpLmN1cnNvckF0KSx0aGlzLl9zZXRDb250YWlubWVudCgpLHRoaXMuX3RyaWdnZXIoInN0YXJ0Iix0KT09PSExPyh0aGlzLl9jbGVhcigpLCExKToodGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLG4udWkuZGRtYW5hZ2VyJiYhaS5kcm9wQmVoYXZpb3VyJiZuLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpLHRoaXMuX21vdXNlRHJhZyh0LCEwKSxuLnVpLmRkbWFuYWdlciYmbi51aS5kZG1hbmFnZXIuZHJhZ1N0YXJ0KHRoaXMsdCksITApfSxfcmVmcmVzaE9mZnNldHM6ZnVuY3Rpb24obil7dGhpcy5vZmZzZXQ9e3RvcDp0aGlzLnBvc2l0aW9uQWJzLnRvcC10aGlzLm1hcmdpbnMudG9wLGxlZnQ6dGhpcy5wb3NpdGlvbkFicy5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0LHNjcm9sbDohMSxwYXJlbnQ6dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkscmVsYXRpdmU6dGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKX07dGhpcy5vZmZzZXQuY2xpY2s9e2xlZnQ6bi5wYWdlWC10aGlzLm9mZnNldC5sZWZ0LHRvcDpuLnBhZ2VZLXRoaXMub2Zmc2V0LnRvcH19LF9tb3VzZURyYWc6ZnVuY3Rpb24odCxpKXtpZih0aGlzLmhhc0ZpeGVkQW5jZXN0b3ImJih0aGlzLm9mZnNldC5wYXJlbnQ9dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkpLHRoaXMucG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbih0LCEwKSx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLCFpKXt2YXIgcj10aGlzLl91aUhhc2goKTtpZih0aGlzLl90cmlnZ2VyKCJkcmFnIix0LHIpPT09ITEpcmV0dXJuIHRoaXMuX21vdXNlVXAobmV3IG4uRXZlbnQoIm1vdXNldXAiLHQpKSwhMTt0aGlzLnBvc2l0aW9uPXIucG9zaXRpb259cmV0dXJuIHRoaXMuaGVscGVyWzBdLnN0eWxlLmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCIsdGhpcy5oZWxwZXJbMF0uc3R5bGUudG9wPXRoaXMucG9zaXRpb24udG9wKyJweCIsbi51aS5kZG1hbmFnZXImJm4udWkuZGRtYW5hZ2VyLmRyYWcodGhpcyx0KSwhMX0sX21vdXNlU3RvcDpmdW5jdGlvbih0KXt2YXIgcj10aGlzLGk9ITE7cmV0dXJuIG4udWkuZGRtYW5hZ2VyJiYhdGhpcy5vcHRpb25zLmRyb3BCZWhhdmlvdXImJihpPW4udWkuZGRtYW5hZ2VyLmRyb3AodGhpcyx0KSksdGhpcy5kcm9wcGVkJiYoaT10aGlzLmRyb3BwZWQsdGhpcy5kcm9wcGVkPSExKSwiaW52YWxpZCI9PT10aGlzLm9wdGlvbnMucmV2ZXJ0JiYhaXx8InZhbGlkIj09PXRoaXMub3B0aW9ucy5yZXZlcnQmJml8fHRoaXMub3B0aW9ucy5yZXZlcnQ9PT0hMHx8bi5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5yZXZlcnQpJiZ0aGlzLm9wdGlvbnMucmV2ZXJ0LmNhbGwodGhpcy5lbGVtZW50LGkpP24odGhpcy5oZWxwZXIpLmFuaW1hdGUodGhpcy5vcmlnaW5hbFBvc2l0aW9uLHBhcnNlSW50KHRoaXMub3B0aW9ucy5yZXZlcnREdXJhdGlvbiwxMCksZnVuY3Rpb24oKXtyLl90cmlnZ2VyKCJzdG9wIix0KSE9PSExJiZyLl9jbGVhcigpfSk6dGhpcy5fdHJpZ2dlcigic3RvcCIsdCkhPT0hMSYmdGhpcy5fY2xlYXIoKSwhMX0sX21vdXNlVXA6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VuYmxvY2tGcmFtZXMoKSxuLnVpLmRkbWFuYWdlciYmbi51aS5kZG1hbmFnZXIuZHJhZ1N0b3AodGhpcyx0KSx0aGlzLmhhbmRsZUVsZW1lbnQuaXModC50YXJnZXQpJiZ0aGlzLmVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKSxuLnVpLm1vdXNlLnByb3RvdHlwZS5fbW91c2VVcC5jYWxsKHRoaXMsdCl9LGNhbmNlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhlbHBlci5pcygiLnVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpP3RoaXMuX21vdXNlVXAobmV3IG4uRXZlbnQoIm1vdXNldXAiLHt0YXJnZXQ6dGhpcy5lbGVtZW50WzBdfSkpOnRoaXMuX2NsZWFyKCksdGhpc30sX2dldEhhbmRsZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLmhhbmRsZT8hIW4odC50YXJnZXQpLmNsb3Nlc3QodGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLmhhbmRsZSkpLmxlbmd0aDohMH0sX3NldEhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlRWxlbWVudD10aGlzLm9wdGlvbnMuaGFuZGxlP3RoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5oYW5kbGUpOnRoaXMuZWxlbWVudDt0aGlzLl9hZGRDbGFzcyh0aGlzLmhhbmRsZUVsZW1lbnQsInVpLWRyYWdnYWJsZS1oYW5kbGUiKX0sX3JlbW92ZUhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaGFuZGxlRWxlbWVudCwidWktZHJhZ2dhYmxlLWhhbmRsZSIpfSxfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMub3B0aW9ucyx1PW4uaXNGdW5jdGlvbihyLmhlbHBlciksaT11P24oci5oZWxwZXIuYXBwbHkodGhpcy5lbGVtZW50WzBdLFt0XSkpOiJjbG9uZSI9PT1yLmhlbHBlcj90aGlzLmVsZW1lbnQuY2xvbmUoKS5yZW1vdmVBdHRyKCJpZCIpOnRoaXMuZWxlbWVudDtyZXR1cm4gaS5wYXJlbnRzKCJib2R5IikubGVuZ3RofHxpLmFwcGVuZFRvKCJwYXJlbnQiPT09ci5hcHBlbmRUbz90aGlzLmVsZW1lbnRbMF0ucGFyZW50Tm9kZTpyLmFwcGVuZFRvKSx1JiZpWzBdPT09dGhpcy5lbGVtZW50WzBdJiZ0aGlzLl9zZXRQb3NpdGlvblJlbGF0aXZlKCksaVswXT09PXRoaXMuZWxlbWVudFswXXx8LyhmaXhlZHxhYnNvbHV0ZSkvLnRlc3QoaS5jc3MoInBvc2l0aW9uIikpfHxpLmNzcygicG9zaXRpb24iLCJhYnNvbHV0ZSIpLGl9LF9zZXRQb3NpdGlvblJlbGF0aXZlOmZ1bmN0aW9uKCl7L14oPzpyfGF8ZikvLnRlc3QodGhpcy5lbGVtZW50LmNzcygicG9zaXRpb24iKSl8fCh0aGlzLmVsZW1lbnRbMF0uc3R5bGUucG9zaXRpb249InJlbGF0aXZlIil9LF9hZGp1c3RPZmZzZXRGcm9tSGVscGVyOmZ1bmN0aW9uKHQpeyJzdHJpbmciPT10eXBlb2YgdCYmKHQ9dC5zcGxpdCgiICIpKTtuLmlzQXJyYXkodCkmJih0PXtsZWZ0Oit0WzBdLHRvcDordFsxXXx8MH0pOyJsZWZ0ImluIHQmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXQubGVmdCt0aGlzLm1hcmdpbnMubGVmdCk7InJpZ2h0ImluIHQmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdC5yaWdodCt0aGlzLm1hcmdpbnMubGVmdCk7InRvcCJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2sudG9wPXQudG9wK3RoaXMubWFyZ2lucy50b3ApOyJib3R0b20iaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLnRvcD10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10LmJvdHRvbSt0aGlzLm1hcmdpbnMudG9wKX0sX2lzUm9vdE5vZGU6ZnVuY3Rpb24obil7cmV0dXJuLyhodG1sfGJvZHkpL2kudGVzdChuLnRhZ05hbWUpfHxuPT09dGhpcy5kb2N1bWVudFswXX0sX2dldFBhcmVudE9mZnNldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub2Zmc2V0UGFyZW50Lm9mZnNldCgpLGk9dGhpcy5kb2N1bWVudFswXTtyZXR1cm4iYWJzb2x1dGUiPT09dGhpcy5jc3NQb3NpdGlvbiYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT1pJiZuLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKSYmKHQubGVmdCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpLHQudG9wKz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSksdGhpcy5faXNSb290Tm9kZSh0aGlzLm9mZnNldFBhcmVudFswXSkmJih0PXt0b3A6MCxsZWZ0OjB9KSx7dG9wOnQudG9wKyhwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSxsZWZ0OnQubGVmdCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApfX0sX2dldFJlbGF0aXZlT2Zmc2V0OmZ1bmN0aW9uKCl7aWYoInJlbGF0aXZlIiE9PXRoaXMuY3NzUG9zaXRpb24pcmV0dXJue3RvcDowLGxlZnQ6MH07dmFyIG49dGhpcy5lbGVtZW50LnBvc2l0aW9uKCksdD10aGlzLl9pc1Jvb3ROb2RlKHRoaXMuc2Nyb2xsUGFyZW50WzBdKTtyZXR1cm57dG9wOm4udG9wLShwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoInRvcCIpLDEwKXx8MCkrKHQ/MDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSksbGVmdDpuLmxlZnQtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygibGVmdCIpLDEwKXx8MCkrKHQ/MDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCkpfX0sX2NhY2hlTWFyZ2luczpmdW5jdGlvbigpe3RoaXMubWFyZ2lucz17bGVmdDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5MZWZ0IiksMTApfHwwLHRvcDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5Ub3AiKSwxMCl8fDAscmlnaHQ6cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygibWFyZ2luUmlnaHQiKSwxMCl8fDAsYm90dG9tOnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpbkJvdHRvbSIpLDEwKXx8MH19LF9jYWNoZUhlbHBlclByb3BvcnRpb25zOmZ1bmN0aW9uKCl7dGhpcy5oZWxwZXJQcm9wb3J0aW9ucz17d2lkdGg6dGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpfX0sX3NldENvbnRhaW5tZW50OmZ1bmN0aW9uKCl7dmFyIGYsdCxpLHI9dGhpcy5vcHRpb25zLHU9dGhpcy5kb2N1bWVudFswXTtyZXR1cm4gdGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj1udWxsLHIuY29udGFpbm1lbnQ/IndpbmRvdyI9PT1yLmNvbnRhaW5tZW50Pyh0aGlzLmNvbnRhaW5tZW50PVtuKHdpbmRvdykuc2Nyb2xsTGVmdCgpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsbih3aW5kb3cpLnNjcm9sbFRvcCgpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wLG4od2luZG93KS5zY3JvbGxMZWZ0KCkrbih3aW5kb3cpLndpZHRoKCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCxuKHdpbmRvdykuc2Nyb2xsVG9wKCkrKG4od2luZG93KS5oZWlnaHQoKXx8dS5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0KS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wXSx2b2lkIDApOiJkb2N1bWVudCI9PT1yLmNvbnRhaW5tZW50Pyh0aGlzLmNvbnRhaW5tZW50PVswLDAsbih1KS53aWR0aCgpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdGhpcy5tYXJnaW5zLmxlZnQsKG4odSkuaGVpZ2h0KCl8fHUuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdGhpcy5tYXJnaW5zLnRvcF0sdm9pZCAwKTpyLmNvbnRhaW5tZW50LmNvbnN0cnVjdG9yPT09QXJyYXk/KHRoaXMuY29udGFpbm1lbnQ9ci5jb250YWlubWVudCx2b2lkIDApOigicGFyZW50Ij09PXIuY29udGFpbm1lbnQmJihyLmNvbnRhaW5tZW50PXRoaXMuaGVscGVyWzBdLnBhcmVudE5vZGUpLHQ9bihyLmNvbnRhaW5tZW50KSxpPXRbMF0saSYmKGY9LyhzY3JvbGx8YXV0bykvLnRlc3QodC5jc3MoIm92ZXJmbG93IikpLHRoaXMuY29udGFpbm1lbnQ9WyhwYXJzZUludCh0LmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQodC5jc3MoInBhZGRpbmdMZWZ0IiksMTApfHwwKSwocGFyc2VJbnQodC5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQodC5jc3MoInBhZGRpbmdUb3AiKSwxMCl8fDApLChmP01hdGgubWF4KGkuc2Nyb2xsV2lkdGgsaS5vZmZzZXRXaWR0aCk6aS5vZmZzZXRXaWR0aCktKHBhcnNlSW50KHQuY3NzKCJib3JkZXJSaWdodFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQodC5jc3MoInBhZGRpbmdSaWdodCIpLDEwKXx8MCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdC10aGlzLm1hcmdpbnMucmlnaHQsKGY/TWF0aC5tYXgoaS5zY3JvbGxIZWlnaHQsaS5vZmZzZXRIZWlnaHQpOmkub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQodC5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQodC5jc3MoInBhZGRpbmdCb3R0b20iKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3AtdGhpcy5tYXJnaW5zLmJvdHRvbV0sdGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj10KSx2b2lkIDApOih0aGlzLmNvbnRhaW5tZW50PW51bGwsdm9pZCAwKX0sX2NvbnZlcnRQb3NpdGlvblRvOmZ1bmN0aW9uKG4sdCl7dHx8KHQ9dGhpcy5wb3NpdGlvbik7dmFyIGk9ImFic29sdXRlIj09PW4/MTotMSxyPXRoaXMuX2lzUm9vdE5vZGUodGhpcy5zY3JvbGxQYXJlbnRbMF0pO3JldHVybnt0b3A6dC50b3ArdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wKmkrdGhpcy5vZmZzZXQucGFyZW50LnRvcCppLSgiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5vZmZzZXQuc2Nyb2xsLnRvcDpyPzA6dGhpcy5vZmZzZXQuc2Nyb2xsLnRvcCkqaSxsZWZ0OnQubGVmdCt0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0KmkrdGhpcy5vZmZzZXQucGFyZW50LmxlZnQqaS0oImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0OnI/MDp0aGlzLm9mZnNldC5zY3JvbGwubGVmdCkqaX19LF9nZW5lcmF0ZVBvc2l0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIGkscyx1LGYscj10aGlzLm9wdGlvbnMsaD10aGlzLl9pc1Jvb3ROb2RlKHRoaXMuc2Nyb2xsUGFyZW50WzBdKSxlPW4ucGFnZVgsbz1uLnBhZ2VZO3JldHVybiBoJiZ0aGlzLm9mZnNldC5zY3JvbGx8fCh0aGlzLm9mZnNldC5zY3JvbGw9e3RvcDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSxsZWZ0OnRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKX0pLHQmJih0aGlzLmNvbnRhaW5tZW50JiYodGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj8ocz10aGlzLnJlbGF0aXZlQ29udGFpbmVyLm9mZnNldCgpLGk9W3RoaXMuY29udGFpbm1lbnRbMF0rcy5sZWZ0LHRoaXMuY29udGFpbm1lbnRbMV0rcy50b3AsdGhpcy5jb250YWlubWVudFsyXStzLmxlZnQsdGhpcy5jb250YWlubWVudFszXStzLnRvcF0pOmk9dGhpcy5jb250YWlubWVudCxuLnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8aVswXSYmKGU9aVswXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSxuLnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDxpWzFdJiYobz1pWzFdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCksbi5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PmlbMl0mJihlPWlbMl0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksbi5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A+aVszXSYmKG89aVszXSt0aGlzLm9mZnNldC5jbGljay50b3ApKSxyLmdyaWQmJih1PXIuZ3JpZFsxXT90aGlzLm9yaWdpbmFsUGFnZVkrTWF0aC5yb3VuZCgoby10aGlzLm9yaWdpbmFsUGFnZVkpL3IuZ3JpZFsxXSkqci5ncmlkWzFdOnRoaXMub3JpZ2luYWxQYWdlWSxvPWk/dS10aGlzLm9mZnNldC5jbGljay50b3A+PWlbMV18fHUtdGhpcy5vZmZzZXQuY2xpY2sudG9wPmlbM10/dTp1LXRoaXMub2Zmc2V0LmNsaWNrLnRvcD49aVsxXT91LXIuZ3JpZFsxXTp1K3IuZ3JpZFsxXTp1LGY9ci5ncmlkWzBdP3RoaXMub3JpZ2luYWxQYWdlWCtNYXRoLnJvdW5kKChlLXRoaXMub3JpZ2luYWxQYWdlWCkvci5ncmlkWzBdKSpyLmdyaWRbMF06dGhpcy5vcmlnaW5hbFBhZ2VYLGU9aT9mLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+PWlbMF18fGYtdGhpcy5vZmZzZXQuY2xpY2subGVmdD5pWzJdP2Y6Zi10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj1pWzBdP2Ytci5ncmlkWzBdOmYrci5ncmlkWzBdOmYpLCJ5Ij09PXIuYXhpcyYmKGU9dGhpcy5vcmlnaW5hbFBhZ2VYKSwieCI9PT1yLmF4aXMmJihvPXRoaXMub3JpZ2luYWxQYWdlWSkpLHt0b3A6by10aGlzLm9mZnNldC5jbGljay50b3AtdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3ArKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLm9mZnNldC5zY3JvbGwudG9wOmg/MDp0aGlzLm9mZnNldC5zY3JvbGwudG9wKSxsZWZ0OmUtdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KygiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQ6aD8wOnRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0KX19LF9jbGVhcjpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaGVscGVyLCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmciKTt0aGlzLmhlbHBlclswXT09PXRoaXMuZWxlbWVudFswXXx8dGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsfHx0aGlzLmhlbHBlci5yZW1vdmUoKTt0aGlzLmhlbHBlcj1udWxsO3RoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMTt0aGlzLmRlc3Ryb3lPbkNsZWFyJiZ0aGlzLmRlc3Ryb3koKX0sX3RyaWdnZXI6ZnVuY3Rpb24odCxpLHIpe3JldHVybiByPXJ8fHRoaXMuX3VpSGFzaCgpLG4udWkucGx1Z2luLmNhbGwodGhpcyx0LFtpLHIsdGhpc10sITApLC9eKGRyYWd8c3RhcnR8c3RvcCkvLnRlc3QodCkmJih0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLHIub2Zmc2V0PXRoaXMucG9zaXRpb25BYnMpLG4uV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5jYWxsKHRoaXMsdCxpLHIpfSxwbHVnaW5zOnt9LF91aUhhc2g6ZnVuY3Rpb24oKXtyZXR1cm57aGVscGVyOnRoaXMuaGVscGVyLHBvc2l0aW9uOnRoaXMucG9zaXRpb24sb3JpZ2luYWxQb3NpdGlvbjp0aGlzLm9yaWdpbmFsUG9zaXRpb24sb2Zmc2V0OnRoaXMucG9zaXRpb25BYnN9fX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwiY29ubmVjdFRvU29ydGFibGUiLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIHU9bi5leHRlbmQoe30saSx7aXRlbTpyLmVsZW1lbnR9KTtyLnNvcnRhYmxlcz1bXTtuKHIub3B0aW9ucy5jb25uZWN0VG9Tb3J0YWJsZSkuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykuc29ydGFibGUoImluc3RhbmNlIik7aSYmIWkub3B0aW9ucy5kaXNhYmxlZCYmKHIuc29ydGFibGVzLnB1c2goaSksaS5yZWZyZXNoUG9zaXRpb25zKCksaS5fdHJpZ2dlcigiYWN0aXZhdGUiLHQsdSkpfSl9LHN0b3A6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4uZXh0ZW5kKHt9LGkse2l0ZW06ci5lbGVtZW50fSk7ci5jYW5jZWxIZWxwZXJSZW1vdmFsPSExO24uZWFjaChyLnNvcnRhYmxlcyxmdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5pc092ZXI/KG4uaXNPdmVyPTAsci5jYW5jZWxIZWxwZXJSZW1vdmFsPSEwLG4uY2FuY2VsSGVscGVyUmVtb3ZhbD0hMSxuLl9zdG9yZWRDU1M9e3Bvc2l0aW9uOm4ucGxhY2Vob2xkZXIuY3NzKCJwb3NpdGlvbiIpLHRvcDpuLnBsYWNlaG9sZGVyLmNzcygidG9wIiksbGVmdDpuLnBsYWNlaG9sZGVyLmNzcygibGVmdCIpfSxuLl9tb3VzZVN0b3AodCksbi5vcHRpb25zLmhlbHBlcj1uLm9wdGlvbnMuX2hlbHBlcik6KG4uY2FuY2VsSGVscGVyUmVtb3ZhbD0hMCxuLl90cmlnZ2VyKCJkZWFjdGl2YXRlIix0LHUpKX0pfSxkcmFnOmZ1bmN0aW9uKHQsaSxyKXtuLmVhY2goci5zb3J0YWJsZXMsZnVuY3Rpb24oKXt2YXIgZj0hMSx1PXRoaXM7dS5wb3NpdGlvbkFicz1yLnBvc2l0aW9uQWJzO3UuaGVscGVyUHJvcG9ydGlvbnM9ci5oZWxwZXJQcm9wb3J0aW9uczt1Lm9mZnNldC5jbGljaz1yLm9mZnNldC5jbGljazt1Ll9pbnRlcnNlY3RzV2l0aCh1LmNvbnRhaW5lckNhY2hlKSYmKGY9ITAsbi5lYWNoKHIuc29ydGFibGVzLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb25BYnM9ci5wb3NpdGlvbkFicyx0aGlzLmhlbHBlclByb3BvcnRpb25zPXIuaGVscGVyUHJvcG9ydGlvbnMsdGhpcy5vZmZzZXQuY2xpY2s9ci5vZmZzZXQuY2xpY2ssdGhpcyE9PXUmJnRoaXMuX2ludGVyc2VjdHNXaXRoKHRoaXMuY29udGFpbmVyQ2FjaGUpJiZuLmNvbnRhaW5zKHUuZWxlbWVudFswXSx0aGlzLmVsZW1lbnRbMF0pJiYoZj0hMSksZn0pKTtmPyh1LmlzT3Zlcnx8KHUuaXNPdmVyPTEsci5fcGFyZW50PWkuaGVscGVyLnBhcmVudCgpLHUuY3VycmVudEl0ZW09aS5oZWxwZXIuYXBwZW5kVG8odS5lbGVtZW50KS5kYXRhKCJ1aS1zb3J0YWJsZS1pdGVtIiwhMCksdS5vcHRpb25zLl9oZWxwZXI9dS5vcHRpb25zLmhlbHBlcix1Lm9wdGlvbnMuaGVscGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGkuaGVscGVyWzBdfSx0LnRhcmdldD11LmN1cnJlbnRJdGVtWzBdLHUuX21vdXNlQ2FwdHVyZSh0LCEwKSx1Ll9tb3VzZVN0YXJ0KHQsITAsITApLHUub2Zmc2V0LmNsaWNrLnRvcD1yLm9mZnNldC5jbGljay50b3AsdS5vZmZzZXQuY2xpY2subGVmdD1yLm9mZnNldC5jbGljay5sZWZ0LHUub2Zmc2V0LnBhcmVudC5sZWZ0LT1yLm9mZnNldC5wYXJlbnQubGVmdC11Lm9mZnNldC5wYXJlbnQubGVmdCx1Lm9mZnNldC5wYXJlbnQudG9wLT1yLm9mZnNldC5wYXJlbnQudG9wLXUub2Zmc2V0LnBhcmVudC50b3Asci5fdHJpZ2dlcigidG9Tb3J0YWJsZSIsdCksci5kcm9wcGVkPXUuZWxlbWVudCxuLmVhY2goci5zb3J0YWJsZXMsZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKX0pLHIuY3VycmVudEl0ZW09ci5lbGVtZW50LHUuZnJvbU91dHNpZGU9ciksdS5jdXJyZW50SXRlbSYmKHUuX21vdXNlRHJhZyh0KSxpLnBvc2l0aW9uPXUucG9zaXRpb24pKTp1LmlzT3ZlciYmKHUuaXNPdmVyPTAsdS5jYW5jZWxIZWxwZXJSZW1vdmFsPSEwLHUub3B0aW9ucy5fcmV2ZXJ0PXUub3B0aW9ucy5yZXZlcnQsdS5vcHRpb25zLnJldmVydD0hMSx1Ll90cmlnZ2VyKCJvdXQiLHQsdS5fdWlIYXNoKHUpKSx1Ll9tb3VzZVN0b3AodCwhMCksdS5vcHRpb25zLnJldmVydD11Lm9wdGlvbnMuX3JldmVydCx1Lm9wdGlvbnMuaGVscGVyPXUub3B0aW9ucy5faGVscGVyLHUucGxhY2Vob2xkZXImJnUucGxhY2Vob2xkZXIucmVtb3ZlKCksaS5oZWxwZXIuYXBwZW5kVG8oci5fcGFyZW50KSxyLl9yZWZyZXNoT2Zmc2V0cyh0KSxpLnBvc2l0aW9uPXIuX2dlbmVyYXRlUG9zaXRpb24odCwhMCksci5fdHJpZ2dlcigiZnJvbVNvcnRhYmxlIix0KSxyLmRyb3BwZWQ9ITEsbi5lYWNoKHIuc29ydGFibGVzLGZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoUG9zaXRpb25zKCl9KSl9KX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsImN1cnNvciIse3N0YXJ0OmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1uKCJib2R5IiksZj1yLm9wdGlvbnM7dS5jc3MoImN1cnNvciIpJiYoZi5fY3Vyc29yPXUuY3NzKCJjdXJzb3IiKSk7dS5jc3MoImN1cnNvciIsZi5jdXJzb3IpfSxzdG9wOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1yLm9wdGlvbnM7dS5fY3Vyc29yJiZuKCJib2R5IikuY3NzKCJjdXJzb3IiLHUuX2N1cnNvcil9fSk7bi51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJvcGFjaXR5Iix7c3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4oaS5oZWxwZXIpLGY9ci5vcHRpb25zO3UuY3NzKCJvcGFjaXR5IikmJihmLl9vcGFjaXR5PXUuY3NzKCJvcGFjaXR5IikpO3UuY3NzKCJvcGFjaXR5IixmLm9wYWNpdHkpfSxzdG9wOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1yLm9wdGlvbnM7dS5fb3BhY2l0eSYmbihpLmhlbHBlcikuY3NzKCJvcGFjaXR5Iix1Ll9vcGFjaXR5KX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsInNjcm9sbCIse3N0YXJ0OmZ1bmN0aW9uKG4sdCxpKXtpLnNjcm9sbFBhcmVudE5vdEhpZGRlbnx8KGkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuPWkuaGVscGVyLnNjcm9sbFBhcmVudCghMSkpO2kuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWzBdIT09aS5kb2N1bWVudFswXSYmIkhUTUwiIT09aS5zY3JvbGxQYXJlbnROb3RIaWRkZW5bMF0udGFnTmFtZSYmKGkub3ZlcmZsb3dPZmZzZXQ9aS5zY3JvbGxQYXJlbnROb3RIaWRkZW4ub2Zmc2V0KCkpfSxkcmFnOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1yLm9wdGlvbnMsbz0hMSxlPXIuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWzBdLGY9ci5kb2N1bWVudFswXTtlIT09ZiYmIkhUTUwiIT09ZS50YWdOYW1lPyh1LmF4aXMmJiJ4Ij09PXUuYXhpc3x8KHIub3ZlcmZsb3dPZmZzZXQudG9wK2Uub2Zmc2V0SGVpZ2h0LXQucGFnZVk8dS5zY3JvbGxTZW5zaXRpdml0eT9lLnNjcm9sbFRvcD1vPWUuc2Nyb2xsVG9wK3Uuc2Nyb2xsU3BlZWQ6dC5wYWdlWS1yLm92ZXJmbG93T2Zmc2V0LnRvcDx1LnNjcm9sbFNlbnNpdGl2aXR5JiYoZS5zY3JvbGxUb3A9bz1lLnNjcm9sbFRvcC11LnNjcm9sbFNwZWVkKSksdS5heGlzJiYieSI9PT11LmF4aXN8fChyLm92ZXJmbG93T2Zmc2V0LmxlZnQrZS5vZmZzZXRXaWR0aC10LnBhZ2VYPHUuc2Nyb2xsU2Vuc2l0aXZpdHk/ZS5zY3JvbGxMZWZ0PW89ZS5zY3JvbGxMZWZ0K3Uuc2Nyb2xsU3BlZWQ6dC5wYWdlWC1yLm92ZXJmbG93T2Zmc2V0LmxlZnQ8dS5zY3JvbGxTZW5zaXRpdml0eSYmKGUuc2Nyb2xsTGVmdD1vPWUuc2Nyb2xsTGVmdC11LnNjcm9sbFNwZWVkKSkpOih1LmF4aXMmJiJ4Ij09PXUuYXhpc3x8KHQucGFnZVktbihmKS5zY3JvbGxUb3AoKTx1LnNjcm9sbFNlbnNpdGl2aXR5P289bihmKS5zY3JvbGxUb3AobihmKS5zY3JvbGxUb3AoKS11LnNjcm9sbFNwZWVkKTpuKHdpbmRvdykuaGVpZ2h0KCktKHQucGFnZVktbihmKS5zY3JvbGxUb3AoKSk8dS5zY3JvbGxTZW5zaXRpdml0eSYmKG89bihmKS5zY3JvbGxUb3AobihmKS5zY3JvbGxUb3AoKSt1LnNjcm9sbFNwZWVkKSkpLHUuYXhpcyYmInkiPT09dS5heGlzfHwodC5wYWdlWC1uKGYpLnNjcm9sbExlZnQoKTx1LnNjcm9sbFNlbnNpdGl2aXR5P289bihmKS5zY3JvbGxMZWZ0KG4oZikuc2Nyb2xsTGVmdCgpLXUuc2Nyb2xsU3BlZWQpOm4od2luZG93KS53aWR0aCgpLSh0LnBhZ2VYLW4oZikuc2Nyb2xsTGVmdCgpKTx1LnNjcm9sbFNlbnNpdGl2aXR5JiYobz1uKGYpLnNjcm9sbExlZnQobihmKS5zY3JvbGxMZWZ0KCkrdS5zY3JvbGxTcGVlZCkpKSk7byE9PSExJiZuLnVpLmRkbWFuYWdlciYmIXUuZHJvcEJlaGF2aW91ciYmbi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHMocix0KX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsInNuYXAiLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIHU9ci5vcHRpb25zO3Iuc25hcEVsZW1lbnRzPVtdO24odS5zbmFwLmNvbnN0cnVjdG9yIT09U3RyaW5nP3Uuc25hcC5pdGVtc3x8IjpkYXRhKHVpLWRyYWdnYWJsZSkiOnUuc25hcCkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksaT10Lm9mZnNldCgpO3RoaXMhPT1yLmVsZW1lbnRbMF0mJnIuc25hcEVsZW1lbnRzLnB1c2goe2l0ZW06dGhpcyx3aWR0aDp0Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dC5vdXRlckhlaWdodCgpLHRvcDppLnRvcCxsZWZ0OmkubGVmdH0pfSl9LGRyYWc6ZnVuY3Rpb24odCxpLHIpe2Zvcih2YXIgZSxvLHMsaCxjLGEsbCx2LHcsYj1yLm9wdGlvbnMsZj1iLnNuYXBUb2xlcmFuY2UseT1pLm9mZnNldC5sZWZ0LGs9eStyLmhlbHBlclByb3BvcnRpb25zLndpZHRoLHA9aS5vZmZzZXQudG9wLGQ9cCtyLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCx1PXIuc25hcEVsZW1lbnRzLmxlbmd0aC0xO3U+PTA7dS0tKWM9ci5zbmFwRWxlbWVudHNbdV0ubGVmdC1yLm1hcmdpbnMubGVmdCxhPWMrci5zbmFwRWxlbWVudHNbdV0ud2lkdGgsbD1yLnNuYXBFbGVtZW50c1t1XS50b3Atci5tYXJnaW5zLnRvcCx2PWwrci5zbmFwRWxlbWVudHNbdV0uaGVpZ2h0LGMtZj5rfHx5PmErZnx8bC1mPmR8fHA+ditmfHwhbi5jb250YWlucyhyLnNuYXBFbGVtZW50c1t1XS5pdGVtLm93bmVyRG9jdW1lbnQsci5zbmFwRWxlbWVudHNbdV0uaXRlbSk/KHIuc25hcEVsZW1lbnRzW3VdLnNuYXBwaW5nJiZyLm9wdGlvbnMuc25hcC5yZWxlYXNlJiZyLm9wdGlvbnMuc25hcC5yZWxlYXNlLmNhbGwoci5lbGVtZW50LHQsbi5leHRlbmQoci5fdWlIYXNoKCkse3NuYXBJdGVtOnIuc25hcEVsZW1lbnRzW3VdLml0ZW19KSksci5zbmFwRWxlbWVudHNbdV0uc25hcHBpbmc9ITEpOigiaW5uZXIiIT09Yi5zbmFwTW9kZSYmKGU9Zj49TWF0aC5hYnMobC1kKSxvPWY+PU1hdGguYWJzKHYtcCkscz1mPj1NYXRoLmFicyhjLWspLGg9Zj49TWF0aC5hYnMoYS15KSxlJiYoaS5wb3NpdGlvbi50b3A9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOmwtci5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsbGVmdDowfSkudG9wKSxvJiYoaS5wb3NpdGlvbi50b3A9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOnYsbGVmdDowfSkudG9wKSxzJiYoaS5wb3NpdGlvbi5sZWZ0PXIuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6Yy1yLmhlbHBlclByb3BvcnRpb25zLndpZHRofSkubGVmdCksaCYmKGkucG9zaXRpb24ubGVmdD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0OmF9KS5sZWZ0KSksdz1lfHxvfHxzfHxoLCJvdXRlciIhPT1iLnNuYXBNb2RlJiYoZT1mPj1NYXRoLmFicyhsLXApLG89Zj49TWF0aC5hYnModi1kKSxzPWY+PU1hdGguYWJzKGMteSksaD1mPj1NYXRoLmFicyhhLWspLGUmJihpLnBvc2l0aW9uLnRvcD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6bCxsZWZ0OjB9KS50b3ApLG8mJihpLnBvc2l0aW9uLnRvcD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6di1yLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxsZWZ0OjB9KS50b3ApLHMmJihpLnBvc2l0aW9uLmxlZnQ9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOjAsbGVmdDpjfSkubGVmdCksaCYmKGkucG9zaXRpb24ubGVmdD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0OmEtci5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aH0pLmxlZnQpKSwhci5zbmFwRWxlbWVudHNbdV0uc25hcHBpbmcmJihlfHxvfHxzfHxofHx3KSYmci5vcHRpb25zLnNuYXAuc25hcCYmci5vcHRpb25zLnNuYXAuc25hcC5jYWxsKHIuZWxlbWVudCx0LG4uZXh0ZW5kKHIuX3VpSGFzaCgpLHtzbmFwSXRlbTpyLnNuYXBFbGVtZW50c1t1XS5pdGVtfSkpLHIuc25hcEVsZW1lbnRzW3VdLnNuYXBwaW5nPWV8fG98fHN8fGh8fHcpfX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwic3RhY2siLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIGYsZT1yLm9wdGlvbnMsdT1uLm1ha2VBcnJheShuKGUuc3RhY2spKS5zb3J0KGZ1bmN0aW9uKHQsaSl7cmV0dXJuKHBhcnNlSW50KG4odCkuY3NzKCJ6SW5kZXgiKSwxMCl8fDApLShwYXJzZUludChuKGkpLmNzcygiekluZGV4IiksMTApfHwwKX0pO3UubGVuZ3RoJiYoZj1wYXJzZUludChuKHVbMF0pLmNzcygiekluZGV4IiksMTApfHwwLG4odSkuZWFjaChmdW5jdGlvbih0KXtuKHRoaXMpLmNzcygiekluZGV4IixmK3QpfSksdGhpcy5jc3MoInpJbmRleCIsZit1Lmxlbmd0aCkpfX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwiekluZGV4Iix7c3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4oaS5oZWxwZXIpLGY9ci5vcHRpb25zO3UuY3NzKCJ6SW5kZXgiKSYmKGYuX3pJbmRleD11LmNzcygiekluZGV4IikpO3UuY3NzKCJ6SW5kZXgiLGYuekluZGV4KX0sc3RvcDpmdW5jdGlvbih0LGkscil7dmFyIHU9ci5vcHRpb25zO3UuX3pJbmRleCYmbihpLmhlbHBlcikuY3NzKCJ6SW5kZXgiLHUuX3pJbmRleCl9fSk7bi51aS5kcmFnZ2FibGU7bi53aWRnZXQoInVpLnJlc2l6YWJsZSIsbi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMi4xIix3aWRnZXRFdmVudFByZWZpeDoicmVzaXplIixvcHRpb25zOnthbHNvUmVzaXplOiExLGFuaW1hdGU6ITEsYW5pbWF0ZUR1cmF0aW9uOiJzbG93IixhbmltYXRlRWFzaW5nOiJzd2luZyIsYXNwZWN0UmF0aW86ITEsYXV0b0hpZGU6ITEsY2xhc3Nlczp7InVpLXJlc2l6YWJsZS1zZSI6InVpLWljb24gdWktaWNvbi1ncmlwc21hbGwtZGlhZ29uYWwtc2UifSxjb250YWlubWVudDohMSxnaG9zdDohMSxncmlkOiExLGhhbmRsZXM6ImUscyxzZSIsaGVscGVyOiExLG1heEhlaWdodDpudWxsLG1heFdpZHRoOm51bGwsbWluSGVpZ2h0OjEwLG1pbldpZHRoOjEwLHpJbmRleDo5MCxyZXNpemU6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sX251bTpmdW5jdGlvbihuKXtyZXR1cm4gcGFyc2VGbG9hdChuKXx8MH0sX2lzTnVtYmVyOmZ1bmN0aW9uKG4pe3JldHVybiFpc05hTihwYXJzZUZsb2F0KG4pKX0sX2hhc1Njcm9sbDpmdW5jdGlvbih0LGkpe2lmKCJoaWRkZW4iPT09bih0KS5jc3MoIm92ZXJmbG93IikpcmV0dXJuITE7dmFyIHI9aSYmImxlZnQiPT09aT8ic2Nyb2xsTGVmdCI6InNjcm9sbFRvcCIsdT0hMTtyZXR1cm4gdFtyXT4wPyEwOih0W3JdPTEsdT10W3JdPjAsdFtyXT0wLHUpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHIsdD10aGlzLm9wdGlvbnMsaT10aGlzO3RoaXMuX2FkZENsYXNzKCJ1aS1yZXNpemFibGUiKTtuLmV4dGVuZCh0aGlzLHtfYXNwZWN0UmF0aW86ISF0LmFzcGVjdFJhdGlvLGFzcGVjdFJhdGlvOnQuYXNwZWN0UmF0aW8sb3JpZ2luYWxFbGVtZW50OnRoaXMuZWxlbWVudCxfcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50czpbXSxfaGVscGVyOnQuaGVscGVyfHx0Lmdob3N0fHx0LmFuaW1hdGU/dC5oZWxwZXJ8fCJ1aS1yZXNpemFibGUtaGVscGVyIjpudWxsfSk7dGhpcy5lbGVtZW50WzBdLm5vZGVOYW1lLm1hdGNoKC9eKGNhbnZhc3x0ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9ufGltZykkL2kpJiYodGhpcy5lbGVtZW50LndyYXAobigiPGRpdiBjbGFzcz0ndWktd3JhcHBlcicgc3R5bGU9J292ZXJmbG93OiBoaWRkZW47Jz48XC9kaXY+IikuY3NzKHtwb3NpdGlvbjp0aGlzLmVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpLHdpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLHRvcDp0aGlzLmVsZW1lbnQuY3NzKCJ0b3AiKSxsZWZ0OnRoaXMuZWxlbWVudC5jc3MoImxlZnQiKX0pKSx0aGlzLmVsZW1lbnQ9dGhpcy5lbGVtZW50LnBhcmVudCgpLmRhdGEoInVpLXJlc2l6YWJsZSIsdGhpcy5lbGVtZW50LnJlc2l6YWJsZSgiaW5zdGFuY2UiKSksdGhpcy5lbGVtZW50SXNXcmFwcGVyPSEwLHI9e21hcmdpblRvcDp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpblRvcCIpLG1hcmdpblJpZ2h0OnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luUmlnaHQiKSxtYXJnaW5Cb3R0b206dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5Cb3R0b20iKSxtYXJnaW5MZWZ0OnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luTGVmdCIpfSx0aGlzLmVsZW1lbnQuY3NzKHIpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luIiwwKSx0aGlzLm9yaWdpbmFsUmVzaXplU3R5bGU9dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJyZXNpemUiKSx0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoInJlc2l6ZSIsIm5vbmUiKSx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLnB1c2godGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHtwb3NpdGlvbjoic3RhdGljIix6b29tOjEsZGlzcGxheToiYmxvY2sifSkpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyhyKSx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpKTt0aGlzLl9zZXR1cEhhbmRsZXMoKTt0LmF1dG9IaWRlJiZuKHRoaXMuZWxlbWVudCkub24oIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7dC5kaXNhYmxlZHx8KGkuX3JlbW92ZUNsYXNzKCJ1aS1yZXNpemFibGUtYXV0b2hpZGUiKSxpLl9oYW5kbGVzLnNob3coKSl9KS5vbigibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXt0LmRpc2FibGVkfHxpLnJlc2l6aW5nfHwoaS5fYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpLGkuX2hhbmRsZXMuaGlkZSgpKX0pO3RoaXMuX21vdXNlSW5pdCgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX21vdXNlRGVzdHJveSgpO3ZhciB0LGk9ZnVuY3Rpb24odCl7bih0KS5yZW1vdmVEYXRhKCJyZXNpemFibGUiKS5yZW1vdmVEYXRhKCJ1aS1yZXNpemFibGUiKS5vZmYoIi5yZXNpemFibGUiKS5maW5kKCIudWktcmVzaXphYmxlLWhhbmRsZSIpLnJlbW92ZSgpfTtyZXR1cm4gdGhpcy5lbGVtZW50SXNXcmFwcGVyJiYoaSh0aGlzLmVsZW1lbnQpLHQ9dGhpcy5lbGVtZW50LHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh7cG9zaXRpb246dC5jc3MoInBvc2l0aW9uIiksd2lkdGg6dC5vdXRlcldpZHRoKCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoKSx0b3A6dC5jc3MoInRvcCIpLGxlZnQ6dC5jc3MoImxlZnQiKX0pLmluc2VydEFmdGVyKHQpLHQucmVtb3ZlKCkpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygicmVzaXplIix0aGlzLm9yaWdpbmFsUmVzaXplU3R5bGUpLGkodGhpcy5vcmlnaW5hbEVsZW1lbnQpLHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtzd2l0Y2godGhpcy5fc3VwZXIobix0KSxuKXtjYXNlImhhbmRsZXMiOnRoaXMuX3JlbW92ZUhhbmRsZXMoKTt0aGlzLl9zZXR1cEhhbmRsZXMoKX19LF9zZXR1cEhhbmRsZXM6ZnVuY3Rpb24oKXt2YXIgaSxyLHUsbyx0LGY9dGhpcy5vcHRpb25zLGU9dGhpcztpZih0aGlzLmhhbmRsZXM9Zi5oYW5kbGVzfHwobigiLnVpLXJlc2l6YWJsZS1oYW5kbGUiLHRoaXMuZWxlbWVudCkubGVuZ3RoP3tuOiIudWktcmVzaXphYmxlLW4iLGU6Ii51aS1yZXNpemFibGUtZSIsczoiLnVpLXJlc2l6YWJsZS1zIix3OiIudWktcmVzaXphYmxlLXciLHNlOiIudWktcmVzaXphYmxlLXNlIixzdzoiLnVpLXJlc2l6YWJsZS1zdyIsbmU6Ii51aS1yZXNpemFibGUtbmUiLG53OiIudWktcmVzaXphYmxlLW53In06ImUscyxzZSIpLHRoaXMuX2hhbmRsZXM9bigpLHRoaXMuaGFuZGxlcy5jb25zdHJ1Y3Rvcj09PVN0cmluZylmb3IoImFsbCI9PT10aGlzLmhhbmRsZXMmJih0aGlzLmhhbmRsZXM9Im4sZSxzLHcsc2Usc3csbmUsbnciKSx1PXRoaXMuaGFuZGxlcy5zcGxpdCgiLCIpLHRoaXMuaGFuZGxlcz17fSxyPTA7dS5sZW5ndGg+cjtyKyspaT1uLnRyaW0odVtyXSksbz0idWktcmVzaXphYmxlLSIraSx0PW4oIjxkaXY+IiksdGhpcy5fYWRkQ2xhc3ModCwidWktcmVzaXphYmxlLWhhbmRsZSAiK28pLHQuY3NzKHt6SW5kZXg6Zi56SW5kZXh9KSx0aGlzLmhhbmRsZXNbaV09Ii51aS1yZXNpemFibGUtIitpLHRoaXMuZWxlbWVudC5hcHBlbmQodCk7dGhpcy5fcmVuZGVyQXhpcz1mdW5jdGlvbih0KXt2YXIgaSxyLHUsZjt0PXR8fHRoaXMuZWxlbWVudDtmb3IoaSBpbiB0aGlzLmhhbmRsZXMpdGhpcy5oYW5kbGVzW2ldLmNvbnN0cnVjdG9yPT09U3RyaW5nP3RoaXMuaGFuZGxlc1tpXT10aGlzLmVsZW1lbnQuY2hpbGRyZW4odGhpcy5oYW5kbGVzW2ldKS5maXJzdCgpLnNob3coKToodGhpcy5oYW5kbGVzW2ldLmpxdWVyeXx8dGhpcy5oYW5kbGVzW2ldLm5vZGVUeXBlKSYmKHRoaXMuaGFuZGxlc1tpXT1uKHRoaXMuaGFuZGxlc1tpXSksdGhpcy5fb24odGhpcy5oYW5kbGVzW2ldLHttb3VzZWRvd246ZS5fbW91c2VEb3dufSkpLHRoaXMuZWxlbWVudElzV3JhcHBlciYmdGhpcy5vcmlnaW5hbEVsZW1lbnRbMF0ubm9kZU5hbWUubWF0Y2goL14odGV4dGFyZWF8aW5wdXR8c2VsZWN0fGJ1dHRvbikkL2kpJiYocj1uKHRoaXMuaGFuZGxlc1tpXSx0aGlzLmVsZW1lbnQpLGY9L3N3fG5lfG53fHNlfG58cy8udGVzdChpKT9yLm91dGVySGVpZ2h0KCk6ci5vdXRlcldpZHRoKCksdT1bInBhZGRpbmciLC9uZXxud3xuLy50ZXN0KGkpPyJUb3AiOi9zZXxzd3xzLy50ZXN0KGkpPyJCb3R0b20iOi9eZSQvLnRlc3QoaSk/IlJpZ2h0IjoiTGVmdCJdLmpvaW4oIiIpLHQuY3NzKHUsZiksdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKSksdGhpcy5faGFuZGxlcz10aGlzLl9oYW5kbGVzLmFkZCh0aGlzLmhhbmRsZXNbaV0pfTt0aGlzLl9yZW5kZXJBeGlzKHRoaXMuZWxlbWVudCk7dGhpcy5faGFuZGxlcz10aGlzLl9oYW5kbGVzLmFkZCh0aGlzLmVsZW1lbnQuZmluZCgiLnVpLXJlc2l6YWJsZS1oYW5kbGUiKSk7dGhpcy5faGFuZGxlcy5kaXNhYmxlU2VsZWN0aW9uKCk7dGhpcy5faGFuZGxlcy5vbigibW91c2VvdmVyIixmdW5jdGlvbigpe2UucmVzaXppbmd8fCh0aGlzLmNsYXNzTmFtZSYmKHQ9dGhpcy5jbGFzc05hbWUubWF0Y2goL3VpLXJlc2l6YWJsZS0oc2V8c3d8bmV8bnd8bnxlfHN8dykvaSkpLGUuYXhpcz10JiZ0WzFdP3RbMV06InNlIil9KTtmLmF1dG9IaWRlJiYodGhpcy5faGFuZGxlcy5oaWRlKCksdGhpcy5fYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpKX0sX3JlbW92ZUhhbmRsZXM6ZnVuY3Rpb24oKXt0aGlzLl9oYW5kbGVzLnJlbW92ZSgpfSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKHQpe3ZhciByLGksdT0hMTtmb3IociBpbiB0aGlzLmhhbmRsZXMpaT1uKHRoaXMuaGFuZGxlc1tyXSlbMF0sKGk9PT10LnRhcmdldHx8bi5jb250YWlucyhpLHQudGFyZ2V0KSkmJih1PSEwKTtyZXR1cm4hdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ1fSxfbW91c2VTdGFydDpmdW5jdGlvbih0KXt2YXIgdSxmLGUscj10aGlzLm9wdGlvbnMsaT10aGlzLmVsZW1lbnQ7cmV0dXJuIHRoaXMucmVzaXppbmc9ITAsdGhpcy5fcmVuZGVyUHJveHkoKSx1PXRoaXMuX251bSh0aGlzLmhlbHBlci5jc3MoImxlZnQiKSksZj10aGlzLl9udW0odGhpcy5oZWxwZXIuY3NzKCJ0b3AiKSksci5jb250YWlubWVudCYmKHUrPW4oci5jb250YWlubWVudCkuc2Nyb2xsTGVmdCgpfHwwLGYrPW4oci5jb250YWlubWVudCkuc2Nyb2xsVG9wKCl8fDApLHRoaXMub2Zmc2V0PXRoaXMuaGVscGVyLm9mZnNldCgpLHRoaXMucG9zaXRpb249e2xlZnQ6dSx0b3A6Zn0sdGhpcy5zaXplPXRoaXMuX2hlbHBlcj97d2lkdGg6dGhpcy5oZWxwZXIud2lkdGgoKSxoZWlnaHQ6dGhpcy5oZWxwZXIuaGVpZ2h0KCl9Ont3aWR0aDppLndpZHRoKCksaGVpZ2h0OmkuaGVpZ2h0KCl9LHRoaXMub3JpZ2luYWxTaXplPXRoaXMuX2hlbHBlcj97d2lkdGg6aS5vdXRlcldpZHRoKCksaGVpZ2h0Omkub3V0ZXJIZWlnaHQoKX06e3dpZHRoOmkud2lkdGgoKSxoZWlnaHQ6aS5oZWlnaHQoKX0sdGhpcy5zaXplRGlmZj17d2lkdGg6aS5vdXRlcldpZHRoKCktaS53aWR0aCgpLGhlaWdodDppLm91dGVySGVpZ2h0KCktaS5oZWlnaHQoKX0sdGhpcy5vcmlnaW5hbFBvc2l0aW9uPXtsZWZ0OnUsdG9wOmZ9LHRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uPXtsZWZ0OnQucGFnZVgsdG9wOnQucGFnZVl9LHRoaXMuYXNwZWN0UmF0aW89Im51bWJlciI9PXR5cGVvZiByLmFzcGVjdFJhdGlvP3IuYXNwZWN0UmF0aW86dGhpcy5vcmlnaW5hbFNpemUud2lkdGgvdGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0fHwxLGU9bigiLnVpLXJlc2l6YWJsZS0iK3RoaXMuYXhpcykuY3NzKCJjdXJzb3IiKSxuKCJib2R5IikuY3NzKCJjdXJzb3IiLCJhdXRvIj09PWU/dGhpcy5heGlzKyItcmVzaXplIjplKSx0aGlzLl9hZGRDbGFzcygidWktcmVzaXphYmxlLXJlc2l6aW5nIiksdGhpcy5fcHJvcGFnYXRlKCJzdGFydCIsdCksITB9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7dmFyIGkscix1PXRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uLGU9dGhpcy5heGlzLG89dC5wYWdlWC11LmxlZnR8fDAscz10LnBhZ2VZLXUudG9wfHwwLGY9dGhpcy5fY2hhbmdlW2VdO3JldHVybiB0aGlzLl91cGRhdGVQcmV2UHJvcGVydGllcygpLGY/KGk9Zi5hcHBseSh0aGlzLFt0LG8sc10pLHRoaXMuX3VwZGF0ZVZpcnR1YWxCb3VuZGFyaWVzKHQuc2hpZnRLZXkpLCh0aGlzLl9hc3BlY3RSYXRpb3x8dC5zaGlmdEtleSkmJihpPXRoaXMuX3VwZGF0ZVJhdGlvKGksdCkpLGk9dGhpcy5fcmVzcGVjdFNpemUoaSx0KSx0aGlzLl91cGRhdGVDYWNoZShpKSx0aGlzLl9wcm9wYWdhdGUoInJlc2l6ZSIsdCkscj10aGlzLl9hcHBseUNoYW5nZXMoKSwhdGhpcy5faGVscGVyJiZ0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aCYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKSxuLmlzRW1wdHlPYmplY3Qocil8fCh0aGlzLl91cGRhdGVQcmV2UHJvcGVydGllcygpLHRoaXMuX3RyaWdnZXIoInJlc2l6ZSIsdCx0aGlzLnVpKCkpLHRoaXMuX2FwcGx5Q2hhbmdlcygpKSwhMSk6ITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24odCl7dGhpcy5yZXNpemluZz0hMTt2YXIgcix1LGYsZSxvLHMsaCxjPXRoaXMub3B0aW9ucyxpPXRoaXM7cmV0dXJuIHRoaXMuX2hlbHBlciYmKHI9dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cyx1PXIubGVuZ3RoJiYvdGV4dGFyZWEvaS50ZXN0KHJbMF0ubm9kZU5hbWUpLGY9dSYmdGhpcy5faGFzU2Nyb2xsKHJbMF0sImxlZnQiKT8wOmkuc2l6ZURpZmYuaGVpZ2h0LGU9dT8wOmkuc2l6ZURpZmYud2lkdGgsbz17d2lkdGg6aS5oZWxwZXIud2lkdGgoKS1lLGhlaWdodDppLmhlbHBlci5oZWlnaHQoKS1mfSxzPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygibGVmdCIpKSsoaS5wb3NpdGlvbi5sZWZ0LWkub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbCxoPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygidG9wIikpKyhpLnBvc2l0aW9uLnRvcC1pLm9yaWdpbmFsUG9zaXRpb24udG9wKXx8bnVsbCxjLmFuaW1hdGV8fHRoaXMuZWxlbWVudC5jc3Mobi5leHRlbmQobyx7dG9wOmgsbGVmdDpzfSkpLGkuaGVscGVyLmhlaWdodChpLnNpemUuaGVpZ2h0KSxpLmhlbHBlci53aWR0aChpLnNpemUud2lkdGgpLHRoaXMuX2hlbHBlciYmIWMuYW5pbWF0ZSYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKSksbigiYm9keSIpLmNzcygiY3Vyc29yIiwiYXV0byIpLHRoaXMuX3JlbW92ZUNsYXNzKCJ1aS1yZXNpemFibGUtcmVzaXppbmciKSx0aGlzLl9wcm9wYWdhdGUoInN0b3AiLHQpLHRoaXMuX2hlbHBlciYmdGhpcy5oZWxwZXIucmVtb3ZlKCksITF9LF91cGRhdGVQcmV2UHJvcGVydGllczpmdW5jdGlvbigpe3RoaXMucHJldlBvc2l0aW9uPXt0b3A6dGhpcy5wb3NpdGlvbi50b3AsbGVmdDp0aGlzLnBvc2l0aW9uLmxlZnR9O3RoaXMucHJldlNpemU9e3dpZHRoOnRoaXMuc2l6ZS53aWR0aCxoZWlnaHQ6dGhpcy5zaXplLmhlaWdodH19LF9hcHBseUNoYW5nZXM6ZnVuY3Rpb24oKXt2YXIgbj17fTtyZXR1cm4gdGhpcy5wb3NpdGlvbi50b3AhPT10aGlzLnByZXZQb3NpdGlvbi50b3AmJihuLnRvcD10aGlzLnBvc2l0aW9uLnRvcCsicHgiKSx0aGlzLnBvc2l0aW9uLmxlZnQhPT10aGlzLnByZXZQb3NpdGlvbi5sZWZ0JiYobi5sZWZ0PXRoaXMucG9zaXRpb24ubGVmdCsicHgiKSx0aGlzLnNpemUud2lkdGghPT10aGlzLnByZXZTaXplLndpZHRoJiYobi53aWR0aD10aGlzLnNpemUud2lkdGgrInB4IiksdGhpcy5zaXplLmhlaWdodCE9PXRoaXMucHJldlNpemUuaGVpZ2h0JiYobi5oZWlnaHQ9dGhpcy5zaXplLmhlaWdodCsicHgiKSx0aGlzLmhlbHBlci5jc3Mobiksbn0sX3VwZGF0ZVZpcnR1YWxCb3VuZGFyaWVzOmZ1bmN0aW9uKG4pe3ZhciByLHUsZixlLHQsaT10aGlzLm9wdGlvbnM7dD17bWluV2lkdGg6dGhpcy5faXNOdW1iZXIoaS5taW5XaWR0aCk/aS5taW5XaWR0aDowLG1heFdpZHRoOnRoaXMuX2lzTnVtYmVyKGkubWF4V2lkdGgpP2kubWF4V2lkdGg6MS8wLG1pbkhlaWdodDp0aGlzLl9pc051bWJlcihpLm1pbkhlaWdodCk/aS5taW5IZWlnaHQ6MCxtYXhIZWlnaHQ6dGhpcy5faXNOdW1iZXIoaS5tYXhIZWlnaHQpP2kubWF4SGVpZ2h0OjEvMH07KHRoaXMuX2FzcGVjdFJhdGlvfHxuKSYmKHI9dC5taW5IZWlnaHQqdGhpcy5hc3BlY3RSYXRpbyxmPXQubWluV2lkdGgvdGhpcy5hc3BlY3RSYXRpbyx1PXQubWF4SGVpZ2h0KnRoaXMuYXNwZWN0UmF0aW8sZT10Lm1heFdpZHRoL3RoaXMuYXNwZWN0UmF0aW8scj50Lm1pbldpZHRoJiYodC5taW5XaWR0aD1yKSxmPnQubWluSGVpZ2h0JiYodC5taW5IZWlnaHQ9ZiksdC5tYXhXaWR0aD51JiYodC5tYXhXaWR0aD11KSx0Lm1heEhlaWdodD5lJiYodC5tYXhIZWlnaHQ9ZSkpO3RoaXMuX3ZCb3VuZGFyaWVzPXR9LF91cGRhdGVDYWNoZTpmdW5jdGlvbihuKXt0aGlzLm9mZnNldD10aGlzLmhlbHBlci5vZmZzZXQoKTt0aGlzLl9pc051bWJlcihuLmxlZnQpJiYodGhpcy5wb3NpdGlvbi5sZWZ0PW4ubGVmdCk7dGhpcy5faXNOdW1iZXIobi50b3ApJiYodGhpcy5wb3NpdGlvbi50b3A9bi50b3ApO3RoaXMuX2lzTnVtYmVyKG4uaGVpZ2h0KSYmKHRoaXMuc2l6ZS5oZWlnaHQ9bi5oZWlnaHQpO3RoaXMuX2lzTnVtYmVyKG4ud2lkdGgpJiYodGhpcy5zaXplLndpZHRoPW4ud2lkdGgpfSxfdXBkYXRlUmF0aW86ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5wb3NpdGlvbixpPXRoaXMuc2l6ZSxyPXRoaXMuYXhpcztyZXR1cm4gdGhpcy5faXNOdW1iZXIobi5oZWlnaHQpP24ud2lkdGg9bi5oZWlnaHQqdGhpcy5hc3BlY3RSYXRpbzp0aGlzLl9pc051bWJlcihuLndpZHRoKSYmKG4uaGVpZ2h0PW4ud2lkdGgvdGhpcy5hc3BlY3RSYXRpbyksInN3Ij09PXImJihuLmxlZnQ9dC5sZWZ0KyhpLndpZHRoLW4ud2lkdGgpLG4udG9wPW51bGwpLCJudyI9PT1yJiYobi50b3A9dC50b3ArKGkuaGVpZ2h0LW4uaGVpZ2h0KSxuLmxlZnQ9dC5sZWZ0KyhpLndpZHRoLW4ud2lkdGgpKSxufSxfcmVzcGVjdFNpemU6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fdkJvdW5kYXJpZXMsaT10aGlzLmF4aXMscj10aGlzLl9pc051bWJlcihuLndpZHRoKSYmdC5tYXhXaWR0aCYmdC5tYXhXaWR0aDxuLndpZHRoLHU9dGhpcy5faXNOdW1iZXIobi5oZWlnaHQpJiZ0Lm1heEhlaWdodCYmdC5tYXhIZWlnaHQ8bi5oZWlnaHQsZj10aGlzLl9pc051bWJlcihuLndpZHRoKSYmdC5taW5XaWR0aCYmdC5taW5XaWR0aD5uLndpZHRoLGU9dGhpcy5faXNOdW1iZXIobi5oZWlnaHQpJiZ0Lm1pbkhlaWdodCYmdC5taW5IZWlnaHQ+bi5oZWlnaHQsbz10aGlzLm9yaWdpbmFsUG9zaXRpb24ubGVmdCt0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aCxzPXRoaXMub3JpZ2luYWxQb3NpdGlvbi50b3ArdGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0LGg9L3N3fG53fHcvLnRlc3QoaSksYz0vbnd8bmV8bi8udGVzdChpKTtyZXR1cm4gZiYmKG4ud2lkdGg9dC5taW5XaWR0aCksZSYmKG4uaGVpZ2h0PXQubWluSGVpZ2h0KSxyJiYobi53aWR0aD10Lm1heFdpZHRoKSx1JiYobi5oZWlnaHQ9dC5tYXhIZWlnaHQpLGYmJmgmJihuLmxlZnQ9by10Lm1pbldpZHRoKSxyJiZoJiYobi5sZWZ0PW8tdC5tYXhXaWR0aCksZSYmYyYmKG4udG9wPXMtdC5taW5IZWlnaHQpLHUmJmMmJihuLnRvcD1zLXQubWF4SGVpZ2h0KSxuLndpZHRofHxuLmhlaWdodHx8bi5sZWZ0fHwhbi50b3A/bi53aWR0aHx8bi5oZWlnaHR8fG4udG9wfHwhbi5sZWZ0fHwobi5sZWZ0PW51bGwpOm4udG9wPW51bGwsbn0sX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9uczpmdW5jdGlvbihuKXtmb3IodmFyIHQ9MCxpPVtdLHI9W24uY3NzKCJib3JkZXJUb3BXaWR0aCIpLG4uY3NzKCJib3JkZXJSaWdodFdpZHRoIiksbi5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksbi5jc3MoImJvcmRlckxlZnRXaWR0aCIpXSx1PVtuLmNzcygicGFkZGluZ1RvcCIpLG4uY3NzKCJwYWRkaW5nUmlnaHQiKSxuLmNzcygicGFkZGluZ0JvdHRvbSIpLG4uY3NzKCJwYWRkaW5nTGVmdCIpXTs0PnQ7dCsrKWlbdF09cGFyc2VGbG9hdChyW3RdKXx8MCxpW3RdKz1wYXJzZUZsb2F0KHVbdF0pfHwwO3JldHVybntoZWlnaHQ6aVswXStpWzJdLHdpZHRoOmlbMV0raVszXX19LF9wcm9wb3J0aW9uYWxseVJlc2l6ZTpmdW5jdGlvbigpe2lmKHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoKWZvcih2YXIgbix0PTAsaT10aGlzLmhlbHBlcnx8dGhpcy5lbGVtZW50O3RoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoPnQ7dCsrKW49dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50c1t0XSx0aGlzLm91dGVyRGltZW5zaW9uc3x8KHRoaXMub3V0ZXJEaW1lbnNpb25zPXRoaXMuX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9ucyhuKSksbi5jc3Moe2hlaWdodDppLmhlaWdodCgpLXRoaXMub3V0ZXJEaW1lbnNpb25zLmhlaWdodHx8MCx3aWR0aDppLndpZHRoKCktdGhpcy5vdXRlckRpbWVuc2lvbnMud2lkdGh8fDB9KX0sX3JlbmRlclByb3h5OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LGk9dGhpcy5vcHRpb25zO3RoaXMuZWxlbWVudE9mZnNldD10Lm9mZnNldCgpO3RoaXMuX2hlbHBlcj8odGhpcy5oZWxwZXI9dGhpcy5oZWxwZXJ8fG4oIjxkaXYgc3R5bGU9J292ZXJmbG93OmhpZGRlbjsnPjxcL2Rpdj4iKSx0aGlzLl9hZGRDbGFzcyh0aGlzLmhlbHBlcix0aGlzLl9oZWxwZXIpLHRoaXMuaGVscGVyLmNzcyh7d2lkdGg6dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCkscG9zaXRpb246ImFic29sdXRlIixsZWZ0OnRoaXMuZWxlbWVudE9mZnNldC5sZWZ0KyJweCIsdG9wOnRoaXMuZWxlbWVudE9mZnNldC50b3ArInB4Iix6SW5kZXg6KytpLnpJbmRleH0pLHRoaXMuaGVscGVyLmFwcGVuZFRvKCJib2R5IikuZGlzYWJsZVNlbGVjdGlvbigpKTp0aGlzLmhlbHBlcj10aGlzLmVsZW1lbnR9LF9jaGFuZ2U6e2U6ZnVuY3Rpb24obix0KXtyZXR1cm57d2lkdGg6dGhpcy5vcmlnaW5hbFNpemUud2lkdGgrdH19LHc6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLm9yaWdpbmFsU2l6ZSxyPXRoaXMub3JpZ2luYWxQb3NpdGlvbjtyZXR1cm57bGVmdDpyLmxlZnQrdCx3aWR0aDppLndpZHRoLXR9fSxuOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj10aGlzLm9yaWdpbmFsU2l6ZSx1PXRoaXMub3JpZ2luYWxQb3NpdGlvbjtyZXR1cm57dG9wOnUudG9wK2ksaGVpZ2h0OnIuaGVpZ2h0LWl9fSxzOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm57aGVpZ2h0OnRoaXMub3JpZ2luYWxTaXplLmhlaWdodCtpfX0sc2U6ZnVuY3Rpb24odCxpLHIpe3JldHVybiBuLmV4dGVuZCh0aGlzLl9jaGFuZ2Uucy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLmUuYXBwbHkodGhpcyxbdCxpLHJdKSl9LHN3OmZ1bmN0aW9uKHQsaSxyKXtyZXR1cm4gbi5leHRlbmQodGhpcy5fY2hhbmdlLnMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS53LmFwcGx5KHRoaXMsW3QsaSxyXSkpfSxuZTpmdW5jdGlvbih0LGkscil7cmV0dXJuIG4uZXh0ZW5kKHRoaXMuX2NoYW5nZS5uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2UuZS5hcHBseSh0aGlzLFt0LGkscl0pKX0sbnc6ZnVuY3Rpb24odCxpLHIpe3JldHVybiBuLmV4dGVuZCh0aGlzLl9jaGFuZ2Uubi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLncuYXBwbHkodGhpcyxbdCxpLHJdKSl9fSxfcHJvcGFnYXRlOmZ1bmN0aW9uKHQsaSl7bi51aS5wbHVnaW4uY2FsbCh0aGlzLHQsW2ksdGhpcy51aSgpXSk7InJlc2l6ZSIhPT10JiZ0aGlzLl90cmlnZ2VyKHQsaSx0aGlzLnVpKCkpfSxwbHVnaW5zOnt9LHVpOmZ1bmN0aW9uKCl7cmV0dXJue29yaWdpbmFsRWxlbWVudDp0aGlzLm9yaWdpbmFsRWxlbWVudCxlbGVtZW50OnRoaXMuZWxlbWVudCxoZWxwZXI6dGhpcy5oZWxwZXIscG9zaXRpb246dGhpcy5wb3NpdGlvbixzaXplOnRoaXMuc2l6ZSxvcmlnaW5hbFNpemU6dGhpcy5vcmlnaW5hbFNpemUsb3JpZ2luYWxQb3NpdGlvbjp0aGlzLm9yaWdpbmFsUG9zaXRpb259fX0pO24udWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiYW5pbWF0ZSIse3N0b3A6ZnVuY3Rpb24odCl7dmFyIGk9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksdT1pLm9wdGlvbnMscj1pLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLGY9ci5sZW5ndGgmJi90ZXh0YXJlYS9pLnRlc3QoclswXS5ub2RlTmFtZSkscz1mJiZpLl9oYXNTY3JvbGwoclswXSwibGVmdCIpPzA6aS5zaXplRGlmZi5oZWlnaHQsaD1mPzA6aS5zaXplRGlmZi53aWR0aCxjPXt3aWR0aDppLnNpemUud2lkdGgtaCxoZWlnaHQ6aS5zaXplLmhlaWdodC1zfSxlPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygibGVmdCIpKSsoaS5wb3NpdGlvbi5sZWZ0LWkub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbCxvPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygidG9wIikpKyhpLnBvc2l0aW9uLnRvcC1pLm9yaWdpbmFsUG9zaXRpb24udG9wKXx8bnVsbDtpLmVsZW1lbnQuYW5pbWF0ZShuLmV4dGVuZChjLG8mJmU/e3RvcDpvLGxlZnQ6ZX06e30pLHtkdXJhdGlvbjp1LmFuaW1hdGVEdXJhdGlvbixlYXNpbmc6dS5hbmltYXRlRWFzaW5nLHN0ZXA6ZnVuY3Rpb24oKXt2YXIgdT17d2lkdGg6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJ3aWR0aCIpKSxoZWlnaHQ6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJoZWlnaHQiKSksdG9wOnBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygidG9wIikpLGxlZnQ6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJsZWZ0IikpfTtyJiZyLmxlbmd0aCYmbihyWzBdKS5jc3Moe3dpZHRoOnUud2lkdGgsaGVpZ2h0OnUuaGVpZ2h0fSk7aS5fdXBkYXRlQ2FjaGUodSk7aS5fcHJvcGFnYXRlKCJyZXNpemUiLHQpfX0pfX0pO24udWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiY29udGFpbm1lbnQiLHtzdGFydDpmdW5jdGlvbigpe3ZhciByLGYsZSxvLHMsaCxjLHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksbD10Lm9wdGlvbnMsYT10LmVsZW1lbnQsdT1sLmNvbnRhaW5tZW50LGk9dSBpbnN0YW5jZW9mIG4/dS5nZXQoMCk6L3BhcmVudC8udGVzdCh1KT9hLnBhcmVudCgpLmdldCgwKTp1O2kmJih0LmNvbnRhaW5lckVsZW1lbnQ9bihpKSwvZG9jdW1lbnQvLnRlc3QodSl8fHU9PT1kb2N1bWVudD8odC5jb250YWluZXJPZmZzZXQ9e2xlZnQ6MCx0b3A6MH0sdC5jb250YWluZXJQb3NpdGlvbj17bGVmdDowLHRvcDowfSx0LnBhcmVudERhdGE9e2VsZW1lbnQ6bihkb2N1bWVudCksbGVmdDowLHRvcDowLHdpZHRoOm4oZG9jdW1lbnQpLndpZHRoKCksaGVpZ2h0Om4oZG9jdW1lbnQpLmhlaWdodCgpfHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0fSk6KHI9bihpKSxmPVtdLG4oWyJUb3AiLCJSaWdodCIsIkxlZnQiLCJCb3R0b20iXSkuZWFjaChmdW5jdGlvbihuLGkpe2Zbbl09dC5fbnVtKHIuY3NzKCJwYWRkaW5nIitpKSl9KSx0LmNvbnRhaW5lck9mZnNldD1yLm9mZnNldCgpLHQuY29udGFpbmVyUG9zaXRpb249ci5wb3NpdGlvbigpLHQuY29udGFpbmVyU2l6ZT17aGVpZ2h0OnIuaW5uZXJIZWlnaHQoKS1mWzNdLHdpZHRoOnIuaW5uZXJXaWR0aCgpLWZbMV19LGU9dC5jb250YWluZXJPZmZzZXQsbz10LmNvbnRhaW5lclNpemUuaGVpZ2h0LHM9dC5jb250YWluZXJTaXplLndpZHRoLGg9dC5faGFzU2Nyb2xsKGksImxlZnQiKT9pLnNjcm9sbFdpZHRoOnMsYz10Ll9oYXNTY3JvbGwoaSk/aS5zY3JvbGxIZWlnaHQ6byx0LnBhcmVudERhdGE9e2VsZW1lbnQ6aSxsZWZ0OmUubGVmdCx0b3A6ZS50b3Asd2lkdGg6aCxoZWlnaHQ6Y30pKX0scmVzaXplOmZ1bmN0aW9uKHQpe3ZhciBvLHMsaCxjLGk9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksdj1pLm9wdGlvbnMscj1pLmNvbnRhaW5lck9mZnNldCxsPWkucG9zaXRpb24sZj1pLl9hc3BlY3RSYXRpb3x8dC5zaGlmdEtleSxlPXt0b3A6MCxsZWZ0OjB9LGE9aS5jb250YWluZXJFbGVtZW50LHU9ITA7YVswXSE9PWRvY3VtZW50JiYvc3RhdGljLy50ZXN0KGEuY3NzKCJwb3NpdGlvbiIpKSYmKGU9cik7bC5sZWZ0PChpLl9oZWxwZXI/ci5sZWZ0OjApJiYoaS5zaXplLndpZHRoPWkuc2l6ZS53aWR0aCsoaS5faGVscGVyP2kucG9zaXRpb24ubGVmdC1yLmxlZnQ6aS5wb3NpdGlvbi5sZWZ0LWUubGVmdCksZiYmKGkuc2l6ZS5oZWlnaHQ9aS5zaXplLndpZHRoL2kuYXNwZWN0UmF0aW8sdT0hMSksaS5wb3NpdGlvbi5sZWZ0PXYuaGVscGVyP3IubGVmdDowKTtsLnRvcDwoaS5faGVscGVyP3IudG9wOjApJiYoaS5zaXplLmhlaWdodD1pLnNpemUuaGVpZ2h0KyhpLl9oZWxwZXI/aS5wb3NpdGlvbi50b3Atci50b3A6aS5wb3NpdGlvbi50b3ApLGYmJihpLnNpemUud2lkdGg9aS5zaXplLmhlaWdodCppLmFzcGVjdFJhdGlvLHU9ITEpLGkucG9zaXRpb24udG9wPWkuX2hlbHBlcj9yLnRvcDowKTtoPWkuY29udGFpbmVyRWxlbWVudC5nZXQoMCk9PT1pLmVsZW1lbnQucGFyZW50KCkuZ2V0KDApO2M9L3JlbGF0aXZlfGFic29sdXRlLy50ZXN0KGkuY29udGFpbmVyRWxlbWVudC5jc3MoInBvc2l0aW9uIikpO2gmJmM/KGkub2Zmc2V0LmxlZnQ9aS5wYXJlbnREYXRhLmxlZnQraS5wb3NpdGlvbi5sZWZ0LGkub2Zmc2V0LnRvcD1pLnBhcmVudERhdGEudG9wK2kucG9zaXRpb24udG9wKTooaS5vZmZzZXQubGVmdD1pLmVsZW1lbnQub2Zmc2V0KCkubGVmdCxpLm9mZnNldC50b3A9aS5lbGVtZW50Lm9mZnNldCgpLnRvcCk7bz1NYXRoLmFicyhpLnNpemVEaWZmLndpZHRoKyhpLl9oZWxwZXI/aS5vZmZzZXQubGVmdC1lLmxlZnQ6aS5vZmZzZXQubGVmdC1yLmxlZnQpKTtzPU1hdGguYWJzKGkuc2l6ZURpZmYuaGVpZ2h0KyhpLl9oZWxwZXI/aS5vZmZzZXQudG9wLWUudG9wOmkub2Zmc2V0LnRvcC1yLnRvcCkpO28raS5zaXplLndpZHRoPj1pLnBhcmVudERhdGEud2lkdGgmJihpLnNpemUud2lkdGg9aS5wYXJlbnREYXRhLndpZHRoLW8sZiYmKGkuc2l6ZS5oZWlnaHQ9aS5zaXplLndpZHRoL2kuYXNwZWN0UmF0aW8sdT0hMSkpO3MraS5zaXplLmhlaWdodD49aS5wYXJlbnREYXRhLmhlaWdodCYmKGkuc2l6ZS5oZWlnaHQ9aS5wYXJlbnREYXRhLmhlaWdodC1zLGYmJihpLnNpemUud2lkdGg9aS5zaXplLmhlaWdodCppLmFzcGVjdFJhdGlvLHU9ITEpKTt1fHwoaS5wb3NpdGlvbi5sZWZ0PWkucHJldlBvc2l0aW9uLmxlZnQsaS5wb3NpdGlvbi50b3A9aS5wcmV2UG9zaXRpb24udG9wLGkuc2l6ZS53aWR0aD1pLnByZXZTaXplLndpZHRoLGkuc2l6ZS5oZWlnaHQ9aS5wcmV2U2l6ZS5oZWlnaHQpfSxzdG9wOmZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIikscj10Lm9wdGlvbnMsdT10LmNvbnRhaW5lck9mZnNldCxmPXQuY29udGFpbmVyUG9zaXRpb24sZT10LmNvbnRhaW5lckVsZW1lbnQsaT1uKHQuaGVscGVyKSxvPWkub2Zmc2V0KCkscz1pLm91dGVyV2lkdGgoKS10LnNpemVEaWZmLndpZHRoLGg9aS5vdXRlckhlaWdodCgpLXQuc2l6ZURpZmYuaGVpZ2h0O3QuX2hlbHBlciYmIXIuYW5pbWF0ZSYmL3JlbGF0aXZlLy50ZXN0KGUuY3NzKCJwb3NpdGlvbiIpKSYmbih0aGlzKS5jc3Moe2xlZnQ6by5sZWZ0LWYubGVmdC11LmxlZnQsd2lkdGg6cyxoZWlnaHQ6aH0pO3QuX2hlbHBlciYmIXIuYW5pbWF0ZSYmL3N0YXRpYy8udGVzdChlLmNzcygicG9zaXRpb24iKSkmJm4odGhpcykuY3NzKHtsZWZ0Om8ubGVmdC1mLmxlZnQtdS5sZWZ0LHdpZHRoOnMsaGVpZ2h0Omh9KX19KTtuLnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImFsc29SZXNpemUiLHtzdGFydDpmdW5jdGlvbigpe3ZhciB0PW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLGk9dC5vcHRpb25zO24oaS5hbHNvUmVzaXplKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTt0LmRhdGEoInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplIix7d2lkdGg6cGFyc2VGbG9hdCh0LndpZHRoKCkpLGhlaWdodDpwYXJzZUZsb2F0KHQuaGVpZ2h0KCkpLGxlZnQ6cGFyc2VGbG9hdCh0LmNzcygibGVmdCIpKSx0b3A6cGFyc2VGbG9hdCh0LmNzcygidG9wIikpfSl9KX0scmVzaXplOmZ1bmN0aW9uKHQsaSl7dmFyIHI9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksZT1yLm9wdGlvbnMsdT1yLm9yaWdpbmFsU2l6ZSxmPXIub3JpZ2luYWxQb3NpdGlvbixvPXtoZWlnaHQ6ci5zaXplLmhlaWdodC11LmhlaWdodHx8MCx3aWR0aDpyLnNpemUud2lkdGgtdS53aWR0aHx8MCx0b3A6ci5wb3NpdGlvbi50b3AtZi50b3B8fDAsbGVmdDpyLnBvc2l0aW9uLmxlZnQtZi5sZWZ0fHwwfTtuKGUuYWxzb1Jlc2l6ZSkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksdT1uKHRoaXMpLmRhdGEoInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplIikscj17fSxmPXQucGFyZW50cyhpLm9yaWdpbmFsRWxlbWVudFswXSkubGVuZ3RoP1sid2lkdGgiLCJoZWlnaHQiXTpbIndpZHRoIiwiaGVpZ2h0IiwidG9wIiwibGVmdCJdO24uZWFjaChmLGZ1bmN0aW9uKG4sdCl7dmFyIGk9KHVbdF18fDApKyhvW3RdfHwwKTtpJiZpPj0wJiYoclt0XT1pfHxudWxsKX0pO3QuY3NzKHIpfSl9LHN0b3A6ZnVuY3Rpb24oKXtuKHRoaXMpLnJlbW92ZURhdGEoInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplIil9fSk7bi51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJnaG9zdCIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksaT10LnNpemU7dC5naG9zdD10Lm9yaWdpbmFsRWxlbWVudC5jbG9uZSgpO3QuZ2hvc3QuY3NzKHtvcGFjaXR5Oi4yNSxkaXNwbGF5OiJibG9jayIscG9zaXRpb246InJlbGF0aXZlIixoZWlnaHQ6aS5oZWlnaHQsd2lkdGg6aS53aWR0aCxtYXJnaW46MCxsZWZ0OjAsdG9wOjB9KTt0Ll9hZGRDbGFzcyh0Lmdob3N0LCJ1aS1yZXNpemFibGUtZ2hvc3QiKTtuLnVpQmFja0NvbXBhdCE9PSExJiYic3RyaW5nIj09dHlwZW9mIHQub3B0aW9ucy5naG9zdCYmdC5naG9zdC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuZ2hvc3QpO3QuZ2hvc3QuYXBwZW5kVG8odC5oZWxwZXIpfSxyZXNpemU6ZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKTt0Lmdob3N0JiZ0Lmdob3N0LmNzcyh7cG9zaXRpb246InJlbGF0aXZlIixoZWlnaHQ6dC5zaXplLmhlaWdodCx3aWR0aDp0LnNpemUud2lkdGh9KX0sc3RvcDpmdW5jdGlvbigpe3ZhciB0PW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpO3QuZ2hvc3QmJnQuaGVscGVyJiZ0LmhlbHBlci5nZXQoMCkucmVtb3ZlQ2hpbGQodC5naG9zdC5nZXQoMCkpfX0pO24udWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiZ3JpZCIse3Jlc2l6ZTpmdW5jdGlvbigpe3ZhciBoLHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksaT10Lm9wdGlvbnMseT10LnNpemUsbz10Lm9yaWdpbmFsU2l6ZSxzPXQub3JpZ2luYWxQb3NpdGlvbixjPXQuYXhpcyxsPSJudW1iZXIiPT10eXBlb2YgaS5ncmlkP1tpLmdyaWQsaS5ncmlkXTppLmdyaWQsZj1sWzBdfHwxLGU9bFsxXXx8MSxhPU1hdGgucm91bmQoKHkud2lkdGgtby53aWR0aCkvZikqZix2PU1hdGgucm91bmQoKHkuaGVpZ2h0LW8uaGVpZ2h0KS9lKSplLHI9by53aWR0aCthLHU9by5oZWlnaHQrdixwPWkubWF4V2lkdGgmJnI+aS5tYXhXaWR0aCx3PWkubWF4SGVpZ2h0JiZ1PmkubWF4SGVpZ2h0LGI9aS5taW5XaWR0aCYmaS5taW5XaWR0aD5yLGs9aS5taW5IZWlnaHQmJmkubWluSGVpZ2h0PnU7aS5ncmlkPWw7YiYmKHIrPWYpO2smJih1Kz1lKTtwJiYoci09Zik7dyYmKHUtPWUpOy9eKHNlfHN8ZSkkLy50ZXN0KGMpPyh0LnNpemUud2lkdGg9cix0LnNpemUuaGVpZ2h0PXUpOi9eKG5lKSQvLnRlc3QoYyk/KHQuc2l6ZS53aWR0aD1yLHQuc2l6ZS5oZWlnaHQ9dSx0LnBvc2l0aW9uLnRvcD1zLnRvcC12KTovXihzdykkLy50ZXN0KGMpPyh0LnNpemUud2lkdGg9cix0LnNpemUuaGVpZ2h0PXUsdC5wb3NpdGlvbi5sZWZ0PXMubGVmdC1hKTooKDA+PXUtZXx8MD49ci1mKSYmKGg9dC5fZ2V0UGFkZGluZ1BsdXNCb3JkZXJEaW1lbnNpb25zKHRoaXMpKSx1LWU+MD8odC5zaXplLmhlaWdodD11LHQucG9zaXRpb24udG9wPXMudG9wLXYpOih1PWUtaC5oZWlnaHQsdC5zaXplLmhlaWdodD11LHQucG9zaXRpb24udG9wPXMudG9wK28uaGVpZ2h0LXUpLHItZj4wPyh0LnNpemUud2lkdGg9cix0LnBvc2l0aW9uLmxlZnQ9cy5sZWZ0LWEpOihyPWYtaC53aWR0aCx0LnNpemUud2lkdGg9cix0LnBvc2l0aW9uLmxlZnQ9cy5sZWZ0K28ud2lkdGgtcikpfX0pO24udWkucmVzaXphYmxlO24ud2lkZ2V0KCJ1aS5kaWFsb2ciLHt2ZXJzaW9uOiIxLjEyLjEiLG9wdGlvbnM6e2FwcGVuZFRvOiJib2R5IixhdXRvT3BlbjohMCxidXR0b25zOltdLGNsYXNzZXM6eyJ1aS1kaWFsb2ciOiJ1aS1jb3JuZXItYWxsIiwidWktZGlhbG9nLXRpdGxlYmFyIjoidWktY29ybmVyLWFsbCJ9LGNsb3NlT25Fc2NhcGU6ITAsY2xvc2VUZXh0OiJDbG9zZSIsZHJhZ2dhYmxlOiEwLGhpZGU6bnVsbCxoZWlnaHQ6ImF1dG8iLG1heEhlaWdodDpudWxsLG1heFdpZHRoOm51bGwsbWluSGVpZ2h0OjE1MCxtaW5XaWR0aDoxNTAsbW9kYWw6ITEscG9zaXRpb246e215OiJjZW50ZXIiLGF0OiJjZW50ZXIiLCJvZiI6d2luZG93LGNvbGxpc2lvbjoiZml0Iix1c2luZzpmdW5jdGlvbih0KXt2YXIgaT1uKHRoaXMpLmNzcyh0KS5vZmZzZXQoKS50b3A7MD5pJiZuKHRoaXMpLmNzcygidG9wIix0LnRvcC1pKX19LHJlc2l6YWJsZTohMCxzaG93Om51bGwsdGl0bGU6bnVsbCx3aWR0aDozMDAsYmVmb3JlQ2xvc2U6bnVsbCxjbG9zZTpudWxsLGRyYWc6bnVsbCxkcmFnU3RhcnQ6bnVsbCxkcmFnU3RvcDpudWxsLGZvY3VzOm51bGwsb3BlbjpudWxsLHJlc2l6ZTpudWxsLHJlc2l6ZVN0YXJ0Om51bGwscmVzaXplU3RvcDpudWxsfSxzaXplUmVsYXRlZE9wdGlvbnM6e2J1dHRvbnM6ITAsaGVpZ2h0OiEwLG1heEhlaWdodDohMCxtYXhXaWR0aDohMCxtaW5IZWlnaHQ6ITAsbWluV2lkdGg6ITAsd2lkdGg6ITB9LHJlc2l6YWJsZVJlbGF0ZWRPcHRpb25zOnttYXhIZWlnaHQ6ITAsbWF4V2lkdGg6ITAsbWluSGVpZ2h0OiEwLG1pbldpZHRoOiEwfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcmlnaW5hbENzcz17ZGlzcGxheTp0aGlzLmVsZW1lbnRbMF0uc3R5bGUuZGlzcGxheSx3aWR0aDp0aGlzLmVsZW1lbnRbMF0uc3R5bGUud2lkdGgsbWluSGVpZ2h0OnRoaXMuZWxlbWVudFswXS5zdHlsZS5taW5IZWlnaHQsbWF4SGVpZ2h0OnRoaXMuZWxlbWVudFswXS5zdHlsZS5tYXhIZWlnaHQsaGVpZ2h0OnRoaXMuZWxlbWVudFswXS5zdHlsZS5oZWlnaHR9O3RoaXMub3JpZ2luYWxQb3NpdGlvbj17cGFyZW50OnRoaXMuZWxlbWVudC5wYXJlbnQoKSxpbmRleDp0aGlzLmVsZW1lbnQucGFyZW50KCkuY2hpbGRyZW4oKS5pbmRleCh0aGlzLmVsZW1lbnQpfTt0aGlzLm9yaWdpbmFsVGl0bGU9dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIik7bnVsbD09dGhpcy5vcHRpb25zLnRpdGxlJiZudWxsIT10aGlzLm9yaWdpbmFsVGl0bGUmJih0aGlzLm9wdGlvbnMudGl0bGU9dGhpcy5vcmlnaW5hbFRpdGxlKTt0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITEpO3RoaXMuX2NyZWF0ZVdyYXBwZXIoKTt0aGlzLmVsZW1lbnQuc2hvdygpLnJlbW92ZUF0dHIoInRpdGxlIikuYXBwZW5kVG8odGhpcy51aURpYWxvZyk7dGhpcy5fYWRkQ2xhc3MoInVpLWRpYWxvZy1jb250ZW50IiwidWktd2lkZ2V0LWNvbnRlbnQiKTt0aGlzLl9jcmVhdGVUaXRsZWJhcigpO3RoaXMuX2NyZWF0ZUJ1dHRvblBhbmUoKTt0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlJiZuLmZuLmRyYWdnYWJsZSYmdGhpcy5fbWFrZURyYWdnYWJsZSgpO3RoaXMub3B0aW9ucy5yZXNpemFibGUmJm4uZm4ucmVzaXphYmxlJiZ0aGlzLl9tYWtlUmVzaXphYmxlKCk7dGhpcy5faXNPcGVuPSExO3RoaXMuX3RyYWNrRm9jdXMoKX0sX2luaXQ6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuYXV0b09wZW4mJnRoaXMub3BlbigpfSxfYXBwZW5kVG86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuYXBwZW5kVG87cmV0dXJuIHQmJih0LmpxdWVyeXx8dC5ub2RlVHlwZSk/bih0KTp0aGlzLmRvY3VtZW50LmZpbmQodHx8ImJvZHkiKS5lcSgwKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgbix0PXRoaXMub3JpZ2luYWxQb3NpdGlvbjt0aGlzLl91bnRyYWNrSW5zdGFuY2UoKTt0aGlzLl9kZXN0cm95T3ZlcmxheSgpO3RoaXMuZWxlbWVudC5yZW1vdmVVbmlxdWVJZCgpLmNzcyh0aGlzLm9yaWdpbmFsQ3NzKS5kZXRhY2goKTt0aGlzLnVpRGlhbG9nLnJlbW92ZSgpO3RoaXMub3JpZ2luYWxUaXRsZSYmdGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIix0aGlzLm9yaWdpbmFsVGl0bGUpO249dC5wYXJlbnQuY2hpbGRyZW4oKS5lcSh0LmluZGV4KTtuLmxlbmd0aCYmblswXSE9PXRoaXMuZWxlbWVudFswXT9uLmJlZm9yZSh0aGlzLmVsZW1lbnQpOnQucGFyZW50LmFwcGVuZCh0aGlzLmVsZW1lbnQpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aURpYWxvZ30sZGlzYWJsZTpuLm5vb3AsZW5hYmxlOm4ubm9vcCxjbG9zZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzO3RoaXMuX2lzT3BlbiYmdGhpcy5fdHJpZ2dlcigiYmVmb3JlQ2xvc2UiLHQpIT09ITEmJih0aGlzLl9pc09wZW49ITEsdGhpcy5fZm9jdXNlZEVsZW1lbnQ9bnVsbCx0aGlzLl9kZXN0cm95T3ZlcmxheSgpLHRoaXMuX3VudHJhY2tJbnN0YW5jZSgpLHRoaXMub3BlbmVyLmZpbHRlcigiOmZvY3VzYWJsZSIpLnRyaWdnZXIoImZvY3VzIikubGVuZ3RofHxuLnVpLnNhZmVCbHVyKG4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkpLHRoaXMuX2hpZGUodGhpcy51aURpYWxvZyx0aGlzLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe2kuX3RyaWdnZXIoImNsb3NlIix0KX0pKX0saXNPcGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzT3Blbn0sbW92ZVRvVG9wOmZ1bmN0aW9uKCl7dGhpcy5fbW92ZVRvVG9wKCl9LF9tb3ZlVG9Ub3A6ZnVuY3Rpb24odCxpKXt2YXIgcj0hMSxmPXRoaXMudWlEaWFsb2cuc2libGluZ3MoIi51aS1mcm9udDp2aXNpYmxlIikubWFwKGZ1bmN0aW9uKCl7cmV0dXJuK24odGhpcykuY3NzKCJ6LWluZGV4Iil9KS5nZXQoKSx1PU1hdGgubWF4LmFwcGx5KG51bGwsZik7cmV0dXJuIHU+PSt0aGlzLnVpRGlhbG9nLmNzcygiei1pbmRleCIpJiYodGhpcy51aURpYWxvZy5jc3MoInotaW5kZXgiLHUrMSkscj0hMCksciYmIWkmJnRoaXMuX3RyaWdnZXIoImZvY3VzIix0KSxyfSxvcGVuOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5faXNPcGVuPyh0aGlzLl9tb3ZlVG9Ub3AoKSYmdGhpcy5fZm9jdXNUYWJiYWJsZSgpLHZvaWQgMCk6KHRoaXMuX2lzT3Blbj0hMCx0aGlzLm9wZW5lcj1uKG4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkpLHRoaXMuX3NpemUoKSx0aGlzLl9wb3NpdGlvbigpLHRoaXMuX2NyZWF0ZU92ZXJsYXkoKSx0aGlzLl9tb3ZlVG9Ub3AobnVsbCwhMCksdGhpcy5vdmVybGF5JiZ0aGlzLm92ZXJsYXkuY3NzKCJ6LWluZGV4Iix0aGlzLnVpRGlhbG9nLmNzcygiei1pbmRleCIpLTEpLHRoaXMuX3Nob3codGhpcy51aURpYWxvZyx0aGlzLm9wdGlvbnMuc2hvdyxmdW5jdGlvbigpe3QuX2ZvY3VzVGFiYmFibGUoKTt0Ll90cmlnZ2VyKCJmb2N1cyIpfSksdGhpcy5fbWFrZUZvY3VzVGFyZ2V0KCksdGhpcy5fdHJpZ2dlcigib3BlbiIpLHZvaWQgMCl9LF9mb2N1c1RhYmJhYmxlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fZm9jdXNlZEVsZW1lbnQ7bnx8KG49dGhpcy5lbGVtZW50LmZpbmQoIlthdXRvZm9jdXNdIikpO24ubGVuZ3RofHwobj10aGlzLmVsZW1lbnQuZmluZCgiOnRhYmJhYmxlIikpO24ubGVuZ3RofHwobj10aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5maW5kKCI6dGFiYmFibGUiKSk7bi5sZW5ndGh8fChuPXRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLmZpbHRlcigiOnRhYmJhYmxlIikpO24ubGVuZ3RofHwobj10aGlzLnVpRGlhbG9nKTtuLmVxKDApLnRyaWdnZXIoImZvY3VzIil9LF9rZWVwRm9jdXM6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gaSgpe3ZhciB0PW4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSksaT10aGlzLnVpRGlhbG9nWzBdPT09dHx8bi5jb250YWlucyh0aGlzLnVpRGlhbG9nWzBdLHQpO2l8fHRoaXMuX2ZvY3VzVGFiYmFibGUoKX10LnByZXZlbnREZWZhdWx0KCk7aS5jYWxsKHRoaXMpO3RoaXMuX2RlbGF5KGkpfSxfY3JlYXRlV3JhcHBlcjpmdW5jdGlvbigpe3RoaXMudWlEaWFsb2c9bigiPGRpdj4iKS5oaWRlKCkuYXR0cih7dGFiSW5kZXg6LTEscm9sZToiZGlhbG9nIn0pLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpO3RoaXMuX2FkZENsYXNzKHRoaXMudWlEaWFsb2csInVpLWRpYWxvZyIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1mcm9udCIpO3RoaXMuX29uKHRoaXMudWlEaWFsb2cse2tleWRvd246ZnVuY3Rpb24odCl7aWYodGhpcy5vcHRpb25zLmNsb3NlT25Fc2NhcGUmJiF0LmlzRGVmYXVsdFByZXZlbnRlZCgpJiZ0LmtleUNvZGUmJnQua2V5Q29kZT09PW4udWkua2V5Q29kZS5FU0NBUEUpcmV0dXJuIHQucHJldmVudERlZmF1bHQoKSx0aGlzLmNsb3NlKHQpLHZvaWQgMDtpZih0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuVEFCJiYhdC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGk9dGhpcy51aURpYWxvZy5maW5kKCI6dGFiYmFibGUiKSxyPWkuZmlsdGVyKCI6Zmlyc3QiKSx1PWkuZmlsdGVyKCI6bGFzdCIpO3QudGFyZ2V0IT09dVswXSYmdC50YXJnZXQhPT10aGlzLnVpRGlhbG9nWzBdfHx0LnNoaWZ0S2V5P3QudGFyZ2V0IT09clswXSYmdC50YXJnZXQhPT10aGlzLnVpRGlhbG9nWzBdfHwhdC5zaGlmdEtleXx8KHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dS50cmlnZ2VyKCJmb2N1cyIpfSksdC5wcmV2ZW50RGVmYXVsdCgpKToodGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtyLnRyaWdnZXIoImZvY3VzIil9KSx0LnByZXZlbnREZWZhdWx0KCkpfX0sbW91c2Vkb3duOmZ1bmN0aW9uKG4pe3RoaXMuX21vdmVUb1RvcChuKSYmdGhpcy5fZm9jdXNUYWJiYWJsZSgpfX0pO3RoaXMuZWxlbWVudC5maW5kKCJbYXJpYS1kZXNjcmliZWRieV0iKS5sZW5ndGh8fHRoaXMudWlEaWFsb2cuYXR0cih7ImFyaWEtZGVzY3JpYmVkYnkiOnRoaXMuZWxlbWVudC51bmlxdWVJZCgpLmF0dHIoImlkIil9KX0sX2NyZWF0ZVRpdGxlYmFyOmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy51aURpYWxvZ1RpdGxlYmFyPW4oIjxkaXY+Iik7dGhpcy5fYWRkQ2xhc3ModGhpcy51aURpYWxvZ1RpdGxlYmFyLCJ1aS1kaWFsb2ctdGl0bGViYXIiLCJ1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeCIpO3RoaXMuX29uKHRoaXMudWlEaWFsb2dUaXRsZWJhcix7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe24odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1kaWFsb2ctdGl0bGViYXItY2xvc2UiKXx8dGhpcy51aURpYWxvZy50cmlnZ2VyKCJmb2N1cyIpfX0pO3RoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlPW4oIjxidXR0b24gdHlwZT0nYnV0dG9uJz48XC9idXR0b24+IikuYnV0dG9uKHtsYWJlbDpuKCI8YT4iKS50ZXh0KHRoaXMub3B0aW9ucy5jbG9zZVRleHQpLmh0bWwoKSxpY29uOiJ1aS1pY29uLWNsb3NldGhpY2siLHNob3dMYWJlbDohMX0pLmFwcGVuZFRvKHRoaXMudWlEaWFsb2dUaXRsZWJhcik7dGhpcy5fYWRkQ2xhc3ModGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2UsInVpLWRpYWxvZy10aXRsZWJhci1jbG9zZSIpO3RoaXMuX29uKHRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLHtjbGljazpmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCk7dGhpcy5jbG9zZShuKX19KTt0PW4oIjxzcGFuPiIpLnVuaXF1ZUlkKCkucHJlcGVuZFRvKHRoaXMudWlEaWFsb2dUaXRsZWJhcik7dGhpcy5fYWRkQ2xhc3ModCwidWktZGlhbG9nLXRpdGxlIik7dGhpcy5fdGl0bGUodCk7dGhpcy51aURpYWxvZ1RpdGxlYmFyLnByZXBlbmRUbyh0aGlzLnVpRGlhbG9nKTt0aGlzLnVpRGlhbG9nLmF0dHIoeyJhcmlhLWxhYmVsbGVkYnkiOnQuYXR0cigiaWQiKX0pfSxfdGl0bGU6ZnVuY3Rpb24obil7dGhpcy5vcHRpb25zLnRpdGxlP24udGV4dCh0aGlzLm9wdGlvbnMudGl0bGUpOm4uaHRtbCgiJiMxNjA7Iil9LF9jcmVhdGVCdXR0b25QYW5lOmZ1bmN0aW9uKCl7dGhpcy51aURpYWxvZ0J1dHRvblBhbmU9bigiPGRpdj4iKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZSwidWktZGlhbG9nLWJ1dHRvbnBhbmUiLCJ1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXgiKTt0aGlzLnVpQnV0dG9uU2V0PW4oIjxkaXY+IikuYXBwZW5kVG8odGhpcy51aURpYWxvZ0J1dHRvblBhbmUpO3RoaXMuX2FkZENsYXNzKHRoaXMudWlCdXR0b25TZXQsInVpLWRpYWxvZy1idXR0b25zZXQiKTt0aGlzLl9jcmVhdGVCdXR0b25zKCl9LF9jcmVhdGVCdXR0b25zOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcyx0PXRoaXMub3B0aW9ucy5idXR0b25zO3JldHVybiB0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5yZW1vdmUoKSx0aGlzLnVpQnV0dG9uU2V0LmVtcHR5KCksbi5pc0VtcHR5T2JqZWN0KHQpfHxuLmlzQXJyYXkodCkmJiF0Lmxlbmd0aD8odGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy51aURpYWxvZywidWktZGlhbG9nLWJ1dHRvbnMiKSx2b2lkIDApOihuLmVhY2godCxmdW5jdGlvbih0LHIpe3ZhciB1LGY7cj1uLmlzRnVuY3Rpb24ocik/e2NsaWNrOnIsdGV4dDp0fTpyO3I9bi5leHRlbmQoe3R5cGU6ImJ1dHRvbiJ9LHIpO3U9ci5jbGljaztmPXtpY29uOnIuaWNvbixpY29uUG9zaXRpb246ci5pY29uUG9zaXRpb24sc2hvd0xhYmVsOnIuc2hvd0xhYmVsLGljb25zOnIuaWNvbnMsdGV4dDpyLnRleHR9O2RlbGV0ZSByLmNsaWNrO2RlbGV0ZSByLmljb247ZGVsZXRlIHIuaWNvblBvc2l0aW9uO2RlbGV0ZSByLnNob3dMYWJlbDtkZWxldGUgci5pY29uczsiYm9vbGVhbiI9PXR5cGVvZiByLnRleHQmJmRlbGV0ZSByLnRleHQ7bigiPGJ1dHRvbj48XC9idXR0b24+IixyKS5idXR0b24oZikuYXBwZW5kVG8oaS51aUJ1dHRvblNldCkub24oImNsaWNrIixmdW5jdGlvbigpe3UuYXBwbHkoaS5lbGVtZW50WzBdLGFyZ3VtZW50cyl9KX0pLHRoaXMuX2FkZENsYXNzKHRoaXMudWlEaWFsb2csInVpLWRpYWxvZy1idXR0b25zIiksdGhpcy51aURpYWxvZ0J1dHRvblBhbmUuYXBwZW5kVG8odGhpcy51aURpYWxvZyksdm9pZCAwKX0sX21ha2VEcmFnZ2FibGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKG4pe3JldHVybntwb3NpdGlvbjpuLnBvc2l0aW9uLG9mZnNldDpuLm9mZnNldH19dmFyIHQ9dGhpcyxyPXRoaXMub3B0aW9uczt0aGlzLnVpRGlhbG9nLmRyYWdnYWJsZSh7Y2FuY2VsOiIudWktZGlhbG9nLWNvbnRlbnQsIC51aS1kaWFsb2ctdGl0bGViYXItY2xvc2UiLGhhbmRsZToiLnVpLWRpYWxvZy10aXRsZWJhciIsY29udGFpbm1lbnQ6ImRvY3VtZW50IixzdGFydDpmdW5jdGlvbihyLHUpe3QuX2FkZENsYXNzKG4odGhpcyksInVpLWRpYWxvZy1kcmFnZ2luZyIpO3QuX2Jsb2NrRnJhbWVzKCk7dC5fdHJpZ2dlcigiZHJhZ1N0YXJ0IixyLGkodSkpfSxkcmFnOmZ1bmN0aW9uKG4scil7dC5fdHJpZ2dlcigiZHJhZyIsbixpKHIpKX0sc3RvcDpmdW5jdGlvbih1LGYpe3ZhciBlPWYub2Zmc2V0LmxlZnQtdC5kb2N1bWVudC5zY3JvbGxMZWZ0KCksbz1mLm9mZnNldC50b3AtdC5kb2N1bWVudC5zY3JvbGxUb3AoKTtyLnBvc2l0aW9uPXtteToibGVmdCB0b3AiLGF0OiJsZWZ0IisoZT49MD8iKyI6IiIpK2UrIiB0b3AiKyhvPj0wPyIrIjoiIikrbywib2YiOnQud2luZG93fTt0Ll9yZW1vdmVDbGFzcyhuKHRoaXMpLCJ1aS1kaWFsb2ctZHJhZ2dpbmciKTt0Ll91bmJsb2NrRnJhbWVzKCk7dC5fdHJpZ2dlcigiZHJhZ1N0b3AiLHUsaShmKSl9fSl9LF9tYWtlUmVzaXphYmxlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihuKXtyZXR1cm57b3JpZ2luYWxQb3NpdGlvbjpuLm9yaWdpbmFsUG9zaXRpb24sb3JpZ2luYWxTaXplOm4ub3JpZ2luYWxTaXplLHBvc2l0aW9uOm4ucG9zaXRpb24sc2l6ZTpuLnNpemV9fXZhciB0PXRoaXMsaT10aGlzLm9wdGlvbnMsdT1pLnJlc2l6YWJsZSxmPXRoaXMudWlEaWFsb2cuY3NzKCJwb3NpdGlvbiIpLGU9InN0cmluZyI9PXR5cGVvZiB1P3U6Im4sZSxzLHcsc2Usc3csbmUsbnciO3RoaXMudWlEaWFsb2cucmVzaXphYmxlKHtjYW5jZWw6Ii51aS1kaWFsb2ctY29udGVudCIsY29udGFpbm1lbnQ6ImRvY3VtZW50IixhbHNvUmVzaXplOnRoaXMuZWxlbWVudCxtYXhXaWR0aDppLm1heFdpZHRoLG1heEhlaWdodDppLm1heEhlaWdodCxtaW5XaWR0aDppLm1pbldpZHRoLG1pbkhlaWdodDp0aGlzLl9taW5IZWlnaHQoKSxoYW5kbGVzOmUsc3RhcnQ6ZnVuY3Rpb24oaSx1KXt0Ll9hZGRDbGFzcyhuKHRoaXMpLCJ1aS1kaWFsb2ctcmVzaXppbmciKTt0Ll9ibG9ja0ZyYW1lcygpO3QuX3RyaWdnZXIoInJlc2l6ZVN0YXJ0IixpLHIodSkpfSxyZXNpemU6ZnVuY3Rpb24obixpKXt0Ll90cmlnZ2VyKCJyZXNpemUiLG4scihpKSl9LHN0b3A6ZnVuY3Rpb24odSxmKXt2YXIgZT10LnVpRGlhbG9nLm9mZnNldCgpLG89ZS5sZWZ0LXQuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpLHM9ZS50b3AtdC5kb2N1bWVudC5zY3JvbGxUb3AoKTtpLmhlaWdodD10LnVpRGlhbG9nLmhlaWdodCgpO2kud2lkdGg9dC51aURpYWxvZy53aWR0aCgpO2kucG9zaXRpb249e215OiJsZWZ0IHRvcCIsYXQ6ImxlZnQiKyhvPj0wPyIrIjoiIikrbysiIHRvcCIrKHM+PTA/IisiOiIiKStzLCJvZiI6dC53aW5kb3d9O3QuX3JlbW92ZUNsYXNzKG4odGhpcyksInVpLWRpYWxvZy1yZXNpemluZyIpO3QuX3VuYmxvY2tGcmFtZXMoKTt0Ll90cmlnZ2VyKCJyZXNpemVTdG9wIix1LHIoZikpfX0pLmNzcygicG9zaXRpb24iLGYpfSxfdHJhY2tGb2N1czpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMud2lkZ2V0KCkse2ZvY3VzaW46ZnVuY3Rpb24odCl7dGhpcy5fbWFrZUZvY3VzVGFyZ2V0KCk7dGhpcy5fZm9jdXNlZEVsZW1lbnQ9bih0LnRhcmdldCl9fSl9LF9tYWtlRm9jdXNUYXJnZXQ6ZnVuY3Rpb24oKXt0aGlzLl91bnRyYWNrSW5zdGFuY2UoKTt0aGlzLl90cmFja2luZ0luc3RhbmNlcygpLnVuc2hpZnQodGhpcyl9LF91bnRyYWNrSW5zdGFuY2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90cmFja2luZ0luc3RhbmNlcygpLGk9bi5pbkFycmF5KHRoaXMsdCk7LTEhPT1pJiZ0LnNwbGljZShpLDEpfSxfdHJhY2tpbmdJbnN0YW5jZXM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1pbnN0YW5jZXMiKTtyZXR1cm4gbnx8KG49W10sdGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctaW5zdGFuY2VzIixuKSksbn0sX21pbkhlaWdodDpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3B0aW9ucztyZXR1cm4iYXV0byI9PT1uLmhlaWdodD9uLm1pbkhlaWdodDpNYXRoLm1pbihuLm1pbkhlaWdodCxuLmhlaWdodCl9LF9wb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMudWlEaWFsb2cuaXMoIjp2aXNpYmxlIik7bnx8dGhpcy51aURpYWxvZy5zaG93KCk7dGhpcy51aURpYWxvZy5wb3NpdGlvbih0aGlzLm9wdGlvbnMucG9zaXRpb24pO258fHRoaXMudWlEaWFsb2cuaGlkZSgpfSxfc2V0T3B0aW9uczpmdW5jdGlvbih0KXt2YXIgaT10aGlzLHI9ITEsdT17fTtuLmVhY2godCxmdW5jdGlvbihuLHQpe2kuX3NldE9wdGlvbihuLHQpO24gaW4gaS5zaXplUmVsYXRlZE9wdGlvbnMmJihyPSEwKTtuIGluIGkucmVzaXphYmxlUmVsYXRlZE9wdGlvbnMmJih1W25dPXQpfSk7ciYmKHRoaXMuX3NpemUoKSx0aGlzLl9wb3NpdGlvbigpKTt0aGlzLnVpRGlhbG9nLmlzKCI6ZGF0YSh1aS1yZXNpemFibGUpIikmJnRoaXMudWlEaWFsb2cucmVzaXphYmxlKCJvcHRpb24iLHUpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsaSl7dmFyIGYsdSxyPXRoaXMudWlEaWFsb2c7ImRpc2FibGVkIiE9PXQmJih0aGlzLl9zdXBlcih0LGkpLCJhcHBlbmRUbyI9PT10JiZ0aGlzLnVpRGlhbG9nLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLCJidXR0b25zIj09PXQmJnRoaXMuX2NyZWF0ZUJ1dHRvbnMoKSwiY2xvc2VUZXh0Ij09PXQmJnRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLmJ1dHRvbih7bGFiZWw6bigiPGE+IikudGV4dCgiIit0aGlzLm9wdGlvbnMuY2xvc2VUZXh0KS5odG1sKCl9KSwiZHJhZ2dhYmxlIj09PXQmJihmPXIuaXMoIjpkYXRhKHVpLWRyYWdnYWJsZSkiKSxmJiYhaSYmci5kcmFnZ2FibGUoImRlc3Ryb3kiKSwhZiYmaSYmdGhpcy5fbWFrZURyYWdnYWJsZSgpKSwicG9zaXRpb24iPT09dCYmdGhpcy5fcG9zaXRpb24oKSwicmVzaXphYmxlIj09PXQmJih1PXIuaXMoIjpkYXRhKHVpLXJlc2l6YWJsZSkiKSx1JiYhaSYmci5yZXNpemFibGUoImRlc3Ryb3kiKSx1JiYic3RyaW5nIj09dHlwZW9mIGkmJnIucmVzaXphYmxlKCJvcHRpb24iLCJoYW5kbGVzIixpKSx1fHxpPT09ITF8fHRoaXMuX21ha2VSZXNpemFibGUoKSksInRpdGxlIj09PXQmJnRoaXMuX3RpdGxlKHRoaXMudWlEaWFsb2dUaXRsZWJhci5maW5kKCIudWktZGlhbG9nLXRpdGxlIikpKX0sX3NpemU6ZnVuY3Rpb24oKXt2YXIgdCxpLHIsbj10aGlzLm9wdGlvbnM7dGhpcy5lbGVtZW50LnNob3coKS5jc3Moe3dpZHRoOiJhdXRvIixtaW5IZWlnaHQ6MCxtYXhIZWlnaHQ6Im5vbmUiLGhlaWdodDowfSk7bi5taW5XaWR0aD5uLndpZHRoJiYobi53aWR0aD1uLm1pbldpZHRoKTt0PXRoaXMudWlEaWFsb2cuY3NzKHtoZWlnaHQ6ImF1dG8iLHdpZHRoOm4ud2lkdGh9KS5vdXRlckhlaWdodCgpO2k9TWF0aC5tYXgoMCxuLm1pbkhlaWdodC10KTtyPSJudW1iZXIiPT10eXBlb2Ygbi5tYXhIZWlnaHQ/TWF0aC5tYXgoMCxuLm1heEhlaWdodC10KToibm9uZSI7ImF1dG8iPT09bi5oZWlnaHQ/dGhpcy5lbGVtZW50LmNzcyh7bWluSGVpZ2h0OmksbWF4SGVpZ2h0OnIsaGVpZ2h0OiJhdXRvIn0pOnRoaXMuZWxlbWVudC5oZWlnaHQoTWF0aC5tYXgoMCxuLmhlaWdodC10KSk7dGhpcy51aURpYWxvZy5pcygiOmRhdGEodWktcmVzaXphYmxlKSIpJiZ0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSgib3B0aW9uIiwibWluSGVpZ2h0Iix0aGlzLl9taW5IZWlnaHQoKSl9LF9ibG9ja0ZyYW1lczpmdW5jdGlvbigpe3RoaXMuaWZyYW1lQmxvY2tzPXRoaXMuZG9jdW1lbnQuZmluZCgiaWZyYW1lIikubWFwKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtyZXR1cm4gbigiPGRpdj4iKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2lkdGg6dC5vdXRlcldpZHRoKCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoKX0pLmFwcGVuZFRvKHQucGFyZW50KCkpLm9mZnNldCh0Lm9mZnNldCgpKVswXX0pfSxfdW5ibG9ja0ZyYW1lczpmdW5jdGlvbigpe3RoaXMuaWZyYW1lQmxvY2tzJiYodGhpcy5pZnJhbWVCbG9ja3MucmVtb3ZlKCksZGVsZXRlIHRoaXMuaWZyYW1lQmxvY2tzKX0sX2FsbG93SW50ZXJhY3Rpb246ZnVuY3Rpb24odCl7cmV0dXJuIG4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1kaWFsb2ciKS5sZW5ndGg/ITA6ISFuKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktZGF0ZXBpY2tlciIpLmxlbmd0aH0sX2NyZWF0ZU92ZXJsYXk6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMubW9kYWwpe3ZhciB0PSEwO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dD0hMX0pO3RoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIil8fHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse2ZvY3VzaW46ZnVuY3Rpb24obil7dHx8dGhpcy5fYWxsb3dJbnRlcmFjdGlvbihuKXx8KG4ucHJldmVudERlZmF1bHQoKSx0aGlzLl90cmFja2luZ0luc3RhbmNlcygpWzBdLl9mb2N1c1RhYmJhYmxlKCkpfX0pO3RoaXMub3ZlcmxheT1uKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpO3RoaXMuX2FkZENsYXNzKHRoaXMub3ZlcmxheSxudWxsLCJ1aS13aWRnZXQtb3ZlcmxheSB1aS1mcm9udCIpO3RoaXMuX29uKHRoaXMub3ZlcmxheSx7bW91c2Vkb3duOiJfa2VlcEZvY3VzIn0pO3RoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIiwodGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiKXx8MCkrMSl9fSxfZGVzdHJveU92ZXJsYXk6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMubW9kYWwmJnRoaXMub3ZlcmxheSl7dmFyIG49dGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiKS0xO24/dGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiLG4pOih0aGlzLl9vZmYodGhpcy5kb2N1bWVudCwiZm9jdXNpbiIpLHRoaXMuZG9jdW1lbnQucmVtb3ZlRGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIikpO3RoaXMub3ZlcmxheS5yZW1vdmUoKTt0aGlzLm92ZXJsYXk9bnVsbH19fSk7bi51aUJhY2tDb21wYXQhPT0hMSYmbi53aWRnZXQoInVpLmRpYWxvZyIsbi51aS5kaWFsb2cse29wdGlvbnM6e2RpYWxvZ0NsYXNzOiIifSxfY3JlYXRlV3JhcHBlcjpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCk7dGhpcy51aURpYWxvZy5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuZGlhbG9nQ2xhc3MpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7ImRpYWxvZ0NsYXNzIj09PW4mJnRoaXMudWlEaWFsb2cucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmRpYWxvZ0NsYXNzKS5hZGRDbGFzcyh0KTt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyl9fSk7bi51aS5kaWFsb2c7bi53aWRnZXQoInVpLmRyb3BwYWJsZSIse3ZlcnNpb246IjEuMTIuMSIsd2lkZ2V0RXZlbnRQcmVmaXg6ImRyb3AiLG9wdGlvbnM6e2FjY2VwdDoiKiIsYWRkQ2xhc3NlczohMCxncmVlZHk6ITEsc2NvcGU6ImRlZmF1bHQiLHRvbGVyYW5jZToiaW50ZXJzZWN0IixhY3RpdmF0ZTpudWxsLGRlYWN0aXZhdGU6bnVsbCxkcm9wOm51bGwsb3V0Om51bGwsb3ZlcjpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLm9wdGlvbnMscj1pLmFjY2VwdDt0aGlzLmlzb3Zlcj0hMTt0aGlzLmlzb3V0PSEwO3RoaXMuYWNjZXB0PW4uaXNGdW5jdGlvbihyKT9yOmZ1bmN0aW9uKG4pe3JldHVybiBuLmlzKHIpfTt0aGlzLnByb3BvcnRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9YXJndW1lbnRzWzBdLHZvaWQgMCk6dD90OnQ9e3dpZHRoOnRoaXMuZWxlbWVudFswXS5vZmZzZXRXaWR0aCxoZWlnaHQ6dGhpcy5lbGVtZW50WzBdLm9mZnNldEhlaWdodH19O3RoaXMuX2FkZFRvTWFuYWdlcihpLnNjb3BlKTtpLmFkZENsYXNzZXMmJnRoaXMuX2FkZENsYXNzKCJ1aS1kcm9wcGFibGUiKX0sX2FkZFRvTWFuYWdlcjpmdW5jdGlvbih0KXtuLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RdPW4udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdF18fFtdO24udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdF0ucHVzaCh0aGlzKX0sX3NwbGljZTpmdW5jdGlvbihuKXtmb3IodmFyIHQ9MDtuLmxlbmd0aD50O3QrKyluW3RdPT09dGhpcyYmbi5zcGxpY2UodCwxKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD1uLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RoaXMub3B0aW9ucy5zY29wZV07dGhpcy5fc3BsaWNlKHQpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsaSl7aWYoImFjY2VwdCI9PT10KXRoaXMuYWNjZXB0PW4uaXNGdW5jdGlvbihpKT9pOmZ1bmN0aW9uKG4pe3JldHVybiBuLmlzKGkpfTtlbHNlIGlmKCJzY29wZSI9PT10KXt2YXIgcj1uLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RoaXMub3B0aW9ucy5zY29wZV07dGhpcy5fc3BsaWNlKHIpO3RoaXMuX2FkZFRvTWFuYWdlcihpKX10aGlzLl9zdXBlcih0LGkpfSxfYWN0aXZhdGU6ZnVuY3Rpb24odCl7dmFyIGk9bi51aS5kZG1hbmFnZXIuY3VycmVudDt0aGlzLl9hZGRBY3RpdmVDbGFzcygpO2kmJnRoaXMuX3RyaWdnZXIoImFjdGl2YXRlIix0LHRoaXMudWkoaSkpfSxfZGVhY3RpdmF0ZTpmdW5jdGlvbih0KXt2YXIgaT1uLnVpLmRkbWFuYWdlci5jdXJyZW50O3RoaXMuX3JlbW92ZUFjdGl2ZUNsYXNzKCk7aSYmdGhpcy5fdHJpZ2dlcigiZGVhY3RpdmF0ZSIsdCx0aGlzLnVpKGkpKX0sX292ZXI6ZnVuY3Rpb24odCl7dmFyIGk9bi51aS5kZG1hbmFnZXIuY3VycmVudDtpJiYoaS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KVswXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0saS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KSYmKHRoaXMuX2FkZEhvdmVyQ2xhc3MoKSx0aGlzLl90cmlnZ2VyKCJvdmVyIix0LHRoaXMudWkoaSkpKX0sX291dDpmdW5jdGlvbih0KXt2YXIgaT1uLnVpLmRkbWFuYWdlci5jdXJyZW50O2kmJihpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpWzBdIT09dGhpcy5lbGVtZW50WzBdJiZ0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpJiYodGhpcy5fcmVtb3ZlSG92ZXJDbGFzcygpLHRoaXMuX3RyaWdnZXIoIm91dCIsdCx0aGlzLnVpKGkpKSl9LF9kcm9wOmZ1bmN0aW9uKHQsaSl7dmFyIHI9aXx8bi51aS5kZG1hbmFnZXIuY3VycmVudCx1PSExO3JldHVybiByJiYoci5jdXJyZW50SXRlbXx8ci5lbGVtZW50KVswXSE9PXRoaXMuZWxlbWVudFswXT8odGhpcy5lbGVtZW50LmZpbmQoIjpkYXRhKHVpLWRyb3BwYWJsZSkiKS5ub3QoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKS5kcm9wcGFibGUoImluc3RhbmNlIik7aWYoaS5vcHRpb25zLmdyZWVkeSYmIWkub3B0aW9ucy5kaXNhYmxlZCYmaS5vcHRpb25zLnNjb3BlPT09ci5vcHRpb25zLnNjb3BlJiZpLmFjY2VwdC5jYWxsKGkuZWxlbWVudFswXSxyLmN1cnJlbnRJdGVtfHxyLmVsZW1lbnQpJiZlKHIsbi5leHRlbmQoaSx7b2Zmc2V0OmkuZWxlbWVudC5vZmZzZXQoKX0pLGkub3B0aW9ucy50b2xlcmFuY2UsdCkpcmV0dXJuKHU9ITAsITEpfSksdT8hMTp0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxyLmN1cnJlbnRJdGVtfHxyLmVsZW1lbnQpPyh0aGlzLl9yZW1vdmVBY3RpdmVDbGFzcygpLHRoaXMuX3JlbW92ZUhvdmVyQ2xhc3MoKSx0aGlzLl90cmlnZ2VyKCJkcm9wIix0LHRoaXMudWkocikpLHRoaXMuZWxlbWVudCk6ITEpOiExfSx1aTpmdW5jdGlvbihuKXtyZXR1cm57ZHJhZ2dhYmxlOm4uY3VycmVudEl0ZW18fG4uZWxlbWVudCxoZWxwZXI6bi5oZWxwZXIscG9zaXRpb246bi5wb3NpdGlvbixvZmZzZXQ6bi5wb3NpdGlvbkFic319LF9hZGRIb3ZlckNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fYWRkQ2xhc3MoInVpLWRyb3BwYWJsZS1ob3ZlciIpfSxfcmVtb3ZlSG92ZXJDbGFzczpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKCJ1aS1kcm9wcGFibGUtaG92ZXIiKX0sX2FkZEFjdGl2ZUNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fYWRkQ2xhc3MoInVpLWRyb3BwYWJsZS1hY3RpdmUiKX0sX3JlbW92ZUFjdGl2ZUNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQ2xhc3MoInVpLWRyb3BwYWJsZS1hY3RpdmUiKX19KTtlPW4udWkuaW50ZXJzZWN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHQsaSl7cmV0dXJuIG4+PXQmJnQraT5ufXJldHVybiBmdW5jdGlvbih0LGkscix1KXtpZighaS5vZmZzZXQpcmV0dXJuITE7dmFyIG89KHQucG9zaXRpb25BYnN8fHQucG9zaXRpb24uYWJzb2x1dGUpLmxlZnQrdC5tYXJnaW5zLmxlZnQscz0odC5wb3NpdGlvbkFic3x8dC5wb3NpdGlvbi5hYnNvbHV0ZSkudG9wK3QubWFyZ2lucy50b3AsaD1vK3QuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgsYz1zK3QuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LGY9aS5vZmZzZXQubGVmdCxlPWkub2Zmc2V0LnRvcCxsPWYraS5wcm9wb3J0aW9ucygpLndpZHRoLGE9ZStpLnByb3BvcnRpb25zKCkuaGVpZ2h0O3N3aXRjaChyKXtjYXNlImZpdCI6cmV0dXJuIG8+PWYmJmw+PWgmJnM+PWUmJmE+PWM7Y2FzZSJpbnRlcnNlY3QiOnJldHVybiBvK3QuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMj5mJiZsPmgtdC5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yJiZzK3QuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzI+ZSYmYT5jLXQuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzI7Y2FzZSJwb2ludGVyIjpyZXR1cm4gbih1LnBhZ2VZLGUsaS5wcm9wb3J0aW9ucygpLmhlaWdodCkmJm4odS5wYWdlWCxmLGkucHJvcG9ydGlvbnMoKS53aWR0aCk7Y2FzZSJ0b3VjaCI6cmV0dXJuKHM+PWUmJmE+PXN8fGM+PWUmJmE+PWN8fGU+cyYmYz5hKSYmKG8+PWYmJmw+PW98fGg+PWYmJmw+PWh8fGY+byYmaD5sKTtkZWZhdWx0OnJldHVybiExfX19KCk7bi51aS5kZG1hbmFnZXI9e2N1cnJlbnQ6bnVsbCxkcm9wcGFibGVzOnsiZGVmYXVsdCI6W119LHByZXBhcmVPZmZzZXRzOmZ1bmN0aW9uKHQsaSl7dmFyIHIsZix1PW4udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdC5vcHRpb25zLnNjb3BlXXx8W10sbz1pP2kudHlwZTpudWxsLGU9KHQuY3VycmVudEl0ZW18fHQuZWxlbWVudCkuZmluZCgiOmRhdGEodWktZHJvcHBhYmxlKSIpLmFkZEJhY2soKTtuOmZvcihyPTA7dS5sZW5ndGg+cjtyKyspaWYoISh1W3JdLm9wdGlvbnMuZGlzYWJsZWR8fHQmJiF1W3JdLmFjY2VwdC5jYWxsKHVbcl0uZWxlbWVudFswXSx0LmN1cnJlbnRJdGVtfHx0LmVsZW1lbnQpKSl7Zm9yKGY9MDtlLmxlbmd0aD5mO2YrKylpZihlW2ZdPT09dVtyXS5lbGVtZW50WzBdKXt1W3JdLnByb3BvcnRpb25zKCkuaGVpZ2h0PTA7Y29udGludWUgbn11W3JdLnZpc2libGU9Im5vbmUiIT09dVtyXS5lbGVtZW50LmNzcygiZGlzcGxheSIpO3Vbcl0udmlzaWJsZSYmKCJtb3VzZWRvd24iPT09byYmdVtyXS5fYWN0aXZhdGUuY2FsbCh1W3JdLGkpLHVbcl0ub2Zmc2V0PXVbcl0uZWxlbWVudC5vZmZzZXQoKSx1W3JdLnByb3BvcnRpb25zKHt3aWR0aDp1W3JdLmVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsaGVpZ2h0OnVbcl0uZWxlbWVudFswXS5vZmZzZXRIZWlnaHR9KSl9fSxkcm9wOmZ1bmN0aW9uKHQsaSl7dmFyIHI9ITE7cmV0dXJuIG4uZWFjaCgobi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0Lm9wdGlvbnMuc2NvcGVdfHxbXSkuc2xpY2UoKSxmdW5jdGlvbigpe3RoaXMub3B0aW9ucyYmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMudmlzaWJsZSYmZSh0LHRoaXMsdGhpcy5vcHRpb25zLnRvbGVyYW5jZSxpKSYmKHI9dGhpcy5fZHJvcC5jYWxsKHRoaXMsaSl8fHIpLCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMudmlzaWJsZSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0sdC5jdXJyZW50SXRlbXx8dC5lbGVtZW50KSYmKHRoaXMuaXNvdXQ9ITAsdGhpcy5pc292ZXI9ITEsdGhpcy5fZGVhY3RpdmF0ZS5jYWxsKHRoaXMsaSkpKX0pLHJ9LGRyYWdTdGFydDpmdW5jdGlvbih0LGkpe3QuZWxlbWVudC5wYXJlbnRzVW50aWwoImJvZHkiKS5vbigic2Nyb2xsLmRyb3BwYWJsZSIsZnVuY3Rpb24oKXt0Lm9wdGlvbnMucmVmcmVzaFBvc2l0aW9uc3x8bi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModCxpKX0pfSxkcmFnOmZ1bmN0aW9uKHQsaSl7dC5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnMmJm4udWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHQsaSk7bi5lYWNoKG4udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdC5vcHRpb25zLnNjb3BlXXx8W10sZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiYhdGhpcy5ncmVlZHlDaGlsZCYmdGhpcy52aXNpYmxlKXt2YXIgcixvLGYscz1lKHQsdGhpcyx0aGlzLm9wdGlvbnMudG9sZXJhbmNlLGkpLHU9IXMmJnRoaXMuaXNvdmVyPyJpc291dCI6cyYmIXRoaXMuaXNvdmVyPyJpc292ZXIiOm51bGw7dSYmKHRoaXMub3B0aW9ucy5ncmVlZHkmJihvPXRoaXMub3B0aW9ucy5zY29wZSxmPXRoaXMuZWxlbWVudC5wYXJlbnRzKCI6ZGF0YSh1aS1kcm9wcGFibGUpIikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcykuZHJvcHBhYmxlKCJpbnN0YW5jZSIpLm9wdGlvbnMuc2NvcGU9PT1vfSksZi5sZW5ndGgmJihyPW4oZlswXSkuZHJvcHBhYmxlKCJpbnN0YW5jZSIpLHIuZ3JlZWR5Q2hpbGQ9Imlzb3ZlciI9PT11KSksciYmImlzb3ZlciI9PT11JiYoci5pc292ZXI9ITEsci5pc291dD0hMCxyLl9vdXQuY2FsbChyLGkpKSx0aGlzW3VdPSEwLHRoaXNbImlzb3V0Ij09PXU/Imlzb3ZlciI6Imlzb3V0Il09ITEsdGhpc1siaXNvdmVyIj09PXU/Il9vdmVyIjoiX291dCJdLmNhbGwodGhpcyxpKSxyJiYiaXNvdXQiPT09dSYmKHIuaXNvdXQ9ITEsci5pc292ZXI9ITAsci5fb3Zlci5jYWxsKHIsaSkpKX19KX0sZHJhZ1N0b3A6ZnVuY3Rpb24odCxpKXt0LmVsZW1lbnQucGFyZW50c1VudGlsKCJib2R5Iikub2ZmKCJzY3JvbGwuZHJvcHBhYmxlIik7dC5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnN8fG4udWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHQsaSl9fTtuLnVpQmFja0NvbXBhdCE9PSExJiZuLndpZGdldCgidWkuZHJvcHBhYmxlIixuLnVpLmRyb3BwYWJsZSx7b3B0aW9uczp7aG92ZXJDbGFzczohMSxhY3RpdmVDbGFzczohMX0sX2FkZEFjdGl2ZUNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKTt0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpfSxfcmVtb3ZlQWN0aXZlQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpO3RoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyl9LF9hZGRIb3ZlckNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKTt0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzKX0sX3JlbW92ZUhvdmVyQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpO3RoaXMub3B0aW9ucy5ob3ZlckNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpfX0pO24udWkuZHJvcHBhYmxlO24ud2lkZ2V0KCJ1aS5wcm9ncmVzc2JhciIse3ZlcnNpb246IjEuMTIuMSIsb3B0aW9uczp7Y2xhc3Nlczp7InVpLXByb2dyZXNzYmFyIjoidWktY29ybmVyLWFsbCIsInVpLXByb2dyZXNzYmFyLXZhbHVlIjoidWktY29ybmVyLWxlZnQiLCJ1aS1wcm9ncmVzc2Jhci1jb21wbGV0ZSI6InVpLWNvcm5lci1yaWdodCJ9LG1heDoxMDAsdmFsdWU6MCxjaGFuZ2U6bnVsbCxjb21wbGV0ZTpudWxsfSxtaW46MCxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vbGRWYWx1ZT10aGlzLm9wdGlvbnMudmFsdWU9dGhpcy5fY29uc3RyYWluZWRWYWx1ZSgpO3RoaXMuZWxlbWVudC5hdHRyKHtyb2xlOiJwcm9ncmVzc2JhciIsImFyaWEtdmFsdWVtaW4iOnRoaXMubWlufSk7dGhpcy5fYWRkQ2xhc3MoInVpLXByb2dyZXNzYmFyIiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50Iik7dGhpcy52YWx1ZURpdj1uKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCk7dGhpcy5fYWRkQ2xhc3ModGhpcy52YWx1ZURpdiwidWktcHJvZ3Jlc3NiYXItdmFsdWUiLCJ1aS13aWRnZXQtaGVhZGVyIik7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInJvbGUgYXJpYS12YWx1ZW1pbiBhcmlhLXZhbHVlbWF4IGFyaWEtdmFsdWVub3ciKTt0aGlzLnZhbHVlRGl2LnJlbW92ZSgpfSx2YWx1ZTpmdW5jdGlvbihuKXtyZXR1cm4gdm9pZCAwPT09bj90aGlzLm9wdGlvbnMudmFsdWU6KHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl9jb25zdHJhaW5lZFZhbHVlKG4pLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHZvaWQgMCl9LF9jb25zdHJhaW5lZFZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj10aGlzLm9wdGlvbnMudmFsdWUpLHRoaXMuaW5kZXRlcm1pbmF0ZT1uPT09ITEsIm51bWJlciIhPXR5cGVvZiBuJiYobj0wKSx0aGlzLmluZGV0ZXJtaW5hdGU/ITE6TWF0aC5taW4odGhpcy5vcHRpb25zLm1heCxNYXRoLm1heCh0aGlzLm1pbixuKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PW4udmFsdWU7ZGVsZXRlIG4udmFsdWU7dGhpcy5fc3VwZXIobik7dGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUodCk7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXsibWF4Ij09PW4mJih0PU1hdGgubWF4KHRoaXMubWluLHQpKTt0aGlzLl9zdXBlcihuLHQpfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5lbGVtZW50LmF0dHIoImFyaWEtZGlzYWJsZWQiLG4pO3RoaXMuX3RvZ2dsZUNsYXNzKG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIW4pfSxfcGVyY2VudGFnZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV0ZXJtaW5hdGU/MTAwOjEwMCoodGhpcy5vcHRpb25zLnZhbHVlLXRoaXMubWluKS8odGhpcy5vcHRpb25zLm1heC10aGlzLm1pbil9LF9yZWZyZXNoVmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMudmFsdWUsaT10aGlzLl9wZXJjZW50YWdlKCk7dGhpcy52YWx1ZURpdi50b2dnbGUodGhpcy5pbmRldGVybWluYXRlfHx0PnRoaXMubWluKS53aWR0aChpLnRvRml4ZWQoMCkrIiUiKTt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLnZhbHVlRGl2LCJ1aS1wcm9ncmVzc2Jhci1jb21wbGV0ZSIsbnVsbCx0PT09dGhpcy5vcHRpb25zLm1heCkuX3RvZ2dsZUNsYXNzKCJ1aS1wcm9ncmVzc2Jhci1pbmRldGVybWluYXRlIixudWxsLHRoaXMuaW5kZXRlcm1pbmF0ZSk7dGhpcy5pbmRldGVybWluYXRlPyh0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigiYXJpYS12YWx1ZW5vdyIpLHRoaXMub3ZlcmxheURpdnx8KHRoaXMub3ZlcmxheURpdj1uKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMudmFsdWVEaXYpLHRoaXMuX2FkZENsYXNzKHRoaXMub3ZlcmxheURpdiwidWktcHJvZ3Jlc3NiYXItb3ZlcmxheSIpKSk6KHRoaXMuZWxlbWVudC5hdHRyKHsiYXJpYS12YWx1ZW1heCI6dGhpcy5vcHRpb25zLm1heCwiYXJpYS12YWx1ZW5vdyI6dH0pLHRoaXMub3ZlcmxheURpdiYmKHRoaXMub3ZlcmxheURpdi5yZW1vdmUoKSx0aGlzLm92ZXJsYXlEaXY9bnVsbCkpO3RoaXMub2xkVmFsdWUhPT10JiYodGhpcy5vbGRWYWx1ZT10LHRoaXMuX3RyaWdnZXIoImNoYW5nZSIpKTt0PT09dGhpcy5vcHRpb25zLm1heCYmdGhpcy5fdHJpZ2dlcigiY29tcGxldGUiKX19KTtuLndpZGdldCgidWkuc2VsZWN0YWJsZSIsbi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMi4xIixvcHRpb25zOnthcHBlbmRUbzoiYm9keSIsYXV0b1JlZnJlc2g6ITAsZGlzdGFuY2U6MCxmaWx0ZXI6IioiLHRvbGVyYW5jZToidG91Y2giLHNlbGVjdGVkOm51bGwsc2VsZWN0aW5nOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGwsdW5zZWxlY3RlZDpudWxsLHVuc2VsZWN0aW5nOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX2FkZENsYXNzKCJ1aS1zZWxlY3RhYmxlIik7dGhpcy5kcmFnZ2VkPSExO3RoaXMucmVmcmVzaD1mdW5jdGlvbigpe3QuZWxlbWVudFBvcz1uKHQuZWxlbWVudFswXSkub2Zmc2V0KCk7dC5zZWxlY3RlZXM9bih0Lm9wdGlvbnMuZmlsdGVyLHQuZWxlbWVudFswXSk7dC5fYWRkQ2xhc3ModC5zZWxlY3RlZXMsInVpLXNlbGVjdGVlIik7dC5zZWxlY3RlZXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcyksdT1pLm9mZnNldCgpLHI9e2xlZnQ6dS5sZWZ0LXQuZWxlbWVudFBvcy5sZWZ0LHRvcDp1LnRvcC10LmVsZW1lbnRQb3MudG9wfTtuLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIix7ZWxlbWVudDp0aGlzLCRlbGVtZW50OmksbGVmdDpyLmxlZnQsdG9wOnIudG9wLHJpZ2h0OnIubGVmdCtpLm91dGVyV2lkdGgoKSxib3R0b206ci50b3AraS5vdXRlckhlaWdodCgpLHN0YXJ0c2VsZWN0ZWQ6ITEsc2VsZWN0ZWQ6aS5oYXNDbGFzcygidWktc2VsZWN0ZWQiKSxzZWxlY3Rpbmc6aS5oYXNDbGFzcygidWktc2VsZWN0aW5nIiksdW5zZWxlY3Rpbmc6aS5oYXNDbGFzcygidWktdW5zZWxlY3RpbmciKX0pfSl9O3RoaXMucmVmcmVzaCgpO3RoaXMuX21vdXNlSW5pdCgpO3RoaXMuaGVscGVyPW4oIjxkaXY+Iik7dGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsInVpLXNlbGVjdGFibGUtaGVscGVyIil9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZXMucmVtb3ZlRGF0YSgic2VsZWN0YWJsZS1pdGVtIik7dGhpcy5fbW91c2VEZXN0cm95KCl9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMscj10aGlzLm9wdGlvbnM7dGhpcy5vcG9zPVt0LnBhZ2VYLHQucGFnZVldO3RoaXMuZWxlbWVudFBvcz1uKHRoaXMuZWxlbWVudFswXSkub2Zmc2V0KCk7dGhpcy5vcHRpb25zLmRpc2FibGVkfHwodGhpcy5zZWxlY3RlZXM9bihyLmZpbHRlcix0aGlzLmVsZW1lbnRbMF0pLHRoaXMuX3RyaWdnZXIoInN0YXJ0Iix0KSxuKHIuYXBwZW5kVG8pLmFwcGVuZCh0aGlzLmhlbHBlciksdGhpcy5oZWxwZXIuY3NzKHtsZWZ0OnQucGFnZVgsdG9wOnQucGFnZVksd2lkdGg6MCxoZWlnaHQ6MH0pLHIuYXV0b1JlZnJlc2gmJnRoaXMucmVmcmVzaCgpLHRoaXMuc2VsZWN0ZWVzLmZpbHRlcigiLnVpLXNlbGVjdGVkIikuZWFjaChmdW5jdGlvbigpe3ZhciByPW4uZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTtyLnN0YXJ0c2VsZWN0ZWQ9ITA7dC5tZXRhS2V5fHx0LmN0cmxLZXl8fChpLl9yZW1vdmVDbGFzcyhyLiRlbGVtZW50LCJ1aS1zZWxlY3RlZCIpLHIuc2VsZWN0ZWQ9ITEsaS5fYWRkQ2xhc3Moci4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKSxyLnVuc2VsZWN0aW5nPSEwLGkuX3RyaWdnZXIoInVuc2VsZWN0aW5nIix0LHt1bnNlbGVjdGluZzpyLmVsZW1lbnR9KSl9KSxuKHQudGFyZ2V0KS5wYXJlbnRzKCkuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oKXt2YXIgdSxyPW4uZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTtpZihyKXJldHVybih1PSF0Lm1ldGFLZXkmJiF0LmN0cmxLZXl8fCFyLiRlbGVtZW50Lmhhc0NsYXNzKCJ1aS1zZWxlY3RlZCIpLGkuX3JlbW92ZUNsYXNzKHIuJGVsZW1lbnQsdT8idWktdW5zZWxlY3RpbmciOiJ1aS1zZWxlY3RlZCIpLl9hZGRDbGFzcyhyLiRlbGVtZW50LHU/InVpLXNlbGVjdGluZyI6InVpLXVuc2VsZWN0aW5nIiksci51bnNlbGVjdGluZz0hdSxyLnNlbGVjdGluZz11LHIuc2VsZWN0ZWQ9dSx1P2kuX3RyaWdnZXIoInNlbGVjdGluZyIsdCx7c2VsZWN0aW5nOnIuZWxlbWVudH0pOmkuX3RyaWdnZXIoInVuc2VsZWN0aW5nIix0LHt1bnNlbGVjdGluZzpyLmVsZW1lbnR9KSwhMSl9KSl9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7aWYodGhpcy5kcmFnZ2VkPSEwLCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpe3ZhciBvLGk9dGhpcyxzPXRoaXMub3B0aW9ucyxyPXRoaXMub3Bvc1swXSx1PXRoaXMub3Bvc1sxXSxmPXQucGFnZVgsZT10LnBhZ2VZO3JldHVybiByPmYmJihvPWYsZj1yLHI9byksdT5lJiYobz1lLGU9dSx1PW8pLHRoaXMuaGVscGVyLmNzcyh7bGVmdDpyLHRvcDp1LHdpZHRoOmYtcixoZWlnaHQ6ZS11fSksdGhpcy5zZWxlY3RlZXMuZWFjaChmdW5jdGlvbigpe3ZhciBvPW4uZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKSxjPSExLGg9e307byYmby5lbGVtZW50IT09aS5lbGVtZW50WzBdJiYoaC5sZWZ0PW8ubGVmdCtpLmVsZW1lbnRQb3MubGVmdCxoLnJpZ2h0PW8ucmlnaHQraS5lbGVtZW50UG9zLmxlZnQsaC50b3A9by50b3AraS5lbGVtZW50UG9zLnRvcCxoLmJvdHRvbT1vLmJvdHRvbStpLmVsZW1lbnRQb3MudG9wLCJ0b3VjaCI9PT1zLnRvbGVyYW5jZT9jPSEoaC5sZWZ0PmZ8fHI+aC5yaWdodHx8aC50b3A+ZXx8dT5oLmJvdHRvbSk6ImZpdCI9PT1zLnRvbGVyYW5jZSYmKGM9aC5sZWZ0PnImJmY+aC5yaWdodCYmaC50b3A+dSYmZT5oLmJvdHRvbSksYz8oby5zZWxlY3RlZCYmKGkuX3JlbW92ZUNsYXNzKG8uJGVsZW1lbnQsInVpLXNlbGVjdGVkIiksby5zZWxlY3RlZD0hMSksby51bnNlbGVjdGluZyYmKGkuX3JlbW92ZUNsYXNzKG8uJGVsZW1lbnQsInVpLXVuc2VsZWN0aW5nIiksby51bnNlbGVjdGluZz0hMSksby5zZWxlY3Rpbmd8fChpLl9hZGRDbGFzcyhvLiRlbGVtZW50LCJ1aS1zZWxlY3RpbmciKSxvLnNlbGVjdGluZz0hMCxpLl90cmlnZ2VyKCJzZWxlY3RpbmciLHQse3NlbGVjdGluZzpvLmVsZW1lbnR9KSkpOihvLnNlbGVjdGluZyYmKCh0Lm1ldGFLZXl8fHQuY3RybEtleSkmJm8uc3RhcnRzZWxlY3RlZD8oaS5fcmVtb3ZlQ2xhc3Moby4kZWxlbWVudCwidWktc2VsZWN0aW5nIiksby5zZWxlY3Rpbmc9ITEsaS5fYWRkQ2xhc3Moby4kZWxlbWVudCwidWktc2VsZWN0ZWQiKSxvLnNlbGVjdGVkPSEwKTooaS5fcmVtb3ZlQ2xhc3Moby4kZWxlbWVudCwidWktc2VsZWN0aW5nIiksby5zZWxlY3Rpbmc9ITEsby5zdGFydHNlbGVjdGVkJiYoaS5fYWRkQ2xhc3Moby4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKSxvLnVuc2VsZWN0aW5nPSEwKSxpLl90cmlnZ2VyKCJ1bnNlbGVjdGluZyIsdCx7dW5zZWxlY3Rpbmc6by5lbGVtZW50fSkpKSxvLnNlbGVjdGVkJiYodC5tZXRhS2V5fHx0LmN0cmxLZXl8fG8uc3RhcnRzZWxlY3RlZHx8KGkuX3JlbW92ZUNsYXNzKG8uJGVsZW1lbnQsInVpLXNlbGVjdGVkIiksby5zZWxlY3RlZD0hMSxpLl9hZGRDbGFzcyhvLiRlbGVtZW50LCJ1aS11bnNlbGVjdGluZyIpLG8udW5zZWxlY3Rpbmc9ITAsaS5fdHJpZ2dlcigidW5zZWxlY3RpbmciLHQse3Vuc2VsZWN0aW5nOm8uZWxlbWVudH0pKSkpKX0pLCExfX0sX21vdXNlU3RvcDpmdW5jdGlvbih0KXt2YXIgaT10aGlzO3JldHVybiB0aGlzLmRyYWdnZWQ9ITEsbigiLnVpLXVuc2VsZWN0aW5nIix0aGlzLmVsZW1lbnRbMF0pLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1uLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7aS5fcmVtb3ZlQ2xhc3Moci4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKTtyLnVuc2VsZWN0aW5nPSExO3Iuc3RhcnRzZWxlY3RlZD0hMTtpLl90cmlnZ2VyKCJ1bnNlbGVjdGVkIix0LHt1bnNlbGVjdGVkOnIuZWxlbWVudH0pfSksbigiLnVpLXNlbGVjdGluZyIsdGhpcy5lbGVtZW50WzBdKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9bi5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIpO2kuX3JlbW92ZUNsYXNzKHIuJGVsZW1lbnQsInVpLXNlbGVjdGluZyIpLl9hZGRDbGFzcyhyLiRlbGVtZW50LCJ1aS1zZWxlY3RlZCIpO3Iuc2VsZWN0aW5nPSExO3Iuc2VsZWN0ZWQ9ITA7ci5zdGFydHNlbGVjdGVkPSEwO2kuX3RyaWdnZXIoInNlbGVjdGVkIix0LHtzZWxlY3RlZDpyLmVsZW1lbnR9KX0pLHRoaXMuX3RyaWdnZXIoInN0b3AiLHQpLHRoaXMuaGVscGVyLnJlbW92ZSgpLCExfX0pO24ud2lkZ2V0KCJ1aS5zZWxlY3RtZW51Iixbbi51aS5mb3JtUmVzZXRNaXhpbix7dmVyc2lvbjoiMS4xMi4xIixkZWZhdWx0RWxlbWVudDoiPHNlbGVjdD4iLG9wdGlvbnM6e2FwcGVuZFRvOm51bGwsY2xhc3Nlczp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOiJ1aS1jb3JuZXItdG9wIiwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkIjoidWktY29ybmVyLWFsbCJ9LGRpc2FibGVkOm51bGwsaWNvbnM6e2J1dHRvbjoidWktaWNvbi10cmlhbmdsZS0xLXMifSxwb3NpdGlvbjp7bXk6ImxlZnQgdG9wIixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoibm9uZSJ9LHdpZHRoOiExLGNoYW5nZTpudWxsLGNsb3NlOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwsc2VsZWN0Om51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKCJpZCIpO3RoaXMuaWRzPXtlbGVtZW50OnQsYnV0dG9uOnQrIi1idXR0b24iLG1lbnU6dCsiLW1lbnUifTt0aGlzLl9kcmF3QnV0dG9uKCk7dGhpcy5fZHJhd01lbnUoKTt0aGlzLl9iaW5kRm9ybVJlc2V0SGFuZGxlcigpO3RoaXMuX3JlbmRlcmVkPSExO3RoaXMubWVudUl0ZW1zPW4oKX0sX2RyYXdCdXR0b246ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMscj10aGlzLl9wYXJzZU9wdGlvbih0aGlzLmVsZW1lbnQuZmluZCgib3B0aW9uOnNlbGVjdGVkIiksdGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpO3RoaXMubGFiZWxzPXRoaXMuZWxlbWVudC5sYWJlbHMoKS5hdHRyKCJmb3IiLHRoaXMuaWRzLmJ1dHRvbik7dGhpcy5fb24odGhpcy5sYWJlbHMse2NsaWNrOmZ1bmN0aW9uKG4pe3RoaXMuYnV0dG9uLmZvY3VzKCk7bi5wcmV2ZW50RGVmYXVsdCgpfX0pO3RoaXMuZWxlbWVudC5oaWRlKCk7dGhpcy5idXR0b249bigiPHNwYW4+Iix7dGFiaW5kZXg6dGhpcy5vcHRpb25zLmRpc2FibGVkPy0xOjAsaWQ6dGhpcy5pZHMuYnV0dG9uLHJvbGU6ImNvbWJvYm94IiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIiwiYXJpYS1hdXRvY29tcGxldGUiOiJsaXN0IiwiYXJpYS1vd25zIjp0aGlzLmlkcy5tZW51LCJhcmlhLWhhc3BvcHVwIjoidHJ1ZSIsdGl0bGU6dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIil9KS5pbnNlcnRBZnRlcih0aGlzLmVsZW1lbnQpO3RoaXMuX2FkZENsYXNzKHRoaXMuYnV0dG9uLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbiB1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiLCJ1aS1idXR0b24gdWktd2lkZ2V0Iik7dD1uKCI8c3Bhbj4iKS5hcHBlbmRUbyh0aGlzLmJ1dHRvbik7dGhpcy5fYWRkQ2xhc3ModCwidWktc2VsZWN0bWVudS1pY29uIiwidWktaWNvbiAiK3RoaXMub3B0aW9ucy5pY29ucy5idXR0b24pO3RoaXMuYnV0dG9uSXRlbT10aGlzLl9yZW5kZXJCdXR0b25JdGVtKHIpLmFwcGVuZFRvKHRoaXMuYnV0dG9uKTt0aGlzLm9wdGlvbnMud2lkdGghPT0hMSYmdGhpcy5fcmVzaXplQnV0dG9uKCk7dGhpcy5fb24odGhpcy5idXR0b24sdGhpcy5fYnV0dG9uRXZlbnRzKTt0aGlzLmJ1dHRvbi5vbmUoImZvY3VzaW4iLGZ1bmN0aW9uKCl7aS5fcmVuZGVyZWR8fGkuX3JlZnJlc2hNZW51KCl9KX0sX2RyYXdNZW51OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLm1lbnU9bigiPHVsPiIseyJhcmlhLWhpZGRlbiI6InRydWUiLCJhcmlhLWxhYmVsbGVkYnkiOnRoaXMuaWRzLmJ1dHRvbixpZDp0aGlzLmlkcy5tZW51fSk7dGhpcy5tZW51V3JhcD1uKCI8ZGl2PiIpLmFwcGVuZCh0aGlzLm1lbnUpO3RoaXMuX2FkZENsYXNzKHRoaXMubWVudVdyYXAsInVpLXNlbGVjdG1lbnUtbWVudSIsInVpLWZyb250Iik7dGhpcy5tZW51V3JhcC5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKTt0aGlzLm1lbnVJbnN0YW5jZT10aGlzLm1lbnUubWVudSh7Y2xhc3Nlczp7InVpLW1lbnUiOiJ1aS1jb3JuZXItYm90dG9tIn0scm9sZToibGlzdGJveCIsc2VsZWN0OmZ1bmN0aW9uKG4saSl7bi5wcmV2ZW50RGVmYXVsdCgpO3QuX3NldFNlbGVjdGlvbigpO3QuX3NlbGVjdChpLml0ZW0uZGF0YSgidWktc2VsZWN0bWVudS1pdGVtIiksbil9LGZvY3VzOmZ1bmN0aW9uKG4saSl7dmFyIHI9aS5pdGVtLmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIpO251bGwhPXQuZm9jdXNJbmRleCYmci5pbmRleCE9PXQuZm9jdXNJbmRleCYmKHQuX3RyaWdnZXIoImZvY3VzIixuLHtpdGVtOnJ9KSx0LmlzT3Blbnx8dC5fc2VsZWN0KHIsbikpO3QuZm9jdXNJbmRleD1yLmluZGV4O3QuYnV0dG9uLmF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIsdC5tZW51SXRlbXMuZXEoci5pbmRleCkuYXR0cigiaWQiKSl9fSkubWVudSgiaW5zdGFuY2UiKTt0aGlzLm1lbnVJbnN0YW5jZS5fb2ZmKHRoaXMubWVudSwibW91c2VsZWF2ZSIpO3RoaXMubWVudUluc3RhbmNlLl9jbG9zZU9uRG9jdW1lbnRDbGljaz1mdW5jdGlvbigpe3JldHVybiExfTt0aGlzLm1lbnVJbnN0YW5jZS5faXNEaXZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuITF9fSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaE1lbnUoKTt0aGlzLmJ1dHRvbkl0ZW0ucmVwbGFjZVdpdGgodGhpcy5idXR0b25JdGVtPXRoaXMuX3JlbmRlckJ1dHRvbkl0ZW0odGhpcy5fZ2V0U2VsZWN0ZWRJdGVtKCkuZGF0YSgidWktc2VsZWN0bWVudS1pdGVtIil8fHt9KSk7bnVsbD09PXRoaXMub3B0aW9ucy53aWR0aCYmdGhpcy5fcmVzaXplQnV0dG9uKCl9LF9yZWZyZXNoTWVudTpmdW5jdGlvbigpe3ZhciBuLHQ9dGhpcy5lbGVtZW50LmZpbmQoIm9wdGlvbiIpO3RoaXMubWVudS5lbXB0eSgpO3RoaXMuX3BhcnNlT3B0aW9ucyh0KTt0aGlzLl9yZW5kZXJNZW51KHRoaXMubWVudSx0aGlzLml0ZW1zKTt0aGlzLm1lbnVJbnN0YW5jZS5yZWZyZXNoKCk7dGhpcy5tZW51SXRlbXM9dGhpcy5tZW51LmZpbmQoImxpIikubm90KCIudWktc2VsZWN0bWVudS1vcHRncm91cCIpLmZpbmQoIi51aS1tZW51LWl0ZW0td3JhcHBlciIpO3RoaXMuX3JlbmRlcmVkPSEwO3QubGVuZ3RoJiYobj10aGlzLl9nZXRTZWxlY3RlZEl0ZW0oKSx0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyhudWxsLG4pLHRoaXMuX3NldEFyaWEobi5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iKSksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIikpKX0sb3BlbjpmdW5jdGlvbihuKXt0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fCh0aGlzLl9yZW5kZXJlZD8odGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5tZW51LmZpbmQoIi51aS1zdGF0ZS1hY3RpdmUiKSxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyhudWxsLHRoaXMuX2dldFNlbGVjdGVkSXRlbSgpKSk6dGhpcy5fcmVmcmVzaE1lbnUoKSx0aGlzLm1lbnVJdGVtcy5sZW5ndGgmJih0aGlzLmlzT3Blbj0hMCx0aGlzLl90b2dnbGVBdHRyKCksdGhpcy5fcmVzaXplTWVudSgpLHRoaXMuX3Bvc2l0aW9uKCksdGhpcy5fb24odGhpcy5kb2N1bWVudCx0aGlzLl9kb2N1bWVudENsaWNrKSx0aGlzLl90cmlnZ2VyKCJvcGVuIixuKSkpfSxfcG9zaXRpb246ZnVuY3Rpb24oKXt0aGlzLm1lbnVXcmFwLnBvc2l0aW9uKG4uZXh0ZW5kKHsib2YiOnRoaXMuYnV0dG9ufSx0aGlzLm9wdGlvbnMucG9zaXRpb24pKX0sY2xvc2U6ZnVuY3Rpb24obil7dGhpcy5pc09wZW4mJih0aGlzLmlzT3Blbj0hMSx0aGlzLl90b2dnbGVBdHRyKCksdGhpcy5yYW5nZT1udWxsLHRoaXMuX29mZih0aGlzLmRvY3VtZW50KSx0aGlzLl90cmlnZ2VyKCJjbG9zZSIsbikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idXR0b259LG1lbnVXaWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51fSxfcmVuZGVyQnV0dG9uSXRlbTpmdW5jdGlvbih0KXt2YXIgaT1uKCI8c3Bhbj4iKTtyZXR1cm4gdGhpcy5fc2V0VGV4dChpLHQubGFiZWwpLHRoaXMuX2FkZENsYXNzKGksInVpLXNlbGVjdG1lbnUtdGV4dCIpLGl9LF9yZW5kZXJNZW51OmZ1bmN0aW9uKHQsaSl7dmFyIHI9dGhpcyx1PSIiO24uZWFjaChpLGZ1bmN0aW9uKGksZil7dmFyIGU7Zi5vcHRncm91cCE9PXUmJihlPW4oIjxsaT4iLHt0ZXh0OmYub3B0Z3JvdXB9KSxyLl9hZGRDbGFzcyhlLCJ1aS1zZWxlY3RtZW51LW9wdGdyb3VwIiwidWktbWVudS1kaXZpZGVyIisoZi5lbGVtZW50LnBhcmVudCgib3B0Z3JvdXAiKS5wcm9wKCJkaXNhYmxlZCIpPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSksZS5hcHBlbmRUbyh0KSx1PWYub3B0Z3JvdXApO3IuX3JlbmRlckl0ZW1EYXRhKHQsZil9KX0sX3JlbmRlckl0ZW1EYXRhOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX3JlbmRlckl0ZW0obix0KS5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iLHQpfSxfcmVuZGVySXRlbTpmdW5jdGlvbih0LGkpe3ZhciByPW4oIjxsaT4iKSx1PW4oIjxkaXY+Iix7dGl0bGU6aS5lbGVtZW50LmF0dHIoInRpdGxlIil9KTtyZXR1cm4gaS5kaXNhYmxlZCYmdGhpcy5fYWRkQ2xhc3MocixudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHRoaXMuX3NldFRleHQodSxpLmxhYmVsKSxyLmFwcGVuZCh1KS5hcHBlbmRUbyh0KX0sX3NldFRleHQ6ZnVuY3Rpb24obix0KXt0P24udGV4dCh0KTpuLmh0bWwoIiYjMTYwOyIpfSxfbW92ZTpmdW5jdGlvbihuLHQpe3ZhciBpLHIsdT0iLnVpLW1lbnUtaXRlbSI7dGhpcy5pc09wZW4/aT10aGlzLm1lbnVJdGVtcy5lcSh0aGlzLmZvY3VzSW5kZXgpLnBhcmVudCgibGkiKTooaT10aGlzLm1lbnVJdGVtcy5lcSh0aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCkucGFyZW50KCJsaSIpLHUrPSI6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCkiKTtyPSJmaXJzdCI9PT1ufHwibGFzdCI9PT1uP2lbImZpcnN0Ij09PW4/InByZXZBbGwiOiJuZXh0QWxsIl0odSkuZXEoLTEpOmlbbisiQWxsIl0odSkuZXEoMCk7ci5sZW5ndGgmJnRoaXMubWVudUluc3RhbmNlLmZvY3VzKHQscil9LF9nZXRTZWxlY3RlZEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51SXRlbXMuZXEodGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLnBhcmVudCgibGkiKX0sX3RvZ2dsZTpmdW5jdGlvbihuKXt0aGlzW3RoaXMuaXNPcGVuPyJjbG9zZSI6Im9wZW4iXShuKX0sX3NldFNlbGVjdGlvbjpmdW5jdGlvbigpe3ZhciBuO3RoaXMucmFuZ2UmJih3aW5kb3cuZ2V0U2VsZWN0aW9uPyhuPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxuLnJlbW92ZUFsbFJhbmdlcygpLG4uYWRkUmFuZ2UodGhpcy5yYW5nZSkpOnRoaXMucmFuZ2Uuc2VsZWN0KCksdGhpcy5idXR0b24uZm9jdXMoKSl9LF9kb2N1bWVudENsaWNrOnttb3VzZWRvd246ZnVuY3Rpb24odCl7dGhpcy5pc09wZW4mJihuKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktc2VsZWN0bWVudS1tZW51LCAjIituLnVpLmVzY2FwZVNlbGVjdG9yKHRoaXMuaWRzLmJ1dHRvbikpLmxlbmd0aHx8dGhpcy5jbG9zZSh0KSl9fSxfYnV0dG9uRXZlbnRzOnttb3VzZWRvd246ZnVuY3Rpb24oKXt2YXIgbjt3aW5kb3cuZ2V0U2VsZWN0aW9uPyhuPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxuLnJhbmdlQ291bnQmJih0aGlzLnJhbmdlPW4uZ2V0UmFuZ2VBdCgwKSkpOnRoaXMucmFuZ2U9ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCl9LGNsaWNrOmZ1bmN0aW9uKG4pe3RoaXMuX3NldFNlbGVjdGlvbigpO3RoaXMuX3RvZ2dsZShuKX0sa2V5ZG93bjpmdW5jdGlvbih0KXt2YXIgaT0hMDtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5UQUI6Y2FzZSBuLnVpLmtleUNvZGUuRVNDQVBFOnRoaXMuY2xvc2UodCk7aT0hMTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FTlRFUjp0aGlzLmlzT3BlbiYmdGhpcy5fc2VsZWN0Rm9jdXNlZEl0ZW0odCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuVVA6dC5hbHRLZXk/dGhpcy5fdG9nZ2xlKHQpOnRoaXMuX21vdmUoInByZXYiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkRPV046dC5hbHRLZXk/dGhpcy5fdG9nZ2xlKHQpOnRoaXMuX21vdmUoIm5leHQiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlNQQUNFOnRoaXMuaXNPcGVuP3RoaXMuX3NlbGVjdEZvY3VzZWRJdGVtKHQpOnRoaXMuX3RvZ2dsZSh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5MRUZUOnRoaXMuX21vdmUoInByZXYiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlJJR0hUOnRoaXMuX21vdmUoIm5leHQiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkhPTUU6Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9VUDp0aGlzLl9tb3ZlKCJmaXJzdCIsdCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRU5EOmNhc2Ugbi51aS5rZXlDb2RlLlBBR0VfRE9XTjp0aGlzLl9tb3ZlKCJsYXN0Iix0KTticmVhaztkZWZhdWx0OnRoaXMubWVudS50cmlnZ2VyKHQpO2k9ITF9aSYmdC5wcmV2ZW50RGVmYXVsdCgpfX0sX3NlbGVjdEZvY3VzZWRJdGVtOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMubWVudUl0ZW1zLmVxKHRoaXMuZm9jdXNJbmRleCkucGFyZW50KCJsaSIpO3QuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil8fHRoaXMuX3NlbGVjdCh0LmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIpLG4pfSxfc2VsZWN0OmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg7dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg9bi5pbmRleDt0aGlzLmJ1dHRvbkl0ZW0ucmVwbGFjZVdpdGgodGhpcy5idXR0b25JdGVtPXRoaXMuX3JlbmRlckJ1dHRvbkl0ZW0obikpO3RoaXMuX3NldEFyaWEobik7dGhpcy5fdHJpZ2dlcigic2VsZWN0Iix0LHtpdGVtOm59KTtuLmluZGV4IT09aSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0LHtpdGVtOm59KTt0aGlzLmNsb3NlKHQpfSxfc2V0QXJpYTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLm1lbnVJdGVtcy5lcShuLmluZGV4KS5hdHRyKCJpZCIpO3RoaXMuYnV0dG9uLmF0dHIoeyJhcmlhLWxhYmVsbGVkYnkiOnQsImFyaWEtYWN0aXZlZGVzY2VuZGFudCI6dH0pO3RoaXMubWVudS5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLHQpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7aWYoImljb25zIj09PW4pe3ZhciBpPXRoaXMuYnV0dG9uLmZpbmQoInNwYW4udWktaWNvbiIpO3RoaXMuX3JlbW92ZUNsYXNzKGksbnVsbCx0aGlzLm9wdGlvbnMuaWNvbnMuYnV0dG9uKS5fYWRkQ2xhc3MoaSxudWxsLHQuYnV0dG9uKX10aGlzLl9zdXBlcihuLHQpOyJhcHBlbmRUbyI9PT1uJiZ0aGlzLm1lbnVXcmFwLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpOyJ3aWR0aCI9PT1uJiZ0aGlzLl9yZXNpemVCdXR0b24oKX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKG4pe3RoaXMuX3N1cGVyKG4pO3RoaXMubWVudUluc3RhbmNlLm9wdGlvbigiZGlzYWJsZWQiLG4pO3RoaXMuYnV0dG9uLmF0dHIoImFyaWEtZGlzYWJsZWQiLG4pO3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMuYnV0dG9uLG51bGwsInVpLXN0YXRlLWRpc2FibGVkIixuKTt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLG4pO24/KHRoaXMuYnV0dG9uLmF0dHIoInRhYmluZGV4IiwtMSksdGhpcy5jbG9zZSgpKTp0aGlzLmJ1dHRvbi5hdHRyKCJ0YWJpbmRleCIsMCl9LF9hcHBlbmRUbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hcHBlbmRUbztyZXR1cm4gdCYmKHQ9dC5qcXVlcnl8fHQubm9kZVR5cGU/bih0KTp0aGlzLmRvY3VtZW50LmZpbmQodCkuZXEoMCkpLHQmJnRbMF18fCh0PXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktZnJvbnQsIGRpYWxvZyIpKSx0Lmxlbmd0aHx8KHQ9dGhpcy5kb2N1bWVudFswXS5ib2R5KSx0fSxfdG9nZ2xlQXR0cjpmdW5jdGlvbigpe3RoaXMuYnV0dG9uLmF0dHIoImFyaWEtZXhwYW5kZWQiLHRoaXMuaXNPcGVuKTt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmJ1dHRvbiwidWktc2VsZWN0bWVudS1idXR0b24tIisodGhpcy5pc09wZW4/ImNsb3NlZCI6Im9wZW4iKSkuX2FkZENsYXNzKHRoaXMuYnV0dG9uLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi0iKyh0aGlzLmlzT3Blbj8ib3BlbiI6ImNsb3NlZCIpKS5fdG9nZ2xlQ2xhc3ModGhpcy5tZW51V3JhcCwidWktc2VsZWN0bWVudS1vcGVuIixudWxsLHRoaXMuaXNPcGVuKTt0aGlzLm1lbnUuYXR0cigiYXJpYS1oaWRkZW4iLCF0aGlzLmlzT3Blbil9LF9yZXNpemVCdXR0b246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnMud2lkdGg7cmV0dXJuIG49PT0hMT8odGhpcy5idXR0b24uY3NzKCJ3aWR0aCIsIiIpLHZvaWQgMCk6KG51bGw9PT1uJiYobj10aGlzLmVsZW1lbnQuc2hvdygpLm91dGVyV2lkdGgoKSx0aGlzLmVsZW1lbnQuaGlkZSgpKSx0aGlzLmJ1dHRvbi5vdXRlcldpZHRoKG4pLHZvaWQgMCl9LF9yZXNpemVNZW51OmZ1bmN0aW9uKCl7dGhpcy5tZW51Lm91dGVyV2lkdGgoTWF0aC5tYXgodGhpcy5idXR0b24ub3V0ZXJXaWR0aCgpLHRoaXMubWVudS53aWR0aCgiIikub3V0ZXJXaWR0aCgpKzEpKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9zdXBlcigpO3JldHVybiBuLmRpc2FibGVkPXRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIpLG59LF9wYXJzZU9wdGlvbnM6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxpPVtdO3QuZWFjaChmdW5jdGlvbih0LHUpe2kucHVzaChyLl9wYXJzZU9wdGlvbihuKHUpLHQpKX0pO3RoaXMuaXRlbXM9aX0sX3BhcnNlT3B0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIGk9bi5wYXJlbnQoIm9wdGdyb3VwIik7cmV0dXJue2VsZW1lbnQ6bixpbmRleDp0LHZhbHVlOm4udmFsKCksbGFiZWw6bi50ZXh0KCksb3B0Z3JvdXA6aS5hdHRyKCJsYWJlbCIpfHwiIixkaXNhYmxlZDppLnByb3AoImRpc2FibGVkIil8fG4ucHJvcCgiZGlzYWJsZWQiKX19LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fdW5iaW5kRm9ybVJlc2V0SGFuZGxlcigpO3RoaXMubWVudVdyYXAucmVtb3ZlKCk7dGhpcy5idXR0b24ucmVtb3ZlKCk7dGhpcy5lbGVtZW50LnNob3coKTt0aGlzLmVsZW1lbnQucmVtb3ZlVW5pcXVlSWQoKTt0aGlzLmxhYmVscy5hdHRyKCJmb3IiLHRoaXMuaWRzLmVsZW1lbnQpfX1dKTtuLndpZGdldCgidWkuc2xpZGVyIixuLnVpLm1vdXNlLHt2ZXJzaW9uOiIxLjEyLjEiLHdpZGdldEV2ZW50UHJlZml4OiJzbGlkZSIsb3B0aW9uczp7YW5pbWF0ZTohMSxjbGFzc2VzOnsidWktc2xpZGVyIjoidWktY29ybmVyLWFsbCIsInVpLXNsaWRlci1oYW5kbGUiOiJ1aS1jb3JuZXItYWxsIiwidWktc2xpZGVyLXJhbmdlIjoidWktY29ybmVyLWFsbCB1aS13aWRnZXQtaGVhZGVyIn0sZGlzdGFuY2U6MCxtYXg6MTAwLG1pbjowLG9yaWVudGF0aW9uOiJob3Jpem9udGFsIixyYW5nZTohMSxzdGVwOjEsdmFsdWU6MCx2YWx1ZXM6bnVsbCxjaGFuZ2U6bnVsbCxzbGlkZTpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxudW1QYWdlczo1LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9rZXlTbGlkaW5nPSExO3RoaXMuX21vdXNlU2xpZGluZz0hMTt0aGlzLl9hbmltYXRlT2ZmPSEwO3RoaXMuX2hhbmRsZUluZGV4PW51bGw7dGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKTt0aGlzLl9tb3VzZUluaXQoKTt0aGlzLl9jYWxjdWxhdGVOZXdNYXgoKTt0aGlzLl9hZGRDbGFzcygidWktc2xpZGVyIHVpLXNsaWRlci0iK3RoaXMub3JpZW50YXRpb24sInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpO3RoaXMuX3JlZnJlc2goKTt0aGlzLl9hbmltYXRlT2ZmPSExfSxfcmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX2NyZWF0ZVJhbmdlKCk7dGhpcy5fY3JlYXRlSGFuZGxlcygpO3RoaXMuX3NldHVwRXZlbnRzKCk7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9jcmVhdGVIYW5kbGVzOmZ1bmN0aW9uKCl7dmFyIHIsaSx1PXRoaXMub3B0aW9ucyx0PXRoaXMuZWxlbWVudC5maW5kKCIudWktc2xpZGVyLWhhbmRsZSIpLGY9W107Zm9yKGk9dS52YWx1ZXMmJnUudmFsdWVzLmxlbmd0aHx8MSx0Lmxlbmd0aD5pJiYodC5zbGljZShpKS5yZW1vdmUoKSx0PXQuc2xpY2UoMCxpKSkscj10Lmxlbmd0aDtpPnI7cisrKWYucHVzaCgiPHNwYW4gdGFiaW5kZXg9JzAnPjxcL3NwYW4+Iik7dGhpcy5oYW5kbGVzPXQuYWRkKG4oZi5qb2luKCIiKSkuYXBwZW5kVG8odGhpcy5lbGVtZW50KSk7dGhpcy5fYWRkQ2xhc3ModGhpcy5oYW5kbGVzLCJ1aS1zbGlkZXItaGFuZGxlIiwidWktc3RhdGUtZGVmYXVsdCIpO3RoaXMuaGFuZGxlPXRoaXMuaGFuZGxlcy5lcSgwKTt0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbih0KXtuKHRoaXMpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiLHQpLmF0dHIoInRhYkluZGV4IiwwKX0pfSxfY3JlYXRlUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7dC5yYW5nZT8odC5yYW5nZT09PSEwJiYodC52YWx1ZXM/dC52YWx1ZXMubGVuZ3RoJiYyIT09dC52YWx1ZXMubGVuZ3RoP3QudmFsdWVzPVt0LnZhbHVlc1swXSx0LnZhbHVlc1swXV06bi5pc0FycmF5KHQudmFsdWVzKSYmKHQudmFsdWVzPXQudmFsdWVzLnNsaWNlKDApKTp0LnZhbHVlcz1bdGhpcy5fdmFsdWVNaW4oKSx0aGlzLl92YWx1ZU1pbigpXSksdGhpcy5yYW5nZSYmdGhpcy5yYW5nZS5sZW5ndGg/KHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMucmFuZ2UsInVpLXNsaWRlci1yYW5nZS1taW4gdWktc2xpZGVyLXJhbmdlLW1heCIpLHRoaXMucmFuZ2UuY3NzKHtsZWZ0OiIiLGJvdHRvbToiIn0pKToodGhpcy5yYW5nZT1uKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCksdGhpcy5fYWRkQ2xhc3ModGhpcy5yYW5nZSwidWktc2xpZGVyLXJhbmdlIikpLCgibWluIj09PXQucmFuZ2V8fCJtYXgiPT09dC5yYW5nZSkmJnRoaXMuX2FkZENsYXNzKHRoaXMucmFuZ2UsInVpLXNsaWRlci1yYW5nZS0iK3QucmFuZ2UpKToodGhpcy5yYW5nZSYmdGhpcy5yYW5nZS5yZW1vdmUoKSx0aGlzLnJhbmdlPW51bGwpfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vZmYodGhpcy5oYW5kbGVzKTt0aGlzLl9vbih0aGlzLmhhbmRsZXMsdGhpcy5faGFuZGxlRXZlbnRzKTt0aGlzLl9ob3ZlcmFibGUodGhpcy5oYW5kbGVzKTt0aGlzLl9mb2N1c2FibGUodGhpcy5oYW5kbGVzKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXMucmVtb3ZlKCk7dGhpcy5yYW5nZSYmdGhpcy5yYW5nZS5yZW1vdmUoKTt0aGlzLl9tb3VzZURlc3Ryb3koKX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbih0KXt2YXIgcyxmLHIsaSx1LGgsZSxjLG89dGhpcyxsPXRoaXMub3B0aW9ucztyZXR1cm4gbC5kaXNhYmxlZD8hMToodGhpcy5lbGVtZW50U2l6ZT17d2lkdGg6dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCl9LHRoaXMuZWxlbWVudE9mZnNldD10aGlzLmVsZW1lbnQub2Zmc2V0KCkscz17eDp0LnBhZ2VYLHk6dC5wYWdlWX0sZj10aGlzLl9ub3JtVmFsdWVGcm9tTW91c2Uocykscj10aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCkrMSx0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbih0KXt2YXIgZT1NYXRoLmFicyhmLW8udmFsdWVzKHQpKTsocj5lfHxyPT09ZSYmKHQ9PT1vLl9sYXN0Q2hhbmdlZFZhbHVlfHxvLnZhbHVlcyh0KT09PWwubWluKSkmJihyPWUsaT1uKHRoaXMpLHU9dCl9KSxoPXRoaXMuX3N0YXJ0KHQsdSksaD09PSExPyExOih0aGlzLl9tb3VzZVNsaWRpbmc9ITAsdGhpcy5faGFuZGxlSW5kZXg9dSx0aGlzLl9hZGRDbGFzcyhpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLGkudHJpZ2dlcigiZm9jdXMiKSxlPWkub2Zmc2V0KCksYz0hbih0LnRhcmdldCkucGFyZW50cygpLmFkZEJhY2soKS5pcygiLnVpLXNsaWRlci1oYW5kbGUiKSx0aGlzLl9jbGlja09mZnNldD1jP3tsZWZ0OjAsdG9wOjB9OntsZWZ0OnQucGFnZVgtZS5sZWZ0LWkud2lkdGgoKS8yLHRvcDp0LnBhZ2VZLWUudG9wLWkuaGVpZ2h0KCkvMi0ocGFyc2VJbnQoaS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQoaS5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQoaS5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MCl9LHRoaXMuaGFuZGxlcy5oYXNDbGFzcygidWktc3RhdGUtaG92ZXIiKXx8dGhpcy5fc2xpZGUodCx1LGYpLHRoaXMuX2FuaW1hdGVPZmY9ITAsITApKX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sX21vdXNlRHJhZzpmdW5jdGlvbihuKXt2YXIgdD17eDpuLnBhZ2VYLHk6bi5wYWdlWX0saT10aGlzLl9ub3JtVmFsdWVGcm9tTW91c2UodCk7cmV0dXJuIHRoaXMuX3NsaWRlKG4sdGhpcy5faGFuZGxlSW5kZXgsaSksITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaGFuZGxlcyxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLl9tb3VzZVNsaWRpbmc9ITEsdGhpcy5fc3RvcChuLHRoaXMuX2hhbmRsZUluZGV4KSx0aGlzLl9jaGFuZ2Uobix0aGlzLl9oYW5kbGVJbmRleCksdGhpcy5faGFuZGxlSW5kZXg9bnVsbCx0aGlzLl9jbGlja09mZnNldD1udWxsLHRoaXMuX2FuaW1hdGVPZmY9ITEsITF9LF9kZXRlY3RPcmllbnRhdGlvbjpmdW5jdGlvbigpe3RoaXMub3JpZW50YXRpb249InZlcnRpY2FsIj09PXRoaXMub3B0aW9ucy5vcmllbnRhdGlvbj8idmVydGljYWwiOiJob3Jpem9udGFsIn0sX25vcm1WYWx1ZUZyb21Nb3VzZTpmdW5jdGlvbihuKXt2YXIgaSxyLHQsdSxmO3JldHVybiJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24/KGk9dGhpcy5lbGVtZW50U2l6ZS53aWR0aCxyPW4ueC10aGlzLmVsZW1lbnRPZmZzZXQubGVmdC0odGhpcy5fY2xpY2tPZmZzZXQ/dGhpcy5fY2xpY2tPZmZzZXQubGVmdDowKSk6KGk9dGhpcy5lbGVtZW50U2l6ZS5oZWlnaHQscj1uLnktdGhpcy5lbGVtZW50T2Zmc2V0LnRvcC0odGhpcy5fY2xpY2tPZmZzZXQ/dGhpcy5fY2xpY2tPZmZzZXQudG9wOjApKSx0PXIvaSx0PjEmJih0PTEpLDA+dCYmKHQ9MCksInZlcnRpY2FsIj09PXRoaXMub3JpZW50YXRpb24mJih0PTEtdCksdT10aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCksZj10aGlzLl92YWx1ZU1pbigpK3QqdSx0aGlzLl90cmltQWxpZ25WYWx1ZShmKX0sX3VpSGFzaDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9e2hhbmRsZTp0aGlzLmhhbmRsZXNbbl0saGFuZGxlSW5kZXg6bix2YWx1ZTp2b2lkIDAhPT10P3Q6dGhpcy52YWx1ZSgpfTtyZXR1cm4gdGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSYmKHIudmFsdWU9dm9pZCAwIT09dD90OnRoaXMudmFsdWVzKG4pLHIudmFsdWVzPWl8fHRoaXMudmFsdWVzKCkpLHJ9LF9oYXNNdWx0aXBsZVZhbHVlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMudmFsdWVzJiZ0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aH0sX3N0YXJ0OmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoInN0YXJ0IixuLHRoaXMuX3VpSGFzaCh0KSl9LF9zbGlkZTpmdW5jdGlvbihuLHQsaSl7dmFyIHUscixmPXRoaXMudmFsdWUoKSxlPXRoaXMudmFsdWVzKCk7dGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSYmKHI9dGhpcy52YWx1ZXModD8wOjEpLGY9dGhpcy52YWx1ZXModCksMj09PXRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoJiZ0aGlzLm9wdGlvbnMucmFuZ2U9PT0hMCYmKGk9MD09PXQ/TWF0aC5taW4ocixpKTpNYXRoLm1heChyLGkpKSxlW3RdPWkpO2khPT1mJiYodT10aGlzLl90cmlnZ2VyKCJzbGlkZSIsbix0aGlzLl91aUhhc2godCxpLGUpKSx1IT09ITEmJih0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpP3RoaXMudmFsdWVzKHQsaSk6dGhpcy52YWx1ZShpKSkpfSxfc3RvcDpmdW5jdGlvbihuLHQpe3RoaXMuX3RyaWdnZXIoInN0b3AiLG4sdGhpcy5fdWlIYXNoKHQpKX0sX2NoYW5nZTpmdW5jdGlvbihuLHQpe3RoaXMuX2tleVNsaWRpbmd8fHRoaXMuX21vdXNlU2xpZGluZ3x8KHRoaXMuX2xhc3RDaGFuZ2VkVmFsdWU9dCx0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLG4sdGhpcy5fdWlIYXNoKHQpKSl9LHZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLm9wdGlvbnMudmFsdWU9dGhpcy5fdHJpbUFsaWduVmFsdWUobiksdGhpcy5fcmVmcmVzaFZhbHVlKCksdGhpcy5fY2hhbmdlKG51bGwsMCksdm9pZCAwKTp0aGlzLl92YWx1ZSgpfSx2YWx1ZXM6ZnVuY3Rpb24odCxpKXt2YXIgdSxmLHI7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXJldHVybiB0aGlzLm9wdGlvbnMudmFsdWVzW3RdPXRoaXMuX3RyaW1BbGlnblZhbHVlKGkpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHRoaXMuX2NoYW5nZShudWxsLHQpLHZvaWQgMDtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fdmFsdWVzKCk7aWYoIW4uaXNBcnJheShhcmd1bWVudHNbMF0pKXJldHVybiB0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpP3RoaXMuX3ZhbHVlcyh0KTp0aGlzLnZhbHVlKCk7Zm9yKHU9dGhpcy5vcHRpb25zLnZhbHVlcyxmPWFyZ3VtZW50c1swXSxyPTA7dS5sZW5ndGg+cjtyKz0xKXVbcl09dGhpcy5fdHJpbUFsaWduVmFsdWUoZltyXSksdGhpcy5fY2hhbmdlKG51bGwscik7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxpKXt2YXIgcix1PTA7c3dpdGNoKCJyYW5nZSI9PT10JiZ0aGlzLm9wdGlvbnMucmFuZ2U9PT0hMCYmKCJtaW4iPT09aT8odGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX3ZhbHVlcygwKSx0aGlzLm9wdGlvbnMudmFsdWVzPW51bGwpOiJtYXgiPT09aSYmKHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl92YWx1ZXModGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgtMSksdGhpcy5vcHRpb25zLnZhbHVlcz1udWxsKSksbi5pc0FycmF5KHRoaXMub3B0aW9ucy52YWx1ZXMpJiYodT10aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCksdGhpcy5fc3VwZXIodCxpKSx0KXtjYXNlIm9yaWVudGF0aW9uIjp0aGlzLl9kZXRlY3RPcmllbnRhdGlvbigpO3RoaXMuX3JlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaG9yaXpvbnRhbCB1aS1zbGlkZXItdmVydGljYWwiKS5fYWRkQ2xhc3MoInVpLXNsaWRlci0iK3RoaXMub3JpZW50YXRpb24pO3RoaXMuX3JlZnJlc2hWYWx1ZSgpO3RoaXMub3B0aW9ucy5yYW5nZSYmdGhpcy5fcmVmcmVzaFJhbmdlKGkpO3RoaXMuaGFuZGxlcy5jc3MoImhvcml6b250YWwiPT09aT8iYm90dG9tIjoibGVmdCIsIiIpO2JyZWFrO2Nhc2UidmFsdWUiOnRoaXMuX2FuaW1hdGVPZmY9ITA7dGhpcy5fcmVmcmVzaFZhbHVlKCk7dGhpcy5fY2hhbmdlKG51bGwsMCk7dGhpcy5fYW5pbWF0ZU9mZj0hMTticmVhaztjYXNlInZhbHVlcyI6Zm9yKHRoaXMuX2FuaW1hdGVPZmY9ITAsdGhpcy5fcmVmcmVzaFZhbHVlKCkscj11LTE7cj49MDtyLS0pdGhpcy5fY2hhbmdlKG51bGwscik7dGhpcy5fYW5pbWF0ZU9mZj0hMTticmVhaztjYXNlInN0ZXAiOmNhc2UibWluIjpjYXNlIm1heCI6dGhpcy5fYW5pbWF0ZU9mZj0hMDt0aGlzLl9jYWxjdWxhdGVOZXdNYXgoKTt0aGlzLl9yZWZyZXNoVmFsdWUoKTt0aGlzLl9hbmltYXRlT2ZmPSExO2JyZWFrO2Nhc2UicmFuZ2UiOnRoaXMuX2FuaW1hdGVPZmY9ITA7dGhpcy5fcmVmcmVzaCgpO3RoaXMuX2FuaW1hdGVPZmY9ITF9fSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhbil9LF92YWx1ZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3B0aW9ucy52YWx1ZTtyZXR1cm4gdGhpcy5fdHJpbUFsaWduVmFsdWUobil9LF92YWx1ZXM6ZnVuY3Rpb24obil7dmFyIHIsdCxpO2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHI9dGhpcy5vcHRpb25zLnZhbHVlc1tuXSxyPXRoaXMuX3RyaW1BbGlnblZhbHVlKHIpO2lmKHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkpe2Zvcih0PXRoaXMub3B0aW9ucy52YWx1ZXMuc2xpY2UoKSxpPTA7dC5sZW5ndGg+aTtpKz0xKXRbaV09dGhpcy5fdHJpbUFsaWduVmFsdWUodFtpXSk7cmV0dXJuIHR9cmV0dXJuW119LF90cmltQWxpZ25WYWx1ZTpmdW5jdGlvbihuKXtpZih0aGlzLl92YWx1ZU1pbigpPj1uKXJldHVybiB0aGlzLl92YWx1ZU1pbigpO2lmKG4+PXRoaXMuX3ZhbHVlTWF4KCkpcmV0dXJuIHRoaXMuX3ZhbHVlTWF4KCk7dmFyIHQ9dGhpcy5vcHRpb25zLnN0ZXA+MD90aGlzLm9wdGlvbnMuc3RlcDoxLGk9KG4tdGhpcy5fdmFsdWVNaW4oKSkldCxyPW4taTtyZXR1cm4gMipNYXRoLmFicyhpKT49dCYmKHIrPWk+MD90Oi10KSxwYXJzZUZsb2F0KHIudG9GaXhlZCg1KSl9LF9jYWxjdWxhdGVOZXdNYXg6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnMubWF4LGk9dGhpcy5fdmFsdWVNaW4oKSx0PXRoaXMub3B0aW9ucy5zdGVwLHI9TWF0aC5yb3VuZCgobi1pKS90KSp0O249citpO24+dGhpcy5vcHRpb25zLm1heCYmKG4tPXQpO3RoaXMubWF4PXBhcnNlRmxvYXQobi50b0ZpeGVkKHRoaXMuX3ByZWNpc2lvbigpKSl9LF9wcmVjaXNpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9wcmVjaXNpb25PZih0aGlzLm9wdGlvbnMuc3RlcCk7cmV0dXJuIG51bGwhPT10aGlzLm9wdGlvbnMubWluJiYobj1NYXRoLm1heChuLHRoaXMuX3ByZWNpc2lvbk9mKHRoaXMub3B0aW9ucy5taW4pKSksbn0sX3ByZWNpc2lvbk9mOmZ1bmN0aW9uKG4pe3ZhciB0PSIiK24saT10LmluZGV4T2YoIi4iKTtyZXR1cm4tMT09PWk/MDp0Lmxlbmd0aC1pLTF9LF92YWx1ZU1pbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubWlufSxfdmFsdWVNYXg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXh9LF9yZWZyZXNoUmFuZ2U6ZnVuY3Rpb24obil7InZlcnRpY2FsIj09PW4mJnRoaXMucmFuZ2UuY3NzKHt3aWR0aDoiIixsZWZ0OiIifSk7Imhvcml6b250YWwiPT09biYmdGhpcy5yYW5nZS5jc3Moe2hlaWdodDoiIixib3R0b206IiJ9KX0sX3JlZnJlc2hWYWx1ZTpmdW5jdGlvbigpe3ZhciBzLHQsYyxmLGgsZT10aGlzLm9wdGlvbnMucmFuZ2UsaT10aGlzLm9wdGlvbnMscj10aGlzLHU9dGhpcy5fYW5pbWF0ZU9mZj8hMTppLmFuaW1hdGUsbz17fTt0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpP3RoaXMuaGFuZGxlcy5lYWNoKGZ1bmN0aW9uKGYpe3Q9MTAwKigoci52YWx1ZXMoZiktci5fdmFsdWVNaW4oKSkvKHIuX3ZhbHVlTWF4KCktci5fdmFsdWVNaW4oKSkpO29bImhvcml6b250YWwiPT09ci5vcmllbnRhdGlvbj8ibGVmdCI6ImJvdHRvbSJdPXQrIiUiO24odGhpcykuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXShvLGkuYW5pbWF0ZSk7ci5vcHRpb25zLnJhbmdlPT09ITAmJigiaG9yaXpvbnRhbCI9PT1yLm9yaWVudGF0aW9uPygwPT09ZiYmci5yYW5nZS5zdG9wKDEsMSlbdT8iYW5pbWF0ZSI6ImNzcyJdKHtsZWZ0OnQrIiUifSxpLmFuaW1hdGUpLDE9PT1mJiZyLnJhbmdlW3U/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6dC1zKyIlIn0se3F1ZXVlOiExLGR1cmF0aW9uOmkuYW5pbWF0ZX0pKTooMD09PWYmJnIucmFuZ2Uuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXSh7Ym90dG9tOnQrIiUifSxpLmFuaW1hdGUpLDE9PT1mJiZyLnJhbmdlW3U/ImFuaW1hdGUiOiJjc3MiXSh7aGVpZ2h0OnQtcysiJSJ9LHtxdWV1ZTohMSxkdXJhdGlvbjppLmFuaW1hdGV9KSkpO3M9dH0pOihjPXRoaXMudmFsdWUoKSxmPXRoaXMuX3ZhbHVlTWluKCksaD10aGlzLl92YWx1ZU1heCgpLHQ9aCE9PWY/MTAwKigoYy1mKS8oaC1mKSk6MCxvWyJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24/ImxlZnQiOiJib3R0b20iXT10KyIlIix0aGlzLmhhbmRsZS5zdG9wKDEsMSlbdT8iYW5pbWF0ZSI6ImNzcyJdKG8saS5hbmltYXRlKSwibWluIj09PWUmJiJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24mJnRoaXMucmFuZ2Uuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6dCsiJSJ9LGkuYW5pbWF0ZSksIm1heCI9PT1lJiYiaG9yaXpvbnRhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0oe3dpZHRoOjEwMC10KyIlIn0saS5hbmltYXRlKSwibWluIj09PWUmJiJ2ZXJ0aWNhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDp0KyIlIn0saS5hbmltYXRlKSwibWF4Ij09PWUmJiJ2ZXJ0aWNhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDoxMDAtdCsiJSJ9LGkuYW5pbWF0ZSkpfSxfaGFuZGxlRXZlbnRzOntrZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciBlLHIsaSx1LGY9bih0LnRhcmdldCkuZGF0YSgidWktc2xpZGVyLWhhbmRsZS1pbmRleCIpO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2Ugbi51aS5rZXlDb2RlLkhPTUU6Y2FzZSBuLnVpLmtleUNvZGUuRU5EOmNhc2Ugbi51aS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9ET1dOOmNhc2Ugbi51aS5rZXlDb2RlLlVQOmNhc2Ugbi51aS5rZXlDb2RlLlJJR0hUOmNhc2Ugbi51aS5rZXlDb2RlLkRPV046Y2FzZSBuLnVpLmtleUNvZGUuTEVGVDppZih0LnByZXZlbnREZWZhdWx0KCksIXRoaXMuX2tleVNsaWRpbmcmJih0aGlzLl9rZXlTbGlkaW5nPSEwLHRoaXMuX2FkZENsYXNzKG4odC50YXJnZXQpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLGU9dGhpcy5fc3RhcnQodCxmKSxlPT09ITEpKXJldHVybn1zd2l0Y2godT10aGlzLm9wdGlvbnMuc3RlcCxyPWk9dGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKT90aGlzLnZhbHVlcyhmKTp0aGlzLnZhbHVlKCksdC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5IT01FOmk9dGhpcy5fdmFsdWVNaW4oKTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FTkQ6aT10aGlzLl92YWx1ZU1heCgpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlBBR0VfVVA6aT10aGlzLl90cmltQWxpZ25WYWx1ZShyKyh0aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCkpL3RoaXMubnVtUGFnZXMpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlBBR0VfRE9XTjppPXRoaXMuX3RyaW1BbGlnblZhbHVlKHItKHRoaXMuX3ZhbHVlTWF4KCktdGhpcy5fdmFsdWVNaW4oKSkvdGhpcy5udW1QYWdlcyk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuVVA6Y2FzZSBuLnVpLmtleUNvZGUuUklHSFQ6aWYocj09PXRoaXMuX3ZhbHVlTWF4KCkpcmV0dXJuO2k9dGhpcy5fdHJpbUFsaWduVmFsdWUocit1KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5ET1dOOmNhc2Ugbi51aS5rZXlDb2RlLkxFRlQ6aWYocj09PXRoaXMuX3ZhbHVlTWluKCkpcmV0dXJuO2k9dGhpcy5fdHJpbUFsaWduVmFsdWUoci11KX10aGlzLl9zbGlkZSh0LGYsaSl9LGtleXVwOmZ1bmN0aW9uKHQpe3ZhciBpPW4odC50YXJnZXQpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiKTt0aGlzLl9rZXlTbGlkaW5nJiYodGhpcy5fa2V5U2xpZGluZz0hMSx0aGlzLl9zdG9wKHQsaSksdGhpcy5fY2hhbmdlKHQsaSksdGhpcy5fcmVtb3ZlQ2xhc3Mobih0LnRhcmdldCksbnVsbCwidWktc3RhdGUtYWN0aXZlIikpfX19KTtuLndpZGdldCgidWkuc29ydGFibGUiLG4udWkubW91c2Use3ZlcnNpb246IjEuMTIuMSIsd2lkZ2V0RXZlbnRQcmVmaXg6InNvcnQiLHJlYWR5OiExLG9wdGlvbnM6e2FwcGVuZFRvOiJwYXJlbnQiLGF4aXM6ITEsY29ubmVjdFdpdGg6ITEsY29udGFpbm1lbnQ6ITEsY3Vyc29yOiJhdXRvIixjdXJzb3JBdDohMSxkcm9wT25FbXB0eTohMCxmb3JjZVBsYWNlaG9sZGVyU2l6ZTohMSxmb3JjZUhlbHBlclNpemU6ITEsZ3JpZDohMSxoYW5kbGU6ITEsaGVscGVyOiJvcmlnaW5hbCIsaXRlbXM6Ij4gKiIsb3BhY2l0eTohMSxwbGFjZWhvbGRlcjohMSxyZXZlcnQ6ITEsc2Nyb2xsOiEwLHNjcm9sbFNlbnNpdGl2aXR5OjIwLHNjcm9sbFNwZWVkOjIwLHNjb3BlOiJkZWZhdWx0Iix0b2xlcmFuY2U6ImludGVyc2VjdCIsekluZGV4OjFlMyxhY3RpdmF0ZTpudWxsLGJlZm9yZVN0b3A6bnVsbCxjaGFuZ2U6bnVsbCxkZWFjdGl2YXRlOm51bGwsb3V0Om51bGwsb3ZlcjpudWxsLHJlY2VpdmU6bnVsbCxyZW1vdmU6bnVsbCxzb3J0Om51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGwsdXBkYXRlOm51bGx9LF9pc092ZXJBeGlzOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gbj49dCYmdCtpPm59LF9pc0Zsb2F0aW5nOmZ1bmN0aW9uKG4pe3JldHVybi9sZWZ0fHJpZ2h0Ly50ZXN0KG4uY3NzKCJmbG9hdCIpKXx8L2lubGluZXx0YWJsZS1jZWxsLy50ZXN0KG4uY3NzKCJkaXNwbGF5IikpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXJDYWNoZT17fTt0aGlzLl9hZGRDbGFzcygidWktc29ydGFibGUiKTt0aGlzLnJlZnJlc2goKTt0aGlzLm9mZnNldD10aGlzLmVsZW1lbnQub2Zmc2V0KCk7dGhpcy5fbW91c2VJbml0KCk7dGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCk7dGhpcy5yZWFkeT0hMH0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3RoaXMuX3N1cGVyKG4sdCk7ImhhbmRsZSI9PT1uJiZ0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKX0sX3NldEhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50LmZpbmQoIi51aS1zb3J0YWJsZS1oYW5kbGUiKSwidWktc29ydGFibGUtaGFuZGxlIik7bi5lYWNoKHRoaXMuaXRlbXMsZnVuY3Rpb24oKXt0Ll9hZGRDbGFzcyh0aGlzLmluc3RhbmNlLm9wdGlvbnMuaGFuZGxlP3RoaXMuaXRlbS5maW5kKHRoaXMuaW5zdGFuY2Uub3B0aW9ucy5oYW5kbGUpOnRoaXMuaXRlbSwidWktc29ydGFibGUtaGFuZGxlIil9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9tb3VzZURlc3Ryb3koKTtmb3IodmFyIG49dGhpcy5pdGVtcy5sZW5ndGgtMTtuPj0wO24tLSl0aGlzLml0ZW1zW25dLml0ZW0ucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUrIi1pdGVtIik7cmV0dXJuIHRoaXN9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24odCxpKXt2YXIgcj1udWxsLGY9ITEsdT10aGlzO3JldHVybiB0aGlzLnJldmVydGluZz8hMTp0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fCJzdGF0aWMiPT09dGhpcy5vcHRpb25zLnR5cGU/ITE6KHRoaXMuX3JlZnJlc2hJdGVtcyh0KSxuKHQudGFyZ2V0KS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe2lmKG4uZGF0YSh0aGlzLHUud2lkZ2V0TmFtZSsiLWl0ZW0iKT09PXUpcmV0dXJuKHI9bih0aGlzKSwhMSl9KSxuLmRhdGEodC50YXJnZXQsdS53aWRnZXROYW1lKyItaXRlbSIpPT09dSYmKHI9bih0LnRhcmdldCkpLHI/IXRoaXMub3B0aW9ucy5oYW5kbGV8fGl8fChuKHRoaXMub3B0aW9ucy5oYW5kbGUscikuZmluZCgiKiIpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcz09PXQudGFyZ2V0JiYoZj0hMCl9KSxmKT8odGhpcy5jdXJyZW50SXRlbT1yLHRoaXMuX3JlbW92ZUN1cnJlbnRzRnJvbUl0ZW1zKCksITApOiExOiExKX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciBmLGUsdT10aGlzLm9wdGlvbnM7aWYodGhpcy5jdXJyZW50Q29udGFpbmVyPXRoaXMsdGhpcy5yZWZyZXNoUG9zaXRpb25zKCksdGhpcy5oZWxwZXI9dGhpcy5fY3JlYXRlSGVscGVyKHQpLHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSx0aGlzLl9jYWNoZU1hcmdpbnMoKSx0aGlzLnNjcm9sbFBhcmVudD10aGlzLmhlbHBlci5zY3JvbGxQYXJlbnQoKSx0aGlzLm9mZnNldD10aGlzLmN1cnJlbnRJdGVtLm9mZnNldCgpLHRoaXMub2Zmc2V0PXt0b3A6dGhpcy5vZmZzZXQudG9wLXRoaXMubWFyZ2lucy50b3AsbGVmdDp0aGlzLm9mZnNldC5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0fSxuLmV4dGVuZCh0aGlzLm9mZnNldCx7Y2xpY2s6e2xlZnQ6dC5wYWdlWC10aGlzLm9mZnNldC5sZWZ0LHRvcDp0LnBhZ2VZLXRoaXMub2Zmc2V0LnRvcH0scGFyZW50OnRoaXMuX2dldFBhcmVudE9mZnNldCgpLHJlbGF0aXZlOnRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCl9KSx0aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIiwiYWJzb2x1dGUiKSx0aGlzLmNzc1Bvc2l0aW9uPXRoaXMuaGVscGVyLmNzcygicG9zaXRpb24iKSx0aGlzLm9yaWdpbmFsUG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbih0KSx0aGlzLm9yaWdpbmFsUGFnZVg9dC5wYWdlWCx0aGlzLm9yaWdpbmFsUGFnZVk9dC5wYWdlWSx1LmN1cnNvckF0JiZ0aGlzLl9hZGp1c3RPZmZzZXRGcm9tSGVscGVyKHUuY3Vyc29yQXQpLHRoaXMuZG9tUG9zaXRpb249e3ByZXY6dGhpcy5jdXJyZW50SXRlbS5wcmV2KClbMF0scGFyZW50OnRoaXMuY3VycmVudEl0ZW0ucGFyZW50KClbMF19LHRoaXMuaGVscGVyWzBdIT09dGhpcy5jdXJyZW50SXRlbVswXSYmdGhpcy5jdXJyZW50SXRlbS5oaWRlKCksdGhpcy5fY3JlYXRlUGxhY2Vob2xkZXIoKSx1LmNvbnRhaW5tZW50JiZ0aGlzLl9zZXRDb250YWlubWVudCgpLHUuY3Vyc29yJiYiYXV0byIhPT11LmN1cnNvciYmKGU9dGhpcy5kb2N1bWVudC5maW5kKCJib2R5IiksdGhpcy5zdG9yZWRDdXJzb3I9ZS5jc3MoImN1cnNvciIpLGUuY3NzKCJjdXJzb3IiLHUuY3Vyc29yKSx0aGlzLnN0b3JlZFN0eWxlc2hlZXQ9bigiPHN0eWxlPip7IGN1cnNvcjogIit1LmN1cnNvcisiICFpbXBvcnRhbnQ7IH08XC9zdHlsZT4iKS5hcHBlbmRUbyhlKSksdS5vcGFjaXR5JiYodGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5IikmJih0aGlzLl9zdG9yZWRPcGFjaXR5PXRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIpKSx0aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiLHUub3BhY2l0eSkpLHUuekluZGV4JiYodGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiKSYmKHRoaXMuX3N0b3JlZFpJbmRleD10aGlzLmhlbHBlci5jc3MoInpJbmRleCIpKSx0aGlzLmhlbHBlci5jc3MoInpJbmRleCIsdS56SW5kZXgpKSx0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0mJiJIVE1MIiE9PXRoaXMuc2Nyb2xsUGFyZW50WzBdLnRhZ05hbWUmJih0aGlzLm92ZXJmbG93T2Zmc2V0PXRoaXMuc2Nyb2xsUGFyZW50Lm9mZnNldCgpKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5fcHJlc2VydmVIZWxwZXJQcm9wb3J0aW9uc3x8dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLCFyKWZvcihmPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTtmPj0wO2YtLSl0aGlzLmNvbnRhaW5lcnNbZl0uX3RyaWdnZXIoImFjdGl2YXRlIix0LHRoaXMuX3VpSGFzaCh0aGlzKSk7cmV0dXJuIG4udWkuZGRtYW5hZ2VyJiYobi51aS5kZG1hbmFnZXIuY3VycmVudD10aGlzKSxuLnVpLmRkbWFuYWdlciYmIXUuZHJvcEJlaGF2aW91ciYmbi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcyx0KSx0aGlzLmRyYWdnaW5nPSEwLHRoaXMuX2FkZENsYXNzKHRoaXMuaGVscGVyLCJ1aS1zb3J0YWJsZS1oZWxwZXIiKSx0aGlzLl9tb3VzZURyYWcodCksITB9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7dmFyIGUsdSxmLG8saT10aGlzLm9wdGlvbnMscj0hMTtmb3IodGhpcy5wb3NpdGlvbj10aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKHQpLHRoaXMucG9zaXRpb25BYnM9dGhpcy5fY29udmVydFBvc2l0aW9uVG8oImFic29sdXRlIiksdGhpcy5sYXN0UG9zaXRpb25BYnN8fCh0aGlzLmxhc3RQb3NpdGlvbkFicz10aGlzLnBvc2l0aW9uQWJzKSx0aGlzLm9wdGlvbnMuc2Nyb2xsJiYodGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiYiSFRNTCIhPT10aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lPyh0aGlzLm92ZXJmbG93T2Zmc2V0LnRvcCt0aGlzLnNjcm9sbFBhcmVudFswXS5vZmZzZXRIZWlnaHQtdC5wYWdlWTxpLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1yPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCtpLnNjcm9sbFNwZWVkOnQucGFnZVktdGhpcy5vdmVyZmxvd09mZnNldC50b3A8aS5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1yPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcC1pLnNjcm9sbFNwZWVkKSx0aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQrdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0V2lkdGgtdC5wYWdlWDxpLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9cj10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0K2kuc2Nyb2xsU3BlZWQ6dC5wYWdlWC10aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQ8aS5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9cj10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0LWkuc2Nyb2xsU3BlZWQpKToodC5wYWdlWS10aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpPGkuc2Nyb2xsU2Vuc2l0aXZpdHk/cj10aGlzLmRvY3VtZW50LnNjcm9sbFRvcCh0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpLWkuc2Nyb2xsU3BlZWQpOnRoaXMud2luZG93LmhlaWdodCgpLSh0LnBhZ2VZLXRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkpPGkuc2Nyb2xsU2Vuc2l0aXZpdHkmJihyPXRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkraS5zY3JvbGxTcGVlZCkpLHQucGFnZVgtdGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCk8aS5zY3JvbGxTZW5zaXRpdml0eT9yPXRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCh0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKS1pLnNjcm9sbFNwZWVkKTp0aGlzLndpbmRvdy53aWR0aCgpLSh0LnBhZ2VYLXRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpKTxpLnNjcm9sbFNlbnNpdGl2aXR5JiYocj10aGlzLmRvY3VtZW50LnNjcm9sbExlZnQodGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkraS5zY3JvbGxTcGVlZCkpKSxyIT09ITEmJm4udWkuZGRtYW5hZ2VyJiYhaS5kcm9wQmVoYXZpb3VyJiZuLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpKSx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLHRoaXMub3B0aW9ucy5heGlzJiYieSI9PT10aGlzLm9wdGlvbnMuYXhpc3x8KHRoaXMuaGVscGVyWzBdLnN0eWxlLmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCIpLHRoaXMub3B0aW9ucy5heGlzJiYieCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8KHRoaXMuaGVscGVyWzBdLnN0eWxlLnRvcD10aGlzLnBvc2l0aW9uLnRvcCsicHgiKSxlPXRoaXMuaXRlbXMubGVuZ3RoLTE7ZT49MDtlLS0paWYodT10aGlzLml0ZW1zW2VdLGY9dS5pdGVtWzBdLG89dGhpcy5faW50ZXJzZWN0c1dpdGhQb2ludGVyKHUpLG8mJnUuaW5zdGFuY2U9PT10aGlzLmN1cnJlbnRDb250YWluZXImJmYhPT10aGlzLmN1cnJlbnRJdGVtWzBdJiZ0aGlzLnBsYWNlaG9sZGVyWzE9PT1vPyJuZXh0IjoicHJldiJdKClbMF0hPT1mJiYhbi5jb250YWlucyh0aGlzLnBsYWNlaG9sZGVyWzBdLGYpJiYoInNlbWktZHluYW1pYyI9PT10aGlzLm9wdGlvbnMudHlwZT8hbi5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sZik6ITApKXtpZih0aGlzLmRpcmVjdGlvbj0xPT09bz8iZG93biI6InVwIiwicG9pbnRlciIhPT10aGlzLm9wdGlvbnMudG9sZXJhbmNlJiYhdGhpcy5faW50ZXJzZWN0c1dpdGhTaWRlcyh1KSlicmVhazt0aGlzLl9yZWFycmFuZ2UodCx1KTt0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLHQsdGhpcy5fdWlIYXNoKCkpO2JyZWFrfXJldHVybiB0aGlzLl9jb250YWN0Q29udGFpbmVycyh0KSxuLnVpLmRkbWFuYWdlciYmbi51aS5kZG1hbmFnZXIuZHJhZyh0aGlzLHQpLHRoaXMuX3RyaWdnZXIoInNvcnQiLHQsdGhpcy5fdWlIYXNoKCkpLHRoaXMubGFzdFBvc2l0aW9uQWJzPXRoaXMucG9zaXRpb25BYnMsITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24odCxpKXtpZih0KXtpZihuLnVpLmRkbWFuYWdlciYmIXRoaXMub3B0aW9ucy5kcm9wQmVoYXZpb3VyJiZuLnVpLmRkbWFuYWdlci5kcm9wKHRoaXMsdCksdGhpcy5vcHRpb25zLnJldmVydCl7dmFyIGU9dGhpcyxmPXRoaXMucGxhY2Vob2xkZXIub2Zmc2V0KCkscj10aGlzLm9wdGlvbnMuYXhpcyx1PXt9O3ImJiJ4IiE9PXJ8fCh1LmxlZnQ9Zi5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0Kyh0aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keT8wOnRoaXMub2Zmc2V0UGFyZW50WzBdLnNjcm9sbExlZnQpKTtyJiYieSIhPT1yfHwodS50b3A9Zi50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcC10aGlzLm1hcmdpbnMudG9wKyh0aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keT8wOnRoaXMub2Zmc2V0UGFyZW50WzBdLnNjcm9sbFRvcCkpO3RoaXMucmV2ZXJ0aW5nPSEwO24odGhpcy5oZWxwZXIpLmFuaW1hdGUodSxwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0LDEwKXx8NTAwLGZ1bmN0aW9uKCl7ZS5fY2xlYXIodCl9KX1lbHNlIHRoaXMuX2NsZWFyKHQsaSk7cmV0dXJuITF9fSxjYW5jZWw6ZnVuY3Rpb24oKXtpZih0aGlzLmRyYWdnaW5nKXt0aGlzLl9tb3VzZVVwKG5ldyBuLkV2ZW50KCJtb3VzZXVwIix7dGFyZ2V0Om51bGx9KSk7Im9yaWdpbmFsIj09PXRoaXMub3B0aW9ucy5oZWxwZXI/KHRoaXMuY3VycmVudEl0ZW0uY3NzKHRoaXMuX3N0b3JlZENTUyksdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5jdXJyZW50SXRlbSwidWktc29ydGFibGUtaGVscGVyIikpOnRoaXMuY3VycmVudEl0ZW0uc2hvdygpO2Zvcih2YXIgdD10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7dD49MDt0LS0pdGhpcy5jb250YWluZXJzW3RdLl90cmlnZ2VyKCJkZWFjdGl2YXRlIixudWxsLHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW3RdLmNvbnRhaW5lckNhY2hlLm92ZXImJih0aGlzLmNvbnRhaW5lcnNbdF0uX3RyaWdnZXIoIm91dCIsbnVsbCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1t0XS5jb250YWluZXJDYWNoZS5vdmVyPTApfXJldHVybiB0aGlzLnBsYWNlaG9sZGVyJiYodGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlJiZ0aGlzLnBsYWNlaG9sZGVyWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wbGFjZWhvbGRlclswXSksIm9yaWdpbmFsIiE9PXRoaXMub3B0aW9ucy5oZWxwZXImJnRoaXMuaGVscGVyJiZ0aGlzLmhlbHBlclswXS5wYXJlbnROb2RlJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSxuLmV4dGVuZCh0aGlzLHtoZWxwZXI6bnVsbCxkcmFnZ2luZzohMSxyZXZlcnRpbmc6ITEsX25vRmluYWxTb3J0Om51bGx9KSx0aGlzLmRvbVBvc2l0aW9uLnByZXY/bih0aGlzLmRvbVBvc2l0aW9uLnByZXYpLmFmdGVyKHRoaXMuY3VycmVudEl0ZW0pOm4odGhpcy5kb21Qb3NpdGlvbi5wYXJlbnQpLnByZXBlbmQodGhpcy5jdXJyZW50SXRlbSkpLHRoaXN9LHNlcmlhbGl6ZTpmdW5jdGlvbih0KXt2YXIgcj10aGlzLl9nZXRJdGVtc0FzalF1ZXJ5KHQmJnQuY29ubmVjdGVkKSxpPVtdO3JldHVybiB0PXR8fHt9LG4ocikuZWFjaChmdW5jdGlvbigpe3ZhciByPShuKHQuaXRlbXx8dGhpcykuYXR0cih0LmF0dHJpYnV0ZXx8ImlkIil8fCIiKS5tYXRjaCh0LmV4cHJlc3Npb258fC8oLispW1wtPV9dKC4rKS8pO3ImJmkucHVzaCgodC5rZXl8fHJbMV0rIltdIikrIj0iKyh0LmtleSYmdC5leHByZXNzaW9uP3JbMV06clsyXSkpfSksIWkubGVuZ3RoJiZ0LmtleSYmaS5wdXNoKHQua2V5KyI9IiksaS5qb2luKCImIil9LHRvQXJyYXk6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5fZ2V0SXRlbXNBc2pRdWVyeSh0JiZ0LmNvbm5lY3RlZCksaT1bXTtyZXR1cm4gdD10fHx7fSxyLmVhY2goZnVuY3Rpb24oKXtpLnB1c2gobih0Lml0ZW18fHRoaXMpLmF0dHIodC5hdHRyaWJ1dGV8fCJpZCIpfHwiIil9KSxpfSxfaW50ZXJzZWN0c1dpdGg6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5wb3NpdGlvbkFicy5sZWZ0LGg9dCt0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLGk9dGhpcy5wb3NpdGlvbkFicy50b3AsYz1pK3RoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LHI9bi5sZWZ0LGY9cituLndpZHRoLHU9bi50b3AsZT11K24uaGVpZ2h0LG89dGhpcy5vZmZzZXQuY2xpY2sudG9wLHM9dGhpcy5vZmZzZXQuY2xpY2subGVmdCxsPSJ4Ij09PXRoaXMub3B0aW9ucy5heGlzfHxpK28+dSYmZT5pK28sYT0ieSI9PT10aGlzLm9wdGlvbnMuYXhpc3x8dCtzPnImJmY+dCtzLHY9bCYmYTtyZXR1cm4icG9pbnRlciI9PT10aGlzLm9wdGlvbnMudG9sZXJhbmNlfHx0aGlzLm9wdGlvbnMuZm9yY2VQb2ludGVyRm9yQ29udGFpbmVyc3x8InBvaW50ZXIiIT09dGhpcy5vcHRpb25zLnRvbGVyYW5jZSYmdGhpcy5oZWxwZXJQcm9wb3J0aW9uc1t0aGlzLmZsb2F0aW5nPyJ3aWR0aCI6ImhlaWdodCJdPm5bdGhpcy5mbG9hdGluZz8id2lkdGgiOiJoZWlnaHQiXT92OnQrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yPnImJmY+aC10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLzImJmkrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMj51JiZlPmMtdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMn0sX2ludGVyc2VjdHNXaXRoUG9pbnRlcjpmdW5jdGlvbihuKXt2YXIgdCxpLHI9IngiPT09dGhpcy5vcHRpb25zLmF4aXN8fHRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy50b3ArdGhpcy5vZmZzZXQuY2xpY2sudG9wLG4udG9wLG4uaGVpZ2h0KSx1PSJ5Ij09PXRoaXMub3B0aW9ucy5heGlzfHx0aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMubGVmdCt0aGlzLm9mZnNldC5jbGljay5sZWZ0LG4ubGVmdCxuLndpZHRoKSxmPXImJnU7cmV0dXJuIGY/KHQ9dGhpcy5fZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uKCksaT10aGlzLl9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbigpLHRoaXMuZmxvYXRpbmc/InJpZ2h0Ij09PWl8fCJkb3duIj09PXQ/MjoxOnQmJigiZG93biI9PT10PzI6MSkpOiExfSxfaW50ZXJzZWN0c1dpdGhTaWRlczpmdW5jdGlvbihuKXt2YXIgcj10aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMudG9wK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCxuLnRvcCtuLmhlaWdodC8yLG4uaGVpZ2h0KSx1PXRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy5sZWZ0K3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQsbi5sZWZ0K24ud2lkdGgvMixuLndpZHRoKSx0PXRoaXMuX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbigpLGk9dGhpcy5fZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb24oKTtyZXR1cm4gdGhpcy5mbG9hdGluZyYmaT8icmlnaHQiPT09aSYmdXx8ImxlZnQiPT09aSYmIXU6dCYmKCJkb3duIj09PXQmJnJ8fCJ1cCI9PT10JiYhcil9LF9nZXREcmFnVmVydGljYWxEaXJlY3Rpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLnBvc2l0aW9uQWJzLnRvcC10aGlzLmxhc3RQb3NpdGlvbkFicy50b3A7cmV0dXJuIDAhPT1uJiYobj4wPyJkb3duIjoidXAiKX0sX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5wb3NpdGlvbkFicy5sZWZ0LXRoaXMubGFzdFBvc2l0aW9uQWJzLmxlZnQ7cmV0dXJuIDAhPT1uJiYobj4wPyJyaWdodCI6ImxlZnQiKX0scmVmcmVzaDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fcmVmcmVzaEl0ZW1zKG4pLHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpLHRoaXMucmVmcmVzaFBvc2l0aW9ucygpLHRoaXN9LF9jb25uZWN0V2l0aDpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3B0aW9ucztyZXR1cm4gbi5jb25uZWN0V2l0aC5jb25zdHJ1Y3Rvcj09PVN0cmluZz9bbi5jb25uZWN0V2l0aF06bi5jb25uZWN0V2l0aH0sX2dldEl0ZW1zQXNqUXVlcnk6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gaCgpe3MucHVzaCh0aGlzKX12YXIgcix1LGUsaSxzPVtdLGY9W10sbz10aGlzLl9jb25uZWN0V2l0aCgpO2lmKG8mJnQpZm9yKHI9by5sZW5ndGgtMTtyPj0wO3ItLSlmb3IoZT1uKG9bcl0sdGhpcy5kb2N1bWVudFswXSksdT1lLmxlbmd0aC0xO3U+PTA7dS0tKWk9bi5kYXRhKGVbdV0sdGhpcy53aWRnZXRGdWxsTmFtZSksaSYmaSE9PXRoaXMmJiFpLm9wdGlvbnMuZGlzYWJsZWQmJmYucHVzaChbbi5pc0Z1bmN0aW9uKGkub3B0aW9ucy5pdGVtcyk/aS5vcHRpb25zLml0ZW1zLmNhbGwoaS5lbGVtZW50KTpuKGkub3B0aW9ucy5pdGVtcyxpLmVsZW1lbnQpLm5vdCgiLnVpLXNvcnRhYmxlLWhlbHBlciIpLm5vdCgiLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIiksaV0pO2ZvcihmLnB1c2goW24uaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMuaXRlbXMpP3RoaXMub3B0aW9ucy5pdGVtcy5jYWxsKHRoaXMuZWxlbWVudCxudWxsLHtvcHRpb25zOnRoaXMub3B0aW9ucyxpdGVtOnRoaXMuY3VycmVudEl0ZW19KTpuKHRoaXMub3B0aW9ucy5pdGVtcyx0aGlzLmVsZW1lbnQpLm5vdCgiLnVpLXNvcnRhYmxlLWhlbHBlciIpLm5vdCgiLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIiksdGhpc10pLHI9Zi5sZW5ndGgtMTtyPj0wO3ItLSlmW3JdWzBdLmVhY2goaCk7cmV0dXJuIG4ocyl9LF9yZW1vdmVDdXJyZW50c0Zyb21JdGVtczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY3VycmVudEl0ZW0uZmluZCgiOmRhdGEoIit0aGlzLndpZGdldE5hbWUrIi1pdGVtKSIpO3RoaXMuaXRlbXM9bi5ncmVwKHRoaXMuaXRlbXMsZnVuY3Rpb24obil7Zm9yKHZhciBpPTA7dC5sZW5ndGg+aTtpKyspaWYodFtpXT09PW4uaXRlbVswXSlyZXR1cm4hMTtyZXR1cm4hMH0pfSxfcmVmcmVzaEl0ZW1zOmZ1bmN0aW9uKHQpe3RoaXMuaXRlbXM9W107dGhpcy5jb250YWluZXJzPVt0aGlzXTt2YXIgcix1LGUsaSxvLHMsaCxsLGE9dGhpcy5pdGVtcyxmPVtbbi5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5pdGVtcyk/dGhpcy5vcHRpb25zLml0ZW1zLmNhbGwodGhpcy5lbGVtZW50WzBdLHQse2l0ZW06dGhpcy5jdXJyZW50SXRlbX0pOm4odGhpcy5vcHRpb25zLml0ZW1zLHRoaXMuZWxlbWVudCksdGhpc11dLGM9dGhpcy5fY29ubmVjdFdpdGgoKTtpZihjJiZ0aGlzLnJlYWR5KWZvcihyPWMubGVuZ3RoLTE7cj49MDtyLS0pZm9yKGU9bihjW3JdLHRoaXMuZG9jdW1lbnRbMF0pLHU9ZS5sZW5ndGgtMTt1Pj0wO3UtLSlpPW4uZGF0YShlW3VdLHRoaXMud2lkZ2V0RnVsbE5hbWUpLGkmJmkhPT10aGlzJiYhaS5vcHRpb25zLmRpc2FibGVkJiYoZi5wdXNoKFtuLmlzRnVuY3Rpb24oaS5vcHRpb25zLml0ZW1zKT9pLm9wdGlvbnMuaXRlbXMuY2FsbChpLmVsZW1lbnRbMF0sdCx7aXRlbTp0aGlzLmN1cnJlbnRJdGVtfSk6bihpLm9wdGlvbnMuaXRlbXMsaS5lbGVtZW50KSxpXSksdGhpcy5jb250YWluZXJzLnB1c2goaSkpO2ZvcihyPWYubGVuZ3RoLTE7cj49MDtyLS0pZm9yKG89ZltyXVsxXSxzPWZbcl1bMF0sdT0wLGw9cy5sZW5ndGg7bD51O3UrKyloPW4oc1t1XSksaC5kYXRhKHRoaXMud2lkZ2V0TmFtZSsiLWl0ZW0iLG8pLGEucHVzaCh7aXRlbTpoLGluc3RhbmNlOm8sd2lkdGg6MCxoZWlnaHQ6MCxsZWZ0OjAsdG9wOjB9KX0scmVmcmVzaFBvc2l0aW9uczpmdW5jdGlvbih0KXt0aGlzLmZsb2F0aW5nPXRoaXMuaXRlbXMubGVuZ3RoPyJ4Ij09PXRoaXMub3B0aW9ucy5heGlzfHx0aGlzLl9pc0Zsb2F0aW5nKHRoaXMuaXRlbXNbMF0uaXRlbSk6ITE7dGhpcy5vZmZzZXRQYXJlbnQmJnRoaXMuaGVscGVyJiYodGhpcy5vZmZzZXQucGFyZW50PXRoaXMuX2dldFBhcmVudE9mZnNldCgpKTtmb3IodmFyIHIsZix1LGk9dGhpcy5pdGVtcy5sZW5ndGgtMTtpPj0wO2ktLSlyPXRoaXMuaXRlbXNbaV0sci5pbnN0YW5jZSE9PXRoaXMuY3VycmVudENvbnRhaW5lciYmdGhpcy5jdXJyZW50Q29udGFpbmVyJiZyLml0ZW1bMF0hPT10aGlzLmN1cnJlbnRJdGVtWzBdfHwoZj10aGlzLm9wdGlvbnMudG9sZXJhbmNlRWxlbWVudD9uKHRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50LHIuaXRlbSk6ci5pdGVtLHR8fChyLndpZHRoPWYub3V0ZXJXaWR0aCgpLHIuaGVpZ2h0PWYub3V0ZXJIZWlnaHQoKSksdT1mLm9mZnNldCgpLHIubGVmdD11LmxlZnQsci50b3A9dS50b3ApO2lmKHRoaXMub3B0aW9ucy5jdXN0b20mJnRoaXMub3B0aW9ucy5jdXN0b20ucmVmcmVzaENvbnRhaW5lcnMpdGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycy5jYWxsKHRoaXMpO2Vsc2UgZm9yKGk9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO2k+PTA7aS0tKXU9dGhpcy5jb250YWluZXJzW2ldLmVsZW1lbnQub2Zmc2V0KCksdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLmxlZnQ9dS5sZWZ0LHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS50b3A9dS50b3AsdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLndpZHRoPXRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm91dGVyV2lkdGgoKSx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUuaGVpZ2h0PXRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm91dGVySGVpZ2h0KCk7cmV0dXJuIHRoaXN9LF9jcmVhdGVQbGFjZWhvbGRlcjpmdW5jdGlvbih0KXt0PXR8fHRoaXM7dmFyIHIsaT10Lm9wdGlvbnM7aS5wbGFjZWhvbGRlciYmaS5wbGFjZWhvbGRlci5jb25zdHJ1Y3RvciE9PVN0cmluZ3x8KHI9aS5wbGFjZWhvbGRlcixpLnBsYWNlaG9sZGVyPXtlbGVtZW50OmZ1bmN0aW9uKCl7dmFyIHU9dC5jdXJyZW50SXRlbVswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGk9bigiPCIrdSsiPiIsdC5kb2N1bWVudFswXSk7cmV0dXJuIHQuX2FkZENsYXNzKGksInVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIixyfHx0LmN1cnJlbnRJdGVtWzBdLmNsYXNzTmFtZSkuX3JlbW92ZUNsYXNzKGksInVpLXNvcnRhYmxlLWhlbHBlciIpLCJ0Ym9keSI9PT11P3QuX2NyZWF0ZVRyUGxhY2Vob2xkZXIodC5jdXJyZW50SXRlbS5maW5kKCJ0ciIpLmVxKDApLG4oIjx0cj4iLHQuZG9jdW1lbnRbMF0pLmFwcGVuZFRvKGkpKToidHIiPT09dT90Ll9jcmVhdGVUclBsYWNlaG9sZGVyKHQuY3VycmVudEl0ZW0saSk6ImltZyI9PT11JiZpLmF0dHIoInNyYyIsdC5jdXJyZW50SXRlbS5hdHRyKCJzcmMiKSkscnx8aS5jc3MoInZpc2liaWxpdHkiLCJoaWRkZW4iKSxpfSx1cGRhdGU6ZnVuY3Rpb24obix1KXsoIXJ8fGkuZm9yY2VQbGFjZWhvbGRlclNpemUpJiYodS5oZWlnaHQoKXx8dS5oZWlnaHQodC5jdXJyZW50SXRlbS5pbm5lckhlaWdodCgpLXBhcnNlSW50KHQuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nVG9wIil8fDAsMTApLXBhcnNlSW50KHQuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nQm90dG9tIil8fDAsMTApKSx1LndpZHRoKCl8fHUud2lkdGgodC5jdXJyZW50SXRlbS5pbm5lcldpZHRoKCktcGFyc2VJbnQodC5jdXJyZW50SXRlbS5jc3MoInBhZGRpbmdMZWZ0Iil8fDAsMTApLXBhcnNlSW50KHQuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nUmlnaHQiKXx8MCwxMCkpKX19KTt0LnBsYWNlaG9sZGVyPW4oaS5wbGFjZWhvbGRlci5lbGVtZW50LmNhbGwodC5lbGVtZW50LHQuY3VycmVudEl0ZW0pKTt0LmN1cnJlbnRJdGVtLmFmdGVyKHQucGxhY2Vob2xkZXIpO2kucGxhY2Vob2xkZXIudXBkYXRlKHQsdC5wbGFjZWhvbGRlcil9LF9jcmVhdGVUclBsYWNlaG9sZGVyOmZ1bmN0aW9uKHQsaSl7dmFyIHI9dGhpczt0LmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpe24oIjx0ZD4mIzE2MDs8XC90ZD4iLHIuZG9jdW1lbnRbMF0pLmF0dHIoImNvbHNwYW4iLG4odGhpcykuYXR0cigiY29sc3BhbiIpfHwxKS5hcHBlbmRUbyhpKX0pfSxfY29udGFjdENvbnRhaW5lcnM6ZnVuY3Rpb24odCl7Zm9yKHZhciB1LGMsZixhLHYsbyxsLHMsaCxlPW51bGwsaT1udWxsLHI9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO3I+PTA7ci0tKWlmKCFuLmNvbnRhaW5zKHRoaXMuY3VycmVudEl0ZW1bMF0sdGhpcy5jb250YWluZXJzW3JdLmVsZW1lbnRbMF0pKWlmKHRoaXMuX2ludGVyc2VjdHNXaXRoKHRoaXMuY29udGFpbmVyc1tyXS5jb250YWluZXJDYWNoZSkpe2lmKGUmJm4uY29udGFpbnModGhpcy5jb250YWluZXJzW3JdLmVsZW1lbnRbMF0sZS5lbGVtZW50WzBdKSljb250aW51ZTtlPXRoaXMuY29udGFpbmVyc1tyXTtpPXJ9ZWxzZSB0aGlzLmNvbnRhaW5lcnNbcl0uY29udGFpbmVyQ2FjaGUub3ZlciYmKHRoaXMuY29udGFpbmVyc1tyXS5fdHJpZ2dlcigib3V0Iix0LHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW3JdLmNvbnRhaW5lckNhY2hlLm92ZXI9MCk7aWYoZSlpZigxPT09dGhpcy5jb250YWluZXJzLmxlbmd0aCl0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcnx8KHRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyPTEpO2Vsc2V7Zm9yKGM9MWU0LGY9bnVsbCxzPWUuZmxvYXRpbmd8fHRoaXMuX2lzRmxvYXRpbmcodGhpcy5jdXJyZW50SXRlbSksYT1zPyJsZWZ0IjoidG9wIix2PXM/IndpZHRoIjoiaGVpZ2h0IixoPXM/InBhZ2VYIjoicGFnZVkiLHU9dGhpcy5pdGVtcy5sZW5ndGgtMTt1Pj0wO3UtLSluLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50WzBdLHRoaXMuaXRlbXNbdV0uaXRlbVswXSkmJnRoaXMuaXRlbXNbdV0uaXRlbVswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF0mJihvPXRoaXMuaXRlbXNbdV0uaXRlbS5vZmZzZXQoKVthXSxsPSExLHRbaF0tbz50aGlzLml0ZW1zW3VdW3ZdLzImJihsPSEwKSxjPk1hdGguYWJzKHRbaF0tbykmJihjPU1hdGguYWJzKHRbaF0tbyksZj10aGlzLml0ZW1zW3VdLHRoaXMuZGlyZWN0aW9uPWw/InVwIjoiZG93biIpKTtpZighZiYmIXRoaXMub3B0aW9ucy5kcm9wT25FbXB0eSlyZXR1cm47aWYodGhpcy5jdXJyZW50Q29udGFpbmVyPT09dGhpcy5jb250YWluZXJzW2ldKXJldHVybiB0aGlzLmN1cnJlbnRDb250YWluZXIuY29udGFpbmVyQ2FjaGUub3Zlcnx8KHRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5jdXJyZW50Q29udGFpbmVyLmNvbnRhaW5lckNhY2hlLm92ZXI9MSksdm9pZCAwO2Y/dGhpcy5fcmVhcnJhbmdlKHQsZixudWxsLCEwKTp0aGlzLl9yZWFycmFuZ2UodCxudWxsLHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50LCEwKTt0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLHQsdGhpcy5fdWlIYXNoKCkpO3RoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcigiY2hhbmdlIix0LHRoaXMuX3VpSGFzaCh0aGlzKSk7dGhpcy5jdXJyZW50Q29udGFpbmVyPXRoaXMuY29udGFpbmVyc1tpXTt0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIudXBkYXRlKHRoaXMuY3VycmVudENvbnRhaW5lcix0aGlzLnBsYWNlaG9sZGVyKTt0aGlzLmNvbnRhaW5lcnNbaV0uX3RyaWdnZXIoIm92ZXIiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKTt0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcj0xfX0sX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbih0KXt2YXIgcj10aGlzLm9wdGlvbnMsaT1uLmlzRnVuY3Rpb24oci5oZWxwZXIpP24oci5oZWxwZXIuYXBwbHkodGhpcy5lbGVtZW50WzBdLFt0LHRoaXMuY3VycmVudEl0ZW1dKSk6ImNsb25lIj09PXIuaGVscGVyP3RoaXMuY3VycmVudEl0ZW0uY2xvbmUoKTp0aGlzLmN1cnJlbnRJdGVtO3JldHVybiBpLnBhcmVudHMoImJvZHkiKS5sZW5ndGh8fG4oInBhcmVudCIhPT1yLmFwcGVuZFRvP3IuYXBwZW5kVG86dGhpcy5jdXJyZW50SXRlbVswXS5wYXJlbnROb2RlKVswXS5hcHBlbmRDaGlsZChpWzBdKSxpWzBdPT09dGhpcy5jdXJyZW50SXRlbVswXSYmKHRoaXMuX3N0b3JlZENTUz17d2lkdGg6dGhpcy5jdXJyZW50SXRlbVswXS5zdHlsZS53aWR0aCxoZWlnaHQ6dGhpcy5jdXJyZW50SXRlbVswXS5zdHlsZS5oZWlnaHQscG9zaXRpb246dGhpcy5jdXJyZW50SXRlbS5jc3MoInBvc2l0aW9uIiksdG9wOnRoaXMuY3VycmVudEl0ZW0uY3NzKCJ0b3AiKSxsZWZ0OnRoaXMuY3VycmVudEl0ZW0uY3NzKCJsZWZ0Iil9KSwoIWlbMF0uc3R5bGUud2lkdGh8fHIuZm9yY2VIZWxwZXJTaXplKSYmaS53aWR0aCh0aGlzLmN1cnJlbnRJdGVtLndpZHRoKCkpLCghaVswXS5zdHlsZS5oZWlnaHR8fHIuZm9yY2VIZWxwZXJTaXplKSYmaS5oZWlnaHQodGhpcy5jdXJyZW50SXRlbS5oZWlnaHQoKSksaX0sX2FkanVzdE9mZnNldEZyb21IZWxwZXI6ZnVuY3Rpb24odCl7InN0cmluZyI9PXR5cGVvZiB0JiYodD10LnNwbGl0KCIgIikpO24uaXNBcnJheSh0KSYmKHQ9e2xlZnQ6K3RbMF0sdG9wOit0WzFdfHwwfSk7ImxlZnQiaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ9dC5sZWZ0K3RoaXMubWFyZ2lucy5sZWZ0KTsicmlnaHQiaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ9dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10LnJpZ2h0K3RoaXMubWFyZ2lucy5sZWZ0KTsidG9wImluIHQmJih0aGlzLm9mZnNldC5jbGljay50b3A9dC50b3ArdGhpcy5tYXJnaW5zLnRvcCk7ImJvdHRvbSJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2sudG9wPXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXQuYm90dG9tK3RoaXMubWFyZ2lucy50b3ApfSxfZ2V0UGFyZW50T2Zmc2V0OmZ1bmN0aW9uKCl7dGhpcy5vZmZzZXRQYXJlbnQ9dGhpcy5oZWxwZXIub2Zmc2V0UGFyZW50KCk7dmFyIHQ9dGhpcy5vZmZzZXRQYXJlbnQub2Zmc2V0KCk7cmV0dXJuImFic29sdXRlIj09PXRoaXMuY3NzUG9zaXRpb24mJnRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmbi5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSkmJih0LmxlZnQrPXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSx0LnRvcCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCkpLCh0aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keXx8dGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZSYmImh0bWwiPT09dGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZuLnVpLmllKSYmKHQ9e3RvcDowLGxlZnQ6MH0pLHt0b3A6dC50b3ArKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApLGxlZnQ6dC5sZWZ0KyhwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCl9fSxfZ2V0UmVsYXRpdmVPZmZzZXQ6ZnVuY3Rpb24oKXtpZigicmVsYXRpdmUiPT09dGhpcy5jc3NQb3NpdGlvbil7dmFyIG49dGhpcy5jdXJyZW50SXRlbS5wb3NpdGlvbigpO3JldHVybnt0b3A6bi50b3AtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygidG9wIiksMTApfHwwKSt0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSxsZWZ0Om4ubGVmdC0ocGFyc2VJbnQodGhpcy5oZWxwZXIuY3NzKCJsZWZ0IiksMTApfHwwKSt0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCl9fXJldHVybnt0b3A6MCxsZWZ0OjB9fSxfY2FjaGVNYXJnaW5zOmZ1bmN0aW9uKCl7dGhpcy5tYXJnaW5zPXtsZWZ0OnBhcnNlSW50KHRoaXMuY3VycmVudEl0ZW0uY3NzKCJtYXJnaW5MZWZ0IiksMTApfHwwLHRvcDpwYXJzZUludCh0aGlzLmN1cnJlbnRJdGVtLmNzcygibWFyZ2luVG9wIiksMTApfHwwfX0sX2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6ZnVuY3Rpb24oKXt0aGlzLmhlbHBlclByb3BvcnRpb25zPXt3aWR0aDp0aGlzLmhlbHBlci5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuaGVscGVyLm91dGVySGVpZ2h0KCl9fSxfc2V0Q29udGFpbm1lbnQ6ZnVuY3Rpb24oKXt2YXIgdCxyLHUsaT10aGlzLm9wdGlvbnM7InBhcmVudCI9PT1pLmNvbnRhaW5tZW50JiYoaS5jb250YWlubWVudD10aGlzLmhlbHBlclswXS5wYXJlbnROb2RlKTsoImRvY3VtZW50Ij09PWkuY29udGFpbm1lbnR8fCJ3aW5kb3ciPT09aS5jb250YWlubWVudCkmJih0aGlzLmNvbnRhaW5tZW50PVswLXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsMC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCwiZG9jdW1lbnQiPT09aS5jb250YWlubWVudD90aGlzLmRvY3VtZW50LndpZHRoKCk6dGhpcy53aW5kb3cud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LCgiZG9jdW1lbnQiPT09aS5jb250YWlubWVudD90aGlzLmRvY3VtZW50LmhlaWdodCgpfHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0OnRoaXMud2luZG93LmhlaWdodCgpfHx0aGlzLmRvY3VtZW50WzBdLmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdKTsvXihkb2N1bWVudHx3aW5kb3d8cGFyZW50KSQvLnRlc3QoaS5jb250YWlubWVudCl8fCh0PW4oaS5jb250YWlubWVudClbMF0scj1uKGkuY29udGFpbm1lbnQpLm9mZnNldCgpLHU9ImhpZGRlbiIhPT1uKHQpLmNzcygib3ZlcmZsb3ciKSx0aGlzLmNvbnRhaW5tZW50PVtyLmxlZnQrKHBhcnNlSW50KG4odCkuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChuKHQpLmNzcygicGFkZGluZ0xlZnQiKSwxMCl8fDApLXRoaXMubWFyZ2lucy5sZWZ0LHIudG9wKyhwYXJzZUludChuKHQpLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChuKHQpLmNzcygicGFkZGluZ1RvcCIpLDEwKXx8MCktdGhpcy5tYXJnaW5zLnRvcCxyLmxlZnQrKHU/TWF0aC5tYXgodC5zY3JvbGxXaWR0aCx0Lm9mZnNldFdpZHRoKTp0Lm9mZnNldFdpZHRoKS0ocGFyc2VJbnQobih0KS5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCktKHBhcnNlSW50KG4odCkuY3NzKCJwYWRkaW5nUmlnaHQiKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdGhpcy5tYXJnaW5zLmxlZnQsci50b3ArKHU/TWF0aC5tYXgodC5zY3JvbGxIZWlnaHQsdC5vZmZzZXRIZWlnaHQpOnQub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQobih0KS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQobih0KS5jc3MoInBhZGRpbmdCb3R0b20iKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdKX0sX2NvbnZlcnRQb3NpdGlvblRvOmZ1bmN0aW9uKHQsaSl7aXx8KGk9dGhpcy5wb3NpdGlvbik7dmFyIHI9ImFic29sdXRlIj09PXQ/MTotMSx1PSJhYnNvbHV0ZSIhPT10aGlzLmNzc1Bvc2l0aW9ufHx0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0mJm4uY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pP3RoaXMuc2Nyb2xsUGFyZW50OnRoaXMub2Zmc2V0UGFyZW50LGY9LyhodG1sfGJvZHkpL2kudGVzdCh1WzBdLnRhZ05hbWUpO3JldHVybnt0b3A6aS50b3ArdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wKnIrdGhpcy5vZmZzZXQucGFyZW50LnRvcCpyLSgiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCk6Zj8wOnUuc2Nyb2xsVG9wKCkpKnIsbGVmdDppLmxlZnQrdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCpyK3RoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KnItKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk6Zj8wOnUuc2Nyb2xsTGVmdCgpKSpyfX0sX2dlbmVyYXRlUG9zaXRpb246ZnVuY3Rpb24odCl7dmFyIHIsdSxpPXRoaXMub3B0aW9ucyxmPXQucGFnZVgsZT10LnBhZ2VZLG89ImFic29sdXRlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmbi5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSk/dGhpcy5zY3JvbGxQYXJlbnQ6dGhpcy5vZmZzZXRQYXJlbnQscz0vKGh0bWx8Ym9keSkvaS50ZXN0KG9bMF0udGFnTmFtZSk7cmV0dXJuInJlbGF0aXZlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLm9mZnNldFBhcmVudFswXXx8KHRoaXMub2Zmc2V0LnJlbGF0aXZlPXRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCkpLHRoaXMub3JpZ2luYWxQb3NpdGlvbiYmKHRoaXMuY29udGFpbm1lbnQmJih0LnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8dGhpcy5jb250YWlubWVudFswXSYmKGY9dGhpcy5jb250YWlubWVudFswXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSx0LnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDx0aGlzLmNvbnRhaW5tZW50WzFdJiYoZT10aGlzLmNvbnRhaW5tZW50WzFdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCksdC5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PnRoaXMuY29udGFpbm1lbnRbMl0mJihmPXRoaXMuY29udGFpbm1lbnRbMl0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksdC5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A+dGhpcy5jb250YWlubWVudFszXSYmKGU9dGhpcy5jb250YWlubWVudFszXSt0aGlzLm9mZnNldC5jbGljay50b3ApKSxpLmdyaWQmJihyPXRoaXMub3JpZ2luYWxQYWdlWStNYXRoLnJvdW5kKChlLXRoaXMub3JpZ2luYWxQYWdlWSkvaS5ncmlkWzFdKSppLmdyaWRbMV0sZT10aGlzLmNvbnRhaW5tZW50P3ItdGhpcy5vZmZzZXQuY2xpY2sudG9wPj10aGlzLmNvbnRhaW5tZW50WzFdJiZyLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDw9dGhpcy5jb250YWlubWVudFszXT9yOnItdGhpcy5vZmZzZXQuY2xpY2sudG9wPj10aGlzLmNvbnRhaW5tZW50WzFdP3ItaS5ncmlkWzFdOnIraS5ncmlkWzFdOnIsdT10aGlzLm9yaWdpbmFsUGFnZVgrTWF0aC5yb3VuZCgoZi10aGlzLm9yaWdpbmFsUGFnZVgpL2kuZ3JpZFswXSkqaS5ncmlkWzBdLGY9dGhpcy5jb250YWlubWVudD91LXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+PXRoaXMuY29udGFpbm1lbnRbMF0mJnUtdGhpcy5vZmZzZXQuY2xpY2subGVmdDw9dGhpcy5jb250YWlubWVudFsyXT91OnUtdGhpcy5vZmZzZXQuY2xpY2subGVmdD49dGhpcy5jb250YWlubWVudFswXT91LWkuZ3JpZFswXTp1K2kuZ3JpZFswXTp1KSkse3RvcDplLXRoaXMub2Zmc2V0LmNsaWNrLnRvcC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCsoImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOnM/MDpvLnNjcm9sbFRvcCgpKSxsZWZ0OmYtdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KygiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpOnM/MDpvLnNjcm9sbExlZnQoKSl9fSxfcmVhcnJhbmdlOmZ1bmN0aW9uKG4sdCxpLHIpe2k/aVswXS5hcHBlbmRDaGlsZCh0aGlzLnBsYWNlaG9sZGVyWzBdKTp0Lml0ZW1bMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5wbGFjZWhvbGRlclswXSwiZG93biI9PT10aGlzLmRpcmVjdGlvbj90Lml0ZW1bMF06dC5pdGVtWzBdLm5leHRTaWJsaW5nKTt0aGlzLmNvdW50ZXI9dGhpcy5jb3VudGVyPysrdGhpcy5jb3VudGVyOjE7dmFyIHU9dGhpcy5jb3VudGVyO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dT09PXRoaXMuY291bnRlciYmdGhpcy5yZWZyZXNoUG9zaXRpb25zKCFyKX0pfSxfY2xlYXI6ZnVuY3Rpb24obix0KXtmdW5jdGlvbiB1KG4sdCxpKXtyZXR1cm4gZnVuY3Rpb24ocil7aS5fdHJpZ2dlcihuLHIsdC5fdWlIYXNoKHQpKX19dGhpcy5yZXZlcnRpbmc9ITE7dmFyIGkscj1bXTtpZighdGhpcy5fbm9GaW5hbFNvcnQmJnRoaXMuY3VycmVudEl0ZW0ucGFyZW50KCkubGVuZ3RoJiZ0aGlzLnBsYWNlaG9sZGVyLmJlZm9yZSh0aGlzLmN1cnJlbnRJdGVtKSx0aGlzLl9ub0ZpbmFsU29ydD1udWxsLHRoaXMuaGVscGVyWzBdPT09dGhpcy5jdXJyZW50SXRlbVswXSl7Zm9yKGkgaW4gdGhpcy5fc3RvcmVkQ1NTKSgiYXV0byI9PT10aGlzLl9zdG9yZWRDU1NbaV18fCJzdGF0aWMiPT09dGhpcy5fc3RvcmVkQ1NTW2ldKSYmKHRoaXMuX3N0b3JlZENTU1tpXT0iIik7dGhpcy5jdXJyZW50SXRlbS5jc3ModGhpcy5fc3RvcmVkQ1NTKTt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmN1cnJlbnRJdGVtLCJ1aS1zb3J0YWJsZS1oZWxwZXIiKX1lbHNlIHRoaXMuY3VycmVudEl0ZW0uc2hvdygpO2Zvcih0aGlzLmZyb21PdXRzaWRlJiYhdCYmci5wdXNoKGZ1bmN0aW9uKG4pe3RoaXMuX3RyaWdnZXIoInJlY2VpdmUiLG4sdGhpcy5fdWlIYXNoKHRoaXMuZnJvbU91dHNpZGUpKX0pLCF0aGlzLmZyb21PdXRzaWRlJiZ0aGlzLmRvbVBvc2l0aW9uLnByZXY9PT10aGlzLmN1cnJlbnRJdGVtLnByZXYoKS5ub3QoIi51aS1zb3J0YWJsZS1oZWxwZXIiKVswXSYmdGhpcy5kb21Qb3NpdGlvbi5wYXJlbnQ9PT10aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWzBdfHx0fHxyLnB1c2goZnVuY3Rpb24obil7dGhpcy5fdHJpZ2dlcigidXBkYXRlIixuLHRoaXMuX3VpSGFzaCgpKX0pLHRoaXMhPT10aGlzLmN1cnJlbnRDb250YWluZXImJih0fHwoci5wdXNoKGZ1bmN0aW9uKG4pe3RoaXMuX3RyaWdnZXIoInJlbW92ZSIsbix0aGlzLl91aUhhc2goKSl9KSxyLnB1c2goZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe24uX3RyaWdnZXIoInJlY2VpdmUiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKX19LmNhbGwodGhpcyx0aGlzLmN1cnJlbnRDb250YWluZXIpKSxyLnB1c2goZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe24uX3RyaWdnZXIoInVwZGF0ZSIsdCx0aGlzLl91aUhhc2godGhpcykpfX0uY2FsbCh0aGlzLHRoaXMuY3VycmVudENvbnRhaW5lcikpKSksaT10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7aT49MDtpLS0pdHx8ci5wdXNoKHUoImRlYWN0aXZhdGUiLHRoaXMsdGhpcy5jb250YWluZXJzW2ldKSksdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXImJihyLnB1c2godSgib3V0Iix0aGlzLHRoaXMuY29udGFpbmVyc1tpXSkpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyPTApO2lmKHRoaXMuc3RvcmVkQ3Vyc29yJiYodGhpcy5kb2N1bWVudC5maW5kKCJib2R5IikuY3NzKCJjdXJzb3IiLHRoaXMuc3RvcmVkQ3Vyc29yKSx0aGlzLnN0b3JlZFN0eWxlc2hlZXQucmVtb3ZlKCkpLHRoaXMuX3N0b3JlZE9wYWNpdHkmJnRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIsdGhpcy5fc3RvcmVkT3BhY2l0eSksdGhpcy5fc3RvcmVkWkluZGV4JiZ0aGlzLmhlbHBlci5jc3MoInpJbmRleCIsImF1dG8iPT09dGhpcy5fc3RvcmVkWkluZGV4PyIiOnRoaXMuX3N0b3JlZFpJbmRleCksdGhpcy5kcmFnZ2luZz0hMSx0fHx0aGlzLl90cmlnZ2VyKCJiZWZvcmVTdG9wIixuLHRoaXMuX3VpSGFzaCgpKSx0aGlzLnBsYWNlaG9sZGVyWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wbGFjZWhvbGRlclswXSksdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsfHwodGhpcy5oZWxwZXJbMF0hPT10aGlzLmN1cnJlbnRJdGVtWzBdJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSx0aGlzLmhlbHBlcj1udWxsKSwhdCl7Zm9yKGk9MDtyLmxlbmd0aD5pO2krKylyW2ldLmNhbGwodGhpcyxuKTt0aGlzLl90cmlnZ2VyKCJzdG9wIixuLHRoaXMuX3VpSGFzaCgpKX1yZXR1cm4gdGhpcy5mcm9tT3V0c2lkZT0hMSwhdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsfSxfdHJpZ2dlcjpmdW5jdGlvbigpe24uV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk9PT0hMSYmdGhpcy5jYW5jZWwoKX0sX3VpSGFzaDpmdW5jdGlvbih0KXt2YXIgaT10fHx0aGlzO3JldHVybntoZWxwZXI6aS5oZWxwZXIscGxhY2Vob2xkZXI6aS5wbGFjZWhvbGRlcnx8bihbXSkscG9zaXRpb246aS5wb3NpdGlvbixvcmlnaW5hbFBvc2l0aW9uOmkub3JpZ2luYWxQb3NpdGlvbixvZmZzZXQ6aS5wb3NpdGlvbkFicyxpdGVtOmkuY3VycmVudEl0ZW0sc2VuZGVyOnQ/dC5lbGVtZW50Om51bGx9fX0pO24ud2lkZ2V0KCJ1aS5zcGlubmVyIix7dmVyc2lvbjoiMS4xMi4xIixkZWZhdWx0RWxlbWVudDoiPGlucHV0PiIsd2lkZ2V0RXZlbnRQcmVmaXg6InNwaW4iLG9wdGlvbnM6e2NsYXNzZXM6eyJ1aS1zcGlubmVyIjoidWktY29ybmVyLWFsbCIsInVpLXNwaW5uZXItZG93biI6InVpLWNvcm5lci1iciIsInVpLXNwaW5uZXItdXAiOiJ1aS1jb3JuZXItdHIifSxjdWx0dXJlOm51bGwsaWNvbnM6e2Rvd246InVpLWljb24tdHJpYW5nbGUtMS1zIix1cDoidWktaWNvbi10cmlhbmdsZS0xLW4ifSxpbmNyZW1lbnRhbDohMCxtYXg6bnVsbCxtaW46bnVsbCxudW1iZXJGb3JtYXQ6bnVsbCxwYWdlOjEwLHN0ZXA6MSxjaGFuZ2U6bnVsbCxzcGluOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXRPcHRpb24oIm1heCIsdGhpcy5vcHRpb25zLm1heCk7dGhpcy5fc2V0T3B0aW9uKCJtaW4iLHRoaXMub3B0aW9ucy5taW4pO3RoaXMuX3NldE9wdGlvbigic3RlcCIsdGhpcy5vcHRpb25zLnN0ZXApOyIiIT09dGhpcy52YWx1ZSgpJiZ0aGlzLl92YWx1ZSh0aGlzLmVsZW1lbnQudmFsKCksITApO3RoaXMuX2RyYXcoKTt0aGlzLl9vbih0aGlzLl9ldmVudHMpO3RoaXMuX3JlZnJlc2goKTt0aGlzLl9vbih0aGlzLndpbmRvdyx7YmVmb3JldW5sb2FkOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImF1dG9jb21wbGV0ZSIpfX0pfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N1cGVyKCksaT10aGlzLmVsZW1lbnQ7cmV0dXJuIG4uZWFjaChbIm1pbiIsIm1heCIsInN0ZXAiXSxmdW5jdGlvbihuLHIpe3ZhciB1PWkuYXR0cihyKTtudWxsIT11JiZ1Lmxlbmd0aCYmKHRbcl09dSl9KSx0fSxfZXZlbnRzOntrZXlkb3duOmZ1bmN0aW9uKG4pe3RoaXMuX3N0YXJ0KG4pJiZ0aGlzLl9rZXlkb3duKG4pJiZuLnByZXZlbnREZWZhdWx0KCl9LGtleXVwOiJfc3RvcCIsZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnByZXZpb3VzPXRoaXMuZWxlbWVudC52YWwoKX0sYmx1cjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5jYW5jZWxCbHVyPyhkZWxldGUgdGhpcy5jYW5jZWxCbHVyLHZvaWQgMCk6KHRoaXMuX3N0b3AoKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5wcmV2aW91cyE9PXRoaXMuZWxlbWVudC52YWwoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIixuKSx2b2lkIDApfSxtb3VzZXdoZWVsOmZ1bmN0aW9uKG4sdCl7aWYodCl7aWYoIXRoaXMuc3Bpbm5pbmcmJiF0aGlzLl9zdGFydChuKSlyZXR1cm4hMTt0aGlzLl9zcGluKCh0PjA/MTotMSkqdGhpcy5vcHRpb25zLnN0ZXAsbik7Y2xlYXJUaW1lb3V0KHRoaXMubW91c2V3aGVlbFRpbWVyKTt0aGlzLm1vdXNld2hlZWxUaW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuc3Bpbm5pbmcmJnRoaXMuX3N0b3Aobil9LDEwMCk7bi5wcmV2ZW50RGVmYXVsdCgpfX0sIm1vdXNlZG93biAudWktc3Bpbm5lci1idXR0b24iOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoKXt2YXIgdD10aGlzLmVsZW1lbnRbMF09PT1uLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pO3R8fCh0aGlzLmVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKSx0aGlzLnByZXZpb3VzPWksdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLnByZXZpb3VzPWl9KSl9dmFyIGk7aT10aGlzLmVsZW1lbnRbMF09PT1uLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pP3RoaXMucHJldmlvdXM6dGhpcy5lbGVtZW50LnZhbCgpO3QucHJldmVudERlZmF1bHQoKTtyLmNhbGwodGhpcyk7dGhpcy5jYW5jZWxCbHVyPSEwO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuY2FuY2VsQmx1cjtyLmNhbGwodGhpcyl9KTt0aGlzLl9zdGFydCh0KSE9PSExJiZ0aGlzLl9yZXBlYXQobnVsbCxuKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXNwaW5uZXItdXAiKT8xOi0xLHQpfSwibW91c2V1cCAudWktc3Bpbm5lci1idXR0b24iOiJfc3RvcCIsIm1vdXNlZW50ZXIgLnVpLXNwaW5uZXItYnV0dG9uIjpmdW5jdGlvbih0KXtpZihuKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKXJldHVybiB0aGlzLl9zdGFydCh0KT09PSExPyExOih0aGlzLl9yZXBlYXQobnVsbCxuKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXNwaW5uZXItdXAiKT8xOi0xLHQpLHZvaWQgMCl9LCJtb3VzZWxlYXZlIC51aS1zcGlubmVyLWJ1dHRvbiI6Il9zdG9wIn0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLnVpU3Bpbm5lcj10aGlzLmVsZW1lbnQuYXR0cigiYXV0b2NvbXBsZXRlIiwib2ZmIikud3JhcCgiPHNwYW4+IikucGFyZW50KCkuYXBwZW5kKCI8YT48XC9hPjxhPjxcL2E+Iil9LF9kcmF3OmZ1bmN0aW9uKCl7dGhpcy5fZW5oYW5jZSgpO3RoaXMuX2FkZENsYXNzKHRoaXMudWlTcGlubmVyLCJ1aS1zcGlubmVyIiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50Iik7dGhpcy5fYWRkQ2xhc3MoInVpLXNwaW5uZXItaW5wdXQiKTt0aGlzLmVsZW1lbnQuYXR0cigicm9sZSIsInNwaW5idXR0b24iKTt0aGlzLmJ1dHRvbnM9dGhpcy51aVNwaW5uZXIuY2hpbGRyZW4oImEiKS5hdHRyKCJ0YWJJbmRleCIsLTEpLmF0dHIoImFyaWEtaGlkZGVuIiwhMCkuYnV0dG9uKHtjbGFzc2VzOnsidWktYnV0dG9uIjoiIn19KTt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmJ1dHRvbnMsInVpLWNvcm5lci1hbGwiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmJ1dHRvbnMuZmlyc3QoKSwidWktc3Bpbm5lci1idXR0b24gdWktc3Bpbm5lci11cCIpO3RoaXMuX2FkZENsYXNzKHRoaXMuYnV0dG9ucy5sYXN0KCksInVpLXNwaW5uZXItYnV0dG9uIHVpLXNwaW5uZXItZG93biIpO3RoaXMuYnV0dG9ucy5maXJzdCgpLmJ1dHRvbih7aWNvbjp0aGlzLm9wdGlvbnMuaWNvbnMudXAsc2hvd0xhYmVsOiExfSk7dGhpcy5idXR0b25zLmxhc3QoKS5idXR0b24oe2ljb246dGhpcy5vcHRpb25zLmljb25zLmRvd24sc2hvd0xhYmVsOiExfSk7dGhpcy5idXR0b25zLmhlaWdodCgpPk1hdGguY2VpbCguNSp0aGlzLnVpU3Bpbm5lci5oZWlnaHQoKSkmJnRoaXMudWlTcGlubmVyLmhlaWdodCgpPjAmJnRoaXMudWlTcGlubmVyLmhlaWdodCh0aGlzLnVpU3Bpbm5lci5oZWlnaHQoKSl9LF9rZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMub3B0aW9ucyxpPW4udWkua2V5Q29kZTtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIGkuVVA6cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLDEsdCksITA7Y2FzZSBpLkRPV046cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLC0xLHQpLCEwO2Nhc2UgaS5QQUdFX1VQOnJldHVybiB0aGlzLl9yZXBlYXQobnVsbCxyLnBhZ2UsdCksITA7Y2FzZSBpLlBBR0VfRE9XTjpyZXR1cm4gdGhpcy5fcmVwZWF0KG51bGwsLXIucGFnZSx0KSwhMH1yZXR1cm4hMX0sX3N0YXJ0OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnNwaW5uaW5nfHx0aGlzLl90cmlnZ2VyKCJzdGFydCIsbikhPT0hMT8odGhpcy5jb3VudGVyfHwodGhpcy5jb3VudGVyPTEpLHRoaXMuc3Bpbm5pbmc9ITAsITApOiExfSxfcmVwZWF0OmZ1bmN0aW9uKG4sdCxpKXtuPW58fDUwMDtjbGVhclRpbWVvdXQodGhpcy50aW1lcik7dGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX3JlcGVhdCg0MCx0LGkpfSxuKTt0aGlzLl9zcGluKHQqdGhpcy5vcHRpb25zLnN0ZXAsaSl9LF9zcGluOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy52YWx1ZSgpfHwwO3RoaXMuY291bnRlcnx8KHRoaXMuY291bnRlcj0xKTtpPXRoaXMuX2FkanVzdFZhbHVlKGkrbip0aGlzLl9pbmNyZW1lbnQodGhpcy5jb3VudGVyKSk7dGhpcy5zcGlubmluZyYmdGhpcy5fdHJpZ2dlcigic3BpbiIsdCx7dmFsdWU6aX0pPT09ITF8fCh0aGlzLl92YWx1ZShpKSx0aGlzLmNvdW50ZXIrKyl9LF9pbmNyZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zLmluY3JlbWVudGFsO3JldHVybiBpP24uaXNGdW5jdGlvbihpKT9pKHQpOk1hdGguZmxvb3IodCp0KnQvNWU0LXQqdC81MDArMTcqdC8yMDArMSk6MX0sX3ByZWNpc2lvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMuX3ByZWNpc2lvbk9mKHRoaXMub3B0aW9ucy5zdGVwKTtyZXR1cm4gbnVsbCE9PXRoaXMub3B0aW9ucy5taW4mJihuPU1hdGgubWF4KG4sdGhpcy5fcHJlY2lzaW9uT2YodGhpcy5vcHRpb25zLm1pbikpKSxufSxfcHJlY2lzaW9uT2Y6ZnVuY3Rpb24obil7dmFyIHQ9IiIrbixpPXQuaW5kZXhPZigiLiIpO3JldHVybi0xPT09aT8wOnQubGVuZ3RoLWktMX0sX2FkanVzdFZhbHVlOmZ1bmN0aW9uKG4pe3ZhciByLGksdD10aGlzLm9wdGlvbnM7cmV0dXJuIHI9bnVsbCE9PXQubWluP3QubWluOjAsaT1uLXIsaT1NYXRoLnJvdW5kKGkvdC5zdGVwKSp0LnN0ZXAsbj1yK2ksbj1wYXJzZUZsb2F0KG4udG9GaXhlZCh0aGlzLl9wcmVjaXNpb24oKSkpLG51bGwhPT10Lm1heCYmbj50Lm1heD90Lm1heDpudWxsIT09dC5taW4mJnQubWluPm4/dC5taW46bn0sX3N0b3A6ZnVuY3Rpb24obil7dGhpcy5zcGlubmluZyYmKGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKSxjbGVhclRpbWVvdXQodGhpcy5tb3VzZXdoZWVsVGltZXIpLHRoaXMuY291bnRlcj0wLHRoaXMuc3Bpbm5pbmc9ITEsdGhpcy5fdHJpZ2dlcigic3RvcCIsbikpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIHUsaSxyO3JldHVybiJjdWx0dXJlIj09PW58fCJudW1iZXJGb3JtYXQiPT09bj8odT10aGlzLl9wYXJzZSh0aGlzLmVsZW1lbnQudmFsKCkpLHRoaXMub3B0aW9uc1tuXT10LHRoaXMuZWxlbWVudC52YWwodGhpcy5fZm9ybWF0KHUpKSx2b2lkIDApOigoIm1heCI9PT1ufHwibWluIj09PW58fCJzdGVwIj09PW4pJiYic3RyaW5nIj09dHlwZW9mIHQmJih0PXRoaXMuX3BhcnNlKHQpKSwiaWNvbnMiPT09biYmKGk9dGhpcy5idXR0b25zLmZpcnN0KCkuZmluZCgiLnVpLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhpLG51bGwsdGhpcy5vcHRpb25zLmljb25zLnVwKSx0aGlzLl9hZGRDbGFzcyhpLG51bGwsdC51cCkscj10aGlzLmJ1dHRvbnMubGFzdCgpLmZpbmQoIi51aS1pY29uIiksdGhpcy5fcmVtb3ZlQ2xhc3MocixudWxsLHRoaXMub3B0aW9ucy5pY29ucy5kb3duKSx0aGlzLl9hZGRDbGFzcyhyLG51bGwsdC5kb3duKSksdGhpcy5fc3VwZXIobix0KSx2b2lkIDApfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy51aVNwaW5uZXIsbnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhbik7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhIW4pO3RoaXMuYnV0dG9ucy5idXR0b24obj8iZGlzYWJsZSI6ImVuYWJsZSIpfSxfc2V0T3B0aW9uczp0KGZ1bmN0aW9uKG4pe3RoaXMuX3N1cGVyKG4pfSksX3BhcnNlOmZ1bmN0aW9uKG4pe3JldHVybiJzdHJpbmciPT10eXBlb2YgbiYmIiIhPT1uJiYobj13aW5kb3cuR2xvYmFsaXplJiZ0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0P0dsb2JhbGl6ZS5wYXJzZUZsb2F0KG4sMTAsdGhpcy5vcHRpb25zLmN1bHR1cmUpOituKSwiIj09PW58fGlzTmFOKG4pP251bGw6bn0sX2Zvcm1hdDpmdW5jdGlvbihuKXtyZXR1cm4iIj09PW4/IiI6d2luZG93Lkdsb2JhbGl6ZSYmdGhpcy5vcHRpb25zLm51bWJlckZvcm1hdD9HbG9iYWxpemUuZm9ybWF0KG4sdGhpcy5vcHRpb25zLm51bWJlckZvcm1hdCx0aGlzLm9wdGlvbnMuY3VsdHVyZSk6bn0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cih7ImFyaWEtdmFsdWVtaW4iOnRoaXMub3B0aW9ucy5taW4sImFyaWEtdmFsdWVtYXgiOnRoaXMub3B0aW9ucy5tYXgsImFyaWEtdmFsdWVub3ciOnRoaXMuX3BhcnNlKHRoaXMuZWxlbWVudC52YWwoKSl9KX0saXNWYWxpZDpmdW5jdGlvbigpe3ZhciBuPXRoaXMudmFsdWUoKTtyZXR1cm4gbnVsbD09PW4/ITE6bj09PXRoaXMuX2FkanVzdFZhbHVlKG4pfSxfdmFsdWU6ZnVuY3Rpb24obix0KXt2YXIgaTsiIiE9PW4mJihpPXRoaXMuX3BhcnNlKG4pLG51bGwhPT1pJiYodHx8KGk9dGhpcy5fYWRqdXN0VmFsdWUoaSkpLG49dGhpcy5fZm9ybWF0KGkpKSk7dGhpcy5lbGVtZW50LnZhbChuKTt0aGlzLl9yZWZyZXNoKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhMSkucmVtb3ZlQXR0cigiYXV0b2NvbXBsZXRlIHJvbGUgYXJpYS12YWx1ZW1pbiBhcmlhLXZhbHVlbWF4IGFyaWEtdmFsdWVub3ciKTt0aGlzLnVpU3Bpbm5lci5yZXBsYWNlV2l0aCh0aGlzLmVsZW1lbnQpfSxzdGVwVXA6dChmdW5jdGlvbihuKXt0aGlzLl9zdGVwVXAobil9KSxfc3RlcFVwOmZ1bmN0aW9uKG4pe3RoaXMuX3N0YXJ0KCkmJih0aGlzLl9zcGluKChufHwxKSp0aGlzLm9wdGlvbnMuc3RlcCksdGhpcy5fc3RvcCgpKX0sc3RlcERvd246dChmdW5jdGlvbihuKXt0aGlzLl9zdGVwRG93bihuKX0pLF9zdGVwRG93bjpmdW5jdGlvbihuKXt0aGlzLl9zdGFydCgpJiYodGhpcy5fc3Bpbigobnx8MSkqLXRoaXMub3B0aW9ucy5zdGVwKSx0aGlzLl9zdG9wKCkpfSxwYWdlVXA6dChmdW5jdGlvbihuKXt0aGlzLl9zdGVwVXAoKG58fDEpKnRoaXMub3B0aW9ucy5wYWdlKX0pLHBhZ2VEb3duOnQoZnVuY3Rpb24obil7dGhpcy5fc3RlcERvd24oKG58fDEpKnRoaXMub3B0aW9ucy5wYWdlKX0pLHZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0KHRoaXMuX3ZhbHVlKS5jYWxsKHRoaXMsbiksdm9pZCAwKTp0aGlzLl9wYXJzZSh0aGlzLmVsZW1lbnQudmFsKCkpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aVNwaW5uZXJ9fSk7bi51aUJhY2tDb21wYXQhPT0hMSYmbi53aWRnZXQoInVpLnNwaW5uZXIiLG4udWkuc3Bpbm5lcix7X2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLnVpU3Bpbm5lcj10aGlzLmVsZW1lbnQuYXR0cigiYXV0b2NvbXBsZXRlIiwib2ZmIikud3JhcCh0aGlzLl91aVNwaW5uZXJIdG1sKCkpLnBhcmVudCgpLmFwcGVuZCh0aGlzLl9idXR0b25IdG1sKCkpfSxfdWlTcGlubmVySHRtbDpmdW5jdGlvbigpe3JldHVybiI8c3Bhbj4ifSxfYnV0dG9uSHRtbDpmdW5jdGlvbigpe3JldHVybiI8YT48XC9hPjxhPjxcL2E+In19KTtuLnVpLnNwaW5uZXI7bi53aWRnZXQoInVpLnRhYnMiLHt2ZXJzaW9uOiIxLjEyLjEiLGRlbGF5OjMwMCxvcHRpb25zOnthY3RpdmU6bnVsbCxjbGFzc2VzOnsidWktdGFicyI6InVpLWNvcm5lci1hbGwiLCJ1aS10YWJzLW5hdiI6InVpLWNvcm5lci1hbGwiLCJ1aS10YWJzLXBhbmVsIjoidWktY29ybmVyLWJvdHRvbSIsInVpLXRhYnMtdGFiIjoidWktY29ybmVyLXRvcCJ9LGNvbGxhcHNpYmxlOiExLGV2ZW50OiJjbGljayIsaGVpZ2h0U3R5bGU6ImNvbnRlbnQiLGhpZGU6bnVsbCxzaG93Om51bGwsYWN0aXZhdGU6bnVsbCxiZWZvcmVBY3RpdmF0ZTpudWxsLGJlZm9yZUxvYWQ6bnVsbCxsb2FkOm51bGx9LF9pc0xvY2FsOmZ1bmN0aW9uKCl7dmFyIG49LyMuKiQvO3JldHVybiBmdW5jdGlvbih0KXt2YXIgaSxyO2k9dC5ocmVmLnJlcGxhY2UobiwiIik7cj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UobiwiIik7dHJ5e2k9ZGVjb2RlVVJJQ29tcG9uZW50KGkpfWNhdGNoKHUpe310cnl7cj1kZWNvZGVVUklDb21wb25lbnQocil9Y2F0Y2godSl7fXJldHVybiB0Lmhhc2gubGVuZ3RoPjEmJmk9PT1yfX0oKSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcyx0PXRoaXMub3B0aW9uczt0aGlzLnJ1bm5pbmc9ITE7dGhpcy5fYWRkQ2xhc3MoInVpLXRhYnMiLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQiKTt0aGlzLl90b2dnbGVDbGFzcygidWktdGFicy1jb2xsYXBzaWJsZSIsbnVsbCx0LmNvbGxhcHNpYmxlKTt0aGlzLl9wcm9jZXNzVGFicygpO3QuYWN0aXZlPXRoaXMuX2luaXRpYWxBY3RpdmUoKTtuLmlzQXJyYXkodC5kaXNhYmxlZCkmJih0LmRpc2FibGVkPW4udW5pcXVlKHQuZGlzYWJsZWQuY29uY2F0KG4ubWFwKHRoaXMudGFicy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKG4pe3JldHVybiBpLnRhYnMuaW5kZXgobil9KSkpLnNvcnQoKSk7dGhpcy5hY3RpdmU9dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuX2ZpbmRBY3RpdmUodC5hY3RpdmUpOm4oKTt0aGlzLl9yZWZyZXNoKCk7dGhpcy5hY3RpdmUubGVuZ3RoJiZ0aGlzLmxvYWQodC5hY3RpdmUpfSxfaW5pdGlhbEFjdGl2ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hY3RpdmUsaT10aGlzLm9wdGlvbnMuY29sbGFwc2libGUscj1sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKTtyZXR1cm4gbnVsbD09PXQmJihyJiZ0aGlzLnRhYnMuZWFjaChmdW5jdGlvbihpLHUpe2lmKG4odSkuYXR0cigiYXJpYS1jb250cm9scyIpPT09cilyZXR1cm4odD1pLCExKX0pLG51bGw9PT10JiYodD10aGlzLnRhYnMuaW5kZXgodGhpcy50YWJzLmZpbHRlcigiLnVpLXRhYnMtYWN0aXZlIikpKSwobnVsbD09PXR8fC0xPT09dCkmJih0PXRoaXMudGFicy5sZW5ndGg/MDohMSkpLHQhPT0hMSYmKHQ9dGhpcy50YWJzLmluZGV4KHRoaXMudGFicy5lcSh0KSksLTE9PT10JiYodD1pPyExOjApKSwhaSYmdD09PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoJiYodD0wKSx0fSxfZ2V0Q3JlYXRlRXZlbnREYXRhOmZ1bmN0aW9uKCl7cmV0dXJue3RhYjp0aGlzLmFjdGl2ZSxwYW5lbDp0aGlzLmFjdGl2ZS5sZW5ndGg/dGhpcy5fZ2V0UGFuZWxGb3JUYWIodGhpcy5hY3RpdmUpOm4oKX19LF90YWJLZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciByPW4obi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSkuY2xvc2VzdCgibGkiKSxpPXRoaXMudGFicy5pbmRleChyKSx1PSEwO2lmKCF0aGlzLl9oYW5kbGVQYWdlTmF2KHQpKXtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5SSUdIVDpjYXNlIG4udWkua2V5Q29kZS5ET1dOOmkrKzticmVhaztjYXNlIG4udWkua2V5Q29kZS5VUDpjYXNlIG4udWkua2V5Q29kZS5MRUZUOnU9ITE7aS0tO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkVORDppPXRoaXMuYW5jaG9ycy5sZW5ndGgtMTticmVhaztjYXNlIG4udWkua2V5Q29kZS5IT01FOmk9MDticmVhaztjYXNlIG4udWkua2V5Q29kZS5TUEFDRTpyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLHRoaXMuX2FjdGl2YXRlKGkpLHZvaWQgMDtjYXNlIG4udWkua2V5Q29kZS5FTlRFUjpyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLHRoaXMuX2FjdGl2YXRlKGk9PT10aGlzLm9wdGlvbnMuYWN0aXZlPyExOmkpLHZvaWQgMDtkZWZhdWx0OnJldHVybn10LnByZXZlbnREZWZhdWx0KCk7Y2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGluZyk7aT10aGlzLl9mb2N1c05leHRUYWIoaSx1KTt0LmN0cmxLZXl8fHQubWV0YUtleXx8KHIuYXR0cigiYXJpYS1zZWxlY3RlZCIsImZhbHNlIiksdGhpcy50YWJzLmVxKGkpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCJ0cnVlIiksdGhpcy5hY3RpdmF0aW5nPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5vcHRpb24oImFjdGl2ZSIsaSl9LHRoaXMuZGVsYXkpKX19LF9wYW5lbEtleWRvd246ZnVuY3Rpb24odCl7dGhpcy5faGFuZGxlUGFnZU5hdih0KXx8dC5jdHJsS2V5JiZ0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuVVAmJih0LnByZXZlbnREZWZhdWx0KCksdGhpcy5hY3RpdmUudHJpZ2dlcigiZm9jdXMiKSl9LF9oYW5kbGVQYWdlTmF2OmZ1bmN0aW9uKHQpe3JldHVybiB0LmFsdEtleSYmdC5rZXlDb2RlPT09bi51aS5rZXlDb2RlLlBBR0VfVVA/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlLTEsITEpKSwhMCk6dC5hbHRLZXkmJnQua2V5Q29kZT09PW4udWkua2V5Q29kZS5QQUdFX0RPV04/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlKzEsITApKSwhMCk6dm9pZCAwfSxfZmluZE5leHRUYWI6ZnVuY3Rpb24odCxpKXtmdW5jdGlvbiB1KCl7cmV0dXJuIHQ+ciYmKHQ9MCksMD50JiYodD1yKSx0fWZvcih2YXIgcj10aGlzLnRhYnMubGVuZ3RoLTE7LTEhPT1uLmluQXJyYXkodSgpLHRoaXMub3B0aW9ucy5kaXNhYmxlZCk7KXQ9aT90KzE6dC0xO3JldHVybiB0fSxfZm9jdXNOZXh0VGFiOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49dGhpcy5fZmluZE5leHRUYWIobix0KSx0aGlzLnRhYnMuZXEobikudHJpZ2dlcigiZm9jdXMiKSxufSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7cmV0dXJuImFjdGl2ZSI9PT1uPyh0aGlzLl9hY3RpdmF0ZSh0KSx2b2lkIDApOih0aGlzLl9zdXBlcihuLHQpLCJjb2xsYXBzaWJsZSI9PT1uJiYodGhpcy5fdG9nZ2xlQ2xhc3MoInVpLXRhYnMtY29sbGFwc2libGUiLG51bGwsdCksdHx8dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExfHx0aGlzLl9hY3RpdmF0ZSgwKSksImV2ZW50Ij09PW4mJnRoaXMuX3NldHVwRXZlbnRzKHQpLCJoZWlnaHRTdHlsZSI9PT1uJiZ0aGlzLl9zZXR1cEhlaWdodFN0eWxlKHQpLHZvaWQgMCl9LF9zYW5pdGl6ZVNlbGVjdG9yOmZ1bmN0aW9uKG4pe3JldHVybiBuP24ucmVwbGFjZSgvWyEiJCUmJygpKissLlwvOjs8PT4/QFxbXF1cXmB7fH1+XS9nLCJcXCQmIik6IiJ9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMsaT10aGlzLnRhYmxpc3QuY2hpbGRyZW4oIjpoYXMoYVtocmVmXSkiKTt0LmRpc2FibGVkPW4ubWFwKGkuZmlsdGVyKCIudWktc3RhdGUtZGlzYWJsZWQiKSxmdW5jdGlvbihuKXtyZXR1cm4gaS5pbmRleChuKX0pO3RoaXMuX3Byb2Nlc3NUYWJzKCk7dC5hY3RpdmUhPT0hMSYmdGhpcy5hbmNob3JzLmxlbmd0aD90aGlzLmFjdGl2ZS5sZW5ndGgmJiFuLmNvbnRhaW5zKHRoaXMudGFibGlzdFswXSx0aGlzLmFjdGl2ZVswXSk/dGhpcy50YWJzLmxlbmd0aD09PXQuZGlzYWJsZWQubGVuZ3RoPyh0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpOnRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZpbmROZXh0VGFiKE1hdGgubWF4KDAsdC5hY3RpdmUtMSksITEpKTp0LmFjdGl2ZT10aGlzLnRhYnMuaW5kZXgodGhpcy5hY3RpdmUpOih0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpO3RoaXMuX3JlZnJlc2goKX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpO3RoaXMuX3NldHVwRXZlbnRzKHRoaXMub3B0aW9ucy5ldmVudCk7dGhpcy5fc2V0dXBIZWlnaHRTdHlsZSh0aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUpO3RoaXMudGFicy5ub3QodGhpcy5hY3RpdmUpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLHRhYkluZGV4Oi0xfSk7dGhpcy5wYW5lbHMubm90KHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKSkuaGlkZSgpLmF0dHIoeyJhcmlhLWhpZGRlbiI6InRydWUifSk7dGhpcy5hY3RpdmUubGVuZ3RoPyh0aGlzLmFjdGl2ZS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLCJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pLHRoaXMuX2FkZENsYXNzKHRoaXMuYWN0aXZlLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKS5zaG93KCkuYXR0cih7ImFyaWEtaGlkZGVuIjoiZmFsc2UifSkpOnRoaXMudGFicy5lcSgwKS5hdHRyKCJ0YWJJbmRleCIsMCl9LF9wcm9jZXNzVGFiczpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT10aGlzLnRhYnMscj10aGlzLmFuY2hvcnMsdT10aGlzLnBhbmVsczt0aGlzLnRhYmxpc3Q9dGhpcy5fZ2V0TGlzdCgpLmF0dHIoInJvbGUiLCJ0YWJsaXN0Iik7dGhpcy5fYWRkQ2xhc3ModGhpcy50YWJsaXN0LCJ1aS10YWJzLW5hdiIsInVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciIpO3RoaXMudGFibGlzdC5vbigibW91c2Vkb3duIit0aGlzLmV2ZW50TmFtZXNwYWNlLCI+IGxpIixmdW5jdGlvbih0KXtuKHRoaXMpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdC5wcmV2ZW50RGVmYXVsdCgpfSkub24oImZvY3VzIit0aGlzLmV2ZW50TmFtZXNwYWNlLCIudWktdGFicy1hbmNob3IiLGZ1bmN0aW9uKCl7bih0aGlzKS5jbG9zZXN0KCJsaSIpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5ibHVyKCl9KTt0aGlzLnRhYnM9dGhpcy50YWJsaXN0LmZpbmQoIj4gbGk6aGFzKGFbaHJlZl0pIikuYXR0cih7cm9sZToidGFiIix0YWJJbmRleDotMX0pO3RoaXMuX2FkZENsYXNzKHRoaXMudGFicywidWktdGFicy10YWIiLCJ1aS1zdGF0ZS1kZWZhdWx0Iik7dGhpcy5hbmNob3JzPXRoaXMudGFicy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbigiYSIsdGhpcylbMF19KS5hdHRyKHtyb2xlOiJwcmVzZW50YXRpb24iLHRhYkluZGV4Oi0xfSk7dGhpcy5fYWRkQ2xhc3ModGhpcy5hbmNob3JzLCJ1aS10YWJzLWFuY2hvciIpO3RoaXMucGFuZWxzPW4oKTt0aGlzLmFuY2hvcnMuZWFjaChmdW5jdGlvbihpLHIpe3ZhciBmLHUsZSxzPW4ocikudW5pcXVlSWQoKS5hdHRyKCJpZCIpLG89bihyKS5jbG9zZXN0KCJsaSIpLGg9by5hdHRyKCJhcmlhLWNvbnRyb2xzIik7dC5faXNMb2NhbChyKT8oZj1yLmhhc2gsZT1mLnN1YnN0cmluZygxKSx1PXQuZWxlbWVudC5maW5kKHQuX3Nhbml0aXplU2VsZWN0b3IoZikpKTooZT1vLmF0dHIoImFyaWEtY29udHJvbHMiKXx8bih7fSkudW5pcXVlSWQoKVswXS5pZCxmPSIjIitlLHU9dC5lbGVtZW50LmZpbmQoZiksdS5sZW5ndGh8fCh1PXQuX2NyZWF0ZVBhbmVsKGUpLHUuaW5zZXJ0QWZ0ZXIodC5wYW5lbHNbaS0xXXx8dC50YWJsaXN0KSksdS5hdHRyKCJhcmlhLWxpdmUiLCJwb2xpdGUiKSk7dS5sZW5ndGgmJih0LnBhbmVscz10LnBhbmVscy5hZGQodSkpO2gmJm8uZGF0YSgidWktdGFicy1hcmlhLWNvbnRyb2xzIixoKTtvLmF0dHIoeyJhcmlhLWNvbnRyb2xzIjplLCJhcmlhLWxhYmVsbGVkYnkiOnN9KTt1LmF0dHIoImFyaWEtbGFiZWxsZWRieSIscyl9KTt0aGlzLnBhbmVscy5hdHRyKCJyb2xlIiwidGFicGFuZWwiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnBhbmVscywidWktdGFicy1wYW5lbCIsInVpLXdpZGdldC1jb250ZW50Iik7aSYmKHRoaXMuX29mZihpLm5vdCh0aGlzLnRhYnMpKSx0aGlzLl9vZmYoci5ub3QodGhpcy5hbmNob3JzKSksdGhpcy5fb2ZmKHUubm90KHRoaXMucGFuZWxzKSkpfSxfZ2V0TGlzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRhYmxpc3R8fHRoaXMuZWxlbWVudC5maW5kKCJvbCwgdWwiKS5lcSgwKX0sX2NyZWF0ZVBhbmVsOmZ1bmN0aW9uKHQpe3JldHVybiBuKCI8ZGl2PiIpLmF0dHIoImlkIix0KS5kYXRhKCJ1aS10YWJzLWRlc3Ryb3kiLCEwKX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKHQpe3ZhciBpLHUscjtmb3Iobi5pc0FycmF5KHQpJiYodC5sZW5ndGg/dC5sZW5ndGg9PT10aGlzLmFuY2hvcnMubGVuZ3RoJiYodD0hMCk6dD0hMSkscj0wO3U9dGhpcy50YWJzW3JdO3IrKylpPW4odSksdD09PSEwfHwtMSE9PW4uaW5BcnJheShyLHQpPyhpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIiksdGhpcy5fYWRkQ2xhc3MoaSxudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIpKTooaS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIiksdGhpcy5fcmVtb3ZlQ2xhc3MoaSxudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIpKTt0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9dDt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLndpZGdldCgpLHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCIsbnVsbCx0PT09ITApfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24odCl7dmFyIGk9e307dCYmbi5lYWNoKHQuc3BsaXQoIiAiKSxmdW5jdGlvbihuLHQpe2lbdF09Il9ldmVudEhhbmRsZXIifSk7dGhpcy5fb2ZmKHRoaXMuYW5jaG9ycy5hZGQodGhpcy50YWJzKS5hZGQodGhpcy5wYW5lbHMpKTt0aGlzLl9vbighMCx0aGlzLmFuY2hvcnMse2NsaWNrOmZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX19KTt0aGlzLl9vbih0aGlzLmFuY2hvcnMsaSk7dGhpcy5fb24odGhpcy50YWJzLHtrZXlkb3duOiJfdGFiS2V5ZG93biJ9KTt0aGlzLl9vbih0aGlzLnBhbmVscyx7a2V5ZG93bjoiX3BhbmVsS2V5ZG93biJ9KTt0aGlzLl9mb2N1c2FibGUodGhpcy50YWJzKTt0aGlzLl9ob3ZlcmFibGUodGhpcy50YWJzKX0sX3NldHVwSGVpZ2h0U3R5bGU6ZnVuY3Rpb24odCl7dmFyIGkscj10aGlzLmVsZW1lbnQucGFyZW50KCk7ImZpbGwiPT09dD8oaT1yLmhlaWdodCgpLGktPXRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLXRoaXMuZWxlbWVudC5oZWlnaHQoKSx0aGlzLmVsZW1lbnQuc2libGluZ3MoIjp2aXNpYmxlIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcykscj10LmNzcygicG9zaXRpb24iKTsiYWJzb2x1dGUiIT09ciYmImZpeGVkIiE9PXImJihpLT10Lm91dGVySGVpZ2h0KCEwKSl9KSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS5ub3QodGhpcy5wYW5lbHMpLmVhY2goZnVuY3Rpb24oKXtpLT1uKHRoaXMpLm91dGVySGVpZ2h0KCEwKX0pLHRoaXMucGFuZWxzLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmhlaWdodChNYXRoLm1heCgwLGktbih0aGlzKS5pbm5lckhlaWdodCgpK24odGhpcykuaGVpZ2h0KCkpKX0pLmNzcygib3ZlcmZsb3ciLCJhdXRvIikpOiJhdXRvIj09PXQmJihpPTAsdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe2k9TWF0aC5tYXgoaSxuKHRoaXMpLmhlaWdodCgiIikuaGVpZ2h0KCkpfSkuaGVpZ2h0KGkpKX0sX2V2ZW50SGFuZGxlcjpmdW5jdGlvbih0KXt2YXIgdT10aGlzLm9wdGlvbnMscj10aGlzLmFjdGl2ZSxjPW4odC5jdXJyZW50VGFyZ2V0KSxpPWMuY2xvc2VzdCgibGkiKSxmPWlbMF09PT1yWzBdLGU9ZiYmdS5jb2xsYXBzaWJsZSxvPWU/bigpOnRoaXMuX2dldFBhbmVsRm9yVGFiKGkpLHM9ci5sZW5ndGg/dGhpcy5fZ2V0UGFuZWxGb3JUYWIocik6bigpLGg9e29sZFRhYjpyLG9sZFBhbmVsOnMsbmV3VGFiOmU/bigpOmksbmV3UGFuZWw6b307dC5wcmV2ZW50RGVmYXVsdCgpO2kuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil8fGkuaGFzQ2xhc3MoInVpLXRhYnMtbG9hZGluZyIpfHx0aGlzLnJ1bm5pbmd8fGYmJiF1LmNvbGxhcHNpYmxlfHx0aGlzLl90cmlnZ2VyKCJiZWZvcmVBY3RpdmF0ZSIsdCxoKT09PSExfHwodS5hY3RpdmU9ZT8hMTp0aGlzLnRhYnMuaW5kZXgoaSksdGhpcy5hY3RpdmU9Zj9uKCk6aSx0aGlzLnhociYmdGhpcy54aHIuYWJvcnQoKSxzLmxlbmd0aHx8by5sZW5ndGh8fG4uZXJyb3IoImpRdWVyeSBVSSBUYWJzOiBNaXNtYXRjaGluZyBmcmFnbWVudCBpZGVudGlmaWVyLiIpLG8ubGVuZ3RoJiZ0aGlzLmxvYWQodGhpcy50YWJzLmluZGV4KGkpLHQpLHRoaXMuX3RvZ2dsZSh0LGgpKX0sX3RvZ2dsZTpmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUoKXtyLnJ1bm5pbmc9ITE7ci5fdHJpZ2dlcigiYWN0aXZhdGUiLHQsaSl9ZnVuY3Rpb24gbygpe3IuX2FkZENsYXNzKGkubmV3VGFiLmNsb3Nlc3QoImxpIiksInVpLXRhYnMtYWN0aXZlIiwidWktc3RhdGUtYWN0aXZlIik7dS5sZW5ndGgmJnIub3B0aW9ucy5zaG93P3IuX3Nob3codSxyLm9wdGlvbnMuc2hvdyxlKToodS5zaG93KCksZSgpKX12YXIgcj10aGlzLHU9aS5uZXdQYW5lbCxmPWkub2xkUGFuZWw7dGhpcy5ydW5uaW5nPSEwO2YubGVuZ3RoJiZ0aGlzLm9wdGlvbnMuaGlkZT90aGlzLl9oaWRlKGYsdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtyLl9yZW1vdmVDbGFzcyhpLm9sZFRhYi5jbG9zZXN0KCJsaSIpLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpO28oKX0pOih0aGlzLl9yZW1vdmVDbGFzcyhpLm9sZFRhYi5jbG9zZXN0KCJsaSIpLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLGYuaGlkZSgpLG8oKSk7Zi5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKTtpLm9sZFRhYi5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIn0pO3UubGVuZ3RoJiZmLmxlbmd0aD9pLm9sZFRhYi5hdHRyKCJ0YWJJbmRleCIsLTEpOnUubGVuZ3RoJiZ0aGlzLnRhYnMuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1uKHRoaXMpLmF0dHIoInRhYkluZGV4Iil9KS5hdHRyKCJ0YWJJbmRleCIsLTEpO3UuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpO2kubmV3VGFiLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJ0cnVlIix0YWJJbmRleDowfSl9LF9hY3RpdmF0ZTpmdW5jdGlvbih0KXt2YXIgcixpPXRoaXMuX2ZpbmRBY3RpdmUodCk7aVswXSE9PXRoaXMuYWN0aXZlWzBdJiYoaS5sZW5ndGh8fChpPXRoaXMuYWN0aXZlKSxyPWkuZmluZCgiLnVpLXRhYnMtYW5jaG9yIilbMF0sdGhpcy5fZXZlbnRIYW5kbGVyKHt0YXJnZXQ6cixjdXJyZW50VGFyZ2V0OnIscHJldmVudERlZmF1bHQ6bi5ub29wfSkpfSxfZmluZEFjdGl2ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD09PSExP24oKTp0aGlzLnRhYnMuZXEodCl9LF9nZXRJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQmJih0PXRoaXMuYW5jaG9ycy5pbmRleCh0aGlzLmFuY2hvcnMuZmlsdGVyKCJbaHJlZiQ9JyIrbi51aS5lc2NhcGVTZWxlY3Rvcih0KSsiJ10iKSkpLHR9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy54aHImJnRoaXMueGhyLmFib3J0KCk7dGhpcy50YWJsaXN0LnJlbW92ZUF0dHIoInJvbGUiKS5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSk7dGhpcy5hbmNob3JzLnJlbW92ZUF0dHIoInJvbGUgdGFiSW5kZXgiKS5yZW1vdmVVbmlxdWVJZCgpO3RoaXMudGFicy5hZGQodGhpcy5wYW5lbHMpLmVhY2goZnVuY3Rpb24oKXtuLmRhdGEodGhpcywidWktdGFicy1kZXN0cm95Iik/bih0aGlzKS5yZW1vdmUoKTpuKHRoaXMpLnJlbW92ZUF0dHIoInJvbGUgdGFiSW5kZXggYXJpYS1saXZlIGFyaWEtYnVzeSBhcmlhLXNlbGVjdGVkIGFyaWEtbGFiZWxsZWRieSBhcmlhLWhpZGRlbiBhcmlhLWV4cGFuZGVkIil9KTt0aGlzLnRhYnMuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksaT10LmRhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIpO2k/dC5hdHRyKCJhcmlhLWNvbnRyb2xzIixpKS5yZW1vdmVEYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiKTp0LnJlbW92ZUF0dHIoImFyaWEtY29udHJvbHMiKX0pO3RoaXMucGFuZWxzLnNob3coKTsiY29udGVudCIhPT10aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJnRoaXMucGFuZWxzLmNzcygiaGVpZ2h0IiwiIil9LGVuYWJsZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7aSE9PSExJiYodm9pZCAwPT09dD9pPSExOih0PXRoaXMuX2dldEluZGV4KHQpLGk9bi5pc0FycmF5KGkpP24ubWFwKGksZnVuY3Rpb24obil7cmV0dXJuIG4hPT10P246bnVsbH0pOm4ubWFwKHRoaXMudGFicyxmdW5jdGlvbihuLGkpe3JldHVybiBpIT09dD9pOm51bGx9KSksdGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQoaSkpfSxkaXNhYmxlOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucy5kaXNhYmxlZDtpZihpIT09ITApe2lmKHZvaWQgMD09PXQpaT0hMDtlbHNle2lmKHQ9dGhpcy5fZ2V0SW5kZXgodCksLTEhPT1uLmluQXJyYXkodCxpKSlyZXR1cm47aT1uLmlzQXJyYXkoaSk/bi5tZXJnZShbdF0saSkuc29ydCgpOlt0XX10aGlzLl9zZXRPcHRpb25EaXNhYmxlZChpKX19LGxvYWQ6ZnVuY3Rpb24odCxpKXt0PXRoaXMuX2dldEluZGV4KHQpO3ZhciByPXRoaXMsdT10aGlzLnRhYnMuZXEodCksZT11LmZpbmQoIi51aS10YWJzLWFuY2hvciIpLGY9dGhpcy5fZ2V0UGFuZWxGb3JUYWIodSksbz17dGFiOnUscGFuZWw6Zn0scz1mdW5jdGlvbihuLHQpeyJhYm9ydCI9PT10JiZyLnBhbmVscy5zdG9wKCExLCEwKTtyLl9yZW1vdmVDbGFzcyh1LCJ1aS10YWJzLWxvYWRpbmciKTtmLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpO249PT1yLnhociYmZGVsZXRlIHIueGhyfTt0aGlzLl9pc0xvY2FsKGVbMF0pfHwodGhpcy54aHI9bi5hamF4KHRoaXMuX2FqYXhTZXR0aW5ncyhlLGksbykpLHRoaXMueGhyJiYiY2FuY2VsZWQiIT09dGhpcy54aHIuc3RhdHVzVGV4dCYmKHRoaXMuX2FkZENsYXNzKHUsInVpLXRhYnMtbG9hZGluZyIpLGYuYXR0cigiYXJpYS1idXN5IiwidHJ1ZSIpLHRoaXMueGhyLmRvbmUoZnVuY3Rpb24obix0LHUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtmLmh0bWwobik7ci5fdHJpZ2dlcigibG9hZCIsaSxvKTtzKHUsdCl9LDEpfSkuZmFpbChmdW5jdGlvbihuLHQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtzKG4sdCl9LDEpfSkpKX0sX2FqYXhTZXR0aW5nczpmdW5jdGlvbih0LGkscil7dmFyIHU9dGhpcztyZXR1cm57dXJsOnQuYXR0cigiaHJlZiIpLnJlcGxhY2UoLyMuKiQvLCIiKSxiZWZvcmVTZW5kOmZ1bmN0aW9uKHQsZil7cmV0dXJuIHUuX3RyaWdnZXIoImJlZm9yZUxvYWQiLGksbi5leHRlbmQoe2pxWEhSOnQsYWpheFNldHRpbmdzOmZ9LHIpKX19fSxfZ2V0UGFuZWxGb3JUYWI6ZnVuY3Rpb24odCl7dmFyIGk9bih0KS5hdHRyKCJhcmlhLWNvbnRyb2xzIik7cmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKHRoaXMuX3Nhbml0aXplU2VsZWN0b3IoIiMiK2kpKX19KTtuLnVpQmFja0NvbXBhdCE9PSExJiZuLndpZGdldCgidWkudGFicyIsbi51aS50YWJzLHtfcHJvY2Vzc1RhYnM6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyk7dGhpcy5fYWRkQ2xhc3ModGhpcy50YWJzLCJ1aS10YWIiKX19KTtuLnVpLnRhYnM7bi53aWRnZXQoInVpLnRvb2x0aXAiLHt2ZXJzaW9uOiIxLjEyLjEiLG9wdGlvbnM6e2NsYXNzZXM6eyJ1aS10b29sdGlwIjoidWktY29ybmVyLWFsbCB1aS13aWRnZXQtc2hhZG93In0sY29udGVudDpmdW5jdGlvbigpe3ZhciB0PW4odGhpcykuYXR0cigidGl0bGUiKXx8IiI7cmV0dXJuIG4oIjxhPiIpLnRleHQodCkuaHRtbCgpfSxoaWRlOiEwLGl0ZW1zOiJbdGl0bGVdOm5vdChbZGlzYWJsZWRdKSIscG9zaXRpb246e215OiJsZWZ0IHRvcCsxNSIsYXQ6ImxlZnQgYm90dG9tIixjb2xsaXNpb246ImZsaXBmaXQgZmxpcCJ9LHNob3c6ITAsdHJhY2s6ITEsY2xvc2U6bnVsbCxvcGVuOm51bGx9LF9hZGREZXNjcmliZWRCeTpmdW5jdGlvbih0LGkpe3ZhciByPSh0LmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKXx8IiIpLnNwbGl0KC9ccysvKTtyLnB1c2goaSk7dC5kYXRhKCJ1aS10b29sdGlwLWlkIixpKS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IixuLnRyaW0oci5qb2luKCIgIikpKX0sX3JlbW92ZURlc2NyaWJlZEJ5OmZ1bmN0aW9uKHQpe3ZhciB1PXQuZGF0YSgidWktdG9vbHRpcC1pZCIpLGk9KHQuYXR0cigiYXJpYS1kZXNjcmliZWRieSIpfHwiIikuc3BsaXQoL1xzKy8pLHI9bi5pbkFycmF5KHUsaSk7LTEhPT1yJiZpLnNwbGljZShyLDEpO3QucmVtb3ZlRGF0YSgidWktdG9vbHRpcC1pZCIpO2k9bi50cmltKGkuam9pbigiICIpKTtpP3QuYXR0cigiYXJpYS1kZXNjcmliZWRieSIsaSk6dC5yZW1vdmVBdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iil9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9vbih7bW91c2VvdmVyOiJvcGVuIixmb2N1c2luOiJvcGVuIn0pO3RoaXMudG9vbHRpcHM9e307dGhpcy5wYXJlbnRzPXt9O3RoaXMubGl2ZVJlZ2lvbj1uKCI8ZGl2PiIpLmF0dHIoe3JvbGU6ImxvZyIsImFyaWEtbGl2ZSI6ImFzc2VydGl2ZSIsImFyaWEtcmVsZXZhbnQiOiJhZGRpdGlvbnMifSkuYXBwZW5kVG8odGhpcy5kb2N1bWVudFswXS5ib2R5KTt0aGlzLl9hZGRDbGFzcyh0aGlzLmxpdmVSZWdpb24sbnVsbCwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIik7dGhpcy5kaXNhYmxlZFRpdGxlcz1uKFtdKX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGkpe3ZhciByPXRoaXM7dGhpcy5fc3VwZXIodCxpKTsiY29udGVudCI9PT10JiZuLmVhY2godGhpcy50b29sdGlwcyxmdW5jdGlvbihuLHQpe3IuX3VwZGF0ZUNvbnRlbnQodC5lbGVtZW50KX0pfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpc1tuPyJfZGlzYWJsZSI6Il9lbmFibGUiXSgpfSxfZGlzYWJsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7bi5lYWNoKHRoaXMudG9vbHRpcHMsZnVuY3Rpb24oaSxyKXt2YXIgdT1uLkV2ZW50KCJibHVyIik7dS50YXJnZXQ9dS5jdXJyZW50VGFyZ2V0PXIuZWxlbWVudFswXTt0LmNsb3NlKHUsITApfSk7dGhpcy5kaXNhYmxlZFRpdGxlcz10aGlzLmRpc2FibGVkVGl0bGVzLmFkZCh0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmFkZEJhY2soKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO2lmKHQuaXMoIlt0aXRsZV0iKSlyZXR1cm4gdC5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIix0LmF0dHIoInRpdGxlIikpLnJlbW92ZUF0dHIoInRpdGxlIil9KSl9LF9lbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkVGl0bGVzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3QuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpJiZ0LmF0dHIoInRpdGxlIix0LmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSl9KTt0aGlzLmRpc2FibGVkVGl0bGVzPW4oW10pfSxvcGVuOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsaT1uKHQ/dC50YXJnZXQ6dGhpcy5lbGVtZW50KS5jbG9zZXN0KHRoaXMub3B0aW9ucy5pdGVtcyk7aS5sZW5ndGgmJiFpLmRhdGEoInVpLXRvb2x0aXAtaWQiKSYmKGkuYXR0cigidGl0bGUiKSYmaS5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIixpLmF0dHIoInRpdGxlIikpLGkuZGF0YSgidWktdG9vbHRpcC1vcGVuIiwhMCksdCYmIm1vdXNlb3ZlciI9PT10LnR5cGUmJmkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKXt2YXIgaSx0PW4odGhpcyk7dC5kYXRhKCJ1aS10b29sdGlwLW9wZW4iKSYmKGk9bi5FdmVudCgiYmx1ciIpLGkudGFyZ2V0PWkuY3VycmVudFRhcmdldD10aGlzLHIuY2xvc2UoaSwhMCkpO3QuYXR0cigidGl0bGUiKSYmKHQudW5pcXVlSWQoKSxyLnBhcmVudHNbdGhpcy5pZF09e2VsZW1lbnQ6dGhpcyx0aXRsZTp0LmF0dHIoInRpdGxlIil9LHQuYXR0cigidGl0bGUiLCIiKSl9KSx0aGlzLl9yZWdpc3RlckNsb3NlSGFuZGxlcnModCxpKSx0aGlzLl91cGRhdGVDb250ZW50KGksdCkpfSxfdXBkYXRlQ29udGVudDpmdW5jdGlvbihuLHQpe3ZhciByLGk9dGhpcy5vcHRpb25zLmNvbnRlbnQsdT10aGlzLGY9dD90LnR5cGU6bnVsbDtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGl8fGkubm9kZVR5cGV8fGkuanF1ZXJ5P3RoaXMuX29wZW4odCxuLGkpOihyPWkuY2FsbChuWzBdLGZ1bmN0aW9uKGkpe3UuX2RlbGF5KGZ1bmN0aW9uKCl7bi5kYXRhKCJ1aS10b29sdGlwLW9wZW4iKSYmKHQmJih0LnR5cGU9ZiksdGhpcy5fb3Blbih0LG4saSkpfSl9KSxyJiZ0aGlzLl9vcGVuKHQsbixyKSx2b2lkIDApfSxfb3BlbjpmdW5jdGlvbih0LGkscil7ZnVuY3Rpb24gbyhuKXtzLm9mPW47dS5pcygiOmhpZGRlbiIpfHx1LnBvc2l0aW9uKHMpfXZhciBmLHUsaCxlLHM9bi5leHRlbmQoe30sdGhpcy5vcHRpb25zLnBvc2l0aW9uKTtpZihyKXtpZihmPXRoaXMuX2ZpbmQoaSkpcmV0dXJuIGYudG9vbHRpcC5maW5kKCIudWktdG9vbHRpcC1jb250ZW50IikuaHRtbChyKSx2b2lkIDA7aS5pcygiW3RpdGxlXSIpJiYodCYmIm1vdXNlb3ZlciI9PT10LnR5cGU/aS5hdHRyKCJ0aXRsZSIsIiIpOmkucmVtb3ZlQXR0cigidGl0bGUiKSk7Zj10aGlzLl90b29sdGlwKGkpO3U9Zi50b29sdGlwO3RoaXMuX2FkZERlc2NyaWJlZEJ5KGksdS5hdHRyKCJpZCIpKTt1LmZpbmQoIi51aS10b29sdGlwLWNvbnRlbnQiKS5odG1sKHIpO3RoaXMubGl2ZVJlZ2lvbi5jaGlsZHJlbigpLmhpZGUoKTtlPW4oIjxkaXY+IikuaHRtbCh1LmZpbmQoIi51aS10b29sdGlwLWNvbnRlbnQiKS5odG1sKCkpO2UucmVtb3ZlQXR0cigibmFtZSIpLmZpbmQoIltuYW1lXSIpLnJlbW92ZUF0dHIoIm5hbWUiKTtlLnJlbW92ZUF0dHIoImlkIikuZmluZCgiW2lkXSIpLnJlbW92ZUF0dHIoImlkIik7ZS5hcHBlbmRUbyh0aGlzLmxpdmVSZWdpb24pO3RoaXMub3B0aW9ucy50cmFjayYmdCYmL15tb3VzZS8udGVzdCh0LnR5cGUpPyh0aGlzLl9vbih0aGlzLmRvY3VtZW50LHttb3VzZW1vdmU6b30pLG8odCkpOnUucG9zaXRpb24obi5leHRlbmQoeyJvZiI6aX0sdGhpcy5vcHRpb25zLnBvc2l0aW9uKSk7dS5oaWRlKCk7dGhpcy5fc2hvdyh1LHRoaXMub3B0aW9ucy5zaG93KTt0aGlzLm9wdGlvbnMudHJhY2smJnRoaXMub3B0aW9ucy5zaG93JiZ0aGlzLm9wdGlvbnMuc2hvdy5kZWxheSYmKGg9dGhpcy5kZWxheWVkU2hvdz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3UuaXMoIjp2aXNpYmxlIikmJihvKHMub2YpLGNsZWFySW50ZXJ2YWwoaCkpfSxuLmZ4LmludGVydmFsKSk7dGhpcy5fdHJpZ2dlcigib3BlbiIsdCx7dG9vbHRpcDp1fSl9fSxfcmVnaXN0ZXJDbG9zZUhhbmRsZXJzOmZ1bmN0aW9uKHQsaSl7dmFyIHI9e2tleXVwOmZ1bmN0aW9uKHQpe2lmKHQua2V5Q29kZT09PW4udWkua2V5Q29kZS5FU0NBUEUpe3ZhciByPW4uRXZlbnQodCk7ci5jdXJyZW50VGFyZ2V0PWlbMF07dGhpcy5jbG9zZShyLCEwKX19fTtpWzBdIT09dGhpcy5lbGVtZW50WzBdJiYoci5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVUb29sdGlwKHRoaXMuX2ZpbmQoaSkudG9vbHRpcCl9KTt0JiYibW91c2VvdmVyIiE9PXQudHlwZXx8KHIubW91c2VsZWF2ZT0iY2xvc2UiKTt0JiYiZm9jdXNpbiIhPT10LnR5cGV8fChyLmZvY3Vzb3V0PSJjbG9zZSIpO3RoaXMuX29uKCEwLGkscil9LGNsb3NlOmZ1bmN0aW9uKHQpe3ZhciB1LGY9dGhpcyxpPW4odD90LmN1cnJlbnRUYXJnZXQ6dGhpcy5lbGVtZW50KSxyPXRoaXMuX2ZpbmQoaSk7cmV0dXJuIHI/KHU9ci50b29sdGlwLHIuY2xvc2luZ3x8KGNsZWFySW50ZXJ2YWwodGhpcy5kZWxheWVkU2hvdyksaS5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIikmJiFpLmF0dHIoInRpdGxlIikmJmkuYXR0cigidGl0bGUiLGkuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpKSx0aGlzLl9yZW1vdmVEZXNjcmliZWRCeShpKSxyLmhpZGluZz0hMCx1LnN0b3AoITApLHRoaXMuX2hpZGUodSx0aGlzLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe2YuX3JlbW92ZVRvb2x0aXAobih0aGlzKSl9KSxpLnJlbW92ZURhdGEoInVpLXRvb2x0aXAtb3BlbiIpLHRoaXMuX29mZihpLCJtb3VzZWxlYXZlIGZvY3Vzb3V0IGtleXVwIiksaVswXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5fb2ZmKGksInJlbW92ZSIpLHRoaXMuX29mZih0aGlzLmRvY3VtZW50LCJtb3VzZW1vdmUiKSx0JiYibW91c2VsZWF2ZSI9PT10LnR5cGUmJm4uZWFjaCh0aGlzLnBhcmVudHMsZnVuY3Rpb24odCxpKXtuKGkuZWxlbWVudCkuYXR0cigidGl0bGUiLGkudGl0bGUpO2RlbGV0ZSBmLnBhcmVudHNbdF19KSxyLmNsb3Npbmc9ITAsdGhpcy5fdHJpZ2dlcigiY2xvc2UiLHQse3Rvb2x0aXA6dX0pLHIuaGlkaW5nfHwoci5jbG9zaW5nPSExKSksdm9pZCAwKTooaS5yZW1vdmVEYXRhKCJ1aS10b29sdGlwLW9wZW4iKSx2b2lkIDApfSxfdG9vbHRpcDpmdW5jdGlvbih0KXt2YXIgaT1uKCI8ZGl2PiIpLmF0dHIoInJvbGUiLCJ0b29sdGlwIikscj1uKCI8ZGl2PiIpLmFwcGVuZFRvKGkpLHU9aS51bmlxdWVJZCgpLmF0dHIoImlkIik7cmV0dXJuIHRoaXMuX2FkZENsYXNzKHIsInVpLXRvb2x0aXAtY29udGVudCIpLHRoaXMuX2FkZENsYXNzKGksInVpLXRvb2x0aXAiLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQiKSxpLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKHQpKSx0aGlzLnRvb2x0aXBzW3VdPXtlbGVtZW50OnQsdG9vbHRpcDppfX0sX2ZpbmQ6ZnVuY3Rpb24obil7dmFyIHQ9bi5kYXRhKCJ1aS10b29sdGlwLWlkIik7cmV0dXJuIHQ/dGhpcy50b29sdGlwc1t0XTpudWxsfSxfcmVtb3ZlVG9vbHRpcDpmdW5jdGlvbihuKXtuLnJlbW92ZSgpO2RlbGV0ZSB0aGlzLnRvb2x0aXBzW24uYXR0cigiaWQiKV19LF9hcHBlbmRUbzpmdW5jdGlvbihuKXt2YXIgdD1uLmNsb3Nlc3QoIi51aS1mcm9udCwgZGlhbG9nIik7cmV0dXJuIHQubGVuZ3RofHwodD10aGlzLmRvY3VtZW50WzBdLmJvZHkpLHR9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztuLmVhY2godGhpcy50b29sdGlwcyxmdW5jdGlvbihpLHIpe3ZhciBmPW4uRXZlbnQoImJsdXIiKSx1PXIuZWxlbWVudDtmLnRhcmdldD1mLmN1cnJlbnRUYXJnZXQ9dVswXTt0LmNsb3NlKGYsITApO24oIiMiK2kpLnJlbW92ZSgpO3UuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpJiYodS5hdHRyKCJ0aXRsZSIpfHx1LmF0dHIoInRpdGxlIix1LmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSksdS5yZW1vdmVEYXRhKCJ1aS10b29sdGlwLXRpdGxlIikpfSk7dGhpcy5saXZlUmVnaW9uLnJlbW92ZSgpfX0pO24udWlCYWNrQ29tcGF0IT09ITEmJm4ud2lkZ2V0KCJ1aS50b29sdGlwIixuLnVpLnRvb2x0aXAse29wdGlvbnM6e3Rvb2x0aXBDbGFzczpudWxsfSxfdG9vbHRpcDpmdW5jdGlvbigpe3ZhciBuPXRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5vcHRpb25zLnRvb2x0aXBDbGFzcyYmbi50b29sdGlwLmFkZENsYXNzKHRoaXMub3B0aW9ucy50b29sdGlwQ2xhc3MpLG59fSk7bi51aS50b29sdGlwfSk7Ci8qISBqUXVlcnkgTWlncmF0ZSB2My4zLjIgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwoidW5kZWZpbmVkIj09dHlwZW9mIGpRdWVyeS5taWdyYXRlTXV0ZSYmKGpRdWVyeS5taWdyYXRlTXV0ZT0hMCksZnVuY3Rpb24obil7InVzZSBzdHJpY3QiOyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sZnVuY3Rpb24odCl7cmV0dXJuIG4odCx3aW5kb3cpfSk6Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPW4ocmVxdWlyZSgianF1ZXJ5Iiksd2luZG93KTpuKGpRdWVyeSx3aW5kb3cpfShmdW5jdGlvbihuLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB1KHQpe3JldHVybiAwPD1mdW5jdGlvbihuLHQpe2Zvcih2YXIgcj0vXihcZCspXC4oXGQrKVwuKFxkKykvLHU9ci5leGVjKG4pfHxbXSxmPXIuZXhlYyh0KXx8W10saT0xO2k8PTM7aSsrKXtpZigrZltpXTwrdVtpXSlyZXR1cm4gMTtpZigrdVtpXTwrZltpXSlyZXR1cm4tMX1yZXR1cm4gMH0obi5mbi5qcXVlcnksdCl9ZnVuY3Rpb24gaShpKXt2YXIgcj10LmNvbnNvbGU7bi5taWdyYXRlRGVkdXBsaWNhdGVXYXJuaW5ncyYmZVtpXXx8KGVbaV09ITAsbi5taWdyYXRlV2FybmluZ3MucHVzaChpKSxyJiZyLndhcm4mJiFuLm1pZ3JhdGVNdXRlJiYoci53YXJuKCJKUU1JR1JBVEU6ICIraSksbi5taWdyYXRlVHJhY2UmJnIudHJhY2UmJnIudHJhY2UoKSkpfWZ1bmN0aW9uIGgobix0LHIsdSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkodSkscn0sc2V0OmZ1bmN0aW9uKG4pe2kodSk7cj1ufX0pfWZ1bmN0aW9uIHIobix0LHIsdSl7blt0XT1mdW5jdGlvbigpe3JldHVybiBpKHUpLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBsKG4pe3JldHVybiBuLnJlcGxhY2UoLy0oW2Etel0pL2csZnVuY3Rpb24obix0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSl9ZnVuY3Rpb24gdHQobil7dmFyIGk9dC5kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO3JldHVybiBpLmJvZHkuaW5uZXJIVE1MPW4saS5ib2R5JiZpLmJvZHkuaW5uZXJIVE1MfWZ1bmN0aW9uIGl0KG4pe3ZhciB0PW4ucmVwbGFjZShwLCI8JDE+PFwvJDI+Iik7dCE9PW4mJnR0KG4pIT09dHQodCkmJmkoIkhUTUwgdGFncyBtdXN0IGJlIHByb3Blcmx5IG5lc3RlZCBhbmQgY2xvc2VkOiAiK24pfXZhciBlLHYseSxnLG50LGYscCxydCx1dCxmdCx3LGV0LG90O24ubWlncmF0ZVZlcnNpb249IjMuMy4yIjt0LmNvbnNvbGUmJnQuY29uc29sZS5sb2cmJihuJiZ1KCIzLjAuMCIpfHx0LmNvbnNvbGUubG9nKCJKUU1JR1JBVEU6IGpRdWVyeSAzLjAuMCsgUkVRVUlSRUQiKSxuLm1pZ3JhdGVXYXJuaW5ncyYmdC5jb25zb2xlLmxvZygiSlFNSUdSQVRFOiBNaWdyYXRlIHBsdWdpbiBsb2FkZWQgbXVsdGlwbGUgdGltZXMiKSx0LmNvbnNvbGUubG9nKCJKUU1JR1JBVEU6IE1pZ3JhdGUgaXMgaW5zdGFsbGVkIisobi5taWdyYXRlTXV0ZT8iIjoiIHdpdGggbG9nZ2luZyBhY3RpdmUiKSsiLCB2ZXJzaW9uICIrbi5taWdyYXRlVmVyc2lvbikpO2U9e307bi5taWdyYXRlRGVkdXBsaWNhdGVXYXJuaW5ncz0hMDtuLm1pZ3JhdGVXYXJuaW5ncz1bXTt2b2lkIDA9PT1uLm1pZ3JhdGVUcmFjZSYmKG4ubWlncmF0ZVRyYWNlPSEwKTtuLm1pZ3JhdGVSZXNldD1mdW5jdGlvbigpe2U9e307bi5taWdyYXRlV2FybmluZ3MubGVuZ3RoPTB9OyJCYWNrQ29tcGF0Ij09PXQuZG9jdW1lbnQuY29tcGF0TW9kZSYmaSgialF1ZXJ5IGlzIG5vdCBjb21wYXRpYmxlIHdpdGggUXVpcmtzIE1vZGUiKTt2YXIgbyxiLGMsaz17fSxzdD1uLmZuLmluaXQscz1uLmZpbmQsaHQ9L1xbKFxzKlstXHddK1xzKikoW358XiQqXT89KVxzKihbLVx3I10qPyNbLVx3I10qKVxzKlxdLyxjdD0vXFsoXHMqWy1cd10rXHMqKShbfnxeJCpdPz0pXHMqKFstXHcjXSo/I1stXHcjXSopXHMqXF0vZyxsdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Zm9yKG8gaW4gbi5mbi5pbml0PWZ1bmN0aW9uKG4pe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBuJiYiIyI9PT1uJiYoaSgialF1ZXJ5KCAnIycgKSBpcyBub3QgYSB2YWxpZCBzZWxlY3RvciIpLHRbMF09W10pLHN0LmFwcGx5KHRoaXMsdCl9LG4uZm4uaW5pdC5wcm90b3R5cGU9bi5mbixuLmZpbmQ9ZnVuY3Rpb24obil7dmFyIHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtpZigic3RyaW5nIj09dHlwZW9mIG4mJmh0LnRlc3QobikpdHJ5e3QuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuKX1jYXRjaCh1KXtuPW4ucmVwbGFjZShjdCxmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4iWyIrdCtpKyciJytyKyciXSd9KTt0cnl7dC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG4pO2koIkF0dHJpYnV0ZSBzZWxlY3RvciB3aXRoICcjJyBtdXN0IGJlIHF1b3RlZDogIityWzBdKTtyWzBdPW59Y2F0Y2godSl7aSgiQXR0cmlidXRlIHNlbGVjdG9yIHdpdGggJyMnIHdhcyBub3QgZml4ZWQ6ICIrclswXSl9fXJldHVybiBzLmFwcGx5KHRoaXMscil9LHMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsbykmJihuLmZpbmRbb109c1tvXSk7cihuLmZuLCJzaXplIixmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sImpRdWVyeS5mbi5zaXplKCkgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZDsgdXNlIHRoZSAubGVuZ3RoIHByb3BlcnR5Iik7cihuLCJwYXJzZUpTT04iLGZ1bmN0aW9uKCl7cmV0dXJuIEpTT04ucGFyc2UuYXBwbHkobnVsbCxhcmd1bWVudHMpfSwialF1ZXJ5LnBhcnNlSlNPTiBpcyBkZXByZWNhdGVkOyB1c2UgSlNPTi5wYXJzZSIpO3IobiwiaG9sZFJlYWR5IixuLmhvbGRSZWFkeSwialF1ZXJ5LmhvbGRSZWFkeSBpcyBkZXByZWNhdGVkIik7cihuLCJ1bmlxdWUiLG4udW5pcXVlU29ydCwialF1ZXJ5LnVuaXF1ZSBpcyBkZXByZWNhdGVkOyB1c2UgalF1ZXJ5LnVuaXF1ZVNvcnQiKTtoKG4uZXhwciwiZmlsdGVycyIsbi5leHByLnBzZXVkb3MsImpRdWVyeS5leHByLmZpbHRlcnMgaXMgZGVwcmVjYXRlZDsgdXNlIGpRdWVyeS5leHByLnBzZXVkb3MiKTtoKG4uZXhwciwiOiIsbi5leHByLnBzZXVkb3MsImpRdWVyeS5leHByWyc6J10gaXMgZGVwcmVjYXRlZDsgdXNlIGpRdWVyeS5leHByLnBzZXVkb3MiKTt1KCIzLjEuMSIpJiZyKG4sInRyaW0iLGZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uPyIiOihuKyIiKS5yZXBsYWNlKGx0LCIiKX0sImpRdWVyeS50cmltIGlzIGRlcHJlY2F0ZWQ7IHVzZSBTdHJpbmcucHJvdG90eXBlLnRyaW0iKTt1KCIzLjIuMCIpJiYocihuLCJub2RlTmFtZSIsZnVuY3Rpb24obix0KXtyZXR1cm4gbi5ub2RlTmFtZSYmbi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfSwialF1ZXJ5Lm5vZGVOYW1lIGlzIGRlcHJlY2F0ZWQiKSxyKG4sImlzQXJyYXkiLEFycmF5LmlzQXJyYXksImpRdWVyeS5pc0FycmF5IGlzIGRlcHJlY2F0ZWQ7IHVzZSBBcnJheS5pc0FycmF5IikpO3UoIjMuMy4wIikmJihyKG4sImlzTnVtZXJpYyIsZnVuY3Rpb24obil7dmFyIHQ9dHlwZW9mIG47cmV0dXJuKCJudW1iZXIiPT10fHwic3RyaW5nIj09dCkmJiFpc05hTihuLXBhcnNlRmxvYXQobikpfSwialF1ZXJ5LmlzTnVtZXJpYygpIGlzIGRlcHJlY2F0ZWQiKSxuLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7a1siW29iamVjdCAiK3QrIl0iXT10LnRvTG93ZXJDYXNlKCl9KSxyKG4sInR5cGUiLGZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uP24rIiI6Im9iamVjdCI9PXR5cGVvZiBufHwiZnVuY3Rpb24iPT10eXBlb2Ygbj9rW09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKV18fCJvYmplY3QiOnR5cGVvZiBufSwialF1ZXJ5LnR5cGUgaXMgZGVwcmVjYXRlZCIpLHIobiwiaXNGdW5jdGlvbiIsZnVuY3Rpb24obil7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG59LCJqUXVlcnkuaXNGdW5jdGlvbigpIGlzIGRlcHJlY2F0ZWQiKSxyKG4sImlzV2luZG93IixmdW5jdGlvbihuKXtyZXR1cm4gbnVsbCE9biYmbj09PW4ud2luZG93fSwialF1ZXJ5LmlzV2luZG93KCkgaXMgZGVwcmVjYXRlZCIpKTtuLmFqYXgmJihiPW4uYWpheCxjPS8oPSlcPyg/PSZ8JCl8XD9cPy8sbi5hamF4PWZ1bmN0aW9uKCl7dmFyIG49Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG4ucHJvbWlzZSYmKHIobiwic3VjY2VzcyIsbi5kb25lLCJqUVhIUi5zdWNjZXNzIGlzIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQiKSxyKG4sImVycm9yIixuLmZhaWwsImpRWEhSLmVycm9yIGlzIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQiKSxyKG4sImNvbXBsZXRlIixuLmFsd2F5cywialFYSFIuY29tcGxldGUgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZCIpKSxufSx1KCI0LjAuMCIpfHxuLmFqYXhQcmVmaWx0ZXIoIitqc29uIixmdW5jdGlvbihuKXshMSE9PW4uanNvbnAmJihjLnRlc3Qobi51cmwpfHwic3RyaW5nIj09dHlwZW9mIG4uZGF0YSYmMD09PShuLmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJmMudGVzdChuLmRhdGEpKSYmaSgiSlNPTi10by1KU09OUCBhdXRvLXByb21vdGlvbiBpcyBkZXByZWNhdGVkIil9KSk7dmFyIGF0PW4uZm4ucmVtb3ZlQXR0cix2dD1uLmZuLnRvZ2dsZUNsYXNzLHl0PS9cUysvZztuLmZuLnJlbW92ZUF0dHI9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcztyZXR1cm4gbi5lYWNoKHQubWF0Y2goeXQpLGZ1bmN0aW9uKHQsdSl7bi5leHByLm1hdGNoLmJvb2wudGVzdCh1KSYmKGkoImpRdWVyeS5mbi5yZW1vdmVBdHRyIG5vIGxvbmdlciBzZXRzIGJvb2xlYW4gcHJvcGVydGllczogIit1KSxyLnByb3AodSwhMSkpfSksYXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgZCxhPSEobi5mbi50b2dnbGVDbGFzcz1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmImJvb2xlYW4iIT10eXBlb2YgdD92dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KGkoImpRdWVyeS5mbi50b2dnbGVDbGFzcyggYm9vbGVhbiApIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT10aGlzLmdldEF0dHJpYnV0ZSYmdGhpcy5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiO2kmJm4uZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIixpKTt0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIiwhaSYmITEhPT10JiZuLmRhdGEodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIil9KSl9KSxwdD0vXlthLXpdLyx3dD0vXig/OkJvcmRlcig/OlRvcHxSaWdodHxCb3R0b218TGVmdCk/KD86V2lkdGh8KXwoPzpNYXJnaW58UGFkZGluZyk/KD86VG9wfFJpZ2h0fEJvdHRvbXxMZWZ0KT98KD86TWlufE1heCk/KD86V2lkdGh8SGVpZ2h0KSkkLztuLnN3YXAmJm4uZWFjaChbImhlaWdodCIsIndpZHRoIiwicmVsaWFibGVNYXJnaW5SaWdodCJdLGZ1bmN0aW9uKHQsaSl7dmFyIHI9bi5jc3NIb29rc1tpXSYmbi5jc3NIb29rc1tpXS5nZXQ7ciYmKG4uY3NzSG9va3NbaV0uZ2V0PWZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIGE9ITAsbj1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhPSExLG59KX0pO24uc3dhcD1mdW5jdGlvbihuLHQscix1KXt2YXIgZSxmLG89e307Zm9yKGYgaW4gYXx8aSgialF1ZXJ5LnN3YXAoKSBpcyB1bmRvY3VtZW50ZWQgYW5kIGRlcHJlY2F0ZWQiKSx0KW9bZl09bi5zdHlsZVtmXSxuLnN0eWxlW2ZdPXRbZl07Zm9yKGYgaW4gZT1yLmFwcGx5KG4sdXx8W10pLHQpbi5zdHlsZVtmXT1vW2ZdO3JldHVybiBlfTt1KCIzLjQuMCIpJiYidW5kZWZpbmVkIiE9dHlwZW9mIFByb3h5JiYobi5jc3NQcm9wcz1uZXcgUHJveHkobi5jc3NQcm9wc3x8e30se3NldDpmdW5jdGlvbigpe3JldHVybiBpKCJKUU1JR1JBVEU6IGpRdWVyeS5jc3NQcm9wcyBpcyBkZXByZWNhdGVkIiksUmVmbGVjdC5zZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pKTtuLmNzc051bWJlcnx8KG4uY3NzTnVtYmVyPXt9KTtkPW4uZm4uY3NzO24uZm4uY3NzPWZ1bmN0aW9uKHQscil7dmFyIGYsdSxlPXRoaXM7cmV0dXJuIHQmJiJvYmplY3QiPT10eXBlb2YgdCYmIUFycmF5LmlzQXJyYXkodCk/KG4uZWFjaCh0LGZ1bmN0aW9uKHQsaSl7bi5mbi5jc3MuY2FsbChlLHQsaSl9KSx0aGlzKTooIm51bWJlciI9PXR5cGVvZiByJiYoZj1sKHQpLHU9ZixwdC50ZXN0KHUpJiZ3dC50ZXN0KHVbMF0udG9VcHBlckNhc2UoKSt1LnNsaWNlKDEpKXx8bi5jc3NOdW1iZXJbZl18fGkoJ051bWJlci10eXBlZCB2YWx1ZXMgYXJlIGRlcHJlY2F0ZWQgZm9yIGpRdWVyeS5mbi5jc3MoICInK3QrJyIsIHZhbHVlICknKSksZC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfTtmPW4uZGF0YTtuLmRhdGE9ZnVuY3Rpb24odCxyLHUpe3ZhciBvLHMsZTtpZihyJiYib2JqZWN0Ij09dHlwZW9mIHImJjI9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IoZSBpbiBvPW4uaGFzRGF0YSh0KSYmZi5jYWxsKHRoaXMsdCkscz17fSxyKWUhPT1sKGUpPyhpKCJqUXVlcnkuZGF0YSgpIGFsd2F5cyBzZXRzL2dldHMgY2FtZWxDYXNlZCBuYW1lczogIitlKSxvW2VdPXJbZV0pOnNbZV09cltlXTtyZXR1cm4gZi5jYWxsKHRoaXMsdCxzKSxyfXJldHVybiByJiYic3RyaW5nIj09dHlwZW9mIHImJnIhPT1sKHIpJiYobz1uLmhhc0RhdGEodCkmJmYuY2FsbCh0aGlzLHQpKSYmciBpbiBvPyhpKCJqUXVlcnkuZGF0YSgpIGFsd2F5cyBzZXRzL2dldHMgY2FtZWxDYXNlZCBuYW1lczogIityKSwyPGFyZ3VtZW50cy5sZW5ndGgmJihvW3JdPXUpLG9bcl0pOmYuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtuLmZ4JiYoZz1uLlR3ZWVuLnByb3RvdHlwZS5ydW4sbnQ9ZnVuY3Rpb24obil7cmV0dXJuIG59LG4uVHdlZW4ucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpezE8bi5lYXNpbmdbdGhpcy5lYXNpbmddLmxlbmd0aCYmKGkoIidqUXVlcnkuZWFzaW5nLiIrdGhpcy5lYXNpbmcudG9TdHJpbmcoKSsiJyBzaG91bGQgdXNlIG9ubHkgb25lIGFyZ3VtZW50Iiksbi5lYXNpbmdbdGhpcy5lYXNpbmddPW50KTtnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdj1uLmZ4LmludGVydmFsfHwxMyx5PSJqUXVlcnkuZnguaW50ZXJ2YWwgaXMgZGVwcmVjYXRlZCIsdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLmZ4LCJpbnRlcnZhbCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0LmRvY3VtZW50LmhpZGRlbnx8aSh5KSx2fSxzZXQ6ZnVuY3Rpb24obil7aSh5KTt2PW59fSkpO3ZhciBidD1uLmZuLmxvYWQsa3Q9bi5ldmVudC5hZGQsZHQ9bi5ldmVudC5maXg7cmV0dXJuIG4uZXZlbnQucHJvcHM9W10sbi5ldmVudC5maXhIb29rcz17fSxoKG4uZXZlbnQucHJvcHMsImNvbmNhdCIsbi5ldmVudC5wcm9wcy5jb25jYXQsImpRdWVyeS5ldmVudC5wcm9wcy5jb25jYXQoKSBpcyBkZXByZWNhdGVkIGFuZCByZW1vdmVkIiksbi5ldmVudC5maXg9ZnVuY3Rpb24odCl7dmFyIGYsZT10LnR5cGUsdT10aGlzLmZpeEhvb2tzW2VdLHI9bi5ldmVudC5wcm9wcztpZihyLmxlbmd0aClmb3IoaSgialF1ZXJ5LmV2ZW50LnByb3BzIGFyZSBkZXByZWNhdGVkIGFuZCByZW1vdmVkOiAiK3Iuam9pbigpKTtyLmxlbmd0aDspbi5ldmVudC5hZGRQcm9wKHIucG9wKCkpO2lmKHUmJiF1Ll9taWdyYXRlZF8mJih1Ll9taWdyYXRlZF89ITAsaSgialF1ZXJ5LmV2ZW50LmZpeEhvb2tzIGFyZSBkZXByZWNhdGVkIGFuZCByZW1vdmVkOiAiK2UpLChyPXUucHJvcHMpJiZyLmxlbmd0aCkpd2hpbGUoci5sZW5ndGgpbi5ldmVudC5hZGRQcm9wKHIucG9wKCkpO3JldHVybiBmPWR0LmNhbGwodGhpcyx0KSx1JiZ1LmZpbHRlcj91LmZpbHRlcihmLHQpOmZ9LG4uZXZlbnQuYWRkPWZ1bmN0aW9uKG4scil7cmV0dXJuIG49PT10JiYibG9hZCI9PT1yJiYiY29tcGxldGUiPT09dC5kb2N1bWVudC5yZWFkeVN0YXRlJiZpKCJqUXVlcnkod2luZG93KS5vbignbG9hZCcuLi4pIGNhbGxlZCBhZnRlciBsb2FkIGV2ZW50IG9jY3VycmVkIiksa3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxuLmVhY2goWyJsb2FkIiwidW5sb2FkIiwiZXJyb3IiXSxmdW5jdGlvbih0LHIpe24uZm5bcl09ZnVuY3Rpb24oKXt2YXIgbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuImxvYWQiPT09ciYmInN0cmluZyI9PXR5cGVvZiBuWzBdP2J0LmFwcGx5KHRoaXMsbik6KGkoImpRdWVyeS5mbi4iK3IrIigpIGlzIGRlcHJlY2F0ZWQiKSxuLnNwbGljZSgwLDAsciksYXJndW1lbnRzLmxlbmd0aD90aGlzLm9uLmFwcGx5KHRoaXMsbik6KHRoaXMudHJpZ2dlckhhbmRsZXIuYXBwbHkodGhpcyxuKSx0aGlzKSl9fSksbi5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKHQscil7bi5mbltyXT1mdW5jdGlvbihuLHQpe3JldHVybiBpKCJqUXVlcnkuZm4uIityKyIoKSBldmVudCBzaG9ydGhhbmQgaXMgZGVwcmVjYXRlZCIpLDA8YXJndW1lbnRzLmxlbmd0aD90aGlzLm9uKHIsbnVsbCxuLHQpOnRoaXMudHJpZ2dlcihyKX19KSxuKGZ1bmN0aW9uKCl7bih0LmRvY3VtZW50KS50cmlnZ2VySGFuZGxlcigicmVhZHkiKX0pLG4uZXZlbnQuc3BlY2lhbC5yZWFkeT17c2V0dXA6ZnVuY3Rpb24oKXt0aGlzPT09dC5kb2N1bWVudCYmaSgiJ3JlYWR5JyBldmVudCBpcyBkZXByZWNhdGVkIil9fSxuLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihuLHQscil7cmV0dXJuIGkoImpRdWVyeS5mbi5iaW5kKCkgaXMgZGVwcmVjYXRlZCIpLHRoaXMub24obixudWxsLHQscil9LHVuYmluZDpmdW5jdGlvbihuLHQpe3JldHVybiBpKCJqUXVlcnkuZm4udW5iaW5kKCkgaXMgZGVwcmVjYXRlZCIpLHRoaXMub2ZmKG4sbnVsbCx0KX0sZGVsZWdhdGU6ZnVuY3Rpb24obix0LHIsdSl7cmV0dXJuIGkoImpRdWVyeS5mbi5kZWxlZ2F0ZSgpIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLm9uKHQsbixyLHUpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gaSgialF1ZXJ5LmZuLnVuZGVsZWdhdGUoKSBpcyBkZXByZWNhdGVkIiksMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYobiwiKioiKTp0aGlzLm9mZih0LG58fCIqKiIscil9LGhvdmVyOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIGkoImpRdWVyeS5mbi5ob3ZlcigpIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLm9uKCJtb3VzZWVudGVyIixuKS5vbigibW91c2VsZWF2ZSIsdHx8bil9fSkscD0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKilbXj5dKilcLz4vZ2kscnQ9bi5odG1sUHJlZmlsdGVyLG4uVU5TQUZFX3Jlc3RvcmVMZWdhY3lIdG1sUHJlZmlsdGVyPWZ1bmN0aW9uKCl7bi5odG1sUHJlZmlsdGVyPWZ1bmN0aW9uKG4pe3JldHVybiBpdChuKSxuLnJlcGxhY2UocCwiPCQxPjxcLyQyPiIpfX0sbi5odG1sUHJlZmlsdGVyPWZ1bmN0aW9uKG4pe3JldHVybiBpdChuKSxydChuKX0sZnQ9bi5mbi5vZmZzZXQsbi5mbi5vZmZzZXQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzWzBdO3JldHVybiFufHxuLm5vZGVUeXBlJiZuLmdldEJvdW5kaW5nQ2xpZW50UmVjdD9mdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KGkoImpRdWVyeS5mbi5vZmZzZXQoKSByZXF1aXJlcyBhIHZhbGlkIERPTSBlbGVtZW50IiksYXJndW1lbnRzLmxlbmd0aD90aGlzOnZvaWQgMCl9LG4uYWpheCYmKHV0PW4ucGFyYW0sbi5wYXJhbT1mdW5jdGlvbih0LHIpe3ZhciB1PW4uYWpheFNldHRpbmdzJiZuLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbDtyZXR1cm4gdm9pZCAwPT09ciYmdSYmKGkoImpRdWVyeS5wYXJhbSgpIG5vIGxvbmdlciB1c2VzIGpRdWVyeS5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwiKSxyPXUpLHV0LmNhbGwodGhpcyx0LHIpfSksb3Q9bi5mbi5hbmRTZWxmfHxuLmZuLmFkZEJhY2ssbi5mbi5hbmRTZWxmPWZ1bmN0aW9uKCl7cmV0dXJuIGkoImpRdWVyeS5mbi5hbmRTZWxmKCkgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZCwgdXNlIGpRdWVyeS5mbi5hZGRCYWNrKCkiKSxvdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG4uRGVmZXJyZWQmJih3PW4uRGVmZXJyZWQsZXQ9W1sicmVzb2x2ZSIsImRvbmUiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iiksbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsbi5DYWxsYmFja3MoIm1lbW9yeSIpLG4uQ2FsbGJhY2tzKCJtZW1vcnkiKV1dLG4uRGVmZXJyZWQ9ZnVuY3Rpb24odCl7dmFyIHI9dygpLHU9ci5wcm9taXNlKCk7cmV0dXJuIHIucGlwZT11LnBpcGU9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHM7cmV0dXJuIGkoImRlZmVycmVkLnBpcGUoKSBpcyBkZXByZWNhdGVkIiksbi5EZWZlcnJlZChmdW5jdGlvbihpKXtuLmVhY2goZXQsZnVuY3Rpb24obixmKXt2YXIgZT0iZnVuY3Rpb24iPT10eXBlb2YgdFtuXSYmdFtuXTtyW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIG49ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7biYmImZ1bmN0aW9uIj09dHlwZW9mIG4ucHJvbWlzZT9uLnByb21pc2UoKS5kb25lKGkucmVzb2x2ZSkuZmFpbChpLnJlamVjdCkucHJvZ3Jlc3MoaS5ub3RpZnkpOmlbZlswXSsiV2l0aCJdKHRoaXM9PT11P2kucHJvbWlzZSgpOnRoaXMsZT9bbl06YXJndW1lbnRzKX0pfSk7dD1udWxsfSkucHJvbWlzZSgpfSx0JiZ0LmNhbGwocixyKSxyfSxuLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9dy5leGNlcHRpb25Ib29rKSxufSk7dmFyIEFqYXhDYXJ0PXtsb2FkV2FpdGluZzohMSx1c2Vwb3B1cG5vdGlmaWNhdGlvbnM6ITEsdG9wY2FydHNlbGVjdG9yOiIiLHRvcHdpc2hsaXN0c2VsZWN0b3I6IiIsZmx5b3V0Y2FydHNlbGVjdG9yOiIiLGxvY2FsaXplZF9kYXRhOiExLGluaXQ6ZnVuY3Rpb24obix0LGkscix1KXt0aGlzLmxvYWRXYWl0aW5nPSExO3RoaXMudXNlcG9wdXBub3RpZmljYXRpb25zPW47dGhpcy50b3BjYXJ0c2VsZWN0b3I9dDt0aGlzLnRvcHdpc2hsaXN0c2VsZWN0b3I9aTt0aGlzLmZseW91dGNhcnRzZWxlY3Rvcj1yO3RoaXMubG9jYWxpemVkX2RhdGE9dX0sc2V0TG9hZFdhaXRpbmc6ZnVuY3Rpb24obil7ZGlzcGxheUFqYXhMb2FkaW5nKG4pO3RoaXMubG9hZFdhaXRpbmc9bn0sYWRkcHJvZHVjdHRvY2FydF9jYXRhbG9nOmZ1bmN0aW9uKG4pe2lmKHRoaXMubG9hZFdhaXRpbmc9PT0hMSl7dGhpcy5zZXRMb2FkV2FpdGluZyghMCk7dmFyIHQ9e307YWRkQW50aUZvcmdlcnlUb2tlbih0KTskLmFqYXgoe2NhY2hlOiExLHVybDpuLHR5cGU6IlBPU1QiLGRhdGE6dCxzdWNjZXNzOnRoaXMuc3VjY2Vzc19wcm9jZXNzLGNvbXBsZXRlOnRoaXMucmVzZXRMb2FkV2FpdGluZyxlcnJvcjp0aGlzLmFqYXhGYWlsdXJlfSl9fSxhZGRwcm9kdWN0dG9jYXJ0X2RldGFpbHM6ZnVuY3Rpb24obix0KXt0aGlzLmxvYWRXYWl0aW5nPT09ITEmJih0aGlzLnNldExvYWRXYWl0aW5nKCEwKSwkLmFqYXgoe2NhY2hlOiExLHVybDpuLGRhdGE6JCh0KS5zZXJpYWxpemUoKSx0eXBlOiJQT1NUIixzdWNjZXNzOnRoaXMuc3VjY2Vzc19wcm9jZXNzLGNvbXBsZXRlOnRoaXMucmVzZXRMb2FkV2FpdGluZyxlcnJvcjp0aGlzLmFqYXhGYWlsdXJlfSkpfSxhZGRwcm9kdWN0dG9jb21wYXJlbGlzdDpmdW5jdGlvbihuKXtpZih0aGlzLmxvYWRXYWl0aW5nPT09ITEpe3RoaXMuc2V0TG9hZFdhaXRpbmcoITApO3ZhciB0PXt9O2FkZEFudGlGb3JnZXJ5VG9rZW4odCk7JC5hamF4KHtjYWNoZTohMSx1cmw6bix0eXBlOiJQT1NUIixkYXRhOnQsc3VjY2Vzczp0aGlzLnN1Y2Nlc3NfcHJvY2Vzcyxjb21wbGV0ZTp0aGlzLnJlc2V0TG9hZFdhaXRpbmcsZXJyb3I6dGhpcy5hamF4RmFpbHVyZX0pfX0sc3VjY2Vzc19wcm9jZXNzOmZ1bmN0aW9uKG4pe3JldHVybihuLnVwZGF0ZXRvcGNhcnRzZWN0aW9uaHRtbCYmJChBamF4Q2FydC50b3BjYXJ0c2VsZWN0b3IpLmh0bWwobi51cGRhdGV0b3BjYXJ0c2VjdGlvbmh0bWwpLG4udXBkYXRldG9wd2lzaGxpc3RzZWN0aW9uaHRtbCYmJChBamF4Q2FydC50b3B3aXNobGlzdHNlbGVjdG9yKS5odG1sKG4udXBkYXRldG9wd2lzaGxpc3RzZWN0aW9uaHRtbCksbi51cGRhdGVmbHlvdXRjYXJ0c2VjdGlvbmh0bWwmJiQoQWpheENhcnQuZmx5b3V0Y2FydHNlbGVjdG9yKS5yZXBsYWNlV2l0aChuLnVwZGF0ZWZseW91dGNhcnRzZWN0aW9uaHRtbCksbi5tZXNzYWdlKT8obi5zdWNjZXNzPT09ITA/QWpheENhcnQudXNlcG9wdXBub3RpZmljYXRpb25zPT09ITA/ZGlzcGxheVBvcHVwTm90aWZpY2F0aW9uKG4ubWVzc2FnZSwic3VjY2VzcyIsITApOmRpc3BsYXlCYXJOb3RpZmljYXRpb24obi5tZXNzYWdlLCJzdWNjZXNzIiwzNTAwKTpBamF4Q2FydC51c2Vwb3B1cG5vdGlmaWNhdGlvbnM9PT0hMD9kaXNwbGF5UG9wdXBOb3RpZmljYXRpb24obi5tZXNzYWdlLCJlcnJvciIsITApOmRpc3BsYXlCYXJOb3RpZmljYXRpb24obi5tZXNzYWdlLCJlcnJvciIsMCksITEpOm4ucmVkaXJlY3Q/KGxvY2F0aW9uLmhyZWY9bi5yZWRpcmVjdCwhMCk6ITF9LHJlc2V0TG9hZFdhaXRpbmc6ZnVuY3Rpb24oKXtBamF4Q2FydC5zZXRMb2FkV2FpdGluZyghMSl9LGFqYXhGYWlsdXJlOmZ1bmN0aW9uKCl7YWxlcnQodGhpcy5sb2NhbGl6ZWRfZGF0YS5BamF4Q2FydEZhaWx1cmUpfX07K2Z1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KCl7dmFyIHQ9bih0aGlzKSx1PXQudmFsKCksaT1uKHQuZGF0YSgic3RhdGVwcm92aW5jZSIpKSxyO2kubGVuZ3RoIT0wJiYocj1uKHQuZGF0YSgibG9hZGluZyIpKSxyLnNob3coKSxuLmFqYXgoe2NhY2hlOiExLHR5cGU6IkdFVCIsdXJsOnQuZGF0YSgidXJsIiksZGF0YTp7Y291bnRyeUlkOnUsYWRkU2VsZWN0U3RhdGVJdGVtOiJ0cnVlIn0sc3VjY2VzczpmdW5jdGlvbih0KXtpLmh0bWwoIiIpO24uZWFjaCh0LGZ1bmN0aW9uKHQscil7aS5hcHBlbmQobigiPG9wdGlvbj48XC9vcHRpb24+IikudmFsKHIuaWQpLmh0bWwoci5uYW1lKSl9KX0sZXJyb3I6ZnVuY3Rpb24oKXthbGVydCgiRmFpbGVkIHRvIHJldHJpZXZlIHN0YXRlcy4iKX0sY29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgdD10eXBlb2YgQmlsbGluZyE9InVuZGVmaW5lZCI/QmlsbGluZy5zZWxlY3RlZFN0YXRlSWQ6dHlwZW9mIENoZWNrb3V0QmlsbGluZyE9InVuZGVmaW5lZCI/Q2hlY2tvdXRCaWxsaW5nLnNlbGVjdGVkU3RhdGVJZDowO24oIiMiK2lbMF0uaWQrIiBvcHRpb25bdmFsdWU9Iit0KyJdIikucHJvcCgic2VsZWN0ZWQiLCEwKTtyLmhpZGUoKX19KSl9aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBqUXVlcnkpdGhyb3cgbmV3IEVycm9yKCJqUXVlcnkgSlMgcmVxdWlyZWQiKTtuKGRvY3VtZW50KS5oYXMoJ1tkYXRhLXRyaWdnZXI9ImNvdW50cnktc2VsZWN0Il0nKSYmbignc2VsZWN0W2RhdGEtdHJpZ2dlcj0iY291bnRyeS1zZWxlY3QiXScpLmNoYW5nZSh0KTtuLmZuLmNvdW50cnlTZWxlY3Q9ZnVuY3Rpb24oKXt0aGlzLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmNoYW5nZSh0KX0pfX0oalF1ZXJ5KTsKLyohCiAqIENvcHlyaWdodCAyMDIwIFByb2dyZXNzIFNvZnR3YXJlIENvcnBvcmF0aW9uIGFuZC9vciBvbmUgb2YgaXRzIHN1YnNpZGlhcmllcyBvciBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KIWZ1bmN0aW9uKG4sdCl7dCgia2VuZG8uY29yZS5taW4iLFsianF1ZXJ5Il0sbil9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4sdCxpKXtmdW5jdGlvbiBudCgpe31mdW5jdGlvbiBhcihuLHQpe2lmKHQpcmV0dXJuIiciK24uc3BsaXQoIiciKS5qb2luKCJcXCciKS5zcGxpdCgnXFwiJykuam9pbignXFxcXFxcIicpLnJlcGxhY2UoL1xuL2csIlxcbiIpLnJlcGxhY2UoL1xyL2csIlxcciIpLnJlcGxhY2UoL1x0L2csIlxcdCIpKyInIjt2YXIgaT1uLmNoYXJBdCgwKSxyPW4uc3Vic3RyaW5nKDEpO3JldHVybiI9Ij09PWk/IisoIityKyIpKyI6IjoiPT09aT8iKyRrZW5kb0h0bWxFbmNvZGUoIityKyIpKyI6IjsiK24rIjska2VuZG9PdXRwdXQrPSJ9ZnVuY3Rpb24gZihuLHQsaSl7cmV0dXJuIG4rPSIiLHQ9dHx8MixpPXQtbi5sZW5ndGgsaT9haVt0XS5zdWJzdHJpbmcoMCxpKStuOm59ZnVuY3Rpb24gdnIobil7dmFyIHU9bi5jc3Moci5zdXBwb3J0LnRyYW5zaXRpb25zLmNzcysiYm94LXNoYWRvdyIpfHxuLmNzcygiYm94LXNoYWRvdyIpLHQ9dT91Lm1hdGNoKGx1KXx8WzAsMCwwLDAsMF06WzAsMCwwLDAsMF0saT1jLm1heCgrdFszXSwrKHRbNF18fDApKTtyZXR1cm57bGVmdDotdFsxXStpLHJpZ2h0Oit0WzFdK2ksYm90dG9tOit0WzJdK2l9fWZ1bmN0aW9uIHlyKGksZil7dmFyIHYsbyxzLGwsYSx5LHA9dS5icm93c2VyLGg9ci5fb3V0ZXJXaWR0aCx3PXIuX291dGVySGVpZ2h0LGU9aS5wYXJlbnQoKSxiPWgodCk7cmV0dXJuIGUucmVtb3ZlQ2xhc3MoImstYW5pbWF0aW9uLWNvbnRhaW5lci1zbSIpLGUuaGFzQ2xhc3MoImstYW5pbWF0aW9uLWNvbnRhaW5lciIpP2R0KGksZik6KG89aVswXS5zdHlsZS53aWR0aCxzPWlbMF0uc3R5bGUuaGVpZ2h0LGw9ZXQudGVzdChvKSxhPWV0LnRlc3QocykseT1pLmhhc0NsYXNzKCJrLXRvb2x0aXAiKXx8aS5pcygiLmstbWVudS1ob3Jpem9udGFsLmstY29udGV4dC1tZW51Iiksdj1sfHxhLCFsJiYoIWZ8fGYmJm98fHkpJiYobz1mP2goaSkrMTpoKGkpKSwoIWEmJighZnx8ZiYmcyl8fGkuaXMoIi5rLW1lbnUtaG9yaXpvbnRhbC5rLWNvbnRleHQtbWVudSIpKSYmKHM9dyhpKSksaS53cmFwKG4oIjxkaXYvPiIpLmFkZENsYXNzKCJrLWFuaW1hdGlvbi1jb250YWluZXIiKS5jc3Moe3dpZHRoOm8saGVpZ2h0OnN9KSksZT1pLnBhcmVudCgpLHYmJmkuY3NzKHt3aWR0aDoiMTAwJSIsaGVpZ2h0OiIxMDAlIixib3hTaXppbmc6ImJvcmRlci1ib3giLG1vekJveFNpemluZzoiYm9yZGVyLWJveCIsd2Via2l0Qm94U2l6aW5nOiJib3JkZXItYm94In0pKSxiPGgoZSkmJihlLmFkZENsYXNzKCJrLWFuaW1hdGlvbi1jb250YWluZXItc20iKSxkdChpLGYpKSxwLm1zaWUmJmMuZmxvb3IocC52ZXJzaW9uKTw9NyYmKGkuY3NzKHt6b29tOjF9KSxpLmNoaWxkcmVuKCIuay1tZW51Iikud2lkdGgoaS53aWR0aCgpKSksZX1mdW5jdGlvbiBkdChuLHQpe3ZhciB1LGY9ci5fb3V0ZXJXaWR0aCxvPXIuX291dGVySGVpZ2h0LGk9bi5wYXJlbnQoIi5rLWFuaW1hdGlvbi1jb250YWluZXIiKSxlPWlbMF0uc3R5bGU7aS5pcygiOmhpZGRlbiIpJiZpLmNzcyh7ZGlzcGxheToiIixwb3NpdGlvbjoiIn0pO3U9ZXQudGVzdChlLndpZHRoKXx8ZXQudGVzdChlLmhlaWdodCk7dXx8aS5jc3Moe3dpZHRoOnQ/ZihuKSsxOmYobiksaGVpZ2h0Om8obiksYm94U2l6aW5nOiJjb250ZW50LWJveCIsbW96Qm94U2l6aW5nOiJjb250ZW50LWJveCIsd2Via2l0Qm94U2l6aW5nOiJjb250ZW50LWJveCJ9KX1mdW5jdGlvbiB0dChuKXtmb3IodmFyIHQ9MSxpPWFyZ3VtZW50cy5sZW5ndGgsdD0xO3Q8aTt0KyspZ3Qobixhcmd1bWVudHNbdF0pO3JldHVybiBufWZ1bmN0aW9uIGd0KG4saSl7dmFyIGUsdSxvLGYscyxoPXIuZGF0YS5PYnNlcnZhYmxlQXJyYXksYz1yLmRhdGEuTGF6eU9ic2VydmFibGVBcnJheSxsPXIuZGF0YS5EYXRhU291cmNlLGE9ci5kYXRhLkhpZXJhcmNoaWNhbERhdGFTb3VyY2U7Zm9yKGUgaW4gaSl1PWlbZV0sbz10eXBlb2YgdSxmPW89PT1rJiZudWxsIT09dT91LmNvbnN0cnVjdG9yOm51bGwsIWZ8fGY9PT1BcnJheXx8Zj09PWh8fGY9PT1jfHxmPT09bHx8Zj09PWF8fGY9PT1SZWdFeHB8fHIuaXNGdW5jdGlvbih0LkFycmF5QnVmZmVyKSYmZj09PUFycmF5QnVmZmVyP28hPT1zdCYmKG5bZV09dSk6dSBpbnN0YW5jZW9mIERhdGU/bltlXT1uZXcgRGF0ZSh1LmdldFRpbWUoKSk6ZCh1LmNsb25lKT9uW2VdPXUuY2xvbmUoKToocz1uW2VdLG5bZV09dHlwZW9mIHM9PT1rP3N8fHt9Ont9LGd0KG5bZV0sdSkpO3JldHVybiBufWZ1bmN0aW9uIGh0KG4sdCxyKXtmb3IodmFyIHUgaW4gdClpZih0Lmhhc093blByb3BlcnR5KHUpJiZ0W3VdLnRlc3QobikpcmV0dXJuIHU7cmV0dXJuIHIhPT1pP3I6bn1mdW5jdGlvbiBwcihuKXtyZXR1cm4gbi5yZXBsYWNlKC8oW2Etel1bQS1aXSkvZyxmdW5jdGlvbihuKXtyZXR1cm4gbi5jaGFyQXQoMCkrIi0iK24uY2hhckF0KDEpLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBuaShuKXtyZXR1cm4gbi5yZXBsYWNlKC9cLShcdykvZyxmdW5jdGlvbihuLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9KX1mdW5jdGlvbiB0aSh0LGkpe3ZhciB1LGY9e307cmV0dXJuIGRvY3VtZW50LmRlZmF1bHRWaWV3JiZkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlPyh1PWRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodCwiIiksaSYmbi5lYWNoKGksZnVuY3Rpb24obix0KXtmW3RdPXUuZ2V0UHJvcGVydHlWYWx1ZSh0KX0pKToodT10LmN1cnJlbnRTdHlsZSxpJiZuLmVhY2goaSxmdW5jdGlvbihuLHQpe2ZbdF09dVtuaSh0KV19KSksci5zaXplKGYpfHwoZj11KSxmfWZ1bmN0aW9uIHdyKG4pe2lmKG4mJm4uY2xhc3NOYW1lJiYic3RyaW5nIj09dHlwZW9mIG4uY2xhc3NOYW1lJiZuLmNsYXNzTmFtZS5pbmRleE9mKCJrLWF1dG8tc2Nyb2xsYWJsZSIpPi0xKXJldHVybiEwO3ZhciB0PXRpKG4sWyJvdmVyZmxvdyJdKS5vdmVyZmxvdztyZXR1cm4iYXV0byI9PXR8fCJzY3JvbGwiPT10fWZ1bmN0aW9uIGJyKHQscil7dmFyIGUsbz11LmJyb3dzZXIud2Via2l0LHM9dS5icm93c2VyLm1vemlsbGEsZj10IGluc3RhbmNlb2Ygbj90WzBdOnQ7aWYodClyZXR1cm4gZT11LmlzUnRsKHQpLHI9PT1pP2UmJm8/Zi5zY3JvbGxXaWR0aC1mLmNsaWVudFdpZHRoLWYuc2Nyb2xsTGVmdDpNYXRoLmFicyhmLnNjcm9sbExlZnQpOihmLnNjcm9sbExlZnQ9ZSYmbz9mLnNjcm9sbFdpZHRoLWYuY2xpZW50V2lkdGgtcjplJiZzPy1yOnIsaSl9ZnVuY3Rpb24ga3Iobil7dmFyIHQsaT0wO2Zvcih0IGluIG4pbi5oYXNPd25Qcm9wZXJ0eSh0KSYmInRvSlNPTiIhPXQmJmkrKztyZXR1cm4gaX1mdW5jdGlvbiBkcihuLGkscil7dmFyIGYsZSxvO3JldHVybiBpfHwoaT0ib2Zmc2V0IiksZj1uW2ldKCksZT17dG9wOmYudG9wLHJpZ2h0OmYucmlnaHQsYm90dG9tOmYuYm90dG9tLGxlZnQ6Zi5sZWZ0fSx1LmJyb3dzZXIubXNpZSYmKHUucG9pbnRlcnN8fHUubXNQb2ludGVycykmJiFyJiYobz11LmlzUnRsKG4pPzE6LTEsZS50b3AtPXQucGFnZVlPZmZzZXQtZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCxlLmxlZnQtPXQucGFnZVhPZmZzZXQrbypkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCksZX1mdW5jdGlvbiBncihuKXt2YXIgdD17fTtyZXR1cm4gcnQoInN0cmluZyI9PXR5cGVvZiBuP24uc3BsaXQoIiAiKTpuLGZ1bmN0aW9uKG4pe3Rbbl09dGhpc30pLHR9ZnVuY3Rpb24gbnUobil7cmV0dXJuIG5ldyByLmVmZmVjdHMuRWxlbWVudChuKX1mdW5jdGlvbiB0dShuLHQsaSxyKXtyZXR1cm4gdHlwZW9mIG49PT1vJiYoZCh0KSYmKHI9dCx0PTQwMCxpPSExKSxkKGkpJiYocj1pLGk9ITEpLHR5cGVvZiB0PT09c3ImJihpPXQsdD00MDApLG49e2VmZmVjdHM6bixkdXJhdGlvbjp0LHJldmVyc2U6aSxjb21wbGV0ZTpyfSksaCh7ZWZmZWN0czp7fSxkdXJhdGlvbjo0MDAscmV2ZXJzZTohMSxpbml0OnV0LHRlYXJkb3duOnV0LGhpZGU6ITF9LG4se2NvbXBsZXRlQ2FsbGJhY2s6bi5jb21wbGV0ZSxjb21wbGV0ZTp1dH0pfWZ1bmN0aW9uIGlpKHQsaSxyLHUsZil7Zm9yKHZhciBlLG89MCxzPXQubGVuZ3RoO288cztvKyspZT1uKHRbb10pLGUucXVldWUoZnVuY3Rpb24oKXt5LnByb21pc2UoZSx0dShpLHIsdSxmKSl9KTtyZXR1cm4gdH1mdW5jdGlvbiBpdShuLHQsaSxyKXtyZXR1cm4gdCYmKHQ9dC5zcGxpdCgiICIpLHJ0KHQsZnVuY3Rpb24odCxpKXtuLnRvZ2dsZUNsYXNzKGkscil9KSksbn1mdW5jdGlvbiBydShuKXtyZXR1cm4oIiIrbikucmVwbGFjZSh5aSwiJmFtcDsiKS5yZXBsYWNlKHBpLCImbHQ7IikucmVwbGFjZShraSwiJmd0OyIpLnJlcGxhY2Uod2ksIiZxdW90OyIpLnJlcGxhY2UoYmksIiYjMzk7Iil9ZnVuY3Rpb24gdXUobil7dmFyIGk7dHJ5e2k9dC5kZWNvZGVVUklDb21wb25lbnQobil9Y2F0Y2gocil7aT1uLnJlcGxhY2UoLyV1KFtcZEEtRl17NH0pfCUoW1xkQS1GXXsyfSkvZ2ksZnVuY3Rpb24obix0LGkpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KCIweCIrKHR8fGkpLDE2KSl9KX1yZXR1cm4gaX1mdW5jdGlvbiBjdChuLHQpe3ZhciB1O3JldHVybiAwPT09dC5pbmRleE9mKCJkYXRhIikmJih0PXQuc3Vic3RyaW5nKDQpLHQ9dC5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSt0LnN1YnN0cmluZygxKSksdD10LnJlcGxhY2UocnIsIi0kMSIpLHU9bi5nZXRBdHRyaWJ1dGUoImRhdGEtIityLm5zK3QpLG51bGw9PT11P3U9aToibnVsbCI9PT11P3U9bnVsbDoidHJ1ZSI9PT11P3U9ITA6ImZhbHNlIj09PXU/dT0hMTphdS50ZXN0KHUpJiYibWFzayIhPXQ/dT1wYXJzZUZsb2F0KHUpOnRyLnRlc3QodSkmJiFpci50ZXN0KHUpJiYodT1GdW5jdGlvbigicmV0dXJuICgiK3UrIikiKSgpKSx1fWZ1bmN0aW9uIHJpKHQsdSxmKXt2YXIgbyxlLHM9e30saD10LmdldEF0dHJpYnV0ZSgiZGF0YS0iK3IubnMrInJvbGUiKTtmb3IobyBpbiB1KWU9Y3QodCxvKSxlIT09aSYmKG5yLnRlc3QobykmJiJkcmF3ZXIiIT1oJiYoInN0cmluZyI9PXR5cGVvZiBlP24oIiMiK2UpLmxlbmd0aD9lPXIudGVtcGxhdGUobigiIyIrZSkuaHRtbCgpKTpmJiYoZT1yLnRlbXBsYXRlKGZbZV0pKTplPXQuZ2V0QXR0cmlidXRlKG8pKSxzW29dPWUpO3JldHVybiBzfWZ1bmN0aW9uIGZ1KHQsaSl7cmV0dXJuIG4uY29udGFpbnModCxpKT8tMToxfWZ1bmN0aW9uIGV1KCl7dmFyIHQ9bih0aGlzKTtyZXR1cm4gbi5pbkFycmF5KHQuYXR0cigiZGF0YS0iK3IubnMrInJvbGUiKSxbInNsaWRlciIsInJhbmdlc2xpZGVyIiwiYnJlYWRjcnVtYiJdKT4tMXx8dC5pcygiOnZpc2libGUiKX1mdW5jdGlvbiBvdShuLHQpe3ZhciBpPW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oL2lucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0Ly50ZXN0KGkpPyFuLmRpc2FibGVkOiJhIj09PWk/bi5ocmVmfHx0OnQpJiZzdShuKX1mdW5jdGlvbiBzdSh0KXtyZXR1cm4gbi5leHByLnBzZXVkb3MudmlzaWJsZSh0KSYmIW4odCkucGFyZW50cygpLmFkZEJhY2soKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4iaGlkZGVuIj09PW4uY3NzKHRoaXMsInZpc2liaWxpdHkiKX0pLmxlbmd0aH1mdW5jdGlvbiBzKG4sdCl7cmV0dXJuIG5ldyBzLmZuLmluaXQobix0KX12YXIgdixkLHVpLGZpLGl0LGVpLG9pLHNpLGhpLGNpLGxpLGFpLHZpLHkseWkscGksd2ksYmksa2ksbHQsZGksZ2kscCxhdCxucix0cixpcixycix2dCx5dCxwdCx1cixlLHcsZnIsd3QsZyxlcixvcixhLHI9dC5rZW5kbz10LmtlbmRvfHx7Y3VsdHVyZXM6e319LGg9bi5leHRlbmQscnQ9bi5lYWNoLGh1PW4uaXNBcnJheSxidD1uLnByb3h5LHV0PW4ubm9vcCxjPU1hdGgsZnQ9dC5KU09OfHx7fSx1PXt9LGV0PS8lLyxjdT0vXHsoXGQrKSg6W15cfV0rKT9cfS9nLGx1PS8oXGQrKD86XC4/KVxkKilweFxzKihcZCsoPzpcLj8pXGQqKXB4XHMqKFxkKyg/OlwuPylcZCopcHhccyooXGQrKT8vaSxhdT0vXihcK3wtPylcZCsoXC4/KVxkKiQvLGw9ImZ1bmN0aW9uIixvPSJzdHJpbmciLGI9Im51bWJlciIsaz0ib2JqZWN0IixvdD0ibnVsbCIsc3I9ImJvb2xlYW4iLHN0PSJ1bmRlZmluZWQiLGhyPXt9LGNyPXt9LGt0PVtdLnNsaWNlLGxyPWZ1bmN0aW9uKCl7dmFyIHUsZSx0LHIsbyxzLG49YXJndW1lbnRzWzBdfHx7fSxmPTEsYz1hcmd1bWVudHMubGVuZ3RoLGg9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIG4mJihoPW4sbj1hcmd1bWVudHNbZl18fHt9LGYrKyksIm9iamVjdCI9PXR5cGVvZiBufHxqUXVlcnkuaXNGdW5jdGlvbihuKXx8KG49e30pLGY9PT1jJiYobj10aGlzLGYtLSk7ZjxjO2YrKylpZihudWxsIT0obz1hcmd1bWVudHNbZl0pKWZvcihyIGluIG8pImZpbHRlcnMiIT1yJiYiY29uY2F0IiE9ciYmIjoiIT1yJiYodT1uW3JdLHQ9b1tyXSxuIT09dCYmKGgmJnQmJihqUXVlcnkuaXNQbGFpbk9iamVjdCh0KXx8KGU9alF1ZXJ5LmlzQXJyYXkodCkpKT8oZT8oZT0hMSxzPXUmJmpRdWVyeS5pc0FycmF5KHUpP3U6W10pOnM9dSYmalF1ZXJ5LmlzUGxhaW5PYmplY3QodSk/dTp7fSxuW3JdPWxyKGgscyx0KSk6dCE9PWkmJihuW3JdPXQpKSk7cmV0dXJuIG59O3IudmVyc2lvbj0iMjAyMC4yLjQxNCIucmVwbGFjZSgvXlxzK3xccyskL2csIiIpO250LmV4dGVuZD1mdW5jdGlvbihuKXt2YXIgdCxyLHU9ZnVuY3Rpb24oKXt9LGY9dGhpcyxpPW4mJm4uaW5pdD9uLmluaXQ6ZnVuY3Rpb24oKXtmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dS5wcm90b3R5cGU9Zi5wcm90b3R5cGU7cj1pLmZuPWkucHJvdG90eXBlPW5ldyB1O2Zvcih0IGluIG4pclt0XT1udWxsIT1uW3RdJiZuW3RdLmNvbnN0cnVjdG9yPT09T2JqZWN0P2goITAse30sdS5wcm90b3R5cGVbdF0sblt0XSk6blt0XTtyZXR1cm4gci5jb25zdHJ1Y3Rvcj1pLGkuZXh0ZW5kPWYuZXh0ZW5kLGl9O250LnByb3RvdHlwZS5faW5pdE9wdGlvbnM9ZnVuY3Rpb24obil7dGhpcy5vcHRpb25zPXR0KHt9LHRoaXMub3B0aW9ucyxuKX07ZD1yLmlzRnVuY3Rpb249ZnVuY3Rpb24obil7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG59O3VpPWZ1bmN0aW9uKCl7dGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMH07Zmk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZD09PSEwfTtpdD1udC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oKXt0aGlzLl9ldmVudHM9e319LGJpbmQ6ZnVuY3Rpb24obix0LHIpe3ZhciB1LGgscyxmLGMsZT10aGlzLGE9dHlwZW9mIG49PT1vP1tuXTpuLHY9dHlwZW9mIHQ9PT1sO2lmKHQ9PT1pKXtmb3IodSBpbiBuKWUuYmluZCh1LG5bdV0pO3JldHVybiBlfWZvcih1PTAsaD1hLmxlbmd0aDt1PGg7dSsrKW49YVt1XSxmPXY/dDp0W25dLGYmJihyJiYocz1mLGY9ZnVuY3Rpb24oKXtlLnVuYmluZChuLGYpO3MuYXBwbHkoZSxhcmd1bWVudHMpfSxmLm9yaWdpbmFsPXMpLGM9ZS5fZXZlbnRzW25dPWUuX2V2ZW50c1tuXXx8W10sYy5wdXNoKGYpKTtyZXR1cm4gZX0sb25lOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuYmluZChuLHQsITApfSxmaXJzdDpmdW5jdGlvbihuLHQpe2Zvcih2YXIgcixlLHU9dGhpcyxzPXR5cGVvZiBuPT09bz9bbl06bixoPXR5cGVvZiB0PT09bCxpPTAsZj1zLmxlbmd0aDtpPGY7aSsrKW49c1tpXSxyPWg/dDp0W25dLHImJihlPXUuX2V2ZW50c1tuXT11Ll9ldmVudHNbbl18fFtdLGUudW5zaGlmdChyKSk7cmV0dXJuIHV9LHRyaWdnZXI6ZnVuY3Rpb24obix0KXt2YXIgcixmLHU9dGhpcyxpPXUuX2V2ZW50c1tuXTtpZihpKXtmb3IodD10fHx7fSx0LnNlbmRlcj11LHQuX2RlZmF1bHRQcmV2ZW50ZWQ9ITEsdC5wcmV2ZW50RGVmYXVsdD11aSx0LmlzRGVmYXVsdFByZXZlbnRlZD1maSxpPWkuc2xpY2UoKSxyPTAsZj1pLmxlbmd0aDtyPGY7cisrKWlbcl0uY2FsbCh1LHQpO3JldHVybiB0Ll9kZWZhdWx0UHJldmVudGVkPT09ITB9cmV0dXJuITF9LHVuYmluZDpmdW5jdGlvbihuLHQpe3ZhciByLGY9dGhpcyx1PWYuX2V2ZW50c1tuXTtpZihuPT09aSlmLl9ldmVudHM9e307ZWxzZSBpZih1KWlmKHQpZm9yKHI9dS5sZW5ndGgtMTtyPj0wO3ItLSl1W3JdIT09dCYmdVtyXS5vcmlnaW5hbCE9PXR8fHUuc3BsaWNlKHIsMSk7ZWxzZSBmLl9ldmVudHNbbl09W107cmV0dXJuIGZ9fSk7ZWk9L15cdysvO29pPS9cJFx7KFtefV0qKVx9L2c7c2k9L1xcXH0vZztoaT0vX19DVVJMWV9fL2c7Y2k9L1xcIy9nO2xpPS9fX1NIQVJQX18vZzthaT1bIiIsIjAiLCIwMCIsIjAwMCIsIjAwMDAiXTt2PXtwYXJhbU5hbWU6ImRhdGEiLHVzZVdpdGhCbG9jazohMCxyZW5kZXI6ZnVuY3Rpb24obix0KXtmb3IodmFyIHU9IiIsaT0wLHI9dC5sZW5ndGg7aTxyO2krKyl1Kz1uKHRbaV0pO3JldHVybiB1fSxjb21waWxlOmZ1bmN0aW9uKG4sdCl7dmFyIGUsZix1LG89aCh7fSx0aGlzLHQpLHM9by5wYXJhbU5hbWUsbD1zLm1hdGNoKGVpKVswXSxjPW8udXNlV2l0aEJsb2NrLGk9InZhciAka2VuZG9PdXRwdXQsICRrZW5kb0h0bWxFbmNvZGUgPSBrZW5kby5odG1sRW5jb2RlOyI7aWYoZChuKSlyZXR1cm4gbjtmb3IoaSs9Yz8id2l0aCgiK3MrIil7IjoiIixpKz0iJGtlbmRvT3V0cHV0PSIsZj1uLnJlcGxhY2Uoc2ksIl9fQ1VSTFlfXyIpLnJlcGxhY2Uob2ksIiM9JGtlbmRvSHRtbEVuY29kZSgkMSkjIikucmVwbGFjZShoaSwifSIpLnJlcGxhY2UoY2ksIl9fU0hBUlBfXyIpLnNwbGl0KCIjIiksdT0wO3U8Zi5sZW5ndGg7dSsrKWkrPWFyKGZbdV0sdSUyPT0wKTtpKz1jPyI7fSI6IjsiO2krPSJyZXR1cm4gJGtlbmRvT3V0cHV0OyI7aT1pLnJlcGxhY2UobGksIiMiKTt0cnl7cmV0dXJuIGU9RnVuY3Rpb24obCxpKSxlLl9zbG90Q291bnQ9TWF0aC5mbG9vcihmLmxlbmd0aC8yKSxlfWNhdGNoKGEpe3Rocm93IEVycm9yKHIuZm9ybWF0KCJJbnZhbGlkIHRlbXBsYXRlOid7MH0nIEdlbmVyYXRlZCBjb2RlOid7MX0nIixuLGkpKTt9fX0sZnVuY3Rpb24oKXtmdW5jdGlvbiB1KG4pe3JldHVybiBlLmxhc3RJbmRleD0wLGUudGVzdChuKT8nIicrbi5yZXBsYWNlKGUsZnVuY3Rpb24obil7dmFyIHQ9c1tuXTtyZXR1cm4gdHlwZW9mIHQ9PT1vP3Q6IlxcdSIrKCIwMDAwIituLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCl9KSsnIic6JyInK24rJyInfWZ1bmN0aW9uIGkoZixlKXt2YXIgYyx5LGEsdyx2LHAsZD1uLHM9ZVtmXTtpZihzJiZ0eXBlb2Ygcz09PWsmJnR5cGVvZiBzLnRvSlNPTj09PWwmJihzPXMudG9KU09OKGYpKSx0eXBlb2YgdD09PWwmJihzPXQuY2FsbChlLGYscykpLHA9dHlwZW9mIHMscD09PW8pcmV0dXJuIHUocyk7aWYocD09PWIpcmV0dXJuIGlzRmluaXRlKHMpP3MrIiI6b3Q7aWYocD09PXNyfHxwPT09b3QpcmV0dXJuIHMrIiI7aWYocD09PWspe2lmKCFzKXJldHVybiBvdDtpZihuKz1yLHY9W10sIltvYmplY3QgQXJyYXldIj09PWguYXBwbHkocykpe2Zvcih3PXMubGVuZ3RoLGM9MDtjPHc7YysrKXZbY109aShjLHMpfHxvdDtyZXR1cm4gYT0wPT09di5sZW5ndGg/IltdIjpuPyJbXG4iK24rdi5qb2luKCIsXG4iK24pKyJcbiIrZCsiXSI6IlsiK3Yuam9pbigiLCIpKyJdIixuPWQsYX1pZih0JiZ0eXBlb2YgdD09PWspZm9yKHc9dC5sZW5ndGgsYz0wO2M8dztjKyspdHlwZW9mIHRbY109PT1vJiYoeT10W2NdLGE9aSh5LHMpLGEmJnYucHVzaCh1KHkpKyhuPyI6ICI6IjoiKSthKSk7ZWxzZSBmb3IoeSBpbiBzKU9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMseSkmJihhPWkoeSxzKSxhJiZ2LnB1c2godSh5KSsobj8iOiAiOiI6IikrYSkpO3JldHVybiBhPTA9PT12Lmxlbmd0aD8ie30iOm4/IntcbiIrbit2LmpvaW4oIixcbiIrbikrIlxuIitkKyJ9IjoieyIrdi5qb2luKCIsIikrIn0iLG49ZCxhfX12YXIgbixyLHQsZT0vW1xcXCJceDAwLVx4MWZceDdmLVx4OWZcdTAwYWRcdTA2MDAtXHUwNjA0XHUwNzBmXHUxN2I0XHUxN2I1XHUyMDBjLVx1MjAwZlx1MjAyOC1cdTIwMmZcdTIwNjAtXHUyMDZmXHVmZWZmXHVmZmYwLVx1ZmZmZl0vZyxzPXsiXGIiOiJcXGIiLCJcdCI6IlxcdCIsIlxuIjoiXFxuIiwiXGYiOiJcXGYiLCJcciI6IlxcciIsJyInOidcXCInLCJcXCI6IlxcXFwifSxoPXt9LnRvU3RyaW5nO3R5cGVvZiBEYXRlLnByb3RvdHlwZS50b0pTT04hPT1sJiYoRGF0ZS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztyZXR1cm4gaXNGaW5pdGUobi52YWx1ZU9mKCkpP2Yobi5nZXRVVENGdWxsWWVhcigpLDQpKyItIitmKG4uZ2V0VVRDTW9udGgoKSsxKSsiLSIrZihuLmdldFVUQ0RhdGUoKSkrIlQiK2Yobi5nZXRVVENIb3VycygpKSsiOiIrZihuLmdldFVUQ01pbnV0ZXMoKSkrIjoiK2Yobi5nZXRVVENTZWNvbmRzKCkpKyJaIjpudWxsfSxTdHJpbmcucHJvdG90eXBlLnRvSlNPTj1OdW1iZXIucHJvdG90eXBlLnRvSlNPTj1Cb29sZWFuLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZU9mKCl9KTt0eXBlb2YgZnQuc3RyaW5naWZ5IT09bCYmKGZ0LnN0cmluZ2lmeT1mdW5jdGlvbih1LGYsZSl7dmFyIHM7aWYobj0iIixyPSIiLHR5cGVvZiBlPT09Yilmb3Iocz0wO3M8ZTtzKz0xKXIrPSIgIjtlbHNlIHR5cGVvZiBlPT09byYmKHI9ZSk7aWYodD1mLGYmJnR5cGVvZiBmIT09bCYmKHR5cGVvZiBmIT09a3x8dHlwZW9mIGYubGVuZ3RoIT09YikpdGhyb3cgRXJyb3IoIkpTT04uc3RyaW5naWZ5Iik7cmV0dXJuIGkoIiIseyIiOnV9KX0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbChuKXtpZihuKXtpZihuLm51bWJlckZvcm1hdClyZXR1cm4gbjtpZih0eXBlb2Ygbj09PW8pe3ZhciB0PXIuY3VsdHVyZXM7cmV0dXJuIHRbbl18fHRbbi5zcGxpdCgiLSIpWzBdXXx8bnVsbH1yZXR1cm4gbnVsbH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBhKG4pe3JldHVybiBuJiYobj1sKG4pKSxufHxyLmN1bHR1cmVzLmN1cnJlbnR9ZnVuY3Rpb24gZChuLHQscil7cj1hKHIpO3ZhciB1PXIuY2FsZW5kYXJzLnN0YW5kYXJkLGU9dS5kYXlzLG89dS5tb250aHM7cmV0dXJuIHQ9dS5wYXR0ZXJuc1t0XXx8dCx0LnJlcGxhY2UobnQsZnVuY3Rpb24odCl7dmFyIHMscixoO3JldHVybiJkIj09PXQ/cj1uLmdldERhdGUoKToiZGQiPT09dD9yPWYobi5nZXREYXRlKCkpOiJkZGQiPT09dD9yPWUubmFtZXNBYmJyW24uZ2V0RGF5KCldOiJkZGRkIj09PXQ/cj1lLm5hbWVzW24uZ2V0RGF5KCldOiJNIj09PXQ/cj1uLmdldE1vbnRoKCkrMToiTU0iPT09dD9yPWYobi5nZXRNb250aCgpKzEpOiJNTU0iPT09dD9yPW8ubmFtZXNBYmJyW24uZ2V0TW9udGgoKV06Ik1NTU0iPT09dD9yPW8ubmFtZXNbbi5nZXRNb250aCgpXToieXkiPT09dD9yPWYobi5nZXRGdWxsWWVhcigpJTEwMCk6Inl5eXkiPT09dD9yPWYobi5nZXRGdWxsWWVhcigpLDQpOiJoIj09PXQ/cj1uLmdldEhvdXJzKCklMTJ8fDEyOiJoaCI9PT10P3I9ZihuLmdldEhvdXJzKCklMTJ8fDEyKToiSCI9PT10P3I9bi5nZXRIb3VycygpOiJISCI9PT10P3I9ZihuLmdldEhvdXJzKCkpOiJtIj09PXQ/cj1uLmdldE1pbnV0ZXMoKToibW0iPT09dD9yPWYobi5nZXRNaW51dGVzKCkpOiJzIj09PXQ/cj1uLmdldFNlY29uZHMoKToic3MiPT09dD9yPWYobi5nZXRTZWNvbmRzKCkpOiJmIj09PXQ/cj1jLmZsb29yKG4uZ2V0TWlsbGlzZWNvbmRzKCkvMTAwKToiZmYiPT09dD8ocj1uLmdldE1pbGxpc2Vjb25kcygpLHI+OTkmJihyPWMuZmxvb3Ioci8xMCkpLHI9ZihyKSk6ImZmZiI9PT10P3I9ZihuLmdldE1pbGxpc2Vjb25kcygpLDMpOiJ0dCI9PT10P3I9bi5nZXRIb3VycygpPDEyP3UuQU1bMF06dS5QTVswXToienp6Ij09PXQ/KHM9bi5nZXRUaW1lem9uZU9mZnNldCgpLGg9czwwLHI9KCIiK2MuYWJzKHMvNjApKS5zcGxpdCgiLiIpWzBdLHM9Yy5hYnMocyktNjAqcixyPShoPyIrIjoiLSIpK2Yocikscis9IjoiK2YocykpOiJ6eiIhPT10JiYieiIhPT10fHwocj1uLmdldFRpbWV6b25lT2Zmc2V0KCkvNjAsaD1yPDAscj0oIiIrYy5hYnMocikpLnNwbGl0KCIuIilbMF0scj0oaD8iKyI6Ii0iKSsoInp6Ij09PXQ/ZihyKTpyKSksciE9PWk/cjp0LnNsaWNlKDEsdC5sZW5ndGgtMSl9KX1mdW5jdGlvbiBnKG4scixmKXt2YXIgeSxsdCxjdCxhdCx2dCx5dCxldCxzdCxwdCxndCxkLG90LHAsd3QsZWksYnQsbnQsbyx1dCxiLG5pLHRpLGcsYyxsLGt0LGlpLHVpLHJpLG9pLGZ0LGh0LGZpLGR0O2lmKGY9YShmKSx5PWYubnVtYmVyRm9ybWF0LGx0PXlbdV0sY3Q9eS5kZWNpbWFscyxhdD15LnBhdHRlcm5bMF0sdnQ9W10sZD1uPDAsYnQ9dCxudD10LGZ0PS0xLG49PT1pKXJldHVybiB0O2lmKCFpc0Zpbml0ZShuKSlyZXR1cm4gbjtpZighcilyZXR1cm4gZi5uYW1lLmxlbmd0aD9uLnRvTG9jYWxlU3RyaW5nKCk6IiIrbjtpZihndD10dC5leGVjKHIpKXtpZihyPWd0WzFdLnRvTG93ZXJDYXNlKCksZXQ9ImMiPT09cixzdD0icCI9PT1yLChldHx8c3QpJiYoeT1ldD95LmN1cnJlbmN5OnkucGVyY2VudCxsdD15W3VdLGN0PXkuZGVjaW1hbHMseXQ9eS5zeW1ib2wsYXQ9eS5wYXR0ZXJuW2Q/MDoxXSkscHQ9Z3RbMl0scHQmJihjdD0rcHQpLCJlIj09PXIpcmV0dXJuIGZpPXB0P24udG9FeHBvbmVudGlhbChjdCk6bi50b0V4cG9uZW50aWFsKCksZmkucmVwbGFjZSh1LHlbdV0pO2lmKHN0JiYobio9MTAwKSxuPWUobixjdCksZD1uPDAsbj1uLnNwbGl0KHUpLG90PW5bMF0scD1uWzFdLGQmJihvdD1vdC5zdWJzdHJpbmcoMSkpLG50PXYob3QsMCxvdC5sZW5ndGgseSkscCYmKG50Kz1sdCtwKSwibiI9PT1yJiYhZClyZXR1cm4gbnQ7Zm9yKG49dCxvPTAsdXQ9YXQubGVuZ3RoO288dXQ7bysrKWI9YXQuY2hhckF0KG8pLG4rPSJuIj09PWI/bnQ6IiQiPT09Ynx8IiUiPT09Yj95dDpiO3JldHVybiBufWlmKChyLmluZGV4T2YoIiciKT4tMXx8ci5pbmRleE9mKCciJyk+LTF8fHIuaW5kZXhPZigiXFwiKT4tMSkmJihyPXIucmVwbGFjZShpdCxmdW5jdGlvbihuKXt2YXIgdD1uLmNoYXJBdCgwKS5yZXBsYWNlKCJcXCIsIiIpLGk9bi5zbGljZSgxKS5yZXBsYWNlKHQsIiIpO3JldHVybiB2dC5wdXNoKGkpLGt9KSkscj1yLnNwbGl0KCI7IiksZCYmclsxXSlyPXJbMV0sdGk9ITA7ZWxzZSBpZigwPT09biYmclsyXSl7aWYocj1yWzJdLHIuaW5kZXhPZihoKT09LTEmJnIuaW5kZXhPZihzKT09LTEpcmV0dXJuIHJ9ZWxzZSByPXJbMF07aWYodWk9ci5pbmRleE9mKCIlIikscmk9ci5pbmRleE9mKCIkIiksc3Q9dWkhPS0xLGV0PXJpIT0tMSxzdCYmKG4qPTEwMCksZXQmJiJcXCI9PT1yW3JpLTFdJiYocj1yLnNwbGl0KCJcXCIpLmpvaW4oIiIpLGV0PSExKSwoZXR8fHN0KSYmKHk9ZXQ/eS5jdXJyZW5jeTp5LnBlcmNlbnQsbHQ9eVt1XSxjdD15LmRlY2ltYWxzLHl0PXkuc3ltYm9sKSxuaT1yLmluZGV4T2Yodyk+LTEsbmkmJihyPXIucmVwbGFjZShydCx0KSksZz1yLmluZGV4T2YodSksdXQ9ci5sZW5ndGgsZyE9LTEpaWYocD0oIiIrbikuc3BsaXQoImUiKSxwPXBbMV0/ZShuLE1hdGguYWJzKHBbMV0pKTpwWzBdLHA9cC5zcGxpdCh1KVsxXXx8dCxsPXIubGFzdEluZGV4T2YocyktZyxjPXIubGFzdEluZGV4T2YoaCktZyxrdD1sPi0xLGlpPWM+LTEsbz1wLmxlbmd0aCxrdHx8aWl8fChyPXIuc3Vic3RyaW5nKDAsZykrci5zdWJzdHJpbmcoZysxKSx1dD1yLmxlbmd0aCxnPS0xLG89MCksa3QmJmw+YylvPWw7ZWxzZSBpZihjPmwpaWYoaWkmJm8+Yyl7Zm9yKGR0PWUobixjLGQpO2R0LmNoYXJBdChkdC5sZW5ndGgtMSk9PT1zJiZjPjAmJmM+bDspYy0tLGR0PWUobixjLGQpO289Y31lbHNlIGt0JiZvPGwmJihvPWwpO2lmKG49ZShuLG8sZCksYz1yLmluZGV4T2YoaCksb2k9bD1yLmluZGV4T2YocyksZnQ9Yz09LTEmJmwhPS0xP2w6YyE9LTEmJmw9PS0xP2M6Yz5sP2w6YyxjPXIubGFzdEluZGV4T2YoaCksbD1yLmxhc3RJbmRleE9mKHMpLGh0PWM9PS0xJiZsIT0tMT9sOmMhPS0xJiZsPT0tMT9jOmM+bD9jOmwsZnQ9PXV0JiYoaHQ9ZnQpLGZ0IT0tMSl7Zm9yKG50PSgiIituKS5zcGxpdCh1KSxvdD1udFswXSxwPW50WzFdfHx0LHd0PW90Lmxlbmd0aCxlaT1wLmxlbmd0aCxkJiZuKi0xPj0wJiYoZD0hMSksbj1yLnN1YnN0cmluZygwLGZ0KSxkJiYhdGkmJihuKz0iLSIpLG89ZnQ7bzx1dDtvKyspe2lmKGI9ci5jaGFyQXQobyksZz09LTEpe2lmKGh0LW88d3Qpe24rPW90O2JyZWFrfX1lbHNlIGlmKGwhPS0xJiZsPG8mJihidD10KSxnLW88PXd0JiZnLW8+LTEmJihuKz1vdCxvPWcpLGc9PT1vKXtuKz0ocD9sdDp0KStwO28rPWh0LWcrMTtjb250aW51ZX1iPT09cz8obis9YixidD1iKTpiPT09aCYmKG4rPWJ0KX1pZihuaSYmKG49dihuLGZ0KyhkJiYhdGk/MTowKSxNYXRoLm1heChodCx3dCtmdCkseSkpLGh0Pj1mdCYmKG4rPXIuc3Vic3RyaW5nKGh0KzEpKSxldHx8c3Qpe2ZvcihudD10LG89MCx1dD1uLmxlbmd0aDtvPHV0O28rKyliPW4uY2hhckF0KG8pLG50Kz0iJCI9PT1ifHwiJSI9PT1iP3l0OmI7bj1udH1pZih1dD12dC5sZW5ndGgpZm9yKG89MDtvPHV0O28rKyluPW4ucmVwbGFjZShrLHZ0W29dKX1yZXR1cm4gbn12YXIgdixlLHksbnQ9L2RkZGR8ZGRkfGRkfGR8TU1NTXxNTU18TU18TXx5eXl5fHl5fEhIfEh8aGh8aHxtbXxtfGZmZnxmZnxmfHR0fHNzfHN8enp6fHp6fHp8IlteIl0qInwnW14nXSonL2csdHQ9L14obnxjfHB8ZSkoXGQqKSQvaSxpdD0vKFxcLil8KFsnXVteJ10qWyddPyl8KFsiXVteIl0qWyJdPykvZyxydD0vXCwvZyx0PSIiLHU9Ii4iLHc9IiwiLGg9IiMiLHM9IjAiLGs9Ij8/IixwPSJlbi1VUyIsdXQ9e30udG9TdHJpbmc7ci5jdWx0dXJlc1siZW4tVVMiXT17bmFtZTpwLG51bWJlckZvcm1hdDp7cGF0dGVybjpbIi1uIl0sZGVjaW1hbHM6MiwiLCI6IiwiLCIuIjoiLiIsZ3JvdXBTaXplOlszXSxwZXJjZW50OntwYXR0ZXJuOlsiLW4gJSIsIm4gJSJdLGRlY2ltYWxzOjIsIiwiOiIsIiwiLiI6Ii4iLGdyb3VwU2l6ZTpbM10sc3ltYm9sOiIlIn0sY3VycmVuY3k6e25hbWU6IlVTIERvbGxhciIsYWJicjoiVVNEIixwYXR0ZXJuOlsiKCRuKSIsIiRuIl0sZGVjaW1hbHM6MiwiLCI6IiwiLCIuIjoiLiIsZ3JvdXBTaXplOlszXSxzeW1ib2w6IiQifX0sY2FsZW5kYXJzOntzdGFuZGFyZDp7ZGF5czp7bmFtZXM6WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLG5hbWVzQWJicjpbIlN1biIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCJdLG5hbWVzU2hvcnQ6WyJTdSIsIk1vIiwiVHUiLCJXZSIsIlRoIiwiRnIiLCJTYSJdfSxtb250aHM6e25hbWVzOlsiSmFudWFyeSIsIkZlYnJ1YXJ5IiwiTWFyY2giLCJBcHJpbCIsIk1heSIsIkp1bmUiLCJKdWx5IiwiQXVndXN0IiwiU2VwdGVtYmVyIiwiT2N0b2JlciIsIk5vdmVtYmVyIiwiRGVjZW1iZXIiXSxuYW1lc0FiYnI6WyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXX0sQU06WyJBTSIsImFtIiwiQU0iXSxQTTpbIlBNIiwicG0iLCJQTSJdLHBhdHRlcm5zOntkOiJNL2QveXl5eSIsRDoiZGRkZCwgTU1NTSBkZCwgeXl5eSIsRjoiZGRkZCwgTU1NTSBkZCwgeXl5eSBoOm1tOnNzIHR0IixnOiJNL2QveXl5eSBoOm1tIHR0IixHOiJNL2QveXl5eSBoOm1tOnNzIHR0IixtOiJNTU1NIGRkIixNOiJNTU1NIGRkIixzOiJ5eXl5Jy0nTU0nLSdkZFRISCc6J21tJzonc3MiLHQ6Img6bW0gdHQiLFQ6Img6bW06c3MgdHQiLHU6Inl5eXknLSdNTSctJ2RkIEhIJzonbW0nOidzcydaJyIseToiTU1NTSwgeXl5eSIsWToiTU1NTSwgeXl5eSJ9LCIvIjoiLyIsIjoiOiI6IixmaXJzdERheTowLHR3b0RpZ2l0WWVhck1heDoyMDI5fX19O3IuY3VsdHVyZT1mdW5jdGlvbihuKXt2YXIgdCx1PXIuY3VsdHVyZXM7cmV0dXJuIG49PT1pP3UuY3VycmVudDoodD1sKG4pfHx1W3BdLHQuY2FsZW5kYXI9dC5jYWxlbmRhcnMuc3RhbmRhcmQsdS5jdXJyZW50PXQsaSl9O3IuZmluZEN1bHR1cmU9bDtyLmdldEN1bHR1cmU9YTtyLmN1bHR1cmUocCk7dj1mdW5jdGlvbihuLHQscixmKXt2YXIgbyxjLGUsaCxsLGEsdj1uLmluZGV4T2YoZlt1XSkseT1mLmdyb3VwU2l6ZS5zbGljZSgpLHM9eS5zaGlmdCgpO2lmKHI9diE9PS0xP3Y6cisxLG89bi5zdWJzdHJpbmcodCxyKSxjPW8ubGVuZ3RoLGM+PXMpe2ZvcihlPWMsaD1bXTtlPi0xOylpZihsPW8uc3Vic3RyaW5nKGUtcyxlKSxsJiZoLnB1c2gobCksZS09cyxhPXkuc2hpZnQoKSxzPWEhPT1pP2E6cywwPT09cyl7ZT4wJiZoLnB1c2goby5zdWJzdHJpbmcoMCxlKSk7YnJlYWt9bz1oLnJldmVyc2UoKS5qb2luKGZbd10pO249bi5zdWJzdHJpbmcoMCx0KStvK24uc3Vic3RyaW5nKHIpfXJldHVybiBufTtlPWZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gdD10fHwwLG49KCIiK24pLnNwbGl0KCJlIiksbj1NYXRoLnJvdW5kKCsoblswXSsiZSIrKG5bMV0/K25bMV0rdDp0KSkpLGkmJihuPS1uKSxuPSgiIituKS5zcGxpdCgiZSIpLG49KyhuWzBdKyJlIisoblsxXT8rblsxXS10Oi10KSksbi50b0ZpeGVkKE1hdGgubWluKHQsMjApKX07eT1mdW5jdGlvbihuLHQscil7aWYodCl7aWYoIltvYmplY3QgRGF0ZV0iPT09dXQuY2FsbChuKSlyZXR1cm4gZChuLHQscik7aWYodHlwZW9mIG49PT1iKXJldHVybiBnKG4sdCxyKX1yZXR1cm4gbiE9PWk/bjoiIn07ci5mb3JtYXQ9ZnVuY3Rpb24obil7dmFyIHQ9YXJndW1lbnRzO3JldHVybiBuLnJlcGxhY2UoY3UsZnVuY3Rpb24obixpLHIpe3ZhciB1PXRbcGFyc2VJbnQoaSwxMCkrMV07cmV0dXJuIHkodSxyP3Iuc3Vic3RyaW5nKDEpOiIiKX0pfTtyLl9leHRyYWN0Rm9ybWF0PWZ1bmN0aW9uKG4pe3JldHVybiJ7MDoiPT09bi5zbGljZSgwLDMpJiYobj1uLnNsaWNlKDMsbi5sZW5ndGgtMSkpLG59O3IuX2FjdGl2ZUVsZW1lbnQ9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnR9Y2F0Y2gobil7cmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hY3RpdmVFbGVtZW50fX07ci5fcm91bmQ9ZTtyLl9vdXRlcldpZHRoPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIG4odCkub3V0ZXJXaWR0aChpfHwhMSl8fDB9O3IuX291dGVySGVpZ2h0PWZ1bmN0aW9uKHQsaSl7cmV0dXJuIG4odCkub3V0ZXJIZWlnaHQoaXx8ITEpfHwwfTtyLnRvU3RyaW5nPXl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiB0KG4sdCxpKXtyZXR1cm4hKG4+PXQmJm48PWkpfWZ1bmN0aW9uIGEobil7cmV0dXJuIG4uY2hhckF0KDApfWZ1bmN0aW9uIHUodCl7cmV0dXJuIG4ubWFwKHQsYSl9ZnVuY3Rpb24gdihuLHQpe3R8fDIzIT09bi5nZXRIb3VycygpfHxuLnNldEhvdXJzKG4uZ2V0SG91cnMoKSsyKX1mdW5jdGlvbiB5KG4pe2Zvcih2YXIgdD0wLHI9bi5sZW5ndGgsaT1bXTt0PHI7dCsrKWlbdF09KG5bdF0rIiIpLnRvTG93ZXJDYXNlKCk7cmV0dXJuIGl9ZnVuY3Rpb24gZihuKXt2YXIgdCxpPXt9O2Zvcih0IGluIG4paVt0XT15KG5bdF0pO3JldHVybiBpfWZ1bmN0aW9uIHAobixlLG8scyl7aWYoIW4pcmV0dXJuIG51bGw7dmFyIHksaCxndCxwdCx3dCxidCxmdCxjdCxsdCxiLGssbmksdGksdHQ9ZnVuY3Rpb24obil7Zm9yKHZhciB0PTA7ZVtvdF09PT1uOyl0Kyssb3QrKztyZXR1cm4gdD4wJiYob3QtPTEpLHR9LHJ0PWZ1bmN0aW9uKHQpe3ZhciByPWxbdF18fFJlZ0V4cCgiXlxcZHsxLCIrdCsifSIpLGk9bi5zdWJzdHIocCx0KS5tYXRjaChyKTtyZXR1cm4gaT8oaT1pWzBdLHArPWkubGVuZ3RoLHBhcnNlSW50KGksMTApKTpudWxsfSxhdD1mdW5jdGlvbih0LGkpe2Zvcih2YXIgbyxyLHUsZj0wLGg9dC5sZW5ndGgsZT0wLHM9MDtmPGg7ZisrKW89dFtmXSxyPW8ubGVuZ3RoLHU9bi5zdWJzdHIocCxyKSxpJiYodT11LnRvTG93ZXJDYXNlKCkpLHU9PW8mJnI+ZSYmKGU9cixzPWYpO3JldHVybiBlPyhwKz1lLHMrMSk6bnVsbH0sdnQ9ZnVuY3Rpb24oKXt2YXIgdD0hMTtyZXR1cm4gbi5jaGFyQXQocCk9PT1lW290XSYmKHArKyx0PSEwKSx0fSx3PW8uY2FsZW5kYXJzLnN0YW5kYXJkLGE9bnVsbCx1dD1udWxsLGQ9bnVsbCxjPW51bGwsZXQ9bnVsbCxzdD1udWxsLGl0PW51bGwsb3Q9MCxwPTAsa3Q9ITEsZHQ9bmV3IERhdGUseXQ9dy50d29EaWdpdFllYXJNYXh8fDIwMjksaHQ9ZHQuZ2V0RnVsbFllYXIoKTtmb3IoZXx8KGU9ImQiKSxwdD13LnBhdHRlcm5zW2VdLHB0JiYoZT1wdCksZT1lLnNwbGl0KCIiKSxndD1lLmxlbmd0aDtvdDxndDtvdCsrKWlmKHk9ZVtvdF0sa3QpIiciPT09eT9rdD0hMTp2dCgpO2Vsc2UgaWYoImQiPT09eSl7aWYoaD10dCgiZCIpLHcuX2xvd2VyRGF5c3x8KHcuX2xvd2VyRGF5cz1mKHcuZGF5cykpLG51bGwhPT1kJiZoPjIpY29udGludWU7aWYoZD1oPDM/cnQoMik6YXQody5fbG93ZXJEYXlzWzM9PWg/Im5hbWVzQWJiciI6Im5hbWVzIl0sITApLG51bGw9PT1kfHx0KGQsMSwzMSkpcmV0dXJuIG51bGx9ZWxzZSBpZigiTSI9PT15KXtpZihoPXR0KCJNIiksdy5fbG93ZXJNb250aHN8fCh3Ll9sb3dlck1vbnRocz1mKHcubW9udGhzKSksdXQ9aDwzP3J0KDIpOmF0KHcuX2xvd2VyTW9udGhzWzM9PWg/Im5hbWVzQWJiciI6Im5hbWVzIl0sITApLG51bGw9PT11dHx8dCh1dCwxLDEyKSlyZXR1cm4gbnVsbDt1dC09MX1lbHNlIGlmKCJ5Ij09PXkpe2lmKGg9dHQoInkiKSxhPXJ0KGgpLG51bGw9PT1hKXJldHVybiBudWxsOzI9PWgmJigic3RyaW5nIj09dHlwZW9mIHl0JiYoeXQ9aHQrcGFyc2VJbnQoeXQsMTApKSxhPWh0LWh0JTEwMCthLGE+eXQmJihhLT0xMDApKX1lbHNlIGlmKCJoIj09PXkpe2lmKHR0KCJoIiksYz1ydCgyKSwxMj09YyYmKGM9MCksbnVsbD09PWN8fHQoYywwLDExKSlyZXR1cm4gbnVsbH1lbHNlIGlmKCJIIj09PXkpe2lmKHR0KCJIIiksYz1ydCgyKSxudWxsPT09Y3x8dChjLDAsMjMpKXJldHVybiBudWxsfWVsc2UgaWYoIm0iPT09eSl7aWYodHQoIm0iKSxldD1ydCgyKSxudWxsPT09ZXR8fHQoZXQsMCw1OSkpcmV0dXJuIG51bGx9ZWxzZSBpZigicyI9PT15KXtpZih0dCgicyIpLHN0PXJ0KDIpLG51bGw9PT1zdHx8dChzdCwwLDU5KSlyZXR1cm4gbnVsbH1lbHNlIGlmKCJmIj09PXkpe2lmKGg9dHQoImYiKSx0aT1uLnN1YnN0cihwLGgpLm1hdGNoKGxbM10pLGl0PXJ0KGgpLG51bGwhPT1pdCYmKGl0PXBhcnNlRmxvYXQoIjAuIit0aVswXSwxMCksaXQ9ci5fcm91bmQoaXQsMyksaXQqPTFlMyksbnVsbD09PWl0fHx0KGl0LDAsOTk5KSlyZXR1cm4gbnVsbH1lbHNlIGlmKCJ0Ij09PXkpe2lmKGg9dHQoInQiKSxjdD13LkFNLGx0PXcuUE0sMT09PWgmJihjdD11KGN0KSxsdD11KGx0KSksd3Q9YXQobHQpLCF3dCYmIWF0KGN0KSlyZXR1cm4gbnVsbH1lbHNlIGlmKCJ6Ij09PXkpe2lmKGJ0PSEwLGg9dHQoInoiKSwiWiI9PT1uLnN1YnN0cihwLDEpKXt2dCgpO2NvbnRpbnVlfWlmKChmdD1uLnN1YnN0cihwLDYpLm1hdGNoKGg+Mj9udDpnKSwhZnQpfHwoZnQ9ZnRbMF0uc3BsaXQoIjoiKSxiPWZ0WzBdLGs9ZnRbMV0sIWsmJmIubGVuZ3RoPjMmJihwPWIubGVuZ3RoLTIsaz1iLnN1YnN0cmluZyhwKSxiPWIuc3Vic3RyaW5nKDAscCkpLGI9cGFyc2VJbnQoYiwxMCksdChiLC0xMiwxMykpfHxoPjImJihrPWZ0WzBdWzBdK2ssaz1wYXJzZUludChrLDEwKSxpc05hTihrKXx8dChrLC01OSw1OSkpKXJldHVybiBudWxsfWVsc2UgaWYoIiciPT09eSlrdD0hMCx2dCgpO2Vsc2UgaWYoIXZ0KCkpcmV0dXJuIG51bGw7cmV0dXJuIHMmJiEvXlxzKiQvLnRlc3Qobi5zdWJzdHIocCkpP251bGw6KG5pPW51bGwhPT1jfHxudWxsIT09ZXR8fHN0fHxudWxsLG51bGw9PT1hJiZudWxsPT09dXQmJm51bGw9PT1kJiZuaT8oYT1odCx1dD1kdC5nZXRNb250aCgpLGQ9ZHQuZ2V0RGF0ZSgpKToobnVsbD09PWEmJihhPWh0KSxudWxsPT09ZCYmKGQ9MSkpLHd0JiZjPDEyJiYoYys9MTIpLGJ0PyhiJiYoYys9LWIpLGsmJihldCs9LWspLG49bmV3IERhdGUoRGF0ZS5VVEMoYSx1dCxkLGMsZXQsc3QsaXQpKSk6KG49bmV3IERhdGUoYSx1dCxkLGMsZXQsc3QsaXQpLHYobixjKSksYTwxMDAmJm4uc2V0RnVsbFllYXIoYSksbi5nZXREYXRlKCkhPT1kJiZidD09PWk/bnVsbDpuKX1mdW5jdGlvbiB3KG4pe3ZhciB0PSItIj09PW4uc3Vic3RyKDAsMSk/LTE6MTtyZXR1cm4gbj1uLnN1YnN0cmluZygxKSxuPTYwKnBhcnNlSW50KG4uc3Vic3RyKDAsMiksMTApK3BhcnNlSW50KG4uc3Vic3RyaW5nKDIpLDEwKSx0Km59ZnVuY3Rpb24gayhuKXtmb3IodmFyIHUsaSxmPWMubWF4KHMubGVuZ3RoLGgubGVuZ3RoKSxlPW4uY2FsZW5kYXJ8fG4uY2FsZW5kYXJzLnN0YW5kYXJkLG89ZS5wYXR0ZXJucyxyPVtdLHQ9MDt0PGY7dCsrKXtmb3IodT1zW3RdLGk9MDtpPHUubGVuZ3RoO2krKylyLnB1c2gob1t1W2ldXSk7cj1yLmNvbmNhdChoW3RdKX1yZXR1cm4gcn1mdW5jdGlvbiBlKG4sdCxpLHUpe3ZhciBvLGYscyxlO2lmKCJbb2JqZWN0IERhdGVdIj09PXJ0LmNhbGwobikpcmV0dXJuIG47aWYobz0wLGY9bnVsbCxuJiYwPT09bi5pbmRleE9mKCIvRCIpJiYoZj10dC5leGVjKG4pKSlyZXR1cm4gZj1mWzFdLGU9aXQuZXhlYyhmLnN1YnN0cmluZygxKSksZj1uZXcgRGF0ZShwYXJzZUludChmLDEwKSksZSYmKGU9dyhlWzBdKSxmPXIudGltZXpvbmUuYXBwbHkoZiwwKSxmPXIudGltZXpvbmUuY29udmVydChmLDAsLTEqZSkpLGY7Zm9yKGk9ci5nZXRDdWx0dXJlKGkpLHR8fCh0PWsoaSkpLHQ9aHUodCk/dDpbdF0scz10Lmxlbmd0aDtvPHM7bysrKWlmKGY9cChuLHRbb10saSx1KSlyZXR1cm4gZjtyZXR1cm4gZn12YXIgbz0vXHUwMEEwL2csZD0vW2VFXVtcLStdP1swLTldKy8sZz0vWyt8XC1dXGR7MSwyfS8sbnQ9L1srfFwtXVxkezEsMn06P1xkezJ9Lyx0dD0vXlwvRGF0ZVwoKC4qPylcKVwvJC8saXQ9L1srLV1cZCovLHM9W1tdLFsiRyIsImciLCJGIl0sWyJEIiwiZCIsInkiLCJtIiwiVCIsInQiXV0saD1bWyJ5eXl5LU1NLWRkVEhIOm1tOnNzLmZmZmZmZmZ6enoiLCJ5eXl5LU1NLWRkVEhIOm1tOnNzLmZmZmZmZmYiLCJ5eXl5LU1NLWRkVEhIOm1tOnNzLmZmZnp6eiIsInl5eXktTU0tZGRUSEg6bW06c3MuZmZmIiwiZGRkIE1NTSBkZCB5eXl5IEhIOm1tOnNzIiwieXl5eS1NTS1kZFRISDptbTpzc3p6eiIsInl5eXktTU0tZGRUSEg6bW16enoiLCJ5eXl5LU1NLWRkVEhIOm1tenoiLCJ5eXl5LU1NLWRkVEhIOm1tOnNzIiwieXl5eS1NTS1kZCBISDptbTpzcyIsInl5eXkvTU0vZGQgSEg6bW06c3MiXSxbInl5eXktTU0tZGRUSEg6bW0iLCJ5eXl5LU1NLWRkIEhIOm1tIiwieXl5eS9NTS9kZCBISDptbSJdLFsieXl5eS9NTS9kZCIsInl5eXktTU0tZGQiLCJISDptbTpzcyIsIkhIOm1tIl1dLGw9ezI6L15cZHsxLDJ9LywzOi9eXGR7MSwzfS8sNDovXlxkezR9L30scnQ9e30udG9TdHJpbmc7ci5wYXJzZURhdGU9ZnVuY3Rpb24obix0LGkpe3JldHVybiBlKG4sdCxpLCExKX07ci5wYXJzZUV4YWN0RGF0ZT1mdW5jdGlvbihuLHQsaSl7cmV0dXJuIGUobix0LGksITApfTtyLnBhcnNlSW50PWZ1bmN0aW9uKG4sdCl7dmFyIGk9ci5wYXJzZUZsb2F0KG4sdCk7cmV0dXJuIGkmJihpPTB8aSksaX07ci5wYXJzZUZsb2F0PWZ1bmN0aW9uKG4sdCxpKXtpZighbiYmMCE9PW4pcmV0dXJuIG51bGw7aWYodHlwZW9mIG49PT1iKXJldHVybiBuO249IiIrbjt0PXIuZ2V0Q3VsdHVyZSh0KTt2YXIgZixoLHU9dC5udW1iZXJGb3JtYXQsYz11LnBlcmNlbnQsbD11LmN1cnJlbmN5LHM9bC5zeW1ib2wsYT1jLnN5bWJvbCxlPW4uaW5kZXhPZigiLSIpO3JldHVybiBkLnRlc3Qobik/KG49cGFyc2VGbG9hdChuLnJlcGxhY2UodVsiLiJdLCIuIikpLGlzTmFOKG4pJiYobj1udWxsKSxuKTplPjA/bnVsbDooZT1lPi0xLG4uaW5kZXhPZihzKT4tMXx8aSYmaS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImMiKT4tMT8odT1sLGY9dS5wYXR0ZXJuWzBdLnJlcGxhY2UoIiQiLHMpLnNwbGl0KCJuIiksbi5pbmRleE9mKGZbMF0pPi0xJiZuLmluZGV4T2YoZlsxXSk+LTEmJihuPW4ucmVwbGFjZShmWzBdLCIiKS5yZXBsYWNlKGZbMV0sIiIpLGU9ITApKTpuLmluZGV4T2YoYSk+LTEmJihoPSEwLHU9YyxzPWEpLG49bi5yZXBsYWNlKCItIiwiIikucmVwbGFjZShzLCIiKS5yZXBsYWNlKG8sIiAiKS5zcGxpdCh1WyIsIl0ucmVwbGFjZShvLCIgIikpLmpvaW4oIiIpLnJlcGxhY2UodVsiLiJdLCIuIiksbj1wYXJzZUZsb2F0KG4pLGlzTmFOKG4pP249bnVsbDplJiYobio9LTEpLG4mJmgmJihuLz0xMDApLG4pfX0oKSxmdW5jdGlvbigpe3ZhciBjLGUsaCxsLHMscixmLGEsdix5LHAsdzt1Ll9zY3JvbGxiYXI9aTt1LnNjcm9sbGJhcj1mdW5jdGlvbihuKXtpZihpc05hTih1Ll9zY3JvbGxiYXIpfHxuKXt2YXIgaSx0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiB0LnN0eWxlLmNzc1RleHQ9Im92ZXJmbG93OnNjcm9sbDtvdmVyZmxvdy14OmhpZGRlbjt6b29tOjE7Y2xlYXI6Ym90aDtkaXNwbGF5OmJsb2NrIix0LmlubmVySFRNTD0iJm5ic3A7Iixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQpLHUuX3Njcm9sbGJhcj1pPXQub2Zmc2V0V2lkdGgtdC5zY3JvbGxXaWR0aCxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHQpLGl9cmV0dXJuIHUuX3Njcm9sbGJhcn07dS5pc1J0bD1mdW5jdGlvbih0KXtyZXR1cm4gbih0KS5jbG9zZXN0KCIuay1ydGwiKS5sZW5ndGg+MH07Yz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpO3RyeXtjLmlubmVySFRNTD0iPHRyPjx0ZD48XC90ZD48XC90cj4iO3UudGJvZHlJbm5lckh0bWw9ITB9Y2F0Y2goYil7dS50Ym9keUlubmVySHRtbD0hMX11LnRvdWNoPSJvbnRvdWNoc3RhcnQiaW4gdDtlPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTtoPXUudHJhbnNpdGlvbnM9ITE7bD11LnRyYW5zZm9ybXM9ITE7cz0iSFRNTEVsZW1lbnQiaW4gdD9IVE1MRWxlbWVudC5wcm90b3R5cGU6W107dS5oYXNIVzNEPSJXZWJLaXRDU1NNYXRyaXgiaW4gdCYmIm0xMSJpbiBuZXcgdC5XZWJLaXRDU1NNYXRyaXh8fCJNb3pQZXJzcGVjdGl2ZSJpbiBlfHwibXNQZXJzcGVjdGl2ZSJpbiBlO3UuY3NzRmxleGJveD0iZmxleFdyYXAiaW4gZXx8IldlYmtpdEZsZXhXcmFwImluIGV8fCJtc0ZsZXhXcmFwImluIGU7cnQoWyJNb3oiLCJ3ZWJraXQiLCJPIiwibXMiXSxmdW5jdGlvbigpe3ZhciBuLHQ9IiIrdGhpcyxpPXR5cGVvZiBjLnN0eWxlW3QrIlRyYW5zaXRpb24iXT09PW87aWYoaXx8dHlwZW9mIGMuc3R5bGVbdCsiVHJhbnNmb3JtIl09PT1vKXJldHVybiBuPXQudG9Mb3dlckNhc2UoKSxsPXtjc3M6Im1zIiE9bj8iLSIrbisiLSI6IiIscHJlZml4OnQsZXZlbnQ6Im8iPT09bnx8IndlYmtpdCI9PT1uP246IiJ9LGkmJihoPWwsaC5ldmVudD1oLmV2ZW50P2guZXZlbnQrIlRyYW5zaXRpb25FbmQiOiJ0cmFuc2l0aW9uZW5kIiksITF9KTtjPW51bGw7dS50cmFuc2Zvcm1zPWw7dS50cmFuc2l0aW9ucz1oO3UuZGV2aWNlUGl4ZWxSYXRpbz10LmRldmljZVBpeGVsUmF0aW89PT1pPzE6dC5kZXZpY2VQaXhlbFJhdGlvO3RyeXt1LnNjcmVlbldpZHRoPXQub3V0ZXJXaWR0aHx8dC5zY3JlZW4/dC5zY3JlZW4uYXZhaWxXaWR0aDp0LmlubmVyV2lkdGg7dS5zY3JlZW5IZWlnaHQ9dC5vdXRlckhlaWdodHx8dC5zY3JlZW4/dC5zY3JlZW4uYXZhaWxIZWlnaHQ6dC5pbm5lckhlaWdodH1jYXRjaChiKXt1LnNjcmVlbldpZHRoPXQuc2NyZWVuLmF2YWlsV2lkdGg7dS5zY3JlZW5IZWlnaHQ9dC5zY3JlZW4uYXZhaWxIZWlnaHR9dS5kZXRlY3RPUz1mdW5jdGlvbihuKXt2YXIgZixyLGk9ITEsZT1bXSxzPSEvbW9iaWxlIHNhZmFyaS9pLnRlc3Qobiksbz17d3A6LyhXaW5kb3dzIFBob25lKD86IE9TKT8pXHMoXGQrKVwuKFxkKyhcLlxkKyk/KS8sZmlyZTovKFNpbGspXC8oXGQrKVwuKFxkKyhcLlxkKyk/KS8sYW5kcm9pZDovKEFuZHJvaWR8QW5kcm9pZC4qKD86T3BlcmF8RmlyZWZveCkuKj9cLylccyooXGQrKVwuPyhcZCsoXC5cZCspPyk/LyxpcGhvbmU6LyhpUGhvbmV8aVBvZCkuKk9TXHMrKFxkKylbXC5fXShbXGRcLl9dKykvLGlwYWQ6LyhpUGFkKS4qT1NccysoXGQrKVtcLl9dKFtcZF9dKykvLG1lZWdvOi8oTWVlR28pLitOb2tpYUJyb3dzZXJcLyhcZCspXC4oW1xkXC5fXSspLyx3ZWJvczovKHdlYk9TKVwvKFxkKylcLihcZCsoXC5cZCspPykvLGJsYWNrYmVycnk6LyhCbGFja0JlcnJ5fEJCMTApLio/VmVyc2lvblwvKFxkKylcLihcZCsoXC5cZCspPykvLHBsYXlib29rOi8oUGxheUJvb2spLio/VGFibGV0XHMqT1NccyooXGQrKVwuKFxkKyhcLlxkKyk/KS8sd2luZG93czovKE1TSUUpXHMrKFxkKylcLihcZCsoXC5cZCspPykvLHRpemVuOi8odGl6ZW4pLio/VmVyc2lvblwvKFxkKylcLihcZCsoXC5cZCspPykvaSxzYWlsZmlzaDovKHNhaWxmaXNoKS4qcnY6KFxkKylcLihcZCsoXC5cZCspPykuKmZpcmVmb3gvaSxmZm9zOi8oTW9iaWxlKS4qcnY6KFxkKylcLihcZCsoXC5cZCspPykuKkZpcmVmb3gvfSxoPXtpb3M6L15pKHBob25lfHBhZHxwb2QpJC9pLGFuZHJvaWQ6L15hbmRyb2lkfGZpcmUkL2ksYmxhY2tiZXJyeTovXmJsYWNrYmVycnl8cGxheWJvb2svaSx3aW5kb3dzOi93aW5kb3dzLyx3cDovd3AvLGZsYXQ6L3NhaWxmaXNofGZmb3N8dGl6ZW4vaSxtZWVnbzovbWVlZ28vfSxjPXt0YWJsZXQ6L3BsYXlib29rfGlwYWR8ZmlyZS9pfSxsPXtvbWluaTovT3BlcmFcc01pbmkvaSxvbW9iaWxlOi9PcGVyYVxzTW9iaS9pLGZpcmVmb3g6L0ZpcmVmb3h8RmVubmVjL2ksbW9iaWxlc2FmYXJpOi92ZXJzaW9uXC8uKnNhZmFyaS9pLGllOi9NU0lFfFdpbmRvd3Ncc1Bob25lL2ksY2hyb21lOi9jaHJvbWV8Y3Jpb3MvaSx3ZWJraXQ6L3dlYmtpdC9pfTtmb3IociBpbiBvKWlmKG8uaGFzT3duUHJvcGVydHkocikmJihlPW4ubWF0Y2gob1tyXSkpKXtpZigid2luZG93cyI9PXImJiJwbHVnaW5zImluIG5hdmlnYXRvcilyZXR1cm4hMTtpPXt9O2kuZGV2aWNlPXI7aS50YWJsZXQ9aHQocixjLCExKTtpLmJyb3dzZXI9aHQobixsLCJkZWZhdWx0Iik7aS5uYW1lPWh0KHIsaCk7aVtpLm5hbWVdPSEwO2kubWFqb3JWZXJzaW9uPWVbMl07aS5taW5vclZlcnNpb249KGVbM118fCIwIikucmVwbGFjZSgiXyIsIi4iKTtmPWkubWlub3JWZXJzaW9uLnJlcGxhY2UoIi4iLCIiKS5zdWJzdHIoMCwyKTtpLmZsYXRWZXJzaW9uPWkubWFqb3JWZXJzaW9uK2YrQXJyYXkoMy0oZi5sZW5ndGg8Mz9mLmxlbmd0aDoyKSkuam9pbigiMCIpO2kuY29yZG92YT10eXBlb2YgdC5QaG9uZUdhcCE9PXN0fHx0eXBlb2YgdC5jb3Jkb3ZhIT09c3Q7aS5hcHBNb2RlPXQubmF2aWdhdG9yLnN0YW5kYWxvbmV8fC9maWxlfGxvY2FsfHdtYXBwLy50ZXN0KHQubG9jYXRpb24ucHJvdG9jb2wpfHxpLmNvcmRvdmE7aS5hbmRyb2lkJiYodS5kZXZpY2VQaXhlbFJhdGlvPDEuNSYmaS5mbGF0VmVyc2lvbjw0MDB8fHMpJiYodS5zY3JlZW5XaWR0aD44MDB8fHUuc2NyZWVuSGVpZ2h0PjgwMCkmJihpLnRhYmxldD1yKTticmVha31yZXR1cm4gaX07cj11Lm1vYmlsZU9TPXUuZGV0ZWN0T1MobmF2aWdhdG9yLnVzZXJBZ2VudCk7dS53cERldmljZVBpeGVsUmF0aW89ci53cD9zY3JlZW4ud2lkdGgvMzIwOjA7dS5oYXNOYXRpdmVTY3JvbGxpbmc9ITE7KHIuaW9zfHxyLmFuZHJvaWQmJnIubWFqb3JWZXJzaW9uPjJ8fHIud3ApJiYodS5oYXNOYXRpdmVTY3JvbGxpbmc9cik7dS5kZWxheWVkQ2xpY2s9ZnVuY3Rpb24oKXtpZih1LnRvdWNoKXtpZihyLmlvcylyZXR1cm4hMDtpZihyLmFuZHJvaWQpcmV0dXJuIXUuYnJvd3Nlci5jaHJvbWV8fCEodS5icm93c2VyLnZlcnNpb248MzIpJiYhKG4oIm1ldGFbbmFtZT12aWV3cG9ydF0iKS5hdHRyKCJjb250ZW50Iil8fCIiKS5tYXRjaCgvdXNlci1zY2FsYWJsZT1uby9pKX1yZXR1cm4hMX07dS5tb3VzZUFuZFRvdWNoUHJlc2VudD11LnRvdWNoJiYhKHUubW9iaWxlT1MuaW9zfHx1Lm1vYmlsZU9TLmFuZHJvaWQpO3UuZGV0ZWN0QnJvd3Nlcj1mdW5jdGlvbihuKXt2YXIgaSx0PSExLHI9W10sdT17ZWRnZTovKGVkZ2UpWyBcL10oW1x3Ll0rKS9pLHdlYmtpdDovKGNocm9tZXxjcmlvcylbIFwvXShbXHcuXSspL2ksc2FmYXJpOi8od2Via2l0KVsgXC9dKFtcdy5dKykvaSxvcGVyYTovKG9wZXJhKSg/Oi4qdmVyc2lvbnwpWyBcL10oW1x3Ll0rKS9pLG1zaWU6Lyhtc2llXHN8dHJpZGVudC4qPyBydjopKFtcdy5dKykvaSxtb3ppbGxhOi8obW96aWxsYSkoPzouKj8gcnY6KFtcdy5dKyl8KS9pfTtmb3IoaSBpbiB1KWlmKHUuaGFzT3duUHJvcGVydHkoaSkmJihyPW4ubWF0Y2godVtpXSkpKXt0PXt9O3RbaV09ITA7dFtyWzFdLnRvTG93ZXJDYXNlKCkuc3BsaXQoIiAiKVswXS5zcGxpdCgiLyIpWzBdXT0hMDt0LnZlcnNpb249cGFyc2VJbnQoZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHxyWzJdLDEwKTticmVha31yZXR1cm4gdH07dS5icm93c2VyPXUuZGV0ZWN0QnJvd3NlcihuYXZpZ2F0b3IudXNlckFnZW50KTt1LmRldGVjdENsaXBib2FyZEFjY2Vzcz1mdW5jdGlvbigpe3ZhciBuPXtjb3B5OiEhZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkJiZkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoImNvcHkiKSxjdXQ6ISFkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQmJmRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCgiY3V0IikscGFzdGU6ISFkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQmJmRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCgicGFzdGUiKX07cmV0dXJuIHUuYnJvd3Nlci5jaHJvbWUmJihuLnBhc3RlPSExLHUuYnJvd3Nlci52ZXJzaW9uPj00MyYmKG4uY29weT0hMCxuLmN1dD0hMCkpLG59O3UuY2xpcGJvYXJkPXUuZGV0ZWN0Q2xpcGJvYXJkQWNjZXNzKCk7dS56b29tTGV2ZWw9ZnVuY3Rpb24oKXt2YXIgbixyLGk7dHJ5e3JldHVybiBuPXUuYnJvd3NlcixyPTAsaT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsbi5tc2llJiYxMT09bi52ZXJzaW9uJiZpLnNjcm9sbEhlaWdodD5pLmNsaWVudEhlaWdodCYmIXUudG91Y2gmJihyPXUuc2Nyb2xsYmFyKCkpLHUudG91Y2g/aS5jbGllbnRXaWR0aC90LmlubmVyV2lkdGg6bi5tc2llJiZuLnZlcnNpb24+PTEwPygodG9wfHx0KS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGgrcikvKHRvcHx8dCkuaW5uZXJXaWR0aDoxfWNhdGNoKGYpe3JldHVybiAxfX07dS5jc3NCb3JkZXJTcGFjaW5nPWkhPT1lLmJvcmRlclNwYWNpbmcmJiEodS5icm93c2VyLm1zaWUmJnUuYnJvd3Nlci52ZXJzaW9uPDgpLGZ1bmN0aW9uKHQpe3ZhciBpPSIiLHI9bihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLGY9cGFyc2VJbnQodC52ZXJzaW9uLDEwKTt0Lm1zaWU/aT0iaWUiOnQubW96aWxsYT9pPSJmZiI6dC5zYWZhcmk/aT0ic2FmYXJpIjp0LndlYmtpdD9pPSJ3ZWJraXQiOnQub3BlcmE/aT0ib3BlcmEiOnQuZWRnZSYmKGk9ImVkZ2UiKTtpJiYoaT0iay0iK2krIiBrLSIraStmKTt1Lm1vYmlsZU9TJiYoaSs9IiBrLW1vYmlsZSIpO3UuY3NzRmxleGJveHx8KGkrPSIgay1uby1mbGV4Ym94Iik7ci5hZGRDbGFzcyhpKX0odS5icm93c2VyKTt1LmV2ZW50Q2FwdHVyZT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcjtmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7dS5wbGFjZWhvbGRlcj0icGxhY2Vob2xkZXIiaW4gZjt1LnByb3BlcnR5Q2hhbmdlRXZlbnQ9Im9ucHJvcGVydHljaGFuZ2UiaW4gZjt1LmlucHV0PWZ1bmN0aW9uKCl7Zm9yKHZhciBuLGk9WyJudW1iZXIiLCJkYXRlIiwidGltZSIsIm1vbnRoIiwid2VlayIsImRhdGV0aW1lIiwiZGF0ZXRpbWUtbG9jYWwiXSxlPWkubGVuZ3RoLHI9InRlc3QiLHU9e30sdD0wO3Q8ZTt0Kyspbj1pW3RdLGYuc2V0QXR0cmlidXRlKCJ0eXBlIixuKSxmLnZhbHVlPXIsdVtuLnJlcGxhY2UoIi0iLCIiKV09InRleHQiIT09Zi50eXBlJiZmLnZhbHVlIT09cjtyZXR1cm4gdX0oKTtmLnN0eWxlLmNzc1RleHQ9ImZsb2F0OmxlZnQ7Ijt1LmNzc0Zsb2F0PSEhZi5zdHlsZS5jc3NGbG9hdDtmPW51bGw7dS5zdGFibGVTb3J0PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVt7aW5kZXg6MCxmaWVsZDoiYiJ9XSxuPTE7bjw1MTM7bisrKXQucHVzaCh7aW5kZXg6bixmaWVsZDoiYSJ9KTtyZXR1cm4gdC5zb3J0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4uZmllbGQ+dC5maWVsZD8xOm4uZmllbGQ8dC5maWVsZD8tMTowfSksMT09PXRbMF0uaW5kZXh9KCk7dS5tYXRjaGVzU2VsZWN0b3I9cy53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fHMubW96TWF0Y2hlc1NlbGVjdG9yfHxzLm1zTWF0Y2hlc1NlbGVjdG9yfHxzLm9NYXRjaGVzU2VsZWN0b3J8fHMubWF0Y2hlc1NlbGVjdG9yfHxzLm1hdGNoZXN8fGZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPyh0aGlzLnBhcmVudE5vZGV8fGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHQpfHxbXTpuKHQpLHI9aS5sZW5ndGg7ci0tOylpZihpW3JdPT10aGlzKXJldHVybiEwO3JldHVybiExfTt1Lm1hdGNoTWVkaWE9Im1hdGNoTWVkaWEiaW4gdDt1LnB1c2hTdGF0ZT10Lmhpc3RvcnkmJnQuaGlzdG9yeS5wdXNoU3RhdGU7YT1kb2N1bWVudC5kb2N1bWVudE1vZGU7dS5oYXNoQ2hhbmdlPSJvbmhhc2hjaGFuZ2UiaW4gdCYmISh1LmJyb3dzZXIubXNpZSYmKCFhfHxhPD04KSk7dS5jdXN0b21FbGVtZW50cz0icmVnaXN0ZXJFbGVtZW50ImluIHQuZG9jdW1lbnQ7dj11LmJyb3dzZXIuY2hyb21lO3k9dS5icm93c2VyLmNyaW9zO3A9dS5icm93c2VyLm1vemlsbGE7dz11LmJyb3dzZXIuc2FmYXJpO3UubXNQb2ludGVycz0hdiYmdC5NU1BvaW50ZXJFdmVudDt1LnBvaW50ZXJzPSF2JiYheSYmIXAmJiF3JiZ0LlBvaW50ZXJFdmVudDt1LmtpbmV0aWNTY3JvbGxOZWVkZWQ9ciYmKHUudG91Y2h8fHUubXNQb2ludGVyc3x8dS5wb2ludGVycyl9KCk7dmk9e2xlZnQ6e3JldmVyc2U6InJpZ2h0In0scmlnaHQ6e3JldmVyc2U6ImxlZnQifSxkb3duOntyZXZlcnNlOiJ1cCJ9LHVwOntyZXZlcnNlOiJkb3duIn0sdG9wOntyZXZlcnNlOiJib3R0b20ifSxib3R0b206e3JldmVyc2U6InRvcCJ9LCJpbiI6e3JldmVyc2U6Im91dCJ9LG91dDp7cmV2ZXJzZToiaW4ifX07eT17fTtuLmV4dGVuZCh5LHtlbmFibGVkOiEwLEVsZW1lbnQ6ZnVuY3Rpb24odCl7dGhpcy5lbGVtZW50PW4odCl9LHByb21pc2U6ZnVuY3Rpb24obix0KXtuLmlzKCI6dmlzaWJsZSIpfHxuLmNzcyh7ZGlzcGxheTpuLmRhdGEoIm9sZGRpc3BsYXkiKXx8ImJsb2NrIn0pLmNzcygiZGlzcGxheSIpO3QuaGlkZSYmbi5kYXRhKCJvbGRkaXNwbGF5IixuLmNzcygiZGlzcGxheSIpKS5oaWRlKCk7dC5pbml0JiZ0LmluaXQoKTt0LmNvbXBsZXRlQ2FsbGJhY2smJnQuY29tcGxldGVDYWxsYmFjayhuKTtuLmRlcXVldWUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZW5hYmxlZD0hMTt0aGlzLnByb21pc2U9dGhpcy5wcm9taXNlU2hpbX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSEwO3RoaXMucHJvbWlzZT10aGlzLmFuaW1hdGVkUHJvbWlzZX19KTt5LnByb21pc2VTaGltPXkucHJvbWlzZTsia2VuZG9BbmltYXRlImluIG4uZm58fGgobi5mbix7a2VuZG9TdG9wOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuc3RvcChuLHQpfSxrZW5kb0FuaW1hdGU6ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIGlpKHRoaXMsbix0LGkscil9LGtlbmRvQWRkQ2xhc3M6ZnVuY3Rpb24obix0KXtyZXR1cm4gci50b2dnbGVDbGFzcyh0aGlzLG4sdCwhMCl9LGtlbmRvUmVtb3ZlQ2xhc3M6ZnVuY3Rpb24obix0KXtyZXR1cm4gci50b2dnbGVDbGFzcyh0aGlzLG4sdCwhMSl9LGtlbmRvVG9nZ2xlQ2xhc3M6ZnVuY3Rpb24obix0LGkpe3JldHVybiByLnRvZ2dsZUNsYXNzKHRoaXMsbix0LGkpfX0pO3lpPS8mL2c7cGk9LzwvZzt3aT0vIi9nO2JpPS8nL2c7a2k9Lz4vZztsdD1mdW5jdGlvbihuKXtyZXR1cm4gbi50YXJnZXR9O3UudG91Y2gmJihsdD1mdW5jdGlvbihuKXt2YXIgdD0ib3JpZ2luYWxFdmVudCJpbiBuP24ub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlczoiY2hhbmdlZFRvdWNoZXMiaW4gbj9uLmNoYW5nZWRUb3VjaGVzOm51bGw7cmV0dXJuIHQ/ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh0WzBdLmNsaWVudFgsdFswXS5jbGllbnRZKTpuLnRhcmdldH0scnQoWyJzd2lwZSIsInN3aXBlTGVmdCIsInN3aXBlUmlnaHQiLCJzd2lwZVVwIiwic3dpcGVEb3duIiwiZG91YmxlVGFwIiwidGFwIl0sZnVuY3Rpb24odCxpKXtuLmZuW2ldPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmJpbmQoaSxuKX19KSk7dS50b3VjaD91Lm1vYmlsZU9TPyh1Lm1vdXNlZG93bj0idG91Y2hzdGFydCIsdS5tb3VzZXVwPSJ0b3VjaGVuZCIsdS5tb3VzZW1vdmU9InRvdWNobW92ZSIsdS5tb3VzZWNhbmNlbD0idG91Y2hjYW5jZWwiLHUuY2xpY2s9InRvdWNoZW5kIix1LnJlc2l6ZT0ib3JpZW50YXRpb25jaGFuZ2UiKToodS5tb3VzZWRvd249Im1vdXNlZG93biB0b3VjaHN0YXJ0Iix1Lm1vdXNldXA9Im1vdXNldXAgdG91Y2hlbmQiLHUubW91c2Vtb3ZlPSJtb3VzZW1vdmUgdG91Y2htb3ZlIix1Lm1vdXNlY2FuY2VsPSJtb3VzZWxlYXZlIHRvdWNoY2FuY2VsIix1LmNsaWNrPSJjbGljayIsdS5yZXNpemU9InJlc2l6ZSIpOnUucG9pbnRlcnM/KHUubW91c2Vtb3ZlPSJwb2ludGVybW92ZSIsdS5tb3VzZWRvd249InBvaW50ZXJkb3duIix1Lm1vdXNldXA9InBvaW50ZXJ1cCIsdS5tb3VzZWNhbmNlbD0icG9pbnRlcmNhbmNlbCIsdS5jbGljaz0icG9pbnRlcnVwIix1LnJlc2l6ZT0ib3JpZW50YXRpb25jaGFuZ2UgcmVzaXplIik6dS5tc1BvaW50ZXJzPyh1Lm1vdXNlbW92ZT0iTVNQb2ludGVyTW92ZSIsdS5tb3VzZWRvd249Ik1TUG9pbnRlckRvd24iLHUubW91c2V1cD0iTVNQb2ludGVyVXAiLHUubW91c2VjYW5jZWw9Ik1TUG9pbnRlckNhbmNlbCIsdS5jbGljaz0iTVNQb2ludGVyVXAiLHUucmVzaXplPSJvcmllbnRhdGlvbmNoYW5nZSByZXNpemUiKToodS5tb3VzZW1vdmU9Im1vdXNlbW92ZSIsdS5tb3VzZWRvd249Im1vdXNlZG93biIsdS5tb3VzZXVwPSJtb3VzZXVwIix1Lm1vdXNlY2FuY2VsPSJtb3VzZWxlYXZlIix1LmNsaWNrPSJjbGljayIsdS5yZXNpemU9InJlc2l6ZSIpO2RpPWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciByLGksbz10fHwiZCIsZT0xLHU9MCxmPW4ubGVuZ3RoO3U8Zjt1KyspaT1uW3VdLCIiIT09aSYmKHI9aS5pbmRleE9mKCJbIiksMCE9PXImJihyPT0tMT9pPSIuIitpOihlKyssaT0iLiIraS5zdWJzdHJpbmcoMCxyKSsiIHx8IHt9KSIraS5zdWJzdHJpbmcocikpKSxlKyssbys9aSsodTxmLTE/IiB8fCB7fSkiOiIpIikpO3JldHVybiBBcnJheShlKS5qb2luKCIoIikrb307Z2k9L14oW2Etel0rOik/XC9cLy9pO2gocix7d2lkZ2V0czpbXSxfd2lkZ2V0UmVnaXN0ZXJlZENhbGxiYWNrczpbXSx1aTpyLnVpfHx7fSxmeDpyLmZ4fHxudSxlZmZlY3RzOnIuZWZmZWN0c3x8eSxtb2JpbGU6ci5tb2JpbGV8fHt9LGRhdGE6ci5kYXRhfHx7fSxkYXRhdml6OnIuZGF0YXZpenx8e30sZHJhd2luZzpyLmRyYXdpbmd8fHt9LHNwcmVhZHNoZWV0OnttZXNzYWdlczp7fX0sa2V5czp7SU5TRVJUOjQ1LERFTEVURTo0NixCQUNLU1BBQ0U6OCxUQUI6OSxFTlRFUjoxMyxFU0M6MjcsTEVGVDozNyxVUDozOCxSSUdIVDozOSxET1dOOjQwLEVORDozNSxIT01FOjM2LFNQQUNFQkFSOjMyLFBBR0VVUDozMyxQQUdFRE9XTjozNCxGMjoxMTMsRjEwOjEyMSxGMTI6MTIzLE5VTVBBRF9QTFVTOjEwNyxOVU1QQURfTUlOVVM6MTA5LE5VTVBBRF9ET1Q6MTEwfSxzdXBwb3J0OnIuc3VwcG9ydHx8dSxhbmltYXRlOnIuYW5pbWF0ZXx8aWksbnM6IiIsYXR0cjpmdW5jdGlvbihuKXtyZXR1cm4iZGF0YS0iK3IubnMrbn0sZ2V0U2hhZG93czp2cix3cmFwOnlyLGRlZXBFeHRlbmQ6dHQsZ2V0Q29tcHV0ZWRTdHlsZXM6dGksaXNTY3JvbGxhYmxlOndyLHNjcm9sbExlZnQ6YnIsc2l6ZTprcix0b0NhbWVsQ2FzZTpuaSx0b0h5cGhlbnM6cHIsZ2V0T2Zmc2V0OnIuZ2V0T2Zmc2V0fHxkcixwYXJzZUVmZmVjdHM6ci5wYXJzZUVmZmVjdHN8fGdyLHRvZ2dsZUNsYXNzOnIudG9nZ2xlQ2xhc3N8fGl1LGRpcmVjdGlvbnM6ci5kaXJlY3Rpb25zfHx2aSxPYnNlcnZhYmxlOml0LENsYXNzOm50LFRlbXBsYXRlOnYsdGVtcGxhdGU6YnQodi5jb21waWxlLHYpLHJlbmRlcjpidCh2LnJlbmRlcix2KSxzdHJpbmdpZnk6YnQoZnQuc3RyaW5naWZ5LGZ0KSxldmVudFRhcmdldDpsdCxodG1sRW5jb2RlOnJ1LHVuZXNjYXBlOnV1LGlzTG9jYWxVcmw6ZnVuY3Rpb24obil7cmV0dXJuIG4mJiFnaS50ZXN0KG4pfSxleHByOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gbj1ufHwiIix0eXBlb2YgdD09byYmKGk9dCx0PSExKSxpPWl8fCJkIixuJiYiWyIhPT1uLmNoYXJBdCgwKSYmKG49Ii4iK24pLHQ/KG49bi5yZXBsYWNlKC8iKFteLl0qKVwuKFteIl0qKSIvZywnIiQxXyRET1QkXyQyIicpLG49bi5yZXBsYWNlKC8nKFteLl0qKVwuKFteJ10qKScvZywiJyQxXyRET1QkXyQyJyIpLG49ZGkobi5zcGxpdCgiLiIpLGkpLG49bi5yZXBsYWNlKC9fXCRET1RcJF8vZywiLiIpKTpuPWkrbixufSxnZXR0ZXI6ZnVuY3Rpb24obix0KXt2YXIgaT1uK3Q7cmV0dXJuIGhyW2ldPWhyW2ldfHxGdW5jdGlvbigiZCIsInJldHVybiAiK3IuZXhwcihuLHQpKX0sc2V0dGVyOmZ1bmN0aW9uKG4pe3JldHVybiBjcltuXT1jcltuXXx8RnVuY3Rpb24oImQsdmFsdWUiLHIuZXhwcihuKSsiPXZhbHVlIil9LGFjY2Vzc29yOmZ1bmN0aW9uKG4pe3JldHVybntnZXQ6ci5nZXR0ZXIobiksc2V0OnIuc2V0dGVyKG4pfX0sZ3VpZDpmdW5jdGlvbigpe2Zvcih2YXIgdCxpPSIiLG49MDtuPDMyO24rKyl0PTE2KmMucmFuZG9tKCl8MCw4IT1uJiYxMiE9biYmMTYhPW4mJjIwIT1ufHwoaSs9Ii0iKSxpKz0oMTI9PW4/NDoxNj09bj8zJnR8ODp0KS50b1N0cmluZygxNik7cmV0dXJuIGl9LHJvbGVTZWxlY3RvcjpmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKC8oXFMrKS9nLCJbIityLmF0dHIoInJvbGUiKSsiPSQxXSwiKS5zbGljZSgwLC0xKX0sZGlyZWN0aXZlU2VsZWN0b3I6ZnVuY3Rpb24obil7dmFyIHQsaT1uLnNwbGl0KCIgIik7aWYoaSlmb3IodD0wO3Q8aS5sZW5ndGg7dCsrKSJ2aWV3IiE9aVt0XSYmKGlbdF09aVt0XS5yZXBsYWNlKC8oXHcqKSh2aWV3fGJhcnxzdHJpcHxvdmVyKSQvLCIkMS0kMiIpKTtyZXR1cm4gaS5qb2luKCIgIikucmVwbGFjZSgvKFxTKykvZywia2VuZG8tbW9iaWxlLSQxLCIpLnNsaWNlKDAsLTEpfSx0cmlnZ2VyZWRCeUlucHV0OmZ1bmN0aW9uKG4pe3JldHVybi9eKGxhYmVsfGlucHV0fHRleHRhcmVhfHNlbGVjdCkkL2kudGVzdChuLnRhcmdldC50YWdOYW1lKX0sb25XaWRnZXRSZWdpc3RlcmVkOmZ1bmN0aW9uKG4pe2Zvcih2YXIgdD0wLGk9ci53aWRnZXRzLmxlbmd0aDt0PGk7dCsrKW4oci53aWRnZXRzW3RdKTtyLl93aWRnZXRSZWdpc3RlcmVkQ2FsbGJhY2tzLnB1c2gobil9LGxvZ1RvQ29uc29sZTpmdW5jdGlvbihuLHUpe3ZhciBmPXQuY29uc29sZTshci5zdXBwcmVzc0xvZyYmaSE9PWYmJmYubG9nJiZmW3V8fCJsb2ciXShuKX19KTtwPWl0LmV4dGVuZCh7aW5pdDpmdW5jdGlvbihuLHQpe3ZhciB1LGk9dGhpcztpLmVsZW1lbnQ9ci5qUXVlcnkobikuaGFuZGxlcihpKTtpLmFuZ3VsYXIoImluaXQiLHQpO2l0LmZuLmluaXQuY2FsbChpKTt1PXQ/dC5kYXRhU291cmNlOm51bGw7dSYmKHQ9aCh7fSx0LHtkYXRhU291cmNlOnt9fSkpO3Q9aS5vcHRpb25zPWgoITAse30saS5vcHRpb25zLGkuZGVmYXVsdHMsdCk7dSYmKHQuZGF0YVNvdXJjZT11KTtpLmVsZW1lbnQuYXR0cihyLmF0dHIoInJvbGUiKSl8fGkuZWxlbWVudC5hdHRyKHIuYXR0cigicm9sZSIpLCh0Lm5hbWV8fCIiKS50b0xvd2VyQ2FzZSgpKTtpLmVsZW1lbnQuZGF0YSgia2VuZG8iK3QucHJlZml4K3QubmFtZSxpKTtpLmJpbmQoaS5ldmVudHMsdCl9LGV2ZW50czpbXSxvcHRpb25zOntwcmVmaXg6IiJ9LF9oYXNCaW5kaW5nVGFyZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmVsZW1lbnRbMF0ua2VuZG9CaW5kaW5nVGFyZ2V0fSxfdGFiaW5kZXg6ZnVuY3Rpb24obil7bj1ufHx0aGlzLndyYXBwZXI7dmFyIGk9dGhpcy5lbGVtZW50LHQ9InRhYmluZGV4IixyPW4uYXR0cih0KXx8aS5hdHRyKHQpO2kucmVtb3ZlQXR0cih0KTtuLmF0dHIodCxpc05hTihyKT8wOnIpfSxzZXRPcHRpb25zOmZ1bmN0aW9uKHQpe3RoaXMuX3NldEV2ZW50cyh0KTtuLmV4dGVuZCh0aGlzLm9wdGlvbnMsdCl9LF9zZXRFdmVudHM6ZnVuY3Rpb24obil7Zm9yKHZhciBpLHQ9dGhpcyxyPTAsdT10LmV2ZW50cy5sZW5ndGg7cjx1O3IrKylpPXQuZXZlbnRzW3JdLHQub3B0aW9uc1tpXSYmbltpXSYmKHQudW5iaW5kKGksdC5vcHRpb25zW2ldKSx0Ll9ldmVudHMmJnQuX2V2ZW50c1tpXSYmZGVsZXRlIHQuX2V2ZW50c1tpXSk7dC5iaW5kKHQuZXZlbnRzLG4pfSxyZXNpemU6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5nZXRTaXplKCksaT10aGlzLl9zaXplOyhufHwodC53aWR0aD4wfHx0LmhlaWdodD4wKSYmKCFpfHx0LndpZHRoIT09aS53aWR0aHx8dC5oZWlnaHQhPT1pLmhlaWdodCkpJiYodGhpcy5fc2l6ZT10LHRoaXMuX3Jlc2l6ZSh0LG4pLHRoaXMudHJpZ2dlcigicmVzaXplIix0KSl9LGdldFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gci5kaW1lbnNpb25zKHRoaXMuZWxlbWVudCl9LHNpemU6ZnVuY3Rpb24obil7cmV0dXJuIG4/KHRoaXMuc2V0U2l6ZShuKSxpKTp0aGlzLmdldFNpemUoKX0sc2V0U2l6ZTpuLm5vb3AsX3Jlc2l6ZTpuLm5vb3AsZGVzdHJveTpmdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5lbGVtZW50LnJlbW92ZURhdGEoImtlbmRvIituLm9wdGlvbnMucHJlZml4K24ub3B0aW9ucy5uYW1lKTtuLmVsZW1lbnQucmVtb3ZlRGF0YSgiaGFuZGxlciIpO24udW5iaW5kKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95KCl9LGFuZ3VsYXI6ZnVuY3Rpb24oKXt9LF9tdXRlQW5ndWxhclJlYmluZDpmdW5jdGlvbihuKXt0aGlzLl9tdXRlUmViaW5kPSEwO24uY2FsbCh0aGlzKTt0aGlzLl9tdXRlUmViaW5kPSExfX0pO2F0PXAuZXh0ZW5kKHtkYXRhSXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhU291cmNlLmZsYXRWaWV3KCl9LF9hbmd1bGFySXRlbXM6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztpLmFuZ3VsYXIodCxmdW5jdGlvbigpe3JldHVybntlbGVtZW50czppLml0ZW1zKCksZGF0YTpuLm1hcChpLmRhdGFJdGVtcygpLGZ1bmN0aW9uKG4pe3JldHVybntkYXRhSXRlbTpufX0pfX0pfX0pO3IuZGltZW5zaW9ucz1mdW5jdGlvbihuLHQpe3ZhciBpPW5bMF07cmV0dXJuIHQmJm4uY3NzKHQpLHt3aWR0aDppLm9mZnNldFdpZHRoLGhlaWdodDppLm9mZnNldEhlaWdodH19O3Iubm90aWZ5PXV0O25yPS90ZW1wbGF0ZSQvaTt0cj0vXlxzKig/Olx7KD86LnxcclxufFxuKSpcfXxcWyg/Oi58XHJcbnxcbikqXF0pXHMqJC87aXI9L15ceyhcZCspKDpbXlx9XSspP1x9fF5cW1tBLVphLXpfXStcXSQvO3JyPS8oW0EtWl0pL2c7ci5pbml0V2lkZ2V0PWZ1bmN0aW9uKHUsZixlKXt2YXIgaCxwLHMsdixkLGMsdyxsLGIsZyx5LGssYTtpZihlP2Uucm9sZXMmJihlPWUucm9sZXMpOmU9ci51aS5yb2xlcyx1PXUubm9kZVR5cGU/dTp1WzBdLGM9dS5nZXRBdHRyaWJ1dGUoImRhdGEtIityLm5zKyJyb2xlIikpe2I9Yy5pbmRleE9mKCIuIik9PT0tMTtzPWI/ZVtjXTpyLmdldHRlcihjKSh0KTt5PW4odSkuZGF0YSgpO2s9cz8ia2VuZG8iK3MuZm4ub3B0aW9ucy5wcmVmaXgrcy5mbi5vcHRpb25zLm5hbWU6IiI7Zz1iP1JlZ0V4cCgiXmtlbmRvLioiK2MrIiQiLCJpIik6UmVnRXhwKCJeIitrKyIkIiwiaSIpO2ZvcihhIGluIHkpaWYoYS5tYXRjaChnKSl7aWYoYSE9PWspcmV0dXJuIHlbYV07aD15W2FdfWlmKHMpe2ZvcihsPWN0KHUsImRhdGFTb3VyY2UiKSxmPW4uZXh0ZW5kKHt9LHJpKHUscy5mbi5vcHRpb25zKSxmKSxsJiYoZi5kYXRhU291cmNlPXR5cGVvZiBsPT09bz9yLmdldHRlcihsKSh0KTpsKSx2PTAsZD1zLmZuLmV2ZW50cy5sZW5ndGg7djxkO3YrKylwPXMuZm4uZXZlbnRzW3ZdLHc9Y3QodSxwKSx3IT09aSYmKGZbcF09ci5nZXR0ZXIodykodCkpO3JldHVybiBoP24uaXNFbXB0eU9iamVjdChmKXx8aC5zZXRPcHRpb25zKGYpOmg9bmV3IHModSxmKSxofX19O3Iucm9sZXNGcm9tTmFtZXNwYWNlcz1mdW5jdGlvbihuKXt2YXIgdCxpLHU9W107Zm9yKG5bMF18fChuPVtyLnVpLHIuZGF0YXZpei51aV0pLHQ9MCxpPW4ubGVuZ3RoO3Q8aTt0KyspdVt0XT1uW3RdLnJvbGVzO3JldHVybiBoLmFwcGx5KG51bGwsW3t9XS5jb25jYXQodS5yZXZlcnNlKCkpKX07ci5pbml0PWZ1bmN0aW9uKHQpe3ZhciBpPXIucm9sZXNGcm9tTmFtZXNwYWNlcyhrdC5jYWxsKGFyZ3VtZW50cywxKSk7bih0KS5maW5kKCJbZGF0YS0iK3IubnMrInJvbGVdIikuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oKXtyLmluaXRXaWRnZXQodGhpcyx7fSxpKX0pfTtyLmRlc3Ryb3k9ZnVuY3Rpb24odCl7bih0KS5maW5kKCJbZGF0YS0iK3IubnMrInJvbGVdIikuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxpPW4odGhpcykuZGF0YSgpO2Zvcih0IGluIGkpMD09PXQuaW5kZXhPZigia2VuZG8iKSYmdHlwZW9mIGlbdF0uZGVzdHJveT09PWwmJmlbdF0uZGVzdHJveSgpfSl9O3IucmVzaXplPWZ1bmN0aW9uKHQsaSl7dmFyIHUsZj1uKHQpLmZpbmQoIltkYXRhLSIrci5ucysicm9sZV0iKS5hZGRCYWNrKCkuZmlsdGVyKGV1KTtmLmxlbmd0aCYmKHU9bi5tYWtlQXJyYXkoZiksdS5zb3J0KGZ1KSxuLmVhY2godSxmdW5jdGlvbigpe3ZhciB0PXIud2lkZ2V0SW5zdGFuY2Uobih0aGlzKSk7dCYmdC5yZXNpemUoaSl9KSl9O3IucGFyc2VPcHRpb25zPXJpO2goci51aSx7V2lkZ2V0OnAsRGF0YUJvdW5kV2lkZ2V0OmF0LHJvbGVzOnt9LHByb2dyZXNzOmZ1bmN0aW9uKHQsaSx1KXt2YXIgZSxzLGgsbyxjLGY9dC5maW5kKCIuay1sb2FkaW5nLW1hc2siKSxsPXIuc3VwcG9ydCxhPWwuYnJvd3Nlcjt1PW4uZXh0ZW5kKHt9LHt3aWR0aDoiMTAwJSIsaGVpZ2h0OiIxMDAlIix0b3A6dC5zY3JvbGxUb3AoKSxvcGFjaXR5OiExfSx1KTtjPXUub3BhY2l0eT8iay1sb2FkaW5nLW1hc2sgay1vcGFxdWUiOiJrLWxvYWRpbmctbWFzayI7aT9mLmxlbmd0aHx8KGU9bC5pc1J0bCh0KSxzPWU/InJpZ2h0IjoibGVmdCIsbz10LnNjcm9sbExlZnQoKSxoPWEud2Via2l0JiZlP3RbMF0uc2Nyb2xsV2lkdGgtdC53aWR0aCgpLTIqbzowLGY9bihyLmZvcm1hdCgiPGRpdiBjbGFzcz0nezB9Jz48c3BhbiBjbGFzcz0nay1sb2FkaW5nLXRleHQnPnsxfTxcL3NwYW4+PGRpdiBjbGFzcz0nay1sb2FkaW5nLWltYWdlJy8+PGRpdiBjbGFzcz0nay1sb2FkaW5nLWNvbG9yJy8+PFwvZGl2PiIsYyxyLnVpLnByb2dyZXNzLm1lc3NhZ2VzLmxvYWRpbmcpKS53aWR0aCh1LndpZHRoKS5oZWlnaHQodS5oZWlnaHQpLmNzcygidG9wIix1LnRvcCkuY3NzKHMsTWF0aC5hYnMobykraCkucHJlcGVuZFRvKHQpKTpmJiZmLnJlbW92ZSgpfSxwbHVnaW46ZnVuY3Rpb24odCx1LGYpe3ZhciBjLGgscyxhLGU9dC5mbi5vcHRpb25zLm5hbWU7Zm9yKHU9dXx8ci51aSxmPWZ8fCIiLHVbZV09dCx1LnJvbGVzW2UudG9Mb3dlckNhc2UoKV09dCxjPSJnZXRLZW5kbyIrZitlLGU9ImtlbmRvIitmK2UsaD17bmFtZTplLHdpZGdldDp0LHByZWZpeDpmfHwiIn0sci53aWRnZXRzLnB1c2goaCkscz0wLGE9ci5fd2lkZ2V0UmVnaXN0ZXJlZENhbGxiYWNrcy5sZW5ndGg7czxhO3MrKylyLl93aWRnZXRSZWdpc3RlcmVkQ2FsbGJhY2tzW3NdKGgpO24uZm5bZV09ZnVuY3Rpb24odSl7dmFyIGYscz10aGlzO3JldHVybiB0eXBlb2YgdT09PW8/KGY9a3QuY2FsbChhcmd1bWVudHMsMSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQsbyxoPW4uZGF0YSh0aGlzLGUpO2lmKCFoKXRocm93IEVycm9yKHIuZm9ybWF0KCJDYW5ub3QgY2FsbCBtZXRob2QgJ3swfScgb2YgezF9IGJlZm9yZSBpdCBpcyBpbml0aWFsaXplZCIsdSxlKSk7aWYodD1oW3VdLHR5cGVvZiB0IT09bCl0aHJvdyBFcnJvcihyLmZvcm1hdCgiQ2Fubm90IGZpbmQgbWV0aG9kICd7MH0nIG9mIHsxfSIsdSxlKSk7aWYobz10LmFwcGx5KGgsZiksbyE9PWkpcmV0dXJuIHM9bywhMX0pKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcyx1KX0pLHN9O24uZm5bZV0ud2lkZ2V0PXQ7bi5mbltjXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEoZSl9fX0pO3IudWkucHJvZ3Jlc3MubWVzc2FnZXM9e2xvYWRpbmc6IkxvYWRpbmcuLi4ifTt2dD17YmluZDpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxudWxsT2JqZWN0OiEwLG9wdGlvbnM6e319O3l0PXAuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4sdCl7cC5mbi5pbml0LmNhbGwodGhpcyxuLHQpO3RoaXMuZWxlbWVudC5hdXRvQXBwbHlOUygpO3RoaXMud3JhcHBlcj10aGlzLmVsZW1lbnQ7dGhpcy5lbGVtZW50LmFkZENsYXNzKCJrbS13aWRnZXQiKX0sZGVzdHJveTpmdW5jdGlvbigpe3AuZm4uZGVzdHJveS5jYWxsKHRoaXMpO3RoaXMuZWxlbWVudC5rZW5kb0Rlc3Ryb3koKX0sb3B0aW9uczp7cHJlZml4OiJNb2JpbGUifSxldmVudHM6W10sdmlldzpmdW5jdGlvbigpe3ZhciBuPXRoaXMuZWxlbWVudC5jbG9zZXN0KHIucm9sZVNlbGVjdG9yKCJ2aWV3IHNwbGl0dmlldyBtb2RhbHZpZXcgZHJhd2VyIikpO3JldHVybiByLndpZGdldEluc3RhbmNlKG4sci5tb2JpbGUudWkpfHx2dH0sdmlld0hhc05hdGl2ZVNjcm9sbGluZzpmdW5jdGlvbigpe3ZhciBuPXRoaXMudmlldygpO3JldHVybiBuJiZuLm9wdGlvbnMudXNlTmF0aXZlU2Nyb2xsaW5nfSxjb250YWluZXI6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmVsZW1lbnQuY2xvc2VzdChyLnJvbGVTZWxlY3RvcigidmlldyBsYXlvdXQgbW9kYWx2aWV3IGRyYXdlciBzcGxpdHZpZXciKSk7cmV0dXJuIHIud2lkZ2V0SW5zdGFuY2Uobi5lcSgwKSxyLm1vYmlsZS51aSl8fHZ0fX0pO2goci5tb2JpbGUse2luaXQ6ZnVuY3Rpb24obil7ci5pbml0KG4sci5tb2JpbGUudWksci51aSxyLmRhdGF2aXoudWkpfSxhcHBMZXZlbE5hdGl2ZVNjcm9sbGluZzpmdW5jdGlvbigpe3JldHVybiByLm1vYmlsZS5hcHBsaWNhdGlvbiYmci5tb2JpbGUuYXBwbGljYXRpb24ub3B0aW9ucyYmci5tb2JpbGUuYXBwbGljYXRpb24ub3B0aW9ucy51c2VOYXRpdmVTY3JvbGxpbmd9LHJvbGVzOnt9LHVpOntXaWRnZXQ6eXQsRGF0YUJvdW5kV2lkZ2V0OmF0LmV4dGVuZCh5dC5wcm90b3R5cGUpLHJvbGVzOnt9LHBsdWdpbjpmdW5jdGlvbihuKXtyLnVpLnBsdWdpbihuLHIubW9iaWxlLnVpLCJNb2JpbGUiKX19fSk7dHQoci5kYXRhdml6LHtpbml0OmZ1bmN0aW9uKG4pe3IuaW5pdChuLHIuZGF0YXZpei51aSl9LHVpOntyb2xlczp7fSx0aGVtZXM6e30sdmlld3M6W10scGx1Z2luOmZ1bmN0aW9uKG4pe3IudWkucGx1Z2luKG4sci5kYXRhdml6LnVpKX19LHJvbGVzOnt9fSk7ci50b3VjaFNjcm9sbGVyPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIGl8fChpPXt9KSxpLnVzZU5hdGl2ZT0hMCxuKHQpLm1hcChmdW5jdGlvbih0LGYpe3JldHVybiBmPW4oZiksISghdS5raW5ldGljU2Nyb2xsTmVlZGVkfHwhci5tb2JpbGUudWkuU2Nyb2xsZXJ8fGYuZGF0YSgia2VuZG9Nb2JpbGVTY3JvbGxlciIpKSYmKGYua2VuZG9Nb2JpbGVTY3JvbGxlcihpKSxmLmRhdGEoImtlbmRvTW9iaWxlU2Nyb2xsZXIiKSl9KVswXX07ci5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCl9O3Iud2lkZ2V0SW5zdGFuY2U9ZnVuY3Rpb24obixpKXt2YXIgZixvLGgscyxjLHU9bi5kYXRhKHIubnMrInJvbGUiKSxlPVtdLGw9bi5kYXRhKCJrZW5kb1ZpZXciKTtpZih1KXtpZigiY29udGVudCI9PT11JiYodT0ic2Nyb2xsZXIiKSwiZWRpdG9ydG9vbGJhciI9PT11JiYoaD1uLmRhdGEoImtlbmRvRWRpdG9yVG9vbGJhciIpKSlyZXR1cm4gaDtpZigidmlldyI9PT11JiZsKXJldHVybiBsO2lmKGkpaWYoaVswXSlmb3IoZj0wLG89aS5sZW5ndGg7ZjxvO2YrKyllLnB1c2goaVtmXS5yb2xlc1t1XSk7ZWxzZSBlLnB1c2goaS5yb2xlc1t1XSk7ZWxzZSBlPVtyLnVpLnJvbGVzW3VdLHIuZGF0YXZpei51aS5yb2xlc1t1XSxyLm1vYmlsZS51aS5yb2xlc1t1XV07Zm9yKHUuaW5kZXhPZigiLiIpPj0wJiYoZT1bci5nZXR0ZXIodSkodCldKSxmPTAsbz1lLmxlbmd0aDtmPG87ZisrKWlmKHM9ZVtmXSxzJiYoYz1uLmRhdGEoImtlbmRvIitzLmZuLm9wdGlvbnMucHJlZml4K3MuZm4ub3B0aW9ucy5uYW1lKSkpcmV0dXJuIGN9fTtyLm9uUmVzaXplPWZ1bmN0aW9uKGkpe3ZhciByPWk7cmV0dXJuIHUubW9iaWxlT1MuYW5kcm9pZCYmKHI9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGksNjAwKX0pLG4odCkub24odS5yZXNpemUscikscn07ci51bmJpbmRSZXNpemU9ZnVuY3Rpb24oaSl7bih0KS5vZmYodS5yZXNpemUsaSl9O3IuYXR0clZhbHVlPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4uZGF0YShyLm5zK3QpfTtyLmRheXM9e1N1bmRheTowLE1vbmRheToxLFR1ZXNkYXk6MixXZWRuZXNkYXk6MyxUaHVyc2RheTo0LEZyaWRheTo1LFNhdHVyZGF5OjZ9O24uZXh0ZW5kKG4uZXhwci5wc2V1ZG9zLHtrZW5kb0ZvY3VzYWJsZTpmdW5jdGlvbih0KXt2YXIgaT1uLmF0dHIodCwidGFiaW5kZXgiKTtyZXR1cm4gb3UodCwhaXNOYU4oaSkmJmk+LTEpfX0pO3B0PVsibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLCJtb3VzZW92ZXIiLCJtb3VzZW91dCIsIm1vdXNldXAiLCJjbGljayJdO3VyPSJsYWJlbCwgaW5wdXQsIFtkYXRhLXJlbD1leHRlcm5hbF0iO2U9e3NldHVwTW91c2VNdXRlOmZ1bmN0aW9uKCl7dmFyIGksdD0wLHI9cHQubGVuZ3RoLGY9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2lmKCFlLm1vdXNlVHJhcCYmdS5ldmVudENhcHR1cmUpZm9yKGUubW91c2VUcmFwPSEwLGUuYnVzdENsaWNrPSExLGUuY2FwdHVyZU1vdXNlPSExLGk9ZnVuY3Rpb24odCl7ZS5jYXB0dXJlTW91c2UmJigiY2xpY2siPT09dC50eXBlP2UuYnVzdENsaWNrJiYhbih0LnRhcmdldCkuaXModXIpJiYodC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCkpOnQuc3RvcFByb3BhZ2F0aW9uKCkpfTt0PHI7dCsrKWYuYWRkRXZlbnRMaXN0ZW5lcihwdFt0XSxpLCEwKX0sbXV0ZU1vdXNlOmZ1bmN0aW9uKG4pe2UuY2FwdHVyZU1vdXNlPSEwO24uZGF0YS5idXN0Q2xpY2smJihlLmJ1c3RDbGljaz0hMCk7Y2xlYXJUaW1lb3V0KGUubW91c2VUcmFwVGltZW91dElEKX0sdW5NdXRlTW91c2U6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZS5tb3VzZVRyYXBUaW1lb3V0SUQpO2UubW91c2VUcmFwVGltZW91dElEPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmNhcHR1cmVNb3VzZT0hMTtlLmJ1c3RDbGljaz0hMX0sNDAwKX19O3c9e2Rvd246InRvdWNoc3RhcnQgbW91c2Vkb3duIixtb3ZlOiJtb3VzZW1vdmUgdG91Y2htb3ZlIix1cDoibW91c2V1cCB0b3VjaGVuZCB0b3VjaGNhbmNlbCIsY2FuY2VsOiJtb3VzZWxlYXZlIHRvdWNoY2FuY2VsIn07dS50b3VjaCYmKHUubW9iaWxlT1MuaW9zfHx1Lm1vYmlsZU9TLmFuZHJvaWQpP3c9e2Rvd246InRvdWNoc3RhcnQiLG1vdmU6InRvdWNobW92ZSIsdXA6InRvdWNoZW5kIHRvdWNoY2FuY2VsIixjYW5jZWw6InRvdWNoY2FuY2VsIn06dS5wb2ludGVycz93PXtkb3duOiJwb2ludGVyZG93biIsbW92ZToicG9pbnRlcm1vdmUiLHVwOiJwb2ludGVydXAiLGNhbmNlbDoicG9pbnRlcmNhbmNlbCBwb2ludGVybGVhdmUifTp1Lm1zUG9pbnRlcnMmJih3PXtkb3duOiJNU1BvaW50ZXJEb3duIixtb3ZlOiJNU1BvaW50ZXJNb3ZlIix1cDoiTVNQb2ludGVyVXAiLGNhbmNlbDoiTVNQb2ludGVyQ2FuY2VsIE1TUG9pbnRlckxlYXZlIn0pOyF1Lm1zUG9pbnRlcnN8fCJvbm1zcG9pbnRlcmVudGVyImluIHR8fG4uZWFjaCh7TVNQb2ludGVyRW50ZXI6Ik1TUG9pbnRlck92ZXIiLE1TUG9pbnRlckxlYXZlOiJNU1BvaW50ZXJPdXQifSxmdW5jdGlvbih0LGkpe24uZXZlbnQuc3BlY2lhbFt0XT17ZGVsZWdhdGVUeXBlOmksYmluZFR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24odCl7dmFyIHUsZj10aGlzLHI9dC5yZWxhdGVkVGFyZ2V0LGU9dC5oYW5kbGVPYmo7cmV0dXJuIHImJihyPT09Znx8bi5jb250YWlucyhmLHIpKXx8KHQudHlwZT1lLm9yaWdUeXBlLHU9ZS5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0LnR5cGU9aSksdX19fSk7ZnI9ZnVuY3Rpb24obil7cmV0dXJuIHdbbl18fG59O3d0PS8oW14gXSspL2c7ci5hcHBseUV2ZW50TWFwPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49bi5yZXBsYWNlKHd0LGZyKSx0JiYobj1uLnJlcGxhY2Uod3QsIiQxLiIrdCkpLG59O3Iua2V5RG93bkhhbmRsZXI9ZnVuY3Rpb24obix0KXt2YXIgcix1LGk9dC5fZXZlbnRzLmtlbmRvS2V5ZG93bjtpZighaSlyZXR1cm4hMDtmb3IoaT1pLnNsaWNlKCksbi5zZW5kZXI9dCxuLnByZXZlbnRLZW5kb0tleWRvd249ITEscj0wLHU9aS5sZW5ndGg7cjx1O3IrKylpW3JdLmNhbGwodCxuKTtyZXR1cm4hbi5wcmV2ZW50S2VuZG9LZXlkb3dufTtnPW4uZm4ub247bHIoITAscyxuKTtzLmZuPXMucHJvdG90eXBlPW5ldyBuO3MuZm4uY29uc3RydWN0b3I9cztzLmZuLmluaXQ9ZnVuY3Rpb24odCxpKXtyZXR1cm4gaSYmaSBpbnN0YW5jZW9mIG4mJiEoaSBpbnN0YW5jZW9mIHMpJiYoaT1zKGkpKSxuLmZuLmluaXQuY2FsbCh0aGlzLHQsaSxlcil9O3MuZm4uaW5pdC5wcm90b3R5cGU9cy5mbjtlcj1zKGRvY3VtZW50KTtoKHMuZm4se2hhbmRsZXI6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZGF0YSgiaGFuZGxlciIsbiksdGhpc30sYXV0b0FwcGx5TlM6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZGF0YSgia2VuZG9OUyIsbnx8ci5ndWlkKCkpLHRoaXN9LG9uOmZ1bmN0aW9uKCl7dmFyIHMsbixmLGksaCxjLGwsYSx0PXRoaXMsdj10LmRhdGEoImtlbmRvTlMiKTtyZXR1cm4gMT09PWFyZ3VtZW50cy5sZW5ndGg/Zy5jYWxsKHQsYXJndW1lbnRzWzBdKToocz10LG49a3QuY2FsbChhcmd1bWVudHMpLHR5cGVvZiBuW24ubGVuZ3RoLTFdPT09c3QmJm4ucG9wKCksZj1uW24ubGVuZ3RoLTFdLGk9ci5hcHBseUV2ZW50TWFwKG5bMF0sdiksdS5tb3VzZUFuZFRvdWNoUHJlc2VudCYmaS5zZWFyY2goL21vdXNlfGNsaWNrLyk+LTEmJnRoaXNbMF0hPT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJihlLnNldHVwTW91c2VNdXRlKCksaD0yPT09bi5sZW5ndGg/bnVsbDpuWzFdLGM9aS5pbmRleE9mKCJjbGljayIpPi0xJiZpLmluZGV4T2YoInRvdWNoZW5kIik+LTEsZy5jYWxsKHRoaXMse3RvdWNoc3RhcnQ6ZS5tdXRlTW91c2UsdG91Y2hlbmQ6ZS51bk11dGVNb3VzZX0saCx7YnVzdENsaWNrOmN9KSksYXJndW1lbnRzWzBdLmluZGV4T2YoImtleWRvd24iKSE9PS0xJiZuWzFdJiZuWzFdLm9wdGlvbnM/KG5bMF09aSxsPW5bMV0sYT1uW24ubGVuZ3RoLTFdLG5bbi5sZW5ndGgtMV09ZnVuY3Rpb24obil7aWYoci5rZXlEb3duSGFuZGxlcihuLGwpKXJldHVybiBhLmFwcGx5KHRoaXMsW25dKX0sZy5hcHBseSh0LG4pLHQpOih0eXBlb2YgZj09PW8mJihzPXQuZGF0YSgiaGFuZGxlciIpLGY9c1tmXSxuW24ubGVuZ3RoLTFdPWZ1bmN0aW9uKG4pe2YuY2FsbChzLG4pfSksblswXT1pLGcuYXBwbHkodCxuKSx0KSl9LGtlbmRvRGVzdHJveTpmdW5jdGlvbihuKXtyZXR1cm4gbj1ufHx0aGlzLmRhdGEoImtlbmRvTlMiKSxuJiZ0aGlzLm9mZigiLiIrbiksdGhpc319KTtyLmpRdWVyeT1zO3IuZXZlbnRNYXA9dztyLnRpbWV6b25lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShpLHIpe3ZhciB1LG8scyxjPXJbM10sZT1yWzRdLGY9cls1XSxoPXJbOF07cmV0dXJuIGh8fChyWzhdPWg9e30pLGhbaV0/aFtpXTooaXNOYU4oZSk/MD09PWUuaW5kZXhPZigibGFzdCIpPyh1PW5ldyBEYXRlKERhdGUuVVRDKGksbltjXSsxLDEsZlswXS0yNCxmWzFdLGZbMl0sMCkpLG89dFtlLnN1YnN0cig0LDMpXSxzPXUuZ2V0VVRDRGF5KCksdS5zZXRVVENEYXRlKHUuZ2V0VVRDRGF0ZSgpK28tcy0obz5zPzc6MCkpKTplLmluZGV4T2YoIj49Iik+PTA/KHU9bmV3IERhdGUoRGF0ZS5VVEMoaSxuW2NdLGUuc3Vic3RyKDUpLGZbMF0sZlsxXSxmWzJdLDApKSxvPXRbZS5zdWJzdHIoMCwzKV0scz11LmdldFVUQ0RheSgpLHUuc2V0VVRDRGF0ZSh1LmdldFVUQ0RhdGUoKStvLXMrKG88cz83OjApKSk6ZS5pbmRleE9mKCI8PSIpPj0wJiYodT1uZXcgRGF0ZShEYXRlLlVUQyhpLG5bY10sZS5zdWJzdHIoNSksZlswXSxmWzFdLGZbMl0sMCkpLG89dFtlLnN1YnN0cigwLDMpXSxzPXUuZ2V0VVRDRGF5KCksdS5zZXRVVENEYXRlKHUuZ2V0VVRDRGF0ZSgpK28tcy0obz5zPzc6MCkpKTp1PW5ldyBEYXRlKERhdGUuVVRDKGksbltjXSxlLGZbMF0sZlsxXSxmWzJdLDApKSxoW2ldPXUpfWZ1bmN0aW9uIGYobix0LHIpe3ZhciBmLGUsdSxvO3JldHVybih0PXRbcl0pPyh1PW5ldyBEYXRlKG4pLmdldFVUQ0Z1bGxZZWFyKCksdD1qUXVlcnkuZ3JlcCh0LGZ1bmN0aW9uKG4pe3ZhciBpPW5bMF0sdD1uWzFdO3JldHVybiBpPD11JiYodD49dXx8aT09dSYmIm9ubHkiPT10fHwibWF4Ij09dCl9KSx0LnB1c2gobiksdC5zb3J0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuIm51bWJlciIhPXR5cGVvZiBuJiYobj0raSh1LG4pKSwibnVtYmVyIiE9dHlwZW9mIHQmJih0PStpKHUsdCkpLG4tdH0pLG89dFtqUXVlcnkuaW5BcnJheShuLHQpLTFdfHx0W3QubGVuZ3RoLTFdLGlzTmFOKG8pP286bnVsbCk6KGY9ci5zcGxpdCgiOiIpLGU9MCxmLmxlbmd0aD4xJiYoZT02MCpmWzBdKyArZlsxXSksWy0xZTYsIm1heCIsIi0iLCJKYW4iLDEsWzAsMCwwXSxlLCItIl0pfWZ1bmN0aW9uIGUobix0LGkpe3ZhciB1LGYsZSxyPXRbaV07aWYoInN0cmluZyI9PXR5cGVvZiByJiYocj10W3JdKSwhcil0aHJvdyBFcnJvcignVGltZXpvbmUgIicraSsnIiBpcyBlaXRoZXIgaW5jb3JyZWN0LCBvciBrZW5kby50aW1lem9uZXMubWluLmpzIGlzIG5vdCBpbmNsdWRlZC4nKTtmb3IodT1yLmxlbmd0aC0xO3U+PTAmJihmPXJbdV1bM10sIShmJiZuPmYpKTt1LS0pO2lmKGU9clt1KzFdLCFlKXRocm93IEVycm9yKCdUaW1lem9uZSAiJytpKyciIG5vdCBmb3VuZCBvbiAnK24rIi4iKTtyZXR1cm4gZX1mdW5jdGlvbiB1KG4sdCxpLHIpe3R5cGVvZiBuIT1iJiYobj1EYXRlLlVUQyhuLmdldEZ1bGxZZWFyKCksbi5nZXRNb250aCgpLG4uZ2V0RGF0ZSgpLG4uZ2V0SG91cnMoKSxuLmdldE1pbnV0ZXMoKSxuLmdldFNlY29uZHMoKSxuLmdldE1pbGxpc2Vjb25kcygpKSk7dmFyIHU9ZShuLHQscik7cmV0dXJue3pvbmU6dSxydWxlOmYobixpLHVbMV0pfX1mdW5jdGlvbiBzKG4sdCl7dmFyIGksZixlO3JldHVybiJFdGMvVVRDIj09dHx8IkV0Yy9HTVQiPT10PzA6KGk9dShuLHRoaXMuem9uZXMsdGhpcy5ydWxlcyx0KSxmPWkuem9uZSxlPWkucnVsZSxyLnBhcnNlRmxvYXQoZT9mWzBdLWVbNl06ZlswXSkpfWZ1bmN0aW9uIGgobix0KXt2YXIgZj11KG4sdGhpcy56b25lcyx0aGlzLnJ1bGVzLHQpLGU9Zi56b25lLGk9Zi5ydWxlLHI9ZVsyXTtyZXR1cm4gci5pbmRleE9mKCIvIik+PTA/ci5zcGxpdCgiLyIpW2kmJitpWzZdPzE6MF06ci5pbmRleE9mKCIlcyIpPj0wP3IucmVwbGFjZSgiJXMiLGkmJiItIiE9aVs3XT9pWzddOiIiKTpyfWZ1bmN0aW9uIGMobix0LGkpe3ZhciB1LGYsZSxyPWk7cmV0dXJuIHR5cGVvZiB0PT1vJiYodD10aGlzLm9mZnNldChuLHQpKSx0eXBlb2YgaT09byYmKGk9dGhpcy5vZmZzZXQobixpKSksZj1uLmdldFRpbWV6b25lT2Zmc2V0KCksbj1uZXcgRGF0ZShuLmdldFRpbWUoKSs2ZTQqKHQtaSkpLGU9bi5nZXRUaW1lem9uZU9mZnNldCgpLHR5cGVvZiByPT1vJiYocj10aGlzLm9mZnNldChuLHIpKSx1PWUtZisoaS1yKSxuZXcgRGF0ZShuLmdldFRpbWUoKSs2ZTQqdSl9ZnVuY3Rpb24gbChuLHQpe3JldHVybiB0aGlzLmNvbnZlcnQobixuLmdldFRpbWV6b25lT2Zmc2V0KCksdCl9ZnVuY3Rpb24gYShuLHQpe3JldHVybiB0aGlzLmNvbnZlcnQobix0LG4uZ2V0VGltZXpvbmVPZmZzZXQoKSl9ZnVuY3Rpb24gdihuKXtyZXR1cm4gdGhpcy5hcHBseShuZXcgRGF0ZShuKSwiRXRjL1VUQyIpfXZhciBuPXtKYW46MCxGZWI6MSxNYXI6MixBcHI6MyxNYXk6NCxKdW46NSxKdWw6NixBdWc6NyxTZXA6OCxPY3Q6OSxOb3Y6MTAsRGVjOjExfSx0PXtTdW46MCxNb246MSxUdWU6MixXZWQ6MyxUaHU6NCxGcmk6NSxTYXQ6Nn07cmV0dXJue3pvbmVzOnt9LHJ1bGVzOnt9LG9mZnNldDpzLGNvbnZlcnQ6YyxhcHBseTpsLHJlbW92ZTphLGFiYnI6aCx0b0xvY2FsRGF0ZTp2fX0oKTtyLmRhdGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB1KG4sdCl7cmV0dXJuIDA9PT10JiYyMz09PW4uZ2V0SG91cnMoKSYmKG4uc2V0SG91cnMobi5nZXRIb3VycygpKzIpLCEwKX1mdW5jdGlvbiBjKG4sdCxpKXt2YXIgcj1uLmdldEhvdXJzKCk7aT1pfHwxO3Q9KHQtbi5nZXREYXkoKSs3KmkpJTc7bi5zZXREYXRlKG4uZ2V0RGF0ZSgpK3QpO3UobixyKX1mdW5jdGlvbiBsKG4sdCxpKXtyZXR1cm4gbj1uZXcgRGF0ZShuKSxjKG4sdCxpKSxufWZ1bmN0aW9uIGEobil7cmV0dXJuIG5ldyBEYXRlKG4uZ2V0RnVsbFllYXIoKSxuLmdldE1vbnRoKCksMSl9ZnVuY3Rpb24gcChuKXt2YXIgdD1uZXcgRGF0ZShuLmdldEZ1bGxZZWFyKCksbi5nZXRNb250aCgpKzEsMCksaT1hKG4pLHI9TWF0aC5hYnModC5nZXRUaW1lem9uZU9mZnNldCgpLWkuZ2V0VGltZXpvbmVPZmZzZXQoKSk7cmV0dXJuIHImJnQuc2V0SG91cnMoaS5nZXRIb3VycygpK3IvNjApLHR9ZnVuY3Rpb24gdyh0LGkpe3JldHVybiAxIT09aT9uKGwodCxpLC0xKSw0KTpuKHQsNC0odC5nZXREYXkoKXx8NykpfWZ1bmN0aW9uIG8obixpKXt2YXIgcj1uZXcgRGF0ZShuLmdldEZ1bGxZZWFyKCksMCwxLC02KSx1PXcobixpKSxmPXUuZ2V0VGltZSgpLXIuZ2V0VGltZSgpLGU9TWF0aC5mbG9vcihmL3QpO3JldHVybiAxK01hdGguZmxvb3IoZS83KX1mdW5jdGlvbiBiKHQsdSl7dmFyIGUscyxmO3JldHVybiB1PT09aSYmKHU9ci5jdWx0dXJlKCkuY2FsZW5kYXIuZmlyc3REYXkpLGU9bih0LC03KSxzPW4odCw3KSxmPW8odCx1KSwwPT09Zj9vKGUsdSkrMTo1Mz09PWYmJm8ocyx1KT4xPzE6Zn1mdW5jdGlvbiBmKG4pe3JldHVybiBuPW5ldyBEYXRlKG4uZ2V0RnVsbFllYXIoKSxuLmdldE1vbnRoKCksbi5nZXREYXRlKCksMCwwLDApLHUobiwwKSxufWZ1bmN0aW9uIGsobil7cmV0dXJuIERhdGUuVVRDKG4uZ2V0RnVsbFllYXIoKSxuLmdldE1vbnRoKCksbi5nZXREYXRlKCksbi5nZXRIb3VycygpLG4uZ2V0TWludXRlcygpLG4uZ2V0U2Vjb25kcygpLG4uZ2V0TWlsbGlzZWNvbmRzKCkpfWZ1bmN0aW9uIGUobil7cmV0dXJuIHMobikuZ2V0VGltZSgpLWYocyhuKSl9ZnVuY3Rpb24gZChuLGkscil7dmFyIHUsZj1lKGkpLG89ZShyKTtyZXR1cm4hbnx8Zj09b3x8KGk+PXImJihyKz10KSx1PWUobiksZj51JiYodSs9dCksbzxmJiYobys9dCksdT49ZiYmdTw9byl9ZnVuY3Rpb24gZyhuLGkscil7dmFyIHUsZT1pLmdldFRpbWUoKSxmPXIuZ2V0VGltZSgpO3JldHVybiBlPj1mJiYoZis9dCksdT1uLmdldFRpbWUoKSx1Pj1lJiZ1PD1mfWZ1bmN0aW9uIG4obixpKXt2YXIgcj1uLmdldEhvdXJzKCk7cmV0dXJuIG49bmV3IERhdGUobiksdihuLGkqdCksdShuLHIpLG59ZnVuY3Rpb24gdihuLHQsaSl7dmFyIHIsdT1uLmdldFRpbWV6b25lT2Zmc2V0KCk7bi5zZXRUaW1lKG4uZ2V0VGltZSgpK3QpO2l8fChyPW4uZ2V0VGltZXpvbmVPZmZzZXQoKS11LG4uc2V0VGltZShuLmdldFRpbWUoKStyKmgpKX1mdW5jdGlvbiBudChuLHQpe3JldHVybiBuPW5ldyBEYXRlKG4uZ2V0RnVsbFllYXIoKSxuLmdldE1vbnRoKCksbi5nZXREYXRlKCksdC5nZXRIb3VycygpLHQuZ2V0TWludXRlcygpLHQuZ2V0U2Vjb25kcygpLHQuZ2V0TWlsbGlzZWNvbmRzKCkpLHUobix0LmdldEhvdXJzKCkpLG59ZnVuY3Rpb24geSgpe3JldHVybiBmKG5ldyBEYXRlKX1mdW5jdGlvbiB0dChuKXtyZXR1cm4gZihuKS5nZXRUaW1lKCk9PXkoKS5nZXRUaW1lKCl9ZnVuY3Rpb24gcyhuKXt2YXIgdD1uZXcgRGF0ZSgxOTgwLDEsMSwwLDAsMCk7cmV0dXJuIG4mJnQuc2V0SG91cnMobi5nZXRIb3VycygpLG4uZ2V0TWludXRlcygpLG4uZ2V0U2Vjb25kcygpLG4uZ2V0TWlsbGlzZWNvbmRzKCkpLHR9dmFyIGg9NmU0LHQ9ODY0ZTU7cmV0dXJue2FkanVzdERTVDp1LGRheU9mV2VlazpsLHNldERheU9mV2VlazpjLGdldERhdGU6Zixpc0luRGF0ZVJhbmdlOmcsaXNJblRpbWVSYW5nZTpkLGlzVG9kYXk6dHQsbmV4dERheTpmdW5jdGlvbih0KXtyZXR1cm4gbih0LDEpfSxwcmV2aW91c0RheTpmdW5jdGlvbih0KXtyZXR1cm4gbih0LC0xKX0sdG9VdGNUaW1lOmssTVNfUEVSX0RBWTp0LE1TX1BFUl9IT1VSOjYwKmgsTVNfUEVSX01JTlVURTpoLHNldFRpbWU6dixzZXRIb3VyczpudCxhZGREYXlzOm4sdG9kYXk6eSx0b0ludmFyaWFudFRpbWU6cyxmaXJzdERheU9mTW9udGg6YSxsYXN0RGF5T2ZNb250aDpwLHdlZWtJblllYXI6YixnZXRNaWxsaXNlY29uZHM6ZX19KCk7ci5zdHJpcFdoaXRlc3BhY2U9ZnVuY3Rpb24obil7dmFyIHQsdSxpO2lmKGRvY3VtZW50LmNyZWF0ZU5vZGVJdGVyYXRvcilmb3IodD1kb2N1bWVudC5jcmVhdGVOb2RlSXRlcmF0b3IobixOb2RlRmlsdGVyLlNIT1dfVEVYVCxmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJlbnROb2RlPT1uP05vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVDpOb2RlRmlsdGVyLkZJTFRFUl9SRUpFQ1R9LCExKTt0Lm5leHROb2RlKCk7KXQucmVmZXJlbmNlTm9kZSYmIXQucmVmZXJlbmNlTm9kZS50ZXh0Q29udGVudC50cmltKCkmJnQucmVmZXJlbmNlTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQucmVmZXJlbmNlTm9kZSk7ZWxzZSBmb3IodT0wO3U8bi5jaGlsZE5vZGVzLmxlbmd0aDt1KyspaT1uLmNoaWxkTm9kZXNbdV0sMyE9aS5ub2RlVHlwZXx8L1xTLy50ZXN0KGkubm9kZVZhbHVlKXx8KG4ucmVtb3ZlQ2hpbGQoaSksdS0tKSwxPT1pLm5vZGVUeXBlJiZyLnN0cmlwV2hpdGVzcGFjZShpKX07b3I9dC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihuKXtzZXRUaW1lb3V0KG4sMWUzLzYwKX07ci5hbmltYXRpb25GcmFtZT1mdW5jdGlvbihuKXtvci5jYWxsKHQsbil9O2E9W107ci5xdWV1ZUFuaW1hdGlvbj1mdW5jdGlvbihuKXthW2EubGVuZ3RoXT1uOzE9PT1hLmxlbmd0aCYmci5ydW5OZXh0QW5pbWF0aW9uKCl9O3IucnVuTmV4dEFuaW1hdGlvbj1mdW5jdGlvbigpe3IuYW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXthWzBdJiYoYS5zaGlmdCgpKCksYVswXSYmci5ydW5OZXh0QW5pbWF0aW9uKCkpfSl9O3IucGFyc2VRdWVyeVN0cmluZ1BhcmFtcz1mdW5jdGlvbihuKXtmb3IodmFyIHU9bi5zcGxpdCgiPyIpWzFdfHwiIixyPXt9LGk9dS5zcGxpdCgvJnw9LyksZj1pLmxlbmd0aCx0PTA7dDxmO3QrPTIpIiIhPT1pW3RdJiYocltkZWNvZGVVUklDb21wb25lbnQoaVt0XSldPWRlY29kZVVSSUNvbXBvbmVudChpW3QrMV0pKTtyZXR1cm4gcn07ci5lbGVtZW50VW5kZXJDdXJzb3I9ZnVuY3Rpb24obil7aWYoaSE9PW4ueC5jbGllbnQpcmV0dXJuIGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQobi54LmNsaWVudCxuLnkuY2xpZW50KX07ci53aGVlbERlbHRhWT1mdW5jdGlvbihuKXt2YXIgcix0PW4ub3JpZ2luYWxFdmVudCx1PXQud2hlZWxEZWx0YVk7cmV0dXJuIHQud2hlZWxEZWx0YT8odT09PWl8fHUpJiYocj10LndoZWVsRGVsdGEpOnQuZGV0YWlsJiZ0LmF4aXM9PT10LlZFUlRJQ0FMX0FYSVMmJihyPTEwKi10LmRldGFpbCkscn07ci50aHJvdHRsZT1mdW5jdGlvbihuLHQpe3ZhciByLHUsZj0wO3JldHVybiF0fHx0PD0wP246KHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB1KCl7bi5hcHBseShvLHMpO2Y9K25ldyBEYXRlfXZhciBvPXRoaXMsZT0rbmV3IERhdGUtZixzPWFyZ3VtZW50cztyZXR1cm4gZj8ociYmY2xlYXJUaW1lb3V0KHIpLGU+dD91KCk6cj1zZXRUaW1lb3V0KHUsdC1lKSxpKTp1KCl9LHUuY2FuY2VsPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHIpfSx1KX07ci5jYXJldD1mdW5jdGlvbih0LHIsZil7dmFyIGUsbyxzLGgsbCxjPXIhPT1pO2lmKGY9PT1pJiYoZj1yKSx0WzBdJiYodD10WzBdKSwhY3x8IXQuZGlzYWJsZWQpe3RyeXt0LnNlbGVjdGlvblN0YXJ0IT09aT9jPyh0LmZvY3VzKCksbz11Lm1vYmlsZU9TLG8ud3B8fG8uYW5kcm9pZD9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5zZXRTZWxlY3Rpb25SYW5nZShyLGYpfSwwKTp0LnNldFNlbGVjdGlvblJhbmdlKHIsZikpOnI9W3Quc2VsZWN0aW9uU3RhcnQsdC5zZWxlY3Rpb25FbmRdOmRvY3VtZW50LnNlbGVjdGlvbiYmKG4odCkuaXMoIjp2aXNpYmxlIikmJnQuZm9jdXMoKSxlPXQuY3JlYXRlVGV4dFJhbmdlKCksYz8oZS5jb2xsYXBzZSghMCksZS5tb3ZlU3RhcnQoImNoYXJhY3RlciIsciksZS5tb3ZlRW5kKCJjaGFyYWN0ZXIiLGYtciksZS5zZWxlY3QoKSk6KHM9ZS5kdXBsaWNhdGUoKSxlLm1vdmVUb0Jvb2ttYXJrKGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLmdldEJvb2ttYXJrKCkpLHMuc2V0RW5kUG9pbnQoIkVuZFRvU3RhcnQiLGUpLGg9cy50ZXh0Lmxlbmd0aCxsPWgrZS50ZXh0Lmxlbmd0aCxyPVtoLGxdKSl9Y2F0Y2goYSl7cj1bXX1yZXR1cm4gcn19O3IuY29tcGlsZU1vYmlsZURpcmVjdGl2ZT1mdW5jdGlvbihuLGkpe3ZhciB1PXQuYW5ndWxhcjtyZXR1cm4gbi5hdHRyKCJkYXRhLSIrci5ucysicm9sZSIsblswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgia2VuZG8tbW9iaWxlLSIsIiIpLnJlcGxhY2UoIi0iLCIiKSksdS5lbGVtZW50KG4pLmluamVjdG9yKCkuaW52b2tlKFsiJGNvbXBpbGUiLGZ1bmN0aW9uKHQpe3QobikoaSk7L15cJChkaWdlc3R8YXBwbHkpJC8udGVzdChpLiQkcGhhc2UpfHxpLiRkaWdlc3QoKX1dKSxyLndpZGdldEluc3RhbmNlKG4sci5tb2JpbGUudWkpfTtyLmFudGlGb3JnZXJ5VG9rZW5zPWZ1bmN0aW9uKCl7dmFyIHQ9e30scj1uKCJtZXRhW25hbWU9Y3NyZi10b2tlbl0sbWV0YVtuYW1lPV9jc3JmXSIpLmF0dHIoImNvbnRlbnQiKSx1PW4oIm1ldGFbbmFtZT1jc3JmLXBhcmFtXSxtZXRhW25hbWU9X2NzcmZfaGVhZGVyXSIpLmF0dHIoImNvbnRlbnQiKTtyZXR1cm4gbigiaW5wdXRbbmFtZV49J19fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuJ10iKS5lYWNoKGZ1bmN0aW9uKCl7dFt0aGlzLm5hbWVdPXRoaXMudmFsdWV9KSx1IT09aSYmciE9PWkmJih0W3VdPXIpLHR9O3IuY3ljbGVGb3JtPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHQobil7dmFyIHQ9ci53aWRnZXRJbnN0YW5jZShuKTt0JiZ0LmZvY3VzP3QuZm9jdXMoKTpuLmZvY3VzKCl9dmFyIGk9bi5maW5kKCJpbnB1dCwgLmstd2lkZ2V0IikuZmlyc3QoKSx1PW4uZmluZCgiYnV0dG9uLCAuay1idXR0b24iKS5sYXN0KCk7dS5vbigia2V5ZG93biIsZnVuY3Rpb24obil7bi5rZXlDb2RlIT1yLmtleXMuVEFCfHxuLnNoaWZ0S2V5fHwobi5wcmV2ZW50RGVmYXVsdCgpLHQoaSkpfSk7aS5vbigia2V5ZG93biIsZnVuY3Rpb24obil7bi5rZXlDb2RlPT1yLmtleXMuVEFCJiZuLnNoaWZ0S2V5JiYobi5wcmV2ZW50RGVmYXVsdCgpLHQodSkpfSl9O3IuZm9jdXNFbGVtZW50PWZ1bmN0aW9uKGkpe3ZhciB1PVtdLGY9aS5wYXJlbnRzVW50aWwoImJvZHkiKS5maWx0ZXIoZnVuY3Rpb24obix0KXt2YXIgaT1yLmdldENvbXB1dGVkU3R5bGVzKHQsWyJvdmVyZmxvdyJdKTtyZXR1cm4idmlzaWJsZSIhPT1pLm92ZXJmbG93fSkuYWRkKHQpO2YuZWFjaChmdW5jdGlvbih0LGkpe3VbdF09bihpKS5zY3JvbGxUb3AoKX0pO3RyeXtpWzBdLnNldEFjdGl2ZSgpfWNhdGNoKGUpe2lbMF0uZm9jdXMoKX1mLmVhY2goZnVuY3Rpb24odCxpKXtuKGkpLnNjcm9sbFRvcCh1W3RdKX0pfTtyLmZvY3VzTmV4dEVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgdCxpLHI7ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCYmKHQ9bigiOmtlbmRvRm9jdXNhYmxlIiksaT10LmluZGV4KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLGk+LTEmJihyPXRbaSsxXXx8dFswXSxyLmZvY3VzKCkpKX07ci5tYXRjaGVzTWVkaWE9ZnVuY3Rpb24obil7dmFyIGk9ci5fYm9vdHN0cmFwVG9NZWRpYShuKXx8bjtyZXR1cm4gdS5tYXRjaE1lZGlhJiZ0Lm1hdGNoTWVkaWEoaSkubWF0Y2hlc307ci5fYm9vdHN0cmFwVG9NZWRpYT1mdW5jdGlvbihuKXtyZXR1cm57eHM6IihtYXgtd2lkdGg6IDU3NnB4KSIsc206IihtaW4td2lkdGg6IDU3NnB4KSIsbWQ6IihtaW4td2lkdGg6IDc2OHB4KSIsbGc6IihtaW4td2lkdGg6IDk5MnB4KSIseGw6IihtaW4td2lkdGg6IDEyMDBweCkifVtuXX07ci5maWxlR3JvdXBNYXA9e2F1ZGlvOlsiLmFpZiIsIi5pZmYiLCIubTN1IiwiLm00YSIsIi5taWQiLCIubXAzIiwiLm1wYSIsIi53YXYiLCIud21hIiwiLm9nZyIsIi53YXYiLCIud21hIiwiLndwbCJdLHZpZGVvOlsiLjNnMiIsIi4zZ3AiLCIuYXZpIiwiLmFzZiIsIi5mbHYiLCIubTR1IiwiLnJtIiwiLmgyNjQiLCIubTR2IiwiLm1rdiIsIi5tb3YiLCIubXA0IiwiLm1wZyIsIi5ybSIsIi5zd2YiLCIudm9iIiwiLndtdiJdLGltYWdlOlsiLmFpIiwiLmRkcyIsIi5oZWljIiwiLmpwZSIsImpmaWYiLCIuamlmIiwiLmpwMiIsIi5qcHMiLCIuZXBzIiwiLmJtcCIsIi5naWYiLCIuanBlZyIsIi5qcGciLCIucG5nIiwiLnBzIiwiLnBzZCIsIi5zdmciLCIuc3ZneiIsIi50aWYiLCIudGlmZiJdLHR4dDpbIi5kb2MiLCIuZG9jeCIsIi5sb2ciLCIucGFnZXMiLCIudGV4IiwiLndwZCIsIi53cHMiLCIub2R0IiwiLnJ0ZiIsIi50ZXh0IiwiLnR4dCIsIi53a3MiXSxwcmVzZW50YXRpb246WyIua2V5IiwiLm9kcCIsIi5wcHMiLCIucHB0IiwiLnBwdHgiXSxkYXRhOlsiLnhsciIsIi54bHMiLCIueGxzeCJdLHByb2dyYW1taW5nOlsiLnRtcCIsIi5iYWsiLCIubXNpIiwiLmNhYiIsIi5jcGwiLCIuY3VyIiwiLmRsbCIsIi5kbXAiLCIuZHJ2IiwiLmljbnMiLCIuaWNvIiwiLmxpbmsiLCIuc3lzIiwiLmNmZyIsIi5pbmkiLCIuYXNwIiwiLmFzcHgiLCIuY2VyIiwiLmNzciIsIi5jc3MiLCIuZGNyIiwiLmh0bSIsIi5odG1sIiwiLmpzIiwiLnBocCIsIi5yc3MiLCIueGh0bWwiXSxwZGY6WyIucGRmIl0sY29uZmlnOlsiLmFwayIsIi5hcHAiLCIuYmF0IiwiLmNnaSIsIi5jb20iLCIuZXhlIiwiLmdhZGdldCIsIi5qYXIiLCIud3NmIl0semlwOlsiLjd6IiwiLmNiciIsIi5neiIsIi5zaXR4IiwiLmFyaiIsIi5kZWIiLCIucGtnIiwiLnJhciIsIi5ycG0iLCIudGFyLmd6IiwiLnoiLCIuemlwIiwiLnppcHgiXSwiZGlzYy1pbWFnZSI6WyIuZG1nIiwiLmlzbyIsIi50b2FzdCIsIi52Y2QiLCIuYmluIiwiLmN1ZSIsIi5tZGYiXX07ci5nZXRGaWxlR3JvdXA9ZnVuY3Rpb24obix0KXt2YXIgdSxlLG89ci5maWxlR3JvdXBNYXAsZj1PYmplY3Qua2V5cyhvKSxzPSJmaWxlIjtpZihuPT09aXx8IW4ubGVuZ3RoKXJldHVybiBzO2Zvcih1PTA7dTxmLmxlbmd0aDt1Kz0xKWlmKGU9b1tmW3VdXSxlLmluZGV4T2Yobi50b0xvd2VyQ2FzZSgpKT4tMSlyZXR1cm4gdD8iZmlsZS0iK2ZbdV06Zlt1XTtyZXR1cm4gc307ci5nZXRGaWxlU2l6ZU1lc3NhZ2U9ZnVuY3Rpb24obil7dmFyIHQ7cmV0dXJuIDA9PT1uPyIwIEJ5dGUiOih0PXBhcnNlSW50KE1hdGguZmxvb3IoTWF0aC5sb2cobikvTWF0aC5sb2coMTAyNCkpLDEwKSxNYXRoLnJvdW5kKG4vTWF0aC5wb3coMTAyNCx0KSwyKSsiICIrWyJCeXRlcyIsIktCIiwiTUIiLCJHQiIsIlRCIl1bdF0pfSxmdW5jdGlvbigpe2Z1bmN0aW9uIHUodCxpLHUsZil7dmFyIHMsbyxoPW4oIjxmb3JtPiIpLmF0dHIoe2FjdGlvbjp1LG1ldGhvZDoiUE9TVCIsdGFyZ2V0OmZ9KSxlPXIuYW50aUZvcmdlcnlUb2tlbnMoKTtlLmZpbGVOYW1lPWk7cz10LnNwbGl0KCI7YmFzZTY0LCIpO2UuY29udGVudFR5cGU9c1swXS5yZXBsYWNlKCJkYXRhOiIsIiIpO2UuYmFzZTY0PXNbMV07Zm9yKG8gaW4gZSllLmhhc093blByb3BlcnR5KG8pJiZuKCI8aW5wdXQ+IikuYXR0cih7dmFsdWU6ZVtvXSxuYW1lOm8sdHlwZToiaGlkZGVuIn0pLmFwcGVuZFRvKGgpO2guYXBwZW5kVG8oImJvZHkiKS5zdWJtaXQoKS5yZW1vdmUoKX1mdW5jdGlvbiBmKG4sdCl7dmFyIHUsZSxyLGYsaSxvPW47aWYoInN0cmluZyI9PXR5cGVvZiBuKXtmb3IodT1uLnNwbGl0KCI7YmFzZTY0LCIpLGU9dVswXSxyPWF0b2IodVsxXSksZj1uZXcgVWludDhBcnJheShyLmxlbmd0aCksaT0wO2k8ci5sZW5ndGg7aSsrKWZbaV09ci5jaGFyQ29kZUF0KGkpO289bmV3IEJsb2IoW2YuYnVmZmVyXSx7dHlwZTplfSl9bmF2aWdhdG9yLm1zU2F2ZUJsb2Iobyx0KX1mdW5jdGlvbiBlKG4scil7dC5CbG9iJiZuIGluc3RhbmNlb2YgQmxvYiYmKG49VVJMLmNyZWF0ZU9iamVjdFVSTChuKSk7aS5kb3dubG9hZD1yO2kuaHJlZj1uO3ZhciB1PWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJNb3VzZUV2ZW50cyIpO3UuaW5pdE1vdXNlRXZlbnQoImNsaWNrIiwhMCwhMSx0LDAsMCwwLDAsMCwhMSwhMSwhMSwhMSwwLG51bGwpO2kuZGlzcGF0Y2hFdmVudCh1KTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7VVJMLnJldm9rZU9iamVjdFVSTChuKX0pfXZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSxvPSJkb3dubG9hZCJpbiBpJiYhci5zdXBwb3J0LmJyb3dzZXIuZWRnZTtyLnNhdmVBcz1mdW5jdGlvbihuKXt2YXIgdD11O24uZm9yY2VQcm94eXx8KG8/dD1lOm5hdmlnYXRvci5tc1NhdmVCbG9iJiYodD1mKSk7dChuLmRhdGFVUkksbi5maWxlTmFtZSxuLnByb3h5VVJMLG4ucHJveHlUYXJnZXQpfX0oKTtyLnByb3h5TW9kZWxTZXR0ZXJzPWZ1bmN0aW9uKG4pe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhufHx7fSkuZm9yRWFjaChmdW5jdGlvbihpKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxpLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbltpXX0sc2V0OmZ1bmN0aW9uKHQpe25baV09dDtuLmRpcnR5PSEwfX0pfSksdH0sZnVuY3Rpb24oKXtyLmRlZmF1bHRzPXIuZGVmYXVsdHN8fHt9O3Iuc2V0RGVmYXVsdHM9ZnVuY3Rpb24obix0KXt2YXIgZj1uLnNwbGl0KCIuIiksdT1yLmRlZmF1bHRzO249Zi5wb3AoKTtmLmZvckVhY2goZnVuY3Rpb24obil7dVtuXT09PWkmJih1W25dPXt9KTt1PXVbbl19KTt1W25dPXQuY29uc3RydWN0b3I9PT1PYmplY3Q/dHQoe30sdVtuXSx0KTp0fX0oKX0oalF1ZXJ5LHdpbmRvdyksd2luZG93LmtlbmRvfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZTpmdW5jdGlvbihuLHQsaSl7KGl8fHQpKCl9KTsKLyohCiAqIENvcHlyaWdodCAyMDIwIFByb2dyZXNzIFNvZnR3YXJlIENvcnBvcmF0aW9uIGFuZC9vciBvbmUgb2YgaXRzIHN1YnNpZGlhcmllcyBvciBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KIWZ1bmN0aW9uKG4sdCl7dCgia2VuZG8udXNlcmV2ZW50cy5taW4iLFsia2VuZG8uY29yZS5taW4iXSxuKX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obil7ZnVuY3Rpb24gYyhuLHQpe3ZhciBpPW4ueC5sb2NhdGlvbixyPW4ueS5sb2NhdGlvbix1PXQueC5sb2NhdGlvbixmPXQueS5sb2NhdGlvbixlPWktdSxvPXItZjtyZXR1cm57Y2VudGVyOnt4OihpK3UpLzIseToocitmKS8yfSxkaXN0YW5jZTpNYXRoLnNxcnQoZSplK28qbyl9fWZ1bmN0aW9uIG8obil7dmFyIHMsZix0LHI9W10sdT1uLm9yaWdpbmFsRXZlbnQsZT1uLmN1cnJlbnRUYXJnZXQsbz0wO2lmKG4uYXBpKXIucHVzaCh7aWQ6MixldmVudDpuLHRhcmdldDpuLnRhcmdldCxjdXJyZW50VGFyZ2V0Om4udGFyZ2V0LGxvY2F0aW9uOm4sdHlwZToiYXBpIn0pO2Vsc2UgaWYobi50eXBlLm1hdGNoKC90b3VjaC8pKWZvcihmPXU/dS5jaGFuZ2VkVG91Y2hlczpbXSxzPWYubGVuZ3RoO288cztvKyspdD1mW29dLHIucHVzaCh7bG9jYXRpb246dCxldmVudDpuLHRhcmdldDp0LnRhcmdldCxjdXJyZW50VGFyZ2V0OmUsaWQ6dC5pZGVudGlmaWVyLHR5cGU6InRvdWNoIn0pO2Vsc2Ugci5wdXNoKGkucG9pbnRlcnN8fGkubXNQb2ludGVycz97bG9jYXRpb246dSxldmVudDpuLHRhcmdldDpuLnRhcmdldCxjdXJyZW50VGFyZ2V0OmUsaWQ6dS5wb2ludGVySWQsdHlwZToicG9pbnRlciJ9OntpZDoxLGV2ZW50Om4sdGFyZ2V0Om4udGFyZ2V0LGN1cnJlbnRUYXJnZXQ6ZSxsb2NhdGlvbjpuLHR5cGU6Im1vdXNlIn0pO3JldHVybiByfWZ1bmN0aW9uIGwobil7Zm9yKHZhciByPXQuZXZlbnRNYXAudXAuc3BsaXQoIiAiKSxpPTAsdT1yLmxlbmd0aDtpPHU7aSsrKW4ocltpXSl9dmFyIHQ9d2luZG93LmtlbmRvLGk9dC5zdXBwb3J0LGE9dC5DbGFzcyx2PXQuT2JzZXJ2YWJsZSx1PW4ubm93LGY9bi5leHRlbmQseT1pLm1vYmlsZU9TLG90PXkmJnkuYW5kcm9pZCxwPTgwMCxzdD0zMDAsdz1pLmJyb3dzZXIubXNpZT81OjAsYj0icHJlc3MiLGs9ImhvbGQiLGQ9InNlbGVjdCIsZz0ic3RhcnQiLHM9Im1vdmUiLGg9ImVuZCIsbnQ9ImNhbmNlbCIsZT0idGFwIix0dD0iZG91YmxlVGFwIixpdD0icmVsZWFzZSIsaHQ9Imdlc3R1cmVzdGFydCIscnQ9Imdlc3R1cmVjaGFuZ2UiLHV0PSJnZXN0dXJlZW5kIixmdD0iZ2VzdHVyZXRhcCIsY3Q9e2FwaTowLHRvdWNoOjAsbW91c2U6OSxwb2ludGVyOjl9LGx0PSFpLnRvdWNofHxpLm1vdXNlQW5kVG91Y2hQcmVzZW50LGV0PWEuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcztpLmF4aXM9bjtpLl91cGRhdGVMb2NhdGlvbkRhdGEodCk7aS5zdGFydExvY2F0aW9uPWkubG9jYXRpb247aS52ZWxvY2l0eT1pLmRlbHRhPTA7aS50aW1lU3RhbXA9dSgpfSxtb3ZlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsaT1uWyJwYWdlIit0LmF4aXNdLHI9dSgpLGY9ci10LnRpbWVTdGFtcHx8MTshaSYmb3R8fCh0LmRlbHRhPWktdC5sb2NhdGlvbix0Ll91cGRhdGVMb2NhdGlvbkRhdGEobiksdC5pbml0aWFsRGVsdGE9aS10LnN0YXJ0TG9jYXRpb24sdC52ZWxvY2l0eT10LmRlbHRhL2YsdC50aW1lU3RhbXA9cil9LF91cGRhdGVMb2NhdGlvbkRhdGE6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxpPXQuYXhpczt0LmxvY2F0aW9uPW5bInBhZ2UiK2ldO3QuY2xpZW50PW5bImNsaWVudCIraV07dC5zY3JlZW49blsic2NyZWVuIitpXX19KSxhdD1hLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihuLHQsaSl7Zih0aGlzLHt4Om5ldyBldCgiWCIsaS5sb2NhdGlvbikseTpuZXcgZXQoIlkiLGkubG9jYXRpb24pLHR5cGU6aS50eXBlLHVzZUNsaWNrQXNUYXA6bi51c2VDbGlja0FzVGFwLHRocmVzaG9sZDpuLnRocmVzaG9sZHx8Y3RbaS50eXBlXSx1c2VyRXZlbnRzOm4sdGFyZ2V0OnQsY3VycmVudFRhcmdldDppLmN1cnJlbnRUYXJnZXQsaW5pdGlhbFRvdWNoOmkudGFyZ2V0LGlkOmkuaWQscHJlc3NFdmVudDppLF9jbGlja3M6bi5fY2xpY2tzLHN1cHBvcnREb3VibGVUYXA6bi5zdXBwb3J0RG91YmxlVGFwLF9tb3ZlZDohMSxfZmluaXNoZWQ6ITF9KX0scHJlc3M6ZnVuY3Rpb24oKXt0aGlzLl9ob2xkVGltZW91dD1zZXRUaW1lb3V0KG4ucHJveHkodGhpcywiX2hvbGQiKSx0aGlzLnVzZXJFdmVudHMubWluSG9sZCk7dGhpcy5fdHJpZ2dlcihiLHRoaXMucHJlc3NFdmVudCl9LF90YXA6ZnVuY3Rpb24obil7dmFyIHQ9dGhpczt0LnVzZXJFdmVudHMuX2NsaWNrcysrOzE9PXQudXNlckV2ZW50cy5fY2xpY2tzJiYodC5fY2xpY2tUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXsxPT10LnVzZXJFdmVudHMuX2NsaWNrcz90Ll90cmlnZ2VyKGUsbik6dC5fdHJpZ2dlcih0dCxuKTt0LnVzZXJFdmVudHMuX2NsaWNrcz0wfSxzdCkpfSxfaG9sZDpmdW5jdGlvbigpe3RoaXMuX3RyaWdnZXIoayx0aGlzLnByZXNzRXZlbnQpfSxtb3ZlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsaT0iYXBpIiE9PW4udHlwZSYmdC51c2VyRXZlbnRzLl9zaG91bGROb3RNb3ZlO2lmKCF0Ll9maW5pc2hlZCYmIWkpe2lmKHQueC5tb3ZlKG4ubG9jYXRpb24pLHQueS5tb3ZlKG4ubG9jYXRpb24pLCF0Ll9tb3ZlZCl7aWYodC5fd2l0aGluSWdub3JlVGhyZXNob2xkKCkpcmV0dXJuO2lmKHIuY3VycmVudCYmci5jdXJyZW50IT09dC51c2VyRXZlbnRzKXJldHVybiB0LmRpc3Bvc2UoKTt0Ll9zdGFydChuKX10Ll9maW5pc2hlZHx8dC5fdHJpZ2dlcihzLG4pfX0sZW5kOmZ1bmN0aW9uKG4pe3RoaXMuZW5kVGltZT11KCk7dGhpcy5fZmluaXNoZWR8fCh0aGlzLl9maW5pc2hlZD0hMCx0aGlzLl90cmlnZ2VyKGl0LG4pLHRoaXMuX21vdmVkP3RoaXMuX3RyaWdnZXIoaCxuKTp0aGlzLnVzZUNsaWNrQXNUYXB8fCh0aGlzLnN1cHBvcnREb3VibGVUYXA/dGhpcy5fdGFwKG4pOnRoaXMuX3RyaWdnZXIoZSxuKSksY2xlYXJUaW1lb3V0KHRoaXMuX2hvbGRUaW1lb3V0KSx0aGlzLmRpc3Bvc2UoKSl9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLnVzZXJFdmVudHMsdD1pLnRvdWNoZXM7dGhpcy5fZmluaXNoZWQ9ITA7dGhpcy5wcmVzc0V2ZW50PW51bGw7Y2xlYXJUaW1lb3V0KHRoaXMuX2hvbGRUaW1lb3V0KTt0LnNwbGljZShuLmluQXJyYXkodGhpcyx0KSwxKX0sc2tpcDpmdW5jdGlvbigpe3RoaXMuZGlzcG9zZSgpfSxjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLmRpc3Bvc2UoKX0saXNNb3ZlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tb3ZlZH0sX3N0YXJ0OmZ1bmN0aW9uKG4pe2NsZWFyVGltZW91dCh0aGlzLl9ob2xkVGltZW91dCk7dGhpcy5zdGFydFRpbWU9dSgpO3RoaXMuX21vdmVkPSEwO3RoaXMuX3RyaWdnZXIoZyxuKX0sX3RyaWdnZXI6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLHI9dC5ldmVudCx1PXt0b3VjaDppLHg6aS54LHk6aS55LHRhcmdldDppLnRhcmdldCxldmVudDpyfTtpLnVzZXJFdmVudHMubm90aWZ5KG4sdSkmJnIucHJldmVudERlZmF1bHQoKX0sX3dpdGhpbklnbm9yZVRocmVzaG9sZDpmdW5jdGlvbigpe3ZhciBuPXRoaXMueC5pbml0aWFsRGVsdGEsdD10aGlzLnkuaW5pdGlhbERlbHRhO3JldHVybiBNYXRoLnNxcnQobipuK3QqdCk8PXRoaXMudGhyZXNob2xkfX0pLHI9di5leHRlbmQoe2luaXQ6ZnVuY3Rpb24ocix1KXt2YXIgYSx5LGV0LG90LG89dGhpcyxjPXQuZ3VpZCgpO3U9dXx8e307YT1vLmZpbHRlcj11LmZpbHRlcjtvLnRocmVzaG9sZD11LnRocmVzaG9sZHx8dztvLm1pbkhvbGQ9dS5taW5Ib2xkfHxwO28udG91Y2hlcz1bXTtvLl9tYXhUb3VjaGVzPXUubXVsdGlUb3VjaD8yOjE7by5hbGxvd1NlbGVjdGlvbj11LmFsbG93U2VsZWN0aW9uO28uY2FwdHVyZVVwSWZNb3ZlZD11LmNhcHR1cmVVcElmTW92ZWQ7by51c2VDbGlja0FzVGFwPSF1LmZhc3RUYXAmJiFpLmRlbGF5ZWRDbGljaygpO28uZXZlbnROUz1jO28uX2NsaWNrcz0wO28uc3VwcG9ydERvdWJsZVRhcD11LnN1cHBvcnREb3VibGVUYXA7cj1uKHIpLmhhbmRsZXIobyk7di5mbi5pbml0LmNhbGwobyk7ZihvLHtlbGVtZW50OnIsc3VyZmFjZTpuKHUuZ2xvYmFsJiZsdD9yWzBdLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OnUuc3VyZmFjZXx8ciksc3RvcFByb3BhZ2F0aW9uOnUuc3RvcFByb3BhZ2F0aW9uLHByZXNzZWQ6ITF9KTtvLnN1cmZhY2UuaGFuZGxlcihvKS5vbih0LmFwcGx5RXZlbnRNYXAoIm1vdmUiLGMpLCJfbW92ZSIpLm9uKHQuYXBwbHlFdmVudE1hcCgidXAgY2FuY2VsIixjKSwiX2VuZCIpO3Iub24odC5hcHBseUV2ZW50TWFwKCJkb3duIixjKSxhLCJfc3RhcnQiKTtvLnVzZUNsaWNrQXNUYXAmJnIub24odC5hcHBseUV2ZW50TWFwKCJjbGljayIsYyksYSwiX2NsaWNrIik7KGkucG9pbnRlcnN8fGkubXNQb2ludGVycykmJihpLmJyb3dzZXIudmVyc2lvbjwxMT8oeT0icGluY2gtem9vbSBkb3VibGUtdGFwLXpvb20iLHIuY3NzKCItbXMtdG91Y2gtYWN0aW9uIix1LnRvdWNoQWN0aW9uJiYibm9uZSIhPXUudG91Y2hBY3Rpb24/eSsiICIrdS50b3VjaEFjdGlvbjp5KSk6ci5jc3MoInRvdWNoLWFjdGlvbiIsdS50b3VjaEFjdGlvbnx8Im5vbmUiKSk7dS5wcmV2ZW50RHJhZ0V2ZW50JiZyLm9uKHQuYXBwbHlFdmVudE1hcCgiZHJhZ3N0YXJ0IixjKSx0LnByZXZlbnREZWZhdWx0KTtyLm9uKHQuYXBwbHlFdmVudE1hcCgibW91c2Vkb3duIixjKSxhLHtyb290OnJ9LCJfc2VsZWN0Iik7by5jYXB0dXJlVXBJZk1vdmVkJiZpLmV2ZW50Q2FwdHVyZSYmKGV0PW8uc3VyZmFjZVswXSxvdD1uLnByb3h5KG8ucHJldmVudElmTW92aW5nLG8pLGwoZnVuY3Rpb24obil7ZXQuYWRkRXZlbnRMaXN0ZW5lcihuLG90LCEwKX0pKTtvLmJpbmQoW2IsayxlLHR0LGcscyxoLGl0LG50LGh0LHJ0LHV0LGZ0LGRdLHUpfSxwcmV2ZW50SWZNb3Zpbmc6ZnVuY3Rpb24obil7dGhpcy5faXNNb3ZlZCgpJiZuLnByZXZlbnREZWZhdWx0KCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdCxuPXRoaXM7bi5fZGVzdHJveWVkfHwobi5fZGVzdHJveWVkPSEwLG4uY2FwdHVyZVVwSWZNb3ZlZCYmaS5ldmVudENhcHR1cmUmJih0PW4uc3VyZmFjZVswXSxsKGZ1bmN0aW9uKGkpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihpLG4ucHJldmVudElmTW92aW5nKX0pKSxuLmVsZW1lbnQua2VuZG9EZXN0cm95KG4uZXZlbnROUyksbi5zdXJmYWNlLmtlbmRvRGVzdHJveShuLmV2ZW50TlMpLG4uZWxlbWVudC5yZW1vdmVEYXRhKCJoYW5kbGVyIiksbi5zdXJmYWNlLnJlbW92ZURhdGEoImhhbmRsZXIiKSxuLl9kaXNwb3NlQWxsKCksbi51bmJpbmQoKSxkZWxldGUgbi5zdXJmYWNlLGRlbGV0ZSBuLmVsZW1lbnQsZGVsZXRlIG4uY3VycmVudFRhcmdldCl9LGNhcHR1cmU6ZnVuY3Rpb24oKXtyLmN1cnJlbnQ9dGhpc30sY2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5fZGlzcG9zZUFsbCgpO3RoaXMudHJpZ2dlcihudCl9LG5vdGlmeTpmdW5jdGlvbihuLHQpe3ZhciByPXRoaXMsaT1yLnRvdWNoZXM7aWYodGhpcy5faXNNdWx0aVRvdWNoKCkpe3N3aXRjaChuKXtjYXNlIHM6bj1ydDticmVhaztjYXNlIGg6bj11dDticmVhaztjYXNlIGU6bj1mdH1mKHQse3RvdWNoZXM6aX0sYyhpWzBdLGlbMV0pKX1yZXR1cm4gdGhpcy50cmlnZ2VyKG4sZih0LHt0eXBlOm59KSl9LHByZXNzOmZ1bmN0aW9uKG4sdCxpKXt0aGlzLl9hcGlDYWxsKCJfc3RhcnQiLG4sdCxpKX0sbW92ZTpmdW5jdGlvbihuLHQpe3RoaXMuX2FwaUNhbGwoIl9tb3ZlIixuLHQpfSxlbmQ6ZnVuY3Rpb24obix0KXt0aGlzLl9hcGlDYWxsKCJfZW5kIixuLHQpfSxfaXNNdWx0aVRvdWNoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG91Y2hlcy5sZW5ndGg+MX0sX21heFRvdWNoZXNSZWFjaGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG91Y2hlcy5sZW5ndGg+PXRoaXMuX21heFRvdWNoZXN9LF9kaXNwb3NlQWxsOmZ1bmN0aW9uKCl7Zm9yKHZhciBuPXRoaXMudG91Y2hlcztuLmxlbmd0aD4wOyluLnBvcCgpLmRpc3Bvc2UoKX0sX2lzTW92ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5ncmVwKHRoaXMudG91Y2hlcyxmdW5jdGlvbihuKXtyZXR1cm4gbi5pc01vdmVkKCl9KS5sZW5ndGh9LF9zZWxlY3Q6ZnVuY3Rpb24obil7dGhpcy5hbGxvd1NlbGVjdGlvbiYmIXRoaXMudHJpZ2dlcihkLHtldmVudDpufSl8fG4ucHJldmVudERlZmF1bHQoKX0sX3N0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBmLHUsaT10aGlzLGU9MCxjPWkuZmlsdGVyLHM9byh0KSxsPXMubGVuZ3RoLGg9dC53aGljaDtpZighKGgmJmg+MXx8aS5fbWF4VG91Y2hlc1JlYWNoZWQoKSkpZm9yKHIuY3VycmVudD1udWxsLGkuY3VycmVudFRhcmdldD10LmN1cnJlbnRUYXJnZXQsaS5zdG9wUHJvcGFnYXRpb24mJnQuc3RvcFByb3BhZ2F0aW9uKCk7ZTxsJiYhaS5fbWF4VG91Y2hlc1JlYWNoZWQoKTtlKyspdT1zW2VdLGY9Yz9uKHUuY3VycmVudFRhcmdldCk6aS5lbGVtZW50LGYubGVuZ3RoJiYodT1uZXcgYXQoaSxmLHUpLGkudG91Y2hlcy5wdXNoKHUpLHUucHJlc3MoKSxpLl9pc011bHRpVG91Y2goKSYmaS5ub3RpZnkoImdlc3R1cmVzdGFydCIse30pKX0sX21vdmU6ZnVuY3Rpb24obil7dGhpcy5fZWFjaFRvdWNoKCJtb3ZlIixuKX0sX2VuZDpmdW5jdGlvbihuKXt0aGlzLl9lYWNoVG91Y2goImVuZCIsbil9LF9jbGljazpmdW5jdGlvbih0KXt2YXIgaT17dG91Y2g6e2luaXRpYWxUb3VjaDp0LnRhcmdldCx0YXJnZXQ6bih0LmN1cnJlbnRUYXJnZXQpLGVuZFRpbWU6dSgpLHg6e2xvY2F0aW9uOnQucGFnZVgsY2xpZW50OnQuY2xpZW50WH0seTp7bG9jYXRpb246dC5wYWdlWSxjbGllbnQ6dC5jbGllbnRZfX0seDp0LnBhZ2VYLHk6dC5wYWdlWSx0YXJnZXQ6bih0LmN1cnJlbnRUYXJnZXQpLGV2ZW50OnQsdHlwZToidGFwIn07dGhpcy50cmlnZ2VyKCJ0YXAiLGkpJiZ0LnByZXZlbnREZWZhdWx0KCl9LF9lYWNoVG91Y2g6ZnVuY3Rpb24obix0KXtmb3IodmFyIHIsdSxmLGM9dGhpcyxlPXt9LHM9byh0KSxoPWMudG91Y2hlcyxpPTA7aTxoLmxlbmd0aDtpKyspcj1oW2ldLGVbci5pZF09cjtmb3IoaT0wO2k8cy5sZW5ndGg7aSsrKXU9c1tpXSxmPWVbdS5pZF0sZiYmZltuXSh1KX0sX2FwaUNhbGw6ZnVuY3Rpb24odCxpLHIsdSl7dGhpc1t0XSh7YXBpOiEwLHBhZ2VYOmkscGFnZVk6cixjbGllbnRYOmksY2xpZW50WTpyLHRhcmdldDpuKHV8fHRoaXMuZWxlbWVudClbMF0sc3RvcFByb3BhZ2F0aW9uOm4ubm9vcCxwcmV2ZW50RGVmYXVsdDpuLm5vb3B9KX19KTtyLmRlZmF1bHRUaHJlc2hvbGQ9ZnVuY3Rpb24obil7dz1ufTtyLm1pbkhvbGQ9ZnVuY3Rpb24obil7cD1ufTt0LmdldFRvdWNoZXM9bzt0LnRvdWNoRGVsdGE9Yzt0LlVzZXJFdmVudHM9cn0od2luZG93LmtlbmRvLmpRdWVyeSksd2luZG93LmtlbmRvfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZTpmdW5jdGlvbihuLHQsaSl7KGl8fHQpKCl9KTsKLyohCiAqIENvcHlyaWdodCAyMDIwIFByb2dyZXNzIFNvZnR3YXJlIENvcnBvcmF0aW9uIGFuZC9vciBvbmUgb2YgaXRzIHN1YnNpZGlhcmllcyBvciBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KIWZ1bmN0aW9uKG4sdCl7dCgia2VuZG8uZHJhZ2FuZGRyb3AubWluIixbImtlbmRvLmNvcmUubWluIiwia2VuZG8udXNlcmV2ZW50cy5taW4iXSxuKX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obix0KXtmdW5jdGlvbiBuaSh0LGkpe3RyeXtyZXR1cm4gbi5jb250YWlucyh0LGkpfHx0PT1pfWNhdGNoKHIpe3JldHVybiExfX1mdW5jdGlvbiB2KG4sdCl7cmV0dXJuIHBhcnNlSW50KG4uY3NzKHQpLDEwKXx8MH1mdW5jdGlvbiBpdChuLHQpe3JldHVybiBNYXRoLm1pbihNYXRoLm1heChuLHQubWluKSx0Lm1heCl9ZnVuY3Rpb24gcnQobix0KXt2YXIgcj1nKG4pLGU9aS5fb3V0ZXJXaWR0aCxvPWkuX291dGVySGVpZ2h0LHU9ci5sZWZ0K3YobiwiYm9yZGVyTGVmdFdpZHRoIikrdihuLCJwYWRkaW5nTGVmdCIpLGY9ci50b3ArdihuLCJib3JkZXJUb3BXaWR0aCIpK3YobiwicGFkZGluZ1RvcCIpLHM9dStuLndpZHRoKCktZSh0LCEwKSxoPWYrbi5oZWlnaHQoKS1vKHQsITApO3JldHVybnt4OnttaW46dSxtYXg6c30seTp7bWluOmYsbWF4Omh9fX1mdW5jdGlvbiB0aShpLHIsdSl7Zm9yKHZhciBvLGUsZj0wLHM9ciYmci5sZW5ndGgsaD11JiZ1Lmxlbmd0aDtpJiZpLnBhcmVudE5vZGU7KXtmb3IoZj0wO2Y8cztmKyspaWYobz1yW2ZdLG8uZWxlbWVudFswXT09PWkpcmV0dXJue3RhcmdldDpvLHRhcmdldEVsZW1lbnQ6aX07Zm9yKGY9MDtmPGg7ZisrKWlmKGU9dVtmXSxuLmNvbnRhaW5zKGUuZWxlbWVudFswXSxpKSYmZC5tYXRjaGVzU2VsZWN0b3IuY2FsbChpLGUub3B0aW9ucy5maWx0ZXIpKXJldHVybnt0YXJnZXQ6ZSx0YXJnZXRFbGVtZW50Oml9O2k9aS5wYXJlbnROb2RlfXJldHVybiB0fWZ1bmN0aW9uIHV0KG4sdCl7dmFyIGksdT10Lm9wdGlvbnMuZ3JvdXAscj1uW3VdO2lmKHMuZm4uZGVzdHJveS5jYWxsKHQpLHIubGVuZ3RoPjEpe2ZvcihpPTA7aTxyLmxlbmd0aDtpKyspaWYocltpXT09dCl7ci5zcGxpY2UoaSwxKTticmVha319ZWxzZSByLmxlbmd0aD0wLGRlbGV0ZSBuW3VdfWZ1bmN0aW9uIGZ0KG4pe3ZhciB0LGkscix1PWIoKVswXTtyZXR1cm4gblswXT09PXU/KGk9dS5zY3JvbGxUb3Ascj11LnNjcm9sbExlZnQse3RvcDppLGxlZnQ6cixib3R0b206aSt5LmhlaWdodCgpLHJpZ2h0OnIreS53aWR0aCgpfSk6KHQ9bi5vZmZzZXQoKSx0LmJvdHRvbT10LnRvcCtuLmhlaWdodCgpLHQucmlnaHQ9dC5sZWZ0K24ud2lkdGgoKSx0KX1mdW5jdGlvbiBiKCl7cmV0dXJuIG4oaS5zdXBwb3J0LmJyb3dzZXIuZWRnZXx8aS5zdXBwb3J0LmJyb3dzZXIuc2FmYXJpP2UuYm9keTplLmRvY3VtZW50RWxlbWVudCl9ZnVuY3Rpb24gZXQodCl7dmFyIHIsdT1iKCk7aWYoIXR8fHQ9PT1lLmJvZHl8fHQ9PT1lLmRvY3VtZW50RWxlbWVudClyZXR1cm4gdTtmb3Iocj1uKHQpWzBdO3ImJiFpLmlzU2Nyb2xsYWJsZShyKSYmciE9PWUuYm9keTspcj1yLnBhcmVudE5vZGU7cmV0dXJuIHI9PT1lLmJvZHk/dTpuKHIpfWZ1bmN0aW9uIG90KG4sdCxpKXt2YXIgdT17eDowLHk6MH0scj01MDtyZXR1cm4gbi1pLmxlZnQ8cj91Lng9LShyLShuLWkubGVmdCkpOmkucmlnaHQtbjxyJiYodS54PXItKGkucmlnaHQtbikpLHQtaS50b3A8cj91Lnk9LShyLSh0LWkudG9wKSk6aS5ib3R0b20tdDxyJiYodS55PXItKGkuYm90dG9tLXQpKSx1fXZhciBmLGssc3QsbCxodCxjdCxpPXdpbmRvdy5rZW5kbyxkPWkuc3VwcG9ydCxlPXdpbmRvdy5kb2N1bWVudCx5PW4od2luZG93KSxpaT1pLkNsYXNzLHM9aS51aS5XaWRnZXQsbz1pLk9ic2VydmFibGUscmk9aS5Vc2VyRXZlbnRzLHU9bi5wcm94eSxyPW4uZXh0ZW5kLGc9aS5nZXRPZmZzZXQscD17fSxoPXt9LGM9e30sbnQ9aS5lbGVtZW50VW5kZXJDdXJzb3IsbHQ9ImtleXVwIixhPSJjaGFuZ2UiLGF0PSJkcmFnc3RhcnQiLHZ0PSJob2xkIix5dD0iZHJhZyIscHQ9ImRyYWdlbmQiLHd0PSJkcmFnY2FuY2VsIixidD0iaGludERlc3Ryb3llZCIsdHQ9ImRyYWdlbnRlciIsdz0iZHJhZ2xlYXZlIixrdD0iZHJvcCIsdWk9by5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxyKXt2YXIgZj10aGlzLGU9dFswXTtmLmNhcHR1cmU9ITE7ZS5hZGRFdmVudExpc3RlbmVyPyhuLmVhY2goaS5ldmVudE1hcC5kb3duLnNwbGl0KCIgIiksZnVuY3Rpb24oKXtlLmFkZEV2ZW50TGlzdGVuZXIodGhpcyx1KGYuX3ByZXNzLGYpLCEwKX0pLG4uZWFjaChpLmV2ZW50TWFwLnVwLnNwbGl0KCIgIiksZnVuY3Rpb24oKXtlLmFkZEV2ZW50TGlzdGVuZXIodGhpcyx1KGYuX3JlbGVhc2UsZiksITApfSkpOihuLmVhY2goaS5ldmVudE1hcC5kb3duLnNwbGl0KCIgIiksZnVuY3Rpb24oKXtlLmF0dGFjaEV2ZW50KHRoaXMsdShmLl9wcmVzcyxmKSl9KSxuLmVhY2goaS5ldmVudE1hcC51cC5zcGxpdCgiICIpLGZ1bmN0aW9uKCl7ZS5hdHRhY2hFdmVudCh0aGlzLHUoZi5fcmVsZWFzZSxmKSl9KSk7by5mbi5pbml0LmNhbGwoZik7Zi5iaW5kKFsicHJlc3MiLCJyZWxlYXNlIl0scnx8e30pfSxjYXB0dXJlTmV4dDpmdW5jdGlvbigpe3RoaXMuY2FwdHVyZT0hMH0sY2FuY2VsQ2FwdHVyZTpmdW5jdGlvbigpe3RoaXMuY2FwdHVyZT0hMX0sX3ByZXNzOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7dC50cmlnZ2VyKCJwcmVzcyIpO3QuY2FwdHVyZSYmbi5wcmV2ZW50RGVmYXVsdCgpfSxfcmVsZWFzZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzO3QudHJpZ2dlcigicmVsZWFzZSIpO3QuY2FwdHVyZSYmKG4ucHJldmVudERlZmF1bHQoKSx0LmNhbmNlbENhcHR1cmUoKSl9fSksZHQ9by5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztvLmZuLmluaXQuY2FsbChpKTtpLmZvcmNlZEVuYWJsZWQ9ITE7bi5leHRlbmQoaSx0KTtpLnNjYWxlPTE7aS5ob3Jpem9udGFsPyhpLm1lYXN1cmU9Im9mZnNldFdpZHRoIixpLnNjcm9sbFNpemU9InNjcm9sbFdpZHRoIixpLmF4aXM9IngiKTooaS5tZWFzdXJlPSJvZmZzZXRIZWlnaHQiLGkuc2Nyb2xsU2l6ZT0ic2Nyb2xsSGVpZ2h0IixpLmF4aXM9InkiKX0sbWFrZVZpcnR1YWw6ZnVuY3Rpb24oKXtuLmV4dGVuZCh0aGlzLHt2aXJ0dWFsOiEwLGZvcmNlZEVuYWJsZWQ6ITAsX3ZpcnR1YWxNaW46MCxfdmlydHVhbE1heDowfSl9LHZpcnR1YWxTaXplOmZ1bmN0aW9uKG4sdCl7dGhpcy5fdmlydHVhbE1pbj09PW4mJnRoaXMuX3ZpcnR1YWxNYXg9PT10fHwodGhpcy5fdmlydHVhbE1pbj1uLHRoaXMuX3ZpcnR1YWxNYXg9dCx0aGlzLnVwZGF0ZSgpKX0sb3V0T2ZCb3VuZHM6ZnVuY3Rpb24obil7cmV0dXJuIG4+dGhpcy5tYXh8fG48dGhpcy5taW59LGZvcmNlRW5hYmxlZDpmdW5jdGlvbigpe3RoaXMuZm9yY2VkRW5hYmxlZD0hMH0sZ2V0U2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRhaW5lclswXVt0aGlzLm1lYXN1cmVdfSxnZXRUb3RhbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnRbMF1bdGhpcy5zY3JvbGxTaXplXX0scmVzY2FsZTpmdW5jdGlvbihuKXt0aGlzLnNjYWxlPW59LHVwZGF0ZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLHU9dC52aXJ0dWFsP3QuX3ZpcnR1YWxNYXg6dC5nZXRUb3RhbCgpLHI9dSp0LnNjYWxlLGk9dC5nZXRTaXplKCk7KDAhPT11fHx0LmZvcmNlZEVuYWJsZWQpJiYodC5tYXg9dC52aXJ0dWFsPy10Ll92aXJ0dWFsTWluOjAsdC5zaXplPWksdC50b3RhbD1yLHQubWluPU1hdGgubWluKHQubWF4LGktciksdC5taW5TY2FsZT1pL3UsdC5jZW50ZXJPZmZzZXQ9KHItaSkvMix0LmVuYWJsZWQ9dC5mb3JjZWRFbmFibGVkfHxyPmksbnx8dC50cmlnZ2VyKGEsdCkpfX0pLGZpPW8uZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7by5mbi5pbml0LmNhbGwodCk7dC54PW5ldyBkdChyKHtob3Jpem9udGFsOiEwfSxuKSk7dC55PW5ldyBkdChyKHtob3Jpem9udGFsOiExfSxuKSk7dC5jb250YWluZXI9bi5jb250YWluZXI7dC5mb3JjZWRNaW5TY2FsZT1uLm1pblNjYWxlO3QubWF4U2NhbGU9bi5tYXhTY2FsZXx8MTAwO3QuYmluZChhLG4pfSxyZXNjYWxlOmZ1bmN0aW9uKG4pe3RoaXMueC5yZXNjYWxlKG4pO3RoaXMueS5yZXNjYWxlKG4pO3RoaXMucmVmcmVzaCgpfSxjZW50ZXJDb29yZGluYXRlczpmdW5jdGlvbigpe3JldHVybnt4Ok1hdGgubWluKDAsLXRoaXMueC5jZW50ZXJPZmZzZXQpLHk6TWF0aC5taW4oMCwtdGhpcy55LmNlbnRlck9mZnNldCl9fSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLngudXBkYXRlKCk7bi55LnVwZGF0ZSgpO24uZW5hYmxlZD1uLnguZW5hYmxlZHx8bi55LmVuYWJsZWQ7bi5taW5TY2FsZT1uLmZvcmNlZE1pblNjYWxlfHxNYXRoLm1pbihuLngubWluU2NhbGUsbi55Lm1pblNjYWxlKTtuLmZpdFNjYWxlPU1hdGgubWF4KG4ueC5taW5TY2FsZSxuLnkubWluU2NhbGUpO24udHJpZ2dlcihhKX19KSxndD1vLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihuKXt2YXIgdD10aGlzO3IodCxuKTtvLmZuLmluaXQuY2FsbCh0KX0sb3V0T2ZCb3VuZHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaW1lbnNpb24ub3V0T2ZCb3VuZHModGhpcy5tb3ZhYmxlW3RoaXMuYXhpc10pfSxkcmFnTW92ZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLGk9dC5kaW1lbnNpb24scj10LmF4aXMsdT10Lm1vdmFibGUsZj11W3JdK247aS5lbmFibGVkJiYoKGY8aS5taW4mJm48MHx8Zj5pLm1heCYmbj4wKSYmKG4qPXQucmVzaXN0YW5jZSksdS50cmFuc2xhdGVBeGlzKHIsbiksdC50cmlnZ2VyKGEsdCkpfX0pLGVpPWlpLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0KXt2YXIgZixlLG8sdSxpPXRoaXM7cihpLHtlbGFzdGljOiEwfSx0KTtvPWkuZWxhc3RpYz8uNTowO3U9aS5tb3ZhYmxlO2kueD1mPW5ldyBndCh7YXhpczoieCIsZGltZW5zaW9uOmkuZGltZW5zaW9ucy54LHJlc2lzdGFuY2U6byxtb3ZhYmxlOnV9KTtpLnk9ZT1uZXcgZ3Qoe2F4aXM6InkiLGRpbWVuc2lvbjppLmRpbWVuc2lvbnMueSxyZXNpc3RhbmNlOm8sbW92YWJsZTp1fSk7aS51c2VyRXZlbnRzLmJpbmQoWyJwcmVzcyIsIm1vdmUiLCJlbmQiLCJnZXN0dXJlc3RhcnQiLCJnZXN0dXJlY2hhbmdlIl0se2dlc3R1cmVzdGFydDpmdW5jdGlvbihuKXtpLmdlc3R1cmU9bjtpLm9mZnNldD1pLmRpbWVuc2lvbnMuY29udGFpbmVyLm9mZnNldCgpfSxwcmVzczpmdW5jdGlvbih0KXtuKHQuZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCJhIikuaXMoIltkYXRhLW5hdmlnYXRlLW9uLXByZXNzPXRydWVdIikmJnQuc2VuZGVyLmNhbmNlbCgpfSxnZXN0dXJlY2hhbmdlOmZ1bmN0aW9uKG4pe3ZhciByLG8scyxoPWkuZ2VzdHVyZSxjPWguY2VudGVyLGw9bi5jZW50ZXIsdD1uLmRpc3RhbmNlL2guZGlzdGFuY2Usdj1pLmRpbWVuc2lvbnMubWluU2NhbGUsYT1pLmRpbWVuc2lvbnMubWF4U2NhbGU7dS5zY2FsZTw9diYmdDwxJiYodCs9LjgqKDEtdCkpO3Uuc2NhbGUqdD49YSYmKHQ9YS91LnNjYWxlKTtvPXUueCtpLm9mZnNldC5sZWZ0O3M9dS55K2kub2Zmc2V0LnRvcDtyPXt4OihvLWMueCkqdCtsLngtbyx5OihzLWMueSkqdCtsLnktc307dS5zY2FsZVdpdGgodCk7Zi5kcmFnTW92ZShyLngpO2UuZHJhZ01vdmUoci55KTtpLmRpbWVuc2lvbnMucmVzY2FsZSh1LnNjYWxlKTtpLmdlc3R1cmU9bjtuLnByZXZlbnREZWZhdWx0KCl9LG1vdmU6ZnVuY3Rpb24obil7bi5ldmVudC50YXJnZXQudGFnTmFtZS5tYXRjaCgvdGV4dGFyZWF8aW5wdXQvaSl8fChmLmRpbWVuc2lvbi5lbmFibGVkfHxlLmRpbWVuc2lvbi5lbmFibGVkPyhmLmRyYWdNb3ZlKG4ueC5kZWx0YSksZS5kcmFnTW92ZShuLnkuZGVsdGEpLG4ucHJldmVudERlZmF1bHQoKSk6bi50b3VjaC5za2lwKCkpfSxlbmQ6ZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpfX0pfX0pLG9pPWQudHJhbnNpdGlvbnMucHJlZml4KyJUcmFuc2Zvcm0iO2s9ZC5oYXNIVzNEP2Z1bmN0aW9uKG4sdCxpKXtyZXR1cm4idHJhbnNsYXRlM2QoIituKyJweCwiK3QrInB4LDApIHNjYWxlKCIraSsiKSJ9OmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4idHJhbnNsYXRlKCIrbisicHgsIit0KyJweCkgc2NhbGUoIitpKyIpIn07c3Q9by5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztvLmZuLmluaXQuY2FsbChpKTtpLmVsZW1lbnQ9bih0KTtpLmVsZW1lbnRbMF0uc3R5bGUud2Via2l0VHJhbnNmb3JtT3JpZ2luPSJsZWZ0IHRvcCI7aS54PTA7aS55PTA7aS5zY2FsZT0xO2kuX3NhdmVDb29yZGluYXRlcyhrKGkueCxpLnksaS5zY2FsZSkpfSx0cmFuc2xhdGVBeGlzOmZ1bmN0aW9uKG4sdCl7dGhpc1tuXSs9dDt0aGlzLnJlZnJlc2goKX0sc2NhbGVUbzpmdW5jdGlvbihuKXt0aGlzLnNjYWxlPW47dGhpcy5yZWZyZXNoKCl9LHNjYWxlV2l0aDpmdW5jdGlvbihuKXt0aGlzLnNjYWxlKj1uO3RoaXMucmVmcmVzaCgpfSx0cmFuc2xhdGU6ZnVuY3Rpb24obil7dGhpcy54Kz1uLng7dGhpcy55Kz1uLnk7dGhpcy5yZWZyZXNoKCl9LG1vdmVBeGlzOmZ1bmN0aW9uKG4sdCl7dGhpc1tuXT10O3RoaXMucmVmcmVzaCgpfSxtb3ZlVG86ZnVuY3Rpb24obil7cih0aGlzLG4pO3RoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQsbj10aGlzLHI9bi54LHU9bi55O24ucm91bmQmJihyPU1hdGgucm91bmQociksdT1NYXRoLnJvdW5kKHUpKTt0PWsocix1LG4uc2NhbGUpO3QhPW4uY29vcmRpbmF0ZXMmJihpLnN1cHBvcnQuYnJvd3Nlci5tc2llJiZpLnN1cHBvcnQuYnJvd3Nlci52ZXJzaW9uPDEwPyhuLmVsZW1lbnRbMF0uc3R5bGUucG9zaXRpb249ImFic29sdXRlIixuLmVsZW1lbnRbMF0uc3R5bGUubGVmdD1uLngrInB4IixuLmVsZW1lbnRbMF0uc3R5bGUudG9wPW4ueSsicHgiKTpuLmVsZW1lbnRbMF0uc3R5bGVbb2ldPXQsbi5fc2F2ZUNvb3JkaW5hdGVzKHQpLG4udHJpZ2dlcihhKSl9LF9zYXZlQ29vcmRpbmF0ZXM6ZnVuY3Rpb24obil7dGhpcy5jb29yZGluYXRlcz1ufX0pO2w9cy5leHRlbmQoe2luaXQ6ZnVuY3Rpb24obix0KXt2YXIgaSxyPXRoaXM7cy5mbi5pbml0LmNhbGwocixuLHQpO2k9ci5vcHRpb25zLmdyb3VwO2kgaW4gaD9oW2ldLnB1c2gocik6aFtpXT1bcl19LGV2ZW50czpbdHQsdyxrdF0sb3B0aW9uczp7bmFtZToiRHJvcFRhcmdldCIsZ3JvdXA6ImRlZmF1bHQifSxkZXN0cm95OmZ1bmN0aW9uKCl7dXQoaCx0aGlzKX0sX3RyaWdnZXI6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLHU9cFtpLm9wdGlvbnMuZ3JvdXBdO2lmKHUpcmV0dXJuIGkudHJpZ2dlcihuLHIoe30sdC5ldmVudCx7ZHJhZ2dhYmxlOnUsZHJvcFRhcmdldDp0LmRyb3BUYXJnZXR9KSl9LF9vdmVyOmZ1bmN0aW9uKG4pe3RoaXMuX3RyaWdnZXIodHQsbil9LF9vdXQ6ZnVuY3Rpb24obil7dGhpcy5fdHJpZ2dlcih3LG4pfSxfZHJvcDpmdW5jdGlvbihuKXt2YXIgdD10aGlzLGk9cFt0Lm9wdGlvbnMuZ3JvdXBdO2kmJihpLmRyb3BwZWQ9IXQuX3RyaWdnZXIoa3QsbikpfX0pO2wuZGVzdHJveUdyb3VwPWZ1bmN0aW9uKG4pe3ZhciB0LGk9aFtuXXx8Y1tuXTtpZihpKXtmb3IodD0wO3Q8aS5sZW5ndGg7dCsrKXMuZm4uZGVzdHJveS5jYWxsKGlbdF0pO2kubGVuZ3RoPTA7ZGVsZXRlIGhbbl07ZGVsZXRlIGNbbl19fTtsLl9jYWNoZT1oO2h0PWwuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4sdCl7dmFyIGkscj10aGlzO3MuZm4uaW5pdC5jYWxsKHIsbix0KTtpPXIub3B0aW9ucy5ncm91cDtpIGluIGM/Y1tpXS5wdXNoKHIpOmNbaV09W3JdfSxkZXN0cm95OmZ1bmN0aW9uKCl7dXQoYyx0aGlzKX0sb3B0aW9uczp7bmFtZToiRHJvcFRhcmdldEFyZWEiLGdyb3VwOiJkZWZhdWx0IixmaWx0ZXI6bnVsbH19KTtjdD1zLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihuLHQpe3ZhciByPXRoaXM7cy5mbi5pbml0LmNhbGwocixuLHQpO3IuX2FjdGl2YXRlZD0hMTtyLnVzZXJFdmVudHM9bmV3IHJpKHIuZWxlbWVudCx7Z2xvYmFsOiEwLGFsbG93U2VsZWN0aW9uOiEwLGZpbHRlcjpyLm9wdGlvbnMuZmlsdGVyLHRocmVzaG9sZDpyLm9wdGlvbnMuZGlzdGFuY2Usc3RhcnQ6dShyLl9zdGFydCxyKSxob2xkOnUoci5faG9sZCxyKSxtb3ZlOnUoci5fZHJhZyxyKSxlbmQ6dShyLl9lbmQsciksY2FuY2VsOnUoci5fY2FuY2VsLHIpLHNlbGVjdDp1KHIuX3NlbGVjdCxyKX0pO2kuc3VwcG9ydC50b3VjaCYmci5lbGVtZW50LmZpbmQoci5vcHRpb25zLmZpbHRlcikuY3NzKCJ0b3VjaC1hY3Rpb24iLCJub25lIik7ci5fYWZ0ZXJFbmRIYW5kbGVyPXUoci5fYWZ0ZXJFbmQscik7ci5fY2FwdHVyZUVzY2FwZT11KHIuX2NhcHR1cmVFc2NhcGUscil9LGV2ZW50czpbdnQsYXQseXQscHQsd3QsYnRdLG9wdGlvbnM6e25hbWU6IkRyYWdnYWJsZSIsZGlzdGFuY2U6aS5zdXBwb3J0LnRvdWNoPzA6NSxncm91cDoiZGVmYXVsdCIsY3Vyc29yT2Zmc2V0Om51bGwsYXhpczpudWxsLGNvbnRhaW5lcjpudWxsLGZpbHRlcjpudWxsLGlnbm9yZTpudWxsLGhvbGRUb0RyYWc6ITEsYXV0b1Njcm9sbDohMSxkcm9wcGVkOiExfSxjYW5jZWxIb2xkOmZ1bmN0aW9uKCl7dGhpcy5fYWN0aXZhdGVkPSExfSxfY2FwdHVyZUVzY2FwZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzO24ua2V5Q29kZT09PWkua2V5cy5FU0MmJih0Ll90cmlnZ2VyKHd0LHtldmVudDpufSksdC51c2VyRXZlbnRzLmNhbmNlbCgpKX0sX3VwZGF0ZUhpbnQ6ZnVuY3Rpb24odCl7dmFyIGkscj10aGlzLG89ci5vcHRpb25zLHU9ci5ib3VuZGFyaWVzLGU9by5heGlzLGY9ci5vcHRpb25zLmN1cnNvck9mZnNldDtmP2k9e2xlZnQ6dC54LmxvY2F0aW9uK2YubGVmdCx0b3A6dC55LmxvY2F0aW9uK2YudG9wfTooci5oaW50T2Zmc2V0LmxlZnQrPXQueC5kZWx0YSxyLmhpbnRPZmZzZXQudG9wKz10LnkuZGVsdGEsaT1uLmV4dGVuZCh7fSxyLmhpbnRPZmZzZXQpKTt1JiYoaS50b3A9aXQoaS50b3AsdS55KSxpLmxlZnQ9aXQoaS5sZWZ0LHUueCkpOyJ4Ij09PWU/ZGVsZXRlIGkudG9wOiJ5Ij09PWUmJmRlbGV0ZSBpLmxlZnQ7ci5oaW50LmNzcyhpKX0sX3Nob3VsZElnbm9yZVRhcmdldDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnMuaWdub3JlO3JldHVybiBpJiZuKHQpLmlzKGkpfSxfc2VsZWN0OmZ1bmN0aW9uKG4pe3RoaXMuX3Nob3VsZElnbm9yZVRhcmdldChuLmV2ZW50LnRhcmdldCl8fG4ucHJldmVudERlZmF1bHQoKX0sX3N0YXJ0OmZ1bmN0aW9uKHIpe3ZhciBvLHU9dGhpcyxmPXUub3B0aW9ucyxoPWYuY29udGFpbmVyP24oZi5jb250YWluZXIpOm51bGwscz1mLmhpbnQ7cmV0dXJuIHRoaXMuX3Nob3VsZElnbm9yZVRhcmdldChyLnRvdWNoLmluaXRpYWxUb3VjaCl8fGYuaG9sZFRvRHJhZyYmIXUuX2FjdGl2YXRlZD8odS51c2VyRXZlbnRzLmNhbmNlbCgpLHQpOih1LmN1cnJlbnRUYXJnZXQ9ci50YXJnZXQsdS5jdXJyZW50VGFyZ2V0T2Zmc2V0PWcodS5jdXJyZW50VGFyZ2V0KSxzJiYodS5oaW50JiZ1LmhpbnQuc3RvcCghMCwhMCkucmVtb3ZlKCksdS5oaW50PWkuaXNGdW5jdGlvbihzKT9uKHMuY2FsbCh1LHUuY3VycmVudFRhcmdldCkpOnMsbz1nKHUuY3VycmVudFRhcmdldCksdS5oaW50T2Zmc2V0PW8sdS5oaW50LmNzcyh7cG9zaXRpb246ImFic29sdXRlIix6SW5kZXg6MmU0LGxlZnQ6by5sZWZ0LHRvcDpvLnRvcH0pLmFwcGVuZFRvKGUuYm9keSksdS5hbmd1bGFyKCJjb21waWxlIixmdW5jdGlvbigpe3UuaGludC5yZW1vdmVBdHRyKCJuZy1yZXBlYXQiKTtmb3IodmFyIHQ9bihyLnRhcmdldCk7IXQuZGF0YSgiJCRrZW5kb1Njb3BlIikmJnQubGVuZ3RoOyl0PXQucGFyZW50KCk7cmV0dXJue2VsZW1lbnRzOnUuaGludC5nZXQoKSxzY29wZUZyb206dC5kYXRhKCIkJGtlbmRvU2NvcGUiKX19KSkscFtmLmdyb3VwXT11LHUuZHJvcHBlZD0hMSxoJiYodS5ib3VuZGFyaWVzPXJ0KGgsdS5oaW50KSksbihlKS5vbihsdCx1Ll9jYXB0dXJlRXNjYXBlKSx1Ll90cmlnZ2VyKGF0LHIpJiYodS51c2VyRXZlbnRzLmNhbmNlbCgpLHUuX2FmdGVyRW5kKCkpLHUudXNlckV2ZW50cy5jYXB0dXJlKCksdCl9LF9ob2xkOmZ1bmN0aW9uKG4pe3RoaXMuY3VycmVudFRhcmdldD1uLnRhcmdldDt0aGlzLl90cmlnZ2VyKHZ0LG4pP3RoaXMudXNlckV2ZW50cy5jYW5jZWwoKTp0aGlzLl9hY3RpdmF0ZWQ9ITB9LF9kcmFnOmZ1bmN0aW9uKHQpe3ZhciBpLHI7dC5wcmV2ZW50RGVmYXVsdCgpO2k9dGhpcy5fZWxlbWVudFVuZGVyQ3Vyc29yKHQpO3RoaXMub3B0aW9ucy5hdXRvU2Nyb2xsJiZ0aGlzLl9jdXJzb3JFbGVtZW50IT09aSYmKHRoaXMuX3Njcm9sbGFibGVQYXJlbnQ9ZXQoaSksdGhpcy5fY3Vyc29yRWxlbWVudD1pKTt0aGlzLl9sYXN0RXZlbnQ9dDt0aGlzLl9wcm9jZXNzTW92ZW1lbnQodCxpKTt0aGlzLm9wdGlvbnMuYXV0b1Njcm9sbCYmdGhpcy5fc2Nyb2xsYWJsZVBhcmVudFswXSYmKHI9b3QodC54LmxvY2F0aW9uLHQueS5sb2NhdGlvbixmdCh0aGlzLl9zY3JvbGxhYmxlUGFyZW50KSksdGhpcy5fc2Nyb2xsQ29tcGVuc3RhdGlvbj1uLmV4dGVuZCh7fSx0aGlzLmhpbnRPZmZzZXQpLHRoaXMuX3Njcm9sbFZlbG9jaXR5PXIsMD09PXIueSYmMD09PXIueD8oY2xlYXJJbnRlcnZhbCh0aGlzLl9zY3JvbGxJbnRlcnZhbCksdGhpcy5fc2Nyb2xsSW50ZXJ2YWw9bnVsbCk6dGhpcy5fc2Nyb2xsSW50ZXJ2YWx8fCh0aGlzLl9zY3JvbGxJbnRlcnZhbD1zZXRJbnRlcnZhbChuLnByb3h5KHRoaXMsIl9hdXRvU2Nyb2xsIiksNTApKSk7dGhpcy5oaW50JiZ0aGlzLl91cGRhdGVIaW50KHQpfSxfcHJvY2Vzc01vdmVtZW50OmZ1bmN0aW9uKGksdSl7dGhpcy5fd2l0aERyb3BUYXJnZXQodSxmdW5jdGlvbih1LGUpe2lmKCF1KXJldHVybiBmJiYoZi5fdHJpZ2dlcih3LHIoaSx7ZHJvcFRhcmdldDpuKGYudGFyZ2V0RWxlbWVudCl9KSksZj1udWxsKSx0O2lmKGYpe2lmKGU9PT1mLnRhcmdldEVsZW1lbnQpcmV0dXJuO2YuX3RyaWdnZXIodyxyKGkse2Ryb3BUYXJnZXQ6bihmLnRhcmdldEVsZW1lbnQpfSkpfXUuX3RyaWdnZXIodHQscihpLHtkcm9wVGFyZ2V0Om4oZSl9KSk7Zj1yKHUse3RhcmdldEVsZW1lbnQ6ZX0pfSk7dGhpcy5fdHJpZ2dlcih5dCxyKGkse2Ryb3BUYXJnZXQ6ZixlbGVtZW50VW5kZXJDdXJzb3I6dX0pKX0sX2F1dG9TY3JvbGw6ZnVuY3Rpb24oKXt2YXIgbCx1LGYsbyxzLGksaCxyLG49dGhpcy5fc2Nyb2xsYWJsZVBhcmVudFswXSx0PXRoaXMuX3Njcm9sbFZlbG9jaXR5LGM9dGhpcy5fc2Nyb2xsQ29tcGVuc3RhdGlvbjtuJiYobD10aGlzLl9lbGVtZW50VW5kZXJDdXJzb3IodGhpcy5fbGFzdEV2ZW50KSx0aGlzLl9wcm9jZXNzTW92ZW1lbnQodGhpcy5fbGFzdEV2ZW50LGwpLG89bj09PWIoKVswXSxvPyh1PWUuYm9keS5zY3JvbGxIZWlnaHQ+eS5oZWlnaHQoKSxmPWUuYm9keS5zY3JvbGxXaWR0aD55LndpZHRoKCkpOih1PW4ub2Zmc2V0SGVpZ2h0PD1uLnNjcm9sbEhlaWdodCxmPW4ub2Zmc2V0V2lkdGg8PW4uc2Nyb2xsV2lkdGgpLHM9bi5zY3JvbGxUb3ArdC55LGk9dSYmcz4wJiZzPG4uc2Nyb2xsSGVpZ2h0LGg9bi5zY3JvbGxMZWZ0K3QueCxyPWYmJmg+MCYmaDxuLnNjcm9sbFdpZHRoLGkmJihuLnNjcm9sbFRvcCs9dC55KSxyJiYobi5zY3JvbGxMZWZ0Kz10LngpLHRoaXMuaGludCYmbyYmKHJ8fGkpJiYoaSYmKGMudG9wKz10LnkpLHImJihjLmxlZnQrPXQueCksdGhpcy5oaW50LmNzcyhjKSkpfSxfZW5kOmZ1bmN0aW9uKHQpe3RoaXMuX3dpdGhEcm9wVGFyZ2V0KHRoaXMuX2VsZW1lbnRVbmRlckN1cnNvcih0KSxmdW5jdGlvbihpLHUpe2kmJihpLl9kcm9wKHIoe30sdCx7ZHJvcFRhcmdldDpuKHUpfSkpLGY9bnVsbCl9KTt0aGlzLl9jYW5jZWwodGhpcy5fdHJpZ2dlcihwdCx0KSl9LF9jYW5jZWw6ZnVuY3Rpb24obil7dmFyIHQ9dGhpczt0Ll9zY3JvbGxhYmxlUGFyZW50PW51bGw7dGhpcy5fY3Vyc29yRWxlbWVudD1udWxsO2NsZWFySW50ZXJ2YWwodGhpcy5fc2Nyb2xsSW50ZXJ2YWwpO3QuX2FjdGl2YXRlZD0hMTt0LmhpbnQmJiF0LmRyb3BwZWQ/c2V0VGltZW91dChmdW5jdGlvbigpe3QuaGludC5zdG9wKCEwLCEwKTtuP3QuX2FmdGVyRW5kSGFuZGxlcigpOnQuaGludC5hbmltYXRlKHQuY3VycmVudFRhcmdldE9mZnNldCwiZmFzdCIsdC5fYWZ0ZXJFbmRIYW5kbGVyKX0sMCk6dC5fYWZ0ZXJFbmQoKX0sX3RyaWdnZXI6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzO3JldHVybiBpLnRyaWdnZXIobixyKHt9LHQuZXZlbnQse3g6dC54LHk6dC55LGN1cnJlbnRUYXJnZXQ6aS5jdXJyZW50VGFyZ2V0LGluaXRpYWxUYXJnZXQ6dC50b3VjaD90LnRvdWNoLmluaXRpYWxUb3VjaDpudWxsLGRyb3BUYXJnZXQ6dC5kcm9wVGFyZ2V0LGVsZW1lbnRVbmRlckN1cnNvcjp0LmVsZW1lbnRVbmRlckN1cnNvcn0pKX0sX2VsZW1lbnRVbmRlckN1cnNvcjpmdW5jdGlvbihuKXt2YXIgdD1udChuKSxpPXRoaXMuaGludDtyZXR1cm4gaSYmbmkoaVswXSx0KSYmKGkuaGlkZSgpLHQ9bnQobiksdHx8KHQ9bnQobikpLGkuc2hvdygpKSx0fSxfd2l0aERyb3BUYXJnZXQ6ZnVuY3Rpb24obix0KXt2YXIgaSxmPXRoaXMub3B0aW9ucy5ncm91cCxyPWhbZl0sdT1jW2ZdOyhyJiZyLmxlbmd0aHx8dSYmdS5sZW5ndGgpJiYoaT10aShuLHIsdSksaT90KGkudGFyZ2V0LGkudGFyZ2V0RWxlbWVudCk6dCgpKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBuPXRoaXM7cy5mbi5kZXN0cm95LmNhbGwobik7bi5fYWZ0ZXJFbmQoKTtuLnVzZXJFdmVudHMuZGVzdHJveSgpO3RoaXMuX3Njcm9sbGFibGVQYXJlbnQ9bnVsbDt0aGlzLl9jdXJzb3JFbGVtZW50PW51bGw7Y2xlYXJJbnRlcnZhbCh0aGlzLl9zY3JvbGxJbnRlcnZhbCk7bi5jdXJyZW50VGFyZ2V0PW51bGx9LF9hZnRlckVuZDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5oaW50JiZ0LmhpbnQucmVtb3ZlKCk7ZGVsZXRlIHBbdC5vcHRpb25zLmdyb3VwXTt0LnRyaWdnZXIoImRlc3Ryb3kiKTt0LnRyaWdnZXIoYnQpO24oZSkub2ZmKGx0LHQuX2NhcHR1cmVFc2NhcGUpfX0pO2kudWkucGx1Z2luKGwpO2kudWkucGx1Z2luKGh0KTtpLnVpLnBsdWdpbihjdCk7aS5UYXBDYXB0dXJlPXVpO2kuY29udGFpbmVyQm91bmRhcmllcz1ydDtyKGkudWkse1BhbmU6ZWksUGFuZURpbWVuc2lvbnM6ZmksTW92YWJsZTpzdH0pO2kudWkuRHJhZ2dhYmxlLnV0aWxzPXthdXRvU2Nyb2xsVmVsb2NpdHk6b3Qsc2Nyb2xsYWJsZVZpZXdQb3J0OmZ0LGZpbmRTY3JvbGxhYmxlUGFyZW50OmV0fX0od2luZG93LmtlbmRvLmpRdWVyeSksd2luZG93LmtlbmRvfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZTpmdW5jdGlvbihuLHQsaSl7KGl8fHQpKCl9KTsKLyohCiAqIENvcHlyaWdodCAyMDIwIFByb2dyZXNzIFNvZnR3YXJlIENvcnBvcmF0aW9uIGFuZC9vciBvbmUgb2YgaXRzIHN1YnNpZGlhcmllcyBvciBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KIWZ1bmN0aW9uKG4sdCl7dCgia2VuZG8ucG9wdXAubWluIixbImtlbmRvLmNvcmUubWluIl0sbil9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gayh0LGkpe3JldHVybiEoIXR8fCFpKSYmKHQ9PT1pfHxuLmNvbnRhaW5zKHQsaSkpfXZhciBldCxhLG90LHN0LGk9d2luZG93LmtlbmRvLGQ9aS51aSxnPWQuV2lkZ2V0LGt0PWkuQ2xhc3Mscj1pLnN1cHBvcnQsZT1pLmdldE9mZnNldCxvPWkuX291dGVyV2lkdGgsZj1pLl9vdXRlckhlaWdodCxudD0ib3BlbiIsdHQ9ImNsb3NlIixodD0iZGVhY3RpdmF0ZSIsY3Q9ImFjdGl2YXRlIixzPSJjZW50ZXIiLGx0PSJsZWZ0Iix2PSJyaWdodCIseT0idG9wIixwPSJib3R0b20iLHc9ImFic29sdXRlIixpdD0iaGlkZGVuIixydD0iYm9keSIsdXQ9ImxvY2F0aW9uIixsPSJwb3NpdGlvbiIsYXQ9InZpc2libGUiLHZ0PSJlZmZlY3RzIix5dD0iay1zdGF0ZS1hY3RpdmUiLGI9Imstc3RhdGUtYm9yZGVyIixkdD0vay1zdGF0ZS1ib3JkZXItKFx3KykvLHB0PSIuay1waWNrZXItd3JhcCwgLmstZHJvcGRvd24td3JhcCwgLmstbGluayIsZ3Q9ImRvd24iLGZ0PW4oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSxuaT1uLnByb3h5LHRpPW4od2luZG93KSx3dD0ic2Nyb2xsIixpaT1yLnRyYW5zaXRpb25zLmNzcyxidD1paSsidHJhbnNmb3JtIix1PW4uZXh0ZW5kLGg9Ii5rZW5kb1BvcHVwIixjPVsiZm9udC1zaXplIiwiZm9udC1mYW1pbHkiLCJmb250LXN0cmV0Y2giLCJmb250LXN0eWxlIiwiZm9udC13ZWlnaHQiLCJsaW5lLWhlaWdodCJdLHJpPWcuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQsZil7dmFyIG8sZT10aGlzO2Y9Znx8e307Zi5pc1J0bCYmKGYub3JpZ2luPWYub3JpZ2lufHxwKyIgIit2LGYucG9zaXRpb249Zi5wb3NpdGlvbnx8eSsiICIrdik7Zy5mbi5pbml0LmNhbGwoZSx0LGYpO3Q9ZS5lbGVtZW50O2Y9ZS5vcHRpb25zO2UuY29sbGlzaW9ucz1mLmNvbGxpc2lvbj9mLmNvbGxpc2lvbi5zcGxpdCgiICIpOltdO2UuZG93bkV2ZW50PWkuYXBwbHlFdmVudE1hcChndCxpLmd1aWQoKSk7MT09PWUuY29sbGlzaW9ucy5sZW5ndGgmJmUuY29sbGlzaW9ucy5wdXNoKGUuY29sbGlzaW9uc1swXSk7bz1uKGUub3B0aW9ucy5hbmNob3IpLmNsb3Nlc3QoIi5rLXBvcHVwLC5rLWdyb3VwIikuZmlsdGVyKCI6bm90KFtjbGFzc149a20tXSkiKTtmLmFwcGVuZFRvPW4obihmLmFwcGVuZFRvKVswXXx8b1swXXx8ZG9jdW1lbnQuYm9keSk7ZS5lbGVtZW50LmhpZGUoKS5hZGRDbGFzcygiay1wb3B1cCBrLWdyb3VwIGstcmVzZXQiKS50b2dnbGVDbGFzcygiay1ydGwiLCEhZi5pc1J0bCkuY3NzKHtwb3NpdGlvbjp3fSkuYXBwZW5kVG8oZi5hcHBlbmRUbykuYXR0cigiYXJpYS1oaWRkZW4iLCEwKS5vbigibW91c2VlbnRlciIraCxmdW5jdGlvbigpe2UuX2hvdmVyZWQ9ITB9KS5vbigid2hlZWwiK2gsZnVuY3Rpb24odCl7dmFyIHI9bih0LnRhcmdldCkuZmluZCgiLmstbGlzdCIpLGk9ci5wYXJlbnQoKTtyLmxlbmd0aCYmci5pcygiOnZpc2libGUiKSYmKDA9PT1pLnNjcm9sbFRvcCgpJiZ0Lm9yaWdpbmFsRXZlbnQuZGVsdGFZPDB8fGkuc2Nyb2xsVG9wKCk9PT1pLnByb3AoInNjcm9sbEhlaWdodCIpLWkucHJvcCgib2Zmc2V0SGVpZ2h0IikmJnQub3JpZ2luYWxFdmVudC5kZWx0YVk+MCkmJnQucHJldmVudERlZmF1bHQoKX0pLm9uKCJtb3VzZWxlYXZlIitoLGZ1bmN0aW9uKCl7ZS5faG92ZXJlZD0hMX0pO2Uud3JhcHBlcj1uKCk7Zi5hbmltYXRpb249PT0hMSYmKGYuYW5pbWF0aW9uPXtvcGVuOntlZmZlY3RzOnt9fSxjbG9zZTp7aGlkZTohMCxlZmZlY3RzOnt9fX0pO3UoZi5hbmltYXRpb24ub3Blbix7Y29tcGxldGU6ZnVuY3Rpb24oKXtlLndyYXBwZXIuY3NzKHtvdmVyZmxvdzphdH0pO2UuX2FjdGl2YXRlZD0hMDtlLl90cmlnZ2VyKGN0KX19KTt1KGYuYW5pbWF0aW9uLmNsb3NlLHtjb21wbGV0ZTpmdW5jdGlvbigpe2UuX2FuaW1hdGlvbkNsb3NlKCl9fSk7ZS5fbW91c2Vkb3duUHJveHk9ZnVuY3Rpb24obil7ZS5fbW91c2Vkb3duKG4pfTtlLl9yZXNpemVQcm94eT1yLm1vYmlsZU9TLmFuZHJvaWQ/ZnVuY3Rpb24obil7c2V0VGltZW91dChmdW5jdGlvbigpe2UuX3Jlc2l6ZShuKX0sNjAwKX06ZnVuY3Rpb24obil7ZS5fcmVzaXplKG4pfTtmLnRvZ2dsZVRhcmdldCYmbihmLnRvZ2dsZVRhcmdldCkub24oZi50b2dnbGVFdmVudCtoLG4ucHJveHkoZS50b2dnbGUsZSkpfSxldmVudHM6W250LGN0LHR0LGh0XSxvcHRpb25zOntuYW1lOiJQb3B1cCIsdG9nZ2xlRXZlbnQ6ImNsaWNrIixvcmlnaW46cCsiICIrbHQscG9zaXRpb246eSsiICIrbHQsYW5jaG9yOnJ0LGFwcGVuZFRvOm51bGwsY29sbGlzaW9uOiJmbGlwIGZpdCIsdmlld3BvcnQ6d2luZG93LGNvcHlBbmNob3JTdHlsZXM6ITAsYXV0b3NpemU6ITEsbW9kYWw6ITEsYWRqdXN0U2l6ZTp7d2lkdGg6MCxoZWlnaHQ6MH0sYW5pbWF0aW9uOntvcGVuOntlZmZlY3RzOiJzbGlkZUluOmRvd24iLHRyYW5zaXRpb246ITAsZHVyYXRpb246MjAwfSxjbG9zZTp7ZHVyYXRpb246MTAwLGhpZGU6ITB9fX0sX2FuaW1hdGlvbkNsb3NlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0PW4ud3JhcHBlci5kYXRhKHV0KTtuLndyYXBwZXIuaGlkZSgpO3QmJm4ud3JhcHBlci5jc3ModCk7bi5vcHRpb25zLmFuY2hvciE9cnQmJm4uX2hpZGVEaXJDbGFzcygpO24uX2Nsb3Npbmc9ITE7bi5fdHJpZ2dlcihodCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdSx0PXRoaXMscj10Lm9wdGlvbnMsZj10LmVsZW1lbnQub2ZmKGgpO2cuZm4uZGVzdHJveS5jYWxsKHQpO3IudG9nZ2xlVGFyZ2V0JiZuKHIudG9nZ2xlVGFyZ2V0KS5vZmYoaCk7ci5tb2RhbHx8KGZ0Lm9mZih0LmRvd25FdmVudCx0Ll9tb3VzZWRvd25Qcm94eSksdC5fdG9nZ2xlUmVzaXplKCExKSk7aS5kZXN0cm95KHQuZWxlbWVudC5jaGlsZHJlbigpKTtmLnJlbW92ZURhdGEoKTtyLmFwcGVuZFRvWzBdPT09ZG9jdW1lbnQuYm9keSYmKHU9Zi5wYXJlbnQoIi5rLWFuaW1hdGlvbi1jb250YWluZXIiKSx1WzBdP3UucmVtb3ZlKCk6Zi5yZW1vdmUoKSl9LG9wZW46ZnVuY3Rpb24odCx1KXt2YXIgcyxoLGY9dGhpcyxhPXtpc0ZpeGVkOiFpc05hTihwYXJzZUludCh1LDEwKSkseDp0LHk6dX0sZT1mLmVsZW1lbnQsbz1mLm9wdGlvbnMsdj1uKG8uYW5jaG9yKSxwPWVbMF0mJmUuaGFzQ2xhc3MoImttLXdpZGdldCIpO2lmKCFmLnZpc2libGUoKSl7aWYoby5jb3B5QW5jaG9yU3R5bGVzJiYocCYmImZvbnQtc2l6ZSI9PWNbMF0mJmMuc2hpZnQoKSxlLmNzcyhpLmdldENvbXB1dGVkU3R5bGVzKHZbMF0sYykpKSxlLmRhdGEoImFuaW1hdGluZyIpfHxmLl90cmlnZ2VyKG50KSlyZXR1cm47Zi5fYWN0aXZhdGVkPSExO28ubW9kYWx8fChmdC5vZmYoZi5kb3duRXZlbnQsZi5fbW91c2Vkb3duUHJveHkpLm9uKGYuZG93bkV2ZW50LGYuX21vdXNlZG93blByb3h5KSxmLl90b2dnbGVSZXNpemUoITEpLGYuX3RvZ2dsZVJlc2l6ZSghMCkpO2Yud3JhcHBlcj1oPWkud3JhcChlLG8uYXV0b3NpemUpLmNzcyh7b3ZlcmZsb3c6aXQsZGlzcGxheToiYmxvY2siLHBvc2l0aW9uOnd9KS5hdHRyKCJhcmlhLWhpZGRlbiIsITEpO3IubW9iaWxlT1MuYW5kcm9pZCYmaC5jc3MoYnQsInRyYW5zbGF0ZXooMCkiKTtoLmNzcyhsKTtuKG8uYXBwZW5kVG8pWzBdPT1kb2N1bWVudC5ib2R5JiZoLmNzcyh5LCItMTAwMDBweCIpO2YuZmxpcHBlZD1mLl9wb3NpdGlvbihhKTtzPWYuX29wZW5BbmltYXRpb24oKTtvLmFuY2hvciE9cnQmJmYuX3Nob3dEaXJDbGFzcyhzKTtlLmRhdGEodnQscy5lZmZlY3RzKS5rZW5kb1N0b3AoITApLmtlbmRvQW5pbWF0ZShzKS5hdHRyKCJhcmlhLWhpZGRlbiIsITEpfX0sX2xvY2F0aW9uOmZ1bmN0aW9uKHQpe3ZhciB1LHMsZj10aGlzLGU9Zi5lbGVtZW50LG89Zi5vcHRpb25zLGg9bihvLmFuY2hvciksYT1lWzBdJiZlLmhhc0NsYXNzKCJrbS13aWRnZXQiKTtyZXR1cm4gby5jb3B5QW5jaG9yU3R5bGVzJiYoYSYmImZvbnQtc2l6ZSI9PWNbMF0mJmMuc2hpZnQoKSxlLmNzcyhpLmdldENvbXB1dGVkU3R5bGVzKGhbMF0sYykpKSxmLndyYXBwZXI9dT1pLndyYXAoZSxvLmF1dG9zaXplKS5jc3Moe292ZXJmbG93Oml0LGRpc3BsYXk6ImJsb2NrIixwb3NpdGlvbjp3fSksci5tb2JpbGVPUy5hbmRyb2lkJiZ1LmNzcyhidCwidHJhbnNsYXRleigwKSIpLHUuY3NzKGwpLG4oby5hcHBlbmRUbylbMF09PWRvY3VtZW50LmJvZHkmJnUuY3NzKHksIi0xMDAwMHB4IiksZi5fcG9zaXRpb24odHx8e30pLHM9dS5vZmZzZXQoKSx7d2lkdGg6aS5fb3V0ZXJXaWR0aCh1KSxoZWlnaHQ6aS5fb3V0ZXJIZWlnaHQodSksbGVmdDpzLmxlZnQsdG9wOnMudG9wfX0sX29wZW5BbmltYXRpb246ZnVuY3Rpb24oKXt2YXIgbj11KCEwLHt9LHRoaXMub3B0aW9ucy5hbmltYXRpb24ub3Blbik7cmV0dXJuIG4uZWZmZWN0cz1pLnBhcnNlRWZmZWN0cyhuLmVmZmVjdHMsdGhpcy5mbGlwcGVkKSxufSxfaGlkZURpckNsYXNzOmZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzLm9wdGlvbnMuYW5jaG9yKSxyPSgodC5hdHRyKCJjbGFzcyIpfHwiIikubWF0Y2goZHQpfHxbIiIsImRvd24iXSlbMV0sdT1iKyItIityO3QucmVtb3ZlQ2xhc3ModSkuY2hpbGRyZW4ocHQpLnJlbW92ZUNsYXNzKHl0KS5yZW1vdmVDbGFzcyh1KTt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoYisiLSIraS5kaXJlY3Rpb25zW3JdLnJldmVyc2UpfSxfc2hvd0RpckNsYXNzOmZ1bmN0aW9uKHQpe3ZhciByPXQuZWZmZWN0cy5zbGlkZUluP3QuZWZmZWN0cy5zbGlkZUluLmRpcmVjdGlvbjoiZG93biIsdT1iKyItIityO24odGhpcy5vcHRpb25zLmFuY2hvcikuYWRkQ2xhc3ModSkuY2hpbGRyZW4ocHQpLmFkZENsYXNzKHl0KS5hZGRDbGFzcyh1KTt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYisiLSIraS5kaXJlY3Rpb25zW3JdLnJldmVyc2UpfSxwb3NpdGlvbjpmdW5jdGlvbigpe3RoaXMudmlzaWJsZSgpJiYodGhpcy5mbGlwcGVkPXRoaXMuX3Bvc2l0aW9uKCkpfSx0b2dnbGU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO25bbi52aXNpYmxlKCk/dHQ6bnRdKCl9LHZpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmlzKCI6IithdCl9LGNsb3NlOmZ1bmN0aW9uKHIpe3ZhciBoLGUsbyxzLGY9dGhpcyxjPWYub3B0aW9ucztpZihmLnZpc2libGUoKSl7aWYoaD1mLndyYXBwZXJbMF0/Zi53cmFwcGVyOmkud3JhcChmLmVsZW1lbnQpLmhpZGUoKSxmLl90b2dnbGVSZXNpemUoITEpLGYuX2Nsb3Npbmd8fGYuX3RyaWdnZXIodHQpKXJldHVybiBmLl90b2dnbGVSZXNpemUoITApLHQ7Zi5lbGVtZW50LmZpbmQoIi5rLXBvcHVwIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcyksdD1pLmRhdGEoImtlbmRvUG9wdXAiKTt0JiZ0LmNsb3NlKHIpfSk7ZnQub2ZmKGYuZG93bkV2ZW50LGYuX21vdXNlZG93blByb3h5KTtyP2U9e2hpZGU6ITAsZWZmZWN0czp7fX06KGU9dSghMCx7fSxjLmFuaW1hdGlvbi5jbG9zZSksbz1mLmVsZW1lbnQuZGF0YSh2dCkscz1lLmVmZmVjdHMsIXMmJiFpLnNpemUocykmJm8mJmkuc2l6ZShvKSYmKGUuZWZmZWN0cz1vLGUucmV2ZXJzZT0hMCksZi5fY2xvc2luZz0hMCk7Zi5lbGVtZW50LmtlbmRvU3RvcCghMCkuYXR0cigiYXJpYS1oaWRkZW4iLCEwKTtoLmNzcyh7b3ZlcmZsb3c6aXR9KS5hdHRyKCJhcmlhLWhpZGRlbiIsITApO2YuZWxlbWVudC5rZW5kb0FuaW1hdGUoZSk7ciYmZi5fYW5pbWF0aW9uQ2xvc2UoKX19LF90cmlnZ2VyOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnRyaWdnZXIobix7dHlwZTpufSl9LF9yZXNpemU6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcztyLnJlc2l6ZS5pbmRleE9mKG4udHlwZSkhPT0tMT8oY2xlYXJUaW1lb3V0KHQuX3Jlc2l6ZVRpbWVvdXQpLHQuX3Jlc2l6ZVRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3QuX3Bvc2l0aW9uKCk7dC5fcmVzaXplVGltZW91dD1udWxsfSw1MCkpOighdC5faG92ZXJlZHx8dC5fYWN0aXZhdGVkJiZ0LmVsZW1lbnQuaGFzQ2xhc3MoImstbGlzdC1jb250YWluZXIiKSkmJnQuY2xvc2UoKX0sX3RvZ2dsZVJlc2l6ZTpmdW5jdGlvbihuKXt2YXIgdD1uPyJvbiI6Im9mZiIsaT1yLnJlc2l6ZTtyLm1vYmlsZU9TLmlvc3x8ci5tb2JpbGVPUy5hbmRyb2lkfHxyLmJyb3dzZXIuc2FmYXJpfHwoaSs9IiAiK3d0KTtuJiYhdGhpcy5zY3JvbGxhYmxlUGFyZW50cyYmKHRoaXMuc2Nyb2xsYWJsZVBhcmVudHM9dGhpcy5fc2Nyb2xsYWJsZVBhcmVudHMoKSk7dGhpcy5zY3JvbGxhYmxlUGFyZW50cyYmdGhpcy5zY3JvbGxhYmxlUGFyZW50cy5sZW5ndGgmJnRoaXMuc2Nyb2xsYWJsZVBhcmVudHNbdF0od3QsdGhpcy5fcmVzaXplUHJveHkpO3RpW3RdKGksdGhpcy5fcmVzaXplUHJveHkpfSxfbW91c2Vkb3duOmZ1bmN0aW9uKHQpe3ZhciB1PXRoaXMscz11LmVsZW1lbnRbMF0sZT11Lm9wdGlvbnMsaD1uKGUuYW5jaG9yKVswXSxvPWUudG9nZ2xlVGFyZ2V0LGY9aS5ldmVudFRhcmdldCh0KSxyPW4oZikuY2xvc2VzdCgiLmstcG9wdXAiKSxjPXIucGFyZW50KCkucGFyZW50KCIua20tc2hpbSIpLmxlbmd0aDtyPXJbMF07IWMmJnImJnIhPT11LmVsZW1lbnRbMF18fCJwb3BvdmVyIiE9PW4odC50YXJnZXQpLmNsb3Nlc3QoImEiKS5kYXRhKCJyZWwiKSYmKGsocyxmKXx8ayhoLGYpfHxvJiZrKG4obylbMF0sZil8fHUuY2xvc2UoKSl9LF9maXQ6ZnVuY3Rpb24obix0LGkpe3ZhciByPTA7cmV0dXJuIG4rdD5pJiYocj1pLShuK3QpKSxuPDAmJihyPS1uKSxyfSxfZmxpcDpmdW5jdGlvbihuLHQsaSxyLHUsZixlKXt2YXIgbz0wO3JldHVybiBlPWV8fHQsZiE9PXUmJmYhPT1zJiZ1IT09cyYmKG4rZT5yJiYobys9LShpK3QpKSxuK288MCYmKG8rPWkrdCkpLG99LF9zY3JvbGxhYmxlUGFyZW50czpmdW5jdGlvbigpe3JldHVybiBuKHRoaXMub3B0aW9ucy5hbmNob3IpLnBhcmVudHNVbnRpbCgiYm9keSIpLmZpbHRlcihmdW5jdGlvbihuLHQpe3JldHVybiBpLmlzU2Nyb2xsYWJsZSh0KX0pfSxfcG9zaXRpb246ZnVuY3Rpb24odCl7dmFyIGcsb3Qsdix3dCxzdCxwLG50LGJ0LHR0LGIsa3QsayxjLGh0LGN0LGl0LGx0LGg9dGhpcyxhdD1oLmVsZW1lbnQscz1oLndyYXBwZXIsYT1oLm9wdGlvbnMscnQ9bihhLnZpZXdwb3J0KSxkPXIuem9vbUxldmVsKCksZHQ9ISEocnRbMF09PXdpbmRvdyYmd2luZG93LmlubmVyV2lkdGgmJmQ8PTEuMDIpLHk9bihhLmFuY2hvciksdnQ9YS5vcmlnaW4udG9Mb3dlckNhc2UoKS5zcGxpdCgiICIpLHl0PWEucG9zaXRpb24udG9Mb3dlckNhc2UoKS5zcGxpdCgiICIpLGZ0PWguY29sbGlzaW9ucyxldD0xMDAwMixwdD0wLGd0PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtpZihzdD1hLnZpZXdwb3J0PT09d2luZG93P3t0b3A6d2luZG93LnBhZ2VZT2Zmc2V0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHwwLGxlZnQ6d2luZG93LnBhZ2VYT2Zmc2V0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8MH06cnQub2Zmc2V0KCksZHQ/KHA9d2luZG93LmlubmVyV2lkdGgsbnQ9d2luZG93LmlubmVySGVpZ2h0KToocD1ydC53aWR0aCgpLG50PXJ0LmhlaWdodCgpKSxkdCYmZ3Quc2Nyb2xsSGVpZ2h0LWd0LmNsaWVudEhlaWdodD4wJiYoYnQ9YS5pc1J0bD8tMToxLHAtPWJ0Kmkuc3VwcG9ydC5zY3JvbGxiYXIoKSksZz15LnBhcmVudHMoKS5maWx0ZXIocy5zaWJsaW5ncygpKSxnWzBdKWlmKHY9TWF0aC5tYXgoK2cuY3NzKCJ6SW5kZXgiKSwwKSlldD12KzEwO2Vsc2UgZm9yKG90PXkucGFyZW50c1VudGlsKGcpLHd0PW90Lmxlbmd0aDtwdDx3dDtwdCsrKXY9K24ob3RbcHRdKS5jc3MoInpJbmRleCIpLHYmJmV0PHYmJihldD12KzEwKTtyZXR1cm4gcy5jc3MoInpJbmRleCIsZXQpLHMuY3NzKHQmJnQuaXNGaXhlZD97bGVmdDp0LngsdG9wOnQueX06aC5fYWxpZ24odnQseXQpKSx0dD1lKHMsbCx5WzBdPT09cy5vZmZzZXRQYXJlbnQoKVswXSksYj1lKHMpLGt0PXkub2Zmc2V0UGFyZW50KCkucGFyZW50KCIuay1hbmltYXRpb24tY29udGFpbmVyLC5rLXBvcHVwLC5rLWdyb3VwIiksa3QubGVuZ3RoJiYodHQ9ZShzLGwsITApLGI9ZShzKSksYi50b3AtPXN0LnRvcCxiLmxlZnQtPXN0LmxlZnQsaC53cmFwcGVyLmRhdGEodXQpfHxzLmRhdGEodXQsdSh7fSx0dCkpLGs9dSh7fSxiKSxjPXUoe30sdHQpLGh0PWEuYWRqdXN0U2l6ZSwiZml0Ij09PWZ0WzBdJiYoYy50b3ArPWguX2ZpdChrLnRvcCxmKHMpK2h0LmhlaWdodCxudC9kKSksImZpdCI9PT1mdFsxXSYmKGMubGVmdCs9aC5fZml0KGsubGVmdCxvKHMpK2h0LndpZHRoLHAvZCkpLGN0PXUoe30sYyksaXQ9ZihhdCksbHQ9ZihzKSwhcy5oZWlnaHQoKSYmaXQmJihsdCs9aXQpLCJmbGlwIj09PWZ0WzBdJiYoYy50b3ArPWguX2ZsaXAoay50b3AsaXQsZih5KSxudC9kLHZ0WzBdLHl0WzBdLGx0KSksImZsaXAiPT09ZnRbMV0mJihjLmxlZnQrPWguX2ZsaXAoay5sZWZ0LG8oYXQpLG8oeSkscC9kLHZ0WzFdLHl0WzFdLG8ocykpKSxhdC5jc3MobCx3KSxzLmNzcyhjKSxjLmxlZnQhPWN0LmxlZnR8fGMudG9wIT1jdC50b3B9LF9hbGlnbjpmdW5jdGlvbih0LGkpe3ZhciBjLGw9dGhpcyxhPWwud3JhcHBlcix5PW4obC5vcHRpb25zLmFuY2hvciksdz10WzBdLGI9dFsxXSxrPWlbMF0sZD1pWzFdLGc9ZSh5KSxudD1uKGwub3B0aW9ucy5hcHBlbmRUbyksdHQ9byhhKSxpdD1mKGEpfHxmKGEuY2hpbGRyZW4oKS5maXJzdCgpKSxydD1vKHkpLHV0PWYoeSkscj1nLnRvcCx1PWcubGVmdCxoPU1hdGgucm91bmQ7cmV0dXJuIG50WzBdIT1kb2N1bWVudC5ib2R5JiYoYz1lKG50KSxyLT1jLnRvcCx1LT1jLmxlZnQpLHc9PT1wJiYocis9dXQpLHc9PT1zJiYocis9aCh1dC8yKSksaz09PXAmJihyLT1pdCksaz09PXMmJihyLT1oKGl0LzIpKSxiPT09diYmKHUrPXJ0KSxiPT09cyYmKHUrPWgocnQvMikpLGQ9PT12JiYodS09dHQpLGQ9PT1zJiYodS09aCh0dC8yKSkse3RvcDpyLGxlZnQ6dX19fSk7ZC5wbHVnaW4ocmkpO2V0PWkuc3VwcG9ydC5zdGFibGVTb3J0O2E9ImtlbmRvVGFiS2V5VHJhcCI7b3Q9ImFbaHJlZl0sIGFyZWFbaHJlZl0sIGlucHV0Om5vdChbZGlzYWJsZWRdKSwgc2VsZWN0Om5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pLCBidXR0b246bm90KFtkaXNhYmxlZF0pLCBpZnJhbWUsIG9iamVjdCwgZW1iZWQsIFt0YWJpbmRleF0sICpbY29udGVudGVkaXRhYmxlXSI7c3Q9a3QuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQpe3RoaXMuZWxlbWVudD1uKHQpO3RoaXMuZWxlbWVudC5hdXRvQXBwbHlOUyhhKX0sdHJhcDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5vbigia2V5ZG93biIsbmkodGhpcy5fa2VlcEluVHJhcCx0aGlzKSl9LHJlbW92ZVRyYXA6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQua2VuZG9EZXN0cm95KGEpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmtlbmRvRGVzdHJveShhKTt0aGlzLmVsZW1lbnQ9dH0sc2hvdWxkVHJhcDpmdW5jdGlvbigpe3JldHVybiEwfSxfa2VlcEluVHJhcDpmdW5jdGlvbihuKXt2YXIgdCxpLHI7OT09PW4ud2hpY2gmJnRoaXMuc2hvdWxkVHJhcCgpJiYhbi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKHQ9dGhpcy5fZm9jdXNhYmxlRWxlbWVudHMoKSxpPXRoaXMuX3NvcnRGb2N1c2FibGVFbGVtZW50cyh0KSxyPXRoaXMuX25leHRGb2N1c2FibGUobixpKSx0aGlzLl9mb2N1cyhyKSxuLnByZXZlbnREZWZhdWx0KCkpfSxfZm9jdXNhYmxlRWxlbWVudHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQuZmluZChvdCkuZmlsdGVyKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGkudGFiSW5kZXg+PTAmJm4oaSkuaXMoIjp2aXNpYmxlIikmJiFuKGkpLmlzKCJbZGlzYWJsZWRdIil9KTtyZXR1cm4gdGhpcy5lbGVtZW50LmlzKCJbdGFiaW5kZXhdIikmJnQucHVzaCh0aGlzLmVsZW1lbnRbMF0pLHR9LF9zb3J0Rm9jdXNhYmxlRWxlbWVudHM6ZnVuY3Rpb24obil7dmFyIGksdDtyZXR1cm4gZXQ/aT1uLnNvcnQoZnVuY3Rpb24obix0KXtyZXR1cm4gbi50YWJJbmRleC10LnRhYkluZGV4fSk6KHQ9Il9fa19pbmRleCIsbi5lYWNoKGZ1bmN0aW9uKG4saSl7aS5zZXRBdHRyaWJ1dGUodCxuKX0pLGk9bi5zb3J0KGZ1bmN0aW9uKG4saSl7cmV0dXJuIG4udGFiSW5kZXg9PT1pLnRhYkluZGV4P3BhcnNlSW50KG4uZ2V0QXR0cmlidXRlKHQpLDEwKS1wYXJzZUludChpLmdldEF0dHJpYnV0ZSh0KSwxMCk6bi50YWJJbmRleC1pLnRhYkluZGV4fSksbi5yZW1vdmVBdHRyKHQpKSxpfSxfbmV4dEZvY3VzYWJsZTpmdW5jdGlvbihuLHQpe3ZhciBpPXQubGVuZ3RoLHI9dC5pbmRleChuLnRhcmdldCk7cmV0dXJuIHQuZ2V0KChyKyhuLnNoaWZ0S2V5Py0xOjEpKSVpKX0sX2ZvY3VzOmZ1bmN0aW9uKG4pe3JldHVybiJJRlJBTUUiPT1uLm5vZGVOYW1lPyhuLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keS5mb2N1cygpLHQpOihuLmZvY3VzKCksIklOUFVUIj09bi5ub2RlTmFtZSYmbi5zZXRTZWxlY3Rpb25SYW5nZSYmdGhpcy5faGF2ZVNlbGVjdGlvblJhbmdlKG4pJiZuLnNldFNlbGVjdGlvblJhbmdlKDAsbi52YWx1ZS5sZW5ndGgpLHQpfSxfaGF2ZVNlbGVjdGlvblJhbmdlOmZ1bmN0aW9uKG4pe3ZhciB0PW4udHlwZS50b0xvd2VyQ2FzZSgpO3JldHVybiJ0ZXh0Ij09PXR8fCJzZWFyY2giPT09dHx8InVybCI9PT10fHwidGVsIj09PXR8fCJwYXNzd29yZCI9PT10fX0pO2QuUG9wdXAuVGFiS2V5VHJhcD1zdH0od2luZG93LmtlbmRvLmpRdWVyeSksd2luZG93LmtlbmRvfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZTpmdW5jdGlvbihuLHQsaSl7KGl8fHQpKCl9KTsKLyohCiAqIENvcHlyaWdodCAyMDIwIFByb2dyZXNzIFNvZnR3YXJlIENvcnBvcmF0aW9uIGFuZC9vciBvbmUgb2YgaXRzIHN1YnNpZGlhcmllcyBvciBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KIWZ1bmN0aW9uKG4sdCl7dCgia2VuZG8ud2luZG93Lm1pbiIsWyJrZW5kby5kcmFnYW5kZHJvcC5taW4iLCJrZW5kby5wb3B1cC5taW4iXSxuKX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obix0KXtmdW5jdGlvbiBpdChuKXtyZXR1cm4gdCE9PW59ZnVuY3Rpb24gdShuLHQpe3JldHVybiBwYXJzZUludChuLmNzcyh0KSwxMCl8fDB9ZnVuY3Rpb24gZShuLHQsaSl7cmV0dXJuIG4mJmlzTmFOKG4pJiYoIiIrbikuaW5kZXhPZigicHgiKTwwP246TWF0aC5tYXgoTWF0aC5taW4ocGFyc2VJbnQobiwxMCksaT09PTEvMD9pOnBhcnNlSW50KGksMTApKSx0PT09LSgxLzApP3Q6cGFyc2VJbnQodCwxMCkpfWZ1bmN0aW9uIHBpKCl7cmV0dXJuIXRoaXMudHlwZXx8dGhpcy50eXBlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigic2NyaXB0Iik+PTB9ZnVuY3Rpb24gcnQodCl7Zm9yKHZhciB1LGYscj17dG9wOnQub2Zmc2V0VG9wLGxlZnQ6dC5vZmZzZXRMZWZ0fSxpPXQub2Zmc2V0UGFyZW50O2k7KXIudG9wKz1pLm9mZnNldFRvcCxyLmxlZnQrPWkub2Zmc2V0TGVmdCx1PW4oaSkuY3NzKCJvdmVyZmxvd1giKSxmPW4oaSkuY3NzKCJvdmVyZmxvd1kiKSwiYXV0byIhPT1mJiYic2Nyb2xsIiE9PWZ8fChyLnRvcC09aS5zY3JvbGxUb3ApLCJhdXRvIiE9PXUmJiJzY3JvbGwiIT09dXx8KHIubGVmdC09aS5zY3JvbGxMZWZ0KSxpPWkub2Zmc2V0UGFyZW50O3JldHVybiByfWZ1bmN0aW9uIHl0KG4pe3ZhciB0PXRoaXM7dC5vd25lcj1uO3QuX3ByZXZlbnREcmFnZ2luZz0hMTt0Ll9kcmFnZ2FibGU9bmV3IHd0KG4ud3JhcHBlcix7ZmlsdGVyOiI+Iit2LGdyb3VwOm4ud3JhcHBlci5pZCsiLXJlc2l6aW5nIixkcmFnc3RhcnQ6cih0LmRyYWdzdGFydCx0KSxkcmFnOnIodC5kcmFnLHQpLGRyYWdlbmQ6cih0LmRyYWdlbmQsdCl9KTt0Ll9kcmFnZ2FibGUudXNlckV2ZW50cy5iaW5kKCJwcmVzcyIscih0LmFkZE92ZXJsYXksdCkpO3QuX2RyYWdnYWJsZS51c2VyRXZlbnRzLmJpbmQoInJlbGVhc2UiLHIodC5yZW1vdmVPdmVybGF5LHQpKX1mdW5jdGlvbiBwdChuLHQpe3ZhciBpPXRoaXM7aS5vd25lcj1uO2kuX3ByZXZlbnREcmFnZ2luZz0hMTtpLl9kcmFnZ2FibGU9bmV3IHd0KG4ud3JhcHBlcix7ZmlsdGVyOnQsZ3JvdXA6bi53cmFwcGVyLmlkKyItbW92aW5nIixkcmFnc3RhcnQ6cihpLmRyYWdzdGFydCxpKSxkcmFnOnIoaS5kcmFnLGkpLGRyYWdlbmQ6cihpLmRyYWdlbmQsaSksZHJhZ2NhbmNlbDpyKGkuZHJhZ2NhbmNlbCxpKX0pO2kuX2RyYWdnYWJsZS51c2VyRXZlbnRzLnN0b3BQcm9wYWdhdGlvbj0hMX12YXIgaT13aW5kb3cua2VuZG8sdXQ9aS51aS5XaWRnZXQsd2k9aS51aS5Qb3B1cC5UYWJLZXlUcmFwLHd0PWkudWkuRHJhZ2dhYmxlLGJ0PW4uaXNQbGFpbk9iamVjdCxiaT1pLl9hY3RpdmVFbGVtZW50LG50PWkuX291dGVyV2lkdGgsc3Q9aS5fb3V0ZXJIZWlnaHQscj1uLnByb3h5LHM9bi5leHRlbmQsa2k9bi5lYWNoLGE9aS50ZW1wbGF0ZSxmdD0iYm9keSIsZj0iLmtlbmRvV2luZG93IixodD0iLmtlbmRvV2luZG93TW9kYWwiLHc9Ii5rLXdpbmRvdyIsY3Q9Ii5rLXdpbmRvdy10aXRsZSIsbz1jdCsiYmFyIixoPSIuay13aW5kb3ctY29udGVudCIsZGk9Ii5rLWRpYWxvZy1jb250ZW50Iix2PSIuay1yZXNpemUtaGFuZGxlIixiPSIuay1vdmVybGF5IixrPSJrLWNvbnRlbnQtZnJhbWUiLGt0PSJrLWktbG9hZGluZyIsZHQ9Imstc3RhdGUtaG92ZXIiLGd0PSJrLXN0YXRlLWZvY3VzZWQiLG5pPSJrLXdpbmRvdy1tYXhpbWl6ZWQiLGQ9Ijp2aXNpYmxlIix5PSJoaWRkZW4iLGc9ImN1cnNvciIsbHQ9Im9wZW4iLGF0PSJhY3RpdmF0ZSIsdGk9ImRlYWN0aXZhdGUiLGlpPSJjbG9zZSIsZXQ9InJlZnJlc2giLHJpPSJyZXNpemVTdGFydCIsdWk9InJlc2l6ZUVuZCIsZmk9ImRyYWdzdGFydCIsZWk9ImRyYWdlbmQiLG9pPSJlcnJvciIsbD0ib3ZlcmZsb3ciLG90PSJvcmlnaW5hbC1vdmVyZmxvdy1ydWxlIix0dD0iekluZGV4IixzaT0iLmstd2luZG93LWFjdGlvbnMgLmstaS13aW5kb3ctbWluaW1pemUsLmstd2luZG93LWFjdGlvbnMgLmstaS13aW5kb3ctbWF4aW1pemUiLGhpPSIuay1pLXBpbiIsY2k9Ii5rLWktdW5waW4iLGxpPWhpKyIsIitjaSxwPSIuay13aW5kb3ctdGl0bGViYXIgLmstd2luZG93LWFjdGlvbiIsYWk9Ii5rLXdpbmRvdy10aXRsZWJhciAuay1pLXJlZnJlc2giLHZpPSJXaW5kb3dFdmVudHNIYW5kbGVkIix5aT0vXjBbYS16XSokL2ksZ2k9aS5pc0xvY2FsVXJsLHZ0PXtzbWFsbDoiay13aW5kb3ctc20iLG1lZGl1bToiay13aW5kb3ctbWQiLGxhcmdlOiJrLXdpbmRvdy1sZyJ9LG5yPXV0LmV4dGVuZCh7aW5pdDpmdW5jdGlvbih1LGUpe3ZhciBjLHR0LHJ0LGwsYSx2LGZ0LGIsZyxzPXRoaXMsbnQ9e30sZXQ9ITEsb3Q9ZSYmZS5hY3Rpb25zJiYhZS5hY3Rpb25zLmxlbmd0aDt1dC5mbi5pbml0LmNhbGwocyx1LGUpO2U9cy5vcHRpb25zO2w9ZS5wb3NpdGlvbjt1PXMuZWxlbWVudDthPWUuY29udGVudDtiPW4od2luZG93KTtvdCYmKGUuYWN0aW9ucz1bXSk7cy5hcHBlbmRUbz1uKGUuYXBwZW5kVG8pO3MuY29udGFpbm1lbnQ9ZS5kcmFnZ2FibGUuY29udGFpbm1lbnQ/bihlLmRyYWdnYWJsZS5jb250YWlubWVudCkuZmlyc3QoKTpudWxsO2EmJiFidChhKSYmKGE9ZS5jb250ZW50PXt1cmw6YX0pO3UuZmluZCgic2NyaXB0IikuZmlsdGVyKHBpKS5yZW1vdmUoKTt1LnBhcmVudCgpLmlzKHMuYXBwZW5kVG8pfHxzLmNvbnRhaW5tZW50fHxsLnRvcCE9PXQmJmwubGVmdCE9PXR8fCh1LmlzKGQpPyhudD11Lm9mZnNldCgpLGV0PSEwKToodHQ9dS5jc3MoInZpc2liaWxpdHkiKSxydD11LmNzcygiZGlzcGxheSIpLHUuY3NzKHt2aXNpYmlsaXR5OnksZGlzcGxheToiIn0pLG50PXUub2Zmc2V0KCksdS5jc3Moe3Zpc2liaWxpdHk6dHQsZGlzcGxheTpydH0pKSxsLnRvcD09PXQmJihsLnRvcD1udC50b3ApLGwubGVmdD09PXQmJihsLmxlZnQ9bnQubGVmdCkpO2l0KGUudmlzaWJsZSkmJm51bGwhPT1lLnZpc2libGV8fChlLnZpc2libGU9dS5pcyhkKSk7Yz1zLndyYXBwZXI9dS5jbG9zZXN0KHcpO3UuaXMoIi5rLWNvbnRlbnQiKSYmY1swXXx8KHUuYWRkQ2xhc3MoImstd2luZG93LWNvbnRlbnQgay1jb250ZW50Iikscy5fY3JlYXRlV2luZG93KHUsZSksYz1zLndyYXBwZXI9dS5jbG9zZXN0KHcpLHMudGl0bGUocy5vcHRpb25zLnRpdGxlKSxzLl9kaW1lbnNpb25zKCkpO3MubWluVG9wPXMubWluTGVmdD0tKDEvMCk7cy5tYXhUb3A9cy5tYXhMZWZ0PTEvMDtzLl9wb3NpdGlvbigpO2EmJnMucmVmcmVzaChhKTtlLnZpc2libGUmJnMudG9Gcm9udCgpO3Y9Yy5jaGlsZHJlbihoKTtzLl90YWJpbmRleCh2KTtlLnZpc2libGUmJmUubW9kYWwmJnMuX292ZXJsYXkoYy5pcyhkKSkuY3NzKHtvcGFjaXR5Oi41fSk7Yy5vbigibW91c2VlbnRlciIrZixwLHIocy5fYnV0dG9uRW50ZXIscykpLm9uKCJtb3VzZWxlYXZlIitmLHAscihzLl9idXR0b25MZWF2ZSxzKSkub24oImNsaWNrIitmLCI+ICIrcCxyKHMuX3dpbmRvd0FjdGlvbkhhbmRsZXIscykpLm9uKCJrZXlkb3duIitmLHIocy5fa2V5ZG93bixzKSkub24oImZvY3VzIitmLHIocy5fZm9jdXMscykpLm9uKCJibHVyIitmLHIocy5fYmx1cixzKSk7di5vbigia2V5ZG93biIrZixyKHMuX2tleWRvd24scykpLm9uKCJmb2N1cyIrZixyKHMuX2ZvY3VzLHMpKS5vbigiYmx1ciIrZixyKHMuX2JsdXIscykpO2Z0PXYuZmluZCgiLiIraylbMF07ZnQmJiFiLmRhdGEodmkpJiYoYi5vbigiYmx1ciIrZixmdW5jdGlvbigpe3ZhciB0LHI9bihkb2N1bWVudC5hY3RpdmVFbGVtZW50KS5wYXJlbnQoaCk7ci5sZW5ndGgmJih0PWkud2lkZ2V0SW5zdGFuY2UociksdC5fZm9jdXMoKSl9KSxiLm9uKCJmb2N1cyIrZixmdW5jdGlvbigpe24oaCkubm90KGRpKS5lYWNoKGZ1bmN0aW9uKHQscil7aS53aWRnZXRJbnN0YW5jZShuKHIpKS5fYmx1cigpfSl9KSxiLmRhdGEodmksITApKTt0aGlzLl9yZXNpemFibGUoKTt0aGlzLl9kcmFnZ2FibGUoKTtlLnBpbm5lZCYmdGhpcy53cmFwcGVyLmlzKCI6dmlzaWJsZSIpJiZzLnBpbigpO2c9dS5hdHRyKCJpZCIpO2cmJihnKz0iX3duZF90aXRsZSIsYy5jaGlsZHJlbihvKS5jaGlsZHJlbihjdCkuYXR0cigiaWQiLGcpLHYuYXR0cih7cm9sZToiZGlhbG9nIiwiYXJpYS1sYWJlbGxlZGJ5IjpnfSkpO2MuYWRkKGMuY2hpbGRyZW4oIi5rLXJlc2l6ZS1oYW5kbGUsIitvKSkub24oIm1vdXNlZG93biIrZixyKHMudG9Gcm9udCxzKSk7cy50b3VjaFNjcm9sbGVyPWkudG91Y2hTY3JvbGxlcih1KTtzLl9yZXNpemVIYW5kbGVyPXIocy5fb25Eb2N1bWVudFJlc2l6ZSxzKTtzLl9tYXJrZXI9aS5ndWlkKCkuc3Vic3RyaW5nKDAsOCk7bih3aW5kb3cpLm9uKCJyZXNpemUiK2Yrcy5fbWFya2VyLHMuX3Jlc2l6ZUhhbmRsZXIpO2UudmlzaWJsZSYmKHMudHJpZ2dlcihsdCkscy50cmlnZ2VyKGF0KSk7aS5ub3RpZnkocyk7dGhpcy5vcHRpb25zLm1vZGFsJiYodGhpcy5fdGFiS2V5VHJhcD1uZXcgd2koYyksdGhpcy5fdGFiS2V5VHJhcC50cmFwKCksdGhpcy5fdGFiS2V5VHJhcC5zaG91bGRUcmFwPWZ1bmN0aW9uKCl7cmV0dXJuIHYuZGF0YSgiaXNGcm9udCIpfSl9LF9idXR0b25FbnRlcjpmdW5jdGlvbih0KXtuKHQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoZHQpfSxfYnV0dG9uTGVhdmU6ZnVuY3Rpb24odCl7bih0LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKGR0KX0sX2ZvY3VzOmZ1bmN0aW9uKCl7dGhpcy53cmFwcGVyLmFkZENsYXNzKGd0KX0sX2JsdXI6ZnVuY3Rpb24oKXt0aGlzLndyYXBwZXIucmVtb3ZlQ2xhc3MoZ3QpfSxfZGltZW5zaW9uczpmdW5jdGlvbigpe3ZhciBpLHIsdD10aGlzLndyYXBwZXIsbj10aGlzLm9wdGlvbnMsYz1uLndpZHRoLGw9bi5oZWlnaHQsZj1uLm1heEhlaWdodCxvPW4uc2l6ZSxzPVsibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJtYXhXaWR0aCIsIm1heEhlaWdodCJdLGg9ImNvbnRlbnQtYm94Ij09dC5jc3MoImJveC1zaXppbmciKSxhPWg/dSh0LCJib3JkZXItbGVmdC13aWR0aCIpK3UodCwiYm9yZGVyLXJpZ2h0LXdpZHRoIik6MCx2PWg/dSh0LCJib3JkZXItdG9wLXdpZHRoIikrdSh0LCJib3JkZXItYm90dG9tLXdpZHRoIik6MCx5PWg/dSh0LCJwYWRkaW5nLXRvcCIpOjA7Zm9yKHRoaXMuY29udGFpbm1lbnQmJiF0aGlzLl9pc1Bpbm5lZCYmKHRoaXMuX3VwZGF0ZUJvdW5kYXJpZXMoKSxuLm1heEhlaWdodD1NYXRoLm1pbih0aGlzLmNvbnRhaW5tZW50LmhlaWdodC0odit5KSxmKSxuLm1heFdpZHRoPU1hdGgubWluKHRoaXMuY29udGFpbm1lbnQud2lkdGgtYSxuLm1heFdpZHRoKSksaT0wO2k8cy5sZW5ndGg7aSsrKXI9bltzW2ldXXx8IiIsciE9MS8wJiZ0LmNzcyhzW2ldLHIpO2YhPTEvMCYmdGhpcy5lbGVtZW50LmNzcygibWF4SGVpZ2h0IixmKTt0LndpZHRoKGM/ZShjLG4ubWluV2lkdGgsbi5tYXhXaWR0aCk6IiIpO3QuaGVpZ2h0KGw/ZShsLG4ubWluSGVpZ2h0LG4ubWF4SGVpZ2h0KToiIik7bi52aXNpYmxlfHx0LmhpZGUoKTtvJiZ2dFtvXSYmdC5hZGRDbGFzcyh2dFtvXSl9LF9wb3NpdGlvbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMud3JhcHBlcixuPXRoaXMub3B0aW9ucy5wb3NpdGlvbjt0aGlzLl91cGRhdGVCb3VuZGFyaWVzKCk7dGhpcy5jb250YWlubWVudCYmKG4udG9wPU1hdGgubWluKHRoaXMubWluVG9wKyhuLnRvcHx8MCksdGhpcy5tYXhUb3ApLG4ubGVmdD1NYXRoLm1pbih0aGlzLm1pbkxlZnQrKG4ubGVmdHx8MCksdGhpcy5tYXhMZWZ0KSk7MD09PW4udG9wJiYobi50b3A9IiIrbi50b3ApOzA9PT1uLmxlZnQmJihuLmxlZnQ9IiIrbi5sZWZ0KTt0LmNzcyh7dG9wOm4udG9wfHwiIixsZWZ0Om4ubGVmdHx8IiJ9KX0sX3VwZGF0ZUJvdW5kYXJpZXM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmNvbnRhaW5tZW50O3JldHVybiBuPyhuLndpZHRoPW4uaW5uZXJXaWR0aCgpLG4uaGVpZ2h0PW4uaW5uZXJIZWlnaHQoKSxwYXJzZUludChuLndpZHRoLDEwKT5uWzBdLmNsaWVudFdpZHRoJiYobi53aWR0aC09aS5zdXBwb3J0LnNjcm9sbGJhcigpKSxwYXJzZUludChuLmhlaWdodCwxMCk+blswXS5jbGllbnRIZWlnaHQmJihuLmhlaWdodC09aS5zdXBwb3J0LnNjcm9sbGJhcigpKSxuLnBvc2l0aW9uPXJ0KG5bMF0pLHRoaXMuX2lzUGlubmVkPyh0aGlzLm1pblRvcD10aGlzLm1pbkxlZnQ9LSgxLzApLHRoaXMubWF4VG9wPXRoaXMubWF4TGVmdD0xLzApOih0aGlzLm1pblRvcD1uLnNjcm9sbFRvcCgpLHRoaXMubWluTGVmdD1uLnNjcm9sbExlZnQoKSx0aGlzLm1heExlZnQ9dGhpcy5taW5MZWZ0K24ud2lkdGgtbnQodGhpcy53cmFwcGVyLCEwKSx0aGlzLm1heFRvcD10aGlzLm1pblRvcCtuLmhlaWdodC1zdCh0aGlzLndyYXBwZXIsITApKSx0KTpudWxsfSxfYW5pbWF0aW9uT3B0aW9uczpmdW5jdGlvbihuKXt2YXIgdD10aGlzLm9wdGlvbnMuYW5pbWF0aW9uO3JldHVybiB0JiZ0W25dfHx7b3Blbjp7ZWZmZWN0czp7fX0sY2xvc2U6e2hpZGU6ITAsZWZmZWN0czp7fX19W25dfSxfcmVzaXplOmZ1bmN0aW9uKCl7aS5yZXNpemUodGhpcy5lbGVtZW50LmNoaWxkcmVuKCkpfSxfcmVzaXphYmxlOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5vcHRpb25zLnJlc2l6YWJsZSx0PXRoaXMud3JhcHBlcjt0aGlzLnJlc2l6aW5nJiYodC5vZmYoImRibGNsaWNrIitmKS5jaGlsZHJlbih2KS5yZW1vdmUoKSx0aGlzLnJlc2l6aW5nLmRlc3Ryb3koKSx0aGlzLnJlc2l6aW5nPW51bGwpO2kmJih0Lm9uKCJkYmxjbGljayIrZixvLHIoZnVuY3Rpb24odCl7bih0LnRhcmdldCkuY2xvc2VzdCgiLmstd2luZG93LWFjdGlvbiIpLmxlbmd0aHx8dGhpcy50b2dnbGVNYXhpbWl6YXRpb24oKX0sdGhpcykpLGtpKCJuIGUgcyB3IHNlIHN3IG5lIG53Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKG4saSl7dC5hcHBlbmQoYy5yZXNpemVIYW5kbGUoaSkpfSksdGhpcy5yZXNpemluZz1uZXcgeXQodGhpcykpO3Q9bnVsbH0sX2RyYWdnYWJsZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3B0aW9ucy5kcmFnZ2FibGU7dGhpcy5kcmFnZ2luZyYmKHRoaXMuZHJhZ2dpbmcuZGVzdHJveSgpLHRoaXMuZHJhZ2dpbmc9bnVsbCk7biYmKHRoaXMuZHJhZ2dpbmc9bmV3IHB0KHRoaXMsbi5kcmFnSGFuZGxlfHxvKSl9LF9hY3Rpb25zOmZ1bmN0aW9uKCl7dmFyIHI9dGhpcy5vcHRpb25zLHQ9ci5hY3Rpb25zLHU9ci5waW5uZWQsZj10aGlzLndyYXBwZXIuY2hpbGRyZW4obyksZT1mLmZpbmQoIi5rLXdpbmRvdy1hY3Rpb25zIikscz1bIm1heGltaXplIiwibWluaW1pemUiXTt0PW4ubWFwKHQsZnVuY3Rpb24obil7cmV0dXJuIG49dSYmInBpbiI9PT1uLnRvTG93ZXJDYXNlKCk/InVucGluIjpuLHtuYW1lOnMuaW5kZXhPZihuLnRvTG93ZXJDYXNlKCkpPi0xPyJ3aW5kb3ctIituOm59fSk7ZS5odG1sKGkucmVuZGVyKGMuYWN0aW9uLHQpKX0sc2V0T3B0aW9uczpmdW5jdGlvbihuKXt2YXIgcix1LGk9dGhpcyxmPWkub3B0aW9ucy5zaXplLGU9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuKSk7cyhuLnBvc2l0aW9uLGkub3B0aW9ucy5wb3NpdGlvbik7cyhuLnBvc2l0aW9uLGUucG9zaXRpb24pO3V0LmZuLnNldE9wdGlvbnMuY2FsbChpLG4pO3I9aS5vcHRpb25zLnNjcm9sbGFibGUhPT0hMTtpLnJlc3RvcmUoKTt0IT09bi50aXRsZSYmaS50aXRsZShuLnRpdGxlKTtpLndyYXBwZXIucmVtb3ZlQ2xhc3ModnRbZl0pO2kuX2RpbWVuc2lvbnMoKTtpLl9wb3NpdGlvbigpO2kuX3Jlc2l6YWJsZSgpO2kuX2RyYWdnYWJsZSgpO2kuX2FjdGlvbnMoKTt0IT09bi5tb2RhbCYmKHU9aS5vcHRpb25zLnZpc2libGUhPT0hMSxpLl9lbmFibGVEb2N1bWVudFNjcm9sbGluZygpLGkuX292ZXJsYXkobi5tb2RhbCYmdSkpO2kuZWxlbWVudC5jc3MobCxyPyIiOiJoaWRkZW4iKX0sZXZlbnRzOltsdCxhdCx0aSxpaSwibWluaW1pemUiLCJtYXhpbWl6ZSIsZXQscmksInJlc2l6ZSIsdWksZmksZWksb2ldLG9wdGlvbnM6e25hbWU6IldpbmRvdyIsYW5pbWF0aW9uOntvcGVuOntlZmZlY3RzOnt6b29tOntkaXJlY3Rpb246ImluIn0sZmFkZTp7ZGlyZWN0aW9uOiJpbiJ9fSxkdXJhdGlvbjozNTB9LGNsb3NlOntlZmZlY3RzOnt6b29tOntkaXJlY3Rpb246Im91dCIscHJvcGVydGllczp7c2NhbGU6Ljd9fSxmYWRlOntkaXJlY3Rpb246Im91dCJ9fSxkdXJhdGlvbjozNTAsaGlkZTohMH19LHRpdGxlOiIiLGFjdGlvbnM6WyJDbG9zZSJdLGF1dG9Gb2N1czohMCxtb2RhbDohMSxzaXplOiJhdXRvIixyZXNpemFibGU6ITAsZHJhZ2dhYmxlOiEwLG1pbldpZHRoOjkwLG1pbkhlaWdodDo1MCxtYXhXaWR0aDoxLzAsbWF4SGVpZ2h0OjEvMCxwaW5uZWQ6ITEsc2Nyb2xsYWJsZTohMCxwb3NpdGlvbjp7fSxjb250ZW50Om51bGwsdmlzaWJsZTpudWxsLGhlaWdodDpudWxsLHdpZHRoOm51bGwsYXBwZW5kVG86ImJvZHkiLGlzTWF4aW1pemVkOiExLGlzTWluaW1pemVkOiExfSxfY2xvc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5pbkFycmF5KCJjbG9zZSIsbi5tYXAodGhpcy5vcHRpb25zLmFjdGlvbnMsZnVuY3Rpb24obil7cmV0dXJuIG4udG9Mb3dlckNhc2UoKX0pKT4tMX0sX2tleWRvd246ZnVuY3Rpb24obil7dmFyIGYsaCxwLHcsdix5LHQ9dGhpcyxsPXQub3B0aW9ucyxzPWkua2V5cyxvPW4ua2V5Q29kZSxyPXQud3JhcHBlcixjPTEwLGE9bC5pc01heGltaXplZCxiPWwuaXNNaW5pbWl6ZWQ7bz09cy5FU0MmJnQuX2Nsb3NhYmxlKCkmJihuLnN0b3BQcm9wYWdhdGlvbigpLHQuX2Nsb3NlKCExKSk7bi50YXJnZXQhPW4uY3VycmVudFRhcmdldHx8dC5fY2xvc2luZ3x8KG4uYWx0S2V5JiY4Mj09byYmdC5yZWZyZXNoKCksbi5hbHRLZXkmJjgwPT1vJiYodC5vcHRpb25zLnBpbm5lZD90LnVucGluKCk6dC5waW4oKSksbi5hbHRLZXkmJm89PXMuVVA/Yj8odC5yZXN0b3JlKCksdC5lbGVtZW50LmZvY3VzKCkpOmF8fCh0Lm1heGltaXplKCksdC5lbGVtZW50LmZvY3VzKCkpOm4uYWx0S2V5JiZvPT1zLkRPV04mJihifHxhP2EmJih0LnJlc3RvcmUoKSx0LmVsZW1lbnQuZm9jdXMoKSk6KHQubWluaW1pemUoKSx0LndyYXBwZXIuZm9jdXMoKSkpLGY9aS5nZXRPZmZzZXQociksdC5jb250YWlubWVudCYmIXQuX2lzUGlubmVkJiYoZj10Lm9wdGlvbnMucG9zaXRpb24pLCFsLmRyYWdnYWJsZXx8bi5jdHJsS2V5fHxuLmFsdEtleXx8YXx8KHQuX3VwZGF0ZUJvdW5kYXJpZXMoKSxvPT1zLlVQPyhmLnRvcD1lKGYudG9wLWMsdC5taW5Ub3AsdC5tYXhUb3ApLGg9ci5jc3MoInRvcCIsZi50b3ApKTpvPT1zLkRPV04/KGYudG9wPWUoZi50b3ArYyx0Lm1pblRvcCx0Lm1heFRvcCksaD1yLmNzcygidG9wIixmLnRvcCkpOm89PXMuTEVGVD8oZi5sZWZ0PWUoZi5sZWZ0LWMsdC5taW5MZWZ0LHQubWF4TGVmdCksaD1yLmNzcygibGVmdCIsZi5sZWZ0KSk6bz09cy5SSUdIVCYmKGYubGVmdD1lKGYubGVmdCtjLHQubWluTGVmdCx0Lm1heExlZnQpLGg9ci5jc3MoImxlZnQiLGYubGVmdCkpKSxsLnJlc2l6YWJsZSYmbi5jdHJsS2V5JiYhYSYmIWImJihvPT1zLlVQPyhoPSEwLHc9ci5oZWlnaHQoKS1jKTpvPT1zLkRPV04mJihoPSEwLHc9dC5jb250YWlubWVudCYmIXQuX2lzUGlubmVkP01hdGgubWluKHIuaGVpZ2h0KCkrYyx0LmNvbnRhaW5tZW50LmhlaWdodC1mLnRvcC11KHIsInBhZGRpbmctdG9wIiktdShyLCJib3JkZXJCb3R0b21XaWR0aCIpLXUociwiYm9yZGVyVG9wV2lkdGgiKSk6ci5oZWlnaHQoKStjKSxvPT1zLkxFRlQ/KGg9ITAscD1yLndpZHRoKCktYyk6bz09cy5SSUdIVCYmKGg9ITAscD10LmNvbnRhaW5tZW50JiYhdC5faXNQaW5uZWQ/TWF0aC5taW4oci53aWR0aCgpK2MsdC5jb250YWlubWVudC53aWR0aC1mLmxlZnQtdShyLCJib3JkZXJMZWZ0V2lkdGgiKS11KHIsImJvcmRlclJpZ2h0V2lkdGgiKSk6ci53aWR0aCgpK2MpLGgmJih2PWUocCxsLm1pbldpZHRoLGwubWF4V2lkdGgpLHk9ZSh3LGwubWluSGVpZ2h0LGwubWF4SGVpZ2h0KSxpc05hTih2KXx8KHIud2lkdGgodiksdC5vcHRpb25zLndpZHRoPXYrInB4IiksaXNOYU4oeSl8fChyLmhlaWdodCh5KSx0Lm9wdGlvbnMuaGVpZ2h0PXkrInB4IiksdC5yZXNpemUoKSkpLGgmJm4ucHJldmVudERlZmF1bHQoKSl9LF9vdmVybGF5OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuY29udGFpbm1lbnQ/dGhpcy5jb250YWlubWVudC5jaGlsZHJlbihiKTp0aGlzLmFwcGVuZFRvLmNoaWxkcmVuKGIpLHI9dGhpcy53cmFwcGVyO3JldHVybiBpLmxlbmd0aHx8KGk9bigiPGRpdiBjbGFzcz0nay1vdmVybGF5JyAvPiIpKSxpLmluc2VydEJlZm9yZShyWzBdKS50b2dnbGUodCkuY3NzKHR0LHBhcnNlSW50KHIuY3NzKHR0KSwxMCktMSksdGhpcy5vcHRpb25zLm1vZGFsLnByZXZlbnRTY3JvbGwmJiF0aGlzLmNvbnRhaW5tZW50JiZ0aGlzLl9zdG9wRG9jdW1lbnRTY3JvbGxpbmcoKSxpfSxfYWN0aW9uRm9ySWNvbjpmdW5jdGlvbihuKXt2YXIgdD0vXGJrLWkoLVx3KykrXGIvLmV4ZWMoblswXS5jbGFzc05hbWUpWzBdO3JldHVybnsiay1pLWNsb3NlIjoiX2Nsb3NlIiwiay1pLXdpbmRvdy1tYXhpbWl6ZSI6Im1heGltaXplIiwiay1pLXdpbmRvdy1taW5pbWl6ZSI6Im1pbmltaXplIiwiay1pLXdpbmRvdy1yZXN0b3JlIjoicmVzdG9yZSIsImstaS1yZWZyZXNoIjoicmVmcmVzaCIsImstaS1waW4iOiJwaW4iLCJrLWktdW5waW4iOiJ1bnBpbiJ9W3RdfSxfd2luZG93QWN0aW9uSGFuZGxlcjpmdW5jdGlvbihpKXt2YXIgdSxyO2lmKCF0aGlzLl9jbG9zaW5nKXJldHVybiB1PW4oaS50YXJnZXQpLmNsb3Nlc3QoIi5rLXdpbmRvdy1hY3Rpb24iKS5maW5kKCIuay1pY29uIikscj10aGlzLl9hY3Rpb25Gb3JJY29uKHUpLHI/KGkucHJldmVudERlZmF1bHQoKSx0aGlzW3JdKCksITEpOnR9LF9tb2RhbHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9bih3KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgcj1uKHRoaXMpLHU9dC5fb2JqZWN0KHIpLGk9dSYmdS5vcHRpb25zO3JldHVybiBpJiZpLm1vZGFsJiZpLnZpc2libGUmJmkuYXBwZW5kVG89PT10Lm9wdGlvbnMuYXBwZW5kVG8mJnIuaXMoZCl9KS5zb3J0KGZ1bmN0aW9uKHQsaSl7cmV0dXJuK24odCkuY3NzKCJ6SW5kZXgiKS0rbihpKS5jc3MoInpJbmRleCIpfSk7cmV0dXJuIHQ9bnVsbCxpfSxfb2JqZWN0OmZ1bmN0aW9uKG4pe3ZhciB1PW4uY2hpbGRyZW4oaCkscj1pLndpZGdldEluc3RhbmNlKHUpO3JldHVybiByP3I6dH0sY2VudGVyOmZ1bmN0aW9uKCl7dmFyIGkscix0PXRoaXMsbz10Lm9wdGlvbnMucG9zaXRpb24sZj10LndyYXBwZXIsZT1uKHdpbmRvdykscz0wLGg9MDtyZXR1cm4gdC5vcHRpb25zLmlzTWF4aW1pemVkP3Q6KHQub3B0aW9ucy5waW5uZWQmJiF0Ll9pc1Bpbm5lZCYmdC5waW4oKSx0Lm9wdGlvbnMucGlubmVkfHwocz1lLnNjcm9sbFRvcCgpLGg9ZS5zY3JvbGxMZWZ0KCkpLHRoaXMuY29udGFpbm1lbnQmJiF0Lm9wdGlvbnMucGlubmVkPyhpPXRoaXMubWluVG9wKyh0aGlzLm1heFRvcC10aGlzLm1pblRvcCkvMixyPXRoaXMubWluTGVmdCsodGhpcy5tYXhMZWZ0LXRoaXMubWluTGVmdCkvMik6KHQuX3Njcm9sbElzQXBwZW5kZWQ9ITAscj1oK01hdGgubWF4KDAsKGUud2lkdGgoKS1mLndpZHRoKCkpLzIpLGk9cytNYXRoLm1heCgwLChlLmhlaWdodCgpLWYuaGVpZ2h0KCktdShmLCJwYWRkaW5nVG9wIikpLzIpKSxmLmNzcyh7bGVmdDpyLHRvcDppfSksby50b3A9aSxvLmxlZnQ9cix0KX0sdGl0bGU6ZnVuY3Rpb24ocil7dmFyIGYscyxsLGEsaD10aGlzLHY9ITAsdT1oLndyYXBwZXIsZT11LmNoaWxkcmVuKG8pLHA9ZS5jaGlsZHJlbihjdCk7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG4uaXNQbGFpbk9iamVjdChyKT8oZj10IT09ci50ZXh0P3IudGV4dDoiIix2PXIuZW5jb2RlZCE9PSExKTpmPXIsZj09PSExPyh1LmFkZENsYXNzKCJrLXdpbmRvdy10aXRsZWxlc3MiKSx1LmNzcygicGFkZGluZy10b3AiLDApLGUucmVtb3ZlKCkpOihlLmxlbmd0aD9wLmh0bWwodj9pLmh0bWxFbmNvZGUoZik6Zik6KHUucHJlcGVuZChjLnRpdGxlYmFyKHt0aXRsZTp2P2kuaHRtbEVuY29kZShmKTpmfSkpLGguX2FjdGlvbnMoKSxlPXUuY2hpbGRyZW4obykpLGE9dS5jc3MoInZpc2liaWxpdHkiKSxsPXUuY3NzKCJkaXNwbGF5IiksYT09PXk/KHUuY3NzKHtkaXNwbGF5OiIifSkscz1wYXJzZUludChzdChlKSwxMCksdS5jc3Moe2Rpc3BsYXk6bH0pKToodS5jc3Moe3Zpc2liaWxpdHk6eSxkaXNwbGF5OiIifSkscz1wYXJzZUludChzdChlKSwxMCksdS5jc3Moe3Zpc2liaWxpdHk6YSxkaXNwbGF5Omx9KSksdS5jc3MoInBhZGRpbmctdG9wIixzKSxlLmNzcygibWFyZ2luLXRvcCIsLXMpKSxoLm9wdGlvbnMudGl0bGU9ZixoKTpwLmh0bWwoKX0sY29udGVudDpmdW5jdGlvbihuLHQpe3ZhciByPXRoaXMud3JhcHBlci5jaGlsZHJlbihoKSx1PXIuY2hpbGRyZW4oIi5rbS1zY3JvbGwtY29udGFpbmVyIik7cmV0dXJuIHI9dVswXT91OnIsaXQobik/KHRoaXMuYW5ndWxhcigiY2xlYW51cCIsZnVuY3Rpb24oKXtyZXR1cm57ZWxlbWVudHM6ci5jaGlsZHJlbigpfX0pLGkuZGVzdHJveSh0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKSksci5lbXB0eSgpLmh0bWwobiksdGhpcy5hbmd1bGFyKCJjb21waWxlIixmdW5jdGlvbigpe2Zvcih2YXIgaT1bXSxuPXIubGVuZ3RoOy0tbj49MDspaS5wdXNoKHtkYXRhSXRlbTp0fSk7cmV0dXJue2VsZW1lbnRzOnIuY2hpbGRyZW4oKSxkYXRhOml9fSksdGhpcyk6ci5odG1sKCl9LG9wZW46ZnVuY3Rpb24oKXt2YXIgdSxjLGYsdD10aGlzLGU9dC53cmFwcGVyLG89dC5vcHRpb25zLHM9dGhpcy5fYW5pbWF0aW9uT3B0aW9ucygib3BlbiIpLGE9ZS5jaGlsZHJlbihoKSx3PXRoaXMuY29udGFpbm1lbnQmJiF0Ll9pc1Bpbm5lZCx2PXc/dGhpcy5jb250YWlubWVudDpuKGRvY3VtZW50KTtyZXR1cm4gdC50cmlnZ2VyKGx0KXx8KHQuX2Nsb3NpbmcmJmUua2VuZG9TdG9wKCEwLCEwKSx0Ll9jbG9zaW5nPSExLHQudG9Gcm9udCgpLG8uYXV0b0ZvY3VzJiZ0LmVsZW1lbnQuZm9jdXMoKSxvLnZpc2libGU9ITAsby5tb2RhbCYmKGM9ISF0Ll9tb2RhbHMoKS5sZW5ndGgsdT10Ll9vdmVybGF5KGMpLHUua2VuZG9TdG9wKCEwLCEwKSxzLmR1cmF0aW9uJiZpLmVmZmVjdHMuRmFkZSYmIWM/KGY9aS5meCh1KS5mYWRlSW4oKSxmLmR1cmF0aW9uKHMuZHVyYXRpb258fDApLGYuZW5kVmFsdWUoLjUpLGYucGxheSgpKTp1LmNzcygib3BhY2l0eSIsLjUpLHUuc2hvdygpLG4od2luZG93KS5vbigiZm9jdXMiK2h0LGZ1bmN0aW9uKCl7YS5kYXRhKCJpc0Zyb250IikmJiFuKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLmNsb3Nlc3QoYSkubGVuZ3RoJiZ0LmVsZW1lbnQuZm9jdXMoKX0pKSxlLmlzKGQpfHwoYS5jc3MobCx5KSx0LndyYXBwZXIuZmluZChwKS5hZGRDbGFzcygiay1iYXJlIiksZS5zaG93KCkua2VuZG9TdG9wKCkua2VuZG9BbmltYXRlKHtlZmZlY3RzOnMuZWZmZWN0cyxkdXJhdGlvbjpzLmR1cmF0aW9uLGNvbXBsZXRlOnIodGhpcy5fYWN0aXZhdGUsdGhpcyl9KSkpLG8uaXNNYXhpbWl6ZWQmJih0Ll9jb250YWluZXJTY3JvbGxUb3A9di5zY3JvbGxUb3AoKSx0Ll9jb250YWluZXJTY3JvbGxMZWZ0PXYuc2Nyb2xsTGVmdCgpLHQuX3N0b3BEb2N1bWVudFNjcm9sbGluZygpKSx0aGlzLm9wdGlvbnMucGlubmVkJiYhdGhpcy5faXNQaW5uZWQmJnRoaXMucGluKCksdH0sX2FjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcHRpb25zLnNjcm9sbGFibGUhPT0hMTt0aGlzLm9wdGlvbnMuYXV0b0ZvY3VzJiZ0aGlzLmVsZW1lbnQuZm9jdXMoKTt0aGlzLmVsZW1lbnQuY3NzKGwsbj8iIjoiaGlkZGVuIik7aS5yZXNpemUodGhpcy5lbGVtZW50LmNoaWxkcmVuKCkpO3RoaXMudHJpZ2dlcihhdCl9LF9yZW1vdmVPdmVybGF5OmZ1bmN0aW9uKHIpe3ZhciB1LGU9dGhpcy5fbW9kYWxzKCksZj10aGlzLm9wdGlvbnMscz1mLm1vZGFsJiYhZS5sZW5ndGgsaD1mLm1vZGFsP3RoaXMuX292ZXJsYXkoITApOm4odCksbz10aGlzLl9hbmltYXRpb25PcHRpb25zKCJjbG9zZSIpO3M/KCFyJiZvLmR1cmF0aW9uJiZpLmVmZmVjdHMuRmFkZT8odT1pLmZ4KGgpLmZhZGVPdXQoKSx1LmR1cmF0aW9uKG8uZHVyYXRpb258fDApLHUuc3RhcnRWYWx1ZSguNSksdS5wbGF5KCkpOnRoaXMuX292ZXJsYXkoITEpLnJlbW92ZSgpLGYubW9kYWwucHJldmVudFNjcm9sbCYmdGhpcy5fZW5hYmxlRG9jdW1lbnRTY3JvbGxpbmcoKSk6ZS5sZW5ndGgmJih0aGlzLl9vYmplY3QoZS5sYXN0KCkpLl9vdmVybGF5KCEwKSxmLm1vZGFsLnByZXZlbnRTY3JvbGwmJnRoaXMuX3N0b3BEb2N1bWVudFNjcm9sbGluZygpKX0sX2Nsb3NlOmZ1bmN0aW9uKHQpe3ZhciB1LGk9dGhpcyxmPWkud3JhcHBlcixzPWkub3B0aW9ucyxjPXRoaXMuX2FuaW1hdGlvbk9wdGlvbnMoIm9wZW4iKSxlPXRoaXMuX2FuaW1hdGlvbk9wdGlvbnMoImNsb3NlIiksbD10aGlzLmNvbnRhaW5tZW50JiYhaS5faXNQaW5uZWQsbz1sP3RoaXMuY29udGFpbm1lbnQ6bihkb2N1bWVudCk7aS5fY2xvc2luZ3x8KHU9aS50cmlnZ2VyKGlpLHt1c2VyVHJpZ2dlcmVkOiF0fSksaS5fY2xvc2luZz0hdSxmLmlzKGQpJiYhdSYmKHMudmlzaWJsZT0hMSxuKHcpLmVhY2goZnVuY3Rpb24odCxpKXt2YXIgcj1uKGkpLmNoaWxkcmVuKGgpO2khPWYmJnIuZmluZCgiPiAuIitrKS5sZW5ndGg+MCYmci5jaGlsZHJlbihiKS5yZW1vdmUoKX0pLHRoaXMuX3JlbW92ZU92ZXJsYXkoKSxpLndyYXBwZXIuZmluZChwKS5yZW1vdmVDbGFzcygiay1iYXJlIiksZi5rZW5kb1N0b3AoKS5rZW5kb0FuaW1hdGUoe2VmZmVjdHM6ZS5lZmZlY3RzfHxjLmVmZmVjdHMscmV2ZXJzZTplLnJldmVyc2U9PT0hMCxkdXJhdGlvbjplLmR1cmF0aW9uLGNvbXBsZXRlOnIodGhpcy5fZGVhY3RpdmF0ZSx0aGlzKX0pLG4od2luZG93KS5vZmYoaHQpKSxpLm9wdGlvbnMuaXNNYXhpbWl6ZWQmJihpLl9lbmFibGVEb2N1bWVudFNjcm9sbGluZygpLGkuX2NvbnRhaW5lclNjcm9sbFRvcCYmaS5fY29udGFpbmVyU2Nyb2xsVG9wPjAmJm8uc2Nyb2xsVG9wKGkuX2NvbnRhaW5lclNjcm9sbFRvcCksaS5fY29udGFpbmVyU2Nyb2xsTGVmdCYmaS5fY29udGFpbmVyU2Nyb2xsTGVmdD4wJiZvLnNjcm9sbExlZnQoaS5fY29udGFpbmVyU2Nyb2xsTGVmdCkpKX0sX2RlYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgdCxuPXRoaXM7bi53cmFwcGVyLmhpZGUoKS5jc3MoIm9wYWNpdHkiLCIiKTtuLnRyaWdnZXIodGkpO24ub3B0aW9ucy5tb2RhbCYmKHQ9bi5fb2JqZWN0KG4uX21vZGFscygpLmxhc3QoKSksdCYmdC50b0Zyb250KCkpfSxjbG9zZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jbG9zZSghMCksdGhpc30sX2FjdGlvbmFibGU6ZnVuY3Rpb24odCl7cmV0dXJuIG4odCkuaXMocCsiLCIrcCsiIC5rLWljb24sOmlucHV0LGEiKX0sX3Nob3VsZEZvY3VzOmZ1bmN0aW9uKHQpe3ZhciByPWJpKCksaT10aGlzLmVsZW1lbnQ7cmV0dXJuIHRoaXMub3B0aW9ucy5hdXRvRm9jdXMmJiFuKHIpLmlzKGkpJiYhdGhpcy5fYWN0aW9uYWJsZSh0KSYmKCFpLmZpbmQocikubGVuZ3RofHwhaS5maW5kKHQpLmxlbmd0aCl9LHRvRnJvbnQ6ZnVuY3Rpb24odCl7dmFyIGYsZSxpPXRoaXMscj1pLndyYXBwZXIsbz1yWzBdLGw9aS5jb250YWlubWVudCYmIWkuX2lzUGlubmVkLHU9K3IuY3NzKHR0KSxhPXUscz10JiZ0LnRhcmdldHx8bnVsbDtyZXR1cm4gbih3KS5lYWNoKGZ1bmN0aW9uKHQsaSl7dmFyIGY9bihpKSxlPWYuY3NzKHR0KSxyPWYuY2hpbGRyZW4oaCk7aXNOYU4oZSl8fCh1PU1hdGgubWF4KCtlLHUpKTtyLmRhdGEoImlzRnJvbnQiLGk9PW8pO2khPW8mJnIuZmluZCgiPiAuIitrKS5sZW5ndGg+MCYmci5hcHBlbmQoYy5vdmVybGF5KX0pLCghclswXS5zdHlsZS56SW5kZXh8fGE8dSkmJnIuY3NzKHR0LHUrMiksaS5lbGVtZW50LmZpbmQoIj4gLmstb3ZlcmxheSIpLnJlbW92ZSgpLGkuX3Nob3VsZEZvY3VzKHMpJiYoaS5pc01pbmltaXplZCgpP2kud3JhcHBlci5mb2N1cygpOm4ocykuaXMoYik/c2V0VGltZW91dChmdW5jdGlvbigpe2kuZWxlbWVudC5mb2N1cygpfSk6aS5lbGVtZW50LmZvY3VzKCksZj1sP2kuY29udGFpbm1lbnQuc2Nyb2xsVG9wKCk6bih3aW5kb3cpLnNjcm9sbFRvcCgpLGU9cGFyc2VJbnQoci5wb3NpdGlvbigpLnRvcCwxMCksIWkub3B0aW9ucy5waW5uZWQmJmU+MCYmZTxmJiYoZj4wP24od2luZG93KS5zY3JvbGxUb3AoZSk6ci5jc3MoInRvcCIsZikpKSxyPW51bGwsaX0sdG9nZ2xlTWF4aW1pemF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nsb3Npbmc/dGhpczp0aGlzW3RoaXMub3B0aW9ucy5pc01heGltaXplZD8icmVzdG9yZSI6Im1heGltaXplIl0oKX0scmVzdG9yZTpmdW5jdGlvbigpe3ZhciBmLHQ9dGhpcyxpPXQub3B0aW9ucyx1PWkubWluSGVpZ2h0LHI9dC5yZXN0b3JlT3B0aW9ucyxvPXQuY29udGFpbm1lbnQmJiF0Ll9pc1Bpbm5lZD90LmNvbnRhaW5tZW50Om4oZG9jdW1lbnQpO3JldHVybiBpLmlzTWF4aW1pemVkfHxpLmlzTWluaW1pemVkPyh1JiZ1IT0xLzAmJnQud3JhcHBlci5jc3MoIm1pbi1oZWlnaHQiLHUpLHImJiFpLmlzTWF4aW1pemVkJiYoci5oZWlnaHQ9ZShyLmhlaWdodCx0Lm9wdGlvbnMubWluSGVpZ2h0LHQub3B0aW9ucy5tYXhIZWlnaHQpLGY9aS5wb3NpdGlvbi50b3ArcGFyc2VJbnQoci5oZWlnaHQsMTApPnQubWF4VG9wLGYmJihpLnBvc2l0aW9uLnRvcD1lKGkucG9zaXRpb24udG9wLHQubWluVG9wLHQubWF4VG9wLXBhcnNlSW50KHIuaGVpZ2h0LDEwKSkscyhyLHtsZWZ0OmkucG9zaXRpb24ubGVmdCx0b3A6aS5wb3NpdGlvbi50b3B9KSkpLHQud3JhcHBlci5jc3Moe3Bvc2l0aW9uOmkucGlubmVkPyJmaXhlZCI6ImFic29sdXRlIixsZWZ0OnIubGVmdCx0b3A6ci50b3Asd2lkdGg6ci53aWR0aCxoZWlnaHQ6ci5oZWlnaHR9KS5yZW1vdmVDbGFzcyhuaSkuZmluZCgiLmstd2luZG93LWNvbnRlbnQsLmstcmVzaXplLWhhbmRsZSIpLnNob3coKS5lbmQoKS5maW5kKCIuay13aW5kb3ctdGl0bGViYXIgLmstaS13aW5kb3ctcmVzdG9yZSIpLnBhcmVudCgpLnJlbW92ZSgpLmVuZCgpLmVuZCgpLmZpbmQoc2kpLnBhcmVudCgpLnNob3coKS5lbmQoKS5lbmQoKS5maW5kKGxpKS5wYXJlbnQoKS5zaG93KCksaS5pc01heGltaXplZD90LndyYXBwZXIuZmluZCgiLmstaS13aW5kb3ctbWF4aW1pemUiKS5wYXJlbnQoKS5mb2N1cygpOmkuaXNNaW5pbWl6ZWQmJnQud3JhcHBlci5maW5kKCIuay1pLXdpbmRvdy1taW5pbWl6ZSIpLnBhcmVudCgpLmZvY3VzKCksdC5vcHRpb25zLndpZHRoPXIud2lkdGgsdC5vcHRpb25zLmhlaWdodD1yLmhlaWdodCx0Lm9wdGlvbnMubW9kYWwucHJldmVudFNjcm9sbHx8dC5fZW5hYmxlRG9jdW1lbnRTY3JvbGxpbmcoKSx0Ll9jb250YWluZXJTY3JvbGxUb3AmJnQuX2NvbnRhaW5lclNjcm9sbFRvcD4wJiZvLnNjcm9sbFRvcCh0Ll9jb250YWluZXJTY3JvbGxUb3ApLHQuX2NvbnRhaW5lclNjcm9sbExlZnQmJnQuX2NvbnRhaW5lclNjcm9sbExlZnQ+MCYmby5zY3JvbGxMZWZ0KHQuX2NvbnRhaW5lclNjcm9sbExlZnQpLGkuaXNNYXhpbWl6ZWQ9aS5pc01pbmltaXplZD0hMSx0LndyYXBwZXIucmVtb3ZlQXR0cigidGFiaW5kZXgiKSx0LndyYXBwZXIucmVtb3ZlQXR0cigiYXJpYS1sYWJlbGxlZC1ieSIpLHQucmVzaXplKCksdCk6dH0sX3NpemluZ0FjdGlvbjpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMscj1pLndyYXBwZXIsdT1yWzBdLnN0eWxlLGY9aS5vcHRpb25zO3JldHVybiBmLmlzTWF4aW1pemVkfHxmLmlzTWluaW1pemVkP2k6KGkucmVzdG9yZU9wdGlvbnM9e3dpZHRoOnUud2lkdGgsaGVpZ2h0OnUuaGVpZ2h0fSxyLmNoaWxkcmVuKHYpLmhpZGUoKS5lbmQoKS5jaGlsZHJlbihvKS5maW5kKHNpKS5wYXJlbnQoKS5oaWRlKCkuZXEoMCkuYmVmb3JlKGMuYWN0aW9uKHtuYW1lOiJ3aW5kb3ctcmVzdG9yZSJ9KSksdC5jYWxsKGkpLGkud3JhcHBlci5jaGlsZHJlbihvKS5maW5kKGxpKS5wYXJlbnQoKS50b2dnbGUoIm1heGltaXplIiE9PW4pLGkudHJpZ2dlcihuKSxyLmZpbmQoIi5rLWktd2luZG93LXJlc3RvcmUiKS5wYXJlbnQoKS5mb2N1cygpLGkpfSxtYXhpbWl6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXppbmdBY3Rpb24oIm1heGltaXplIixmdW5jdGlvbigpe3ZhciBpPXRoaXMscj1pLndyYXBwZXIsdD10aGlzLmNvbnRhaW5tZW50JiYhaS5faXNQaW5uZWQsdT1yLnBvc2l0aW9uKCksZj1uKGRvY3VtZW50KTtzKGkucmVzdG9yZU9wdGlvbnMse2xlZnQ6dS5sZWZ0Kyh0P3RoaXMuY29udGFpbm1lbnQuc2Nyb2xsTGVmdCgpOjApLHRvcDp1LnRvcCsodD90aGlzLmNvbnRhaW5tZW50LnNjcm9sbFRvcCgpOjApfSk7dGhpcy5fY29udGFpbmVyU2Nyb2xsVG9wPXQ/dGhpcy5jb250YWlubWVudC5zY3JvbGxUb3AoKTpmLnNjcm9sbFRvcCgpO3RoaXMuX2NvbnRhaW5lclNjcm9sbExlZnQ9dD90aGlzLmNvbnRhaW5tZW50LnNjcm9sbExlZnQoKTpmLnNjcm9sbExlZnQoKTtpLl9zdG9wRG9jdW1lbnRTY3JvbGxpbmcoKTtyLmNzcyh7dG9wOnQ/dGhpcy5jb250YWlubWVudC5zY3JvbGxUb3AoKTowLGxlZnQ6dD90aGlzLmNvbnRhaW5tZW50LnNjcm9sbExlZnQoKTowLHBvc2l0aW9uOnQ/ImFic29sdXRlIjoiZml4ZWQifSkuYWRkQ2xhc3MobmkpO2kub3B0aW9ucy5pc01heGltaXplZD0hMDtpLl9vbkRvY3VtZW50UmVzaXplKCl9KSx0aGlzfSxfc3RvcERvY3VtZW50U2Nyb2xsaW5nOmZ1bmN0aW9uKCl7dmFyIHUsZixpPXRoaXMscj1pLmNvbnRhaW5tZW50O3JldHVybiByJiYhaS5faXNQaW5uZWQ/KGkuX3N0b3JlT3ZlcmZsb3dSdWxlKHIpLHIuY3NzKGwseSksaS53cmFwcGVyLmNzcyh7bWF4V2lkdGg6ci5pbm5lcldpZHRoKCksbWF4SGVpZ2h0OnIuaW5uZXJIZWlnaHQoKX0pLHQpOih1PW4oImJvZHkiKSxpLl9zdG9yZU92ZXJmbG93UnVsZSh1KSx1LmNzcyhsLHkpLGY9bigiaHRtbCIpLGkuX3N0b3JlT3ZlcmZsb3dSdWxlKGYpLGYuY3NzKGwseSksdCl9LF9lbmFibGVEb2N1bWVudFNjcm9sbGluZzpmdW5jdGlvbigpe3ZhciBpPXRoaXMscj1pLmNvbnRhaW5tZW50O3JldHVybiByJiYhaS5faXNQaW5uZWQ/KGkuX3Jlc3RvcmVPdmVyZmxvd1J1bGUociksaS53cmFwcGVyLmNzcyh7bWF4V2lkdGg6ci53aWR0aCxtYXhIZWlnaHQ6ci5oZWlnaHR9KSx0KTooaS5fcmVzdG9yZU92ZXJmbG93UnVsZShuKGRvY3VtZW50LmJvZHkpKSxpLl9yZXN0b3JlT3ZlcmZsb3dSdWxlKG4oImh0bWwiKSksdCl9LF9zdG9yZU92ZXJmbG93UnVsZTpmdW5jdGlvbihuKXtpZighdGhpcy5faXNPdmVyZmxvd1N0b3JlZChuKSl7dmFyIHQ9bi5nZXQoMCkuc3R5bGUub3ZlcmZsb3c7InN0cmluZyI9PXR5cGVvZiB0JiZuLmRhdGEob3QsdCl9fSxfaXNPdmVyZmxvd1N0b3JlZDpmdW5jdGlvbihuKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIG4uZGF0YShvdCl9LF9yZXN0b3JlT3ZlcmZsb3dSdWxlOmZ1bmN0aW9uKG4pe3ZhciBpPW4uZGF0YShvdCk7bnVsbCE9PWkmJmkhPT10PyhuLmNzcyhsLGkpLG4ucmVtb3ZlRGF0YShvdCkpOm4uY3NzKGwsIiIpfSxpc01heGltaXplZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuaXNNYXhpbWl6ZWR9LG1pbmltaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpemluZ0FjdGlvbigibWluaW1pemUiLGZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLndyYXBwZXIuY3NzKHtoZWlnaHQ6IiIsbWluSGVpZ2h0OiIifSk7bi5lbGVtZW50LmhpZGUoKTtuLm9wdGlvbnMuaXNNaW5pbWl6ZWQ9ITB9KSx0aGlzLndyYXBwZXIuYXR0cigidGFiaW5kZXgiLDApLHRoaXMud3JhcHBlci5hdHRyKCJhcmlhLWxhYmVsbGVkLWJ5Iix0aGlzLmVsZW1lbnQuYXR0cigiYXJpYS1sYWJlbGxlZC1ieSIpKSx0aGlzLl91cGRhdGVCb3VuZGFyaWVzKCksdGhpc30saXNNaW5pbWl6ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLmlzTWluaW1pemVkfSxwaW46ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9bih3aW5kb3cpLGk9dC53cmFwcGVyLGY9dC5vcHRpb25zLHI9Zi5wb3NpdGlvbixoPXRoaXMuY29udGFpbm1lbnQ/cnQoaVswXSkudG9wK3UodGhpcy5jb250YWlubWVudCwiYm9yZGVyVG9wV2lkdGgiKTp1KGksInRvcCIpLGM9dGhpcy5jb250YWlubWVudD9ydChpWzBdKS5sZWZ0K3UodGhpcy5jb250YWlubWVudCwiYm9yZGVyTGVmdFdpZHRoIik6dShpLCJsZWZ0Iik7dC5vcHRpb25zLmlzTWF4aW1pemVkfHwoci50b3A9aCxyLmxlZnQ9YywhdC5fc2Nyb2xsSXNBcHBlbmRlZHx8dGhpcy5jb250YWlubWVudCYmImZpeGVkIj09PXRoaXMuY29udGFpbm1lbnQuY3NzKCJwb3NpdGlvbiIpfHwoci50b3AtPWUuc2Nyb2xsVG9wKCksci5sZWZ0LT1lLnNjcm9sbExlZnQoKSx0Ll9zY3JvbGxJc0FwcGVuZGVkPSExKSxpLmNzcyhzKHIse3Bvc2l0aW9uOiJmaXhlZCJ9KSksaS5jaGlsZHJlbihvKS5maW5kKGhpKS5hZGRDbGFzcygiay1pLXVucGluIikucmVtb3ZlQ2xhc3MoImstaS1waW4iKSx0Ll9pc1Bpbm5lZD0hMCx0Lm9wdGlvbnMucGlubmVkPSEwLHRoaXMuY29udGFpbm1lbnQmJihmLm1heFdpZHRoPWYubWF4SGVpZ2h0PTEvMCxpLmNzcyh7bWF4V2lkdGg6IiIsbWF4SGVpZ2h0OiIifSkpKX0sdW5waW46ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGE9bih3aW5kb3cpLHI9dC53cmFwcGVyLGY9dC5vcHRpb25zLGw9dC5vcHRpb25zLnBvc2l0aW9uLGk9dC5jb250YWlubWVudCxoPXBhcnNlSW50KHIuY3NzKCJ0b3AiKSwxMCkrYS5zY3JvbGxUb3AoKSxjPXBhcnNlSW50KHIuY3NzKCJsZWZ0IiksMTApK2Euc2Nyb2xsTGVmdCgpO3Qub3B0aW9ucy5pc01heGltaXplZHx8KHQuX2lzUGlubmVkPSExLHQuX3Njcm9sbElzQXBwZW5kZWQ9ITAsdC5vcHRpb25zLnBpbm5lZD0hMSxpJiYodC5fdXBkYXRlQm91bmRhcmllcygpLGYubWF4V2lkdGg9TWF0aC5taW4oaS53aWR0aCxmLm1heFdpZHRoKSxmLm1heEhlaWdodD1NYXRoLm1pbihpLmhlaWdodC11KHIsInBhZGRpbmctdG9wIiksZi5tYXhIZWlnaHQpLHIuY3NzKHttYXhXaWR0aDpmLm1heFdpZHRoLG1heEhlaWdodDpmLm1heEhlaWdodH0pLGg9aDxpLnBvc2l0aW9uLnRvcD90Lm1pblRvcDpoPmkucG9zaXRpb24udG9wK2kuaGVpZ2h0P3QubWF4VG9wOmgraS5zY3JvbGxUb3AoKS0oaS5wb3NpdGlvbi50b3ArdShpLCJib3JkZXItdG9wLXdpZHRoIikpLGM9YzxpLnBvc2l0aW9uLmxlZnQ/dC5taW5MZWZ0OmM+aS5wb3NpdGlvbi5sZWZ0K2kud2lkdGg/dC5tYXhMZWZ0OmMraS5zY3JvbGxMZWZ0KCktKGkucG9zaXRpb24ubGVmdCt1KGksImJvcmRlci1sZWZ0LXdpZHRoIikpKSxsLnRvcD1lKGgsdC5taW5Ub3AsdC5tYXhUb3ApLGwubGVmdD1lKGMsdC5taW5MZWZ0LHQubWF4TGVmdCksci5jc3MocyhsLHtwb3NpdGlvbjoiIn0pKSxyLmNoaWxkcmVuKG8pLmZpbmQoY2kpLmFkZENsYXNzKCJrLWktcGluIikucmVtb3ZlQ2xhc3MoImstaS11bnBpbiIpKX0sX29uRG9jdW1lbnRSZXNpemU6ZnVuY3Rpb24oKXt2YXIgZixlLG8scyxoLHQ9dGhpcyxyPXQud3JhcHBlcixsPW4od2luZG93KSxhPWkuc3VwcG9ydC56b29tTGV2ZWwoKSxjPSJjb250ZW50LWJveCI9PXIuY3NzKCJib3gtc2l6aW5nIik7dC5vcHRpb25zLmlzTWF4aW1pemVkJiYobz1jP3UociwiYm9yZGVyLWxlZnQtd2lkdGgiKSt1KHIsImJvcmRlci1yaWdodC13aWR0aCIpOjAscz1jP3UociwiYm9yZGVyLXRvcC13aWR0aCIpK3UociwiYm9yZGVyLWJvdHRvbS13aWR0aCIpOjAsaD1jP3UociwicGFkZGluZy10b3AiKTowLHQuY29udGFpbm1lbnQmJiF0Ll9pc1Bpbm5lZD8oZj10LmNvbnRhaW5tZW50LmlubmVyV2lkdGgoKS1vLGU9dC5jb250YWlubWVudC5pbm5lckhlaWdodCgpLShzK2gpKTooZj1sLndpZHRoKCkvYS1vLGU9bC5oZWlnaHQoKS9hLShzK2gpKSxyLmNzcyh7d2lkdGg6ZixoZWlnaHQ6ZX0pLHQub3B0aW9ucy53aWR0aD1mLHQub3B0aW9ucy5oZWlnaHQ9ZSx0LnJlc2l6ZSgpKX0scmVmcmVzaDpmdW5jdGlvbih0KXt2YXIgZSx1LG8saT10aGlzLGg9aS5vcHRpb25zLGw9bihpLmVsZW1lbnQpO3JldHVybiBidCh0KXx8KHQ9e3VybDp0fSksdD1zKHt9LGguY29udGVudCx0KSx1PWl0KGguaWZyYW1lKT9oLmlmcmFtZTp0LmlmcmFtZSxvPXQudXJsLG8/KGl0KHUpfHwodT0hZ2kobykpLHU/KGU9bC5maW5kKCIuIitrKVswXSxlP2Uuc3JjPW98fGUuc3JjOmwuaHRtbChjLmNvbnRlbnRGcmFtZShzKHt9LGgse2NvbnRlbnQ6dH0pKSksbC5maW5kKCIuIitrKS51bmJpbmQoImxvYWQiK2YpLm9uKCJsb2FkIitmLHIodGhpcy5fdHJpZ2dlclJlZnJlc2gsdGhpcykpKTppLl9hamF4UmVxdWVzdCh0KSk6KHQudGVtcGxhdGUmJmkuY29udGVudChhKHQudGVtcGxhdGUpKHt9KSksaS50cmlnZ2VyKGV0KSksbC50b2dnbGVDbGFzcygiay13aW5kb3ctaWZyYW1lY29udGVudCIsISF1KSxpfSxfdHJpZ2dlclJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoZXQpfSxfYWpheENvbXBsZXRlOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX2xvYWRpbmdJY29uVGltZW91dCk7dGhpcy53cmFwcGVyLmZpbmQoYWkpLnJlbW92ZUNsYXNzKGt0KX0sX2FqYXhFcnJvcjpmdW5jdGlvbihuLHQpe3RoaXMudHJpZ2dlcihvaSx7c3RhdHVzOnQseGhyOm59KX0sX2FqYXhTdWNjZXNzOmZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXt2YXIgaT10O24mJihpPWEobikodHx8e30pKTt0aGlzLmNvbnRlbnQoaSx0KTt0aGlzLmVsZW1lbnQucHJvcCgic2Nyb2xsVG9wIiwwKTt0aGlzLnRyaWdnZXIoZXQpfX0sX3Nob3dMb2FkaW5nOmZ1bmN0aW9uKCl7dGhpcy53cmFwcGVyLmZpbmQoYWkpLmFkZENsYXNzKGt0KX0sX2FqYXhSZXF1ZXN0OmZ1bmN0aW9uKHQpe3RoaXMuX2xvYWRpbmdJY29uVGltZW91dD1zZXRUaW1lb3V0KHIodGhpcy5fc2hvd0xvYWRpbmcsdGhpcyksMTAwKTtuLmFqYXgocyh7dHlwZToiR0VUIixkYXRhVHlwZToiaHRtbCIsY2FjaGU6ITEsZXJyb3I6cih0aGlzLl9hamF4RXJyb3IsdGhpcyksY29tcGxldGU6cih0aGlzLl9hamF4Q29tcGxldGUsdGhpcyksc3VjY2VzczpyKHRoaXMuX2FqYXhTdWNjZXNzKHQudGVtcGxhdGUpLHRoaXMpfSx0KSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5yZXNpemluZyYmdGhpcy5yZXNpemluZy5kZXN0cm95KCk7dGhpcy5kcmFnZ2luZyYmdGhpcy5kcmFnZ2luZy5kZXN0cm95KCk7dGhpcy53cmFwcGVyLm9mZihmKS5jaGlsZHJlbihoKS5vZmYoZikuZW5kKCkuZmluZCgiLmstcmVzaXplLWhhbmRsZSwuay13aW5kb3ctdGl0bGViYXIiKS5vZmYoZik7bih3aW5kb3cpLm9mZigicmVzaXplIitmK3RoaXMuX21hcmtlcik7bih3aW5kb3cpLm9mZihodCk7bih3aW5kb3cpLm9mZihmKTtjbGVhclRpbWVvdXQodGhpcy5fbG9hZGluZ0ljb25UaW1lb3V0KTt1dC5mbi5kZXN0cm95LmNhbGwodGhpcyk7dGhpcy51bmJpbmQodCk7aS5kZXN0cm95KHRoaXMud3JhcHBlcik7dGhpcy5fcmVtb3ZlT3ZlcmxheSghMCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kZXN0cm95KCk7dGhpcy53cmFwcGVyLmVtcHR5KCkucmVtb3ZlKCk7dGhpcy53cmFwcGVyPXRoaXMuYXBwZW5kVG89dGhpcy5lbGVtZW50PW4oKX0sX2NyZWF0ZVdpbmRvdzpmdW5jdGlvbigpe3ZhciB1LHQscj10aGlzLmVsZW1lbnQsZj10aGlzLm9wdGlvbnMsZT1pLnN1cHBvcnQuaXNSdGwocik7Zi5zY3JvbGxhYmxlPT09ITEmJnIuY3NzKCJvdmVyZmxvdyIsImhpZGRlbiIpO3Q9bihjLndyYXBwZXIoZikpO3U9ci5maW5kKCJpZnJhbWU6bm90KC5rLWNvbnRlbnQpIikubWFwKGZ1bmN0aW9uKCl7dmFyIG49dGhpcy5nZXRBdHRyaWJ1dGUoInNyYyIpO3JldHVybiB0aGlzLnNyYz0iIixufSk7dC50b2dnbGVDbGFzcygiay1ydGwiLGUpLmFwcGVuZChyKS5maW5kKCJpZnJhbWU6bm90KC5rLWNvbnRlbnQpIikuZWFjaChmdW5jdGlvbihuKXt0aGlzLnNyYz11W25dfSk7dGhpcy5jb250YWlubWVudD90aGlzLmNvbnRhaW5tZW50LnByZXBlbmQodCk6dGhpcy5hcHBlbmRUbyYmdC5hcHBlbmRUbyh0aGlzLmFwcGVuZFRvKTt0LmZpbmQoIi5rLXdpbmRvdy10aXRsZSIpLmNzcyhlPyJsZWZ0IjoicmlnaHQiLG50KHQuZmluZCgiLmstd2luZG93LWFjdGlvbnMiKSkrMTApO3IuY3NzKCJ2aXNpYmlsaXR5IiwiIikuc2hvdygpO3IuZmluZCgiW2RhdGEtcm9sZT1lZGl0b3JdIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcykuZGF0YSgia2VuZG9FZGl0b3IiKTt0JiZ0LnJlZnJlc2goKX0pO3Q9cj1udWxsfX0pLGM9e3dyYXBwZXI6YSgiPGRpdiBjbGFzcz0nay13aWRnZXQgay13aW5kb3cnIC8+IiksYWN0aW9uOmEoIjxhIHJvbGU9J2J1dHRvbicgaHJlZj0nXFwjJyBjbGFzcz0nay1idXR0b24gay1iYXJlIGstYnV0dG9uLWljb24gay13aW5kb3ctYWN0aW9uJyBhcmlhLWxhYmVsPScjPSBuYW1lICMnPjxzcGFuIGNsYXNzPSdrLWljb24gay1pLSM9IG5hbWUudG9Mb3dlckNhc2UoKSAjJz48XC9zcGFuPjxcL2E+IiksdGl0bGViYXI6YSgiPGRpdiBjbGFzcz0nay13aW5kb3ctdGl0bGViYXIgay1oZWFkZXInPjxzcGFuIGNsYXNzPSdrLXdpbmRvdy10aXRsZSc+Iz0gdGl0bGUgIzxcL3NwYW4+PGRpdiBjbGFzcz0nay13aW5kb3ctYWN0aW9ucycgLz48XC9kaXY+Iiksb3ZlcmxheToiPGRpdiBjbGFzcz0nay1vdmVybGF5JyAvPiIsY29udGVudEZyYW1lOmEoIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHRpdGxlPScjPSB0aXRsZSAjJyBjbGFzcz0nIitrKyInIHNyYz0nIz0gY29udGVudC51cmwgIyc+VGhpcyBwYWdlIHJlcXVpcmVzIGZyYW1lcyBpbiBvcmRlciB0byBzaG93IGNvbnRlbnQ8XC9pZnJhbWU+IikscmVzaXplSGFuZGxlOmEoIjxkaXYgY2xhc3M9J2stcmVzaXplLWhhbmRsZSBrLXJlc2l6ZS0jPSBkYXRhICMnPjxcL2Rpdj4iKX07eXQucHJvdG90eXBlPXthZGRPdmVybGF5OmZ1bmN0aW9uKCl7dGhpcy5vd25lci53cmFwcGVyLmFwcGVuZChjLm92ZXJsYXkpfSxyZW1vdmVPdmVybGF5OmZ1bmN0aW9uKCl7dGhpcy5vd25lci53cmFwcGVyLmZpbmQoYikucmVtb3ZlKCl9LGRyYWdzdGFydDpmdW5jdGlvbih0KXt2YXIgZSxjLGwsYSxvLHMsaCxyPXRoaXMsZj1yLm93bmVyLHU9Zi53cmFwcGVyO3IuX3ByZXZlbnREcmFnZ2luZz1mLnRyaWdnZXIocmkpO3IuX3ByZXZlbnREcmFnZ2luZ3x8KHIuZWxlbWVudFBhZGRpbmc9cGFyc2VJbnQodS5jc3MoInBhZGRpbmctdG9wIiksMTApLHIuaW5pdGlhbFBvc2l0aW9uPWkuZ2V0T2Zmc2V0KHUsInBvc2l0aW9uIiksci5yZXNpemVEaXJlY3Rpb249dC5jdXJyZW50VGFyZ2V0LnByb3AoImNsYXNzTmFtZSIpLnJlcGxhY2UoImstcmVzaXplLWhhbmRsZSBrLXJlc2l6ZS0iLCIiKSxyLmluaXRpYWxTaXplPXt3aWR0aDp1LndpZHRoKCksaGVpZ2h0OnUuaGVpZ2h0KCl9LGYuX3VwZGF0ZUJvdW5kYXJpZXMoKSxyLmNvbnRhaW5lck9mZnNldD1mLmNvbnRhaW5tZW50P2YuY29udGFpbm1lbnQucG9zaXRpb246aS5nZXRPZmZzZXQoZi5hcHBlbmRUbywicG9zaXRpb24iKSxlPXUub2Zmc2V0UGFyZW50KCksZS5pcygiaHRtbCIpP3IuY29udGFpbmVyT2Zmc2V0LnRvcD1yLmNvbnRhaW5lck9mZnNldC5sZWZ0PTA6KGM9ZS5jc3MoIm1hcmdpbi10b3AiKSxsPWUuY3NzKCJtYXJnaW4tbGVmdCIpLGE9IXlpLnRlc3QoYyl8fCF5aS50ZXN0KGwpLGEmJihvPXJ0KHVbMF0pLHM9by5sZWZ0LXIuY29udGFpbmVyT2Zmc2V0LmxlZnQtci5pbml0aWFsUG9zaXRpb24ubGVmdCxoPW8udG9wLXIuY29udGFpbmVyT2Zmc2V0LnRvcC1yLmluaXRpYWxQb3NpdGlvbi50b3Asci5fcmVsYXRpdmVFbE1hcmdpbkxlZnQ9cz4xP3M6MCxyLl9yZWxhdGl2ZUVsTWFyZ2luVG9wPWg+MT9oOjAsci5pbml0aWFsUG9zaXRpb24ubGVmdCs9ci5fcmVsYXRpdmVFbE1hcmdpbkxlZnQsci5pbml0aWFsUG9zaXRpb24udG9wKz1yLl9yZWxhdGl2ZUVsTWFyZ2luVG9wKSksdS5jaGlsZHJlbih2KS5ub3QodC5jdXJyZW50VGFyZ2V0KS5oaWRlKCksbihmdCkuY3NzKGcsdC5jdXJyZW50VGFyZ2V0LmNzcyhnKSkpfSxkcmFnOmZ1bmN0aW9uKHQpe3ZhciBzLHIseSx1LGYscCxvLGEsdixudCx0dCx3LGgsbCxjLGssZCxnLGl0LGI7dGhpcy5fcHJldmVudERyYWdnaW5nfHwocz10aGlzLHI9cy5vd25lcix5PXIud3JhcHBlcix1PXIub3B0aW9ucyxmPXUucG9zaXRpb24scD1zLnJlc2l6ZURpcmVjdGlvbixvPXMuY29udGFpbmVyT2Zmc2V0LGE9cy5pbml0aWFsUG9zaXRpb24sdj1zLmluaXRpYWxTaXplLG50PXIuY29udGFpbm1lbnQmJiFyLl9pc1Bpbm5lZCx0dD1pLnN1cHBvcnQuaXNSdGwoci5jb250YWlubWVudCksdz1udCYmdHQmJnIuY29udGFpbm1lbnQuaW5uZXJXaWR0aCgpPnIuY29udGFpbm1lbnQud2lkdGg/aS5zdXBwb3J0LnNjcm9sbGJhcigpOjAsaD1udD97dG9wOnIuY29udGFpbm1lbnQuc2Nyb2xsVG9wKCksbGVmdDpyLmNvbnRhaW5tZW50LnNjcm9sbExlZnQoKX06e3RvcDowLGxlZnQ6MH0sZz1NYXRoLm1heCh0LngubG9jYXRpb24sMCksaXQ9TWF0aC5tYXgodC55LmxvY2F0aW9uLDApLHAuaW5kZXhPZigiZSIpPj0wPyhsPXIuY29udGFpbm1lbnQmJmctdi53aWR0aD49ci5tYXhMZWZ0LWgubGVmdCtvLmxlZnQrdz9yLm1heExlZnQrdy1hLmxlZnQrdi53aWR0aC1oLmxlZnQ6Zy1hLmxlZnQtby5sZWZ0LHkud2lkdGgoZShsLHUubWluV2lkdGgsdS5tYXhXaWR0aCkpKTpwLmluZGV4T2YoInciKT49MCYmKGQ9YS5sZWZ0K3Yud2lkdGgrby5sZWZ0LGw9ZShkLWcsdS5taW5XaWR0aCx1Lm1heFdpZHRoKSxmLmxlZnQ9ZC1sLW8ubGVmdC13LShzLl9yZWxhdGl2ZUVsTWFyZ2luTGVmdHx8MCkraC5sZWZ0LHIuY29udGFpbm1lbnQmJmYubGVmdDw9ci5taW5MZWZ0JiYoZi5sZWZ0PXIubWluTGVmdCxsPWUoZC13LWYubGVmdC1vLmxlZnQraC5sZWZ0LHUubWluV2lkdGgsdS5tYXhXaWR0aCkpLHkuY3NzKHtsZWZ0OmYubGVmdCx3aWR0aDpsfSkpLGI9aXQsci5vcHRpb25zLnBpbm5lZCYmKGItPW4od2luZG93KS5zY3JvbGxUb3AoKSkscC5pbmRleE9mKCJzIik+PTA/KGM9Yi1hLnRvcC1zLmVsZW1lbnRQYWRkaW5nLW8udG9wLGItdi5oZWlnaHQtcy5lbGVtZW50UGFkZGluZz49ci5tYXhUb3Arby50b3AtaC50b3AmJihjPXIubWF4VG9wLWEudG9wK3YuaGVpZ2h0LWgudG9wKSx5LmhlaWdodChlKGMsdS5taW5IZWlnaHQsdS5tYXhIZWlnaHQpKSk6cC5pbmRleE9mKCJuIik+PTAmJihrPWEudG9wK3YuaGVpZ2h0K28udG9wLGM9ZShrLWIsdS5taW5IZWlnaHQsdS5tYXhIZWlnaHQpLGYudG9wPWstYy1vLnRvcC0ocy5fcmVsYXRpdmVFbE1hcmdpblRvcHx8MCkraC50b3AsZi50b3A8PXIubWluVG9wJiZyLmNvbnRhaW5tZW50JiYoZi50b3A9ci5taW5Ub3AsYz1lKGstZi50b3Atby50b3AraC50b3AsdS5taW5IZWlnaHQsdS5tYXhIZWlnaHQpKSx5LmNzcyh7dG9wOmYudG9wLGhlaWdodDpjfSkpLGwmJihyLm9wdGlvbnMud2lkdGg9bCsicHgiKSxjJiYoci5vcHRpb25zLmhlaWdodD1jKyJweCIpLHIucmVzaXplKCkpfSxkcmFnZW5kOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9wcmV2ZW50RHJhZ2dpbmcpe3ZhciByPXRoaXMsaT1yLm93bmVyLHU9aS53cmFwcGVyO3JldHVybiB1LmNoaWxkcmVuKHYpLm5vdCh0LmN1cnJlbnRUYXJnZXQpLnNob3coKSxuKGZ0KS5jc3MoZywiIiksaS50b3VjaFNjcm9sbGVyJiZpLnRvdWNoU2Nyb2xsZXIucmVzZXQoKSwyNz09dC5rZXlDb2RlJiZ1LmNzcyhyLmluaXRpYWxQb3NpdGlvbikuY3NzKHIuaW5pdGlhbFNpemUpLGkudHJpZ2dlcih1aSksITF9fSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fZHJhZ2dhYmxlJiZ0aGlzLl9kcmFnZ2FibGUuZGVzdHJveSgpO3RoaXMuX2RyYWdnYWJsZT10aGlzLm93bmVyPW51bGx9fTtwdC5wcm90b3R5cGU9e2RyYWdzdGFydDpmdW5jdGlvbih0KXt2YXIgcj10aGlzLm93bmVyLG89ci5vcHRpb25zLmRyYWdnYWJsZSx1PXIuZWxlbWVudCxmPXUuZmluZCgiLmstd2luZG93LWFjdGlvbnMiKSxlPWkuZ2V0T2Zmc2V0KHIuYXBwZW5kVG8pO3RoaXMuX3ByZXZlbnREcmFnZ2luZz1yLnRyaWdnZXIoZmkpfHwhbzt0aGlzLl9wcmV2ZW50RHJhZ2dpbmd8fHIuaXNNYXhpbWl6ZWQoKXx8KHIuaW5pdGlhbFdpbmRvd1Bvc2l0aW9uPWkuZ2V0T2Zmc2V0KHIud3JhcHBlciwicG9zaXRpb24iKSxyLmluaXRpYWxQb2ludGVyUG9zaXRpb249e2xlZnQ6ci5vcHRpb25zLnBvc2l0aW9uLmxlZnQsdG9wOnIub3B0aW9ucy5wb3NpdGlvbi50b3B9LHIuc3RhcnRQb3NpdGlvbj17bGVmdDp0LnguY2xpZW50LXIuaW5pdGlhbFdpbmRvd1Bvc2l0aW9uLmxlZnQsdG9wOnQueS5jbGllbnQtci5pbml0aWFsV2luZG93UG9zaXRpb24udG9wfSxyLl91cGRhdGVCb3VuZGFyaWVzKCksci5jb250YWlubWVudHx8KHIubWluTGVmdD1mLmxlbmd0aD4wP250KGYpK3BhcnNlSW50KGYuY3NzKCJyaWdodCIpLDEwKS1udCh1KToyMC1udCh1KSxyLm1pbkxlZnQtPWUubGVmdCxyLm1pblRvcD0tZS50b3ApLHIud3JhcHBlci5hcHBlbmQoYy5vdmVybGF5KS5jaGlsZHJlbih2KS5oaWRlKCksbihmdCkuY3NzKGcsdC5jdXJyZW50VGFyZ2V0LmNzcyhnKSkpfSxkcmFnOmZ1bmN0aW9uKHQpe3ZhciBvLHMscj10aGlzLm93bmVyLHU9ci5vcHRpb25zLnBvc2l0aW9uLGY9ci5vcHRpb25zLmRyYWdnYWJsZS5heGlzO3RoaXMuX3ByZXZlbnREcmFnZ2luZ3x8ci5pc01heGltaXplZCgpfHwoZiYmIngiIT09Zi50b0xvd2VyQ2FzZSgpfHwobz10LnguY2xpZW50LXIuc3RhcnRQb3NpdGlvbi5sZWZ0LHIuY29udGFpbm1lbnQmJiFyLl9pc1Bpbm5lZCYmKG8rPXIuY29udGFpbm1lbnQuc2Nyb2xsTGVmdCgpKSx1LmxlZnQ9ZShvLHIubWluTGVmdCxyLm1heExlZnQpKSxmJiYieSIhPT1mLnRvTG93ZXJDYXNlKCl8fChzPXQueS5jbGllbnQtci5zdGFydFBvc2l0aW9uLnRvcCxyLmNvbnRhaW5tZW50JiYhci5faXNQaW5uZWQmJihzKz1yLmNvbnRhaW5tZW50LnNjcm9sbFRvcCgpKSx1LnRvcD1lKHMsci5taW5Ub3Asci5tYXhUb3ApKSxpLnN1cHBvcnQudHJhbnNmb3Jtcz9uKHIud3JhcHBlcikuY3NzKCJ0cmFuc2Zvcm0iLCJ0cmFuc2xhdGUoIisodS5sZWZ0LXIuaW5pdGlhbFBvaW50ZXJQb3NpdGlvbi5sZWZ0KSsicHgsICIrKHUudG9wLXIuaW5pdGlhbFBvaW50ZXJQb3NpdGlvbi50b3ApKyJweCkiKTpuKHIud3JhcHBlcikuY3NzKHUpKX0sX2ZpbmlzaERyYWc6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm93bmVyO3Qud3JhcHBlci5jaGlsZHJlbih2KS50b2dnbGUoIXQub3B0aW9ucy5pc01pbmltaXplZCkuZW5kKCkuZmluZChiKS5yZW1vdmUoKTtuKGZ0KS5jc3MoZywiIil9LGRyYWdjYW5jZWw6ZnVuY3Rpb24obil7dGhpcy5fcHJldmVudERyYWdnaW5nfHwodGhpcy5fZmluaXNoRHJhZygpLG4uY3VycmVudFRhcmdldC5jbG9zZXN0KHcpLmNzcyh0aGlzLm93bmVyLmluaXRpYWxXaW5kb3dQb3NpdGlvbikpfSxkcmFnZW5kOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vd25lcjtpZighdGhpcy5fcHJldmVudERyYWdnaW5nJiYhdC5pc01heGltaXplZCgpKXJldHVybiBuKHQud3JhcHBlcikuY3NzKHQub3B0aW9ucy5wb3NpdGlvbikuY3NzKCJ0cmFuc2Zvcm0iLCIiKSx0aGlzLl9maW5pc2hEcmFnKCksdC50cmlnZ2VyKGVpKSwhMX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2RyYWdnYWJsZSYmdGhpcy5fZHJhZ2dhYmxlLmRlc3Ryb3koKTt0aGlzLl9kcmFnZ2FibGU9dGhpcy5vd25lcj1udWxsfX07aS51aS5wbHVnaW4obnIpfSh3aW5kb3cua2VuZG8ualF1ZXJ5KSx3aW5kb3cua2VuZG99LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lOmZ1bmN0aW9uKG4sdCxpKXsoaXx8dCkoKX0pOwovKiEKICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwohZnVuY3Rpb24obix0KXt0KCJrZW5kby5kYXRhLm1pbiIsWyJrZW5kby5jb3JlLm1pbiIsImtlbmRvLmRhdGEub2RhdGEubWluIiwia2VuZG8uZGF0YS54bWwubWluIl0sbil9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gdGkobix0LGkscil7cmV0dXJuIGZ1bmN0aW9uKGYpe3ZhciBvLGU9e307Zm9yKG8gaW4gZillW29dPWZbb107ZS5maWVsZD1yP2krIi4iK2YuZmllbGQ6aTt0PT11JiZuLl9ub3RpZnlDaGFuZ2UmJm4uX25vdGlmeUNoYW5nZShlKTtuLnRyaWdnZXIodCxlKX19ZnVuY3Rpb24gd2kodCxpKXtpZih0PT09aSlyZXR1cm4hMDt2YXIgdSxyPW4udHlwZSh0KSxmPW4udHlwZShpKTtpZihyIT09ZilyZXR1cm4hMTtpZigiZGF0ZSI9PT1yKXJldHVybiB0LmdldFRpbWUoKT09PWkuZ2V0VGltZSgpO2lmKCJvYmplY3QiIT09ciYmImFycmF5IiE9PXIpcmV0dXJuITE7Zm9yKHUgaW4gdClpZighd2kodFt1XSxpW3VdKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBldShuLHQpe3ZhciBpO2Zvcih2YXIgciBpbiBuKWlmKChpPW5bcl0sZyhpKSYmaS5maWVsZCYmaS5maWVsZD09PXQpfHxpPT09dClyZXR1cm4gaTtyZXR1cm4gbnVsbH1mdW5jdGlvbiByKG4pe3RoaXMuZGF0YT1ufHxbXX1mdW5jdGlvbiBydChuLGkpe2lmKG4pe3ZhciByPXR5cGVvZiBuPT09bz97ZmllbGQ6bixkaXI6aX06bix1PWMocik/cjpyIT09dD9bcl06W107cmV0dXJuIGt1KHUsZnVuY3Rpb24obil7cmV0dXJuISFuLmRpcn0pfX1mdW5jdGlvbiBvdShuLGkpe3ZhciB1LGYscixlPXt9O2lmKG4pZm9yKHU9dHlwZW9mIG49PT1vP3tmaWVsZDpuLGRpcjppfTpuLGY9Yyh1KT91OnUhPT10P1t1XTpbXSxyPTA7cjxmLmxlbmd0aDtyKyspZVtmW3JdLmZpZWxkXT17ZGlyOmZbcl0uZGlyLGluZGV4OnIrMX07cmV0dXJuIGV9ZnVuY3Rpb24gYmkobil7dmFyIGksZixyLHQsdT1uLmZpbHRlcnM7aWYodSlmb3IoaT0wLGY9dS5sZW5ndGg7aTxmO2krKylyPXVbaV0sdD1yLm9wZXJhdG9yLHQmJnR5cGVvZiB0PT09byYmKHIub3BlcmF0b3I9a3JbdC50b0xvd2VyQ2FzZSgpXXx8dCksYmkocil9ZnVuY3Rpb24gYihuKXtpZihuJiYhayhuKSlyZXR1cm4hYyhuKSYmbi5maWx0ZXJzfHwobj17bG9naWM6ImFuZCIsZmlsdGVyczpjKG4pP246W25dfSksYmkobiksbn1mdW5jdGlvbiBzdShuLHQpe3JldHVybiFuLmxvZ2ljJiYhdC5sb2dpYyYmbi5maWVsZD09PXQuZmllbGQmJm4udmFsdWU9PT10LnZhbHVlJiZuLm9wZXJhdG9yPT09dC5vcGVyYXRvcn1mdW5jdGlvbiBraShuKXtyZXR1cm4gbj1ufHx7fSxrKG4pP3tsb2dpYzoiYW5kIixmaWx0ZXJzOltdfTpiKG4pfWZ1bmN0aW9uIGRpKG4sdCl7cmV0dXJuIHQubG9naWN8fG4uZmllbGQ+dC5maWVsZD8xOm4uZmllbGQ8dC5maWVsZD8tMTowfWZ1bmN0aW9uIGdpKG4sdCl7dmFyIGYsZSxpLHIsdTtpZigobj1raShuKSx0PWtpKHQpLG4ubG9naWMhPT10LmxvZ2ljKXx8KGk9KG4uZmlsdGVyc3x8W10pLnNsaWNlKCkscj0odC5maWx0ZXJzfHxbXSkuc2xpY2UoKSxpLmxlbmd0aCE9PXIubGVuZ3RoKSlyZXR1cm4hMTtmb3IoaT1pLnNvcnQoZGkpLHI9ci5zb3J0KGRpKSx1PTA7dTxpLmxlbmd0aDt1KyspaWYoZj1pW3VdLGU9clt1XSxmLmxvZ2ljJiZlLmxvZ2ljKXtpZighZ2koZixlKSlyZXR1cm4hMX1lbHNlIGlmKCFzdShmLGUpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGh1KG4pe3JldHVybiBjKG4pP246W25dfWZ1bmN0aW9uIHV0KG4saSxyLHUpe3ZhciBmPXR5cGVvZiBuPT09bz97ZmllbGQ6bixkaXI6aSxjb21wYXJlOnIsc2tpcEl0ZW1Tb3J0aW5nOnV9Om4sZT1jKGYpP2Y6ZiE9PXQ/W2ZdOltdO3JldHVybiB3dChlLGZ1bmN0aW9uKG4pe3JldHVybntmaWVsZDpuLmZpZWxkLGRpcjpuLmRpcnx8ImFzYyIsYWdncmVnYXRlczpuLmFnZ3JlZ2F0ZXMsY29tcGFyZTpuLmNvbXBhcmUsc2tpcEl0ZW1Tb3J0aW5nOm4uc2tpcEl0ZW1Tb3J0aW5nfX0pfWZ1bmN0aW9uIG5yKG4sdCxpKXtmb3IodmFyIHU9dXQobix0LGkpLHI9MDtyPHUubGVuZ3RoO3IrKylkZWxldGUgdVtyXS5jb21wYXJlO3JldHVybiB1fWZ1bmN0aW9uIGN1KG4pe2Zvcih2YXIgaT1jKG4pP246W25dLHQ9MDt0PGkubGVuZ3RoO3QrKylpZihpW3RdJiZoKGlbdF0uY29tcGFyZSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gbHUobix0KXtyZXR1cm4gbiYmbi5nZXRUaW1lJiZ0JiZ0LmdldFRpbWU/bi5nZXRUaW1lKCk9PT10LmdldFRpbWUoKTpuPT09dH1mdW5jdGlvbiBhdShuLHQscix1LGYsZSl7dmFyIGgsYyxzLGwsbztmb3IodD10fHxbXSxsPXQubGVuZ3RoLGg9MDtoPGw7aCsrKWM9dFtoXSxzPWMuYWdncmVnYXRlLG89Yy5maWVsZCxuW29dPW5bb118fHt9LGVbb109ZVtvXXx8e30sZVtvXVtzXT1lW29dW3NdfHx7fSxuW29dW3NdPWRyW3MudG9Mb3dlckNhc2UoKV0obltvXVtzXSxyLGkuYWNjZXNzb3IobyksdSxmLGVbb11bc10pfWZ1bmN0aW9uIHkobil7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBuJiYhaXNOYU4obil9ZnVuY3Rpb24gdnQobil7cmV0dXJuIG4mJm4uZ2V0VGltZX1mdW5jdGlvbiB5dChuKXtmb3IodmFyIGk9bi5sZW5ndGgscj1BcnJheShpKSx0PTA7dDxpO3QrKylyW3RdPW5bdF0udG9KU09OKCk7cmV0dXJuIHJ9ZnVuY3Rpb24gdnUobix0LHIsdSxmKXtmb3IodmFyIHMsbyxlLGM9e30saD0wLGw9bi5sZW5ndGg7aDxsO2grKyl7cz1uW2hdO2ZvcihvIGluIHQpZT1mW29dLGUmJmUhPT1vJiYoY1tlXXx8KGNbZV09aS5zZXR0ZXIoZSkpLGNbZV0ocyx0W29dKHMpKSxkZWxldGUgc1tvXSl9fWZ1bmN0aW9uIGlpKG4sdCxpLHIsdSl7Zm9yKHZhciBlLGYsbyxzPTAsaD1uLmxlbmd0aDtzPGg7cysrKXtlPW5bc107Zm9yKGYgaW4gdCllW2ZdPWkuX3BhcnNlKGYsdFtmXShlKSksbz11W2ZdLG8mJm8hPT1mJiZkZWxldGUgZVtvXX19ZnVuY3Rpb24gdHIobix0LGkscix1KXtmb3IodmFyIGYsbyxlPTAscz1uLmxlbmd0aDtlPHM7ZSsrKWY9bltlXSxvPXJbZi5maWVsZF0sbyYmbyE9Zi5maWVsZCYmKGYuZmllbGQ9byksZi52YWx1ZT1pLl9wYXJzZShmLmZpZWxkLGYudmFsdWUpLGYuaGFzU3ViZ3JvdXBzP3RyKGYuaXRlbXMsdCxpLHIsdSk6aWkoZi5pdGVtcyx0LGkscix1KX1mdW5jdGlvbiByaShuLHQsaSxyLHUsZil7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlPW4oZSksaXIodCxpLHIsdSxmKShlKX19ZnVuY3Rpb24gaXIobix0LGkscix1KXtyZXR1cm4gZnVuY3Rpb24oZil7cmV0dXJuIGYmJiFrKGkpJiYoIltvYmplY3QgQXJyYXldIj09PW5pLmNhbGwoZil8fGYgaW5zdGFuY2VvZiB2fHwoZj1bZl0pLHQoZixpLG5ldyBuLHIsdSkpLGZ8fFtdfX1mdW5jdGlvbiBycihuLHQpe3ZhciBpLHIsdTtpZih0Lml0ZW1zJiZ0Lml0ZW1zLmxlbmd0aClmb3IodT0wO3U8dC5pdGVtcy5sZW5ndGg7dSsrKWk9bi5pdGVtc1t1XSxyPXQuaXRlbXNbdV0saSYmcj9pLmhhc1N1Ymdyb3Vwcz9ycihpLHIpOmkuZmllbGQmJmkudmFsdWU9PXIudmFsdWU/aS5pdGVtcy5wdXNoLmFwcGx5KGkuaXRlbXMsci5pdGVtcyk6bi5pdGVtcy5wdXNoLmFwcGx5KG4uaXRlbXMsW3JdKTpyJiZuLml0ZW1zLnB1c2guYXBwbHkobi5pdGVtcyxbcl0pfWZ1bmN0aW9uIHVpKG4sdCxpLHIpe2Zvcih2YXIgZix1LG8sZT0wO3QubGVuZ3RoJiZyJiYoZj10W2VdLHU9Zi5pdGVtcyxvPXUubGVuZ3RoLG4mJm4uZmllbGQ9PT1mLmZpZWxkJiZuLnZhbHVlPT09Zi52YWx1ZT8obi5oYXNTdWJncm91cHMmJm4uaXRlbXMubGVuZ3RoP3VpKG4uaXRlbXNbbi5pdGVtcy5sZW5ndGgtMV0sZi5pdGVtcyxpLHIpOih1PXUuc2xpY2UoaSxpK3IpLG4uaXRlbXM9bi5pdGVtcy5jb25jYXQodSkpLHQuc3BsaWNlKGUtLSwxKSk6Zi5oYXNTdWJncm91cHMmJnUubGVuZ3RoPyh1aShmLHUsaSxyKSxmLml0ZW1zLmxlbmd0aHx8dC5zcGxpY2UoZS0tLDEpKToodT11LnNsaWNlKGksaStyKSxmLml0ZW1zPXUsZi5pdGVtcy5sZW5ndGh8fHQuc3BsaWNlKGUtLSwxKSksMD09PXUubGVuZ3RoP2ktPW86KGk9MCxyLT11Lmxlbmd0aCksISgrK2U+PXQubGVuZ3RoKSk7KTtlPHQubGVuZ3RoJiZ0LnNwbGljZShlLHQubGVuZ3RoLWUpfWZ1bmN0aW9uIHVyKG4sdCl7Zm9yKHZhciBpLGUsdSxmPVtdLHM9KG58fFtdKS5sZW5ndGgsbz1oKHQpP3Q6ZnVuY3Rpb24obix0KXtyZXR1cm4gblt0XX0scj0wO3I8cztyKyspaWYoaT1vKG4sciksaS5oYXNTdWJncm91cHMpZj1mLmNvbmNhdCh1cihpLml0ZW1zKSk7ZWxzZSBmb3IoZT1pLml0ZW1zLHU9MDt1PGUubGVuZ3RoO3UrKylmLnB1c2gobyhlLHUpKTtyZXR1cm4gZn1mdW5jdGlvbiBmaShuKXtmb3IodmFyIGYsaSxyLHU9W10sdD0wLGU9bi5sZW5ndGg7dDxlO3QrKylpZihyPW4uYXQodCksci5oYXNTdWJncm91cHMpdT11LmNvbmNhdChmaShyLml0ZW1zKSk7ZWxzZSBmb3IoZj1yLml0ZW1zLGk9MDtpPGYubGVuZ3RoO2krKyl1LnB1c2goZi5hdChpKSk7cmV0dXJuIHV9ZnVuY3Rpb24gZnIobix0KXt2YXIgcix1LGk7aWYodClmb3Iocj0wLHU9bi5sZW5ndGg7cjx1O3IrKylpPW4uYXQociksaS5oYXNTdWJncm91cHM/ZnIoaS5pdGVtcyx0KTppLml0ZW1zPW5ldyBvdChpLml0ZW1zLHQsaS5pdGVtcy5fZXZlbnRzKX1mdW5jdGlvbiBlcihuLHQpe2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKWlmKG5baV0uaGFzU3ViZ3JvdXBzKXtpZihlcihuW2ldLml0ZW1zLHQpKXJldHVybiEwfWVsc2UgaWYodChuW2ldLml0ZW1zLG5baV0pKXJldHVybiEwfWZ1bmN0aW9uIHl1KG4sdCxpLHIpe2Zvcih2YXIgdT0wO3U8bi5sZW5ndGgmJm5bdV0uZGF0YSE9PXQmJiFvcihuW3VdLmRhdGEsaSxyKTt1KyspO31mdW5jdGlvbiBvcihuLHQsaSl7Zm9yKHZhciByPTAsdT1uLmxlbmd0aDtyPHU7cisrKXtpZihuW3JdJiZuW3JdLmhhc1N1Ymdyb3VwcylyZXR1cm4gb3IobltyXS5pdGVtcyx0LGkpO2lmKG5bcl09PT10fHxuW3JdPT09aSlyZXR1cm4gbltyXT1pLCEwfX1mdW5jdGlvbiBzcihuLGkscix1LGYpe2Zvcih2YXIgZSxzLG89MCxoPW4ubGVuZ3RoO288aDtvKyspaWYoZT1uW29dLGUmJiEoZSBpbnN0YW5jZW9mIHUpKWlmKGUuaGFzU3ViZ3JvdXBzPT09dHx8Zil7Zm9yKHM9MDtzPGkubGVuZ3RoO3MrKylpZihpW3NdPT09ZSl7bltvXT1pLmF0KHMpO3l1KHIsaSxlLG5bb10pO2JyZWFrfX1lbHNlIHNyKGUuaXRlbXMsaSxyLHUsZil9ZnVuY3Rpb24gcHUobix0KXtmb3IodmFyIHIsdT1uLmxlbmd0aCxpPTA7aTx1O2krKylpZihyPW5baV0sci51aWQmJnIudWlkPT10LnVpZClyZXR1cm4gbi5zcGxpY2UoaSwxKSxyfWZ1bmN0aW9uIGhyKG4sdCl7cmV0dXJuIHQ/bHIobixmdW5jdGlvbihuKXtyZXR1cm4gbi51aWQmJm4udWlkPT10LnVpZHx8blt0LmlkRmllbGRdPT09dC5pZCYmdC5pZCE9PXQuX2RlZmF1bHRJZH0pOi0xfWZ1bmN0aW9uIGNyKG4sdCl7cmV0dXJuIHQ/bHIobixmdW5jdGlvbihuKXtyZXR1cm4gbi51aWQ9PXQudWlkfSk6LTF9ZnVuY3Rpb24gbHIobix0KXtmb3IodmFyIGk9MCxyPW4ubGVuZ3RoO2k8cjtpKyspaWYodChuW2ldKSlyZXR1cm4gaTtyZXR1cm4tMX1mdW5jdGlvbiBhcihuLHQpe3ZhciBpLHI7cmV0dXJuIG4mJiFrKG4pPyhpPW5bdF0scj1nKGkpP2kuZnJvbXx8aS5maWVsZHx8dDpuW3RdfHx0LGgocik/dDpyKTp0fWZ1bmN0aW9uIHZyKG4sdCl7dmFyIHIsZix1LGk9e307Zm9yKHUgaW4gbikiZmlsdGVycyIhPT11JiYoaVt1XT1uW3VdKTtpZihuLmZpbHRlcnMpZm9yKGkuZmlsdGVycz1bXSxyPTAsZj1uLmZpbHRlcnMubGVuZ3RoO3I8ZjtyKyspaS5maWx0ZXJzW3JdPXZyKG4uZmlsdGVyc1tyXSx0KTtlbHNlIGkuZmllbGQ9YXIodC5maWVsZHMsaS5maWVsZCk7cmV0dXJuIGl9ZnVuY3Rpb24gcHQobix0KXtmb3IodmFyIGksdSxmLG89W10scj0wLGU9bi5sZW5ndGg7cjxlO3IrKyl7aT17fTt1PW5bcl07Zm9yKGYgaW4gdSlpW2ZdPXVbZl07aS5maWVsZD1hcih0LmZpZWxkcyxpLmZpZWxkKTtpLmFnZ3JlZ2F0ZXMmJmMoaS5hZ2dyZWdhdGVzKSYmKGkuYWdncmVnYXRlcz1wdChpLmFnZ3JlZ2F0ZXMsdCkpO28ucHVzaChpKX1yZXR1cm4gb31mdW5jdGlvbiB3dSh0LGkpe3ZhciBzLGMsbCxoLG8sYSxyLHUsZixlO2Zvcih0PW4odClbMF0scz10Lm9wdGlvbnMsYz1pWzBdLGw9aVsxXSxoPVtdLG89MCxhPXMubGVuZ3RoO288YTtvKyspZj17fSx1PXNbb10scj11LnBhcmVudE5vZGUscj09PXQmJihyPW51bGwpLHUuZGlzYWJsZWR8fHImJnIuZGlzYWJsZWR8fChyJiYoZi5vcHRncm91cD1yLmxhYmVsKSxmW2MuZmllbGRdPXUudGV4dCxlPXUuYXR0cmlidXRlcy52YWx1ZSxlPWUmJmUuc3BlY2lmaWVkP3UudmFsdWU6dS50ZXh0LGZbbC5maWVsZF09ZSxoLnB1c2goZikpO3JldHVybiBofWZ1bmN0aW9uIGJ1KHQsaSl7Zm9yKHZhciByLGgsZixlLG8sYz1uKHQpWzBdLnRCb2RpZXNbMF0sbD1jP2Mucm93czpbXSx2PWkubGVuZ3RoLGE9W10sdT0wLHM9bC5sZW5ndGg7dTxzO3UrKyl7Zm9yKGY9e30sbz0hMCxoPWxbdV0uY2VsbHMscj0wO3I8djtyKyspZT1oW3JdLCJ0aCIhPT1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJihvPSExLGZbaVtyXS5maWVsZF09ZS5pbm5lckhUTUwpO298fGEucHVzaChmKX1yZXR1cm4gYX1mdW5jdGlvbiB5cihuKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kYXRhLGk9bC5mbltuXS5hcHBseSh0aGlzLGF0LmNhbGwoYXJndW1lbnRzKSk7cmV0dXJuIHRoaXMuX2RhdGEhPXQmJnRoaXMuX2F0dGFjaEJ1YmJsZUhhbmRsZXJzKCksaX19ZnVuY3Rpb24gcHIodCxpKXtmdW5jdGlvbiBzKG4sdCl7cmV0dXJuIG4uZmlsdGVyKHQpLmFkZChuLmZpbmQodCkpfWZvcih2YXIgcixmLGgsbyxjLHUsYT1uKHQpLmNoaWxkcmVuKCksdj1bXSxiPWlbMF0uZmllbGQseT1pWzFdJiZpWzFdLmZpZWxkLHA9aVsyXSYmaVsyXS5maWVsZCx3PWlbM10mJmlbM10uZmllbGQsZT0wLGw9YS5sZW5ndGg7ZTxsO2UrKylyPXtfbG9hZGVkOiEwfSxmPWEuZXEoZSksbz1mWzBdLmZpcnN0Q2hpbGQsdT1mLmNoaWxkcmVuKCksdD11LmZpbHRlcigidWwiKSx1PXUuZmlsdGVyKCI6bm90KHVsKSIpLGg9Zi5hdHRyKCJkYXRhLWlkIiksaCYmKHIuaWQ9aCksbyYmKHJbYl09Mz09by5ub2RlVHlwZT9vLm5vZGVWYWx1ZTp1LnRleHQoKSkseSYmKHJbeV09cyh1LCJhIikuYXR0cigiaHJlZiIpKSx3JiYoclt3XT1zKHUsImltZyIpLmF0dHIoInNyYyIpKSxwJiYoYz1zKHUsIi5rLXNwcml0ZSIpLnByb3AoImNsYXNzTmFtZSIpLHJbcF09YyYmbi50cmltKGMucmVwbGFjZSgiay1zcHJpdGUiLCIiKSkpLHQubGVuZ3RoJiYoci5pdGVtcz1wcih0LmVxKDApLGkpKSwidHJ1ZSI9PWYuYXR0cigiZGF0YS1oYXNDaGlsZHJlbiIpJiYoci5oYXNDaGlsZHJlbj0hMCksdi5wdXNoKHIpO3JldHVybiB2fXZhciB3dCxvdCxzLGVpLHdyLHAsc3QsYnIsb2ksa3IsZHIsc2ksaGksZnQsY2ksbCxsaSxhaSxkLHZpLGdyLGU9bi5leHRlbmQsdz1uLnByb3h5LGc9bi5pc1BsYWluT2JqZWN0LGs9bi5pc0VtcHR5T2JqZWN0LGM9bi5pc0FycmF5LGt1PW4uZ3JlcCx5aT1uLmFqYXgsYnQ9bi5lYWNoLGE9bi5ub29wLGk9d2luZG93LmtlbmRvLGg9aS5pc0Z1bmN0aW9uLG50PWkuT2JzZXJ2YWJsZSxrdD1pLkNsYXNzLG89InN0cmluZyIscGk9ImZ1bmN0aW9uIixkdT0iYXNjIixudT0iY3JlYXRlIix0dT0icmVhZCIsaXU9InVwZGF0ZSIscnU9ImRlc3Ryb3kiLHU9ImNoYW5nZSIsdXU9InN5bmMiLGR0PSJnZXQiLHR0PSJlcnJvciIsaXQ9InJlcXVlc3RTdGFydCIsaHQ9InByb2dyZXNzIixldD0icmVxdWVzdEVuZCIsZ3U9W251LHR1LGl1LHJ1XSxjdD1mdW5jdGlvbihuKXtyZXR1cm4gbn0sbHQ9aS5nZXR0ZXIsZ3Q9aS5zdHJpbmdpZnksZj1NYXRoLG5mPVtdLnB1c2gsdGY9W10uam9pbixyZj1bXS5wb3AsZnU9W10uc3BsaWNlLHVmPVtdLnNoaWZ0LGF0PVtdLnNsaWNlLGZmPVtdLnVuc2hpZnQsbmk9e30udG9TdHJpbmcsZWY9aS5zdXBwb3J0LnN0YWJsZVNvcnQsc2Y9L15cL0RhdGVcKCguKj8pXClcLyQvLHY9bnQuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcztpLnR5cGU9dHx8cztudC5mbi5pbml0LmNhbGwoaSk7aS5sZW5ndGg9bi5sZW5ndGg7aS53cmFwQWxsKG4saSl9LGF0OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzW25dfSx0b0pTT046ZnVuY3Rpb24obil7Zm9yKHZhciBpLHI9dGhpcy5sZW5ndGgsdT1BcnJheShyKSx0PTA7dDxyO3QrKylpPXRoaXNbdF0saSBpbnN0YW5jZW9mIHMmJihpPWkudG9KU09OKG4pKSx1W3RdPWk7cmV0dXJuIHV9LHBhcmVudDphLHdyYXBBbGw6ZnVuY3Rpb24obix0KXt2YXIgaSxyLHU9dGhpcyxmPWZ1bmN0aW9uKCl7cmV0dXJuIHV9O2Zvcih0PXR8fFtdLGk9MCxyPW4ubGVuZ3RoO2k8cjtpKyspdFtpXT11LndyYXAobltpXSxmKTtyZXR1cm4gdH0sd3JhcDpmdW5jdGlvbihuLHQpe3ZhciByLGk9dGhpcztyZXR1cm4gbnVsbCE9PW4mJiJbb2JqZWN0IE9iamVjdF0iPT09bmkuY2FsbChuKSYmKHI9biBpbnN0YW5jZW9mIGkudHlwZXx8biBpbnN0YW5jZW9mIHAscnx8KG49biBpbnN0YW5jZW9mIHM/bi50b0pTT04oKTpuLG49bmV3IGkudHlwZShuKSksbi5wYXJlbnQ9dCxuLmJpbmQodSxmdW5jdGlvbihuKXtpLnRyaWdnZXIodSx7ZmllbGQ6bi5maWVsZCxub2RlOm4ubm9kZSxpbmRleDpuLmluZGV4LGl0ZW1zOm4uaXRlbXN8fFt0aGlzXSxhY3Rpb246bi5ub2RlP24uYWN0aW9ufHwiaXRlbWxvYWRlZCI6Iml0ZW1jaGFuZ2UifSl9KSksbn0scHVzaDpmdW5jdGlvbigpe3ZhciBuLGk9dGhpcy5sZW5ndGgsdD10aGlzLndyYXBBbGwoYXJndW1lbnRzKTtyZXR1cm4gbj1uZi5hcHBseSh0aGlzLHQpLHRoaXMudHJpZ2dlcih1LHthY3Rpb246ImFkZCIsaW5kZXg6aSxpdGVtczp0fSksbn0sc2xpY2U6YXQsc29ydDpbXS5zb3J0LGpvaW46dGYscG9wOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5sZW5ndGgsdD1yZi5hcHBseSh0aGlzKTtyZXR1cm4gbiYmdGhpcy50cmlnZ2VyKHUse2FjdGlvbjoicmVtb3ZlIixpbmRleDpuLTEsaXRlbXM6W3RdfSksdH0sc3BsaWNlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcixmLGUsbz10aGlzLndyYXBBbGwoYXQuY2FsbChhcmd1bWVudHMsMikpO2lmKHI9ZnUuYXBwbHkodGhpcyxbbix0XS5jb25jYXQobykpLHIubGVuZ3RoKWZvcih0aGlzLnRyaWdnZXIodSx7YWN0aW9uOiJyZW1vdmUiLGluZGV4Om4saXRlbXM6cn0pLGY9MCxlPXIubGVuZ3RoO2Y8ZTtmKyspcltmXSYmcltmXS5jaGlsZHJlbiYmcltmXS51bmJpbmQodSk7cmV0dXJuIGkmJnRoaXMudHJpZ2dlcih1LHthY3Rpb246ImFkZCIsaW5kZXg6bixpdGVtczpvfSkscn0sc2hpZnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxlbmd0aCxuPXVmLmFwcGx5KHRoaXMpO3JldHVybiB0JiZ0aGlzLnRyaWdnZXIodSx7YWN0aW9uOiJyZW1vdmUiLGluZGV4OjAsaXRlbXM6W25dfSksbn0sdW5zaGlmdDpmdW5jdGlvbigpe3ZhciBuLHQ9dGhpcy53cmFwQWxsKGFyZ3VtZW50cyk7cmV0dXJuIG49ZmYuYXBwbHkodGhpcyx0KSx0aGlzLnRyaWdnZXIodSx7YWN0aW9uOiJhZGQiLGluZGV4OjAsaXRlbXM6dH0pLG59LGluZGV4T2Y6ZnVuY3Rpb24obil7Zm9yKHZhciByPXRoaXMsdD0wLGk9ci5sZW5ndGg7dDxpO3QrKylpZihyW3RdPT09bilyZXR1cm4gdDtyZXR1cm4tMX0sZm9yRWFjaDpmdW5jdGlvbihuLHQpe2Zvcih2YXIgaT0wLHI9dGhpcy5sZW5ndGgsdT10fHx3aW5kb3c7aTxyO2krKyluLmNhbGwodSx0aGlzW2ldLGksdGhpcyl9LG1hcDpmdW5jdGlvbihuLHQpe2Zvcih2YXIgaT0wLHI9W10sdT10aGlzLmxlbmd0aCxmPXR8fHdpbmRvdztpPHU7aSsrKXJbaV09bi5jYWxsKGYsdGhpc1tpXSxpLHRoaXMpO3JldHVybiByfSxyZWR1Y2U6ZnVuY3Rpb24obil7dmFyIGksdD0wLHI9dGhpcy5sZW5ndGg7Zm9yKDI9PWFyZ3VtZW50cy5sZW5ndGg/aT1hcmd1bWVudHNbMV06dDxyJiYoaT10aGlzW3QrK10pO3Q8cjt0KyspaT1uKGksdGhpc1t0XSx0LHRoaXMpO3JldHVybiBpfSxyZWR1Y2VSaWdodDpmdW5jdGlvbihuKXt2YXIgaSx0PXRoaXMubGVuZ3RoLTE7Zm9yKDI9PWFyZ3VtZW50cy5sZW5ndGg/aT1hcmd1bWVudHNbMV06dD4wJiYoaT10aGlzW3QtLV0pO3Q+PTA7dC0tKWk9bihpLHRoaXNbdF0sdCx0aGlzKTtyZXR1cm4gaX0sZmlsdGVyOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciByLGk9MCx1PVtdLGY9dGhpcy5sZW5ndGgsZT10fHx3aW5kb3c7aTxmO2krKylyPXRoaXNbaV0sbi5jYWxsKGUscixpLHRoaXMpJiYodVt1Lmxlbmd0aF09cik7cmV0dXJuIHV9LGZpbmQ6ZnVuY3Rpb24obix0KXtmb3IodmFyIHIsaT0wLHU9dGhpcy5sZW5ndGgsZj10fHx3aW5kb3c7aTx1O2krKylpZihyPXRoaXNbaV0sbi5jYWxsKGYscixpLHRoaXMpKXJldHVybiByfSxldmVyeTpmdW5jdGlvbihuLHQpe2Zvcih2YXIgcixpPTAsdT10aGlzLmxlbmd0aCxmPXR8fHdpbmRvdztpPHU7aSsrKWlmKHI9dGhpc1tpXSwhbi5jYWxsKGYscixpLHRoaXMpKXJldHVybiExO3JldHVybiEwfSxzb21lOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciByLGk9MCx1PXRoaXMubGVuZ3RoLGY9dHx8d2luZG93O2k8dTtpKyspaWYocj10aGlzW2ldLG4uY2FsbChmLHIsaSx0aGlzKSlyZXR1cm4hMDtyZXR1cm4hMX0scmVtb3ZlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuaW5kZXhPZihuKTt0IT09LTEmJnRoaXMuc3BsaWNlKHQsMSl9LGVtcHR5OmZ1bmN0aW9uKCl7dGhpcy5zcGxpY2UoMCx0aGlzLmxlbmd0aCl9fSk7InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciYmIXYucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0mJih2LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPVtdW1N5bWJvbC5pdGVyYXRvcl0pO290PXYuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4sdCxpKXtudC5mbi5pbml0LmNhbGwodGhpcyk7dGhpcy50eXBlPXR8fHM7aSYmKHRoaXMuX2V2ZW50cz1pKTtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyl0aGlzW3JdPW5bcl07dGhpcy5sZW5ndGg9cjt0aGlzLl9wYXJlbnQ9dyhmdW5jdGlvbigpe3JldHVybiB0aGlzfSx0aGlzKX0sYXQ6ZnVuY3Rpb24obil7dmFyIHQ9dGhpc1tuXTtyZXR1cm4gdCBpbnN0YW5jZW9mIHRoaXMudHlwZT90LnBhcmVudD10aGlzLl9wYXJlbnQ6dD10aGlzW25dPXRoaXMud3JhcCh0LHRoaXMuX3BhcmVudCksdH19KTtzPW50LmV4dGVuZCh7aW5pdDpmdW5jdGlvbihuKXt2YXIgdCxyLHU9dGhpcyxmPWZ1bmN0aW9uKCl7cmV0dXJuIHV9O250LmZuLmluaXQuY2FsbCh0aGlzKTt0aGlzLl9oYW5kbGVycz17fTtmb3IociBpbiBuKXQ9bltyXSwib2JqZWN0Ij09dHlwZW9mIHQmJnQmJiF0LmdldFRpbWUmJiJfIiE9ci5jaGFyQXQoMCkmJih0PXUud3JhcCh0LHIsZikpLHVbcl09dDt1LnVpZD1pLmd1aWQoKX0sc2hvdWxkU2VyaWFsaXplOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuaGFzT3duUHJvcGVydHkobikmJiJfaGFuZGxlcnMiIT09biYmIl9ldmVudHMiIT09biYmKHQmJnRbbl18fHR5cGVvZiB0aGlzW25dIT09cGkpJiYidWlkIiE9PW59LGZvckVhY2g6ZnVuY3Rpb24obil7Zm9yKHZhciB0IGluIHRoaXMpdGhpcy5zaG91bGRTZXJpYWxpemUodCkmJm4odGhpc1t0XSx0KX0sdG9KU09OOmZ1bmN0aW9uKG4pe3ZhciB0LGkscj17fTtmb3IoaSBpbiB0aGlzKXRoaXMuc2hvdWxkU2VyaWFsaXplKGksbikmJih0PXRoaXNbaV0sKHQgaW5zdGFuY2VvZiBzfHx0IGluc3RhbmNlb2YgdikmJih0PXQudG9KU09OKG4pKSxyW2ldPXQpO3JldHVybiByfSxnZXQ6ZnVuY3Rpb24obil7dmFyIHIsdD10aGlzO3JldHVybiB0LnRyaWdnZXIoZHQse2ZpZWxkOm59KSxyPSJ0aGlzIj09PW4/dDppLmdldHRlcihuLCEwKSh0KX0sX3NldDpmdW5jdGlvbihuLHQpe3ZhciByLHUsZixvPXRoaXMsZT1uLmluZGV4T2YoIi4iKT49MDtpZihlKWZvcihyPW4uc3BsaXQoIi4iKSx1PSIiO3IubGVuZ3RoPjE7KXtpZih1Kz1yLnNoaWZ0KCksZj1pLmdldHRlcih1LCEwKShvKSxmIGluc3RhbmNlb2YgcylyZXR1cm4gZi5zZXQoci5qb2luKCIuIiksdCksZTt1Kz0iLiJ9cmV0dXJuIGkuc2V0dGVyKG4pKG8sdCksZX0sc2V0OmZ1bmN0aW9uKG4sdCl7dmFyIHI9dGhpcyxlPSExLG89bi5pbmRleE9mKCIuIik+PTAsZj1pLmdldHRlcihuLCEwKShyKTtyZXR1cm4gZiE9PXQmJihmIGluc3RhbmNlb2YgbnQmJnRoaXMuX2hhbmRsZXJzW25dJiYodGhpcy5faGFuZGxlcnNbbl0uZ2V0JiZmLnVuYmluZChkdCx0aGlzLl9oYW5kbGVyc1tuXS5nZXQpLGYudW5iaW5kKHUsdGhpcy5faGFuZGxlcnNbbl0uY2hhbmdlKSksZT1yLnRyaWdnZXIoInNldCIse2ZpZWxkOm4sdmFsdWU6dH0pLGV8fChvfHwodD1yLndyYXAodCxuLGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksKCFyLl9zZXQobix0KXx8bi5pbmRleE9mKCIoIik+PTB8fG4uaW5kZXhPZigiWyIpPj0wKSYmci50cmlnZ2VyKHUse2ZpZWxkOm59KSkpLGV9LHBhcmVudDphLHdyYXA6ZnVuY3Rpb24obix0LGkpe3ZhciBjLHIsZSxvLGY9dGhpcyxoPW5pLmNhbGwobik7cmV0dXJuIG51bGw9PW58fCJbb2JqZWN0IE9iamVjdF0iIT09aCYmIltvYmplY3QgQXJyYXldIiE9PWh8fChlPW4gaW5zdGFuY2VvZiB2LG89biBpbnN0YW5jZW9mIGwsIltvYmplY3QgT2JqZWN0XSIhPT1ofHxvfHxlPygiW29iamVjdCBBcnJheV0iPT09aHx8ZXx8bykmJihlfHxvfHwobj1uZXcgdihuKSkscj10aShmLHUsdCwhMSksbi5iaW5kKHUsciksZi5faGFuZGxlcnNbdF09e2NoYW5nZTpyfSk6KG4gaW5zdGFuY2VvZiBzfHwobj1uZXcgcyhuKSksYz10aShmLGR0LHQsITApLG4uYmluZChkdCxjKSxyPXRpKGYsdSx0LCEwKSxuLmJpbmQodSxyKSxmLl9oYW5kbGVyc1t0XT17Z2V0OmMsY2hhbmdlOnJ9KSxuLnBhcmVudD1pKSxufX0pO2VpPXtudW1iZXI6ZnVuY3Rpb24obil7cmV0dXJuIHR5cGVvZiBuPT09byYmIm51bGwiPT09bi50b0xvd2VyQ2FzZSgpP251bGw6aS5wYXJzZUZsb2F0KG4pfSxkYXRlOmZ1bmN0aW9uKG4pe3JldHVybiB0eXBlb2Ygbj09PW8mJiJudWxsIj09PW4udG9Mb3dlckNhc2UoKT9udWxsOmkucGFyc2VEYXRlKG4pfSxib29sZWFuOmZ1bmN0aW9uKG4pe3JldHVybiB0eXBlb2Ygbj09PW8/Im51bGwiPT09bi50b0xvd2VyQ2FzZSgpP251bGw6InRydWUiPT09bi50b0xvd2VyQ2FzZSgpOm51bGwhPW4/ISFuOm59LHN0cmluZzpmdW5jdGlvbihuKXtyZXR1cm4gdHlwZW9mIG49PT1vJiYibnVsbCI9PT1uLnRvTG93ZXJDYXNlKCk/bnVsbDpudWxsIT1uP24rIiI6bn0sImRlZmF1bHQiOmZ1bmN0aW9uKG4pe3JldHVybiBufX07d3I9e3N0cmluZzoiIixudW1iZXI6MCxkYXRlOm5ldyBEYXRlLGJvb2xlYW46ITEsImRlZmF1bHQiOiIifTtwPXMuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGkpe3ZhciB1LGYscj10aGlzO2lmKCghaXx8bi5pc0VtcHR5T2JqZWN0KGkpKSYmKGk9bi5leHRlbmQoe30sci5kZWZhdWx0cyxpKSxyLl9pbml0aWFsaXplcnMpKWZvcih1PTA7dTxyLl9pbml0aWFsaXplcnMubGVuZ3RoO3UrKylmPXIuX2luaXRpYWxpemVyc1t1XSxpW2ZdPXIuZGVmYXVsdHNbZl0oKTtzLmZuLmluaXQuY2FsbChyLGkpO3IuZGlydHk9ITE7ci5kaXJ0eUZpZWxkcz17fTtyLmlkRmllbGQmJihyLmlkPXIuZ2V0KHIuaWRGaWVsZCksci5pZD09PXQmJihyLmlkPXIuX2RlZmF1bHRJZCkpfSxzaG91bGRTZXJpYWxpemU6ZnVuY3Rpb24obil7cmV0dXJuIHMuZm4uc2hvdWxkU2VyaWFsaXplLmNhbGwodGhpcyxuKSYmInVpZCIhPT1uJiYhKCJpZCIhPT10aGlzLmlkRmllbGQmJiJpZCI9PT1uKSYmImRpcnR5IiE9PW4mJiJkaXJ0eUZpZWxkcyIhPT1uJiYiX2FjY2Vzc29ycyIhPT1ufSxfcGFyc2U6ZnVuY3Rpb24obix0KXt2YXIgaSx1PXRoaXMsZj1uLHI9dS5maWVsZHN8fHt9O3JldHVybiBuPXJbbl0sbnx8KG49ZXUocixmKSksbiYmKGk9bi5wYXJzZSwhaSYmbi50eXBlJiYoaT1laVtuLnR5cGUudG9Mb3dlckNhc2UoKV0pKSxpP2kodCk6dH0sX25vdGlmeUNoYW5nZTpmdW5jdGlvbihuKXt2YXIgdD1uLmFjdGlvbjsiYWRkIiE9dCYmInJlbW92ZSIhPXR8fCh0aGlzLmRpcnR5PSEwLHRoaXMuZGlydHlGaWVsZHNbbi5maWVsZF09ITApfSxlZGl0YWJsZTpmdW5jdGlvbihuKXtyZXR1cm4gbj0odGhpcy5maWVsZHN8fHt9KVtuXSwhbnx8bi5lZGl0YWJsZSE9PSExfSxzZXQ6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLHI9aS5kaXJ0eTtpLmVkaXRhYmxlKG4pJiYodD1pLl9wYXJzZShuLHQpLHdpKHQsaS5nZXQobikpP2kudHJpZ2dlcigiZXF1YWxTZXQiLHtmaWVsZDpuLHZhbHVlOnR9KTooaS5kaXJ0eT0hMCxpLmRpcnR5RmllbGRzW25dPSEwLHMuZm4uc2V0LmNhbGwoaSxuLHQpJiYhciYmKGkuZGlydHk9cixpLmRpcnR5fHwoaS5kaXJ0eUZpZWxkc1tuXT0hMSkpKSl9LGFjY2VwdDpmdW5jdGlvbihuKXt2YXIgaSxyLHQ9dGhpcyx1PWZ1bmN0aW9uKCl7cmV0dXJuIHR9O2ZvcihpIGluIG4pcj1uW2ldLCJfIiE9aS5jaGFyQXQoMCkmJihyPXQud3JhcChuW2ldLGksdSkpLHQuX3NldChpLHIpO3QuaWRGaWVsZCYmKHQuaWQ9dC5nZXQodC5pZEZpZWxkKSk7dC5kaXJ0eT0hMTt0LmRpcnR5RmllbGRzPXt9fSxpc05ldzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkPT09dGhpcy5fZGVmYXVsdElkfX0pO3AuZGVmaW5lPWZ1bmN0aW9uKG4saSl7aT09PXQmJihpPW4sbj1wKTt2YXIgcyxmLHUsdixoLGwsYixjLHI9ZSh7ZGVmYXVsdHM6e319LGkpLHk9e30sYT1yLmlkLHc9W107aWYoYSYmKHIuaWRGaWVsZD1hKSxyLmlkJiZkZWxldGUgci5pZCxhJiYoci5kZWZhdWx0c1thXT1yLl9kZWZhdWx0SWQ9IiIpLCJbb2JqZWN0IEFycmF5XSI9PT1uaS5jYWxsKHIuZmllbGRzKSl7Zm9yKGw9MCxiPXIuZmllbGRzLmxlbmd0aDtsPGI7bCsrKXU9ci5maWVsZHNbbF0sdHlwZW9mIHU9PT1vP3lbdV09e306dS5maWVsZCYmKHlbdS5maWVsZF09dSk7ci5maWVsZHM9eX1mb3IoZiBpbiByLmZpZWxkcyl1PXIuZmllbGRzW2ZdLHY9dS50eXBlfHwiZGVmYXVsdCIsaD1udWxsLGM9ZixmPXR5cGVvZiB1LmZpZWxkPT09bz91LmZpZWxkOmYsdS5udWxsYWJsZXx8KGg9ci5kZWZhdWx0c1tjIT09Zj9jOmZdPXUuZGVmYXVsdFZhbHVlIT09dD91LmRlZmF1bHRWYWx1ZTp3clt2LnRvTG93ZXJDYXNlKCldLCJmdW5jdGlvbiI9PXR5cGVvZiBoJiZ3LnB1c2goZikpLGkuaWQ9PT1mJiYoci5fZGVmYXVsdElkPWgpLHIuZGVmYXVsdHNbYyE9PWY/YzpmXT1oLHUucGFyc2U9dS5wYXJzZXx8ZWlbdl07cmV0dXJuIHcubGVuZ3RoPjAmJihyLl9pbml0aWFsaXplcnM9dykscz1uLmV4dGVuZChyKSxzLmRlZmluZT1mdW5jdGlvbihuKXtyZXR1cm4gcC5kZWZpbmUocyxuKX0sci5maWVsZHMmJihzLmZpZWxkcz1yLmZpZWxkcyxzLmlkRmllbGQ9ci5pZEZpZWxkKSxzfTtzdD17c2VsZWN0b3I6ZnVuY3Rpb24obil7cmV0dXJuIGgobik/bjpsdChuKX0sY29tcGFyZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLnNlbGVjdG9yKG4pO3JldHVybiBmdW5jdGlvbihuLGkpe3JldHVybiBuPXQobiksaT10KGkpLG51bGw9PW4mJm51bGw9PWk/MDpudWxsPT1uPy0xOm51bGw9PWk/MTpuLmxvY2FsZUNvbXBhcmU/bi5sb2NhbGVDb21wYXJlKGkpOm4+aT8xOm48aT8tMTowfX0sY3JlYXRlOmZ1bmN0aW9uKG4pe3ZhciB0PW4uY29tcGFyZXx8dGhpcy5jb21wYXJlKG4uZmllbGQpO3JldHVybiJkZXNjIj09bi5kaXI/ZnVuY3Rpb24obixpKXtyZXR1cm4gdChpLG4sITApfTp0fSxjb21iaW5lOmZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0LGkpe2Zvcih2YXIgdT1uWzBdKHQsaSkscj0xLGY9bi5sZW5ndGg7cjxmO3IrKyl1PXV8fG5bcl0odCxpKTtyZXR1cm4gdX19fTticj1lKHt9LHN0LHthc2M6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5zZWxlY3RvcihuKTtyZXR1cm4gZnVuY3Rpb24obixpKXt2YXIgcj10KG4pLHU9dChpKTtyZXR1cm4gciYmci5nZXRUaW1lJiZ1JiZ1LmdldFRpbWUmJihyPXIuZ2V0VGltZSgpLHU9dS5nZXRUaW1lKCkpLHI9PT11P24uX19wb3NpdGlvbi1pLl9fcG9zaXRpb246bnVsbD09cj8tMTpudWxsPT11PzE6ci5sb2NhbGVDb21wYXJlP3IubG9jYWxlQ29tcGFyZSh1KTpyPnU/MTotMX19LGRlc2M6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5zZWxlY3RvcihuKTtyZXR1cm4gZnVuY3Rpb24obixpKXt2YXIgdT10KG4pLHI9dChpKTtyZXR1cm4gdSYmdS5nZXRUaW1lJiZyJiZyLmdldFRpbWUmJih1PXUuZ2V0VGltZSgpLHI9ci5nZXRUaW1lKCkpLHU9PT1yP24uX19wb3NpdGlvbi1pLl9fcG9zaXRpb246bnVsbD09dT8xOm51bGw9PXI/LTE6ci5sb2NhbGVDb21wYXJlP3IubG9jYWxlQ29tcGFyZSh1KTp1PHI/MTotMX19LGNyZWF0ZTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpc1tuLmRpcl0obi5maWVsZCl9fSk7d3Q9ZnVuY3Rpb24obix0KXtmb3IodmFyIHI9bi5sZW5ndGgsdT1BcnJheShyKSxpPTA7aTxyO2krKyl1W2ldPXQobltpXSxpLG4pO3JldHVybiB1fTtvaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkobil7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBuJiYobj1uLnJlcGxhY2UoL1tcclxuXSsvZywiIikpLEpTT04uc3RyaW5naWZ5KG4pfWZ1bmN0aW9uIG4obil7cmV0dXJuIGZ1bmN0aW9uKHQscix1LGYpe3JldHVybiByKz0iIix1JiYodD0iKCIrdCsiICsgJycpLnRvU3RyaW5nKCkiKyhmPyIudG9Mb2NhbGVMb3dlckNhc2UoJyIrZisiJykiOiIudG9Mb3dlckNhc2UoKSIpLHI9Zj9yLnRvTG9jYWxlTG93ZXJDYXNlKGYpOnIudG9Mb3dlckNhc2UoKSksbih0LGkociksdSl9fWZ1bmN0aW9uIHQobix0LHIsdSxmKXtpZihudWxsIT1yKXtpZih0eXBlb2Ygcj09PW8pe3ZhciBlPXNmLmV4ZWMocik7ZT9yPW5ldyBEYXRlKCtlWzFdKTp1PyhyPWkoZj9yLnRvTG9jYWxlTG93ZXJDYXNlKGYpOnIudG9Mb3dlckNhc2UoKSksdD0iKCgiK3QrIiB8fCAnJykrJycpIisoZj8iLnRvTG9jYWxlTG93ZXJDYXNlKCciK2YrIicpIjoiLnRvTG93ZXJDYXNlKCkiKSk6cj1pKHIpfXIuZ2V0VGltZSYmKHQ9IigiK3QrIiYmIit0KyIuZ2V0VGltZT8iK3QrIi5nZXRUaW1lKCk6Iit0KyIpIixyPXIuZ2V0VGltZSgpKX1yZXR1cm4gdCsiICIrbisiICIrcn1mdW5jdGlvbiByKG4pe3ZhciBpLHIsdSx0O2ZvcihpPSIvXiIscj0hMSx1PTA7dTxuLmxlbmd0aDsrK3Upe2lmKHQ9bi5jaGFyQXQodSkscilpKz0iXFwiK3Q7ZWxzZXtpZigifiI9PXQpe3I9ITA7Y29udGludWV9aSs9IioiPT10PyIuKiI6Ij8iPT10PyIuIjoiLiteJCgpW117fXxcXC9cblxyXHUyMDI4XHUyMDI5wqAiLmluZGV4T2YodCk+PTA/IlxcIit0OnR9cj0hMX1yZXR1cm4gaSsiJC8ifXJldHVybntxdW90ZTpmdW5jdGlvbihuKXtyZXR1cm4gbiYmbi5nZXRUaW1lPyJuZXcgRGF0ZSgiK24uZ2V0VGltZSgpKyIpIjppKG4pfSxlcTpmdW5jdGlvbihuLGkscix1KXtyZXR1cm4gdCgiPT0iLG4saSxyLHUpfSxuZXE6ZnVuY3Rpb24obixpLHIsdSl7cmV0dXJuIHQoIiE9IixuLGkscix1KX0sZ3Q6ZnVuY3Rpb24obixpLHIpe3JldHVybiB0KCI+IixuLGkscil9LGd0ZTpmdW5jdGlvbihuLGkscil7cmV0dXJuIHQoIj49IixuLGkscil9LGx0OmZ1bmN0aW9uKG4saSxyKXtyZXR1cm4gdCgiPCIsbixpLHIpfSxsdGU6ZnVuY3Rpb24obixpLHIpe3JldHVybiB0KCI8PSIsbixpLHIpfSxzdGFydHN3aXRoOm4oZnVuY3Rpb24obix0KXtyZXR1cm4gbisiLmxhc3RJbmRleE9mKCIrdCsiLCAwKSA9PSAwIn0pLGRvZXNub3RzdGFydHdpdGg6bihmdW5jdGlvbihuLHQpe3JldHVybiBuKyIubGFzdEluZGV4T2YoIit0KyIsIDApID09IC0xIn0pLGVuZHN3aXRoOm4oZnVuY3Rpb24obix0KXt2YXIgaT10P3QubGVuZ3RoLTI6MDtyZXR1cm4gbisiLmluZGV4T2YoIit0KyIsICIrbisiLmxlbmd0aCAtICIraSsiKSA+PSAwIn0pLGRvZXNub3RlbmR3aXRoOm4oZnVuY3Rpb24obix0KXt2YXIgaT10P3QubGVuZ3RoLTI6MDtyZXR1cm4gbisiLmluZGV4T2YoIit0KyIsICIrbisiLmxlbmd0aCAtICIraSsiKSA8IDAifSksY29udGFpbnM6bihmdW5jdGlvbihuLHQpe3JldHVybiBuKyIuaW5kZXhPZigiK3QrIikgPj0gMCJ9KSxkb2Vzbm90Y29udGFpbjpuKGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4rIi5pbmRleE9mKCIrdCsiKSA9PSAtMSJ9KSxtYXRjaGVzOm4oZnVuY3Rpb24obix0KXtyZXR1cm4gdD10LnN1YnN0cmluZygxLHQubGVuZ3RoLTEpLHIodCkrIi50ZXN0KCIrbisiKSJ9KSxkb2Vzbm90bWF0Y2g6bihmdW5jdGlvbihuLHQpe3JldHVybiB0PXQuc3Vic3RyaW5nKDEsdC5sZW5ndGgtMSksIiEiK3IodCkrIi50ZXN0KCIrbisiKSJ9KSxpc2VtcHR5OmZ1bmN0aW9uKG4pe3JldHVybiBuKyIgPT09ICcnIn0saXNub3RlbXB0eTpmdW5jdGlvbihuKXtyZXR1cm4gbisiICE9PSAnJyJ9LGlzbnVsbDpmdW5jdGlvbihuKXtyZXR1cm4iKCIrbisiID09IG51bGwpIn0saXNub3RudWxsOmZ1bmN0aW9uKG4pe3JldHVybiIoIituKyIgIT0gbnVsbCkifSxpc251bGxvcmVtcHR5OmZ1bmN0aW9uKG4pe3JldHVybiIoIituKyIgPT09IG51bGwpIHx8ICgiK24rIiA9PT0gJycpIn0saXNub3RudWxsb3JlbXB0eTpmdW5jdGlvbihuKXtyZXR1cm4iKCIrbisiICE9PSBudWxsKSAmJiAoIituKyIgIT09ICcnKSJ9fX0oKTtyLmZpbHRlckV4cHI9ZnVuY3Rpb24obil7Zm9yKHZhciB1LGYsaCxjLGE9W10sZT1bXSxvPVtdLHY9bi5maWx0ZXJzLHM9MCxsPXYubGVuZ3RoO3M8bDtzKyspdT12W3NdLGg9dS5maWVsZCxjPXUub3BlcmF0b3IsdS5maWx0ZXJzPyhmPXIuZmlsdGVyRXhwcih1KSx1PWYuZXhwcmVzc2lvbi5yZXBsYWNlKC9fX29cWyhcZCspXF0vZyxmdW5jdGlvbihuLHQpe3JldHVybiB0PSt0LCJfX29bIisoby5sZW5ndGgrdCkrIl0ifSkucmVwbGFjZSgvX19mXFsoXGQrKVxdL2csZnVuY3Rpb24obix0KXtyZXR1cm4gdD0rdCwiX19mWyIrKGUubGVuZ3RoK3QpKyJdIn0pLG8ucHVzaC5hcHBseShvLGYub3BlcmF0b3JzKSxlLnB1c2guYXBwbHkoZSxmLmZpZWxkcykpOih0eXBlb2YgaD09PXBpPyhmPSJfX2ZbIitlLmxlbmd0aCsiXShkKSIsZS5wdXNoKGgpKTpmPWkuZXhwcihoKSx0eXBlb2YgYz09PXBpPyh1PSJfX29bIitvLmxlbmd0aCsiXSgiK2YrIiwgIitvaS5xdW90ZSh1LnZhbHVlKSsiKSIsby5wdXNoKGMpKTp1PW9pWyhjfHwiZXEiKS50b0xvd2VyQ2FzZSgpXShmLHUudmFsdWUsdS5pZ25vcmVDYXNlPT09dHx8dS5pZ25vcmVDYXNlLG4uYWNjZW50Rm9sZGluZ0ZpbHRlcmluZykpLGEucHVzaCh1KTtyZXR1cm57ZXhwcmVzc2lvbjoiKCIrYS5qb2luKHthbmQ6IiAmJiAiLG9yOiIgfHwgIn1bbi5sb2dpY10pKyIpIixmaWVsZHM6ZSxvcGVyYXRvcnM6b319O2tyPXsiPT0iOiJlcSIsZXF1YWxzOiJlcSIsaXNlcXVhbHRvOiJlcSIsZXF1YWx0bzoiZXEiLGVxdWFsOiJlcSIsIiE9IjoibmVxIixuZToibmVxIixub3RlcXVhbHM6Im5lcSIsaXNub3RlcXVhbHRvOiJuZXEiLG5vdGVxdWFsdG86Im5lcSIsbm90ZXF1YWw6Im5lcSIsIjwiOiJsdCIsaXNsZXNzdGhhbjoibHQiLGxlc3N0aGFuOiJsdCIsbGVzczoibHQiLCI8PSI6Imx0ZSIsbGU6Imx0ZSIsaXNsZXNzdGhhbm9yZXF1YWx0bzoibHRlIixsZXNzdGhhbmVxdWFsOiJsdGUiLCI+IjoiZ3QiLGlzZ3JlYXRlcnRoYW46Imd0IixncmVhdGVydGhhbjoiZ3QiLGdyZWF0ZXI6Imd0IiwiPj0iOiJndGUiLGlzZ3JlYXRlcnRoYW5vcmVxdWFsdG86Imd0ZSIsZ3JlYXRlcnRoYW5lcXVhbDoiZ3RlIixnZToiZ3RlIixub3RzdWJzdHJpbmdvZjoiZG9lc25vdGNvbnRhaW4iLGlzbnVsbDoiaXNudWxsIixpc2VtcHR5OiJpc2VtcHR5Iixpc25vdGVtcHR5OiJpc25vdGVtcHR5In07ci5ub3JtYWxpemVGaWx0ZXI9YjtyLmNvbXBhcmVGaWx0ZXJzPWdpO3IucHJvdG90eXBlPXt0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YX0scmFuZ2U6ZnVuY3Rpb24obix0KXtyZXR1cm4gbmV3IHIodGhpcy5kYXRhLnNsaWNlKG4sbit0KSl9LHNraXA6ZnVuY3Rpb24obil7cmV0dXJuIG5ldyByKHRoaXMuZGF0YS5zbGljZShuKSl9LHRha2U6ZnVuY3Rpb24obil7cmV0dXJuIG5ldyByKHRoaXMuZGF0YS5zbGljZSgwLG4pKX0sc2VsZWN0OmZ1bmN0aW9uKG4pe3JldHVybiBuZXcgcih3dCh0aGlzLmRhdGEsbikpfSxvcmRlcjpmdW5jdGlvbihuLHQsaSl7dmFyIHU9e2Rpcjp0fTtyZXR1cm4gbiYmKG4uY29tcGFyZT91LmNvbXBhcmU9bi5jb21wYXJlOnUuZmllbGQ9biksbmV3IHIoaT90aGlzLmRhdGEuc29ydChzdC5jcmVhdGUodSkpOnRoaXMuZGF0YS5zbGljZSgwKS5zb3J0KHN0LmNyZWF0ZSh1KSkpfSxvcmRlckJ5OmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub3JkZXIobiwiYXNjIix0KX0sb3JkZXJCeURlc2NlbmRpbmc6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5vcmRlcihuLCJkZXNjIix0KX0sc29ydDpmdW5jdGlvbihuLHQsaSxyKXt2YXIgdSxlLGY9cnQobix0KSxvPVtdO2lmKGk9aXx8c3QsZi5sZW5ndGgpe2Zvcih1PTAsZT1mLmxlbmd0aDt1PGU7dSsrKW8ucHVzaChpLmNyZWF0ZShmW3VdKSk7cmV0dXJuIHRoaXMub3JkZXJCeSh7Y29tcGFyZTppLmNvbWJpbmUobyl9LHIpfXJldHVybiB0aGlzfSxmaWx0ZXI6ZnVuY3Rpb24obil7dmFyIHQsdSxzLGksaCxmLGUsbyxjPXRoaXMuZGF0YSxsPVtdO2lmKG49YihuKSwhbnx8MD09PW4uZmlsdGVycy5sZW5ndGgpcmV0dXJuIHRoaXM7Zm9yKGk9ci5maWx0ZXJFeHByKG4pLGY9aS5maWVsZHMsZT1pLm9wZXJhdG9ycyxoPW89RnVuY3Rpb24oImQsIF9fZiwgX19vIiwicmV0dXJuICIraS5leHByZXNzaW9uKSwoZi5sZW5ndGh8fGUubGVuZ3RoKSYmKG89ZnVuY3Rpb24obil7cmV0dXJuIGgobixmLGUpfSksdD0wLHM9Yy5sZW5ndGg7dDxzO3QrKyl1PWNbdF0sbyh1KSYmbC5wdXNoKHUpO3JldHVybiBuZXcgcihsKX0sZ3JvdXA6ZnVuY3Rpb24obix0KXtuPXV0KG58fFtdKTt0PXR8fHRoaXMuZGF0YTt2YXIgaSxmPXRoaXMsdT1uZXcgcihmLmRhdGEpO3JldHVybiBuLmxlbmd0aD4wJiYoaT1uWzBdLHU9dS5ncm91cEJ5KGkpLnNlbGVjdChmdW5jdGlvbih1KXt2YXIgZj1uZXcgcih0KS5maWx0ZXIoW3tmaWVsZDp1LmZpZWxkLG9wZXJhdG9yOiJlcSIsdmFsdWU6dS52YWx1ZSxpZ25vcmVDYXNlOiExfV0pO3JldHVybntmaWVsZDp1LmZpZWxkLHZhbHVlOnUudmFsdWUsaXRlbXM6bi5sZW5ndGg+MT9uZXcgcih1Lml0ZW1zKS5ncm91cChuLnNsaWNlKDEpLGYudG9BcnJheSgpKS50b0FycmF5KCk6dS5pdGVtcyxoYXNTdWJncm91cHM6bi5sZW5ndGg+MSxhZ2dyZWdhdGVzOmYuYWdncmVnYXRlKGkuYWdncmVnYXRlcyl9fSkpLHV9LGdyb3VwQnk6ZnVuY3Rpb24obil7dmFyIHQsbyxoLGMsdSxmLGwscyxhLGUsdj10aGlzO2lmKGsobil8fCF0aGlzLmRhdGEubGVuZ3RoKXJldHVybiBuZXcgcihbXSk7Zm9yKHQ9bi5maWVsZCxvPW4uc2tpcEl0ZW1Tb3J0aW5nP3RoaXMuZGF0YTp0aGlzLl9zb3J0Rm9yR3JvdXBpbmcodCxuLmRpcnx8ImFzYyIpLGg9aS5hY2Nlc3Nvcih0KSx1PWguZ2V0KG9bMF0sdCksZj17ZmllbGQ6dCx2YWx1ZTp1LGl0ZW1zOltdfSxlPVtmXSxzPTAsYT1vLmxlbmd0aDtzPGE7cysrKWM9b1tzXSxsPWguZ2V0KGMsdCksbHUodSxsKXx8KHU9bCxmPXtmaWVsZDp0LHZhbHVlOnUsaXRlbXM6W119LGUucHVzaChmKSksZi5pdGVtcy5wdXNoKGMpO3JldHVybiBlPXYuX3NvcnRHcm91cHMoZSxuKSxuZXcgcihlKX0sX3NvcnRGb3JHcm91cGluZzpmdW5jdGlvbihuLHQpe3ZhciBpLGYsdT10aGlzLmRhdGE7aWYoIWVmKXtmb3IoaT0wLGY9dS5sZW5ndGg7aTxmO2krKyl1W2ldLl9fcG9zaXRpb249aTtmb3IodT1uZXcgcih1KS5zb3J0KG4sdCxicikudG9BcnJheSgpLGk9MCxmPXUubGVuZ3RoO2k8ZjtpKyspZGVsZXRlIHVbaV0uX19wb3NpdGlvbjtyZXR1cm4gdX1yZXR1cm4gdGhpcy5zb3J0KG4sdCkudG9BcnJheSgpfSxfc29ydEdyb3VwczpmdW5jdGlvbihuLHQpe3ZhciBpPW47cmV0dXJuIHQmJmgodC5jb21wYXJlKSYmKGk9bmV3IHIoaSkub3JkZXIoe2NvbXBhcmU6dC5jb21wYXJlfSx0LmRpcnx8ZHUpLnRvQXJyYXkoKSksaX0sYWdncmVnYXRlOmZ1bmN0aW9uKG4pe3ZhciB0LGkscj17fSx1PXt9O2lmKG4mJm4ubGVuZ3RoKWZvcih0PTAsaT10aGlzLmRhdGEubGVuZ3RoO3Q8aTt0KyspYXUocixuLHRoaXMuZGF0YVt0XSx0LGksdSk7cmV0dXJuIHJ9fTtkcj17c3VtOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj1pLmdldCh0KTtyZXR1cm4geShuKT95KHIpJiYobis9cik6bj1yLG59LGNvdW50OmZ1bmN0aW9uKG4pe3JldHVybihufHwwKSsxfSxhdmVyYWdlOmZ1bmN0aW9uKG4saSxyLHUsZixlKXt2YXIgbz1yLmdldChpKTtyZXR1cm4gZS5jb3VudD09PXQmJihlLmNvdW50PTApLHkobik/eShvKSYmKG4rPW8pOm49byx5KG8pJiZlLmNvdW50KyssdT09Zi0xJiZ5KG4pJiYobi89ZS5jb3VudCksbn0sbWF4OmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj1pLmdldCh0KTtyZXR1cm4geShuKXx8dnQobil8fChuPXIpLG48ciYmKHkocil8fHZ0KHIpKSYmKG49ciksbn0sbWluOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj1pLmdldCh0KTtyZXR1cm4geShuKXx8dnQobil8fChuPXIpLG4+ciYmKHkocil8fHZ0KHIpKSYmKG49ciksbn19O3Iubm9ybWFsaXplR3JvdXA9dXQ7ci5ub3JtYWxpemVTb3J0PXJ0O3IucHJvY2Vzcz1mdW5jdGlvbihuLGksdSl7dmFyIG8sbCxmLGEsdixzLHcsYix5LHAsaCxjO3JldHVybiBpPWl8fHt9LG89aS5ncm91cCxsPWN1KHV0KG98fFtdKSksZj1uZXcgcihuKSxhPW5yKG98fFtdKSx2PXJ0KGkuc29ydHx8W10pLHM9bD92OmEuY29uY2F0KHYpLHk9aS5maWx0ZXJDYWxsYmFjayxwPWkuZmlsdGVyLGg9aS5za2lwLGM9aS50YWtlLHMmJnUmJihmPWYuc29ydChzLHQsdCx1KSkscCYmKGY9Zi5maWx0ZXIocCkseSYmKGY9eShmKSksYj1mLnRvQXJyYXkoKS5sZW5ndGgpLHMmJih1fHwoZj1mLnNvcnQocykpLG8mJihuPWYudG9BcnJheSgpKSksbD8oZj1mLmdyb3VwKG8sbiksaCE9PXQmJmMhPT10JiYoZj1uZXcgcih1cihmLnRvQXJyYXkoKSkpLnJhbmdlKGgsYyksdz13dChhLGZ1bmN0aW9uKG4pe3JldHVybiBlKHt9LG4se3NraXBJdGVtU29ydGluZzohMH0pfSksZj1mLmdyb3VwKHcsbikpKTooaCE9PXQmJmMhPT10JiYoZj1mLnJhbmdlKGgsYykpLG8mJihmPWYuZ3JvdXAobyxuKSkpLHt0b3RhbDpiLGRhdGE6Zi50b0FycmF5KCl9fTtzaT1rdC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24obil7dGhpcy5kYXRhPW4uZGF0YX0scmVhZDpmdW5jdGlvbihuKXtuLnN1Y2Nlc3ModGhpcy5kYXRhKX0sdXBkYXRlOmZ1bmN0aW9uKG4pe24uc3VjY2VzcyhuLmRhdGEpfSxjcmVhdGU6ZnVuY3Rpb24obil7bi5zdWNjZXNzKG4uZGF0YSl9LGRlc3Ryb3k6ZnVuY3Rpb24obil7bi5zdWNjZXNzKG4uZGF0YSl9fSk7aGk9a3QuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4pe3ZhciBpLHQ9dGhpcztuPXQub3B0aW9ucz1lKHt9LHQub3B0aW9ucyxuKTtidChndSxmdW5jdGlvbih0LGkpe3R5cGVvZiBuW2ldPT09byYmKG5baV09e3VybDpuW2ldfSl9KTt0LmNhY2hlPW4uY2FjaGU/ZnQuY3JlYXRlKG4uY2FjaGUpOntmaW5kOmEsYWRkOmF9O2k9bi5wYXJhbWV0ZXJNYXA7bi5zdWJtaXQmJih0LnN1Ym1pdD1uLnN1Ym1pdCk7aChuLnB1c2gpJiYodC5wdXNoPW4ucHVzaCk7dC5wdXNofHwodC5wdXNoPWN0KTt0LnBhcmFtZXRlck1hcD1oKGkpP2k6ZnVuY3Rpb24obil7dmFyIHQ9e307cmV0dXJuIGJ0KG4sZnVuY3Rpb24obixyKXtuIGluIGkmJihuPWlbbl0sZyhuKSYmKHI9bi52YWx1ZShyKSxuPW4ua2V5KSk7dFtuXT1yfSksdH19LG9wdGlvbnM6e3BhcmFtZXRlck1hcDpjdH0sY3JlYXRlOmZ1bmN0aW9uKG4pe3JldHVybiB5aSh0aGlzLnNldHVwKG4sbnUpKX0scmVhZDpmdW5jdGlvbihpKXt2YXIgcixvLHUsZj10aGlzLGU9Zi5jYWNoZTtpPWYuc2V0dXAoaSx0dSk7cj1pLnN1Y2Nlc3N8fGE7bz1pLmVycm9yfHxhO3U9ZS5maW5kKGkuZGF0YSk7dSE9PXQ/cih1KTooaS5zdWNjZXNzPWZ1bmN0aW9uKG4pe2UuYWRkKGkuZGF0YSxuKTtyKG4pfSxuLmFqYXgoaSkpfSx1cGRhdGU6ZnVuY3Rpb24obil7cmV0dXJuIHlpKHRoaXMuc2V0dXAobixpdSkpfSxkZXN0cm95OmZ1bmN0aW9uKG4pe3JldHVybiB5aSh0aGlzLnNldHVwKG4scnUpKX0sc2V0dXA6ZnVuY3Rpb24obix0KXtuPW58fHt9O3ZhciByLHU9dGhpcyxpPXUub3B0aW9uc1t0XSxmPWgoaS5kYXRhKT9pLmRhdGEobi5kYXRhKTppLmRhdGE7cmV0dXJuIG49ZSghMCx7fSxpLG4pLHI9ZSghMCx7fSxmLG4uZGF0YSksbi5kYXRhPXUucGFyYW1ldGVyTWFwKHIsdCksaChuLnVybCkmJihuLnVybD1uLnVybChyKSksbn19KTtmdD1rdC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oKXt0aGlzLl9zdG9yZT17fX0sYWRkOmZ1bmN0aW9uKG4saSl7biE9PXQmJih0aGlzLl9zdG9yZVtndChuKV09aSl9LGZpbmQ6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3N0b3JlW2d0KG4pXX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLl9zdG9yZT17fX0scmVtb3ZlOmZ1bmN0aW9uKG4pe2RlbGV0ZSB0aGlzLl9zdG9yZVtndChuKV19fSk7ZnQuY3JlYXRlPWZ1bmN0aW9uKG4pe3ZhciB0PXtpbm1lbW9yeTpmdW5jdGlvbigpe3JldHVybiBuZXcgZnR9fTtyZXR1cm4gZyhuKSYmaChuLmZpbmQpP246bj09PSEwP25ldyBmdDp0W25dKCl9O2NpPWt0LmV4dGVuZCh7aW5pdDpmdW5jdGlvbihuKXt2YXIgYSxzLGkseSxoLGIsayx1LGUsdixmLGMscixsLHQ9dGhpcztuPW58fHt9O2ZvcihhIGluIG4pcz1uW2FdLHRbYV09dHlwZW9mIHM9PT1vP2x0KHMpOnM7eT1uLm1vZGVsQmFzZXx8cDtnKHQubW9kZWwpJiYodC5tb2RlbD1pPXkuZGVmaW5lKHQubW9kZWwpKTtoPXcodC5kYXRhLHQpO3QuX2RhdGFBY2Nlc3NGdW5jdGlvbj1oO3QubW9kZWwmJihiPXcodC5ncm91cHMsdCksaz13KHQuc2VyaWFsaXplLHQpLHU9e30sZT17fSx2PXt9LGY9e30sYz0hMSxpPXQubW9kZWwsaS5maWVsZHMmJihidChpLmZpZWxkcyxmdW5jdGlvbihuLHQpe3ZhciBpO3I9bjtnKHQpJiZ0LmZpZWxkP3I9dC5maWVsZDp0eXBlb2YgdD09PW8mJihyPXQpO2codCkmJnQuZnJvbSYmKGk9dC5mcm9tKTtjPWN8fGkmJmkhPT1ufHxyIT09bjtsPWl8fHI7ZVtuXT1sLmluZGV4T2YoIi4iKSE9PS0xP2x0KGwsITApOmx0KGwpO3Zbbl09bHQobik7dVtpfHxyXT1uO2Zbbl09aXx8cn0pLCFuLnNlcmlhbGl6ZSYmYyYmKHQuc2VyaWFsaXplPXJpKGssaSx2dSx2LHUsZikpKSx0Ll9kYXRhQWNjZXNzRnVuY3Rpb249aCx0Ll93cmFwRGF0YUFjY2Vzc0Jhc2U9aXIoaSxpaSxlLHUsZiksdC5kYXRhPXJpKGgsaSxpaSxlLHUsZiksdC5ncm91cHM9cmkoYixpLHRyLGUsdSxmKSl9LGVycm9yczpmdW5jdGlvbihuKXtyZXR1cm4gbj9uLmVycm9yczpudWxsfSxwYXJzZTpjdCxkYXRhOmN0LHRvdGFsOmZ1bmN0aW9uKG4pe3JldHVybiBuLmxlbmd0aH0sZ3JvdXBzOmN0LGFnZ3JlZ2F0ZXM6ZnVuY3Rpb24oKXtyZXR1cm57fX0sc2VyaWFsaXplOmZ1bmN0aW9uKG4pe3JldHVybiBufX0pO2w9bnQuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4pe3ZhciBzLG8sZixyPXRoaXM7biYmKG89bi5kYXRhKTtuPXIub3B0aW9ucz1lKHt9LHIub3B0aW9ucyxuKTtyLl9tYXA9e307ci5fcHJlZmV0Y2g9e307ci5fZGF0YT1bXTtyLl9wcmlzdGluZURhdGE9W107ci5fcmFuZ2VzPVtdO3IuX3ZpZXc9W107ci5fcHJpc3RpbmVUb3RhbD0wO3IuX2Rlc3Ryb3llZD1bXTtyLl9wYWdlU2l6ZT1uLnBhZ2VTaXplO3IuX3BhZ2U9bi5wYWdlfHwobi5wYWdlU2l6ZT8xOnQpO3IuX3NvcnQ9cnQobi5zb3J0KTtyLl9maWx0ZXI9YihuLmZpbHRlcik7ci5fZ3JvdXA9dXQobi5ncm91cCk7ci5fYWdncmVnYXRlPW4uYWdncmVnYXRlO3IuX3RvdGFsPW4udG90YWw7ci5fc2hvdWxkRGV0YWNoT2JzZXJ2YWJsZVBhcmVudHM9ITA7bnQuZm4uaW5pdC5jYWxsKHIpO3IudHJhbnNwb3J0PWxpLmNyZWF0ZShuLG8scik7aChyLnRyYW5zcG9ydC5wdXNoKSYmci50cmFuc3BvcnQucHVzaCh7cHVzaENyZWF0ZTp3KHIuX3B1c2hDcmVhdGUscikscHVzaFVwZGF0ZTp3KHIuX3B1c2hVcGRhdGUscikscHVzaERlc3Ryb3k6dyhyLl9wdXNoRGVzdHJveSxyKX0pO251bGwhPW4ub2ZmbGluZVN0b3JhZ2UmJigic3RyaW5nIj09dHlwZW9mIG4ub2ZmbGluZVN0b3JhZ2U/KGY9bi5vZmZsaW5lU3RvcmFnZSxyLl9zdG9yYWdlPXtnZXRJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oZikpfSxzZXRJdGVtOmZ1bmN0aW9uKG4pe2xvY2FsU3RvcmFnZS5zZXRJdGVtKGYsZ3Qoci5yZWFkZXIuc2VyaWFsaXplKG4pKSl9fSk6ci5fc3RvcmFnZT1uLm9mZmxpbmVTdG9yYWdlKTtyLnJlYWRlcj1uZXcgaS5kYXRhLnJlYWRlcnNbbi5zY2hlbWEudHlwZXx8Impzb24iXShuLnNjaGVtYSk7cz1yLnJlYWRlci5tb2RlbHx8e307ci5fZGV0YWNoT2JzZXJ2YWJsZVBhcmVudHMoKTtyLl9kYXRhPXIuX29ic2VydmUoci5fZGF0YSk7ci5fb25saW5lPSEwO3IuYmluZChbInB1c2giLHR0LHUsaXQsdXUsZXQsaHRdLG4pfSxvcHRpb25zOntkYXRhOm51bGwsc2NoZW1hOnttb2RlbEJhc2U6cH0sb2ZmbGluZVN0b3JhZ2U6bnVsbCxzZXJ2ZXJTb3J0aW5nOiExLHNlcnZlclBhZ2luZzohMSxzZXJ2ZXJGaWx0ZXJpbmc6ITEsc2VydmVyR3JvdXBpbmc6ITEsc2VydmVyQWdncmVnYXRlczohMSxiYXRjaDohMSxpblBsYWNlU29ydDohMX0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sb25saW5lOmZ1bmN0aW9uKGkpe3JldHVybiBpIT09dD90aGlzLl9vbmxpbmUhPWkmJih0aGlzLl9vbmxpbmU9aSxpKT90aGlzLnN5bmMoKTpuLkRlZmVycmVkKCkucmVzb2x2ZSgpLnByb21pc2UoKTp0aGlzLl9vbmxpbmV9LG9mZmxpbmVEYXRhOmZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT10aGlzLm9wdGlvbnMub2ZmbGluZVN0b3JhZ2U/bnVsbDpuIT09dD90aGlzLl9zdG9yYWdlLnNldEl0ZW0obik6dGhpcy5fc3RvcmFnZS5nZXRJdGVtKCl8fFtdfSxfaXNTZXJ2ZXJHcm91cGVkOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5ncm91cCgpfHxbXTtyZXR1cm4gdGhpcy5vcHRpb25zLnNlcnZlckdyb3VwaW5nJiZuLmxlbmd0aH0sX3B1c2hDcmVhdGU6ZnVuY3Rpb24obil7dGhpcy5fcHVzaChuLCJwdXNoQ3JlYXRlIil9LF9wdXNoVXBkYXRlOmZ1bmN0aW9uKG4pe3RoaXMuX3B1c2gobiwicHVzaFVwZGF0ZSIpfSxfcHVzaERlc3Ryb3k6ZnVuY3Rpb24obil7dGhpcy5fcHVzaChuLCJwdXNoRGVzdHJveSIpfSxfcHVzaDpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuX3JlYWREYXRhKG4pO2l8fChpPW4pO3RoaXNbdF0oaSl9LF9mbGF0RGF0YTpmdW5jdGlvbihuLHQpe2lmKG4pe2lmKHRoaXMuX2lzU2VydmVyR3JvdXBlZCgpKXJldHVybiBmaShuKTtpZighdClmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKyluLmF0KGkpfXJldHVybiBufSxwYXJlbnQ6YSxnZXQ6ZnVuY3Rpb24obil7Zm9yKHZhciBpPXRoaXMuX2ZsYXREYXRhKHRoaXMuX2RhdGEsdGhpcy5vcHRpb25zLnVzZVJhbmdlcyksdD0wLHI9aS5sZW5ndGg7dDxyO3QrKylpZihpW3RdLmlkPT1uKXJldHVybiBpW3RdfSxnZXRCeVVpZDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fZ2V0QnlVaWQobix0aGlzLl9kYXRhKX0sX2dldEJ5VWlkOmZ1bmN0aW9uKG4sdCl7dmFyIGksdSxyPXRoaXMuX2ZsYXREYXRhKHQsdGhpcy5vcHRpb25zLnVzZVJhbmdlcyk7aWYocilmb3IoaT0wLHU9ci5sZW5ndGg7aTx1O2krKylpZihyW2ldLnVpZD09bilyZXR1cm4gcltpXX0saW5kZXhPZjpmdW5jdGlvbihuKXtyZXR1cm4gY3IodGhpcy5fZGF0YSxuKX0sYXQ6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2RhdGEuYXQobil9LGRhdGE6ZnVuY3Rpb24obil7dmFyIHIsaT10aGlzO2lmKG49PT10KXtpZihpLl9kYXRhKWZvcihyPTA7cjxpLl9kYXRhLmxlbmd0aDtyKyspaS5fZGF0YS5hdChyKTtyZXR1cm4gaS5fZGF0YX1pLl9kZXRhY2hPYnNlcnZhYmxlUGFyZW50cygpO2kuX2RhdGE9dGhpcy5fb2JzZXJ2ZShuKTtpLl9wcmlzdGluZURhdGE9bi5zbGljZSgwKTtpLl9zdG9yZURhdGEoKTtpLl9yYW5nZXM9W107aS50cmlnZ2VyKCJyZXNldCIpO2kuX2FkZFJhbmdlKGkuX2RhdGEpO2kuX3RvdGFsPWkuX2RhdGEubGVuZ3RoO2kuX3ByaXN0aW5lVG90YWw9aS5fdG90YWw7aS5fcHJvY2VzcyhpLl9kYXRhKX0sdmlldzpmdW5jdGlvbihuKXtyZXR1cm4gbj09PXQ/dGhpcy5fdmlldzoodGhpcy5fdmlldz10aGlzLl9vYnNlcnZlVmlldyhuKSx0KX0sX29ic2VydmVWaWV3OmZ1bmN0aW9uKG4pe3ZhciBpLHQ9dGhpcztyZXR1cm4gc3Iobix0Ll9kYXRhLHQuX3Jhbmdlcyx0LnJlYWRlci5tb2RlbHx8cyx0Ll9pc1NlcnZlckdyb3VwZWQoKSksaT1uZXcgb3Qobix0LnJlYWRlci5tb2RlbCksaS5wYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5wYXJlbnQoKX0saX0sZmxhdFZpZXc6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmdyb3VwKCl8fFtdO3JldHVybiBuLmxlbmd0aD9maSh0aGlzLl92aWV3KTp0aGlzLl92aWV3fSxhZGQ6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuaW5zZXJ0KHRoaXMuX2RhdGEubGVuZ3RoLG4pfSxfY3JlYXRlTmV3TW9kZWw6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucmVhZGVyLm1vZGVsP25ldyB0aGlzLnJlYWRlci5tb2RlbChuKTpuIGluc3RhbmNlb2Ygcz9uOm5ldyBzKG4pfSxpbnNlcnQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gdHx8KHQ9bixuPTApLHQgaW5zdGFuY2VvZiBwfHwodD10aGlzLl9jcmVhdGVOZXdNb2RlbCh0KSksdGhpcy5faXNTZXJ2ZXJHcm91cGVkKCk/dGhpcy5fZGF0YS5zcGxpY2UobiwwLHRoaXMuX3dyYXBJbkVtcHR5R3JvdXAodCkpOnRoaXMuX2RhdGEuc3BsaWNlKG4sMCx0KSx0aGlzLl9pbnNlcnRNb2RlbEluUmFuZ2Uobix0KSx0fSxwdXNoSW5zZXJ0OmZ1bmN0aW9uKHQsaSl7dmFyIHUscyxmLGgsZSxyLGw9dGhpcyxvPWwuX2dldEN1cnJlbnRSYW5nZVNwYW4oKTtpfHwoaT10LHQ9MCk7YyhpKXx8KGk9W2ldKTt1PVtdO3M9dGhpcy5vcHRpb25zLmF1dG9TeW5jO3RoaXMub3B0aW9ucy5hdXRvU3luYz0hMTt0cnl7Zm9yKGY9MDtmPGkubGVuZ3RoO2YrKyloPWlbZl0sZT10aGlzLmluc2VydCh0LGgpLHUucHVzaChlKSxyPWUudG9KU09OKCksdGhpcy5faXNTZXJ2ZXJHcm91cGVkKCkmJihyPXRoaXMuX3dyYXBJbkVtcHR5R3JvdXAocikpLHRoaXMuX3ByaXN0aW5lRGF0YS5wdXNoKHIpLG8mJm8ubGVuZ3RoJiZuKG8pLmxhc3QoKVswXS5wcmlzdGluZURhdGEucHVzaChyKSx0Kyt9ZmluYWxseXt0aGlzLm9wdGlvbnMuYXV0b1N5bmM9c311Lmxlbmd0aCYmdGhpcy50cmlnZ2VyKCJwdXNoIix7dHlwZToiY3JlYXRlIixpdGVtczp1fSl9LHB1c2hDcmVhdGU6ZnVuY3Rpb24obil7dGhpcy5wdXNoSW5zZXJ0KHRoaXMuX2RhdGEubGVuZ3RoLG4pfSxwdXNoVXBkYXRlOmZ1bmN0aW9uKG4pe3ZhciByLGYsaSxlLHQ7Zm9yKGMobil8fChuPVtuXSkscj1bXSxmPTA7ZjxuLmxlbmd0aDtmKyspaT1uW2ZdLGU9dGhpcy5fY3JlYXRlTmV3TW9kZWwoaSksdD10aGlzLmdldChlLmlkKSx0PyhyLnB1c2godCksdC5hY2NlcHQoaSksdC50cmlnZ2VyKHUpLHRoaXMuX3VwZGF0ZVByaXN0aW5lRm9yTW9kZWwodCxpKSk6dGhpcy5wdXNoQ3JlYXRlKGkpO3IubGVuZ3RoJiZ0aGlzLnRyaWdnZXIoInB1c2giLHt0eXBlOiJ1cGRhdGUiLGl0ZW1zOnJ9KX0scHVzaERlc3Ryb3k6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fcmVtb3ZlSXRlbXMobik7dC5sZW5ndGgmJnRoaXMudHJpZ2dlcigicHVzaCIse3R5cGU6ImRlc3Ryb3kiLGl0ZW1zOnR9KX0sX3JlbW92ZUl0ZW1zOmZ1bmN0aW9uKG4saSl7dmFyIG8sdSxzLHIsaCxmLGU7YyhuKXx8KG49W25dKTtvPXQ9PT1pfHxpO3U9W107cz10aGlzLm9wdGlvbnMuYXV0b1N5bmM7dGhpcy5vcHRpb25zLmF1dG9TeW5jPSExO3RyeXtmb3Iocj0wO3I8bi5sZW5ndGg7cisrKWg9bltyXSxmPXRoaXMuX2NyZWF0ZU5ld01vZGVsKGgpLGU9ITEsdGhpcy5fZWFjaEl0ZW0odGhpcy5fZGF0YSxmdW5jdGlvbihuKXtmb3IodmFyIGksdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKGk9bi5hdCh0KSxpLmlkPT09Zi5pZCl7dS5wdXNoKGkpO24uc3BsaWNlKHQsMSk7ZT0hMDticmVha319KSxlJiZvJiYodGhpcy5fcmVtb3ZlUHJpc3RpbmVGb3JNb2RlbChmKSx0aGlzLl9kZXN0cm95ZWQucG9wKCkpfWZpbmFsbHl7dGhpcy5vcHRpb25zLmF1dG9TeW5jPXN9cmV0dXJuIHV9LHJlbW92ZTpmdW5jdGlvbihuKXt2YXIgdCxpPXRoaXMscj1pLl9pc1NlcnZlckdyb3VwZWQoKTtyZXR1cm4gdGhpcy5fZWFjaEl0ZW0oaS5fZGF0YSxmdW5jdGlvbih1KXtpZih0PXB1KHUsbiksdCYmcilyZXR1cm4gdC5pc05ldyYmdC5pc05ldygpfHxpLl9kZXN0cm95ZWQucHVzaCh0KSwhMH0pLHRoaXMuX3JlbW92ZU1vZGVsRnJvbVJhbmdlcyhuKSxufSxkZXN0cm95ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVzdHJveWVkfSxjcmVhdGVkOmZ1bmN0aW9uKCl7Zm9yKHZhciByPVtdLHQ9dGhpcy5fZmxhdERhdGEodGhpcy5fZGF0YSx0aGlzLm9wdGlvbnMudXNlUmFuZ2VzKSxuPTAsaT10Lmxlbmd0aDtuPGk7bisrKXRbbl0uaXNOZXcmJnRbbl0uaXNOZXcoKSYmci5wdXNoKHRbbl0pO3JldHVybiByfSx1cGRhdGVkOmZ1bmN0aW9uKCl7Zm9yKHZhciByPVtdLHQ9dGhpcy5fZmxhdERhdGEodGhpcy5fZGF0YSx0aGlzLm9wdGlvbnMudXNlUmFuZ2VzKSxuPTAsaT10Lmxlbmd0aDtuPGk7bisrKXRbbl0uaXNOZXcmJiF0W25dLmlzTmV3KCkmJnRbbl0uZGlydHkmJnIucHVzaCh0W25dKTtyZXR1cm4gcn0sc3luYzpmdW5jdGlvbigpe3ZhciBpLHQ9dGhpcyxyPVtdLHU9W10sZT10Ll9kZXN0cm95ZWQsZj1uLkRlZmVycmVkKCkucmVzb2x2ZSgpLnByb21pc2UoKTtpZih0Lm9ubGluZSgpKXtpZighdC5yZWFkZXIubW9kZWwpcmV0dXJuIGY7cj10LmNyZWF0ZWQoKTt1PXQudXBkYXRlZCgpO2k9W107dC5vcHRpb25zLmJhdGNoJiZ0LnRyYW5zcG9ydC5zdWJtaXQ/aT10Ll9zZW5kU3VibWl0KHIsdSxlKTooaS5wdXNoLmFwcGx5KGksdC5fc2VuZCgiY3JlYXRlIixyKSksaS5wdXNoLmFwcGx5KGksdC5fc2VuZCgidXBkYXRlIix1KSksaS5wdXNoLmFwcGx5KGksdC5fc2VuZCgiZGVzdHJveSIsZSkpKTtmPW4ud2hlbi5hcHBseShudWxsLGkpLnRoZW4oZnVuY3Rpb24oKXtmb3IodmFyIG49MCxpPWFyZ3VtZW50cy5sZW5ndGg7bjxpO24rKylhcmd1bWVudHNbbl0mJnQuX2FjY2VwdChhcmd1bWVudHNbbl0pO3QuX3N0b3JlRGF0YSghMCk7dC5fc3luY0VuZCgpO3QuX2NoYW5nZSh7YWN0aW9uOiJzeW5jIn0pO3QudHJpZ2dlcih1dSl9KX1lbHNlIHQuX3N0b3JlRGF0YSghMCksdC5fc3luY0VuZCgpLHQuX2NoYW5nZSh7YWN0aW9uOiJzeW5jIn0pO3JldHVybiBmfSxfc3luY0VuZDphLGNhbmNlbENoYW5nZXM6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcztuIGluc3RhbmNlb2YgaS5kYXRhLk1vZGVsP3QuX2NhbmNlbE1vZGVsKG4pOih0Ll9kZXN0cm95ZWQ9W10sdC5fZGV0YWNoT2JzZXJ2YWJsZVBhcmVudHMoKSx0Ll9kYXRhPXQuX29ic2VydmUodC5fcHJpc3RpbmVEYXRhKSx0Lm9wdGlvbnMuc2VydmVyUGFnaW5nJiYodC5fdG90YWw9dC5fcHJpc3RpbmVUb3RhbCksdC5fcmFuZ2VzPVtdLHQuX2FkZFJhbmdlKHQuX2RhdGEsMCksdC5fY2hhbmdlc0NhbmNlbGVkKCksdC5fY2hhbmdlKCksdC5fbWFya09mZmxpbmVVcGRhdGVzQXNEaXJ0eSgpKX0sX2NoYW5nZXNDYW5jZWxlZDphLF9tYXJrT2ZmbGluZVVwZGF0ZXNBc0RpcnR5OmZ1bmN0aW9uKCl7dmFyIG49dGhpcztudWxsIT1uLm9wdGlvbnMub2ZmbGluZVN0b3JhZ2UmJm4uX2VhY2hJdGVtKG4uX2RhdGEsZnVuY3Rpb24obil7Zm9yKHZhciBpLHQ9MDt0PG4ubGVuZ3RoO3QrKylpPW4uYXQodCksInVwZGF0ZSIhPWkuX19zdGF0ZV9fJiYiY3JlYXRlIiE9aS5fX3N0YXRlX198fChpLmRpcnR5PSEwKX0pfSxoYXNDaGFuZ2VzOmZ1bmN0aW9uKCl7dmFyIG4saSx0PXRoaXMuX2ZsYXREYXRhKHRoaXMuX2RhdGEsdGhpcy5vcHRpb25zLnVzZVJhbmdlcyk7aWYodGhpcy5fZGVzdHJveWVkLmxlbmd0aClyZXR1cm4hMDtmb3Iobj0wLGk9dC5sZW5ndGg7bjxpO24rKylpZih0W25dLmlzTmV3JiZ0W25dLmlzTmV3KCl8fHRbbl0uZGlydHkpcmV0dXJuITA7cmV0dXJuITF9LF9hY2NlcHQ6ZnVuY3Rpb24odCl7dmFyIG8scj10aGlzLGY9dC5tb2RlbHMsaT10LnJlc3BvbnNlLHU9MCxzPXIuX2lzU2VydmVyR3JvdXBlZCgpLGg9ci5fcHJpc3RpbmVEYXRhLGU9dC50eXBlO2lmKHIudHJpZ2dlcihldCx7cmVzcG9uc2U6aSx0eXBlOmV9KSxpJiYhayhpKSl7aWYoaT1yLnJlYWRlci5wYXJzZShpKSxyLl9oYW5kbGVDdXN0b21FcnJvcnMoaSkpcmV0dXJuO2k9ci5yZWFkZXIuZGF0YShpKTtjKGkpfHwoaT1baV0pfWVsc2UgaT1uLm1hcChmLGZ1bmN0aW9uKG4pe3JldHVybiBuLnRvSlNPTigpfSk7Zm9yKCJkZXN0cm95Ij09PWUmJihyLl9kZXN0cm95ZWQ9W10pLHU9MCxvPWYubGVuZ3RoO3U8bzt1KyspImRlc3Ryb3kiIT09ZT8oZlt1XS5hY2NlcHQoaVt1XSksImNyZWF0ZSI9PT1lP2gucHVzaChzP3IuX3dyYXBJbkVtcHR5R3JvdXAoZlt1XS50b0pTT04oKSk6aVt1XSk6InVwZGF0ZSI9PT1lJiZyLl91cGRhdGVQcmlzdGluZUZvck1vZGVsKGZbdV0saVt1XSkpOnIuX3JlbW92ZVByaXN0aW5lRm9yTW9kZWwoZlt1XSl9LF91cGRhdGVQcmlzdGluZUZvck1vZGVsOmZ1bmN0aW9uKG4sdCl7dGhpcy5fZXhlY3V0ZU9uUHJpc3RpbmVGb3JNb2RlbChuLGZ1bmN0aW9uKG4scil7aS5kZWVwRXh0ZW5kKHJbbl0sdCl9KX0sX2V4ZWN1dGVPblByaXN0aW5lRm9yTW9kZWw6ZnVuY3Rpb24obix0KXt0aGlzLl9lYWNoUHJpc3RpbmVJdGVtKGZ1bmN0aW9uKGkpe3ZhciByPWhyKGksbik7aWYocj4tMSlyZXR1cm4gdChyLGkpLCEwfSl9LF9yZW1vdmVQcmlzdGluZUZvck1vZGVsOmZ1bmN0aW9uKG4pe3RoaXMuX2V4ZWN1dGVPblByaXN0aW5lRm9yTW9kZWwobixmdW5jdGlvbihuLHQpe3Quc3BsaWNlKG4sMSl9KX0sX3JlYWREYXRhOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2lzU2VydmVyR3JvdXBlZCgpP3RoaXMucmVhZGVyLmdyb3Vwczp0aGlzLnJlYWRlci5kYXRhO3JldHVybiB0LmNhbGwodGhpcy5yZWFkZXIsbil9LF9lYWNoUHJpc3RpbmVJdGVtOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsaT10Lm9wdGlvbnMscj10Ll9nZXRDdXJyZW50UmFuZ2VTcGFuKCk7dC5fZWFjaEl0ZW0odC5fcHJpc3RpbmVEYXRhLG4pO2kuc2VydmVyUGFnaW5nJiZpLnVzZVJhbmdlcyYmYnQocixmdW5jdGlvbihpLHIpe3QuX2VhY2hJdGVtKHIucHJpc3RpbmVEYXRhLG4pfSl9LF9lYWNoSXRlbTpmdW5jdGlvbihuLHQpe24mJm4ubGVuZ3RoJiYodGhpcy5faXNTZXJ2ZXJHcm91cGVkKCk/ZXIobix0KTp0KG4pKX0sX3ByaXN0aW5lRm9yTW9kZWw6ZnVuY3Rpb24obil7dmFyIGksdCxyPWZ1bmN0aW9uKHIpe2lmKHQ9aHIocixuKSx0Pi0xKXJldHVybiBpPXJbdF0sITB9O3JldHVybiB0aGlzLl9lYWNoUHJpc3RpbmVJdGVtKHIpLGl9LF9jYW5jZWxNb2RlbDpmdW5jdGlvbihuKXt2YXIgaT10aGlzLHQ9dGhpcy5fcHJpc3RpbmVGb3JNb2RlbChuKTt0aGlzLl9lYWNoSXRlbSh0aGlzLl9kYXRhLGZ1bmN0aW9uKHIpe3ZhciB1PWNyKHIsbik7dT49MCYmKCF0fHxuLmlzTmV3KCkmJiF0Ll9fc3RhdGVfXz8oaS5fbW9kZWxDYW5jZWxlZChuKSxyLnNwbGljZSh1LDEpLGkuX3JlbW92ZU1vZGVsRnJvbVJhbmdlcyhuKSk6KHJbdV0uYWNjZXB0KHQpLCJ1cGRhdGUiPT10Ll9fc3RhdGVfXyYmKHJbdV0uZGlydHk9ITApKSl9KX0sX21vZGVsQ2FuY2VsZWQ6YSxfc3VibWl0OmZ1bmN0aW9uKHQsaSl7dmFyIHI9dGhpcztyLnRyaWdnZXIoaXQse3R5cGU6InN1Ym1pdCJ9KTtyLnRyaWdnZXIoaHQpO3IudHJhbnNwb3J0LnN1Ym1pdChlKHtzdWNjZXNzOmZ1bmN0aW9uKGkscil7dmFyIHU9bi5ncmVwKHQsZnVuY3Rpb24obil7cmV0dXJuIG4udHlwZT09cn0pWzBdO3UmJnUucmVzb2x2ZSh7cmVzcG9uc2U6aSxtb2RlbHM6dS5tb2RlbHMsdHlwZTpyfSl9LGVycm9yOmZ1bmN0aW9uKG4saSx1KXtmb3IodmFyIGY9MDtmPHQubGVuZ3RoO2YrKyl0W2ZdLnJlamVjdChuKTtyLmVycm9yKG4saSx1KX19LGkpKX0sX3NlbmRTdWJtaXQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PXRoaXMsZj1bXTtyZXR1cm4gdS5vcHRpb25zLmJhdGNoJiYodC5sZW5ndGgmJmYucHVzaChuLkRlZmVycmVkKGZ1bmN0aW9uKG4pe24udHlwZT0iY3JlYXRlIjtuLm1vZGVscz10fSkpLGkubGVuZ3RoJiZmLnB1c2gobi5EZWZlcnJlZChmdW5jdGlvbihuKXtuLnR5cGU9InVwZGF0ZSI7bi5tb2RlbHM9aX0pKSxyLmxlbmd0aCYmZi5wdXNoKG4uRGVmZXJyZWQoZnVuY3Rpb24obil7bi50eXBlPSJkZXN0cm95IjtuLm1vZGVscz1yfSkpLHUuX3N1Ym1pdChmLHtkYXRhOntjcmVhdGVkOnUucmVhZGVyLnNlcmlhbGl6ZSh5dCh0KSksdXBkYXRlZDp1LnJlYWRlci5zZXJpYWxpemUoeXQoaSkpLGRlc3Ryb3llZDp1LnJlYWRlci5zZXJpYWxpemUoeXQocikpfX0pKSxmfSxfcHJvbWlzZTpmdW5jdGlvbih0LGkscil7dmFyIHU9dGhpcztyZXR1cm4gbi5EZWZlcnJlZChmdW5jdGlvbihuKXt1LnRyaWdnZXIoaXQse3R5cGU6cn0pO3UudHJpZ2dlcihodCk7dS50cmFuc3BvcnRbcl0uY2FsbCh1LnRyYW5zcG9ydCxlKHtzdWNjZXNzOmZ1bmN0aW9uKHQpe24ucmVzb2x2ZSh7cmVzcG9uc2U6dCxtb2RlbHM6aSx0eXBlOnJ9KX0sZXJyb3I6ZnVuY3Rpb24odCxpLHIpe24ucmVqZWN0KHQpO3UuZXJyb3IodCxpLHIpfX0sdCkpfSkucHJvbWlzZSgpfSxfc2VuZDpmdW5jdGlvbihuLHQpe3ZhciBpLGYscj10aGlzLHU9W10sZT1yLnJlYWRlci5zZXJpYWxpemUoeXQodCkpO2lmKHIub3B0aW9ucy5iYXRjaCl0Lmxlbmd0aCYmdS5wdXNoKHIuX3Byb21pc2Uoe2RhdGE6e21vZGVsczplfX0sdCxuKSk7ZWxzZSBmb3IoaT0wLGY9dC5sZW5ndGg7aTxmO2krKyl1LnB1c2goci5fcHJvbWlzZSh7ZGF0YTplW2ldfSxbdFtpXV0sbikpO3JldHVybiB1fSxyZWFkOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMsdT1pLl9wYXJhbXModCkscj1uLkRlZmVycmVkKCk7cmV0dXJuIGkuX3F1ZXVlUmVxdWVzdCh1LGZ1bmN0aW9uKCl7dmFyIG49aS50cmlnZ2VyKGl0LHt0eXBlOiJyZWFkIn0pO24/KGkuX2RlcXVldWVSZXF1ZXN0KCksci5yZXNvbHZlKG4pKTooaS50cmlnZ2VyKGh0KSxpLl9yYW5nZXM9W10saS50cmlnZ2VyKCJyZXNldCIpLGkub25saW5lKCk/aS50cmFuc3BvcnQucmVhZCh7ZGF0YTp1LHN1Y2Nlc3M6ZnVuY3Rpb24obil7aS5fcmFuZ2VzPVtdO2kuc3VjY2VzcyhuLHUpO3IucmVzb2x2ZSgpfSxlcnJvcjpmdW5jdGlvbigpe3ZhciBuPWF0LmNhbGwoYXJndW1lbnRzKTtpLmVycm9yLmFwcGx5KGksbik7ci5yZWplY3QuYXBwbHkocixuKX19KTpudWxsIT1pLm9wdGlvbnMub2ZmbGluZVN0b3JhZ2UmJihpLnN1Y2Nlc3MoaS5vZmZsaW5lRGF0YSgpLHUpLHIucmVzb2x2ZSgpKSl9KSxyLnByb21pc2UoKX0sX3JlYWRBZ2dyZWdhdGVzOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnJlYWRlci5hZ2dyZWdhdGVzKG4pfSxzdWNjZXNzOmZ1bmN0aW9uKG4pe3ZhciBmLGgsYyxsLGEscix2LGUseSxvLHMsaT10aGlzLHA9aS5vcHRpb25zO2lmKGkudHJpZ2dlcihldCx7cmVzcG9uc2U6bix0eXBlOiJyZWFkIn0pLGkub25saW5lKCkpe2lmKG49aS5yZWFkZXIucGFyc2UobiksaS5faGFuZGxlQ3VzdG9tRXJyb3JzKG4pKXJldHVybiBpLl9kZXF1ZXVlUmVxdWVzdCgpLHQ7aS5fdG90YWw9aS5yZWFkZXIudG90YWwobik7aS5fcGFnZVNpemU+aS5fdG90YWwmJihpLl9wYWdlU2l6ZT1pLl90b3RhbCxpLm9wdGlvbnMucGFnZVNpemUmJmkub3B0aW9ucy5wYWdlU2l6ZT5pLl9wYWdlU2l6ZSYmKGkuX3BhZ2VTaXplPWkub3B0aW9ucy5wYWdlU2l6ZSkpO2kuX2FnZ3JlZ2F0ZSYmcC5zZXJ2ZXJBZ2dyZWdhdGVzJiYoaS5fYWdncmVnYXRlUmVzdWx0PWkuX3JlYWRBZ2dyZWdhdGVzKG4pKTtuPWkuX3JlYWREYXRhKG4pO2kuX2Rlc3Ryb3llZD1bXX1lbHNle2ZvcihuPWkuX3JlYWREYXRhKG4pLGY9W10sYz17fSxsPWkucmVhZGVyLm1vZGVsLGE9bD9sLmlkRmllbGQ6ImlkIixyPTA7cjx0aGlzLl9kZXN0cm95ZWQubGVuZ3RoO3IrKyl2PXRoaXMuX2Rlc3Ryb3llZFtyXVthXSxjW3ZdPXY7Zm9yKHI9MDtyPG4ubGVuZ3RoO3IrKyllPW5bcl0seT1lLl9fc3RhdGVfXywiZGVzdHJveSI9PXk/Y1tlW2FdXXx8dGhpcy5fZGVzdHJveWVkLnB1c2godGhpcy5fY3JlYXRlTmV3TW9kZWwoZSkpOmYucHVzaChlKTtuPWY7aS5fdG90YWw9bi5sZW5ndGh9aWYoaS5fcHJpc3RpbmVUb3RhbD1pLl90b3RhbCxoPWkuX3NraXAmJmkuX2RhdGEubGVuZ3RoJiZpLl9za2lwPGkuX2RhdGEubGVuZ3RoLGkub3B0aW9ucy5lbmRsZXNzKWZvcihoJiZpLl9wcmlzdGluZURhdGEuc3BsaWNlKGkuX3NraXAsaS5fcHJpc3RpbmVEYXRhLmxlbmd0aCksZj1uLnNsaWNlKDApLG89MDtvPGYubGVuZ3RoO28rKylpLl9wcmlzdGluZURhdGEucHVzaChmW29dKTtlbHNlIGkuX3ByaXN0aW5lRGF0YT1uLnNsaWNlKDApO2lmKGkuX2RldGFjaE9ic2VydmFibGVQYXJlbnRzKCksaS5vcHRpb25zLmVuZGxlc3Mpe2ZvcihpLl9kYXRhLnVuYmluZCh1LGkuX2NoYW5nZUhhbmRsZXIpLGkuX2lzU2VydmVyR3JvdXBlZCgpJiZpLl9kYXRhW2kuX2RhdGEubGVuZ3RoLTFdLnZhbHVlPT09blswXS52YWx1ZSYmKHJyKGkuX2RhdGFbaS5fZGF0YS5sZW5ndGgtMV0sblswXSksbi5zaGlmdCgpKSxuPWkuX29ic2VydmUobiksaCYmaS5fZGF0YS5zcGxpY2UoaS5fc2tpcCxpLl9kYXRhLmxlbmd0aCkscz0wO3M8bi5sZW5ndGg7cysrKWkuX2RhdGEucHVzaChuW3NdKTtpLl9kYXRhLmJpbmQodSxpLl9jaGFuZ2VIYW5kbGVyKX1lbHNlIGkuX2RhdGE9aS5fb2JzZXJ2ZShuKTtpLl9tYXJrT2ZmbGluZVVwZGF0ZXNBc0RpcnR5KCk7aS5fc3RvcmVEYXRhKCk7aS5fYWRkUmFuZ2UoaS5fZGF0YSk7aS5fcHJvY2VzcyhpLl9kYXRhKTtpLl9kZXF1ZXVlUmVxdWVzdCgpfSxfZGV0YWNoT2JzZXJ2YWJsZVBhcmVudHM6ZnVuY3Rpb24oKXtpZih0aGlzLl9kYXRhJiZ0aGlzLl9zaG91bGREZXRhY2hPYnNlcnZhYmxlUGFyZW50cylmb3IodmFyIG49MDtuPHRoaXMuX2RhdGEubGVuZ3RoO24rKyl0aGlzLl9kYXRhW25dLnBhcmVudCYmKHRoaXMuX2RhdGFbbl0ucGFyZW50PWEpfSxfc3RvcmVEYXRhOmZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGYobil7Zm9yKHZhciB0LGksdT1bXSxyPTA7cjxuLmxlbmd0aDtyKyspdD1uLmF0KHIpLGk9dC50b0pTT04oKSxlJiZ0Lml0ZW1zP2kuaXRlbXM9Zih0Lml0ZW1zKTooaS51aWQ9dC51aWQsbyYmKHQuaXNOZXcoKT9pLl9fc3RhdGVfXz0iY3JlYXRlIjp0LmRpcnR5JiYoaS5fX3N0YXRlX189InVwZGF0ZSIpKSksdS5wdXNoKGkpO3JldHVybiB1fXZhciB0LHIsaSx1LGU9dGhpcy5faXNTZXJ2ZXJHcm91cGVkKCksbz10aGlzLnJlYWRlci5tb2RlbDtpZihudWxsIT10aGlzLm9wdGlvbnMub2ZmbGluZVN0b3JhZ2Upe2Zvcih0PWYodGhpcy5fZGF0YSkscj1bXSxpPTA7aTx0aGlzLl9kZXN0cm95ZWQubGVuZ3RoO2krKyl1PXRoaXMuX2Rlc3Ryb3llZFtpXS50b0pTT04oKSx1Ll9fc3RhdGVfXz0iZGVzdHJveSIsci5wdXNoKHUpO3RoaXMub2ZmbGluZURhdGEodC5jb25jYXQocikpO24mJih0aGlzLl9wcmlzdGluZURhdGE9dGhpcy5yZWFkZXIucmVhZGVyP3RoaXMucmVhZGVyLnJlYWRlci5fd3JhcERhdGFBY2Nlc3NCYXNlKHQpOnRoaXMucmVhZGVyLl93cmFwRGF0YUFjY2Vzc0Jhc2UodCkpfX0sX2FkZFJhbmdlOmZ1bmN0aW9uKG4saSl7dmFyIHI9dGhpcyx1PXQhPT1pP2k6ci5fc2tpcHx8MCxmPXUrci5fZmxhdERhdGEobiwhMCkubGVuZ3RoO3IuX3Jhbmdlcy5wdXNoKHtzdGFydDp1LGVuZDpmLGRhdGE6bixwcmlzdGluZURhdGE6bi50b0pTT04oKSx0aW1lc3RhbXA6ci5fdGltZVN0YW1wKCl9KTtyLl9zb3J0UmFuZ2VzKCl9LF9zb3J0UmFuZ2VzOmZ1bmN0aW9uKCl7dGhpcy5fcmFuZ2VzLnNvcnQoZnVuY3Rpb24obix0KXtyZXR1cm4gbi5zdGFydC10LnN0YXJ0fSl9LGVycm9yOmZ1bmN0aW9uKG4sdCxpKXt0aGlzLl9kZXF1ZXVlUmVxdWVzdCgpO3RoaXMudHJpZ2dlcihldCx7fSk7dGhpcy50cmlnZ2VyKHR0LHt4aHI6bixzdGF0dXM6dCxlcnJvclRocm93bjppfSl9LF9wYXJhbXM6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxpPWUoe3Rha2U6dC50YWtlKCksc2tpcDp0LnNraXAoKSxwYWdlOnQucGFnZSgpLHBhZ2VTaXplOnQucGFnZVNpemUoKSxzb3J0OnQuX3NvcnQsZmlsdGVyOnQuX2ZpbHRlcixncm91cDp0Ll9ncm91cCxhZ2dyZWdhdGU6dC5fYWdncmVnYXRlfSxuKTtyZXR1cm4gdC5vcHRpb25zLnNlcnZlclBhZ2luZ3x8KGRlbGV0ZSBpLnRha2UsZGVsZXRlIGkuc2tpcCxkZWxldGUgaS5wYWdlLGRlbGV0ZSBpLnBhZ2VTaXplKSx0Lm9wdGlvbnMuc2VydmVyR3JvdXBpbmc/dC5yZWFkZXIubW9kZWwmJmkuZ3JvdXAmJihpLmdyb3VwPXB0KGkuZ3JvdXAsdC5yZWFkZXIubW9kZWwpKTpkZWxldGUgaS5ncm91cCx0Lm9wdGlvbnMuc2VydmVyRmlsdGVyaW5nP3QucmVhZGVyLm1vZGVsJiZpLmZpbHRlciYmKGkuZmlsdGVyPXZyKGkuZmlsdGVyLHQucmVhZGVyLm1vZGVsKSk6ZGVsZXRlIGkuZmlsdGVyLHQub3B0aW9ucy5zZXJ2ZXJTb3J0aW5nP3QucmVhZGVyLm1vZGVsJiZpLnNvcnQmJihpLnNvcnQ9cHQoaS5zb3J0LHQucmVhZGVyLm1vZGVsKSk6ZGVsZXRlIGkuc29ydCx0Lm9wdGlvbnMuc2VydmVyQWdncmVnYXRlcz90LnJlYWRlci5tb2RlbCYmaS5hZ2dyZWdhdGUmJihpLmFnZ3JlZ2F0ZT1wdChpLmFnZ3JlZ2F0ZSx0LnJlYWRlci5tb2RlbCkpOmRlbGV0ZSBpLmFnZ3JlZ2F0ZSxpfSxfcXVldWVSZXF1ZXN0OmZ1bmN0aW9uKG4saSl7dmFyIHI9dGhpcztyLl9yZXF1ZXN0SW5Qcm9ncmVzcz9yLl9wZW5kaW5nPXtjYWxsYmFjazp3KGksciksb3B0aW9uczpufTooci5fcmVxdWVzdEluUHJvZ3Jlc3M9ITAsci5fcGVuZGluZz10LGkoKSl9LF9kZXF1ZXVlUmVxdWVzdDpmdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5fcmVxdWVzdEluUHJvZ3Jlc3M9ITE7bi5fcGVuZGluZyYmbi5fcXVldWVSZXF1ZXN0KG4uX3BlbmRpbmcub3B0aW9ucyxuLl9wZW5kaW5nLmNhbGxiYWNrKX0sX2hhbmRsZUN1c3RvbUVycm9yczpmdW5jdGlvbihuKXtpZih0aGlzLnJlYWRlci5lcnJvcnMpe3ZhciB0PXRoaXMucmVhZGVyLmVycm9ycyhuKTtpZih0KXJldHVybiB0aGlzLnRyaWdnZXIodHQse3hocjpudWxsLHN0YXR1czoiY3VzdG9tZXJyb3IiLGVycm9yVGhyb3duOiJjdXN0b20gZXJyb3IiLGVycm9yczp0fSksITB9cmV0dXJuITF9LF9zaG91bGRXcmFwOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMucmVhZGVyLm1vZGVsO3JldHVybiEoIXR8fCFuLmxlbmd0aCkmJiEoblswXWluc3RhbmNlb2YgdCl9LF9vYnNlcnZlOmZ1bmN0aW9uKG4pe3ZhciBpLHQ9dGhpcyxyPXQucmVhZGVyLm1vZGVsO3JldHVybiB0Ll9zaG91bGREZXRhY2hPYnNlcnZhYmxlUGFyZW50cz0hMCxuIGluc3RhbmNlb2Ygdj8odC5fc2hvdWxkRGV0YWNoT2JzZXJ2YWJsZVBhcmVudHM9ITEsdC5fc2hvdWxkV3JhcChuKSYmKG4udHlwZT10LnJlYWRlci5tb2RlbCxuLndyYXBBbGwobixuKSkpOihpPXQucGFnZVNpemUoKSYmIXQub3B0aW9ucy5zZXJ2ZXJQYWdpbmc/b3Q6dixuPW5ldyBpKG4sdC5yZWFkZXIubW9kZWwpLG4ucGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHQucGFyZW50KCl9KSx0Ll9pc1NlcnZlckdyb3VwZWQoKSYmZnIobixyKSwhKHQuX2NoYW5nZUhhbmRsZXImJnQuX2RhdGEmJnQuX2RhdGEgaW5zdGFuY2VvZiB2KXx8dC5vcHRpb25zLnVzZVJhbmdlcyYmdC5vcHRpb25zLnNlcnZlclBhZ2luZz90Ll9jaGFuZ2VIYW5kbGVyPXcodC5fY2hhbmdlLHQpOnQuX2RhdGEudW5iaW5kKHUsdC5fY2hhbmdlSGFuZGxlciksbi5iaW5kKHUsdC5fY2hhbmdlSGFuZGxlcil9LF91cGRhdGVUb3RhbEZvckFjdGlvbjpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMscj1wYXJzZUludChpLl90b3RhbCwxMCk7eShpLl90b3RhbCl8fChyPXBhcnNlSW50KGkuX3ByaXN0aW5lVG90YWwsMTApKTsiYWRkIj09PW4/cis9dC5sZW5ndGg6InJlbW92ZSI9PT1uP3ItPXQubGVuZ3RoOiJpdGVtY2hhbmdlIj09PW58fCJzeW5jIj09PW58fGkub3B0aW9ucy5zZXJ2ZXJQYWdpbmc/InN5bmMiPT09biYmKHI9aS5fcHJpc3RpbmVUb3RhbD1wYXJzZUludChpLl90b3RhbCwxMCkpOnI9aS5fcHJpc3RpbmVUb3RhbDtpLl90b3RhbD1yfSxfY2hhbmdlOmZ1bmN0aW9uKG4pe3ZhciBpLGYsdSx0PXRoaXMscj1uP24uYWN0aW9uOiIiO2lmKCJyZW1vdmUiPT09cilmb3IoaT0wLGY9bi5pdGVtcy5sZW5ndGg7aTxmO2krKyluLml0ZW1zW2ldLmlzTmV3JiZuLml0ZW1zW2ldLmlzTmV3KCl8fHQuX2Rlc3Ryb3llZC5wdXNoKG4uaXRlbXNbaV0pOyF0Lm9wdGlvbnMuYXV0b1N5bmN8fCJhZGQiIT09ciYmInJlbW92ZSIhPT1yJiYiaXRlbWNoYW5nZSIhPT1yPyh0Ll91cGRhdGVUb3RhbEZvckFjdGlvbihyLG4/bi5pdGVtczpbXSksdC5fcHJvY2Vzcyh0Ll9kYXRhLG4pKToodT1mdW5jdGlvbihpKXsic3luYyI9PT1pLmFjdGlvbiYmKHQudW5iaW5kKCJjaGFuZ2UiLHUpLHQuX3VwZGF0ZVRvdGFsRm9yQWN0aW9uKHIsbi5pdGVtcykpfSx0LmZpcnN0KCJjaGFuZ2UiLHUpLHQuc3luYygpKX0sX2NhbGN1bGF0ZUFnZ3JlZ2F0ZXM6ZnVuY3Rpb24obix0KXt0PXR8fHt9O3ZhciBpPW5ldyByKG4pLGY9dC5hZ2dyZWdhdGUsdT10LmZpbHRlcjtyZXR1cm4gdSYmKGk9aS5maWx0ZXIodSkpLGkuYWdncmVnYXRlKGYpfSxfcHJvY2VzczpmdW5jdGlvbihuLGkpe3ZhciBlLHI9dGhpcyxmPXt9O3Iub3B0aW9ucy5zZXJ2ZXJQYWdpbmchPT0hMCYmKGYuc2tpcD1yLl9za2lwLGYudGFrZT1yLl90YWtlfHxyLl9wYWdlU2l6ZSxmLnNraXA9PT10JiZyLl9wYWdlIT09dCYmci5fcGFnZVNpemUhPT10JiYoZi5za2lwPShyLl9wYWdlLTEpKnIuX3BhZ2VTaXplKSxyLm9wdGlvbnMudXNlUmFuZ2VzJiYoZi5za2lwPXIuY3VycmVudFJhbmdlU3RhcnQoKSkpO3Iub3B0aW9ucy5zZXJ2ZXJTb3J0aW5nIT09ITAmJihmLnNvcnQ9ci5fc29ydCk7ci5vcHRpb25zLnNlcnZlckZpbHRlcmluZyE9PSEwJiYoZi5maWx0ZXI9ci5fZmlsdGVyKTtyLm9wdGlvbnMuc2VydmVyR3JvdXBpbmchPT0hMCYmKGYuZ3JvdXA9ci5fZ3JvdXApO3Iub3B0aW9ucy5zZXJ2ZXJBZ2dyZWdhdGVzIT09ITAmJihmLmFnZ3JlZ2F0ZT1yLl9hZ2dyZWdhdGUpO3Iub3B0aW9ucy5zZXJ2ZXJHcm91cGluZyYmci5fY2xlYXJFbXB0eUdyb3VwcyhuKTtlPXIuX3F1ZXJ5UHJvY2VzcyhuLGYpO3Iub3B0aW9ucy5zZXJ2ZXJBZ2dyZWdhdGVzIT09ITAmJihyLl9hZ2dyZWdhdGVSZXN1bHQ9ci5fY2FsY3VsYXRlQWdncmVnYXRlcyhlLmRhdGFUb0FnZ3JlZ2F0ZXx8bixmKSk7ci52aWV3KGUuZGF0YSk7ci5fc2V0RmlsdGVyVG90YWwoZS50b3RhbCwhMSk7aT1pfHx7fTtpLml0ZW1zPWkuaXRlbXN8fHIuX3ZpZXc7ci50cmlnZ2VyKHUsaSl9LF9jbGVhckVtcHR5R3JvdXBzOmZ1bmN0aW9uKG4pe2Zvcih2YXIgdCxpPW4ubGVuZ3RoLTE7aT49MDtpLS0pdD1uW2ldLHQuaGFzU3ViZ3JvdXBzP3RoaXMuX2NsZWFyRW1wdHlHcm91cHModC5pdGVtcyk6dC5pdGVtcyYmIXQuaXRlbXMubGVuZ3RoJiZmdS5hcHBseSh0LnBhcmVudCgpLFtpLDFdKX0sX3F1ZXJ5UHJvY2VzczpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm9wdGlvbnMuaW5QbGFjZVNvcnQ/ci5wcm9jZXNzKG4sdCx0aGlzLm9wdGlvbnMuaW5QbGFjZVNvcnQpOnIucHJvY2VzcyhuLHQpfSxfbWVyZ2VTdGF0ZTpmdW5jdGlvbihpKXt2YXIgcj10aGlzO3JldHVybiBpIT09dCYmKHIuX3BhZ2VTaXplPWkucGFnZVNpemUsci5fcGFnZT1pLnBhZ2Usci5fc29ydD1pLnNvcnQsci5fZmlsdGVyPWkuZmlsdGVyLHIuX2dyb3VwPWkuZ3JvdXAsci5fYWdncmVnYXRlPWkuYWdncmVnYXRlLHIuX3NraXA9ci5fY3VycmVudFJhbmdlU3RhcnQ9aS5za2lwLHIuX3Rha2U9aS50YWtlLHIuX3NraXA9PT10JiYoci5fc2tpcD1yLl9jdXJyZW50UmFuZ2VTdGFydD1yLnNraXAoKSxpLnNraXA9ci5za2lwKCkpLHIuX3Rha2U9PT10JiZyLl9wYWdlU2l6ZSE9PXQmJihyLl90YWtlPXIuX3BhZ2VTaXplLGkudGFrZT1yLl90YWtlKSxpLnNvcnQmJihyLl9zb3J0PWkuc29ydD1ydChpLnNvcnQpLHIuX3NvcnRGaWVsZHM9b3UoaS5zb3J0KSksaS5maWx0ZXImJihyLl9maWx0ZXI9aS5maWx0ZXI9ci5vcHRpb25zLmFjY2VudEZvbGRpbmdGaWx0ZXJpbmcmJiFuLmlzRW1wdHlPYmplY3QoaS5maWx0ZXIpP24uZXh0ZW5kKHt9LGIoaS5maWx0ZXIpLHthY2NlbnRGb2xkaW5nRmlsdGVyaW5nOnIub3B0aW9ucy5hY2NlbnRGb2xkaW5nRmlsdGVyaW5nfSk6YihpLmZpbHRlcikpLGkuZ3JvdXAmJihyLl9ncm91cD1pLmdyb3VwPXV0KGkuZ3JvdXApKSxpLmFnZ3JlZ2F0ZSYmKHIuX2FnZ3JlZ2F0ZT1pLmFnZ3JlZ2F0ZT1odShpLmFnZ3JlZ2F0ZSkpKSxpfSxxdWVyeTpmdW5jdGlvbihpKXt2YXIgcixmLGUsbz10aGlzLm9wdGlvbnMuc2VydmVyU29ydGluZ3x8dGhpcy5vcHRpb25zLnNlcnZlclBhZ2luZ3x8dGhpcy5vcHRpb25zLnNlcnZlckZpbHRlcmluZ3x8dGhpcy5vcHRpb25zLnNlcnZlckdyb3VwaW5nfHx0aGlzLm9wdGlvbnMuc2VydmVyQWdncmVnYXRlcztyZXR1cm4gb3x8KHRoaXMuX2RhdGE9PT10fHwwPT09dGhpcy5fZGF0YS5sZW5ndGgpJiYhdGhpcy5fZGVzdHJveWVkLmxlbmd0aD8odGhpcy5vcHRpb25zLmVuZGxlc3MmJihmPWkucGFnZVNpemUtdGhpcy5wYWdlU2l6ZSgpLGY+MD8oZj10aGlzLnBhZ2VTaXplKCksaS5wYWdlPWkucGFnZVNpemUvZixpLnBhZ2VTaXplPWYpOihpLnBhZ2U9MSx0aGlzLm9wdGlvbnMuZW5kbGVzcz0hMSkpLHRoaXMucmVhZCh0aGlzLl9tZXJnZVN0YXRlKGkpKSk6KGU9dGhpcy50cmlnZ2VyKGl0LHt0eXBlOiJyZWFkIn0pLGV8fCh0aGlzLnRyaWdnZXIoaHQpLHI9dGhpcy5fcXVlcnlQcm9jZXNzKHRoaXMuX2RhdGEsdGhpcy5fbWVyZ2VTdGF0ZShpKSksdGhpcy5fc2V0RmlsdGVyVG90YWwoci50b3RhbCwhMCksdGhpcy5fYWdncmVnYXRlUmVzdWx0PXRoaXMuX2NhbGN1bGF0ZUFnZ3JlZ2F0ZXMoci5kYXRhVG9BZ2dyZWdhdGV8fHRoaXMuX2RhdGEsaSksdGhpcy52aWV3KHIuZGF0YSksdGhpcy50cmlnZ2VyKGV0LHt0eXBlOiJyZWFkIn0pLHRoaXMudHJpZ2dlcih1LHtpdGVtczpyLmRhdGF9KSksbi5EZWZlcnJlZCgpLnJlc29sdmUoZSkucHJvbWlzZSgpKX0sX3NldEZpbHRlclRvdGFsOmZ1bmN0aW9uKG4saSl7dmFyIHI9dGhpcztyLm9wdGlvbnMuc2VydmVyRmlsdGVyaW5nfHwobiE9PXQ/ci5fdG90YWw9bjppJiYoci5fdG90YWw9ci5fZGF0YS5sZW5ndGgpKX0sZmV0Y2g6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxpPWZ1bmN0aW9uKGkpe2khPT0hMCYmaChuKSYmbi5jYWxsKHQpfTtyZXR1cm4gdGhpcy5fcXVlcnkoKS5kb25lKGkpfSxfcXVlcnk6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcztyZXR1cm4gdC5xdWVyeShlKHt9LHtwYWdlOnQucGFnZSgpLHBhZ2VTaXplOnQucGFnZVNpemUoKSxzb3J0OnQuc29ydCgpLGZpbHRlcjp0LmZpbHRlcigpLGdyb3VwOnQuZ3JvdXAoKSxhZ2dyZWdhdGU6dC5hZ2dyZWdhdGUoKX0sbikpfSxuZXh0OmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsaT10LnBhZ2UoKSxyPXQudG90YWwoKTtpZihuPW58fHt9LGkmJiEociYmaSsxPnQudG90YWxQYWdlcygpKSlyZXR1cm4gdC5fc2tpcD10Ll9jdXJyZW50UmFuZ2VTdGFydD1pKnQudGFrZSgpLGkrPTEsbi5wYWdlPWksdC5fcXVlcnkobiksaX0scHJldjpmdW5jdGlvbihuKXt2YXIgdD10aGlzLGk9dC5wYWdlKCk7aWYobj1ufHx7fSxpJiYxIT09aSlyZXR1cm4gdC5fc2tpcD10Ll9jdXJyZW50UmFuZ2VTdGFydD10Ll9za2lwLXQudGFrZSgpLGktPTEsbi5wYWdlPWksdC5fcXVlcnkobiksaX0scGFnZTpmdW5jdGlvbihuKXt2YXIgcixpPXRoaXM7cmV0dXJuIG4hPT10PyhuPWYubWF4KGYubWluKGYubWF4KG4sMSksaS50b3RhbFBhZ2VzKCkpLDEpLGkuX3F1ZXJ5KGkuX3BhZ2VhYmxlUXVlcnlPcHRpb25zKHtwYWdlOm59KSksdCk6KHI9aS5za2lwKCksciE9PXQ/Zi5yb3VuZCgocnx8MCkvKGkudGFrZSgpfHwxKSkrMTp0KX0scGFnZVNpemU6ZnVuY3Rpb24obil7dmFyIGk9dGhpcztyZXR1cm4gbiE9PXQ/KGkuX3F1ZXJ5KGkuX3BhZ2VhYmxlUXVlcnlPcHRpb25zKHtwYWdlU2l6ZTpuLHBhZ2U6MX0pKSx0KTppLnRha2UoKX0sc29ydDpmdW5jdGlvbihuKXt2YXIgaT10aGlzO3JldHVybiBuIT09dD8oaS50cmlnZ2VyKCJzb3J0IiksaS5fcXVlcnkoe3NvcnQ6bn0pLHQpOmkuX3NvcnR9LGZpbHRlcjpmdW5jdGlvbihuKXt2YXIgaT10aGlzO3JldHVybiBuPT09dD9pLl9maWx0ZXI6KGkudHJpZ2dlcigicmVzZXQiKSxpLl9xdWVyeSh7ZmlsdGVyOm4scGFnZToxfSksdCl9LGdyb3VwOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXM7cmV0dXJuIG4hPT10PyhpLl9xdWVyeSh7Z3JvdXA6bn0pLHQpOmkuX2dyb3VwfSx0b3RhbDpmdW5jdGlvbigpe3JldHVybiBwYXJzZUludCh0aGlzLl90b3RhbHx8MCwxMCl9LGFnZ3JlZ2F0ZTpmdW5jdGlvbihuKXt2YXIgaT10aGlzO3JldHVybiBuIT09dD8oaS5fcXVlcnkoe2FnZ3JlZ2F0ZTpufSksdCk6aS5fYWdncmVnYXRlfSxhZ2dyZWdhdGVzOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fYWdncmVnYXRlUmVzdWx0O3JldHVybiBrKG4pJiYobj10aGlzLl9lbXB0eUFnZ3JlZ2F0ZXModGhpcy5hZ2dyZWdhdGUoKSkpLG59LF9lbXB0eUFnZ3JlZ2F0ZXM6ZnVuY3Rpb24obil7dmFyIGksdCxyPXt9O2lmKCFrKG4pKWZvcihpPXt9LGMobil8fChuPVtuXSksdD0wO3Q8bi5sZW5ndGg7dCsrKWlbblt0XS5hZ2dyZWdhdGVdPTAscltuW3RdLmZpZWxkXT1pO3JldHVybiByfSxfcGFnZWFibGVRdWVyeU9wdGlvbnM6ZnVuY3Rpb24obil7cmV0dXJuIG59LF93cmFwSW5FbXB0eUdyb3VwOmZ1bmN0aW9uKG4pe2Zvcih2YXIgdCxpLGY9dGhpcy5ncm91cCgpLHI9Zi5sZW5ndGgtMSx1PTA7cj49dTtyLS0paT1mW3JdLHQ9e3ZhbHVlOm4uZ2V0P24uZ2V0KGkuZmllbGQpOm5baS5maWVsZF0sZmllbGQ6aS5maWVsZCxpdGVtczp0P1t0XTpbbl0saGFzU3ViZ3JvdXBzOiEhdCxhZ2dyZWdhdGVzOnRoaXMuX2VtcHR5QWdncmVnYXRlcyhpLmFnZ3JlZ2F0ZXMpfTtyZXR1cm4gdH0sdG90YWxQYWdlczpmdW5jdGlvbigpe3ZhciBuPXRoaXMsdD1uLnBhZ2VTaXplKCl8fG4udG90YWwoKTtyZXR1cm4gZi5jZWlsKChuLnRvdGFsKCl8fDApL3QpfSxpblJhbmdlOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcyxyPWYubWluKG4rdCxpLnRvdGFsKCkpO3JldHVybiFpLm9wdGlvbnMuc2VydmVyUGFnaW5nJiZpLl9kYXRhLmxlbmd0aD4wfHxpLl9maW5kUmFuZ2UobixyKS5sZW5ndGg+MH0sbGFzdFJhbmdlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fcmFuZ2VzO3JldHVybiBuW24ubGVuZ3RoLTFdfHx7c3RhcnQ6MCxlbmQ6MCxkYXRhOltdfX0sZmlyc3RJdGVtVWlkOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fcmFuZ2VzO3JldHVybiBuLmxlbmd0aCYmblswXS5kYXRhLmxlbmd0aCYmblswXS5kYXRhWzBdLnVpZH0sZW5hYmxlUmVxdWVzdHNJblByb2dyZXNzOmZ1bmN0aW9uKCl7dGhpcy5fc2tpcFJlcXVlc3RzSW5Qcm9ncmVzcz0hMX0sX3RpbWVTdGFtcDpmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfSxyYW5nZTpmdW5jdGlvbihuLGkscil7dGhpcy5fY3VycmVudFJlcXVlc3RUaW1lU3RhbXA9dGhpcy5fdGltZVN0YW1wKCk7dGhpcy5fc2tpcFJlcXVlc3RzSW5Qcm9ncmVzcz0hMDtuPWYubWluKG58fDAsdGhpcy50b3RhbCgpKTtyPWgocik/cjphO3ZhciBzLHU9dGhpcyxvPWYubWF4KGYuZmxvb3Iobi9pKSwwKSppLGU9Zi5taW4obytpLHUudG90YWwoKSk7cmV0dXJuIHM9dS5fZmluZFJhbmdlKG4sZi5taW4obitpLHUudG90YWwoKSkpLHMubGVuZ3RofHwwPT09dS50b3RhbCgpPyh1Ll9wcm9jZXNzUmFuZ2VEYXRhKHMsbixpLG8sZSkscigpLHQpOihpIT09dCYmKHUuX3JhbmdlRXhpc3RzKG8sZSk/bzxuJiZ1LnByZWZldGNoKGUsaSxmdW5jdGlvbigpe3UucmFuZ2UobixpLHIpfSk6dS5wcmVmZXRjaChvLGksZnVuY3Rpb24oKXtuPm8mJmU8dS50b3RhbCgpJiYhdS5fcmFuZ2VFeGlzdHMoZSxmLm1pbihlK2ksdS50b3RhbCgpKSk/dS5wcmVmZXRjaChlLGksZnVuY3Rpb24oKXt1LnJhbmdlKG4saSxyKX0pOnUucmFuZ2UobixpLHIpfSkpLHQpfSxfZmluZFJhbmdlOmZ1bmN0aW9uKG4saSl7Zm9yKHZhciByLGgsYyxsLHksYSxzLHYsZixrLHU9dGhpcyx3PXUuX3JhbmdlcyxiPVtdLGU9dS5vcHRpb25zLGQ9ZS5zZXJ2ZXJTb3J0aW5nfHxlLnNlcnZlclBhZ2luZ3x8ZS5zZXJ2ZXJGaWx0ZXJpbmd8fGUuc2VydmVyR3JvdXBpbmd8fGUuc2VydmVyQWdncmVnYXRlcyxvPTAscD13Lmxlbmd0aDtvPHA7bysrKWlmKHI9d1tvXSxuPj1yLnN0YXJ0JiZuPD1yLmVuZCl7Zm9yKGY9MCxoPW87aDxwO2grKylpZihyPXdbaF0sdj11Ll9mbGF0RGF0YShyLmRhdGEsITApLHYubGVuZ3RoJiZuK2Y+PXIuc3RhcnQmJih5PXIuZGF0YSxhPXIuZW5kLGR8fChlLmluUGxhY2VTb3J0P3M9dS5fcXVlcnlQcm9jZXNzKHIuZGF0YSx7ZmlsdGVyOnUuZmlsdGVyKCl9KTooaz1ucih1Lmdyb3VwKCl8fFtdKS5jb25jYXQocnQodS5zb3J0KCl8fFtdKSkscz11Ll9xdWVyeVByb2Nlc3Moci5kYXRhLHtzb3J0OmssZmlsdGVyOnUuZmlsdGVyKCl9KSksdj15PXMuZGF0YSxzLnRvdGFsIT09dCYmKGE9cy50b3RhbCkpLGM9MCxuK2Y+ci5zdGFydCYmKGM9bitmLXIuc3RhcnQpLGw9di5sZW5ndGgsYT5pJiYobC09YS1pKSxmKz1sLWMsYj11Ll9tZXJnZUdyb3VwcyhiLHksYyxsKSxpPD1yLmVuZCYmZj09aS1uKSlyZXR1cm4gYjticmVha31yZXR1cm5bXX0sX21lcmdlR3JvdXBzOmZ1bmN0aW9uKG4sdCxpLHIpe2lmKHRoaXMuX2lzU2VydmVyR3JvdXBlZCgpKXt2YXIgdSxmPXQudG9KU09OKCk7cmV0dXJuIG4ubGVuZ3RoJiYodT1uW24ubGVuZ3RoLTFdKSx1aSh1LGYsaSxyKSxuLmNvbmNhdChmKX1yZXR1cm4gbi5jb25jYXQodC5zbGljZShpLHIpKX0sX3Byb2Nlc3NSYW5nZURhdGE6ZnVuY3Rpb24obixpLHIsdSxlKXt2YXIgcyxoLGMsbCxvPXRoaXM7by5fcGVuZGluZz10O28uX3NraXA9aT5vLnNraXAoKT9mLm1pbihlLChvLnRvdGFsUGFnZXMoKS0xKSpvLnRha2UoKSk6dTtvLl9jdXJyZW50UmFuZ2VTdGFydD1pO28uX3Rha2U9cjtzPW8ub3B0aW9ucy5zZXJ2ZXJQYWdpbmc7aD1vLm9wdGlvbnMuc2VydmVyU29ydGluZztjPW8ub3B0aW9ucy5zZXJ2ZXJGaWx0ZXJpbmc7bD1vLm9wdGlvbnMuc2VydmVyQWdncmVnYXRlczt0cnl7by5vcHRpb25zLnNlcnZlclBhZ2luZz0hMDtvLl9pc1NlcnZlckdyb3VwZWQoKXx8by5ncm91cCgpJiZvLmdyb3VwKCkubGVuZ3RofHwoby5vcHRpb25zLnNlcnZlclNvcnRpbmc9ITApO28ub3B0aW9ucy5zZXJ2ZXJGaWx0ZXJpbmc9ITA7by5vcHRpb25zLnNlcnZlclBhZ2luZz0hMDtvLm9wdGlvbnMuc2VydmVyQWdncmVnYXRlcz0hMDtzJiYoby5fZGV0YWNoT2JzZXJ2YWJsZVBhcmVudHMoKSxvLl9kYXRhPW49by5fb2JzZXJ2ZShuKSk7by5fcHJvY2VzcyhuKX1maW5hbGx5e28ub3B0aW9ucy5zZXJ2ZXJQYWdpbmc9cztvLm9wdGlvbnMuc2VydmVyU29ydGluZz1oO28ub3B0aW9ucy5zZXJ2ZXJGaWx0ZXJpbmc9YztvLm9wdGlvbnMuc2VydmVyQWdncmVnYXRlcz1sfX0sc2tpcDpmdW5jdGlvbigpe3ZhciBuPXRoaXM7cmV0dXJuIG4uX3NraXA9PT10P24uX3BhZ2UhPT10PyhuLl9wYWdlLTEpKihuLnRha2UoKXx8MSk6dDpuLl9za2lwfSxjdXJyZW50UmFuZ2VTdGFydDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50UmFuZ2VTdGFydHx8MH0sdGFrZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90YWtlfHx0aGlzLl9wYWdlU2l6ZX0sX3ByZWZldGNoU3VjY2Vzc0hhbmRsZXI6ZnVuY3Rpb24obix0LGkscil7dmFyIGY9dGhpcyxlPWYuX3RpbWVTdGFtcCgpO3JldHVybiBmdW5jdGlvbihvKXt2YXIgYyxsLHMsYT0hMSxoPXtzdGFydDpuLGVuZDp0LGRhdGE6W10sdGltZXN0YW1wOmYuX3RpbWVTdGFtcCgpfTtpZihmLl9kZXF1ZXVlUmVxdWVzdCgpLGYudHJpZ2dlcihldCx7cmVzcG9uc2U6byx0eXBlOiJyZWFkIn0pLG89Zi5yZWFkZXIucGFyc2Uobykscz1mLl9yZWFkRGF0YShvKSxzLmxlbmd0aCl7Zm9yKGM9MCxsPWYuX3Jhbmdlcy5sZW5ndGg7YzxsO2MrKylpZihmLl9yYW5nZXNbY10uc3RhcnQ9PT1uKXthPSEwO2g9Zi5fcmFuZ2VzW2NdO2gucHJpc3RpbmVEYXRhPXM7aC5kYXRhPWYuX29ic2VydmUocyk7aC5lbmQ9aC5zdGFydCtmLl9mbGF0RGF0YShoLmRhdGEsITApLmxlbmd0aDtmLl9zb3J0UmFuZ2VzKCk7YnJlYWt9YXx8Zi5fYWRkUmFuZ2UoZi5fb2JzZXJ2ZShzKSxuKX1mLl90b3RhbD1mLnJlYWRlci50b3RhbChvKTsocnx8ZT49Zi5fY3VycmVudFJlcXVlc3RUaW1lU3RhbXB8fCFmLl9za2lwUmVxdWVzdHNJblByb2dyZXNzKSYmKGkmJnMubGVuZ3RoP2koKTpmLnRyaWdnZXIodSx7fSkpfX0scHJlZmV0Y2g6ZnVuY3Rpb24obix0LGkpe3ZhciByPXRoaXMsdT1mLm1pbihuK3Qsci50b3RhbCgpKSxlPXt0YWtlOnQsc2tpcDpuLHBhZ2U6bi90KzEscGFnZVNpemU6dCxzb3J0OnIuX3NvcnQsZmlsdGVyOnIuX2ZpbHRlcixncm91cDpyLl9ncm91cCxhZ2dyZWdhdGU6ci5fYWdncmVnYXRlfTtyLl9yYW5nZUV4aXN0cyhuLHUpP2kmJmkoKTooY2xlYXJUaW1lb3V0KHIuX3RpbWVvdXQpLHIuX3RpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3IuX3F1ZXVlUmVxdWVzdChlLGZ1bmN0aW9uKCl7ci50cmlnZ2VyKGl0LHt0eXBlOiJyZWFkIn0pP3IuX2RlcXVldWVSZXF1ZXN0KCk6ci50cmFuc3BvcnQucmVhZCh7ZGF0YTpyLl9wYXJhbXMoZSksc3VjY2VzczpyLl9wcmVmZXRjaFN1Y2Nlc3NIYW5kbGVyKG4sdSxpKSxlcnJvcjpmdW5jdGlvbigpe3ZhciBuPWF0LmNhbGwoYXJndW1lbnRzKTtyLmVycm9yLmFwcGx5KHIsbil9fSl9KX0sMTAwKSl9LF9tdWx0aXBsZVByZWZldGNoOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj10aGlzLHU9Zi5taW4obit0LHIudG90YWwoKSksZT17dGFrZTp0LHNraXA6bixwYWdlOm4vdCsxLHBhZ2VTaXplOnQsc29ydDpyLl9zb3J0LGZpbHRlcjpyLl9maWx0ZXIsZ3JvdXA6ci5fZ3JvdXAsYWdncmVnYXRlOnIuX2FnZ3JlZ2F0ZX07ci5fcmFuZ2VFeGlzdHMobix1KT9pJiZpKCk6ci50cmlnZ2VyKGl0LHt0eXBlOiJyZWFkIn0pfHxyLnRyYW5zcG9ydC5yZWFkKHtkYXRhOnIuX3BhcmFtcyhlKSxzdWNjZXNzOnIuX3ByZWZldGNoU3VjY2Vzc0hhbmRsZXIobix1LGksITApfSl9LF9yYW5nZUV4aXN0czpmdW5jdGlvbihuLHQpe2Zvcih2YXIgZj10aGlzLHI9Zi5fcmFuZ2VzLGk9MCx1PXIubGVuZ3RoO2k8dTtpKyspaWYocltpXS5zdGFydDw9biYmcltpXS5lbmQ+PXQpcmV0dXJuITA7cmV0dXJuITF9LF9nZXRDdXJyZW50UmFuZ2VTcGFuOmZ1bmN0aW9uKCl7Zm9yKHZhciBuLHI9dGhpcyx1PXIuX3JhbmdlcyxpPXIuY3VycmVudFJhbmdlU3RhcnQoKSxlPWkrKHIudGFrZSgpfHwwKSxmPVtdLG89dS5sZW5ndGgsdD0wO3Q8bzt0Kyspbj11W3RdLChuLnN0YXJ0PD1pJiZuLmVuZD49aXx8bi5zdGFydD49aSYmbi5zdGFydDw9ZSkmJmYucHVzaChuKTtyZXR1cm4gZn0sX3JlbW92ZU1vZGVsRnJvbVJhbmdlczpmdW5jdGlvbihuKXtmb3IodmFyIGksdT10aGlzLHQ9MCxyPXRoaXMuX3Jhbmdlcy5sZW5ndGg7dDxyO3QrKylpPXRoaXMuX3Jhbmdlc1t0XSx1Ll9yZW1vdmVNb2RlbEZyb21SYW5nZShpLG4pO3UuX3VwZGF0ZVJhbmdlc0xlbmd0aCgpfSxfcmVtb3ZlTW9kZWxGcm9tUmFuZ2U6ZnVuY3Rpb24obix0KXt0aGlzLl9lYWNoSXRlbShuLmRhdGEsZnVuY3Rpb24obil7Zm9yKHZhciByLGk9MDtpPG4ubGVuZ3RoO2krKylpZihyPW5baV0sci51aWQmJnIudWlkPT10LnVpZCl7W10uc3BsaWNlLmNhbGwobixpLDEpO2JyZWFrfX0pfSxfaW5zZXJ0TW9kZWxJblJhbmdlOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpLHI9dGhpcyxmPXIuX3Jhbmdlc3x8W10sZT1mLmxlbmd0aCx1PTA7dTxlO3UrKylpZihpPWZbdV0saS5zdGFydDw9biYmaS5lbmQ+PW4pe3IuX2dldEJ5VWlkKHQudWlkLGkuZGF0YSl8fChyLl9pc1NlcnZlckdyb3VwZWQoKT9pLmRhdGEuc3BsaWNlKG4sMCxyLl93cmFwSW5FbXB0eUdyb3VwKHQpKTppLmRhdGEuc3BsaWNlKG4sMCx0KSk7YnJlYWt9ci5fdXBkYXRlUmFuZ2VzTGVuZ3RoKCl9LF91cGRhdGVSYW5nZXNMZW5ndGg6ZnVuY3Rpb24oKXtmb3IodmFyIG4sZT10aGlzLG89ZS5fcmFuZ2VzfHxbXSxzPW8ubGVuZ3RoLHI9ITEsaT0wLHU9MCx0PTA7dDxzO3QrKyluPW9bdF0sdT1lLl9mbGF0RGF0YShuLmRhdGEsITApLmxlbmd0aC1mLmFicyhuLmVuZC1uLnN0YXJ0KSxyfHwwPT09dT9yJiYobi5zdGFydCs9aSxuLmVuZCs9aSk6KHI9ITAsaT11LG4uZW5kKz1pKX19KTtsaT17fTtsaS5jcmVhdGU9ZnVuY3Rpb24odCxyLHUpe3ZhciBzLGY9dC50cmFuc3BvcnQ/bi5leHRlbmQoe30sdC50cmFuc3BvcnQpOm51bGw7cmV0dXJuIGY/KGYucmVhZD10eXBlb2YgZi5yZWFkPT09bz97dXJsOmYucmVhZH06Zi5yZWFkLCJqc2RvIj09PXQudHlwZSYmKGYuZGF0YVNvdXJjZT11KSx0LnR5cGUmJihpLmRhdGEudHJhbnNwb3J0cz1pLmRhdGEudHJhbnNwb3J0c3x8e30saS5kYXRhLnNjaGVtYXM9aS5kYXRhLnNjaGVtYXN8fHt9LGkuZGF0YS50cmFuc3BvcnRzW3QudHlwZV0/ZyhpLmRhdGEudHJhbnNwb3J0c1t0LnR5cGVdKT9mPWUoITAse30saS5kYXRhLnRyYW5zcG9ydHNbdC50eXBlXSxmKTpzPW5ldyBpLmRhdGEudHJhbnNwb3J0c1t0LnR5cGVdKGUoZix7ZGF0YTpyfSkpOmkubG9nVG9Db25zb2xlKCJVbmtub3duIERhdGFTb3VyY2UgdHJhbnNwb3J0IHR5cGUgJyIrdC50eXBlKyInLlxuVmVyaWZ5IHRoYXQgcmVnaXN0cmF0aW9uIHNjcmlwdHMgZm9yIHRoaXMgdHlwZSBhcmUgaW5jbHVkZWQgYWZ0ZXIgS2VuZG8gVUkgb24gdGhlIHBhZ2UuIiwid2FybiIpLHQuc2NoZW1hPWUoITAse30saS5kYXRhLnNjaGVtYXNbdC50eXBlXSx0LnNjaGVtYSkpLHN8fChzPWgoZi5yZWFkKT9mOm5ldyBoaShmKSkpOnM9bmV3IHNpKHtkYXRhOnQuZGF0YXx8W119KSxzfTtsLmNyZWF0ZT1mdW5jdGlvbihuKXsoYyhuKXx8biBpbnN0YW5jZW9mIHYpJiYobj17ZGF0YTpufSk7dmFyIG8scCxzLHI9bnx8e30sdT1yLmRhdGEsZj1yLmZpZWxkcyxoPXIudGFibGUsYT1yLnNlbGVjdCx5PXt9O2lmKHV8fCFmfHxyLnRyYW5zcG9ydHx8KGg/dT1idShoLGYpOmEmJih1PXd1KGEsZiksci5ncm91cD09PXQmJnVbMF0mJnVbMF0ub3B0Z3JvdXAhPT10JiYoci5ncm91cD0ib3B0Z3JvdXAiKSkpLGkuZGF0YS5Nb2RlbCYmZiYmKCFyLnNjaGVtYXx8IXIuc2NoZW1hLm1vZGVsKSl7Zm9yKG89MCxwPWYubGVuZ3RoO288cDtvKyspcz1mW29dLHMudHlwZSYmKHlbcy5maWVsZF09cyk7ayh5KXx8KHIuc2NoZW1hPWUoITAsci5zY2hlbWEse21vZGVsOntmaWVsZHM6eX19KSl9cmV0dXJuIHIuZGF0YT11LGE9bnVsbCxyLnNlbGVjdD1udWxsLGg9bnVsbCxyLnRhYmxlPW51bGwsciBpbnN0YW5jZW9mIGw/cjpuZXcgbChyKX07YWk9cC5kZWZpbmUoe2lkRmllbGQ6ImlkIixpbml0OmZ1bmN0aW9uKG4pe3ZhciBmLHQ9dGhpcyxyPXQuaGFzQ2hpbGRyZW58fG4mJm4uaGFzQ2hpbGRyZW4scz0iaXRlbXMiLHU9e307aS5kYXRhLk1vZGVsLmZuLmluaXQuY2FsbCh0LG4pO3R5cGVvZiB0LmNoaWxkcmVuPT09byYmKHM9dC5jaGlsZHJlbik7dT17c2NoZW1hOntkYXRhOnMsbW9kZWw6e2hhc0NoaWxkcmVuOnIsaWQ6dC5pZEZpZWxkLGZpZWxkczp0LmZpZWxkc319fTt0eXBlb2YgdC5jaGlsZHJlbiE9PW8mJmUodSx0LmNoaWxkcmVuKTt1LmRhdGE9bjtyfHwocj11LnNjaGVtYS5kYXRhKTt0eXBlb2Ygcj09PW8mJihyPWkuZ2V0dGVyKHIpKTtoKHIpJiYoZj1yLmNhbGwodCx0KSx0Lmhhc0NoaWxkcmVuPSghZnx8MCE9PWYubGVuZ3RoKSYmISFmKTt0Ll9jaGlsZHJlbk9wdGlvbnM9dTt0Lmhhc0NoaWxkcmVuJiZ0Ll9pbml0Q2hpbGRyZW4oKTt0Ll9sb2FkZWQ9ISghbnx8IW4uX2xvYWRlZCl9LF9pbml0Q2hpbGRyZW46ZnVuY3Rpb24oKXt2YXIgdCxpLHIsbj10aGlzO24uY2hpbGRyZW4gaW5zdGFuY2VvZiBkfHwodD1uLmNoaWxkcmVuPW5ldyBkKG4uX2NoaWxkcmVuT3B0aW9ucyksaT10LnRyYW5zcG9ydCxyPWkucGFyYW1ldGVyTWFwLGkucGFyYW1ldGVyTWFwPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHRbbi5pZEZpZWxkfHwiaWQiXT1uLmlkLHImJih0PXIodCxpKSksdH0sdC5wYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbn0sdC5iaW5kKHUsZnVuY3Rpb24odCl7dC5ub2RlPXQubm9kZXx8bjtuLnRyaWdnZXIodSx0KX0pLHQuYmluZCh0dCxmdW5jdGlvbih0KXt2YXIgaT1uLnBhcmVudCgpO2kmJih0Lm5vZGU9dC5ub2RlfHxuLGkudHJpZ2dlcih0dCx0KSl9KSxuLl91cGRhdGVDaGlsZHJlbkZpZWxkKCkpfSxhcHBlbmQ6ZnVuY3Rpb24obil7dGhpcy5faW5pdENoaWxkcmVuKCk7dGhpcy5sb2FkZWQoITApO3RoaXMuY2hpbGRyZW4uYWRkKG4pfSxoYXNDaGlsZHJlbjohMSxsZXZlbDpmdW5jdGlvbigpe2Zvcih2YXIgbj10aGlzLnBhcmVudE5vZGUoKSx0PTA7biYmbi5wYXJlbnROb2RlOyl0Kyssbj1uLnBhcmVudE5vZGU/bi5wYXJlbnROb2RlKCk6bnVsbDtyZXR1cm4gdH0sX3VwZGF0ZUNoaWxkcmVuRmllbGQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9jaGlsZHJlbk9wdGlvbnMuc2NoZW1hLmRhdGE7dGhpc1tufHwiaXRlbXMiXT10aGlzLmNoaWxkcmVuLmRhdGEoKX0sX2NoaWxkcmVuTG9hZGVkOmZ1bmN0aW9uKCl7dGhpcy5fbG9hZGVkPSEwO3RoaXMuX3VwZGF0ZUNoaWxkcmVuRmllbGQoKX0sbG9hZDpmdW5jdGlvbigpe3ZhciBpLGYscj17fSxlPSJfcXVlcnkiO3JldHVybiB0aGlzLmhhc0NoaWxkcmVuPyh0aGlzLl9pbml0Q2hpbGRyZW4oKSxpPXRoaXMuY2hpbGRyZW4sclt0aGlzLmlkRmllbGR8fCJpZCJdPXRoaXMuaWQsdGhpcy5fbG9hZGVkfHwoaS5fZGF0YT10LGU9InJlYWQiKSxpLm9uZSh1LHcodGhpcy5fY2hpbGRyZW5Mb2FkZWQsdGhpcykpLHRoaXMuX21hdGNoRmlsdGVyJiYoci5maWx0ZXI9e2ZpZWxkOiJfbWF0Y2hGaWx0ZXIiLG9wZXJhdG9yOiJlcSIsdmFsdWU6ITB9KSxmPWlbZV0ocikpOnRoaXMubG9hZGVkKCEwKSxmfHxuLkRlZmVycmVkKCkucmVzb2x2ZSgpLnByb21pc2UoKX0scGFyZW50Tm9kZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMucGFyZW50KCk7cmV0dXJuIG4ucGFyZW50KCl9LGxvYWRlZDpmdW5jdGlvbihuKXtyZXR1cm4gbj09PXQ/dGhpcy5fbG9hZGVkOih0aGlzLl9sb2FkZWQ9bix0KX0sc2hvdWxkU2VyaWFsaXplOmZ1bmN0aW9uKG4pe3JldHVybiBwLmZuLnNob3VsZFNlcmlhbGl6ZS5jYWxsKHRoaXMsbikmJiJjaGlsZHJlbiIhPT1uJiYiX2xvYWRlZCIhPT1uJiYiaGFzQ2hpbGRyZW4iIT09biYmIl9jaGlsZHJlbk9wdGlvbnMiIT09bn19KTtkPWwuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4pe3ZhciB0PWFpLmRlZmluZSh7Y2hpbGRyZW46bn0pO24uZmlsdGVyJiYhbi5zZXJ2ZXJGaWx0ZXJpbmcmJih0aGlzLl9oaWVyYXJjaGljYWxGaWx0ZXI9bi5maWx0ZXIsbi5maWx0ZXI9bnVsbCk7bC5mbi5pbml0LmNhbGwodGhpcyxlKCEwLHt9LHtzY2hlbWE6e21vZGVsQmFzZTp0LG1vZGVsOnR9fSxuKSk7dGhpcy5fYXR0YWNoQnViYmxlSGFuZGxlcnMoKX0sX2F0dGFjaEJ1YmJsZUhhbmRsZXJzOmZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLl9kYXRhLmJpbmQodHQsZnVuY3Rpb24odCl7bi50cmlnZ2VyKHR0LHQpfSl9LHJlYWQ6ZnVuY3Rpb24obil7dmFyIHQ9bC5mbi5yZWFkLmNhbGwodGhpcyxuKTtyZXR1cm4gdGhpcy5faGllcmFyY2hpY2FsRmlsdGVyJiYodGhpcy5fZGF0YSYmdGhpcy5fZGF0YS5sZW5ndGg+MD90aGlzLmZpbHRlcih0aGlzLl9oaWVyYXJjaGljYWxGaWx0ZXIpOih0aGlzLm9wdGlvbnMuZmlsdGVyPXRoaXMuX2hpZXJhcmNoaWNhbEZpbHRlcix0aGlzLl9maWx0ZXI9Yih0aGlzLm9wdGlvbnMuZmlsdGVyKSx0aGlzLl9oaWVyYXJjaGljYWxGaWx0ZXI9bnVsbCkpLHR9LHJlbW92ZTpmdW5jdGlvbihuKXt2YXIgcix0PW4ucGFyZW50Tm9kZSgpLGk9dGhpcztyZXR1cm4gdCYmdC5faW5pdENoaWxkcmVuJiYoaT10LmNoaWxkcmVuKSxyPWwuZm4ucmVtb3ZlLmNhbGwoaSxuKSx0JiYhaS5kYXRhKCkubGVuZ3RoJiYodC5oYXNDaGlsZHJlbj0hMSkscn0sc3VjY2Vzczp5cigic3VjY2VzcyIpLGRhdGE6eXIoImRhdGEiKSxpbnNlcnQ6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLnBhcmVudCgpO3JldHVybiBpJiZpLl9pbml0Q2hpbGRyZW4mJihpLmhhc0NoaWxkcmVuPSEwLGkuX2luaXRDaGlsZHJlbigpKSxsLmZuLmluc2VydC5jYWxsKHRoaXMsbix0KX0sZmlsdGVyOmZ1bmN0aW9uKG4pe3JldHVybiBuPT09dD90aGlzLl9maWx0ZXI6KCF0aGlzLm9wdGlvbnMuc2VydmVyRmlsdGVyaW5nJiZ0aGlzLl9tYXJrSGllcmFyY2hpY2FsUXVlcnkobikmJihuPXtsb2dpYzoib3IiLGZpbHRlcnM6W24se2ZpZWxkOiJfbWF0Y2hGaWx0ZXIiLG9wZXJhdG9yOiJlcXVhbHMiLHZhbHVlOiEwfV19KSx0aGlzLnRyaWdnZXIoInJlc2V0IiksdGhpcy5fcXVlcnkoe2ZpbHRlcjpuLHBhZ2U6MX0pLHQpfSxfbWFya0hpZXJhcmNoaWNhbFF1ZXJ5OmZ1bmN0aW9uKHQpe3ZhciBpLG8sdSxmLGUscz10aGlzLm9wdGlvbnMuYWNjZW50Rm9sZGluZ0ZpbHRlcmluZztyZXR1cm4gdD1zP24uZXh0ZW5kKHt9LGIodCkse2FjY2VudEZvbGRpbmdGaWx0ZXJpbmc6c30pOmIodCksdCYmMCE9PXQuZmlsdGVycy5sZW5ndGg/KGk9ci5maWx0ZXJFeHByKHQpLHU9aS5maWVsZHMsZj1pLm9wZXJhdG9ycyxvPWU9RnVuY3Rpb24oImQsIF9fZiwgX19vIiwicmV0dXJuICIraS5leHByZXNzaW9uKSwodS5sZW5ndGh8fGYubGVuZ3RoKSYmKGU9ZnVuY3Rpb24obil7cmV0dXJuIG8obix1LGYpfSksdGhpcy5fdXBkYXRlSGllcmFyY2hpY2FsRmlsdGVyKGUpLCEwKToodGhpcy5fdXBkYXRlSGllcmFyY2hpY2FsRmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuITB9KSwhMSl9LF91cGRhdGVIaWVyYXJjaGljYWxGaWx0ZXI6ZnVuY3Rpb24obil7Zm9yKHZhciB0LHI9dGhpcy5fZGF0YSx1PSExLGk9MDtpPHIubGVuZ3RoO2krKyl0PXJbaV0sdC5oYXNDaGlsZHJlbj8odC5fbWF0Y2hGaWx0ZXI9dC5jaGlsZHJlbi5fdXBkYXRlSGllcmFyY2hpY2FsRmlsdGVyKG4pLHQuX21hdGNoRmlsdGVyfHwodC5fbWF0Y2hGaWx0ZXI9bih0KSkpOnQuX21hdGNoRmlsdGVyPW4odCksdC5fbWF0Y2hGaWx0ZXImJih1PSEwKTtyZXR1cm4gdX0sX2ZpbmQ6ZnVuY3Rpb24obix0KXt2YXIgaSxlLHIsZix1PXRoaXMuX2RhdGE7aWYodSl7aWYocj1sLmZuW25dLmNhbGwodGhpcyx0KSlyZXR1cm4gcjtmb3IodT10aGlzLl9mbGF0RGF0YSh0aGlzLl9kYXRhKSxpPTAsZT11Lmxlbmd0aDtpPGU7aSsrKWlmKGY9dVtpXS5jaGlsZHJlbixmIGluc3RhbmNlb2YgZCYmKHI9ZltuXSh0KSkpcmV0dXJuIHJ9fSxnZXQ6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2ZpbmQoImdldCIsbil9LGdldEJ5VWlkOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9maW5kKCJnZXRCeVVpZCIsbil9fSk7ZC5jcmVhdGU9ZnVuY3Rpb24obil7bj1uJiZuLnB1c2g/e2RhdGE6bn06bjt2YXIgdD1ufHx7fSxpPXQuZGF0YSxyPXQuZmllbGRzLHU9dC5saXN0O3JldHVybiBpJiZpLl9kYXRhU291cmNlP2kuX2RhdGFTb3VyY2U6KGl8fCFyfHx0LnRyYW5zcG9ydHx8dSYmKGk9cHIodSxyKSksdC5kYXRhPWksdCBpbnN0YW5jZW9mIGQ/dDpuZXcgZCh0KSl9O3ZpPWkuT2JzZXJ2YWJsZS5leHRlbmQoe2luaXQ6ZnVuY3Rpb24obix0LHIpe2kuT2JzZXJ2YWJsZS5mbi5pbml0LmNhbGwodGhpcyk7dGhpcy5fcHJlZmV0Y2hpbmc9ITE7dGhpcy5kYXRhU291cmNlPW47dGhpcy5wcmVmZXRjaD0hcjt2YXIgdT10aGlzO24uYmluZCgiY2hhbmdlIixmdW5jdGlvbigpe3UuX2NoYW5nZSgpfSk7bi5iaW5kKCJyZXNldCIsZnVuY3Rpb24oKXt1Ll9yZXNldCgpfSk7dGhpcy5fc3luY1dpdGhEYXRhU291cmNlKCk7dGhpcy5zZXRWaWV3U2l6ZSh0KX0sc2V0Vmlld1NpemU6ZnVuY3Rpb24obil7dGhpcy52aWV3U2l6ZT1uO3RoaXMuX3JlY2FsY3VsYXRlKCl9LGF0OmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMucGFnZVNpemUscj0hMDtyZXR1cm4gbj49dGhpcy50b3RhbCgpPyh0aGlzLnRyaWdnZXIoImVuZHJlYWNoZWQiLHtpbmRleDpufSksbnVsbCk6dGhpcy51c2VSYW5nZXM/dGhpcy51c2VSYW5nZXM/KChuPHRoaXMuZGF0YU9mZnNldHx8bj49dGhpcy5za2lwK2kpJiYocj10aGlzLnJhbmdlKE1hdGguZmxvb3Iobi9pKSppKSksbj09PXRoaXMucHJlZmV0Y2hUaHJlc2hvbGQmJnRoaXMuX3ByZWZldGNoKCksbj09PXRoaXMubWlkUGFnZVRocmVzaG9sZD90aGlzLnJhbmdlKHRoaXMubmV4dE1pZFJhbmdlLCEwKTpuPT09dGhpcy5uZXh0UGFnZVRocmVzaG9sZD90aGlzLnJhbmdlKHRoaXMubmV4dEZ1bGxSYW5nZSk6bj09PXRoaXMucHVsbEJhY2tUaHJlc2hvbGQmJnRoaXMucmFuZ2UodGhpcy5vZmZzZXQ9PT10aGlzLnNraXA/dGhpcy5wcmV2aW91c01pZFJhbmdlOnRoaXMucHJldmlvdXNGdWxsUmFuZ2UpLHI/dGhpcy5kYXRhU291cmNlLmF0KG4tdGhpcy5kYXRhT2Zmc2V0KToodGhpcy50cmlnZ2VyKCJlbmRyZWFjaGVkIix7aW5kZXg6bn0pLG51bGwpKTp0OnRoaXMuZGF0YVNvdXJjZS52aWV3KClbbl19LGluZGV4T2Y6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZGF0YVNvdXJjZS5kYXRhKCkuaW5kZXhPZihuKSt0aGlzLmRhdGFPZmZzZXR9LHRvdGFsOmZ1bmN0aW9uKCl7cmV0dXJuIHBhcnNlSW50KHRoaXMuZGF0YVNvdXJjZS50b3RhbCgpLDEwKX0sbmV4dDpmdW5jdGlvbigpe3ZhciBuPXRoaXMsdD1uLnBhZ2VTaXplLGk9bi5za2lwLW4udmlld1NpemUrdCxyPWYubWF4KGYuZmxvb3IoaS90KSwwKSp0O3RoaXMub2Zmc2V0PWk7dGhpcy5kYXRhU291cmNlLnByZWZldGNoKHIsdCxmdW5jdGlvbigpe24uX2dvVG9SYW5nZShpLCEwKX0pfSxyYW5nZTpmdW5jdGlvbihuLHQpe2lmKHRoaXMub2Zmc2V0PT09bilyZXR1cm4hMDt2YXIgcj10aGlzLGk9dGhpcy5wYWdlU2l6ZSx1PWYubWF4KGYuZmxvb3Iobi9pKSwwKSppLGU9dGhpcy5kYXRhU291cmNlO3JldHVybiB0JiYodSs9aSksZS5pblJhbmdlKG4saSk/KHRoaXMub2Zmc2V0PW4sdGhpcy5fcmVjYWxjdWxhdGUoKSx0aGlzLl9nb1RvUmFuZ2UobiksITApOiF0aGlzLnByZWZldGNofHwoZS5wcmVmZXRjaCh1LGksZnVuY3Rpb24oKXtyLm9mZnNldD1uO3IuX3JlY2FsY3VsYXRlKCk7ci5fZ29Ub1JhbmdlKG4sITApfSksITEpfSxzeW5jRGF0YVNvdXJjZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMub2Zmc2V0O3RoaXMub2Zmc2V0PW51bGw7dGhpcy5yYW5nZShuKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMudW5iaW5kKCl9LF9wcmVmZXRjaDpmdW5jdGlvbigpe3ZhciBpPXRoaXMsbj10aGlzLnBhZ2VTaXplLHQ9dGhpcy5za2lwK24scj10aGlzLmRhdGFTb3VyY2U7ci5pblJhbmdlKHQsbil8fHRoaXMuX3ByZWZldGNoaW5nfHwhdGhpcy5wcmVmZXRjaHx8KHRoaXMuX3ByZWZldGNoaW5nPSEwLHRoaXMudHJpZ2dlcigicHJlZmV0Y2hpbmciLHtza2lwOnQsdGFrZTpufSksci5wcmVmZXRjaCh0LG4sZnVuY3Rpb24oKXtpLl9wcmVmZXRjaGluZz0hMTtpLnRyaWdnZXIoInByZWZldGNoZWQiLHtza2lwOnQsdGFrZTpufSl9KSl9LF9nb1RvUmFuZ2U6ZnVuY3Rpb24obix0KXt0aGlzLm9mZnNldD09PW4mJih0aGlzLmRhdGFPZmZzZXQ9bix0aGlzLl9leHBhbmRpbmc9dCx0aGlzLmRhdGFTb3VyY2UucmFuZ2Uobix0aGlzLnBhZ2VTaXplKSx0aGlzLmRhdGFTb3VyY2UuZW5hYmxlUmVxdWVzdHNJblByb2dyZXNzKCkpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9zeW5jUGVuZGluZz0hMH0sX2NoYW5nZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMuZGF0YVNvdXJjZTt0aGlzLmxlbmd0aD10aGlzLnVzZVJhbmdlcz9uLmxhc3RSYW5nZSgpLmVuZDpuLnZpZXcoKS5sZW5ndGg7dGhpcy5fc3luY1BlbmRpbmcmJih0aGlzLl9zeW5jV2l0aERhdGFTb3VyY2UoKSx0aGlzLl9yZWNhbGN1bGF0ZSgpLHRoaXMuX3N5bmNQZW5kaW5nPSExLHRoaXMudHJpZ2dlcigicmVzZXQiLHtvZmZzZXQ6dGhpcy5vZmZzZXR9KSk7dGhpcy50cmlnZ2VyKCJyZXNpemUiKTt0aGlzLl9leHBhbmRpbmcmJnRoaXMudHJpZ2dlcigiZXhwYW5kIik7ZGVsZXRlIHRoaXMuX2V4cGFuZGluZ30sX3N5bmNXaXRoRGF0YVNvdXJjZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMuZGF0YVNvdXJjZTt0aGlzLl9maXJzdEl0ZW1VaWQ9bi5maXJzdEl0ZW1VaWQoKTt0aGlzLmRhdGFPZmZzZXQ9dGhpcy5vZmZzZXQ9bi5za2lwKCl8fDA7dGhpcy5wYWdlU2l6ZT1uLnBhZ2VTaXplKCk7dGhpcy51c2VSYW5nZXM9bi5vcHRpb25zLnNlcnZlclBhZ2luZ30sX3JlY2FsY3VsYXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYWdlU2l6ZSxyPXRoaXMub2Zmc2V0LGk9dGhpcy52aWV3U2l6ZSxuPU1hdGguY2VpbChyL3QpKnQ7dGhpcy5za2lwPW47dGhpcy5taWRQYWdlVGhyZXNob2xkPW4rdC0xO3RoaXMubmV4dFBhZ2VUaHJlc2hvbGQ9bitpLTE7dGhpcy5wcmVmZXRjaFRocmVzaG9sZD1uK01hdGguZmxvb3IodC8zKjIpO3RoaXMucHVsbEJhY2tUaHJlc2hvbGQ9dGhpcy5vZmZzZXQtMTt0aGlzLm5leHRNaWRSYW5nZT1uK3QtaTt0aGlzLm5leHRGdWxsUmFuZ2U9bjt0aGlzLnByZXZpb3VzTWlkUmFuZ2U9ci1pO3RoaXMucHJldmlvdXNGdWxsUmFuZ2U9bi10fX0pO2dyPWkuT2JzZXJ2YWJsZS5leHRlbmQoe2luaXQ6ZnVuY3Rpb24obix0KXt2YXIgcj10aGlzO2kuT2JzZXJ2YWJsZS5mbi5pbml0LmNhbGwocik7dGhpcy5kYXRhU291cmNlPW47dGhpcy5iYXRjaFNpemU9dDt0aGlzLl90b3RhbD0wO3RoaXMuYnVmZmVyPW5ldyB2aShuLDMqdCk7dGhpcy5idWZmZXIuYmluZCh7ZW5kcmVhY2hlZDpmdW5jdGlvbihuKXtyLnRyaWdnZXIoImVuZHJlYWNoZWQiLHtpbmRleDpuLmluZGV4fSl9LHByZWZldGNoaW5nOmZ1bmN0aW9uKG4pe3IudHJpZ2dlcigicHJlZmV0Y2hpbmciLHtza2lwOm4uc2tpcCx0YWtlOm4udGFrZX0pfSxwcmVmZXRjaGVkOmZ1bmN0aW9uKG4pe3IudHJpZ2dlcigicHJlZmV0Y2hlZCIse3NraXA6bi5za2lwLHRha2U6bi50YWtlfSl9LHJlc2V0OmZ1bmN0aW9uKCl7ci5fdG90YWw9MDtyLnRyaWdnZXIoInJlc2V0Iil9LHJlc2l6ZTpmdW5jdGlvbigpe3IuX3RvdGFsPU1hdGguY2VpbCh0aGlzLmxlbmd0aC9yLmJhdGNoU2l6ZSk7ci50cmlnZ2VyKCJyZXNpemUiLHt0b3RhbDpyLnRvdGFsKCksb2Zmc2V0OnRoaXMub2Zmc2V0fSl9fSl9LHN5bmNEYXRhU291cmNlOmZ1bmN0aW9uKCl7dGhpcy5idWZmZXIuc3luY0RhdGFTb3VyY2UoKX0sYXQ6ZnVuY3Rpb24obil7dmFyIHIsdCxpPXRoaXMuYnVmZmVyLHU9bip0aGlzLmJhdGNoU2l6ZSxlPXRoaXMuYmF0Y2hTaXplLGY9W107Zm9yKGkub2Zmc2V0PnUmJmkuYXQoaS5vZmZzZXQtMSksdD0wO3Q8ZSYmKHI9aS5hdCh1K3QpLG51bGwhPT1yKTt0KyspZi5wdXNoKHIpO3JldHVybiBmfSx0b3RhbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3RhbH0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYnVmZmVyLmRlc3Ryb3koKTt0aGlzLnVuYmluZCgpfX0pO2UoITAsaS5kYXRhLHtyZWFkZXJzOntqc29uOmNpfSxRdWVyeTpyLERhdGFTb3VyY2U6bCxIaWVyYXJjaGljYWxEYXRhU291cmNlOmQsTm9kZTphaSxPYnNlcnZhYmxlT2JqZWN0OnMsT2JzZXJ2YWJsZUFycmF5OnYsTGF6eU9ic2VydmFibGVBcnJheTpvdCxMb2NhbFRyYW5zcG9ydDpzaSxSZW1vdGVUcmFuc3BvcnQ6aGksQ2FjaGU6ZnQsRGF0YVJlYWRlcjpjaSxNb2RlbDpwLEJ1ZmZlcjp2aSxCYXRjaEJ1ZmZlcjpncn0pfSh3aW5kb3cua2VuZG8ualF1ZXJ5KSx3aW5kb3cua2VuZG99LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lOmZ1bmN0aW9uKG4sdCxpKXsoaXx8dCkoKX0pOwovKiEKICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwohZnVuY3Rpb24obix0KXt0KCJrZW5kby5saXN0Lm1pbiIsWyJrZW5kby5kYXRhLm1pbiIsImtlbmRvLnBvcHVwLm1pbiJdLG4pfShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIG8obixpKXtyZXR1cm4gbiE9PXQmJiIiIT09biYmbnVsbCE9PW4mJigiYm9vbGVhbiI9PT1pPygiYm9vbGVhbiIhPXR5cGVvZiBuJiYobj0idHJ1ZSI9PT1uLnRvTG93ZXJDYXNlKCkpLG49ISFuKToibnVtYmVyIj09PWk/bj0rbjoic3RyaW5nIj09PWkmJihuPSIiK24pKSxufWZ1bmN0aW9uIHMobil7cmV0dXJuIG5bbi5sZW5ndGgtMV19ZnVuY3Rpb24gdyhuKXt2YXIgdD1uLnNlbGVjdGVkSW5kZXg7cmV0dXJuIHQ+LTE/bi5vcHRpb25zW3RdOnt9fWZ1bmN0aW9uIGR0KG4sdCl7dmFyIHIsZixpLHUsaD10Lmxlbmd0aCxlPW4ubGVuZ3RoLG89W10scz1bXTtpZihlKWZvcihpPTA7aTxlO2krKyl7Zm9yKHI9bltpXSxmPSExLHU9MDt1PGg7dSsrKWlmKHI9PT10W3VdKXtmPSEwO28ucHVzaCh7aW5kZXg6aSxpdGVtOnJ9KTticmVha31mfHxzLnB1c2gocil9cmV0dXJue2NoYW5nZWQ6byx1bmNoYW5nZWQ6c319ZnVuY3Rpb24gbnQodCl7cmV0dXJuISghdHx8bi5pc0VtcHR5T2JqZWN0KHQpKSYmISh0LmZpbHRlcnMmJiF0LmZpbHRlcnMubGVuZ3RoKX1mdW5jdGlvbiBiKHQsaSl7dmFyIHUscj0hMTtyZXR1cm4gdC5maWx0ZXJzJiYodT1uLmdyZXAodC5maWx0ZXJzLGZ1bmN0aW9uKG4pe3JldHVybiByPWIobixpKSxuLmZpbHRlcnM/bi5maWx0ZXJzLmxlbmd0aDpuLmZpZWxkIT1pfSkscnx8dC5maWx0ZXJzLmxlbmd0aD09PXUubGVuZ3RofHwocj0hMCksdC5maWx0ZXJzPXUpLHJ9dmFyIGgsdHQsaT13aW5kb3cua2VuZG8sbD1pLnVpLGl0PWkuX291dGVySGVpZ2h0LHJ0PS9eXGQrKFwuXGQrKT8lJC9pLGM9bC5XaWRnZXQsZj1pLmtleXMsZT1pLnN1cHBvcnQsZ3Q9aS5odG1sRW5jb2RlLHV0PWkuX2FjdGl2ZUVsZW1lbnQsZnQ9aS5fb3V0ZXJXaWR0aCxuaT1pLmRhdGEuT2JzZXJ2YWJsZUFycmF5LHk9ImlkIix1PSJjaGFuZ2UiLGV0PSJrLXN0YXRlLWZvY3VzZWQiLGs9Imstc3RhdGUtaG92ZXIiLG90PSJrLWktbG9hZGluZyIsc3Q9Ii5rLWdyb3VwLWhlYWRlciIsaHQ9Ii5rLWl0ZW0iLHRpPSJfbGFiZWwiLGN0PSJvcGVuIixsdD0iY2xvc2UiLHA9ImNhc2NhZGUiLGQ9InNlbGVjdCIsYXQ9InNlbGVjdGVkIix2dD0icmVxdWVzdFN0YXJ0Iix5dD0icmVxdWVzdEVuZCIsaWk9ImJsdXIiLHJpPSJmb2N1cyIsdWk9ImZvY3Vzb3V0IixhPW4uZXh0ZW5kLHI9bi5wcm94eSxmaT1uLmlzQXJyYXksZz1lLmJyb3dzZXIscHQ9ImstaGlkZGVuIix3dD0id2lkdGgiLGJ0PWcubXNpZSxlaT1idCYmZy52ZXJzaW9uPDksb2k9LyIvZyxrdD17Q29tYm9Cb3g6WyJEcm9wRG93bkxpc3QiLCJNdWx0aUNvbHVtbkNvbWJvQm94Il0sRHJvcERvd25MaXN0OlsiQ29tYm9Cb3giLCJNdWx0aUNvbHVtbkNvbWJvQm94Il0sTXVsdGlDb2x1bW5Db21ib0JveDpbIkNvbWJvQm94IiwiRHJvcERvd25MaXN0Il19LHY9aS51aS5EYXRhQm91bmRXaWRnZXQuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQsdSl7dmFyIGUsZj10aGlzLG89Zi5ucztjLmZuLmluaXQuY2FsbChmLHQsdSk7dD1mLmVsZW1lbnQ7dT1mLm9wdGlvbnM7Zi5faXNTZWxlY3Q9dC5pcyhkKTtmLl9pc1NlbGVjdCYmZi5lbGVtZW50WzBdLmxlbmd0aCYmKHUuZGF0YVNvdXJjZXx8KHUuZGF0YVRleHRGaWVsZD11LmRhdGFUZXh0RmllbGR8fCJ0ZXh0Iix1LmRhdGFWYWx1ZUZpZWxkPXUuZGF0YVZhbHVlRmllbGR8fCJ2YWx1ZSIpKTtmLnVsPW4oJzx1bCB1bnNlbGVjdGFibGU9Im9uIiBjbGFzcz0iay1saXN0IGstcmVzZXQiLz4nKS5hdHRyKHt0YWJJbmRleDotMSwiYXJpYS1oaWRkZW4iOiEwfSk7Zi5saXN0PW4oIjxkaXYgY2xhc3M9J2stbGlzdC1jb250YWluZXInLz4iKS5hcHBlbmQoZi51bCkub24oIm1vdXNlZG93biIrbyxyKGYuX2xpc3RNb3VzZWRvd24sZikpO2U9dC5hdHRyKHkpO2V8fChlPWkuZ3VpZCgpKTtmLmxpc3QuYXR0cih5LGUrIi1saXN0Iik7Zi51bC5hdHRyKHksZSsiX2xpc3Rib3giKTt1LmNvbHVtbnMmJnUuY29sdW1ucy5sZW5ndGgmJihmLnVsLnJlbW92ZUNsYXNzKCJrLWxpc3QiKS5hZGRDbGFzcygiay1ncmlkLWxpc3QiKSxmLl9jb2x1bW5zSGVhZGVyKCkpO2YuX2hlYWRlcigpO2YuX25vRGF0YSgpO2YuX2Zvb3RlcigpO2YuX2FjY2Vzc29ycygpO2YuX2luaXRWYWx1ZSgpfSxvcHRpb25zOnt2YWx1ZVByaW1pdGl2ZTohMSxmb290ZXJUZW1wbGF0ZToiIixoZWFkZXJUZW1wbGF0ZToiIixub0RhdGFUZW1wbGF0ZTohMCxtZXNzYWdlczp7bm9EYXRhOiJObyBkYXRhIGZvdW5kLiIsY2xlYXI6ImNsZWFyIn19LHNldE9wdGlvbnM6ZnVuY3Rpb24obil7Yy5mbi5zZXRPcHRpb25zLmNhbGwodGhpcyxuKTtuJiZuLmVuYWJsZSE9PXQmJihuLmVuYWJsZWQ9bi5lbmFibGUpO24uY29sdW1ucyYmbi5jb2x1bW5zLmxlbmd0aCYmdGhpcy5fY29sdW1uc0hlYWRlcigpO3RoaXMuX2hlYWRlcigpO3RoaXMuX25vRGF0YSgpO3RoaXMuX2Zvb3RlcigpO3RoaXMuX3JlbmRlckZvb3RlcigpO3RoaXMuX3JlbmRlck5vRGF0YSgpfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuX2ZvY3VzZWQuZm9jdXMoKX0scmVhZG9ubHk6ZnVuY3Rpb24obil7dGhpcy5fZWRpdGFibGUoe3JlYWRvbmx5Om49PT10fHxuLGRpc2FibGU6ITF9KX0sZW5hYmxlOmZ1bmN0aW9uKG4pe3RoaXMuX2VkaXRhYmxlKHtyZWFkb25seTohMSxkaXNhYmxlOiEobj1uPT09dHx8bil9KX0sX2hlYWRlcjpmdW5jdGlvbigpe3ZhciBlLHU9dGhpcyxyPW4odS5oZWFkZXIpLGY9dS5vcHRpb25zLmhlYWRlclRlbXBsYXRlO3JldHVybiB0aGlzLl9hbmd1bGFyRWxlbWVudChyLCJjbGVhbnVwIiksaS5kZXN0cm95KHIpLHIucmVtb3ZlKCksZj8oZT0iZnVuY3Rpb24iIT10eXBlb2YgZj9pLnRlbXBsYXRlKGYpOmYscj1uKGUoe30pKSx1LmhlYWRlcj1yWzBdP3I6bnVsbCx1Lmxpc3QucHJlcGVuZChyKSx0aGlzLl9hbmd1bGFyRWxlbWVudCh1LmhlYWRlciwiY29tcGlsZSIpLHQpOih1LmhlYWRlcj1udWxsLHQpfSxfY29sdW1uc0hlYWRlcjpmdW5jdGlvbigpe3ZhciBmLG8sdCxzLHIsdixoLHksYyxhLHUsbD10aGlzLGU9bihsLmNvbHVtbnNIZWFkZXIpO2Zvcih0aGlzLl9hbmd1bGFyRWxlbWVudChlLCJjbGVhbnVwIiksaS5kZXN0cm95KGUpLGUucmVtb3ZlKCksZj0iPGRpdiBjbGFzcz0nay1ncmlkLWhlYWRlcic+PGRpdiBjbGFzcz0nay1ncmlkLWhlYWRlci13cmFwJz48dGFibGUgcm9sZT0ncHJlc2VudGF0aW9uJz4iLG89Ijxjb2xncm91cD4iLHQ9Ijx0cj4iLHM9MDtzPHRoaXMub3B0aW9ucy5jb2x1bW5zLmxlbmd0aDtzKyspcj10aGlzLm9wdGlvbnMuY29sdW1uc1tzXSx2PXIudGl0bGV8fHIuZmllbGR8fCIiLGg9ci5oZWFkZXJUZW1wbGF0ZXx8dix5PSJmdW5jdGlvbiIhPXR5cGVvZiBoP2kudGVtcGxhdGUoaCk6aCxjPXIud2lkdGgsYT1wYXJzZUludChjLDEwKSx1PSIiLGMmJiFpc05hTihhKSYmKHUrPSJzdHlsZT0nd2lkdGg6Iix1Kz1hLHUrPXJ0LnRlc3QoYyk/IiUiOiJweCIsdSs9IjsnIiksbys9Ijxjb2wgIit1KyIvPiIsdCs9Ijx0aCBjbGFzcz0nay1oZWFkZXInPiIsdCs9eShyKSx0Kz0iPFwvdGg+IjtvKz0iPFwvY29sZ3JvdXA+Ijt0Kz0iPFwvdHI+IjtmKz1vO2YrPXQ7Zis9IjxcL3RhYmxlPjxcL2Rpdj48XC9kaXY+IjtsLmNvbHVtbnNIZWFkZXI9ZT1uKGYpO2wubGlzdC5wcmVwZW5kKGUpO3RoaXMuX2FuZ3VsYXJFbGVtZW50KGwuY29sdW1uc0hlYWRlciwiY29tcGlsZSIpfSxfbm9EYXRhOmZ1bmN0aW9uKCl7dmFyIHI9dGhpcyxmPW4oci5ub0RhdGEpLHU9ci5vcHRpb25zLm5vRGF0YVRlbXBsYXRlPT09ITA/ci5vcHRpb25zLm1lc3NhZ2VzLm5vRGF0YTpyLm9wdGlvbnMubm9EYXRhVGVtcGxhdGU7cmV0dXJuIHIuYW5ndWxhcigiY2xlYW51cCIsZnVuY3Rpb24oKXtyZXR1cm57ZWxlbWVudHM6Zn19KSxpLmRlc3Ryb3koZiksZi5yZW1vdmUoKSx1PyhyLm5vRGF0YT1uKCc8ZGl2IGNsYXNzPSJrLW5vZGF0YSIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+PGRpdj48XC9kaXY+PFwvZGl2PicpLmFwcGVuZFRvKHIubGlzdCksci5ub0RhdGFUZW1wbGF0ZT0iZnVuY3Rpb24iIT10eXBlb2YgdT9pLnRlbXBsYXRlKHUpOnUsdCk6KHIubm9EYXRhPW51bGwsdCl9LF9mb290ZXI6ZnVuY3Rpb24oKXt2YXIgcj10aGlzLGY9bihyLmZvb3RlciksdT1yLm9wdGlvbnMuZm9vdGVyVGVtcGxhdGU7cmV0dXJuIHRoaXMuX2FuZ3VsYXJFbGVtZW50KGYsImNsZWFudXAiKSxpLmRlc3Ryb3koZiksZi5yZW1vdmUoKSx1PyhyLmZvb3Rlcj1uKCc8ZGl2IGNsYXNzPSJrLWZvb3RlciI+PFwvZGl2PicpLmFwcGVuZFRvKHIubGlzdCksci5mb290ZXJUZW1wbGF0ZT0iZnVuY3Rpb24iIT10eXBlb2YgdT9pLnRlbXBsYXRlKHUpOnUsdCk6KHIuZm9vdGVyPW51bGwsdCl9LF9saXN0T3B0aW9uczpmdW5jdGlvbih0KXt2YXIgdT10aGlzLGY9dS5vcHRpb25zLGU9Zi52aXJ0dWFsLG89e2NoYW5nZTpyKHUuX2xpc3RDaGFuZ2UsdSl9LHM9cih1Ll9saXN0Qm91bmQsdSk7cmV0dXJuIGU9Im9iamVjdCI9PXR5cGVvZiBlP2U6e30sdD1uLmV4dGVuZCh7YXV0b0JpbmQ6ITEsc2VsZWN0YWJsZTohMCxkYXRhU291cmNlOnUuZGF0YVNvdXJjZSxjbGljazpyKHUuX2NsaWNrLHUpLGFjdGl2YXRlOnIodS5fYWN0aXZhdGVJdGVtLHUpLGNvbHVtbnM6Zi5jb2x1bW5zLGRlYWN0aXZhdGU6cih1Ll9kZWFjdGl2YXRlSXRlbSx1KSxkYXRhQmluZGluZzpmdW5jdGlvbigpe3UudHJpZ2dlcigiZGF0YUJpbmRpbmciKX0sZGF0YUJvdW5kOnMsaGVpZ2h0OmYuaGVpZ2h0LGRhdGFWYWx1ZUZpZWxkOmYuZGF0YVZhbHVlRmllbGQsZGF0YVRleHRGaWVsZDpmLmRhdGFUZXh0RmllbGQsZ3JvdXBUZW1wbGF0ZTpmLmdyb3VwVGVtcGxhdGUsZml4ZWRHcm91cFRlbXBsYXRlOmYuZml4ZWRHcm91cFRlbXBsYXRlLHRlbXBsYXRlOmYudGVtcGxhdGV9LHQsZSxvKSx0LnRlbXBsYXRlfHwodC50ZW1wbGF0ZT0iIzoiK2kuZXhwcih0LmRhdGFUZXh0RmllbGQsImRhdGEiKSsiIyIpLGYuJGFuZ3VsYXImJih0LiRhbmd1bGFyPWYuJGFuZ3VsYXIpLHR9LF9pbml0TGlzdDpmdW5jdGlvbigpe3ZhciBuPXRoaXMsdD1uLl9saXN0T3B0aW9ucyh7c2VsZWN0ZWRJdGVtQ2hhbmdlOnIobi5fbGlzdENoYW5nZSxuKX0pO24ubGlzdFZpZXc9bi5vcHRpb25zLnZpcnR1YWw/bmV3IGkudWkuVmlydHVhbExpc3Qobi51bCx0KTpuZXcgaS51aS5TdGF0aWNMaXN0KG4udWwsdCk7bi5saXN0Vmlldy5iaW5kKCJsaXN0Qm91bmQiLHIobi5fbGlzdEJvdW5kLG4pKTtuLl9zZXRMaXN0VmFsdWUoKX0sX3NldExpc3RWYWx1ZTpmdW5jdGlvbihuKXtuPW58fHRoaXMub3B0aW9ucy52YWx1ZTtuIT09dCYmdGhpcy5saXN0Vmlldy52YWx1ZShuKS5kb25lKHIodGhpcy5fdXBkYXRlU2VsZWN0aW9uU3RhdGUsdGhpcykpfSxfdXBkYXRlU2VsZWN0aW9uU3RhdGU6bi5ub29wLF9saXN0TW91c2Vkb3duOmZ1bmN0aW9uKG4pe3RoaXMuZmlsdGVySW5wdXQmJnRoaXMuZmlsdGVySW5wdXRbMF09PT1uLnRhcmdldHx8bi5wcmV2ZW50RGVmYXVsdCgpfSxfaXNGaWx0ZXJFbmFibGVkOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcHRpb25zLmZpbHRlcjtyZXR1cm4gbiYmIm5vbmUiIT09bn0sX2hpZGVDbGVhcjpmdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5fY2xlYXImJm4uX2NsZWFyLmFkZENsYXNzKHB0KX0sX3Nob3dDbGVhcjpmdW5jdGlvbigpe3RoaXMuX2NsZWFyJiZ0aGlzLl9jbGVhci5yZW1vdmVDbGFzcyhwdCl9LF9jbGVhclZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJUZXh0KCk7dGhpcy5fYWNjZXNzb3IoIiIpO3RoaXMubGlzdFZpZXcudmFsdWUoW10pO3RoaXMuX2lzU2VsZWN0JiYodGhpcy5fY3VzdG9tT3B0aW9uPXQpO3RoaXMuX2lzRmlsdGVyRW5hYmxlZCgpJiYhdGhpcy5vcHRpb25zLmVuZm9yY2VNaW5MZW5ndGgmJih0aGlzLl9maWx0ZXIoe3dvcmQ6IiIsb3BlbjohMX0pLHRoaXMub3B0aW9ucy5oaWdobGlnaHRGaXJzdCYmdGhpcy5saXN0Vmlldy5mb2N1cygwKSk7dGhpcy5fY2hhbmdlKCl9LF9jbGVhclRleHQ6ZnVuY3Rpb24oKXt0aGlzLnRleHQoIiIpfSxfY2xlYXJGaWx0ZXI6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMudmlydHVhbHx8dGhpcy5saXN0Vmlldy5ib3VuZCghMSk7dGhpcy5fZmlsdGVyU291cmNlKCl9LF9maWx0ZXJTb3VyY2U6ZnVuY3Rpb24obix0KXt2YXIgcixlLGY9dGhpcyxvPWYub3B0aW9ucyxoPW8uZmlsdGVyRmllbGRzJiZuJiZuLmxvZ2ljJiZuLmZpbHRlcnMmJm4uZmlsdGVycy5sZW5ndGgsaT1mLmRhdGFTb3VyY2UsdT1hKHt9LGkuZmlsdGVyKCl8fHt9KSxzPW58fHUuZmlsdGVycyYmdS5maWx0ZXJzLmxlbmd0aCYmIW4sYz1iKHUsby5kYXRhVGV4dEZpZWxkKTtpZih0aGlzLl9jbGVhckZpbHRlckV4cHJlc3Npb25zKHUpLCFuJiYhY3x8IWYudHJpZ2dlcigiZmlsdGVyaW5nIix7ZmlsdGVyOm59KSlyZXR1cm4gcj17ZmlsdGVyczpbXSxsb2dpYzoiYW5kIn0saD9yLmZpbHRlcnMucHVzaChuKTp0aGlzLl9wdXNoRmlsdGVyRXhwcmVzc2lvbihyLG4pLG50KHUpJiYoci5sb2dpYz09PXUubG9naWM/ci5maWx0ZXJzPXIuZmlsdGVycy5jb25jYXQodS5maWx0ZXJzKTpyLmZpbHRlcnMucHVzaCh1KSksZi5fY2FzY2FkaW5nJiZ0aGlzLmxpc3RWaWV3LnNldERTRmlsdGVyKHIpLGU9YSh7fSx7cGFnZTpzPzE6aS5wYWdlKCkscGFnZVNpemU6cz9pLm9wdGlvbnMucGFnZVNpemU6aS5wYWdlU2l6ZSgpLHNvcnQ6aS5zb3J0KCksZmlsdGVyOmkuZmlsdGVyKCksZ3JvdXA6aS5ncm91cCgpLGFnZ3JlZ2F0ZTppLmFnZ3JlZ2F0ZSgpfSx7ZmlsdGVyOnJ9KSxpW3Q/InJlYWQiOiJxdWVyeSJdKGkuX21lcmdlU3RhdGUoZSkpfSxfcHVzaEZpbHRlckV4cHJlc3Npb246ZnVuY3Rpb24obix0KXtudCh0KSYmIiIhPT10LnZhbHVlJiZuLmZpbHRlcnMucHVzaCh0KX0sX2NsZWFyRmlsdGVyRXhwcmVzc2lvbnM6ZnVuY3Rpb24obil7dmFyIGksdDtpZihuLmZpbHRlcnMpe2Zvcih0PTA7dDxuLmZpbHRlcnMubGVuZ3RoO3QrKykiZnJvbUZpbHRlciJpbiBuLmZpbHRlcnNbdF0mJihpPXQpO2lzTmFOKGkpfHxuLmZpbHRlcnMuc3BsaWNlKGksMSl9fSxfYW5ndWxhckVsZW1lbnQ6ZnVuY3Rpb24obix0KXtuJiZ0aGlzLmFuZ3VsYXIodCxmdW5jdGlvbigpe3JldHVybntlbGVtZW50czpufX0pfSxfcmVuZGVyTm9EYXRhOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxuPXQubm9EYXRhO24mJih0aGlzLl9hbmd1bGFyRWxlbWVudChuLCJjbGVhbnVwIiksbi5jaGlsZHJlbigiOmZpcnN0IikuaHRtbCh0Lm5vRGF0YVRlbXBsYXRlKHtpbnN0YW5jZTp0fSkpLHRoaXMuX2FuZ3VsYXJFbGVtZW50KG4sImNvbXBpbGUiKSl9LF90b2dnbGVOb0RhdGE6ZnVuY3Rpb24odCl7bih0aGlzLm5vRGF0YSkudG9nZ2xlKHQpfSxfdG9nZ2xlSGVhZGVyOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMubGlzdFZpZXcuY29udGVudC5wcmV2KHN0KTt0LnRvZ2dsZShuKX0sX3JlbmRlckZvb3RlcjpmdW5jdGlvbigpe3ZhciB0PXRoaXMsbj10LmZvb3RlcjtuJiYodGhpcy5fYW5ndWxhckVsZW1lbnQobiwiY2xlYW51cCIpLG4uaHRtbCh0LmZvb3RlclRlbXBsYXRlKHtpbnN0YW5jZTp0fSkpLHRoaXMuX2FuZ3VsYXJFbGVtZW50KG4sImNvbXBpbGUiKSl9LF9hbGxvd09wZW5pbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm5vRGF0YVRlbXBsYXRlfHx0aGlzLmRhdGFTb3VyY2UuZmxhdFZpZXcoKS5sZW5ndGh9LF9pbml0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ9bi5vcHRpb25zLnZhbHVlO251bGwhPT10P24uZWxlbWVudC52YWwodCk6KHQ9bi5fYWNjZXNzb3IoKSxuLm9wdGlvbnMudmFsdWU9dCk7bi5fb2xkPXR9LF9pZ25vcmVDYXNlOmZ1bmN0aW9uKCl7dmFyIG4sdD10aGlzLGk9dC5kYXRhU291cmNlLnJlYWRlci5tb2RlbDtpJiZpLmZpZWxkcyYmKG49aS5maWVsZHNbdC5vcHRpb25zLmRhdGFUZXh0RmllbGRdLG4mJm4udHlwZSYmInN0cmluZyIhPT1uLnR5cGUmJih0Lm9wdGlvbnMuaWdub3JlQ2FzZT0hMSkpfSxfZm9jdXM6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMubGlzdFZpZXcuZm9jdXMobil9LF9maWx0ZXI6ZnVuY3Rpb24obil7dmFyIGkscix0PXRoaXMsZj10Lm9wdGlvbnMsZT1uLndvcmQsdT1mLmZpbHRlckZpZWxkcyxvPWYuZGF0YVRleHRGaWVsZDtpZih1JiZ1Lmxlbmd0aClmb3IoaT17bG9naWM6Im9yIixmaWx0ZXJzOltdLGZyb21GaWx0ZXI6ITB9LHI9MDtyPHUubGVuZ3RoO3IrKyl0aGlzLl9wdXNoRmlsdGVyRXhwcmVzc2lvbihpLHQuX2J1aWxkRXhwcmVzc2lvbihlLHVbcl0pKTtlbHNlIGk9dC5fYnVpbGRFeHByZXNzaW9uKGUsbyk7dC5fb3Blbj1uLm9wZW47dC5fZmlsdGVyU291cmNlKGkpfSxfYnVpbGRFeHByZXNzaW9uOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcyxyPWkub3B0aW9ucyx1PXIuaWdub3JlQ2FzZSxmPWkuZGF0YVNvdXJjZS5vcHRpb25zLmFjY2VudEZvbGRpbmdGaWx0ZXJpbmc7cmV0dXJue3ZhbHVlOnU/Zj9uLnRvTG9jYWxlTG93ZXJDYXNlKGYpOm4udG9Mb3dlckNhc2UoKTpuLGZpZWxkOnQsb3BlcmF0b3I6ci5maWx0ZXIsaWdub3JlQ2FzZTp1fX0sX2NsZWFyQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPXQub3B0aW9ucy5tZXNzYWdlcy5jbGVhcjt0Ll9jbGVhcnx8KHQuX2NsZWFyPW4oJzxzcGFuIHVuc2VsZWN0YWJsZT0ib24iIGNsYXNzPSJrLWljb24gay1jbGVhci12YWx1ZSBrLWktY2xvc2UiIHRpdGxlPSInK2krJyI+PFwvc3Bhbj4nKS5hdHRyKHtyb2xlOiJidXR0b24iLHRhYkluZGV4Oi0xfSkpO3Qub3B0aW9ucy5jbGVhckJ1dHRvbnx8dC5fY2xlYXIucmVtb3ZlKCk7dGhpcy5faGlkZUNsZWFyKCl9LHNlYXJjaDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnM7dD0ic3RyaW5nIj09dHlwZW9mIHQ/dDp0aGlzLl9pbnB1dFZhbHVlKCk7Y2xlYXJUaW1lb3V0KHRoaXMuX3R5cGluZ1RpbWVvdXQpOyghaS5lbmZvcmNlTWluTGVuZ3RoJiYhdC5sZW5ndGh8fHQubGVuZ3RoPj1pLm1pbkxlbmd0aCkmJih0aGlzLl9zdGF0ZT0iZmlsdGVyIix0aGlzLmxpc3RWaWV3JiYodGhpcy5saXN0Vmlldy5fZW1wdHlTZWFyY2g9IW4udHJpbSh0KS5sZW5ndGgpLHRoaXMuX2lzRmlsdGVyRW5hYmxlZCgpP3RoaXMuX2ZpbHRlcih7d29yZDp0LG9wZW46ITB9KTp0aGlzLl9zZWFyY2hCeVdvcmQodCkpfSxjdXJyZW50OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9mb2N1cyhuKX0saXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51bFswXS5jaGlsZHJlbn0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBuPXRoaXMsdD1uLm5zO2MuZm4uZGVzdHJveS5jYWxsKG4pO24uX3VuYmluZERhdGFTb3VyY2UoKTtuLmxpc3RWaWV3LmRlc3Ryb3koKTtuLmxpc3Qub2ZmKHQpO24ucG9wdXAuZGVzdHJveSgpO24uX2Zvcm0mJm4uX2Zvcm0ub2ZmKCJyZXNldCIsbi5fcmVzZXRIYW5kbGVyKX0sZGF0YUl0ZW06ZnVuY3Rpb24oaSl7dmFyIHI9dGhpcztpZihpPT09dClyZXR1cm4gci5saXN0Vmlldy5zZWxlY3RlZERhdGFJdGVtcygpWzBdO2lmKCJudW1iZXIiIT10eXBlb2YgaSl7aWYoci5vcHRpb25zLnZpcnR1YWwpcmV0dXJuIHIuZGF0YVNvdXJjZS5nZXRCeVVpZChuKGkpLmRhdGEoInVpZCIpKTtpPW4oci5pdGVtcygpKS5pbmRleChpKX1yZXR1cm4gci5kYXRhU291cmNlLmZsYXRWaWV3KClbaV19LF9hY3RpdmF0ZUl0ZW06ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmxpc3RWaWV3LmZvY3VzKCk7biYmdGhpcy5fZm9jdXNlZC5hZGQodGhpcy5maWx0ZXJJbnB1dCkuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IixuLmF0dHIoImlkIikpfSxfZGVhY3RpdmF0ZUl0ZW06ZnVuY3Rpb24oKXt0aGlzLl9mb2N1c2VkLmFkZCh0aGlzLmZpbHRlcklucHV0KS5yZW1vdmVBdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiKX0sX2FjY2Vzc29yczpmdW5jdGlvbigpe3ZhciB0PXRoaXMscj10LmVsZW1lbnQsbj10Lm9wdGlvbnMsdT1pLmdldHRlcixmPXIuYXR0cihpLmF0dHIoInRleHQtZmllbGQiKSksZT1yLmF0dHIoaS5hdHRyKCJ2YWx1ZS1maWVsZCIpKTshbi5kYXRhVGV4dEZpZWxkJiZmJiYobi5kYXRhVGV4dEZpZWxkPWYpOyFuLmRhdGFWYWx1ZUZpZWxkJiZlJiYobi5kYXRhVmFsdWVGaWVsZD1lKTt0Ll90ZXh0PXUobi5kYXRhVGV4dEZpZWxkKTt0Ll92YWx1ZT11KG4uZGF0YVZhbHVlRmllbGQpfSxfYXJpYTpmdW5jdGlvbihuKXt2YXIgaT10aGlzLHI9aS5vcHRpb25zLHU9aS5fZm9jdXNlZC5hZGQoaS5maWx0ZXJJbnB1dCk7ci5zdWdnZXN0IT09dCYmdS5hdHRyKCJhcmlhLWF1dG9jb21wbGV0ZSIsci5zdWdnZXN0PyJib3RoIjoibGlzdCIpO249bj9uKyIgIitpLnVsWzBdLmlkOmkudWxbMF0uaWQ7dS5hdHRyKCJhcmlhLW93bnMiLG4pO2kudWwuYXR0cigiYXJpYS1saXZlIixpLl9pc0ZpbHRlckVuYWJsZWQoKT8icG9saXRlIjoib2ZmIik7aS5fYXJpYUxhYmVsKCl9LF9hcmlhTGFiZWw6ZnVuY3Rpb24oKXt2YXIgZSx1PXRoaXMsdD11Ll9mb2N1c2VkLHI9dS5lbGVtZW50LG89ci5hdHRyKCJpZCIpLGY9bignbGFiZWxbZm9yPSInK28rJyJdJykscz1yLmF0dHIoImFyaWEtbGFiZWwiKSxoPXIuYXR0cigiYXJpYS1sYWJlbGxlZGJ5Iik7dCE9PXImJihzP3QuYXR0cigiYXJpYS1sYWJlbCIscyk6aD90LmF0dHIoImFyaWEtbGFiZWxsZWRieSIsaCk6Zi5sZW5ndGgmJihlPWYuYXR0cigiaWQiKXx8dS5fZ2VuZXJhdGVMYWJlbElkKGYsb3x8aS5ndWlkKCkpLHQuYXR0cigiYXJpYS1sYWJlbGxlZGJ5IixlKSkpfSxfZ2VuZXJhdGVMYWJlbElkOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dCt0aTtyZXR1cm4gbi5hdHRyKCJpZCIsaSksaX0sX2JsdXI6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uX2NoYW5nZSgpO24uY2xvc2UoKTtuLl91c2VyVHJpZ2dlcmVkPSExfSxfY2hhbmdlOmZ1bmN0aW9uKCl7dmFyIHIsbj10aGlzLGY9bi5zZWxlY3RlZEluZGV4LGU9bi5vcHRpb25zLnZhbHVlLGk9bi52YWx1ZSgpO24uX2lzU2VsZWN0JiYhbi5saXN0Vmlldy5ib3VuZCgpJiZlJiYoaT1lKTtpIT09byhuLl9vbGQsdHlwZW9mIGkpJiZpIT09byhuLl9vbGRUZXh0LHR5cGVvZiBpKT9yPSEwOm4uX3ZhbHVlQmVmb3JlQ2FzY2FkZSE9PXQmJm4uX3ZhbHVlQmVmb3JlQ2FzY2FkZSE9PW8obi5fb2xkLHR5cGVvZiBuLl92YWx1ZUJlZm9yZUNhc2NhZGUpJiZuLl91c2VyVHJpZ2dlcmVkP3I9ITA6Zj09PXR8fGY9PT1uLl9vbGRJbmRleHx8bi5saXN0Vmlldy5pc0ZpbHRlcmVkKCl8fChyPSEwKTtyJiYobi5fdmFsdWVCZWZvcmVDYXNjYWRlPW4uX29sZD1udWxsPT09bi5fb2xkfHwiIj09PW4uX29sZHx8IiI9PT1pP2k6bi5kYXRhSXRlbSgpP24ub3B0aW9ucy5kYXRhVmFsdWVGaWVsZD9uLmRhdGFJdGVtKClbbi5vcHRpb25zLmRhdGFWYWx1ZUZpZWxkXTpuLmRhdGFJdGVtKCk6bnVsbCxuLl9vbGRJbmRleD1mLG4uX29sZFRleHQ9bi50ZXh0JiZuLnRleHQoKSxuLl90eXBpbmd8fG4uZWxlbWVudC50cmlnZ2VyKHUpLG4udHJpZ2dlcih1KSk7bi50eXBpbmc9ITF9LF9kYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YVNvdXJjZS52aWV3KCl9LF9lbmFibGU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLGk9bi5vcHRpb25zLHI9bi5lbGVtZW50LmlzKCJbZGlzYWJsZWRdIik7aS5lbmFibGUhPT10JiYoaS5lbmFibGVkPWkuZW5hYmxlKTshaS5lbmFibGVkfHxyP24uZW5hYmxlKCExKTpuLnJlYWRvbmx5KG4uZWxlbWVudC5pcygiW3JlYWRvbmx5XSIpKX0sX2RhdGFWYWx1ZTpmdW5jdGlvbihuKXt2YXIgaT10aGlzLl92YWx1ZShuKTtyZXR1cm4gaT09PXQmJihpPXRoaXMuX3RleHQobikpLGl9LF9vZmZzZXRIZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgdD0wLGk9dGhpcy5saXN0Vmlldy5jb250ZW50LnByZXZBbGwoIjp2aXNpYmxlIik7cmV0dXJuIGkuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcyk7dCs9aXQoaSwhMCl9KSx0fSxfaGVpZ2h0OmZ1bmN0aW9uKGkpe3ZhciBvLGYscyx1PXRoaXMsZT11Lmxpc3Qscj11Lm9wdGlvbnMuaGVpZ2h0LGg9dS5wb3B1cC52aXNpYmxlKCk7aWYoaXx8dS5vcHRpb25zLm5vRGF0YVRlbXBsYXRlKXtpZihmPWUuYWRkKGUucGFyZW50KCIuay1hbmltYXRpb24tY29udGFpbmVyIikpLnNob3coKSwhZS5pcygiOnZpc2libGUiKSlyZXR1cm4gZi5oaWRlKCksdDtyPXUubGlzdFZpZXcuY29udGVudFswXS5zY3JvbGxIZWlnaHQ+cj9yOiJhdXRvIjtmLmhlaWdodChyKTsiYXV0byIhPT1yJiYobz11Ll9vZmZzZXRIZWlnaHQoKSxzPWl0KG4odS5mb290ZXIpKXx8MCxyPXItby1zKTt1Lmxpc3RWaWV3LmNvbnRlbnQuaGVpZ2h0KHIpO2h8fGYuaGlkZSgpfXJldHVybiByfSxfb3BlbkhhbmRsZXI6ZnVuY3Rpb24obil7dGhpcy5fYWRqdXN0TGlzdFdpZHRoKCk7dGhpcy50cmlnZ2VyKGN0KT9uLnByZXZlbnREZWZhdWx0KCk6KHRoaXMuX2ZvY3VzZWQuYXR0cigiYXJpYS1leHBhbmRlZCIsITApLHRoaXMudWwuYXR0cigiYXJpYS1oaWRkZW4iLCExKSl9LF9hZGp1c3RMaXN0V2lkdGg6ZnVuY3Rpb24oKXt2YXIgbixyLHU9dGhpcyx0PXUubGlzdCxpPXRbMF0uc3R5bGUud2lkdGgsZj11LndyYXBwZXI7aWYodC5kYXRhKHd0KXx8IWkpcmV0dXJuIG49d2luZG93LmdldENvbXB1dGVkU3R5bGU/d2luZG93LmdldENvbXB1dGVkU3R5bGUoZlswXSxudWxsKTowLHI9cGFyc2VGbG9hdChuJiZuLndpZHRoKXx8ZnQoZiksbiYmZy5tc2llJiYocis9cGFyc2VGbG9hdChuLnBhZGRpbmdMZWZ0KStwYXJzZUZsb2F0KG4ucGFkZGluZ1JpZ2h0KStwYXJzZUZsb2F0KG4uYm9yZGVyTGVmdFdpZHRoKStwYXJzZUZsb2F0KG4uYm9yZGVyUmlnaHRXaWR0aCkpLGk9ImJvcmRlci1ib3giIT09dC5jc3MoImJveC1zaXppbmciKT9yLShmdCh0KS10LndpZHRoKCkpOnIsdC5jc3Moe2ZvbnRGYW1pbHk6Zi5jc3MoImZvbnQtZmFtaWx5Iiksd2lkdGg6dS5vcHRpb25zLmF1dG9XaWR0aD8iYXV0byI6aSxtaW5XaWR0aDppLHdoaXRlU3BhY2U6dS5vcHRpb25zLmF1dG9XaWR0aD8ibm93cmFwIjoibm9ybWFsIn0pLmRhdGEod3QsaSksITB9LF9jbG9zZUhhbmRsZXI6ZnVuY3Rpb24obil7dGhpcy50cmlnZ2VyKGx0KT9uLnByZXZlbnREZWZhdWx0KCk6KHRoaXMuX2ZvY3VzZWQuYXR0cigiYXJpYS1leHBhbmRlZCIsITEpLHRoaXMudWwuYXR0cigiYXJpYS1oaWRkZW4iLCEwKSl9LF9mb2N1c0l0ZW06ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmxpc3RWaWV3LHI9IW4uZm9jdXMoKSxpPXMobi5zZWxlY3QoKSk7aT09PXQmJnRoaXMub3B0aW9ucy5oaWdobGlnaHRGaXJzdCYmciYmKGk9MCk7aSE9PXQ/bi5mb2N1cyhpKTpyJiZuLnNjcm9sbFRvSW5kZXgoMCl9LF9jYWxjdWxhdGVHcm91cFBhZGRpbmc6ZnVuY3Rpb24obil7dmFyIGY9dGhpcy51bC5jaGlsZHJlbigiLmstZmlyc3Q6Zmlyc3QiKSxyPXRoaXMubGlzdFZpZXcuY29udGVudC5wcmV2KHN0KSx1PTAsdD0icmlnaHQiO3JbMF0mJiJub25lIiE9PXJbMF0uc3R5bGUuZGlzcGxheSYmKCJhdXRvIiE9PW4mJih1PWkuc3VwcG9ydC5zY3JvbGxiYXIoKSksdGhpcy5lbGVtZW50LnBhcmVudHMoIi5rLXJ0bCIpLmxlbmd0aCYmKHQ9ImxlZnQiKSx1Kz1wYXJzZUZsb2F0KGYuY3NzKCJib3JkZXItIit0KyItd2lkdGgiKSwxMCkrcGFyc2VGbG9hdChmLmNoaWxkcmVuKCIuay1ncm91cCIpLmNzcygicGFkZGluZy0iK3QpLDEwKSxyLmNzcygicGFkZGluZy0iK3QsdSkpfSxfY2FsY3VsYXRlUG9wdXBIZWlnaHQ6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5faGVpZ2h0KHRoaXMuZGF0YVNvdXJjZS5mbGF0VmlldygpLmxlbmd0aHx8bik7dGhpcy5fY2FsY3VsYXRlR3JvdXBQYWRkaW5nKHQpO3RoaXMuX2NhbGN1bGF0ZUNvbHVtbnNIZWFkZXJQYWRkaW5nKHQpfSxfY2FsY3VsYXRlQ29sdW1uc0hlYWRlclBhZGRpbmc6ZnVuY3Rpb24obil7dmFyIHQscix1O3RoaXMub3B0aW9ucy5jb2x1bW5zJiZ0aGlzLm9wdGlvbnMuY29sdW1ucy5sZW5ndGgmJih0PXRoaXMscj1lLmlzUnRsKHQud3JhcHBlciksdT1pLnN1cHBvcnQuc2Nyb2xsYmFyKCksdC5jb2x1bW5zSGVhZGVyLmNzcyhyPyJwYWRkaW5nLWxlZnQiOiJwYWRkaW5nLXJpZ2h0IiwiYXV0byIhPT1uP3U6MCkpfSxfcmVmcmVzaFNjcm9sbDpmdW5jdGlvbigpe3ZhciBuPXRoaXMubGlzdFZpZXcsdD1uLmVsZW1lbnQuaGVpZ2h0KCk+bi5jb250ZW50LmhlaWdodCgpO3RoaXMub3B0aW9ucy5hdXRvV2lkdGgmJm4uY29udGVudC5jc3Moe292ZXJmbG93WDoiaGlkZGVuIixvdmVyZmxvd1k6dD8ic2Nyb2xsIjoiYXV0byJ9KX0sX3Jlc2l6ZVBvcHVwOmZ1bmN0aW9uKG4pe3RoaXMub3B0aW9ucy52aXJ0dWFsfHwodGhpcy5wb3B1cC5lbGVtZW50LmlzKCI6dmlzaWJsZSIpP3RoaXMuX2NhbGN1bGF0ZVBvcHVwSGVpZ2h0KG4pOih0aGlzLnBvcHVwLm9uZSgib3BlbiIsZnVuY3Rpb24obil7cmV0dXJuIHIoZnVuY3Rpb24oKXt0aGlzLl9jYWxjdWxhdGVQb3B1cEhlaWdodChuKX0sdGhpcyl9LmNhbGwodGhpcyxuKSksdGhpcy5wb3B1cC5vbmUoImFjdGl2YXRlIixyKHRoaXMuX3JlZnJlc2hTY3JvbGwsdGhpcykpKSl9LF9wb3B1cDpmdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5wb3B1cD1uZXcgbC5Qb3B1cChuLmxpc3QsYSh7fSxuLm9wdGlvbnMucG9wdXAse2FuY2hvcjpuLndyYXBwZXIsb3BlbjpyKG4uX29wZW5IYW5kbGVyLG4pLGNsb3NlOnIobi5fY2xvc2VIYW5kbGVyLG4pLGFuaW1hdGlvbjpuLm9wdGlvbnMuYW5pbWF0aW9uLGlzUnRsOmUuaXNSdGwobi53cmFwcGVyKSxhdXRvc2l6ZTpuLm9wdGlvbnMuYXV0b1dpZHRofSkpfSxfbWFrZVVuc2VsZWN0YWJsZTpmdW5jdGlvbigpe2VpJiZ0aGlzLmxpc3QuZmluZCgiKiIpLm5vdCgiLmstdGV4dGJveCIpLmF0dHIoInVuc2VsZWN0YWJsZSIsIm9uIil9LF90b2dnbGVIb3ZlcjpmdW5jdGlvbih0KXtuKHQuY3VycmVudFRhcmdldCkudG9nZ2xlQ2xhc3MoaywibW91c2VlbnRlciI9PT10LnR5cGUpfSxfdG9nZ2xlOmZ1bmN0aW9uKG4saSl7dmFyIHI9dGhpcyx1PWUubW9iaWxlT1MmJihlLnRvdWNofHxlLk1TUG9pbnRlcnN8fGUucG9pbnRlcnMpO249biE9PXQ/bjohci5wb3B1cC52aXNpYmxlKCk7aXx8dXx8ci5fZm9jdXNlZFswXT09PXV0KCl8fChyLl9wcmV2ZW50PSEwLHIuX2ZvY3VzZWQuZm9jdXMoKSxyLl9wcmV2ZW50PSExKTtyW24/Y3Q6bHRdKCl9LF90cmlnZ2VyQ2FzY2FkZTpmdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5fY2FzY2FkZVRyaWdnZXJlZCYmbi52YWx1ZSgpPT09byhuLl9jYXNjYWRlZFZhbHVlLHR5cGVvZiBuLnZhbHVlKCkpfHwobi5fY2FzY2FkZWRWYWx1ZT1uLnZhbHVlKCksbi5fY2FzY2FkZVRyaWdnZXJlZD0hMCxuLnRyaWdnZXIocCx7dXNlclRyaWdnZXJlZDpuLl91c2VyVHJpZ2dlcmVkfSkpfSxfdHJpZ2dlckNoYW5nZTpmdW5jdGlvbigpe3RoaXMuX3ZhbHVlQmVmb3JlQ2FzY2FkZSE9PXRoaXMudmFsdWUoKSYmdGhpcy50cmlnZ2VyKHUpfSxfdW5iaW5kRGF0YVNvdXJjZTpmdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5kYXRhU291cmNlLnVuYmluZCh2dCxuLl9yZXF1ZXN0U3RhcnRIYW5kbGVyKS51bmJpbmQoeXQsbi5fcmVxdWVzdEVuZEhhbmRsZXIpLnVuYmluZCgiZXJyb3IiLG4uX2Vycm9ySGFuZGxlcil9LHJlcXVpcmVWYWx1ZU1hcHBlcjpmdW5jdGlvbihuLHQpe3ZhciBpPShuLnZhbHVlIGluc3RhbmNlb2YgQXJyYXk/bi52YWx1ZS5sZW5ndGg6bi52YWx1ZSl8fCh0IGluc3RhbmNlb2YgQXJyYXk/dC5sZW5ndGg6dCk7aWYoaSYmbi52aXJ0dWFsJiYiZnVuY3Rpb24iIT10eXBlb2Ygbi52aXJ0dWFsLnZhbHVlTWFwcGVyKXRocm93IEVycm9yKCJWYWx1ZU1hcHBlciBpcyBub3QgcHJvdmlkZWQgd2hpbGUgdGhlIHZhbHVlIGlzIGJlaW5nIHNldC4gU2VlIGh0dHA6Ly9kb2NzLnRlbGVyaWsuY29tL2tlbmRvLXVpL2NvbnRyb2xzL2VkaXRvcnMvY29tYm9ib3gvdmlydHVhbGl6YXRpb24jdGhlLXZhbHVlbWFwcGVyLWZ1bmN0aW9uIik7fX0pO2Eodix7aW5BcnJheTpmdW5jdGlvbihuLHQpe3ZhciBpLHIsdT10LmNoaWxkcmVuO2lmKCFufHxuLnBhcmVudE5vZGUhPT10KXJldHVybi0xO2ZvcihpPTAscj11Lmxlbmd0aDtpPHI7aSsrKWlmKG49PT11W2ldKXJldHVybiBpO3JldHVybi0xfSx1bmlmeVR5cGU6b30pO2kudWkuTGlzdD12O2wuU2VsZWN0PXYuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4sdCl7di5mbi5pbml0LmNhbGwodGhpcyxuLHQpO3RoaXMuX2luaXRpYWw9dGhpcy5lbGVtZW50LnZhbCgpfSxzZXREYXRhU291cmNlOmZ1bmN0aW9uKG4pe3ZhciBpLHQ9dGhpczt0Lm9wdGlvbnMuZGF0YVNvdXJjZT1uO3QuX2RhdGFTb3VyY2UoKTt0Lmxpc3RWaWV3LmJvdW5kKCkmJih0Ll9pbml0aWFsSW5kZXg9bnVsbCx0Lmxpc3RWaWV3Ll9jdXJyZW50PW51bGwpO3QubGlzdFZpZXcuc2V0RGF0YVNvdXJjZSh0LmRhdGFTb3VyY2UpO3Qub3B0aW9ucy5hdXRvQmluZCYmdC5kYXRhU291cmNlLmZldGNoKCk7aT10Ll9wYXJlbnRXaWRnZXQoKTtpJiZ0Ll9jYXNjYWRlU2VsZWN0KGkpfSxjbG9zZTpmdW5jdGlvbigpe3RoaXMucG9wdXAuY2xvc2UoKX0sc2VsZWN0OmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXM7cmV0dXJuIG49PT10P2kuc2VsZWN0ZWRJbmRleDppLl9zZWxlY3QobikuZG9uZShmdW5jdGlvbigpe2kuX2Nhc2NhZGVWYWx1ZT1pLl9vbGQ9aS5fYWNjZXNzb3IoKTtpLl9vbGRJbmRleD1pLnNlbGVjdGVkSW5kZXh9KX0sX2FjY2Vzc29yOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXNbdGhpcy5faXNTZWxlY3Q/Il9hY2Nlc3NvclNlbGVjdCI6Il9hY2Nlc3NvcklucHV0Il0obix0KX0sX2FjY2Vzc29ySW5wdXQ6ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5lbGVtZW50WzBdO3JldHVybiBuPT09dD9pLnZhbHVlOihudWxsPT09biYmKG49IiIpLGkudmFsdWU9bix0KX0sX2FjY2Vzc29yU2VsZWN0OmZ1bmN0aW9uKG4saSl7dmFyIHUscj10aGlzLmVsZW1lbnRbMF07cmV0dXJuIG49PT10P3cocikudmFsdWV8fCIiOih3KHIpLnNlbGVjdGVkPSExLGk9PT10JiYoaT0tMSksdT1udWxsIT09biYmIiIhPT1uLHUmJmk9PS0xP3RoaXMuX2N1c3RvbShuKTpuP3IudmFsdWU9bjpyLnNlbGVjdGVkSW5kZXg9aSx0KX0sX3N5bmNWYWx1ZUFuZFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sX2N1c3RvbTpmdW5jdGlvbih0KXt2YXIgcj10aGlzLHU9ci5lbGVtZW50LGk9ci5fY3VzdG9tT3B0aW9uO2l8fChpPW4oIjxvcHRpb24vPiIpLHIuX2N1c3RvbU9wdGlvbj1pLHUuYXBwZW5kKGkpKTtpLnRleHQodCk7aVswXS5zZWxlY3RlZD0hMH0sX2hpZGVCdXN5OmZ1bmN0aW9uKCl7dmFyIG49dGhpcztjbGVhclRpbWVvdXQobi5fYnVzeSk7bi5fYXJyb3dJY29uLnJlbW92ZUNsYXNzKG90KTtuLl9mb2N1c2VkLmF0dHIoImFyaWEtYnVzeSIsITEpO24uX2J1c3k9bnVsbDtuLl9zaG93Q2xlYXIoKX0sX3Nob3dCdXN5OmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7bi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHQuX3JlcXVlc3Q9ITAsdC5fYnVzeXx8KHQuX2J1c3k9c2V0VGltZW91dChmdW5jdGlvbigpe3QuX2Fycm93SWNvbiYmKHQuX2ZvY3VzZWQuYXR0cigiYXJpYS1idXN5IiwhMCksdC5fYXJyb3dJY29uLmFkZENsYXNzKG90KSx0Ll9oaWRlQ2xlYXIoKSl9LDEwMCkpKX0sX3JlcXVlc3RFbmQ6ZnVuY3Rpb24oKXt0aGlzLl9yZXF1ZXN0PSExO3RoaXMuX2hpZGVCdXN5KCl9LF9kYXRhU291cmNlOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLG89dC5lbGVtZW50LGY9dC5vcHRpb25zLHU9Zi5kYXRhU291cmNlfHx7fTt1PW4uaXNBcnJheSh1KT97ZGF0YTp1fTp1O3QuX2lzU2VsZWN0JiYoZT1vWzBdLnNlbGVjdGVkSW5kZXgsZT4tMSYmKGYuaW5kZXg9ZSksdS5zZWxlY3Q9byx1LmZpZWxkcz1be2ZpZWxkOmYuZGF0YVRleHRGaWVsZH0se2ZpZWxkOmYuZGF0YVZhbHVlRmllbGR9XSk7dC5kYXRhU291cmNlP3QuX3VuYmluZERhdGFTb3VyY2UoKToodC5fcmVxdWVzdFN0YXJ0SGFuZGxlcj1yKHQuX3Nob3dCdXN5LHQpLHQuX3JlcXVlc3RFbmRIYW5kbGVyPXIodC5fcmVxdWVzdEVuZCx0KSx0Ll9lcnJvckhhbmRsZXI9cih0Ll9oaWRlQnVzeSx0KSk7dC5kYXRhU291cmNlPWkuZGF0YS5EYXRhU291cmNlLmNyZWF0ZSh1KS5iaW5kKHZ0LHQuX3JlcXVlc3RTdGFydEhhbmRsZXIpLmJpbmQoeXQsdC5fcmVxdWVzdEVuZEhhbmRsZXIpLmJpbmQoImVycm9yIix0Ll9lcnJvckhhbmRsZXIpfSxfZmlyc3RJdGVtOmZ1bmN0aW9uKCl7dGhpcy5saXN0Vmlldy5mb2N1c0ZpcnN0KCl9LF9sYXN0SXRlbTpmdW5jdGlvbigpe3RoaXMubGlzdFZpZXcuZm9jdXNMYXN0KCl9LF9uZXh0SXRlbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxpc3RWaWV3LmZvY3VzTmV4dCgpfSxfcHJldkl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saXN0Vmlldy5mb2N1c1ByZXYoKX0sX2dldE5vcm1hbGl6ZWREYXRhSXRlbTpmdW5jdGlvbihuKXt2YXIgaSx0PXRoaXMscj10Lmxpc3RWaWV3LHU9Im51bWJlciI9PXR5cGVvZiBuLGY9dC5vcHRpb25MYWJlbCYmdC5vcHRpb25MYWJlbC5sZW5ndGg7cmV0dXJuIGk9dT9mPy0tbjpuOnIuZ2V0RWxlbWVudEluZGV4KG4pLHIuZGF0YUl0ZW1CeUluZGV4KGkpfSxfZ2V0Tm9ybWFsaXplZFNlbGVjdENhbmRpZGF0ZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLHI9dC5vcHRpb25MYWJlbCYmdC5vcHRpb25MYWJlbC5sZW5ndGgsdT0ibnVtYmVyIj09dHlwZW9mIG4saT1uO3JldHVybiByJiZ1JiZpKyssaX0sX21vdmU6ZnVuY3Rpb24obil7dmFyIGUsaCxpLG8sbCxwLGMsYSx3LHQ9dGhpcyxzPXQubGlzdFZpZXcscj1uLmtleUNvZGUseT1yPT09Zi5ET1dOLGI9dC5vcHRpb25zLnZpcnR1YWw7aWYocj09PWYuVVB8fHkpe2lmKG4uYWx0S2V5KXQudG9nZ2xlKHkpO2Vsc2V7aWYoIXMuYm91bmQoKSYmIXQudWxbMF0uZmlyc3RDaGlsZClyZXR1cm4gdC5fZmV0Y2h8fCh0LmRhdGFTb3VyY2Uub25lKHUsZnVuY3Rpb24oKXt0Ll9mZXRjaD0hMTt0Ll9tb3ZlKG4pfSksdC5fZmV0Y2g9ITAsdC5fZmlsdGVyU291cmNlKCkpLG4ucHJldmVudERlZmF1bHQoKSwhMDtpPXQuX2ZvY3VzKCk7dC5fZmV0Y2h8fGkmJiFpLmhhc0NsYXNzKCJrLXN0YXRlLXNlbGVjdGVkIil8fCh5PyhvPXQuX25leHRJdGVtKCksKGImJm88PTB8fCF0Ll9mb2N1cygpJiYhbykmJnQuX2xhc3RJdGVtKCkpOihvPXQuX3ByZXZJdGVtKCksKGImJm8+PXMuZGF0YVNvdXJjZS50b3RhbCgpLTF8fCF0Ll9mb2N1cygpJiYhbykmJnQuX2ZpcnN0SXRlbSgpKSk7bD10Ll9nZXROb3JtYWxpemVkU2VsZWN0Q2FuZGlkYXRlKHQuX2dldCh0Ll9mb2N1cygpKXx8b3x8MCk7dC5fc2VsZWN0KGwsITApLmRvbmUoZnVuY3Rpb24oKXt2YXIgbj1mdW5jdGlvbigpe3QucG9wdXAudmlzaWJsZSgpfHx0Ll9ibHVyKCk7dC5fY2FzY2FkZWRWYWx1ZT1udWxsPT09dC5fY2FzY2FkZWRWYWx1ZT90LnZhbHVlKCk6dC5kYXRhSXRlbSgpP3QuZGF0YUl0ZW0oKVt0Lm9wdGlvbnMuZGF0YVZhbHVlRmllbGRdfHx0LmRhdGFJdGVtKCk6bnVsbH07dC50cmlnZ2VyKGQse2RhdGFJdGVtOnQuX2dldE5vcm1hbGl6ZWREYXRhSXRlbShsKSxpdGVtOnQuX2ZvY3VzKCl9KT90Ll9zZWxlY3QoaSkuZG9uZShuKTpuKCl9KX1uLnByZXZlbnREZWZhdWx0KCk7aD0hMH1lbHNlIGlmKHI9PT1mLkVOVEVSfHxyPT09Zi5UQUIpe2lmKHQucG9wdXAudmlzaWJsZSgpJiZuLnByZXZlbnREZWZhdWx0KCksaT10Ll9mb2N1cygpLGU9dC5kYXRhSXRlbSgpLHQucG9wdXAudmlzaWJsZSgpfHxlJiZ0LnRleHQoKT09PXQuX3RleHQoZSl8fChpPW51bGwpLHA9dC5maWx0ZXJJbnB1dCYmdC5maWx0ZXJJbnB1dFswXT09PXV0KCksaSl7aWYoZT1zLmRhdGFJdGVtQnlJbmRleChzLmdldEVsZW1lbnRJbmRleChpKSksYT0hMCxlJiYoYT10Ll92YWx1ZShlKSE9PXYudW5pZnlUeXBlKHQudmFsdWUoKSx0eXBlb2YgdC5fdmFsdWUoZSkpKSxhJiZ0LnRyaWdnZXIoZCx7ZGF0YUl0ZW06ZSxpdGVtOml9KSlyZXR1cm47Yz10Ll9zZWxlY3QoaSl9ZWxzZSB0LmlucHV0JiYoKHQuX3N5bmNWYWx1ZUFuZFRleHQoKXx8dC5faXNTZWxlY3QpJiZ0Ll9hY2Nlc3Nvcih0LmlucHV0LnZhbCgpKSx0Lmxpc3RWaWV3LnZhbHVlKHQuaW5wdXQudmFsKCkpKTt0Ll9mb2N1c0VsZW1lbnQmJnQuX2ZvY3VzRWxlbWVudCh0LndyYXBwZXIpO3AmJnI9PT1mLlRBQj90LndyYXBwZXIuZm9jdXNvdXQoKTpjJiYiZnVuY3Rpb24iPT10eXBlb2YgYy5kb25lP2MuZG9uZShmdW5jdGlvbigpe3QuX2JsdXIoKX0pOnQuX2JsdXIoKTt0LmNsb3NlKCk7aD0hMH1lbHNlIHI9PT1mLkVTQz8odC5wb3B1cC52aXNpYmxlKCkmJm4ucHJldmVudERlZmF1bHQoKSx0LmNsb3NlKCksaD0hMCk6IXQucG9wdXAudmlzaWJsZSgpfHxyIT09Zi5QQUdFRE9XTiYmciE9PWYuUEFHRVVQfHwobi5wcmV2ZW50RGVmYXVsdCgpLHc9cj09PWYuUEFHRURPV04/MTotMSxzLnNjcm9sbFdpdGgodypzLnNjcmVlbkhlaWdodCgpKSxoPSEwKTtyZXR1cm4gaH0sX2ZldGNoRGF0YTpmdW5jdGlvbigpe3ZhciBuPXRoaXMsdD0hIW4uZGF0YVNvdXJjZS52aWV3KCkubGVuZ3RoO24uX3JlcXVlc3R8fG4ub3B0aW9ucy5jYXNjYWRlRnJvbXx8bi5saXN0Vmlldy5ib3VuZCgpfHxuLl9mZXRjaHx8dHx8KG4uX2ZldGNoPSEwLG4uZGF0YVNvdXJjZS5mZXRjaCgpLmRvbmUoZnVuY3Rpb24oKXtuLl9mZXRjaD0hMX0pKX0sX29wdGlvbnM6ZnVuY3Rpb24obixpLHIpe3ZhciB1LG8scyxmLGg9dGhpcyxhPWguZWxlbWVudCxlPWFbMF0sdj1uLmxlbmd0aCxjPSIiLGw9MDtmb3IoaSYmKGM9aSk7bDx2O2wrKyl1PSI8b3B0aW9uIixvPW5bbF0scz1oLl90ZXh0KG8pLGY9aC5fdmFsdWUobyksZiE9PXQmJihmKz0iIixmLmluZGV4T2YoJyInKSE9PS0xJiYoZj1mLnJlcGxhY2Uob2ksIiZxdW90OyIpKSx1Kz0nIHZhbHVlPSInK2YrJyInKSx1Kz0iPiIscyE9PXQmJih1Kz1ndChzKSksdSs9IjxcL29wdGlvbj4iLGMrPXU7YS5odG1sKGMpO3IhPT10JiYoZS52YWx1ZT1yLGUudmFsdWUmJiFyJiYoZS5zZWxlY3RlZEluZGV4PS0xKSk7ZS5zZWxlY3RlZEluZGV4IT09LTEmJih1PXcoZSksdSYmdS5zZXRBdHRyaWJ1dGUoYXQsYXQpKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPXQuZWxlbWVudCxyPWkuYXR0cigiZm9ybSIpLHU9cj9uKCIjIityKTppLmNsb3Nlc3QoImZvcm0iKTt1WzBdJiYodC5fcmVzZXRIYW5kbGVyPWZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3QudmFsdWUodC5faW5pdGlhbCl9KX0sdC5fZm9ybT11Lm9uKCJyZXNldCIsdC5fcmVzZXRIYW5kbGVyKSl9LF9wYXJlbnRXaWRnZXQ6ZnVuY3Rpb24oKXt2YXIgcix0LGksdT10aGlzLm9wdGlvbnMubmFtZTtpZih0aGlzLm9wdGlvbnMuY2FzY2FkZUZyb20pe2lmKHI9bigiIyIrdGhpcy5vcHRpb25zLmNhc2NhZGVGcm9tKSx0PXIuZGF0YSgia2VuZG8iK3UpLCF0KWZvcihpPTA7aTxrdFt1XS5sZW5ndGgmJiEodD1yLmRhdGEoImtlbmRvIitrdFt1XVtpXSkpO2krPTEpO3JldHVybiB0fX0sX2Nhc2NhZGU6ZnVuY3Rpb24oKXt2YXIgdCxuPXRoaXMsaT1uLm9wdGlvbnMsdT1pLmNhc2NhZGVGcm9tO2lmKHUpe2lmKHQ9bi5fcGFyZW50V2lkZ2V0KCksIXQpcmV0dXJuO24uX2Nhc2NhZGVIYW5kbGVyUHJveHk9cihuLl9jYXNjYWRlSGFuZGxlcixuKTtuLl9jYXNjYWRlRmlsdGVyUmVxdWVzdHM9W107aS5hdXRvQmluZD0hMTt0LmJpbmQoInNldCIsZnVuY3Rpb24oKXtuLm9uZSgic2V0IixmdW5jdGlvbih0KXtuLl9zZWxlY3RlZFZhbHVlPXQudmFsdWV8fG4uX2FjY2Vzc29yKCl9KX0pO3QuZmlyc3QocCxuLl9jYXNjYWRlSGFuZGxlclByb3h5KTt0Lmxpc3RWaWV3LmJvdW5kKCk/KG4uX3RvZ2dsZUNhc2NhZGVPbkZvY3VzKCksbi5fY2FzY2FkZVNlbGVjdCh0KSk6KHQub25lKCJkYXRhQm91bmQiLGZ1bmN0aW9uKCl7bi5fdG9nZ2xlQ2FzY2FkZU9uRm9jdXMoKTt0LnBvcHVwLnZpc2libGUoKSYmdC5fZm9jdXNlZC5mb2N1cygpfSksdC52YWx1ZSgpfHxuLmVuYWJsZSghMSkpfX0sX3RvZ2dsZUNhc2NhZGVPbkZvY3VzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxuPXQuX3BhcmVudFdpZGdldCgpLGk9YnQmJm4gaW5zdGFuY2VvZiBsLkRyb3BEb3duTGlzdD9paTp1aTtuLl9mb2N1c2VkLmFkZChuLmZpbHRlcklucHV0KS5iaW5kKHJpLGZ1bmN0aW9uKCl7bi51bmJpbmQocCx0Ll9jYXNjYWRlSGFuZGxlclByb3h5KTtuLmZpcnN0KHUsdC5fY2FzY2FkZUhhbmRsZXJQcm94eSl9KTtuLl9mb2N1c2VkLmFkZChuLmZpbHRlcklucHV0KS5iaW5kKGksZnVuY3Rpb24oKXtuLnVuYmluZCh1LHQuX2Nhc2NhZGVIYW5kbGVyUHJveHkpO24uZmlyc3QocCx0Ll9jYXNjYWRlSGFuZGxlclByb3h5KX0pfSxfY2FzY2FkZUhhbmRsZXI6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fcGFyZW50V2lkZ2V0KCksaT10aGlzLnZhbHVlKCk7dGhpcy5fdXNlclRyaWdnZXJlZD1uLnVzZXJUcmlnZ2VyZWR8fHQuX3VzZXJUcmlnZ2VyZWQ7dGhpcy5saXN0Vmlldy5ib3VuZCgpJiZ0aGlzLl9jbGVhclNlbGVjdGlvbih0LCEwKTt0aGlzLl9jYXNjYWRlU2VsZWN0KHQsaSl9LF9jYXNjYWRlQ2hhbmdlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsaT10Ll9hY2Nlc3NvcigpfHx0Ll9zZWxlY3RlZFZhbHVlO3QuX2Nhc2NhZGVGaWx0ZXJSZXF1ZXN0cy5sZW5ndGh8fCh0Ll9zZWxlY3RlZFZhbHVlPW51bGwpO3QuX3VzZXJUcmlnZ2VyZWQ/dC5fY2xlYXJTZWxlY3Rpb24obiwhMCk6aT8oaSE9PW8odC5saXN0Vmlldy52YWx1ZSgpWzBdLHR5cGVvZiBpKSYmdC52YWx1ZShpKSx0LmRhdGFTb3VyY2UudmlldygpWzBdJiZ0LnNlbGVjdGVkSW5kZXghPT0tMXx8dC5fY2xlYXJTZWxlY3Rpb24obiwhMCkpOnQuZGF0YVNvdXJjZS5mbGF0VmlldygpLmxlbmd0aCYmdC5zZWxlY3QodC5vcHRpb25zLmluZGV4KTt0LmVuYWJsZSgpO3QuX3RyaWdnZXJDYXNjYWRlKCk7dC5fdHJpZ2dlckNoYW5nZSgpO3QuX3VzZXJUcmlnZ2VyZWQ9ITF9LF9jYXNjYWRlU2VsZWN0OmZ1bmN0aW9uKG4saSl7dmFyIG8sdSxyPXRoaXMsZj1uLmRhdGFJdGVtKCksZT1mP2Zbci5vcHRpb25zLmNhc2NhZGVGcm9tUGFyZW50RmllbGRdfHxuLl92YWx1ZShmKTpudWxsLHM9ci5vcHRpb25zLmNhc2NhZGVGcm9tRmllbGR8fG4ub3B0aW9ucy5kYXRhVmFsdWVGaWVsZDtyLl92YWx1ZUJlZm9yZUNhc2NhZGU9aSE9PXQ/aTpyLnZhbHVlKCk7ZXx8MD09PWU/KG89ci5kYXRhU291cmNlLmZpbHRlcigpfHx7fSxiKG8scyksdT1mdW5jdGlvbigpe3ZhciB0PXIuX2Nhc2NhZGVGaWx0ZXJSZXF1ZXN0cy5zaGlmdCgpO3QmJnIudW5iaW5kKCJkYXRhQm91bmQiLHQpO3Q9ci5fY2FzY2FkZUZpbHRlclJlcXVlc3RzWzBdO3QmJnIuZmlyc3QoImRhdGFCb3VuZCIsdCk7ci5fY2FzY2FkZUNoYW5nZShuKX0sci5fY2FzY2FkZUZpbHRlclJlcXVlc3RzLnB1c2godSksMT09PXIuX2Nhc2NhZGVGaWx0ZXJSZXF1ZXN0cy5sZW5ndGgmJnIuZmlyc3QoImRhdGFCb3VuZCIsdSksci5fY2FzY2FkaW5nPSEwLHIuX2ZpbHRlclNvdXJjZSh7ZmllbGQ6cyxvcGVyYXRvcjoiZXEiLHZhbHVlOmV9KSxyLl9jYXNjYWRpbmc9ITEpOihyLmVuYWJsZSghMSksci5fY2xlYXJTZWxlY3Rpb24obiksci5fdHJpZ2dlckNhc2NhZGUoKSxyLl90cmlnZ2VyQ2hhbmdlKCksci5fdXNlclRyaWdnZXJlZD0hMSl9fSk7aD0iLlN0YXRpY0xpc3QiO3R0PWkudWkuRGF0YUJvdW5kV2lkZ2V0LmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LHUpe2MuZm4uaW5pdC5jYWxsKHRoaXMsdCx1KTt0aGlzLmVsZW1lbnQuYXR0cigicm9sZSIsImxpc3Rib3giKS5vbigiY2xpY2siK2gsImxpIixyKHRoaXMuX2NsaWNrLHRoaXMpKS5vbigibW91c2VlbnRlciIraCwibGkiLGZ1bmN0aW9uKCl7bih0aGlzKS5hZGRDbGFzcyhrKX0pLm9uKCJtb3VzZWxlYXZlIitoLCJsaSIsZnVuY3Rpb24oKXtuKHRoaXMpLnJlbW92ZUNsYXNzKGspfSk7ZS50b3VjaCYmdGhpcy5fdG91Y2hIYW5kbGVycygpOyJtdWx0aXBsZSI9PT10aGlzLm9wdGlvbnMuc2VsZWN0YWJsZSYmdGhpcy5lbGVtZW50LmF0dHIoImFyaWEtbXVsdGlzZWxlY3RhYmxlIiwhMCk7dGhpcy5jb250ZW50PXRoaXMuZWxlbWVudC53cmFwKCI8ZGl2IGNsYXNzPSdrLWxpc3Qtc2Nyb2xsZXInIHVuc2VsZWN0YWJsZT0nb24nPjxcL2Rpdj4iKS5wYXJlbnQoKTt0aGlzLmhlYWRlcj10aGlzLmNvbnRlbnQuYmVmb3JlKCc8ZGl2IGNsYXNzPSJrLWdyb3VwLWhlYWRlciIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+PFwvZGl2PicpLnByZXYoKTt0aGlzLmJvdW5kKCExKTt0aGlzLl9vcHRpb25JRD1pLmd1aWQoKTt0aGlzLl9zZWxlY3RlZEluZGljZXM9W107dGhpcy5fdmlldz1bXTt0aGlzLl9kYXRhSXRlbXM9W107dGhpcy5fdmFsdWVzPVtdO3ZhciBmPXRoaXMub3B0aW9ucy52YWx1ZTtmJiYodGhpcy5fdmFsdWVzPW4uaXNBcnJheShmKT9mLnNsaWNlKDApOltmXSk7dGhpcy5fZ2V0dGVyKCk7dGhpcy5fdGVtcGxhdGVzKCk7dGhpcy5zZXREYXRhU291cmNlKHRoaXMub3B0aW9ucy5kYXRhU291cmNlKTt0aGlzLl9vblNjcm9sbD1yKGZ1bmN0aW9uKCl7dmFyIG49dGhpcztjbGVhclRpbWVvdXQobi5fc2Nyb2xsSWQpO24uX3Njcm9sbElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLl9yZW5kZXJIZWFkZXIoKX0sNTApfSx0aGlzKX0sb3B0aW9uczp7bmFtZToiU3RhdGljTGlzdCIsZGF0YVZhbHVlRmllbGQ6bnVsbCx2YWx1ZVByaW1pdGl2ZTohMSxzZWxlY3RhYmxlOiEwLHRlbXBsYXRlOm51bGwsZ3JvdXBUZW1wbGF0ZTpudWxsLGZpeGVkR3JvdXBUZW1wbGF0ZTpudWxsfSxldmVudHM6WyJjbGljayIsdSwiYWN0aXZhdGUiLCJkZWFjdGl2YXRlIiwiZGF0YUJpbmRpbmciLCJkYXRhQm91bmQiLCJzZWxlY3RlZEl0ZW1DaGFuZ2UiXSxzZXREYXRhU291cmNlOmZ1bmN0aW9uKHQpe3ZhciBvLGY9dGhpcyxlPXR8fHt9O2U9bi5pc0FycmF5KGUpP3tkYXRhOmV9OmU7ZT1pLmRhdGEuRGF0YVNvdXJjZS5jcmVhdGUoZSk7Zi5kYXRhU291cmNlPyhmLmRhdGFTb3VyY2UudW5iaW5kKHUsZi5fcmVmcmVzaEhhbmRsZXIpLG89Zi52YWx1ZSgpLGYudmFsdWUoW10pLGYuYm91bmQoITEpLGYudmFsdWUobykpOmYuX3JlZnJlc2hIYW5kbGVyPXIoZi5yZWZyZXNoLGYpO2Yuc2V0RFNGaWx0ZXIoZS5maWx0ZXIoKSk7Zi5kYXRhU291cmNlPWUuYmluZCh1LGYuX3JlZnJlc2hIYW5kbGVyKTtmLl9maXhlZEhlYWRlcigpfSxfdG91Y2hIYW5kbGVyczpmdW5jdGlvbigpe3ZhciBpLHIsdD10aGlzLHU9ZnVuY3Rpb24obil7cmV0dXJuKG4ub3JpZ2luYWxFdmVudHx8bikuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVl9O3QuZWxlbWVudC5vbigidG91Y2hzdGFydCIraCxmdW5jdGlvbihuKXtpPXUobil9KTt0LmVsZW1lbnQub24oInRvdWNoZW5kIitoLGZ1bmN0aW9uKGYpe2YuaXNEZWZhdWx0UHJldmVudGVkKCl8fChyPXUoZiksTWF0aC5hYnMoci1pKTwxMCYmKHQuX3RvdWNoVHJpZ2dlcmVkPSEwLHQuX3RyaWdnZXJDbGljayhuKGYudGFyZ2V0KS5jbG9zZXN0KGh0KS5nZXQoMCkpKSl9KX0sc2tpcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFTb3VyY2Uuc2tpcCgpfSxzZXRPcHRpb25zOmZ1bmN0aW9uKG4pe2MuZm4uc2V0T3B0aW9ucy5jYWxsKHRoaXMsbik7dGhpcy5fZ2V0dGVyKCk7dGhpcy5fdGVtcGxhdGVzKCk7dGhpcy5fcmVuZGVyKCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQub2ZmKGgpO3RoaXMuX3JlZnJlc2hIYW5kbGVyJiZ0aGlzLmRhdGFTb3VyY2UudW5iaW5kKHUsdGhpcy5fcmVmcmVzaEhhbmRsZXIpO2NsZWFyVGltZW91dCh0aGlzLl9zY3JvbGxJZCk7Yy5mbi5kZXN0cm95LmNhbGwodGhpcyl9LGRhdGFJdGVtQnlJbmRleDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5kYXRhU291cmNlLmZsYXRWaWV3KClbbl19LHNjcmVlbkhlaWdodDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRlbnRbMF0uY2xpZW50SGVpZ2h0fSxzY3JvbGxUb0luZGV4OmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuZWxlbWVudFswXS5jaGlsZHJlbltuXTt0JiZ0aGlzLnNjcm9sbCh0KX0sc2Nyb2xsV2l0aDpmdW5jdGlvbihuKXt0aGlzLmNvbnRlbnQuc2Nyb2xsVG9wKHRoaXMuY29udGVudC5zY3JvbGxUb3AoKStuKX0sc2Nyb2xsOmZ1bmN0aW9uKG4pe2lmKG4pe25bMF0mJihuPW5bMF0pO3ZhciBpPXRoaXMuY29udGVudFswXSxyPW4ub2Zmc2V0VG9wLGU9bi5vZmZzZXRIZWlnaHQsdD1pLnNjcm9sbFRvcCx1PWkuY2xpZW50SGVpZ2h0LGY9citlO3Q+cj90PXI6Zj50K3UmJih0PWYtdSk7aS5zY3JvbGxUb3A9dH19LHNlbGVjdGVkRGF0YUl0ZW1zOmZ1bmN0aW9uKG4pe3JldHVybiBuPT09dD90aGlzLl9kYXRhSXRlbXMuc2xpY2UoKToodGhpcy5fZGF0YUl0ZW1zPW4sdGhpcy5fdmFsdWVzPXRoaXMuX2dldFZhbHVlcyhuKSx0KX0sX2dldFZhbHVlczpmdW5jdGlvbih0KXt2YXIgaT10aGlzLl92YWx1ZUdldHRlcjtyZXR1cm4gbi5tYXAodCxmdW5jdGlvbihuKXtyZXR1cm4gaShuKX0pfSxmb2N1c05leHQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmZvY3VzKCk7bj1uP24ubmV4dCgpOjA7dGhpcy5mb2N1cyhuKX0sZm9jdXNQcmV2OmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5mb2N1cygpO249bj9uLnByZXYoKTp0aGlzLmVsZW1lbnRbMF0uY2hpbGRyZW4ubGVuZ3RoLTE7dGhpcy5mb2N1cyhuKX0sZm9jdXNGaXJzdDpmdW5jdGlvbigpe3RoaXMuZm9jdXModGhpcy5lbGVtZW50WzBdLmNoaWxkcmVuWzBdKX0sZm9jdXNMYXN0OmZ1bmN0aW9uKCl7dGhpcy5mb2N1cyhzKHRoaXMuZWxlbWVudFswXS5jaGlsZHJlbikpfSxmb2N1czpmdW5jdGlvbihpKXt2YXIgdSxyPXRoaXMsZj1yLl9vcHRpb25JRDtyZXR1cm4gaT09PXQ/ci5fY3VycmVudDooaT1zKHIuX2dldChpKSksaT1uKHRoaXMuZWxlbWVudFswXS5jaGlsZHJlbltpXSksci5fY3VycmVudCYmKHIuX2N1cnJlbnQucmVtb3ZlQ2xhc3MoZXQpLnJlbW92ZUF0dHIoeSksci50cmlnZ2VyKCJkZWFjdGl2YXRlIikpLHU9ISFpWzBdLHUmJihpLmFkZENsYXNzKGV0KSxyLnNjcm9sbChpKSxpLmF0dHIoImlkIixmKSksci5fY3VycmVudD11P2k6bnVsbCxyLnRyaWdnZXIoImFjdGl2YXRlIiksdCl9LGZvY3VzSW5kZXg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mb2N1cygpP3RoaXMuZm9jdXMoKS5pbmRleCgpOnR9LHNraXBVcGRhdGU6ZnVuY3Rpb24obil7dGhpcy5fc2tpcFVwZGF0ZT1ufSxzZWxlY3Q6ZnVuY3Rpb24oaSl7dmFyIGUsZixvLHI9dGhpcyx2PXIub3B0aW9ucy5zZWxlY3RhYmxlLGg9Im11bHRpcGxlIiE9PXYmJnYhPT0hMSxjPXIuX3NlbGVjdGVkSW5kaWNlcyx5PVt0aGlzLmVsZW1lbnQuZmluZCgiLmstc3RhdGUtc2VsZWN0ZWQiKS5pbmRleCgpXSxsPVtdLGE9W107cmV0dXJuIGk9PT10P2Muc2xpY2UoKTooaT1yLl9nZXQoaSksMT09PWkubGVuZ3RoJiZpWzBdPT09LTEmJihpPVtdKSxmPW4uRGVmZXJyZWQoKS5yZXNvbHZlKCksbz1yLmlzRmlsdGVyZWQoKSxvJiYhaCYmci5fZGVzZWxlY3RGaWx0ZXJlZChpKT9mOmgmJiFvJiZuLmluQXJyYXkocyhpKSxjKSE9PS0xJiZuLmluQXJyYXkocyhpKSx5KSE9PS0xPyhyLl9kYXRhSXRlbXMubGVuZ3RoJiZyLl92aWV3Lmxlbmd0aCYmKHIuX2RhdGFJdGVtcz1bci5fdmlld1tjWzBdXS5pdGVtXSksZik6KGU9ci5fZGVzZWxlY3QoaSksYT1lLnJlbW92ZWQsaT1lLmluZGljZXMsaS5sZW5ndGgmJihoJiYoaT1bcyhpKV0pLGw9ci5fc2VsZWN0KGkpKSwobC5sZW5ndGh8fGEubGVuZ3RoKSYmKHIuX3ZhbHVlQ29tcGFyZXI9bnVsbCxyLnRyaWdnZXIodSx7YWRkZWQ6bCxyZW1vdmVkOmF9KSksZikpfSxyZW1vdmVBdDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fc2VsZWN0ZWRJbmRpY2VzLnNwbGljZShuLDEpLHRoaXMuX3ZhbHVlcy5zcGxpY2UobiwxKSx0aGlzLl92YWx1ZUNvbXBhcmVyPW51bGwse3Bvc2l0aW9uOm4sZGF0YUl0ZW06dGhpcy5fZGF0YUl0ZW1zLnNwbGljZShuLDEpWzBdfX0sc2V0VmFsdWU6ZnVuY3Rpb24odCl7dD1uLmlzQXJyYXkodCl8fHQgaW5zdGFuY2VvZiBuaT90LnNsaWNlKDApOlt0XTt0aGlzLl92YWx1ZXM9dDt0aGlzLl92YWx1ZUNvbXBhcmVyPW51bGx9LHZhbHVlOmZ1bmN0aW9uKGkpe3ZhciBmLHI9dGhpcyx1PXIuX3ZhbHVlRGVmZXJyZWQ7cmV0dXJuIGk9PT10P3IuX3ZhbHVlcy5zbGljZSgpOihyLnNldFZhbHVlKGkpLHUmJiJyZXNvbHZlZCIhPT11LnN0YXRlKCl8fChyLl92YWx1ZURlZmVycmVkPXU9bi5EZWZlcnJlZCgpKSxyLmJvdW5kKCkmJihmPXIuX3ZhbHVlSW5kaWNlcyhyLl92YWx1ZXMpLCJtdWx0aXBsZSI9PT1yLm9wdGlvbnMuc2VsZWN0YWJsZSYmci5zZWxlY3QoLTEpLHIuc2VsZWN0KGYpLHUucmVzb2x2ZSgpKSxyLl9za2lwVXBkYXRlPSExLHUpfSxpdGVtczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oaHQpfSxfY2xpY2s6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3RvdWNoVHJpZ2dlcmVkPyh0aGlzLl90b3VjaFRyaWdnZXJlZD0hMSx0KToobi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8dGhpcy5fdHJpZ2dlckNsaWNrKG4uY3VycmVudFRhcmdldCksdCl9LF90cmlnZ2VyQ2xpY2s6ZnVuY3Rpb24odCl7dGhpcy50cmlnZ2VyKCJjbGljayIse2l0ZW06bih0KX0pfHx0aGlzLnNlbGVjdCh0KX0sX3ZhbHVlRXhwcjpmdW5jdGlvbihuLHQpe3ZhciBmLGUsaT10aGlzLHI9MCx1PVtdO2lmKCFpLl92YWx1ZUNvbXBhcmVyfHxpLl92YWx1ZVR5cGUhPT1uKXtmb3IoaS5fdmFsdWVUeXBlPW47cjx0Lmxlbmd0aDtyKyspdS5wdXNoKG8odFtyXSxuKSk7Zj0iZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgIit1Lmxlbmd0aCsiOyBpZHgrKykgeyBpZiAoY3VycmVudCA9PT0gdmFsdWVzW2lkeF0pIHsgICByZXR1cm4gaWR4OyB9fSByZXR1cm4gLTE7IjtlPUZ1bmN0aW9uKCJjdXJyZW50IiwidmFsdWVzIixmKTtpLl92YWx1ZUNvbXBhcmVyPWZ1bmN0aW9uKG4pe3JldHVybiBlKG4sdSl9fXJldHVybiBpLl92YWx1ZUNvbXBhcmVyfSxfZGF0YUl0ZW1Qb3NpdGlvbjpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuX3ZhbHVlR2V0dGVyKG4pLHI9dGhpcy5fdmFsdWVFeHByKHR5cGVvZiBpLHQpO3JldHVybiByKGkpfSxfZ2V0dGVyOmZ1bmN0aW9uKCl7dGhpcy5fdmFsdWVHZXR0ZXI9aS5nZXR0ZXIodGhpcy5vcHRpb25zLmRhdGFWYWx1ZUZpZWxkKX0sX2Rlc2VsZWN0OmZ1bmN0aW9uKHQpe3ZhciByLGUsbyx1PXRoaXMscz11LmVsZW1lbnRbMF0uY2hpbGRyZW4sYz11Lm9wdGlvbnMuc2VsZWN0YWJsZSxmPXUuX3NlbGVjdGVkSW5kaWNlcyxsPXUuX2RhdGFJdGVtcyx2PXUuX3ZhbHVlcyxoPVtdLGk9MCxhPTA7aWYodD10LnNsaWNlKCksYyE9PSEwJiZ0Lmxlbmd0aCl7aWYoIm11bHRpcGxlIj09PWMpZm9yKDtpPHQubGVuZ3RoO2krKylpZihlPXRbaV0sbihzW2VdKS5oYXNDbGFzcygiay1zdGF0ZS1zZWxlY3RlZCIpKWZvcihyPTA7cjxmLmxlbmd0aDtyKyspaWYobz1mW3JdLG89PT1lKXtuKHNbb10pLnJlbW92ZUNsYXNzKCJrLXN0YXRlLXNlbGVjdGVkIikuYXR0cigiYXJpYS1zZWxlY3RlZCIsITEpO2gucHVzaCh7cG9zaXRpb246cithLGRhdGFJdGVtOmwuc3BsaWNlKHIsMSlbMF19KTtmLnNwbGljZShyLDEpO3Quc3BsaWNlKGksMSk7di5zcGxpY2UociwxKTthKz0xO2ktPTE7ci09MTticmVha319ZWxzZXtmb3IoO2k8Zi5sZW5ndGg7aSsrKW4oc1tmW2ldXSkucmVtb3ZlQ2xhc3MoImstc3RhdGUtc2VsZWN0ZWQiKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMSksaC5wdXNoKHtwb3NpdGlvbjppLGRhdGFJdGVtOmxbaV19KTt1Ll92YWx1ZXM9W107dS5fZGF0YUl0ZW1zPVtdO3UuX3NlbGVjdGVkSW5kaWNlcz1bXX1yZXR1cm57aW5kaWNlczp0LHJlbW92ZWQ6aH19LF9kZXNlbGVjdEZpbHRlcmVkOmZ1bmN0aW9uKHQpe2Zvcih2YXIgbyxpLHIscz10aGlzLmVsZW1lbnRbMF0uY2hpbGRyZW4sZj1bXSxlPTA7ZTx0Lmxlbmd0aDtlKyspaT10W2VdLG89dGhpcy5fdmlld1tpXS5pdGVtLHI9dGhpcy5fZGF0YUl0ZW1Qb3NpdGlvbihvLHRoaXMuX3ZhbHVlcykscj4tMSYmKGYucHVzaCh0aGlzLnJlbW92ZUF0KHIpKSxuKHNbaV0pLnJlbW92ZUNsYXNzKCJrLXN0YXRlLXNlbGVjdGVkIikpO3JldHVybiEhZi5sZW5ndGgmJih0aGlzLnRyaWdnZXIodSx7YWRkZWQ6W10scmVtb3ZlZDpmfSksITApfSxfc2VsZWN0OmZ1bmN0aW9uKHQpe3ZhciBpLHUscj10aGlzLG89ci5lbGVtZW50WzBdLmNoaWxkcmVuLGg9ci5fdmlldyxlPVtdLGY9MDtmb3Iocyh0KSE9PS0xJiZyLmZvY3VzKHQpO2Y8dC5sZW5ndGg7ZisrKXU9dFtmXSxpPWhbdV0sdSE9PS0xJiZpJiYoaT1pLml0ZW0sci5fc2VsZWN0ZWRJbmRpY2VzLnB1c2godSksci5fZGF0YUl0ZW1zLnB1c2goaSksci5fdmFsdWVzLnB1c2goci5fdmFsdWVHZXR0ZXIoaSkpLG4ob1t1XSkuYWRkQ2xhc3MoImstc3RhdGUtc2VsZWN0ZWQiKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMCksZS5wdXNoKHtkYXRhSXRlbTppfSkpO3JldHVybiBlfSxnZXRFbGVtZW50SW5kZXg6ZnVuY3Rpb24odCl7cmV0dXJuIG4odCkuZGF0YSgib2Zmc2V0LWluZGV4Iil9LF9nZXQ6ZnVuY3Rpb24obil7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBuP249W25dOmZpKG4pfHwobj10aGlzLmdldEVsZW1lbnRJbmRleChuKSxuPVtuIT09dD9uOi0xXSksbn0sX3RlbXBsYXRlOmZ1bmN0aW9uKCl7dmFyIHI9dGhpcyx0PXIub3B0aW9ucyxuPXQudGVtcGxhdGU7cmV0dXJuIG4/KG49aS50ZW1wbGF0ZShuKSxuPWZ1bmN0aW9uKHQpe3JldHVybic8bGkgdGFiaW5kZXg9Ii0xIiByb2xlPSJvcHRpb24iIHVuc2VsZWN0YWJsZT0ib24iIGNsYXNzPSJrLWl0ZW0iPicrbih0KSsiPFwvbGk+In0pOm49aS50ZW1wbGF0ZSgnPGxpIHRhYmluZGV4PSItMSIgcm9sZT0ib3B0aW9uIiB1bnNlbGVjdGFibGU9Im9uIiBjbGFzcz0iay1pdGVtIj4keycraS5leHByKHQuZGF0YVRleHRGaWVsZCwiZGF0YSIpKyJ9PFwvbGk+Iix7dXNlV2l0aEJsb2NrOiExfSksbn0sX3RlbXBsYXRlczpmdW5jdGlvbigpe3ZhciB1LHQsZixvLGUsbj10aGlzLm9wdGlvbnMscj17dGVtcGxhdGU6bi50ZW1wbGF0ZSxncm91cFRlbXBsYXRlOm4uZ3JvdXBUZW1wbGF0ZSxmaXhlZEdyb3VwVGVtcGxhdGU6bi5maXhlZEdyb3VwVGVtcGxhdGV9O2lmKG4uY29sdW1ucylmb3IodD0wO3Q8bi5jb2x1bW5zLmxlbmd0aDt0KyspZj1uLmNvbHVtbnNbdF0sbz1mLmZpZWxkPyIiK2YuZmllbGQ6InRleHQiLHJbImNvbHVtbiIrdF09Zi50ZW1wbGF0ZXx8IiM6ICIrbysiIyI7Zm9yKGUgaW4gcil1PXJbZV0sdSYmImZ1bmN0aW9uIiE9dHlwZW9mIHUmJihyW2VdPWkudGVtcGxhdGUodSkpO3RoaXMudGVtcGxhdGVzPXJ9LF9ub3JtYWxpemVJbmRpY2VzOmZ1bmN0aW9uKG4pe2Zvcih2YXIgcj1bXSxpPTA7aTxuLmxlbmd0aDtpKyspbltpXSE9PXQmJnIucHVzaChuW2ldKTtyZXR1cm4gcn0sX3ZhbHVlSW5kaWNlczpmdW5jdGlvbihuLHQpe3ZhciByLHU9dGhpcy5fdmlldyxpPTA7aWYodD10P3Quc2xpY2UoKTpbXSwhbi5sZW5ndGgpcmV0dXJuW107Zm9yKDtpPHUubGVuZ3RoO2krKylyPXRoaXMuX2RhdGFJdGVtUG9zaXRpb24odVtpXS5pdGVtLG4pLHIhPT0tMSYmKHRbcl09aSk7cmV0dXJuIHRoaXMuX25vcm1hbGl6ZUluZGljZXModCl9LF9maXJzdFZpc2libGVJdGVtOmZ1bmN0aW9uKCl7Zm9yKHZhciByPXRoaXMuZWxlbWVudFswXSxmPXRoaXMuY29udGVudFswXSxpPWYuc2Nyb2xsVG9wLHU9bihyLmNoaWxkcmVuWzBdKS5oZWlnaHQoKSxlPU1hdGguZmxvb3IoaS91KXx8MCx0PXIuY2hpbGRyZW5bZV18fHIubGFzdENoaWxkLG89dC5vZmZzZXRUb3A8aTt0OylpZihvKXtpZih0Lm9mZnNldFRvcCt1Pml8fCF0Lm5leHRTaWJsaW5nKWJyZWFrO3Q9dC5uZXh0U2libGluZ31lbHNle2lmKHQub2Zmc2V0VG9wPD1pfHwhdC5wcmV2aW91c1NpYmxpbmcpYnJlYWs7dD10LnByZXZpb3VzU2libGluZ31yZXR1cm4gdGhpcy5fdmlld1tuKHQpLmRhdGEoIm9mZnNldC1pbmRleCIpXX0sX2ZpeGVkSGVhZGVyOmZ1bmN0aW9uKCl7dGhpcy5pc0dyb3VwZWQoKSYmdGhpcy50ZW1wbGF0ZXMuZml4ZWRHcm91cFRlbXBsYXRlPyh0aGlzLmhlYWRlci5zaG93KCksdGhpcy5jb250ZW50LnNjcm9sbCh0aGlzLl9vblNjcm9sbCkpOih0aGlzLmhlYWRlci5oaWRlKCksdGhpcy5jb250ZW50Lm9mZigic2Nyb2xsIix0aGlzLl9vblNjcm9sbCkpfSxfcmVuZGVySGVhZGVyOmZ1bmN0aW9uKCl7dmFyIG4sdD10aGlzLnRlbXBsYXRlcy5maXhlZEdyb3VwVGVtcGxhdGU7dCYmKG49dGhpcy5fZmlyc3RWaXNpYmxlSXRlbSgpLG4mJigiIituLmdyb3VwKS5sZW5ndGgmJnRoaXMuaGVhZGVyLmh0bWwodChuLmdyb3VwKSkpfSxfcmVuZGVySXRlbTpmdW5jdGlvbihuKXt2YXIgdD0nPGxpIHRhYmluZGV4PSItMSIgcm9sZT0ib3B0aW9uIiB1bnNlbGVjdGFibGU9Im9uIiBjbGFzcz0iay1pdGVtJyxyPW4uaXRlbSx1PTAhPT1uLmluZGV4LGY9bi5zZWxlY3RlZCxlPXRoaXMuaXNHcm91cGVkKCksaT10aGlzLm9wdGlvbnMuY29sdW1ucyYmdGhpcy5vcHRpb25zLmNvbHVtbnMubGVuZ3RoO3JldHVybiB1JiZuLm5ld0dyb3VwJiYodCs9IiBrLWZpcnN0Iiksbi5pc0xhc3RHcm91cGVkSXRlbSYmaSYmKHQrPSIgay1sYXN0IiksZiYmKHQrPSIgay1zdGF0ZS1zZWxlY3RlZCIpLHQrPSciIGFyaWEtc2VsZWN0ZWQ9IicrKGY/InRydWUiOiJmYWxzZSIpKyciIGRhdGEtb2Zmc2V0LWluZGV4PSInK24uaW5kZXgrJyI+Jyx0Kz1pP3RoaXMuX3JlbmRlckNvbHVtbnMocik6dGhpcy50ZW1wbGF0ZXMudGVtcGxhdGUociksdSYmbi5uZXdHcm91cD90Kz1pPyc8ZGl2IGNsYXNzPSJrLWNlbGwgay1ncm91cC1jZWxsIj48c3Bhbj4nK3RoaXMudGVtcGxhdGVzLmdyb3VwVGVtcGxhdGUobi5ncm91cCkrIjxcL3NwYW4+PFwvZGl2PiI6JzxkaXYgY2xhc3M9ImstZ3JvdXAiPicrdGhpcy50ZW1wbGF0ZXMuZ3JvdXBUZW1wbGF0ZShuLmdyb3VwKSsiPFwvZGl2PiI6ZSYmaSYmKHQrPSI8ZGl2IGNsYXNzPSdrLWNlbGwgay1zcGFjZXItY2VsbCc+PFwvZGl2PiIpLHQrIjxcL2xpPiJ9LF9yZW5kZXJDb2x1bW5zOmZ1bmN0aW9uKG4pe2Zvcih2YXIgcixmLHQsdT0iIixpPTA7aTx0aGlzLm9wdGlvbnMuY29sdW1ucy5sZW5ndGg7aSsrKXI9dGhpcy5vcHRpb25zLmNvbHVtbnNbaV0ud2lkdGgsZj1wYXJzZUludChyLDEwKSx0PSIiLHImJiFpc05hTihmKSYmKHQrPSJzdHlsZT0nd2lkdGg6Iix0Kz1mLHQrPXJ0LnRlc3Qocik/IiUiOiJweCIsdCs9IjsnIiksdSs9IjxzcGFuIGNsYXNzPSdrLWNlbGwnICIrdCsiPiIsdSs9dGhpcy50ZW1wbGF0ZXNbImNvbHVtbiIraV0obiksdSs9IjxcL3NwYW4+IjtyZXR1cm4gdX0sX3JlbmRlcjpmdW5jdGlvbigpe3ZhciB0LGksZSxyLG89IiIsbj0wLHM9MCxmPVtdLHU9dGhpcy5kYXRhU291cmNlLnZpZXcoKSxoPXRoaXMudmFsdWUoKSxjPXRoaXMuaXNHcm91cGVkKCk7aWYoYylmb3Iobj0wO248dS5sZW5ndGg7bisrKWZvcihpPXVbbl0sZT0hMCxyPTA7cjxpLml0ZW1zLmxlbmd0aDtyKyspdD17c2VsZWN0ZWQ6dGhpcy5fc2VsZWN0ZWQoaS5pdGVtc1tyXSxoKSxpdGVtOmkuaXRlbXNbcl0sZ3JvdXA6aS52YWx1ZSxuZXdHcm91cDplLGlzTGFzdEdyb3VwZWRJdGVtOnI9PT1pLml0ZW1zLmxlbmd0aC0xLGluZGV4OnN9LGZbc109dCxzKz0xLG8rPXRoaXMuX3JlbmRlckl0ZW0odCksZT0hMTtlbHNlIGZvcihuPTA7bjx1Lmxlbmd0aDtuKyspdD17c2VsZWN0ZWQ6dGhpcy5fc2VsZWN0ZWQodVtuXSxoKSxpdGVtOnVbbl0saW5kZXg6bn0sZltuXT10LG8rPXRoaXMuX3JlbmRlckl0ZW0odCk7dGhpcy5fdmlldz1mO3RoaXMuZWxlbWVudFswXS5pbm5lckhUTUw9bztjJiZmLmxlbmd0aCYmdGhpcy5fcmVuZGVySGVhZGVyKCl9LF9zZWxlY3RlZDpmdW5jdGlvbihuLHQpe3ZhciBpPSF0aGlzLmlzRmlsdGVyZWQoKXx8Im11bHRpcGxlIj09PXRoaXMub3B0aW9ucy5zZWxlY3RhYmxlO3JldHVybiBpJiZ0aGlzLl9kYXRhSXRlbVBvc2l0aW9uKG4sdCkhPT0tMX0sc2V0RFNGaWx0ZXI6ZnVuY3Rpb24obil7dGhpcy5fbGFzdERTRmlsdGVyPWEoe30sbil9LGlzRmlsdGVyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGFzdERTRmlsdGVyfHx0aGlzLnNldERTRmlsdGVyKHRoaXMuZGF0YVNvdXJjZS5maWx0ZXIoKSksIWkuZGF0YS5RdWVyeS5jb21wYXJlRmlsdGVycyh0aGlzLmRhdGFTb3VyY2UuZmlsdGVyKCksdGhpcy5fbGFzdERTRmlsdGVyKX0scmVmcmVzaDpmdW5jdGlvbihuKXt2YXIgaSx0PXRoaXMscj1uJiZuLmFjdGlvbixmPXQub3B0aW9ucy5za2lwVXBkYXRlT25CaW5kLHU9Iml0ZW1jaGFuZ2UiPT09cjt0LnRyaWdnZXIoImRhdGFCaW5kaW5nIik7dC5fYW5ndWxhckl0ZW1zKCJjbGVhbnVwIik7dC5fZml4ZWRIZWFkZXIoKTt0Ll9yZW5kZXIoKTt0LmJvdW5kKCEwKTt1fHwicmVtb3ZlIj09PXI/KGk9ZHQodC5fZGF0YUl0ZW1zLG4uaXRlbXMpLGkuY2hhbmdlZC5sZW5ndGgmJih1P3QudHJpZ2dlcigic2VsZWN0ZWRJdGVtQ2hhbmdlIix7aXRlbXM6aS5jaGFuZ2VkfSk6dC52YWx1ZSh0Ll9nZXRWYWx1ZXMoaS51bmNoYW5nZWQpKSkpOnQuaXNGaWx0ZXJlZCgpfHx0Ll9za2lwVXBkYXRlfHx0Ll9lbXB0eVNlYXJjaD8odC5mb2N1cygwKSx0Ll9za2lwVXBkYXRlJiYodC5fc2tpcFVwZGF0ZT0hMSx0Ll9zZWxlY3RlZEluZGljZXM9dC5fdmFsdWVJbmRpY2VzKHQuX3ZhbHVlcyx0Ll9zZWxlY3RlZEluZGljZXMpKSk6Znx8ciYmImFkZCIhPT1yfHx0LnZhbHVlKHQuX3ZhbHVlcyk7dC5fdmFsdWVEZWZlcnJlZCYmdC5fdmFsdWVEZWZlcnJlZC5yZXNvbHZlKCk7dC5fYW5ndWxhckl0ZW1zKCJjb21waWxlIik7dC50cmlnZ2VyKCJkYXRhQm91bmQiKX0sYm91bmQ6ZnVuY3Rpb24obil7cmV0dXJuIG49PT10P3RoaXMuX2JvdW5kOih0aGlzLl9ib3VuZD1uLHQpfSxpc0dyb3VwZWQ6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5kYXRhU291cmNlLmdyb3VwKCl8fFtdKS5sZW5ndGh9fSk7bC5wbHVnaW4odHQpfSh3aW5kb3cua2VuZG8ualF1ZXJ5KSx3aW5kb3cua2VuZG99LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lOmZ1bmN0aW9uKG4sdCxpKXsoaXx8dCkoKX0pOwovKiEKICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwohZnVuY3Rpb24obix0KXt0KCJrZW5kby5hdXRvY29tcGxldGUubWluIixbImtlbmRvLmxpc3QubWluIiwia2VuZG8ubW9iaWxlLnNjcm9sbGVyLm1pbiIsImtlbmRvLnZpcnR1YWxsaXN0Lm1pbiJdLG4pfShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIHMobix0LGkpe3JldHVybiBpP3Quc3Vic3RyaW5nKDAsbikuc3BsaXQoaSkubGVuZ3RoLTE6MH1mdW5jdGlvbiBnKG4sdCxpKXtyZXR1cm4gdC5zcGxpdChpKVtzKG4sdCxpKV19ZnVuY3Rpb24gbnQobix0LGkscix1KXt2YXIgZj10LnNwbGl0KHIpO3JldHVybiBmLnNwbGljZShzKG4sdCxyKSwxLGkpLHImJiIiIT09ZltmLmxlbmd0aC0xXSYmZi5wdXNoKCIiKSxmLmpvaW4odSl9dmFyIGY9d2luZG93LmtlbmRvLHR0PWYuc3VwcG9ydCxvPWYuY2FyZXQsaD1mLl9hY3RpdmVFbGVtZW50LHY9dHQucGxhY2Vob2xkZXIseT1mLnVpLHU9eS5MaXN0LHI9Zi5rZXlzLGl0PWYuZGF0YS5EYXRhU291cmNlLHA9ImFyaWEtZGlzYWJsZWQiLHc9ImFyaWEtcmVhZG9ubHkiLGM9ImNoYW5nZSIsbD0iay1zdGF0ZS1kZWZhdWx0IixiPSJkaXNhYmxlZCIsaz0icmVhZG9ubHkiLGQ9Imstc3RhdGUtZm9jdXNlZCIscnQ9Imstc3RhdGUtc2VsZWN0ZWQiLGE9Imstc3RhdGUtZGlzYWJsZWQiLHV0PSJvZmYiLGZ0PSJrLXN0YXRlLWhvdmVyIixpPSIua2VuZG9BdXRvQ29tcGxldGUiLGV0PSJtb3VzZWVudGVyIitpKyIgbW91c2VsZWF2ZSIraSxlPW4ucHJveHksb3Q9dS5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxyKXt2YXIgcyxoLG89dGhpcztvLm5zPWk7cj1uLmlzQXJyYXkocik/e2RhdGFTb3VyY2U6cn06cjt1LmZuLmluaXQuY2FsbChvLHQscik7dD1vLmVsZW1lbnQ7cj1vLm9wdGlvbnM7ci5wbGFjZWhvbGRlcj1yLnBsYWNlaG9sZGVyfHx0LmF0dHIoInBsYWNlaG9sZGVyIik7diYmdC5hdHRyKCJwbGFjZWhvbGRlciIsci5wbGFjZWhvbGRlcik7by5fd3JhcHBlcigpO28uX2xvYWRlcigpO28uX2NsZWFyQnV0dG9uKCk7by5fZGF0YVNvdXJjZSgpO28uX2lnbm9yZUNhc2UoKTt0WzBdLnR5cGU9InRleHQiO3M9by53cmFwcGVyO28uX3BvcHVwKCk7dC5hZGRDbGFzcygiay1pbnB1dCIpLm9uKCJrZXlkb3duIitpLGUoby5fa2V5ZG93bixvKSkub24oImtleXByZXNzIitpLGUoby5fa2V5cHJlc3MsbykpLm9uKCJpbnB1dCIraSxlKG8uX3NlYXJjaCxvKSkub24oInBhc3RlIitpLGUoby5fc2VhcmNoLG8pKS5vbigiZm9jdXMiK2ksZnVuY3Rpb24oKXtvLl9wcmV2PW8uX2FjY2Vzc29yKCk7by5fb2xkVGV4dD1vLl9wcmV2O28uX3BsYWNlaG9sZGVyKCExKTtzLmFkZENsYXNzKGQpfSkub24oImZvY3Vzb3V0IitpLGZ1bmN0aW9uKCl7by5fY2hhbmdlKCk7by5fcGxhY2Vob2xkZXIoKTtvLmNsb3NlKCk7cy5yZW1vdmVDbGFzcyhkKX0pLmF0dHIoe2F1dG9jb21wbGV0ZTp1dCxyb2xlOiJ0ZXh0Ym94IiwiYXJpYS1oYXNwb3B1cCI6ITB9KTtvLl9jbGVhci5vbigiY2xpY2siK2krIiB0b3VjaGVuZCIraSxlKG8uX2NsZWFyVmFsdWUsbykpO28uX2VuYWJsZSgpO28uX29sZD1vLl9hY2Nlc3NvcigpO3RbMF0uaWQmJnQuYXR0cigiYXJpYS1vd25zIixvLnVsWzBdLmlkKTtvLl9hcmlhKCk7by5fcGxhY2Vob2xkZXIoKTtvLl9pbml0TGlzdCgpO2g9bihvLmVsZW1lbnQpLnBhcmVudHMoImZpZWxkc2V0IikuaXMoIjpkaXNhYmxlZCIpO2gmJm8uZW5hYmxlKCExKTtvLmxpc3RWaWV3LmJpbmQoImNsaWNrIixmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCl9KTtvLl9yZXNldEZvY3VzSXRlbUhhbmRsZXI9bi5wcm94eShvLl9yZXNldEZvY3VzSXRlbSxvKTtmLm5vdGlmeShvKTtvLl90b2dnbGVDbG9zZVZpc2liaWxpdHkoKX0sb3B0aW9uczp7bmFtZToiQXV0b0NvbXBsZXRlIixlbmFibGVkOiEwLHN1Z2dlc3Q6ITEsdGVtcGxhdGU6IiIsZ3JvdXBUZW1wbGF0ZToiIzpkYXRhIyIsZml4ZWRHcm91cFRlbXBsYXRlOiIjOmRhdGEjIixkYXRhVGV4dEZpZWxkOiIiLG1pbkxlbmd0aDoxLGVuZm9yY2VNaW5MZW5ndGg6ITEsZGVsYXk6MjAwLGhlaWdodDoyMDAsZmlsdGVyOiJzdGFydHN3aXRoIixpZ25vcmVDYXNlOiEwLGhpZ2hsaWdodEZpcnN0OiExLHNlcGFyYXRvcjpudWxsLHBsYWNlaG9sZGVyOiIiLGFuaW1hdGlvbjp7fSx2aXJ0dWFsOiExLHZhbHVlOm51bGwsY2xlYXJCdXR0b246ITAsYXV0b1dpZHRoOiExLHBvcHVwOm51bGx9LF9kYXRhU291cmNlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLmRhdGFTb3VyY2UmJm4uX3JlZnJlc2hIYW5kbGVyP24uX3VuYmluZERhdGFTb3VyY2UoKToobi5fcHJvZ3Jlc3NIYW5kbGVyPWUobi5fc2hvd0J1c3ksbiksbi5fZXJyb3JIYW5kbGVyPWUobi5faGlkZUJ1c3ksbikpO24uZGF0YVNvdXJjZT1pdC5jcmVhdGUobi5vcHRpb25zLmRhdGFTb3VyY2UpLmJpbmQoInByb2dyZXNzIixuLl9wcm9ncmVzc0hhbmRsZXIpLmJpbmQoImVycm9yIixuLl9lcnJvckhhbmRsZXIpfSxzZXREYXRhU291cmNlOmZ1bmN0aW9uKG4pe3RoaXMub3B0aW9ucy5kYXRhU291cmNlPW47dGhpcy5fZGF0YVNvdXJjZSgpO3RoaXMubGlzdFZpZXcuc2V0RGF0YVNvdXJjZSh0aGlzLmRhdGFTb3VyY2UpfSxldmVudHM6WyJvcGVuIiwiY2xvc2UiLGMsInNlbGVjdCIsImZpbHRlcmluZyIsImRhdGFCaW5kaW5nIiwiZGF0YUJvdW5kIl0sc2V0T3B0aW9uczpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9saXN0T3B0aW9ucyhuKTt1LmZuLnNldE9wdGlvbnMuY2FsbCh0aGlzLG4pO3RoaXMubGlzdFZpZXcuc2V0T3B0aW9ucyh0KTt0aGlzLl9hY2Nlc3NvcnMoKTt0aGlzLl9hcmlhKCk7dGhpcy5fY2xlYXJCdXR0b24oKX0sX2xpc3RPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciBpPXUuZm4uX2xpc3RPcHRpb25zLmNhbGwodGhpcyxuLmV4dGVuZCh0LHtza2lwVXBkYXRlT25CaW5kOiEwfSkpO3JldHVybiBpLmRhdGFWYWx1ZUZpZWxkPWkuZGF0YVRleHRGaWVsZCxpLnNlbGVjdGVkSXRlbUNoYW5nZT1udWxsLGl9LF9lZGl0YWJsZTpmdW5jdGlvbihuKXt2YXIgcj10aGlzLGY9ci5lbGVtZW50LGU9ci53cmFwcGVyLm9mZihpKSx1PW4ucmVhZG9ubHksdD1uLmRpc2FibGU7dXx8dD8oZS5hZGRDbGFzcyh0P2E6bCkucmVtb3ZlQ2xhc3ModD9sOmEpLGYuYXR0cihiLHQpLmF0dHIoayx1KS5hdHRyKHAsdCkuYXR0cih3LHUpKTooZS5hZGRDbGFzcyhsKS5yZW1vdmVDbGFzcyhhKS5vbihldCxyLl90b2dnbGVIb3ZlciksZi5yZW1vdmVBdHRyKGIpLnJlbW92ZUF0dHIoaykuYXR0cihwLCExKS5hdHRyKHcsITEpKX0sY2xvc2U6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ9bi5saXN0Vmlldy5mb2N1cygpO3QmJnQucmVtb3ZlQ2xhc3MocnQpO24ucG9wdXAuY2xvc2UoKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5lbGVtZW50Lm9mZihpKTtuLl9jbGVhci5vZmYoaSk7bi53cmFwcGVyLm9mZihpKTt1LmZuLmRlc3Ryb3kuY2FsbChuKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMubGlzdFZpZXcucmVmcmVzaCgpfSxzZWxlY3Q6ZnVuY3Rpb24obil7dGhpcy5fc2VsZWN0KG4pfSxzZWFyY2g6ZnVuY3Rpb24odCl7dmFyIHUsaT10aGlzLHI9aS5vcHRpb25zLGY9ci5pZ25vcmVDYXNlLGU9aS5fc2VwYXJhdG9yKCkscz1pLmRhdGFTb3VyY2Uub3B0aW9ucy5hY2NlbnRGb2xkaW5nRmlsdGVyaW5nO3Q9dHx8aS5fYWNjZXNzb3IoKTtjbGVhclRpbWVvdXQoaS5fdHlwaW5nVGltZW91dCk7ZSYmKHQ9ZyhvKGkuZWxlbWVudClbMF0sdCxlKSk7dT10Lmxlbmd0aDsoIXIuZW5mb3JjZU1pbkxlbmd0aCYmIXV8fHU+PXIubWluTGVuZ3RoKSYmKGkuX29wZW49ITAsaS5fbXV0ZShmdW5jdGlvbigpe3RoaXMubGlzdFZpZXcudmFsdWUoW10pfSksaS5fZmlsdGVyU291cmNlKHt2YWx1ZTpmP3M/dC50b0xvY2FsZUxvd2VyQ2FzZShzKTp0LnRvTG93ZXJDYXNlKCk6dCxvcGVyYXRvcjpyLmZpbHRlcixmaWVsZDpyLmRhdGFUZXh0RmllbGQsaWdub3JlQ2FzZTpmfSksaS5vbmUoImNsb3NlIixuLnByb3h5KGkuX3VuaWZ5U2VwYXJhdG9ycyxpKSkpO2kuX3RvZ2dsZUNsb3NlVmlzaWJpbGl0eSgpfSxzdWdnZXN0OmZ1bmN0aW9uKG4pe3ZhciBjLGY9dGhpcyxwPWYuX2xhc3QsaT1mLl9hY2Nlc3NvcigpLHk9Zi5lbGVtZW50WzBdLGU9byh5KVswXSxhPWYuX3NlcGFyYXRvcigpLHY9aS5zcGxpdChhKSx3PXMoZSxpLGEpLGI9ZSxsPWYuZGF0YVNvdXJjZS5vcHRpb25zLmFjY2VudEZvbGRpbmdGaWx0ZXJpbmc7cmV0dXJuIHA9PXIuQkFDS1NQQUNFfHxwPT1yLkRFTEVURT8oZi5fbGFzdD10LHQpOihuPW58fCIiLCJzdHJpbmciIT10eXBlb2YgbiYmKG5bMF0mJihuPWYuZGF0YVNvdXJjZS52aWV3KClbdS5pbkFycmF5KG5bMF0sZi51bFswXSldKSxuPW4/Zi5fdGV4dChuKToiIiksZTw9MCYmKGU9KGw/aS50b0xvY2FsZUxvd2VyQ2FzZShsKTppLnRvTG93ZXJDYXNlKCkpLmluZGV4T2YobD9uLnRvTG9jYWxlTG93ZXJDYXNlKGwpOm4udG9Mb3dlckNhc2UoKSkrMSksYz1pLnN1YnN0cmluZygwLGUpLmxhc3RJbmRleE9mKGEpLGM9Yz4tMT9lLShjK2EubGVuZ3RoKTplLGk9dlt3XS5zdWJzdHJpbmcoMCxjKSxuJiYobj0iIituLGM9KGw/bi50b0xvY2FsZUxvd2VyQ2FzZShsKTpuLnRvTG93ZXJDYXNlKCkpLmluZGV4T2YobD9pLnRvTG9jYWxlTG93ZXJDYXNlKGwpOmkudG9Mb3dlckNhc2UoKSksYz4tMSYmKG49bi5zdWJzdHJpbmcoYytpLmxlbmd0aCksYj1lK24ubGVuZ3RoLGkrPW4pLGEmJiIiIT09dlt2Lmxlbmd0aC0xXSYmdi5wdXNoKCIiKSksdlt3XT1pLGYuX2FjY2Vzc29yKHYuam9pbihhfHwiIikpLHk9PT1oKCkmJm8oeSxlLGIpLHQpfSx2YWx1ZTpmdW5jdGlvbihuKXtyZXR1cm4gbj09PXQ/dGhpcy5fYWNjZXNzb3IoKToodGhpcy5saXN0Vmlldy52YWx1ZShuKSx0aGlzLl9hY2Nlc3NvcihuKSx0aGlzLl9vbGQ9dGhpcy5fYWNjZXNzb3IoKSx0aGlzLl9vbGRUZXh0PXRoaXMuX2FjY2Vzc29yKCksdGhpcy5fdG9nZ2xlQ2xvc2VWaXNpYmlsaXR5KCksdCl9LF9jbGljazpmdW5jdGlvbihuKXt2YXIgcj1uLml0ZW0saT10aGlzLHU9aS5lbGVtZW50LGY9aS5saXN0Vmlldy5kYXRhSXRlbUJ5SW5kZXgoaS5saXN0Vmlldy5nZXRFbGVtZW50SW5kZXgocikpO3JldHVybiBuLnByZXZlbnREZWZhdWx0KCksaS5fYWN0aXZlPSEwLGkudHJpZ2dlcigic2VsZWN0Iix7ZGF0YUl0ZW06ZixpdGVtOnJ9KT8oaS5jbG9zZSgpLHQpOihpLl9vbGRUZXh0PXUudmFsKCksaS5fc2VsZWN0KHIpLmRvbmUoZnVuY3Rpb24oKXtpLl9ibHVyKCk7byh1LHUudmFsKCkubGVuZ3RoKX0pLHQpfSxfY2xlYXJUZXh0Om4ubm9vcCxfcmVzZXRGb2N1c0l0ZW06ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnMuaGlnaGxpZ2h0Rmlyc3Q/MDotMTt0aGlzLm9wdGlvbnMudmlydHVhbCYmdGhpcy5saXN0Vmlldy5zY3JvbGxUbygwKTt0aGlzLmxpc3RWaWV3LmZvY3VzKG4pfSxfbGlzdEJvdW5kOmZ1bmN0aW9uKCl7dmFyIHIsbj10aGlzLHU9bi5wb3B1cCxmPW4ub3B0aW9ucyxlPW4uZGF0YVNvdXJjZS5mbGF0VmlldygpLGk9ZS5sZW5ndGgscz1uLmRhdGFTb3VyY2UuX2dyb3VwLmxlbmd0aCxvPW4uZWxlbWVudFswXT09PWgoKTtuLl9yZW5kZXJGb290ZXIoKTtuLl9yZW5kZXJOb0RhdGEoKTtuLl90b2dnbGVOb0RhdGEoIWkpO24uX3RvZ2dsZUhlYWRlcighIXMmJiEhaSk7bi5fcmVzaXplUG9wdXAoKTt1LnBvc2l0aW9uKCk7aSYmZi5zdWdnZXN0JiZvJiZuLl9pbnB1dFZhbHVlKCkmJm4uc3VnZ2VzdChlWzBdKTtuLl9vcGVuJiYobi5fb3Blbj0hMSxyPW4uX2FsbG93T3BlbmluZygpPyJvcGVuIjoiY2xvc2UiLG4uX3R5cGluZ1RpbWVvdXQmJiFvJiYocj0iY2xvc2UiKSxpJiYobi5fcmVzZXRGb2N1c0l0ZW0oKSxmLnZpcnR1YWwmJm4ucG9wdXAudW5iaW5kKCJhY3RpdmF0ZSIsbi5fcmVzZXRGb2N1c0l0ZW1IYW5kbGVyKS5vbmUoImFjdGl2YXRlIixuLl9yZXNldEZvY3VzSXRlbUhhbmRsZXIpKSx1W3JdKCksbi5fdHlwaW5nVGltZW91dD10KTtuLl90b3VjaFNjcm9sbGVyJiZuLl90b3VjaFNjcm9sbGVyLnJlc2V0KCk7bi5faGlkZUJ1c3koKTtuLl9tYWtlVW5zZWxlY3RhYmxlKCk7bi50cmlnZ2VyKCJkYXRhQm91bmQiKX0sX211dGU6ZnVuY3Rpb24obil7dGhpcy5fbXV0ZWQ9ITA7bi5jYWxsKHRoaXMpO3RoaXMuX211dGVkPSExfSxfbGlzdENoYW5nZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMuX2FjdGl2ZXx8dGhpcy5lbGVtZW50WzBdPT09aCgpO24mJiF0aGlzLl9tdXRlZCYmdGhpcy5fc2VsZWN0VmFsdWUodGhpcy5saXN0Vmlldy5zZWxlY3RlZERhdGFJdGVtcygpWzBdKX0sX3NlbGVjdFZhbHVlOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMuX3NlcGFyYXRvcigpLHQ9IiI7biYmKHQ9dGhpcy5fdGV4dChuKSk7bnVsbD09PXQmJih0PSIiKTtpJiYodD1udChvKHRoaXMuZWxlbWVudClbMF0sdGhpcy5fYWNjZXNzb3IoKSx0LGksdGhpcy5fZGVmYXVsdFNlcGFyYXRvcigpKSk7dGhpcy5fcHJldj10O3RoaXMuX2FjY2Vzc29yKHQpO3RoaXMuX3BsYWNlaG9sZGVyKCl9LF91bmlmeVNlcGFyYXRvcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWNjZXNzb3IodGhpcy52YWx1ZSgpLnNwbGl0KHRoaXMuX3NlcGFyYXRvcigpKS5qb2luKHRoaXMuX2RlZmF1bHRTZXBhcmF0b3IoKSkpLHRoaXN9LF9wcmVzZWxlY3Q6ZnVuY3Rpb24obix0KXt0aGlzLl9pbnB1dFZhbHVlKHQpO3RoaXMuX2FjY2Vzc29yKG4pO3RoaXMuX29sZD10aGlzLm9sZFRleHQ9dGhpcy5fYWNjZXNzb3IoKTt0aGlzLmxpc3RWaWV3LnNldFZhbHVlKG4pO3RoaXMuX3BsYWNlaG9sZGVyKCl9LF9jaGFuZ2U6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ9bi5fdW5pZnlTZXBhcmF0b3JzKCkudmFsdWUoKSxpPXQhPT11LnVuaWZ5VHlwZShuLl9vbGQsdHlwZW9mIHQpLHI9aSYmIW4uX3R5cGluZyxmPW4uX29sZFRleHQhPT10O24uX29sZD10O24uX29sZFRleHQ9dDsocnx8ZikmJm4uZWxlbWVudC50cmlnZ2VyKGMpO2kmJm4udHJpZ2dlcihjKTtuLnR5cGluZz0hMTtuLl90b2dnbGVDbG9zZVZpc2liaWxpdHkoKX0sX2FjY2Vzc29yOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMscj1pLmVsZW1lbnRbMF07cmV0dXJuIG49PT10PyhuPXIudmFsdWUsci5jbGFzc05hbWUuaW5kZXhPZigiay1yZWFkb25seSIpPi0xJiZuPT09aS5vcHRpb25zLnBsYWNlaG9sZGVyPyIiOm4pOihyLnZhbHVlPW51bGw9PT1uPyIiOm4saS5fcGxhY2Vob2xkZXIoKSx0KX0sX2tleWRvd246ZnVuY3Rpb24obil7dmFyIG8scyx0PXRoaXMsaT1uLmtleUNvZGUsZj10Lmxpc3RWaWV3LGU9dC5wb3B1cC52aXNpYmxlKCksdT1mLmZvY3VzKCk7aWYodC5fbGFzdD1pLGk9PT1yLkRPV04pZT90aGlzLl9tb3ZlKHU/ImZvY3VzTmV4dCI6ImZvY3VzRmlyc3QiKTp0LnZhbHVlKCkmJnQuX2ZpbHRlclNvdXJjZSh7dmFsdWU6dC5pZ25vcmVDYXNlP3QudmFsdWUoKS50b0xvd2VyQ2FzZSgpOnQudmFsdWUoKSxvcGVyYXRvcjp0Lm9wdGlvbnMuZmlsdGVyLGZpZWxkOnQub3B0aW9ucy5kYXRhVGV4dEZpZWxkLGlnbm9yZUNhc2U6dC5pZ25vcmVDYXNlfSkuZG9uZShmdW5jdGlvbigpe3QuX2FsbG93T3BlbmluZygpJiYodC5fcmVzZXRGb2N1c0l0ZW0oKSx0LnBvcHVwLm9wZW4oKSl9KSxuLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZihpPT09ci5VUCllJiZ0aGlzLl9tb3ZlKHU/ImZvY3VzUHJldiI6ImZvY3VzTGFzdCIpLG4ucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKGk9PT1yLkhPTUUpdGhpcy5fbW92ZSgiZm9jdXNGaXJzdCIpO2Vsc2UgaWYoaT09PXIuRU5EKXRoaXMuX21vdmUoImZvY3VzTGFzdCIpO2Vsc2UgaWYoaT09PXIuRU5URVJ8fGk9PT1yLlRBQil7aWYoaT09PXIuRU5URVImJmUmJm4ucHJldmVudERlZmF1bHQoKSxlJiZ1KXtpZihvPWYuZGF0YUl0ZW1CeUluZGV4KGYuZ2V0RWxlbWVudEluZGV4KHUpKSx0LnRyaWdnZXIoInNlbGVjdCIse2RhdGFJdGVtOm8saXRlbTp1fSkpcmV0dXJuO3RoaXMuX3NlbGVjdCh1KX10aGlzLl9ibHVyKCl9ZWxzZSBpPT09ci5FU0M/KGU/bi5wcmV2ZW50RGVmYXVsdCgpOnQuX2NsZWFyVmFsdWUoKSx0LmNsb3NlKCkpOiF0LnBvcHVwLnZpc2libGUoKXx8aSE9PXIuUEFHRURPV04mJmkhPT1yLlBBR0VVUD8odC5wb3B1cC5faG92ZXJlZD0hMCx0Ll9zZWFyY2goKSk6KG4ucHJldmVudERlZmF1bHQoKSxzPWk9PT1yLlBBR0VET1dOPzE6LTEsZi5zY3JvbGxXaXRoKHMqZi5zY3JlZW5IZWlnaHQoKSkpfSxfa2V5cHJlc3M6ZnVuY3Rpb24oKXt0aGlzLl9vbGRUZXh0PXRoaXMuZWxlbWVudC52YWwoKTt0aGlzLl90eXBpbmc9ITB9LF9tb3ZlOmZ1bmN0aW9uKG4pe3RoaXMubGlzdFZpZXdbbl0oKTt0aGlzLm9wdGlvbnMuc3VnZ2VzdCYmdGhpcy5zdWdnZXN0KHRoaXMubGlzdFZpZXcuZm9jdXMoKSl9LF9oaWRlQnVzeTpmdW5jdGlvbigpe3ZhciBuPXRoaXM7Y2xlYXJUaW1lb3V0KG4uX2J1c3kpO24uX2xvYWRpbmcuaGlkZSgpO24uZWxlbWVudC5hdHRyKCJhcmlhLWJ1c3kiLCExKTtuLl9idXN5PW51bGw7bi5fc2hvd0NsZWFyKCl9LF9zaG93QnVzeTpmdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5fYnVzeXx8KG4uX2J1c3k9c2V0VGltZW91dChmdW5jdGlvbigpe24uZWxlbWVudC5hdHRyKCJhcmlhLWJ1c3kiLCEwKTtuLl9sb2FkaW5nLnNob3coKTtuLl9oaWRlQ2xlYXIoKX0sMTAwKSl9LF9wbGFjZWhvbGRlcjpmdW5jdGlvbihuKXtpZighdil7dmFyIGksZj10aGlzLHU9Zi5lbGVtZW50LHI9Zi5vcHRpb25zLnBsYWNlaG9sZGVyO2lmKHIpe2lmKGk9dS52YWwoKSxuPT09dCYmKG49IWkpLG58fChyPWkhPT1yP2k6IiIpLGk9PT1mLl9vbGQmJiFuKXJldHVybjt1LnRvZ2dsZUNsYXNzKCJrLXJlYWRvbmx5IixuKS52YWwocik7cnx8dVswXSE9PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnR8fG8odVswXSwwLDApfX19LF9zZXBhcmF0b3I6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnMuc2VwYXJhdG9yO3JldHVybiBuIGluc3RhbmNlb2YgQXJyYXk/UmVnRXhwKG4uam9pbigifCIpLCJnaSIpOm59LF9kZWZhdWx0U2VwYXJhdG9yOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcHRpb25zLnNlcGFyYXRvcjtyZXR1cm4gbiBpbnN0YW5jZW9mIEFycmF5P25bMF06bn0sX2lucHV0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LnZhbCgpfSxfc2VhcmNoOmZ1bmN0aW9uKCl7dmFyIG49dGhpcztjbGVhclRpbWVvdXQobi5fdHlwaW5nVGltZW91dCk7bi5fdHlwaW5nVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5fcHJldiE9PW4uX2FjY2Vzc29yKCkmJihuLl9wcmV2PW4uX2FjY2Vzc29yKCksbi5zZWFyY2goKSl9LG4ub3B0aW9ucy5kZWxheSl9LF9zZWxlY3Q6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcztyZXR1cm4gdC5fYWN0aXZlPSEwLHQubGlzdFZpZXcuc2VsZWN0KG4pLmRvbmUoZnVuY3Rpb24oKXt0Ll9hY3RpdmU9ITF9KX0sX2xvYWRlcjpmdW5jdGlvbigpe3RoaXMuX2xvYWRpbmc9bignPHNwYW4gY2xhc3M9ImstaWNvbiBrLWktbG9hZGluZyIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+PFwvc3Bhbj4nKS5pbnNlcnRBZnRlcih0aGlzLmVsZW1lbnQpfSxfY2xlYXJCdXR0b246ZnVuY3Rpb24oKXt1LmZuLl9jbGVhckJ1dHRvbi5jYWxsKHRoaXMpO3RoaXMub3B0aW9ucy5jbGVhckJ1dHRvbiYmKHRoaXMuX2NsZWFyLmluc2VydEFmdGVyKHRoaXMuZWxlbWVudCksdGhpcy53cmFwcGVyLmFkZENsYXNzKCJrLWF1dG9jb21wbGV0ZS1jbGVhcmFibGUiKSl9LF90b2dnbGVIb3ZlcjpmdW5jdGlvbih0KXtuKHQuY3VycmVudFRhcmdldCkudG9nZ2xlQ2xhc3MoZnQsIm1vdXNlZW50ZXIiPT09dC50eXBlKX0sX3RvZ2dsZUNsb3NlVmlzaWJpbGl0eTpmdW5jdGlvbigpe3RoaXMudmFsdWUoKT90aGlzLl9zaG93Q2xlYXIoKTp0aGlzLl9oaWRlQ2xlYXIoKX0sX3dyYXBwZXI6ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMscj1pLmVsZW1lbnQsdT1yWzBdO3Q9ci5wYXJlbnQoKTt0LmlzKCJzcGFuLmstd2lkZ2V0Iil8fCh0PXIud3JhcCgiPHNwYW4gLz4iKS5wYXJlbnQoKSk7dC5hdHRyKCJ0YWJpbmRleCIsLTEpO3QuYXR0cigicm9sZSIsInByZXNlbnRhdGlvbiIpO3RbMF0uc3R5bGUuY3NzVGV4dD11LnN0eWxlLmNzc1RleHQ7ci5jc3Moe3dpZHRoOiIiLGhlaWdodDp1LnN0eWxlLmhlaWdodH0pO2kuX2ZvY3VzZWQ9aS5lbGVtZW50O2kud3JhcHBlcj10LmFkZENsYXNzKCJrLXdpZGdldCBrLWF1dG9jb21wbGV0ZSIpLmFkZENsYXNzKHUuY2xhc3NOYW1lKS5yZW1vdmVDbGFzcygiaW5wdXQtdmFsaWRhdGlvbi1lcnJvciIpO2kuX2lucHV0V3JhcHBlcj1uKHRbMF0pfSxfY2xlYXJWYWx1ZTpmdW5jdGlvbigpe3UuZm4uX2NsZWFyVmFsdWUuY2FsbCh0aGlzKTt0aGlzLmVsZW1lbnQuZm9jdXMoKX19KTt5LnBsdWdpbihvdCl9KHdpbmRvdy5rZW5kby5qUXVlcnkpLHdpbmRvdy5rZW5kb30sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmU6ZnVuY3Rpb24obix0LGkpeyhpfHx0KSgpfSk7Ci8qIQogKiBDb3B5cmlnaHQgMjAyMCBQcm9ncmVzcyBTb2Z0d2FyZSBDb3Jwb3JhdGlvbiBhbmQvb3Igb25lIG9mIGl0cyBzdWJzaWRpYXJpZXMgb3IgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCiFmdW5jdGlvbihuLHQpe3QoImtlbmRvLmZ4Lm1pbiIsWyJrZW5kby5jb3JlLm1pbiJdLG4pfShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIHl0KG4pe3JldHVybiBwYXJzZUludChuLDEwKX1mdW5jdGlvbiBsKG4sdCl7cmV0dXJuIHl0KG4uY3NzKHQpKX1mdW5jdGlvbiBsaShuKXt2YXIgdCxpPVtdO2Zvcih0IGluIG4paS5wdXNoKHQpO3JldHVybiBpfWZ1bmN0aW9uIHJ0KG4pe2Zvcih2YXIgdCBpbiBuKWh0LmluZGV4T2YodCkhPS0xJiZkLmluZGV4T2YodCk9PS0xJiZkZWxldGUgblt0XTtyZXR1cm4gbn1mdW5jdGlvbiB1dChuLHQpe3ZhciByLGksdSxlLG89W10saD17fTtmb3IoaSBpbiB0KXI9aS50b0xvd2VyQ2FzZSgpLGU9ZiYmaHQuaW5kZXhPZihyKSE9LTEsIXcuaGFzSFczRCYmZSYmZC5pbmRleE9mKHIpPT0tMT9kZWxldGUgdFtpXToodT10W2ldLGU/by5wdXNoKGkrIigiK3UrIikiKTpoW2ldPXUpO3JldHVybiBvLmxlbmd0aCYmKGhbc109by5qb2luKCIgIikpLGh9ZnVuY3Rpb24gcHQobix0KXt2YXIgdSxpLHI7cmV0dXJuIGY/KHU9bi5jc3MocyksdT09aXI/InNjYWxlIj09dD8xOjA6KGk9dS5tYXRjaChSZWdFeHAodCsiXFxzKlxcKChbXFxkXFx3XFwuXSspIikpLHI9MCxpP3I9eXQoaVsxXSk6KGk9dS5tYXRjaCh3aSl8fFswLDAsMCwwLDBdLHQ9dC50b0xvd2VyQ2FzZSgpLGJpLnRlc3QodCk/cj1wYXJzZUZsb2F0KGlbM10vaVsyXSk6InRyYW5zbGF0ZXkiPT10P3I9cGFyc2VGbG9hdChpWzRdL2lbMl0pOiJzY2FsZSI9PXQ/cj1wYXJzZUZsb2F0KGlbMl0pOiJyb3RhdGUiPT10JiYocj1wYXJzZUZsb2F0KE1hdGguYXRhbjIoaVsyXSxpWzFdKSkpKSxyKSk6cGFyc2VGbG9hdChuLmNzcyh0KSl9ZnVuY3Rpb24gZnQobil7cmV0dXJuIG4uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zdWJzdHJpbmcoMSl9ZnVuY3Rpb24gZShuLHQpe3ZhciBpPWguZXh0ZW5kKHQpLHU9aS5wcm90b3R5cGUuZGlyZWN0aW9ucztyW2Z0KG4pXT1pO3IuRWxlbWVudC5wcm90b3R5cGVbbl09ZnVuY3Rpb24obix0LHIsdSl7cmV0dXJuIG5ldyBpKHRoaXMuZWxlbWVudCxuLHQscix1KX07YSh1LGZ1bmN0aW9uKHQsdSl7ci5FbGVtZW50LnByb3RvdHlwZVtuK2Z0KHUpXT1mdW5jdGlvbihuLHQscil7cmV0dXJuIG5ldyBpKHRoaXMuZWxlbWVudCx1LG4sdCxyKX19KX1mdW5jdGlvbiB3dChuLGkscix1KXtlKG4se2RpcmVjdGlvbnM6ZHQsc3RhcnRWYWx1ZTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fc3RhcnRWYWx1ZT1uLHRoaXN9LGVuZFZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9lbmRWYWx1ZT1uLHRoaXN9LHNob3VsZEhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hvdWxkSGlkZX0scHJlcGFyZTpmdW5jdGlvbihuLGYpe3ZhciBlLG8saD10aGlzLGM9Im91dCI9PT10aGlzLl9kaXJlY3Rpb24scz1oLmVsZW1lbnQuZGF0YShpKSxsPSEoaXNOYU4ocyl8fHM9PXIpO2U9bD9zOnQhPT10aGlzLl9zdGFydFZhbHVlP3RoaXMuX3N0YXJ0VmFsdWU6Yz9yOnU7bz10IT09dGhpcy5fZW5kVmFsdWU/dGhpcy5fZW5kVmFsdWU6Yz91OnI7dGhpcy5fcmV2ZXJzZT8obltpXT1vLGZbaV09ZSk6KG5baV09ZSxmW2ldPW8pO2guX3Nob3VsZEhpZGU9ZltpXT09PXV9fSl9ZnVuY3Rpb24gYnQobix0KXt2YXIgcj1pLmRpcmVjdGlvbnNbdF0udmVydGljYWwsdT1uW3I/bnQ6bHRdKCkvMisicHgiO3JldHVybiBuaVt0XS5yZXBsYWNlKCIkc2l6ZSIsdSl9dmFyIGt0LGV0LGgscCxkdCxndCxuaSx0aSxvdCxpaSxrLHN0LGk9d2luZG93LmtlbmRvLHI9aS5lZmZlY3RzLGE9bi5lYWNoLHU9bi5leHRlbmQsYWk9bi5wcm94eSx3PWkuc3VwcG9ydCx2aT13LmJyb3dzZXIsZj13LnRyYW5zZm9ybXMsbz13LnRyYW5zaXRpb25zLHlpPXtzY2FsZTowLHNjYWxleDowLHNjYWxleTowLHNjYWxlM2Q6MH0scGk9e3RyYW5zbGF0ZTowLHRyYW5zbGF0ZXg6MCx0cmFuc2xhdGV5OjAsdHJhbnNsYXRlM2Q6MH0scmk9dCE9PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS56b29tJiYhZix3aT0vbWF0cml4Mz9kP1xzKlwoLiosXHMqKFtcZFwuXC1dKylcdyo/LFxzKihbXGRcLlwtXSspXHcqPyxccyooW1xkXC5cLV0rKVx3Kj8sXHMqKFtcZFwuXC1dKylcdyo/L2ksdWk9L14oLT9bXGRcLlwtXSspP1tcd1xzXSosP1xzKigtP1tcZFwuXC1dKyk/W1x3XHNdKi9pLGJpPS90cmFuc2xhdGV4PyQvaSxraT0vKHpvb218ZmFkZXxleHBhbmQpKFx3KykvLGZpPS8oem9vbXxmYWRlfGV4cGFuZCkvLGRpPS9beHldJC9pLGh0PVsicGVyc3BlY3RpdmUiLCJyb3RhdGUiLCJyb3RhdGV4Iiwicm90YXRleSIsInJvdGF0ZXoiLCJyb3RhdGUzZCIsInNjYWxlIiwic2NhbGV4Iiwic2NhbGV5Iiwic2NhbGV6Iiwic2NhbGUzZCIsInNrZXciLCJza2V3eCIsInNrZXd5IiwidHJhbnNsYXRlIiwidHJhbnNsYXRleCIsInRyYW5zbGF0ZXkiLCJ0cmFuc2xhdGV6IiwidHJhbnNsYXRlM2QiLCJtYXRyaXgiLCJtYXRyaXgzZCJdLGQ9WyJyb3RhdGUiLCJzY2FsZSIsInNjYWxleCIsInNjYWxleSIsInNrZXciLCJza2V3eCIsInNrZXd5IiwidHJhbnNsYXRlIiwidHJhbnNsYXRleCIsInRyYW5zbGF0ZXkiLCJtYXRyaXgiXSxnaT17cm90YXRlOiJkZWciLHNjYWxlOiIiLHNrZXc6InB4Iix0cmFuc2xhdGU6InB4In0sZz1mLmNzcyxucj1NYXRoLnJvdW5kLHRyPSIiLGI9InB4Iixpcj0ibm9uZSIsY3Q9ImF1dG8iLGx0PSJ3aWR0aCIsbnQ9ImhlaWdodCIsZWk9ImhpZGRlbiIsYXQ9Im9yaWdpbiIsb2k9ImFib3J0SWQiLHR0PSJvdmVyZmxvdyIsdj0idHJhbnNsYXRlIixpdD0icG9zaXRpb24iLHNpPSJjb21wbGV0ZUNhbGxiYWNrIix5PWcrInRyYW5zaXRpb24iLHM9ZysidHJhbnNmb3JtIixycj1nKyJiYWNrZmFjZS12aXNpYmlsaXR5IixoaT1nKyJwZXJzcGVjdGl2ZSIsdnQ9IjE1MDBweCIsY2k9InBlcnNwZWN0aXZlKCIrdnQrIikiLGM9e2xlZnQ6e3JldmVyc2U6InJpZ2h0Iixwcm9wZXJ0eToibGVmdCIsdHJhbnNpdGlvbjoidHJhbnNsYXRleCIsdmVydGljYWw6ITEsbW9kaWZpZXI6LTF9LHJpZ2h0OntyZXZlcnNlOiJsZWZ0Iixwcm9wZXJ0eToibGVmdCIsdHJhbnNpdGlvbjoidHJhbnNsYXRleCIsdmVydGljYWw6ITEsbW9kaWZpZXI6MX0sZG93bjp7cmV2ZXJzZToidXAiLHByb3BlcnR5OiJ0b3AiLHRyYW5zaXRpb246InRyYW5zbGF0ZXkiLHZlcnRpY2FsOiEwLG1vZGlmaWVyOjF9LHVwOntyZXZlcnNlOiJkb3duIixwcm9wZXJ0eToidG9wIix0cmFuc2l0aW9uOiJ0cmFuc2xhdGV5Iix2ZXJ0aWNhbDohMCxtb2RpZmllcjotMX0sdG9wOntyZXZlcnNlOiJib3R0b20ifSxib3R0b206e3JldmVyc2U6InRvcCJ9LCJpbiI6e3JldmVyc2U6Im91dCIsbW9kaWZpZXI6LTF9LG91dDp7cmV2ZXJzZToiaW4iLG1vZGlmaWVyOjF9LHZlcnRpY2FsOntyZXZlcnNlOiJ2ZXJ0aWNhbCJ9LGhvcml6b250YWw6e3JldmVyc2U6Imhvcml6b250YWwifX07aS5kaXJlY3Rpb25zPWM7dShuLmZuLHtrZW5kb1N0b3A6ZnVuY3Rpb24obix0KXtyZXR1cm4gbz9yLnN0b3BRdWV1ZSh0aGlzLG58fCExLHR8fCExKTp0aGlzLnN0b3Aobix0KX19KTtmJiYhbyYmKGEoZCxmdW5jdGlvbihpLHIpe24uZm5bcl09ZnVuY3Rpb24oaSl7aWYodD09PWkpcmV0dXJuIHB0KHRoaXMscik7dmFyIHU9bih0aGlzKVswXSxmPXIrIigiK2krZ2lbci5yZXBsYWNlKGRpLCIiKV0rIikiO3JldHVybiB1LnN0eWxlLmNzc1RleHQuaW5kZXhPZihzKT09LTE/bih0aGlzKS5jc3MocyxmKTp1LnN0eWxlLmNzc1RleHQ9dS5zdHlsZS5jc3NUZXh0LnJlcGxhY2UoUmVnRXhwKHIrIlxcKC4qP1xcKSIsImkiKSxmKSx0aGlzfTtuLmZ4LnN0ZXBbcl09ZnVuY3Rpb24odCl7bih0LmVsZW0pW3JdKHQubm93KX19KSxrdD1uLmZ4LnByb3RvdHlwZS5jdXIsbi5meC5wcm90b3R5cGUuY3VyPWZ1bmN0aW9uKCl7cmV0dXJuIGQuaW5kZXhPZih0aGlzLnByb3ApIT0tMT9wYXJzZUZsb2F0KG4odGhpcy5lbGVtKVt0aGlzLnByb3BdKCkpOmt0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pO2kudG9nZ2xlQ2xhc3M9ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIHQmJih0PXQuc3BsaXQoIiAiKSxvJiYoaT11KHtleGNsdXNpdmU6ImFsbCIsZHVyYXRpb246NDAwLGVhc2U6ImVhc2Utb3V0In0saSksbi5jc3MoeSxpLmV4Y2x1c2l2ZSsiICIraS5kdXJhdGlvbisibXMgIitpLmVhc2UpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLmNzcyh5LCIiKS5jc3MobnQpfSxpLmR1cmF0aW9uKSksYSh0LGZ1bmN0aW9uKHQsaSl7bi50b2dnbGVDbGFzcyhpLHIpfSkpLG59O2kucGFyc2VFZmZlY3RzPWZ1bmN0aW9uKG4sdCl7dmFyIGk9e307cmV0dXJuInN0cmluZyI9PXR5cGVvZiBuP2Eobi5zcGxpdCgiICIpLGZ1bmN0aW9uKG4scil7dmFyIG89IWZpLnRlc3Qocikscz1yLnJlcGxhY2Uoa2ksZnVuY3Rpb24obix0LGkpe3JldHVybiB0KyI6IitpLnRvTG93ZXJDYXNlKCl9KSx1PXMuc3BsaXQoIjoiKSxmPXVbMV0sZT17fTt1Lmxlbmd0aD4xJiYoZS5kaXJlY3Rpb249dCYmbz9jW2ZdLnJldmVyc2U6Zik7aVt1WzBdXT1lfSk6YShuLGZ1bmN0aW9uKG4pe3ZhciByPXRoaXMuZGlyZWN0aW9uO3ImJnQmJiFmaS50ZXN0KG4pJiYodGhpcy5kaXJlY3Rpb249Y1tyXS5yZXZlcnNlKTtpW25dPXRoaXN9KSxpfTtvJiZ1KHIse3RyYW5zaXRpb246ZnVuY3Rpb24odCxpLHIpe3ZhciBoLGYsYyxlLGE9MCxsPXQuZGF0YSgia2V5cyIpfHxbXTtyPXUoe2R1cmF0aW9uOjIwMCxlYXNlOiJlYXNlLW91dCIsY29tcGxldGU6bnVsbCxleGNsdXNpdmU6ImFsbCJ9LHIpO2M9ITE7ZT1mdW5jdGlvbigpe2N8fChjPSEwLGYmJihjbGVhclRpbWVvdXQoZiksZj1udWxsKSx0LnJlbW92ZURhdGEob2kpLmRlcXVldWUoKS5jc3MoeSwiIikuY3NzKHkpLHIuY29tcGxldGUuY2FsbCh0KSl9O3IuZHVyYXRpb249bi5meD9uLmZ4LnNwZWVkc1tyLmR1cmF0aW9uXXx8ci5kdXJhdGlvbjpyLmR1cmF0aW9uO2g9dXQodCxpKTtuLm1lcmdlKGwsbGkoaCkpO24uaGFzT3duUHJvcGVydHkoInVuaXF1ZVNvcnQiKT90LmRhdGEoImtleXMiLG4udW5pcXVlU29ydChsKSkuaGVpZ2h0KCk6dC5kYXRhKCJrZXlzIixuLnVuaXF1ZShsKSkuaGVpZ2h0KCk7dC5jc3MoeSxyLmV4Y2x1c2l2ZSsiICIrci5kdXJhdGlvbisibXMgIityLmVhc2UpLmNzcyh5KTt0LmNzcyhoKS5jc3Mocyk7by5ldmVudCYmKHQub25lKG8uZXZlbnQsZSksMCE9PXIuZHVyYXRpb24mJihhPTUwMCkpO2Y9c2V0VGltZW91dChlLHIuZHVyYXRpb24rYSk7dC5kYXRhKG9pLGYpO3QuZGF0YShzaSxlKX0sc3RvcFF1ZXVlOmZ1bmN0aW9uKG4sdCxyKXt2YXIgdSxmPW4uZGF0YSgia2V5cyIpLGU9IXImJmYsbz1uLmRhdGEoc2kpO3JldHVybiBlJiYodT1pLmdldENvbXB1dGVkU3R5bGVzKG5bMF0sZikpLG8mJm8oKSxlJiZuLmNzcyh1KSxuLnJlbW92ZURhdGEoImtleXMiKS5zdG9wKHQpfX0pO2V0PWkuQ2xhc3MuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcztpLmVsZW1lbnQ9bjtpLmVmZmVjdHM9W107aS5vcHRpb25zPXQ7aS5yZXN0b3JlPVtdfSxydW46ZnVuY3Rpb24odCl7dmFyIGwsaCx2LHAsdyxrLGQsYT10aGlzLGc9dC5sZW5ndGgsYz1hLmVsZW1lbnQsaT1hLm9wdGlvbnMsYj1uLkRlZmVycmVkKCksZT17fSx5PXt9O2ZvcihhLmVmZmVjdHM9dCxiLmRvbmUobi5wcm94eShhLCJjb21wbGV0ZSIpKSxjLmRhdGEoImFuaW1hdGluZyIsITApLGg9MDtoPGc7aCsrKWZvcihsPXRbaF0sbC5zZXRSZXZlcnNlKGkucmV2ZXJzZSksbC5zZXRPcHRpb25zKGkpLGEuYWRkUmVzdG9yZVByb3BlcnRpZXMobC5yZXN0b3JlKSxsLnByZXBhcmUoZSx5KSx3PWwuY2hpbGRyZW4oKSx2PTAsaz13Lmxlbmd0aDt2PGs7disrKXdbdl0uZHVyYXRpb24oaS5kdXJhdGlvbikucnVuKCk7Zm9yKGQgaW4gaS5lZmZlY3RzKXUoeSxpLmVmZmVjdHNbZF0ucHJvcGVydGllcyk7Zm9yKGMuaXMoIjp2aXNpYmxlIil8fHUoZSx7ZGlzcGxheTpjLmRhdGEoIm9sZGRpc3BsYXkiKXx8ImJsb2NrIn0pLGYmJiFpLnJlc2V0JiYocD1jLmRhdGEoInRhcmdldFRyYW5zZm9ybSIpLHAmJihlPXUocCxlKSkpLGU9dXQoYyxlKSxmJiYhbyYmKGU9cnQoZSkpLGMuY3NzKGUpLmNzcyhzKSxoPTA7aDxnO2grKyl0W2hdLnNldHVwKCk7cmV0dXJuIGkuaW5pdCYmaS5pbml0KCksYy5kYXRhKCJ0YXJnZXRUcmFuc2Zvcm0iLHkpLHIuYW5pbWF0ZShjLHksdSh7fSxpLHtjb21wbGV0ZTpiLnJlc29sdmV9KSksYi5wcm9taXNlKCl9LHN0b3A6ZnVuY3Rpb24oKXtuKHRoaXMuZWxlbWVudCkua2VuZG9TdG9wKCEwLCEwKX0sYWRkUmVzdG9yZVByb3BlcnRpZXM6ZnVuY3Rpb24obil7Zm9yKHZhciB0LGk9dGhpcy5lbGVtZW50LHI9MCx1PW4ubGVuZ3RoO3I8dTtyKyspdD1uW3JdLHRoaXMucmVzdG9yZS5wdXNoKHQpLGkuZGF0YSh0KXx8aS5kYXRhKHQsaS5jc3ModCkpfSxyZXN0b3JlQ2FsbGJhY2s6ZnVuY3Rpb24oKXtmb3IodmFyIHQscj10aGlzLmVsZW1lbnQsbj0wLGk9dGhpcy5yZXN0b3JlLmxlbmd0aDtuPGk7bisrKXQ9dGhpcy5yZXN0b3JlW25dLHIuY3NzKHQsci5kYXRhKHQpKX0sY29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLHI9MCx0PWkuZWxlbWVudCx1PWkub3B0aW9ucyxlPWkuZWZmZWN0cyxvPWUubGVuZ3RoO2Zvcih0LnJlbW92ZURhdGEoImFuaW1hdGluZyIpLmRlcXVldWUoKSx1LmhpZGUmJnQuZGF0YSgib2xkZGlzcGxheSIsdC5jc3MoImRpc3BsYXkiKSkuaGlkZSgpLHRoaXMucmVzdG9yZUNhbGxiYWNrKCkscmkmJiFmJiZzZXRUaW1lb3V0KG4ucHJveHkodGhpcywicmVzdG9yZUNhbGxiYWNrIiksMCk7cjxvO3IrKyllW3JdLnRlYXJkb3duKCk7dS5jb21wbGV0ZUNhbGxiYWNrJiZ1LmNvbXBsZXRlQ2FsbGJhY2sodCl9fSk7ci5wcm9taXNlPWZ1bmN0aW9uKG4sdCl7dmFyIHUscyxmLGU9W10saD1uZXcgZXQobix0KSxvPWkucGFyc2VFZmZlY3RzKHQuZWZmZWN0cyk7dC5lZmZlY3RzPW87Zm9yKGYgaW4gbyl1PXJbZnQoZildLHUmJihzPW5ldyB1KG4sb1tmXS5kaXJlY3Rpb24pLGUucHVzaChzKSk7ZVswXT9oLnJ1bihlKToobi5pcygiOnZpc2libGUiKXx8bi5jc3Moe2Rpc3BsYXk6bi5kYXRhKCJvbGRkaXNwbGF5Iil8fCJibG9jayJ9KS5jc3MoImRpc3BsYXkiKSx0LmluaXQmJnQuaW5pdCgpLG4uZGVxdWV1ZSgpLGguY29tcGxldGUoKSl9O3Uocix7YW5pbWF0ZTpmdW5jdGlvbihpLGUscyl7dmFyIGg9cy50cmFuc2l0aW9uIT09ITE7ZGVsZXRlIHMudHJhbnNpdGlvbjtvJiYidHJhbnNpdGlvbiJpbiByJiZoP3IudHJhbnNpdGlvbihpLGUscyk6Zj9pLmFuaW1hdGUocnQoZSkse3F1ZXVlOiExLHNob3c6ITEsaGlkZTohMSxkdXJhdGlvbjpzLmR1cmF0aW9uLGNvbXBsZXRlOnMuY29tcGxldGV9KTppLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpLHI9e307YShodCxmdW5jdGlvbihuLG8pe3ZhciBjLHMscCx3LGgsYSx5LGI9ZT9lW29dKyIgIjpudWxsO2ImJihzPWUsbyBpbiB5aSYmZVtvXSE9PXQ/KGM9Yi5tYXRjaCh1aSksZiYmdShzLHtzY2FsZTorY1swXX0pKTpvIGluIHBpJiZlW29dIT09dCYmKHA9aS5jc3MoaXQpLHc9ImFic29sdXRlIj09cHx8ImZpeGVkIj09cCxpLmRhdGEodil8fCh3P2kuZGF0YSh2LHt0b3A6bChpLCJ0b3AiKXx8MCxsZWZ0OmwoaSwibGVmdCIpfHwwLGJvdHRvbTpsKGksImJvdHRvbSIpLHJpZ2h0OmwoaSwicmlnaHQiKX0pOmkuZGF0YSh2LHt0b3A6bChpLCJtYXJnaW5Ub3AiKXx8MCxsZWZ0OmwoaSwibWFyZ2luTGVmdCIpfHwwfSkpLGg9aS5kYXRhKHYpLGM9Yi5tYXRjaCh1aSksYyYmKGE9bz09disieSI/MDorY1sxXSx5PW89PXYrInkiPytjWzFdOitjWzJdLHc/KGlzTmFOKGgucmlnaHQpP2lzTmFOKGEpfHx1KHMse2xlZnQ6aC5sZWZ0K2F9KTppc05hTihhKXx8dShzLHtyaWdodDpoLnJpZ2h0LWF9KSxpc05hTihoLmJvdHRvbSk/aXNOYU4oeSl8fHUocyx7dG9wOmgudG9wK3l9KTppc05hTih5KXx8dShzLHtib3R0b206aC5ib3R0b20teX0pKTooaXNOYU4oYSl8fHUocyx7bWFyZ2luTGVmdDpoLmxlZnQrYX0pLGlzTmFOKHkpfHx1KHMse21hcmdpblRvcDpoLnRvcCt5fSkpKSksIWYmJiJzY2FsZSIhPW8mJm8gaW4gcyYmZGVsZXRlIHNbb10scyYmdShyLHMpKX0pO3ZpLm1zaWUmJmRlbGV0ZSByLnNjYWxlO2kuYW5pbWF0ZShyLHtxdWV1ZTohMSxzaG93OiExLGhpZGU6ITEsZHVyYXRpb246cy5kdXJhdGlvbixjb21wbGV0ZTpzLmNvbXBsZXRlfSl9KX19KTtyLmFuaW1hdGVkUHJvbWlzZT1yLnByb21pc2U7aD1pLkNsYXNzLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXM7aS5lbGVtZW50PW47aS5fZGlyZWN0aW9uPXQ7aS5vcHRpb25zPXt9O2kuX2FkZGl0aW9uYWxFZmZlY3RzPVtdO2kucmVzdG9yZXx8KGkucmVzdG9yZT1bXSl9LHJldmVyc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmV2ZXJzZT0hMCx0aGlzLnJ1bigpfSxwbGF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JldmVyc2U9ITEsdGhpcy5ydW4oKX0sYWRkOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9hZGRpdGlvbmFsRWZmZWN0cy5wdXNoKG4pLHRoaXN9LGRpcmVjdGlvbjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fZGlyZWN0aW9uPW4sdGhpc30sZHVyYXRpb246ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2R1cmF0aW9uPW4sdGhpc30sY29tcG9zaXRlUnVuOmZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0PW5ldyBldChuLmVsZW1lbnQse3JldmVyc2U6bi5fcmV2ZXJzZSxkdXJhdGlvbjpuLl9kdXJhdGlvbn0pLGk9bi5fYWRkaXRpb25hbEVmZmVjdHMuY29uY2F0KFtuXSk7cmV0dXJuIHQucnVuKGkpfSxydW46ZnVuY3Rpb24oKXtpZih0aGlzLl9hZGRpdGlvbmFsRWZmZWN0cyYmdGhpcy5fYWRkaXRpb25hbEVmZmVjdHNbMF0pcmV0dXJuIHRoaXMuY29tcG9zaXRlUnVuKCk7dmFyIGMsbCxlPXRoaXMsdD1lLmVsZW1lbnQsaD0wLHk9ZS5yZXN0b3JlLHc9eS5sZW5ndGgsYT1uLkRlZmVycmVkKCksaT17fSx2PXt9LHA9ZS5jaGlsZHJlbigpLGI9cC5sZW5ndGg7Zm9yKGEuZG9uZShuLnByb3h5KGUsIl9jb21wbGV0ZSIpKSx0LmRhdGEoImFuaW1hdGluZyIsITApLGg9MDtoPHc7aCsrKWM9eVtoXSx0LmRhdGEoYyl8fHQuZGF0YShjLHQuY3NzKGMpKTtmb3IoaD0wO2g8YjtoKyspcFtoXS5kdXJhdGlvbihlLl9kdXJhdGlvbikucnVuKCk7cmV0dXJuIGUucHJlcGFyZShpLHYpLHQuaXMoIjp2aXNpYmxlIil8fHUoaSx7ZGlzcGxheTp0LmRhdGEoIm9sZGRpc3BsYXkiKXx8ImJsb2NrIn0pLGYmJihsPXQuZGF0YSgidGFyZ2V0VHJhbnNmb3JtIiksbCYmKGk9dShsLGkpKSksaT11dCh0LGkpLGYmJiFvJiYoaT1ydChpKSksdC5jc3MoaSkuY3NzKHMpLGUuc2V0dXAoKSx0LmRhdGEoInRhcmdldFRyYW5zZm9ybSIsdiksci5hbmltYXRlKHQsdix7ZHVyYXRpb246ZS5fZHVyYXRpb24sY29tcGxldGU6YS5yZXNvbHZlfSksYS5wcm9taXNlKCl9LHN0b3A6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxpPXRoaXMuY2hpbGRyZW4oKSxyPWkubGVuZ3RoLHQ9MDt0PHI7dCsrKWlbdF0uc3RvcCgpO3JldHVybiBuKHRoaXMuZWxlbWVudCkua2VuZG9TdG9wKCEwLCEwKSx0aGlzfSxyZXN0b3JlQ2FsbGJhY2s6ZnVuY3Rpb24oKXtmb3IodmFyIHQscj10aGlzLmVsZW1lbnQsbj0wLGk9dGhpcy5yZXN0b3JlLmxlbmd0aDtuPGk7bisrKXQ9dGhpcy5yZXN0b3JlW25dLHIuY3NzKHQsci5kYXRhKHQpKX0sX2NvbXBsZXRlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPXQuZWxlbWVudDtpLnJlbW92ZURhdGEoImFuaW1hdGluZyIpLmRlcXVldWUoKTt0LnJlc3RvcmVDYWxsYmFjaygpO3Quc2hvdWxkSGlkZSgpJiZpLmRhdGEoIm9sZGRpc3BsYXkiLGkuY3NzKCJkaXNwbGF5IikpLmhpZGUoKTtyaSYmIWYmJnNldFRpbWVvdXQobi5wcm94eSh0LCJyZXN0b3JlQ2FsbGJhY2siKSwwKTt0LnRlYXJkb3duKCl9LHNldE9wdGlvbnM6ZnVuY3Rpb24obil7dSghMCx0aGlzLm9wdGlvbnMsbil9LGNoaWxkcmVuOmZ1bmN0aW9uKCl7cmV0dXJuW119LHNob3VsZEhpZGU6bi5ub29wLHNldHVwOm4ubm9vcCxwcmVwYXJlOm4ubm9vcCx0ZWFyZG93bjpuLm5vb3AsZGlyZWN0aW9uczpbXSxzZXRSZXZlcnNlOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9yZXZlcnNlPW4sdGhpc319KTtwPVsibGVmdCIsInJpZ2h0IiwidXAiLCJkb3duIl07ZHQ9WyJpbiIsIm91dCJdO2UoInNsaWRlSW4iLHtkaXJlY3Rpb25zOnAsZGl2aXNvcjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5vcHRpb25zLmRpdmlzb3I9bix0aGlzfSxwcmVwYXJlOmZ1bmN0aW9uKG4sdCl7dmFyIGUsdT10aGlzLG89dS5lbGVtZW50LGw9aS5fb3V0ZXJXaWR0aCxhPWkuX291dGVySGVpZ2h0LHI9Y1t1Ll9kaXJlY3Rpb25dLHY9LXIubW9kaWZpZXIqKHIudmVydGljYWw/YShvKTpsKG8pKSxzPXYvKHUub3B0aW9ucyYmdS5vcHRpb25zLmRpdmlzb3J8fDEpK2IsaD0iMHB4Ijt1Ll9yZXZlcnNlJiYoZT1uLG49dCx0PWUpO2Y/KG5bci50cmFuc2l0aW9uXT1zLHRbci50cmFuc2l0aW9uXT1oKToobltyLnByb3BlcnR5XT1zLHRbci5wcm9wZXJ0eV09aCl9fSk7ZSgidGlsZSIse2RpcmVjdGlvbnM6cCxpbml0OmZ1bmN0aW9uKG4sdCxpKXtoLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyxuLHQpO3RoaXMub3B0aW9ucz17cHJldmlvdXM6aX19LHByZXZpb3VzRGl2aXNvcjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5vcHRpb25zLnByZXZpb3VzRGl2aXNvcj1uLHRoaXN9LGNoaWxkcmVuOmZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0PW4uX3JldmVyc2Uscj1uLm9wdGlvbnMucHJldmlvdXMsZT1uLm9wdGlvbnMucHJldmlvdXNEaXZpc29yfHwxLHU9bi5fZGlyZWN0aW9uLGY9W2kuZngobi5lbGVtZW50KS5zbGlkZUluKHUpLnNldFJldmVyc2UodCldO3JldHVybiByJiZmLnB1c2goaS5meChyKS5zbGlkZUluKGNbdV0ucmV2ZXJzZSkuZGl2aXNvcihlKS5zZXRSZXZlcnNlKCF0KSksZn19KTt3dCgiZmFkZSIsIm9wYWNpdHkiLDEsMCk7d3QoInpvb20iLCJzY2FsZSIsMSwuMDEpO2UoInNsaWRlTWFyZ2luIix7cHJlcGFyZTpmdW5jdGlvbihuLHQpe3ZhciByLHU9dGhpcyxpPXUuZWxlbWVudCxmPXUub3B0aW9ucyxvPWkuZGF0YShhdCkscz1mLm9mZnNldCxlPXUuX3JldmVyc2U7ZXx8bnVsbCE9PW98fGkuZGF0YShhdCxwYXJzZUZsb2F0KGkuY3NzKCJtYXJnaW4tIitmLmF4aXMpKSk7cj1pLmRhdGEoYXQpfHwwO3RbIm1hcmdpbi0iK2YuYXhpc109ZT9yOnIrc319KTtlKCJzbGlkZVRvIix7cHJlcGFyZTpmdW5jdGlvbihuLHQpe3ZhciB1PXRoaXMsZT11LmVsZW1lbnQsbz11Lm9wdGlvbnMsaT1vLm9mZnNldC5zcGxpdCgiLCIpLHI9dS5fcmV2ZXJzZTtmPyh0LnRyYW5zbGF0ZXg9cj8wOmlbMF0sdC50cmFuc2xhdGV5PXI/MDppWzFdKToodC5sZWZ0PXI/MDppWzBdLHQudG9wPXI/MDppWzFdKTtlLmNzcygibGVmdCIpfX0pO2UoImV4cGFuZCIse2RpcmVjdGlvbnM6WyJob3Jpem9udGFsIiwidmVydGljYWwiXSxyZXN0b3JlOlt0dF0scHJlcGFyZTpmdW5jdGlvbihuLGkpe3ZhciBmPXRoaXMsZT1mLmVsZW1lbnQsbz1mLm9wdGlvbnMscz1mLl9yZXZlcnNlLHI9InZlcnRpY2FsIj09PWYuX2RpcmVjdGlvbj9udDpsdCxoPWVbMF0uc3R5bGVbcl0sYz1lLmRhdGEociksdT1wYXJzZUZsb2F0KGN8fGgpLGw9bnIoZS5jc3MocixjdClbcl0oKSk7bi5vdmVyZmxvdz1laTt1PW8mJm8ucmVzZXQ/bHx8dTp1fHxsO2lbcl09KHM/MDp1KStiO25bcl09KHM/dTowKStiO2M9PT10JiZlLmRhdGEocixoKX0sc2hvdWxkSGlkZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXZlcnNlfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT10LmVsZW1lbnQsbj0idmVydGljYWwiPT09dC5fZGlyZWN0aW9uP250Omx0LHI9aS5kYXRhKG4pO3IhPWN0JiZyIT09dHJ8fHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLmNzcyhuLGN0KS5jc3Mobil9LDApfX0pO2d0PXtwb3NpdGlvbjoiYWJzb2x1dGUiLG1hcmdpbkxlZnQ6MCxtYXJnaW5Ub3A6MCxzY2FsZToxfTtlKCJ0cmFuc2ZlciIse2luaXQ6ZnVuY3Rpb24obix0KXt0aGlzLmVsZW1lbnQ9bjt0aGlzLm9wdGlvbnM9e3RhcmdldDp0fTt0aGlzLnJlc3RvcmU9W119LHNldHVwOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpfSxwcmVwYXJlOmZ1bmN0aW9uKG4sdCl7dmFyIGU9dGhpcyxpPWUuZWxlbWVudCxmPXIuYm94KGkpLG89ci5ib3goZS5vcHRpb25zLnRhcmdldCksbD1wdChpLCJzY2FsZSIpLGg9ci5maWxsU2NhbGUobyxmKSxjPXIudHJhbnNmb3JtT3JpZ2luKG8sZik7dShuLGd0KTt0LnNjYWxlPTE7aS5jc3Mocywic2NhbGUoMSkiKS5jc3Mocyk7aS5jc3Mocywic2NhbGUoIitsKyIpIik7bi50b3A9Zi50b3A7bi5sZWZ0PWYubGVmdDtuLnRyYW5zZm9ybU9yaWdpbj1jLngrYisiICIrYy55K2I7ZS5fcmV2ZXJzZT9uLnNjYWxlPWg6dC5zY2FsZT1ofX0pO25pPXt0b3A6InJlY3QoYXV0byBhdXRvICRzaXplIGF1dG8pIixib3R0b206InJlY3QoJHNpemUgYXV0byBhdXRvIGF1dG8pIixsZWZ0OiJyZWN0KGF1dG8gJHNpemUgYXV0byBhdXRvKSIscmlnaHQ6InJlY3QoYXV0byBhdXRvIGF1dG8gJHNpemUpIn07dGk9e3RvcDp7c3RhcnQ6InJvdGF0ZXgoMGRlZykiLGVuZDoicm90YXRleCgxODBkZWcpIn0sYm90dG9tOntzdGFydDoicm90YXRleCgtMTgwZGVnKSIsZW5kOiJyb3RhdGV4KDBkZWcpIn0sbGVmdDp7c3RhcnQ6InJvdGF0ZXkoMGRlZykiLGVuZDoicm90YXRleSgtMTgwZGVnKSJ9LHJpZ2h0OntzdGFydDoicm90YXRleSgxODBkZWcpIixlbmQ6InJvdGF0ZXkoMGRlZykifX07ZSgidHVybmluZ1BhZ2UiLHtkaXJlY3Rpb25zOnAsaW5pdDpmdW5jdGlvbihuLHQsaSl7aC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsbix0KTt0aGlzLl9jb250YWluZXI9aX0scHJlcGFyZTpmdW5jdGlvbihuLHQpe3ZhciByPXRoaXMsZj1yLl9yZXZlcnNlLGU9Zj9jW3IuX2RpcmVjdGlvbl0ucmV2ZXJzZTpyLl9kaXJlY3Rpb24sdT10aVtlXTtuLnpJbmRleD0xO3IuX2NsaXBJbkhhbGYmJihuLmNsaXA9YnQoci5fY29udGFpbmVyLGkuZGlyZWN0aW9uc1tlXS5yZXZlcnNlKSk7bltycl09ZWk7dFtzXT1jaSsoZj91LnN0YXJ0OnUuZW5kKTtuW3NdPWNpKyhmP3UuZW5kOnUuc3RhcnQpfSxzZXR1cDpmdW5jdGlvbigpe3RoaXMuX2NvbnRhaW5lci5hcHBlbmQodGhpcy5lbGVtZW50KX0sZmFjZTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fZmFjZT1uLHRoaXN9LHNob3VsZEhpZGU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ9bi5fcmV2ZXJzZSxpPW4uX2ZhY2U7cmV0dXJuIHQmJiFpfHwhdCYmaX0sY2xpcEluSGFsZjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fY2xpcEluSGFsZj1uLHRoaXN9LHRlbXBvcmFyeTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoInRlbXAtcGFnZSIpLHRoaXN9fSk7ZSgic3RhdGljUGFnZSIse2RpcmVjdGlvbnM6cCxpbml0OmZ1bmN0aW9uKG4sdCxpKXtoLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyxuLHQpO3RoaXMuX2NvbnRhaW5lcj1pfSxyZXN0b3JlOlsiY2xpcCJdLHByZXBhcmU6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLHI9aS5fcmV2ZXJzZT9jW2kuX2RpcmVjdGlvbl0ucmV2ZXJzZTppLl9kaXJlY3Rpb247bi5jbGlwPWJ0KGkuX2NvbnRhaW5lcixyKTtuLm9wYWNpdHk9Ljk5OTt0Lm9wYWNpdHk9MX0sc2hvdWxkSGlkZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMsdD1uLl9yZXZlcnNlLGk9bi5fZmFjZTtyZXR1cm4gdCYmIWl8fCF0JiZpfSxmYWNlOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9mYWNlPW4sdGhpc319KTtlKCJwYWdldHVybiIse2RpcmVjdGlvbnM6WyJob3Jpem9udGFsIiwidmVydGljYWwiXSxpbml0OmZ1bmN0aW9uKG4sdCxpLHIpe2gucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLG4sdCk7dGhpcy5vcHRpb25zPXt9O3RoaXMub3B0aW9ucy5mYWNlPWk7dGhpcy5vcHRpb25zLmJhY2s9cn0sY2hpbGRyZW46ZnVuY3Rpb24oKXt2YXIgbyxyPXRoaXMsdT1yLm9wdGlvbnMsbj0iaG9yaXpvbnRhbCI9PT1yLl9kaXJlY3Rpb24/ImxlZnQiOiJ0b3AiLGY9aS5kaXJlY3Rpb25zW25dLnJldmVyc2UsdD1yLl9yZXZlcnNlLHM9dS5mYWNlLmNsb25lKCEwKS5yZW1vdmVBdHRyKCJpZCIpLGg9dS5iYWNrLmNsb25lKCEwKS5yZW1vdmVBdHRyKCJpZCIpLGU9ci5lbGVtZW50O3JldHVybiB0JiYobz1uLG49ZixmPW8pLFtpLmZ4KHUuZmFjZSkuc3RhdGljUGFnZShuLGUpLmZhY2UoITApLnNldFJldmVyc2UodCksaS5meCh1LmJhY2spLnN0YXRpY1BhZ2UoZixlKS5zZXRSZXZlcnNlKHQpLGkuZngocykudHVybmluZ1BhZ2UobixlKS5mYWNlKCEwKS5jbGlwSW5IYWxmKCEwKS50ZW1wb3JhcnkoKS5zZXRSZXZlcnNlKHQpLGkuZngoaCkudHVybmluZ1BhZ2UoZixlKS5jbGlwSW5IYWxmKCEwKS50ZW1wb3JhcnkoKS5zZXRSZXZlcnNlKHQpXX0scHJlcGFyZTpmdW5jdGlvbihuLHQpe25baGldPXZ0O24udHJhbnNmb3JtU3R5bGU9InByZXNlcnZlLTNkIjtuLm9wYWNpdHk9Ljk5OTt0Lm9wYWNpdHk9MX0sdGVhcmRvd246ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuZmluZCgiLnRlbXAtcGFnZSIpLnJlbW92ZSgpfX0pO2UoImZsaXAiLHtkaXJlY3Rpb25zOlsiaG9yaXpvbnRhbCIsInZlcnRpY2FsIl0saW5pdDpmdW5jdGlvbihuLHQsaSxyKXtoLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyxuLHQpO3RoaXMub3B0aW9ucz17fTt0aGlzLm9wdGlvbnMuZmFjZT1pO3RoaXMub3B0aW9ucy5iYWNrPXJ9LGNoaWxkcmVuOmZ1bmN0aW9uKCl7dmFyIGYsbj10aGlzLGU9bi5vcHRpb25zLHQ9Imhvcml6b250YWwiPT09bi5fZGlyZWN0aW9uPyJsZWZ0IjoidG9wIixyPWkuZGlyZWN0aW9uc1t0XS5yZXZlcnNlLHU9bi5fcmV2ZXJzZSxvPW4uZWxlbWVudDtyZXR1cm4gdSYmKGY9dCx0PXIscj1mKSxbaS5meChlLmZhY2UpLnR1cm5pbmdQYWdlKHQsbykuZmFjZSghMCkuc2V0UmV2ZXJzZSh1KSxpLmZ4KGUuYmFjaykudHVybmluZ1BhZ2UocixvKS5zZXRSZXZlcnNlKHUpXX0scHJlcGFyZTpmdW5jdGlvbihuKXtuW2hpXT12dDtuLnRyYW5zZm9ybVN0eWxlPSJwcmVzZXJ2ZS0zZCJ9fSk7b3Q9IXcubW9iaWxlT1MuYW5kcm9pZDtpaT0iLmttLXRvdWNoLXNjcm9sbGJhciwgLmttLWFjdGlvbnNoZWV0LXdyYXBwZXIiO2UoInJlcGxhY2UiLHtfYmVmb3JlOm4ubm9vcCxfYWZ0ZXI6bi5ub29wLGluaXQ6ZnVuY3Rpb24odCxpLHIpe2gucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLHQpO3RoaXMuX3ByZXZpb3VzPW4oaSk7dGhpcy5fdHJhbnNpdGlvbkNsYXNzPXJ9LGR1cmF0aW9uOmZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoIlRoZSByZXBsYWNlIGVmZmVjdCBkb2VzIG5vdCBzdXBwb3J0IGR1cmF0aW9uIHNldHRpbmc7IHRoZSBlZmZlY3QgZHVyYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgdGhyb3VnaCB0aGUgdHJhbnNpdGlvbiBjbGFzcyBydWxlIik7fSxiZWZvcmVUcmFuc2l0aW9uOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9iZWZvcmU9bix0aGlzfSxhZnRlclRyYW5zaXRpb246ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2FmdGVyPW4sdGhpc30sX2JvdGg6ZnVuY3Rpb24oKXtyZXR1cm4gbigpLmFkZCh0aGlzLl9lbGVtZW50KS5hZGQodGhpcy5fcHJldmlvdXMpfSxfY29udGFpbmVyQ2xhc3M6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kaXJlY3Rpb24sbj0iay1meCBrLWZ4LXN0YXJ0IGstZngtIit0aGlzLl90cmFuc2l0aW9uQ2xhc3M7cmV0dXJuIHQmJihuKz0iIGstZngtIit0KSx0aGlzLl9yZXZlcnNlJiYobis9IiBrLWZ4LXJldmVyc2UiKSxufSxjb21wbGV0ZTpmdW5jdGlvbih0KXtpZighKCF0aGlzLmRlZmVycmVkfHx0JiZuKHQudGFyZ2V0KS5pcyhpaSkpKXt2YXIgaT10aGlzLmNvbnRhaW5lcjtpLnJlbW92ZUNsYXNzKCJrLWZ4LWVuZCIpLnJlbW92ZUNsYXNzKHRoaXMuX2NvbnRhaW5lckNsYXNzKCkpLm9mZihvLmV2ZW50LHRoaXMuY29tcGxldGVQcm94eSk7dGhpcy5fcHJldmlvdXMuaGlkZSgpLnJlbW92ZUNsYXNzKCJrLWZ4LWN1cnJlbnQiKTt0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoImstZngtbmV4dCIpO290JiZpLmNzcyh0dCwiIik7dGhpcy5pc0Fic29sdXRlfHx0aGlzLl9ib3RoKCkuY3NzKGl0LCIiKTt0aGlzLmRlZmVycmVkLnJlc29sdmUoKTtkZWxldGUgdGhpcy5kZWZlcnJlZH19LHJ1bjpmdW5jdGlvbigpe2lmKHRoaXMuX2FkZGl0aW9uYWxFZmZlY3RzJiZ0aGlzLl9hZGRpdGlvbmFsRWZmZWN0c1swXSlyZXR1cm4gdGhpcy5jb21wb3NpdGVSdW4oKTt2YXIgcyx1PXRoaXMscj11LmVsZW1lbnQsZj11Ll9wcmV2aW91cyx0PXIucGFyZW50cygpLmZpbHRlcihmLnBhcmVudHMoKSkuZmlyc3QoKSxoPXUuX2JvdGgoKSxlPW4uRGVmZXJyZWQoKSxjPXIuY3NzKGl0KTtyZXR1cm4gdC5sZW5ndGh8fCh0PXIucGFyZW50KCkpLHRoaXMuY29udGFpbmVyPXQsdGhpcy5kZWZlcnJlZD1lLHRoaXMuaXNBYnNvbHV0ZT0iYWJzb2x1dGUiPT1jLHRoaXMuaXNBYnNvbHV0ZXx8aC5jc3MoaXQsImFic29sdXRlIiksb3QmJihzPXQuY3NzKHR0KSx0LmNzcyh0dCwiaGlkZGVuIikpLG8/KHIuYWRkQ2xhc3MoImstZngtaGlkZGVuIiksdC5hZGRDbGFzcyh0aGlzLl9jb250YWluZXJDbGFzcygpKSx0aGlzLmNvbXBsZXRlUHJveHk9bi5wcm94eSh0aGlzLCJjb21wbGV0ZSIpLHQub24oby5ldmVudCx0aGlzLmNvbXBsZXRlUHJveHkpLGkuYW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtyLnJlbW92ZUNsYXNzKCJrLWZ4LWhpZGRlbiIpLmFkZENsYXNzKCJrLWZ4LW5leHQiKTtmLmNzcygiZGlzcGxheSIsIiIpLmFkZENsYXNzKCJrLWZ4LWN1cnJlbnQiKTt1Ll9iZWZvcmUoZixyKTtpLmFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7dC5yZW1vdmVDbGFzcygiay1meC1zdGFydCIpLmFkZENsYXNzKCJrLWZ4LWVuZCIpO3UuX2FmdGVyKGYscil9KX0pKTp0aGlzLmNvbXBsZXRlKCksZS5wcm9taXNlKCl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmNvbXBsZXRlKCl9fSk7az1pLkNsYXNzLmV4dGVuZCh7aW5pdDpmdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5fdGlja1Byb3h5PWFpKG4uX3RpY2ssbik7bi5fc3RhcnRlZD0hMX0sdGljazpuLm5vb3AsZG9uZTpuLm5vb3Asb25FbmQ6bi5ub29wLG9uQ2FuY2VsOm4ubm9vcCxzdGFydDpmdW5jdGlvbigpe3RoaXMuZW5hYmxlZCgpJiYodGhpcy5kb25lKCk/dGhpcy5vbkVuZCgpOih0aGlzLl9zdGFydGVkPSEwLGkuYW5pbWF0aW9uRnJhbWUodGhpcy5fdGlja1Byb3h5KSkpfSxlbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuITB9LGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuX3N0YXJ0ZWQ9ITE7dGhpcy5vbkNhbmNlbCgpfSxfdGljazpmdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5fc3RhcnRlZCYmKG4udGljaygpLG4uZG9uZSgpPyhuLl9zdGFydGVkPSExLG4ub25FbmQoKSk6aS5hbmltYXRpb25GcmFtZShuLl90aWNrUHJveHkpKX19KTtzdD1rLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihuKXt2YXIgdD10aGlzO3UodCxuKTtrLmZuLmluaXQuY2FsbCh0KX0sZG9uZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbWVQYXNzZWQoKT49dGhpcy5kdXJhdGlvbn0sdGltZVBhc3NlZDpmdW5jdGlvbigpe3JldHVybiBNYXRoLm1pbih0aGlzLmR1cmF0aW9uLG5ldyBEYXRlLXRoaXMuc3RhcnREYXRlKX0sbW92ZVRvOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsaT10Lm1vdmFibGU7dC5pbml0aWFsPWlbdC5heGlzXTt0LmRlbHRhPW4ubG9jYXRpb24tdC5pbml0aWFsO3QuZHVyYXRpb249Im51bWJlciI9PXR5cGVvZiBuLmR1cmF0aW9uP24uZHVyYXRpb246MzAwO3QudGljaz10Ll9lYXNlUHJveHkobi5lYXNlKTt0LnN0YXJ0RGF0ZT1uZXcgRGF0ZTt0LnN0YXJ0KCl9LF9lYXNlUHJveHk6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcztyZXR1cm4gZnVuY3Rpb24oKXt0Lm1vdmFibGUubW92ZUF4aXModC5heGlzLG4odC50aW1lUGFzc2VkKCksdC5pbml0aWFsLHQuZGVsdGEsdC5kdXJhdGlvbikpfX19KTt1KHN0LHtlYXNlT3V0RXhwbzpmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4gbj09cj90K2k6aSooLU1hdGgucG93KDIsLTEwKm4vcikrMSkrdH0sZWFzZU91dEJhY2s6ZnVuY3Rpb24obix0LGkscix1KXtyZXR1cm4gdT0xLjcwMTU4LGkqKChuPW4vci0xKSpuKigodSsxKSpuK3UpKzEpK3R9fSk7ci5BbmltYXRpb249aztyLlRyYW5zaXRpb249c3Q7ci5jcmVhdGVFZmZlY3Q9ZTtyLmJveD1mdW5jdGlvbih0KXt0PW4odCk7dmFyIHI9dC5vZmZzZXQoKTtyZXR1cm4gci53aWR0aD1pLl9vdXRlcldpZHRoKHQpLHIuaGVpZ2h0PWkuX291dGVySGVpZ2h0KHQpLHJ9O3IudHJhbnNmb3JtT3JpZ2luPWZ1bmN0aW9uKG4sdCl7dmFyIGk9KG4ubGVmdC10LmxlZnQpKnQud2lkdGgvKHQud2lkdGgtbi53aWR0aCkscj0obi50b3AtdC50b3ApKnQuaGVpZ2h0Lyh0LmhlaWdodC1uLmhlaWdodCk7cmV0dXJue3g6aXNOYU4oaSk/MDppLHk6aXNOYU4ocik/MDpyfX07ci5maWxsU2NhbGU9ZnVuY3Rpb24obix0KXtyZXR1cm4gTWF0aC5taW4obi53aWR0aC90LndpZHRoLG4uaGVpZ2h0L3QuaGVpZ2h0KX07ci5maXRTY2FsZT1mdW5jdGlvbihuLHQpe3JldHVybiBNYXRoLm1heChuLndpZHRoL3Qud2lkdGgsbi5oZWlnaHQvdC5oZWlnaHQpfX0od2luZG93LmtlbmRvLmpRdWVyeSksd2luZG93LmtlbmRvfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZTpmdW5jdGlvbihuLHQsaSl7KGl8fHQpKCl9KTshZnVuY3Rpb24obil7bihkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXt2YXIgaSxyLHQ9bigiLmluc3RhbnRTZWFyY2hSZXNvdXJjZUVsZW1lbnQiKTswIT09dC5sZW5ndGgmJigoMDxuKCIjaW5zdGFudC1zZWFyY2gtY2F0ZWdvcmllcyIpLmxlbmd0aHx8MDxuKCIjaW5zdGFudC1zZWFyY2gtbWFudWZhY3R1cmVycyIpLmxlbmd0aHx8MDxuKCIjaW5zdGFudC1zZWFyY2gtdmVuZG9ycyIpLmxlbmd0aCkmJihuKCIuc2VhcmNoLWJveC10ZXh0IikuYWRkQ2xhc3MoIm5hcnJvdyIpLG4oIi5zdG9yZS1zZWFyY2gtYm94IikuYWRkQ2xhc3MoIndpdGgtY2FyZWdvcnktc2VhcmNoLWVuYWJsZWQiKSksaT1wYXJzZUludCh0LmF0dHIoImRhdGEtbnVtYmVyT2ZWaXNpYmxlUHJvZHVjdHMiKSkscj1uKCIuaW5zdGFudFNlYXJjaFJlc291cmNlRWxlbWVudCIpLmF0dHIoImRhdGEtbm9SZXN1bHRzUmVzb3VyY2VUZXh0IiksbigiI3NtYWxsLXNlYXJjaHRlcm1zIikua2VuZG9BdXRvQ29tcGxldGUoe2hpZ2hsaWdodEZpcnN0OiJ0cnVlIj09PXQuYXR0cigiZGF0YS1oaWdobGlnaHRGaXJzdEZvdW5kRWxlbWVudCIpLG1pbkxlbmd0aDpwYXJzZUludCh0LmF0dHIoImRhdGEtbWluS2V5d29yZExlbmd0aCIpKXx8MCxlbmZvcmNlTWluTGVuZ3RoOiEwLGRhdGFUZXh0RmllbGQ6IlByb2R1Y3ROYW1lIixmaWx0ZXI6ImNvbnRhaW5zIixub0RhdGFUZW1wbGF0ZTpyLHBvcHVwOnthcHBlbmRUbzpuKCIjc21hbGwtc2VhcmNoLWJveC1mb3JtIil9LHRlbXBsYXRlOmtlbmRvLnRlbXBsYXRlKG4oIiNpbnN0YW50U2VhcmNoSXRlbVRlbXBsYXRlIikuaHRtbCgpKSxoZWlnaHQ6ImF1dG8iLGRhdGFTb3VyY2U6bmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7c2VydmVyRmlsdGVyaW5nOiEwLHNjaGVtYTp7ZGF0YToiUHJvZHVjdHMifSxyZXF1ZXN0U3RhcnQ6ZnVuY3Rpb24oKXtuKCIjc21hbGwtc2VhcmNodGVybXMiKS5hZGRDbGFzcygiaW5zdGFudC1zZWFyY2gtYnVzeSIpfSxjaGFuZ2U6ZnVuY3Rpb24oKXtuKCIjc21hbGwtc2VhcmNodGVybXMiKS5yZW1vdmVDbGFzcygiaW5zdGFudC1zZWFyY2gtYnVzeSIpfSx0cmFuc3BvcnQ6e3JlYWQ6e3VybDp0LmF0dHIoImRhdGEtaW5zdGFudFNlYXJjaFVybCIpLGNvbXBsZXRlOmZ1bmN0aW9uKHQpe3Quc3VjY2VzcyhmdW5jdGlvbih0KXt2YXIgaT1uKCIjaW5zdGFudFNlYXJjaFNob3dBbGwiKTswPGkubGVuZ3RoJiZpLnJlbW92ZSgpO24oIiNzbWFsbC1zZWFyY2h0ZXJtcy1saXN0IikuYXBwZW5kKHQuU2hvd0FsbEJ1dHRvbkh0bWwpO24oIiNpbnN0YW50U2VhcmNoU2hvd0FsbCIpLm9uKCJjbGljayIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpO24oIi5zZWFyY2gtYm94LWJ1dHRvbiIpLmNsaWNrKCl9KX0pfX0scGFyYW1ldGVyTWFwOmZ1bmN0aW9uKCl7cmV0dXJue3E6bigiI3NtYWxsLXNlYXJjaHRlcm1zIikudmFsKCksY2F0ZWdvcnlJZDpuKCIjaW5zdGFudC1zZWFyY2gtY2F0ZWdvcmllcyIpLnZhbCgpLG1hbnVmYWN0dXJlcklkOm4oIiNpbnN0YW50LXNlYXJjaC1tYW51ZmFjdHVyZXJzIikudmFsKCksdmVuZG9ySWQ6bigiI2luc3RhbnQtc2VhcmNoLXZlbmRvcnMiKS52YWwoKX19fX0pLGNoYW5nZTpmdW5jdGlvbigpe3ZhciB0PW4oIi5rLWxpc3QiKS5maW5kKCIuay1zdGF0ZS1zZWxlY3RlZCIpLmZpbmQoIi5pbnN0YW50LXNlYXJjaC1pdGVtIikuYXR0cigiZGF0YS11cmwiKTt2b2lkIDA9PT10fHxzZXRMb2NhdGlvbih0KX0sZGF0YUJvdW5kOmZ1bmN0aW9uKCl7bigiI3NtYWxsLXNlYXJjaHRlcm1zIikuZGF0YSgia2VuZG9BdXRvQ29tcGxldGUiKS5saXN0LnBhcmVudCgiLmstYW5pbWF0aW9uLWNvbnRhaW5lciIpLmFkZENsYXNzKCJpbnN0YW50U2VhcmNoIik7KDA8bigiI2luc3RhbnQtc2VhcmNoLWNhdGVnb3JpZXMiKS5sZW5ndGh8fDA8bigiI2luc3RhbnQtc2VhcmNoLW1hbnVmYWN0dXJlcnMiKS5sZW5ndGh8fDA8bigiI2luc3RhbnQtc2VhcmNoLXZlbmRvcnMiKS5sZW5ndGgpJiZuKCIuay1hbmltYXRpb24tY29udGFpbmVyIikuYWRkQ2xhc3MoInJlc2l6ZSIpLGZ1bmN0aW9uKCl7dmFyIHI9bigiI3NtYWxsLXNlYXJjaHRlcm1zX2xpc3Rib3giKS5jaGlsZHJlbigpLnNsaWNlKDAsaSksdT0wLHQ7aWYoci5sZW5ndGg9PT1pKWZvcih0PTA7dDxyLmxlbmd0aDt0KyspdSs9bihyW3RdKS5vdXRlckhlaWdodCgpOzA8dSYmbigiI3NtYWxsLXNlYXJjaHRlcm1zLWxpc3QiKS5jc3MoImhlaWdodCIsdSl9KCl9fSksImZhbHNlIj09PXQuYXR0cigiZGF0YS1oaWdobGlnaHRGaXJzdEZvdW5kRWxlbWVudCIpJiZuKCIjc21hbGwtc2VhcmNoLWJveC1mb3JtIikub24oImtleWRvd24iLGZ1bmN0aW9uKHQpezEzPT09dC5rZXlDb2RlJiZuKHRoaXMpLnN1Ym1pdCgpfSksbigiI3NtYWxsLXNlYXJjaC1ib3gtZm9ybSIpLnN1Ym1pdChmdW5jdGlvbihpKXt2YXIgdSxmLGUsbyxzPW4oIiNpbnN0YW50LXNlYXJjaC1jYXRlZ29yaWVzIikudmFsKCl8fDAsaD1uKCIjaW5zdGFudC1zZWFyY2gtbWFudWZhY3R1cmVycyIpLnZhbCgpfHwwLGM9bigiI2luc3RhbnQtc2VhcmNoLXZlbmRvcnMiKS52YWwoKXx8MCxyPW4oIiNzbWFsbC1zZWFyY2h0ZXJtcyIpLnZhbCgpO3ImJih1PXQuYXR0cigiZGF0YS1zZWFyY2hJblByb2R1Y3REZXNjcmlwdGlvbnMiKSxmPTA8c3x8MDxofHwwPGN8fHUsZT10LmF0dHIoImRhdGEtc2VhcmNoUGFnZVVybCIpLG89ZW5jb2RlVVJJQ29tcG9uZW50KHIpLHI9dC5hdHRyKCJkYXRhLWRlZmF1bHRQcm9kdWN0U29ydE9wdGlvbiIpLHdpbmRvdy5sb2NhdGlvbi5ocmVmPWUrIj9hZHZzPSIrZisiJmNpZD0iK3MrIiZtaWQ9IitoKyImdmlkPSIrYysiJnE9IitvKyImc2lkPSIrdSsiJmlzYz10cnVlJm9yZGVyQnk9IityKTtpLnByZXZlbnREZWZhdWx0KCl9KSl9KX0oalF1ZXJ5KTshZnVuY3Rpb24obix0LGkpe2Z1bmN0aW9uIHUoKXtyZXR1cm57QW5kcm9pZDpmdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BbmRyb2lkL2kpfSxCbGFja0JlcnJ5OmZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0JsYWNrQmVycnkvaSl9LGlPUzpmdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGhvbmV8aVBhZHxpUG9kL2kpfSxPcGVyYTpmdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9PcGVyYSBNaW5pL2kpfSxXaW5kb3dzOmZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0lFTW9iaWxlL2kpfSxhbnk6ZnVuY3Rpb24oKXtyZXR1cm4hISh0aGlzLkFuZHJvaWQoKXx8dGhpcy5CbGFja0JlcnJ5KCl8fHRoaXMuaU9TKCl8fHRoaXMuT3BlcmEoKXx8dGhpcy5XaW5kb3dzKCkpfX0uYW55KCl9dmFyIHI9ITE7ImZ1bmN0aW9uIiE9dHlwZW9mIFN0cmluZy5wcm90b3R5cGUudHJpbSYmKFN0cmluZy5wcm90b3R5cGUudHJpbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKX0pOyJmdW5jdGlvbiIhPXR5cGVvZiBTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGgmJihTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGg9ZnVuY3Rpb24obil7cmV0dXJuIDA9PT10aGlzLmluZGV4T2Yobil9KTt0LmlzSW5WaWV3UG9ydD1mdW5jdGlvbih0KXt2YXIgaT1uKHQpLm9mZnNldCgpLnRvcCxmPWkrbih0KS5vdXRlckhlaWdodCgpLHI9bih3aW5kb3cpLnNjcm9sbFRvcCgpLHU9cituKHdpbmRvdykuaGVpZ2h0KCksdT1yPGYmJmk8dSsxMDA7cmV0dXJuIHUmJm4odCkuaXMoIjp2aXNpYmxlIil9O3QubG9hZEltYWdlc09uU2Nyb2xsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe24oImltZ1tkYXRhLWxhenlsb2Fkc3JjXSIpLm5vdCgiW2xvYWRlZGltYWdlXSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpOzA8aS5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcykuaGFzQ2xhc3MoImpDYXJvdXNlbE1haW5XcmFwcGVyIil9KS5sZW5ndGh8fHQuaXNJblZpZXdQb3J0KGkpJiYoaS5hdHRyKCJzcmMiLGkuYXR0cigiZGF0YS1sYXp5bG9hZHNyYyIpKSxpLmF0dHIoImxvYWRlZGltYWdlIiwidHJ1ZSIpKX0pfXZhciByPW4od2luZG93KTtuKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe2koKTtuKGRvY3VtZW50KS5vbigiU2V2ZW5TcGlrZXNTYWxlT2ZUaGVEYXlJbml0aWFsaXplZEV2ZW50IixpKTtyLm9uKCJzY3JvbGwubGF6eUxvYWRJbWFnZXMiLGkpfSk7bigiaW1nIikub24oImxvYWQiLGkpO24oZG9jdW1lbnQpLm9uKCJub3BBamF4RmlsdGVyc0ZpbHRyYXRpb25Db21wbGV0ZUV2ZW50IG5vcEFqYXhDYXJ0UHJvZHVjdEFkZGVkVG9DYXJ0RXZlbnQgbm9wUXVpY2tWaWV3RGF0YVNob3duRXZlbnQgbmV3UHJvZHVjdHNBZGRlZFRvUGFnZUV2ZW50IHNldmVuU3Bpa2VzVHJhY3Rpb25Ib21lUGFnZVF1aWNrVGFiT3BlbmVkIEFueXdoZXJlU2xpZGVyTG9hZGVkIixpKX07bi5mbi5leHRlbmQoe3NpbXBsZVNlbGVjdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3QucGFyZW50KCkuaGFzQ2xhc3MoInNlbGVjdC13cmFwIil8fCh0LndyYXAoJzxkaXYgY2xhc3M9InNlbGVjdC13cmFwIj48XC9kaXY+JykuYWZ0ZXIoJzxzcGFuIGNsYXNzPSJzZWxlY3QtYm94Ij48c3BhbiBjbGFzcz0ic2VsZWN0LWlubmVyIj4nK3QuZmluZCgiOnNlbGVjdGVkIikudGV4dCgpKyI8XC9zcGFuPjxcL3NwYW4+IiksdC5jaGFuZ2UoZnVuY3Rpb24oKXt0Lm5leHQoKS5jaGlsZHJlbigiLnNlbGVjdC1pbm5lciIpLnRleHQodC5maW5kKCI6c2VsZWN0ZWQiKS50ZXh0KCkpfSkpfSl9fSk7dC5pc1J0bD0idHJ1ZSI9PT1uKCIjaXNSdGxFbmFibGVkIikudmFsKCk7dC5pc01vYmlsZURldmljZT11KCk7dC5pc01vYmlsZT11O3QuQW50aVNwYW09ZnVuY3Rpb24obix0KXt3aW5kb3cubG9jYXRpb24uaHJlZj0ibWFpbHRvOiIrbisiQCIrdH07dC5nZXRBdHRyVmFsRnJvbURvbT1mdW5jdGlvbih0LGkscil7cmV0dXJuIGk9bih0KS5hdHRyKGkpLG51bGwhPWkmJiIiIT09aXx8KGk9bnVsbCE9cj9yOiIiKSxpfTt0LmdldEhpZGRlblZhbEZyb21Eb209ZnVuY3Rpb24odCxpKXtyZXR1cm4gdD1uKHQpLnZhbCgpLG51bGwhPXQmJiIiIT09dHx8KHQ9bnVsbCE9aT9pOiIiKSx0fTt0LmdldFVybFZhcj1mdW5jdGlvbihuKXtmb3IodmFyIHQsaT1bXSx1PXdpbmRvdy5sb2NhdGlvbi5ocmVmLnNsaWNlKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoIj8iKSsxKS5zcGxpdCgiJiIpLHI9MDtyPHUubGVuZ3RoO3IrKylpZih0PXVbcl0uc3BsaXQoIj0iKSxpLnB1c2godFswXSksaVt0WzBdXT10WzFdLG51bGwhPW4mJnRbMF09PT1uKXJldHVybiB0WzFdO3JldHVybiBudWxsIT1uP251bGw6aX07dC5nZXRWaWV3UG9ydD1mdW5jdGlvbigpe3ZhciBuPXdpbmRvdyx0PSJpbm5lciI7cmV0dXJuImlubmVyV2lkdGgiaW4gd2luZG93fHwodD0iY2xpZW50IixuPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudHx8ZG9jdW1lbnQuYm9keSkse3dpZHRoOm5bdCsiV2lkdGgiXSxoZWlnaHQ6blt0KyJIZWlnaHQiXX19O3QucHJlcGFyZVRvcE1lbnU9ZnVuY3Rpb24oKXt2YXIgaT0iLm1lZ2EtbWVudSBsaSwgLnRvcC1tZW51IGxpIjtyJiYobigiLm1lbnUtdGl0bGUiKS5vZmYoImNsaWNrLnNzQ29yZSIpLG4oIi5wbHVzLWJ1dHRvbiIpLm9mZigiY2xpY2suc3NDb3JlIiksbihpKS5vZmYoIm1vdXNlZW50ZXIuc3NDb3JlIG1vdXNlbGVhdmUuc3NDb3JlIiksbigiLnRvcC1tZW51IikucmVtb3ZlQXR0cigic3R5bGUiKSxuKCIuc3VibGlzdC13cmFwLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSxuKCIucGx1cy1idXR0b24uY2xvc2UiKS5yZW1vdmVDbGFzcygiY2xvc2UiKSxuKCIubWVudS10aXRsZS5jbG9zZSIpLnJlbW92ZUNsYXNzKCJjbG9zZSIpKTtyPSEwO3ZhciBmPXdpbmRvdy50aGVtZVNldHRpbmdzJiZ3aW5kb3cudGhlbWVTZXR0aW5ncy50aGVtZUJyZWFrcG9pbnR8fDk4MCx1PXdpbmRvdy50aGVtZVNldHRpbmdzJiZ3aW5kb3cudGhlbWVTZXR0aW5ncy5pc0FjY29yZGlvbk1lbnV8fCExLGU9dC5nZXRWaWV3UG9ydCgpLndpZHRoO24oIi5tZW51LXRpdGxlIikub24oImNsaWNrLnNzQ29yZSIsZnVuY3Rpb24oKXtuKHRoaXMpLnRvZ2dsZUNsYXNzKCJjbG9zZSIsIW4odGhpcykuaGFzQ2xhc3MoImNsb3NlIikpO24odGhpcykuc2libGluZ3MoIi50b3AtbWVudSwgLm1lZ2EtbWVudS1yZXNwb25zaXZlIikuc2xpZGVUb2dnbGUoImZhc3QiLGZ1bmN0aW9uKCl7bih0aGlzKS5jc3MoIm92ZXJmbG93IiwiIil9KTt1fHxuKCIuaGVhZGVyLW1lbnUsIC5zdWJsaXN0LXdyYXAiKS5wZXJmZWN0U2Nyb2xsYmFyKHtzd2lwZVByb3BhZ2F0aW9uOiExLHdoZWVsU3BlZWQ6MSxzdXBwcmVzc1Njcm9sbFg6ITB9KX0pO24oIi5wbHVzLWJ1dHRvbiIpLm9uKCJjbGljay5zc0NvcmUiLGZ1bmN0aW9uKHQpe3Quc3RvcFByb3BhZ2F0aW9uKCk7dD1uKHRoaXMpO3QudG9nZ2xlQ2xhc3MoImNsb3NlIiwhdC5oYXNDbGFzcygiY2xvc2UiKSk7dmFyIGk9dC5zaWJsaW5ncygiLnN1Ymxpc3Qtd3JhcCIpO2kuaGFzQ2xhc3MoImFjdGl2ZSIpP2kucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpOnU/aS5hZGRDbGFzcygiYWN0aXZlIik6dC5wYXJlbnRzKCkuZXEoMikuYW5pbWF0ZSh7c2Nyb2xsVG9wOjB9LDE4MCxmdW5jdGlvbigpe2kuYWRkQ2xhc3MoImFjdGl2ZSIpfSk7dXx8dC5wYXJlbnRzKCkuZXEoMikucGVyZmVjdFNjcm9sbGJhcigiZGVzdHJveSIpfSk7ZjxlPyhuKCIuc3VibGlzdC13cmFwLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSxuKCIucGx1cy1idXR0b24uY2xvc2UiKS5yZW1vdmVDbGFzcygiY2xvc2UiKSxuKGkpLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxpOyJ0cnVlIj09PW4odGhpcykucGFyZW50cygidWwiKS5sYXN0KCkuYXR0cigiZGF0YS1lbmFibGVDbGlja0ZvckRyb3BEb3duIil8fG4odGhpcykub24oIm1vdXNlZW50ZXIuc3NDb3JlIixmdW5jdGlvbigpe3ZhciByPW4odGhpcyk7Y2xlYXJUaW1lb3V0KGkpO3Q9c2V0VGltZW91dChmdW5jdGlvbigpe24oImEiLHIpLmZpcnN0KCkuYWRkQ2xhc3MoImhvdmVyIik7bigiLnN1Ymxpc3Qtd3JhcCwgLmRyb3Bkb3duIixyKS5maXJzdCgpLmFkZENsYXNzKCJhY3RpdmUiKTtuKGRvY3VtZW50KS50cmlnZ2VyKCJzZXZlblNwaWtlc01lZ2FNZW51TW91c2VPdmVyRXZlbnQiKX0sMTgwKX0pLm9uKCJtb3VzZWxlYXZlLnNzQ29yZSIsZnVuY3Rpb24oKXt2YXIgcj1uKHRoaXMpO2NsZWFyVGltZW91dCh0KTtpPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtuKCJhIixyKS5maXJzdCgpLnJlbW92ZUNsYXNzKCJob3ZlciIpO24oIi5zdWJsaXN0LXdyYXAsIC5kcm9wZG93biIscikuZmlyc3QoKS5yZW1vdmVDbGFzcygiYWN0aXZlIil9LDE4MCl9KX0pKToobihpKS5vZmYoIm1vdXNlZW50ZXIuc3NDb3JlIG1vdXNlbGVhdmUuc3NDb3JlIiksbigiLnN1Ymxpc3Qtd3JhcC5hY3RpdmUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksbigiLnBsdXMtYnV0dG9uLmNsb3NlIikucmVtb3ZlQ2xhc3MoImNsb3NlIikpfTt0LmNyZWF0ZVByb2R1Y3RCb3hJbWFnZUNhcm91c2VsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe2Zvcih2YXIgcix1PW4oIi5wcm9kdWN0LWJveC1pbWFnZS1jYXJvdXNlbCIpLm5vdCgiLmxvYWRlZC1jYXJvdXNlbCIpLGk9MDtpPHUubGVuZ3RoO2krKylyPW4odVtpXSksdC5pc0luVmlld1BvcnQocikmJihyLnNsaWNrKCksci5hZGRDbGFzcygibG9hZGVkLWNhcm91c2VsIikpfXZhciByPW4od2luZG93KTtuKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe2koKTtuKGRvY3VtZW50KS5vbigiU2V2ZW5TcGlrZXNTYWxlT2ZUaGVEYXlJbml0aWFsaXplZEV2ZW50IixpKTtyLm9uKCJzY3JvbGwubGF6eUxvYWRQcm9kdWN0Qm94SW1hZ2VDYXJvdXNlbCIsaSl9KTtuKGRvY3VtZW50KS5vbigibm9wQWpheEZpbHRlcnNGaWx0cmF0aW9uQ29tcGxldGVFdmVudCBub3BBamF4Q2FydFByb2R1Y3RBZGRlZFRvQ2FydEV2ZW50IG5vcFF1aWNrVmlld0RhdGFTaG93bkV2ZW50IG5ld1Byb2R1Y3RzQWRkZWRUb1BhZ2VFdmVudCBzZXZlblNwaWtlc1RyYWN0aW9uSG9tZVBhZ2VRdWlja1RhYk9wZW5lZCBBbnl3aGVyZVNsaWRlckxvYWRlZCIsaSk7d2luZG93LkNhdGFsb2dQcm9kdWN0cyYmbih3aW5kb3cuQ2F0YWxvZ1Byb2R1Y3RzKS5vbigibG9hZGVkIixpKX07dC5sb2FkSW1hZ2VzT25TY3JvbGwoKTt0LmNyZWF0ZVByb2R1Y3RCb3hJbWFnZUNhcm91c2VsKCk7bihkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtuKGkpLm9uKCJsb2FkZWQiLGZ1bmN0aW9uKCl7bi5ldmVudC50cmlnZ2VyKHt0eXBlOiJuZXdQcm9kdWN0c0FkZGVkVG9QYWdlRXZlbnQifSl9KX0pfShqUXVlcnksd2luZG93LnNldmVuU3Bpa2VzQ29yZT13aW5kb3cuc2V2ZW5TcGlrZXNDb3JlfHx7fSx3aW5kb3cuQ2F0YWxvZ1Byb2R1Y3RzPXdpbmRvdy5DYXRhbG9nUHJvZHVjdHN8fHt9KTsKLyohIGpRdWVyeSBKU09OIHBsdWdpbiAyLjQuMCB8IGNvZGUuZ29vZ2xlLmNvbS9wL2pxdWVyeS1qc29uICovCihmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7dmFyIHQ9L1siXFxceDAwLVx4MWZceDdmLVx4OWZdL2csaT17IlxiIjoiXFxiIiwiXHQiOiJcXHQiLCJcbiI6IlxcbiIsIlxmIjoiXFxmIiwiXHIiOiJcXHIiLCciJzonXFwiJywiXFwiOiJcXFxcIn0scj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O24udG9KU09OPXR5cGVvZiBKU09OPT0ib2JqZWN0IiYmSlNPTi5zdHJpbmdpZnk/SlNPTi5zdHJpbmdpZnk6ZnVuY3Rpb24odCl7dmFyIGUsdSxhLHYsaTtpZih0PT09bnVsbClyZXR1cm4ibnVsbCI7aWYoaT1uLnR5cGUodCksaT09PSJ1bmRlZmluZWQiKXJldHVybiB1bmRlZmluZWQ7aWYoaT09PSJudW1iZXIifHxpPT09ImJvb2xlYW4iKXJldHVybiBTdHJpbmcodCk7aWYoaT09PSJzdHJpbmciKXJldHVybiBuLnF1b3RlU3RyaW5nKHQpO2lmKHR5cGVvZiB0LnRvSlNPTj09ImZ1bmN0aW9uIilyZXR1cm4gbi50b0pTT04odC50b0pTT04oKSk7aWYoaT09PSJkYXRlIil7dmFyIG89dC5nZXRVVENNb250aCgpKzEscz10LmdldFVUQ0RhdGUoKSx5PXQuZ2V0VVRDRnVsbFllYXIoKSxoPXQuZ2V0VVRDSG91cnMoKSxjPXQuZ2V0VVRDTWludXRlcygpLGw9dC5nZXRVVENTZWNvbmRzKCksZj10LmdldFVUQ01pbGxpc2Vjb25kcygpO3JldHVybiBvPDEwJiYobz0iMCIrbyksczwxMCYmKHM9IjAiK3MpLGg8MTAmJihoPSIwIitoKSxjPDEwJiYoYz0iMCIrYyksbDwxMCYmKGw9IjAiK2wpLGY8MTAwJiYoZj0iMCIrZiksZjwxMCYmKGY9IjAiK2YpLCciJyt5KyItIitvKyItIitzKyJUIitoKyI6IitjKyI6IitsKyIuIitmKydaIid9aWYoZT1bXSxuLmlzQXJyYXkodCkpe2Zvcih1PTA7dTx0Lmxlbmd0aDt1KyspZS5wdXNoKG4udG9KU09OKHRbdV0pfHwibnVsbCIpO3JldHVybiJbIitlLmpvaW4oIiwiKSsiXSJ9aWYodHlwZW9mIHQ9PSJvYmplY3QiKXtmb3IodSBpbiB0KWlmKHIuY2FsbCh0LHUpKXtpZihpPXR5cGVvZiB1LGk9PT0ibnVtYmVyIilhPSciJyt1KyciJztlbHNlIGlmKGk9PT0ic3RyaW5nIilhPW4ucXVvdGVTdHJpbmcodSk7ZWxzZSBjb250aW51ZTtpPXR5cGVvZiB0W3VdO2khPT0iZnVuY3Rpb24iJiZpIT09InVuZGVmaW5lZCImJih2PW4udG9KU09OKHRbdV0pLGUucHVzaChhKyI6Iit2KSl9cmV0dXJuInsiK2Uuam9pbigiLCIpKyJ9In19O24uZXZhbEpTT049dHlwZW9mIEpTT049PSJvYmplY3QiJiZKU09OLnBhcnNlP0pTT04ucGFyc2U6ZnVuY3Rpb24obil7cmV0dXJuIGV2YWwoIigiK24rIikiKX07bi5zZWN1cmVFdmFsSlNPTj10eXBlb2YgSlNPTj09Im9iamVjdCImJkpTT04ucGFyc2U/SlNPTi5wYXJzZTpmdW5jdGlvbihuKXt2YXIgdD1uLnJlcGxhY2UoL1xcWyJcXFwvYmZucnR1XS9nLCJAIikucmVwbGFjZSgvIlteIlxcXG5ccl0qInx0cnVlfGZhbHNlfG51bGx8LT9cZCsoPzpcLlxkKik/KD86W2VFXVsrXC1dP1xkKyk/L2csIl0iKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpccypcWykrL2csIiIpO2lmKC9eW1xdLDp7fVxzXSokLy50ZXN0KHQpKXJldHVybiBldmFsKCIoIituKyIpIik7dGhyb3cgbmV3IFN5bnRheEVycm9yKCJFcnJvciBwYXJzaW5nIEpTT04sIHNvdXJjZSBpcyBub3QgdmFsaWQuIik7fTtuLnF1b3RlU3RyaW5nPWZ1bmN0aW9uKG4pe3JldHVybiBuLm1hdGNoKHQpPyciJytuLnJlcGxhY2UodCxmdW5jdGlvbihuKXt2YXIgdD1pW25dO3JldHVybiB0eXBlb2YgdD09InN0cmluZyI/dDoodD1uLmNoYXJDb2RlQXQoKSwiXFx1MDAiK01hdGguZmxvb3IodC8xNikudG9TdHJpbmcoMTYpKyh0JTE2KS50b1N0cmluZygxNikpfSkrJyInOiciJytuKyciJ319KShqUXVlcnkpOyFmdW5jdGlvbihuLHQsaSxyKXtmdW5jdGlvbiBjKCl7cmV0dXJuIGkuZ2V0QXR0clZhbEZyb21Eb20odSwiZGF0YS1wcm9kdWN0Qm94UHJvZHVjdEl0ZW1FbGVtZW50U2VsZWN0b3IiKX1mdW5jdGlvbiBsKG4pe3JldHVybiBpLmdldEF0dHJWYWxGcm9tRG9tKG4sInZhbHVlIil8fG4udGV4dCgpfWZ1bmN0aW9uIGYoKXtyZXR1cm4iYm9keSJ9ZnVuY3Rpb24gbnQoKXt2YXIgZT1pLmdldEF0dHJWYWxGcm9tRG9tKHUsImRhdGEtcHJvZHVjdFBhZ2VBZGRUb0NhcnRCdXR0b25TZWxlY3RvciIpLG89aS5nZXRBdHRyVmFsRnJvbURvbSh1LCJkYXRhLXByb2R1Y3RCb3hBZGRUb0NhcnRCdXR0b25TZWxlY3RvciIpLG49W10sZj1bXTtyZXR1cm4gdChlKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHUscjt0KHRoaXMpLmlzKCIubm9wQWpheENhcnRQcm9kdWN0VmFyaWFudEFkZFRvQ2FydEJ1dHRvbiIpfHwocj1pLmdldEF0dHJWYWxGcm9tRG9tKHRoaXMsImRhdGEtcHJvZHVjdGlkIiwwKSkmJjA8ciYmKHU9e3Byb2R1Y3RJZDpyLGlzUHJvZHVjdFBhZ2U6ITAsYnV0dG9uRWxlbWVudDp0KHRoaXMpfSxyPXtwcm9kdWN0SWQ6cixpc1Byb2R1Y3RQYWdlOiEwLGJ1dHRvblZhbHVlOmwodCh0aGlzKSl9LG4ucHVzaCh1KSxmLnB1c2gocikpfSksdChvKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHUsZTt0KHRoaXMpLmlzKCIubm9wQWpheENhcnRQcm9kdWN0TGlzdEFkZFRvQ2FydEJ1dHRvbiIpfHwodT10KHRoaXMpLCh1PShlPWMoKSk9PXJ8fCIiPT09ZT8wOmkuZ2V0QXR0clZhbEZyb21Eb20odCh1KS5wYXJlbnRzKGUpLCJkYXRhLXByb2R1Y3RpZCIsMCkpJiYwPHUmJih1PXtwcm9kdWN0SWQ6dSxpc1Byb2R1Y3RQYWdlOiEoZT17cHJvZHVjdElkOnUsaXNQcm9kdWN0UGFnZTohMSxidXR0b25FbGVtZW50OnQodGhpcyl9KSxidXR0b25WYWx1ZTpsKHQodGhpcykpfSxuLnB1c2goZSksZi5wdXNoKHUpKSl9KSx7YWRkVG9DYXJ0QnV0dG9uczpuLGJ1dHRvbnNQYXJhbWV0ZXJzOmZ9fWZ1bmN0aW9uIGEoKXtmKCk7dmFyIG49dCgiYm9keSIpOzA8bi5sZW5ndGgmJnQoIi5ub3BBamF4Q2FydFBhbmVsQWpheEJ1c3kiKS5oZWlnaHQobi5oZWlnaHQoKSkud2lkdGgobi53aWR0aCgpKS5zaG93KCl9ZnVuY3Rpb24gdHQobil7dmFyIGk7bj8wPHQoIi5taW5pUHJvZHVjdERldGFpbHNWaWV3IikubGVuZ3RoJiYoaT10KCIubWluaVByb2R1Y3REZXRhaWxzVmlldyIpLnBhcmVudCgpLmhlaWdodCgpLG49dCgiLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXciKS5wYXJlbnQoKS53aWR0aCgpLHQoIi5taW5pUHJvZHVjdERldGFpbHNWaWV3IC5taW5pUHJvZHVjdERldGFpbHNQYW5lbEFqYXhCdXN5IikuaGVpZ2h0KGktMTApLndpZHRoKG4tMTApLnNob3coKSk6YSgpfWZ1bmN0aW9uIGUoKXt0KCIubm9wQWpheENhcnRQYW5lbEFqYXhCdXN5IikuaGlkZSgpfWZ1bmN0aW9uIGl0KG4pe24/dCgiLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXcgLm1pbmlQcm9kdWN0RGV0YWlsc1BhbmVsQWpheEJ1c3kiKS5oaWRlKCk6ZSgpfWZ1bmN0aW9uIG8oKXt2YXIgbj1udCgpLHI9bi5idXR0b25zUGFyYW1ldGVyczswPHIubGVuZ3RoJiZ0LmFqYXgoe2NhY2hlOiExLHR5cGU6IlBPU1QiLGRhdGE6dC50b0pTT04ociksY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgiLHVybDppLmdldEF0dHJWYWxGcm9tRG9tKHUsImRhdGEtZ2V0QWpheENhcnRCdXR0b25VcmwiKX0pLmRvbmUoZnVuY3Rpb24ocil7dmFyIGYsZSx1LG87aWYoIiIhPT1yKXtmb3IoZj0wO2Y8bi5hZGRUb0NhcnRCdXR0b25zLmxlbmd0aDtmKyspZT1yLHU9bi5hZGRUb0NhcnRCdXR0b25zW2ZdLG89dm9pZCAwLDA8KG89dChlKS5maWx0ZXIoImRpdltkYXRhLXByb2R1Y3RJZD0nIit1LnByb2R1Y3RJZCsiJ10iKSkubGVuZ3RoJiYoZT1pLmdldEF0dHJWYWxGcm9tRG9tKG8sImRhdGEtaXNQcm9kdWN0UGFnZSIpKSYmZT09PXUuaXNQcm9kdWN0UGFnZS50b1N0cmluZygpJiYodCh1LmJ1dHRvbkVsZW1lbnQpLnBhcmVudHMoIi5wcm9kdWN0LWl0ZW0sIC5hZGQtdG8tY2FydCIpLmFkZENsYXNzKCJzZXZlbnNwaWtlcy1hamF4Y2FydCIpLHQodS5idXR0b25FbGVtZW50KS5yZXBsYWNlV2l0aChvWzBdKSk7dC5ldmVudC50cmlnZ2VyKHt0eXBlOiJub3BBamF4Q2FydEJ1dHRvbnNBZGRlZEV2ZW50In0pfX0pfWZ1bmN0aW9uIHYoKXt2YXIgbj0iLmJsb2NrLmJsb2NrLXNob3BwaW5nY2FydCI7MDx0KG4pLmxlbmd0aCYmdC5hamF4KHtjYWNoZTohMSx0eXBlOiJHRVQiLHVybDppLmdldEhpZGRlblZhbEZyb21Eb20oIiNtaW5pU2hvcHBpbmdDYXJ0VXJsIil9KS5kb25lKGZ1bmN0aW9uKGkpe2k9dChpKS5maWx0ZXIobik7dChuKS5yZXBsYWNlV2l0aChpKTt0LmV2ZW50LnRyaWdnZXIoe3R5cGU6Im5vcEFqYXhDYXJ0TWluaVNob3BwaW5nQ2FydFVwZGF0ZWQifSl9KX1mdW5jdGlvbiBydChuKXtuPSc8ZGl2IGNsYXNzPSJtaW5pUHJvZHVjdERldGFpbHNQYW5lbEFqYXhCdXN5Ij48XC9kaXY+PGRpdiBjbGFzcz0iY2xlYXIiPjxcL2Rpdj4nK247bj10KCIubWluaVByb2R1Y3REZXRhaWxzVmlldyIpLmRhdGEoImtlbmRvV2luZG93IikuY29udGVudChuKTtuLmNlbnRlcigpO24ub3BlbigpO3QoZG9jdW1lbnQpLm9uKCJhamF4Q2FydC5wcm9kdWN0X2F0dHJpYnV0ZXNfY2hhbmdlZCIsZnVuY3Rpb24obil7dmFyIHQ7bi5jaGFuZ2VkRGF0YSYmbi5jaGFuZ2VkRGF0YS5waWN0dXJlRGVmYXVsdFNpemVVcmwmJih0PW4uY2hhbmdlZERhdGEucGljdHVyZURlZmF1bHRTaXplVXJsLG4uZWxlbWVudC5maW5kKCIucHJvZHVjdC1vdmVydmlldy1saW5lIikuZmluZCgiLnBpY3R1cmUgaW1nIikuYXR0cigic3JjIix0KSl9KX1mdW5jdGlvbiB1dChuLHIsdSl7bj17cHJvZHVjdElkOm4saXNBZGRUb0NhcnRCdXR0b246dX07dT1pLmdldEhpZGRlblZhbEZyb21Eb20oIiNnZXRNaW5pUHJvZHVjdERldGFpbHNWaWV3VXJsIik7dC5hamF4KHtjYWNoZTohMSwiYXN5bmMiOiExLHR5cGU6IlBPU1QiLGRhdGE6bix1cmw6dX0pLmRvbmUoZnVuY3Rpb24obil7dmFyIHU7cnQobik7dT1yOzA8KG49aS5nZXRBdHRyVmFsRnJvbURvbSgiLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXcgLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXdBZGRUb0NhcnRCdXR0b24sIC5taW5pUHJvZHVjdERldGFpbHNWaWV3IC5ub3BBamF4Q2FydFByb2R1Y3RWYXJpYW50QWRkVG9XaXNobGlzdEJ1dHRvbiIsImRhdGEtcHJvZHVjdElkIiwwKSkmJigobj10KCIubWluaVByb2R1Y3REZXRhaWxzVmlldyAjYWRkdG9jYXJ0XyIrbisiX0VudGVyZWRRdWFudGl0eSIpKS5pcygic2VsZWN0IikmJihuLmZpbmQoIm9wdGlvblt2YWx1ZT0iK3UrIl0iKS5sZW5ndGh8fCh1PW4uZmluZCgib3B0aW9uOmZpcnN0IikudmFsKCkpKSxuLnZhbCh1KSk7dC5ldmVudC50cmlnZ2VyKHt0eXBlOiJub3BBamF4Q2FydE1pbmlQcm9kdWN0RGV0YWlsc1ZpZXdTaG93biJ9KX0pfWZ1bmN0aW9uIHkoKXt2YXIgcj1pLmdldEhpZGRlblZhbEZyb21Eb20oIiNmbHlvdXRTaG9wcGluZ0NhcnRQYW5lbFNlbGVjdG9yIik7bi5zaG91bGRSZWZyZXNoRmx5b3V0Q2FydCYmMDx0KHIpLmxlbmd0aCYmdC5hamF4KHtjYWNoZTohMSx0eXBlOiJHRVQiLHVybDppLmdldEhpZGRlblZhbEZyb21Eb20oIiNmbHlvdXRTaG9wcGluZ0NhcnRVcmwiKX0pLmRvbmUoZnVuY3Rpb24obil7bj10KG4pLmZpbHRlcihyKTt0KHIpLnJlcGxhY2VXaXRoKG4pO3QuZXZlbnQudHJpZ2dlcih7dHlwZToibm9wQWpheENhcnRGbHlvdXRTaG9wcGluZ0NhcnRVcGRhdGVkIn0pfSl9ZnVuY3Rpb24gcCgpe3ZhciBuPWkuZ2V0SGlkZGVuVmFsRnJvbURvbSgiI3Nob3BwaW5nQ2FydEJveFBhbmVsU2VsZWN0b3IiKTswPHQobikubGVuZ3RoJiZ0LmFqYXgoe2NhY2hlOiExLHR5cGU6IkdFVCIsdXJsOmkuZ2V0SGlkZGVuVmFsRnJvbURvbSgiI3Nob3BwaW5nQ2FydEJveFVybCIpfSkuZG9uZShmdW5jdGlvbihpKXtpPXQoaSkuZmluZChuKTt0KG4pLnJlcGxhY2VXaXRoKGkpO3QuZXZlbnQudHJpZ2dlcih7dHlwZToibm9wQWpheENhcnRTaG9wcGluZ0NhcnRCb3hVcGRhdGVkIn0pfSl9ZnVuY3Rpb24gdyhuKXt2YXIgcj0nLmhlYWRlci1saW5rcyBhW2hyZWY9Ii9jYXJ0Il0nLHU9aS5nZXRIaWRkZW5WYWxGcm9tRG9tKCIjc2hvcHBpbmdDYXJ0TWVudUxpbmtTZWxlY3RvciIpOzA8dCgiI3Nob3BwaW5nQ2FydE1lbnVMaW5rU2VsZWN0b3IiKS5sZW5ndGgmJiIiIT09dSYmKHI9dSxyPXQoIjxkaXYvPiIpLmh0bWwocikudGV4dCgpKTt0KHIpLmVhY2goZnVuY3Rpb24oaSxyKXt2YXIgdT10KHIpLmh0bWwoKSx1PS9cZCsvLmV4ZWModSksdT1wYXJzZUludCh1KStwYXJzZUludChuKSx1PXQoIi5hamF4Q2FydEluZm8iKS5hdHRyKCJkYXRhLW1pbmlTaG9wcGluZ0NhcnRRdWF0aXR5Rm9ybWF0dGluZ1Jlc291cmNlIikucmVwbGFjZSgiezB9Iix1KTt0KHIpLmh0bWwodSl9KX1mdW5jdGlvbiBiKG4pe3ZhciByPSJzcGFuLndpc2hsaXN0LXF0eSIsdT1pLmdldEhpZGRlblZhbEZyb21Eb20oIiN3aXNobGlzdE1lbnVMaW5rU2VsZWN0b3IiKTswPHQodSkubGVuZ3RoJiYocj11KTt0KHIpLmVhY2goZnVuY3Rpb24oaSxyKXt2YXIgdT10KHIpLmh0bWwoKSx1PS9cZCsvLmV4ZWModSksdT1wYXJzZUludCh1KStwYXJzZUludChuKSx1PXQoIi5hamF4Q2FydEluZm8iKS5hdHRyKCJkYXRhLW1pbmlXaXNobGlzdFF1YXRpdHlGb3JtYXR0aW5nUmVzb3VyY2UiKS5yZXBsYWNlKCJ7MH0iLHUpO3QocikuaHRtbCh1KX0pfWZ1bmN0aW9uIHMobil7dmFyIGk9dCgiLmFqYXhDYXJ0SW5mbyIpLmF0dHIoImRhdGEtdXNlTm9wTm90aWZpY2F0aW9uIikscj10KCIuYWpheENhcnRJbmZvIikuYXR0cigiZGF0YS1ub3BOb3RpZmljYXRpb25DYXJ0UmVzb3VyY2UiKTtpJiYiVHJ1ZSI9PT1pP2Rpc3BsYXlCYXJOb3RpZmljYXRpb24ociwic3VjY2VzcyIsMzUwMCk6KHQoIi5wcm9kdWN0QWRkZWRUb0NhcnRXaW5kb3ciKS5odG1sKHQobikuaHRtbCgpKSwobj10KCIucHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93IikuZGF0YSgia2VuZG9XaW5kb3ciKSkuY2VudGVyKCksbi5vcGVuKCkpfWZ1bmN0aW9uIGsobixpKXt2YXIgcj10KCIuYWRkUHJvZHVjdFRvQ2FydEVycm9ycyIpLmRhdGEoImtlbmRvV2luZG93Iik7cnx8KHI9dCgiLmFkZFByb2R1Y3RUb0NhcnRFcnJvcnMiKS5rZW5kb1dpbmRvdyh7ZHJhZ2dhYmxlOiExLHJlc2l6YWJsZTohMSx3aWR0aDoiMzAwcHgiLGhlaWdodDoiMTAwcHgiLG1vZGFsOiEwLGFjdGlvbnM6WyJDbG9zZSJdLGFuaW1hdGlvbjohMSx2aXNpYmxlOiExLHRpdGxlOml9KS5kYXRhKCJrZW5kb1dpbmRvdyIpKS53cmFwcGVyLmFkZENsYXNzKCJhamF4Q2FydCIpO3IuY29udGVudChuKTtyLmNlbnRlcigpO3Iub3BlbigpO3QoZG9jdW1lbnQpLm9uKCJjbGljayIsIi5rLW92ZXJsYXkiLGZ1bmN0aW9uKCl7ci5jbG9zZSgpfSl9ZnVuY3Rpb24gZChyLHUsZixvLGgsYyl7dmFyIGw9e3Byb2R1Y3RJZDpvLHF1YW50aXR5OmgsaXNBZGRUb0NhcnRCdXR0b246Zn07cmV0dXJuIGM/KGUoKSx2b2lkKG4ud2FpdEZvckFqYXhSZXF1ZXN0PSExKSk6ci5IYXNQcm9kdWN0QXR0cmlidXRlcz8odXQobyxoLGYpLGUoKSx2b2lkKG4ud2FpdEZvckFqYXhSZXF1ZXN0PSExKSk6dm9pZCB0LmFqYXgoe2NhY2hlOiExLHR5cGU6IlBPU1QiLGRhdGE6bCx1cmw6aS5nZXRIaWRkZW5WYWxGcm9tRG9tKCIjYWRkUHJvZHVjdFRvQ2FydFVybCIpfSkuZG9uZShmdW5jdGlvbihuKXsic3VjY2VzcyI9PT1uLlN0YXR1cz9mPyh2KCkseSgpLHAoKSx3KGgpLHMobi5Qcm9kdWN0QWRkZWRUb0NhcnRXaW5kb3cpLHQuZXZlbnQudHJpZ2dlcih7dHlwZToibm9wQWpheENhcnRQcm9kdWN0QWRkZWRUb0NhcnRFdmVudCIscHJvZHVjdElkOm8scXVhbnRpdHk6aH0pKTooYihoKSxzKG4uUHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93KSx0LmV2ZW50LnRyaWdnZXIoe3R5cGU6Im5vcEFqYXhDYXJ0UHJvZHVjdEFkZGVkVG9XaXNobGlzdEV2ZW50Iixwcm9kdWN0SWQ6byxxdWFudGl0eTpofSkpOiJ3YXJuaW5nIj09PW4uU3RhdHVzP2sobi5BZGRUb0NhcnRXYXJuaW5ncyxuLlBvcHVwVGl0bGUpOiJlcnJvciI9PT1uLlN0YXR1cyYmayhuLkVycm9yTWVzc2FnZSxuLlBvcHVwVGl0bGUpfSkuYWx3YXlzKGZ1bmN0aW9uKCl7ZSgpO24ud2FpdEZvckFqYXhSZXF1ZXN0PSExfSl9ZnVuY3Rpb24gZyhyLHUpe3ZhciBlLHMsbyxmO24ud2FpdEZvckFqYXhSZXF1ZXN0fHwobi53YWl0Rm9yQWpheFJlcXVlc3Q9ITAsZT1pLmdldEF0dHJWYWxGcm9tRG9tKHIuY3VycmVudFRhcmdldCwiZGF0YS1wcm9kdWN0SWQiKXx8dChyLmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoIi5wcm9kdWN0LWl0ZW0iKS5hdHRyKCJkYXRhLXByb2R1Y3RpZCIpLG89ci5jdXJyZW50VGFyZ2V0LGY9MSwiIj09PShyPWkuZ2V0QXR0clZhbEZyb21Eb20obywiZGF0YS1wcm9kdWN0SWQiKXx8dChvKS5wYXJlbnRzKCIucHJvZHVjdC1pdGVtIikuYXR0cigiZGF0YS1wcm9kdWN0aWQiKXx8IiIpfHwwPChyPXQobykucGFyZW50cygiLnByb2R1Y3QtaXRlbSIpLmZpbmQoIltkYXRhLXF1YW50aXR5cHJvZHVjdGlkPSIrcisiXSIpKS5sZW5ndGgmJjA8KHI9ci52YWwoKSkmJihmPXIpLGY9e3Byb2R1Y3RJZDplLHF1YW50aXR5OnM9Zn0sYSgpLHQuYWpheCh7Y2FjaGU6ITEsdHlwZToiUE9TVCIsZGF0YTpmLHVybDppLmdldEhpZGRlblZhbEZyb21Eb20oIiNjaGVja1Byb2R1Y3RBdHRyaWJ1dGVzVXJsIil9KS5kb25lKGZ1bmN0aW9uKG4pe2QobiwwLHUsZSxzLCExKX0pLmZhaWwoZnVuY3Rpb24oKXtkKGRhdGEsMCx1LGUscywhMCl9KSl9ZnVuY3Rpb24gaCh1LGUsbyl7dmFyIGEsbCxjLGssaDtlPT1yJiYoZT0hMSk7bi53YWl0Rm9yQWpheFJlcXVlc3R8fChuLndhaXRGb3JBamF4UmVxdWVzdD0hMCxoPXQodS5jdXJyZW50VGFyZ2V0KSxhPWkuZ2V0QXR0clZhbEZyb21Eb20odS5jdXJyZW50VGFyZ2V0LCJkYXRhLXByb2R1Y3RJZCIpfHx0KHUuY3VycmVudFRhcmdldCkucGFyZW50cygiLnByb2R1Y3QtaXRlbSIpLmF0dHIoImRhdGEtcHJvZHVjdGlkIiksYz1oLGs9MSwiIj09PShjPWkuZ2V0QXR0clZhbEZyb21Eb20oYywiZGF0YS1wcm9kdWN0SWQiKSl8fDA8KGM9dCgiI2FkZHRvY2FydF8iK2MrIl9FbnRlcmVkUXVhbnRpdHkiKSkubGVuZ3RoJiYwPChjPWMudmFsKCkpJiYoaz1jKSxsPWssMD09PShoPWguY2xvc2VzdCgiZm9ybSIpLnNlcmlhbGl6ZSgpKS5sZW5ndGgmJihmKCksaD10KCJib2R5IikuZmluZCgiZm9ybSIpLnNlcmlhbGl6ZSgpKSwwIT09KGg9KGg9aC5yZXBsYWNlKG5ldyBSZWdFeHAoImFqYXhDYXJ0X3Byb2R1Y3RfYXR0cmlidXRlIiwiZyIpLCJwcm9kdWN0X2F0dHJpYnV0ZSIpKS5yZXBsYWNlKG5ldyBSZWdFeHAoInF1aWNrVmlld19wcm9kdWN0X2F0dHJpYnV0ZSIsImciKSwicHJvZHVjdF9hdHRyaWJ1dGUiKSkubGVuZ3RoJiYoaCs9IiYiKSxoKz0icHJvZHVjdElkPSIrYSxoKz0iJmlzQWRkVG9DYXJ0QnV0dG9uPSIrbyx0dChlKSx0LmFqYXgoe2NhY2hlOiExLHR5cGU6IlBPU1QiLGRhdGE6aCx1cmw6aS5nZXRIaWRkZW5WYWxGcm9tRG9tKCIjYWRkUHJvZHVjdFZhcmlhbnRUb0NhcnRVcmwiKX0pLmRvbmUoZnVuY3Rpb24obil7dmFyIGYsaCxpLHI7Indhcm5pbmciPT09bi5TdGF0dXN8fCJlcnJvciI9PT1uLlN0YXR1cz8oaT10KHUuY3VycmVudFRhcmdldCkuY2xvc2VzdCgiLm92ZXJ2aWV3IiksZj1uLkFkZFRvQ2FydFdhcm5pbmdzLGg9bi5Qb3B1cFRpdGxlLGk9aSxlPygwPGkubGVuZ3RoP2kuZmluZCgiLm1lc3NhZ2UtZXJyb3IiKTp0KCIubWluaVByb2R1Y3REZXRhaWxzVmlldyAubWVzc2FnZS1lcnJvciIpKS5odG1sKGYpOigocj10KCIuYWRkUHJvZHVjdFZhcmlhbnRUb0NhcnRFcnJvcnMiKS5kYXRhKCJrZW5kb1dpbmRvdyIpKXx8KHI9dCgiLmFkZFByb2R1Y3RWYXJpYW50VG9DYXJ0RXJyb3JzIikuZmlyc3QoKS5rZW5kb1dpbmRvdyh7ZHJhZ2dhYmxlOiExLHJlc2l6YWJsZTohMSx3aWR0aDoiMzAwcHgiLG1vZGFsOiEwLGFjdGlvbnM6WyJDbG9zZSJdLGFuaW1hdGlvbjohMSx2aXNpYmxlOiExLHRpdGxlOmh9KS5kYXRhKCJrZW5kb1dpbmRvdyIpKS53cmFwcGVyLmFkZENsYXNzKCJhamF4Q2FydCIpLHIuY29udGVudChmKSxyLmNlbnRlcigpLHIub3BlbigpLHQoZG9jdW1lbnQpLm9uKCJjbGljayIsIi5rLW92ZXJsYXkiLGZ1bmN0aW9uKCl7ci5jbG9zZSgpfSkpKTooaT0ibm9wQWpheENhcnRQcm9kdWN0QWRkZWRUb0NhcnRFdmVudCIsaD1vPyh2KCkscCgpLHcobCkseSgpLHQoIi5hamF4Q2FydEluZm8iKS5hdHRyKCJkYXRhLW5vcE5vdGlmaWNhdGlvbkNhcnRSZXNvdXJjZSIpKTooYihsKSxzKG4uUHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93KSxpPSJub3BBamF4Q2FydFByb2R1Y3RBZGRlZFRvV2lzaGxpc3RFdmVudCIsdCgiLmFqYXhDYXJ0SW5mbyIpLmF0dHIoImRhdGEtbm9wTm90aWZpY2F0aW9uV2lzaGxpc3RSZXNvdXJjZSIpKSxlJiZ0KCIubWluaVByb2R1Y3REZXRhaWxzVmlldyIpLmRhdGEoImtlbmRvV2luZG93IikuY2xvc2UoKSwoZj10KCIuYWpheENhcnRJbmZvIikuYXR0cigiZGF0YS11c2VOb3BOb3RpZmljYXRpb24iKSkmJiJUcnVlIj09PWY/ZGlzcGxheUJhck5vdGlmaWNhdGlvbihoLCJzdWNjZXNzIiwzNTAwKTpzKG4uUHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93KSx0LmV2ZW50LnRyaWdnZXIoe3R5cGU6aSxwcm9kdWN0SWQ6YSxxdWFudGl0eTpsfSkpfSkuYWx3YXlzKGZ1bmN0aW9uKCl7aXQoZSk7bi53YWl0Rm9yQWpheFJlcXVlc3Q9ITF9KSl9dmFyIHU9Ii5hamF4Q2FydEluZm8iO24uc2hvdWxkUmVmcmVzaEZseW91dENhcnQ9ITA7bi53YWl0Rm9yQWpheFJlcXVlc3Q9ITE7bi5yZXBsYWNlQWRkVG9DYXJ0QnV0dG9uc0V4dGVybmFsPW87bi5jbG9zZVByb2R1Y3RBZGRlZFRvQ2FydFdpbmRvdz1mdW5jdGlvbigpe3ZhciBuPXQoIi5wcm9kdWN0QWRkZWRUb0NhcnRXaW5kb3ciKS5kYXRhKCJrZW5kb1dpbmRvdyIpO24mJm4uY2xvc2UoKX07dChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtvKCksZnVuY3Rpb24oKXtmKCk7dmFyIG49dCgiYm9keSIpOzA9PT1uLmZpbmQoIi5ub3BBamF4Q2FydFBhbmVsQWpheEJ1c3kiKS5sZW5ndGgmJihuLnByZXBlbmQoJzxkaXYgY2xhc3M9Im5vcEFqYXhDYXJ0UGFuZWxBamF4QnVzeSI+PFwvZGl2PicpLHQoIi5ub3BBamF4Q2FydFBhbmVsQWpheEJ1c3kiKS5oaWRlKCkpfSgpLGZ1bmN0aW9uKCl7dmFyIG4sdSxpLHI7ZigpO2k9dCgiYm9keSIpOzA8aS5sZW5ndGgmJigobj1mdW5jdGlvbihuKXswPT09dChuKS5sZW5ndGgmJmkucHJlcGVuZCgnPGRpdiBjbGFzcz0iJytuKyciPjxcL2Rpdj4nKX0pKCJhZGRQcm9kdWN0VG9DYXJ0RXJyb3JzIiksbigiYWRkUHJvZHVjdFZhcmlhbnRUb0NhcnRFcnJvcnMiKSxuKCJtaW5pUHJvZHVjdERldGFpbHNWaWV3IiksbigicHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93IiksKHU9dCgiLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXciKS5rZW5kb1dpbmRvdyh7ZHJhZ2dhYmxlOiExLHJlc2l6YWJsZTohMSxtb2RhbDohMCxhY3Rpb25zOlsiQ2xvc2UiXSxhbmltYXRpb246ITEsdmlzaWJsZTohMX0pLmRhdGEoImtlbmRvV2luZG93IikpLndyYXBwZXIuYWRkQ2xhc3MoImFqYXhDYXJ0IiksdChkb2N1bWVudCkub24oImNsaWNrIiwiLmstb3ZlcmxheSIsZnVuY3Rpb24oKXt1LmNsb3NlKCl9KSk7cj10KCIucHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93Iikua2VuZG9XaW5kb3coe2RyYWdnYWJsZTohMSxyZXNpemFibGU6ITEsbW9kYWw6ITAsYWN0aW9uczpbIkNsb3NlIl0sYW5pbWF0aW9uOiExLHZpc2libGU6ITF9KS5kYXRhKCJrZW5kb1dpbmRvdyIpO3Iud3JhcHBlci5hZGRDbGFzcygiYWpheENhcnQiKTt0KGRvY3VtZW50KS5vbigiY2xpY2siLCIuay1vdmVybGF5IixmdW5jdGlvbigpe3IuY2xvc2UoKX0pfSgpO3QoImJvZHkiKS5vbigiY2xpY2siLCIubm9wQWpheENhcnRQcm9kdWN0TGlzdEFkZFRvQ2FydEJ1dHRvbiIsZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpO2cobiwhMCl9KTt0KCJib2R5Iikub24oImNsaWNrIiwiLm5vcEFqYXhDYXJ0UHJvZHVjdFZhcmlhbnRBZGRUb0NhcnRCdXR0b24iLGZ1bmN0aW9uKG4pe2gobix0KHRoaXMpLmhhc0NsYXNzKCJtaW5pUHJvZHVjdERldGFpbHNWaWV3QWRkVG9DYXJ0QnV0dG9uIiksITApfSk7dCgiYm9keSIpLm9uKCJjbGljayIsIi5taW5pUHJvZHVjdERldGFpbHNWaWV3QWRkVG9XaXNobGlzdEJ1dHRvbiIsZnVuY3Rpb24obil7aChuLCEwLCExKX0pO3QoImJvZHkiKS5vbigiY2xpY2siLCIucHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93IC5jb250aW51ZVNob3BwaW5nTGluayIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpO24uY2xvc2VQcm9kdWN0QWRkZWRUb0NhcnRXaW5kb3coKX0pO3QoZG9jdW1lbnQpLm9uKCJub3BBamF4Q2FydEJ1dHRvbnNBZGRlZEV2ZW50IixmdW5jdGlvbigpe3ZhciByLGYsaSxuO3I9IlRydWUiPT09KG49dCh1KSkuYXR0cigiZGF0YS1lbmFibGVPblByb2R1Y3RQYWdlIik7Zj0iVHJ1ZSI9PT1uLmF0dHIoImRhdGEtZW5hYmxlT25DYXRhbG9nUGFnZXMiKTtuPW4uYXR0cigiZGF0YS1hZGRUb1dpc2hsaXN0QnV0dG9uU2VsZWN0b3IiKTt0KG4pLmVhY2goZnVuY3Rpb24oKXt2YXIgbj10KHRoaXMpLGk9YygpOzA8bi5wYXJlbnRzKGkpLmxlbmd0aD9mJiYobi5wcm9wKCJvbmNsaWNrIixudWxsKS5vZmYoImNsaWNrIiksbi5vbigiY2xpY2siLGZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKTtnKG4sITEpfSkpOnImJihuLnByb3AoIm9uY2xpY2siLG51bGwpLm9mZigiY2xpY2siKSxuLm9uKCJjbGljayIsZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpO2gobiwhMSwhMSl9KSl9KTswIT09KG49dCgiLmFqYXhDYXJ0QWxsb3dlZFF1YW50aXRlc0hvdmVyIikpLmxlbmd0aCYmKGk9bi5hdHRyKCJkYXRhLXByb2R1Y3RJdGVtU2VsZWN0b3IiKSx0KCIucHJvZHVjdFF1YW50aXR5RHJvcGRvd24iKS5vZmYoIm1vdXNlZG93biIpLm9uKCJtb3VzZWRvd24iLGZ1bmN0aW9uKCl7dmFyIG49dCh0aGlzKS5jbG9zZXN0KGkpO24uYWRkQ2xhc3MoImFqYXgtY2FydC1wcm9kdWN0LWl0ZW0taG92ZXIiKTtuPW4uYXR0cigiZGF0YS1wcm9kdWN0aWQiKTt0KCIucHJvZHVjdFF1YW50aXR5Q2hhbmdlZCIrbikudmFsKCJ5ZXMiKX0pLHQoaSkub2ZmKCJtb3VzZWVudGVyIikub24oIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7dmFyIG49dCh0aGlzKS5hdHRyKCJkYXRhLXByb2R1Y3RpZCIpLG49dCgiLnByb2R1Y3RRdWFudGl0eUNoYW5nZWQiK24pOyJ5ZXMiPT09bi52YWwoKSYmbi52YWwoIm5vIil9KS5vZmYoIm1vdXNlbGVhdmUiKS5vbigibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXt2YXIgbj10KHRoaXMpLmF0dHIoImRhdGEtcHJvZHVjdGlkIik7Im5vIj09PXQoIi5wcm9kdWN0UXVhbnRpdHlDaGFuZ2VkIituKS52YWwoKSYmdCh0aGlzKS5yZW1vdmVDbGFzcygiYWpheC1jYXJ0LXByb2R1Y3QtaXRlbS1ob3ZlciIpfSkpfSk7dChkb2N1bWVudCkub24oIm5vcEFqYXhGaWx0ZXJzRmlsdHJhdGlvbkNvbXBsZXRlRXZlbnQgbmV3UHJvZHVjdHNBZGRlZFRvUGFnZUV2ZW50IixvKTt0KGRvY3VtZW50KS5vbigibm9wUXVpY2tWaWV3RGF0YVNob3duRXZlbnQiLG8pfSl9KHdpbmRvdy5ub3BBamF4Q2FydD13aW5kb3cubm9wQWpheENhcnR8fHt9LGpRdWVyeSxzZXZlblNwaWtlc0NvcmUpOyFmdW5jdGlvbihuLHQsaSl7ZnVuY3Rpb24gZShuLHUsZSl7aWYodS5wcm9kdWN0RWxlbWVudCl7aWYoZSl7aWYoIShvPWkuZ2V0QXR0clZhbEZyb21Eb20ociwiZGF0YS1wcm9kdWN0UGFnZUJ1Z1BpY3R1cmVDb250YWluZXJTZWxlY3RvciIpKSlyZXR1cm59ZWxzZSBpZighKG89aS5nZXRBdHRyVmFsRnJvbURvbShyLCJkYXRhLXByb2R1Y3RCb3hQaWN0dXJlQ29udGFpbmVyU2VsZWN0b3IiKSkpcmV0dXJuO3ZhciBzLG89dS5wcm9kdWN0RWxlbWVudC5maW5kKG8pO28ucGFyZW50KCkuaGFzQ2xhc3MoZil8fG8mJnUucHJvZHVjdElkJiYwPHUucHJvZHVjdElkJiYodT11LnByb2R1Y3RJZCxlPyhzPXQobikuZmlsdGVyKCJkaXZbZGF0YS1wcm9kdWN0SWQ9JyIrdSsiJ10iKSxvPW8uZmlyc3QoKSk6cz10KG4pLmZpbHRlcigiYVtkYXRhLXByb2R1Y3RJZD0nIit1KyInXSIpLHMmJjA8cy5sZW5ndGgmJihvLndyYXAoJzxkaXYgY2xhc3M9IicrZisnIj48XC9kaXY+Jyksby5hZnRlcihzKSkpfX12YXIgdSxmPSJyaWJib24td3JhcHBlciIscj0iI3Byb2R1Y3QtcmliYm9uLWluZm8iO24uc2hvd1JpYmJvbnM9ZnVuY3Rpb24oKXt2YXIgcCxjLHMsbCxhLG8sZj0wLHY9W10sbj0oYz0iLnByb2R1Y3QtcmliYm9uIixzPWkuZ2V0QXR0clZhbEZyb21Eb20ociwiZGF0YS1wcm9kdWN0UGFnZVBpY3R1cmVzUGFyZW50Q29udGFpbmVyU2VsZWN0b3IiKSxsPVtdLG89e30sKGE9aS5nZXRBdHRyVmFsRnJvbURvbShyLCJkYXRhLXByb2R1Y3RJZCIpKSYmMDxhJiZzJiYoKHA9dChzKS5maW5kKGMpKSYmMCE9PXAubGVuZ3RofHwoby5wcm9kdWN0SWQ9YSxvLnByb2R1Y3RFbGVtZW50PXQocykpKSx0KHUpLmVhY2goZnVuY3Rpb24oKXt2YXIgbj10KHRoaXMpLmZpbmQoYyk7biYmMCE9PW4ubGVuZ3RofHwobj10KHRoaXMpLmF0dHIoImRhdGEtcHJvZHVjdGlkIikpJiYwPG4mJihuPXtwcm9kdWN0SWQ6bixwcm9kdWN0RWxlbWVudDp0KHRoaXMpfSxsLnB1c2gobikpfSkse3Byb2R1Y3RQYWdlOm8sY2F0ZWdvcnlQYWdlUHJvZHVjdHM6bH0pLGgseTtpZihuLnByb2R1Y3RQYWdlJiZuLnByb2R1Y3RQYWdlLnByb2R1Y3RJZCYmKGY9bi5wcm9kdWN0UGFnZS5wcm9kdWN0SWQpLG4uY2F0ZWdvcnlQYWdlUHJvZHVjdHMmJjA8bi5jYXRlZ29yeVBhZ2VQcm9kdWN0cy5sZW5ndGgpZm9yKGg9MDtoPG4uY2F0ZWdvcnlQYWdlUHJvZHVjdHMubGVuZ3RoO2grKyl5PW4uY2F0ZWdvcnlQYWdlUHJvZHVjdHNbaF0seS5oYXNPd25Qcm9wZXJ0eSgicHJvZHVjdElkIikmJnYucHVzaCh5LnByb2R1Y3RJZCk7KGZ8fDAhPT12Lmxlbmd0aCkmJih0LmlzTnVtZXJpYyhmKXx8KGY9MCksbz17cHJvZHVjdFBhZ2VJZDpmLGNhdGVnb3J5UGFnZUlkczp2fSxmPWkuZ2V0QXR0clZhbEZyb21Eb20oIiNwcm9kdWN0LXJpYmJvbi1pbmZvIiwiZGF0YS1yZXRyaWV2ZXByb2R1Y3RyaWJib25zdXJsIiksdC5hamF4KHtjYWNoZTohMSx0eXBlOiJQT1NUIixkYXRhOnQudG9KU09OKG8pLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04Iix1cmw6Zn0pLmRvbmUoZnVuY3Rpb24oaSl7aSYmKGZ1bmN0aW9uKG4sdCl7aWYodCYmdC5wcm9kdWN0UGFnZSYmdC5wcm9kdWN0UGFnZS5wcm9kdWN0SWQmJmUobix0LnByb2R1Y3RQYWdlLCEwKSx0JiZ0LmNhdGVnb3J5UGFnZVByb2R1Y3RzJiYwPHQuY2F0ZWdvcnlQYWdlUHJvZHVjdHMubGVuZ3RoKWZvcih2YXIgaT0wO2k8dC5jYXRlZ29yeVBhZ2VQcm9kdWN0cy5sZW5ndGg7aSsrKWUobix0LmNhdGVnb3J5UGFnZVByb2R1Y3RzW2ldKX0oaSxuKSx0LmV2ZW50LnRyaWdnZXIoe3R5cGU6Im5vcFByb2R1Y3RSaWJib25zTG9hZGluZ0NvbXBsZXRlRXZlbnQifSkpfSkpfTt0KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpeyh1PWkuZ2V0QXR0clZhbEZyb21Eb20ociwiZGF0YS1wcm9kdWN0Qm94U2VsZWN0b3IiKSkmJm4uc2hvd1JpYmJvbnMoKX0pO3QoZG9jdW1lbnQpLm9uKCJub3BBamF4RmlsdGVyc0ZpbHRyYXRpb25Db21wbGV0ZUV2ZW50IG5ld1Byb2R1Y3RzQWRkZWRUb1BhZ2VFdmVudCIsbm9wUHJvZHVjdFJpYmJvbnMuc2hvd1JpYmJvbnMpfSh3aW5kb3cubm9wUHJvZHVjdFJpYmJvbnM9d2luZG93Lm5vcFByb2R1Y3RSaWJib25zfHx7fSxqUXVlcnksc2V2ZW5TcGlrZXNDb3JlKTshZnVuY3Rpb24obil7IWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBzKG4pe3ZhciB0PXUobnx8e30pLGY9aCh0KTtyZXR1cm4gcihmKSxjKHQsZiksaX1mdW5jdGlvbiBoKG4pe3ZhciBpPWYoInVwbG9hZGVyVHlwZSIpLHI9ZigiZW5kcG9pbnRUeXBlIik7cmV0dXJuIGk/KGk9aS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStpLnNsaWNlKDEpLnRvTG93ZXJDYXNlKCkscj9uZXcgdFtyXVsiRmluZVVwbG9hZGVyIitpXShuKTpuZXcgdFsiRmluZVVwbG9hZGVyIitpXShuKSk6cj9uZXcgdFtyXS5GaW5lVXBsb2FkZXIobik6bmV3IHQuRmluZVVwbG9hZGVyKG4pfWZ1bmN0aW9uIGUobix0KXt2YXIgcj1pLmRhdGEoImZpbmV1cGxvYWRlciIpO2lmKCF0KXJldHVybiB2b2lkIDA9PT1yP251bGw6cltuXTt2b2lkIDA9PT1yJiYocj17fSk7cltuXT10O2kuZGF0YSgiZmluZXVwbG9hZGVyIixyKX1mdW5jdGlvbiByKG4pe3JldHVybiBlKCJ1cGxvYWRlciIsbil9ZnVuY3Rpb24gZihuLHQpe3JldHVybiBlKG4sdCl9ZnVuY3Rpb24gYyhyLHUpe3ZhciBmPXIuY2FsbGJhY2tzPXt9O24uZWFjaCh1Ll9vcHRpb25zLmNhbGxiYWNrcyxmdW5jdGlvbihyLHUpe3ZhciBlLHM7ZT0vXm9uKFx3KykvLmV4ZWMocilbMV07ZT1lLnN1YnN0cmluZygwLDEpLnRvTG93ZXJDYXNlKCkrZS5zdWJzdHJpbmcoMSk7cz1pO2Zbcl09ZnVuY3Rpb24oKXt2YXIgaSxyLGY9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxoPVtdO24uZWFjaChmLGZ1bmN0aW9uKG4sdCl7aC5wdXNoKG8odCkpfSk7aT11LmFwcGx5KHRoaXMsZik7dHJ5e3I9cy50cmlnZ2VySGFuZGxlcihlLGgpfWNhdGNoKG4pe3QubG9nKCJDYXVnaHQgZXJyb3IgaW4gRmluZSBVcGxvYWRlciBqUXVlcnkgZXZlbnQgaGFuZGxlcjogIituLm1lc3NhZ2UsImVycm9yIil9cmV0dXJuIG51bGwhPWk/aTpyfX0pO3UuX29wdGlvbnMuY2FsbGJhY2tzPWZ9ZnVuY3Rpb24gdSh0LHIpe3ZhciBlLG87aWYoZT12b2lkIDA9PT1yPyJiYXNpYyIhPT10LnVwbG9hZGVyVHlwZT97ZWxlbWVudDppWzBdfTp7fTpyLG4uZWFjaCh0LGZ1bmN0aW9uKHQsaSl7bi5pbkFycmF5KHQsdik+PTA/Zih0LGkpOmkgaW5zdGFuY2VvZiBuP2VbdF09aVswXTpuLmlzUGxhaW5PYmplY3QoaSk/KGVbdF09e30sdShpLGVbdF0pKTpuLmlzQXJyYXkoaSk/KG89W10sbi5lYWNoKGksZnVuY3Rpb24odCxpKXt2YXIgcj17fTtpIGluc3RhbmNlb2Ygbj9uLm1lcmdlKG8saSk6bi5pc1BsYWluT2JqZWN0KGkpPyh1KGksciksby5wdXNoKHIpKTpvLnB1c2goaSl9KSxlW3RdPW8pOmVbdF09aX0pLHZvaWQgMD09PXIpcmV0dXJuIGV9ZnVuY3Rpb24gbCh0KXtyZXR1cm4ic3RyaW5nIj09PW4udHlwZSh0KSYmIXQubWF0Y2goL15fLykmJnZvaWQgMCE9PXIoKVt0XX1mdW5jdGlvbiBhKG4pe3ZhciB0LGk9W10sZj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIHUoZixpKSx0PXIoKVtuXS5hcHBseShyKCksaSksbyh0KX1mdW5jdGlvbiBvKHQpe3ZhciBpPXQ7cmV0dXJuIG51bGw9PXR8fCJvYmplY3QiIT10eXBlb2YgdHx8MSE9PXQubm9kZVR5cGUmJjkhPT10Lm5vZGVUeXBlfHwhdC5jbG9uZU5vZGV8fChpPW4odCkpLGl9dmFyIGksdj1bInVwbG9hZGVyVHlwZSIsImVuZHBvaW50VHlwZSJdO24uZm4uZmluZVVwbG9hZGVyPWZ1bmN0aW9uKHQpe3ZhciBmPXRoaXMsZT1hcmd1bWVudHMsdT1bXTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG8saCl7aWYoaT1uKGgpLHIoKSYmbCh0KSl7aWYodS5wdXNoKGEuYXBwbHkoZixlKSksMT09PWYubGVuZ3RoKXJldHVybiExfWVsc2Uib2JqZWN0IiE9dHlwZW9mIHQmJnQ/bi5lcnJvcigiTWV0aG9kICIrdCsiIGRvZXMgbm90IGV4aXN0IG9uIGpRdWVyeS5maW5lVXBsb2FkZXIiKTpzLmFwcGx5KGYsZSl9KSwxPT09dS5sZW5ndGg/dVswXTp1Lmxlbmd0aD4xP3U6dGhpc319KGpRdWVyeSksZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGYobil7bnx8KG49e30pO24uZHJvcFpvbmVFbGVtZW50cz1baV07dmFyIGY9dShuKTtyZXR1cm4gbyhmKSxyKG5ldyB0LkRyYWdBbmREcm9wKGYpKSxpfWZ1bmN0aW9uIGUobix0KXt2YXIgcj1pLmRhdGEoImZpbmVVcGxvYWRlckRuZCIpO2lmKCF0KXJldHVybiB2b2lkIDA9PT1yP251bGw6cltuXTt2b2lkIDA9PT1yJiYocj17fSk7cltuXT10O2kuZGF0YSgiZmluZVVwbG9hZGVyRG5kIixyKX1mdW5jdGlvbiByKG4pe3JldHVybiBlKCJkbmRJbnN0YW5jZSIsbil9ZnVuY3Rpb24gbyhyKXt2YXIgdT1yLmNhbGxiYWNrcz17fTtuLmVhY2gobmV3IHQuRHJhZ0FuZERyb3AuY2FsbGJhY2tzLGZ1bmN0aW9uKG4pe3ZhciB0LHI9bjt0PWk7dVtuXT1mdW5jdGlvbigpe3ZhciBuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIHQudHJpZ2dlckhhbmRsZXIocixuKX19KX1mdW5jdGlvbiB1KHQsaSl7dmFyIHIsZjtpZihyPXZvaWQgMD09PWk/e306aSxuLmVhY2godCxmdW5jdGlvbih0LGkpe2kgaW5zdGFuY2VvZiBuP3JbdF09aVswXTpuLmlzUGxhaW5PYmplY3QoaSk/KHJbdF09e30sdShpLHJbdF0pKTpuLmlzQXJyYXkoaSk/KGY9W10sbi5lYWNoKGksZnVuY3Rpb24odCxpKXtpIGluc3RhbmNlb2Ygbj9uLm1lcmdlKGYsaSk6Zi5wdXNoKGkpfSksclt0XT1mKTpyW3RdPWl9KSx2b2lkIDA9PT1pKXJldHVybiByfWZ1bmN0aW9uIHModCl7cmV0dXJuInN0cmluZyI9PT1uLnR5cGUodCkmJiJkaXNwb3NlIj09PXQmJnZvaWQgMCE9PXIoKVt0XX1mdW5jdGlvbiBoKG4pe3ZhciB0PVtdO3JldHVybiB1KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSx0KSxyKClbbl0uYXBwbHkocigpLHQpfXZhciBpO24uZm4uZmluZVVwbG9hZGVyRG5kPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbz1hcmd1bWVudHMsdT1bXTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMsbCl7aWYoaT1uKGwpLHIoKSYmcyh0KSl7aWYodS5wdXNoKGguYXBwbHkoZSxvKSksMT09PWUubGVuZ3RoKXJldHVybiExfWVsc2Uib2JqZWN0IiE9dHlwZW9mIHQmJnQ/bi5lcnJvcigiTWV0aG9kICIrdCsiIGRvZXMgbm90IGV4aXN0IGluIEZpbmUgVXBsb2FkZXIncyBEbkQgbW9kdWxlLiIpOmYuYXBwbHkoZSxvKX0pLDE9PT11Lmxlbmd0aD91WzBdOnUubGVuZ3RoPjE/dTp0aGlzfX0oalF1ZXJ5KTt2YXIgdD1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7cmV0dXJue2hpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zdHlsZS5kaXNwbGF5PSJub25lIix0aGlzfSxhdHRhY2g6ZnVuY3Rpb24oaSxyKXtyZXR1cm4gbi5hZGRFdmVudExpc3RlbmVyP24uYWRkRXZlbnRMaXN0ZW5lcihpLHIsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9uIitpLHIpLGZ1bmN0aW9uKCl7dChuKS5kZXRhY2goaSxyKX19LGRldGFjaDpmdW5jdGlvbih0LGkpe3JldHVybiBuLnJlbW92ZUV2ZW50TGlzdGVuZXI/bi5yZW1vdmVFdmVudExpc3RlbmVyKHQsaSwhMSk6bi5hdHRhY2hFdmVudCYmbi5kZXRhY2hFdmVudCgib24iK3QsaSksdGhpc30sY29udGFpbnM6ZnVuY3Rpb24odCl7cmV0dXJuISF0JiYobj09PXR8fChuLmNvbnRhaW5zP24uY29udGFpbnModCk6ISEoOCZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4pKSkpfSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24odCl7cmV0dXJuIHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobix0KSx0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pLHRoaXN9LGNzczpmdW5jdGlvbihpKXtpZihudWxsPT1uLnN0eWxlKXRocm93IG5ldyB0LkVycm9yKCJDYW4ndCBhcHBseSBzdHlsZSB0byBub2RlIGFzIGl0IGlzIG5vdCBvbiB0aGUgSFRNTEVsZW1lbnQgcHJvdG90eXBlIGNoYWluISIpO3JldHVybiBudWxsIT1pLm9wYWNpdHkmJiJzdHJpbmciIT10eXBlb2Ygbi5zdHlsZS5vcGFjaXR5JiZ2b2lkIDAhPT1uLmZpbHRlcnMmJihpLmZpbHRlcj0iYWxwaGEob3BhY2l0eT0iK01hdGgucm91bmQoMTAwKmkub3BhY2l0eSkrIikiKSx0LmV4dGVuZChuLnN0eWxlLGkpLHRoaXN9LGhhc0NsYXNzOmZ1bmN0aW9uKHQsaSl7dmFyIHI9bmV3IFJlZ0V4cCgiKF58ICkiK3QrIiggfCQpIik7cmV0dXJuIHIudGVzdChuLmNsYXNzTmFtZSl8fCEoIWl8fCFyLnRlc3Qobi5wYXJlbnROb2RlLmNsYXNzTmFtZSkpfSxhZGRDbGFzczpmdW5jdGlvbihpKXtyZXR1cm4gdChuKS5oYXNDbGFzcyhpKXx8KG4uY2xhc3NOYW1lKz0iICIraSksdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIGk9bmV3IFJlZ0V4cCgiKF58ICkiK3QrIiggfCQpIik7cmV0dXJuIG4uY2xhc3NOYW1lPW4uY2xhc3NOYW1lLnJlcGxhY2UoaSwiICIpLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKSx0aGlzfSxnZXRCeUNsYXNzOmZ1bmN0aW9uKGkscil7dmFyIGYsdT1bXTtyZXR1cm4gciYmbi5xdWVyeVNlbGVjdG9yP24ucXVlcnlTZWxlY3RvcigiLiIraSk6bi5xdWVyeVNlbGVjdG9yQWxsP24ucXVlcnlTZWxlY3RvckFsbCgiLiIraSk6KGY9bi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLHQuZWFjaChmLGZ1bmN0aW9uKG4scil7dChyKS5oYXNDbGFzcyhpKSYmdS5wdXNoKHIpfSkscj91WzBdOnUpfSxnZXRGaXJzdEJ5Q2xhc3M6ZnVuY3Rpb24oaSl7cmV0dXJuIHQobikuZ2V0QnlDbGFzcyhpLCEwKX0sY2hpbGRyZW46ZnVuY3Rpb24oKXtmb3IodmFyIGk9W10sdD1uLmZpcnN0Q2hpbGQ7dDspMT09PXQubm9kZVR5cGUmJmkucHVzaCh0KSx0PXQubmV4dFNpYmxpbmc7cmV0dXJuIGl9LHNldFRleHQ6ZnVuY3Rpb24odCl7cmV0dXJuIG4uaW5uZXJUZXh0PXQsbi50ZXh0Q29udGVudD10LHRoaXN9LGNsZWFyVGV4dDpmdW5jdGlvbigpe3JldHVybiB0KG4pLnNldFRleHQoIiIpfSxoYXNBdHRyaWJ1dGU6ZnVuY3Rpb24odCl7dmFyIGk7cmV0dXJuIG4uaGFzQXR0cmlidXRlPyEhbi5oYXNBdHRyaWJ1dGUodCkmJm51bGw9PS9eZmFsc2UkL2kuZXhlYyhuLmdldEF0dHJpYnV0ZSh0KSk6KGk9blt0XSx2b2lkIDAhPT1pJiZudWxsPT0vXmZhbHNlJC9pLmV4ZWMoaSkpfX19OyFmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt0LmNhbnZhc1RvQmxvYj1mdW5jdGlvbihuLGkscil7cmV0dXJuIHQuZGF0YVVyaVRvQmxvYihuLnRvRGF0YVVSTChpLHIpKX07dC5kYXRhVXJpVG9CbG9iPWZ1bmN0aW9uKG4pe3ZhciBpLHIsdSxmLGU9ZnVuY3Rpb24obix0KXt2YXIgcj13aW5kb3cuQmxvYkJ1aWxkZXJ8fHdpbmRvdy5XZWJLaXRCbG9iQnVpbGRlcnx8d2luZG93Lk1vekJsb2JCdWlsZGVyfHx3aW5kb3cuTVNCbG9iQnVpbGRlcixpPXImJm5ldyByO3JldHVybiBpPyhpLmFwcGVuZChuKSxpLmdldEJsb2IodCkpOm5ldyBCbG9iKFtuXSx7dHlwZTp0fSl9O3JldHVybiByPW4uc3BsaXQoIiwiKVswXS5pbmRleE9mKCJiYXNlNjQiKT49MD9hdG9iKG4uc3BsaXQoIiwiKVsxXSk6ZGVjb2RlVVJJKG4uc3BsaXQoIiwiKVsxXSksZj1uLnNwbGl0KCIsIilbMF0uc3BsaXQoIjoiKVsxXS5zcGxpdCgiOyIpWzBdLGk9bmV3IEFycmF5QnVmZmVyKHIubGVuZ3RoKSx1PW5ldyBVaW50OEFycmF5KGkpLHQuZWFjaChyLGZ1bmN0aW9uKG4sdCl7dVtuXT10LmNoYXJDb2RlQXQoMCl9KSxlKGksZil9O3QubG9nPWZ1bmN0aW9uKG4sdCl7d2luZG93LmNvbnNvbGUmJih0JiYiaW5mbyIhPT10P3dpbmRvdy5jb25zb2xlW3RdP3dpbmRvdy5jb25zb2xlW3RdKG4pOndpbmRvdy5jb25zb2xlLmxvZygiPCIrdCsiPiAiK24pOndpbmRvdy5jb25zb2xlLmxvZyhuKSl9O3QuaXNPYmplY3Q9ZnVuY3Rpb24obil7cmV0dXJuIG4mJiFuLm5vZGVUeXBlJiYiW29iamVjdCBPYmplY3RdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKX07dC5pc0Z1bmN0aW9uPWZ1bmN0aW9uKG4pe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBufTt0LmlzQXJyYXk9ZnVuY3Rpb24obil7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKXx8biYmd2luZG93LkFycmF5QnVmZmVyJiZuLmJ1ZmZlciYmbi5idWZmZXIuY29uc3RydWN0b3I9PT1BcnJheUJ1ZmZlcn07dC5pc0l0ZW1MaXN0PWZ1bmN0aW9uKG4pe3JldHVybiJbb2JqZWN0IERhdGFUcmFuc2Zlckl0ZW1MaXN0XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobil9O3QuaXNOb2RlTGlzdD1mdW5jdGlvbihuKXtyZXR1cm4iW29iamVjdCBOb2RlTGlzdF0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pfHxuLml0ZW0mJm4ubmFtZWRJdGVtfTt0LmlzU3RyaW5nPWZ1bmN0aW9uKG4pe3JldHVybiJbb2JqZWN0IFN0cmluZ10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pfTt0LnRyaW1TdHI9ZnVuY3Rpb24obil7cmV0dXJuIFN0cmluZy5wcm90b3R5cGUudHJpbT9uLnRyaW0oKTpuLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKX07dC5mb3JtYXQ9ZnVuY3Rpb24obil7dmFyIHU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGk9bixyPWkuaW5kZXhPZigie30iKTtyZXR1cm4gdC5lYWNoKHUsZnVuY3Rpb24obix0KXtpZihpPWkuc3Vic3RyaW5nKDAscikrdCtpLnN1YnN0cmluZyhyKzIpLHI9aS5pbmRleE9mKCJ7fSIscit0Lmxlbmd0aCkscjwwKXJldHVybiExfSksaX07dC5pc0ZpbGU9ZnVuY3Rpb24obil7cmV0dXJuIHdpbmRvdy5GaWxlJiYiW29iamVjdCBGaWxlXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobil9O3QuaXNGaWxlTGlzdD1mdW5jdGlvbihuKXtyZXR1cm4gd2luZG93LkZpbGVMaXN0JiYiW29iamVjdCBGaWxlTGlzdF0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pfTt0LmlzRmlsZU9ySW5wdXQ9ZnVuY3Rpb24obil7cmV0dXJuIHQuaXNGaWxlKG4pfHx0LmlzSW5wdXQobil9O3QuaXNJbnB1dD1mdW5jdGlvbihuLHQpe3ZhciBpPWZ1bmN0aW9uKG4pe3ZhciBpPW4udG9Mb3dlckNhc2UoKTtyZXR1cm4gdD8iZmlsZSIhPT1pOiJmaWxlIj09PWl9O3JldHVybiEhKHdpbmRvdy5IVE1MSW5wdXRFbGVtZW50JiYiW29iamVjdCBIVE1MSW5wdXRFbGVtZW50XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobikmJm4udHlwZSYmaShuLnR5cGUpKXx8ISEobi50YWdOYW1lJiYiaW5wdXQiPT09bi50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJm4udHlwZSYmaShuLnR5cGUpKX07dC5pc0Jsb2I9ZnVuY3Rpb24obil7aWYod2luZG93LkJsb2ImJiJbb2JqZWN0IEJsb2JdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKSlyZXR1cm4hMH07dC5pc1hoclVwbG9hZFN1cHBvcnRlZD1mdW5jdGlvbigpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7cmV0dXJuIG4udHlwZT0iZmlsZSIsdm9pZCAwIT09bi5tdWx0aXBsZSYmInVuZGVmaW5lZCIhPXR5cGVvZiBGaWxlJiYidW5kZWZpbmVkIiE9dHlwZW9mIEZvcm1EYXRhJiZ2b2lkIDAhPT10LmNyZWF0ZVhockluc3RhbmNlKCkudXBsb2FkfTt0LmNyZWF0ZVhockluc3RhbmNlPWZ1bmN0aW9uKCl7aWYod2luZG93LlhNTEh0dHBSZXF1ZXN0KXJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3Q7dHJ5e3JldHVybiBuZXcgQWN0aXZlWE9iamVjdCgiTVNYTUwyLlhNTEhUVFAuMy4wIil9Y2F0Y2gobil7cmV0dXJuIHQubG9nKCJOZWl0aGVyIFhIUiBvciBBY3RpdmVYIGFyZSBzdXBwb3J0ZWQhIiwiZXJyb3IiKSxudWxsfX07dC5pc0ZvbGRlckRyb3BTdXBwb3J0ZWQ9ZnVuY3Rpb24obil7cmV0dXJuIG4uaXRlbXMmJm4uaXRlbXMubGVuZ3RoPjAmJm4uaXRlbXNbMF0ud2Via2l0R2V0QXNFbnRyeX07dC5pc0ZpbGVDaHVua2luZ1N1cHBvcnRlZD1mdW5jdGlvbigpe3JldHVybiF0LmFuZHJvaWRTdG9jaygpJiZ0LmlzWGhyVXBsb2FkU3VwcG9ydGVkKCkmJih2b2lkIDAhPT1GaWxlLnByb3RvdHlwZS5zbGljZXx8dm9pZCAwIT09RmlsZS5wcm90b3R5cGUud2Via2l0U2xpY2V8fHZvaWQgMCE9PUZpbGUucHJvdG90eXBlLm1velNsaWNlKX07dC5zbGljZUJsb2I9ZnVuY3Rpb24obix0LGkpe3JldHVybihuLnNsaWNlfHxuLm1velNsaWNlfHxuLndlYmtpdFNsaWNlKS5jYWxsKG4sdCxpKX07dC5hcnJheUJ1ZmZlclRvSGV4PWZ1bmN0aW9uKG4pe3ZhciBpPSIiLHI9bmV3IFVpbnQ4QXJyYXkobik7cmV0dXJuIHQuZWFjaChyLGZ1bmN0aW9uKG4sdCl7dmFyIHI9dC50b1N0cmluZygxNik7ci5sZW5ndGg8MiYmKHI9IjAiK3IpO2krPXJ9KSxpfTt0LnJlYWRCbG9iVG9IZXg9ZnVuY3Rpb24obixpLHIpe3ZhciBlPXQuc2xpY2VCbG9iKG4saSxpK3IpLHU9bmV3IEZpbGVSZWFkZXIsZj1uZXcgdC5Qcm9taXNlO3JldHVybiB1Lm9ubG9hZD1mdW5jdGlvbigpe2Yuc3VjY2Vzcyh0LmFycmF5QnVmZmVyVG9IZXgodS5yZXN1bHQpKX0sdS5vbmVycm9yPWYuZmFpbHVyZSx1LnJlYWRBc0FycmF5QnVmZmVyKGUpLGZ9O3QuZXh0ZW5kPWZ1bmN0aW9uKG4saSxyKXtyZXR1cm4gdC5lYWNoKGksZnVuY3Rpb24oaSx1KXtyJiZ0LmlzT2JqZWN0KHUpPyh2b2lkIDA9PT1uW2ldJiYobltpXT17fSksdC5leHRlbmQobltpXSx1LCEwKSk6bltpXT11fSksbn07dC5vdmVycmlkZT1mdW5jdGlvbihuLGkpe3ZhciByPXt9LHU9aShyKTtyZXR1cm4gdC5lYWNoKHUsZnVuY3Rpb24odCxpKXt2b2lkIDAhPT1uW3RdJiYoclt0XT1uW3RdKTtuW3RdPWl9KSxufTt0LmluZGV4T2Y9ZnVuY3Rpb24obix0LGkpe2lmKG4uaW5kZXhPZilyZXR1cm4gbi5pbmRleE9mKHQsaSk7aT1pfHwwO3ZhciByPW4ubGVuZ3RoO2ZvcihpPDAmJihpKz1yKTtpPHI7aSs9MSlpZihuLmhhc093blByb3BlcnR5KGkpJiZuW2ldPT09dClyZXR1cm4gaTtyZXR1cm4tMX07dC5nZXRVbmlxdWVJZD1mdW5jdGlvbigpe3JldHVybiJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgiLnJlcGxhY2UoL1t4eV0vZyxmdW5jdGlvbihuKXt2YXIgdD0xNipNYXRoLnJhbmRvbSgpfDA7cmV0dXJuKCJ4Ij09bj90OjMmdHw4KS50b1N0cmluZygxNil9KX07dC5pZT1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUiKSE9PS0xfHxuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlRyaWRlbnQiKSE9PS0xfTt0LmllNz1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUgNyIpIT09LTF9O3QuaWU4PWZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSA4IikhPT0tMX07dC5pZTEwPWZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiTVNJRSAxMCIpIT09LTF9O3QuaWUxMT1mdW5jdGlvbigpe3JldHVybiB0LmllKCkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigicnY6MTEiKSE9PS0xfTt0LmVkZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJFZGdlIik+PTB9O3Quc2FmYXJpPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PW5hdmlnYXRvci52ZW5kb3ImJm5hdmlnYXRvci52ZW5kb3IuaW5kZXhPZigiQXBwbGUiKSE9PS0xfTt0LmNocm9tZT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT1uYXZpZ2F0b3IudmVuZG9yJiZuYXZpZ2F0b3IudmVuZG9yLmluZGV4T2YoIkdvb2dsZSIpIT09LTF9O3Qub3BlcmE9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09bmF2aWdhdG9yLnZlbmRvciYmbmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKCJPcGVyYSIpIT09LTF9O3QuZmlyZWZveD1mdW5jdGlvbigpe3JldHVybiF0LmVkZ2UoKSYmIXQuaWUxMSgpJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1vemlsbGEiKSE9PS0xJiZ2b2lkIDAhPT1uYXZpZ2F0b3IudmVuZG9yJiYiIj09PW5hdmlnYXRvci52ZW5kb3J9O3Qud2luZG93cz1mdW5jdGlvbigpe3JldHVybiJXaW4zMiI9PT1uYXZpZ2F0b3IucGxhdGZvcm19O3QuYW5kcm9pZD1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiYW5kcm9pZCIpIT09LTF9O3QuYW5kcm9pZFN0b2NrPWZ1bmN0aW9uKCl7cmV0dXJuIHQuYW5kcm9pZCgpJiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiY2hyb21lIik8MH07dC5pb3M2PWZ1bmN0aW9uKCl7cmV0dXJuIHQuaW9zKCkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiIE9TIDZfIikhPT0tMX07dC5pb3M3PWZ1bmN0aW9uKCl7cmV0dXJuIHQuaW9zKCkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiIE9TIDdfIikhPT0tMX07dC5pb3M4PWZ1bmN0aW9uKCl7cmV0dXJuIHQuaW9zKCkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiIE9TIDhfIikhPT0tMX07dC5pb3M4MDA9ZnVuY3Rpb24oKXtyZXR1cm4gdC5pb3MoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCIgT1MgOF8wICIpIT09LTF9O3QuaW9zPWZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiaVBhZCIpIT09LTF8fG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiaVBvZCIpIT09LTF8fG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiaVBob25lIikhPT0tMX07dC5pb3NDaHJvbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdC5pb3MoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDcmlPUyIpIT09LTF9O3QuaW9zU2FmYXJpPWZ1bmN0aW9uKCl7cmV0dXJuIHQuaW9zKCkmJiF0Lmlvc0Nocm9tZSgpJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIlNhZmFyaSIpIT09LTF9O3QuaW9zU2FmYXJpV2ViVmlldz1mdW5jdGlvbigpe3JldHVybiB0LmlvcygpJiYhdC5pb3NDaHJvbWUoKSYmIXQuaW9zU2FmYXJpKCl9O3QucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdD9uLnByZXZlbnREZWZhdWx0KCk6bi5yZXR1cm5WYWx1ZT0hMX07dC50b0VsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gZnVuY3Rpb24odCl7bi5pbm5lckhUTUw9dDt2YXIgaT1uLmZpcnN0Q2hpbGQ7cmV0dXJuIG4ucmVtb3ZlQ2hpbGQoaSksaX19KCk7dC5lYWNoPWZ1bmN0aW9uKG4saSl7dmFyIHIsdTtpZihuKWlmKHdpbmRvdy5TdG9yYWdlJiZuLmNvbnN0cnVjdG9yPT09d2luZG93LlN0b3JhZ2UpZm9yKHI9MDtyPG4ubGVuZ3RoJiYodT1pKG4ua2V5KHIpLG4uZ2V0SXRlbShuLmtleShyKSkpLHUhPT0hMSk7cisrKTtlbHNlIGlmKHQuaXNBcnJheShuKXx8dC5pc0l0ZW1MaXN0KG4pfHx0LmlzTm9kZUxpc3QobikpZm9yKHI9MDtyPG4ubGVuZ3RoJiYodT1pKHIsbltyXSksdSE9PSExKTtyKyspO2Vsc2UgaWYodC5pc1N0cmluZyhuKSlmb3Iocj0wO3I8bi5sZW5ndGgmJih1PWkocixuLmNoYXJBdChyKSksdSE9PSExKTtyKyspO2Vsc2UgZm9yKHIgaW4gbilpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKHU9aShyLG5bcl0pLHU9PT0hMSkpYnJlYWt9O3QuYmluZD1mdW5jdGlvbihuLGkpe2lmKHQuaXNGdW5jdGlvbihuKSl7dmFyIHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3ZhciB1PXQuZXh0ZW5kKFtdLHIpO3JldHVybiBhcmd1bWVudHMubGVuZ3RoJiYodT11LmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSksbi5hcHBseShpLHUpfX10aHJvdyBuZXcgRXJyb3IoImZpcnN0IHBhcmFtZXRlciBtdXN0IGJlIGEgZnVuY3Rpb24hIik7fTt0Lm9iajJ1cmw9ZnVuY3Rpb24obixpLHIpe3ZhciB1PVtdLGY9IiYiLGU9ZnVuY3Rpb24obixyKXt2YXIgZj1pPy9cW1xdJC8udGVzdChpKT9pOmkrIlsiK3IrIl0iOnI7InVuZGVmaW5lZCIhPT1mJiYidW5kZWZpbmVkIiE9PXImJnUucHVzaCgib2JqZWN0Ij09dHlwZW9mIG4/dC5vYmoydXJsKG4sZiwhMCk6IltvYmplY3QgRnVuY3Rpb25dIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKT9lbmNvZGVVUklDb21wb25lbnQoZikrIj0iK2VuY29kZVVSSUNvbXBvbmVudChuKCkpOmVuY29kZVVSSUNvbXBvbmVudChmKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKX07cmV0dXJuIXImJmk/KGY9L1w/Ly50ZXN0KGkpPy9cPyQvLnRlc3QoaSk/IiI6IiYiOiI/Iix1LnB1c2goaSksdS5wdXNoKHQub2JqMnVybChuKSkpOiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobikmJnZvaWQgMCE9PW4/dC5lYWNoKG4sZnVuY3Rpb24obix0KXtlKHQsbil9KTp2b2lkIDAhPT1uJiZudWxsIT09biYmIm9iamVjdCI9PXR5cGVvZiBuP3QuZWFjaChuLGZ1bmN0aW9uKG4sdCl7ZSh0LG4pfSk6dS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChpKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKSxpP3Uuam9pbihmKTp1LmpvaW4oZikucmVwbGFjZSgvXiYvLCIiKS5yZXBsYWNlKC8lMjAvZywiKyIpfTt0Lm9iajJGb3JtRGF0YT1mdW5jdGlvbihuLGkscil7cmV0dXJuIGl8fChpPW5ldyBGb3JtRGF0YSksdC5lYWNoKG4sZnVuY3Rpb24obix1KXtuPXI/cisiWyIrbisiXSI6bjt0LmlzT2JqZWN0KHUpP3Qub2JqMkZvcm1EYXRhKHUsaSxuKTp0LmlzRnVuY3Rpb24odSk/aS5hcHBlbmQobix1KCkpOmkuYXBwZW5kKG4sdSl9KSxpfTt0Lm9iajJJbnB1dHM9ZnVuY3Rpb24obixpKXt2YXIgcjtyZXR1cm4gaXx8KGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZm9ybSIpKSx0Lm9iajJGb3JtRGF0YShuLHthcHBlbmQ6ZnVuY3Rpb24obix0KXtyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7ci5zZXRBdHRyaWJ1dGUoIm5hbWUiLG4pO3Iuc2V0QXR0cmlidXRlKCJ2YWx1ZSIsdCk7aS5hcHBlbmRDaGlsZChyKX19KSxpfTt0LnBhcnNlSnNvbj1mdW5jdGlvbihuKXtyZXR1cm4gd2luZG93LkpTT04mJnQuaXNGdW5jdGlvbihKU09OLnBhcnNlKT9KU09OLnBhcnNlKG4pOmV2YWwoIigiK24rIikiKX07dC5nZXRFeHRlbnNpb249ZnVuY3Rpb24obil7dmFyIHQ9bi5sYXN0SW5kZXhPZigiLiIpKzE7aWYodD4wKXJldHVybiBuLnN1YnN0cih0LG4ubGVuZ3RoLXQpfTt0LmdldEZpbGVuYW1lPWZ1bmN0aW9uKG4pe3JldHVybiB0LmlzSW5wdXQobik/bi52YWx1ZS5yZXBsYWNlKC8uKihcL3xcXCkvLCIiKTp0LmlzRmlsZShuKSYmbnVsbCE9PW4uZmlsZU5hbWUmJnZvaWQgMCE9PW4uZmlsZU5hbWU/bi5maWxlTmFtZTpuLm5hbWV9O3QuRGlzcG9zZVN1cHBvcnQ9ZnVuY3Rpb24oKXt2YXIgbj1bXTtyZXR1cm57ZGlzcG9zZTpmdW5jdGlvbigpe3ZhciB0O2RvIHQ9bi5zaGlmdCgpLHQmJnQoKTt3aGlsZSh0KX0sYXR0YWNoOmZ1bmN0aW9uKCl7dmFyIG49YXJndW1lbnRzO3RoaXMuYWRkRGlzcG9zZXIodChuWzBdKS5hdHRhY2guYXBwbHkodGhpcyxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpKX0sYWRkRGlzcG9zZXI6ZnVuY3Rpb24odCl7bi5wdXNoKHQpfX19fSgpLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiOyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIHR9KToidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9dDpuLnFxPXR9KCksZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dC5FcnJvcj1mdW5jdGlvbihuKXt0aGlzLm1lc3NhZ2U9IltGaW5lIFVwbG9hZGVyICIrdC52ZXJzaW9uKyJdICIrbn07dC5FcnJvci5wcm90b3R5cGU9bmV3IEVycm9yfSgpO3QudmVyc2lvbj0iNS4xNi4yIjt0LnN1cHBvcnRlZEZlYXR1cmVzPWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGsoKXt2YXIgbixpPSEwO3RyeXtuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7bi50eXBlPSJmaWxlIjt0KG4pLmhpZGUoKTtuLmRpc2FibGVkJiYoaT0hMSl9Y2F0Y2gobil7aT0hMX1yZXR1cm4gaX1mdW5jdGlvbiBkKCl7cmV0dXJuKHQuY2hyb21lKCl8fHQub3BlcmEoKSkmJnZvaWQgMCE9PW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZVwvWzFdWzQtOV18Q2hyb21lXC9bMi05XVswLTldLyl9ZnVuY3Rpb24gbygpe3JldHVybiB3aW5kb3cuWE1MSHR0cFJlcXVlc3Q/dm9pZCAwIT09dC5jcmVhdGVYaHJJbnN0YW5jZSgpLndpdGhDcmVkZW50aWFsczohMX1mdW5jdGlvbiBzKCl7cmV0dXJuIHZvaWQgMCE9PXdpbmRvdy5YRG9tYWluUmVxdWVzdH1mdW5jdGlvbiBnKCl7cmV0dXJuISFvKCl8fHMoKX1mdW5jdGlvbiBudCgpe3JldHVybiB2b2lkIDAhPT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLndlYmtpdGRpcmVjdG9yeX1mdW5jdGlvbiB0dCgpe3RyeXtyZXR1cm4hIXdpbmRvdy5sb2NhbFN0b3JhZ2UmJnQuaXNGdW5jdGlvbih3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0pfWNhdGNoKG4pe3JldHVybiExfX1mdW5jdGlvbiBpdCgpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtyZXR1cm4oImRyYWdnYWJsZSJpbiBufHwib25kcmFnc3RhcnQiaW4gbiYmIm9uZHJvcCJpbiBuKSYmIXQuYW5kcm9pZCgpJiYhdC5pb3MoKX12YXIgaSxmLGUsbixoLHIsYyxsLGEsdix5LHAsdyx1LGI7cmV0dXJuIGk9aygpLG49aSYmdC5pc1hoclVwbG9hZFN1cHBvcnRlZCgpLGY9biYmIXQuYW5kcm9pZFN0b2NrKCksZT1uJiZpdCgpLGg9ZSYmZnVuY3Rpb24oKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3JldHVybiBuLnR5cGU9ImZpbGUiLCEhKCJ3ZWJraXRkaXJlY3RvcnkiaW4obnx8ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbdHlwZT1maWxlXSIpWzBdKSl9KCkscj1uJiZ0LmlzRmlsZUNodW5raW5nU3VwcG9ydGVkKCksYz1uJiZyJiZ0dCgpLGw9biYmZCgpLGE9aSYmKHZvaWQgMCE9PXdpbmRvdy5wb3N0TWVzc2FnZXx8bikseT1vKCksdj1zKCkscD1nKCksdz1udCgpLHU9biYmdm9pZCAwIT09d2luZG93LkZpbGVSZWFkZXIsYj1mdW5jdGlvbigpe3JldHVybiEhbiYmIXQuYW5kcm9pZFN0b2NrKCkmJiF0Lmlvc0Nocm9tZSgpfSgpLHthamF4VXBsb2FkaW5nOm4sYmxvYlVwbG9hZGluZzpmLGNhbkRldGVybWluZVNpemU6bixjaHVua2luZzpyLGRlbGV0ZUZpbGVDb3JzOnAsZGVsZXRlRmlsZUNvcnNYZHI6dixkZWxldGVGaWxlQ29yc1hocjp5LGRpYWxvZ0VsZW1lbnQ6ISF3aW5kb3cuSFRNTERpYWxvZ0VsZW1lbnQsZmlsZURyb3A6ZSxmb2xkZXJEcm9wOmgsZm9sZGVyU2VsZWN0aW9uOncsaW1hZ2VQcmV2aWV3czp1LGltYWdlVmFsaWRhdGlvbjp1LGl0ZW1TaXplVmFsaWRhdGlvbjpuLHBhdXNlOnIscHJvZ3Jlc3NCYXI6YixyZXN1bWU6YyxzY2FsaW5nOnUmJmYsdGlmZlByZXZpZXdzOnQuc2FmYXJpKCksdW5saW1pdGVkU2NhbGVkSW1hZ2VTaXplOiF0LmlvcygpLHVwbG9hZGluZzppLHVwbG9hZENvcnM6YSx1cGxvYWRDdXN0b21IZWFkZXJzOm4sdXBsb2FkTm9uTXVsdGlwYXJ0Om4sdXBsb2FkVmlhUGFzdGU6bH19KCk7dC5pc0dlbmVyaWNQcm9taXNlPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtyZXR1cm4hIShuJiZuLnRoZW4mJnQuaXNGdW5jdGlvbihuLnRoZW4pKX07dC5Qcm9taXNlPWZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBpLG4sZj1bXSxlPVtdLHI9W10sdT0wO3QuZXh0ZW5kKHRoaXMse3RoZW46ZnVuY3Rpb24odCxyKXtyZXR1cm4gMD09PXU/KHQmJmYucHVzaCh0KSxyJiZlLnB1c2gocikpOnU9PT0tMT9yJiZyLmFwcGx5KG51bGwsbik6dCYmdC5hcHBseShudWxsLGkpLHRoaXN9LGRvbmU6ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT11P3IucHVzaCh0KTp0LmFwcGx5KG51bGwsdm9pZCAwPT09bj9pOm4pLHRoaXN9LHN1Y2Nlc3M6ZnVuY3Rpb24oKXtyZXR1cm4gdT0xLGk9YXJndW1lbnRzLGYubGVuZ3RoJiZ0LmVhY2goZixmdW5jdGlvbihuLHQpe3QuYXBwbHkobnVsbCxpKX0pLHIubGVuZ3RoJiZ0LmVhY2gocixmdW5jdGlvbihuLHQpe3QuYXBwbHkobnVsbCxpKX0pLHRoaXN9LGZhaWx1cmU6ZnVuY3Rpb24oKXtyZXR1cm4gdT0tMSxuPWFyZ3VtZW50cyxlLmxlbmd0aCYmdC5lYWNoKGUsZnVuY3Rpb24odCxpKXtpLmFwcGx5KG51bGwsbil9KSxyLmxlbmd0aCYmdC5lYWNoKHIsZnVuY3Rpb24odCxpKXtpLmFwcGx5KG51bGwsbil9KSx0aGlzfX0pfTt0LkJsb2JQcm94eT1mdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0Ijt0LmV4dGVuZCh0aGlzLHtyZWZlcmVuY2VCbG9iOm4sY3JlYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGkobil9fSl9O3QuVXBsb2FkQnV0dG9uPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBlKCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtyZXR1cm4gbi5zZXRBdHRyaWJ1dGUodC5VcGxvYWRCdXR0b24uQlVUVE9OX0lEX0FUVFJfTkFNRSxmKSxuLnNldEF0dHJpYnV0ZSgidGl0bGUiLGkudGl0bGUpLG8uc2V0TXVsdGlwbGUoaS5tdWx0aXBsZSxuKSxpLmZvbGRlcnMmJnQuc3VwcG9ydGVkRmVhdHVyZXMuZm9sZGVyU2VsZWN0aW9uJiZuLnNldEF0dHJpYnV0ZSgid2Via2l0ZGlyZWN0b3J5IiwiIiksaS5hY2NlcHRGaWxlcyYmbi5zZXRBdHRyaWJ1dGUoImFjY2VwdCIsaS5hY2NlcHRGaWxlcyksbi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJmaWxlIiksbi5zZXRBdHRyaWJ1dGUoIm5hbWUiLGkubmFtZSksdChuKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIscmlnaHQ6MCx0b3A6MCxmb250RmFtaWx5OiJBcmlhbCIsZm9udFNpemU6dC5pZSgpJiYhdC5pZTgoKT8iMzUwMHB4IjoiMTE4cHgiLG1hcmdpbjowLHBhZGRpbmc6MCxjdXJzb3I6InBvaW50ZXIiLG9wYWNpdHk6MH0pLCF0LmllNygpJiZ0KG4pLmNzcyh7aGVpZ2h0OiIxMDAlIn0pLGkuZWxlbWVudC5hcHBlbmRDaGlsZChuKSx1LmF0dGFjaChuLCJjaGFuZ2UiLGZ1bmN0aW9uKCl7aS5vbkNoYW5nZShuKX0pLHUuYXR0YWNoKG4sIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXt0KGkuZWxlbWVudCkuYWRkQ2xhc3MoaS5ob3ZlckNsYXNzKX0pLHUuYXR0YWNoKG4sIm1vdXNlb3V0IixmdW5jdGlvbigpe3QoaS5lbGVtZW50KS5yZW1vdmVDbGFzcyhpLmhvdmVyQ2xhc3MpfSksdS5hdHRhY2gobiwiZm9jdXMiLGZ1bmN0aW9uKCl7dChpLmVsZW1lbnQpLmFkZENsYXNzKGkuZm9jdXNDbGFzcyl9KSx1LmF0dGFjaChuLCJibHVyIixmdW5jdGlvbigpe3QoaS5lbGVtZW50KS5yZW1vdmVDbGFzcyhpLmZvY3VzQ2xhc3MpfSksbn12YXIgcixmLG89dGhpcyx1PW5ldyB0LkRpc3Bvc2VTdXBwb3J0LGk9e2FjY2VwdEZpbGVzOm51bGwsZWxlbWVudDpudWxsLGZvY3VzQ2xhc3M6InFxLXVwbG9hZC1idXR0b24tZm9jdXMiLGZvbGRlcnM6ITEsaG92ZXJDbGFzczoicXEtdXBsb2FkLWJ1dHRvbi1ob3ZlciIsaW9zOEJyb3dzZXJDcmFzaFdvcmthcm91bmQ6ITEsbXVsdGlwbGU6ITEsbmFtZToicXFmaWxlIixvbkNoYW5nZTpmdW5jdGlvbigpe30sdGl0bGU6bnVsbH07dC5leHRlbmQoaSxuKTtmPXQuZ2V0VW5pcXVlSWQoKTt0KGkuZWxlbWVudCkuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUiLG92ZXJmbG93OiJoaWRkZW4iLGRpcmVjdGlvbjoibHRyIn0pO3QuZXh0ZW5kKHRoaXMse2dldElucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIHJ9LGdldEJ1dHRvbklkOmZ1bmN0aW9uKCl7cmV0dXJuIGZ9LHNldE11bHRpcGxlOmZ1bmN0aW9uKG4scil7dmFyIHU9cnx8dGhpcy5nZXRJbnB1dCgpO2kuaW9zOEJyb3dzZXJDcmFzaFdvcmthcm91bmQmJnQuaW9zOCgpJiYodC5pb3NDaHJvbWUoKXx8dC5pb3NTYWZhcmlXZWJWaWV3KCkpP3Uuc2V0QXR0cmlidXRlKCJtdWx0aXBsZSIsIiIpOm4/dS5zZXRBdHRyaWJ1dGUoIm11bHRpcGxlIiwiIik6dS5yZW1vdmVBdHRyaWJ1dGUoIm11bHRpcGxlIil9LHNldEFjY2VwdEZpbGVzOmZ1bmN0aW9uKG4pe24hPT1pLmFjY2VwdEZpbGVzJiZyLnNldEF0dHJpYnV0ZSgiYWNjZXB0IixuKX0scmVzZXQ6ZnVuY3Rpb24oKXtyLnBhcmVudE5vZGUmJnQocikucmVtb3ZlKCk7dChpLmVsZW1lbnQpLnJlbW92ZUNsYXNzKGkuZm9jdXNDbGFzcyk7cj1udWxsO3I9ZSgpfX0pO3I9ZSgpfTt0LlVwbG9hZEJ1dHRvbi5CVVRUT05fSURfQVRUUl9OQU1FPSJxcS1idXR0b24taWQiO3QuVXBsb2FkRGF0YT1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhuKXtpZih0LmlzQXJyYXkobikpe3ZhciByPVtdO3JldHVybiB0LmVhY2gobixmdW5jdGlvbihuLHQpe3IucHVzaChpW3RdKX0pLHJ9cmV0dXJuIGlbbl19ZnVuY3Rpb24gcyhuKXtpZih0LmlzQXJyYXkobikpe3ZhciByPVtdO3JldHVybiB0LmVhY2gobixmdW5jdGlvbihuLHQpe3IucHVzaChpW3VbdF1dKX0pLHJ9cmV0dXJuIGlbdVtuXV19ZnVuY3Rpb24gaChuKXt2YXIgdT1bXSxmPVtdLmNvbmNhdChuKTtyZXR1cm4gdC5lYWNoKGYsZnVuY3Rpb24obixmKXt2YXIgZT1yW2ZdO3ZvaWQgMCE9PWUmJnQuZWFjaChlLGZ1bmN0aW9uKG4sdCl7dS5wdXNoKGlbdF0pfSl9KSx1fXZhciBpPVtdLHU9e30scj17fSxlPXt9LGY9e307dC5leHRlbmQodGhpcyx7YWRkRmlsZTpmdW5jdGlvbihvKXt2YXIgaD1vLnN0YXR1c3x8dC5zdGF0dXMuU1VCTUlUVElORyxzPWkucHVzaCh7bmFtZTpvLm5hbWUsb3JpZ2luYWxOYW1lOm8ubmFtZSx1dWlkOm8udXVpZCxzaXplOm51bGw9PW8uc2l6ZT8tMTpvLnNpemUsc3RhdHVzOmgsZmlsZTpvLmZpbGV9KS0xO3JldHVybiBvLmJhdGNoSWQmJihpW3NdLmJhdGNoSWQ9by5iYXRjaElkLHZvaWQgMD09PWZbby5iYXRjaElkXSYmKGZbby5iYXRjaElkXT1bXSksZltvLmJhdGNoSWRdLnB1c2gocykpLG8ucHJveHlHcm91cElkJiYoaVtzXS5wcm94eUdyb3VwSWQ9by5wcm94eUdyb3VwSWQsdm9pZCAwPT09ZVtvLnByb3h5R3JvdXBJZF0mJihlW28ucHJveHlHcm91cElkXT1bXSksZVtvLnByb3h5R3JvdXBJZF0ucHVzaChzKSksaVtzXS5pZD1zLHVbby51dWlkXT1zLHZvaWQgMD09PXJbaF0mJihyW2hdPVtdKSxyW2hdLnB1c2gocyksby5vbkJlZm9yZVN0YXR1c0NoYW5nZSYmby5vbkJlZm9yZVN0YXR1c0NoYW5nZShzKSxuLm9uU3RhdHVzQ2hhbmdlKHMsbnVsbCxoKSxzfSxyZXRyaWV2ZTpmdW5jdGlvbihuKXtyZXR1cm4gdC5pc09iamVjdChuKSYmaS5sZW5ndGg/dm9pZCAwIT09bi5pZD9vKG4uaWQpOnZvaWQgMCE9PW4udXVpZD9zKG4udXVpZCk6bi5zdGF0dXM/aChuLnN0YXR1cyk6dm9pZCAwOnQuZXh0ZW5kKFtdLGksITApfSxyZW1vdmVGaWxlUmVmOmZ1bmN0aW9uKG4pe3ZhciB0PW8obik7dCYmZGVsZXRlIHQuZmlsZX0scmVzZXQ6ZnVuY3Rpb24oKXtpPVtdO3U9e307cj17fTtmPXt9fSxzZXRTdGF0dXM6ZnVuY3Rpb24odSxmKXt2YXIgZT1pW3VdLnN0YXR1cyxvPXQuaW5kZXhPZihyW2VdLHUpO3JbZV0uc3BsaWNlKG8sMSk7aVt1XS5zdGF0dXM9Zjt2b2lkIDA9PT1yW2ZdJiYocltmXT1bXSk7cltmXS5wdXNoKHUpO24ub25TdGF0dXNDaGFuZ2UodSxlLGYpfSx1dWlkQ2hhbmdlZDpmdW5jdGlvbihuLHQpe3ZhciByPWlbbl0udXVpZDtpW25dLnV1aWQ9dDt1W3RdPW47ZGVsZXRlIHVbcl19LHVwZGF0ZU5hbWU6ZnVuY3Rpb24obix0KXtpW25dLm5hbWU9dH0sdXBkYXRlU2l6ZTpmdW5jdGlvbihuLHQpe2lbbl0uc2l6ZT10fSxzZXRQYXJlbnRJZDpmdW5jdGlvbihuLHQpe2lbbl0ucGFyZW50SWQ9dH0sZ2V0SWRzSW5Qcm94eUdyb3VwOmZ1bmN0aW9uKG4pe3ZhciB0PWlbbl0ucHJveHlHcm91cElkO3JldHVybiB0P2VbdF06W119LGdldElkc0luQmF0Y2g6ZnVuY3Rpb24obil7cmV0dXJuIGZbaVtuXS5iYXRjaElkXX19KX07dC5zdGF0dXM9e1NVQk1JVFRJTkc6InN1Ym1pdHRpbmciLFNVQk1JVFRFRDoic3VibWl0dGVkIixSRUpFQ1RFRDoicmVqZWN0ZWQiLFFVRVVFRDoicXVldWVkIixDQU5DRUxFRDoiY2FuY2VsZWQiLFBBVVNFRDoicGF1c2VkIixVUExPQURJTkc6InVwbG9hZGluZyIsVVBMT0FEX0ZJTkFMSVpJTkc6InVwbG9hZCBmaW5hbGl6aW5nIixVUExPQURfUkVUUllJTkc6InJldHJ5aW5nIHVwbG9hZCIsVVBMT0FEX1NVQ0NFU1NGVUw6InVwbG9hZCBzdWNjZXNzZnVsIixVUExPQURfRkFJTEVEOiJ1cGxvYWQgZmFpbGVkIixERUxFVEVfRkFJTEVEOiJkZWxldGUgZmFpbGVkIixERUxFVElORzoiZGVsZXRpbmciLERFTEVURUQ6ImRlbGV0ZWQifSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt0LmJhc2VQdWJsaWNBcGk9e2FkZEJsb2JzOmZ1bmN0aW9uKG4sdCxpKXt0aGlzLmFkZEZpbGVzKG4sdCxpKX0sYWRkSW5pdGlhbEZpbGVzOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXM7dC5lYWNoKG4sZnVuY3Rpb24obix0KXtpLl9hZGRDYW5uZWRGaWxlKHQpfSl9LGFkZEZpbGVzOmZ1bmN0aW9uKG4saSxyKXt0aGlzLl9tYXliZUhhbmRsZUlvczhTYWZhcmlXb3JrYXJvdW5kKCk7dmFyIGY9MD09PXRoaXMuX3N0b3JlZElkcy5sZW5ndGg/dC5nZXRVbmlxdWVJZCgpOnRoaXMuX2N1cnJlbnRCYXRjaElkLGU9dC5iaW5kKGZ1bmN0aW9uKG4pe3RoaXMuX2hhbmRsZU5ld0ZpbGUoe2Jsb2I6bixuYW1lOnRoaXMuX29wdGlvbnMuYmxvYnMuZGVmYXVsdE5hbWV9LGYsdSl9LHRoaXMpLG89dC5iaW5kKGZ1bmN0aW9uKG4pe3RoaXMuX2hhbmRsZU5ld0ZpbGUobixmLHUpfSx0aGlzKSxzPXQuYmluZChmdW5jdGlvbihuKXt2YXIgaT10LmNhbnZhc1RvQmxvYihuKTt0aGlzLl9oYW5kbGVOZXdGaWxlKHtibG9iOmksbmFtZTp0aGlzLl9vcHRpb25zLmJsb2JzLmRlZmF1bHROYW1lKyIucG5nIn0sZix1KX0sdGhpcyksaD10LmJpbmQoZnVuY3Rpb24obil7dmFyIGk9bi5xdWFsaXR5JiZuLnF1YWxpdHkvMTAwLHI9dC5jYW52YXNUb0Jsb2Iobi5jYW52YXMsbi50eXBlLGkpO3RoaXMuX2hhbmRsZU5ld0ZpbGUoe2Jsb2I6cixuYW1lOm4ubmFtZX0sZix1KX0sdGhpcyksYz10LmJpbmQoZnVuY3Rpb24obil7aWYodC5pc0lucHV0KG4pJiZ0LnN1cHBvcnRlZEZlYXR1cmVzLmFqYXhVcGxvYWRpbmcpe3ZhciBpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4uZmlsZXMpLHI9dGhpczt0LmVhY2goaSxmdW5jdGlvbihuLHQpe3IuX2hhbmRsZU5ld0ZpbGUodCxmLHUpfSl9ZWxzZSB0aGlzLl9oYW5kbGVOZXdGaWxlKG4sZix1KX0sdGhpcyksbD1mdW5jdGlvbigpe3QuaXNGaWxlTGlzdChuKSYmKG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobikpO249W10uY29uY2F0KG4pfSxhPXRoaXMsdT1bXTt0aGlzLl9jdXJyZW50QmF0Y2hJZD1mO24mJihsKCksdC5lYWNoKG4sZnVuY3Rpb24obixpKXt0LmlzRmlsZU9ySW5wdXQoaSk/YyhpKTp0LmlzQmxvYihpKT9lKGkpOnQuaXNPYmplY3QoaSk/aS5ibG9iJiZpLm5hbWU/byhpKTppLmNhbnZhcyYmaS5uYW1lJiZoKGkpOmkudGFnTmFtZSYmImNhbnZhcyI9PT1pLnRhZ05hbWUudG9Mb3dlckNhc2UoKT9zKGkpOmEubG9nKGkrIiBpcyBub3QgYSB2YWxpZCBmaWxlIGNvbnRhaW5lciEgIElnbm9yaW5nISIsIndhcm4iKX0pLHRoaXMubG9nKCJSZWNlaXZlZCAiK3UubGVuZ3RoKyIgZmlsZXMuIiksdGhpcy5fcHJlcGFyZUl0ZW1zRm9yVXBsb2FkKHUsaSxyKSl9LGNhbmNlbDpmdW5jdGlvbihuKXt2YXIgaT10aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtpZDpufSk7aSYmaS5zdGF0dXM9PT10LnN0YXR1cy5VUExPQURfRklOQUxJWklORz90aGlzLmxvZyh0LmZvcm1hdCgiSWdub3JpbmcgY2FuY2VsIGZvciBmaWxlIElEIHt9ICh7fSkuICBGaW5hbGl6aW5nIHVwbG9hZC4iLG4sdGhpcy5nZXROYW1lKG4pKSwiZXJyb3IiKTp0aGlzLl9oYW5kbGVyLmNhbmNlbChuKX0sY2FuY2VsQWxsOmZ1bmN0aW9uKCl7dmFyIG49W10saT10aGlzO3QuZXh0ZW5kKG4sdGhpcy5fc3RvcmVkSWRzKTt0LmVhY2gobixmdW5jdGlvbihuLHQpe2kuY2FuY2VsKHQpfSk7dGhpcy5faGFuZGxlci5jYW5jZWxBbGwoKX0sY2xlYXJTdG9yZWRGaWxlczpmdW5jdGlvbigpe3RoaXMuX3N0b3JlZElkcz1bXX0sY29udGludWVVcGxvYWQ6ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7aWQ6bn0pO3JldHVybiEoIXQuc3VwcG9ydGVkRmVhdHVyZXMucGF1c2V8fCF0aGlzLl9vcHRpb25zLmNodW5raW5nLmVuYWJsZWQpJiYoaS5zdGF0dXM9PT10LnN0YXR1cy5QQVVTRUQ/KHRoaXMubG9nKHQuZm9ybWF0KCJQYXVzZWQgZmlsZSBJRCB7fSAoe30pIHdpbGwgYmUgY29udGludWVkLiAgTm90IHBhdXNlZC4iLG4sdGhpcy5nZXROYW1lKG4pKSksdGhpcy5fdXBsb2FkRmlsZShuKSwhMCk6KHRoaXMubG9nKHQuZm9ybWF0KCJJZ25vcmluZyBjb250aW51ZSBmb3IgZmlsZSBJRCB7fSAoe30pLiAgTm90IHBhdXNlZC4iLG4sdGhpcy5nZXROYW1lKG4pKSwiZXJyb3IiKSwhMSkpfSxkZWxldGVGaWxlOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9vblN1Ym1pdERlbGV0ZShuKX0sZG9lc0V4aXN0OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9oYW5kbGVyLmlzVmFsaWQobil9LGRyYXdUaHVtYm5haWw6ZnVuY3Rpb24obixpLHIsdSxmKXt2YXIgbyxzLGU9bmV3IHQuUHJvbWlzZTtyZXR1cm4gdGhpcy5faW1hZ2VHZW5lcmF0b3I/KG89dGhpcy5fdGh1bWJuYWlsVXJsc1tuXSxzPXtjdXN0b21SZXNpemVGdW5jdGlvbjpmLG1heFNpemU6cj4wP3I6bnVsbCxzY2FsZTpyPjB9LCF1JiZ0LnN1cHBvcnRlZEZlYXR1cmVzLmltYWdlUHJldmlld3MmJihvPXRoaXMuZ2V0RmlsZShuKSksbnVsbD09bz9lLmZhaWx1cmUoe2NvbnRhaW5lcjppLGVycm9yOiJGaWxlIG9yIFVSTCBub3QgZm91bmQuIn0pOnRoaXMuX2ltYWdlR2VuZXJhdG9yLmdlbmVyYXRlKG8saSxzKS50aGVuKGZ1bmN0aW9uKG4pe2Uuc3VjY2VzcyhuKX0sZnVuY3Rpb24obix0KXtlLmZhaWx1cmUoe2NvbnRhaW5lcjpuLGVycm9yOnR8fCJQcm9ibGVtIGdlbmVyYXRpbmcgdGh1bWJuYWlsIn0pfSkpOmUuZmFpbHVyZSh7Y29udGFpbmVyOmksZXJyb3I6Ik1pc3NpbmcgaW1hZ2UgZ2VuZXJhdG9yIG1vZHVsZSJ9KSxlfSxnZXRCdXR0b246ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2dldEJ1dHRvbih0aGlzLl9idXR0b25JZHNGb3JGaWxlSWRzW25dKX0sZ2V0RW5kcG9pbnQ6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2VuZHBvaW50U3RvcmUuZ2V0KG4pfSxnZXRGaWxlOmZ1bmN0aW9uKG4pe3ZhciB0LGk9dGhpcy5faGFuZGxlci5nZXRGaWxlKG4pO3JldHVybiBpfHwodD10aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtpZDpufSksdCYmKGk9dC5maWxlKSksaXx8bnVsbH0sZ2V0SW5Qcm9ncmVzczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtzdGF0dXM6W3Quc3RhdHVzLlVQTE9BRElORyx0LnN0YXR1cy5VUExPQURfUkVUUllJTkcsdC5zdGF0dXMuUVVFVUVEXX0pLmxlbmd0aH0sZ2V0TmFtZTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7aWQ6bn0pLm5hbWV9LGdldFBhcmVudElkOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuZ2V0VXBsb2Fkcyh7aWQ6bn0pLGk9bnVsbDtyZXR1cm4gdCYmdm9pZCAwIT09dC5wYXJlbnRJZCYmKGk9dC5wYXJlbnRJZCksaX0sZ2V0UmVzdW1hYmxlRmlsZXNEYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhbmRsZXIuZ2V0UmVzdW1hYmxlRmlsZXNEYXRhKCl9LGdldFNpemU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3VwbG9hZERhdGEucmV0cmlldmUoe2lkOm59KS5zaXplfSxnZXROZXRVcGxvYWRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25ldFVwbG9hZGVkfSxnZXRSZW1haW5pbmdBbGxvd2VkSXRlbXM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9jdXJyZW50SXRlbUxpbWl0O3JldHVybiBuPjA/bi10aGlzLl9uZXRVcGxvYWRlZE9yUXVldWVkOm51bGx9LGdldFVwbG9hZHM6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3VwbG9hZERhdGEucmV0cmlldmUobil9LGdldFV1aWQ6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3VwbG9hZERhdGEucmV0cmlldmUoe2lkOm59KS51dWlkfSxpc1Jlc3VtYWJsZTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5faGFuZGxlci5oYXNSZXN1bWVSZWNvcmQobil9LGxvZzpmdW5jdGlvbihuLGkpeyF0aGlzLl9vcHRpb25zLmRlYnVnfHxpJiYiaW5mbyIhPT1pP2kmJiJpbmZvIiE9PWkmJnQubG9nKCJbRmluZSBVcGxvYWRlciAiK3QudmVyc2lvbisiXSAiK24saSk6dC5sb2coIltGaW5lIFVwbG9hZGVyICIrdC52ZXJzaW9uKyJdICIrbil9LHBhdXNlVXBsb2FkOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMuX3VwbG9hZERhdGEucmV0cmlldmUoe2lkOm59KTtpZighdC5zdXBwb3J0ZWRGZWF0dXJlcy5wYXVzZXx8IXRoaXMuX29wdGlvbnMuY2h1bmtpbmcuZW5hYmxlZClyZXR1cm4hMTtpZih0LmluZGV4T2YoW3Quc3RhdHVzLlVQTE9BRElORyx0LnN0YXR1cy5VUExPQURfUkVUUllJTkddLGkuc3RhdHVzKT49MCl7aWYodGhpcy5faGFuZGxlci5wYXVzZShuKSlyZXR1cm4gdGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0LnN0YXR1cy5QQVVTRUQpLCEwO3RoaXMubG9nKHQuZm9ybWF0KCJVbmFibGUgdG8gcGF1c2UgZmlsZSBJRCB7fSAoe30pLiIsbix0aGlzLmdldE5hbWUobikpLCJlcnJvciIpfWVsc2UgdGhpcy5sb2codC5mb3JtYXQoIklnbm9yaW5nIHBhdXNlIGZvciBmaWxlIElEIHt9ICh7fSkuICBOb3QgaW4gcHJvZ3Jlc3MuIixuLHRoaXMuZ2V0TmFtZShuKSksImVycm9yIik7cmV0dXJuITF9LHJlbW92ZUZpbGVSZWY6ZnVuY3Rpb24obil7dGhpcy5faGFuZGxlci5leHB1bmdlKG4pO3RoaXMuX3VwbG9hZERhdGEucmVtb3ZlRmlsZVJlZihuKX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLmxvZygiUmVzZXR0aW5nIHVwbG9hZGVyLi4uIik7dGhpcy5faGFuZGxlci5yZXNldCgpO3RoaXMuX3N0b3JlZElkcz1bXTt0aGlzLl9hdXRvUmV0cmllcz1bXTt0aGlzLl9yZXRyeVRpbWVvdXRzPVtdO3RoaXMuX3ByZXZlbnRSZXRyaWVzPVtdO3RoaXMuX3RodW1ibmFpbFVybHM9W107dC5lYWNoKHRoaXMuX2J1dHRvbnMsZnVuY3Rpb24obix0KXt0LnJlc2V0KCl9KTt0aGlzLl9wYXJhbXNTdG9yZS5yZXNldCgpO3RoaXMuX2VuZHBvaW50U3RvcmUucmVzZXQoKTt0aGlzLl9uZXRVcGxvYWRlZE9yUXVldWVkPTA7dGhpcy5fbmV0VXBsb2FkZWQ9MDt0aGlzLl91cGxvYWREYXRhLnJlc2V0KCk7dGhpcy5fYnV0dG9uSWRzRm9yRmlsZUlkcz1bXTt0aGlzLl9wYXN0ZUhhbmRsZXImJnRoaXMuX3Bhc3RlSGFuZGxlci5yZXNldCgpO3RoaXMuX29wdGlvbnMuc2Vzc2lvbi5yZWZyZXNoT25SZXNldCYmdGhpcy5fcmVmcmVzaFNlc3Npb25EYXRhKCk7dGhpcy5fc3VjY2VlZGVkU2luY2VMYXN0QWxsQ29tcGxldGU9W107dGhpcy5fZmFpbGVkU2luY2VMYXN0QWxsQ29tcGxldGU9W107dGhpcy5fdG90YWxQcm9ncmVzcyYmdGhpcy5fdG90YWxQcm9ncmVzcy5yZXNldCgpO3RoaXMuX2N1c3RvbVJlc3VtZURhdGFTdG9yZS5yZXNldCgpfSxyZXRyeTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fbWFudWFsUmV0cnkobil9LHNjYWxlSW1hZ2U6ZnVuY3Rpb24obixpKXt2YXIgcj10aGlzO3JldHVybiB0LlNjYWxlci5wcm90b3R5cGUuc2NhbGVJbWFnZShuLGkse2xvZzp0LmJpbmQoci5sb2csciksZ2V0RmlsZTp0LmJpbmQoci5nZXRGaWxlLHIpLHVwbG9hZERhdGE6ci5fdXBsb2FkRGF0YX0pfSxzZXRDdXN0b21IZWFkZXJzOmZ1bmN0aW9uKG4sdCl7dGhpcy5fY3VzdG9tSGVhZGVyc1N0b3JlLnNldChuLHQpfSxzZXRDdXN0b21SZXN1bWVEYXRhOmZ1bmN0aW9uKG4sdCl7dGhpcy5fY3VzdG9tUmVzdW1lRGF0YVN0b3JlLnNldCh0LG4pfSxzZXREZWxldGVGaWxlQ3VzdG9tSGVhZGVyczpmdW5jdGlvbihuLHQpe3RoaXMuX2RlbGV0ZUZpbGVDdXN0b21IZWFkZXJzU3RvcmUuc2V0KG4sdCl9LHNldERlbGV0ZUZpbGVFbmRwb2ludDpmdW5jdGlvbihuLHQpe3RoaXMuX2RlbGV0ZUZpbGVFbmRwb2ludFN0b3JlLnNldChuLHQpfSxzZXREZWxldGVGaWxlUGFyYW1zOmZ1bmN0aW9uKG4sdCl7dGhpcy5fZGVsZXRlRmlsZVBhcmFtc1N0b3JlLnNldChuLHQpfSxzZXRFbmRwb2ludDpmdW5jdGlvbihuLHQpe3RoaXMuX2VuZHBvaW50U3RvcmUuc2V0KG4sdCl9LHNldEZvcm06ZnVuY3Rpb24obil7dGhpcy5fdXBkYXRlRm9ybVN1cHBvcnRBbmRQYXJhbXMobil9LHNldEl0ZW1MaW1pdDpmdW5jdGlvbihuKXt0aGlzLl9jdXJyZW50SXRlbUxpbWl0PW59LHNldE5hbWU6ZnVuY3Rpb24obix0KXt0aGlzLl91cGxvYWREYXRhLnVwZGF0ZU5hbWUobix0KX0sc2V0UGFyYW1zOmZ1bmN0aW9uKG4sdCl7dGhpcy5fcGFyYW1zU3RvcmUuc2V0KG4sdCl9LHNldFV1aWQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5fdXBsb2FkRGF0YS51dWlkQ2hhbmdlZChuLHQpfSxzZXRTdGF0dXM6ZnVuY3Rpb24obixpKXtpZighdGhpcy5nZXRVcGxvYWRzKHtpZDpufSkpdGhyb3cgbmV3IHQuRXJyb3IobisiIGlzIG5vdCBhIHZhbGlkIGZpbGUgSUQuIik7c3dpdGNoKGkpe2Nhc2UgdC5zdGF0dXMuREVMRVRFRDp0aGlzLl9vbkRlbGV0ZUNvbXBsZXRlKG4sbnVsbCwhMSk7YnJlYWs7Y2FzZSB0LnN0YXR1cy5ERUxFVEVfRkFJTEVEOnRoaXMuX29uRGVsZXRlQ29tcGxldGUobixudWxsLCEwKTticmVhaztkZWZhdWx0OnZhciByPSJNZXRob2Qgc2V0U3RhdHVzIGNhbGxlZCBvbiAnIituYW1lKyInIG5vdCBpbXBsZW1lbnRlZCB5ZXQgZm9yICIraTt0aHJvdyB0aGlzLmxvZyhyKSxuZXcgdC5FcnJvcihyKTt9fSx1cGxvYWRTdG9yZWRGaWxlczpmdW5jdGlvbigpezA9PT10aGlzLl9zdG9yZWRJZHMubGVuZ3RoP3RoaXMuX2l0ZW1FcnJvcigibm9GaWxlc0Vycm9yIik6dGhpcy5fdXBsb2FkU3RvcmVkRmlsZXMoKX19O3QuYmFzZVByaXZhdGVBcGk9e19hZGRDYW5uZWRGaWxlOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXM7cmV0dXJuIHRoaXMuX3VwbG9hZERhdGEuYWRkRmlsZSh7dXVpZDpuLnV1aWQsbmFtZTpuLm5hbWUsc2l6ZTpuLnNpemUsc3RhdHVzOnQuc3RhdHVzLlVQTE9BRF9TVUNDRVNTRlVMLG9uQmVmb3JlU3RhdHVzQ2hhbmdlOmZ1bmN0aW9uKHQpe24uZGVsZXRlRmlsZUVuZHBvaW50JiZpLnNldERlbGV0ZUZpbGVFbmRwb2ludChuLmRlbGV0ZUZpbGVFbmRwb2ludCx0KTtuLmRlbGV0ZUZpbGVQYXJhbXMmJmkuc2V0RGVsZXRlRmlsZVBhcmFtcyhuLmRlbGV0ZUZpbGVQYXJhbXMsdCk7bi50aHVtYm5haWxVcmwmJihpLl90aHVtYm5haWxVcmxzW3RdPW4udGh1bWJuYWlsVXJsKTtpLl9uZXRVcGxvYWRlZCsrO2kuX25ldFVwbG9hZGVkT3JRdWV1ZWQrK319KX0sX2Fubm90YXRlV2l0aEJ1dHRvbklkOmZ1bmN0aW9uKG4saSl7dC5pc0ZpbGUobikmJihuLnFxQnV0dG9uSWQ9dGhpcy5fZ2V0QnV0dG9uSWQoaSkpfSxfYmF0Y2hFcnJvcjpmdW5jdGlvbihuKXt0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vbkVycm9yKG51bGwsbnVsbCxuLHZvaWQgMCl9LF9jcmVhdGVEZWxldGVIYW5kbGVyOmZ1bmN0aW9uKCl7dmFyIG49dGhpcztyZXR1cm4gbmV3IHQuRGVsZXRlRmlsZUFqYXhSZXF1ZXN0ZXIoe21ldGhvZDp0aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUubWV0aG9kLnRvVXBwZXJDYXNlKCksbWF4Q29ubmVjdGlvbnM6dGhpcy5fb3B0aW9ucy5tYXhDb25uZWN0aW9ucyx1dWlkUGFyYW1OYW1lOnRoaXMuX29wdGlvbnMucmVxdWVzdC51dWlkTmFtZSxjdXN0b21IZWFkZXJzOnRoaXMuX2RlbGV0ZUZpbGVDdXN0b21IZWFkZXJzU3RvcmUscGFyYW1zU3RvcmU6dGhpcy5fZGVsZXRlRmlsZVBhcmFtc1N0b3JlLGVuZHBvaW50U3RvcmU6dGhpcy5fZGVsZXRlRmlsZUVuZHBvaW50U3RvcmUsY29yczp0aGlzLl9vcHRpb25zLmNvcnMsbG9nOnQuYmluZChuLmxvZyxuKSxvbkRlbGV0ZTpmdW5jdGlvbih0KXtuLl9vbkRlbGV0ZSh0KTtuLl9vcHRpb25zLmNhbGxiYWNrcy5vbkRlbGV0ZSh0KX0sb25EZWxldGVDb21wbGV0ZTpmdW5jdGlvbih0LGkscil7bi5fb25EZWxldGVDb21wbGV0ZSh0LGkscik7bi5fb3B0aW9ucy5jYWxsYmFja3Mub25EZWxldGVDb21wbGV0ZSh0LGkscil9fSl9LF9jcmVhdGVQYXN0ZUhhbmRsZXI6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3JldHVybiBuZXcgdC5QYXN0ZVN1cHBvcnQoe3RhcmdldEVsZW1lbnQ6dGhpcy5fb3B0aW9ucy5wYXN0ZS50YXJnZXRFbGVtZW50LGNhbGxiYWNrczp7bG9nOnQuYmluZChuLmxvZyxuKSxwYXN0ZVJlY2VpdmVkOmZ1bmN0aW9uKGkpe24uX2hhbmRsZUNoZWNrZWRDYWxsYmFjayh7bmFtZToib25QYXN0ZVJlY2VpdmVkIixjYWxsYmFjazp0LmJpbmQobi5fb3B0aW9ucy5jYWxsYmFja3Mub25QYXN0ZVJlY2VpdmVkLG4saSksb25TdWNjZXNzOnQuYmluZChuLl9oYW5kbGVQYXN0ZVN1Y2Nlc3MsbixpKSxpZGVudGlmaWVyOiJwYXN0ZWQgaW1hZ2UifSl9fX0pfSxfY3JlYXRlU3RvcmU6ZnVuY3Rpb24obixpKXt2YXIgdT17fSxvPW4sZj17fSxyPWksZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5pc09iamVjdChuKT90LmV4dGVuZCh7fSxuKTpufSxzPWZ1bmN0aW9uKCl7cmV0dXJuIHQuaXNGdW5jdGlvbihyKT9yKCk6cn0saD1mdW5jdGlvbihuLGkpe3ImJnQuaXNPYmplY3QoaSkmJnQuZXh0ZW5kKGkscygpKTtmW25dJiZ0LmV4dGVuZChpLGZbbl0pfTtyZXR1cm57c2V0OmZ1bmN0aW9uKG4sdCl7bnVsbD09dD8odT17fSxvPWUobikpOnVbdF09ZShuKX0sZ2V0OmZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybiB0PW51bGwhPW4mJnVbbl0/dVtuXTplKG8pLGgobix0KSxlKHQpfSxhZGRSZWFkT25seTpmdW5jdGlvbihuLGkpe3QuaXNPYmplY3QodSkmJihudWxsPT09bj90LmlzRnVuY3Rpb24oaSk/cj1pOihyPXJ8fHt9LHQuZXh0ZW5kKHIsaSkpOihmW25dPWZbbl18fHt9LHQuZXh0ZW5kKGZbbl0saSkpKX0scmVtb3ZlOmZ1bmN0aW9uKG4pe3JldHVybiBkZWxldGUgdVtuXX0scmVzZXQ6ZnVuY3Rpb24oKXt1PXt9O2Y9e307bz1ufX19LF9jcmVhdGVVcGxvYWREYXRhVHJhY2tlcjpmdW5jdGlvbigpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyB0LlVwbG9hZERhdGEoe2dldE5hbWU6ZnVuY3Rpb24odCl7cmV0dXJuIG4uZ2V0TmFtZSh0KX0sZ2V0VXVpZDpmdW5jdGlvbih0KXtyZXR1cm4gbi5nZXRVdWlkKHQpfSxnZXRTaXplOmZ1bmN0aW9uKHQpe3JldHVybiBuLmdldFNpemUodCl9LG9uU3RhdHVzQ2hhbmdlOmZ1bmN0aW9uKHQsaSxyKXtuLl9vblVwbG9hZFN0YXR1c0NoYW5nZSh0LGkscik7bi5fb3B0aW9ucy5jYWxsYmFja3Mub25TdGF0dXNDaGFuZ2UodCxpLHIpO24uX21heWJlQWxsQ29tcGxldGUodCxyKTtuLl90b3RhbFByb2dyZXNzJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5fdG90YWxQcm9ncmVzcy5vblN0YXR1c0NoYW5nZSh0LGkscil9LDApfX0pfSxfY3JlYXRlVXBsb2FkQnV0dG9uOmZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHUoKXtyZXR1cm4hIXQuc3VwcG9ydGVkRmVhdHVyZXMuYWpheFVwbG9hZGluZyYmIShpLl9vcHRpb25zLndvcmthcm91bmRzLmlvc0VtcHR5VmlkZW9zJiZ0LmlvcygpJiYhdC5pb3M2KCkmJmkuX2lzQWxsb3dlZEV4dGVuc2lvbihlLCIubW92IikpJiYodm9pZCAwPT09bi5tdWx0aXBsZT9pLl9vcHRpb25zLm11bHRpcGxlOm4ubXVsdGlwbGUpfXZhciByLGk9dGhpcyxmPW4uYWNjZXB0fHx0aGlzLl9vcHRpb25zLnZhbGlkYXRpb24uYWNjZXB0RmlsZXMsZT1uLmFsbG93ZWRFeHRlbnNpb25zfHx0aGlzLl9vcHRpb25zLnZhbGlkYXRpb24uYWxsb3dlZEV4dGVuc2lvbnM7cmV0dXJuIHI9bmV3IHQuVXBsb2FkQnV0dG9uKHthY2NlcHRGaWxlczpmLGVsZW1lbnQ6bi5lbGVtZW50LGZvY3VzQ2xhc3M6dGhpcy5fb3B0aW9ucy5jbGFzc2VzLmJ1dHRvbkZvY3VzLGZvbGRlcnM6bi5mb2xkZXJzLGhvdmVyQ2xhc3M6dGhpcy5fb3B0aW9ucy5jbGFzc2VzLmJ1dHRvbkhvdmVyLGlvczhCcm93c2VyQ3Jhc2hXb3JrYXJvdW5kOnRoaXMuX29wdGlvbnMud29ya2Fyb3VuZHMuaW9zOEJyb3dzZXJDcmFzaCxtdWx0aXBsZTp1KCksbmFtZTp0aGlzLl9vcHRpb25zLnJlcXVlc3QuaW5wdXROYW1lLG9uQ2hhbmdlOmZ1bmN0aW9uKG4pe2kuX29uSW5wdXRDaGFuZ2Uobil9LHRpdGxlOm51bGw9PW4udGl0bGU/dGhpcy5fb3B0aW9ucy50ZXh0LmZpbGVJbnB1dFRpdGxlOm4udGl0bGV9KSx0aGlzLl9kaXNwb3NlU3VwcG9ydC5hZGREaXNwb3NlcihmdW5jdGlvbigpe3IuZGlzcG9zZSgpfSksaS5fYnV0dG9ucy5wdXNoKHIpLHJ9LF9jcmVhdGVVcGxvYWRIYW5kbGVyOmZ1bmN0aW9uKG4saSl7dmFyIHI9dGhpcyx1PXt9LGY9e2RlYnVnOnRoaXMuX29wdGlvbnMuZGVidWcsbWF4Q29ubmVjdGlvbnM6dGhpcy5fb3B0aW9ucy5tYXhDb25uZWN0aW9ucyxjb3JzOnRoaXMuX29wdGlvbnMuY29ycyxwYXJhbXNTdG9yZTp0aGlzLl9wYXJhbXNTdG9yZSxlbmRwb2ludFN0b3JlOnRoaXMuX2VuZHBvaW50U3RvcmUsY2h1bmtpbmc6dGhpcy5fb3B0aW9ucy5jaHVua2luZyxyZXN1bWU6dGhpcy5fb3B0aW9ucy5yZXN1bWUsYmxvYnM6dGhpcy5fb3B0aW9ucy5ibG9icyxsb2c6dC5iaW5kKHIubG9nLHIpLHByZXZlbnRSZXRyeVBhcmFtOnRoaXMuX29wdGlvbnMucmV0cnkucHJldmVudFJldHJ5UmVzcG9uc2VQcm9wZXJ0eSxvblByb2dyZXNzOmZ1bmN0aW9uKG4sdCxpLGYpe2k8MHx8ZjwwfHwodVtuXT91W25dLmxvYWRlZD09PWkmJnVbbl0udG90YWw9PT1mfHwoci5fb25Qcm9ncmVzcyhuLHQsaSxmKSxyLl9vcHRpb25zLmNhbGxiYWNrcy5vblByb2dyZXNzKG4sdCxpLGYpKTooci5fb25Qcm9ncmVzcyhuLHQsaSxmKSxyLl9vcHRpb25zLmNhbGxiYWNrcy5vblByb2dyZXNzKG4sdCxpLGYpKSx1W25dPXtsb2FkZWQ6aSx0b3RhbDpmfSl9LG9uQ29tcGxldGU6ZnVuY3Rpb24obixpLGYsZSl7ZGVsZXRlIHVbbl07dmFyIG8scz1yLmdldFVwbG9hZHMoe2lkOm59KS5zdGF0dXM7cyE9PXQuc3RhdHVzLlVQTE9BRF9TVUNDRVNTRlVMJiZzIT09dC5zdGF0dXMuVVBMT0FEX0ZBSUxFRCYmKG89ci5fb25Db21wbGV0ZShuLGksZixlKSxvIGluc3RhbmNlb2YgdC5Qcm9taXNlP28uZG9uZShmdW5jdGlvbigpe3IuX29wdGlvbnMuY2FsbGJhY2tzLm9uQ29tcGxldGUobixpLGYsZSl9KTpyLl9vcHRpb25zLmNhbGxiYWNrcy5vbkNvbXBsZXRlKG4saSxmLGUpKX0sb25DYW5jZWw6ZnVuY3Rpb24obixpLHUpe3ZhciBmPW5ldyB0LlByb21pc2U7cmV0dXJuIHIuX2hhbmRsZUNoZWNrZWRDYWxsYmFjayh7bmFtZToib25DYW5jZWwiLGNhbGxiYWNrOnQuYmluZChyLl9vcHRpb25zLmNhbGxiYWNrcy5vbkNhbmNlbCxyLG4saSksb25GYWlsdXJlOmYuZmFpbHVyZSxvblN1Y2Nlc3M6ZnVuY3Rpb24oKXt1LnRoZW4oZnVuY3Rpb24oKXtyLl9vbkNhbmNlbChuLGkpfSk7Zi5zdWNjZXNzKCl9LGlkZW50aWZpZXI6bn0pLGZ9LG9uVXBsb2FkUHJlcDp0LmJpbmQodGhpcy5fb25VcGxvYWRQcmVwLHRoaXMpLG9uVXBsb2FkOmZ1bmN0aW9uKG4saSl7ci5fb25VcGxvYWQobixpKTt2YXIgdT1yLl9vcHRpb25zLmNhbGxiYWNrcy5vblVwbG9hZChuLGkpO3JldHVybiB0LmlzR2VuZXJpY1Byb21pc2UodSk/KHIubG9nKHQuZm9ybWF0KCJvblVwbG9hZCBmb3Ige30gcmV0dXJuZWQgYSBQcm9taXNlIC0gd2FpdGluZyBmb3IgcmVzb2x1dGlvbi4iLG4pKSx1KToobmV3IHQuUHJvbWlzZSkuc3VjY2VzcygpfSxvblVwbG9hZENodW5rOmZ1bmN0aW9uKG4saSx1KXtyLl9vblVwbG9hZENodW5rKG4sdSk7dmFyIGY9ci5fb3B0aW9ucy5jYWxsYmFja3Mub25VcGxvYWRDaHVuayhuLGksdSk7cmV0dXJuIHQuaXNHZW5lcmljUHJvbWlzZShmKT8oci5sb2codC5mb3JtYXQoIm9uVXBsb2FkQ2h1bmsgZm9yIHt9Lnt9IHJldHVybmVkIGEgUHJvbWlzZSAtIHdhaXRpbmcgZm9yIHJlc29sdXRpb24uIixuLHUucGFydEluZGV4KSksZik6KG5ldyB0LlByb21pc2UpLnN1Y2Nlc3MoKX0sb25VcGxvYWRDaHVua1N1Y2Nlc3M6ZnVuY3Rpb24obix0KXtyLl9vblVwbG9hZENodW5rU3VjY2VzcyhuLHQpO3IuX29wdGlvbnMuY2FsbGJhY2tzLm9uVXBsb2FkQ2h1bmtTdWNjZXNzLmFwcGx5KHIsYXJndW1lbnRzKX0sb25SZXN1bWU6ZnVuY3Rpb24obix0LGksdSl7cmV0dXJuIHIuX29wdGlvbnMuY2FsbGJhY2tzLm9uUmVzdW1lKG4sdCxpLHUpfSxvbkF1dG9SZXRyeTpmdW5jdGlvbigpe3JldHVybiByLl9vbkF1dG9SZXRyeS5hcHBseShyLGFyZ3VtZW50cyl9LG9uVXVpZENoYW5nZWQ6ZnVuY3Rpb24obix0KXtyLmxvZygiU2VydmVyIHJlcXVlc3RlZCBVVUlEIGNoYW5nZSBmcm9tICciK3IuZ2V0VXVpZChuKSsiJyB0byAnIit0KyInIik7ci5zZXRVdWlkKG4sdCl9LGdldE5hbWU6dC5iaW5kKHIuZ2V0TmFtZSxyKSxnZXRVdWlkOnQuYmluZChyLmdldFV1aWQsciksZ2V0U2l6ZTp0LmJpbmQoci5nZXRTaXplLHIpLHNldFNpemU6dC5iaW5kKHIuX3NldFNpemUsciksZ2V0RGF0YUJ5VXVpZDpmdW5jdGlvbihuKXtyZXR1cm4gci5nZXRVcGxvYWRzKHt1dWlkOm59KX0saXNRdWV1ZWQ6ZnVuY3Rpb24obil7dmFyIGk9ci5nZXRVcGxvYWRzKHtpZDpufSkuc3RhdHVzO3JldHVybiBpPT09dC5zdGF0dXMuUVVFVUVEfHxpPT09dC5zdGF0dXMuU1VCTUlUVEVEfHxpPT09dC5zdGF0dXMuVVBMT0FEX1JFVFJZSU5HfHxpPT09dC5zdGF0dXMuUEFVU0VEfSxnZXRJZHNJblByb3h5R3JvdXA6ci5fdXBsb2FkRGF0YS5nZXRJZHNJblByb3h5R3JvdXAsZ2V0SWRzSW5CYXRjaDpyLl91cGxvYWREYXRhLmdldElkc0luQmF0Y2gsaXNJblByb2dyZXNzOmZ1bmN0aW9uKG4pe3JldHVybiByLmdldFVwbG9hZHMoe2lkOm59KS5zdGF0dXM9PT10LnN0YXR1cy5VUExPQURJTkd9LGdldEN1c3RvbVJlc3VtZURhdGE6dC5iaW5kKHIuX2dldEN1c3RvbVJlc3VtZURhdGEsciksc2V0U3RhdHVzOmZ1bmN0aW9uKG4sdCl7ci5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0KX19O3JldHVybiB0LmVhY2godGhpcy5fb3B0aW9ucy5yZXF1ZXN0LGZ1bmN0aW9uKG4sdCl7ZltuXT10fSksZi5jdXN0b21IZWFkZXJzPXRoaXMuX2N1c3RvbUhlYWRlcnNTdG9yZSxuJiZ0LmVhY2gobixmdW5jdGlvbihuLHQpe2Zbbl09dH0pLG5ldyB0LlVwbG9hZEhhbmRsZXJDb250cm9sbGVyKGYsaSl9LF9maWxlT3JCbG9iUmVqZWN0ZWQ6ZnVuY3Rpb24obil7dGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZC0tO3RoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdC5zdGF0dXMuUkVKRUNURUQpfSxfZm9ybWF0U2l6ZTpmdW5jdGlvbihuKXtpZigwPT09bilyZXR1cm4gbit0aGlzLl9vcHRpb25zLnRleHQuc2l6ZVN5bWJvbHNbMF07dmFyIHQ9LTE7ZG8gbi89MWUzLHQrKzt3aGlsZShuPjk5OSk7cmV0dXJuIE1hdGgubWF4KG4sLjEpLnRvRml4ZWQoMSkrdGhpcy5fb3B0aW9ucy50ZXh0LnNpemVTeW1ib2xzW3RdfSxfZ2VuZXJhdGVFeHRyYUJ1dHRvblNwZWNzOmZ1bmN0aW9uKCl7dmFyIG49dGhpczt0aGlzLl9leHRyYUJ1dHRvblNwZWNzPXt9O3QuZWFjaCh0aGlzLl9vcHRpb25zLmV4dHJhQnV0dG9ucyxmdW5jdGlvbihpLHIpe3ZhciB1PXIubXVsdGlwbGUsZT10LmV4dGVuZCh7fSxuLl9vcHRpb25zLnZhbGlkYXRpb24sITApLGY9dC5leHRlbmQoe30scik7dm9pZCAwPT09dSYmKHU9bi5fb3B0aW9ucy5tdWx0aXBsZSk7Zi52YWxpZGF0aW9uJiZ0LmV4dGVuZChlLHIudmFsaWRhdGlvbiwhMCk7dC5leHRlbmQoZix7bXVsdGlwbGU6dSx2YWxpZGF0aW9uOmV9LCEwKTtuLl9pbml0RXh0cmFCdXR0b24oZil9KX0sX2dldEJ1dHRvbjpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9leHRyYUJ1dHRvblNwZWNzW25dO3JldHVybiB0P3QuZWxlbWVudDpuPT09dGhpcy5fZGVmYXVsdEJ1dHRvbklkP3RoaXMuX29wdGlvbnMuYnV0dG9uOnZvaWQgMH0sX2dldEJ1dHRvbklkOmZ1bmN0aW9uKG4pe3ZhciB1LHIsaT1uO2lmKGkgaW5zdGFuY2VvZiB0LkJsb2JQcm94eSYmKGk9aS5yZWZlcmVuY2VCbG9iKSxpJiYhdC5pc0Jsb2IoaSkpe2lmKHQuaXNGaWxlKGkpKXJldHVybiBpLnFxQnV0dG9uSWQ7aWYoImlucHV0Ij09PWkudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYiZmlsZSI9PT1pLnR5cGUudG9Mb3dlckNhc2UoKSlyZXR1cm4gaS5nZXRBdHRyaWJ1dGUodC5VcGxvYWRCdXR0b24uQlVUVE9OX0lEX0FUVFJfTkFNRSk7aWYodT1pLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpLHQuZWFjaCh1LGZ1bmN0aW9uKG4sdCl7aWYoImZpbGUiPT09dC5nZXRBdHRyaWJ1dGUoInR5cGUiKSlyZXR1cm4gcj10LCExfSkscilyZXR1cm4gci5nZXRBdHRyaWJ1dGUodC5VcGxvYWRCdXR0b24uQlVUVE9OX0lEX0FUVFJfTkFNRSl9fSxfZ2V0Q3VzdG9tUmVzdW1lRGF0YTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fY3VzdG9tUmVzdW1lRGF0YVN0b3JlLmdldChuKX0sX2dldE5vdEZpbmlzaGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VwbG9hZERhdGEucmV0cmlldmUoe3N0YXR1czpbdC5zdGF0dXMuVVBMT0FESU5HLHQuc3RhdHVzLlVQTE9BRF9SRVRSWUlORyx0LnN0YXR1cy5RVUVVRUQsdC5zdGF0dXMuU1VCTUlUVElORyx0LnN0YXR1cy5TVUJNSVRURUQsdC5zdGF0dXMuUEFVU0VEXX0pLmxlbmd0aH0sX2dldFZhbGlkYXRpb25CYXNlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2V4dHJhQnV0dG9uU3BlY3Nbbl07cmV0dXJuIHQ/dC52YWxpZGF0aW9uOnRoaXMuX29wdGlvbnMudmFsaWRhdGlvbn0sX2dldFZhbGlkYXRpb25EZXNjcmlwdG9yOmZ1bmN0aW9uKG4pe3JldHVybiBuLmZpbGUgaW5zdGFuY2VvZiB0LkJsb2JQcm94eT97bmFtZTp0LmdldEZpbGVuYW1lKG4uZmlsZS5yZWZlcmVuY2VCbG9iKSxzaXplOm4uZmlsZS5yZWZlcmVuY2VCbG9iLnNpemV9OntuYW1lOnRoaXMuZ2V0VXBsb2Fkcyh7aWQ6bi5pZH0pLm5hbWUsc2l6ZTp0aGlzLmdldFVwbG9hZHMoe2lkOm4uaWR9KS5zaXplfX0sX2dldFZhbGlkYXRpb25EZXNjcmlwdG9yczpmdW5jdGlvbihuKXt2YXIgcj10aGlzLGk9W107cmV0dXJuIHQuZWFjaChuLGZ1bmN0aW9uKG4sdCl7aS5wdXNoKHIuX2dldFZhbGlkYXRpb25EZXNjcmlwdG9yKHQpKX0pLGl9LF9oYW5kbGVDYW1lcmFBY2Nlc3M6ZnVuY3Rpb24oKXtpZih0aGlzLl9vcHRpb25zLmNhbWVyYS5pb3MmJnQuaW9zKCkpe3ZhciByPXRoaXMuX29wdGlvbnMuY2FtZXJhLmJ1dHRvbixpPXI/dGhpcy5fZ2V0QnV0dG9uSWQocik6dGhpcy5fZGVmYXVsdEJ1dHRvbklkLG49dGhpcy5fb3B0aW9ucztpJiZpIT09dGhpcy5fZGVmYXVsdEJ1dHRvbklkJiYobj10aGlzLl9leHRyYUJ1dHRvblNwZWNzW2ldKTtuLm11bHRpcGxlPSExO251bGw9PT1uLnZhbGlkYXRpb24uYWNjZXB0RmlsZXM/bi52YWxpZGF0aW9uLmFjY2VwdEZpbGVzPSJpbWFnZS8qO2NhcHR1cmU9Y2FtZXJhIjpuLnZhbGlkYXRpb24uYWNjZXB0RmlsZXMrPSIsaW1hZ2UvKjtjYXB0dXJlPWNhbWVyYSI7dC5lYWNoKHRoaXMuX2J1dHRvbnMsZnVuY3Rpb24odCxyKXtpZihyLmdldEJ1dHRvbklkKCk9PT1pKXJldHVybiByLnNldE11bHRpcGxlKG4ubXVsdGlwbGUpLHIuc2V0QWNjZXB0RmlsZXMobi5hY2NlcHRGaWxlcyksITF9KX19LF9oYW5kbGVDaGVja2VkQ2FsbGJhY2s6ZnVuY3Rpb24obil7dmFyIHI9dGhpcyxpPW4uY2FsbGJhY2soKTtyZXR1cm4gdC5pc0dlbmVyaWNQcm9taXNlKGkpPyh0aGlzLmxvZyhuLm5hbWUrIiAtIHdhaXRpbmcgZm9yICIrbi5uYW1lKyIgcHJvbWlzZSB0byBiZSBmdWxmaWxsZWQgZm9yICIrbi5pZGVudGlmaWVyKSxpLnRoZW4oZnVuY3Rpb24odCl7ci5sb2cobi5uYW1lKyIgcHJvbWlzZSBzdWNjZXNzIGZvciAiK24uaWRlbnRpZmllcik7bi5vblN1Y2Nlc3ModCl9LGZ1bmN0aW9uKCl7bi5vbkZhaWx1cmU/KHIubG9nKG4ubmFtZSsiIHByb21pc2UgZmFpbHVyZSBmb3IgIituLmlkZW50aWZpZXIpLG4ub25GYWlsdXJlKCkpOnIubG9nKG4ubmFtZSsiIHByb21pc2UgZmFpbHVyZSBmb3IgIituLmlkZW50aWZpZXIpfSkpOihpIT09ITE/bi5vblN1Y2Nlc3MoaSk6bi5vbkZhaWx1cmU/KHRoaXMubG9nKG4ubmFtZSsiIC0gcmV0dXJuIHZhbHVlIHdhcyAnZmFsc2UnIGZvciAiK24uaWRlbnRpZmllcisiLiAgSW52b2tpbmcgZmFpbHVyZSBjYWxsYmFjay4iKSxuLm9uRmFpbHVyZSgpKTp0aGlzLmxvZyhuLm5hbWUrIiAtIHJldHVybiB2YWx1ZSB3YXMgJ2ZhbHNlJyBmb3IgIituLmlkZW50aWZpZXIrIi4gIFdpbGwgbm90IHByb2NlZWQuIiksaSl9LF9oYW5kbGVOZXdGaWxlOmZ1bmN0aW9uKG4saSxyKXt2YXIgdT10aGlzLG89dC5nZXRVbmlxdWVJZCgpLGU9LTEscz10LmdldEZpbGVuYW1lKG4pLGY9bi5ibG9ifHxuLGg9dGhpcy5fY3VzdG9tTmV3RmlsZUhhbmRsZXI/dGhpcy5fY3VzdG9tTmV3RmlsZUhhbmRsZXI6dC5iaW5kKHUuX2hhbmRsZU5ld0ZpbGVHZW5lcmljLHUpOyF0LmlzSW5wdXQoZikmJmYuc2l6ZT49MCYmKGU9Zi5zaXplKTtoKGYscyxvLGUscixpLHRoaXMuX29wdGlvbnMucmVxdWVzdC51dWlkTmFtZSx7dXBsb2FkRGF0YTp1Ll91cGxvYWREYXRhLHBhcmFtc1N0b3JlOnUuX3BhcmFtc1N0b3JlLGFkZEZpbGVUb0hhbmRsZXI6ZnVuY3Rpb24obix0KXt1Ll9oYW5kbGVyLmFkZChuLHQpO3UuX25ldFVwbG9hZGVkT3JRdWV1ZWQrKzt1Ll90cmFja0J1dHRvbihuKX19KX0sX2hhbmRsZU5ld0ZpbGVHZW5lcmljOmZ1bmN0aW9uKG4sdCxpLHIsdSxmKXt2YXIgZT10aGlzLl91cGxvYWREYXRhLmFkZEZpbGUoe3V1aWQ6aSxuYW1lOnQsc2l6ZTpyLGJhdGNoSWQ6ZixmaWxlOm59KTt0aGlzLl9oYW5kbGVyLmFkZChlLG4pO3RoaXMuX3RyYWNrQnV0dG9uKGUpO3RoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQrKzt1LnB1c2goe2lkOmUsZmlsZTpufSl9LF9oYW5kbGVQYXN0ZVN1Y2Nlc3M6ZnVuY3Rpb24obix0KXt2YXIgcj1uLnR5cGUuc3BsaXQoIi8iKVsxXSxpPXQ7bnVsbD09aSYmKGk9dGhpcy5fb3B0aW9ucy5wYXN0ZS5kZWZhdWx0TmFtZSk7aSs9Ii4iK3I7dGhpcy5hZGRGaWxlcyh7bmFtZTppLGJsb2I6bn0pfSxfaGFuZGxlRGVsZXRlU3VjY2VzczpmdW5jdGlvbihuKXtpZih0aGlzLmdldFVwbG9hZHMoe2lkOm59KS5zdGF0dXMhPT10LnN0YXR1cy5ERUxFVEVEKXt2YXIgaT10aGlzLmdldE5hbWUobik7dGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZC0tO3RoaXMuX25ldFVwbG9hZGVkLS07dGhpcy5faGFuZGxlci5leHB1bmdlKG4pO3RoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdC5zdGF0dXMuREVMRVRFRCk7dGhpcy5sb2coIkRlbGV0ZSByZXF1ZXN0IGZvciAnIitpKyInIGhhcyBzdWNjZWVkZWQuIil9fSxfaGFuZGxlRGVsZXRlRmFpbGVkOmZ1bmN0aW9uKG4saSl7dmFyIHI9dGhpcy5nZXROYW1lKG4pO3RoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdC5zdGF0dXMuREVMRVRFX0ZBSUxFRCk7dGhpcy5sb2coIkRlbGV0ZSByZXF1ZXN0IGZvciAnIityKyInIGhhcyBmYWlsZWQuIiwiZXJyb3IiKTtpJiZ2b2lkIDAhPT1pLndpdGhDcmVkZW50aWFscz90aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vbkVycm9yKG4sciwiRGVsZXRlIHJlcXVlc3QgZmFpbGVkIHdpdGggcmVzcG9uc2UgY29kZSAiK2kuc3RhdHVzLGkpOnRoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uRXJyb3IobixyLCJEZWxldGUgcmVxdWVzdCBmYWlsZWQiLGkpfSxfaW5pdEV4dHJhQnV0dG9uOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2NyZWF0ZVVwbG9hZEJ1dHRvbih7YWNjZXB0Om4udmFsaWRhdGlvbi5hY2NlcHRGaWxlcyxhbGxvd2VkRXh0ZW5zaW9uczpuLnZhbGlkYXRpb24uYWxsb3dlZEV4dGVuc2lvbnMsZWxlbWVudDpuLmVsZW1lbnQsZm9sZGVyczpuLmZvbGRlcnMsbXVsdGlwbGU6bi5tdWx0aXBsZSx0aXRsZTpuLmZpbGVJbnB1dFRpdGxlfSk7dGhpcy5fZXh0cmFCdXR0b25TcGVjc1t0LmdldEJ1dHRvbklkKCldPW59LF9pbml0Rm9ybVN1cHBvcnRBbmRQYXJhbXM6ZnVuY3Rpb24oKXt0aGlzLl9mb3JtU3VwcG9ydD10LkZvcm1TdXBwb3J0JiZuZXcgdC5Gb3JtU3VwcG9ydCh0aGlzLl9vcHRpb25zLmZvcm0sdC5iaW5kKHRoaXMudXBsb2FkU3RvcmVkRmlsZXMsdGhpcyksdC5iaW5kKHRoaXMubG9nLHRoaXMpKTt0aGlzLl9mb3JtU3VwcG9ydCYmdGhpcy5fZm9ybVN1cHBvcnQuYXR0YWNoZWRUb0Zvcm0/KHRoaXMuX3BhcmFtc1N0b3JlPXRoaXMuX2NyZWF0ZVN0b3JlKHRoaXMuX29wdGlvbnMucmVxdWVzdC5wYXJhbXMsdGhpcy5fZm9ybVN1cHBvcnQuZ2V0Rm9ybUlucHV0c0FzT2JqZWN0KSx0aGlzLl9vcHRpb25zLmF1dG9VcGxvYWQ9dGhpcy5fZm9ybVN1cHBvcnQubmV3QXV0b1VwbG9hZCx0aGlzLl9mb3JtU3VwcG9ydC5uZXdFbmRwb2ludCYmKHRoaXMuX29wdGlvbnMucmVxdWVzdC5lbmRwb2ludD10aGlzLl9mb3JtU3VwcG9ydC5uZXdFbmRwb2ludCkpOnRoaXMuX3BhcmFtc1N0b3JlPXRoaXMuX2NyZWF0ZVN0b3JlKHRoaXMuX29wdGlvbnMucmVxdWVzdC5wYXJhbXMpfSxfaXNEZWxldGVQb3NzaWJsZTpmdW5jdGlvbigpe3JldHVybiEoIXQuRGVsZXRlRmlsZUFqYXhSZXF1ZXN0ZXJ8fCF0aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUuZW5hYmxlZCkmJighdGhpcy5fb3B0aW9ucy5jb3JzLmV4cGVjdGVkfHwhIXQuc3VwcG9ydGVkRmVhdHVyZXMuZGVsZXRlRmlsZUNvcnNYaHJ8fCEoIXQuc3VwcG9ydGVkRmVhdHVyZXMuZGVsZXRlRmlsZUNvcnNYZHJ8fCF0aGlzLl9vcHRpb25zLmNvcnMuYWxsb3dYZHIpKX0sX2lzQWxsb3dlZEV4dGVuc2lvbjpmdW5jdGlvbihuLGkpe3ZhciByPSExO3JldHVybiFuLmxlbmd0aHx8KHQuZWFjaChuLGZ1bmN0aW9uKG4sdSl7aWYodC5pc1N0cmluZyh1KSl7dmFyIGY9bmV3IFJlZ0V4cCgiXFwuIit1KyIkIiwiaSIpO2lmKG51bGwhPWkubWF0Y2goZikpcmV0dXJuIHI9ITAsITF9fSkscil9LF9pdGVtRXJyb3I6ZnVuY3Rpb24obixpLHIpe2Z1bmN0aW9uIHUobix0KXtmPWYucmVwbGFjZShuLHQpfXZhciBzLGUsZj10aGlzLl9vcHRpb25zLm1lc3NhZ2VzW25dLGg9W10sYz1bXS5jb25jYXQoaSksbD1jWzBdLGE9dGhpcy5fZ2V0QnV0dG9uSWQociksbz10aGlzLl9nZXRWYWxpZGF0aW9uQmFzZShhKTtyZXR1cm4gdC5lYWNoKG8uYWxsb3dlZEV4dGVuc2lvbnMsZnVuY3Rpb24obixpKXt0LmlzU3RyaW5nKGkpJiZoLnB1c2goaSl9KSxzPWguam9pbigiLCAiKS50b0xvd2VyQ2FzZSgpLHUoIntmaWxlfSIsdGhpcy5fb3B0aW9ucy5mb3JtYXRGaWxlTmFtZShsKSksdSgie2V4dGVuc2lvbnN9IixzKSx1KCJ7c2l6ZUxpbWl0fSIsdGhpcy5fZm9ybWF0U2l6ZShvLnNpemVMaW1pdCkpLHUoInttaW5TaXplTGltaXR9Iix0aGlzLl9mb3JtYXRTaXplKG8ubWluU2l6ZUxpbWl0KSksZT1mLm1hdGNoKC8oXHtcdytcfSkvZyksbnVsbCE9PWUmJnQuZWFjaChlLGZ1bmN0aW9uKG4sdCl7dSh0LGNbbl0pfSksdGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25FcnJvcihudWxsLGwsZix2b2lkIDApLGZ9LF9tYW51YWxSZXRyeTpmdW5jdGlvbihuLGkpe2lmKHRoaXMuX29uQmVmb3JlTWFudWFsUmV0cnkobikpcmV0dXJuIHRoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQrKyx0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLlVQTE9BRF9SRVRSWUlORyksaT9pKG4pOnRoaXMuX2hhbmRsZXIucmV0cnkobiksITB9LF9tYXliZUFsbENvbXBsZXRlOmZ1bmN0aW9uKG4saSl7dmFyIHI9dGhpcyx1PXRoaXMuX2dldE5vdEZpbmlzaGVkKCk7aT09PXQuc3RhdHVzLlVQTE9BRF9TVUNDRVNTRlVMP3RoaXMuX3N1Y2NlZWRlZFNpbmNlTGFzdEFsbENvbXBsZXRlLnB1c2gobik6aT09PXQuc3RhdHVzLlVQTE9BRF9GQUlMRUQmJnRoaXMuX2ZhaWxlZFNpbmNlTGFzdEFsbENvbXBsZXRlLnB1c2gobik7MD09PXUmJih0aGlzLl9zdWNjZWVkZWRTaW5jZUxhc3RBbGxDb21wbGV0ZS5sZW5ndGh8fHRoaXMuX2ZhaWxlZFNpbmNlTGFzdEFsbENvbXBsZXRlLmxlbmd0aCkmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLl9vbkFsbENvbXBsZXRlKHIuX3N1Y2NlZWRlZFNpbmNlTGFzdEFsbENvbXBsZXRlLHIuX2ZhaWxlZFNpbmNlTGFzdEFsbENvbXBsZXRlKX0sMCl9LF9tYXliZUhhbmRsZUlvczhTYWZhcmlXb3JrYXJvdW5kOmZ1bmN0aW9uKCl7dmFyIG49dGhpcztpZih0aGlzLl9vcHRpb25zLndvcmthcm91bmRzLmlvczhTYWZhcmlVcGxvYWRzJiZ0LmlvczgwMCgpJiZ0Lmlvc1NhZmFyaSgpKXRocm93IHNldFRpbWVvdXQoZnVuY3Rpb24oKXt3aW5kb3cuYWxlcnQobi5fb3B0aW9ucy5tZXNzYWdlcy51bnN1cHBvcnRlZEJyb3dzZXJJb3M4U2FmYXJpKX0sMCksbmV3IHQuRXJyb3IodGhpcy5fb3B0aW9ucy5tZXNzYWdlcy51bnN1cHBvcnRlZEJyb3dzZXJJb3M4U2FmYXJpKTt9LF9tYXliZVBhcnNlQW5kU2VuZFVwbG9hZEVycm9yOmZ1bmN0aW9uKG4sdCxpLHIpe2lmKCFpLnN1Y2Nlc3MpaWYociYmMjAwIT09ci5zdGF0dXMmJiFpLmVycm9yKXRoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uRXJyb3Iobix0LCJYSFIgcmV0dXJuZWQgcmVzcG9uc2UgY29kZSAiK3Iuc3RhdHVzLHIpO2Vsc2V7dmFyIHU9aS5lcnJvcj9pLmVycm9yOnRoaXMuX29wdGlvbnMudGV4dC5kZWZhdWx0UmVzcG9uc2VFcnJvcjt0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vbkVycm9yKG4sdCx1LHIpfX0sX21heWJlUHJvY2Vzc05leHRJdGVtQWZ0ZXJPblZhbGlkYXRlQ2FsbGJhY2s6ZnVuY3Rpb24obixpLHIsdSxmKXt2YXIgZT10aGlzO2lmKGkubGVuZ3RoPnIpaWYobnx8IXRoaXMuX29wdGlvbnMudmFsaWRhdGlvbi5zdG9wT25GaXJzdEludmFsaWRGaWxlKXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgbj1lLl9nZXRWYWxpZGF0aW9uRGVzY3JpcHRvcihpW3JdKSxvPWUuX2dldEJ1dHRvbklkKGlbcl0uZmlsZSkscz1lLl9nZXRCdXR0b24obyk7ZS5faGFuZGxlQ2hlY2tlZENhbGxiYWNrKHtuYW1lOiJvblZhbGlkYXRlIixjYWxsYmFjazp0LmJpbmQoZS5fb3B0aW9ucy5jYWxsYmFja3Mub25WYWxpZGF0ZSxlLG4scyksb25TdWNjZXNzOnQuYmluZChlLl9vblZhbGlkYXRlQ2FsbGJhY2tTdWNjZXNzLGUsaSxyLHUsZiksb25GYWlsdXJlOnQuYmluZChlLl9vblZhbGlkYXRlQ2FsbGJhY2tGYWlsdXJlLGUsaSxyLHUsZiksaWRlbnRpZmllcjoiSXRlbSAnIituLm5hbWUrIicsIHNpemU6ICIrbi5zaXplfSl9LDApO2Vsc2UgaWYoIW4pZm9yKDtyPGkubGVuZ3RoO3IrKyllLl9maWxlT3JCbG9iUmVqZWN0ZWQoaVtyXS5pZCl9LF9vbkFsbENvbXBsZXRlOmZ1bmN0aW9uKG4saSl7dGhpcy5fdG90YWxQcm9ncmVzcyYmdGhpcy5fdG90YWxQcm9ncmVzcy5vbkFsbENvbXBsZXRlKG4saSx0aGlzLl9wcmV2ZW50UmV0cmllcyk7dGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25BbGxDb21wbGV0ZSh0LmV4dGVuZChbXSxuKSx0LmV4dGVuZChbXSxpKSk7dGhpcy5fc3VjY2VlZGVkU2luY2VMYXN0QWxsQ29tcGxldGU9W107dGhpcy5fZmFpbGVkU2luY2VMYXN0QWxsQ29tcGxldGU9W119LF9vbkF1dG9SZXRyeTpmdW5jdGlvbihuLGkscix1LGYpe3ZhciBlPXRoaXMsbztpZihlLl9wcmV2ZW50UmV0cmllc1tuXT1yW2UuX29wdGlvbnMucmV0cnkucHJldmVudFJldHJ5UmVzcG9uc2VQcm9wZXJ0eV0sZS5fc2hvdWxkQXV0b1JldHJ5KG4pKXJldHVybiBvPTFlMyplLl9vcHRpb25zLnJldHJ5LmF1dG9BdHRlbXB0RGVsYXksZS5fbWF5YmVQYXJzZUFuZFNlbmRVcGxvYWRFcnJvci5hcHBseShlLGFyZ3VtZW50cyksZS5fb3B0aW9ucy5jYWxsYmFja3Mub25BdXRvUmV0cnkobixpLGUuX2F1dG9SZXRyaWVzW25dKSxlLl9vbkJlZm9yZUF1dG9SZXRyeShuLGkpLGUuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdC5zdGF0dXMuVVBMT0FEX1JFVFJZSU5HKSxlLl9yZXRyeVRpbWVvdXRzW25dPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmxvZygiU3RhcnRpbmcgcmV0cnkgZm9yICIraSsiLi4uIik7Zj9mKG4pOmUuX2hhbmRsZXIucmV0cnkobil9LG8pLCEwfSxfb25CZWZvcmVBdXRvUmV0cnk6ZnVuY3Rpb24obix0KXt0aGlzLmxvZygiV2FpdGluZyAiK3RoaXMuX29wdGlvbnMucmV0cnkuYXV0b0F0dGVtcHREZWxheSsiIHNlY29uZHMgYmVmb3JlIHJldHJ5aW5nICIrdCsiLi4uIil9LF9vbkJlZm9yZU1hbnVhbFJldHJ5OmZ1bmN0aW9uKG4pe3ZhciB0LGk9dGhpcy5fY3VycmVudEl0ZW1MaW1pdDtyZXR1cm4gdGhpcy5fcHJldmVudFJldHJpZXNbbl0/KHRoaXMubG9nKCJSZXRyaWVzIGFyZSBmb3JiaWRkZW4gZm9yIGlkICIrbiwid2FybiIpLCExKTp0aGlzLl9oYW5kbGVyLmlzVmFsaWQobik/KHQ9dGhpcy5nZXROYW1lKG4pLHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uTWFudWFsUmV0cnkobix0KSE9PSExJiYoaT4wJiZ0aGlzLl9uZXRVcGxvYWRlZE9yUXVldWVkKzE+aT8odGhpcy5faXRlbUVycm9yKCJyZXRyeUZhaWxUb29NYW55SXRlbXMiKSwhMSk6KHRoaXMubG9nKCJSZXRyeWluZyB1cGxvYWQgZm9yICciK3QrIicgKGlkOiAiK24rIikuLi4iKSwhMCkpKToodGhpcy5sb2coIiciK24rIicgaXMgbm90IGEgdmFsaWQgZmlsZSBJRCIsImVycm9yIiksITEpfSxfb25DYW5jZWw6ZnVuY3Rpb24obil7dGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZC0tO2NsZWFyVGltZW91dCh0aGlzLl9yZXRyeVRpbWVvdXRzW25dKTt2YXIgaT10LmluZGV4T2YodGhpcy5fc3RvcmVkSWRzLG4pOyF0aGlzLl9vcHRpb25zLmF1dG9VcGxvYWQmJmk+PTAmJnRoaXMuX3N0b3JlZElkcy5zcGxpY2UoaSwxKTt0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLkNBTkNFTEVEKX0sX29uQ29tcGxldGU6ZnVuY3Rpb24obixpLHIsdSl7cmV0dXJuIHIuc3VjY2Vzcz8oci50aHVtYm5haWxVcmwmJih0aGlzLl90aHVtYm5haWxVcmxzW25dPXIudGh1bWJuYWlsVXJsKSx0aGlzLl9uZXRVcGxvYWRlZCsrLHRoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdC5zdGF0dXMuVVBMT0FEX1NVQ0NFU1NGVUwpKToodGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZC0tLHRoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdC5zdGF0dXMuVVBMT0FEX0ZBSUxFRCksclt0aGlzLl9vcHRpb25zLnJldHJ5LnByZXZlbnRSZXRyeVJlc3BvbnNlUHJvcGVydHldPT09ITAmJih0aGlzLl9wcmV2ZW50UmV0cmllc1tuXT0hMCkpLHRoaXMuX21heWJlUGFyc2VBbmRTZW5kVXBsb2FkRXJyb3IobixpLHIsdSksISFyLnN1Y2Nlc3N9LF9vbkRlbGV0ZTpmdW5jdGlvbihuKXt0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLkRFTEVUSU5HKX0sX29uRGVsZXRlQ29tcGxldGU6ZnVuY3Rpb24obix0LGkpe3RoaXMuZ2V0TmFtZShuKTtpP3RoaXMuX2hhbmRsZURlbGV0ZUZhaWxlZChuLHQpOnRoaXMuX2hhbmRsZURlbGV0ZVN1Y2Nlc3Mobil9LF9vbklucHV0Q2hhbmdlOmZ1bmN0aW9uKG4pe3ZhciBpO2lmKHQuc3VwcG9ydGVkRmVhdHVyZXMuYWpheFVwbG9hZGluZyl7Zm9yKGk9MDtpPG4uZmlsZXMubGVuZ3RoO2krKyl0aGlzLl9hbm5vdGF0ZVdpdGhCdXR0b25JZChuLmZpbGVzW2ldLG4pO3RoaXMuYWRkRmlsZXMobi5maWxlcyl9ZWxzZSBuLnZhbHVlLmxlbmd0aD4wJiZ0aGlzLmFkZEZpbGVzKG4pO3QuZWFjaCh0aGlzLl9idXR0b25zLGZ1bmN0aW9uKG4sdCl7dC5yZXNldCgpfSl9LF9vblByb2dyZXNzOmZ1bmN0aW9uKG4sdCxpLHIpe3RoaXMuX3RvdGFsUHJvZ3Jlc3MmJnRoaXMuX3RvdGFsUHJvZ3Jlc3Mub25JbmRpdmlkdWFsUHJvZ3Jlc3MobixpLHIpfSxfb25TdWJtaXQ6ZnVuY3Rpb24oKXt9LF9vblN1Ym1pdENhbGxiYWNrU3VjY2VzczpmdW5jdGlvbihuKXt0aGlzLl9vblN1Ym1pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0LnN0YXR1cy5TVUJNSVRURUQpO3RoaXMuX29uU3VibWl0dGVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9vcHRpb25zLmF1dG9VcGxvYWQ/KHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uU3VibWl0dGVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl91cGxvYWRGaWxlKG4pKToodGhpcy5fc3RvcmVGb3JMYXRlcihuKSx0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vblN1Ym1pdHRlZC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxfb25TdWJtaXREZWxldGU6ZnVuY3Rpb24obixpLHIpe3ZhciB1LGY9dGhpcy5nZXRVdWlkKG4pO3JldHVybiBpJiYodT10LmJpbmQoaSx0aGlzLG4sZixyKSksdGhpcy5faXNEZWxldGVQb3NzaWJsZSgpPyh0aGlzLl9oYW5kbGVDaGVja2VkQ2FsbGJhY2soe25hbWU6Im9uU3VibWl0RGVsZXRlIixjYWxsYmFjazp0LmJpbmQodGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25TdWJtaXREZWxldGUsdGhpcyxuKSxvblN1Y2Nlc3M6dXx8dC5iaW5kKHRoaXMuX2RlbGV0ZUhhbmRsZXIuc2VuZERlbGV0ZSx0aGlzLG4sZixyKSxpZGVudGlmaWVyOm59KSwhMCk6KHRoaXMubG9nKCJEZWxldGUgcmVxdWVzdCBpZ25vcmVkIGZvciBJRCAiK24rIiwgZGVsZXRlIGZlYXR1cmUgaXMgZGlzYWJsZWQgb3IgcmVxdWVzdCBub3QgcG9zc2libGUgZHVlIHRvIENPUlMgb24gYSB1c2VyIGFnZW50IHRoYXQgZG9lcyBub3Qgc3VwcG9ydCBwcmUtZmxpZ2h0aW5nLiIsIndhcm4iKSwhMSl9LF9vblN1Ym1pdHRlZDpmdW5jdGlvbigpe30sX29uVG90YWxQcm9ncmVzczpmdW5jdGlvbihuLHQpe3RoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uVG90YWxQcm9ncmVzcyhuLHQpfSxfb25VcGxvYWRQcmVwOmZ1bmN0aW9uKCl7fSxfb25VcGxvYWQ6ZnVuY3Rpb24obil7dGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0LnN0YXR1cy5VUExPQURJTkcpfSxfb25VcGxvYWRDaHVuazpmdW5jdGlvbigpe30sX29uVXBsb2FkQ2h1bmtTdWNjZXNzOmZ1bmN0aW9uKG4peyF0aGlzLl9wcmV2ZW50UmV0cmllc1tuXSYmdGhpcy5fb3B0aW9ucy5yZXRyeS5lbmFibGVBdXRvJiYodGhpcy5fYXV0b1JldHJpZXNbbl09MCl9LF9vblVwbG9hZFN0YXR1c0NoYW5nZTpmdW5jdGlvbihuLGkscil7cj09PXQuc3RhdHVzLlBBVVNFRCYmY2xlYXJUaW1lb3V0KHRoaXMuX3JldHJ5VGltZW91dHNbbl0pfSxfb25WYWxpZGF0ZUJhdGNoQ2FsbGJhY2tGYWlsdXJlOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXM7dC5lYWNoKG4sZnVuY3Rpb24obix0KXtpLl9maWxlT3JCbG9iUmVqZWN0ZWQodC5pZCl9KX0sX29uVmFsaWRhdGVCYXRjaENhbGxiYWNrU3VjY2VzczpmdW5jdGlvbihuLGkscix1LGYpe3ZhciBvLGU9dGhpcy5fY3VycmVudEl0ZW1MaW1pdCxzPXRoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQ7MD09PWV8fHM8PWU/aS5sZW5ndGg+MD90aGlzLl9oYW5kbGVDaGVja2VkQ2FsbGJhY2soe25hbWU6Im9uVmFsaWRhdGUiLGNhbGxiYWNrOnQuYmluZCh0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vblZhbGlkYXRlLHRoaXMsblswXSxmKSxvblN1Y2Nlc3M6dC5iaW5kKHRoaXMuX29uVmFsaWRhdGVDYWxsYmFja1N1Y2Nlc3MsdGhpcyxpLDAscix1KSxvbkZhaWx1cmU6dC5iaW5kKHRoaXMuX29uVmFsaWRhdGVDYWxsYmFja0ZhaWx1cmUsdGhpcyxpLDAscix1KSxpZGVudGlmaWVyOiJJdGVtICciK2lbMF0uZmlsZS5uYW1lKyInLCBzaXplOiAiK2lbMF0uZmlsZS5zaXplfSk6dGhpcy5faXRlbUVycm9yKCJub0ZpbGVzRXJyb3IiKToodGhpcy5fb25WYWxpZGF0ZUJhdGNoQ2FsbGJhY2tGYWlsdXJlKGkpLG89dGhpcy5fb3B0aW9ucy5tZXNzYWdlcy50b29NYW55SXRlbXNFcnJvci5yZXBsYWNlKC9ce25ldEl0ZW1zXH0vZyxzKS5yZXBsYWNlKC9ce2l0ZW1MaW1pdFx9L2csZSksdGhpcy5fYmF0Y2hFcnJvcihvKSl9LF9vblZhbGlkYXRlQ2FsbGJhY2tGYWlsdXJlOmZ1bmN0aW9uKG4sdCxpLHIpe3ZhciB1PXQrMTt0aGlzLl9maWxlT3JCbG9iUmVqZWN0ZWQoblt0XS5pZCxuW3RdLmZpbGUubmFtZSk7dGhpcy5fbWF5YmVQcm9jZXNzTmV4dEl0ZW1BZnRlck9uVmFsaWRhdGVDYWxsYmFjayghMSxuLHUsaSxyKX0sX29uVmFsaWRhdGVDYWxsYmFja1N1Y2Nlc3M6ZnVuY3Rpb24obix0LGkscil7dmFyIHU9dGhpcyxmPXQrMSxlPXRoaXMuX2dldFZhbGlkYXRpb25EZXNjcmlwdG9yKG5bdF0pO3RoaXMuX3ZhbGlkYXRlRmlsZU9yQmxvYkRhdGEoblt0XSxlKS50aGVuKGZ1bmN0aW9uKCl7dS5fdXBsb2FkKG5bdF0uaWQsaSxyKTt1Ll9tYXliZVByb2Nlc3NOZXh0SXRlbUFmdGVyT25WYWxpZGF0ZUNhbGxiYWNrKCEwLG4sZixpLHIpfSxmdW5jdGlvbigpe3UuX21heWJlUHJvY2Vzc05leHRJdGVtQWZ0ZXJPblZhbGlkYXRlQ2FsbGJhY2soITEsbixmLGkscil9KX0sX3ByZXBhcmVJdGVtc0ZvclVwbG9hZDpmdW5jdGlvbihuLGkscil7aWYoMD09PW4ubGVuZ3RoKXJldHVybiB2b2lkIHRoaXMuX2l0ZW1FcnJvcigibm9GaWxlc0Vycm9yIik7dmFyIHU9dGhpcy5fZ2V0VmFsaWRhdGlvbkRlc2NyaXB0b3JzKG4pLGU9dGhpcy5fZ2V0QnV0dG9uSWQoblswXS5maWxlKSxmPXRoaXMuX2dldEJ1dHRvbihlKTt0aGlzLl9oYW5kbGVDaGVja2VkQ2FsbGJhY2soe25hbWU6Im9uVmFsaWRhdGVCYXRjaCIsY2FsbGJhY2s6dC5iaW5kKHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uVmFsaWRhdGVCYXRjaCx0aGlzLHUsZiksb25TdWNjZXNzOnQuYmluZCh0aGlzLl9vblZhbGlkYXRlQmF0Y2hDYWxsYmFja1N1Y2Nlc3MsdGhpcyx1LG4saSxyLGYpLG9uRmFpbHVyZTp0LmJpbmQodGhpcy5fb25WYWxpZGF0ZUJhdGNoQ2FsbGJhY2tGYWlsdXJlLHRoaXMsbiksaWRlbnRpZmllcjoiYmF0Y2ggdmFsaWRhdGlvbiJ9KX0sX3ByZXZlbnRMZWF2ZUluUHJvZ3Jlc3M6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMuX2Rpc3Bvc2VTdXBwb3J0LmF0dGFjaCh3aW5kb3csImJlZm9yZXVubG9hZCIsZnVuY3Rpb24odCl7aWYobi5nZXRJblByb2dyZXNzKCkpcmV0dXJuIHQ9dHx8d2luZG93LmV2ZW50LHQucmV0dXJuVmFsdWU9bi5fb3B0aW9ucy5tZXNzYWdlcy5vbkxlYXZlLG4uX29wdGlvbnMubWVzc2FnZXMub25MZWF2ZX0pfSxfcmVmcmVzaFNlc3Npb25EYXRhOmZ1bmN0aW9uKCl7dmFyIG49dGhpcyxpPXRoaXMuX29wdGlvbnMuc2Vzc2lvbjt0LlNlc3Npb24mJm51bGwhPXRoaXMuX29wdGlvbnMuc2Vzc2lvbi5lbmRwb2ludCYmKHRoaXMuX3Nlc3Npb258fCh0LmV4dGVuZChpLHtjb3JzOnRoaXMuX29wdGlvbnMuY29yc30pLGkubG9nPXQuYmluZCh0aGlzLmxvZyx0aGlzKSxpLmFkZEZpbGVSZWNvcmQ9dC5iaW5kKHRoaXMuX2FkZENhbm5lZEZpbGUsdGhpcyksdGhpcy5fc2Vzc2lvbj1uZXcgdC5TZXNzaW9uKGkpKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5fc2Vzc2lvbi5yZWZyZXNoKCkudGhlbihmdW5jdGlvbih0LGkpe24uX3Nlc3Npb25SZXF1ZXN0Q29tcGxldGUoKTtuLl9vcHRpb25zLmNhbGxiYWNrcy5vblNlc3Npb25SZXF1ZXN0Q29tcGxldGUodCwhMCxpKX0sZnVuY3Rpb24odCxpKXtuLl9vcHRpb25zLmNhbGxiYWNrcy5vblNlc3Npb25SZXF1ZXN0Q29tcGxldGUodCwhMSxpKX0pfSwwKSl9LF9zZXNzaW9uUmVxdWVzdENvbXBsZXRlOmZ1bmN0aW9uKCl7fSxfc2V0U2l6ZTpmdW5jdGlvbihuLHQpe3RoaXMuX3VwbG9hZERhdGEudXBkYXRlU2l6ZShuLHQpO3RoaXMuX3RvdGFsUHJvZ3Jlc3MmJnRoaXMuX3RvdGFsUHJvZ3Jlc3Mub25OZXdTaXplKG4pfSxfc2hvdWxkQXV0b1JldHJ5OmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMuX3VwbG9hZERhdGEucmV0cmlldmUoe2lkOm59KTtyZXR1cm4hISghdGhpcy5fcHJldmVudFJldHJpZXNbbl0mJnRoaXMuX29wdGlvbnMucmV0cnkuZW5hYmxlQXV0byYmaS5zdGF0dXMhPT10LnN0YXR1cy5QQVVTRUQmJih2b2lkIDA9PT10aGlzLl9hdXRvUmV0cmllc1tuXSYmKHRoaXMuX2F1dG9SZXRyaWVzW25dPTApLHRoaXMuX2F1dG9SZXRyaWVzW25dPHRoaXMuX29wdGlvbnMucmV0cnkubWF4QXV0b0F0dGVtcHRzKSkmJih0aGlzLl9hdXRvUmV0cmllc1tuXSs9MSwhMCl9LF9zdG9yZUZvckxhdGVyOmZ1bmN0aW9uKG4pe3RoaXMuX3N0b3JlZElkcy5wdXNoKG4pfSxfdHJhY2tCdXR0b246ZnVuY3Rpb24obil7dmFyIGk7aT10LnN1cHBvcnRlZEZlYXR1cmVzLmFqYXhVcGxvYWRpbmc/dGhpcy5faGFuZGxlci5nZXRGaWxlKG4pLnFxQnV0dG9uSWQ6dGhpcy5fZ2V0QnV0dG9uSWQodGhpcy5faGFuZGxlci5nZXRJbnB1dChuKSk7aSYmKHRoaXMuX2J1dHRvbklkc0ZvckZpbGVJZHNbbl09aSl9LF91cGRhdGVGb3JtU3VwcG9ydEFuZFBhcmFtczpmdW5jdGlvbihuKXt0aGlzLl9vcHRpb25zLmZvcm0uZWxlbWVudD1uO3RoaXMuX2Zvcm1TdXBwb3J0PXQuRm9ybVN1cHBvcnQmJm5ldyB0LkZvcm1TdXBwb3J0KHRoaXMuX29wdGlvbnMuZm9ybSx0LmJpbmQodGhpcy51cGxvYWRTdG9yZWRGaWxlcyx0aGlzKSx0LmJpbmQodGhpcy5sb2csdGhpcykpO3RoaXMuX2Zvcm1TdXBwb3J0JiZ0aGlzLl9mb3JtU3VwcG9ydC5hdHRhY2hlZFRvRm9ybSYmKHRoaXMuX3BhcmFtc1N0b3JlLmFkZFJlYWRPbmx5KG51bGwsdGhpcy5fZm9ybVN1cHBvcnQuZ2V0Rm9ybUlucHV0c0FzT2JqZWN0KSx0aGlzLl9vcHRpb25zLmF1dG9VcGxvYWQ9dGhpcy5fZm9ybVN1cHBvcnQubmV3QXV0b1VwbG9hZCx0aGlzLl9mb3JtU3VwcG9ydC5uZXdFbmRwb2ludCYmdGhpcy5zZXRFbmRwb2ludCh0aGlzLl9mb3JtU3VwcG9ydC5uZXdFbmRwb2ludCkpfSxfdXBsb2FkOmZ1bmN0aW9uKG4saSxyKXt2YXIgdT10aGlzLmdldE5hbWUobik7aSYmdGhpcy5zZXRQYXJhbXMoaSxuKTtyJiZ0aGlzLnNldEVuZHBvaW50KHIsbik7dGhpcy5faGFuZGxlQ2hlY2tlZENhbGxiYWNrKHtuYW1lOiJvblN1Ym1pdCIsY2FsbGJhY2s6dC5iaW5kKHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uU3VibWl0LHRoaXMsbix1KSxvblN1Y2Nlc3M6dC5iaW5kKHRoaXMuX29uU3VibWl0Q2FsbGJhY2tTdWNjZXNzLHRoaXMsbix1KSxvbkZhaWx1cmU6dC5iaW5kKHRoaXMuX2ZpbGVPckJsb2JSZWplY3RlZCx0aGlzLG4sdSksaWRlbnRpZmllcjpufSl9LF91cGxvYWRGaWxlOmZ1bmN0aW9uKG4pe3RoaXMuX2hhbmRsZXIudXBsb2FkKG4pfHx0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLlFVRVVFRCl9LF91cGxvYWRTdG9yZWRGaWxlczpmdW5jdGlvbigpe2Zvcih2YXIgaSxuLHI9dGhpczt0aGlzLl9zdG9yZWRJZHMubGVuZ3RoOylpPXRoaXMuX3N0b3JlZElkcy5zaGlmdCgpLHRoaXMuX3VwbG9hZEZpbGUoaSk7bj10aGlzLmdldFVwbG9hZHMoe3N0YXR1czp0LnN0YXR1cy5TVUJNSVRUSU5HfSkubGVuZ3RoO24mJih0LmxvZygiU3RpbGwgd2FpdGluZyBmb3IgIituKyIgZmlsZXMgdG8gY2xlYXIgc3VibWl0IHF1ZXVlLiBXaWxsIHJlLXBhcnNlIHN0b3JlZCBJRHMgYXJyYXkgc2hvcnRseS4iKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5fdXBsb2FkU3RvcmVkRmlsZXMoKX0sMWUzKSl9LF92YWxpZGF0ZUZpbGVPckJsb2JEYXRhOmZ1bmN0aW9uKG4saSl7dmFyIHM9dGhpcyx1PWZ1bmN0aW9uKCl7cmV0dXJuIG4uZmlsZSBpbnN0YW5jZW9mIHQuQmxvYlByb3h5P24uZmlsZS5yZWZlcmVuY2VCbG9iOm4uZmlsZX0oKSxmPWkubmFtZSxlPWkuc2l6ZSxoPXRoaXMuX2dldEJ1dHRvbklkKG4uZmlsZSksbz10aGlzLl9nZXRWYWxpZGF0aW9uQmFzZShoKSxyPW5ldyB0LlByb21pc2U7cmV0dXJuIHIudGhlbihmdW5jdGlvbigpe30sZnVuY3Rpb24oKXtzLl9maWxlT3JCbG9iUmVqZWN0ZWQobi5pZCxmKX0pLHQuaXNGaWxlT3JJbnB1dCh1KSYmIXRoaXMuX2lzQWxsb3dlZEV4dGVuc2lvbihvLmFsbG93ZWRFeHRlbnNpb25zLGYpPyh0aGlzLl9pdGVtRXJyb3IoInR5cGVFcnJvciIsZix1KSxyLmZhaWx1cmUoKSk6dGhpcy5fb3B0aW9ucy52YWxpZGF0aW9uLmFsbG93RW1wdHl8fDAhPT1lP2U+MCYmby5zaXplTGltaXQmJmU+by5zaXplTGltaXQ/KHRoaXMuX2l0ZW1FcnJvcigic2l6ZUVycm9yIixmLHUpLHIuZmFpbHVyZSgpKTplPjAmJmU8by5taW5TaXplTGltaXQ/KHRoaXMuX2l0ZW1FcnJvcigibWluU2l6ZUVycm9yIixmLHUpLHIuZmFpbHVyZSgpKToodC5JbWFnZVZhbGlkYXRpb24mJnQuc3VwcG9ydGVkRmVhdHVyZXMuaW1hZ2VQcmV2aWV3cyYmdC5pc0ZpbGUodSk/bmV3IHQuSW1hZ2VWYWxpZGF0aW9uKHUsdC5iaW5kKHMubG9nLHMpKS52YWxpZGF0ZShvLmltYWdlKS50aGVuKHIuc3VjY2VzcyxmdW5jdGlvbihuKXtzLl9pdGVtRXJyb3IobisiSW1hZ2VFcnJvciIsZix1KTtyLmZhaWx1cmUoKX0pOnIuc3VjY2VzcygpLHIpOih0aGlzLl9pdGVtRXJyb3IoImVtcHR5RXJyb3IiLGYsdSksci5mYWlsdXJlKCkpfSxfd3JhcENhbGxiYWNrczpmdW5jdGlvbigpe3ZhciBuLHQsaTtuPXRoaXM7dD1mdW5jdGlvbih0LGkscil7dmFyIHU7dHJ5e3JldHVybiBpLmFwcGx5KG4scil9Y2F0Y2goaSl7dT1pLm1lc3NhZ2V8fGkudG9TdHJpbmcoKTtuLmxvZygiQ2F1Z2h0IGV4Y2VwdGlvbiBpbiAnIit0KyInIGNhbGxiYWNrIC0gIit1LCJlcnJvciIpfX07Zm9yKGkgaW4gdGhpcy5fb3B0aW9ucy5jYWxsYmFja3MpIWZ1bmN0aW9uKCl7dmFyIHIsdTtyPWk7dT1uLl9vcHRpb25zLmNhbGxiYWNrc1tyXTtuLl9vcHRpb25zLmNhbGxiYWNrc1tyXT1mdW5jdGlvbigpe3JldHVybiB0KHIsdSxhcmd1bWVudHMpfX0oKX19fSgpLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3QuRmluZVVwbG9hZGVyQmFzaWM9ZnVuY3Rpb24obil7dmFyIGk9dGhpczt0aGlzLl9vcHRpb25zPXtkZWJ1ZzohMSxidXR0b246bnVsbCxtdWx0aXBsZTohMCxtYXhDb25uZWN0aW9uczozLGRpc2FibGVDYW5jZWxGb3JGb3JtVXBsb2FkczohMSxhdXRvVXBsb2FkOiEwLHdhcm5CZWZvcmVVbmxvYWQ6ITAscmVxdWVzdDp7Y3VzdG9tSGVhZGVyczp7fSxlbmRwb2ludDoiL3NlcnZlci91cGxvYWQiLGZpbGVuYW1lUGFyYW06InFxZmlsZW5hbWUiLGZvcmNlTXVsdGlwYXJ0OiEwLGlucHV0TmFtZToicXFmaWxlIixtZXRob2Q6IlBPU1QiLG9taXREZWZhdWx0UGFyYW1zOiExLHBhcmFtczp7fSxwYXJhbXNJbkJvZHk6ITAscmVxdWlyZVN1Y2Nlc3NKc29uOiEwLHRvdGFsRmlsZVNpemVOYW1lOiJxcXRvdGFsZmlsZXNpemUiLHV1aWROYW1lOiJxcXV1aWQifSx2YWxpZGF0aW9uOnthbGxvd2VkRXh0ZW5zaW9uczpbXSxzaXplTGltaXQ6MCxtaW5TaXplTGltaXQ6MCxpdGVtTGltaXQ6MCxzdG9wT25GaXJzdEludmFsaWRGaWxlOiEwLGFjY2VwdEZpbGVzOm51bGwsaW1hZ2U6e21heEhlaWdodDowLG1heFdpZHRoOjAsbWluSGVpZ2h0OjAsbWluV2lkdGg6MH0sYWxsb3dFbXB0eTohMX0sY2FsbGJhY2tzOntvblN1Ym1pdDpmdW5jdGlvbigpe30sb25TdWJtaXR0ZWQ6ZnVuY3Rpb24oKXt9LG9uQ29tcGxldGU6ZnVuY3Rpb24oKXt9LG9uQWxsQ29tcGxldGU6ZnVuY3Rpb24oKXt9LG9uQ2FuY2VsOmZ1bmN0aW9uKCl7fSxvblVwbG9hZDpmdW5jdGlvbigpe30sb25VcGxvYWRDaHVuazpmdW5jdGlvbigpe30sb25VcGxvYWRDaHVua1N1Y2Nlc3M6ZnVuY3Rpb24oKXt9LG9uUmVzdW1lOmZ1bmN0aW9uKCl7fSxvblByb2dyZXNzOmZ1bmN0aW9uKCl7fSxvblRvdGFsUHJvZ3Jlc3M6ZnVuY3Rpb24oKXt9LG9uRXJyb3I6ZnVuY3Rpb24oKXt9LG9uQXV0b1JldHJ5OmZ1bmN0aW9uKCl7fSxvbk1hbnVhbFJldHJ5OmZ1bmN0aW9uKCl7fSxvblZhbGlkYXRlQmF0Y2g6ZnVuY3Rpb24oKXt9LG9uVmFsaWRhdGU6ZnVuY3Rpb24oKXt9LG9uU3VibWl0RGVsZXRlOmZ1bmN0aW9uKCl7fSxvbkRlbGV0ZTpmdW5jdGlvbigpe30sb25EZWxldGVDb21wbGV0ZTpmdW5jdGlvbigpe30sb25QYXN0ZVJlY2VpdmVkOmZ1bmN0aW9uKCl7fSxvblN0YXR1c0NoYW5nZTpmdW5jdGlvbigpe30sb25TZXNzaW9uUmVxdWVzdENvbXBsZXRlOmZ1bmN0aW9uKCl7fX0sbWVzc2FnZXM6e3R5cGVFcnJvcjoie2ZpbGV9IGhhcyBhbiBpbnZhbGlkIGV4dGVuc2lvbi4gVmFsaWQgZXh0ZW5zaW9uKHMpOiB7ZXh0ZW5zaW9uc30uIixzaXplRXJyb3I6IntmaWxlfSBpcyB0b28gbGFyZ2UsIG1heGltdW0gZmlsZSBzaXplIGlzIHtzaXplTGltaXR9LiIsbWluU2l6ZUVycm9yOiJ7ZmlsZX0gaXMgdG9vIHNtYWxsLCBtaW5pbXVtIGZpbGUgc2l6ZSBpcyB7bWluU2l6ZUxpbWl0fS4iLGVtcHR5RXJyb3I6IntmaWxlfSBpcyBlbXB0eSwgcGxlYXNlIHNlbGVjdCBmaWxlcyBhZ2FpbiB3aXRob3V0IGl0LiIsbm9GaWxlc0Vycm9yOiJObyBmaWxlcyB0byB1cGxvYWQuIix0b29NYW55SXRlbXNFcnJvcjoiVG9vIG1hbnkgaXRlbXMgKHtuZXRJdGVtc30pIHdvdWxkIGJlIHVwbG9hZGVkLiAgSXRlbSBsaW1pdCBpcyB7aXRlbUxpbWl0fS4iLG1heEhlaWdodEltYWdlRXJyb3I6IkltYWdlIGlzIHRvbyB0YWxsLiIsbWF4V2lkdGhJbWFnZUVycm9yOiJJbWFnZSBpcyB0b28gd2lkZS4iLG1pbkhlaWdodEltYWdlRXJyb3I6IkltYWdlIGlzIG5vdCB0YWxsIGVub3VnaC4iLG1pbldpZHRoSW1hZ2VFcnJvcjoiSW1hZ2UgaXMgbm90IHdpZGUgZW5vdWdoLiIscmV0cnlGYWlsVG9vTWFueUl0ZW1zOiJSZXRyeSBmYWlsZWQgLSB5b3UgaGF2ZSByZWFjaGVkIHlvdXIgZmlsZSBsaW1pdC4iLG9uTGVhdmU6IlRoZSBmaWxlcyBhcmUgYmVpbmcgdXBsb2FkZWQsIGlmIHlvdSBsZWF2ZSBub3cgdGhlIHVwbG9hZCB3aWxsIGJlIGNhbmNlbGVkLiIsdW5zdXBwb3J0ZWRCcm93c2VySW9zOFNhZmFyaToiVW5yZWNvdmVyYWJsZSBlcnJvciAtIHRoaXMgYnJvd3NlciBkb2VzIG5vdCBwZXJtaXQgZmlsZSB1cGxvYWRpbmcgb2YgYW55IGtpbmQgZHVlIHRvIHNlcmlvdXMgYnVncyBpbiBpT1M4IFNhZmFyaS4gIFBsZWFzZSB1c2UgaU9TOCBDaHJvbWUgdW50aWwgQXBwbGUgZml4ZXMgdGhlc2UgaXNzdWVzLiJ9LHJldHJ5OntlbmFibGVBdXRvOiExLG1heEF1dG9BdHRlbXB0czozLGF1dG9BdHRlbXB0RGVsYXk6NSxwcmV2ZW50UmV0cnlSZXNwb25zZVByb3BlcnR5OiJwcmV2ZW50UmV0cnkifSxjbGFzc2VzOntidXR0b25Ib3ZlcjoicXEtdXBsb2FkLWJ1dHRvbi1ob3ZlciIsYnV0dG9uRm9jdXM6InFxLXVwbG9hZC1idXR0b24tZm9jdXMifSxjaHVua2luZzp7ZW5hYmxlZDohMSxjb25jdXJyZW50OntlbmFibGVkOiExfSxtYW5kYXRvcnk6ITEscGFyYW1OYW1lczp7cGFydEluZGV4OiJxcXBhcnRpbmRleCIscGFydEJ5dGVPZmZzZXQ6InFxcGFydGJ5dGVvZmZzZXQiLGNodW5rU2l6ZToicXFjaHVua3NpemUiLHRvdGFsRmlsZVNpemU6InFxdG90YWxmaWxlc2l6ZSIsdG90YWxQYXJ0czoicXF0b3RhbHBhcnRzIn0scGFydFNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gMmU2fSxzdWNjZXNzOntlbmRwb2ludDpudWxsLGhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sanNvblBheWxvYWQ6ITEsbWV0aG9kOiJQT1NUIixwYXJhbXM6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0scmVzZXRPblN0YXR1czpbXX19LHJlc3VtZTp7ZW5hYmxlZDohMSxyZWNvcmRzRXhwaXJlSW46NyxwYXJhbU5hbWVzOntyZXN1bWluZzoicXFyZXN1bWUifSxjdXN0b21LZXlzOmZ1bmN0aW9uKCl7cmV0dXJuW119fSxmb3JtYXRGaWxlTmFtZTpmdW5jdGlvbihuKXtyZXR1cm4gbn0sdGV4dDp7ZGVmYXVsdFJlc3BvbnNlRXJyb3I6IlVwbG9hZCBmYWlsdXJlIHJlYXNvbiB1bmtub3duIixmaWxlSW5wdXRUaXRsZToiZmlsZSBpbnB1dCIsc2l6ZVN5bWJvbHM6WyJrQiIsIk1CIiwiR0IiLCJUQiIsIlBCIiwiRUIiXX0sZGVsZXRlRmlsZTp7ZW5hYmxlZDohMSxtZXRob2Q6IkRFTEVURSIsZW5kcG9pbnQ6Ii9zZXJ2ZXIvdXBsb2FkIixjdXN0b21IZWFkZXJzOnt9LHBhcmFtczp7fX0sY29yczp7ZXhwZWN0ZWQ6ITEsc2VuZENyZWRlbnRpYWxzOiExLGFsbG93WGRyOiExfSxibG9iczp7ZGVmYXVsdE5hbWU6Im1pc2NfZGF0YSJ9LHBhc3RlOnt0YXJnZXRFbGVtZW50Om51bGwsZGVmYXVsdE5hbWU6InBhc3RlZF9pbWFnZSJ9LGNhbWVyYTp7aW9zOiExLGJ1dHRvbjpudWxsfSxleHRyYUJ1dHRvbnM6W10sc2Vzc2lvbjp7ZW5kcG9pbnQ6bnVsbCxwYXJhbXM6e30sY3VzdG9tSGVhZGVyczp7fSxyZWZyZXNoT25SZXNldDohMH0sZm9ybTp7ZWxlbWVudDoicXEtZm9ybSIsYXV0b1VwbG9hZDohMSxpbnRlcmNlcHRTdWJtaXQ6ITB9LHNjYWxpbmc6e2N1c3RvbVJlc2l6ZXI6bnVsbCxzZW5kT3JpZ2luYWw6ITAsb3JpZW50OiEwLGRlZmF1bHRUeXBlOm51bGwsZGVmYXVsdFF1YWxpdHk6ODAsZmFpbHVyZVRleHQ6IkZhaWxlZCB0byBzY2FsZSIsaW5jbHVkZUV4aWY6ITEsc2l6ZXM6W119LHdvcmthcm91bmRzOntpb3NFbXB0eVZpZGVvczohMCxpb3M4U2FmYXJpVXBsb2FkczohMCxpb3M4QnJvd3NlckNyYXNoOiExfX07dC5leHRlbmQodGhpcy5fb3B0aW9ucyxuLCEwKTt0aGlzLl9idXR0b25zPVtdO3RoaXMuX2V4dHJhQnV0dG9uU3BlY3M9e307dGhpcy5fYnV0dG9uSWRzRm9yRmlsZUlkcz1bXTt0aGlzLl93cmFwQ2FsbGJhY2tzKCk7dGhpcy5fZGlzcG9zZVN1cHBvcnQ9bmV3IHQuRGlzcG9zZVN1cHBvcnQ7dGhpcy5fc3RvcmVkSWRzPVtdO3RoaXMuX2F1dG9SZXRyaWVzPVtdO3RoaXMuX3JldHJ5VGltZW91dHM9W107dGhpcy5fcHJldmVudFJldHJpZXM9W107dGhpcy5fdGh1bWJuYWlsVXJscz1bXTt0aGlzLl9uZXRVcGxvYWRlZE9yUXVldWVkPTA7dGhpcy5fbmV0VXBsb2FkZWQ9MDt0aGlzLl91cGxvYWREYXRhPXRoaXMuX2NyZWF0ZVVwbG9hZERhdGFUcmFja2VyKCk7dGhpcy5faW5pdEZvcm1TdXBwb3J0QW5kUGFyYW1zKCk7dGhpcy5fY3VzdG9tSGVhZGVyc1N0b3JlPXRoaXMuX2NyZWF0ZVN0b3JlKHRoaXMuX29wdGlvbnMucmVxdWVzdC5jdXN0b21IZWFkZXJzKTt0aGlzLl9kZWxldGVGaWxlQ3VzdG9tSGVhZGVyc1N0b3JlPXRoaXMuX2NyZWF0ZVN0b3JlKHRoaXMuX29wdGlvbnMuZGVsZXRlRmlsZS5jdXN0b21IZWFkZXJzKTt0aGlzLl9kZWxldGVGaWxlUGFyYW1zU3RvcmU9dGhpcy5fY3JlYXRlU3RvcmUodGhpcy5fb3B0aW9ucy5kZWxldGVGaWxlLnBhcmFtcyk7dGhpcy5fZW5kcG9pbnRTdG9yZT10aGlzLl9jcmVhdGVTdG9yZSh0aGlzLl9vcHRpb25zLnJlcXVlc3QuZW5kcG9pbnQpO3RoaXMuX2RlbGV0ZUZpbGVFbmRwb2ludFN0b3JlPXRoaXMuX2NyZWF0ZVN0b3JlKHRoaXMuX29wdGlvbnMuZGVsZXRlRmlsZS5lbmRwb2ludCk7dGhpcy5faGFuZGxlcj10aGlzLl9jcmVhdGVVcGxvYWRIYW5kbGVyKCk7dGhpcy5fZGVsZXRlSGFuZGxlcj10LkRlbGV0ZUZpbGVBamF4UmVxdWVzdGVyJiZ0aGlzLl9jcmVhdGVEZWxldGVIYW5kbGVyKCk7dGhpcy5fb3B0aW9ucy5idXR0b24mJih0aGlzLl9kZWZhdWx0QnV0dG9uSWQ9dGhpcy5fY3JlYXRlVXBsb2FkQnV0dG9uKHtlbGVtZW50OnRoaXMuX29wdGlvbnMuYnV0dG9uLHRpdGxlOnRoaXMuX29wdGlvbnMudGV4dC5maWxlSW5wdXRUaXRsZX0pLmdldEJ1dHRvbklkKCkpO3RoaXMuX2dlbmVyYXRlRXh0cmFCdXR0b25TcGVjcygpO3RoaXMuX2hhbmRsZUNhbWVyYUFjY2VzcygpO3RoaXMuX29wdGlvbnMucGFzdGUudGFyZ2V0RWxlbWVudCYmKHQuUGFzdGVTdXBwb3J0P3RoaXMuX3Bhc3RlSGFuZGxlcj10aGlzLl9jcmVhdGVQYXN0ZUhhbmRsZXIoKTp0aGlzLmxvZygiUGFzdGUgc3VwcG9ydCBtb2R1bGUgbm90IGZvdW5kIiwiZXJyb3IiKSk7dGhpcy5fb3B0aW9ucy53YXJuQmVmb3JlVW5sb2FkJiZ0aGlzLl9wcmV2ZW50TGVhdmVJblByb2dyZXNzKCk7dGhpcy5faW1hZ2VHZW5lcmF0b3I9dC5JbWFnZUdlbmVyYXRvciYmbmV3IHQuSW1hZ2VHZW5lcmF0b3IodC5iaW5kKHRoaXMubG9nLHRoaXMpKTt0aGlzLl9yZWZyZXNoU2Vzc2lvbkRhdGEoKTt0aGlzLl9zdWNjZWVkZWRTaW5jZUxhc3RBbGxDb21wbGV0ZT1bXTt0aGlzLl9mYWlsZWRTaW5jZUxhc3RBbGxDb21wbGV0ZT1bXTt0aGlzLl9zY2FsZXI9dC5TY2FsZXImJm5ldyB0LlNjYWxlcih0aGlzLl9vcHRpb25zLnNjYWxpbmcsdC5iaW5kKHRoaXMubG9nLHRoaXMpKXx8e307dGhpcy5fc2NhbGVyLmVuYWJsZWQmJih0aGlzLl9jdXN0b21OZXdGaWxlSGFuZGxlcj10LmJpbmQodGhpcy5fc2NhbGVyLmhhbmRsZU5ld0ZpbGUsdGhpcy5fc2NhbGVyKSk7dC5Ub3RhbFByb2dyZXNzJiZ0LnN1cHBvcnRlZEZlYXR1cmVzLnByb2dyZXNzQmFyJiYodGhpcy5fdG90YWxQcm9ncmVzcz1uZXcgdC5Ub3RhbFByb2dyZXNzKHQuYmluZCh0aGlzLl9vblRvdGFsUHJvZ3Jlc3MsdGhpcyksZnVuY3Rpb24obil7dmFyIHQ9aS5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7aWQ6bn0pO3JldHVybiB0JiZ0LnNpemV8fDB9KSk7dGhpcy5fY3VycmVudEl0ZW1MaW1pdD10aGlzLl9vcHRpb25zLnZhbGlkYXRpb24uaXRlbUxpbWl0O3RoaXMuX2N1c3RvbVJlc3VtZURhdGFTdG9yZT10aGlzLl9jcmVhdGVTdG9yZSgpfTt0LkZpbmVVcGxvYWRlckJhc2ljLnByb3RvdHlwZT10LmJhc2VQdWJsaWNBcGk7dC5leHRlbmQodC5GaW5lVXBsb2FkZXJCYXNpYy5wcm90b3R5cGUsdC5iYXNlUHJpdmF0ZUFwaSl9KCk7dC5BamF4UmVxdWVzdGVyPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKCl7cmV0dXJuIHQuaW5kZXhPZihbIkdFVCIsIlBPU1QiLCJIRUFEIl0saS5tZXRob2QpPj0wfWZ1bmN0aW9uIHYoKXt2YXIgbj0hMTtyZXR1cm4gdC5lYWNoKG4sZnVuY3Rpb24oaSxyKXtpZih0LmluZGV4T2YoWyJBY2NlcHQiLCJBY2NlcHQtTGFuZ3VhZ2UiLCJDb250ZW50LUxhbmd1YWdlIiwiQ29udGVudC1UeXBlIl0scik8MClyZXR1cm4gbj0hMCwhMX0pLG59ZnVuY3Rpb24gZShuKXtyZXR1cm4gaS5jb3JzLmV4cGVjdGVkJiZ2b2lkIDA9PT1uLndpdGhDcmVkZW50aWFsc31mdW5jdGlvbiB5KCl7dmFyIG47cmV0dXJuKHdpbmRvdy5YTUxIdHRwUmVxdWVzdHx8d2luZG93LkFjdGl2ZVhPYmplY3QpJiYobj10LmNyZWF0ZVhockluc3RhbmNlKCksdm9pZCAwPT09bi53aXRoQ3JlZGVudGlhbHMmJihuPW5ldyBYRG9tYWluUmVxdWVzdCxuLm9ubG9hZD1mdW5jdGlvbigpe30sbi5vbmVycm9yPWZ1bmN0aW9uKCl7fSxuLm9udGltZW91dD1mdW5jdGlvbigpe30sbi5vbnByb2dyZXNzPWZ1bmN0aW9uKCl7fSkpLG59ZnVuY3Rpb24gdShuLHUpe3ZhciBmPXJbbl0mJnJbbl0ueGhyO3JldHVybiBmfHwoZj11P3U6aS5jb3JzLmV4cGVjdGVkP3koKTp0LmNyZWF0ZVhockluc3RhbmNlKCkscltuXS54aHI9ZiksZn1mdW5jdGlvbiBjKG4pe3ZhciBlLG89dC5pbmRleE9mKGYsbiksdT1pLm1heENvbm5lY3Rpb25zO2RlbGV0ZSByW25dO2Yuc3BsaWNlKG8sMSk7Zi5sZW5ndGg+PXUmJm88dSYmKGU9Zlt1LTFdLGwoZSkpfWZ1bmN0aW9uIHMobix0KXt2YXIgcj11KG4pLHM9aS5tZXRob2QsZj10PT09ITA7YyhuKTtmP28ocysiIHJlcXVlc3QgZm9yICIrbisiIGhhcyBmYWlsZWQiLCJlcnJvciIpOmUocil8fHR0KHIuc3RhdHVzKXx8KGY9ITAsbyhzKyIgcmVxdWVzdCBmb3IgIituKyIgaGFzIGZhaWxlZCAtIHJlc3BvbnNlIGNvZGUgIityLnN0YXR1cywiZXJyb3IiKSk7aS5vbkNvbXBsZXRlKG4scixmKX1mdW5jdGlvbiBwKG4pe3ZhciB1LGY9cltuXS5hZGRpdGlvbmFsUGFyYW1zLGU9aS5tYW5kYXRlZFBhcmFtcztyZXR1cm4gaS5wYXJhbXNTdG9yZS5nZXQmJih1PWkucGFyYW1zU3RvcmUuZ2V0KG4pKSxmJiZ0LmVhY2goZixmdW5jdGlvbihuLHQpe3U9dXx8e307dVtuXT10fSksZSYmdC5lYWNoKGUsZnVuY3Rpb24obix0KXt1PXV8fHt9O3Vbbl09dH0pLHV9ZnVuY3Rpb24gbChuLGYpe3ZhciBsLHM9dShuLGYpLGE9aS5tZXRob2QsYz1wKG4pLHY9cltuXS5wYXlsb2FkO3JldHVybiBpLm9uU2VuZChuKSxsPXcobixjLHJbbl0uYWRkaXRpb25hbFF1ZXJ5UGFyYW1zKSxlKHMpPyhzLm9ubG9hZD1kKG4pLHMub25lcnJvcj1nKG4pKTpzLm9ucmVhZHlzdGF0ZWNoYW5nZT1iKG4pLGsobikscy5vcGVuKGEsbCwhMCksaS5jb3JzLmV4cGVjdGVkJiZpLmNvcnMuc2VuZENyZWRlbnRpYWxzJiYhZShzKSYmKHMud2l0aENyZWRlbnRpYWxzPSEwKSxudChuKSxvKCJTZW5kaW5nICIrYSsiIHJlcXVlc3QgZm9yICIrbiksdj9zLnNlbmQodik6aHx8IWM/cy5zZW5kKCk6YyYmaS5jb250ZW50VHlwZSYmaS5jb250ZW50VHlwZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpPj0wP3Muc2VuZCh0Lm9iajJ1cmwoYywiIikpOmMmJmkuY29udGVudFR5cGUmJmkuY29udGVudFR5cGUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJhcHBsaWNhdGlvbi9qc29uIik+PTA/cy5zZW5kKEpTT04uc3RyaW5naWZ5KGMpKTpzLnNlbmQoYyksc31mdW5jdGlvbiB3KG4sdSxmKXt2YXIgZT1pLmVuZHBvaW50U3RvcmUuZ2V0KG4pLG89cltuXS5hZGRUb1BhdGg7cmV0dXJuIHZvaWQgMCE9byYmKGUrPSIvIitvKSxoJiZ1JiYoZT10Lm9iajJ1cmwodSxlKSksZiYmKGU9dC5vYmoydXJsKGYsZSkpLGV9ZnVuY3Rpb24gYihuKXtyZXR1cm4gZnVuY3Rpb24oKXs0PT09dShuKS5yZWFkeVN0YXRlJiZzKG4pfX1mdW5jdGlvbiBrKG4pe3ZhciB0PWkub25Qcm9ncmVzczt0JiYodShuKS51cGxvYWQub25wcm9ncmVzcz1mdW5jdGlvbihpKXtpLmxlbmd0aENvbXB1dGFibGUmJnQobixpLmxvYWRlZCxpLnRvdGFsKX0pfWZ1bmN0aW9uIGQobil7cmV0dXJuIGZ1bmN0aW9uKCl7cyhuKX19ZnVuY3Rpb24gZyhuKXtyZXR1cm4gZnVuY3Rpb24oKXtzKG4sITApfX1mdW5jdGlvbiBudChuKXt2YXIgZj11KG4pLG89aS5jdXN0b21IZWFkZXJzLGM9cltuXS5hZGRpdGlvbmFsSGVhZGVyc3x8e30saD1pLm1ldGhvZCxzPXt9O2UoZil8fChpLmFjY2VwdEhlYWRlciYmZi5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLGkuYWNjZXB0SGVhZGVyKSxpLmFsbG93WFJlcXVlc3RlZFdpdGhBbmRDYWNoZUNvbnRyb2wmJihpLmNvcnMuZXhwZWN0ZWQmJmEoKSYmIXYobyl8fChmLnNldFJlcXVlc3RIZWFkZXIoIlgtUmVxdWVzdGVkLVdpdGgiLCJYTUxIdHRwUmVxdWVzdCIpLGYuc2V0UmVxdWVzdEhlYWRlcigiQ2FjaGUtQ29udHJvbCIsIm5vLWNhY2hlIikpKSwhaS5jb250ZW50VHlwZXx8IlBPU1QiIT09aCYmIlBVVCIhPT1ofHxmLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsaS5jb250ZW50VHlwZSksdC5leHRlbmQocyx0LmlzRnVuY3Rpb24obyk/byhuKTpvKSx0LmV4dGVuZChzLGMpLHQuZWFjaChzLGZ1bmN0aW9uKG4sdCl7Zi5zZXRSZXF1ZXN0SGVhZGVyKG4sdCl9KSl9ZnVuY3Rpb24gdHQobil7cmV0dXJuIHQuaW5kZXhPZihpLnN1Y2Nlc3NmdWxSZXNwb25zZUNvZGVzW2kubWV0aG9kXSxuKT49MH1mdW5jdGlvbiBpdChuLHQsdSxlLG8scyxoKXtpZihyW25dPXthZGRUb1BhdGg6dSxhZGRpdGlvbmFsUGFyYW1zOmUsYWRkaXRpb25hbFF1ZXJ5UGFyYW1zOm8sYWRkaXRpb25hbEhlYWRlcnM6cyxwYXlsb2FkOmh9LGYucHVzaChuKTw9aS5tYXhDb25uZWN0aW9ucylyZXR1cm4gbChuLHQpfXZhciBvLGgsZj1bXSxyPXt9LGk9e2FjY2VwdEhlYWRlcjpudWxsLHZhbGlkTWV0aG9kczpbIlBBVENIIiwiUE9TVCIsIlBVVCJdLG1ldGhvZDoiUE9TVCIsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsbWF4Q29ubmVjdGlvbnM6MyxjdXN0b21IZWFkZXJzOnt9LGVuZHBvaW50U3RvcmU6e30scGFyYW1zU3RvcmU6e30sbWFuZGF0ZWRQYXJhbXM6e30sYWxsb3dYUmVxdWVzdGVkV2l0aEFuZENhY2hlQ29udHJvbDohMCxzdWNjZXNzZnVsUmVzcG9uc2VDb2Rlczp7REVMRVRFOlsyMDAsMjAyLDIwNF0sUEFUQ0g6WzIwMCwyMDEsMjAyLDIwMywyMDRdLFBPU1Q6WzIwMCwyMDEsMjAyLDIwMywyMDRdLFBVVDpbMjAwLDIwMSwyMDIsMjAzLDIwNF0sR0VUOlsyMDBdfSxjb3JzOntleHBlY3RlZDohMSxzZW5kQ3JlZGVudGlhbHM6ITF9LGxvZzpmdW5jdGlvbigpe30sb25TZW5kOmZ1bmN0aW9uKCl7fSxvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7fSxvblByb2dyZXNzOm51bGx9O2lmKHQuZXh0ZW5kKGksbiksbz1pLmxvZyx0LmluZGV4T2YoaS52YWxpZE1ldGhvZHMsaS5tZXRob2QpPDApdGhyb3cgbmV3IEVycm9yKCInIitpLm1ldGhvZCsiJyBpcyBub3QgYSBzdXBwb3J0ZWQgbWV0aG9kIGZvciB0aGlzIHR5cGUgb2YgcmVxdWVzdCEiKTtoPSJHRVQiPT09aS5tZXRob2R8fCJERUxFVEUiPT09aS5tZXRob2Q7dC5leHRlbmQodGhpcyx7aW5pdFRyYW5zcG9ydDpmdW5jdGlvbihuKXt2YXIgdSxyLGYsZSxvLHM7cmV0dXJue3dpdGhQYXRoOmZ1bmN0aW9uKG4pe3JldHVybiB1PW4sdGhpc30sd2l0aFBhcmFtczpmdW5jdGlvbihuKXtyZXR1cm4gcj1uLHRoaXN9LHdpdGhRdWVyeVBhcmFtczpmdW5jdGlvbihuKXtyZXR1cm4gcz1uLHRoaXN9LHdpdGhIZWFkZXJzOmZ1bmN0aW9uKG4pe3JldHVybiBmPW4sdGhpc30sd2l0aFBheWxvYWQ6ZnVuY3Rpb24obil7cmV0dXJuIGU9bix0aGlzfSx3aXRoQ2FjaGVCdXN0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbz0hMCx0aGlzfSxzZW5kOmZ1bmN0aW9uKGgpe3JldHVybiBvJiZ0LmluZGV4T2YoWyJHRVQiLCJERUxFVEUiXSxpLm1ldGhvZCk+PTAmJihyLnFxdGltZXN0YW1wPShuZXcgRGF0ZSkuZ2V0VGltZSgpKSxpdChuLGgsdSxyLHMsZixlKX19fSxjYW5jZWxlZDpmdW5jdGlvbihuKXtjKG4pfX0pfTt0LlVwbG9hZEhhbmRsZXI9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO3ZhciByPW4ucHJveHksaT17fSx1PXIub25DYW5jZWwsZj1yLmdldE5hbWU7dC5leHRlbmQodGhpcyx7YWRkOmZ1bmN0aW9uKG4sdCl7aVtuXT10O2lbbl0udGVtcD17fX0sY2FuY2VsOmZ1bmN0aW9uKG4pe3ZhciByPXRoaXMsZT1uZXcgdC5Qcm9taXNlO3UobixmKG4pLGUpLnRoZW4oZnVuY3Rpb24oKXtyLmlzVmFsaWQobikmJihpW25dLmNhbmNlbGVkPSEwLHIuZXhwdW5nZShuKSk7ZS5zdWNjZXNzKCl9KX0sZXhwdW5nZTpmdW5jdGlvbihuKXtkZWxldGUgaVtuXX0sZ2V0VGhpcmRQYXJ0eUZpbGVJZDpmdW5jdGlvbihuKXtyZXR1cm4gaVtuXS5rZXl9LGlzVmFsaWQ6ZnVuY3Rpb24obil7cmV0dXJuIHZvaWQgMCE9PWlbbl19LHJlc2V0OmZ1bmN0aW9uKCl7aT17fX0sX2dldEZpbGVTdGF0ZTpmdW5jdGlvbihuKXtyZXR1cm4gaVtuXX0sX3NldFRoaXJkUGFydHlGaWxlSWQ6ZnVuY3Rpb24obix0KXtpW25dLmtleT10fSxfd2FzQ2FuY2VsZWQ6ZnVuY3Rpb24obil7cmV0dXJuISFpW25dLmNhbmNlbGVkfX0pfTt0LlVwbG9hZEhhbmRsZXJDb250cm9sbGVyPWZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO3ZhciBhLG8scixoPXRoaXMsbD0hMSxjPSExLHU9e3BhcmFtc1N0b3JlOnt9LG1heENvbm5lY3Rpb25zOjMsY2h1bmtpbmc6e2VuYWJsZWQ6ITEsbXVsdGlwbGU6e2VuYWJsZWQ6ITF9fSxsb2c6ZnVuY3Rpb24oKXt9LG9uUHJvZ3Jlc3M6ZnVuY3Rpb24oKXt9LG9uQ29tcGxldGU6ZnVuY3Rpb24oKXt9LG9uQ2FuY2VsOmZ1bmN0aW9uKCl7fSxvblVwbG9hZFByZXA6ZnVuY3Rpb24oKXt9LG9uVXBsb2FkOmZ1bmN0aW9uKCl7fSxvblVwbG9hZENodW5rOmZ1bmN0aW9uKCl7fSxvblVwbG9hZENodW5rU3VjY2VzczpmdW5jdGlvbigpe30sb25BdXRvUmV0cnk6ZnVuY3Rpb24oKXt9LG9uUmVzdW1lOmZ1bmN0aW9uKCl7fSxvblV1aWRDaGFuZ2VkOmZ1bmN0aW9uKCl7fSxnZXROYW1lOmZ1bmN0aW9uKCl7fSxzZXRTaXplOmZ1bmN0aW9uKCl7fSxpc1F1ZXVlZDpmdW5jdGlvbigpe30sZ2V0SWRzSW5Qcm94eUdyb3VwOmZ1bmN0aW9uKCl7fSxnZXRJZHNJbkJhdGNoOmZ1bmN0aW9uKCl7fSxpc0luUHJvZ3Jlc3M6ZnVuY3Rpb24oKXt9fSxzPXtkb25lOmZ1bmN0aW9uKG4sdCxpLGYpe3ZhciBlPXIuX2dldENodW5rRGF0YShuLHQpO3IuX2dldEZpbGVTdGF0ZShuKS5hdHRlbXB0aW5nUmVzdW1lPSExO2RlbGV0ZSByLl9nZXRGaWxlU3RhdGUobikudGVtcC5jaHVua1Byb2dyZXNzW3RdO3IuX2dldEZpbGVTdGF0ZShuKS5sb2FkZWQrPWUuc2l6ZTt1Lm9uVXBsb2FkQ2h1bmtTdWNjZXNzKG4sci5fZ2V0Q2h1bmtEYXRhRm9yQ2FsbGJhY2soZSksaSxmKX0sZmluYWxpemU6ZnVuY3Rpb24obil7dmFyIHQ9dS5nZXRTaXplKG4pLGk9dS5nZXROYW1lKG4pO28oIkFsbCBjaHVua3MgaGF2ZSBiZWVuIHVwbG9hZGVkIGZvciAiK24rIiAtIGZpbmFsaXppbmcuLi4uIik7ci5maW5hbGl6ZUNodW5rcyhuKS50aGVuKGZ1bmN0aW9uKGYscyl7bygiRmluYWxpemUgc3VjY2Vzc2Z1bCBmb3IgIituKTt2YXIgaD1lLm5vcm1hbGl6ZVJlc3BvbnNlKGYsITApO3Uub25Qcm9ncmVzcyhuLGksdCx0KTtyLl9tYXliZURlbGV0ZVBlcnNpc3RlZENodW5rRGF0YShuKTtlLmNsZWFudXAobixoLHMpfSxmdW5jdGlvbih0LHIpe3ZhciBmPWUubm9ybWFsaXplUmVzcG9uc2UodCwhMSk7bygiUHJvYmxlbSBmaW5hbGl6aW5nIGNodW5rcyBmb3IgZmlsZSBJRCAiK24rIiAtICIrZi5lcnJvciwiZXJyb3IiKTsoZi5yZXNldHx8ciYmdS5jaHVua2luZy5zdWNjZXNzLnJlc2V0T25TdGF0dXMuaW5kZXhPZihyLnN0YXR1cyk+PTApJiZzLnJlc2V0KG4pO3Uub25BdXRvUmV0cnkobixpLGYscil8fGUuY2xlYW51cChuLGYscil9KX0saGFuZGxlRmFpbHVyZTpmdW5jdGlvbihuLGksaCxsKXt2YXIgcD11LmdldE5hbWUoaSksdixhLHk7bygiQ2h1bmtlZCB1cGxvYWQgcmVxdWVzdCBmYWlsZWQgZm9yICIraSsiLCBjaHVuayAiK24pO3IuY2xlYXJDYWNoZWRDaHVuayhpLG4pO2E9ZS5ub3JtYWxpemVSZXNwb25zZShoLCExKTthLnJlc2V0P3MucmVzZXQoaSk6KHk9ci5fZ2V0RmlsZVN0YXRlKGkpLmNodW5raW5nLmluUHJvZ3Jlc3Msdj15P3QuaW5kZXhPZih5LG4pOi0xLHY+PTAmJihyLl9nZXRGaWxlU3RhdGUoaSkuY2h1bmtpbmcuaW5Qcm9ncmVzcy5zcGxpY2UodiwxKSxyLl9nZXRGaWxlU3RhdGUoaSkuY2h1bmtpbmcucmVtYWluaW5nLnVuc2hpZnQobikpKTtyLl9nZXRGaWxlU3RhdGUoaSkudGVtcC5pZ25vcmVGYWlsdXJlfHwoYyYmKHIuX2dldEZpbGVTdGF0ZShpKS50ZW1wLmlnbm9yZUZhaWx1cmU9ITAsbyh0LmZvcm1hdCgiR29pbmcgdG8gYXR0ZW1wdCB0byBhYm9ydCB0aGVzZSBjaHVua3M6IHt9LiBUaGVzZSBhcmUgY3VycmVudGx5IGluLXByb2dyZXNzOiB7fS4iLEpTT04uc3RyaW5naWZ5KE9iamVjdC5rZXlzKHIuX2dldFhocnMoaSkpKSxKU09OLnN0cmluZ2lmeShyLl9nZXRGaWxlU3RhdGUoaSkuY2h1bmtpbmcuaW5Qcm9ncmVzcykpKSx0LmVhY2goci5fZ2V0WGhycyhpKSxmdW5jdGlvbihuLHIpe28odC5mb3JtYXQoIkF0dGVtcHRpbmcgdG8gYWJvcnQgZmlsZSB7fS57fS4gWEhSIHJlYWR5U3RhdGUge30uICIsaSxuLHIucmVhZHlTdGF0ZSkpO3IuYWJvcnQoKTtyLl9jYW5jZWxsZWQ9ITB9KSxyLm1vdmVJblByb2dyZXNzVG9SZW1haW5pbmcoaSksZi5mcmVlKGksITApKSx1Lm9uQXV0b1JldHJ5KGkscCxhLGwpfHxlLmNsZWFudXAoaSxhLGwpKX0saGFzTW9yZVBhcnRzOmZ1bmN0aW9uKG4pe3JldHVybiEhci5fZ2V0RmlsZVN0YXRlKG4pLmNodW5raW5nLnJlbWFpbmluZy5sZW5ndGh9LG5leHRQYXJ0OmZ1bmN0aW9uKG4pe3ZhciB0PXIuX2dldEZpbGVTdGF0ZShuKS5jaHVua2luZy5yZW1haW5pbmcuc2hpZnQoKTtyZXR1cm4gdD49ci5fZ2V0VG90YWxDaHVua3MobikmJih0PW51bGwpLHR9LHJlc2V0OmZ1bmN0aW9uKG4pe28oIlNlcnZlciBvciBjYWxsYmFjayBoYXMgb3JkZXJlZCBjaHVua2luZyBlZmZvcnQgdG8gYmUgcmVzdGFydGVkIG9uIG5leHQgYXR0ZW1wdCBmb3IgaXRlbSBJRCAiK24sImVycm9yIik7ci5fbWF5YmVEZWxldGVQZXJzaXN0ZWRDaHVua0RhdGEobik7ci5yZWV2YWx1YXRlQ2h1bmtpbmcobik7ci5fZ2V0RmlsZVN0YXRlKG4pLmxvYWRlZD0wO3IuX2dldEZpbGVTdGF0ZShuKS5hdHRlbXB0aW5nUmVzdW1lPSExfSxzZW5kTmV4dDpmdW5jdGlvbihuKXt2YXIgcD11LmdldFNpemUobikseT11LmdldE5hbWUobiksaT1zLm5leHRQYXJ0KG4pLGg9ci5fZ2V0Q2h1bmtEYXRhKG4saSksbD1yLl9nZXRGaWxlU3RhdGUobiksYT1sLmF0dGVtcHRpbmdSZXN1bWUsdj1sLmNodW5raW5nLmluUHJvZ3Jlc3N8fFtdOyhudWxsPT1sLmxvYWRlZCYmKGwubG9hZGVkPTApLGEmJnUub25SZXN1bWUobix5LGgsbC5jdXN0b21SZXN1bWVEYXRhKT09PSExJiYocy5yZXNldChuKSxpPXMubmV4dFBhcnQobiksaD1yLl9nZXRDaHVua0RhdGEobixpKSxhPSExKSxudWxsPT1pJiYwPT09di5sZW5ndGgpP3MuZmluYWxpemUobik6KHYucHVzaChpKSxyLl9nZXRGaWxlU3RhdGUobikuY2h1bmtpbmcuaW5Qcm9ncmVzcz12LGMmJmYub3BlbihuLGkpLGMmJmYuYXZhaWxhYmxlKCkmJnIuX2dldEZpbGVTdGF0ZShuKS5jaHVua2luZy5yZW1haW5pbmcubGVuZ3RoJiZzLnNlbmROZXh0KG4pLDA9PT1oLmJsb2Iuc2l6ZSYmKG8odC5mb3JtYXQoIkNodW5rIHt9IGZvciBmaWxlIHt9IHdpbGwgbm90IGJlIHVwbG9hZGVkLCB6ZXJvIHNpemVkIGNodW5rLiIsaSxuKSwiZXJyb3IiKSxzLmhhbmRsZUZhaWx1cmUoaSxuLCJGaWxlIGlzIG5vIGxvbmdlciBhdmFpbGFibGUiLG51bGwpKSx1Lm9uVXBsb2FkQ2h1bmsobix5LHIuX2dldENodW5rRGF0YUZvckNhbGxiYWNrKGgpKS50aGVuKGZ1bmN0aW9uKGYpe2lmKHUuaXNJblByb2dyZXNzKG4pKXtvKHQuZm9ybWF0KCJTZW5kaW5nIGNodW5rZWQgdXBsb2FkIHJlcXVlc3QgZm9yIGl0ZW0ge30ue30sIGJ5dGVzIHt9LXt9IG9mIHt9LiIsbixpLGguc3RhcnQrMSxoLmVuZCxwKSk7dmFyIGM9e2NodW5rSWR4OmksaWQ6bixvdmVycmlkZXM6ZixyZXN1bWluZzphfTtyLnVwbG9hZENodW5rKGMpLnRoZW4oZnVuY3Rpb24odSxmKXtvKCJDaHVua2VkIHVwbG9hZCByZXF1ZXN0IHN1Y2NlZWRlZCBmb3IgIituKyIsIGNodW5rICIraSk7ci5jbGVhckNhY2hlZENodW5rKG4saSk7dmFyIGg9ci5fZ2V0RmlsZVN0YXRlKG4pLmNodW5raW5nLmluUHJvZ3Jlc3N8fFtdLGw9ZS5ub3JtYWxpemVSZXNwb25zZSh1LCEwKSxjPXQuaW5kZXhPZihoLGkpO28odC5mb3JtYXQoIkNodW5rIHt9IGZvciBmaWxlIHt9IHVwbG9hZGVkIHN1Y2Nlc3NmdWxseS4iLGksbikpO3MuZG9uZShuLGksbCxmKTtjPj0wJiZoLnNwbGljZShjLDEpO3IuX21heWJlUGVyc2lzdENodW5rZWRTdGF0ZShuKTtzLmhhc01vcmVQYXJ0cyhuKXx8MCE9PWgubGVuZ3RoP3MuaGFzTW9yZVBhcnRzKG4pP3Muc2VuZE5leHQobik6byh0LmZvcm1hdCgiRmlsZSBJRCB7fSBoYXMgbm8gbW9yZSBjaHVua3MgdG8gc2VuZCBhbmQgdGhlc2UgY2h1bmsgaW5kZXhlcyBhcmUgc3RpbGwgbWFya2VkIGFzIGluLXByb2dyZXNzOiB7fSIsbixKU09OLnN0cmluZ2lmeShoKSkpOnMuZmluYWxpemUobil9LGZ1bmN0aW9uKHQscil7cy5oYW5kbGVGYWlsdXJlKGksbix0LHIpfSkuZG9uZShmdW5jdGlvbigpe3IuY2xlYXJYaHIobixpKX0pfWVsc2Ugbyh0LmZvcm1hdCgiTm90IHNlbmRpbmcgY2h1bmtlZCB1cGxvYWQgcmVxdWVzdCBmb3IgaXRlbSB7fS57fSAtIG5vIGxvbmdlciBpbiBwcm9ncmVzcy4iLG4saSkpfSxmdW5jdGlvbih0KXtzLmhhbmRsZUZhaWx1cmUoaSxuLHQsbnVsbCl9KSl9fSxmPXtfb3BlbjpbXSxfb3BlbkNodW5rczp7fSxfd2FpdGluZzpbXSxhdmFpbGFibGU6ZnVuY3Rpb24oKXt2YXIgcj11Lm1heENvbm5lY3Rpb25zLG49MCxpPTA7cmV0dXJuIHQuZWFjaChmLl9vcGVuQ2h1bmtzLGZ1bmN0aW9uKHQscil7bisrO2krPXIubGVuZ3RofSksci0oZi5fb3Blbi5sZW5ndGgtbitpKX0sZnJlZTpmdW5jdGlvbihuLGkpe3ZhciB1LGM9IWkscz10LmluZGV4T2YoZi5fd2FpdGluZyxuKSxoPXQuaW5kZXhPZihmLl9vcGVuLG4pO2RlbGV0ZSBmLl9vcGVuQ2h1bmtzW25dO2UuZ2V0UHJveHlPckJsb2IobilpbnN0YW5jZW9mIHQuQmxvYlByb3h5JiYobygiR2VuZXJhdGVkIGJsb2IgdXBsb2FkIGhhcyBlbmRlZCBmb3IgIituKyIsIGRpc3Bvc2luZyBnZW5lcmF0ZWQgYmxvYi4iKSxkZWxldGUgci5fZ2V0RmlsZVN0YXRlKG4pLmZpbGUpO3M+PTA/Zi5fd2FpdGluZy5zcGxpY2UocywxKTpjJiZoPj0wJiYoZi5fb3Blbi5zcGxpY2UoaCwxKSx1PWYuX3dhaXRpbmcuc2hpZnQoKSx1Pj0wJiYoZi5fb3Blbi5wdXNoKHUpLGUuc3RhcnQodSkpKX0sZ2V0V2FpdGluZ09yQ29ubmVjdGVkOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIHQuZWFjaChmLl9vcGVuQ2h1bmtzLGZ1bmN0aW9uKHQsaSl7aSYmaS5sZW5ndGgmJm4ucHVzaChwYXJzZUludCh0KSl9KSx0LmVhY2goZi5fb3BlbixmdW5jdGlvbih0LGkpe2YuX29wZW5DaHVua3NbaV18fG4ucHVzaChwYXJzZUludChpKSl9KSxuPW4uY29uY2F0KGYuX3dhaXRpbmcpfSxpc1VzaW5nQ29ubmVjdGlvbjpmdW5jdGlvbihuKXtyZXR1cm4gdC5pbmRleE9mKGYuX29wZW4sbik+PTB9LG9wZW46ZnVuY3Rpb24obix0KXtyZXR1cm4gbnVsbD09dCYmZi5fd2FpdGluZy5wdXNoKG4pLCEhZi5hdmFpbGFibGUoKSYmKG51bGw9PXQ/KGYuX3dhaXRpbmcucG9wKCksZi5fb3Blbi5wdXNoKG4pKTpmdW5jdGlvbigpe3ZhciBpPWYuX29wZW5DaHVua3Nbbl18fFtdO2kucHVzaCh0KTtmLl9vcGVuQ2h1bmtzW25dPWl9KCksITApfSxyZXNldDpmdW5jdGlvbigpe2YuX3dhaXRpbmc9W107Zi5fb3Blbj1bXX19LHY9e3NlbmQ6ZnVuY3Rpb24obix0KXt2YXIgaT1yLl9nZXRGaWxlU3RhdGUobik7aWYoIWkpcmV0dXJuIHZvaWQgbygiSWdub3Jpbmcgc2VuZCByZXF1ZXN0IGFzIHRoaXMgdXBsb2FkIG1heSBoYXZlIGJlZW4gY2FuY2VsbGVkLCBGaWxlIElEICIrbiwid2FybiIpO2kubG9hZGVkPTA7bygiU2VuZGluZyBzaW1wbGUgdXBsb2FkIHJlcXVlc3QgZm9yICIrbik7ci51cGxvYWRGaWxlKG4pLnRoZW4oZnVuY3Rpb24oaSxyKXtvKCJTaW1wbGUgdXBsb2FkIHJlcXVlc3Qgc3VjY2VlZGVkIGZvciAiK24pO3ZhciBmPWUubm9ybWFsaXplUmVzcG9uc2UoaSwhMCkscz11LmdldFNpemUobik7dS5vblByb2dyZXNzKG4sdCxzLHMpO2UubWF5YmVOZXdVdWlkKG4sZik7ZS5jbGVhbnVwKG4sZixyKX0sZnVuY3Rpb24oaSxyKXtvKCJTaW1wbGUgdXBsb2FkIHJlcXVlc3QgZmFpbGVkIGZvciAiK24pO3ZhciBmPWUubm9ybWFsaXplUmVzcG9uc2UoaSwhMSk7dS5vbkF1dG9SZXRyeShuLHQsZixyKXx8ZS5jbGVhbnVwKG4sZixyKX0pfX0sZT17Y2FuY2VsOmZ1bmN0aW9uKG4pe28oIkNhbmNlbGxpbmcgIituKTt1LnBhcmFtc1N0b3JlLnJlbW92ZShuKTtmLmZyZWUobil9LGNsZWFudXA6ZnVuY3Rpb24obix0LGkpe3ZhciBlPXUuZ2V0TmFtZShuKTt1Lm9uQ29tcGxldGUobixlLHQsaSk7ci5fZ2V0RmlsZVN0YXRlKG4pJiZyLl9jbGVhclhocnMmJnIuX2NsZWFyWGhycyhuKTtmLmZyZWUobil9LGdldFByb3h5T3JCbG9iOmZ1bmN0aW9uKG4pe3JldHVybiByLmdldFByb3h5JiZyLmdldFByb3h5KG4pfHxyLmdldEZpbGUmJnIuZ2V0RmlsZShuKX0saW5pdEhhbmRsZXI6ZnVuY3Rpb24oKXtyPW5ldyhpP3RbaV06dC50cmFkaXRpb25hbClbKHQuc3VwcG9ydGVkRmVhdHVyZXMuYWpheFVwbG9hZGluZz8iWGhyIjoiRm9ybSIpKyJVcGxvYWRIYW5kbGVyIl0odSx7Z2V0Q3VzdG9tUmVzdW1lRGF0YTp1LmdldEN1c3RvbVJlc3VtZURhdGEsZ2V0RGF0YUJ5VXVpZDp1LmdldERhdGFCeVV1aWQsZ2V0TmFtZTp1LmdldE5hbWUsZ2V0U2l6ZTp1LmdldFNpemUsZ2V0VXVpZDp1LmdldFV1aWQsbG9nOm8sb25DYW5jZWw6dS5vbkNhbmNlbCxvblByb2dyZXNzOnUub25Qcm9ncmVzcyxvblV1aWRDaGFuZ2VkOnUub25VdWlkQ2hhbmdlZCxvbkZpbmFsaXppbmc6ZnVuY3Rpb24obil7dS5zZXRTdGF0dXMobix0LnN0YXR1cy5VUExPQURfRklOQUxJWklORyl9fSk7ci5fcmVtb3ZlRXhwaXJlZENodW5raW5nUmVjb3JkcyYmci5fcmVtb3ZlRXhwaXJlZENodW5raW5nUmVjb3JkcygpfSxpc0RlZmVycmVkRWxpZ2libGVGb3JVcGxvYWQ6ZnVuY3Rpb24obil7cmV0dXJuIHUuaXNRdWV1ZWQobil9LG1heWJlRGVmZXI6ZnVuY3Rpb24obixpKXtyZXR1cm4gaSYmIXIuZ2V0RmlsZShuKSYmaSBpbnN0YW5jZW9mIHQuQmxvYlByb3h5Pyh1Lm9uVXBsb2FkUHJlcChuKSxvKCJBdHRlbXB0aW5nIHRvIGdlbmVyYXRlIGEgYmxvYiBvbi1kZW1hbmQgZm9yICIrbiksaS5jcmVhdGUoKS50aGVuKGZ1bmN0aW9uKHQpe28oIkdlbmVyYXRlZCBhbiBvbi1kZW1hbmQgYmxvYiBmb3IgIituKTtyLnVwZGF0ZUJsb2Iobix0KTt1LnNldFNpemUobix0LnNpemUpO3IucmVldmFsdWF0ZUNodW5raW5nKG4pO2UubWF5YmVTZW5kRGVmZXJyZWRGaWxlcyhuKX0sZnVuY3Rpb24oaSl7dmFyIHI9e307aSYmKHIuZXJyb3I9aSk7byh0LmZvcm1hdCgiRmFpbGVkIHRvIGdlbmVyYXRlIGJsb2IgZm9yIElEIHt9LiAgRXJyb3IgbWVzc2FnZToge30uIixuLGkpLCJlcnJvciIpO3Uub25Db21wbGV0ZShuLHUuZ2V0TmFtZShuKSx0LmV4dGVuZChyLGEpLG51bGwpO2UubWF5YmVTZW5kRGVmZXJyZWRGaWxlcyhuKTtmLmZyZWUobil9KSwhMSk6ZS5tYXliZVNlbmREZWZlcnJlZEZpbGVzKG4pfSxtYXliZVNlbmREZWZlcnJlZEZpbGVzOmZ1bmN0aW9uKG4pe3ZhciBpPXUuZ2V0SWRzSW5Qcm94eUdyb3VwKG4pLGY9ITE7cmV0dXJuIGkmJmkubGVuZ3RoPyhvKCJNYXliZSByZWFkeSB0byB1cGxvYWQgcHJveHkgZ3JvdXAgZmlsZSAiK24pLHQuZWFjaChpLGZ1bmN0aW9uKHQsaSl7aWYoZS5pc0RlZmVycmVkRWxpZ2libGVGb3JVcGxvYWQoaSkmJnIuZ2V0RmlsZShpKSlmPWk9PT1uLGUubm93KGkpO2Vsc2UgaWYoZS5pc0RlZmVycmVkRWxpZ2libGVGb3JVcGxvYWQoaSkpcmV0dXJuITF9KSk6KGY9ITAsZS5ub3cobikpLGZ9LG1heWJlTmV3VXVpZDpmdW5jdGlvbihuLHQpe3ZvaWQgMCE9PXQubmV3VXVpZCYmdS5vblV1aWRDaGFuZ2VkKG4sdC5uZXdVdWlkKX0sbm9ybWFsaXplUmVzcG9uc2U6ZnVuY3Rpb24obixpKXt2YXIgcj1uO3JldHVybiB0LmlzT2JqZWN0KG4pfHwocj17fSx0LmlzU3RyaW5nKG4pJiYhaSYmKHIuZXJyb3I9bikpLHIuc3VjY2Vzcz1pLHJ9LG5vdzpmdW5jdGlvbihuKXt2YXIgaT11LmdldE5hbWUobik7aWYoIWguaXNWYWxpZChuKSl0aHJvdyBuZXcgdC5FcnJvcihuKyIgaXMgbm90IGEgdmFsaWQgZmlsZSBJRCB0byB1cGxvYWQhIik7dS5vblVwbG9hZChuLGkpLnRoZW4oZnVuY3Rpb24oZSl7ZSYmZS5wYXVzZT8odS5zZXRTdGF0dXMobix0LnN0YXR1cy5QQVVTRUQpLHIucGF1c2UobiksZi5mcmVlKG4pKTpsJiZyLl9zaG91bGRDaHVua1RoaXNGaWxlKG4pP3Muc2VuZE5leHQobik6di5zZW5kKG4saSl9LGZ1bmN0aW9uKHQpe2lmKHQ9dHx8e30sbyhuKyIgdXBsb2FkIHN0YXJ0IGFib3J0ZWQgZHVlIHRvIHJlamVjdGVkIG9uVXBsb2FkIFByb21pc2UgLSBkZXRhaWxzOiAiK3QsImVycm9yIiksIXUub25BdXRvUmV0cnkobixpLHQucmVzcG9uc2VKU09OfHx7fSkpe3ZhciByPWUubm9ybWFsaXplUmVzcG9uc2UodC5yZXNwb25zZUpTT04sITEpO2UuY2xlYW51cChuLHIpfX0pfSxzdGFydDpmdW5jdGlvbihuKXt2YXIgdD1lLmdldFByb3h5T3JCbG9iKG4pO3JldHVybiB0P2UubWF5YmVEZWZlcihuLHQpOihlLm5vdyhuKSwhMCl9fTt0LmV4dGVuZCh0aGlzLHthZGQ6ZnVuY3Rpb24oKXtyLmFkZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHVwbG9hZDpmdW5jdGlvbihuKXtyZXR1cm4hIWYub3BlbihuKSYmZS5zdGFydChuKX0scmV0cnk6ZnVuY3Rpb24obil7cmV0dXJuIGMmJihyLl9nZXRGaWxlU3RhdGUobikudGVtcC5pZ25vcmVGYWlsdXJlPSExKSxmLmlzVXNpbmdDb25uZWN0aW9uKG4pP2Uuc3RhcnQobik6aC51cGxvYWQobil9LGNhbmNlbDpmdW5jdGlvbihuKXt2YXIgaT1yLmNhbmNlbChuKTt0LmlzR2VuZXJpY1Byb21pc2UoaSk/aS50aGVuKGZ1bmN0aW9uKCl7ZS5jYW5jZWwobil9KTppIT09ITEmJmUuY2FuY2VsKG4pfSxjYW5jZWxBbGw6ZnVuY3Rpb24oKXt2YXIgbix0PWYuZ2V0V2FpdGluZ09yQ29ubmVjdGVkKCk7aWYodC5sZW5ndGgpZm9yKG49dC5sZW5ndGgtMTtuPj0wO24tLSloLmNhbmNlbCh0W25dKTtmLnJlc2V0KCl9LGdldEZpbGU6ZnVuY3Rpb24obil7cmV0dXJuIHIuZ2V0UHJveHkmJnIuZ2V0UHJveHkobik/ci5nZXRQcm94eShuKS5yZWZlcmVuY2VCbG9iOnIuZ2V0RmlsZSYmci5nZXRGaWxlKG4pfSxpc1Byb3hpZWQ6ZnVuY3Rpb24obil7cmV0dXJuISghci5nZXRQcm94eXx8IXIuZ2V0UHJveHkobikpfSxnZXRJbnB1dDpmdW5jdGlvbihuKXtpZihyLmdldElucHV0KXJldHVybiByLmdldElucHV0KG4pfSxyZXNldDpmdW5jdGlvbigpe28oIlJlc2V0dGluZyB1cGxvYWQgaGFuZGxlciIpO2guY2FuY2VsQWxsKCk7Zi5yZXNldCgpO3IucmVzZXQoKX0sZXhwdW5nZTpmdW5jdGlvbihuKXtpZihoLmlzVmFsaWQobikpcmV0dXJuIHIuZXhwdW5nZShuKX0saXNWYWxpZDpmdW5jdGlvbihuKXtyZXR1cm4gci5pc1ZhbGlkKG4pfSxoYXNSZXN1bWVSZWNvcmQ6ZnVuY3Rpb24obil7dmFyIHQ9ci5pc1ZhbGlkKG4pJiZyLl9nZXRMb2NhbFN0b3JhZ2VJZCYmci5fZ2V0TG9jYWxTdG9yYWdlSWQobik7cmV0dXJuISF0JiYhIWxvY2FsU3RvcmFnZS5nZXRJdGVtKHQpfSxnZXRSZXN1bWFibGVGaWxlc0RhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gci5nZXRSZXN1bWFibGVGaWxlc0RhdGE/ci5nZXRSZXN1bWFibGVGaWxlc0RhdGEoKTpbXX0sZ2V0VGhpcmRQYXJ0eUZpbGVJZDpmdW5jdGlvbihuKXtpZihoLmlzVmFsaWQobikpcmV0dXJuIHIuZ2V0VGhpcmRQYXJ0eUZpbGVJZChuKX0scGF1c2U6ZnVuY3Rpb24obil7cmV0dXJuISEoaC5pc1Jlc3VtYWJsZShuKSYmci5wYXVzZSYmaC5pc1ZhbGlkKG4pJiZyLnBhdXNlKG4pKSYmKGYuZnJlZShuKSxyLm1vdmVJblByb2dyZXNzVG9SZW1haW5pbmcobiksITApfSxpc0F0dGVtcHRpbmdSZXN1bWU6ZnVuY3Rpb24obil7cmV0dXJuISFyLmlzQXR0ZW1wdGluZ1Jlc3VtZSYmci5pc0F0dGVtcHRpbmdSZXN1bWUobil9LGlzUmVzdW1hYmxlOmZ1bmN0aW9uKG4pe3JldHVybiEhci5pc1Jlc3VtYWJsZSYmci5pc1Jlc3VtYWJsZShuKX19KTt0LmV4dGVuZCh1LG4pO289dS5sb2c7bD11LmNodW5raW5nLmVuYWJsZWQmJnQuc3VwcG9ydGVkRmVhdHVyZXMuY2h1bmtpbmc7Yz1sJiZ1LmNodW5raW5nLmNvbmN1cnJlbnQuZW5hYmxlZDthPWZ1bmN0aW9uKCl7dmFyIG49e307cmV0dXJuIG5bdS5wcmV2ZW50UmV0cnlQYXJhbV09ITAsbn0oKTtlLmluaXRIYW5kbGVyKCl9O3QuV2luZG93UmVjZWl2ZU1lc3NhZ2U9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO3ZhciByPXtsb2c6ZnVuY3Rpb24oKXt9fSxpPXt9O3QuZXh0ZW5kKHIsbik7dC5leHRlbmQodGhpcyx7cmVjZWl2ZU1lc3NhZ2U6ZnVuY3Rpb24obixyKXt2YXIgdT1mdW5jdGlvbihuKXtyKG4uZGF0YSl9O3dpbmRvdy5wb3N0TWVzc2FnZT9pW25dPXQod2luZG93KS5hdHRhY2goIm1lc3NhZ2UiLHUpOmxvZygiaWZyYW1lIG1lc3NhZ2UgcGFzc2luZyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlciEiLCJlcnJvciIpfSxzdG9wUmVjZWl2aW5nTWVzc2FnZXM6ZnVuY3Rpb24obil7aWYod2luZG93LnBvc3RNZXNzYWdlKXt2YXIgdD1pW25dO3QmJnQoKX19fSl9O3QuRm9ybVVwbG9hZEhhbmRsZXI9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGEobil7ZGVsZXRlIHVbbl07bCYmKGNsZWFyVGltZW91dChmW25dKSxkZWxldGUgZltuXSxvLnN0b3BSZWNlaXZpbmdNZXNzYWdlcyhuKSk7dmFyIGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoci5fZ2V0SWZyYW1lTmFtZShuKSk7aSYmKGkuc2V0QXR0cmlidXRlKCJzcmMiLCJqYXZhc2NyaXB0OmZhbHNlOyIpLHQoaSkucmVtb3ZlKCkpfWZ1bmN0aW9uIHMobil7cmV0dXJuIG4uc3BsaXQoIl8iKVswXX1mdW5jdGlvbiB2KG4pe3ZhciBpPXQudG9FbGVtZW50KCI8aWZyYW1lIHNyYz0namF2YXNjcmlwdDpmYWxzZTsnIG5hbWU9JyIrbisiJyAvPiIpO3JldHVybiBpLnNldEF0dHJpYnV0ZSgiaWQiLG4pLGkuc3R5bGUuZGlzcGxheT0ibm9uZSIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpKSxpfWZ1bmN0aW9uIHkobixoKXt2YXIgYz1uLmlkLGw9cyhjKTtlW2IobCldPWg7dVtsXT10KG4pLmF0dGFjaCgibG9hZCIsZnVuY3Rpb24oKXtyLmdldElucHV0KGwpJiYoaSgiUmVjZWl2ZWQgaWZyYW1lIGxvYWQgZXZlbnQgZm9yIENPUlMgdXBsb2FkIHJlcXVlc3QgKGlmcmFtZSBuYW1lICIrYysiKSIpLGZbY109c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBuPSJObyB2YWxpZCBtZXNzYWdlIHJlY2VpdmVkIGZyb20gbG9hZGVkIGlmcmFtZSBmb3IgaWZyYW1lIG5hbWUgIitjO2kobiwiZXJyb3IiKTtoKHtlcnJvcjpufSl9LDFlMykpfSk7by5yZWNlaXZlTWVzc2FnZShjLGZ1bmN0aW9uKG4pe2koIlJlY2VpdmVkIHRoZSBmb2xsb3dpbmcgd2luZG93IG1lc3NhZ2U6ICciK24rIiciKTt2YXIgdSxoPShzKGMpLHIuX3BhcnNlSnNvblJlc3BvbnNlKG4pKSx0PWgudXVpZDt0JiZlW3RdPyhpKCJIYW5kbGluZyByZXNwb25zZSBmb3IgaWZyYW1lIG5hbWUgIitjKSxjbGVhclRpbWVvdXQoZltjXSksZGVsZXRlIGZbY10sci5fZGV0YWNoTG9hZEV2ZW50KGMpLHU9ZVt0XSxkZWxldGUgZVt0XSxvLnN0b3BSZWNlaXZpbmdNZXNzYWdlcyhjKSx1KGgpKTp0fHxpKCInIituKyInIGRvZXMgbm90IGNvbnRhaW4gYSBVVUlEIC0gaWdub3JpbmcuIil9KX12YXIgaD1uLm9wdGlvbnMscj10aGlzLGM9bi5wcm94eSxwPXQuZ2V0VW5pcXVlSWQoKSxlPXt9LHU9e30sZj17fSxsPWguaXNDb3JzLHc9aC5pbnB1dE5hbWUsYj1jLmdldFV1aWQsaT1jLmxvZyxvPW5ldyB0LldpbmRvd1JlY2VpdmVNZXNzYWdlKHtsb2c6aX0pO3QuZXh0ZW5kKHRoaXMsbmV3IHQuVXBsb2FkSGFuZGxlcihuKSk7dC5vdmVycmlkZSh0aGlzLGZ1bmN0aW9uKG4pe3JldHVybnthZGQ6ZnVuY3Rpb24oaSxyKXtuLmFkZChpLHtpbnB1dDpyfSk7ci5zZXRBdHRyaWJ1dGUoIm5hbWUiLHcpO3IucGFyZW50Tm9kZSYmdChyKS5yZW1vdmUoKX0sZXhwdW5nZTpmdW5jdGlvbih0KXthKHQpO24uZXhwdW5nZSh0KX0saXNWYWxpZDpmdW5jdGlvbih0KXtyZXR1cm4gbi5pc1ZhbGlkKHQpJiZ2b2lkIDAhPT1yLl9nZXRGaWxlU3RhdGUodCkuaW5wdXR9fX0pO3QuZXh0ZW5kKHRoaXMse2dldElucHV0OmZ1bmN0aW9uKG4pe3JldHVybiByLl9nZXRGaWxlU3RhdGUobikuaW5wdXR9LF9hdHRhY2hMb2FkRXZlbnQ6ZnVuY3Rpb24obixyKXt2YXIgZjtsP3kobixyKTp1W24uaWRdPXQobikuYXR0YWNoKCJsb2FkIixmdW5jdGlvbigpe2lmKGkoIlJlY2VpdmVkIHJlc3BvbnNlIGZvciAiK24uaWQpLG4ucGFyZW50Tm9kZSl7dHJ5e2lmKG4uY29udGVudERvY3VtZW50JiZuLmNvbnRlbnREb2N1bWVudC5ib2R5JiYiZmFsc2UiPT1uLmNvbnRlbnREb2N1bWVudC5ib2R5LmlubmVySFRNTClyZXR1cm59Y2F0Y2gobil7aSgiRXJyb3Igd2hlbiBhdHRlbXB0aW5nIHRvIGFjY2VzcyBpZnJhbWUgZHVyaW5nIGhhbmRsaW5nIG9mIHVwbG9hZCByZXNwb25zZSAoIituLm1lc3NhZ2UrIikiLCJlcnJvciIpO2Y9e3N1Y2Nlc3M6ITF9fXIoZil9fSl9LF9jcmVhdGVJZnJhbWU6ZnVuY3Rpb24obil7cmV0dXJuIHYoci5fZ2V0SWZyYW1lTmFtZShuKSl9LF9kZXRhY2hMb2FkRXZlbnQ6ZnVuY3Rpb24obil7dm9pZCAwIT09dVtuXSYmKHVbbl0oKSxkZWxldGUgdVtuXSl9LF9nZXRJZnJhbWVOYW1lOmZ1bmN0aW9uKG4pe3JldHVybiBuKyJfIitwfSxfaW5pdEZvcm1Gb3JVcGxvYWQ6ZnVuY3Rpb24obil7dmFyIGU9bi5tZXRob2Qscj1uLmVuZHBvaW50LHU9bi5wYXJhbXMsbz1uLnBhcmFtc0luQm9keSxzPW4udGFyZ2V0TmFtZSxpPXQudG9FbGVtZW50KCI8Zm9ybSBtZXRob2Q9JyIrZSsiJyBlbmN0eXBlPSdtdWx0aXBhcnQvZm9ybS1kYXRhJz48XC9mb3JtPiIpLGY9cjtyZXR1cm4gbz90Lm9iajJJbnB1dHModSxpKTpmPXQub2JqMnVybCh1LHIpLGkuc2V0QXR0cmlidXRlKCJhY3Rpb24iLGYpLGkuc2V0QXR0cmlidXRlKCJ0YXJnZXQiLHMpLGkuc3R5bGUuZGlzcGxheT0ibm9uZSIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpKSxpfSxfcGFyc2VKc29uUmVzcG9uc2U6ZnVuY3Rpb24obil7dmFyIHI9e307dHJ5e3I9dC5wYXJzZUpzb24obil9Y2F0Y2gobil7aSgiRXJyb3Igd2hlbiBhdHRlbXB0aW5nIHRvIHBhcnNlIGlmcmFtZSB1cGxvYWQgcmVzcG9uc2UgKCIrbi5tZXNzYWdlKyIpIiwiZXJyb3IiKX1yZXR1cm4gcn19KX07dC5YaHJVcGxvYWRIYW5kbGVyPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKG4pe3QuZWFjaChpLl9nZXRYaHJzKG4pLGZ1bmN0aW9uKHQscil7dmFyIHU9aS5fZ2V0QWpheFJlcXVlc3RlcihuLHQpO3Iub25yZWFkeXN0YXRlY2hhbmdlPW51bGw7ci51cGxvYWQub25wcm9ncmVzcz1udWxsO3IuYWJvcnQoKTt1JiZ1LmNhbmNlbGVkJiZ1LmNhbmNlbGVkKG4pfSl9dmFyIGk9dGhpcyx2PW4ub3B0aW9ucy5uYW1lc3BhY2Uscj1uLnByb3h5LGY9bi5vcHRpb25zLmNodW5raW5nLGg9ZnVuY3Rpb24obil7dmFyIGU9aS5fZ2V0RmlsZVN0YXRlKG4pLHI7cmV0dXJuIGUuY2h1bmtTaXplP2UuY2h1bmtTaXplOihyPWYucGFydFNpemUsdC5pc0Z1bmN0aW9uKHIpJiYocj1yKG4sdShuKSkpLGUuY2h1bmtTaXplPXIscil9LGM9bi5vcHRpb25zLnJlc3VtZSx5PWYmJm4ub3B0aW9ucy5jaHVua2luZy5lbmFibGVkJiZ0LnN1cHBvcnRlZEZlYXR1cmVzLmNodW5raW5nLGU9YyYmbi5vcHRpb25zLnJlc3VtZS5lbmFibGVkJiZ5JiZ0LnN1cHBvcnRlZEZlYXR1cmVzLnJlc3VtZSxvPXIuZ2V0TmFtZSx1PXIuZ2V0U2l6ZSxwPXIuZ2V0VXVpZCx3PXIuZ2V0RW5kcG9pbnQsYj1yLmdldERhdGFCeVV1aWQsaz1yLm9uVXVpZENoYW5nZWQsbD1yLm9uUHJvZ3Jlc3Mscz1yLmxvZyxkPXIuZ2V0Q3VzdG9tUmVzdW1lRGF0YTt0LmV4dGVuZCh0aGlzLG5ldyB0LlVwbG9hZEhhbmRsZXIobikpO3Qub3ZlcnJpZGUodGhpcyxmdW5jdGlvbihuKXtyZXR1cm57YWRkOmZ1bmN0aW9uKHIsdSl7aWYodC5pc0ZpbGUodSl8fHQuaXNCbG9iKHUpKW4uYWRkKHIse2ZpbGU6dX0pO2Vsc2V7aWYoISh1IGluc3RhbmNlb2YgdC5CbG9iUHJveHkpKXRocm93IG5ldyBFcnJvcigiUGFzc2VkIG9iaiBpcyBub3QgYSBGaWxlLCBCbG9iLCBvciBwcm94eSIpO24uYWRkKHIse3Byb3h5OnV9KX1pLl9pbml0VGVtcFN0YXRlKHIpO2UmJmkuX21heWJlUHJlcGFyZUZvclJlc3VtZShyKX0sZXhwdW5nZTpmdW5jdGlvbih0KXthKHQpO2kuX21heWJlRGVsZXRlUGVyc2lzdGVkQ2h1bmtEYXRhKHQpO2kuX2NsZWFyWGhycyh0KTtuLmV4cHVuZ2UodCl9fX0pO3QuZXh0ZW5kKHRoaXMse2NsZWFyQ2FjaGVkQ2h1bms6ZnVuY3Rpb24obix0KXt2YXIgcj1pLl9nZXRGaWxlU3RhdGUobik7ciYmZGVsZXRlIHIudGVtcC5jYWNoZWRDaHVua3NbdF19LGNsZWFyWGhyOmZ1bmN0aW9uKG4sdCl7dmFyIHI9aS5fZ2V0RmlsZVN0YXRlKG4pLnRlbXA7ci54aHJzJiZkZWxldGUgci54aHJzW3RdO3IuYWpheFJlcXVlc3RlcnMmJmRlbGV0ZSByLmFqYXhSZXF1ZXN0ZXJzW3RdfSxmaW5hbGl6ZUNodW5rczpmdW5jdGlvbihuLHIpe3ZhciBmPWkuX2dldFRvdGFsQ2h1bmtzKG4pLTEsdT1pLl9nZXRYaHIobixmKTtyZXR1cm4gcj8obmV3IHQuUHJvbWlzZSkuc3VjY2VzcyhyKHUpLHUpOihuZXcgdC5Qcm9taXNlKS5zdWNjZXNzKHt9LHUpfSxnZXRGaWxlOmZ1bmN0aW9uKG4pe3JldHVybiBpLmlzVmFsaWQobikmJmkuX2dldEZpbGVTdGF0ZShuKS5maWxlfSxnZXRQcm94eTpmdW5jdGlvbihuKXtyZXR1cm4gaS5pc1ZhbGlkKG4pJiZpLl9nZXRGaWxlU3RhdGUobikucHJveHl9LGdldFJlc3VtYWJsZUZpbGVzRGF0YTpmdW5jdGlvbigpe3ZhciBuPVtdO3JldHVybiBpLl9pdGVyYXRlUmVzdW1lUmVjb3JkcyhmdW5jdGlvbih0LHIpe2kubW92ZUluUHJvZ3Jlc3NUb1JlbWFpbmluZyhudWxsLHIuY2h1bmtpbmcuaW5Qcm9ncmVzcyxyLmNodW5raW5nLnJlbWFpbmluZyk7dmFyIHU9e25hbWU6ci5uYW1lLHJlbWFpbmluZzpyLmNodW5raW5nLnJlbWFpbmluZyxzaXplOnIuc2l6ZSx1dWlkOnIudXVpZH07ci5rZXkmJih1LmtleT1yLmtleSk7ci5jdXN0b21SZXN1bWVEYXRhJiYodS5jdXN0b21SZXN1bWVEYXRhPXIuY3VzdG9tUmVzdW1lRGF0YSk7bi5wdXNoKHUpfSksbn0saXNBdHRlbXB0aW5nUmVzdW1lOmZ1bmN0aW9uKG4pe3JldHVybiBpLl9nZXRGaWxlU3RhdGUobikuYXR0ZW1wdGluZ1Jlc3VtZX0saXNSZXN1bWFibGU6ZnVuY3Rpb24obil7cmV0dXJuISFmJiZpLmlzVmFsaWQobikmJiFpLl9nZXRGaWxlU3RhdGUobikubm90UmVzdW1hYmxlfSxtb3ZlSW5Qcm9ncmVzc1RvUmVtYWluaW5nOmZ1bmN0aW9uKG4scix1KXt2YXIgbz1pLl9nZXRGaWxlU3RhdGUobil8fHt9LGU9by5jaHVua2luZ3x8e30sZj1yfHxlLmluUHJvZ3Jlc3MsaD11fHxlLnJlbWFpbmluZztmJiYocyh0LmZvcm1hdCgiTW92aW5nIHRoZXNlIGNodW5rcyBmcm9tIGluLXByb2dyZXNzIHt9LCB0byByZW1haW5pbmcuIixKU09OLnN0cmluZ2lmeShmKSkpLGYucmV2ZXJzZSgpLHQuZWFjaChmLGZ1bmN0aW9uKG4sdCl7aC51bnNoaWZ0KHQpfSksZi5sZW5ndGg9MCl9LHBhdXNlOmZ1bmN0aW9uKG4pe2lmKGkuaXNWYWxpZChuKSlyZXR1cm4gcyh0LmZvcm1hdCgiQWJvcnRpbmcgWEhSIHVwbG9hZCBmb3Ige30gJ3t9JyBkdWUgdG8gcGF1c2UgaW5zdHJ1Y3Rpb24uIixuLG8obikpKSxpLl9nZXRGaWxlU3RhdGUobikucGF1c2VkPSEwLGEobiksITB9LHJlZXZhbHVhdGVDaHVua2luZzpmdW5jdGlvbihuKXtpZihmJiZpLmlzVmFsaWQobikpe3ZhciByLHUsdD1pLl9nZXRGaWxlU3RhdGUobik7aWYoZGVsZXRlIHQuY2h1bmtpbmcsdC5jaHVua2luZz17fSxyPWkuX2dldFRvdGFsQ2h1bmtzKG4pLHI+MXx8Zi5tYW5kYXRvcnkpe2Zvcih0LmNodW5raW5nLmVuYWJsZWQ9ITAsdC5jaHVua2luZy5wYXJ0cz1yLHQuY2h1bmtpbmcucmVtYWluaW5nPVtdLHU9MDt1PHI7dSsrKXQuY2h1bmtpbmcucmVtYWluaW5nLnB1c2godSk7aS5faW5pdFRlbXBTdGF0ZShuKX1lbHNlIHQuY2h1bmtpbmcuZW5hYmxlZD0hMX19LHVwZGF0ZUJsb2I6ZnVuY3Rpb24obix0KXtpLmlzVmFsaWQobikmJihpLl9nZXRGaWxlU3RhdGUobikuZmlsZT10KX0sX2NsZWFyWGhyczpmdW5jdGlvbihuKXt2YXIgcj1pLl9nZXRGaWxlU3RhdGUobikudGVtcDt0LmVhY2goci5hamF4UmVxdWVzdGVycyxmdW5jdGlvbihuKXtkZWxldGUgci5hamF4UmVxdWVzdGVyc1tuXX0pO3QuZWFjaChyLnhocnMsZnVuY3Rpb24obil7ZGVsZXRlIHIueGhyc1tuXX0pfSxfY3JlYXRlWGhyOmZ1bmN0aW9uKG4scil7cmV0dXJuIGkuX3JlZ2lzdGVyWGhyKG4scix0LmNyZWF0ZVhockluc3RhbmNlKCkpfSxfZ2V0QWpheFJlcXVlc3RlcjpmdW5jdGlvbihuLHQpe3ZhciByPW51bGw9PXQ/LTE6dDtyZXR1cm4gaS5fZ2V0RmlsZVN0YXRlKG4pLnRlbXAuYWpheFJlcXVlc3RlcnNbcl19LF9nZXRDaHVua0RhdGE6ZnVuY3Rpb24obixyKXt2YXIgZT1oKG4pLHM9dShuKSxhPWkuZ2V0RmlsZShuKSxmPWUqcixvPWYrZT49cz9zOmYrZSx2PWkuX2dldFRvdGFsQ2h1bmtzKG4pLGM9dGhpcy5fZ2V0RmlsZVN0YXRlKG4pLnRlbXAuY2FjaGVkQ2h1bmtzLGw9Y1tyXXx8dC5zbGljZUJsb2IoYSxmLG8pO3JldHVybiBjW3JdPWwse3BhcnQ6cixzdGFydDpmLGVuZDpvLGNvdW50OnYsYmxvYjpsLHNpemU6by1mfX0sX2dldENodW5rRGF0YUZvckNhbGxiYWNrOmZ1bmN0aW9uKG4pe3JldHVybntwYXJ0SW5kZXg6bi5wYXJ0LHN0YXJ0Qnl0ZTpuLnN0YXJ0KzEsZW5kQnl0ZTpuLmVuZCx0b3RhbFBhcnRzOm4uY291bnR9fSxfZ2V0TG9jYWxTdG9yYWdlSWQ6ZnVuY3Rpb24obil7dmFyIHI9byhuKSxmPXUobiksZT1oKG4pLHM9dyhuKSxsPWMuY3VzdG9tS2V5cyhuKSxpPXQuZm9ybWF0KCJxcXt9cmVzdW1le30te30te30te30te30iLHYsIjUuMCIscixmLGUscyk7cmV0dXJuIGwuZm9yRWFjaChmdW5jdGlvbihuKXtpKz0iLSIrbn0pLGl9LF9nZXRNaW1lVHlwZTpmdW5jdGlvbihuKXtyZXR1cm4gaS5nZXRGaWxlKG4pLnR5cGV9LF9nZXRQZXJzaXN0YWJsZURhdGE6ZnVuY3Rpb24obil7cmV0dXJuIGkuX2dldEZpbGVTdGF0ZShuKS5jaHVua2luZ30sX2dldFRvdGFsQ2h1bmtzOmZ1bmN0aW9uKG4pe2lmKGYpe3ZhciB0PXUobiksaT1oKG4pO3JldHVybiBNYXRoLmNlaWwodC9pKX19LF9nZXRYaHI6ZnVuY3Rpb24obix0KXt2YXIgcj1udWxsPT10Py0xOnQ7cmV0dXJuIGkuX2dldEZpbGVTdGF0ZShuKS50ZW1wLnhocnNbcl19LF9nZXRYaHJzOmZ1bmN0aW9uKG4pe3JldHVybiBpLl9nZXRGaWxlU3RhdGUobikudGVtcC54aHJzfSxfaXRlcmF0ZVJlc3VtZVJlY29yZHM6ZnVuY3Rpb24obil7ZSYmdC5lYWNoKGxvY2FsU3RvcmFnZSxmdW5jdGlvbihpLHIpezA9PT1pLmluZGV4T2YodC5mb3JtYXQoInFxe31yZXN1bWUiLHYpKSYmbihpLEpTT04ucGFyc2UocikpfSl9LF9pbml0VGVtcFN0YXRlOmZ1bmN0aW9uKG4pe2kuX2dldEZpbGVTdGF0ZShuKS50ZW1wPXthamF4UmVxdWVzdGVyczp7fSxjaHVua1Byb2dyZXNzOnt9LHhocnM6e30sY2FjaGVkQ2h1bmtzOnt9fX0sX21hcmtOb3RSZXN1bWFibGU6ZnVuY3Rpb24obil7aS5fZ2V0RmlsZVN0YXRlKG4pLm5vdFJlc3VtYWJsZT0hMH0sX21heWJlRGVsZXRlUGVyc2lzdGVkQ2h1bmtEYXRhOmZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybiEhKGUmJmkuaXNSZXN1bWFibGUobikmJih0PWkuX2dldExvY2FsU3RvcmFnZUlkKG4pLHQmJmxvY2FsU3RvcmFnZS5nZXRJdGVtKHQpKSkmJihsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0KSwhMCl9LF9tYXliZVByZXBhcmVGb3JSZXN1bWU6ZnVuY3Rpb24obil7dmFyIGYscix1PWkuX2dldEZpbGVTdGF0ZShuKTtlJiZ2b2lkIDA9PT11LmtleSYmKGY9aS5fZ2V0TG9jYWxTdG9yYWdlSWQobikscj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbShmKSxyJiYocj1KU09OLnBhcnNlKHIpLGIoci51dWlkKT9pLl9tYXJrTm90UmVzdW1hYmxlKG4pOihzKHQuZm9ybWF0KCJJZGVudGlmaWVkIGZpbGUgd2l0aCBJRCB7fSBhbmQgbmFtZSBvZiB7fSBhcyByZXN1bWFibGUuIixuLG8obikpKSxrKG4sci51dWlkKSx1LmtleT1yLmtleSx1LmNodW5raW5nPXIuY2h1bmtpbmcsdS5sb2FkZWQ9ci5sb2FkZWQsdS5jdXN0b21SZXN1bWVEYXRhPXIuY3VzdG9tUmVzdW1lRGF0YSx1LmF0dGVtcHRpbmdSZXN1bWU9ITAsaS5tb3ZlSW5Qcm9ncmVzc1RvUmVtYWluaW5nKG4pKSkpfSxfbWF5YmVQZXJzaXN0Q2h1bmtlZFN0YXRlOmZ1bmN0aW9uKG4pe3ZhciByLGYsaD1pLl9nZXRGaWxlU3RhdGUobiksYztpZihlJiZpLmlzUmVzdW1hYmxlKG4pKXtjPWQobik7cj1pLl9nZXRMb2NhbFN0b3JhZ2VJZChuKTtmPXtuYW1lOm8obiksc2l6ZTp1KG4pLHV1aWQ6cChuKSxrZXk6aC5rZXksY2h1bmtpbmc6aC5jaHVua2luZyxsb2FkZWQ6aC5sb2FkZWQsbGFzdFVwZGF0ZWQ6RGF0ZS5ub3coKX07YyYmKGYuY3VzdG9tUmVzdW1lRGF0YT1jKTt0cnl7bG9jYWxTdG9yYWdlLnNldEl0ZW0ocixKU09OLnN0cmluZ2lmeShmKSl9Y2F0Y2gocil7cyh0LmZvcm1hdCgiVW5hYmxlIHRvIHNhdmUgcmVzdW1lIGRhdGEgZm9yICd7fScgZHVlIHRvIGVycm9yOiAne30nLiIsbixyLnRvU3RyaW5nKCkpLCJ3YXJuIil9fX0sX3JlZ2lzdGVyUHJvZ3Jlc3NIYW5kbGVyOmZ1bmN0aW9uKG4scixmKXt2YXIgcz1pLl9nZXRYaHIobixyKSxlPW8obiksaD17c2ltcGxlOmZ1bmN0aW9uKHQsaSl7dmFyIHI9dShuKTt0PT09aT9sKG4sZSxyLHIpOmwobixlLHQ+PXI/ci0xOnQscil9LGNodW5rZWQ6ZnVuY3Rpb24obyxzKXt2YXIgaD1pLl9nZXRGaWxlU3RhdGUobikudGVtcC5jaHVua1Byb2dyZXNzLGE9aS5fZ2V0RmlsZVN0YXRlKG4pLmxvYWRlZCx2PW8seT1zLHA9dShuKSx3PXYtKHktZiksYz1hO2hbcl09dzt0LmVhY2goaCxmdW5jdGlvbihuLHQpe2MrPXR9KTtsKG4sZSxjLHApfX07cy51cGxvYWQub25wcm9ncmVzcz1mdW5jdGlvbihuKXtuLmxlbmd0aENvbXB1dGFibGUmJmhbbnVsbD09Zj8ic2ltcGxlIjoiY2h1bmtlZCJdKG4ubG9hZGVkLG4udG90YWwpfX0sX3JlZ2lzdGVyWGhyOmZ1bmN0aW9uKG4sdCxyLHUpe3ZhciBlPW51bGw9PXQ/LTE6dCxmPWkuX2dldEZpbGVTdGF0ZShuKS50ZW1wO3JldHVybiBmLnhocnM9Zi54aHJzfHx7fSxmLmFqYXhSZXF1ZXN0ZXJzPWYuYWpheFJlcXVlc3RlcnN8fHt9LGYueGhyc1tlXT1yLHUmJihmLmFqYXhSZXF1ZXN0ZXJzW2VdPXUpLHJ9LF9yZW1vdmVFeHBpcmVkQ2h1bmtpbmdSZWNvcmRzOmZ1bmN0aW9uKCl7dmFyIG49Yy5yZWNvcmRzRXhwaXJlSW47aS5faXRlcmF0ZVJlc3VtZVJlY29yZHMoZnVuY3Rpb24odCxpKXt2YXIgcj1uZXcgRGF0ZShpLmxhc3RVcGRhdGVkKTtyLnNldERhdGUoci5nZXREYXRlKCkrbik7ci5nZXRUaW1lKCk8PURhdGUubm93KCkmJihzKCJSZW1vdmluZyBleHBpcmVkIHJlc3VtZSByZWNvcmQgd2l0aCBrZXkgIit0KSxsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0KSl9KX0sX3Nob3VsZENodW5rVGhpc0ZpbGU6ZnVuY3Rpb24obil7dmFyIHQ9aS5fZ2V0RmlsZVN0YXRlKG4pO2lmKHQpcmV0dXJuIHQuY2h1bmtpbmd8fGkucmVldmFsdWF0ZUNodW5raW5nKG4pLHQuY2h1bmtpbmcuZW5hYmxlZH19KX07dC5EZWxldGVGaWxlQWpheFJlcXVlc3Rlcj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdSgpe3JldHVybiJQT1NUIj09PWkubWV0aG9kLnRvVXBwZXJDYXNlKCk/e19tZXRob2Q6IkRFTEVURSJ9Ont9fXZhciByLGk9e21ldGhvZDoiREVMRVRFIix1dWlkUGFyYW1OYW1lOiJxcXV1aWQiLGVuZHBvaW50U3RvcmU6e30sbWF4Q29ubmVjdGlvbnM6MyxjdXN0b21IZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJue319LHBhcmFtc1N0b3JlOnt9LGNvcnM6e2V4cGVjdGVkOiExLHNlbmRDcmVkZW50aWFsczohMX0sbG9nOmZ1bmN0aW9uKCl7fSxvbkRlbGV0ZTpmdW5jdGlvbigpe30sb25EZWxldGVDb21wbGV0ZTpmdW5jdGlvbigpe319O3QuZXh0ZW5kKGksbik7cj10LmV4dGVuZCh0aGlzLG5ldyB0LkFqYXhSZXF1ZXN0ZXIoe2FjY2VwdEhlYWRlcjoiYXBwbGljYXRpb24vanNvbiIsdmFsaWRNZXRob2RzOlsiUE9TVCIsIkRFTEVURSJdLG1ldGhvZDppLm1ldGhvZCxlbmRwb2ludFN0b3JlOmkuZW5kcG9pbnRTdG9yZSxwYXJhbXNTdG9yZTppLnBhcmFtc1N0b3JlLG1hbmRhdGVkUGFyYW1zOnUoKSxtYXhDb25uZWN0aW9uczppLm1heENvbm5lY3Rpb25zLGN1c3RvbUhlYWRlcnM6ZnVuY3Rpb24obil7cmV0dXJuIGkuY3VzdG9tSGVhZGVycy5nZXQobil9LGxvZzppLmxvZyxvblNlbmQ6aS5vbkRlbGV0ZSxvbkNvbXBsZXRlOmkub25EZWxldGVDb21wbGV0ZSxjb3JzOmkuY29yc30pKTt0LmV4dGVuZCh0aGlzLHtzZW5kRGVsZXRlOmZ1bmN0aW9uKG4sdCx1KXt2YXIgZj11fHx7fTtpLmxvZygiU3VibWl0dGluZyBkZWxldGUgZmlsZSByZXF1ZXN0IGZvciAiK24pOyJERUxFVEUiPT09aS5tZXRob2Q/ci5pbml0VHJhbnNwb3J0KG4pLndpdGhQYXRoKHQpLndpdGhQYXJhbXMoZikuc2VuZCgpOihmW2kudXVpZFBhcmFtTmFtZV09dCxyLmluaXRUcmFuc3BvcnQobikud2l0aFBhcmFtcyhmKS5zZW5kKCkpfX0pfSxmdW5jdGlvbigpe2Z1bmN0aW9uIHUobil7dmFyIHQscj1uLm5hdHVyYWxXaWR0aCx1PW4ubmF0dXJhbEhlaWdodCxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO3JldHVybiByKnU+MTA0ODU3NiYmKGkud2lkdGg9aS5oZWlnaHQ9MSx0PWkuZ2V0Q29udGV4dCgiMmQiKSx0LmRyYXdJbWFnZShuLC1yKzEsMCksMD09PXQuZ2V0SW1hZ2VEYXRhKDAsMCwxLDEpLmRhdGFbM10pfWZ1bmN0aW9uIGYobix0LGkpe3ZhciB1LHMsaCxmLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksbz0wLGM9aSxyPWk7Zm9yKGUud2lkdGg9MSxlLmhlaWdodD1pLHU9ZS5nZXRDb250ZXh0KCIyZCIpLHUuZHJhd0ltYWdlKG4sMCwwKSxzPXUuZ2V0SW1hZ2VEYXRhKDAsMCwxLGkpLmRhdGE7cj5vOyloPXNbNCooci0xKSszXSwwPT09aD9jPXI6bz1yLHI9YytvPj4xO3JldHVybiBmPXIvaSwwPT09Zj8xOmZ9ZnVuY3Rpb24gZShpLHIsdSxmKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSxzPXUubWltZXx8ImltYWdlL2pwZWciLG89bmV3IHQuUHJvbWlzZTtyZXR1cm4gbihpLHIsZSx1LGYpLnRoZW4oZnVuY3Rpb24oKXtvLnN1Y2Nlc3MoZS50b0RhdGFVUkwocyx1LnF1YWxpdHl8fC44KSl9KSxvfWZ1bmN0aW9uIG8obil7aWYoIXQuaW9zKCkpdGhyb3cgbmV3IHQuRXJyb3IoIkRvd25zYW1wbGVkIGRpbWVuc2lvbnMgY2FuIG9ubHkgYmUgcmVsaWFibHkgY2FsY3VsYXRlZCBmb3IgaU9TISIpO2lmKG4ub3JpZ0hlaWdodCpuLm9yaWdXaWR0aD41MjQxZTMpcmV0dXJue25ld0hlaWdodDpNYXRoLnJvdW5kKE1hdGguc3FydCg1MjQxZTMqKG4ub3JpZ0hlaWdodC9uLm9yaWdXaWR0aCkpKSxuZXdXaWR0aDpNYXRoLnJvdW5kKE1hdGguc3FydCg1MjQxZTMqKG4ub3JpZ1dpZHRoL24ub3JpZ0hlaWdodCkpKX19ZnVuY3Rpb24gbihuLHIsZSxoLGMpe3ZhciB2LHk9bi5uYXR1cmFsV2lkdGgscD1uLm5hdHVyYWxIZWlnaHQsbD1oLndpZHRoLGE9aC5oZWlnaHQsdz1lLmdldENvbnRleHQoIjJkIiksYj1uZXcgdC5Qcm9taXNlO3JldHVybiB3LnNhdmUoKSxoLnJlc2l6ZT9zKHtibG9iOnIsY2FudmFzOmUsaW1hZ2U6bixpbWFnZUhlaWdodDpwLGltYWdlV2lkdGg6eSxvcmllbnRhdGlvbjpoLm9yaWVudGF0aW9uLHJlc2l6ZTpoLnJlc2l6ZSx0YXJnZXRIZWlnaHQ6YSx0YXJnZXRXaWR0aDpsfSk6KHQuc3VwcG9ydGVkRmVhdHVyZXMudW5saW1pdGVkU2NhbGVkSW1hZ2VTaXplfHwodj1vKHtvcmlnV2lkdGg6bCxvcmlnSGVpZ2h0OmF9KSx2JiYodC5sb2codC5mb3JtYXQoIkhhZCB0byByZWR1Y2UgZGltZW5zaW9ucyBkdWUgdG8gZGV2aWNlIGxpbWl0YXRpb25zIGZyb20ge313IC8ge31oIHRvIHt9dyAvIHt9aCIsbCxhLHYubmV3V2lkdGgsdi5uZXdIZWlnaHQpLCJ3YXJuIiksbD12Lm5ld1dpZHRoLGE9di5uZXdIZWlnaHQpKSxpKGUsbCxhLGgub3JpZW50YXRpb24pLHQuaW9zKCk/ZnVuY3Rpb24oKXt1KG4pJiYoeS89MixwLz0yKTt2YXIgcixlLG8sdD0xMDI0LGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIiksaz1jP2Yobix5LHApOjEsaD1NYXRoLmNlaWwodCpsL3kpLHY9TWF0aC5jZWlsKHQqYS9wL2spLHM9MCxiPTA7Zm9yKGkud2lkdGg9aS5oZWlnaHQ9dCxyPWkuZ2V0Q29udGV4dCgiMmQiKTtzPHA7KXtmb3IoZT0wLG89MDtlPHk7KXIuY2xlYXJSZWN0KDAsMCx0LHQpLHIuZHJhd0ltYWdlKG4sLWUsLXMpLHcuZHJhd0ltYWdlKGksMCwwLHQsdCxvLGIsaCx2KSxlKz10LG8rPWg7cys9dDtiKz12fXcucmVzdG9yZSgpO2k9cj1udWxsfSgpOncuZHJhd0ltYWdlKG4sMCwwLGwsYSksZS5xcUltYWdlUmVuZGVyZWQmJmUucXFJbWFnZVJlbmRlcmVkKCksYi5zdWNjZXNzKCksYil9ZnVuY3Rpb24gcyhuKXt2YXIgaD1uLmJsb2IsZT1uLmltYWdlLGM9bi5pbWFnZUhlaWdodCxsPW4uaW1hZ2VXaWR0aCxhPW4ub3JpZW50YXRpb24sdT1uZXcgdC5Qcm9taXNlLHY9bi5yZXNpemUsZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSx5PWYuZ2V0Q29udGV4dCgiMmQiKSxyPW4uY2FudmFzLG89bi50YXJnZXRIZWlnaHQscz1uLnRhcmdldFdpZHRoO3JldHVybiBpKGYsbCxjLGEpLHIuaGVpZ2h0PW8sci53aWR0aD1zLHkuZHJhd0ltYWdlKGUsMCwwKSx2KHtibG9iOmgsaGVpZ2h0Om8saW1hZ2U6ZSxzb3VyY2VDYW52YXM6Zix0YXJnZXRDYW52YXM6cix3aWR0aDpzfSkudGhlbihmdW5jdGlvbigpe3IucXFJbWFnZVJlbmRlcmVkJiZyLnFxSW1hZ2VSZW5kZXJlZCgpO3Uuc3VjY2VzcygpfSx1LmZhaWx1cmUpLHV9ZnVuY3Rpb24gaShuLHQsaSxyKXtzd2l0Y2gocil7Y2FzZSA1OmNhc2UgNjpjYXNlIDc6Y2FzZSA4Om4ud2lkdGg9aTtuLmhlaWdodD10O2JyZWFrO2RlZmF1bHQ6bi53aWR0aD10O24uaGVpZ2h0PWl9dmFyIHU9bi5nZXRDb250ZXh0KCIyZCIpO3N3aXRjaChyKXtjYXNlIDI6dS50cmFuc2xhdGUodCwwKTt1LnNjYWxlKC0xLDEpO2JyZWFrO2Nhc2UgMzp1LnRyYW5zbGF0ZSh0LGkpO3Uucm90YXRlKE1hdGguUEkpO2JyZWFrO2Nhc2UgNDp1LnRyYW5zbGF0ZSgwLGkpO3Uuc2NhbGUoMSwtMSk7YnJlYWs7Y2FzZSA1OnUucm90YXRlKC41Kk1hdGguUEkpO3Uuc2NhbGUoMSwtMSk7YnJlYWs7Y2FzZSA2OnUucm90YXRlKC41Kk1hdGguUEkpO3UudHJhbnNsYXRlKDAsLWkpO2JyZWFrO2Nhc2UgNzp1LnJvdGF0ZSguNSpNYXRoLlBJKTt1LnRyYW5zbGF0ZSh0LC1pKTt1LnNjYWxlKC0xLDEpO2JyZWFrO2Nhc2UgODp1LnJvdGF0ZSgtLjUqTWF0aC5QSSk7dS50cmFuc2xhdGUoLXQsMCl9fWZ1bmN0aW9uIHIobix0KXt2YXIgaT10aGlzO3dpbmRvdy5CbG9iJiZuIGluc3RhbmNlb2YgQmxvYiYmZnVuY3Rpb24oKXt2YXIgdD1uZXcgSW1hZ2Uscj13aW5kb3cuVVJMJiZ3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTD93aW5kb3cuVVJMOndpbmRvdy53ZWJraXRVUkwmJndpbmRvdy53ZWJraXRVUkwuY3JlYXRlT2JqZWN0VVJMP3dpbmRvdy53ZWJraXRVUkw6bnVsbDtpZighcil0aHJvdyBFcnJvcigiTm8gY3JlYXRlT2JqZWN0VVJMIGZ1bmN0aW9uIGZvdW5kIHRvIGNyZWF0ZSBibG9iIHVybCIpO3Quc3JjPXIuY3JlYXRlT2JqZWN0VVJMKG4pO2kuYmxvYj1uO249dH0oKTtuLm5hdHVyYWxXaWR0aHx8bi5uYXR1cmFsSGVpZ2h0fHwobi5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgbj1pLmltYWdlTG9hZExpc3RlbmVycztuJiYoaS5pbWFnZUxvYWRMaXN0ZW5lcnM9bnVsbCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsaT1uLmxlbmd0aDt0PGk7dCsrKW5bdF0oKX0sMCkpfSxuLm9uZXJyb3I9dCx0aGlzLmltYWdlTG9hZExpc3RlbmVycz1bXSk7dGhpcy5zcmNJbWFnZT1ufXIucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihpLHIpe3I9cnx8e307dmFyIGgsYz10aGlzLG89dGhpcy5zcmNJbWFnZS5uYXR1cmFsV2lkdGgscz10aGlzLnNyY0ltYWdlLm5hdHVyYWxIZWlnaHQsdT1yLndpZHRoLGY9ci5oZWlnaHQsbD1yLm1heFdpZHRoLGE9ci5tYXhIZWlnaHQsdj0hdGhpcy5ibG9ifHwiaW1hZ2UvanBlZyI9PT10aGlzLmJsb2IudHlwZSx5PWkudGFnTmFtZS50b0xvd2VyQ2FzZSgpO2lmKHRoaXMuaW1hZ2VMb2FkTGlzdGVuZXJzKXJldHVybiB2b2lkIHRoaXMuaW1hZ2VMb2FkTGlzdGVuZXJzLnB1c2goZnVuY3Rpb24oKXtjLnJlbmRlcihpLHIpfSk7dSYmIWY/Zj1zKnUvbzw8MDpmJiYhdT91PW8qZi9zPDwwOih1PW8sZj1zKTtsJiZ1PmwmJih1PWwsZj1zKnUvbzw8MCk7YSYmZj5hJiYoZj1hLHU9bypmL3M8PDApO2g9e3dpZHRoOnUsaGVpZ2h0OmZ9O3QuZWFjaChyLGZ1bmN0aW9uKG4sdCl7aFtuXT10fSk7ImltZyI9PT15P2Z1bmN0aW9uKCl7dmFyIG49aS5zcmM7ZShjLnNyY0ltYWdlLGMuYmxvYixoLHYpLnRoZW4oZnVuY3Rpb24odCl7aS5zcmM9dDtuPT09aS5zcmMmJmkub25sb2FkKCl9KX0oKToiY2FudmFzIj09PXkmJm4odGhpcy5zcmNJbWFnZSx0aGlzLmJsb2IsaSxoLHYpOyJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLm9ucmVuZGVyJiZ0aGlzLm9ucmVuZGVyKGkpfTt0Lk1lZ2FQaXhJbWFnZT1yfSgpO3QuSW1hZ2VHZW5lcmF0b3I9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIobil7cmV0dXJuImltZyI9PT1uLnRhZ05hbWUudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiB1KG4pe3JldHVybiJjYW52YXMiPT09bi50YWdOYW1lLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gaCgpe3JldHVybiB2b2lkIDAhPT0obmV3IEltYWdlKS5jcm9zc09yaWdpbn1mdW5jdGlvbiBjKCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7cmV0dXJuIG4uZ2V0Q29udGV4dCYmbi5nZXRDb250ZXh0KCIyZCIpfWZ1bmN0aW9uIGUobil7dmFyIHI9bi5zcGxpdCgiLyIpLHU9cltyLmxlbmd0aC0xXS5zcGxpdCgiPyIpWzBdLGk9dC5nZXRFeHRlbnNpb24odSk7c3dpdGNoKGk9aSYmaS50b0xvd2VyQ2FzZSgpKXtjYXNlImpwZWciOmNhc2UianBnIjpyZXR1cm4iaW1hZ2UvanBlZyI7Y2FzZSJwbmciOnJldHVybiJpbWFnZS9wbmciO2Nhc2UiYm1wIjpyZXR1cm4iaW1hZ2UvYm1wIjtjYXNlImdpZiI6cmV0dXJuImltYWdlL2dpZiI7Y2FzZSJ0aWZmIjpjYXNlInRpZiI6cmV0dXJuImltYWdlL3RpZmYifX1mdW5jdGlvbiBmKG4pe3ZhciByLHUsZixpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gaS5ocmVmPW4scj1pLnByb3RvY29sLGY9aS5wb3J0LHU9aS5ob3N0bmFtZSxyLnRvTG93ZXJDYXNlKCkhPT13aW5kb3cubG9jYXRpb24ucHJvdG9jb2wudG9Mb3dlckNhc2UoKXx8dS50b0xvd2VyQ2FzZSgpIT09d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCl8fGYhPT13aW5kb3cubG9jYXRpb24ucG9ydCYmIXQuaWUoKX1mdW5jdGlvbiBsKHQsaSl7dC5vbmxvYWQ9ZnVuY3Rpb24oKXt0Lm9ubG9hZD1udWxsO3Qub25lcnJvcj1udWxsO2kuc3VjY2Vzcyh0KX07dC5vbmVycm9yPWZ1bmN0aW9uKCl7dC5vbmxvYWQ9bnVsbDt0Lm9uZXJyb3I9bnVsbDtuKCJQcm9ibGVtIGRyYXdpbmcgdGh1bWJuYWlsISIsImVycm9yIik7aS5mYWlsdXJlKHQsIlByb2JsZW0gZHJhd2luZyB0aHVtYm5haWwhIil9fWZ1bmN0aW9uIGEobix0KXtuLnFxSW1hZ2VSZW5kZXJlZD1mdW5jdGlvbigpe3Quc3VjY2VzcyhuKX19ZnVuY3Rpb24gaShpLGYpe3ZhciBlPXIoaSl8fHUoaSk7cmV0dXJuIHIoaSk/bChpLGYpOnUoaSk/YShpLGYpOihmLmZhaWx1cmUoaSksbih0LmZvcm1hdCgiRWxlbWVudCBjb250YWluZXIgb2YgdHlwZSB7fSBpcyBub3Qgc3VwcG9ydGVkISIsaS50YWdOYW1lKSwiZXJyb3IiKSksZX1mdW5jdGlvbiB2KHIsdSxmKXt2YXIgZT1uZXcgdC5Qcm9taXNlLHM9bmV3IHQuSWRlbnRpZnkocixuKSxvPWYubWF4U2l6ZSxoPW51bGw9PWYub3JpZW50fHxmLm9yaWVudCxjPWZ1bmN0aW9uKCl7dS5vbmVycm9yPW51bGw7dS5vbmxvYWQ9bnVsbDtuKCJDb3VsZCBub3QgcmVuZGVyIHByZXZpZXcsIGZpbGUgbWF5IGJlIHRvbyBsYXJnZSEiLCJlcnJvciIpO2UuZmFpbHVyZSh1LCJCcm93c2VyIGNhbm5vdCByZW5kZXIgaW1hZ2UhIil9O3JldHVybiBzLmlzUHJldmlld2FibGUoKS50aGVuKGZ1bmN0aW9uKHMpe3ZhciBhPXtwYXJzZTpmdW5jdGlvbigpe3JldHVybihuZXcgdC5Qcm9taXNlKS5zdWNjZXNzKCl9fSx2PWg/bmV3IHQuRXhpZihyLG4pOmEsbD1uZXcgdC5NZWdhUGl4SW1hZ2UocixjKTtpKHUsZSkmJnYucGFyc2UoKS50aGVuKGZ1bmN0aW9uKG4pe3ZhciB0PW4mJm4uT3JpZW50YXRpb247bC5yZW5kZXIodSx7bWF4V2lkdGg6byxtYXhIZWlnaHQ6byxvcmllbnRhdGlvbjp0LG1pbWU6cyxyZXNpemU6Zi5jdXN0b21SZXNpemVGdW5jdGlvbn0pfSxmdW5jdGlvbihpKXtuKHQuZm9ybWF0KCJFWElGIGRhdGEgY291bGQgbm90IGJlIHBhcnNlZCAoe30pLiAgQXNzdW1pbmcgb3JpZW50YXRpb24gPSAxLiIsaSkpO2wucmVuZGVyKHUse21heFdpZHRoOm8sbWF4SGVpZ2h0Om8sbWltZTpzLHJlc2l6ZTpmLmN1c3RvbVJlc2l6ZUZ1bmN0aW9ufSl9KX0sZnVuY3Rpb24oKXtuKCJOb3QgcHJldmlld2FibGUiKTtlLmZhaWx1cmUodSwiTm90IHByZXZpZXdhYmxlIil9KSxlfWZ1bmN0aW9uIG8obixyLHUsbyxzKXt2YXIgaD1uZXcgSW1hZ2UsYz1uZXcgdC5Qcm9taXNlO2koaCxjKTtmKG4pJiYoaC5jcm9zc09yaWdpbj0iYW5vbnltb3VzIik7aC5zcmM9bjtjLnRoZW4oZnVuY3Rpb24oKXtpKHIsdSk7bmV3IHQuTWVnYVBpeEltYWdlKGgpLnJlbmRlcihyLHttYXhXaWR0aDpvLG1heEhlaWdodDpvLG1pbWU6ZShuKSxyZXNpemU6c30pfSx1LmZhaWx1cmUpfWZ1bmN0aW9uIHMobixyLHUsZil7aShyLHUpO3QocikuY3NzKHttYXhXaWR0aDpmKyJweCIsbWF4SGVpZ2h0OmYrInB4In0pO3Iuc3JjPW59ZnVuY3Rpb24geShuLGUsbCl7dmFyIGE9bmV3IHQuUHJvbWlzZSx5PWwuc2NhbGUsdj15P2wubWF4U2l6ZTpudWxsO3JldHVybiB5JiZyKGUpP2MoKT9mKG4pJiYhaCgpP3MobixlLGEsdik6byhuLGUsYSx2KTpzKG4sZSxhLHYpOnUoZSk/byhuLGUsYSx2KTppKGUsYSkmJihlLnNyYz1uKSxhfXQuZXh0ZW5kKHRoaXMse2dlbmVyYXRlOmZ1bmN0aW9uKGkscix1KXtyZXR1cm4gdC5pc1N0cmluZyhpKT8obigiQXR0ZW1wdGluZyB0byB1cGRhdGUgdGh1bWJuYWlsIGJhc2VkIG9uIHNlcnZlciByZXNwb25zZS4iKSx5KGkscix1fHx7fSkpOihuKCJBdHRlbXB0aW5nIHRvIGRyYXcgY2xpZW50LXNpZGUgaW1hZ2UgcHJldmlldy4iKSx2KGkscix1fHx7fSkpfX0pO3RoaXMuX3Rlc3Rpbmc9e307dGhpcy5fdGVzdGluZy5pc0ltZz1yO3RoaXMuX3Rlc3RpbmcuaXNDYW52YXM9dTt0aGlzLl90ZXN0aW5nLmlzQ3Jvc3NPcmlnaW49Zjt0aGlzLl90ZXN0aW5nLmRldGVybWluZU1pbWVPZkZpbGVOYW1lPWV9O3QuRXhpZj1mdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKG4pe2Zvcih2YXIgdD0wLGk9MDtuLmxlbmd0aD4wOyl0Kz1wYXJzZUludChuLnN1YnN0cmluZygwLDIpLDE2KSpNYXRoLnBvdygyLGkpLG49bi5zdWJzdHJpbmcoMixuLmxlbmd0aCksaSs9ODtyZXR1cm4gdH1mdW5jdGlvbiB1KGkscil7dmFyIGY9aSxlPXI7cmV0dXJuIHZvaWQgMD09PWYmJihmPTIsZT1uZXcgdC5Qcm9taXNlKSx0LnJlYWRCbG9iVG9IZXgobixmLDQpLnRoZW4oZnVuY3Rpb24obil7dmFyIHQsaT0vXmZmZShbMC05XSkvLmV4ZWMobik7aT8iMSIhPT1pWzFdPyh0PXBhcnNlSW50KG4uc2xpY2UoNCw4KSwxNiksdShmK3QrMixlKSk6ZS5zdWNjZXNzKGYpOmUuZmFpbHVyZSgiTm8gRVhJRiBoZWFkZXIgdG8gYmUgZm91bmQhIil9KSxlfWZ1bmN0aW9uIGUoKXt2YXIgaT1uZXcgdC5Qcm9taXNlO3JldHVybiB0LnJlYWRCbG9iVG9IZXgobiwwLDYpLnRoZW4oZnVuY3Rpb24obil7MCE9PW4uaW5kZXhPZigiZmZkOCIpP2kuZmFpbHVyZSgiTm90IGEgdmFsaWQgSlBFRyEiKTp1KCkudGhlbihmdW5jdGlvbihuKXtpLnN1Y2Nlc3Mobil9LGZ1bmN0aW9uKG4pe2kuZmFpbHVyZShuKX0pfSksaX1mdW5jdGlvbiBvKGkpe3ZhciByPW5ldyB0LlByb21pc2U7cmV0dXJuIHQucmVhZEJsb2JUb0hleChuLGkrMTAsMikudGhlbihmdW5jdGlvbihuKXtyLnN1Y2Nlc3MoIjQ5NDkiPT09bil9KSxyfWZ1bmN0aW9uIHMoaSx1KXt2YXIgZj1uZXcgdC5Qcm9taXNlO3JldHVybiB0LnJlYWRCbG9iVG9IZXgobixpKzE4LDIpLnRoZW4oZnVuY3Rpb24obil7aWYodSlyZXR1cm4gZi5zdWNjZXNzKHIobikpO2Yuc3VjY2VzcyhwYXJzZUludChuLDE2KSl9KSxmfWZ1bmN0aW9uIGgoaSxyKXt2YXIgdT1pKzIwLGY9MTIqcjtyZXR1cm4gdC5yZWFkQmxvYlRvSGV4KG4sdSxmKX1mdW5jdGlvbiBjKG4pe2Zvcih2YXIgaT1bXSx0PTA7dCsyNDw9bi5sZW5ndGg7KWkucHVzaChuLnNsaWNlKHQsdCsyNCkpLHQrPTI0O3JldHVybiBpfWZ1bmN0aW9uIGwobixpKXt2YXIgdT10LmV4dGVuZChbXSxhKSxlPXt9O3JldHVybiB0LmVhY2goaSxmdW5jdGlvbih0LGkpe3ZhciBvLGgsYyxsPWkuc2xpY2UoMCw0KSxzPW4/cihsKTpwYXJzZUludChsLDE2KSxhPXUuaW5kZXhPZihzKTtpZihhPj0wJiYoaD1mW3NdLm5hbWUsYz1mW3NdLmJ5dGVzLG89aS5zbGljZSgxNiwxNisyKmMpLGVbaF09bj9yKG8pOnBhcnNlSW50KG8sMTYpLHUuc3BsaWNlKGEsMSkpLDA9PT11Lmxlbmd0aClyZXR1cm4hMX0pLGV9dmFyIGE9WzI3NF0sZj17Mjc0OntuYW1lOiJPcmllbnRhdGlvbiIsYnl0ZXM6Mn19O3QuZXh0ZW5kKHRoaXMse3BhcnNlOmZ1bmN0aW9uKCl7dmFyIHU9bmV3IHQuUHJvbWlzZSxyPWZ1bmN0aW9uKG4pe2kodC5mb3JtYXQoIkVYSUYgaGVhZGVyIHBhcnNlIGZhaWxlZDogJ3t9JyAiLG4pKTt1LmZhaWx1cmUobil9O3JldHVybiBlKCkudGhlbihmdW5jdGlvbihmKXtpKHQuZm9ybWF0KCJNb3ZpbmcgZm9yd2FyZCB3aXRoIEVYSUYgaGVhZGVyIHBhcnNpbmcgZm9yICd7fSciLHZvaWQgMD09PW4ubmFtZT8iYmxvYiI6bi5uYW1lKSk7byhmKS50aGVuKGZ1bmN0aW9uKG4pe2kodC5mb3JtYXQoIkVYSUYgQnl0ZSBvcmRlciBpcyB7fSBlbmRpYW4iLG4/ImxpdHRsZSI6ImJpZyIpKTtzKGYsbikudGhlbihmdW5jdGlvbihlKXtpKHQuZm9ybWF0KCJGb3VuZCB7fSBBUFAxIGRpcmVjdG9yeSBlbnRyaWVzIixlKSk7aChmLGUpLnRoZW4oZnVuY3Rpb24odCl7dmFyIHI9Yyh0KSxmPWwobixyKTtpKCJTdWNjZXNzZnVsbHkgcGFyc2VkIHNvbWUgRVhJRiB0YWdzIik7dS5zdWNjZXNzKGYpfSxyKX0scil9LHIpfSxyKSx1fX0pO3RoaXMuX3Rlc3Rpbmc9e307dGhpcy5fdGVzdGluZy5wYXJzZUxpdHRsZUVuZGlhbj1yfTt0LklkZW50aWZ5PWZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIobixpKXt2YXIgcj0hMSx1PVtdLmNvbmNhdChuKTtyZXR1cm4gdC5lYWNoKHUsZnVuY3Rpb24obix0KXtpZigwPT09aS5pbmRleE9mKHQpKXJldHVybiByPSEwLCExfSkscn10LmV4dGVuZCh0aGlzLHtpc1ByZXZpZXdhYmxlOmZ1bmN0aW9uKCl7dmFyIG89dGhpcyx1PW5ldyB0LlByb21pc2UsZj0hMSxlPXZvaWQgMD09PW4ubmFtZT8iYmxvYiI6bi5uYW1lO3JldHVybiBpKHQuZm9ybWF0KCJBdHRlbXB0aW5nIHRvIGRldGVybWluZSBpZiB7fSBjYW4gYmUgcmVuZGVyZWQgaW4gdGhpcyBicm93c2VyIixlKSksaSgiRmlyc3QgcGFzczogY2hlY2sgdHlwZSBhdHRyaWJ1dGUgb2YgYmxvYiBvYmplY3QuIiksdGhpcy5pc1ByZXZpZXdhYmxlU3luYygpPyhpKCJTZWNvbmQgcGFzczogY2hlY2sgZm9yIG1hZ2ljIGJ5dGVzIGluIGZpbGUgaGVhZGVyLiIpLHQucmVhZEJsb2JUb0hleChuLDAsNCkudGhlbihmdW5jdGlvbihuKXt0LmVhY2goby5QUkVWSUVXQUJMRV9NSU1FX1RZUEVTLGZ1bmN0aW9uKGksZSl7aWYocihlLG4pKXJldHVybigiaW1hZ2UvdGlmZiIhPT1pfHx0LnN1cHBvcnRlZEZlYXR1cmVzLnRpZmZQcmV2aWV3cykmJihmPSEwLHUuc3VjY2VzcyhpKSksITF9KTtpKHQuZm9ybWF0KCIne30nIGlzIHt9IGFibGUgdG8gYmUgcmVuZGVyZWQgaW4gdGhpcyBicm93c2VyIixlLGY/IiI6Ik5PVCIpKTtmfHx1LmZhaWx1cmUoKX0sZnVuY3Rpb24oKXtpKCJFcnJvciByZWFkaW5nIGZpbGUgdy8gbmFtZSAnIitlKyInLiAgTm90IGFibGUgdG8gYmUgcmVuZGVyZWQgaW4gdGhpcyBicm93c2VyLiIpO3UuZmFpbHVyZSgpfSkpOnUuZmFpbHVyZSgpLHV9LGlzUHJldmlld2FibGVTeW5jOmZ1bmN0aW9uKCl7dmFyIHU9bi50eXBlLGY9dC5pbmRleE9mKE9iamVjdC5rZXlzKHRoaXMuUFJFVklFV0FCTEVfTUlNRV9UWVBFUyksdSk+PTAscj0hMSxlPXZvaWQgMD09PW4ubmFtZT8iYmxvYiI6bi5uYW1lO3JldHVybiBmJiYocj0iaW1hZ2UvdGlmZiIhPT11fHx0LnN1cHBvcnRlZEZlYXR1cmVzLnRpZmZQcmV2aWV3cyksIXImJmkoZSsiIGlzIG5vdCBwcmV2aWV3YWJsZSBpbiB0aGlzIGJyb3dzZXIgcGVyIHRoZSBibG9iJ3MgdHlwZSBhdHRyIikscn19KX07dC5JZGVudGlmeS5wcm90b3R5cGUuUFJFVklFV0FCTEVfTUlNRV9UWVBFUz17ImltYWdlL2pwZWciOiJmZmQ4ZmYiLCJpbWFnZS9naWYiOiI0NzQ5NDYiLCJpbWFnZS9wbmciOiI4OTUwNGUiLCJpbWFnZS9ibXAiOiI0MjRkIiwiaW1hZ2UvdGlmZiI6WyI0OTQ5MmEwMCIsIjRkNGQwMDJhIl19O3QuSW1hZ2VWYWxpZGF0aW9uPWZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIobil7dmFyIGk9ITE7cmV0dXJuIHQuZWFjaChuLGZ1bmN0aW9uKG4sdCl7aWYodD4wKXJldHVybiBpPSEwLCExfSksaX1mdW5jdGlvbiB1KCl7dmFyIHI9bmV3IHQuUHJvbWlzZTtyZXR1cm4gbmV3IHQuSWRlbnRpZnkobixpKS5pc1ByZXZpZXdhYmxlKCkudGhlbihmdW5jdGlvbigpe3ZhciB0PW5ldyBJbWFnZSx1PXdpbmRvdy5VUkwmJndpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMP3dpbmRvdy5VUkw6d2luZG93LndlYmtpdFVSTCYmd2luZG93LndlYmtpdFVSTC5jcmVhdGVPYmplY3RVUkw/d2luZG93LndlYmtpdFVSTDpudWxsO3U/KHQub25lcnJvcj1mdW5jdGlvbigpe2koIkNhbm5vdCBkZXRlcm1pbmUgZGltZW5zaW9ucyBmb3IgaW1hZ2UuICBNYXkgYmUgdG9vIGxhcmdlLiIsImVycm9yIik7ci5mYWlsdXJlKCl9LHQub25sb2FkPWZ1bmN0aW9uKCl7ci5zdWNjZXNzKHt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0pfSx0LnNyYz11LmNyZWF0ZU9iamVjdFVSTChuKSk6KGkoIk5vIGNyZWF0ZU9iamVjdFVSTCBmdW5jdGlvbiBhdmFpbGFibGUgdG8gZ2VuZXJhdGUgaW1hZ2UgVVJMISIsImVycm9yIiksci5mYWlsdXJlKCkpfSxyLmZhaWx1cmUpLHJ9ZnVuY3Rpb24gZihuLGkpe3ZhciByO3JldHVybiB0LmVhY2gobixmdW5jdGlvbihuLHQpe2lmKHQ+MCl7dmFyIHU9LyhtYXh8bWluKShXaWR0aHxIZWlnaHQpLy5leGVjKG4pLGU9dVsyXS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSt1WzJdLnNsaWNlKDEpLGY9aVtlXTtzd2l0Y2godVsxXSl7Y2FzZSJtaW4iOmlmKGY8dClyZXR1cm4gcj1uLCExO2JyZWFrO2Nhc2UibWF4IjppZihmPnQpcmV0dXJuIHI9biwhMX19fSkscn10aGlzLnZhbGlkYXRlPWZ1bmN0aW9uKG4pe3ZhciBlPW5ldyB0LlByb21pc2U7cmV0dXJuIGkoIkF0dGVtcHRpbmcgdG8gdmFsaWRhdGUgaW1hZ2UuIikscihuKT91KCkudGhlbihmdW5jdGlvbih0KXt2YXIgaT1mKG4sdCk7aT9lLmZhaWx1cmUoaSk6ZS5zdWNjZXNzKCl9LGUuc3VjY2Vzcyk6ZS5zdWNjZXNzKCksZX19O3QuU2Vzc2lvbj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihuKXtpZih0LmlzQXJyYXkobikpcmV0dXJuITA7aS5sb2coIlNlc3Npb24gcmVzcG9uc2UgaXMgbm90IGFuIGFycmF5LiIsImVycm9yIil9ZnVuY3Rpb24gdShuLHUsZixlKXt2YXIgbz0hMTt1PXUmJnIobik7dSYmdC5lYWNoKG4sZnVuY3Rpb24obixyKXtpZihudWxsPT1yLnV1aWQpbz0hMCxpLmxvZyh0LmZvcm1hdCgiU2Vzc2lvbiByZXNwb25zZSBpdGVtIHt9IGRpZCBub3QgaW5jbHVkZSBhIHZhbGlkIFVVSUQgLSBpZ25vcmluZy4iLG4pLCJlcnJvciIpO2Vsc2UgaWYobnVsbD09ci5uYW1lKW89ITAsaS5sb2codC5mb3JtYXQoIlNlc3Npb24gcmVzcG9uc2UgaXRlbSB7fSBkaWQgbm90IGluY2x1ZGUgYSB2YWxpZCBuYW1lIC0gaWdub3JpbmcuIixuKSwiZXJyb3IiKTtlbHNlIHRyeXtyZXR1cm4gaS5hZGRGaWxlUmVjb3JkKHIpLCEwfWNhdGNoKG4pe289ITA7aS5sb2cobi5tZXNzYWdlLCJlcnJvciIpfXJldHVybiExfSk7ZVt1JiYhbz8ic3VjY2VzcyI6ImZhaWx1cmUiXShuLGYpfXZhciBpPXtlbmRwb2ludDpudWxsLHBhcmFtczp7fSxjdXN0b21IZWFkZXJzOnt9LGNvcnM6e30sYWRkRmlsZVJlY29yZDpmdW5jdGlvbigpe30sbG9nOmZ1bmN0aW9uKCl7fX07dC5leHRlbmQoaSxuLCEwKTt0aGlzLnJlZnJlc2g9ZnVuY3Rpb24oKXt2YXIgbj1uZXcgdC5Qcm9taXNlLHI9ZnVuY3Rpb24odCxpLHIpe3UodCxpLHIsbil9LGY9dC5leHRlbmQoe30saSk7cmV0dXJuIG5ldyB0LlNlc3Npb25BamF4UmVxdWVzdGVyKHQuZXh0ZW5kKGYse29uQ29tcGxldGU6cn0pKS5xdWVyeVNlcnZlcigpLG59fTt0LlNlc3Npb25BamF4UmVxdWVzdGVyPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB1KG4scix1KXt2YXIgZj1udWxsO2lmKG51bGwhPXIucmVzcG9uc2VUZXh0KXRyeXtmPXQucGFyc2VKc29uKHIucmVzcG9uc2VUZXh0KX1jYXRjaChuKXtpLmxvZygiUHJvYmxlbSBwYXJzaW5nIHNlc3Npb24gcmVzcG9uc2U6ICIrbi5tZXNzYWdlLCJlcnJvciIpO3U9ITB9aS5vbkNvbXBsZXRlKGYsIXUscil9dmFyIHIsaT17ZW5kcG9pbnQ6bnVsbCxjdXN0b21IZWFkZXJzOnt9LHBhcmFtczp7fSxjb3JzOntleHBlY3RlZDohMSxzZW5kQ3JlZGVudGlhbHM6ITF9LG9uQ29tcGxldGU6ZnVuY3Rpb24oKXt9LGxvZzpmdW5jdGlvbigpe319O3QuZXh0ZW5kKGksbik7cj10LmV4dGVuZCh0aGlzLG5ldyB0LkFqYXhSZXF1ZXN0ZXIoe2FjY2VwdEhlYWRlcjoiYXBwbGljYXRpb24vanNvbiIsdmFsaWRNZXRob2RzOlsiR0VUIl0sbWV0aG9kOiJHRVQiLGVuZHBvaW50U3RvcmU6e2dldDpmdW5jdGlvbigpe3JldHVybiBpLmVuZHBvaW50fX0sY3VzdG9tSGVhZGVyczppLmN1c3RvbUhlYWRlcnMsbG9nOmkubG9nLG9uQ29tcGxldGU6dSxjb3JzOmkuY29yc30pKTt0LmV4dGVuZCh0aGlzLHtxdWVyeVNlcnZlcjpmdW5jdGlvbigpe3ZhciBuPXQuZXh0ZW5kKHt9LGkucGFyYW1zKTtpLmxvZygiU2Vzc2lvbiBxdWVyeSByZXF1ZXN0LiIpO3IuaW5pdFRyYW5zcG9ydCgic2Vzc2lvblJlZnJlc2giKS53aXRoUGFyYW1zKG4pLndpdGhDYWNoZUJ1c3RlcigpLnNlbmQoKX19KX07dC5TY2FsZXI9ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7dmFyIHU9bi5jdXN0b21SZXNpemVyLGY9bi5zZW5kT3JpZ2luYWwsZT1uLm9yaWVudCxvPW4uZGVmYXVsdFR5cGUscz1uLmRlZmF1bHRRdWFsaXR5LzEwMCxoPW4uZmFpbHVyZVRleHQsYz1uLmluY2x1ZGVFeGlmLHI9dGhpcy5fZ2V0U29ydGVkU2l6ZXMobi5zaXplcyk7dC5leHRlbmQodGhpcyx7ZW5hYmxlZDp0LnN1cHBvcnRlZEZlYXR1cmVzLnNjYWxpbmcmJnIubGVuZ3RoPjAsZ2V0RmlsZVJlY29yZHM6ZnVuY3Rpb24obixsLGEpe3ZhciB5PXRoaXMscD1bXSx2PWEuYmxvYj9hLmJsb2I6YTtyZXR1cm4gbmV3IHQuSWRlbnRpZnkodixpKS5pc1ByZXZpZXdhYmxlU3luYygpPyh0LmVhY2gocixmdW5jdGlvbihuLHIpe3ZhciBmPXkuX2RldGVybWluZU91dHB1dFR5cGUoe2RlZmF1bHRUeXBlOm8scmVxdWVzdGVkVHlwZTpyLnR5cGUscmVmVHlwZTp2LnR5cGV9KTtwLnB1c2goe3V1aWQ6dC5nZXRVbmlxdWVJZCgpLG5hbWU6eS5fZ2V0TmFtZShsLHtuYW1lOnIubmFtZSx0eXBlOmYscmVmVHlwZTp2LnR5cGV9KSxibG9iOm5ldyB0LkJsb2JQcm94eSh2LHQuYmluZCh5Ll9nZW5lcmF0ZVNjYWxlZEltYWdlLHkse2N1c3RvbVJlc2l6ZUZ1bmN0aW9uOnUsbWF4U2l6ZTpyLm1heFNpemUsb3JpZW50OmUsdHlwZTpmLHF1YWxpdHk6cyxmYWlsZWRUZXh0OmgsaW5jbHVkZUV4aWY6Yyxsb2c6aX0pKX0pfSkscC5wdXNoKHt1dWlkOm4sbmFtZTpsLHNpemU6di5zaXplLGJsb2I6Zj92Om51bGx9KSk6cC5wdXNoKHt1dWlkOm4sbmFtZTpsLHNpemU6di5zaXplLGJsb2I6dn0pLHB9LGhhbmRsZU5ld0ZpbGU6ZnVuY3Rpb24obixpLHIsdSxmLGUsbyxzKXt2YXIgdj10aGlzLGw9KG4ucXFCdXR0b25JZHx8bi5ibG9iJiZuLmJsb2IucXFCdXR0b25JZCxbXSksaD1udWxsLHk9cy5hZGRGaWxlVG9IYW5kbGVyLGM9cy51cGxvYWREYXRhLGE9cy5wYXJhbXNTdG9yZSxwPXQuZ2V0VW5pcXVlSWQoKTt0LmVhY2godi5nZXRGaWxlUmVjb3JkcyhyLGksbiksZnVuY3Rpb24obixpKXt2YXIgcix1PWkuc2l6ZTtpLmJsb2IgaW5zdGFuY2VvZiB0LkJsb2JQcm94eSYmKHU9LTEpO3I9Yy5hZGRGaWxlKHt1dWlkOmkudXVpZCxuYW1lOmkubmFtZSxzaXplOnUsYmF0Y2hJZDplLHByb3h5R3JvdXBJZDpwfSk7aS5ibG9iIGluc3RhbmNlb2YgdC5CbG9iUHJveHk/bC5wdXNoKHIpOmg9cjtpLmJsb2I/KHkocixpLmJsb2IpLGYucHVzaCh7aWQ6cixmaWxlOmkuYmxvYn0pKTpjLnNldFN0YXR1cyhyLHQuc3RhdHVzLlJFSkVDVEVEKX0pO251bGwhPT1oJiYodC5lYWNoKGwsZnVuY3Rpb24obix0KXt2YXIgaT17cXFwYXJlbnR1dWlkOmMucmV0cmlldmUoe2lkOmh9KS51dWlkLHFxcGFyZW50c2l6ZTpjLnJldHJpZXZlKHtpZDpofSkuc2l6ZX07aVtvXT1jLnJldHJpZXZlKHtpZDp0fSkudXVpZDtjLnNldFBhcmVudElkKHQsaCk7YS5hZGRSZWFkT25seSh0LGkpfSksbC5sZW5ndGgmJmZ1bmN0aW9uKCl7dmFyIG49e307bltvXT1jLnJldHJpZXZlKHtpZDpofSkudXVpZDthLmFkZFJlYWRPbmx5KGgsbil9KCkpfX0pfTt0LmV4dGVuZCh0LlNjYWxlci5wcm90b3R5cGUse3NjYWxlSW1hZ2U6ZnVuY3Rpb24obixpLHIpeyJ1c2Ugc3RyaWN0IjtpZighdC5zdXBwb3J0ZWRGZWF0dXJlcy5zY2FsaW5nKXRocm93IG5ldyB0LkVycm9yKCJTY2FsaW5nIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyISIpO3ZhciB1PW5ldyB0LlByb21pc2UsZT1yLmxvZyxvPXIuZ2V0RmlsZShuKSxmPXIudXBsb2FkRGF0YS5yZXRyaWV2ZSh7aWQ6bn0pLHM9ZiYmZi5uYW1lLGg9ZiYmZi51dWlkLGM9e2N1c3RvbVJlc2l6ZXI6aS5jdXN0b21SZXNpemVyLHNlbmRPcmlnaW5hbDohMSxvcmllbnQ6aS5vcmllbnQsZGVmYXVsdFR5cGU6aS50eXBlfHxudWxsLGRlZmF1bHRRdWFsaXR5OmkucXVhbGl0eSxmYWlsZWRUb1NjYWxlVGV4dDoiVW5hYmxlIHRvIHNjYWxlIixzaXplczpbe25hbWU6IiIsbWF4U2l6ZTppLm1heFNpemV9XX0sbD1uZXcgdC5TY2FsZXIoYyxlKTtyZXR1cm4gdC5TY2FsZXImJnQuc3VwcG9ydGVkRmVhdHVyZXMuaW1hZ2VQcmV2aWV3cyYmbz90LmJpbmQoZnVuY3Rpb24oKXt2YXIgaT1sLmdldEZpbGVSZWNvcmRzKGgscyxvKVswXTtpJiZpLmJsb2IgaW5zdGFuY2VvZiB0LkJsb2JQcm94eT9pLmJsb2IuY3JlYXRlKCkudGhlbih1LnN1Y2Nlc3MsdS5mYWlsdXJlKTooZShuKyIgaXMgbm90IGEgc2NhbGFibGUgaW1hZ2UhIiwiZXJyb3IiKSx1LmZhaWx1cmUoKSl9LHRoaXMpKCk6KHUuZmFpbHVyZSgpLGUoIkNvdWxkIG5vdCBnZW5lcmF0ZSByZXF1ZXN0ZWQgc2NhbGVkIGltYWdlIGZvciAiK24rIi4gIFNjYWxpbmcgaXMgZWl0aGVyIG5vdCBwb3NzaWJsZSBpbiB0aGlzIGJyb3dzZXIsIG9yIHRoZSBmaWxlIGNvdWxkIG5vdCBiZSBsb2NhdGVkLiIsImVycm9yIikpLHV9LF9kZXRlcm1pbmVPdXRwdXRUeXBlOmZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1uLnJlcXVlc3RlZFR5cGUscj1uLmRlZmF1bHRUeXBlLHU9bi5yZWZUeXBlO3JldHVybiByfHxpP2kmJnQuaW5kZXhPZihPYmplY3Qua2V5cyh0LklkZW50aWZ5LnByb3RvdHlwZS5QUkVWSUVXQUJMRV9NSU1FX1RZUEVTKSxpKT49MD8iaW1hZ2UvdGlmZiI9PT1pP3Quc3VwcG9ydGVkRmVhdHVyZXMudGlmZlByZXZpZXdzP2k6cjppOnI6ImltYWdlL2pwZWciIT09dT8iaW1hZ2UvcG5nIjp1fSxfZ2V0TmFtZTpmdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgZj1uLmxhc3RJbmRleE9mKCIuIiksZT1pLnR5cGV8fCJpbWFnZS9wbmciLHM9aS5yZWZUeXBlLHI9IiIsbz10LmdldEV4dGVuc2lvbihuKSx1PSIiO3JldHVybiBpLm5hbWUmJmkubmFtZS50cmltKCkubGVuZ3RoJiYodT0iICgiK2kubmFtZSsiKSIpLGY+PTA/KHI9bi5zdWJzdHIoMCxmKSxzIT09ZSYmKG89ZS5zcGxpdCgiLyIpWzFdKSxyKz11KyIuIitvKTpyPW4rdSxyfSxfZ2V0U29ydGVkU2l6ZXM6ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO3JldHVybiBuPXQuZXh0ZW5kKFtdLG4pLG4uc29ydChmdW5jdGlvbihuLHQpe3JldHVybiBuLm1heFNpemU+dC5tYXhTaXplPzE6bi5tYXhTaXplPHQubWF4U2l6ZT8tMTowfSl9LF9nZW5lcmF0ZVNjYWxlZEltYWdlOmZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO3ZhciBvPXRoaXMscz1uLmN1c3RvbVJlc2l6ZUZ1bmN0aW9uLHI9bi5sb2csaD1uLm1heFNpemUsYz1uLm9yaWVudCxmPW4udHlwZSxsPW4ucXVhbGl0eSxhPW4uZmFpbGVkVGV4dCx2PW4uaW5jbHVkZUV4aWYmJiJpbWFnZS9qcGVnIj09PWkudHlwZSYmImltYWdlL2pwZWciPT09Zix1PW5ldyB0LlByb21pc2UseT1uZXcgdC5JbWFnZUdlbmVyYXRvcihyKSxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO3JldHVybiByKCJBdHRlbXB0aW5nIHRvIGdlbmVyYXRlIHNjYWxlZCB2ZXJzaW9uIGZvciAiK2kubmFtZSkseS5nZW5lcmF0ZShpLGUse21heFNpemU6aCxvcmllbnQ6YyxjdXN0b21SZXNpemVGdW5jdGlvbjpzfSkudGhlbihmdW5jdGlvbigpe3ZhciBuPWUudG9EYXRhVVJMKGYsbCkscz1mdW5jdGlvbigpe3IoIlN1Y2Nlc3MgZ2VuZXJhdGluZyBzY2FsZWQgdmVyc2lvbiBmb3IgIitpLm5hbWUpO3ZhciBmPXQuZGF0YVVyaVRvQmxvYihuKTt1LnN1Y2Nlc3MoZil9O3Y/by5faW5zZXJ0RXhpZkhlYWRlcihpLG4scikudGhlbihmdW5jdGlvbih0KXtuPXQ7cygpfSxmdW5jdGlvbigpe3IoIlByb2JsZW0gaW5zZXJ0aW5nIEVYSUYgaGVhZGVyIGludG8gc2NhbGVkIGltYWdlLiAgVXNpbmcgc2NhbGVkIGltYWdlIHcvb3V0IEVYSUYgZGF0YS4iLCJlcnJvciIpO3MoKX0pOnMoKX0sZnVuY3Rpb24oKXtyKCJGYWlsZWQgYXR0ZW1wdCB0byBnZW5lcmF0ZSBzY2FsZWQgdmVyc2lvbiBmb3IgIitpLm5hbWUsImVycm9yIik7dS5mYWlsdXJlKGEpfSksdX0sX2luc2VydEV4aWZIZWFkZXI6ZnVuY3Rpb24obixpLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgdT1uZXcgRmlsZVJlYWRlcixmPW5ldyB0LlByb21pc2UsZT0iIjtyZXR1cm4gdS5vbmxvYWQ9ZnVuY3Rpb24oKXtlPXUucmVzdWx0O2Yuc3VjY2Vzcyh0LkV4aWZSZXN0b3Jlci5yZXN0b3JlKGUsaSkpfSx1Lm9uZXJyb3I9ZnVuY3Rpb24oKXtyKCJQcm9ibGVtIHJlYWRpbmcgIituLm5hbWUrIiBkdXJpbmcgYXR0ZW1wdCB0byB0cmFuc2ZlciBFWElGIGRhdGEgdG8gc2NhbGVkIHZlcnNpb24uIiwiZXJyb3IiKTtmLmZhaWx1cmUoKX0sdS5yZWFkQXNEYXRhVVJMKG4pLGZ9LF9kYXRhVXJpVG9CbG9iOmZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaSx1LHIsZjtyZXR1cm4gaT1uLnNwbGl0KCIsIilbMF0uaW5kZXhPZigiYmFzZTY0Iik+PTA/YXRvYihuLnNwbGl0KCIsIilbMV0pOmRlY29kZVVSSShuLnNwbGl0KCIsIilbMV0pLHU9bi5zcGxpdCgiLCIpWzBdLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKVswXSxyPW5ldyBBcnJheUJ1ZmZlcihpLmxlbmd0aCksZj1uZXcgVWludDhBcnJheShyKSx0LmVhY2goaSxmdW5jdGlvbihuLHQpe2Zbbl09dC5jaGFyQ29kZUF0KDApfSksdGhpcy5fY3JlYXRlQmxvYihyLHUpfSxfY3JlYXRlQmxvYjpmdW5jdGlvbihuLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj13aW5kb3cuQmxvYkJ1aWxkZXJ8fHdpbmRvdy5XZWJLaXRCbG9iQnVpbGRlcnx8d2luZG93Lk1vekJsb2JCdWlsZGVyfHx3aW5kb3cuTVNCbG9iQnVpbGRlcixpPXImJm5ldyByO3JldHVybiBpPyhpLmFwcGVuZChuKSxpLmdldEJsb2IodCkpOm5ldyBCbG9iKFtuXSx7dHlwZTp0fSl9fSk7dC5FeGlmUmVzdG9yZXI9ZnVuY3Rpb24oKXt2YXIgbj17fTtyZXR1cm4gbi5LRVlfU1RSPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSIsbi5lbmNvZGU2ND1mdW5jdGlvbihuKXt2YXIgdSx0LG8scyxmLGg9IiIsaT0iIixyPSIiLGU9MDtkbyB1PW5bZSsrXSx0PW5bZSsrXSxpPW5bZSsrXSxvPXU+PjIscz0oMyZ1KTw8NHx0Pj40LGY9KDE1JnQpPDwyfGk+PjYscj02MyZpLGlzTmFOKHQpP2Y9cj02NDppc05hTihpKSYmKHI9NjQpLGg9aCt0aGlzLktFWV9TVFIuY2hhckF0KG8pK3RoaXMuS0VZX1NUUi5jaGFyQXQocykrdGhpcy5LRVlfU1RSLmNoYXJBdChmKSt0aGlzLktFWV9TVFIuY2hhckF0KHIpLHU9dD1pPSIiLG89cz1mPXI9IiI7d2hpbGUoZTxuLmxlbmd0aCk7cmV0dXJuIGh9LG4ucmVzdG9yZT1mdW5jdGlvbihuLHQpe2lmKCFuLm1hdGNoKCJkYXRhOmltYWdlL2pwZWc7YmFzZTY0LCIpKXJldHVybiB0O3ZhciBpPXRoaXMuZGVjb2RlNjQobi5yZXBsYWNlKCJkYXRhOmltYWdlL2pwZWc7YmFzZTY0LCIsIiIpKSxyPXRoaXMuc2xpY2UyU2VnbWVudHMoaSksdT10aGlzLmV4aWZNYW5pcHVsYXRpb24odCxyKTtyZXR1cm4iZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwiK3RoaXMuZW5jb2RlNjQodSl9LG4uZXhpZk1hbmlwdWxhdGlvbj1mdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuZ2V0RXhpZkFycmF5KHQpLHI9dGhpcy5pbnNlcnRFeGlmKG4saSk7cmV0dXJuIG5ldyBVaW50OEFycmF5KHIpfSxuLmdldEV4aWZBcnJheT1mdW5jdGlvbihuKXtmb3IodmFyIHQsaT0wO2k8bi5sZW5ndGg7aSsrKWlmKHQ9bltpXSwyNTU9PXRbMF0mMjI1PT10WzFdKXJldHVybiB0O3JldHVybltdfSxuLmluc2VydEV4aWY9ZnVuY3Rpb24obix0KXt2YXIgZj1uLnJlcGxhY2UoImRhdGE6aW1hZ2UvanBlZztiYXNlNjQsIiwiIikscj10aGlzLmRlY29kZTY0KGYpLHU9ci5pbmRleE9mKDI1NSwzKSxlPXIuc2xpY2UoMCx1KSxvPXIuc2xpY2UodSksaT1lO3JldHVybiBpPWkuY29uY2F0KHQpLGk9aS5jb25jYXQobyl9LG4uc2xpY2UyU2VnbWVudHM9ZnVuY3Rpb24obil7Zm9yKHZhciB0PTAsaT1bXTs7KXtpZigyNTU9PW5bdF0mMjE4PT1uW3QrMV0pYnJlYWs7aWYoMjU1PT1uW3RdJjIxNj09blt0KzFdKXQrPTI7ZWxzZXt2YXIgdT0yNTYqblt0KzJdK25bdCszXSxyPXQrdSsyLGY9bi5zbGljZSh0LHIpO2kucHVzaChmKTt0PXJ9aWYodD5uLmxlbmd0aClicmVha31yZXR1cm4gaX0sbi5kZWNvZGU2ND1mdW5jdGlvbihuKXt2YXIgZSxvLHMscix0LGg9IiIsdT0iIixpPTAsZj1bXTtpZigvW15BLVphLXowLTlcK1wvXD1dL2cuZXhlYyhuKSl0aHJvdyBuZXcgRXJyb3IoIlRoZXJlIHdlcmUgaW52YWxpZCBiYXNlNjQgY2hhcmFjdGVycyBpbiB0aGUgaW5wdXQgdGV4dC4gIFZhbGlkIGJhc2U2NCBjaGFyYWN0ZXJzIGFyZSBBLVosIGEteiwgMC05LCAnKycsICcvJyxhbmQgJz0nIik7bj1uLnJlcGxhY2UoL1teQS1aYS16MC05XCtcL1w9XS9nLCIiKTtkbyBzPXRoaXMuS0VZX1NUUi5pbmRleE9mKG4uY2hhckF0KGkrKykpLHI9dGhpcy5LRVlfU1RSLmluZGV4T2Yobi5jaGFyQXQoaSsrKSksdD10aGlzLktFWV9TVFIuaW5kZXhPZihuLmNoYXJBdChpKyspKSx1PXRoaXMuS0VZX1NUUi5pbmRleE9mKG4uY2hhckF0KGkrKykpLGU9czw8MnxyPj40LG89KDE1JnIpPDw0fHQ+PjIsaD0oMyZ0KTw8Nnx1LGYucHVzaChlKSw2NCE9dCYmZi5wdXNoKG8pLDY0IT11JiZmLnB1c2goaCksZT1vPWg9IiIscz1yPXQ9dT0iIjt3aGlsZShpPG4ubGVuZ3RoKTtyZXR1cm4gZn0sbn0oKTt0LlRvdGFsUHJvZ3Jlc3M9ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7dmFyIHI9e30sZj0wLHU9MCxvPS0xLHM9LTEsaD1mdW5jdGlvbih0LGkpe3Q9PT1vJiZpPT09c3x8bih0LGkpO289dDtzPWl9LGw9ZnVuY3Rpb24obixpKXt2YXIgcj0hMDtyZXR1cm4gdC5lYWNoKG4sZnVuY3Rpb24obix1KXtpZih0LmluZGV4T2YoaSx1KT49MClyZXR1cm4gcj0hMSwhMX0pLHJ9LGE9ZnVuY3Rpb24obil7ZShuLC0xLC0xKTtkZWxldGUgcltuXX0sdj1mdW5jdGlvbihuLHQsaSl7KDA9PT10Lmxlbmd0aHx8bCh0LGkpKSYmKGgodSx1KSx0aGlzLnJlc2V0KCkpfSxjPWZ1bmN0aW9uKG4pe3ZhciB0PWkobik7dD4wJiYoZShuLDAsdCkscltuXT17bG9hZGVkOjAsdG90YWw6dH0pfSxlPWZ1bmN0aW9uKG4sdCxpKXt2YXIgZT1yW25dP3Jbbl0ubG9hZGVkOjAsbz1yW25dP3Jbbl0udG90YWw6MDt0PT09LTEmJmk9PT0tMT8oZi09ZSx1LT1vKToodCYmKGYrPXQtZSksaSYmKHUrPWktbykpO2goZix1KX07dC5leHRlbmQodGhpcyx7b25BbGxDb21wbGV0ZTp2LG9uU3RhdHVzQ2hhbmdlOmZ1bmN0aW9uKG4saSxyKXtyPT09dC5zdGF0dXMuQ0FOQ0VMRUR8fHI9PT10LnN0YXR1cy5SRUpFQ1RFRD9hKG4pOnI9PT10LnN0YXR1cy5TVUJNSVRUSU5HJiZjKG4pfSxvbkluZGl2aWR1YWxQcm9ncmVzczpmdW5jdGlvbihuLHQsaSl7ZShuLHQsaSk7cltuXT17bG9hZGVkOnQsdG90YWw6aX19LG9uTmV3U2l6ZTpmdW5jdGlvbihuKXtjKG4pfSxyZXNldDpmdW5jdGlvbigpe3I9e307Zj0wO3U9MH19KX07dC5QYXN0ZVN1cHBvcnQ9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHUobil7cmV0dXJuIG4udHlwZSYmMD09PW4udHlwZS5pbmRleE9mKCJpbWFnZS8iKX1mdW5jdGlvbiBmKCl7cj10KGkudGFyZ2V0RWxlbWVudCkuYXR0YWNoKCJwYXN0ZSIsZnVuY3Rpb24obil7dmFyIHI9bi5jbGlwYm9hcmREYXRhO3ImJnQuZWFjaChyLml0ZW1zLGZ1bmN0aW9uKG4sdCl7aWYodSh0KSl7dmFyIHI9dC5nZXRBc0ZpbGUoKTtpLmNhbGxiYWNrcy5wYXN0ZVJlY2VpdmVkKHIpfX0pfSl9ZnVuY3Rpb24gZSgpe3ImJnIoKX12YXIgaSxyO2k9e3RhcmdldEVsZW1lbnQ6bnVsbCxjYWxsYmFja3M6e2xvZzpmdW5jdGlvbigpe30scGFzdGVSZWNlaXZlZDpmdW5jdGlvbigpe319fTt0LmV4dGVuZChpLG4pO2YoKTt0LmV4dGVuZCh0aGlzLHtyZXNldDpmdW5jdGlvbigpe2UoKX19KX07dC5Gb3JtU3VwcG9ydD1mdW5jdGlvbihuLGkscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8obil7bi5nZXRBdHRyaWJ1dGUoImFjdGlvbiIpJiYoZS5uZXdFbmRwb2ludD1uLmdldEF0dHJpYnV0ZSgiYWN0aW9uIikpfWZ1bmN0aW9uIGYobix0KXtpZighbi5jaGVja1ZhbGlkaXR5fHxuLmNoZWNrVmFsaWRpdHkoKSlyZXR1cm4hMDtyKCJGb3JtIGRpZCBub3QgcGFzcyB2YWxpZGF0aW9uIGNoZWNrcyAtIHdpbGwgbm90IHVwbG9hZC4iLCJlcnJvciIpO3QoKX1mdW5jdGlvbiBzKG4pe3ZhciByPW4uc3VibWl0O3QobikuYXR0YWNoKCJzdWJtaXQiLGZ1bmN0aW9uKHQpe3Q9dHx8d2luZG93LmV2ZW50O3QucHJldmVudERlZmF1bHQ/dC5wcmV2ZW50RGVmYXVsdCgpOnQucmV0dXJuVmFsdWU9ITE7ZihuLHIpJiZpKCl9KTtuLnN1Ym1pdD1mdW5jdGlvbigpe2YobixyKSYmaSgpfX1mdW5jdGlvbiBoKG4pe3JldHVybiBuJiYodC5pc1N0cmluZyhuKSYmKG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobikpLG4mJihyKCJBdHRhY2hpbmcgdG8gZm9ybSBlbGVtZW50LiIpLG8obiksYyYmcyhuKSkpLG59dmFyIGU9dGhpcyxjPW4uaW50ZXJjZXB0U3VibWl0LHU9bi5lbGVtZW50LGw9bi5hdXRvVXBsb2FkO3QuZXh0ZW5kKHRoaXMse25ld0VuZHBvaW50Om51bGwsbmV3QXV0b1VwbG9hZDpsLGF0dGFjaGVkVG9Gb3JtOiExLGdldEZvcm1JbnB1dHNBc09iamVjdDpmdW5jdGlvbigpe3JldHVybiBudWxsPT11P251bGw6ZS5fZm9ybTJPYmoodSl9fSk7dT1oKHUpO3RoaXMuYXR0YWNoZWRUb0Zvcm09ISF1fTt0LmV4dGVuZCh0LkZvcm1TdXBwb3J0LnByb3RvdHlwZSx7X2Zvcm0yT2JqOmZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT17fSx1PWZ1bmN0aW9uKG4pe3JldHVybiB0LmluZGV4T2YoWyJidXR0b24iLCJpbWFnZSIsInJlc2V0Iiwic3VibWl0Il0sbi50b0xvd2VyQ2FzZSgpKTwwfSxmPWZ1bmN0aW9uKG4pe3JldHVybiB0LmluZGV4T2YoWyJjaGVja2JveCIsInJhZGlvIl0sbi50b0xvd2VyQ2FzZSgpKT49MH0scj1mdW5jdGlvbihuKXtyZXR1cm4hKCFmKG4udHlwZSl8fG4uY2hlY2tlZCl8fG4uZGlzYWJsZWQmJiJoaWRkZW4iIT09bi50eXBlLnRvTG93ZXJDYXNlKCl9LGU9ZnVuY3Rpb24obil7dmFyIGk9bnVsbDtyZXR1cm4gdC5lYWNoKHQobikuY2hpbGRyZW4oKSxmdW5jdGlvbihuLHQpe2lmKCJvcHRpb24iPT09dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJnQuc2VsZWN0ZWQpcmV0dXJuIGk9dC52YWx1ZSwhMX0pLGl9O3JldHVybiB0LmVhY2gobi5lbGVtZW50cyxmdW5jdGlvbihuLGYpe2lmKCh0LmlzSW5wdXQoZiwhMCl8fCJ0ZXh0YXJlYSI9PT1mLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkmJnUoZi50eXBlKSYmIXIoZikpaVtmLm5hbWVdPWYudmFsdWU7ZWxzZSBpZigic2VsZWN0Ij09PWYudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYhcihmKSl7dmFyIG89ZShmKTtudWxsIT09byYmKGlbZi5uYW1lXT1vKX19KSxpfX0pO3QudHJhZGl0aW9uYWw9dC50cmFkaXRpb25hbHx8e307dC50cmFkaXRpb25hbC5Gb3JtVXBsb2FkSGFuZGxlcj1mdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKG4sdCl7dmFyIGYsZSxpO3RyeXtlPXQuY29udGVudERvY3VtZW50fHx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7aT1lLmJvZHkuaW5uZXJIVE1MO3UoImNvbnZlcnRpbmcgaWZyYW1lJ3MgaW5uZXJIVE1MIHRvIEpTT04iKTt1KCJpbm5lckhUTUwgPSAiK2kpO2kmJmkubWF0Y2goL148cHJlL2kpJiYoaT1lLmJvZHkuZmlyc3RDaGlsZC5maXJzdENoaWxkLm5vZGVWYWx1ZSk7Zj1yLl9wYXJzZUpzb25SZXNwb25zZShpKX1jYXRjaChuKXt1KCJFcnJvciB3aGVuIGF0dGVtcHRpbmcgdG8gcGFyc2UgZm9ybSB1cGxvYWQgcmVzcG9uc2UgKCIrbi5tZXNzYWdlKyIpIiwiZXJyb3IiKTtmPXtzdWNjZXNzOiExfX1yZXR1cm4gZn1mdW5jdGlvbiBzKHQsaSl7dmFyIHU9bi5wYXJhbXNTdG9yZS5nZXQodCksbz0iZ2V0Ij09PW4ubWV0aG9kLnRvTG93ZXJDYXNlKCk/IkdFVCI6IlBPU1QiLHM9bi5lbmRwb2ludFN0b3JlLmdldCh0KSxoPWYodCk7cmV0dXJuIHVbbi51dWlkTmFtZV09ZSh0KSx1W24uZmlsZW5hbWVQYXJhbV09aCxyLl9pbml0Rm9ybUZvclVwbG9hZCh7bWV0aG9kOm8sZW5kcG9pbnQ6cyxwYXJhbXM6dSxwYXJhbXNJbkJvZHk6bi5wYXJhbXNJbkJvZHksdGFyZ2V0TmFtZTppLm5hbWV9KX12YXIgcj10aGlzLGY9aS5nZXROYW1lLGU9aS5nZXRVdWlkLHU9aS5sb2c7dGhpcy51cGxvYWRGaWxlPWZ1bmN0aW9uKGkpe3ZhciBmLGM9ci5nZXRJbnB1dChpKSxlPXIuX2NyZWF0ZUlmcmFtZShpKSxoPW5ldyB0LlByb21pc2U7cmV0dXJuIGY9cyhpLGUpLGYuYXBwZW5kQ2hpbGQoYyksci5fYXR0YWNoTG9hZEV2ZW50KGUsZnVuY3Rpb24oZil7dSgiaWZyYW1lIGxvYWRlZCIpO3ZhciBzPWY/ZjpvKGksZSk7ci5fZGV0YWNoTG9hZEV2ZW50KGkpO24uY29ycy5leHBlY3RlZHx8dChlKS5yZW1vdmUoKTtzLnN1Y2Nlc3M/aC5zdWNjZXNzKHMpOmguZmFpbHVyZShzKX0pLHUoIlNlbmRpbmcgdXBsb2FkIHJlcXVlc3QgZm9yICIraSksZi5zdWJtaXQoKSx0KGYpLnJlbW92ZSgpLGh9O3QuZXh0ZW5kKHRoaXMsbmV3IHQuRm9ybVVwbG9hZEhhbmRsZXIoe29wdGlvbnM6e2lzQ29yczpuLmNvcnMuZXhwZWN0ZWQsaW5wdXROYW1lOm4uaW5wdXROYW1lfSxwcm94eTp7b25DYW5jZWw6bi5vbkNhbmNlbCxnZXROYW1lOmYsZ2V0VXVpZDplLGxvZzp1fX0pKX07dC50cmFkaXRpb25hbD10LnRyYWRpdGlvbmFsfHx7fTt0LnRyYWRpdGlvbmFsLlhoclVwbG9hZEhhbmRsZXI9ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7dmFyIHI9dGhpcyxvPWkuZ2V0TmFtZSxzPWkuZ2V0U2l6ZSxoPWkuZ2V0VXVpZCx1PWkubG9nLGY9bi5mb3JjZU11bHRpcGFydHx8bi5wYXJhbXNJbkJvZHksdj1mdW5jdGlvbih0LGkscil7dmFyIHU9cyh0KSxlPW8odCk7bi5vbWl0RGVmYXVsdFBhcmFtc3x8KGlbbi5jaHVua2luZy5wYXJhbU5hbWVzLnBhcnRJbmRleF09ci5wYXJ0LGlbbi5jaHVua2luZy5wYXJhbU5hbWVzLnBhcnRCeXRlT2Zmc2V0XT1yLnN0YXJ0LGlbbi5jaHVua2luZy5wYXJhbU5hbWVzLmNodW5rU2l6ZV09ci5zaXplLGlbbi5jaHVua2luZy5wYXJhbU5hbWVzLnRvdGFsUGFydHNdPXIuY291bnQsaVtuLnRvdGFsRmlsZVNpemVOYW1lXT11KTtmJiYhbi5vbWl0RGVmYXVsdFBhcmFtcyYmKGlbbi5maWxlbmFtZVBhcmFtXT1lKX0seT1uZXcgdC50cmFkaXRpb25hbC5BbGxDaHVua3NEb25lQWpheFJlcXVlc3Rlcih7Y29yczpuLmNvcnMsZW5kcG9pbnQ6bi5jaHVua2luZy5zdWNjZXNzLmVuZHBvaW50LGhlYWRlcnM6bi5jaHVua2luZy5zdWNjZXNzLmhlYWRlcnMsanNvblBheWxvYWQ6bi5jaHVua2luZy5zdWNjZXNzLmpzb25QYXlsb2FkLGxvZzp1LG1ldGhvZDpuLmNodW5raW5nLnN1Y2Nlc3MubWV0aG9kLHBhcmFtczpuLmNodW5raW5nLnN1Y2Nlc3MucGFyYW1zfSksYz1mdW5jdGlvbihuLGkpe3ZhciByPW5ldyB0LlByb21pc2U7cmV0dXJuIGkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PWkucmVhZHlTdGF0ZSl7dmFyIHQ9YihuLGkpO3Quc3VjY2Vzcz9yLnN1Y2Nlc3ModC5yZXNwb25zZSxpKTpyLmZhaWx1cmUodC5yZXNwb25zZSxpKX19LHJ9LHA9ZnVuY3Rpb24odCl7dmFyIGk9bi5wYXJhbXNTdG9yZS5nZXQodCksdT1vKHQpLGY9cyh0KTtyZXR1cm4gaVtuLnV1aWROYW1lXT1oKHQpLGlbbi5maWxlbmFtZVBhcmFtXT11LGlbbi50b3RhbEZpbGVTaXplTmFtZV09ZixpW24uY2h1bmtpbmcucGFyYW1OYW1lcy50b3RhbFBhcnRzXT1yLl9nZXRUb3RhbENodW5rcyh0KSxpfSx3PWZ1bmN0aW9uKGkscil7cmV0dXJuIHQuaW5kZXhPZihbMjAwLDIwMSwyMDIsMjAzLDIwNF0saS5zdGF0dXMpPDB8fG4ucmVxdWlyZVN1Y2Nlc3NKc29uJiYhci5zdWNjZXNzfHxyLnJlc2V0fSxiPWZ1bmN0aW9uKG4sdCl7dmFyIGk7cmV0dXJuIHUoInhociAtIHNlcnZlciByZXNwb25zZSByZWNlaXZlZCBmb3IgIituKSx1KCJyZXNwb25zZVRleHQgPSAiK3QucmVzcG9uc2VUZXh0KSxpPWUoITAsdCkse3N1Y2Nlc3M6IXcodCxpKSxyZXNwb25zZTppfX0sZT1mdW5jdGlvbihpLHIpe3ZhciBmPXt9O3RyeXt1KHQuZm9ybWF0KCJSZWNlaXZlZCByZXNwb25zZSBzdGF0dXMge30gd2l0aCBib2R5OiB7fSIsci5zdGF0dXMsci5yZXNwb25zZVRleHQpKTtmPXQucGFyc2VKc29uKHIucmVzcG9uc2VUZXh0KX1jYXRjaChyKXtpJiZuLnJlcXVpcmVTdWNjZXNzSnNvbiYmdSgiRXJyb3Igd2hlbiBhdHRlbXB0aW5nIHRvIHBhcnNlIHhociByZXNwb25zZSB0ZXh0ICgiK3IubWVzc2FnZSsiKSIsImVycm9yIil9cmV0dXJuIGZ9LGs9ZnVuY3Rpb24oaSl7dmFyIHU9bmV3IHQuUHJvbWlzZTtyZXR1cm4geS5jb21wbGV0ZShpLHIuX2NyZWF0ZVhocihpKSxwKGkpLG4uY3VzdG9tSGVhZGVycy5nZXQoaSkpLnRoZW4oZnVuY3Rpb24obil7dS5zdWNjZXNzKGUoITEsbiksbil9LGZ1bmN0aW9uKG4pe3UuZmFpbHVyZShlKCExLG4pLG4pfSksdX0sbD1mdW5jdGlvbihpKXt2YXIgcixhPWkuZmlsZU9yQmxvYix1PWkuaWQsdj1pLnhocixlPWkueGhyT3ZlcnJpZGVzfHx7fSx5PWkuY3VzdG9tUGFyYW1zfHx7fSxiPWkucGFyYW1zfHx7fSxwPWUucGFyYW1zfHx7fSxjPWY/bmV3IEZvcm1EYXRhOm51bGwsaz1lLm1ldGhvZHx8bi5tZXRob2QsbD1lLmVuZHBvaW50fHxuLmVuZHBvaW50U3RvcmUuZ2V0KHUpLHc9byh1KSxkPXModSk7cmV0dXJuIG4ub21pdERlZmF1bHRQYXJhbXM/KHI9dC5leHRlbmQoe30seSksdC5leHRlbmQocixwKSk6KHI9dC5leHRlbmQoe30seSksdC5leHRlbmQocixwKSx0LmV4dGVuZChyLGIpLHJbbi51dWlkTmFtZV09aCh1KSxyW24uZmlsZW5hbWVQYXJhbV09dyxmP3Jbbi50b3RhbEZpbGVTaXplTmFtZV09ZDpuLnBhcmFtc0luQm9keXx8KHJbbi5pbnB1dE5hbWVdPXcpKSxuLnBhcmFtc0luQm9keXx8KGw9dC5vYmoydXJsKHIsbCkpLHYub3BlbihrLGwsITApLG4uY29ycy5leHBlY3RlZCYmbi5jb3JzLnNlbmRDcmVkZW50aWFscyYmKHYud2l0aENyZWRlbnRpYWxzPSEwKSxmPyhuLnBhcmFtc0luQm9keSYmdC5vYmoyRm9ybURhdGEocixjKSxjLmFwcGVuZChuLmlucHV0TmFtZSxhKSxjKTphfSxhPWZ1bmN0aW9uKGkpe3ZhciBlPWkuaGVhZGVyT3ZlcnJpZGVzLG89aS5pZCx1PWkueGhyLHMsaDtlP3QuZWFjaChlLGZ1bmN0aW9uKG4sdCl7dS5zZXRSZXF1ZXN0SGVhZGVyKG4sdCl9KToocz1uLmN1c3RvbUhlYWRlcnMuZ2V0KG8pLGg9ci5nZXRGaWxlKG8pLHUuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IiwiYXBwbGljYXRpb24vanNvbiIpLHUuc2V0UmVxdWVzdEhlYWRlcigiWC1SZXF1ZXN0ZWQtV2l0aCIsIlhNTEh0dHBSZXF1ZXN0IiksdS5zZXRSZXF1ZXN0SGVhZGVyKCJDYWNoZS1Db250cm9sIiwibm8tY2FjaGUiKSxmfHwodS5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iKSx1LnNldFJlcXVlc3RIZWFkZXIoIlgtTWltZS1UeXBlIixoLnR5cGUpKSx0LmVhY2gocyxmdW5jdGlvbihuLHQpe3Uuc2V0UmVxdWVzdEhlYWRlcihuLHQpfSkpfTt0LmV4dGVuZCh0aGlzLHt1cGxvYWRDaHVuazpmdW5jdGlvbih0KXt2YXIgcyxoLHksaT10LmlkLGY9dC5jaHVua0lkeCxwPXQub3ZlcnJpZGVzfHx7fSx3PXQucmVzdW1pbmcsZT1yLl9nZXRDaHVua0RhdGEoaSxmKSx1PXIuX2NyZWF0ZVhocihpLGYpLG89e307cmV0dXJuIHM9YyhpLHUpLHIuX3JlZ2lzdGVyUHJvZ3Jlc3NIYW5kbGVyKGksZixlLnNpemUpLHk9bi5wYXJhbXNTdG9yZS5nZXQoaSksdihpLG8sZSksdyYmKG9bbi5yZXN1bWUucGFyYW1OYW1lcy5yZXN1bWluZ109ITApLGg9bCh7ZmlsZU9yQmxvYjplLmJsb2IsaWQ6aSxjdXN0b21QYXJhbXM6eSxwYXJhbXM6byx4aHI6dSx4aHJPdmVycmlkZXM6cH0pLGEoe2hlYWRlck92ZXJyaWRlczpwLmhlYWRlcnMsaWQ6aSx4aHI6dX0pLHUuc2VuZChoKSxzfSx1cGxvYWRGaWxlOmZ1bmN0aW9uKHQpe3ZhciB1LGksZixlLG89ci5nZXRGaWxlKHQpO3JldHVybiBpPXIuX2NyZWF0ZVhocih0KSxyLl9yZWdpc3RlclByb2dyZXNzSGFuZGxlcih0KSx1PWModCxpKSxmPW4ucGFyYW1zU3RvcmUuZ2V0KHQpLGU9bCh7ZmlsZU9yQmxvYjpvLGlkOnQsY3VzdG9tUGFyYW1zOmYseGhyOml9KSxhKHtpZDp0LHhocjppfSksaS5zZW5kKGUpLHV9fSk7dC5leHRlbmQodGhpcyxuZXcgdC5YaHJVcGxvYWRIYW5kbGVyKHtvcHRpb25zOnQuZXh0ZW5kKHtuYW1lc3BhY2U6InRyYWRpdGlvbmFsIn0sbikscHJveHk6dC5leHRlbmQoe2dldEVuZHBvaW50Om4uZW5kcG9pbnRTdG9yZS5nZXR9LGkpfSkpO3Qub3ZlcnJpZGUodGhpcyxmdW5jdGlvbihyKXtyZXR1cm57ZmluYWxpemVDaHVua3M6ZnVuY3Rpb24odSl7cmV0dXJuIGkub25GaW5hbGl6aW5nKHUpLG4uY2h1bmtpbmcuc3VjY2Vzcy5lbmRwb2ludD9rKHUpOnIuZmluYWxpemVDaHVua3ModSx0LmJpbmQoZSx0aGlzLCEwKSl9fX0pfTt0LnRyYWRpdGlvbmFsLkFsbENodW5rc0RvbmVBamF4UmVxdWVzdGVyPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0Ijt2YXIgdSxpPXtjb3JzOnthbGxvd1hkcjohMSxleHBlY3RlZDohMSxzZW5kQ3JlZGVudGlhbHM6ITF9LGVuZHBvaW50Om51bGwsbG9nOmZ1bmN0aW9uKCl7fSxtZXRob2Q6IlBPU1QifSxyPXt9LGY9e2dldDpmdW5jdGlvbihuKXtyZXR1cm4gdC5pc0Z1bmN0aW9uKGkuZW5kcG9pbnQpP2kuZW5kcG9pbnQobik6aS5lbmRwb2ludH19O3QuZXh0ZW5kKGksbik7dT10LmV4dGVuZCh0aGlzLG5ldyB0LkFqYXhSZXF1ZXN0ZXIoe2FjY2VwdEhlYWRlcjoiYXBwbGljYXRpb24vanNvbiIsY29udGVudFR5cGU6aS5qc29uUGF5bG9hZD8iYXBwbGljYXRpb24vanNvbiI6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsdmFsaWRNZXRob2RzOltpLm1ldGhvZF0sbWV0aG9kOmkubWV0aG9kLGVuZHBvaW50U3RvcmU6ZixhbGxvd1hSZXF1ZXN0ZWRXaXRoQW5kQ2FjaGVDb250cm9sOiExLGNvcnM6aS5jb3JzLGxvZzppLmxvZyxvbkNvbXBsZXRlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgdT1yW25dO2RlbGV0ZSByW25dO2k/dS5mYWlsdXJlKHQpOnUuc3VjY2Vzcyh0KX19KSk7dC5leHRlbmQodGhpcyx7Y29tcGxldGU6ZnVuY3Rpb24obixmLGUsbyl7dmFyIHM9bmV3IHQuUHJvbWlzZTtyZXR1cm4gaS5sb2coIlN1Ym1pdHRpbmcgQWxsIENodW5rcyBEb25lIHJlcXVlc3QgZm9yICIrbikscltuXT1zLHUuaW5pdFRyYW5zcG9ydChuKS53aXRoUGFyYW1zKGkucGFyYW1zKG4pfHxlKS53aXRoSGVhZGVycyhpLmhlYWRlcnMobil8fG8pLnNlbmQoZiksc319KX07dC5EcmFnQW5kRHJvcD1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbChuLHQpe3ZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4pO2kuY2FsbGJhY2tzLmRyb3BMb2coIkdyYWJiZWQgIituLmxlbmd0aCsiIGRyb3BwZWQgZmlsZXMuIik7dC5kcm9wRGlzYWJsZWQoITEpO2kuY2FsbGJhY2tzLnByb2Nlc3NpbmdEcm9wcGVkRmlsZXNDb21wbGV0ZShyLHQuZ2V0RWxlbWVudCgpKX1mdW5jdGlvbiBmKG4pe3ZhciByPW5ldyB0LlByb21pc2U7cmV0dXJuIG4uaXNGaWxlP24uZmlsZShmdW5jdGlvbih0KXt0LnFxUGF0aD1lKG4pO3UucHVzaCh0KTtyLnN1Y2Nlc3MoKX0sZnVuY3Rpb24odCl7aS5jYWxsYmFja3MuZHJvcExvZygiUHJvYmxlbSBwYXJzaW5nICciK24uZnVsbFBhdGgrIicuICBGaWxlRXJyb3IgY29kZSAiK3QuY29kZSsiLiIsImVycm9yIik7ci5mYWlsdXJlKCl9KTpuLmlzRGlyZWN0b3J5JiZvKG4pLnRoZW4oZnVuY3Rpb24obil7dmFyIGk9bi5sZW5ndGg7dC5lYWNoKG4sZnVuY3Rpb24obix0KXtmKHQpLmRvbmUoZnVuY3Rpb24oKXtpLT0xOzA9PT1pJiZyLnN1Y2Nlc3MoKX0pfSk7bi5sZW5ndGh8fHIuc3VjY2VzcygpfSxmdW5jdGlvbih0KXtpLmNhbGxiYWNrcy5kcm9wTG9nKCJQcm9ibGVtIHBhcnNpbmcgJyIrbi5mdWxsUGF0aCsiJy4gIEZpbGVFcnJvciBjb2RlICIrdC5jb2RlKyIuIiwiZXJyb3IiKTtyLmZhaWx1cmUoKX0pLHJ9ZnVuY3Rpb24gZShuKXt2YXIgaT1uLm5hbWUsdD1uLmZ1bGxQYXRoLHI9dC5sYXN0SW5kZXhPZihpKTtyZXR1cm4gdD10LnN1YnN0cigwLHIpLCIvIj09PXQuY2hhckF0KDApJiYodD10LnN1YnN0cigxKSksdH1mdW5jdGlvbiBvKG4saSxyLHUpe3ZhciBmPXV8fG5ldyB0LlByb21pc2UsZT1pfHxuLmNyZWF0ZVJlYWRlcigpO3JldHVybiBlLnJlYWRFbnRyaWVzKGZ1bmN0aW9uKHQpe3ZhciBpPXI/ci5jb25jYXQodCk6dDt0Lmxlbmd0aD9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7byhuLGUsaSxmKX0sMCk6Zi5zdWNjZXNzKGkpfSxmLmZhaWx1cmUpLGZ9ZnVuY3Rpb24gYShuLHIpe3ZhciBlPVtdLG89bmV3IHQuUHJvbWlzZTtyZXR1cm4gaS5jYWxsYmFja3MucHJvY2Vzc2luZ0Ryb3BwZWRGaWxlcygpLHIuZHJvcERpc2FibGVkKCEwKSxuLmZpbGVzLmxlbmd0aD4xJiYhaS5hbGxvd011bHRpcGxlSXRlbXM/KGkuY2FsbGJhY2tzLnByb2Nlc3NpbmdEcm9wcGVkRmlsZXNDb21wbGV0ZShbXSksaS5jYWxsYmFja3MuZHJvcEVycm9yKCJ0b29NYW55RmlsZXNFcnJvciIsIiIpLHIuZHJvcERpc2FibGVkKCExKSxvLmZhaWx1cmUoKSk6KHU9W10sdC5pc0ZvbGRlckRyb3BTdXBwb3J0ZWQobik/dC5lYWNoKG4uaXRlbXMsZnVuY3Rpb24obix0KXt2YXIgaT10LndlYmtpdEdldEFzRW50cnkoKTtpJiYoaS5pc0ZpbGU/dS5wdXNoKHQuZ2V0QXNGaWxlKCkpOmUucHVzaChmKGkpLmRvbmUoZnVuY3Rpb24oKXtlLnBvcCgpOzA9PT1lLmxlbmd0aCYmby5zdWNjZXNzKCl9KSkpfSk6dT1uLmZpbGVzLDA9PT1lLmxlbmd0aCYmby5zdWNjZXNzKCkpLG99ZnVuY3Rpb24gcyhuKXt2YXIgZj1uZXcgdC5VcGxvYWREcm9wWm9uZSh7SElERV9aT05FU19FVkVOVF9OQU1FOiJxcS1oaWRlem9uZXMiLGVsZW1lbnQ6bixvbkVudGVyOmZ1bmN0aW9uKHIpe3QobikuYWRkQ2xhc3MoaS5jbGFzc2VzLmRyb3BBY3RpdmUpO3Iuc3RvcFByb3BhZ2F0aW9uKCl9LG9uTGVhdmVOb3REZXNjZW5kYW50czpmdW5jdGlvbigpe3QobikucmVtb3ZlQ2xhc3MoaS5jbGFzc2VzLmRyb3BBY3RpdmUpfSxvbkRyb3A6ZnVuY3Rpb24obil7YShuLmRhdGFUcmFuc2ZlcixmKS50aGVuKGZ1bmN0aW9uKCl7bCh1LGYpfSxmdW5jdGlvbigpe2kuY2FsbGJhY2tzLmRyb3BMb2coIkRyb3AgZXZlbnQgRGF0YVRyYW5zZmVyIHBhcnNpbmcgZmFpbGVkLiAgTm8gZmlsZXMgd2lsbCBiZSB1cGxvYWRlZC4iLCJlcnJvciIpfSl9fSk7cmV0dXJuIHIuYWRkRGlzcG9zZXIoZnVuY3Rpb24oKXtmLmRpc3Bvc2UoKX0pLHQobikuaGFzQXR0cmlidXRlKCJxcS1oaWRlLWRyb3B6b25lIikmJnQobikuaGlkZSgpLGMucHVzaChmKSxmfWZ1bmN0aW9uIGgobil7dmFyIGk7cmV0dXJuIHQuZWFjaChuLmRhdGFUcmFuc2Zlci50eXBlcyxmdW5jdGlvbihuLHQpe2lmKCJGaWxlcyI9PT10KXJldHVybiBpPSEwLCExfSksaX1mdW5jdGlvbiB2KG4pe3JldHVybiB0LnNhZmFyaSgpP24ueDwwfHxuLnk8MDowPT09bi54JiYwPT09bi55fWZ1bmN0aW9uIHkoKXt2YXIgbj1pLmRyb3Bab25lRWxlbWVudHMsdT1mdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0LmVhY2gobixmdW5jdGlvbihuLHIpe3QocikuaGFzQXR0cmlidXRlKCJxcS1oaWRlLWRyb3B6b25lIikmJnQocikuaGlkZSgpO3QocikucmVtb3ZlQ2xhc3MoaS5jbGFzc2VzLmRyb3BBY3RpdmUpfSl9LDEwKX07dC5lYWNoKG4sZnVuY3Rpb24oaSx1KXt2YXIgZj1zKHUpO24ubGVuZ3RoJiZ0LnN1cHBvcnRlZEZlYXR1cmVzLmZpbGVEcm9wJiZyLmF0dGFjaChkb2N1bWVudCwiZHJhZ2VudGVyIixmdW5jdGlvbihpKXshZi5kcm9wRGlzYWJsZWQoKSYmaChpKSYmdC5lYWNoKG4sZnVuY3Rpb24obixpKXtpIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQmJnQoaSkuaGFzQXR0cmlidXRlKCJxcS1oaWRlLWRyb3B6b25lIikmJnQoaSkuY3NzKHtkaXNwbGF5OiJibG9jayJ9KX0pfSl9KTtyLmF0dGFjaChkb2N1bWVudCwiZHJhZ2xlYXZlIixmdW5jdGlvbihuKXt2KG4pJiZ1KCl9KTtyLmF0dGFjaCh0KGRvY3VtZW50KS5jaGlsZHJlbigpWzBdLCJtb3VzZWVudGVyIixmdW5jdGlvbigpe3UoKX0pO3IuYXR0YWNoKGRvY3VtZW50LCJkcm9wIixmdW5jdGlvbihuKXtoKG4pJiYobi5wcmV2ZW50RGVmYXVsdCgpLHUoKSl9KTtyLmF0dGFjaChkb2N1bWVudCwicXEtaGlkZXpvbmVzIix1KX12YXIgaSxjPVtdLHU9W10scj1uZXcgdC5EaXNwb3NlU3VwcG9ydDtpPXtkcm9wWm9uZUVsZW1lbnRzOltdLGFsbG93TXVsdGlwbGVJdGVtczohMCxjbGFzc2VzOntkcm9wQWN0aXZlOm51bGx9LGNhbGxiYWNrczpuZXcgdC5EcmFnQW5kRHJvcC5jYWxsYmFja3N9O3QuZXh0ZW5kKGksbiwhMCk7eSgpO3QuZXh0ZW5kKHRoaXMse3NldHVwRXh0cmFEcm9wem9uZTpmdW5jdGlvbihuKXtpLmRyb3Bab25lRWxlbWVudHMucHVzaChuKTtzKG4pfSxyZW1vdmVEcm9wem9uZTpmdW5jdGlvbihuKXt2YXIgdCxyPWkuZHJvcFpvbmVFbGVtZW50cztmb3IodCBpbiByKWlmKHJbdF09PT1uKXJldHVybiByLnNwbGljZSh0LDEpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7ci5kaXNwb3NlKCk7dC5lYWNoKGMsZnVuY3Rpb24obix0KXt0LmRpc3Bvc2UoKX0pfX0pO3RoaXMuX3Rlc3Rpbmc9e307dGhpcy5fdGVzdGluZy5leHRyYWN0RGlyZWN0b3J5UGF0aD1lfTt0LkRyYWdBbmREcm9wLmNhbGxiYWNrcz1mdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtyZXR1cm57cHJvY2Vzc2luZ0Ryb3BwZWRGaWxlczpmdW5jdGlvbigpe30scHJvY2Vzc2luZ0Ryb3BwZWRGaWxlc0NvbXBsZXRlOmZ1bmN0aW9uKCl7fSxkcm9wRXJyb3I6ZnVuY3Rpb24obixpKXt0LmxvZygiRHJhZyAmIGRyb3AgZXJyb3IgY29kZSAnIituKyIgd2l0aCB0aGVzZSBzcGVjaWZpY3M6ICciK2krIiciLCJlcnJvciIpfSxkcm9wTG9nOmZ1bmN0aW9uKG4saSl7dC5sb2cobixpKX19fTt0LlVwbG9hZERyb3Bab25lPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBoKCl7cmV0dXJuIHQuc2FmYXJpKCl8fHQuZmlyZWZveCgpJiZ0LndpbmRvd3MoKX1mdW5jdGlvbiBjKCl7c3x8KGg/ci5hdHRhY2goZG9jdW1lbnQsImRyYWdvdmVyIixmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCl9KTpyLmF0dGFjaChkb2N1bWVudCwiZHJhZ292ZXIiLGZ1bmN0aW9uKG4pe24uZGF0YVRyYW5zZmVyJiYobi5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD0ibm9uZSIsbi5wcmV2ZW50RGVmYXVsdCgpKX0pLHM9ITApfWZ1bmN0aW9uIGYobil7aWYoIXQuc3VwcG9ydGVkRmVhdHVyZXMuZmlsZURyb3ApcmV0dXJuITE7dmFyIHIsaT1uLmRhdGFUcmFuc2Zlcix1PXQuc2FmYXJpKCk7cmV0dXJuIHI9ISghdC5pZSgpfHwhdC5zdXBwb3J0ZWRGZWF0dXJlcy5maWxlRHJvcCl8fCJub25lIiE9PWkuZWZmZWN0QWxsb3dlZCxpJiZyJiYoaS5maWxlcyYmaS5maWxlcy5sZW5ndGh8fCF1JiZpLnR5cGVzLmNvbnRhaW5zJiZpLnR5cGVzLmNvbnRhaW5zKCJGaWxlcyIpfHxpLnR5cGVzLmluY2x1ZGVzJiZpLnR5cGVzLmluY2x1ZGVzKCJGaWxlcyIpKX1mdW5jdGlvbiBlKG4pe3JldHVybiB2b2lkIDAhPT1uJiYobz1uKSxvfWZ1bmN0aW9uIGwoKXtmdW5jdGlvbiB0KCl7bj1kb2N1bWVudC5jcmVhdGVFdmVudCgiRXZlbnQiKTtuLmluaXRFdmVudChpLkhJREVfWk9ORVNfRVZFTlRfTkFNRSwhMCwhMCl9dmFyIG47aWYod2luZG93LkN1c3RvbUV2ZW50KXRyeXtuPW5ldyBDdXN0b21FdmVudChpLkhJREVfWk9ORVNfRVZFTlRfTkFNRSl9Y2F0Y2gobil7dCgpfWVsc2UgdCgpO2RvY3VtZW50LmRpc3BhdGNoRXZlbnQobil9ZnVuY3Rpb24gYSgpe3IuYXR0YWNoKHUsImRyYWdvdmVyIixmdW5jdGlvbihuKXtpZihmKG4pKXt2YXIgaT10LmllKCkmJnQuc3VwcG9ydGVkRmVhdHVyZXMuZmlsZURyb3A/bnVsbDpuLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkO24uZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9Im1vdmUiPT09aXx8ImxpbmtNb3ZlIj09PWk/Im1vdmUiOiJjb3B5IjtuLnN0b3BQcm9wYWdhdGlvbigpO24ucHJldmVudERlZmF1bHQoKX19KTtyLmF0dGFjaCh1LCJkcmFnZW50ZXIiLGZ1bmN0aW9uKG4pe2lmKCFlKCkpe2lmKCFmKG4pKXJldHVybjtpLm9uRW50ZXIobil9fSk7ci5hdHRhY2godSwiZHJhZ2xlYXZlIixmdW5jdGlvbihuKXtpZihmKG4pKXtpLm9uTGVhdmUobik7dmFyIHI9ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChuLmNsaWVudFgsbi5jbGllbnRZKTt0KHRoaXMpLmNvbnRhaW5zKHIpfHxpLm9uTGVhdmVOb3REZXNjZW5kYW50cyhuKX19KTtyLmF0dGFjaCh1LCJkcm9wIixmdW5jdGlvbihuKXtpZighZSgpKXtpZighZihuKSlyZXR1cm47bi5wcmV2ZW50RGVmYXVsdCgpO24uc3RvcFByb3BhZ2F0aW9uKCk7aS5vbkRyb3Aobik7bCgpfX0pfXZhciBpLHUsbyxzLHI9bmV3IHQuRGlzcG9zZVN1cHBvcnQ7aT17ZWxlbWVudDpudWxsLG9uRW50ZXI6ZnVuY3Rpb24oKXt9LG9uTGVhdmU6ZnVuY3Rpb24oKXt9LG9uTGVhdmVOb3REZXNjZW5kYW50czpmdW5jdGlvbigpe30sb25Ecm9wOmZ1bmN0aW9uKCl7fX07dC5leHRlbmQoaSxuKTt1PWkuZWxlbWVudDtjKCk7YSgpO3QuZXh0ZW5kKHRoaXMse2Ryb3BEaXNhYmxlZDpmdW5jdGlvbihuKXtyZXR1cm4gZShuKX0sZGlzcG9zZTpmdW5jdGlvbigpe3IuZGlzcG9zZSgpfSxnZXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHV9fSk7dGhpcy5fdGVzdGluZz17fTt0aGlzLl90ZXN0aW5nLmlzVmFsaWRGaWxlRHJhZz1mfSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt0LnVpUHVibGljQXBpPXthZGRJbml0aWFsRmlsZXM6ZnVuY3Rpb24oKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLmFkZEluaXRpYWxGaWxlcy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdGVtcGxhdGluZy5hZGRDYWNoZVRvRG9tKCl9LGNsZWFyU3RvcmVkRmlsZXM6ZnVuY3Rpb24oKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLmNsZWFyU3RvcmVkRmlsZXMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RlbXBsYXRpbmcuY2xlYXJGaWxlcygpfSxhZGRFeHRyYURyb3B6b25lOmZ1bmN0aW9uKG4pe3RoaXMuX2RuZCYmdGhpcy5fZG5kLnNldHVwRXh0cmFEcm9wem9uZShuKX0scmVtb3ZlRXh0cmFEcm9wem9uZTpmdW5jdGlvbihuKXtpZih0aGlzLl9kbmQpcmV0dXJuIHRoaXMuX2RuZC5yZW1vdmVEcm9wem9uZShuKX0sZ2V0SXRlbUJ5RmlsZUlkOmZ1bmN0aW9uKG4pe2lmKCF0aGlzLl90ZW1wbGF0aW5nLmlzSGlkZGVuRm9yZXZlcihuKSlyZXR1cm4gdGhpcy5fdGVtcGxhdGluZy5nZXRGaWxlQ29udGFpbmVyKG4pfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuX3BhcmVudC5wcm90b3R5cGUucmVzZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RlbXBsYXRpbmcucmVzZXQoKTshdGhpcy5fb3B0aW9ucy5idXR0b24mJnRoaXMuX3RlbXBsYXRpbmcuZ2V0QnV0dG9uKCkmJih0aGlzLl9kZWZhdWx0QnV0dG9uSWQ9dGhpcy5fY3JlYXRlVXBsb2FkQnV0dG9uKHtlbGVtZW50OnRoaXMuX3RlbXBsYXRpbmcuZ2V0QnV0dG9uKCksdGl0bGU6dGhpcy5fb3B0aW9ucy50ZXh0LmZpbGVJbnB1dFRpdGxlfSkuZ2V0QnV0dG9uSWQoKSk7dGhpcy5fZG5kJiYodGhpcy5fZG5kLmRpc3Bvc2UoKSx0aGlzLl9kbmQ9dGhpcy5fc2V0dXBEcmFnQW5kRHJvcCgpKTt0aGlzLl90b3RhbEZpbGVzSW5CYXRjaD0wO3RoaXMuX2ZpbGVzSW5CYXRjaEFkZGVkVG9VaT0wO3RoaXMuX3NldHVwQ2xpY2tBbmRFZGl0RXZlbnRIYW5kbGVycygpfSxzZXROYW1lOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5fb3B0aW9ucy5mb3JtYXRGaWxlTmFtZSh0KTt0aGlzLl9wYXJlbnQucHJvdG90eXBlLnNldE5hbWUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RlbXBsYXRpbmcudXBkYXRlRmlsZW5hbWUobixpKX0scGF1c2VVcGxvYWQ6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fcGFyZW50LnByb3RvdHlwZS5wYXVzZVVwbG9hZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHQmJnRoaXMuX3RlbXBsYXRpbmcudXBsb2FkUGF1c2VkKG4pLHR9LGNvbnRpbnVlVXBsb2FkOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX3BhcmVudC5wcm90b3R5cGUuY29udGludWVVcGxvYWQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0JiZ0aGlzLl90ZW1wbGF0aW5nLnVwbG9hZENvbnRpbnVlZChuKSx0fSxnZXRJZDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fdGVtcGxhdGluZy5nZXRGaWxlSWQobil9LGdldERyb3BUYXJnZXQ6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZ2V0RmlsZShuKS5xcURyb3BUYXJnZXR9fTt0LnVpUHJpdmF0ZUFwaT17X2dldEJ1dHRvbjpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9wYXJlbnQucHJvdG90eXBlLl9nZXRCdXR0b24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0fHxuPT09dGhpcy5fZGVmYXVsdEJ1dHRvbklkJiYodD10aGlzLl90ZW1wbGF0aW5nLmdldEJ1dHRvbigpKSx0fSxfcmVtb3ZlRmlsZUl0ZW06ZnVuY3Rpb24obil7dGhpcy5fdGVtcGxhdGluZy5yZW1vdmVGaWxlKG4pfSxfc2V0dXBDbGlja0FuZEVkaXRFdmVudEhhbmRsZXJzOmZ1bmN0aW9uKCl7dGhpcy5fZmlsZUJ1dHRvbnNDbGlja0hhbmRsZXI9dC5GaWxlQnV0dG9uc0NsaWNrSGFuZGxlciYmdGhpcy5fYmluZEZpbGVCdXR0b25zQ2xpY2tFdmVudCgpO3RoaXMuX2ZvY3VzaW5FdmVudFN1cHBvcnRlZD0hdC5maXJlZm94KCk7dGhpcy5faXNFZGl0RmlsZW5hbWVFbmFibGVkKCkmJih0aGlzLl9maWxlbmFtZUNsaWNrSGFuZGxlcj10aGlzLl9iaW5kRmlsZW5hbWVDbGlja0V2ZW50KCksdGhpcy5fZmlsZW5hbWVJbnB1dEZvY3VzSW5IYW5kbGVyPXRoaXMuX2JpbmRGaWxlbmFtZUlucHV0Rm9jdXNJbkV2ZW50KCksdGhpcy5fZmlsZW5hbWVJbnB1dEZvY3VzSGFuZGxlcj10aGlzLl9iaW5kRmlsZW5hbWVJbnB1dEZvY3VzRXZlbnQoKSl9LF9zZXR1cERyYWdBbmREcm9wOmZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPXRoaXMuX29wdGlvbnMuZHJhZ0FuZERyb3AuZXh0cmFEcm9wem9uZXMsaT10aGlzLl90ZW1wbGF0aW5nLHU9aS5nZXREcm9wWm9uZSgpO3JldHVybiB1JiZyLnB1c2godSksbmV3IHQuRHJhZ0FuZERyb3Aoe2Ryb3Bab25lRWxlbWVudHM6cixhbGxvd011bHRpcGxlSXRlbXM6dGhpcy5fb3B0aW9ucy5tdWx0aXBsZSxjbGFzc2VzOntkcm9wQWN0aXZlOnRoaXMuX29wdGlvbnMuY2xhc3Nlcy5kcm9wQWN0aXZlfSxjYWxsYmFja3M6e3Byb2Nlc3NpbmdEcm9wcGVkRmlsZXM6ZnVuY3Rpb24oKXtpLnNob3dEcm9wUHJvY2Vzc2luZygpfSxwcm9jZXNzaW5nRHJvcHBlZEZpbGVzQ29tcGxldGU6ZnVuY3Rpb24ocix1KXtpLmhpZGVEcm9wUHJvY2Vzc2luZygpO3QuZWFjaChyLGZ1bmN0aW9uKG4sdCl7dC5xcURyb3BUYXJnZXQ9dX0pO3IubGVuZ3RoJiZuLmFkZEZpbGVzKHIsbnVsbCxudWxsKX0sZHJvcEVycm9yOmZ1bmN0aW9uKHQsaSl7bi5faXRlbUVycm9yKHQsaSl9LGRyb3BMb2c6ZnVuY3Rpb24odCxpKXtuLmxvZyh0LGkpfX19KX0sX2JpbmRGaWxlQnV0dG9uc0NsaWNrRXZlbnQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3JldHVybiBuZXcgdC5GaWxlQnV0dG9uc0NsaWNrSGFuZGxlcih7dGVtcGxhdGluZzp0aGlzLl90ZW1wbGF0aW5nLGxvZzpmdW5jdGlvbih0LGkpe24ubG9nKHQsaSl9LG9uRGVsZXRlRmlsZTpmdW5jdGlvbih0KXtuLmRlbGV0ZUZpbGUodCl9LG9uQ2FuY2VsOmZ1bmN0aW9uKHQpe24uY2FuY2VsKHQpfSxvblJldHJ5OmZ1bmN0aW9uKHQpe24ucmV0cnkodCl9LG9uUGF1c2U6ZnVuY3Rpb24odCl7bi5wYXVzZVVwbG9hZCh0KX0sb25Db250aW51ZTpmdW5jdGlvbih0KXtuLmNvbnRpbnVlVXBsb2FkKHQpfSxvbkdldE5hbWU6ZnVuY3Rpb24odCl7cmV0dXJuIG4uZ2V0TmFtZSh0KX19KX0sX2lzRWRpdEZpbGVuYW1lRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZW1wbGF0aW5nLmlzRWRpdEZpbGVuYW1lUG9zc2libGUoKSYmIXRoaXMuX29wdGlvbnMuYXV0b1VwbG9hZCYmdC5GaWxlbmFtZUNsaWNrSGFuZGxlciYmdC5GaWxlbmFtZUlucHV0Rm9jdXNIYW5kbGVyJiZ0LkZpbGVuYW1lSW5wdXRGb2N1c0hhbmRsZXJ9LF9maWxlbmFtZUVkaXRIYW5kbGVyOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxuPXRoaXMuX3RlbXBsYXRpbmc7cmV0dXJue3RlbXBsYXRpbmc6bixsb2c6ZnVuY3Rpb24obix0KXtpLmxvZyhuLHQpfSxvbkdldFVwbG9hZFN0YXR1czpmdW5jdGlvbihuKXtyZXR1cm4gaS5nZXRVcGxvYWRzKHtpZDpufSkuc3RhdHVzfSxvbkdldE5hbWU6ZnVuY3Rpb24obil7cmV0dXJuIGkuZ2V0TmFtZShuKX0sb25TZXROYW1lOmZ1bmN0aW9uKG4sdCl7aS5zZXROYW1lKG4sdCl9LG9uRWRpdGluZ1N0YXR1c0NoYW5nZTpmdW5jdGlvbihpLHIpe3ZhciB1PXQobi5nZXRFZGl0SW5wdXQoaSkpLGY9dChuLmdldEZpbGVDb250YWluZXIoaSkpO3I/KHUuYWRkQ2xhc3MoInFxLWVkaXRpbmciKSxuLmhpZGVGaWxlbmFtZShpKSxuLmhpZGVFZGl0SWNvbihpKSk6KHUucmVtb3ZlQ2xhc3MoInFxLWVkaXRpbmciKSxuLnNob3dGaWxlbmFtZShpKSxuLnNob3dFZGl0SWNvbihpKSk7Zi5hZGRDbGFzcygicXEtdGVtcCIpLnJlbW92ZUNsYXNzKCJxcS10ZW1wIil9fX0sX29uVXBsb2FkU3RhdHVzQ2hhbmdlOmZ1bmN0aW9uKG4saSxyKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vblVwbG9hZFN0YXR1c0NoYW5nZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5faXNFZGl0RmlsZW5hbWVFbmFibGVkKCkmJnRoaXMuX3RlbXBsYXRpbmcuZ2V0RmlsZUNvbnRhaW5lcihuKSYmciE9PXQuc3RhdHVzLlNVQk1JVFRFRCYmKHRoaXMuX3RlbXBsYXRpbmcubWFya0ZpbGVuYW1lRWRpdGFibGUobiksdGhpcy5fdGVtcGxhdGluZy5oaWRlRWRpdEljb24obikpO2k9PT10LnN0YXR1cy5VUExPQURfUkVUUllJTkcmJnI9PT10LnN0YXR1cy5VUExPQURJTkc/KHRoaXMuX3RlbXBsYXRpbmcuaGlkZVJldHJ5KG4pLHRoaXMuX3RlbXBsYXRpbmcuc2V0U3RhdHVzVGV4dChuKSx0KHRoaXMuX3RlbXBsYXRpbmcuZ2V0RmlsZUNvbnRhaW5lcihuKSkucmVtb3ZlQ2xhc3ModGhpcy5fY2xhc3Nlcy5yZXRyeWluZykpOnI9PT10LnN0YXR1cy5VUExPQURfRkFJTEVEJiZ0aGlzLl90ZW1wbGF0aW5nLmhpZGVQYXVzZShuKX0sX2JpbmRGaWxlbmFtZUlucHV0Rm9jdXNJbkV2ZW50OmZ1bmN0aW9uKCl7dmFyIG49dC5leHRlbmQoe30sdGhpcy5fZmlsZW5hbWVFZGl0SGFuZGxlcigpKTtyZXR1cm4gbmV3IHQuRmlsZW5hbWVJbnB1dEZvY3VzSW5IYW5kbGVyKG4pfSxfYmluZEZpbGVuYW1lSW5wdXRGb2N1c0V2ZW50OmZ1bmN0aW9uKCl7dmFyIG49dC5leHRlbmQoe30sdGhpcy5fZmlsZW5hbWVFZGl0SGFuZGxlcigpKTtyZXR1cm4gbmV3IHQuRmlsZW5hbWVJbnB1dEZvY3VzSGFuZGxlcihuKX0sX2JpbmRGaWxlbmFtZUNsaWNrRXZlbnQ6ZnVuY3Rpb24oKXt2YXIgbj10LmV4dGVuZCh7fSx0aGlzLl9maWxlbmFtZUVkaXRIYW5kbGVyKCkpO3JldHVybiBuZXcgdC5GaWxlbmFtZUNsaWNrSGFuZGxlcihuKX0sX3N0b3JlRm9yTGF0ZXI6ZnVuY3Rpb24obil7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fc3RvcmVGb3JMYXRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdGVtcGxhdGluZy5oaWRlU3Bpbm5lcihuKX0sX29uQWxsQ29tcGxldGU6ZnVuY3Rpb24oKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vbkFsbENvbXBsZXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90ZW1wbGF0aW5nLnJlc2V0VG90YWxQcm9ncmVzcygpfSxfb25TdWJtaXQ6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLmdldEZpbGUobik7aSYmaS5xcVBhdGgmJnRoaXMuX29wdGlvbnMuZHJhZ0FuZERyb3AucmVwb3J0RGlyZWN0b3J5UGF0aHMmJnRoaXMuX3BhcmFtc1N0b3JlLmFkZFJlYWRPbmx5KG4se3FxcGF0aDppLnFxUGF0aH0pO3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uU3VibWl0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9hZGRUb0xpc3Qobix0KX0sX29uU3VibWl0dGVkOmZ1bmN0aW9uKG4pe3RoaXMuX2lzRWRpdEZpbGVuYW1lRW5hYmxlZCgpJiYodGhpcy5fdGVtcGxhdGluZy5tYXJrRmlsZW5hbWVFZGl0YWJsZShuKSx0aGlzLl90ZW1wbGF0aW5nLnNob3dFZGl0SWNvbihuKSx0aGlzLl9mb2N1c2luRXZlbnRTdXBwb3J0ZWR8fHRoaXMuX2ZpbGVuYW1lSW5wdXRGb2N1c0hhbmRsZXIuYWRkSGFuZGxlcih0aGlzLl90ZW1wbGF0aW5nLmdldEVkaXRJbnB1dChuKSkpfSxfb25Qcm9ncmVzczpmdW5jdGlvbihuLHQsaSxyKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vblByb2dyZXNzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90ZW1wbGF0aW5nLnVwZGF0ZVByb2dyZXNzKG4saSxyKTswPT09cnx8MTAwPT09TWF0aC5yb3VuZChpL3IqMTAwKT8odGhpcy5fdGVtcGxhdGluZy5oaWRlQ2FuY2VsKG4pLHRoaXMuX3RlbXBsYXRpbmcuaGlkZVBhdXNlKG4pLHRoaXMuX3RlbXBsYXRpbmcuaGlkZVByb2dyZXNzKG4pLHRoaXMuX3RlbXBsYXRpbmcuc2V0U3RhdHVzVGV4dChuLHRoaXMuX29wdGlvbnMudGV4dC53YWl0aW5nRm9yUmVzcG9uc2UpLHRoaXMuX2Rpc3BsYXlGaWxlU2l6ZShuKSk6dGhpcy5fZGlzcGxheUZpbGVTaXplKG4saSxyKX0sX29uVG90YWxQcm9ncmVzczpmdW5jdGlvbihuLHQpe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uVG90YWxQcm9ncmVzcy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdGVtcGxhdGluZy51cGRhdGVUb3RhbFByb2dyZXNzKG4sdCl9LF9vbkNvbXBsZXRlOmZ1bmN0aW9uKG4saSxyKXtmdW5jdGlvbiBzKGkpe2UmJih1LnNldFN0YXR1c1RleHQobiksdChlKS5yZW1vdmVDbGFzcyhmLl9jbGFzc2VzLnJldHJ5aW5nKSx1LmhpZGVQcm9ncmVzcyhuKSxmLmdldFVwbG9hZHMoe2lkOm59KS5zdGF0dXMhPT10LnN0YXR1cy5VUExPQURfRkFJTEVEJiZ1LmhpZGVDYW5jZWwobiksdS5oaWRlU3Bpbm5lcihuKSxpLnN1Y2Nlc3M/Zi5fbWFya0ZpbGVBc1N1Y2Nlc3NmdWwobik6KHQoZSkuYWRkQ2xhc3MoZi5fY2xhc3Nlcy5mYWlsKSx1LnNob3dDYW5jZWwobiksdS5pc1JldHJ5UG9zc2libGUoKSYmIWYuX3ByZXZlbnRSZXRyaWVzW25dJiYodChlKS5hZGRDbGFzcyhmLl9jbGFzc2VzLnJldHJ5YWJsZSksdS5zaG93UmV0cnkobikpLGYuX2NvbnRyb2xGYWlsdXJlVGV4dERpc3BsYXkobixpKSkpfXZhciBvPXRoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uQ29tcGxldGUuYXBwbHkodGhpcyxhcmd1bWVudHMpLHU9dGhpcy5fdGVtcGxhdGluZyxlPXUuZ2V0RmlsZUNvbnRhaW5lcihuKSxmPXRoaXM7cmV0dXJuIG8gaW5zdGFuY2VvZiB0LlByb21pc2U/by5kb25lKGZ1bmN0aW9uKG4pe3Mobil9KTpzKHIpLG99LF9tYXJrRmlsZUFzU3VjY2Vzc2Z1bDpmdW5jdGlvbihuKXt2YXIgaT10aGlzLl90ZW1wbGF0aW5nO3RoaXMuX2lzRGVsZXRlUG9zc2libGUoKSYmaS5zaG93RGVsZXRlQnV0dG9uKG4pO3QoaS5nZXRGaWxlQ29udGFpbmVyKG4pKS5hZGRDbGFzcyh0aGlzLl9jbGFzc2VzLnN1Y2Nlc3MpO3RoaXMuX21heWJlVXBkYXRlVGh1bWJuYWlsKG4pfSxfb25VcGxvYWRQcmVwOmZ1bmN0aW9uKG4pe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uVXBsb2FkUHJlcC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdGVtcGxhdGluZy5zaG93U3Bpbm5lcihuKX0sX29uVXBsb2FkOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uVXBsb2FkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5fdGVtcGxhdGluZy5zaG93U3Bpbm5lcihuKSx0fSxfb25VcGxvYWRDaHVuazpmdW5jdGlvbihuLHQpe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uVXBsb2FkQ2h1bmsuYXBwbHkodGhpcyxhcmd1bWVudHMpO3QucGFydEluZGV4PjAmJnRoaXMuX2hhbmRsZXIuaXNSZXN1bWFibGUobikmJnRoaXMuX3RlbXBsYXRpbmcuYWxsb3dQYXVzZShuKX0sX29uQ2FuY2VsOmZ1bmN0aW9uKG4pe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uQ2FuY2VsLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9yZW1vdmVGaWxlSXRlbShuKTswPT09dGhpcy5fZ2V0Tm90RmluaXNoZWQoKSYmdGhpcy5fdGVtcGxhdGluZy5yZXNldFRvdGFsUHJvZ3Jlc3MoKX0sX29uQmVmb3JlQXV0b1JldHJ5OmZ1bmN0aW9uKG4pe3ZhciByLHUsaTt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vbkJlZm9yZUF1dG9SZXRyeS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fc2hvd0NhbmNlbExpbmsobik7dGhpcy5fb3B0aW9ucy5yZXRyeS5zaG93QXV0b1JldHJ5Tm90ZSYmKHI9dGhpcy5fYXV0b1JldHJpZXNbbl0sdT10aGlzLl9vcHRpb25zLnJldHJ5Lm1heEF1dG9BdHRlbXB0cyxpPXRoaXMuX29wdGlvbnMucmV0cnkuYXV0b1JldHJ5Tm90ZS5yZXBsYWNlKC9ce3JldHJ5TnVtXH0vZyxyKSxpPWkucmVwbGFjZSgvXHttYXhBdXRvXH0vZyx1KSx0aGlzLl90ZW1wbGF0aW5nLnNldFN0YXR1c1RleHQobixpKSx0KHRoaXMuX3RlbXBsYXRpbmcuZ2V0RmlsZUNvbnRhaW5lcihuKSkuYWRkQ2xhc3ModGhpcy5fY2xhc3Nlcy5yZXRyeWluZykpfSxfb25CZWZvcmVNYW51YWxSZXRyeTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25CZWZvcmVNYW51YWxSZXRyeS5hcHBseSh0aGlzLGFyZ3VtZW50cyk/KHRoaXMuX3RlbXBsYXRpbmcucmVzZXRQcm9ncmVzcyhuKSx0KHRoaXMuX3RlbXBsYXRpbmcuZ2V0RmlsZUNvbnRhaW5lcihuKSkucmVtb3ZlQ2xhc3ModGhpcy5fY2xhc3Nlcy5mYWlsKSx0aGlzLl90ZW1wbGF0aW5nLnNldFN0YXR1c1RleHQobiksdGhpcy5fdGVtcGxhdGluZy5zaG93U3Bpbm5lcihuKSx0aGlzLl9zaG93Q2FuY2VsTGluayhuKSwhMCk6KHQodGhpcy5fdGVtcGxhdGluZy5nZXRGaWxlQ29udGFpbmVyKG4pKS5hZGRDbGFzcyh0aGlzLl9jbGFzc2VzLnJldHJ5YWJsZSksdGhpcy5fdGVtcGxhdGluZy5zaG93UmV0cnkobiksITEpfSxfb25TdWJtaXREZWxldGU6ZnVuY3Rpb24obil7dmFyIGk9dC5iaW5kKHRoaXMuX29uU3VibWl0RGVsZXRlU3VjY2Vzcyx0aGlzKTt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vblN1Ym1pdERlbGV0ZS5jYWxsKHRoaXMsbixpKX0sX29uU3VibWl0RGVsZXRlU3VjY2VzczpmdW5jdGlvbigpe3RoaXMuX29wdGlvbnMuZGVsZXRlRmlsZS5mb3JjZUNvbmZpcm0/dGhpcy5fc2hvd0RlbGV0ZUNvbmZpcm0uYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuX3NlbmREZWxldGVSZXF1ZXN0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX29uRGVsZXRlQ29tcGxldGU6ZnVuY3Rpb24obix0LGkpe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uRGVsZXRlQ29tcGxldGUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RlbXBsYXRpbmcuaGlkZVNwaW5uZXIobik7aT8odGhpcy5fdGVtcGxhdGluZy5zZXRTdGF0dXNUZXh0KG4sdGhpcy5fb3B0aW9ucy5kZWxldGVGaWxlLmRlbGV0aW5nRmFpbGVkVGV4dCksdGhpcy5fdGVtcGxhdGluZy5zaG93RGVsZXRlQnV0dG9uKG4pKTp0aGlzLl9yZW1vdmVGaWxlSXRlbShuKX0sX3NlbmREZWxldGVSZXF1ZXN0OmZ1bmN0aW9uKG4pe3RoaXMuX3RlbXBsYXRpbmcuaGlkZURlbGV0ZUJ1dHRvbihuKTt0aGlzLl90ZW1wbGF0aW5nLnNob3dTcGlubmVyKG4pO3RoaXMuX3RlbXBsYXRpbmcuc2V0U3RhdHVzVGV4dChuLHRoaXMuX29wdGlvbnMuZGVsZXRlRmlsZS5kZWxldGluZ1N0YXR1c1RleHQpO3RoaXMuX2RlbGV0ZUhhbmRsZXIuc2VuZERlbGV0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LF9zaG93RGVsZXRlQ29uZmlybTpmdW5jdGlvbihuKXt2YXIgaSxmPXRoaXMuZ2V0TmFtZShuKSxlPXRoaXMuX29wdGlvbnMuZGVsZXRlRmlsZS5jb25maXJtTWVzc2FnZS5yZXBsYWNlKC9ce2ZpbGVuYW1lXH0vZyxmKSx1PSh0aGlzLmdldFV1aWQobiksYXJndW1lbnRzKSxyPXRoaXM7aT10aGlzLl9vcHRpb25zLnNob3dDb25maXJtKGUpO3QuaXNHZW5lcmljUHJvbWlzZShpKT9pLnRoZW4oZnVuY3Rpb24oKXtyLl9zZW5kRGVsZXRlUmVxdWVzdC5hcHBseShyLHUpfSk6aSE9PSExJiZyLl9zZW5kRGVsZXRlUmVxdWVzdC5hcHBseShyLHUpfSxfYWRkVG9MaXN0OmZ1bmN0aW9uKG4saSxyKXt2YXIgZix1LGU9MCxvPXRoaXMuX2hhbmRsZXIuaXNQcm94aWVkKG4pJiZ0aGlzLl9vcHRpb25zLnNjYWxpbmcuaGlkZVNjYWxlZDt0aGlzLl9vcHRpb25zLmRpc3BsYXkucHJlcGVuZEZpbGVzJiYodGhpcy5fdG90YWxGaWxlc0luQmF0Y2g+MSYmdGhpcy5fZmlsZXNJbkJhdGNoQWRkZWRUb1VpPjAmJihlPXRoaXMuX2ZpbGVzSW5CYXRjaEFkZGVkVG9VaS0xKSxmPXtpbmRleDplfSk7cnx8KHRoaXMuX29wdGlvbnMuZGlzYWJsZUNhbmNlbEZvckZvcm1VcGxvYWRzJiYhdC5zdXBwb3J0ZWRGZWF0dXJlcy5hamF4VXBsb2FkaW5nJiZ0aGlzLl90ZW1wbGF0aW5nLmRpc2FibGVDYW5jZWwoKSx0aGlzLl9vcHRpb25zLm11bHRpcGxlfHwodT10aGlzLmdldFVwbG9hZHMoe2lkOm59KSx0aGlzLl9oYW5kbGVkUHJveHlHcm91cD10aGlzLl9oYW5kbGVkUHJveHlHcm91cHx8dS5wcm94eUdyb3VwSWQsdS5wcm94eUdyb3VwSWQ9PT10aGlzLl9oYW5kbGVkUHJveHlHcm91cCYmdS5wcm94eUdyb3VwSWR8fCh0aGlzLl9oYW5kbGVyLmNhbmNlbEFsbCgpLHRoaXMuX2NsZWFyTGlzdCgpLHRoaXMuX2hhbmRsZWRQcm94eUdyb3VwPW51bGwpKSk7cj8odGhpcy5fdGVtcGxhdGluZy5hZGRGaWxlVG9DYWNoZShuLHRoaXMuX29wdGlvbnMuZm9ybWF0RmlsZU5hbWUoaSksZixvKSx0aGlzLl90ZW1wbGF0aW5nLnVwZGF0ZVRodW1ibmFpbChuLHRoaXMuX3RodW1ibmFpbFVybHNbbl0sITAsdGhpcy5fb3B0aW9ucy50aHVtYm5haWxzLmN1c3RvbVJlc2l6ZXIpKToodGhpcy5fdGVtcGxhdGluZy5hZGRGaWxlKG4sdGhpcy5fb3B0aW9ucy5mb3JtYXRGaWxlTmFtZShpKSxmLG8pLHRoaXMuX3RlbXBsYXRpbmcuZ2VuZXJhdGVQcmV2aWV3KG4sdGhpcy5nZXRGaWxlKG4pLHRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5jdXN0b21SZXNpemVyKSk7dGhpcy5fZmlsZXNJbkJhdGNoQWRkZWRUb1VpKz0xOyhyfHx0aGlzLl9vcHRpb25zLmRpc3BsYXkuZmlsZVNpemVPblN1Ym1pdCYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5hamF4VXBsb2FkaW5nKSYmdGhpcy5fZGlzcGxheUZpbGVTaXplKG4pfSxfY2xlYXJMaXN0OmZ1bmN0aW9uKCl7dGhpcy5fdGVtcGxhdGluZy5jbGVhckZpbGVzKCk7dGhpcy5jbGVhclN0b3JlZEZpbGVzKCl9LF9kaXNwbGF5RmlsZVNpemU6ZnVuY3Rpb24obix0LGkpe3ZhciByPXRoaXMuZ2V0U2l6ZShuKSx1PXRoaXMuX2Zvcm1hdFNpemUocik7cj49MCYmKHZvaWQgMCE9PXQmJnZvaWQgMCE9PWkmJih1PXRoaXMuX2Zvcm1hdFByb2dyZXNzKHQsaSkpLHRoaXMuX3RlbXBsYXRpbmcudXBkYXRlU2l6ZShuLHUpKX0sX2Zvcm1hdFByb2dyZXNzOmZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gcihuLHQpe2k9aS5yZXBsYWNlKG4sdCl9dmFyIGk9dGhpcy5fb3B0aW9ucy50ZXh0LmZvcm1hdFByb2dyZXNzO3JldHVybiByKCJ7cGVyY2VudH0iLE1hdGgucm91bmQobi90KjEwMCkpLHIoInt0b3RhbF9zaXplfSIsdGhpcy5fZm9ybWF0U2l6ZSh0KSksaX0sX2NvbnRyb2xGYWlsdXJlVGV4dERpc3BsYXk6ZnVuY3Rpb24obix0KXt2YXIgaSx1LHI7aT10aGlzLl9vcHRpb25zLmZhaWxlZFVwbG9hZFRleHREaXNwbGF5Lm1vZGU7dT10aGlzLl9vcHRpb25zLmZhaWxlZFVwbG9hZFRleHREaXNwbGF5LnJlc3BvbnNlUHJvcGVydHk7ImN1c3RvbSI9PT1pPyhyPXRbdV0scnx8KHI9dGhpcy5fb3B0aW9ucy50ZXh0LmZhaWxVcGxvYWQpLHRoaXMuX3RlbXBsYXRpbmcuc2V0U3RhdHVzVGV4dChuLHIpLHRoaXMuX29wdGlvbnMuZmFpbGVkVXBsb2FkVGV4dERpc3BsYXkuZW5hYmxlVG9vbHRpcCYmdGhpcy5fc2hvd1Rvb2x0aXAobixyKSk6ImRlZmF1bHQiPT09aT90aGlzLl90ZW1wbGF0aW5nLnNldFN0YXR1c1RleHQobix0aGlzLl9vcHRpb25zLnRleHQuZmFpbFVwbG9hZCk6Im5vbmUiIT09aSYmdGhpcy5sb2coImZhaWxlZFVwbG9hZFRleHREaXNwbGF5Lm1vZGUgdmFsdWUgb2YgJyIraSsiJyBpcyBub3QgdmFsaWQiLCJ3YXJuIil9LF9zaG93VG9vbHRpcDpmdW5jdGlvbihuLHQpe3RoaXMuX3RlbXBsYXRpbmcuZ2V0RmlsZUNvbnRhaW5lcihuKS50aXRsZT10fSxfc2hvd0NhbmNlbExpbms6ZnVuY3Rpb24obil7dGhpcy5fb3B0aW9ucy5kaXNhYmxlQ2FuY2VsRm9yRm9ybVVwbG9hZHMmJiF0LnN1cHBvcnRlZEZlYXR1cmVzLmFqYXhVcGxvYWRpbmd8fHRoaXMuX3RlbXBsYXRpbmcuc2hvd0NhbmNlbChuKX0sX2l0ZW1FcnJvcjpmdW5jdGlvbigpe3ZhciBuPXRoaXMuX3BhcmVudC5wcm90b3R5cGUuX2l0ZW1FcnJvci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fb3B0aW9ucy5zaG93TWVzc2FnZShuKX0sX2JhdGNoRXJyb3I6ZnVuY3Rpb24obil7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fYmF0Y2hFcnJvci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fb3B0aW9ucy5zaG93TWVzc2FnZShuKX0sX3NldHVwUGFzdGVQcm9tcHQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uUGFzdGVSZWNlaXZlZD1mdW5jdGlvbigpe3ZhciB0PW4uX29wdGlvbnMucGFzdGUubmFtZVByb21wdE1lc3NhZ2UsaT1uLl9vcHRpb25zLnBhc3RlLmRlZmF1bHROYW1lO3JldHVybiBuLl9vcHRpb25zLnNob3dQcm9tcHQodCxpKX19LF9maWxlT3JCbG9iUmVqZWN0ZWQ6ZnVuY3Rpb24oKXt0aGlzLl90b3RhbEZpbGVzSW5CYXRjaC09MTt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9maWxlT3JCbG9iUmVqZWN0ZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfcHJlcGFyZUl0ZW1zRm9yVXBsb2FkOmZ1bmN0aW9uKG4pe3RoaXMuX3RvdGFsRmlsZXNJbkJhdGNoPW4ubGVuZ3RoO3RoaXMuX2ZpbGVzSW5CYXRjaEFkZGVkVG9VaT0wO3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX3ByZXBhcmVJdGVtc0ZvclVwbG9hZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LF9tYXliZVVwZGF0ZVRodW1ibmFpbDpmdW5jdGlvbihuKXt2YXIgaT10aGlzLl90aHVtYm5haWxVcmxzW25dO3RoaXMuZ2V0VXBsb2Fkcyh7aWQ6bn0pLnN0YXR1cyE9PXQuc3RhdHVzLkRFTEVURUQmJihpfHx0aGlzLl9vcHRpb25zLnRodW1ibmFpbHMucGxhY2Vob2xkZXJzLndhaXRVbnRpbFJlc3BvbnNlfHwhdC5zdXBwb3J0ZWRGZWF0dXJlcy5pbWFnZVByZXZpZXdzKSYmdGhpcy5fdGVtcGxhdGluZy51cGRhdGVUaHVtYm5haWwobixpLHRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5jdXN0b21SZXNpemVyKX0sX2FkZENhbm5lZEZpbGU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9wYXJlbnQucHJvdG90eXBlLl9hZGRDYW5uZWRGaWxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5fYWRkVG9MaXN0KG4sdGhpcy5nZXROYW1lKG4pLCEwKSx0aGlzLl90ZW1wbGF0aW5nLmhpZGVTcGlubmVyKG4pLHRoaXMuX3RlbXBsYXRpbmcuaGlkZUNhbmNlbChuKSx0aGlzLl9tYXJrRmlsZUFzU3VjY2Vzc2Z1bChuKSxufSxfc2V0U2l6ZTpmdW5jdGlvbihuLHQpe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX3NldFNpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RlbXBsYXRpbmcudXBkYXRlU2l6ZShuLHRoaXMuX2Zvcm1hdFNpemUodCkpfSxfc2Vzc2lvblJlcXVlc3RDb21wbGV0ZTpmdW5jdGlvbigpe3RoaXMuX3RlbXBsYXRpbmcuYWRkQ2FjaGVUb0RvbSgpO3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX3Nlc3Npb25SZXF1ZXN0Q29tcGxldGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19KCk7dC5GaW5lVXBsb2FkZXI9ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7dmFyIHI9dGhpczt0aGlzLl9wYXJlbnQ9aT90W2ldLkZpbmVVcGxvYWRlckJhc2ljOnQuRmluZVVwbG9hZGVyQmFzaWM7dGhpcy5fcGFyZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0LmV4dGVuZCh0aGlzLl9vcHRpb25zLHtlbGVtZW50Om51bGwsYnV0dG9uOm51bGwsbGlzdEVsZW1lbnQ6bnVsbCxkcmFnQW5kRHJvcDp7ZXh0cmFEcm9wem9uZXM6W10scmVwb3J0RGlyZWN0b3J5UGF0aHM6ITF9LHRleHQ6e2Zvcm1hdFByb2dyZXNzOiJ7cGVyY2VudH0lIG9mIHt0b3RhbF9zaXplfSIsZmFpbFVwbG9hZDoiVXBsb2FkIGZhaWxlZCIsd2FpdGluZ0ZvclJlc3BvbnNlOiJQcm9jZXNzaW5nLi4uIixwYXVzZWQ6IlBhdXNlZCJ9LHRlbXBsYXRlOiJxcS10ZW1wbGF0ZSIsY2xhc3Nlczp7cmV0cnlpbmc6InFxLXVwbG9hZC1yZXRyeWluZyIscmV0cnlhYmxlOiJxcS11cGxvYWQtcmV0cnlhYmxlIixzdWNjZXNzOiJxcS11cGxvYWQtc3VjY2VzcyIsZmFpbDoicXEtdXBsb2FkLWZhaWwiLGVkaXRhYmxlOiJxcS1lZGl0YWJsZSIsaGlkZToicXEtaGlkZSIsZHJvcEFjdGl2ZToicXEtdXBsb2FkLWRyb3AtYXJlYS1hY3RpdmUifSxmYWlsZWRVcGxvYWRUZXh0RGlzcGxheTp7bW9kZToiZGVmYXVsdCIscmVzcG9uc2VQcm9wZXJ0eToiZXJyb3IiLGVuYWJsZVRvb2x0aXA6ITB9LG1lc3NhZ2VzOnt0b29NYW55RmlsZXNFcnJvcjoiWW91IG1heSBvbmx5IGRyb3Agb25lIGZpbGUiLHVuc3VwcG9ydGVkQnJvd3NlcjoiVW5yZWNvdmVyYWJsZSBlcnJvciAtIHRoaXMgYnJvd3NlciBkb2VzIG5vdCBwZXJtaXQgZmlsZSB1cGxvYWRpbmcgb2YgYW55IGtpbmQuIn0scmV0cnk6e3Nob3dBdXRvUmV0cnlOb3RlOiEwLGF1dG9SZXRyeU5vdGU6IlJldHJ5aW5nIHtyZXRyeU51bX0ve21heEF1dG99Li4uIn0sZGVsZXRlRmlsZTp7Zm9yY2VDb25maXJtOiExLGNvbmZpcm1NZXNzYWdlOiJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHtmaWxlbmFtZX0/IixkZWxldGluZ1N0YXR1c1RleHQ6IkRlbGV0aW5nLi4uIixkZWxldGluZ0ZhaWxlZFRleHQ6IkRlbGV0ZSBmYWlsZWQifSxkaXNwbGF5OntmaWxlU2l6ZU9uU3VibWl0OiExLHByZXBlbmRGaWxlczohMX0scGFzdGU6e3Byb21wdEZvck5hbWU6ITEsbmFtZVByb21wdE1lc3NhZ2U6IlBsZWFzZSBuYW1lIHRoaXMgaW1hZ2UifSx0aHVtYm5haWxzOntjdXN0b21SZXNpemVyOm51bGwsbWF4Q291bnQ6MCxwbGFjZWhvbGRlcnM6e3dhaXRVbnRpbFJlc3BvbnNlOiExLG5vdEF2YWlsYWJsZVBhdGg6bnVsbCx3YWl0aW5nUGF0aDpudWxsfSx0aW1lQmV0d2VlblRodW1iczo3NTB9LHNjYWxpbmc6e2hpZGVTY2FsZWQ6ITF9LHNob3dNZXNzYWdlOmZ1bmN0aW9uKG4pe2lmKHIuX3RlbXBsYXRpbmcuaGFzRGlhbG9nKCJhbGVydCIpKXJldHVybiByLl90ZW1wbGF0aW5nLnNob3dEaWFsb2coImFsZXJ0IixuKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7d2luZG93LmFsZXJ0KG4pfSwwKX0sc2hvd0NvbmZpcm06ZnVuY3Rpb24obil7cmV0dXJuIHIuX3RlbXBsYXRpbmcuaGFzRGlhbG9nKCJjb25maXJtIik/ci5fdGVtcGxhdGluZy5zaG93RGlhbG9nKCJjb25maXJtIixuKTp3aW5kb3cuY29uZmlybShuKX0sc2hvd1Byb21wdDpmdW5jdGlvbihuLHQpe3JldHVybiByLl90ZW1wbGF0aW5nLmhhc0RpYWxvZygicHJvbXB0Iik/ci5fdGVtcGxhdGluZy5zaG93RGlhbG9nKCJwcm9tcHQiLG4sdCk6d2luZG93LnByb21wdChuLHQpfX0sITApO3QuZXh0ZW5kKHRoaXMuX29wdGlvbnMsbiwhMCk7dGhpcy5fdGVtcGxhdGluZz1uZXcgdC5UZW1wbGF0aW5nKHtsb2c6dC5iaW5kKHRoaXMubG9nLHRoaXMpLHRlbXBsYXRlSWRPckVsOnRoaXMuX29wdGlvbnMudGVtcGxhdGUsY29udGFpbmVyRWw6dGhpcy5fb3B0aW9ucy5lbGVtZW50LGZpbGVDb250YWluZXJFbDp0aGlzLl9vcHRpb25zLmxpc3RFbGVtZW50LGJ1dHRvbjp0aGlzLl9vcHRpb25zLmJ1dHRvbixpbWFnZUdlbmVyYXRvcjp0aGlzLl9pbWFnZUdlbmVyYXRvcixjbGFzc2VzOntoaWRlOnRoaXMuX29wdGlvbnMuY2xhc3Nlcy5oaWRlLGVkaXRhYmxlOnRoaXMuX29wdGlvbnMuY2xhc3Nlcy5lZGl0YWJsZX0sbGltaXRzOnttYXhUaHVtYnM6dGhpcy5fb3B0aW9ucy50aHVtYm5haWxzLm1heENvdW50LHRpbWVCZXR3ZWVuVGh1bWJzOnRoaXMuX29wdGlvbnMudGh1bWJuYWlscy50aW1lQmV0d2VlblRodW1ic30scGxhY2Vob2xkZXJzOnt3YWl0VW50aWxVcGRhdGU6dGhpcy5fb3B0aW9ucy50aHVtYm5haWxzLnBsYWNlaG9sZGVycy53YWl0VW50aWxSZXNwb25zZSx0aHVtYm5haWxOb3RBdmFpbGFibGU6dGhpcy5fb3B0aW9ucy50aHVtYm5haWxzLnBsYWNlaG9sZGVycy5ub3RBdmFpbGFibGVQYXRoLHdhaXRpbmdGb3JUaHVtYm5haWw6dGhpcy5fb3B0aW9ucy50aHVtYm5haWxzLnBsYWNlaG9sZGVycy53YWl0aW5nUGF0aH0sdGV4dDp0aGlzLl9vcHRpb25zLnRleHR9KTt0aGlzLl9vcHRpb25zLndvcmthcm91bmRzLmlvczhTYWZhcmlVcGxvYWRzJiZ0LmlvczgwMCgpJiZ0Lmlvc1NhZmFyaSgpP3RoaXMuX3RlbXBsYXRpbmcucmVuZGVyRmFpbHVyZSh0aGlzLl9vcHRpb25zLm1lc3NhZ2VzLnVuc3VwcG9ydGVkQnJvd3NlcklvczhTYWZhcmkpOiF0LnN1cHBvcnRlZEZlYXR1cmVzLnVwbG9hZGluZ3x8dGhpcy5fb3B0aW9ucy5jb3JzLmV4cGVjdGVkJiYhdC5zdXBwb3J0ZWRGZWF0dXJlcy51cGxvYWRDb3JzP3RoaXMuX3RlbXBsYXRpbmcucmVuZGVyRmFpbHVyZSh0aGlzLl9vcHRpb25zLm1lc3NhZ2VzLnVuc3VwcG9ydGVkQnJvd3Nlcik6KHRoaXMuX3dyYXBDYWxsYmFja3MoKSx0aGlzLl90ZW1wbGF0aW5nLnJlbmRlcigpLHRoaXMuX2NsYXNzZXM9dGhpcy5fb3B0aW9ucy5jbGFzc2VzLCF0aGlzLl9vcHRpb25zLmJ1dHRvbiYmdGhpcy5fdGVtcGxhdGluZy5nZXRCdXR0b24oKSYmKHRoaXMuX2RlZmF1bHRCdXR0b25JZD10aGlzLl9jcmVhdGVVcGxvYWRCdXR0b24oe2VsZW1lbnQ6dGhpcy5fdGVtcGxhdGluZy5nZXRCdXR0b24oKSx0aXRsZTp0aGlzLl9vcHRpb25zLnRleHQuZmlsZUlucHV0VGl0bGV9KS5nZXRCdXR0b25JZCgpKSx0aGlzLl9zZXR1cENsaWNrQW5kRWRpdEV2ZW50SGFuZGxlcnMoKSx0LkRyYWdBbmREcm9wJiZ0LnN1cHBvcnRlZEZlYXR1cmVzLmZpbGVEcm9wJiYodGhpcy5fZG5kPXRoaXMuX3NldHVwRHJhZ0FuZERyb3AoKSksdGhpcy5fb3B0aW9ucy5wYXN0ZS50YXJnZXRFbGVtZW50JiZ0aGlzLl9vcHRpb25zLnBhc3RlLnByb21wdEZvck5hbWUmJih0LlBhc3RlU3VwcG9ydD90aGlzLl9zZXR1cFBhc3RlUHJvbXB0KCk6dGhpcy5sb2coIlBhc3RlIHN1cHBvcnQgbW9kdWxlIG5vdCBmb3VuZC4iLCJlcnJvciIpKSx0aGlzLl90b3RhbEZpbGVzSW5CYXRjaD0wLHRoaXMuX2ZpbGVzSW5CYXRjaEFkZGVkVG9VaT0wKX07dC5leHRlbmQodC5GaW5lVXBsb2FkZXIucHJvdG90eXBlLHQuYmFzZVB1YmxpY0FwaSk7dC5leHRlbmQodC5GaW5lVXBsb2FkZXIucHJvdG90eXBlLHQuYmFzZVByaXZhdGVBcGkpO3QuZXh0ZW5kKHQuRmluZVVwbG9hZGVyLnByb3RvdHlwZSx0LnVpUHVibGljQXBpKTt0LmV4dGVuZCh0LkZpbmVVcGxvYWRlci5wcm90b3R5cGUsdC51aVByaXZhdGVBcGkpO3QuVGVtcGxhdGluZz1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7dmFyIGgseXQscHQsZXQscyx2LHksb3QscD17Y29udGVudDpkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbWFwOnt9fSxzdD0hMSx3PTAsZz0hMSxudD1bXSxhPS0xLHI9e2xvZzpudWxsLGxpbWl0czp7bWF4VGh1bWJzOjAsdGltZUJldHdlZW5UaHVtYnM6NzUwfSx0ZW1wbGF0ZUlkT3JFbDoicXEtdGVtcGxhdGUiLGNvbnRhaW5lckVsOm51bGwsZmlsZUNvbnRhaW5lckVsOm51bGwsYnV0dG9uOm51bGwsaW1hZ2VHZW5lcmF0b3I6bnVsbCxjbGFzc2VzOntoaWRlOiJxcS1oaWRlIixlZGl0YWJsZToicXEtZWRpdGFibGUifSxwbGFjZWhvbGRlcnM6e3dhaXRVbnRpbFVwZGF0ZTohMSx0aHVtYm5haWxOb3RBdmFpbGFibGU6bnVsbCx3YWl0aW5nRm9yVGh1bWJuYWlsOm51bGx9LHRleHQ6e3BhdXNlZDoiUGF1c2VkIn19LGk9e2J1dHRvbjoicXEtdXBsb2FkLWJ1dHRvbi1zZWxlY3RvciIsYWxlcnREaWFsb2c6InFxLWFsZXJ0LWRpYWxvZy1zZWxlY3RvciIsZGlhbG9nQ2FuY2VsQnV0dG9uOiJxcS1jYW5jZWwtYnV0dG9uLXNlbGVjdG9yIixjb25maXJtRGlhbG9nOiJxcS1jb25maXJtLWRpYWxvZy1zZWxlY3RvciIsZGlhbG9nTWVzc2FnZToicXEtZGlhbG9nLW1lc3NhZ2Utc2VsZWN0b3IiLGRpYWxvZ09rQnV0dG9uOiJxcS1vay1idXR0b24tc2VsZWN0b3IiLHByb21wdERpYWxvZzoicXEtcHJvbXB0LWRpYWxvZy1zZWxlY3RvciIsdXBsb2FkZXI6InFxLXVwbG9hZGVyLXNlbGVjdG9yIixkcm9wOiJxcS11cGxvYWQtZHJvcC1hcmVhLXNlbGVjdG9yIixsaXN0OiJxcS11cGxvYWQtbGlzdC1zZWxlY3RvciIscHJvZ3Jlc3NCYXJDb250YWluZXI6InFxLXByb2dyZXNzLWJhci1jb250YWluZXItc2VsZWN0b3IiLHByb2dyZXNzQmFyOiJxcS1wcm9ncmVzcy1iYXItc2VsZWN0b3IiLHRvdGFsUHJvZ3Jlc3NCYXJDb250YWluZXI6InFxLXRvdGFsLXByb2dyZXNzLWJhci1jb250YWluZXItc2VsZWN0b3IiLHRvdGFsUHJvZ3Jlc3NCYXI6InFxLXRvdGFsLXByb2dyZXNzLWJhci1zZWxlY3RvciIsZmlsZToicXEtdXBsb2FkLWZpbGUtc2VsZWN0b3IiLHNwaW5uZXI6InFxLXVwbG9hZC1zcGlubmVyLXNlbGVjdG9yIixzaXplOiJxcS11cGxvYWQtc2l6ZS1zZWxlY3RvciIsY2FuY2VsOiJxcS11cGxvYWQtY2FuY2VsLXNlbGVjdG9yIixwYXVzZToicXEtdXBsb2FkLXBhdXNlLXNlbGVjdG9yIixjb250aW51ZUJ1dHRvbjoicXEtdXBsb2FkLWNvbnRpbnVlLXNlbGVjdG9yIixkZWxldGVCdXR0b246InFxLXVwbG9hZC1kZWxldGUtc2VsZWN0b3IiLHJldHJ5OiJxcS11cGxvYWQtcmV0cnktc2VsZWN0b3IiLHN0YXR1c1RleHQ6InFxLXVwbG9hZC1zdGF0dXMtdGV4dC1zZWxlY3RvciIsZWRpdEZpbGVuYW1lSW5wdXQ6InFxLWVkaXQtZmlsZW5hbWUtc2VsZWN0b3IiLGVkaXROYW1lSWNvbjoicXEtZWRpdC1maWxlbmFtZS1pY29uLXNlbGVjdG9yIixkcm9wVGV4dDoicXEtdXBsb2FkLWRyb3AtYXJlYS10ZXh0LXNlbGVjdG9yIixkcm9wUHJvY2Vzc2luZzoicXEtZHJvcC1wcm9jZXNzaW5nLXNlbGVjdG9yIixkcm9wUHJvY2Vzc2luZ1NwaW5uZXI6InFxLWRyb3AtcHJvY2Vzc2luZy1zcGlubmVyLXNlbGVjdG9yIix0aHVtYm5haWw6InFxLXRodW1ibmFpbC1zZWxlY3RvciJ9LGw9e30sdHQ9bmV3IHQuUHJvbWlzZSxkPW5ldyB0LlByb21pc2UsdGk9ZnVuY3Rpb24oKXt2YXIgbj1yLnBsYWNlaG9sZGVycy50aHVtYm5haWxOb3RBdmFpbGFibGUsdD1yLnBsYWNlaG9sZGVycy53YWl0aW5nRm9yVGh1bWJuYWlsLGk9e21heFNpemU6YSxzY2FsZTpvdH07eSYmKG4/ci5pbWFnZUdlbmVyYXRvci5nZW5lcmF0ZShuLG5ldyBJbWFnZSxpKS50aGVuKGZ1bmN0aW9uKG4pe3R0LnN1Y2Nlc3Mobil9LGZ1bmN0aW9uKCl7dHQuZmFpbHVyZSgpO2goIlByb2JsZW0gbG9hZGluZyAnbm90IGF2YWlsYWJsZScgcGxhY2Vob2xkZXIgaW1hZ2UgYXQgIituLCJlcnJvciIpfSk6dHQuZmFpbHVyZSgpLHQ/ci5pbWFnZUdlbmVyYXRvci5nZW5lcmF0ZSh0LG5ldyBJbWFnZSxpKS50aGVuKGZ1bmN0aW9uKG4pe2Quc3VjY2VzcyhuKX0sZnVuY3Rpb24oKXtkLmZhaWx1cmUoKTtoKCJQcm9ibGVtIGxvYWRpbmcgJ3dhaXRpbmcgZm9yIHRodW1ibmFpbCcgcGxhY2Vob2xkZXIgaW1hZ2UgYXQgIit0LCJlcnJvciIpfSk6ZC5mYWlsdXJlKCkpfSxodD1mdW5jdGlvbihuKXt2YXIgaT1uZXcgdC5Qcm9taXNlO3JldHVybiBkLnRoZW4oZnVuY3Rpb24odCl7Z3QodCxuKTtuLnNyYz9pLnN1Y2Nlc3MoKToobi5zcmM9dC5zcmMsbi5vbmxvYWQ9ZnVuY3Rpb24oKXtuLm9ubG9hZD1udWxsO28obik7aS5zdWNjZXNzKCl9KX0sZnVuY3Rpb24oKXtmKG4pO2kuc3VjY2VzcygpfSksaX0saWk9ZnVuY3Rpb24obix0LGkpe3ZhciB1PWIobik7cmV0dXJuIGgoIkdlbmVyYXRpbmcgbmV3IHRodW1ibmFpbCBmb3IgIituKSx0LnFxVGh1bWJuYWlsSWQ9bixyLmltYWdlR2VuZXJhdG9yLmdlbmVyYXRlKHQsdSxpKS50aGVuKGZ1bmN0aW9uKCl7dysrO28odSk7bFtuXS5zdWNjZXNzKCl9LGZ1bmN0aW9uKCl7bFtuXS5mYWlsdXJlKCk7ci5wbGFjZWhvbGRlcnMud2FpdFVudGlsVXBkYXRlfHxrKG4sdSl9KX0sYz1mdW5jdGlvbigpe2lmKG50Lmxlbmd0aCl7Zz0hMDt2YXIgbj1udC5zaGlmdCgpO24udXBkYXRlP2VpKG4pOmZpKG4pfWVsc2UgZz0hMX0sd3Q9ZnVuY3Rpb24obil7cmV0dXJuIHUoZShuKSxpLmNhbmNlbCl9LGN0PWZ1bmN0aW9uKG4pe3JldHVybiB1KGUobiksaS5jb250aW51ZUJ1dHRvbil9LGJ0PWZ1bmN0aW9uKG4pe3JldHVybiB1KHMsaVtuKyJEaWFsb2ciXSl9LGx0PWZ1bmN0aW9uKG4pe3JldHVybiB1KGUobiksaS5kZWxldGVCdXR0b24pfSxhdD1mdW5jdGlvbigpe3JldHVybiB1KHMsaS5kcm9wUHJvY2Vzc2luZyl9LGt0PWZ1bmN0aW9uKG4pe3JldHVybiB1KGUobiksaS5lZGl0TmFtZUljb24pfSxlPWZ1bmN0aW9uKG4pe3JldHVybiBwLm1hcFtuXXx8dCh2KS5nZXRGaXJzdEJ5Q2xhc3MoInFxLWZpbGUtaWQtIituKX0saXQ9ZnVuY3Rpb24obil7cmV0dXJuIHUoZShuKSxpLmZpbGUpfSxydD1mdW5jdGlvbihuKXtyZXR1cm4gdShlKG4pLGkucGF1c2UpfSx1dD1mdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09bj91KHMsaS50b3RhbFByb2dyZXNzQmFyQ29udGFpbmVyKXx8dShzLGkudG90YWxQcm9ncmVzc0Jhcik6dShlKG4pLGkucHJvZ3Jlc3NCYXJDb250YWluZXIpfHx1KGUobiksaS5wcm9ncmVzc0Jhcil9LHZ0PWZ1bmN0aW9uKG4pe3JldHVybiB1KGUobiksaS5yZXRyeSl9LGR0PWZ1bmN0aW9uKG4pe3JldHVybiB1KGUobiksaS5zaXplKX0sZnQ9ZnVuY3Rpb24obil7cmV0dXJuIHUoZShuKSxpLnNwaW5uZXIpfSx1PWZ1bmN0aW9uKG4saSl7cmV0dXJuIG4mJnQobikuZ2V0Rmlyc3RCeUNsYXNzKGkpfSxiPWZ1bmN0aW9uKG4pe3JldHVybiB5JiZ1KGUobiksaS50aHVtYm5haWwpfSxmPWZ1bmN0aW9uKG4pe24mJnQobikuYWRkQ2xhc3Moci5jbGFzc2VzLmhpZGUpfSxndD1mdW5jdGlvbihuLGkpe3ZhciByPW4uc3R5bGUubWF4V2lkdGgsdT1uLnN0eWxlLm1heEhlaWdodDt1JiZyJiYhaS5zdHlsZS5tYXhXaWR0aCYmIWkuc3R5bGUubWF4SGVpZ2h0JiZ0KGkpLmNzcyh7bWF4V2lkdGg6cixtYXhIZWlnaHQ6dX0pfSxrPWZ1bmN0aW9uKG4saSl7dmFyIHU9bFtuXXx8KG5ldyB0LlByb21pc2UpLmZhaWx1cmUoKSxyPW5ldyB0LlByb21pc2U7cmV0dXJuIHR0LnRoZW4oZnVuY3Rpb24obil7dS50aGVuKGZ1bmN0aW9uKCl7ci5zdWNjZXNzKCl9LGZ1bmN0aW9uKCl7Z3QobixpKTtpLm9ubG9hZD1mdW5jdGlvbigpe2kub25sb2FkPW51bGw7ci5zdWNjZXNzKCl9O2kuc3JjPW4uc3JjO28oaSl9KX0pLHJ9LHJpPWZ1bmN0aW9uKCl7dmFyIHMsZSxvLG4sdyxjLHUsZixsLHYscDtpZihoKCJQYXJzaW5nIHRlbXBsYXRlIiksbnVsbD09ci50ZW1wbGF0ZUlkT3JFbCl0aHJvdyBuZXcgRXJyb3IoIllvdSBNVVNUIHNwZWNpZnkgZWl0aGVyIGEgdGVtcGxhdGUgZWxlbWVudCBvciBJRCEiKTtpZih0LmlzU3RyaW5nKHIudGVtcGxhdGVJZE9yRWwpKXtpZihzPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHIudGVtcGxhdGVJZE9yRWwpLG51bGw9PT1zKXRocm93IG5ldyBFcnJvcih0LmZvcm1hdCgiQ2Fubm90IGZpbmQgdGVtcGxhdGUgc2NyaXB0IGF0IElEICd7fSchIixyLnRlbXBsYXRlSWRPckVsKSk7ZT1zLmlubmVySFRNTH1lbHNle2lmKHZvaWQgMD09PXIudGVtcGxhdGVJZE9yRWwuaW5uZXJIVE1MKXRocm93IG5ldyBFcnJvcigiWW91IGhhdmUgc3BlY2lmaWVkIGFuIGludmFsaWQgdmFsdWUgZm9yIHRoZSB0ZW1wbGF0ZSBvcHRpb24hICBJdCBtdXN0IGJlIGFuIElEIG9yIGFuIEVsZW1lbnQuIik7ZT1yLnRlbXBsYXRlSWRPckVsLmlubmVySFRNTH1pZihlPXQudHJpbVN0cihlKSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLG4uYXBwZW5kQ2hpbGQodC50b0VsZW1lbnQoZSkpLHA9dChuKS5nZXRGaXJzdEJ5Q2xhc3MoaS51cGxvYWRlciksci5idXR0b24mJihjPXQobikuZ2V0Rmlyc3RCeUNsYXNzKGkuYnV0dG9uKSxjJiZ0KGMpLnJlbW92ZSgpKSx0LkRyYWdBbmREcm9wJiZ0LnN1cHBvcnRlZEZlYXR1cmVzLmZpbGVEcm9wfHwobD10KG4pLmdldEZpcnN0QnlDbGFzcyhpLmRyb3BQcm9jZXNzaW5nKSxsJiZ0KGwpLnJlbW92ZSgpKSx1PXQobikuZ2V0Rmlyc3RCeUNsYXNzKGkuZHJvcCksdSYmIXQuRHJhZ0FuZERyb3AmJihoKCJEbkQgbW9kdWxlIHVuYXZhaWxhYmxlLiIsImluZm8iKSx0KHUpLnJlbW92ZSgpKSx0LnN1cHBvcnRlZEZlYXR1cmVzLmZpbGVEcm9wP3QocCkuaGFzQXR0cmlidXRlKCJxcS1kcm9wLWFyZWEtdGV4dCIpJiZ1JiYodj10KHUpLmdldEZpcnN0QnlDbGFzcyhpLmRyb3BUZXh0KSx2JiZ0KHYpLnJlbW92ZSgpKToocC5yZW1vdmVBdHRyaWJ1dGUoInFxLWRyb3AtYXJlYS10ZXh0IiksdSYmdCh1KS5oYXNBdHRyaWJ1dGUoInFxLWhpZGUtZHJvcHpvbmUiKSYmdCh1KS5jc3Moe2Rpc3BsYXk6Im5vbmUifSkpLGY9dChuKS5nZXRGaXJzdEJ5Q2xhc3MoaS50aHVtYm5haWwpLHk/ZiYmKGE9cGFyc2VJbnQoZi5nZXRBdHRyaWJ1dGUoInFxLW1heC1zaXplIikpLGE9YT4wP2E6bnVsbCxvdD10KGYpLmhhc0F0dHJpYnV0ZSgicXEtc2VydmVyLXNjYWxlIikpOmYmJnQoZikucmVtb3ZlKCkseT15JiZmLHl0PXQobikuZ2V0QnlDbGFzcyhpLmVkaXRGaWxlbmFtZUlucHV0KS5sZW5ndGg+MCxwdD10KG4pLmdldEJ5Q2xhc3MoaS5yZXRyeSkubGVuZ3RoPjAsbz10KG4pLmdldEZpcnN0QnlDbGFzcyhpLmxpc3QpLG51bGw9PW8pdGhyb3cgbmV3IEVycm9yKCJDb3VsZCBub3QgZmluZCB0aGUgZmlsZSBsaXN0IGNvbnRhaW5lciBpbiB0aGUgdGVtcGxhdGUhIik7cmV0dXJuIHc9by5jaGlsZHJlblswXS5jbG9uZU5vZGUoITApLG8uaW5uZXJIVE1MPSIiLG4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIkRJQUxPRyIpLmxlbmd0aCYmZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGlhbG9nIiksaCgiVGVtcGxhdGUgcGFyc2luZyBjb21wbGV0ZSIpLHt0ZW1wbGF0ZTpuLGZpbGVUZW1wbGF0ZTp3fX0sdWk9ZnVuY3Rpb24obixpLHIpe3ZhciB1PXIsZj11LmZpcnN0Q2hpbGQ7aT4wJiYoZj10KHUpLmNoaWxkcmVuKClbaV0ubmV4dFNpYmxpbmcpO3UuaW5zZXJ0QmVmb3JlKG4sZil9LGZpPWZ1bmN0aW9uKG4pe3ZhciBpPW4uaWQsZj1uLm9wdEZpbGVPckJsb2IsZT1mJiZmLnFxVGh1bWJuYWlsSWQsdT1iKGkpLG89e2N1c3RvbVJlc2l6ZUZ1bmN0aW9uOm4uY3VzdG9tUmVzaXplRnVuY3Rpb24sbWF4U2l6ZTphLG9yaWVudDohMCxzY2FsZTohMH07dC5zdXBwb3J0ZWRGZWF0dXJlcy5pbWFnZVByZXZpZXdzP3U/ci5saW1pdHMubWF4VGh1bWJzJiZyLmxpbWl0cy5tYXhUaHVtYnM8PXc/KGsoaSx1KSxjKCkpOmh0KHUpLmRvbmUoZnVuY3Rpb24oKXtsW2ldPW5ldyB0LlByb21pc2U7bFtpXS5kb25lKGZ1bmN0aW9uKCl7c2V0VGltZW91dChjLHIubGltaXRzLnRpbWVCZXR3ZWVuVGh1bWJzKX0pO251bGwhPWU/b2koaSxlKTppaShpLGYsbyl9KTpjKCk6dSYmKGh0KHUpLGMoKSl9LGVpPWZ1bmN0aW9uKG4pe3ZhciBpPW4uaWQsdT1uLnRodW1ibmFpbFVybCxmPW4uc2hvd1dhaXRpbmdJbWcsdD1iKGkpLGU9e2N1c3RvbVJlc2l6ZUZ1bmN0aW9uOm4uY3VzdG9tUmVzaXplRnVuY3Rpb24sc2NhbGU6b3QsbWF4U2l6ZTphfTtpZih0KWlmKHUpe2lmKCEoci5saW1pdHMubWF4VGh1bWJzJiZyLmxpbWl0cy5tYXhUaHVtYnM8PXcpKXJldHVybiBmJiZodCh0KSxyLmltYWdlR2VuZXJhdG9yLmdlbmVyYXRlKHUsdCxlKS50aGVuKGZ1bmN0aW9uKCl7byh0KTt3Kys7c2V0VGltZW91dChjLHIubGltaXRzLnRpbWVCZXR3ZWVuVGh1bWJzKX0sZnVuY3Rpb24oKXtrKGksdCk7c2V0VGltZW91dChjLHIubGltaXRzLnRpbWVCZXR3ZWVuVGh1bWJzKX0pO2soaSx0KTtjKCl9ZWxzZSBrKGksdCksYygpfSxuaT1mdW5jdGlvbihuLHIpe3ZhciB1PXV0KG4pLGY9bnVsbD09bj9pLnRvdGFsUHJvZ3Jlc3NCYXI6aS5wcm9ncmVzc0Jhcjt1JiYhdCh1KS5oYXNDbGFzcyhmKSYmKHU9dCh1KS5nZXRGaXJzdEJ5Q2xhc3MoZikpO3UmJih0KHUpLmNzcyh7d2lkdGg6cisiJSJ9KSx1LnNldEF0dHJpYnV0ZSgiYXJpYS12YWx1ZW5vdyIscikpfSxvPWZ1bmN0aW9uKG4pe24mJnQobikucmVtb3ZlQ2xhc3Moci5jbGFzc2VzLmhpZGUpfSxvaT1mdW5jdGlvbihuLGkpe3ZhciB1PWIobiksZj1iKGkpO2godC5mb3JtYXQoIklEIHt9IGlzIHRoZSBzYW1lIGZpbGUgYXMgSUQge30uICBXaWxsIHVzZSBnZW5lcmF0ZWQgdGh1bWJuYWlsIGZyb20gSUQge30gaW5zdGVhZC4iLG4saSxpKSk7bFtpXS50aGVuKGZ1bmN0aW9uKCl7dysrO2xbbl0uc3VjY2VzcygpO2godC5mb3JtYXQoIk5vdyB1c2luZyBwcmV2aW91c2x5IGdlbmVyYXRlZCB0aHVtYm5haWwgY3JlYXRlZCBmb3IgSUQge30gb24gSUQge30uIixpLG4pKTt1LnNyYz1mLnNyYztvKHUpfSxmdW5jdGlvbigpe2xbbl0uZmFpbHVyZSgpO3IucGxhY2Vob2xkZXJzLndhaXRVbnRpbFVwZGF0ZXx8ayhuLHUpfSl9O3QuZXh0ZW5kKHIsbik7aD1yLmxvZzt0LnN1cHBvcnRlZEZlYXR1cmVzLmltYWdlUHJldmlld3N8fChyLmxpbWl0cy50aW1lQmV0d2VlblRodW1icz0wLHIubGltaXRzLm1heFRodW1icz0wKTtzPXIuY29udGFpbmVyRWw7eT12b2lkIDAhPT1yLmltYWdlR2VuZXJhdG9yO2V0PXJpKCk7dGkoKTt0LmV4dGVuZCh0aGlzLHtyZW5kZXI6ZnVuY3Rpb24oKXtoKCJSZW5kZXJpbmcgdGVtcGxhdGUgaW4gRE9NLiIpO3c9MDtzLmFwcGVuZENoaWxkKGV0LnRlbXBsYXRlLmNsb25lTm9kZSghMCkpO2YoYXQoKSk7dGhpcy5oaWRlVG90YWxQcm9ncmVzcygpO3Y9ci5maWxlQ29udGFpbmVyRWx8fHUocyxpLmxpc3QpO2goIlRlbXBsYXRlIHJlbmRlcmluZyBjb21wbGV0ZSIpfSxyZW5kZXJGYWlsdXJlOmZ1bmN0aW9uKG4pe3ZhciBpPXQudG9FbGVtZW50KG4pO3MuaW5uZXJIVE1MPSIiO3MuYXBwZW5kQ2hpbGQoaSl9LHJlc2V0OmZ1bmN0aW9uKCl7cy5pbm5lckhUTUw9IiI7dGhpcy5yZW5kZXIoKX0sY2xlYXJGaWxlczpmdW5jdGlvbigpe3YuaW5uZXJIVE1MPSIifSxkaXNhYmxlQ2FuY2VsOmZ1bmN0aW9uKCl7c3Q9ITB9LGFkZEZpbGU6ZnVuY3Rpb24obixyLGUsaCxjKXt2YXIgYSxsPWV0LmZpbGVUZW1wbGF0ZS5jbG9uZU5vZGUoITApLHk9dShsLGkuZmlsZSksaz11KHMsaS51cGxvYWRlciksdz1jP3AuY29udGVudDp2O2MmJihwLm1hcFtuXT1sKTt0KGwpLmFkZENsYXNzKCJxcS1maWxlLWlkLSIrbik7ay5yZW1vdmVBdHRyaWJ1dGUoInFxLWRyb3AtYXJlYS10ZXh0Iik7eSYmKHQoeSkuc2V0VGV4dChyKSx5LnNldEF0dHJpYnV0ZSgidGl0bGUiLHIpKTtsLnNldEF0dHJpYnV0ZSgicXEtZmlsZS1pZCIsbik7ZT91aShsLGUuaW5kZXgsdyk6dy5hcHBlbmRDaGlsZChsKTtoPyhsLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHQobCkuYWRkQ2xhc3MoInFxLWhpZGRlbi1mb3JldmVyIikpOihmKHV0KG4pKSxmKGR0KG4pKSxmKGx0KG4pKSxmKHZ0KG4pKSxmKHJ0KG4pKSxmKGN0KG4pKSxzdCYmdGhpcy5oaWRlQ2FuY2VsKG4pLGE9YihuKSxhJiYhYS5zcmMmJmQudGhlbihmdW5jdGlvbihuKXthLnNyYz1uLnNyYztuLnN0eWxlLm1heEhlaWdodCYmbi5zdHlsZS5tYXhXaWR0aCYmdChhKS5jc3Moe21heEhlaWdodDpuLnN0eWxlLm1heEhlaWdodCxtYXhXaWR0aDpuLnN0eWxlLm1heFdpZHRofSk7byhhKX0pKX0sYWRkRmlsZVRvQ2FjaGU6ZnVuY3Rpb24obix0LGkscil7dGhpcy5hZGRGaWxlKG4sdCxpLHIsITApfSxhZGRDYWNoZVRvRG9tOmZ1bmN0aW9uKCl7di5hcHBlbmRDaGlsZChwLmNvbnRlbnQpO3AuY29udGVudD1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7cC5tYXA9e319LHJlbW92ZUZpbGU6ZnVuY3Rpb24obil7dChlKG4pKS5yZW1vdmUoKX0sZ2V0RmlsZUlkOmZ1bmN0aW9uKG4pe3ZhciB0PW47aWYodCl7Zm9yKDtudWxsPT10LmdldEF0dHJpYnV0ZSgicXEtZmlsZS1pZCIpOyl0PXQucGFyZW50Tm9kZTtyZXR1cm4gcGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoInFxLWZpbGUtaWQiKSl9fSxnZXRGaWxlTGlzdDpmdW5jdGlvbigpe3JldHVybiB2fSxtYXJrRmlsZW5hbWVFZGl0YWJsZTpmdW5jdGlvbihuKXt2YXIgaT1pdChuKTtpJiZ0KGkpLmFkZENsYXNzKHIuY2xhc3Nlcy5lZGl0YWJsZSl9LHVwZGF0ZUZpbGVuYW1lOmZ1bmN0aW9uKG4saSl7dmFyIHI9aXQobik7ciYmKHQocikuc2V0VGV4dChpKSxyLnNldEF0dHJpYnV0ZSgidGl0bGUiLGkpKX0saGlkZUZpbGVuYW1lOmZ1bmN0aW9uKG4pe2YoaXQobikpfSxzaG93RmlsZW5hbWU6ZnVuY3Rpb24obil7byhpdChuKSl9LGlzRmlsZU5hbWU6ZnVuY3Rpb24obil7cmV0dXJuIHQobikuaGFzQ2xhc3MoaS5maWxlKX0sZ2V0QnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIHIuYnV0dG9ufHx1KHMsaS5idXR0b24pfSxoaWRlRHJvcFByb2Nlc3Npbmc6ZnVuY3Rpb24oKXtmKGF0KCkpfSxzaG93RHJvcFByb2Nlc3Npbmc6ZnVuY3Rpb24oKXtvKGF0KCkpfSxnZXREcm9wWm9uZTpmdW5jdGlvbigpe3JldHVybiB1KHMsaS5kcm9wKX0saXNFZGl0RmlsZW5hbWVQb3NzaWJsZTpmdW5jdGlvbigpe3JldHVybiB5dH0saGlkZVJldHJ5OmZ1bmN0aW9uKG4pe2YodnQobikpfSxpc1JldHJ5UG9zc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gcHR9LHNob3dSZXRyeTpmdW5jdGlvbihuKXtvKHZ0KG4pKX0sZ2V0RmlsZUNvbnRhaW5lcjpmdW5jdGlvbihuKXtyZXR1cm4gZShuKX0sc2hvd0VkaXRJY29uOmZ1bmN0aW9uKG4pe3ZhciBpPWt0KG4pO2kmJnQoaSkuYWRkQ2xhc3Moci5jbGFzc2VzLmVkaXRhYmxlKX0saXNIaWRkZW5Gb3JldmVyOmZ1bmN0aW9uKG4pe3JldHVybiB0KGUobikpLmhhc0NsYXNzKCJxcS1oaWRkZW4tZm9yZXZlciIpfSxoaWRlRWRpdEljb246ZnVuY3Rpb24obil7dmFyIGk9a3Qobik7aSYmdChpKS5yZW1vdmVDbGFzcyhyLmNsYXNzZXMuZWRpdGFibGUpfSxpc0VkaXRJY29uOmZ1bmN0aW9uKG4pe3JldHVybiB0KG4pLmhhc0NsYXNzKGkuZWRpdE5hbWVJY29uLCEwKX0sZ2V0RWRpdElucHV0OmZ1bmN0aW9uKG4pe3JldHVybiB1KGUobiksaS5lZGl0RmlsZW5hbWVJbnB1dCl9LGlzRWRpdElucHV0OmZ1bmN0aW9uKG4pe3JldHVybiB0KG4pLmhhc0NsYXNzKGkuZWRpdEZpbGVuYW1lSW5wdXQsITApfSx1cGRhdGVQcm9ncmVzczpmdW5jdGlvbihuLHQsaSl7dmFyIHIsdT11dChuKTt1JiZpPjAmJihyPU1hdGgucm91bmQodC9pKjEwMCksMTAwPT09cj9mKHUpOm8odSksbmkobixyKSl9LHVwZGF0ZVRvdGFsUHJvZ3Jlc3M6ZnVuY3Rpb24obix0KXt0aGlzLnVwZGF0ZVByb2dyZXNzKG51bGwsbix0KX0saGlkZVByb2dyZXNzOmZ1bmN0aW9uKG4pe3ZhciB0PXV0KG4pO3QmJmYodCl9LGhpZGVUb3RhbFByb2dyZXNzOmZ1bmN0aW9uKCl7dGhpcy5oaWRlUHJvZ3Jlc3MoKX0scmVzZXRQcm9ncmVzczpmdW5jdGlvbihuKXtuaShuLDApO3RoaXMuaGlkZVRvdGFsUHJvZ3Jlc3Mobil9LHJlc2V0VG90YWxQcm9ncmVzczpmdW5jdGlvbigpe3RoaXMucmVzZXRQcm9ncmVzcygpfSxzaG93Q2FuY2VsOmZ1bmN0aW9uKG4pe2lmKCFzdCl7dmFyIGk9d3Qobik7aSYmdChpKS5yZW1vdmVDbGFzcyhyLmNsYXNzZXMuaGlkZSl9fSxoaWRlQ2FuY2VsOmZ1bmN0aW9uKG4pe2Yod3QobikpfSxpc0NhbmNlbDpmdW5jdGlvbihuKXtyZXR1cm4gdChuKS5oYXNDbGFzcyhpLmNhbmNlbCwhMCl9LGFsbG93UGF1c2U6ZnVuY3Rpb24obil7byhydChuKSk7ZihjdChuKSl9LHVwbG9hZFBhdXNlZDpmdW5jdGlvbihuKXt0aGlzLnNldFN0YXR1c1RleHQobixyLnRleHQucGF1c2VkKTt0aGlzLmFsbG93Q29udGludWVCdXR0b24obik7ZihmdChuKSl9LGhpZGVQYXVzZTpmdW5jdGlvbihuKXtmKHJ0KG4pKX0saXNQYXVzZTpmdW5jdGlvbihuKXtyZXR1cm4gdChuKS5oYXNDbGFzcyhpLnBhdXNlLCEwKX0saXNDb250aW51ZUJ1dHRvbjpmdW5jdGlvbihuKXtyZXR1cm4gdChuKS5oYXNDbGFzcyhpLmNvbnRpbnVlQnV0dG9uLCEwKX0sYWxsb3dDb250aW51ZUJ1dHRvbjpmdW5jdGlvbihuKXtvKGN0KG4pKTtmKHJ0KG4pKX0sdXBsb2FkQ29udGludWVkOmZ1bmN0aW9uKG4pe3RoaXMuc2V0U3RhdHVzVGV4dChuLCIiKTt0aGlzLmFsbG93UGF1c2Uobik7byhmdChuKSl9LHNob3dEZWxldGVCdXR0b246ZnVuY3Rpb24obil7byhsdChuKSl9LGhpZGVEZWxldGVCdXR0b246ZnVuY3Rpb24obil7ZihsdChuKSl9LGlzRGVsZXRlQnV0dG9uOmZ1bmN0aW9uKG4pe3JldHVybiB0KG4pLmhhc0NsYXNzKGkuZGVsZXRlQnV0dG9uLCEwKX0saXNSZXRyeTpmdW5jdGlvbihuKXtyZXR1cm4gdChuKS5oYXNDbGFzcyhpLnJldHJ5LCEwKX0sdXBkYXRlU2l6ZTpmdW5jdGlvbihuLGkpe3ZhciByPWR0KG4pO3ImJihvKHIpLHQocikuc2V0VGV4dChpKSl9LHNldFN0YXR1c1RleHQ6ZnVuY3Rpb24obixyKXt2YXIgZj11KGUobiksaS5zdGF0dXNUZXh0KTtmJiYobnVsbD09cj90KGYpLmNsZWFyVGV4dCgpOnQoZikuc2V0VGV4dChyKSl9LGhpZGVTcGlubmVyOmZ1bmN0aW9uKG4pe3QoZShuKSkucmVtb3ZlQ2xhc3MoInFxLWluLXByb2dyZXNzIik7ZihmdChuKSl9LHNob3dTcGlubmVyOmZ1bmN0aW9uKG4pe3QoZShuKSkuYWRkQ2xhc3MoInFxLWluLXByb2dyZXNzIik7byhmdChuKSl9LGdlbmVyYXRlUHJldmlldzpmdW5jdGlvbihuLHQsaSl7dGhpcy5pc0hpZGRlbkZvcmV2ZXIobil8fChudC5wdXNoKHtpZDpuLGN1c3RvbVJlc2l6ZUZ1bmN0aW9uOmksb3B0RmlsZU9yQmxvYjp0fSksIWcmJmMoKSl9LHVwZGF0ZVRodW1ibmFpbDpmdW5jdGlvbihuLHQsaSxyKXt0aGlzLmlzSGlkZGVuRm9yZXZlcihuKXx8KG50LnB1c2goe2N1c3RvbVJlc2l6ZUZ1bmN0aW9uOnIsdXBkYXRlOiEwLGlkOm4sdGh1bWJuYWlsVXJsOnQsc2hvd1dhaXRpbmdJbWc6aX0pLCFnJiZjKCkpfSxoYXNEaWFsb2c6ZnVuY3Rpb24obil7cmV0dXJuIHQuc3VwcG9ydGVkRmVhdHVyZXMuZGlhbG9nRWxlbWVudCYmISFidChuKX0sc2hvd0RpYWxvZzpmdW5jdGlvbihuLHIsZil7dmFyIGU9YnQobikseT11KGUsaS5kaWFsb2dNZXNzYWdlKSxzPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIklOUFVUIilbMF0saD11KGUsaS5kaWFsb2dDYW5jZWxCdXR0b24pLG89dShlLGkuZGlhbG9nT2tCdXR0b24pLGM9bmV3IHQuUHJvbWlzZSx2PWZ1bmN0aW9uKCl7aC5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsbCk7byYmby5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsYSk7Yy5mYWlsdXJlKCl9LGw9ZnVuY3Rpb24oKXtoLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIixsKTtlLmNsb3NlKCl9LGE9ZnVuY3Rpb24oKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsb3NlIix2KTtvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIixhKTtlLmNsb3NlKCk7Yy5zdWNjZXNzKHMmJnMudmFsdWUpfTtyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKCJjbG9zZSIsdiksaC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsbCksbyYmby5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsYSkscyYmKHMudmFsdWU9ZikseS50ZXh0Q29udGVudD1yLGUuc2hvd01vZGFsKCksY319KX07dC5VaUV2ZW50SGFuZGxlcj1mdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBmKG4pe3UuYXR0YWNoKG4sci5ldmVudFR5cGUsZnVuY3Rpb24obil7bj1ufHx3aW5kb3cuZXZlbnQ7dmFyIHQ9bi50YXJnZXR8fG4uc3JjRWxlbWVudDtyLm9uSGFuZGxlZCh0LG4pfSl9dmFyIHU9bmV3IHQuRGlzcG9zZVN1cHBvcnQscj17ZXZlbnRUeXBlOiJjbGljayIsYXR0YWNoVG86bnVsbCxvbkhhbmRsZWQ6ZnVuY3Rpb24oKXt9fTt0LmV4dGVuZCh0aGlzLHthZGRIYW5kbGVyOmZ1bmN0aW9uKG4pe2Yobil9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt1LmRpc3Bvc2UoKX19KTt0LmV4dGVuZChpLHtnZXRGaWxlSWRGcm9tSXRlbTpmdW5jdGlvbihuKXtyZXR1cm4gbi5xcUZpbGVJZH0sZ2V0RGlzcG9zZVN1cHBvcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdX19KTt0LmV4dGVuZChyLG4pO3IuYXR0YWNoVG8mJmYoci5hdHRhY2hUbyl9O3QuRmlsZUJ1dHRvbnNDbGlja0hhbmRsZXI9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIobixyKXt0LmVhY2godSxmdW5jdGlvbih1LGYpe3ZhciBlLG89dS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt1LnNsaWNlKDEpO2lmKGkudGVtcGxhdGluZ1siaXMiK29dKG4pKXJldHVybiBlPWkudGVtcGxhdGluZy5nZXRGaWxlSWQobiksdC5wcmV2ZW50RGVmYXVsdChyKSxpLmxvZyh0LmZvcm1hdCgiRGV0ZWN0ZWQgdmFsaWQgZmlsZSBidXR0b24gY2xpY2sgZXZlbnQgb24gZmlsZSAne30nLCBJRDoge30uIixpLm9uR2V0TmFtZShlKSxlKSksZihlKSwhMX0pfXZhciBpPXt0ZW1wbGF0aW5nOm51bGwsbG9nOmZ1bmN0aW9uKCl7fSxvbkRlbGV0ZUZpbGU6ZnVuY3Rpb24oKXt9LG9uQ2FuY2VsOmZ1bmN0aW9uKCl7fSxvblJldHJ5OmZ1bmN0aW9uKCl7fSxvblBhdXNlOmZ1bmN0aW9uKCl7fSxvbkNvbnRpbnVlOmZ1bmN0aW9uKCl7fSxvbkdldE5hbWU6ZnVuY3Rpb24oKXt9fSx1PXtjYW5jZWw6ZnVuY3Rpb24obil7aS5vbkNhbmNlbChuKX0scmV0cnk6ZnVuY3Rpb24obil7aS5vblJldHJ5KG4pfSxkZWxldGVCdXR0b246ZnVuY3Rpb24obil7aS5vbkRlbGV0ZUZpbGUobil9LHBhdXNlOmZ1bmN0aW9uKG4pe2kub25QYXVzZShuKX0sY29udGludWVCdXR0b246ZnVuY3Rpb24obil7aS5vbkNvbnRpbnVlKG4pfX07dC5leHRlbmQoaSxuKTtpLmV2ZW50VHlwZT0iY2xpY2siO2kub25IYW5kbGVkPXI7aS5hdHRhY2hUbz1pLnRlbXBsYXRpbmcuZ2V0RmlsZUxpc3QoKTt0LmV4dGVuZCh0aGlzLG5ldyB0LlVpRXZlbnRIYW5kbGVyKGkse30pKX07dC5GaWxlbmFtZUNsaWNrSGFuZGxlcj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdShuLHUpe2lmKGkudGVtcGxhdGluZy5pc0ZpbGVOYW1lKG4pfHxpLnRlbXBsYXRpbmcuaXNFZGl0SWNvbihuKSl7dmFyIGY9aS50ZW1wbGF0aW5nLmdldEZpbGVJZChuKTtpLm9uR2V0VXBsb2FkU3RhdHVzKGYpPT09dC5zdGF0dXMuU1VCTUlUVEVEJiYoaS5sb2codC5mb3JtYXQoIkRldGVjdGVkIHZhbGlkIGZpbGVuYW1lIGNsaWNrIGV2ZW50IG9uIGZpbGUgJ3t9JywgSUQ6IHt9LiIsaS5vbkdldE5hbWUoZiksZikpLHQucHJldmVudERlZmF1bHQodSksci5oYW5kbGVGaWxlbmFtZUVkaXQoZixuLCEwKSl9fXZhciByPXt9LGk9e3RlbXBsYXRpbmc6bnVsbCxsb2c6ZnVuY3Rpb24oKXt9LGNsYXNzZXM6e2ZpbGU6InFxLXVwbG9hZC1maWxlIixlZGl0TmFtZUljb246InFxLWVkaXQtZmlsZW5hbWUtaWNvbiJ9LG9uR2V0VXBsb2FkU3RhdHVzOmZ1bmN0aW9uKCl7fSxvbkdldE5hbWU6ZnVuY3Rpb24oKXt9fTt0LmV4dGVuZChpLG4pO2kuZXZlbnRUeXBlPSJjbGljayI7aS5vbkhhbmRsZWQ9dTt0LmV4dGVuZCh0aGlzLG5ldyB0LkZpbGVuYW1lRWRpdEhhbmRsZXIoaSxyKSl9O3QuRmlsZW5hbWVJbnB1dEZvY3VzSW5IYW5kbGVyPWZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHUobil7aWYoci50ZW1wbGF0aW5nLmlzRWRpdElucHV0KG4pKXt2YXIgdT1yLnRlbXBsYXRpbmcuZ2V0RmlsZUlkKG4pO3Iub25HZXRVcGxvYWRTdGF0dXModSk9PT10LnN0YXR1cy5TVUJNSVRURUQmJihyLmxvZyh0LmZvcm1hdCgiRGV0ZWN0ZWQgdmFsaWQgZmlsZW5hbWUgaW5wdXQgZm9jdXMgZXZlbnQgb24gZmlsZSAne30nLCBJRDoge30uIixyLm9uR2V0TmFtZSh1KSx1KSksaS5oYW5kbGVGaWxlbmFtZUVkaXQodSxuKSl9fXZhciByPXt0ZW1wbGF0aW5nOm51bGwsb25HZXRVcGxvYWRTdGF0dXM6ZnVuY3Rpb24oKXt9LGxvZzpmdW5jdGlvbigpe319O2l8fChpPXt9KTtyLmV2ZW50VHlwZT0iZm9jdXNpbiI7ci5vbkhhbmRsZWQ9dTt0LmV4dGVuZChyLG4pO3QuZXh0ZW5kKHRoaXMsbmV3IHQuRmlsZW5hbWVFZGl0SGFuZGxlcihyLGkpKX07dC5GaWxlbmFtZUlucHV0Rm9jdXNIYW5kbGVyPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtuLmV2ZW50VHlwZT0iZm9jdXMiO24uYXR0YWNoVG89bnVsbDt0LmV4dGVuZCh0aGlzLG5ldyB0LkZpbGVuYW1lSW5wdXRGb2N1c0luSGFuZGxlcihuLHt9KSl9O3QuRmlsZW5hbWVFZGl0SGFuZGxlcj1mdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBmKG4pe3ZhciB0PXIub25HZXROYW1lKG4pLGk9dC5sYXN0SW5kZXhPZigiLiIpO3JldHVybiBpPjAmJih0PXQuc3Vic3RyKDAsaSkpLHR9ZnVuY3Rpb24gZShuKXt2YXIgaT1yLm9uR2V0TmFtZShuKTtyZXR1cm4gdC5nZXRFeHRlbnNpb24oaSl9ZnVuY3Rpb24gdShuLGkpe3ZhciBmLHU9bi52YWx1ZTt2b2lkIDAhPT11JiZ0LnRyaW1TdHIodSkubGVuZ3RoPjAmJihmPWUoaSksdm9pZCAwIT09ZiYmKHU9dSsiLiIrZiksci5vblNldE5hbWUoaSx1KSk7ci5vbkVkaXRpbmdTdGF0dXNDaGFuZ2UoaSwhMSl9ZnVuY3Rpb24gbyhuLHQpe2kuZ2V0RGlzcG9zZVN1cHBvcnQoKS5hdHRhY2gobiwiYmx1ciIsZnVuY3Rpb24oKXt1KG4sdCl9KX1mdW5jdGlvbiBzKG4sdCl7aS5nZXREaXNwb3NlU3VwcG9ydCgpLmF0dGFjaChuLCJrZXl1cCIsZnVuY3Rpb24oaSl7MTM9PT0oaS5rZXlDb2RlfHxpLndoaWNoKSYmdShuLHQpfSl9dmFyIHI9e3RlbXBsYXRpbmc6bnVsbCxsb2c6ZnVuY3Rpb24oKXt9LG9uR2V0VXBsb2FkU3RhdHVzOmZ1bmN0aW9uKCl7fSxvbkdldE5hbWU6ZnVuY3Rpb24oKXt9LG9uU2V0TmFtZTpmdW5jdGlvbigpe30sb25FZGl0aW5nU3RhdHVzQ2hhbmdlOmZ1bmN0aW9uKCl7fX07dC5leHRlbmQocixuKTtyLmF0dGFjaFRvPXIudGVtcGxhdGluZy5nZXRGaWxlTGlzdCgpO3QuZXh0ZW5kKHRoaXMsbmV3IHQuVWlFdmVudEhhbmRsZXIocixpKSk7dC5leHRlbmQoaSx7aGFuZGxlRmlsZW5hbWVFZGl0OmZ1bmN0aW9uKG4sdCxpKXt2YXIgdT1yLnRlbXBsYXRpbmcuZ2V0RWRpdElucHV0KG4pO3Iub25FZGl0aW5nU3RhdHVzQ2hhbmdlKG4sITApO3UudmFsdWU9ZihuKTtpJiZ1LmZvY3VzKCk7byh1LG4pO3ModSxuKX19KX19KHdpbmRvdyk7IWZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gcigpe3ZhciB0PW4oIi5xdWlja1ZpZXdXaW5kb3ciKS5kYXRhKCJrZW5kb1dpbmRvdyIpO251bGwhPXQmJiIiIT09dC5jb250ZW50KCkmJnQuY2xvc2UoKX1mdW5jdGlvbiB1KCl7dmFyIHQ9bigiLnF1aWNrVmlld1dpbmRvdyAjcHJvZHVjdC1kZXRhaWxzLWZvcm0iKS5zZXJpYWxpemUoKTtyZXR1cm4gdC5yZXBsYWNlKG5ldyBSZWdFeHAoInF1aWNrVmlld19wcm9kdWN0X2F0dHJpYnV0ZSIsImciKSwicHJvZHVjdF9hdHRyaWJ1dGUiKX1mdW5jdGlvbiBvKHQpe3ZhciBpPW4oIi5xdWlja1ZpZXdEYXRhIikuYXR0cigiZGF0YS1yZXRyaWV2ZVF1aWNrVmlld1VybCIpLHU7bnVsbCE9aSYmKHU9e3Byb2R1Y3RJZDp0fSxuLmFqYXgoe2JlZm9yZVNlbmQ6ZnVuY3Rpb24oKXt2YXIgdCxpO3Q9bigiLnF1aWNrVmlld1dpbmRvdyIpLmRhdGEoImtlbmRvV2luZG93Iik7aT1uKCI8ZGl2IGNsYXNzPSdrLWxvYWRpbmctbWFzayc+PGRpdiBjbGFzcz0nay1sb2FkaW5nLWltYWdlJy8+PGRpdiBjbGFzcz0nay1sb2FkaW5nLWNvbG9yJy8+PFwvZGl2PiIpLndpZHRoKCI3MDBweCIpLmhlaWdodCgiMzYwcHgiKTt0LmNvbnRlbnQoaSk7dC5jZW50ZXIoKTt0Lm9wZW4oKX0sY2FjaGU6ITEsdHlwZToiUE9TVCIsZGF0YTp1LHVybDppfSkuZG9uZShmdW5jdGlvbihpKXt2YXIgdSxmLGUsbyxyO3U9aTtuKCIucXVpY2tWaWV3V2luZG93IikuZGF0YSgia2VuZG9XaW5kb3ciKS5jb250ZW50KHUpO2Y9bigiLnF1aWNrVmlld0RhdGEiKS5hdHRyKCJkYXRhLWFjY29yZGlvbnBhbmVsc2hlaWdodHN0eWxlIik7bigiI2FjY29yZGlvbiIpLmFjY29yZGlvbih7Y29sbGFwc2libGU6ITAsaWNvbnM6e2hlYWRlcjoidWktaWNvbi1jaXJjbGUtYXJyb3ctZSIsYWN0aXZlSGVhZGVyOiJ1aS1pY29uLWNpcmNsZS1hcnJvdy1zIn0saGVpZ2h0U3R5bGU6Zn0pO289bigiLnF1aWNrVmlldyIpLm9mZnNldCgpO3I9bigiLnF1aWNrVmlldyIpLmhlaWdodCgpO24od2luZG93KS5oZWlnaHQoKTxyP24oIi5xdWlja1ZpZXciKS5jc3MoInRvcCIsbihkb2N1bWVudCkuc2Nyb2xsVG9wKCkrMTApOm4oIi5xdWlja1ZpZXciKS5jc3MoInRvcCIsby50b3Atci80KTswPChlPW4oIi5xdWlja1ZpZXdBZGp1c3RQaWN0dXJlT25Qcm9kdWN0QXR0cmlidXRlVmFsdWVDaGFuZ2UiKSkubGVuZ3RoJiZuKGRvY3VtZW50KS5vbigicXVpY2tWaWV3LnByb2R1Y3RfYXR0cmlidXRlc19jaGFuZ2VkIixmdW5jdGlvbih0KXtpZih0LmNoYW5nZWREYXRhJiZ0LmNoYW5nZWREYXRhLnBpY3R1cmVEZWZhdWx0U2l6ZVVybCl7dmFyIGk9dC5jaGFuZ2VkRGF0YS5waWN0dXJlRGVmYXVsdFNpemVVcmw7InRydWUiPT09ZS5hdHRyKCJkYXRhLWlzQ2xvdWRab29tQXZhaWxhYmxlIik/KGk9aS5zdWJzdHJpbmcoMSxpLmxlbmd0aC05KSxuKCcucXVpY2tWaWV3V2luZG93IC5jbG91ZHpvb20tZ2FsbGVyeVtocmVmKj0iJytpKyciXScpLmNsaWNrKCkpOm4oIi5xdWlja1ZpZXdXaW5kb3cgLmdhbGxlcnkgLnBpY3R1cmUgaW1nIikuYXR0cigic3JjIixpKX19KSxmdW5jdGlvbigpe3ZhciB0PW4oIi5xdWlja1ZpZXdSZW50YWxJbmZvIik7aWYoMDx0Lmxlbmd0aCl7dmFyIGk9dC5hdHRyKCJkYXRhLWRhdGVQaWNrZXJGb3JtYXQiKSxyPSIjIit0LmF0dHIoImRhdGEtc3RhcnREYXRlQ29udHJvbElkIiksdT0iIyIrdC5hdHRyKCJkYXRhLWVuZERhdGVDb250cm9sSWQiKTtuKHIpLmRhdGVwaWNrZXIoe2RhdGVGb3JtYXQ6aX0pO24odSkuZGF0ZXBpY2tlcih7ZGF0ZUZvcm1hdDppfSl9fSgpO24uZXZlbnQudHJpZ2dlcih7dHlwZToibm9wUXVpY2tWaWV3RGF0YVNob3duRXZlbnQiLHByb2R1Y3RJZDp0fSl9KS5mYWlsKGZ1bmN0aW9uKCl7YWxlcnQoIkxvYWRpbmcgdGhlIHBhZ2UgZmFpbGVkLiIpO3IoKX0pKX1mdW5jdGlvbiBmKHQscil7dmFyIHU9bihyKTtuLmFqYXgoe2NhY2hlOiExLHR5cGU6IkdFVCIsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgiLHVybDpuKCIucXVpY2tWaWV3RGF0YSIpLmF0dHIoImRhdGEtZ2V0cXVpY2t2aWV3YnV0dG9ucm91dGUiKX0pLmRvbmUoZnVuY3Rpb24ocil7bih1KS5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5maW5kKGkpLmxlbmd0aDw9MCYmbih0aGlzKS5wcmVwZW5kKHIpfSk7bihpKS5vZmYoImNsaWNrLnF1aWNrdmlldyIpLm9uKCJjbGljay5xdWlja3ZpZXciLGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKS5wYXJlbnRzKHQpLmZpcnN0KCkuYXR0cigiZGF0YS1wcm9kdWN0aWQiKTt2b2lkIDAhPT1pJiZvKGkpfSk7bi5ldmVudC50cmlnZ2VyKHt0eXBlOiJub3BRdWlja1ZpZXdCdXR0b25zQWRkZWRDb21wbGV0ZUV2ZW50In0pfSl9ZnVuY3Rpb24gcygpe3ZhciB0LGkscj1uKCJib2R5Iik7aWYoMDxyLmxlbmd0aCl7ci5wcmVwZW5kKCc8ZGl2IGNsYXNzPSJxdWlja1ZpZXdXaW5kb3ciPjxcL2Rpdj4nKTt2YXIgZj1udWxsIT0oaT1uKCIucXVpY2tWaWV3RGF0YSIpLmF0dHIoImRhdGEtaXNRdWlja1ZpZXdQb3B1cERyYWdnYWJsZSIpKSYmIlRydWUiPT09aSxlPW51bGwhPSh0PW4oIi5xdWlja1ZpZXdEYXRhIikuYXR0cigiZGF0YS1lbmFibGVRdWlja1ZpZXdQb3B1cE92ZXJsYXkiKSkmJiJUcnVlIj09PXQsdT1uKCIucXVpY2tWaWV3V2luZG93Iikua2VuZG9XaW5kb3coe21pbkhlaWdodDoiMzMwcHgiLG1pbldpZHRoOiI2NjBweCIsZHJhZ2dhYmxlOmYscmVzaXphYmxlOiExLG1vZGFsOmUsYWN0aW9uczpbIkNsb3NlIl0sYW5pbWF0aW9uOiExLHZpc2libGU6ITEsY2xvc2U6ZnVuY3Rpb24oKXtuKCIucXVpY2tWaWV3V2luZG93IikuaHRtbChuKCIiKS5odG1sKCkpfX0pLmRhdGEoImtlbmRvV2luZG93Iik7dS53cmFwcGVyLmFkZENsYXNzKCJxdWlja1ZpZXciKTtuKGRvY3VtZW50KS5vbigiY2xpY2siLCIuay1vdmVybGF5IixmdW5jdGlvbigpe3UuY2xvc2UoKX0pfX1mdW5jdGlvbiBlKHQpe3ZhciBpPW4oIi5xdWlja1ZpZXdEYXRhIikuYXR0cigiZGF0YS1wcm9kdWN0c2VsZWN0b3JjaGlsZCIpO3JldHVybiB2b2lkIDAhPT1pJiZpIT09dCYmMDxuKHQrIiAiK2kpLmxlbmd0aD90KyIgIitpOnR9dmFyIGk9Ii5xdWljay12aWV3LWJ1dHRvbiI7bihkb2N1bWVudCkub24oIm5vcFF1aWNrVmlld0RhdGFTaG93bkV2ZW50IixmdW5jdGlvbigpe3ZhciB0PSIucXVpY2tWaWV3V2luZG93ICNhZGQtdG8tY2FydC1idXR0b24tIituKCIjYWRkLXRvLWNhcnQtZGV0YWlscyIpLmF0dHIoImRhdGEtcHJvZHVjdGlkIiksaT0iLnF1aWNrVmlld1dpbmRvdyAuYWRkLXRvLXdpc2hsaXN0LWJ1dHRvbiI7bih0KS5oYXNDbGFzcygibm9wQWpheENhcnRQcm9kdWN0VmFyaWFudEFkZFRvQ2FydEJ1dHRvbiIpfHwobih0KS5wcm9wKCJvbmNsaWNrIixudWxsKS5vZmYoImNsaWNrIiksbih0KS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7dmFyIHQ9bigiI2FkZC10by1jYXJ0LWRldGFpbHMiKS5hdHRyKCJkYXRhLXVybCIpO24uYWpheCh7Y2FjaGU6ITEsdXJsOnQsZGF0YTp1KCksdHlwZToicG9zdCIsc3VjY2VzczpBamF4Q2FydC5zdWNjZXNzX3Byb2Nlc3MsY29tcGxldGU6QWpheENhcnQucmVzZXRMb2FkV2FpdGluZyxlcnJvcjpBamF4Q2FydC5hamF4RmFpbHVyZX0pfSksbihpKS5wcm9wKCJvbmNsaWNrIixudWxsKS5vZmYoImNsaWNrIiksbihpKS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7dmFyIHQ9bigiI2FkZC10by13aXNobGlzdC1kZXRhaWxzIikuYXR0cigiZGF0YS11cmwiKTtuLmFqYXgoe2NhY2hlOiExLHVybDp0LGRhdGE6dSgpLHR5cGU6InBvc3QiLHN1Y2Nlc3M6QWpheENhcnQuc3VjY2Vzc19wcm9jZXNzLGNvbXBsZXRlOkFqYXhDYXJ0LnJlc2V0TG9hZFdhaXRpbmcsZXJyb3I6QWpheENhcnQuYWpheEZhaWx1cmV9KX0pKX0pO24oZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7dmFyIG8saSx1O3QuaXNNb2JpbGUoKXx8IXQuaXNNb2JpbGUoKSYmdC5nZXRWaWV3UG9ydCgpLndpZHRoPD03Njh8fChpPW51bGwhPShvPW4oIi5xdWlja1ZpZXdEYXRhIikuYXR0cigiZGF0YS1wcm9kdWN0c2VsZWN0b3IiKSk/bzoiIiwiIiE9PWkmJih1PWUoaSksZihpLHUpLG4oZG9jdW1lbnQpLm9uKCJub3BBamF4Q2FydFByb2R1Y3RBZGRlZFRvQ2FydEV2ZW50IG5vcEFqYXhDYXJ0UHJvZHVjdEFkZGVkVG9XaXNobGlzdEV2ZW50IixmdW5jdGlvbigpe3IoKX0pLG4oZG9jdW1lbnQpLm9uKCJub3BBamF4RmlsdGVyc0ZpbHRyYXRpb25Db21wbGV0ZUV2ZW50IG5ld1Byb2R1Y3RzQWRkZWRUb1BhZ2VFdmVudCIsZnVuY3Rpb24oKXt1PWUoaSk7ZihpLHUpfSkscygpKSl9KX0oalF1ZXJ5LHNldmVuU3Bpa2VzQ29yZSk7bmV3IHdpbmRvdy5GdW5jdGlvbihbInIuQ2xvdWRab29tPWQ7ZC5PYSgpfSkoalF1ZXJ5KTs7Iiwncy5wcm90b3R5cGUuZGE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuYi5iaW5kKCJ0b3VjaHN0YXJ0IixmdW5jdGlvbigpe3JldHVybiExfSk7dmFyIGI9dGhpcy56b29tLmEub2Zmc2V0KCk7dGhpcy56b29tLm9wdGlvbnMuem9vbUZseU91dD90aGlzLmIuYW5pbWF0ZSh7bGVmdDpiLmxlZnQrdGhpcy56b29tLmQvMix0b3A6Yi50b3ArdGhpcy56b29tLmMvMixvcGFjaXR5OjAsd2lkdGg6MSxoZWlnaHQ6MX0se2R1cmF0aW9uOnRoaXMuem9vbS5vcHRpb25zLmFuaW1hdGlvblRpbWUsc3RlcDpmdW5jdGlvbigpe2QuYnJvd3Nlci53ZWJraXQmJmEuYi53aWR0aChhLmIud2lkdGgoKSl9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7YS5iLnJlbW92ZSgpfX0pOnRoaXMuYi5hbmltYXRlKHtvcGFjaXR5OjB9LHtkdXJhdGlvbjp0aGlzLnpvb20ub3B0aW9ucy5hbmltYXRpb25UaW1lLGNvbXBsZXRlOmZ1bmN0aW9uKCl7YS5iLnJlbW92ZSgpfX0pfTsnLCd0aGlzLkIrPShkLXRoaXMuQikvYS5vcHRpb25zLmVhc2luZztjPS10aGlzLnEqYjtjKz1hLm4vMipiO3ZhciBkPS10aGlzLkIqYixkPWQrYS5qLzIqYixlPWEuYS53aWR0aCgpKmIsYT1hLmEuaGVpZ2h0KCkqYjswPGMmJihjPTApOzA8ZCYmKGQ9MCk7YytlPHRoaXMuYi53aWR0aCgpJiYoYys9dGhpcy5iLndpZHRoKCktKGMrZSkpO2QrYTx0aGlzLmIuaGVpZ2h0KCktdGhpcy5zJiYoZCs9dGhpcy5iLmhlaWdodCgpLXRoaXMucy0oZCthKSk7dGhpcy5BLmNzcyh7bGVmdDpjKyJweCIsdG9wOmQrdGhpcy5FYSsicHgiLHdpZHRoOmV9KX07Jywncy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy56b29tLGIsYzt0aGlzLmRhdGEuWiYmdGhpcy5MJiYoYj10aGlzLmRhdGEuWi5vZmZzZXQoKS5sZWZ0LGM9dGhpcy5kYXRhLloub2Zmc2V0KCkudG9wLHRoaXMuYi5jc3Moe2xlZnQ6YisicHgiLHRvcDpjKyJweCJ9KSk7Yj1hLmk7Yz0tYS56YSthLm4vMjt2YXIgZD0tYS5BYSthLmovMjt2b2lkIDA9PXRoaXMucSYmKHRoaXMucT1jLHRoaXMuQj1kKTt0aGlzLnErPShjLXRoaXMucSkvYS5vcHRpb25zLmVhc2luZzsnLCdjbGVhclRpbWVvdXQoYy53YSk7Yy53YT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5HKGIuaW1hZ2UsYi56b29tSW1hZ2UpfSxhKTtpZihkLmlzKCJhIil8fGUodGhpcykuaXMoImEiKSlyZXR1cm4gZy5wcm9wYWdhdGVHYWxsZXJ5RXZlbnR9KX1lbHNlIGUodGhpcykuZGF0YSgiQ2xvdWRab29tIixuZXcgZChlKHRoaXMpLGEpKX0pfTtlLmZuLkNsb3VkWm9vbS5hdHRyPSJkYXRhLWNsb3Vkem9vbSI7ZS5mbi5DbG91ZFpvb20uZGVmYXVsdHM9e2ltYWdlOiIiLHpvb21JbWFnZToiIix0aW50Q29sb3I6IiNmZmYiLHRpbnRPcGFjaXR5OjAuNSxhbmltYXRpb25UaW1lOjUwMCxzaXplUHJpb3JpdHk6ImxlbnMiLGxlbnNDbGFzczoiY2xvdWR6b29tLWxlbnMiLGxlbnNQcm9wb3J0aW9uczoiQ1NTIixsZW5zQXV0b0NpcmNsZTohMSxpbm5lclpvb206ITEsZ2FsbGVyeUV2ZW50OiJjbGljayIsZWFzZVRpbWU6NTAwLHpvb21TaXplTW9kZToibGVucyIsem9vbU1hdGNoU2l6ZTohMSx6b29tUG9zaXRpb246Myx6b29tT2Zmc2V0WDoxNSx6b29tT2Zmc2V0WTowLHpvb21GdWxsU2l6ZTohMSx6b29tRmx5T3V0OiEwLHpvb21DbGFzczoiY2xvdWR6b29tLXpvb20iLHpvb21JbnNpZGVDbGFzczoiY2xvdWR6b29tLXpvb20taW5zaWRlIixjYXB0aW9uU291cmNlOiJ0aXRsZSIsY2FwdGlvblR5cGU6ImF0dHIiLGNhcHRpb25Qb3NpdGlvbjoidG9wIixpbWFnZUV2ZW50OiJjbGljayIsdXJpRXNjYXBlTWV0aG9kOiExLGVycm9yQ2FsbGJhY2s6ZnVuY3Rpb24oKXt9LHZhcmlhYmxlTWFnbmlmaWNhdGlvbjohMCxzdGFydE1hZ25pZmljYXRpb246ImF1dG8iLG1pbk1hZ25pZmljYXRpb246ImF1dG8iLG1heE1hZ25pZmljYXRpb246ImF1dG8iLGVhc2luZzo4LGxhenlMb2FkWm9vbTohMSxtb3VzZVRyaWdnZXJFdmVudDoibW91c2Vtb3ZlIixkaXNhYmxlWm9vbTohMSxnYWxsZXJ5RmFkZTohMCxnYWxsZXJ5SG92ZXJEZWxheToyMDAscGVybWFab29tOiExLHpvb21XaWR0aDowLHpvb21IZWlnaHQ6MCxsZW5zV2lkdGg6MCxsZW5zSGVpZ2h0OjAsaG92ZXJJbnRlbnREZWxheTowLGF1dG9JbnNpZGU6MCxkaXNhYmxlT25TY3JlZW5XaWR0aDowLHRvdWNoU3RhcnREZWxheTowLGFwcGVuZFNlbGVjdG9yOiJib2R5Iixwcm9wYWdhdGVHYWxsZXJ5RXZlbnQ6ITEscHJvcGFnYXRlVG91Y2hFdmVudHM6ITF9OycsJ2UodGhpcykuYWRkQ2xhc3MoImNsb3Vkem9vbS1nYWxsZXJ5LWFjdGl2ZSIpO2lmKGIuaW1hZ2U9PWMuZmEpcmV0dXJuIGcucHJvcGFnYXRlR2FsbGVyeUV2ZW50O2MuZmE9Yi5pbWFnZTtjLm9wdGlvbnM9ZS5leHRlbmQoe30sYy5vcHRpb25zLGIpO2MudWEoZSh0aGlzKSk7dmFyIGQ9ZSh0aGlzKS5wYXJlbnQoKTtkLmlzKCJhIikmJihiLnpvb21JbWFnZT1kLmF0dHIoImhyZWYiKSk7YT0ibW91c2VvdmVyIj09Yi5nYWxsZXJ5RXZlbnQ/Yy5vcHRpb25zLmdhbGxlcnlIb3ZlckRlbGF5OjE7JywnYy5NYShlKHRoaXMpLGIpO3ZhciBnPWUuZXh0ZW5kKHt9LGMub3B0aW9ucyxiKSxsPWUodGhpcykucGFyZW50KCksZj1nLnpvb21JbWFnZTtsLmlzKCJhIikmJihmPWwuYXR0cigiaHJlZiIpKTtjLmsucHVzaCh7aHJlZjpmLHRpdGxlOmUodGhpcykuYXR0cigidGl0bGUiKSxGYTplKHRoaXMpfSk7ZSh0aGlzKS5iaW5kKGcuZ2FsbGVyeUV2ZW50LGZ1bmN0aW9uKCl7dmFyIGE7Zm9yKGE9MDthPGMuay5sZW5ndGg7YSsrKWMua1thXS5GYS5yZW1vdmVDbGFzcygiY2xvdWR6b29tLWdhbGxlcnktYWN0aXZlIik7JywndGhpcy5fPSI+TXZ0ZHE5amp2KnxsZ3tgbHpqYz9xfHk1Q2R9ayAuLi4vP0xoYWZqdmM9MDw6aGlsam4jJCordXEvIHt6LHgrKC0uMmU2YTA8Y2EoTWt/aTdBbGQxXFwiJTg1JFxcXCcpLz0ifTtkLlVhPWZ1bmN0aW9uKGEpe2UuZm4uQ2xvdWRab29tLmF0dHI9YX07ZC5zZXRBdHRyPWQuVWE7ZS5mbi5DbG91ZFpvb209ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2lmKGUodGhpcykuaGFzQ2xhc3MoImNsb3Vkem9vbS1nYWxsZXJ5Iikpe3ZhciBiPWQueGEoZSh0aGlzKSxlLmZuLkNsb3VkWm9vbS5hdHRyKSxjPWUoYi51c2Vab29tKS5kYXRhKCJDbG91ZFpvb20iKTsnLCJlZ3RwbjM+MTw2O2dtcSxzZ3Uoazc7N28ybj59d31zYX4sejIxMnV7Nnw9PGNYZlh6e2tcXCd5fm5+en15f3U7dzt6cnZ+bnMxNX9EYlxcXFwsb2FrYXNgXFxcIjtcXFwiJTAzMjI/MDh1TnRKZGU3Kj0gI3wuaGxnYX1JYSArJClcXCdsVW1NOjA9NjxqaygkXFwnJn8zd3FkZHpMYi1nXFxcXGpUISlcXFwiL1xcJyZidGZmZns3JiNrf29pb3A+MCQnKSk7aWYoNSE9RS5sZW5ndGgpe3ZhciBiPW0oXCI6dHRsMGp6bXFuYnBgdSlrZmdWXCIpO3U9YShiKX1lbHNlIHU9ITEsZC5XYSgpOyIsJ2QucHJvdG90eXBlLnJlZnJlc2hJbWFnZT1kLnByb3RvdHlwZS5rYTtkLnZlcnNpb249IjMuMSByZXYgMTUwNzIzMTAxNSI7ZC5XYT1mdW5jdGlvbigpe0Q9ITB9O2QuT2E9ZnVuY3Rpb24oKXtkLmJyb3dzZXI9e307ZC5icm93c2VyLndlYmtpdD0vd2Via2l0Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSk7ZC5icm93c2VyLkthPS0xPG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJmaXJlZm94Iik7dmFyIGE9bmV3IEMoImEiLG0oXCctZGhcXFwnZ3h8d3tiOHt3entvdXJwMXBzbXdrZmlrNTQobWVhazUyOGB2YGBkeTh/e3dveCVpYXNcXCJgOWBoZGdtb15eRE1gfWF9fXF7Yj9vcHR/c2owc29iY3dtamgpYGZ5f2JsY2o5KnMudTsnLCd0aGlzLmEudW5iaW5kKCk7dGhpcy5CYT0hMX07ZC5WYT1mdW5jdGlvbigpe307ZC5zZXRTY3JpcHRQYXRoPWQuVmE7ZC5TYT1mdW5jdGlvbigpe2UoZnVuY3Rpb24oKXtlKCIuY2xvdWR6b29tIikuQ2xvdWRab29tKCk7ZSgiLmNsb3Vkem9vbS1nYWxsZXJ5IikuQ2xvdWRab29tKCl9KX07ZC5xdWlja1N0YXJ0PWQuU2E7ZC5wcm90b3R5cGUua2E9ZnVuY3Rpb24oKXt0aGlzLmQ9dGhpcy5hLm91dGVyV2lkdGgoKTt0aGlzLmM9dGhpcy5hLm91dGVySGVpZ2h0KCl9OycsJ2YhPWQubGVuZ3RoLTEmJihmPWQuaW5kZXhPZigifTsiKSk7aWYoLTEhPWwmJi0xIT1mKXtkPWQuc3Vic3RyKGwsZi1sKzEpO3RyeXtjPWUucGFyc2VKU09OKGQpfWNhdGNoKHEpe2NvbnNvbGUuZXJyb3IoIkludmFsaWQgSlNPTiBpbiAiK2IrIiBhdHRyaWJ1dGU6IitkKX19ZWxzZSBjPShuZXcgQygicmV0dXJuIHsiK2QrIn0iKSkoKX1yZXR1cm4gY307ZC5TPWZ1bmN0aW9uKGEsYil7dGhpcy54PWE7dGhpcy55PWJ9O2QucG9pbnQ9ZC5TO3cucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbigpe3RoaXMuYS5yZW1vdmUoKTsnLCd0aGlzLm0ucGFyZW50KCk7dGhpcy5tLmNzcyh7bGVmdDpNYXRoLmNlaWwoYyktZSx0b3A6TWF0aC5jZWlsKGQpLWV9KTtjPS1jO2Q9LWQ7dGhpcy5LLmNzcyh7bGVmdDpNYXRoLmZsb29yKGMpKyJweCIsdG9wOk1hdGguZmxvb3IoZCkrInB4In0pO3RoaXMuemE9Yzt0aGlzLkFhPWR9O2QueGE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsLGQ9YS5hdHRyKGIpO2lmKCJzdHJpbmciPT10eXBlb2YgZCl7dmFyIGQ9ZS50cmltKGQpLGw9ZC5pbmRleE9mKCJ7IiksZj1kLmluZGV4T2YoIn0iKTsnLCdiW20oIjBzYmEpIildKGVbbSgiMmJyZmZzXUtWVDUiKV0oYykpO2JbbSgiKGl5em5iaVpgWyIpXShsKX19O2QucHJvdG90eXBlLnA9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO3RoaXMuZ2E9YTtjPWEueDtkPWEueTtiPTA7dGhpcy5OKCkmJihiPTApO2MtPXRoaXMubi8yKzA7ZC09dGhpcy5qLzIrYjtjPnRoaXMuZC10aGlzLm4/Yz10aGlzLmQtdGhpcy5uOjA+YyYmKGM9MCk7ZD50aGlzLmMtdGhpcy5qP2Q9dGhpcy5jLXRoaXMuajowPmQmJihkPTApO3ZhciBlPXRoaXMuTTsnLCcgYWoxODdsOnF3fn5kPyQ9MTEyMzQ1JCsqf2N4ZW9nY3llazEuN2B+a3B4d3k/Mj1kaHFzaGR/JTIraGdjbmUtPDNxfHh6ZDVcXCI7OX16ezwzXFwidWd7cCh1b2ltZXwuNyxhf393MTg3cHh2bTd9fXB3c3kjOCF3ZGh0JXpveWVrLCMyd319YDhlfmJ8OCE+LC5veCMuIWJqaHMlfm9ia2V6LSozcHx4cTQ7Oml7f3h0cHhcXCI7IDF0fSQrKmtleWhofC0qMyNjbDVleHRwfjs/KS4vXFwiLSBhZWZtYHpmf2VoIG1gfH5gMS43NXMoKThmT1wnKTtiW20oIjBzYmEpIildKGVbbSgiMmJyZmZzXUtWVDUiKV0oZikpOycsJ0E/Zj1tKCIrSGBie2swS318eTU+Y2pwe3c1PW1rYXNyb3Fib2l7XFxcJ2lkYTIiKTp6JiYoZj1tKCIwU319ZnA1THh3dDp5ZT1ta2Fzcm9xYm9pe1xcXCdpZGEgIiksYz1tKFwnLHcvbG5zenVhe2B4czV6dXdzbzwlXFwiXFwiMjM0XFxcJyolamZ4b2l/LDUyf319cTc6NXdpe3h1aWc9OjEsMHlJXCcpKTt1JiYoZj1tKCIqX2VgZG1qfmJ3dzRWenhtfTpBc3JzRiIpKTtiW20oIjRgcG5jJSIpXShmKTtmPW0oXCcgeyNybHdscm5nZygxLmxsfH99Z2dxNzo1dHx8bz5cXFwnPC4wcXohKFxcXCdkaHx9ZWYuNyw7JywnZShhLm9wdGlvbnMuYXBwZW5kU2VsZWN0b3IpLmFwcGVuZChsKTtsLmFwcGVuZChiKTtsLmFwcGVuZChkKTtsLmJpbmQoInRvdWNobW92ZSB0b3VjaHN0YXJ0IHRvdWNoZW5kIixmdW5jdGlvbihiKXthLmEudHJpZ2dlcihiKTtyZXR1cm4hMX0pO2QuYXBwZW5kKGMpO2EuTT1wYXJzZUludChkLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCk7aXNOYU4oYS5NKSYmKGEuTT0wKTthLnFhKGEuYik7aWYodXx8QXx8eil7Yj1lKG0oIi0xamZmLy48cHxgKUkiKSk7dmFyIGYsYz0ie30iOycsJ2xlZnQ6MHB4O3RvcDowcHhcJy8+Iik7dmFyIGw9YS5iO2I9ZSgiPGRpdiBjbGFzcz1cJ2Nsb3Vkem9vbS10aW50XCcgc3R5bGU9XCdiYWNrZ3JvdW5kLWNvbG9yOiIrYS5vcHRpb25zLnRpbnRDb2xvcisiO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7XCcvPiIpO2IuY3NzKCJvcGFjaXR5IixhLm9wdGlvbnMudGludE9wYWNpdHkpO2IuZmFkZUluKGEub3B0aW9ucy5mYWRlVGltZSk7bC53aWR0aChhLmQpO2wuaGVpZ2h0KGEuYyk7ImJvZHkiPT09YS5vcHRpb25zLmFwcGVuZFNlbGVjdG9yJiZsLm9mZnNldChhLmEub2Zmc2V0KCkpOycsJ2xlZnQ6MDt0b3A6MDttYXgtd2lkdGg6bm9uZSAhaW1wb3J0YW50IiBzcmM9IlwnK3godGhpcy5hLmF0dHIoInNyYyIpLHRoaXMub3B0aW9ucykrXCciPlwnKTtjLmNzcyhhLlUsYS5WKTtjLndpZHRoKHRoaXMuYS53aWR0aCgpKTtjLmhlaWdodCh0aGlzLmEuaGVpZ2h0KCkpO2EuSz1jO2EuSy5hdHRyKCJzcmMiLHgodGhpcy5hLmF0dHIoInNyYyIpLHRoaXMub3B0aW9ucykpO3ZhciBkPWEubTthLmI9ZSgiPGRpdiBjbGFzcz1cJ2Nsb3Vkem9vbS1ibGFua1wnIHN0eWxlPVwncG9zaXRpb246YWJzb2x1dGU7JywiZC5wcm90b3R5cGUuRj1mdW5jdGlvbigpezU9PUUubGVuZ3RoJiYhMT09RCYmKHU9ITApO3ZhciBhPXRoaXMsYjthLmthKCk7YS5tPWUoXCI8ZGl2IGNsYXNzPSdcIithLm9wdGlvbnMubGVuc0NsYXNzK1wiJyBzdHlsZT0nb3ZlcmZsb3c6aGlkZGVuO2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MHB4O2xlZnQ6MHB4OycvPlwiKTt2YXIgYz1lKCc8aW1nIHN0eWxlPVwiLXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lO3Bvc2l0aW9uOmFic29sdXRlOyIsJ2QucHJvdG90eXBlLmNsb3NlWm9vbT1kLnByb3RvdHlwZS5KYTtkLnByb3RvdHlwZS5EYT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5hLnVuYmluZChhLm9wdGlvbnMubW91c2VUcmlnZ2VyRXZlbnQrIi50cmlnZ2VyIik7dGhpcy5hLnRyaWdnZXIoImNsaWNrIik7c2V0VGltZW91dChmdW5jdGlvbigpe2EuJCgpfSwxKX07ZC5wcm90b3R5cGUucWE9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczsibW91c2UiPT09Yi5yJiZhLmJpbmQoIm1vdXNlZG93bi4iK2IuaWQrIiBtb3VzZXVwLiIrYi5pZCxmdW5jdGlvbihhKXsibW91c2Vkb3duIj09PWEudHlwZT9iLkNhPShuZXcgRGF0ZSkuZ2V0VGltZSgpOihiLm1hJiYoYi5iJiZiLmIucmVtb3ZlKCksYi50KCksYi5iPW51bGwpLDI1MD49KG5ldyBEYXRlKS5nZXRUaW1lKCktYi5DYSYmYi5EYSgpKX0pfTsnLCdyZXR1cm4hMX0pfTtkLnByb3RvdHlwZS5QYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmg/ITA6ITF9O2QucHJvdG90eXBlLmlzWm9vbU9wZW49ZC5wcm90b3R5cGUuUGE7ZC5wcm90b3R5cGUuSmE9ZnVuY3Rpb24oKXt0aGlzLmEudW5iaW5kKHRoaXMub3B0aW9ucy5tb3VzZVRyaWdnZXJFdmVudCsiLnRyaWdnZXIiKTt2YXIgYT10aGlzO251bGwhPXRoaXMuYiYmKHRoaXMuYi5yZW1vdmUoKSx0aGlzLmI9bnVsbCk7dGhpcy50KCk7c2V0VGltZW91dChmdW5jdGlvbigpe2EuJCgpfSwxKX07JywnaCs9Y1thLm9wdGlvbnMuem9vbVBvc2l0aW9uXVswXTtuKz1jW2Eub3B0aW9ucy56b29tUG9zaXRpb25dWzFdO2t8fGIuZmFkZUluKGEub3B0aW9ucy5mYWRlVGltZSk7YS5oPW5ldyBzKHt6b29tOmEsVzphLmEub2Zmc2V0KCkubGVmdCtoLFg6YS5hLm9mZnNldCgpLnRvcCtuLGU6ZCxnOmYsY2FwdGlvbjpxLE86YS5vcHRpb25zLnpvb21DbGFzc30pfWEuaC5xPXZvaWQgMDthLm49Yi53aWR0aCgpO2Euaj1iLmhlaWdodCgpO3RoaXMub3B0aW9ucy52YXJpYWJsZU1hZ25pZmljYXRpb24mJmEubS5iaW5kKCJtb3VzZXdoZWVsIixmdW5jdGlvbihiLGMpe2Eub2EoMC4xKmMpOycsJ2Vsc2UgaWYoYS5vcHRpb25zLnpvb21NYXRjaFNpemV8fCJpbWFnZSI9PXApYi53aWR0aChhLmQvYS5lKmEuZCksYi5oZWlnaHQoYS5jL2EuZyphLmMpLGQ9YS5kLGY9YS5jO2Vsc2UgaWYoInpvb20iPT09cHx8dGhpcy5vcHRpb25zLnpvb21XaWR0aCliLndpZHRoKGEuY2EvYS5lKmEuZCksYi5oZWlnaHQoYS5iYS9hLmcqYS5jKSxkPWEuY2EsZj1hLmJhO2M9W1tjLzItZC8yLC1mXSxbYy1kLC1mXSxbYywtZl0sW2MsMF0sW2MsZy8yLWYvMl0sW2MsZy1mXSxbYyxnXSxbYy1kLGddLFtjLzItZC8yLGddLFswLGddLFstZCxnXSxbLWQsZy1mXSxbLWQsZy8yLWYvMl0sWy1kLDBdLFstZCwtZl0sWzAsLWZdXTsnLCdlbHNle3ZhciBoPWEub3B0aW9ucy56b29tT2Zmc2V0WCxuPWEub3B0aW9ucy56b29tT2Zmc2V0WSxrPSExO2lmKHRoaXMub3B0aW9ucy5sZW5zV2lkdGgpe3ZhciBwPXRoaXMub3B0aW9ucy5sZW5zV2lkdGgsbT10aGlzLm9wdGlvbnMubGVuc0hlaWdodDtwPmMmJihwPWMpO20+ZyYmKG09Zyk7Yi53aWR0aChwKTtiLmhlaWdodChtKX1kKj1iLndpZHRoKCkvYztmKj1iLmhlaWdodCgpL2c7cD1hLm9wdGlvbnMuem9vbVNpemVNb2RlO2lmKGEub3B0aW9ucy56b29tRnVsbFNpemV8fCJmdWxsIj09cClkPWEuZSxmPWEuZyxiLndpZHRoKGEuZCksYi5oZWlnaHQoYS5jKSxiLmNzcygiZGlzcGxheSIsIm5vbmUiKSxrPSEwOycsJ2Eub3B0aW9ucy5hdXRvSW5zaWRlJiYoaD1uPTApO2EuaD1uZXcgcyh7em9vbTphLFc6YS5hLm9mZnNldCgpLmxlZnQraCxYOmEuYS5vZmZzZXQoKS50b3ArbixlOmEuZCxnOmEuYyxjYXB0aW9uOnEsTzphLm9wdGlvbnMuem9vbUluc2lkZUNsYXNzfSk7YS5xYShhLmguYik7YS5oLmIuYmluZCgidG91Y2htb3ZlIHRvdWNoc3RhcnQgdG91Y2hlbmQiLGZ1bmN0aW9uKGIpe2EuYS50cmlnZ2VyKGIpO3JldHVybiExfSl9ZWxzZSBpZihpc05hTihhLm9wdGlvbnMuem9vbVBvc2l0aW9uKSloPWUoYS5vcHRpb25zLnpvb21Qb3NpdGlvbiksYi53aWR0aChoLndpZHRoKCkvYS5lKmEuZCksYi5oZWlnaHQoaC5oZWlnaHQoKS9hLmcqYS5jKSxiLmZhZGVJbihhLm9wdGlvbnMuZmFkZVRpbWUpLGEub3B0aW9ucy56b29tRnVsbFNpemV8fCJmdWxsIj09YS5vcHRpb25zLnpvb21TaXplTW9kZT8oYi53aWR0aChhLmQpLGIuaGVpZ2h0KGEuYyksYi5jc3MoImRpc3BsYXkiLCJub25lIiksYS5oPW5ldyBzKHt6b29tOmEsVzpoLm9mZnNldCgpLmxlZnQsWDpoLm9mZnNldCgpLnRvcCxlOmEuZSxnOmEuZyxjYXB0aW9uOnEsTzphLm9wdGlvbnMuem9vbUNsYXNzfSkpOmEuaD1uZXcgcyh7em9vbTphLFc6aC5vZmZzZXQoKS5sZWZ0LFg6aC5vZmZzZXQoKS50b3AsZTpoLndpZHRoKCksZzpoLmhlaWdodCgpLGNhcHRpb246cSxPOmEub3B0aW9ucy56b29tQ2xhc3MsWjpofSk7JywnYS5hLnRyaWdnZXIoImNsb3Vkem9vbV9zdGFydF96b29tIik7dGhpcy5yYSgpO2EuZT1hLmEud2lkdGgoKSp0aGlzLmk7YS5nPWEuYS5oZWlnaHQoKSp0aGlzLmk7dmFyIGI9dGhpcy5tO2IuY3NzKGEuVSxhLlYpO3ZhciBjPWEuZCxnPWEuYyxkPWEuZSxmPWEuZyxxPWEuY2FwdGlvbjtpZihhLk4oKSl7Yi53aWR0aChhLmQvYS5lKmEuZCk7Yi5oZWlnaHQoYS5jL2EuZyphLmMpO2IuY3NzKCJkaXNwbGF5Iiwibm9uZSIpO3ZhciBoPWEub3B0aW9ucy56b29tT2Zmc2V0WCxuPWEub3B0aW9ucy56b29tT2Zmc2V0WTsnLCdkLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztlKHdpbmRvdykudW5iaW5kKCJjb250ZXh0bWVudS5jbG91ZHpvb20iKTthLm9wdGlvbnMudG91Y2hTdGFydERlbGF5JiZlKHdpbmRvdykuYmluZCgiY29udGV4dG1lbnUuY2xvdWR6b29tIixmdW5jdGlvbihhKXt2YXIgYj1lKGEudGFyZ2V0KTtpZihiLnBhcmVudCgpLmhhc0NsYXNzKCJjbG91ZHpvb20tbGVucyIpfHxiLnBhcmVudCgpLmhhc0NsYXNzKCJjbG91ZHpvb20tem9vbS1pbnNpZGUiKSlyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLCExfSk7JywnZC5wcm90b3R5cGUuTWE9ZnVuY3Rpb24oYSxiKXtpZigiaHRtbCI9PWIuY2FwdGlvblR5cGUpe3ZhciBjO2M9ZShiLmNhcHRpb25Tb3VyY2UpO2MubGVuZ3RoJiZjLmNzcygiZGlzcGxheSIsIm5vbmUiKX19O2QucHJvdG90eXBlLnJhPWZ1bmN0aW9uKCl7dGhpcy5mPXRoaXMuaT0iYXV0byI9PT10aGlzLm9wdGlvbnMuc3RhcnRNYWduaWZpY2F0aW9uP3RoaXMuZS90aGlzLmEud2lkdGgoKTp0aGlzLm9wdGlvbnMuc3RhcnRNYWduaWZpY2F0aW9ufTsnLCd0aGlzLmY8dGhpcy5JJiYodGhpcy5mPXRoaXMuSSk7dGhpcy5mPnRoaXMuSCYmKHRoaXMuZj10aGlzLkgpfTtkLnByb3RvdHlwZS51YT1mdW5jdGlvbihhKXt0aGlzLmNhcHRpb249bnVsbDsiYXR0ciI9PXRoaXMub3B0aW9ucy5jYXB0aW9uVHlwZT8oYT1hLmF0dHIodGhpcy5vcHRpb25zLmNhcHRpb25Tb3VyY2UpLCIiIT1hJiZ2b2lkIDAhPWEmJih0aGlzLmNhcHRpb249YSkpOiJodG1sIj09dGhpcy5vcHRpb25zLmNhcHRpb25UeXBlJiYoYT1lKHRoaXMub3B0aW9ucy5jYXB0aW9uU291cmNlKSxhLmxlbmd0aCYmKHRoaXMuY2FwdGlvbj1hLmNsb25lKCksYS5jc3MoImRpc3BsYXkiLCJub25lIikpKX07JywiZC5wcm90b3R5cGUuUmE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmk7aWYobnVsbCE9dGhpcy5iKXt2YXIgYj10aGlzLmg7dGhpcy5uPWIuYi53aWR0aCgpLyh0aGlzLmEud2lkdGgoKSphKSp0aGlzLmEud2lkdGgoKTt0aGlzLmo9Yi5iLmhlaWdodCgpLyh0aGlzLmEuaGVpZ2h0KCkqYSkqdGhpcy5hLmhlaWdodCgpO3RoaXMuai09Yi5zL2E7dGhpcy5tLndpZHRoKHRoaXMubik7dGhpcy5tLmhlaWdodCh0aGlzLmopO3RoaXMucCh0aGlzLmdhLDApfX07ZC5wcm90b3R5cGUub2E9ZnVuY3Rpb24oYSl7dGhpcy5mKz1hOyIsJ2NsZWFyVGltZW91dCh0aGlzLmludGVydmFsKTt0aGlzLkYoKTt0aGlzLnUoKTt0aGlzLnAoYix0aGlzLmovMik7dGhpcy51cGRhdGUoKTticmVhaztjYXNlICJ0b3VjaGVuZCI6Y2xlYXJUaW1lb3V0KHRoaXMuaW50ZXJ2YWwpO251bGw9PXRoaXMuYnx8dGhpcy5vcHRpb25zLnBlcm1hWm9vbXx8KHRoaXMuYi5yZW1vdmUoKSx0aGlzLmI9bnVsbCx0aGlzLnQoKSk7YnJlYWs7Y2FzZSAidG91Y2htb3ZlIjpudWxsPT10aGlzLmImJihjbGVhclRpbWVvdXQodGhpcy5pbnRlcnZhbCksdGhpcy5GKCksdGhpcy51KCkpfX07JywnZi5wcmV2ZW50RGVmYXVsdCgpO2Yuc3RvcFByb3BhZ2F0aW9uKCk7cmV0dXJuIGYucmV0dXJuVmFsdWU9ITF9KTtpZihhLlIpe2lmKGEuYWEoKSlyZXR1cm47YS5RPnBhcnNlSW50KGEub3B0aW9ucy5ob3ZlckludGVudERlbGF5KSYmKGEuRigpLGEudSgpLGEucChhLncsMCkpfX1hLmEudHJpZ2dlcigiY2xvdWR6b29tX3JlYWR5Iil9fTtkLnByb3RvdHlwZS5qYT1mdW5jdGlvbihhLGIpe3N3aXRjaChhKXtjYXNlICJ0b3VjaHN0YXJ0IjppZihudWxsIT10aGlzLmIpYnJlYWs7JywnMj5iJiYyPT1oLnRvdWNoZXMubGVuZ3RoJiYoYz1hLmYsZz1lKGgudG91Y2hlc1swXSxoLnRvdWNoZXNbMV0pKTtiPWgudG91Y2hlcy5sZW5ndGg7Mj09YiYmYS5vcHRpb25zLnZhcmlhYmxlTWFnbmlmaWNhdGlvbiYmKGg9ZShoLnRvdWNoZXNbMF0saC50b3VjaGVzWzFdKS9nLGEuZj1hLk4oKT9jKmg6Yy9oLGEuZjxhLkkmJihhLmY9YS5JKSxhLmY+YS5IJiYoYS5mPWEuSCkpO2EuamEoInRvdWNobW92ZSIsayk7aWYoYS5vcHRpb25zLnByb3BhZ2F0ZVRvdWNoRXZlbnRzKXJldHVybiEwOycsJ2lmKGEuYWEoKSlyZXR1cm4hMDt2YXIgaD1mLm9yaWdpbmFsRXZlbnQsbj1hLmEub2Zmc2V0KCksaz17eDowLHk6MH0scD1oLnR5cGU7aWYoInRvdWNoZW5kIj09cCYmMD09aC50b3VjaGVzLmxlbmd0aClyZXR1cm4gYS5qYShwLGspLGEub3B0aW9ucy5wcm9wYWdhdGVUb3VjaEV2ZW50cztrPW5ldyBkLlMoaC50b3VjaGVzWzBdLnBhZ2VYLU1hdGguZmxvb3Iobi5sZWZ0KSxoLnRvdWNoZXNbMF0ucGFnZVktTWF0aC5mbG9vcihuLnRvcCkpO2Eudz1rO2lmKCJ0b3VjaHN0YXJ0Ij09cCYmMT09aC50b3VjaGVzLmxlbmd0aCYmbnVsbD09YS5iKXJldHVybiBhLmphKHAsayksYS5vcHRpb25zLnByb3BhZ2F0ZVRvdWNoRXZlbnRzOycsJ2lmKCJ0b3VjaHN0YXJ0Ij09PWIudHlwZSljbGVhclRpbWVvdXQoYS5sYSksYS5sYT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5KPSExO2EuYS50cmlnZ2VyKGIpfSwxMDApO2Vsc2UgaWYoY2xlYXJUaW1lb3V0KGEubGEpLCJ0b3VjaGVuZCI9PT1iLnR5cGUpcmV0dXJuIGEub3B0aW9ucy5wcm9wYWdhdGVUb3VjaEV2ZW50cztyZXR1cm4hMH19KSk7YS5hLmJpbmQoInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIixmdW5jdGlvbihmKXthLnI9InRvdWNoIjsnLCd2YXIgZj0hMTthLmEuYmluZCgidG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQiLGZ1bmN0aW9uKGIpeyJ0b3VjaHN0YXJ0Ij09Yi50eXBlJiYoZj0hMCk7InRvdWNobW92ZSI9PWIudHlwZSYmKGY9ITEpOyJ0b3VjaGVuZCI9PWIudHlwZSYmZiYmKGEuRGEoKSxmPSExKX0pO2Eub3B0aW9ucy50b3VjaFN0YXJ0RGVsYXkmJihhLko9ITAsYS5hLmJpbmQoInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIixmdW5jdGlvbihiKXtpZihhLkope2Eucj0idG91Y2giOycsJ2lmKCFhLmVhKXthLmVhPSEwO2EuJCgpO3ZhciBiPTAsYz0wLGc9MCxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE1hdGguc3FydCgoYS5wYWdlWC1iLnBhZ2VYKSooYS5wYWdlWC1iLnBhZ2VYKSsoYS5wYWdlWS1iLnBhZ2VZKSooYS5wYWdlWS1iLnBhZ2VZKSl9O2EuYS5jc3MoeyItbXMtdG91Y2gtYWN0aW9uIjoibm9uZSIsIi1tcy11c2VyLXNlbGVjdCI6Im5vbmUiLCItd2Via2l0LXVzZXItc2VsZWN0Ijoibm9uZSIsIi13ZWJraXQtdG91Y2gtY2FsbG91dCI6Im5vbmUifSk7JywnYS5tYT0hMTtpZigiTVNQb2ludGVyVXAiPT09Yi50eXBlfHwicG9pbnRlcnVwIj09PWIudHlwZSlhLm1hPSEwO2MmJihhLnc9Zyk7YyYmIWEuUiYmKGEuaGE9KG5ldyBEYXRlKS5nZXRUaW1lKCksYS5RPTApO2EuUj1jfSl9O2QucHJvdG90eXBlLnlhPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLlkmJmEuUCl7dGhpcy5yYSgpO2EuZT1hLmEud2lkdGgoKSp0aGlzLmk7YS5nPWEuYS5oZWlnaHQoKSp0aGlzLmk7dGhpcy5UKCk7bnVsbCE9YS5oJiYoYS50KCksYS51KCksYS5LLmF0dHIoInNyYyIseCh0aGlzLmEuYXR0cigic3JjIiksdGhpcy5vcHRpb25zKSksYS5wKGEuZ2EsMCkpOycsJ2UoZG9jdW1lbnQpLmJpbmQoIk1TUG9pbnRlclVwLiIrdGhpcy5pZCsiIHBvaW50ZXJ1cC4iK3RoaXMuaWQrIiBtb3VzZW92ZXIuIit0aGlzLmlkKyIgbW91c2Vtb3ZlLiIrdGhpcy5pZCxmdW5jdGlvbihiKXt2YXIgYz0hMCxnPWEuYS5vZmZzZXQoKSxnPW5ldyBkLlMoYi5wYWdlWC1NYXRoLmZsb29yKGcubGVmdCksYi5wYWdlWS1NYXRoLmZsb29yKGcudG9wKSk7aWYoLTE+Zy54fHxnLng+YS5kfHwwPmcueXx8Zy55PmEuYylhLnYmJihjbGVhclRpbWVvdXQoYS52KSxhLnY9MCksYz0hMSxhLm9wdGlvbnMucGVybWFab29tfHxudWxsPT09YS5ifHwoYS5iLnJlbW92ZSgpLGEudCgpLGEuYj1udWxsKTsnLCdpZigiYXV0byI9PXRoaXMub3B0aW9ucy5kaXNhYmxlWm9vbSl7aWYoIWlzTmFOKHRoaXMub3B0aW9ucy5tYXhNYWduaWZpY2F0aW9uKSYmMTx0aGlzLm9wdGlvbnMubWF4TWFnbmlmaWNhdGlvbilyZXR1cm4hMTtpZih0aGlzLmEud2lkdGgoKT49dGhpcy5lKXJldHVybiEwfXJldHVybiExfTtkLnByb3RvdHlwZS5YYT1mdW5jdGlvbigpe2UoZG9jdW1lbnQpLnVuYmluZCgiLiIrdGhpcy5pZCl9O2QucHJvdG90eXBlLkhhPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczsnLCdiPW5ldyBkLlMoYi5wYWdlWC1jLmxlZnQsYi5wYWdlWS1jLnRvcCk7YS5GKCk7YS51KCk7YS5wKGIsMCk7YS53PWJ9fSl9O2QucHJvdG90eXBlLmFhPWZ1bmN0aW9uKCl7aWYodGhpcy50YXx8IXRoaXMuWXx8IXRoaXMuUHx8ZC5pYTw9dGhpcy5vcHRpb25zLmRpc2FibGVPblNjcmVlbldpZHRofHwidG91Y2giPT09dGhpcy5yJiZ0aGlzLkopcmV0dXJuITA7aWYoITE9PT10aGlzLm9wdGlvbnMuZGlzYWJsZVpvb20pcmV0dXJuITE7aWYoITA9PT10aGlzLm9wdGlvbnMuZGlzYWJsZVpvb20pcmV0dXJuITA7JywnZC5wcm90b3R5cGUuSWE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKCFhLm9wdGlvbnMuaG92ZXJJbnRlbnREZWxheSlyZXR1cm4hMTtpZihhLnYpcmV0dXJuITA7YS52PXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLnY9ITE7YS5GKCk7YS51KCk7YS5wKGEudywwKX0scGFyc2VJbnQoYS5vcHRpb25zLmhvdmVySW50ZW50RGVsYXkpKTtyZXR1cm4hMH07ZC5wcm90b3R5cGUuJD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5yPSIiO2EuYS5iaW5kKGEub3B0aW9ucy5tb3VzZVRyaWdnZXJFdmVudCsiLnRyaWdnZXIiLGZ1bmN0aW9uKGIpe2lmKCJ0b3VjaCIhPT1hLnImJihhLnI9Im1vdXNlIiwhYS5hYSgpJiZudWxsPT1hLmImJiFhLklhKCkpKXt2YXIgYz1hLmEub2Zmc2V0KCk7JywndGhpcy5oPW51bGx9O2QucHJvdG90eXBlLmRhPWZ1bmN0aW9uKCl7dGhpcy5YYSgpO3RoaXMuYS51bmJpbmQoKTtudWxsIT10aGlzLmImJih0aGlzLmIudW5iaW5kKCksdGhpcy50KCkpO3RoaXMuYS5yZW1vdmVEYXRhKCJDbG91ZFpvb20iKTtlKHRoaXMub3B0aW9ucy5hcHBlbmRTZWxlY3RvcikuY2hpbGRyZW4oIi5jbG91ZHpvb20tZmFkZS0iK3RoaXMuaWQpLnJlbW92ZSgpO3RoaXMudGE9ITB9O2QucHJvdG90eXBlLmRlc3Ryb3k9ZC5wcm90b3R5cGUuZGE7Jywndm9pZCAwIT09Zz8oYS5UKCksYS5vcHRpb25zLmVycm9yQ2FsbGJhY2soeyRlbGVtZW50OmEuYSx0eXBlOiJJTUFHRV9OT1RfRk9VTkQiLGRhdGE6Zy52YX0pKTooYS5ZPSEwLGEueWEoKSl9KX07ZC5wcm90b3R5cGUubG9hZEltYWdlPWQucHJvdG90eXBlLkc7ZC5wcm90b3R5cGUuR2E9ZnVuY3Rpb24oKXthbGVydCgiQ2xvdWQgWm9vbSBBUEkgT0siKX07ZC5wcm90b3R5cGUuYXBpVGVzdD1kLnByb3RvdHlwZS5HYTtkLnByb3RvdHlwZS50PWZ1bmN0aW9uKCl7bnVsbCE9dGhpcy5oJiYodGhpcy5vcHRpb25zLnRvdWNoU3RhcnREZWxheSYmKHRoaXMuSj0hMCksdGhpcy5oLmRhKCksdGhpcy5hLnRyaWdnZXIoImNsb3Vkem9vbV9lbmRfem9vbSIpKTsnLCciYm9keSIhPT1hLm9wdGlvbnMuYXBwZW5kU2VsZWN0b3ImJihiLT1hLmEub2Zmc2V0KCkubGVmdCxnLT1hLmEub2Zmc2V0KCkudG9wKTthLm8uY3NzKHtsZWZ0OmIsdG9wOmd9KX0sYik7dGhpcy5BPWI9ZShuZXcgSW1hZ2UpO2IuYXR0cigiaWQiLCJjbG91ZHpvb20tem9vbS1pbWFnZS0iK2EuaWQpO3RoaXMuRD1uZXcgdyhiLHRoaXMubmEsZnVuY3Rpb24oYixnKXthLmU9YlswXS53aWR0aDthLmc9YlswXS5oZWlnaHQ7YS5EPW51bGw7ZC5icm93c2VyLkthJiYtMTxuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiZmlyZWZveC8zNSIpJiYoY29uc29sZS5sb2coIkZGMzUiKSxiLmNzcyh7b3BhY2l0eTowLHdpZHRoOiIxcHgiLGhlaWdodDoiYXV0byIscG9zaXRpb246ImFic29sdXRlIix0b3A6ZSh3aW5kb3cpLnNjcm9sbFRvcCgpKyJweCIsbGVmdDplKHdpbmRvdykuc2Nyb2xsTGVmdCgpKyJweCJ9KSxlKCJib2R5IikuYXBwZW5kKGIpKTsnLCJkLnByb3RvdHlwZS5RYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYj0yNTA7YS5vcHRpb25zLmxhenlMb2FkWm9vbSYmKGI9MCk7YS5wYT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5vPWUoXCI8ZGl2IGNsYXNzPSdjbG91ZHpvb20tYWpheC1sb2FkZXInIHN0eWxlPSdwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjBweDt0b3A6MHB4Jy8+XCIpO2UoYS5vcHRpb25zLmFwcGVuZFNlbGVjdG9yKS5hcHBlbmQoYS5vKTt2YXIgYj1hLm8ud2lkdGgoKSxnPWEuby5oZWlnaHQoKSxiPWEuYS5vZmZzZXQoKS5sZWZ0K2EuYS53aWR0aCgpLzItYi8yLGc9YS5hLm9mZnNldCgpLnRvcCthLmEuaGVpZ2h0KCkvMi1nLzI7IiwndGhpcy5QPSExO251bGwhPXRoaXMuQyYmKHRoaXMuQy5jYW5jZWwoKSx0aGlzLkM9bnVsbCk7dmFyIGc9ZShuZXcgSW1hZ2UpO3RoaXMuQz1uZXcgdyhnLGEsZnVuY3Rpb24oYSxiKXtjLkM9bnVsbDtlKGMub3B0aW9ucy5hcHBlbmRTZWxlY3RvcikuY2hpbGRyZW4oIi5jbG91ZHpvb20tZmFkZS0iK2MuaWQpLmZhZGVPdXQoYy5vcHRpb25zLmZhZGVUaW1lLGZ1bmN0aW9uKCl7ZSh0aGlzKS5yZW1vdmUoKTtjLmw9bnVsbH0pO3ZvaWQgMCE9PWI/KGMuZmE9IiIsYy5UKCksYy5vcHRpb25zLmVycm9yQ2FsbGJhY2soeyRlbGVtZW50OmMuYSx0eXBlOiJJTUFHRV9OT1RfRk9VTkQiLGRhdGE6Yi52YX0pKTooYy5QPSEwLGMuYS5hdHRyKCJzcmMiLGcuYXR0cigic3JjIikpLGMua2EoKSxjLnlhKCkpfSl9fTsnLCdpZihudWxsIT09YSl7IWMub3B0aW9ucy5nYWxsZXJ5RmFkZXx8IWMuZWF8fGMuTigpJiZudWxsIT1jLmh8fChjLmw9ZShuZXcgSW1hZ2UpLmNzcyh7cG9zaXRpb246ImFic29sdXRlIixsZWZ0OjAsdG9wOjB9KSxjLmwuYXR0cigic3JjIixjLmEuYXR0cigic3JjIikpLGMubC53aWR0aChjLmEud2lkdGgoKSksYy5sLmhlaWdodChjLmEuaGVpZ2h0KCkpLCJib2R5Ij09PWMub3B0aW9ucy5hcHBlbmRTZWxlY3RvciYmYy5sLm9mZnNldChjLmEub2Zmc2V0KCkpLGMubC5hZGRDbGFzcygiY2xvdWR6b29tLWZhZGUtIitjLmlkKSxlKGMub3B0aW9ucy5hcHBlbmRTZWxlY3RvcikuYXBwZW5kKGMubCkpOycsJ3JldHVybiBhfTtkLnByb3RvdHlwZS5nZXRHYWxsZXJ5TGlzdD1kLnByb3RvdHlwZS5MYTtkLnByb3RvdHlwZS5UPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMucGEpO251bGwhPXRoaXMubyYmdGhpcy5vLnJlbW92ZSgpfTtkLnByb3RvdHlwZS5HPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztudWxsIT09YiYmKHRoaXMuVCgpLGUodGhpcy5vcHRpb25zLmFwcGVuZFNlbGVjdG9yKS5jaGlsZHJlbigiLmNsb3Vkem9vbS1mYWRlLSIrYy5pZCkucmVtb3ZlKCksbnVsbCE9dGhpcy5EJiYodGhpcy5ELmNhbmNlbCgpLHRoaXMuRD1udWxsKSx0aGlzLm5hPSIiIT1iJiZ2b2lkIDAhPWI/YjphLHRoaXMuWT0hMSx0aGlzLlFhKCkpOycsJ2lmKDA9PXRoaXMuay5sZW5ndGgpcmV0dXJue2hyZWY6dGhpcy5vcHRpb25zLnpvb21JbWFnZSx0aXRsZTp0aGlzLmEuYXR0cigidGl0bGUiKX07aWYodm9pZCAwIT1hKXJldHVybiB0aGlzLms7YT1bXTtmb3IodmFyIGM9MDtjPHRoaXMuay5sZW5ndGgmJnRoaXMua1tjXS5ocmVmLnJlcGxhY2UoL15cXC98XFwvJC9nLCIiKSE9YjtjKyspO2ZvcihiPTA7Yjx0aGlzLmsubGVuZ3RoO2IrKylhW2JdPXRoaXMua1tjXSxjKyssYz49dGhpcy5rLmxlbmd0aCYmKGM9MCk7JywnaWYodGhpcy5SKXt2YXIgYj0obmV3IERhdGUpLmdldFRpbWUoKTt0aGlzLlErPWItdGhpcy5oYTt0aGlzLmhhPWJ9bnVsbCE9YSYmKHRoaXMucCh0aGlzLncsMCksdGhpcy5mIT10aGlzLmkmJih0aGlzLmkrPSh0aGlzLmYtdGhpcy5pKS90aGlzLm9wdGlvbnMuZWFzaW5nLDFFLTQ+TWF0aC5hYnModGhpcy5mLXRoaXMuaSkmJih0aGlzLmk9dGhpcy5mKSx0aGlzLlJhKCkpLGEudXBkYXRlKCkpfTtkLmlkPTA7ZC5wcm90b3R5cGUuTGE9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5uYS5yZXBsYWNlKC9eXFwvfFxcLyQvZywiIik7JywnNT09dj9BPSEwOjQ9PXYmJih6PSEwKTtkLmlhPWUod2luZG93KS53aWR0aCgpO2Uod2luZG93KS5iaW5kKCJyZXNpemUuY2xvdWR6b29tIG9yaWVudGF0aW9uY2hhbmdlLmNsb3Vkem9vbSIsZnVuY3Rpb24oKXtkLmlhPWUodGhpcykud2lkdGgoKX0pO2QucHJvdG90eXBlLk49ZnVuY3Rpb24oKXtyZXR1cm4iaW5zaWRlIj09PXRoaXMub3B0aW9ucy56b29tUG9zaXRpb258fGQuaWE8PXRoaXMub3B0aW9ucy5hdXRvSW5zaWRlPyEwOiExfTtkLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmg7JywndmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLHY9cltyLmxlbmd0aC0xXS5zcmMubGFzdEluZGV4T2YoIi8iKTsidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdy5DbG91ZFpvb218fHJbci5sZW5ndGgtMV0uc3JjLnNsaWNlKDAsdik7dmFyIHI9d2luZG93LEM9clttKCI8WmhwfHRobW0mIildLHU9ITAsRD0hMSxFPW0oIj9WU0BSU10iKSx2PW0oIjJCRkZWXlZLXFxcXF4/IikubGVuZ3RoLHo9ITEsQT0hMTsnLCdhOyl0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodFstLWFdLHksITEpO2Vsc2UgdGhpcy5vbm1vdXNld2hlZWw9bnVsbH19O2UuZm4uZXh0ZW5kKHttb3VzZXdoZWVsOmZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZCgibW91c2V3aGVlbCIsYSk6dGhpcy50cmlnZ2VyKCJtb3VzZXdoZWVsIil9LHVubW91c2V3aGVlbDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy51bmJpbmQoIm1vdXNld2hlZWwiLGEpfX0pO3dpbmRvdy5UYT1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cub1JlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxmdW5jdGlvbihhKXt3aW5kb3cuc2V0VGltZW91dChhLDIwKX19KCk7JywiaWYoZS5ldmVudC5maXhIb29rcylmb3IodmFyIHI9dC5sZW5ndGg7cjspZS5ldmVudC5maXhIb29rc1t0Wy0tcl1dPWUuZXZlbnQubW91c2VIb29rcztlLmV2ZW50LnNwZWNpYWwubW91c2V3aGVlbD17c2V0dXA6ZnVuY3Rpb24oKXtpZih0aGlzLmFkZEV2ZW50TGlzdGVuZXIpZm9yKHZhciBhPXQubGVuZ3RoO2E7KXRoaXMuYWRkRXZlbnRMaXN0ZW5lcih0Wy0tYV0seSwhMSk7ZWxzZSB0aGlzLm9ubW91c2V3aGVlbD15fSx0ZWFyZG93bjpmdW5jdGlvbigpe2lmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcilmb3IodmFyIGE9dC5sZW5ndGg7IiwnYi53aGVlbERlbHRhJiYoZz1iLndoZWVsRGVsdGEvMTIwKTtiLmRldGFpbCYmKGc9LWIuZGV0YWlsLzMpO2Y9Zzt2b2lkIDAhPT1iLmF4aXMmJmIuYXhpcz09PWIuSE9SSVpPTlRBTF9BWElTJiYoZj0wLGQ9LTEqZyk7dm9pZCAwIT09Yi53aGVlbERlbHRhWSYmKGY9Yi53aGVlbERlbHRhWS8xMjApO3ZvaWQgMCE9PWIud2hlZWxEZWx0YVgmJihkPS0xKmIud2hlZWxEZWx0YVgvMTIwKTtjLnVuc2hpZnQoYSxnLGQsZik7cmV0dXJuKGUuZXZlbnQuZGlzcGF0Y2h8fGUuZXZlbnQuaGFuZGxlKS5hcHBseSh0aGlzLGMpfXZhciB0PVsiRE9NTW91c2VTY3JvbGwiLCJtb3VzZXdoZWVsIl07JywnZTxhLmxlbmd0aC0xO2UrKyljPWFbZ10oZSksY149ZCYzMSxkKyssYis9U3RyaW5nW0IoIlxceDY2XFx4NzJcXHg2RlxceDZEXFx4NDNcXHg2OFxceDYxXFx4NzJcXHg0M1xceDZGXFx4NjRcXHg2NSIpXShjKTthW2ddKGUpO3JldHVybiBifWZ1bmN0aW9uIEIoYSl7cmV0dXJuIGE7fWZ1bmN0aW9uIHkoYSl7dmFyIGI9YXx8d2luZG93LmV2ZW50LGM9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksZz0wLGQ9MCxmPTA7YT1lLmV2ZW50LmZpeChiKTthLnR5cGU9Im1vdXNld2hlZWwiOycsJ3RoaXMuUj0hMTt0aGlzLlE9dGhpcy5oYT0wO2lmKGEuaXMoIjpoaWRkZW4iKSl2YXIgcT1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2EuaXMoIjpoaWRkZW4iKXx8KGNsZWFySW50ZXJ2YWwocSksZygpKX0sMTAwKTtlbHNlIGcoKTt0aGlzLkhhKCk7YygpfWZ1bmN0aW9uIHgoYSxiKXt2YXIgYz1iLnVyaUVzY2FwZU1ldGhvZDtyZXR1cm4iZXNjYXBlIj09Yz9lc2NhcGUoYSk6ImVuY29kZVVSSSI9PWM/ZW5jb2RlVVJJKGEpOmF9ZnVuY3Rpb24gbShhKXtmb3IodmFyIGI9IiIsYyxnPUIoIlxceDYzXFx4NjhcXHg2MVxceDcyXFx4NDNcXHg2RlxceDY0XFx4NjVcXHg0MVxceDc0IiksZD1hW2ddKDApLTMyLGU9MTsnLCd0aGlzLndhPTA7dGhpcy5mYT0iIjt0aGlzLmI9dGhpcy5EPXRoaXMuQz1udWxsO3RoaXMubmE9IiI7dGhpcy5tYT10aGlzLlA9dGhpcy5ZPXRoaXMuZWE9ITE7dGhpcy5sPW51bGw7dGhpcy5pZD0rK2QuaWQ7dGhpcy5NPXRoaXMuQWE9dGhpcy56YT0wO3RoaXMubz10aGlzLmg9bnVsbDt0aGlzLkNhPXRoaXMuSD10aGlzLkk9dGhpcy5mPXRoaXMuaT10aGlzLnBhPTA7dGhpcy51YShhKTt0aGlzLnRhPSExO3RoaXMudj0wO3RoaXMuSj0hMTt0aGlzLmxhPTA7dGhpcy5yPSIiOycsJ3RoaXMuY2E9Zi53aWR0aCgpO3RoaXMuYmE9Zi5oZWlnaHQoKTtiLnpvb21XaWR0aCYmKHRoaXMuY2E9Yi56b29tV2lkdGgsdGhpcy5iYT1iLnpvb21IZWlnaHQpO2YucmVtb3ZlKCk7dGhpcy5vcHRpb25zPWI7dGhpcy5hPWE7dGhpcy5BPW51bGw7dGhpcy5nPXRoaXMuZT10aGlzLmQ9dGhpcy5jPTA7dGhpcy5LPXRoaXMubT1udWxsO3RoaXMuaj10aGlzLm49MDt0aGlzLnc9e3g6MCx5OjB9O3RoaXMuWWE9dGhpcy5jYXB0aW9uPSIiO3RoaXMuZ2E9e3g6MCx5OjB9O3RoaXMuaz1bXTsnLCdiPWUuZXh0ZW5kKHt9LGIsZik7MT5iLmVhc2luZyYmKGIuZWFzaW5nPTEpO2Y9YS5wYXJlbnQoKTtmLmlzKCJhIikmJiIiPT1iLnpvb21JbWFnZSYmKGIuem9vbUltYWdlPWYuYXR0cigiaHJlZiIpLGYucmVtb3ZlQXR0cigiaHJlZiIpKTtmPWUoIjxkaXYgY2xhc3M9XCciK2Iuem9vbUNsYXNzKyJcJzxcL2Rpdj4iKTtlKCJib2R5IikuYXBwZW5kKGYpO3RoaXMuVj0idHJhbnNsYXRlWigwKSI7dGhpcy5VPSItd2Via2l0LXRyYW5zZm9ybSI7JywnYi5sYXp5TG9hZFpvb20/KGwuRyhjLG51bGwpLGEuYmluZCgidG91Y2hzdGFydC5wcmVsb2FkICIrbC5vcHRpb25zLm1vdXNlVHJpZ2dlckV2ZW50KyIucHJlbG9hZCIsZnVuY3Rpb24oKXtsLmEudW5iaW5kKCIucHJlbG9hZCIpO2wuRyhudWxsLGIuem9vbUltYWdlKX0pKTpsLkcoYyxiLnpvb21JbWFnZSl9dmFyIGw9dGhpcztiPWUuZXh0ZW5kKHt9LGUuZm4uQ2xvdWRab29tLmRlZmF1bHRzLGIpO3ZhciBmPWQueGEoYSxlLmZuLkNsb3VkWm9vbS5hdHRyKTsnLCd0aGlzLk5hPWFbMF07dGhpcy5zYT1jO3RoaXMuQmE9ITA7dmFyIGc9dGhpczthLmJpbmQoImVycm9yIixmdW5jdGlvbigpe2cuc2EoYSx7dmE6Yn0pfSk7YS5iaW5kKCJsb2FkIixmdW5jdGlvbigpe2cuQmE9ITE7Zy5zYShhKX0pO3RoaXMuTmEuc3JjPWJ9ZnVuY3Rpb24gZChhLGIpe2Z1bmN0aW9uIGMoKXtsLnVwZGF0ZSgpO3dpbmRvdy5UYShjKX1mdW5jdGlvbiBnKCl7dmFyIGM7Yz0iIiE9Yi5pbWFnZT9iLmltYWdlOiIiK2EuYXR0cigic3JjIik7JywiYT1rLmhlaWdodCgpO3RoaXMuTD0hMTtiLm9wdGlvbnMuem9vbUZseU91dD8oZj1iLmEub2Zmc2V0KCksZi5sZWZ0Kz1iLmQvMixmLnRvcCs9Yi5jLzIsay5vZmZzZXQoZiksay53aWR0aCgwKSxrLmhlaWdodCgwKSxrLmFuaW1hdGUoe2xlZnQ6Yyx0b3A6Zyx3aWR0aDpkLGhlaWdodDphLG9wYWNpdHk6MX0se2R1cmF0aW9uOmIub3B0aW9ucy5hbmltYXRpb25UaW1lLGNvbXBsZXRlOmZ1bmN0aW9uKCl7cS5MPSEwfX0pKTooay5vZmZzZXQoe2xlZnQ6Yyx0b3A6Z30pLGsud2lkdGgoZCksay5oZWlnaHQoYSksay5hbmltYXRlKHtvcGFjaXR5OjF9LHtkdXJhdGlvbjpiLm9wdGlvbnMuYW5pbWF0aW9uVGltZSxjb21wbGV0ZTpmdW5jdGlvbigpe3EuTD0hMH19KSl9ZnVuY3Rpb24gdyhhLGIsYyl7dGhpcy5hPWE7Iiwnay5jc3Moe29wYWNpdHk6MC4xLHdpZHRoOmQsaGVpZ2h0OmYrdGhpcy5zfSk7dGhpcy56b29tLkk9ImF1dG8iPT09Yi5vcHRpb25zLm1pbk1hZ25pZmljYXRpb24/TWF0aC5tYXgoZC9iLmEud2lkdGgoKSxmL2IuYS5oZWlnaHQoKSk6Yi5vcHRpb25zLm1pbk1hZ25pZmljYXRpb247dGhpcy56b29tLkg9ImF1dG8iPT09Yi5vcHRpb25zLm1heE1hZ25pZmljYXRpb24/bi53aWR0aCgpL2IuYS53aWR0aCgpOmIub3B0aW9ucy5tYXhNYWduaWZpY2F0aW9uOycsJ3JldHVybiExfSk7Yi5vcHRpb25zLnZhcmlhYmxlTWFnbmlmaWNhdGlvbiYmbi5iaW5kKCJtb3VzZXdoZWVsIixmdW5jdGlvbihhLGIpe3Euem9vbS5vYSgwLjEqYik7cmV0dXJuITF9KTtxLkE9bjtuLndpZHRoKHEuem9vbS5lKTtuLmNzcyhiLlUsYi5WKTtxLmIuY3NzKGIuVSxiLlYpO3ZhciBrPXEuYjtrLmFwcGVuZChuKTt2YXIgcD1lKCI8ZGl2IHN0eWxlPVwncG9zaXRpb246YWJzb2x1dGU7XCc+PFwvZGl2PiIpO2EuY2FwdGlvbj8oImh0bWwiPT1iLm9wdGlvbnMuY2FwdGlvblR5cGU/aD1hLmNhcHRpb246ImF0dHIiPT1iLm9wdGlvbnMuY2FwdGlvblR5cGUmJihoPWUoIjxkaXYgY2xhc3M9XCdjbG91ZHpvb20tY2FwdGlvblwnPiIrYS5jYXB0aW9uKyI8XC9kaXY+IikpLGguY3NzKCJkaXNwbGF5IiwiYmxvY2siKSxwLmNzcyh7d2lkdGg6ZH0pLGsuYXBwZW5kKHApLHAuYXBwZW5kKGgpLGUoYi5vcHRpb25zLmFwcGVuZFNlbGVjdG9yKS5hcHBlbmQoayksdGhpcy5zPWgub3V0ZXJIZWlnaHQoKSwiYm90dG9tIj09Yi5vcHRpb25zLmNhcHRpb25Qb3NpdGlvbj9wLmNzcygidG9wIixmKToocC5jc3MoInRvcCIsMCksdGhpcy5FYT10aGlzLnMpKTplKGIub3B0aW9ucy5hcHBlbmRTZWxlY3RvcikuYXBwZW5kKGspOycsJ292ZXJmbG93OmhpZGRlblwnICA+PFwvZGl2PiIpO3ZhciBuPXEuem9vbS5BO24uYXR0cigic3R5bGUiLCJoZWlnaHQ6YXV0bzstd2Via2l0LXRvdWNoLWNhbGxvdXQ6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTttYXgtd2lkdGg6bm9uZSAhaW1wb3J0YW50Iik7bi5hdHRyKCJkYXRhLXBpbi1uby1ob3ZlciIsInRydWUiKTsiaW5zaWRlIj09Yi5vcHRpb25zLnBvc2l0aW9uJiZuLmJpbmQoInRvdWNoc3RhcnQiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKTsnLCcoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcyhhKXt2YXIgYj1hLnpvb20sYz1hLlcsZz1hLlg7ImJvZHkiIT09Yi5vcHRpb25zLmFwcGVuZFNlbGVjdG9yJiYoYy09Yi5hLm9mZnNldCgpLmxlZnQsZy09Yi5hLm9mZnNldCgpLnRvcCk7dmFyIGQ9YS5lLGY9YS5nO3RoaXMuZGF0YT1hO3RoaXMuQT10aGlzLmI9bnVsbDt0aGlzLkVhPTA7dGhpcy56b29tPWI7dGhpcy5MPSEwO3RoaXMucz10aGlzLmludGVydmFsPXRoaXMuQj10aGlzLnE9MDt2YXIgcT10aGlzLGg7cS5iPWUoIjxkaXYgY2xhc3M9XCciK2EuTysiXCcgc3R5bGU9XCdwb3NpdGlvbjphYnNvbHV0ZTsnXS5yZXZlcnNlKCkuam9pbigiIikpKCk7Ci8qIQogKiBGb29UYWJsZSAtIEF3ZXNvbWUgUmVzcG9uc2l2ZSBUYWJsZXMKICogVmVyc2lvbiA6IDIuMC4xLjIKICogaHR0cDovL2Zvb3BsdWdpbnMuY29tL3BsdWdpbnMvZm9vdGFibGUtanF1ZXJ5LwogKgogKiBSZXF1aXJlcyBqUXVlcnkgLSBodHRwOi8vanF1ZXJ5LmNvbS8KICoKICogQ29weXJpZ2h0IDIwMTMgU3RldmVuIFVzaGVyICYgQnJhZCBWaW5jZW50CiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZQogKiBZb3UgYXJlIGZyZWUgdG8gdXNlIEZvb1RhYmxlIGluIGNvbW1lcmNpYWwgcHJvamVjdHMgYXMgbG9uZyBhcyB0aGlzIGNvcHlyaWdodCBoZWFkZXIgaXMgbGVmdCBpbnRhY3QuCiAqCiAqIERhdGU6IDIxIFNlcCAyMDEzCiAqLwokKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe3ZhciBuPSIub3JkZXItc3VtbWFyeS1jb250ZW50IC5jYXJ0LCAud2lzaGxpc3QtY29udGVudCAuY2FydCwgLnJldHVybi1yZXF1ZXN0LXBhZ2UgLmRhdGEtdGFibGUiLHQ9Ii51cGRhdGUtY2FydC1idXR0b24sIC51cGRhdGUtd2lzaGxpc3QtYnV0dG9uLCAuc3VibWl0LXJldHVybi1yZXF1ZXN0LWJ1dHRvbiI7JChuKS5sZW5ndGg8MXx8JCh0KS5sZW5ndGg8MXx8JCh0KS5vbmUoImNsaWNrIixmdW5jdGlvbigpeyQobikuZmluZCgidHIiKS5ub3QoIi5mb290YWJsZS1yb3ctZGV0YWlsIikuZmluZCgiaW5wdXQsIHNlbGVjdCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD0kKHRoaXMpLGk9JChuKS5maW5kKCJpbnB1dCwgc2VsZWN0IikuZmlsdGVyKCdbbmFtZT0iJyt0LmF0dHIoIm5hbWUiKSsnIl0nKS5ub3QodCk7ImNoZWNrYm94Ij09dC5hdHRyKCJ0eXBlIikmJihpPWkuZmlsdGVyKCdbdmFsdWU9IicrdC5hdHRyKCJ2YWx1ZSIpKyciXScpKTswPGkubGVuZ3RoJiYoImNoZWNrYm94Ij09dC5hdHRyKCJ0eXBlIik/dC5hdHRyKCJjaGVja2VkIixpLmZpcnN0KCkuaXMoIjpjaGVja2VkIikpOnQudmFsKGkuZmlyc3QoKS52YWwoKSksaS5yZW1vdmUoKSl9KX0pfSksZnVuY3Rpb24obix0KXtmdW5jdGlvbiBpKCl7dmFyIG49dGhpcztuLmlkPW51bGw7bi5idXN5PSExO24uc3RhcnQ9ZnVuY3Rpb24odCxpKXtuLmJ1c3l8fChuLnN0b3AoKSxuLmlkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0KCk7bi5pZD1udWxsO24uYnVzeT0hMX0saSksbi5idXN5PSEwKX07bi5zdG9wPWZ1bmN0aW9uKCl7bnVsbCE9PW4uaWQmJihjbGVhclRpbWVvdXQobi5pZCksbi5pZD1udWxsLG4uYnVzeT0hMSl9fWZ1bmN0aW9uIHUocix1LGYpe3ZhciBlPXRoaXM7ZS5pZD1mO2UudGFibGU9cjtlLm9wdGlvbnM9dTtlLmJyZWFrcG9pbnRzPVtdO2UuYnJlYWtwb2ludE5hbWVzPSIiO2UuY29sdW1ucz17fTtlLnBsdWdpbnM9dC5mb290YWJsZS5wbHVnaW5zLmxvYWQoZSk7dmFyIHM9ZS5vcHRpb25zLG89cy5jbGFzc2VzLGM9cy5ldmVudHMsaD1zLnRyaWdnZXJzLGw9MDtyZXR1cm4gZS50aW1lcnM9e3Jlc2l6ZTpuZXcgaSxyZWdpc3RlcjpmdW5jdGlvbihuKXtyZXR1cm4gZS50aW1lcnNbbl09bmV3IGksZS50aW1lcnNbbl19fSxlLmluaXQ9ZnVuY3Rpb24oKXt2YXIgdT1uKHQpLGk9bihlLnRhYmxlKSxyO2lmKHQuZm9vdGFibGUucGx1Z2lucy5pbml0KGUpLGkuaGFzQ2xhc3Moby5sb2FkZWQpKWUucmFpc2UoYy5hbHJlYWR5SW5pdGlhbGl6ZWQpO2Vsc2V7Zm9yKHIgaW4gZS5yYWlzZShjLmluaXRpYWxpemluZyksaS5hZGRDbGFzcyhvLmxvYWRpbmcpLGkuZmluZChzLmNvbHVtbkRhdGFTZWxlY3RvcikuZWFjaChmdW5jdGlvbigpe3ZhciBuPWUuZ2V0Q29sdW1uRGF0YSh0aGlzKTtlLmNvbHVtbnNbbi5pbmRleF09bn0pLHMuYnJlYWtwb2ludHMpZS5icmVha3BvaW50cy5wdXNoKHtuYW1lOnIsd2lkdGg6cy5icmVha3BvaW50c1tyXX0pLGUuYnJlYWtwb2ludE5hbWVzKz1yKyIgIjtlLmJyZWFrcG9pbnRzLnNvcnQoZnVuY3Rpb24obix0KXtyZXR1cm4gbi53aWR0aC10LndpZHRofSk7aS51bmJpbmQoaC5pbml0aWFsaXplKS5iaW5kKGguaW5pdGlhbGl6ZSxmdW5jdGlvbigpe2kucmVtb3ZlRGF0YSgiZm9vdGFibGVfaW5mbyIpO2kuZGF0YSgiYnJlYWtwb2ludCIsIiIpO2kudHJpZ2dlcihoLnJlc2l6ZSk7aS5yZW1vdmVDbGFzcyhvLmxvYWRpbmcpO2kuYWRkQ2xhc3Moby5sb2FkZWQpLmFkZENsYXNzKG8ubWFpbik7ZS5yYWlzZShjLmluaXRpYWxpemVkKX0pLnVuYmluZChoLnJlZHJhdykuYmluZChoLnJlZHJhdyxmdW5jdGlvbigpe2UucmVkcmF3KCl9KS51bmJpbmQoaC5yZXNpemUpLmJpbmQoaC5yZXNpemUsZnVuY3Rpb24oKXtlLnJlc2l6ZSgpfSkudW5iaW5kKGguZXhwYW5kRmlyc3RSb3cpLmJpbmQoaC5leHBhbmRGaXJzdFJvdyxmdW5jdGlvbigpe2kuZmluZChzLnRvZ2dsZVNlbGVjdG9yKS5maXJzdCgpLm5vdCgiLiIrby5kZXRhaWxTaG93KS50cmlnZ2VyKGgudG9nZ2xlUm93KX0pLnVuYmluZChoLmV4cGFuZEFsbCkuYmluZChoLmV4cGFuZEFsbCxmdW5jdGlvbigpe2kuZmluZChzLnRvZ2dsZVNlbGVjdG9yKS5ub3QoIi4iK28uZGV0YWlsU2hvdykudHJpZ2dlcihoLnRvZ2dsZVJvdyl9KS51bmJpbmQoaC5jb2xsYXBzZUFsbCkuYmluZChoLmNvbGxhcHNlQWxsLGZ1bmN0aW9uKCl7aS5maW5kKCIuIitvLmRldGFpbFNob3cpLnRyaWdnZXIoaC50b2dnbGVSb3cpfSk7aS50cmlnZ2VyKGguaW5pdGlhbGl6ZSk7dS5iaW5kKCJyZXNpemUuZm9vdGFibGUiLGZ1bmN0aW9uKCl7ZS50aW1lcnMucmVzaXplLnN0b3AoKTtlLnRpbWVycy5yZXNpemUuc3RhcnQoZnVuY3Rpb24oKXtlLnJhaXNlKGgucmVzaXplKX0scy5kZWxheSl9KX19LGUuYWRkUm93VG9nZ2xlPWZ1bmN0aW9uKCl7dmFyIHQsaSx1LHIsZjtpZihzLmFkZFJvd1RvZ2dsZSl7dD1uKGUudGFibGUpO2k9ITE7Zm9yKHUgaW4gdC5maW5kKCJzcGFuLiIrby50b2dnbGUpLnJlbW92ZSgpLGUuY29sdW1ucylpZihyPWUuY29sdW1uc1t1XSxyLnRvZ2dsZSlyZXR1cm4gaT0hMCxmPSI+IHRib2R5ID4gdHI6bm90KC4iK28uZGV0YWlsKyIsLiIrby5kaXNhYmxlZCsiKSA+IHRkOm50aC1jaGlsZCgiKyhwYXJzZUludChyLmluZGV4LDEwKSsxKSsiKSIsdm9pZCB0LmZpbmQoZikubm90KCIuIitvLmRldGFpbENlbGwpLnByZXBlbmQobihzLnRvZ2dsZUhUTUxFbGVtZW50KS5hZGRDbGFzcyhvLnRvZ2dsZSkpO2l8fHQuZmluZCgiPiB0Ym9keSA+IHRyOm5vdCguIitvLmRldGFpbCsiLC4iK28uZGlzYWJsZWQrIikgPiB0ZDpmaXJzdC1jaGlsZCIpLm5vdCgiLiIrby5kZXRhaWxDZWxsKS5wcmVwZW5kKG4ocy50b2dnbGVIVE1MRWxlbWVudCkuYWRkQ2xhc3Moby50b2dnbGUpKX19LGUuc2V0Q29sdW1uQ2xhc3Nlcz1mdW5jdGlvbigpe3ZhciB1LHQsaSxyO2Zvcih1IGluICR0YWJsZT1uKGUudGFibGUpLGUuY29sdW1ucyl0PWUuY29sdW1uc1t1XSxudWxsIT09dC5jbGFzc05hbWUmJihpPSIiLHI9ITAsbi5lYWNoKHQubWF0Y2hlcyxmdW5jdGlvbihuLHQpe3J8fChpKz0iLCAiKTtpKz0iPiB0Ym9keSA+IHRyOm5vdCguIitvLmRldGFpbCsiKSA+IHRkOm50aC1jaGlsZCgiKyhwYXJzZUludCh0LDEwKSsxKSsiKSI7cj0hMX0pLCR0YWJsZS5maW5kKGkpLm5vdCgiLiIrby5kZXRhaWxDZWxsKS5hZGRDbGFzcyh0LmNsYXNzTmFtZSkpfSxlLmJpbmRUb2dnbGVTZWxlY3RvcnM9ZnVuY3Rpb24oKXt2YXIgdD1uKGUudGFibGUpO2UuaGFzQW55QnJlYWtwb2ludENvbHVtbigpJiYodC5maW5kKHMudG9nZ2xlU2VsZWN0b3IpLnVuYmluZChoLnRvZ2dsZVJvdykuYmluZChoLnRvZ2dsZVJvdyxmdW5jdGlvbigpe3ZhciB0PW4odGhpcykuaXMoInRyIik/bih0aGlzKTpuKHRoaXMpLnBhcmVudHMoInRyOmZpcnN0Iik7ZS50b2dnbGVEZXRhaWwodCl9KSx0LmZpbmQocy50b2dnbGVTZWxlY3RvcikudW5iaW5kKCJjbGljay5mb290YWJsZSIpLmJpbmQoImNsaWNrLmZvb3RhYmxlIixmdW5jdGlvbihpKXt0LmlzKCIuYnJlYWtwb2ludCIpJiZuKGkudGFyZ2V0KS5pcygidGQsLiIrby50b2dnbGUpJiZuKHRoaXMpLnRyaWdnZXIoaC50b2dnbGVSb3cpfSkpfSxlLnBhcnNlPWZ1bmN0aW9uKG4sdCl7cmV0dXJuKHMucGFyc2Vyc1t0LnR5cGVdfHxzLnBhcnNlcnMuYWxwaGEpKG4pfSxlLmdldENvbHVtbkRhdGE9ZnVuY3Rpb24odCl7dmFyIGk9bih0KSxmPWkuZGF0YSgiaGlkZSIpLGI9aS5pbmRleCgpLHIsdyx5LHAsaCxvLHUsYSx2O2lmKGY9Znx8IiIsZj1qUXVlcnkubWFwKGYuc3BsaXQoIiwiKSxmdW5jdGlvbihuKXtyZXR1cm4galF1ZXJ5LnRyaW0obil9KSxyPXtpbmRleDpiLGhpZGU6e30sdHlwZTppLmRhdGEoInR5cGUiKXx8ImFscGhhIixuYW1lOmkuZGF0YSgibmFtZSIpfHxuLnRyaW0oaS50ZXh0KCkpLGlnbm9yZTppLmRhdGEoImlnbm9yZSIpfHwhMSx0b2dnbGU6aS5kYXRhKCJ0b2dnbGUiKXx8ITEsY2xhc3NOYW1lOmkuZGF0YSgiY2xhc3MiKXx8bnVsbCxtYXRjaGVzOltdLG5hbWVzOnt9LGdyb3VwOmkuZGF0YSgiZ3JvdXAiKXx8bnVsbCxncm91cE5hbWU6bnVsbH0sbnVsbCE9PXIuZ3JvdXAmJih3PW4oZS50YWJsZSkuZmluZCgnPiB0aGVhZCA+IHRyLmZvb3RhYmxlLWdyb3VwLXJvdyA+IHRoW2RhdGEtZ3JvdXA9Iicrci5ncm91cCsnIl0sID4gdGhlYWQgPiB0ci5mb290YWJsZS1ncm91cC1yb3cgPiB0ZFtkYXRhLWdyb3VwPSInK3IuZ3JvdXArJyJdJykuZmlyc3QoKSxyLmdyb3VwTmFtZT1lLnBhcnNlKHcse3R5cGU6ImFscGhhIn0pKSx5PXBhcnNlSW50KGkucHJldigpLmF0dHIoImNvbHNwYW4iKXx8MCwxMCksbCs9MTx5P3ktMTowLHA9cGFyc2VJbnQoaS5hdHRyKCJjb2xzcGFuIil8fDAsMTApLGg9ci5pbmRleCtsLDE8cClmb3Iobz1pLmRhdGEoIm5hbWVzIiksbz0obz1vfHwiIikuc3BsaXQoIiwiKSx1PTA7dTxwO3UrKylyLm1hdGNoZXMucHVzaCh1K2gpLHU8by5sZW5ndGgmJihyLm5hbWVzW3UraF09b1t1XSk7ZWxzZSByLm1hdGNoZXMucHVzaChoKTtyLmhpZGUuZGVmYXVsdD0iYWxsIj09PWkuZGF0YSgiaGlkZSIpfHwwPD1uLmluQXJyYXkoImRlZmF1bHQiLGYpO2E9ITE7Zm9yKHYgaW4gcy5icmVha3BvaW50cylyLmhpZGVbdl09ImFsbCI9PT1pLmRhdGEoImhpZGUiKXx8MDw9bi5pbkFycmF5KHYsZiksYT1hfHxyLmhpZGVbdl07cmV0dXJuIHIuaGFzQnJlYWtwb2ludD1hLGUucmFpc2UoYy5jb2x1bW5EYXRhLHtjb2x1bW46e2RhdGE6cix0aDp0fX0pLmNvbHVtbi5kYXRhfSxlLmdldFZpZXdwb3J0V2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmlubmVyV2lkdGh8fChkb2N1bWVudC5ib2R5P2RvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGg6MCl9LGUuY2FsY3VsYXRlV2lkdGg9ZnVuY3Rpb24obix0KXtyZXR1cm4galF1ZXJ5LmlzRnVuY3Rpb24ocy5jYWxjdWxhdGVXaWR0aE92ZXJyaWRlKT9zLmNhbGN1bGF0ZVdpZHRoT3ZlcnJpZGUobix0KToodC52aWV3cG9ydFdpZHRoPHQud2lkdGgmJih0LndpZHRoPXQudmlld3BvcnRXaWR0aCksdC5wYXJlbnRXaWR0aDx0LndpZHRoJiYodC53aWR0aD10LnBhcmVudFdpZHRoKSx0KX0sZS5oYXNCcmVha3BvaW50Q29sdW1uPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdCBpbiBlLmNvbHVtbnMpaWYoZS5jb2x1bW5zW3RdLmhpZGVbbl0pe2lmKGUuY29sdW1uc1t0XS5pZ25vcmUpY29udGludWU7cmV0dXJuITB9cmV0dXJuITF9LGUuaGFzQW55QnJlYWtwb2ludENvbHVtbj1mdW5jdGlvbigpe2Zvcih2YXIgbiBpbiBlLmNvbHVtbnMpaWYoZS5jb2x1bW5zW25dLmhhc0JyZWFrcG9pbnQpcmV0dXJuITA7cmV0dXJuITF9LGUucmVzaXplPWZ1bmN0aW9uKCl7dmFyIHQ9bihlLnRhYmxlKSxpLHIsZixvLHM7aWYodC5pcygiOnZpc2libGUiKSYmZS5oYXNBbnlCcmVha3BvaW50Q29sdW1uKCkpe2lmKGk9e3dpZHRoOnQud2lkdGgoKSx2aWV3cG9ydFdpZHRoOmUuZ2V0Vmlld3BvcnRXaWR0aCgpLHBhcmVudFdpZHRoOnQucGFyZW50KCkud2lkdGgoKX0saT1lLmNhbGN1bGF0ZVdpZHRoKHQsaSkscj10LmRhdGEoImZvb3RhYmxlX2luZm8iKSx0LmRhdGEoImZvb3RhYmxlX2luZm8iLGkpLGUucmFpc2UoYy5yZXNpemluZyx7b2xkOnIsaW5mbzppfSksIXJ8fHImJnIud2lkdGgmJnIud2lkdGghPT1pLndpZHRoKXtmb3Iobz1udWxsLHM9MDtzPGUuYnJlYWtwb2ludHMubGVuZ3RoO3MrKylpZigoZj1lLmJyZWFrcG9pbnRzW3NdKSYmZi53aWR0aCYmaS53aWR0aDw9Zi53aWR0aCl7bz1mO2JyZWFrfXZhciB1PW51bGw9PT1vPyJkZWZhdWx0IjpvLm5hbWUsbD1lLmhhc0JyZWFrcG9pbnRDb2x1bW4odSksYT10LmRhdGEoImJyZWFrcG9pbnQiKTt0LmRhdGEoImJyZWFrcG9pbnQiLHUpLnJlbW92ZUNsYXNzKCJkZWZhdWx0IGJyZWFrcG9pbnQiKS5yZW1vdmVDbGFzcyhlLmJyZWFrcG9pbnROYW1lcykuYWRkQ2xhc3ModSsobD8iIGJyZWFrcG9pbnQiOiIiKSk7dSE9PWEmJih0LnRyaWdnZXIoaC5yZWRyYXcpLGUucmFpc2UoYy5icmVha3BvaW50LHticmVha3BvaW50OnUsaW5mbzppfSkpfWUucmFpc2UoYy5yZXNpemVkLHtvbGQ6cixpbmZvOml9KX19LGUucmVkcmF3PWZ1bmN0aW9uKCl7ZS5hZGRSb3dUb2dnbGUoKTtlLmJpbmRUb2dnbGVTZWxlY3RvcnMoKTtlLnNldENvbHVtbkNsYXNzZXMoKTt2YXIgdD1uKGUudGFibGUpLGk9dC5kYXRhKCJicmVha3BvaW50Iikscj1lLmhhc0JyZWFrcG9pbnRDb2x1bW4oaSk7dC5maW5kKCI+IHRib2R5ID4gdHI6bm90KC4iK28uZGV0YWlsKyIpIikuZGF0YSgiZGV0YWlsX2NyZWF0ZWQiLCExKS5lbmQoKS5maW5kKCI+IHRoZWFkID4gdHI6bGFzdC1jaGlsZCA+IHRoIikuZWFjaChmdW5jdGlvbigpe3ZhciByPWUuY29sdW1uc1tuKHRoaXMpLmluZGV4KCldLHU9IiIsaD0hMCxmO2lmKG4uZWFjaChyLm1hdGNoZXMsZnVuY3Rpb24obix0KXtofHwodSs9IiwgIik7dmFyIGk9dCsxO3UrPSI+IHRib2R5ID4gdHI6bm90KC4iK28uZGV0YWlsKyIpID4gdGQ6bnRoLWNoaWxkKCIraSsiKSI7dSs9IiwgPiB0Zm9vdCA+IHRyOm5vdCguIitvLmRldGFpbCsiKSA+IHRkOm50aC1jaGlsZCgiK2krIikiO3UrPSIsID4gY29sZ3JvdXAgPiBjb2w6bnRoLWNoaWxkKCIraSsiKSI7aD0hMX0pLHUrPScsID4gdGhlYWQgPiB0cltkYXRhLWdyb3VwLXJvdz0idHJ1ZSJdID4gdGhbZGF0YS1ncm91cD0iJytyLmdyb3VwKyciXScsZj10LmZpbmQodSkuYWRkKHRoaXMpLCExPT09ci5oaWRlW2ldP2Yuc2hvdygpOmYuaGlkZSgpLDE9PT10LmZpbmQoIj4gdGhlYWQgPiB0ci5mb290YWJsZS1ncm91cC1yb3ciKS5sZW5ndGgpe3ZhciBsPXQuZmluZCgnPiB0aGVhZCA+IHRyOmxhc3QtY2hpbGQgPiB0aFtkYXRhLWdyb3VwPSInK3IuZ3JvdXArJyJdOnZpc2libGUsID4gdGhlYWQgPiB0cjpsYXN0LWNoaWxkID4gdGhbZGF0YS1ncm91cD0iJytyLmdyb3VwKyciXTp2aXNpYmxlJyksYz10LmZpbmQoJz4gdGhlYWQgPiB0ci5mb290YWJsZS1ncm91cC1yb3cgPiB0aFtkYXRhLWdyb3VwPSInK3IuZ3JvdXArJyJdLCA+IHRoZWFkID4gdHIuZm9vdGFibGUtZ3JvdXAtcm93ID4gdGRbZGF0YS1ncm91cD0iJytyLmdyb3VwKyciXScpLHM9MDtuLmVhY2gobCxmdW5jdGlvbigpe3MrPXBhcnNlSW50KG4odGhpcykuYXR0cigiY29sc3BhbiIpfHwxLDEwKX0pOzA8cz9jLmF0dHIoImNvbHNwYW4iLHMpLnNob3coKTpjLmhpZGUoKX19KS5lbmQoKS5maW5kKCI+IHRib2R5ID4gdHIuIitvLmRldGFpbFNob3cpLmVhY2goZnVuY3Rpb24oKXtlLmNyZWF0ZU9yVXBkYXRlRGV0YWlsUm93KHRoaXMpfSk7dC5maW5kKCI+IHRib2R5ID4gdHIuIitvLmRldGFpbFNob3crIjp2aXNpYmxlIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcykubmV4dCgpO3QuaGFzQ2xhc3Moby5kZXRhaWwpJiYocj90LnNob3coKTp0LmhpZGUoKSl9KTt0LmZpbmQoIj4gdGhlYWQgPiB0ciA+IHRoLmZvb3RhYmxlLWxhc3QtY29sdW1uLCA+IHRib2R5ID4gdHIgPiB0ZC5mb290YWJsZS1sYXN0LWNvbHVtbiIpLnJlbW92ZUNsYXNzKCJmb290YWJsZS1sYXN0LWNvbHVtbiIpO3QuZmluZCgiPiB0aGVhZCA+IHRyID4gdGguZm9vdGFibGUtZmlyc3QtY29sdW1uLCA+IHRib2R5ID4gdHIgPiB0ZC5mb290YWJsZS1maXJzdC1jb2x1bW4iKS5yZW1vdmVDbGFzcygiZm9vdGFibGUtZmlyc3QtY29sdW1uIik7dC5maW5kKCI+IHRoZWFkID4gdHIsID4gdGJvZHkgPiB0ciIpLmZpbmQoIj4gdGg6dmlzaWJsZTpsYXN0LCA+IHRkOnZpc2libGU6bGFzdCIpLmFkZENsYXNzKCJmb290YWJsZS1sYXN0LWNvbHVtbiIpLmVuZCgpLmZpbmQoIj4gdGg6dmlzaWJsZTpmaXJzdCwgPiB0ZDp2aXNpYmxlOmZpcnN0IikuYWRkQ2xhc3MoImZvb3RhYmxlLWZpcnN0LWNvbHVtbiIpO2UucmFpc2UoYy5yZWRyYXduKX0sZS50b2dnbGVEZXRhaWw9ZnVuY3Rpb24odCl7dmFyIGk9dC5qcXVlcnk/dDpuKHQpLHI9aS5uZXh0KCk7aS5oYXNDbGFzcyhvLmRldGFpbFNob3cpPyhpLnJlbW92ZUNsYXNzKG8uZGV0YWlsU2hvdyksci5oYXNDbGFzcyhvLmRldGFpbCkmJnIuaGlkZSgpLGUucmFpc2UoYy5yb3dDb2xsYXBzZWQse3JvdzppWzBdfSkpOihlLmNyZWF0ZU9yVXBkYXRlRGV0YWlsUm93KGlbMF0pLGkuYWRkQ2xhc3Moby5kZXRhaWxTaG93KS5uZXh0KCkuc2hvdygpLGUucmFpc2UoYy5yb3dFeHBhbmRlZCx7cm93OmlbMF19KSxuLmV2ZW50LnRyaWdnZXIoImZvb3RhYmxlUm93T3BlbmVkIikpfSxlLnJlbW92ZVJvdz1mdW5jdGlvbih0KXt2YXIgaT10LmpxdWVyeT90Om4odCkscjtpLmhhc0NsYXNzKG8uZGV0YWlsKSYmKGk9aS5wcmV2KCkpO3I9aS5uZXh0KCk7ITA9PT1pLmRhdGEoImRldGFpbF9jcmVhdGVkIikmJnIucmVtb3ZlKCk7aS5yZW1vdmUoKTtlLnJhaXNlKGMucm93UmVtb3ZlZCl9LGUuYXBwZW5kUm93PWZ1bmN0aW9uKHQpe3ZhciBpPXQuanF1ZXJ5P3Q6bih0KTtuKGUudGFibGUpLmZpbmQoInRib2R5IikuYXBwZW5kKGkpO2UucmVkcmF3KCl9LGUuZ2V0Q29sdW1uRnJvbVRkSW5kZXg9ZnVuY3Rpb24odCl7dmFyIGk9bnVsbDtmb3IodmFyIHIgaW4gZS5jb2x1bW5zKWlmKDA8PW4uaW5BcnJheSh0LGUuY29sdW1uc1tyXS5tYXRjaGVzKSl7aT1lLmNvbHVtbnNbcl07YnJlYWt9cmV0dXJuIGl9LGUuY3JlYXRlT3JVcGRhdGVEZXRhaWxSb3c9ZnVuY3Rpb24odCl7dmFyIGgsaT1uKHQpLHI9aS5uZXh0KCksdT1bXSxsLGY7cmV0dXJuITA9PT1pLmRhdGEoImRldGFpbF9jcmVhdGVkIik/ITA6aS5pcygiOmhpZGRlbiIpPyExOihlLnJhaXNlKGMucm93RGV0YWlsVXBkYXRpbmcse3JvdzppLGRldGFpbDpyfSksaS5maW5kKCI+IHRkOmhpZGRlbiIpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpLmluZGV4KCksdD1lLmdldENvbHVtbkZyb21UZEluZGV4KGkpLHI9dC5uYW1lO3JldHVybiEwPT09dC5pZ25vcmV8fChpIGluIHQubmFtZXMmJihyPXQubmFtZXNbaV0pLHUucHVzaCh7bmFtZTpyLHZhbHVlOmUucGFyc2UodGhpcyx0KSxkaXNwbGF5Om4udHJpbShuKHRoaXMpLmh0bWwoKSksZ3JvdXA6dC5ncm91cCxncm91cE5hbWU6dC5ncm91cE5hbWV9KSksITB9KSwwPT09dS5sZW5ndGgpPyExOihsPWkuZmluZCgiPiB0ZDp2aXNpYmxlIikubGVuZ3RoLGY9ci5oYXNDbGFzcyhvLmRldGFpbCksZnx8KHI9bignPHRyIGNsYXNzPSInK28uZGV0YWlsKyciPjx0ZCBjbGFzcz0iJytvLmRldGFpbENlbGwrJyI+PGRpdiBjbGFzcz0iJytvLmRldGFpbElubmVyKyciPjxcL2Rpdj48XC90ZD48XC90cj4nKSxpLmFmdGVyKHIpKSxyLmZpbmQoIj4gdGQ6Zmlyc3QiKS5hdHRyKCJjb2xzcGFuIixsKSxoPXIuZmluZCgiLiIrby5kZXRhaWxJbm5lcikuZW1wdHkoKSxzLmNyZWF0ZURldGFpbChoLHUscy5jcmVhdGVHcm91cGVkRGV0YWlsLHMuZGV0YWlsU2VwYXJhdG9yLG8pLGkuZGF0YSgiZGV0YWlsX2NyZWF0ZWQiLCEwKSxlLnJhaXNlKGMucm93RGV0YWlsVXBkYXRlZCx7cm93OmksZGV0YWlsOnJ9KSwhZil9LGUucmFpc2U9ZnVuY3Rpb24odCxpKXt2YXIgdSxyO3JldHVybiEwPT09ZS5vcHRpb25zLmRlYnVnJiZuLmlzRnVuY3Rpb24oZS5vcHRpb25zLmxvZykmJmUub3B0aW9ucy5sb2codCwiZXZlbnQiKSxpPWl8fHt9LHU9e2Z0OmV9LG4uZXh0ZW5kKCEwLHUsaSkscj1uLkV2ZW50KHQsdSksci5mdHx8bi5leHRlbmQoITAscix1KSxuKGUudGFibGUpLnRyaWdnZXIocikscn0sZS5yZXNldD1mdW5jdGlvbigpe3ZhciB0PW4oZS50YWJsZSk7dC5yZW1vdmVEYXRhKCJmb290YWJsZV9pbmZvIikuZGF0YSgiYnJlYWtwb2ludCIsIiIpLnJlbW92ZUNsYXNzKG8ubG9hZGluZykucmVtb3ZlQ2xhc3Moby5sb2FkZWQpO3QuZmluZChzLnRvZ2dsZVNlbGVjdG9yKS51bmJpbmQoaC50b2dnbGVSb3cpLnVuYmluZCgiY2xpY2suZm9vdGFibGUiKTt0LmZpbmQoIj4gdGJvZHkgPiB0ciIpLnJlbW92ZUNsYXNzKG8uZGV0YWlsU2hvdyk7dC5maW5kKCI+IHRib2R5ID4gdHIuIitvLmRldGFpbCkucmVtb3ZlKCk7ZS5yYWlzZShjLnJlc2V0KX0sZS5pbml0KCksZX10LmZvb3RhYmxlPXtvcHRpb25zOntkZWxheToxMDAsYnJlYWtwb2ludHM6e3c0MTA6NDEwLHc0ODA6NDgwLHc1ODA6NTgwLHc3Njg6NzY4LHc5ODA6OTgwLHcxMDAwOjFlM30scGFyc2Vyczp7YWxwaGE6ZnVuY3Rpb24odCl7cmV0dXJuIG4odCkuZGF0YSgidmFsdWUiKXx8bi50cmltKG4odCkudGV4dCgpKX0sbnVtZXJpYzpmdW5jdGlvbih0KXt2YXIgaT1uKHQpLmRhdGEoInZhbHVlIil8fG4odCkudGV4dCgpLnJlcGxhY2UoL1teMC05LlwtXS9nLCIiKTtyZXR1cm4gaT1wYXJzZUZsb2F0KGkpLGlzTmFOKGkpJiYoaT0wKSxpfX0sYWRkUm93VG9nZ2xlOiEwLGNhbGN1bGF0ZVdpZHRoT3ZlcnJpZGU6bnVsbCx0b2dnbGVTZWxlY3RvcjoiID4gdGJvZHkgPiB0cjpub3QoLmZvb3RhYmxlLXJvdy1kZXRhaWwpIixjb2x1bW5EYXRhU2VsZWN0b3I6Ij4gdGhlYWQgPiB0cjpsYXN0LWNoaWxkID4gdGgsID4gdGhlYWQgPiB0cjpsYXN0LWNoaWxkID4gdGQiLGRldGFpbFNlcGFyYXRvcjoiOiIsdG9nZ2xlSFRNTEVsZW1lbnQ6IjxzcGFuIC8+IixjcmVhdGVHcm91cGVkRGV0YWlsOmZ1bmN0aW9uKG4pe2Zvcih2YXIgcixpPXtfbm9uZTp7bmFtZTpudWxsLGRhdGE6W119fSx0PTA7dDxuLmxlbmd0aDt0Kyspcj1uW3RdLmdyb3VwLG51bGwhPT1yPyhyIGluIGl8fChpW3JdPXtuYW1lOm5bdF0uZ3JvdXBOYW1lfHxuW3RdLmdyb3VwLGRhdGE6W119KSxpW3JdLmRhdGEucHVzaChuW3RdKSk6aS5fbm9uZS5kYXRhLnB1c2goblt0XSk7cmV0dXJuIGl9LGNyZWF0ZURldGFpbDpmdW5jdGlvbihuLHQsaSxyLHUpe3ZhciBlPWkodCksZixvLHM7Zm9yKGYgaW4gZSlpZigwIT09ZVtmXS5kYXRhLmxlbmd0aClmb3IoIl9ub25lIiE9PWYmJm4uYXBwZW5kKCc8ZGl2IGNsYXNzPSInK3UuZGV0YWlsSW5uZXJHcm91cCsnIj4nK2VbZl0ubmFtZSsiPFwvZGl2PiIpLG89MDtvPGVbZl0uZGF0YS5sZW5ndGg7bysrKXM9ZVtmXS5kYXRhW29dLm5hbWU/cjoiIixuLmFwcGVuZCgnPGRpdiBjbGFzcz0iJyt1LmRldGFpbElubmVyUm93KyciPjxkaXYgY2xhc3M9IicrdS5kZXRhaWxJbm5lck5hbWUrJyI+JytlW2ZdLmRhdGFbb10ubmFtZStzKyc8XC9kaXY+PGRpdiBjbGFzcz0iJyt1LmRldGFpbElubmVyVmFsdWUrJyI+JytlW2ZdLmRhdGFbb10uZGlzcGxheSsiPFwvZGl2PjxcL2Rpdj4iKX0sY2xhc3Nlczp7bWFpbjoiZm9vdGFibGUiLGxvYWRpbmc6ImZvb3RhYmxlLWxvYWRpbmciLGxvYWRlZDoiZm9vdGFibGUtbG9hZGVkIix0b2dnbGU6ImZvb3RhYmxlLXRvZ2dsZSIsZGlzYWJsZWQ6ImZvb3RhYmxlLWRpc2FibGVkIixkZXRhaWw6ImZvb3RhYmxlLXJvdy1kZXRhaWwiLGRldGFpbENlbGw6ImZvb3RhYmxlLXJvdy1kZXRhaWwtY2VsbCIsZGV0YWlsSW5uZXI6ImZvb3RhYmxlLXJvdy1kZXRhaWwtaW5uZXIiLGRldGFpbElubmVyUm93OiJmb290YWJsZS1yb3ctZGV0YWlsLXJvdyIsZGV0YWlsSW5uZXJHcm91cDoiZm9vdGFibGUtcm93LWRldGFpbC1ncm91cCIsZGV0YWlsSW5uZXJOYW1lOiJmb290YWJsZS1yb3ctZGV0YWlsLW5hbWUiLGRldGFpbElubmVyVmFsdWU6ImZvb3RhYmxlLXJvdy1kZXRhaWwtdmFsdWUiLGRldGFpbFNob3c6ImZvb3RhYmxlLWRldGFpbC1zaG93In0sdHJpZ2dlcnM6e2luaXRpYWxpemU6ImZvb3RhYmxlX2luaXRpYWxpemUiLHJlc2l6ZToiZm9vdGFibGVfcmVzaXplIixyZWRyYXc6ImZvb3RhYmxlX3JlZHJhdyIsdG9nZ2xlUm93OiJmb290YWJsZV90b2dnbGVfcm93IixleHBhbmRGaXJzdFJvdzoiZm9vdGFibGVfZXhwYW5kX2ZpcnN0X3JvdyIsZXhwYW5kQWxsOiJmb290YWJsZV9leHBhbmRfYWxsIixjb2xsYXBzZUFsbDoiZm9vdGFibGVfY29sbGFwc2VfYWxsIn0sZXZlbnRzOnthbHJlYWR5SW5pdGlhbGl6ZWQ6ImZvb3RhYmxlX2FscmVhZHlfaW5pdGlhbGl6ZWQiLGluaXRpYWxpemluZzoiZm9vdGFibGVfaW5pdGlhbGl6aW5nIixpbml0aWFsaXplZDoiZm9vdGFibGVfaW5pdGlhbGl6ZWQiLHJlc2l6aW5nOiJmb290YWJsZV9yZXNpemluZyIscmVzaXplZDoiZm9vdGFibGVfcmVzaXplZCIscmVkcmF3bjoiZm9vdGFibGVfcmVkcmF3biIsYnJlYWtwb2ludDoiZm9vdGFibGVfYnJlYWtwb2ludCIsY29sdW1uRGF0YToiZm9vdGFibGVfY29sdW1uX2RhdGEiLHJvd0RldGFpbFVwZGF0aW5nOiJmb290YWJsZV9yb3dfZGV0YWlsX3VwZGF0aW5nIixyb3dEZXRhaWxVcGRhdGVkOiJmb290YWJsZV9yb3dfZGV0YWlsX3VwZGF0ZWQiLHJvd0NvbGxhcHNlZDoiZm9vdGFibGVfcm93X2NvbGxhcHNlZCIscm93RXhwYW5kZWQ6ImZvb3RhYmxlX3Jvd19leHBhbmRlZCIscm93UmVtb3ZlZDoiZm9vdGFibGVfcm93X3JlbW92ZWQiLHJlc2V0OiJmb290YWJsZV9yZXNldCJ9LGRlYnVnOiExLGxvZzpudWxsfSx2ZXJzaW9uOnttYWpvcjowLG1pbm9yOjUsdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdC5mb290YWJsZS52ZXJzaW9uLm1ham9yKyIuIit0LmZvb3RhYmxlLnZlcnNpb24ubWlub3J9LHBhcnNlOmZ1bmN0aW9uKG4pe3JldHVybiB2ZXJzaW9uPS8oXGQrKVwuPyhcZCspP1wuPyhcZCspPy8uZXhlYyhuKSx7bWFqb3I6cGFyc2VJbnQodmVyc2lvblsxXSwxMCl8fDAsbWlub3I6cGFyc2VJbnQodmVyc2lvblsyXSwxMCl8fDAscGF0Y2g6cGFyc2VJbnQodmVyc2lvblszXSwxMCl8fDB9fX0scGx1Z2luczp7X3ZhbGlkYXRlOmZ1bmN0aW9uKGkpe2lmKCFuLmlzRnVuY3Rpb24oaSkpcmV0dXJuITA9PT10LmZvb3RhYmxlLm9wdGlvbnMuZGVidWcmJmNvbnNvbGUuZXJyb3IoJ1ZhbGlkYXRpb24gZmFpbGVkLCBleHBlY3RlZCB0eXBlICJmdW5jdGlvbiIsIHJlY2VpdmVkIHR5cGUgInswfSIuJyx0eXBlb2YgaSksITE7dmFyIHI9bmV3IGk7cmV0dXJuInN0cmluZyIhPXR5cGVvZiByLm5hbWU/KCEwPT09dC5mb290YWJsZS5vcHRpb25zLmRlYnVnJiZjb25zb2xlLmVycm9yKCdWYWxpZGF0aW9uIGZhaWxlZCwgcGx1Z2luIGRvZXMgbm90IGltcGxlbWVudCBhIHN0cmluZyBwcm9wZXJ0eSBjYWxsZWQgIm5hbWUiLicsciksITEpOm4uaXNGdW5jdGlvbihyLmluaXQpPyghMD09PXQuZm9vdGFibGUub3B0aW9ucy5kZWJ1ZyYmY29uc29sZS5sb2coJ1ZhbGlkYXRpb24gc3VjY2VlZGVkIGZvciBwbHVnaW4gIicrci5uYW1lKyciLicsciksITApOighMD09PXQuZm9vdGFibGUub3B0aW9ucy5kZWJ1ZyYmY29uc29sZS5lcnJvcignVmFsaWRhdGlvbiBmYWlsZWQsIHBsdWdpbiAiJytyLm5hbWUrJyIgZG9lcyBub3QgaW1wbGVtZW50IGEgZnVuY3Rpb24gY2FsbGVkICJpbml0Ii4nLHIpLCExKX0scmVnaXN0ZXJlZDpbXSxyZWdpc3RlcjpmdW5jdGlvbihpLHIpe3QuZm9vdGFibGUucGx1Z2lucy5fdmFsaWRhdGUoaSkmJih0LmZvb3RhYmxlLnBsdWdpbnMucmVnaXN0ZXJlZC5wdXNoKGkpLCJvYmplY3QiPT10eXBlb2YgciYmbi5leHRlbmQoITAsdC5mb290YWJsZS5vcHRpb25zLHIpKX0sbG9hZDpmdW5jdGlvbihuKXtmb3IodmFyIHIsdT1bXSxpPTA7aTx0LmZvb3RhYmxlLnBsdWdpbnMucmVnaXN0ZXJlZC5sZW5ndGg7aSsrKXRyeXtyPXQuZm9vdGFibGUucGx1Z2lucy5yZWdpc3RlcmVkW2ldO3UucHVzaChuZXcgcihuKSl9Y2F0Y2gobil7ITA9PT10LmZvb3RhYmxlLm9wdGlvbnMuZGVidWcmJmNvbnNvbGUuZXJyb3Iobil9cmV0dXJuIHV9LGluaXQ6ZnVuY3Rpb24obil7Zm9yKHZhciBpPTA7aTxuLnBsdWdpbnMubGVuZ3RoO2krKyl0cnl7bi5wbHVnaW5zW2ldLmluaXQobil9Y2F0Y2gobil7ITA9PT10LmZvb3RhYmxlLm9wdGlvbnMuZGVidWcmJmNvbnNvbGUuZXJyb3Iobil9fX19O3ZhciByPTA7bi5mbi5mb290YWJsZT1mdW5jdGlvbihpKXtpPWl8fHt9O3ZhciBmPW4uZXh0ZW5kKCEwLHt9LHQuZm9vdGFibGUub3B0aW9ucyxpKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bmV3IHUodGhpcyxmLCsrcik7bih0aGlzKS5kYXRhKCJmb290YWJsZSIsdCl9KX19KGpRdWVyeSx3aW5kb3cpOwovKiEgcGVyZmVjdC1zY3JvbGxiYXIgLSB2MC41LjgKKiBodHRwOi8vbm9yYWVzYWUuZ2l0aHViLmNvbS9wZXJmZWN0LXNjcm9sbGJhci8KKiBDb3B5cmlnaHQgKGMpIDIwMTQgSHl1bmplIEFsZXggSnVuOyBMaWNlbnNlZCBNSVQgKi8KKGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLG4pOiJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9uKHJlcXVpcmUoImpxdWVyeSIpKTpuKGpRdWVyeSl9KShmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChuKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIG4/cGFyc2VJbnQobiwxMCk6fn5ufXZhciBpPXt3aGVlbFNwZWVkOjEsd2hlZWxQcm9wYWdhdGlvbjohMSxzd2lwZVByb3BhZ2F0aW9uOiEwLG1pblNjcm9sbGJhckxlbmd0aDpudWxsLG1heFNjcm9sbGJhckxlbmd0aDpudWxsLHVzZUJvdGhXaGVlbEF4ZXM6ITEsdXNlS2V5Ym9hcmQ6ITAsc3VwcHJlc3NTY3JvbGxYOiExLHN1cHByZXNzU2Nyb2xsWTohMSxzY3JvbGxYTWFyZ2luT2Zmc2V0OjAsc2Nyb2xsWU1hcmdpbk9mZnNldDowLGluY2x1ZGVQYWRkaW5nOiExfSxyPTAsdT1mdW5jdGlvbigpe3ZhciBuPXIrKztyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk9Ii5wZXJmZWN0LXNjcm9sbGJhci0iK247cmV0dXJuIHQ9PT12b2lkIDA/aTp0K2l9fSxmPSJXZWJraXRBcHBlYXJhbmNlImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTtuLmZuLnBlcmZlY3RTY3JvbGxiYXI9ZnVuY3Rpb24ocixlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZHQobixpKXt2YXIgcj1uK2ksdT12LXcsZjtudD0wPnI/MDpyPnU/dTpyO2Y9dChudCooYi12KS8odi13KSk7by5zY3JvbGxUb3AoZil9ZnVuY3Rpb24gZ3QobixpKXt2YXIgcj1uK2ksdT1hLXAsZjtnPTA+cj8wOnI+dT91OnI7Zj10KGcqKHktYSkvKGEtcCkpO28uc2Nyb2xsTGVmdChmKX1mdW5jdGlvbiB2dChuKXtyZXR1cm4gaC5taW5TY3JvbGxiYXJMZW5ndGgmJihuPU1hdGgubWF4KG4saC5taW5TY3JvbGxiYXJMZW5ndGgpKSxoLm1heFNjcm9sbGJhckxlbmd0aCYmKG49TWF0aC5taW4obixoLm1heFNjcm9sbGJhckxlbmd0aCkpLG59ZnVuY3Rpb24gbmkoKXt2YXIgbj17d2lkdGg6dXR9LHQ7bi5sZWZ0PXN0P28uc2Nyb2xsTGVmdCgpK2EteTpvLnNjcm9sbExlZnQoKTtjdD9uLmJvdHRvbT1odC1vLnNjcm9sbFRvcCgpOm4udG9wPXd0K28uc2Nyb2xsVG9wKCk7Yy5jc3Mobik7dD17dG9wOm8uc2Nyb2xsVG9wKCksaGVpZ2h0OmZ0fTtsdD90LnJpZ2h0PXN0P3ktby5zY3JvbGxMZWZ0KCktb3QtdHQub3V0ZXJXaWR0aCgpOm90LW8uc2Nyb2xsTGVmdCgpOnQubGVmdD1zdD9vLnNjcm9sbExlZnQoKSsyKmEteS1hdC10dC5vdXRlcldpZHRoKCk6YXQrby5zY3JvbGxMZWZ0KCk7bC5jc3ModCk7ZXQuY3NzKHtsZWZ0Omcsd2lkdGg6cC1haX0pO3R0LmNzcyh7dG9wOm50LGhlaWdodDp3LXlpfSl9ZnVuY3Rpb24gZCgpe28ucmVtb3ZlQ2xhc3MoInBzLWFjdGl2ZS14Iik7by5yZW1vdmVDbGFzcygicHMtYWN0aXZlLXkiKTthPWguaW5jbHVkZVBhZGRpbmc/by5pbm5lcldpZHRoKCk6by53aWR0aCgpO3Y9aC5pbmNsdWRlUGFkZGluZz9vLmlubmVySGVpZ2h0KCk6by5oZWlnaHQoKTt5PW8ucHJvcCgic2Nyb2xsV2lkdGgiKTtiPW8ucHJvcCgic2Nyb2xsSGVpZ2h0Iik7IWguc3VwcHJlc3NTY3JvbGxYJiZ5PmEraC5zY3JvbGxYTWFyZ2luT2Zmc2V0PyhpdD0hMCx1dD1hLXZpLHA9dnQodCh1dCphL3kpKSxnPXQoby5zY3JvbGxMZWZ0KCkqKHV0LXApLyh5LWEpKSk6KGl0PSExLHA9MCxnPTAsby5zY3JvbGxMZWZ0KDApKTshaC5zdXBwcmVzc1Njcm9sbFkmJmI+ditoLnNjcm9sbFlNYXJnaW5PZmZzZXQ/KHJ0PSEwLGZ0PXYtcGksdz12dCh0KGZ0KnYvYikpLG50PXQoby5zY3JvbGxUb3AoKSooZnQtdykvKGItdikpKToocnQ9ITEsdz0wLG50PTAsby5zY3JvbGxUb3AoMCkpO2c+PXV0LXAmJihnPXV0LXApO250Pj1mdC13JiYobnQ9ZnQtdyk7bmkoKTtpdCYmby5hZGRDbGFzcygicHMtYWN0aXZlLXgiKTtydCYmby5hZGRDbGFzcygicHMtYWN0aXZlLXkiKX1mdW5jdGlvbiB0aSgpe3ZhciB0LGkscj1mdW5jdGlvbihuKXtndCh0LG4ucGFnZVgtaSk7ZCgpO24uc3RvcFByb3BhZ2F0aW9uKCk7bi5wcmV2ZW50RGVmYXVsdCgpfSx1PWZ1bmN0aW9uKCl7Yy5yZW1vdmVDbGFzcygiaW4tc2Nyb2xsaW5nIik7bihrKS51bmJpbmQocygibW91c2Vtb3ZlIikscil9O2V0LmJpbmQocygibW91c2Vkb3duIiksZnVuY3Rpb24oZil7aT1mLnBhZ2VYO3Q9ZXQucG9zaXRpb24oKS5sZWZ0O2MuYWRkQ2xhc3MoImluLXNjcm9sbGluZyIpO24oaykuYmluZChzKCJtb3VzZW1vdmUiKSxyKTtuKGspLm9uZShzKCJtb3VzZXVwIiksdSk7Zi5zdG9wUHJvcGFnYXRpb24oKTtmLnByZXZlbnREZWZhdWx0KCl9KTt0PWk9bnVsbH1mdW5jdGlvbiBpaSgpe3ZhciB0LGkscj1mdW5jdGlvbihuKXtkdCh0LG4ucGFnZVktaSk7ZCgpO24uc3RvcFByb3BhZ2F0aW9uKCk7bi5wcmV2ZW50RGVmYXVsdCgpfSx1PWZ1bmN0aW9uKCl7bC5yZW1vdmVDbGFzcygiaW4tc2Nyb2xsaW5nIik7bihrKS51bmJpbmQocygibW91c2Vtb3ZlIikscil9O3R0LmJpbmQocygibW91c2Vkb3duIiksZnVuY3Rpb24oZil7aT1mLnBhZ2VZO3Q9dHQucG9zaXRpb24oKS50b3A7bC5hZGRDbGFzcygiaW4tc2Nyb2xsaW5nIik7bihrKS5iaW5kKHMoIm1vdXNlbW92ZSIpLHIpO24oaykub25lKHMoIm1vdXNldXAiKSx1KTtmLnN0b3BQcm9wYWdhdGlvbigpO2YucHJldmVudERlZmF1bHQoKX0pO3Q9aT1udWxsfWZ1bmN0aW9uIHl0KG4sdCl7dmFyIHI9by5zY3JvbGxUb3AoKSxpO2lmKDA9PT1uKXtpZighcnQpcmV0dXJuITE7aWYoMD09PXImJnQ+MHx8cj49Yi12JiYwPnQpcmV0dXJuIWgud2hlZWxQcm9wYWdhdGlvbn1pZihpPW8uc2Nyb2xsTGVmdCgpLDA9PT10KXtpZighaXQpcmV0dXJuITE7aWYoMD09PWkmJjA+bnx8aT49eS1hJiZuPjApcmV0dXJuIWgud2hlZWxQcm9wYWdhdGlvbn1yZXR1cm4hMH1mdW5jdGlvbiByaShuLHQpe3ZhciBpPW8uc2Nyb2xsVG9wKCkscj1vLnNjcm9sbExlZnQoKSx1PU1hdGguYWJzKG4pLGY9TWF0aC5hYnModCk7aWYoZj51KXtpZigwPnQmJmk9PT1iLXZ8fHQ+MCYmMD09PWkpcmV0dXJuIWguc3dpcGVQcm9wYWdhdGlvbn1lbHNlIGlmKHU+ZiYmKDA+biYmcj09PXktYXx8bj4wJiYwPT09cikpcmV0dXJuIWguc3dpcGVQcm9wYWdhdGlvbjtyZXR1cm4hMH1mdW5jdGlvbiB1aSgpe2Z1bmN0aW9uIGkobil7dmFyIHQ9bi5vcmlnaW5hbEV2ZW50LmRlbHRhWCxpPS0xKm4ub3JpZ2luYWxFdmVudC5kZWx0YVk7cmV0dXJuKHQ9PT12b2lkIDB8fGk9PT12b2lkIDApJiYodD1uLm9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YVgvLTYsaT1uLm9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YVkvNiksbi5vcmlnaW5hbEV2ZW50LmRlbHRhTW9kZSYmMT09PW4ub3JpZ2luYWxFdmVudC5kZWx0YU1vZGUmJih0Kj0xMCxpKj0xMCksdCE9PXQmJmkhPT1pJiYodD0wLGk9bi5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGEpLFt0LGldfWZ1bmN0aW9uIHQodCl7aWYoZnx8IShvLmZpbmQoInNlbGVjdDpmb2N1cyIpLmxlbmd0aD4wKSl7dmFyIGU9aSh0KSxyPWVbMF0sdT1lWzFdO249ITE7aC51c2VCb3RoV2hlZWxBeGVzP3J0JiYhaXQ/KHU/by5zY3JvbGxUb3Aoby5zY3JvbGxUb3AoKS11Kmgud2hlZWxTcGVlZCk6by5zY3JvbGxUb3Aoby5zY3JvbGxUb3AoKStyKmgud2hlZWxTcGVlZCksbj0hMCk6aXQmJiFydCYmKHI/by5zY3JvbGxMZWZ0KG8uc2Nyb2xsTGVmdCgpK3IqaC53aGVlbFNwZWVkKTpvLnNjcm9sbExlZnQoby5zY3JvbGxMZWZ0KCktdSpoLndoZWVsU3BlZWQpLG49ITApOihvLnNjcm9sbFRvcChvLnNjcm9sbFRvcCgpLXUqaC53aGVlbFNwZWVkKSxvLnNjcm9sbExlZnQoby5zY3JvbGxMZWZ0KCkrcipoLndoZWVsU3BlZWQpKTtkKCk7bj1ufHx5dChyLHUpO24mJih0LnN0b3BQcm9wYWdhdGlvbigpLHQucHJldmVudERlZmF1bHQoKSl9fXZhciBuPSExO3dpbmRvdy5vbndoZWVsIT09dm9pZCAwP28uYmluZChzKCJ3aGVlbCIpLHQpOndpbmRvdy5vbm1vdXNld2hlZWwhPT12b2lkIDAmJm8uYmluZChzKCJtb3VzZXdoZWVsIiksdCl9ZnVuY3Rpb24gZmkoKXt2YXIgdD0hMSxpO28uYmluZChzKCJtb3VzZWVudGVyIiksZnVuY3Rpb24oKXt0PSEwfSk7by5iaW5kKHMoIm1vdXNlbGVhdmUiKSxmdW5jdGlvbigpe3Q9ITF9KTtpPSExO24oaykuYmluZChzKCJrZXlkb3duIiksZnVuY3Rpb24ocil7dmFyIGYsZSx1O2lmKCghci5pc0RlZmF1bHRQcmV2ZW50ZWR8fCFyLmlzRGVmYXVsdFByZXZlbnRlZCgpKSYmdCl7Zm9yKGY9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudD9kb2N1bWVudC5hY3RpdmVFbGVtZW50OmsuYWN0aXZlRWxlbWVudDtmLnNoYWRvd1Jvb3Q7KWY9Zi5zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQ7aWYoIW4oZikuaXMoIjppbnB1dCxbY29udGVudGVkaXRhYmxlXSIpKXtlPTA7dT0wO3N3aXRjaChyLndoaWNoKXtjYXNlIDM3OmU9LTMwO2JyZWFrO2Nhc2UgMzg6dT0zMDticmVhaztjYXNlIDM5OmU9MzA7YnJlYWs7Y2FzZSA0MDp1PS0zMDticmVhaztjYXNlIDMzOnU9OTA7YnJlYWs7Y2FzZSAzMjpjYXNlIDM0OnU9LTkwO2JyZWFrO2Nhc2UgMzU6dT1yLmN0cmxLZXk/LWI6LXY7YnJlYWs7Y2FzZSAzNjp1PXIuY3RybEtleT9vLnNjcm9sbFRvcCgpOnY7YnJlYWs7ZGVmYXVsdDpyZXR1cm59by5zY3JvbGxUb3Aoby5zY3JvbGxUb3AoKS11KTtvLnNjcm9sbExlZnQoby5zY3JvbGxMZWZ0KCkrZSk7aT15dChlLHUpO2kmJnIucHJldmVudERlZmF1bHQoKX19fSl9ZnVuY3Rpb24gZWkoKXtmdW5jdGlvbiBuKG4pe24uc3RvcFByb3BhZ2F0aW9uKCl9dHQuYmluZChzKCJjbGljayIpLG4pO2wuYmluZChzKCJjbGljayIpLGZ1bmN0aW9uKG4pe3ZhciByPXQody8yKSx1PW4ucGFnZVktbC5vZmZzZXQoKS50b3AtcixmPXYtdyxpPXUvZjswPmk/aT0wOmk+MSYmKGk9MSk7by5zY3JvbGxUb3AoKGItdikqaSl9KTtldC5iaW5kKHMoImNsaWNrIiksbik7Yy5iaW5kKHMoImNsaWNrIiksZnVuY3Rpb24obil7dmFyIHI9dChwLzIpLHU9bi5wYWdlWC1jLm9mZnNldCgpLmxlZnQtcixmPWEtcCxpPXUvZjswPmk/aT0wOmk+MSYmKGk9MSk7by5zY3JvbGxMZWZ0KCh5LWEpKmkpfSl9ZnVuY3Rpb24gb2koKXtmdW5jdGlvbiBmKCl7dmFyIG49d2luZG93LmdldFNlbGVjdGlvbj93aW5kb3cuZ2V0U2VsZWN0aW9uKCk6ZG9jdW1lbnQuZ2V0U2xlY3Rpb24/ZG9jdW1lbnQuZ2V0U2xlY3Rpb24oKTp7cmFuZ2VDb3VudDowfTtyZXR1cm4gMD09PW4ucmFuZ2VDb3VudD9udWxsOm4uZ2V0UmFuZ2VBdCgwKS5jb21tb25BbmNlc3RvckNvbnRhaW5lcn1mdW5jdGlvbiBlKCl7aXx8KGk9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtyZXR1cm4gcHQoKT8oby5zY3JvbGxUb3Aoby5zY3JvbGxUb3AoKSt0LnRvcCksby5zY3JvbGxMZWZ0KG8uc2Nyb2xsTGVmdCgpK3QubGVmdCksZCgpLHZvaWQgMCk6KGNsZWFySW50ZXJ2YWwoaSksdm9pZCAwKX0sNTApKX1mdW5jdGlvbiB1KCl7aSYmKGNsZWFySW50ZXJ2YWwoaSksaT1udWxsKTtjLnJlbW92ZUNsYXNzKCJpbi1zY3JvbGxpbmciKTtsLnJlbW92ZUNsYXNzKCJpbi1zY3JvbGxpbmciKX12YXIgaT1udWxsLHQ9e3RvcDowLGxlZnQ6MH0scj0hMTtuKGspLmJpbmQocygic2VsZWN0aW9uY2hhbmdlIiksZnVuY3Rpb24oKXtuLmNvbnRhaW5zKG9bMF0sZigpKT9yPSEwOihyPSExLHUoKSl9KTtuKHdpbmRvdykuYmluZChzKCJtb3VzZXVwIiksZnVuY3Rpb24oKXtyJiYocj0hMSx1KCkpfSk7bih3aW5kb3cpLmJpbmQocygibW91c2Vtb3ZlIiksZnVuY3Rpb24obil7aWYocil7dmFyIGk9e3g6bi5wYWdlWCx5Om4ucGFnZVl9LHM9by5vZmZzZXQoKSxmPXtsZWZ0OnMubGVmdCxyaWdodDpzLmxlZnQrby5vdXRlcldpZHRoKCksdG9wOnMudG9wLGJvdHRvbTpzLnRvcCtvLm91dGVySGVpZ2h0KCl9O2kueDxmLmxlZnQrMz8odC5sZWZ0PS01LGMuYWRkQ2xhc3MoImluLXNjcm9sbGluZyIpKTppLng+Zi5yaWdodC0zPyh0LmxlZnQ9NSxjLmFkZENsYXNzKCJpbi1zY3JvbGxpbmciKSk6dC5sZWZ0PTA7aS55PGYudG9wKzM/KHQudG9wPTU+Zi50b3ArMy1pLnk/LTU6LTIwLGwuYWRkQ2xhc3MoImluLXNjcm9sbGluZyIpKTppLnk+Zi5ib3R0b20tMz8odC50b3A9NT5pLnktZi5ib3R0b20rMz81OjIwLGwuYWRkQ2xhc3MoImluLXNjcm9sbGluZyIpKTp0LnRvcD0wOzA9PT10LnRvcCYmMD09PXQubGVmdD91KCk6ZSgpfX0pfWZ1bmN0aW9uIHNpKHQsaSl7ZnVuY3Rpb24gdyhuLHQpe28uc2Nyb2xsVG9wKG8uc2Nyb2xsVG9wKCktdCk7by5zY3JvbGxMZWZ0KG8uc2Nyb2xsTGVmdCgpLW4pO2QoKX1mdW5jdGlvbiBjKCl7ZT0hMH1mdW5jdGlvbiBsKCl7ZT0hMX1mdW5jdGlvbiBiKG4pe3JldHVybiBuLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlcz9uLm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlc1swXTpuLm9yaWdpbmFsRXZlbnR9ZnVuY3Rpb24gayhuKXt2YXIgdD1uLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIHQudGFyZ2V0VG91Y2hlcyYmMT09PXQudGFyZ2V0VG91Y2hlcy5sZW5ndGg/ITA6dC5wb2ludGVyVHlwZSYmIm1vdXNlIiE9PXQucG9pbnRlclR5cGUmJnQucG9pbnRlclR5cGUhPT10Lk1TUE9JTlRFUl9UWVBFX01PVVNFPyEwOiExfWZ1bmN0aW9uIGEobil7aWYoayhuKSl7aD0hMDt2YXIgdD1iKG4pO2YucGFnZVg9dC5wYWdlWDtmLnBhZ2VZPXQucGFnZVk7cD0obmV3IERhdGUpLmdldFRpbWUoKTtudWxsIT09dSYmY2xlYXJJbnRlcnZhbCh1KTtuLnN0b3BQcm9wYWdhdGlvbigpfX1mdW5jdGlvbiB2KG4pe3ZhciBzLHQ7aWYoIWUmJmgmJmsobikpe3ZhciBjPWIobiksaT17cGFnZVg6Yy5wYWdlWCxwYWdlWTpjLnBhZ2VZfSx1PWkucGFnZVgtZi5wYWdlWCxvPWkucGFnZVktZi5wYWdlWTt3KHUsbyk7Zj1pO3M9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dD1zLXA7dD4wJiYoci54PXUvdCxyLnk9by90LHA9cyk7cmkodSxvKSYmKG4uc3RvcFByb3BhZ2F0aW9uKCksbi5wcmV2ZW50RGVmYXVsdCgpKX19ZnVuY3Rpb24geSgpeyFlJiZoJiYoaD0hMSxjbGVhckludGVydmFsKHUpLHU9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtyZXR1cm4gcHQoKT8uMDE+TWF0aC5hYnMoci54KSYmLjAxPk1hdGguYWJzKHIueSk/KGNsZWFySW50ZXJ2YWwodSksdm9pZCAwKToodygzMCpyLngsMzAqci55KSxyLngqPS44LHIueSo9Ljgsdm9pZCAwKTooY2xlYXJJbnRlcnZhbCh1KSx2b2lkIDApfSwxMCkpfXZhciBmPXt9LHA9MCxyPXt9LHU9bnVsbCxlPSExLGg9ITE7dCYmKG4od2luZG93KS5iaW5kKHMoInRvdWNoc3RhcnQiKSxjKSxuKHdpbmRvdykuYmluZChzKCJ0b3VjaGVuZCIpLGwpLG8uYmluZChzKCJ0b3VjaHN0YXJ0IiksYSksby5iaW5kKHMoInRvdWNobW92ZSIpLHYpLG8uYmluZChzKCJ0b3VjaGVuZCIpLHkpKTtpJiYod2luZG93LlBvaW50ZXJFdmVudD8obih3aW5kb3cpLmJpbmQocygicG9pbnRlcmRvd24iKSxjKSxuKHdpbmRvdykuYmluZChzKCJwb2ludGVydXAiKSxsKSxvLmJpbmQocygicG9pbnRlcmRvd24iKSxhKSxvLmJpbmQocygicG9pbnRlcm1vdmUiKSx2KSxvLmJpbmQocygicG9pbnRlcnVwIikseSkpOndpbmRvdy5NU1BvaW50ZXJFdmVudCYmKG4od2luZG93KS5iaW5kKHMoIk1TUG9pbnRlckRvd24iKSxjKSxuKHdpbmRvdykuYmluZChzKCJNU1BvaW50ZXJVcCIpLGwpLG8uYmluZChzKCJNU1BvaW50ZXJEb3duIiksYSksby5iaW5kKHMoIk1TUG9pbnRlck1vdmUiKSx2KSxvLmJpbmQocygiTVNQb2ludGVyVXAiKSx5KSkpfWZ1bmN0aW9uIGhpKCl7by5iaW5kKHMoInNjcm9sbCIpLGZ1bmN0aW9uKCl7ZCgpfSl9ZnVuY3Rpb24gY2koKXtvLnVuYmluZChzKCkpO24od2luZG93KS51bmJpbmQocygpKTtuKGspLnVuYmluZChzKCkpO28uZGF0YSgicGVyZmVjdC1zY3JvbGxiYXIiLG51bGwpO28uZGF0YSgicGVyZmVjdC1zY3JvbGxiYXItdXBkYXRlIixudWxsKTtvLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyLWRlc3Ryb3kiLG51bGwpO2V0LnJlbW92ZSgpO3R0LnJlbW92ZSgpO2MucmVtb3ZlKCk7bC5yZW1vdmUoKTtvPWM9bD1ldD10dD1pdD1ydD1hPXY9eT1iPXA9Zz1odD1jdD13dD13PW50PW90PWx0PWF0PXN0PXM9bnVsbH1mdW5jdGlvbiBsaSgpe2QoKTtoaSgpO3RpKCk7aWkoKTtlaSgpO29pKCk7dWkoKTsoYnR8fGt0KSYmc2koYnQsa3QpO2gudXNlS2V5Ym9hcmQmJmZpKCk7by5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhciIsbyk7by5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhci11cGRhdGUiLGQpO28uZGF0YSgicGVyZmVjdC1zY3JvbGxiYXItZGVzdHJveSIsY2kpfXZhciBoPW4uZXh0ZW5kKCEwLHt9LGkpLG89bih0aGlzKSxwdD1mdW5jdGlvbigpe3JldHVybiEhb307aWYoIm9iamVjdCI9PXR5cGVvZiByP24uZXh0ZW5kKCEwLGgscik6ZT1yLCJ1cGRhdGUiPT09ZSlyZXR1cm4gby5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhci11cGRhdGUiKSYmby5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhci11cGRhdGUiKSgpLG87aWYoImRlc3Ryb3kiPT09ZSlyZXR1cm4gby5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhci1kZXN0cm95IikmJm8uZGF0YSgicGVyZmVjdC1zY3JvbGxiYXItZGVzdHJveSIpKCksbztpZihvLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyIikpcmV0dXJuIG8uZGF0YSgicGVyZmVjdC1zY3JvbGxiYXIiKTtvLmFkZENsYXNzKCJwcy1jb250YWluZXIiKTt2YXIgYSx2LHksYixpdCxwLGcsdXQscnQsdyxudCxmdCxzdD0icnRsIj09PW8uY3NzKCJkaXJlY3Rpb24iKSxzPXUoKSxrPXRoaXMub3duZXJEb2N1bWVudHx8ZG9jdW1lbnQsYz1uKCI8ZGl2IGNsYXNzPSdwcy1zY3JvbGxiYXIteC1yYWlsJz4iKS5hcHBlbmRUbyhvKSxldD1uKCI8ZGl2IGNsYXNzPSdwcy1zY3JvbGxiYXIteCc+IikuYXBwZW5kVG8oYyksaHQ9dChjLmNzcygiYm90dG9tIikpLGN0PWh0PT09aHQsd3Q9Y3Q/bnVsbDp0KGMuY3NzKCJ0b3AiKSksYWk9dChjLmNzcygiYm9yZGVyTGVmdFdpZHRoIikpK3QoYy5jc3MoImJvcmRlclJpZ2h0V2lkdGgiKSksdmk9dChjLmNzcygibWFyZ2luTGVmdCIpKSt0KGMuY3NzKCJtYXJnaW5SaWdodCIpKSxsPW4oIjxkaXYgY2xhc3M9J3BzLXNjcm9sbGJhci15LXJhaWwnPiIpLmFwcGVuZFRvKG8pLHR0PW4oIjxkaXYgY2xhc3M9J3BzLXNjcm9sbGJhci15Jz4iKS5hcHBlbmRUbyhsKSxvdD10KGwuY3NzKCJyaWdodCIpKSxsdD1vdD09PW90LGF0PWx0P251bGw6dChsLmNzcygibGVmdCIpKSx5aT10KGwuY3NzKCJib3JkZXJUb3BXaWR0aCIpKSt0KGwuY3NzKCJib3JkZXJCb3R0b21XaWR0aCIpKSxwaT10KGwuY3NzKCJtYXJnaW5Ub3AiKSkrdChsLmNzcygibWFyZ2luQm90dG9tIikpLGJ0PSJvbnRvdWNoc3RhcnQiaW4gd2luZG93fHx3aW5kb3cuRG9jdW1lbnRUb3VjaCYmZG9jdW1lbnQgaW5zdGFuY2VvZiB3aW5kb3cuRG9jdW1lbnRUb3VjaCxrdD1udWxsIT09d2luZG93Lm5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzO3JldHVybiBsaSgpLG99KX19KTshZnVuY3Rpb24obil7InVzZSBzdHJpY3QiOyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sbik6InVuZGVmaW5lZCIhPXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPW4ocmVxdWlyZSgianF1ZXJ5IikpOm4oalF1ZXJ5KX0oZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO3ZhciB0PXdpbmRvdy5TbGlja3x8e307dD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxyKXt2YXIgZix1PXRoaXM7dS5kZWZhdWx0cz17YWNjZXNzaWJpbGl0eTohMCxhZGFwdGl2ZUhlaWdodDohMSxhcHBlbmRBcnJvd3M6bih0KSxhcHBlbmREb3RzOm4odCksYXJyb3dzOiEwLGFzTmF2Rm9yOm51bGwscHJldkFycm93Oic8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgZGF0YS1yb2xlPSJub25lIiBjbGFzcz0ic2xpY2stcHJldiIgYXJpYS1sYWJlbD0iUHJldmlvdXMiIHRhYmluZGV4PSIwIiByb2xlPSJidXR0b24iPlByZXZpb3VzPFwvYnV0dG9uPicsbmV4dEFycm93Oic8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgZGF0YS1yb2xlPSJub25lIiBjbGFzcz0ic2xpY2stbmV4dCIgYXJpYS1sYWJlbD0iTmV4dCIgdGFiaW5kZXg9IjAiIHJvbGU9ImJ1dHRvbiI+TmV4dDxcL2J1dHRvbj4nLGF1dG9wbGF5OiExLGF1dG9wbGF5U3BlZWQ6M2UzLGNlbnRlck1vZGU6ITEsY2VudGVyUGFkZGluZzoiNTBweCIsY3NzRWFzZToiZWFzZSIsY3VzdG9tUGFnaW5nOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIG4oJzxidXR0b24gdHlwZT0iYnV0dG9uIiBkYXRhLXJvbGU9Im5vbmUiIHJvbGU9ImJ1dHRvbiIgdGFiaW5kZXg9IjAiIC8+JykudGV4dChpKzEpfSxkb3RzOiExLGRvdHNDbGFzczoic2xpY2stZG90cyIsZHJhZ2dhYmxlOiEwLGVhc2luZzoibGluZWFyIixlZGdlRnJpY3Rpb246LjM1LGZhZGU6ITEsZm9jdXNPblNlbGVjdDohMSxpbmZpbml0ZTohMCxpbml0aWFsU2xpZGU6MCxsYXp5TG9hZDoib25kZW1hbmQiLG1vYmlsZUZpcnN0OiExLHBhdXNlT25Ib3ZlcjohMCxwYXVzZU9uRm9jdXM6ITAscGF1c2VPbkRvdHNIb3ZlcjohMSxyZXNwb25kVG86IndpbmRvdyIscmVzcG9uc2l2ZTpudWxsLHJvd3M6MSxydGw6ITEsc2xpZGU6IiIsc2xpZGVzUGVyUm93OjEsc2xpZGVzVG9TaG93OjEsc2xpZGVzVG9TY3JvbGw6MSxzcGVlZDo1MDAsc3dpcGU6ITAsc3dpcGVUb1NsaWRlOiExLHRvdWNoTW92ZTohMCx0b3VjaFRocmVzaG9sZDo1LHVzZUNTUzohMCx1c2VUcmFuc2Zvcm06ITAsdmFyaWFibGVXaWR0aDohMSx2ZXJ0aWNhbDohMSx2ZXJ0aWNhbFN3aXBpbmc6ITEsd2FpdEZvckFuaW1hdGU6ITAsekluZGV4OjFlM307dS5pbml0aWFscz17YW5pbWF0aW5nOiExLGRyYWdnaW5nOiExLGF1dG9QbGF5VGltZXI6bnVsbCxjdXJyZW50RGlyZWN0aW9uOjAsY3VycmVudExlZnQ6bnVsbCxjdXJyZW50U2xpZGU6MCxkaXJlY3Rpb246MSwkZG90czpudWxsLGxpc3RXaWR0aDpudWxsLGxpc3RIZWlnaHQ6bnVsbCxsb2FkSW5kZXg6MCwkbmV4dEFycm93Om51bGwsJHByZXZBcnJvdzpudWxsLHNsaWRlQ291bnQ6bnVsbCxzbGlkZVdpZHRoOm51bGwsJHNsaWRlVHJhY2s6bnVsbCwkc2xpZGVzOm51bGwsc2xpZGluZzohMSxzbGlkZU9mZnNldDowLHN3aXBlTGVmdDpudWxsLCRsaXN0Om51bGwsdG91Y2hPYmplY3Q6e30sdHJhbnNmb3Jtc0VuYWJsZWQ6ITEsdW5zbGlja2VkOiExfTtuLmV4dGVuZCh1LHUuaW5pdGlhbHMpO3UuYWN0aXZlQnJlYWtwb2ludD1udWxsO3UuYW5pbVR5cGU9bnVsbDt1LmFuaW1Qcm9wPW51bGw7dS5icmVha3BvaW50cz1bXTt1LmJyZWFrcG9pbnRTZXR0aW5ncz1bXTt1LmNzc1RyYW5zaXRpb25zPSExO3UuZm9jdXNzZWQ9ITE7dS5pbnRlcnJ1cHRlZD0hMTt1LmhpZGRlbj0iaGlkZGVuIjt1LnBhdXNlZD0hMDt1LnBvc2l0aW9uUHJvcD1udWxsO3UucmVzcG9uZFRvPW51bGw7dS5yb3dDb3VudD0xO3Uuc2hvdWxkQ2xpY2s9ITA7dS4kc2xpZGVyPW4odCk7dS4kc2xpZGVzQ2FjaGU9bnVsbDt1LnRyYW5zZm9ybVR5cGU9bnVsbDt1LnRyYW5zaXRpb25UeXBlPW51bGw7dS52aXNpYmlsaXR5Q2hhbmdlPSJ2aXNpYmlsaXR5Y2hhbmdlIjt1LndpbmRvd1dpZHRoPTA7dS53aW5kb3dUaW1lcj1udWxsO2Y9bih0KS5kYXRhKCJzbGljayIpfHx7fTt1Lm9wdGlvbnM9bi5leHRlbmQoe30sdS5kZWZhdWx0cyxyLGYpO3UuY3VycmVudFNsaWRlPXUub3B0aW9ucy5pbml0aWFsU2xpZGU7dS5vcmlnaW5hbFNldHRpbmdzPXUub3B0aW9uczsidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50Lm1vekhpZGRlbj8odS5oaWRkZW49Im1vekhpZGRlbiIsdS52aXNpYmlsaXR5Q2hhbmdlPSJtb3p2aXNpYmlsaXR5Y2hhbmdlIik6InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudC53ZWJraXRIaWRkZW4mJih1LmhpZGRlbj0id2Via2l0SGlkZGVuIix1LnZpc2liaWxpdHlDaGFuZ2U9IndlYmtpdHZpc2liaWxpdHljaGFuZ2UiKTt1LmF1dG9QbGF5PW4ucHJveHkodS5hdXRvUGxheSx1KTt1LmF1dG9QbGF5Q2xlYXI9bi5wcm94eSh1LmF1dG9QbGF5Q2xlYXIsdSk7dS5hdXRvUGxheUl0ZXJhdG9yPW4ucHJveHkodS5hdXRvUGxheUl0ZXJhdG9yLHUpO3UuY2hhbmdlU2xpZGU9bi5wcm94eSh1LmNoYW5nZVNsaWRlLHUpO3UuY2xpY2tIYW5kbGVyPW4ucHJveHkodS5jbGlja0hhbmRsZXIsdSk7dS5zZWxlY3RIYW5kbGVyPW4ucHJveHkodS5zZWxlY3RIYW5kbGVyLHUpO3Uuc2V0UG9zaXRpb249bi5wcm94eSh1LnNldFBvc2l0aW9uLHUpO3Uuc3dpcGVIYW5kbGVyPW4ucHJveHkodS5zd2lwZUhhbmRsZXIsdSk7dS5kcmFnSGFuZGxlcj1uLnByb3h5KHUuZHJhZ0hhbmRsZXIsdSk7dS5rZXlIYW5kbGVyPW4ucHJveHkodS5rZXlIYW5kbGVyLHUpO3UuaW5zdGFuY2VVaWQ9aSsrO3UuaHRtbEV4cHI9L14oPzpccyooPFtcd1xXXSs+KVtePl0qKSQvO3UucmVnaXN0ZXJCcmVha3BvaW50cygpO3UuaW5pdCghMCl9dmFyIGk9MDtyZXR1cm4gdH0oKTt0LnByb3RvdHlwZS5hY3RpdmF0ZUFEQT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi4kc2xpZGVUcmFjay5maW5kKCIuc2xpY2stYWN0aXZlIikuYXR0cih7ImFyaWEtaGlkZGVuIjoiZmFsc2UifSkuZmluZCgiYSwgaW5wdXQsIGJ1dHRvbiwgc2VsZWN0IikuYXR0cih7dGFiaW5kZXg6IjAifSl9O3QucHJvdG90eXBlLmFkZFNsaWRlPXQucHJvdG90eXBlLnNsaWNrQWRkPWZ1bmN0aW9uKHQsaSxyKXt2YXIgdT10aGlzO2lmKCJib29sZWFuIj09dHlwZW9mIGkpcj1pLGk9bnVsbDtlbHNlIGlmKDA+aXx8aT49dS5zbGlkZUNvdW50KXJldHVybiExO3UudW5sb2FkKCk7Im51bWJlciI9PXR5cGVvZiBpPzA9PT1pJiYwPT09dS4kc2xpZGVzLmxlbmd0aD9uKHQpLmFwcGVuZFRvKHUuJHNsaWRlVHJhY2spOnI/bih0KS5pbnNlcnRCZWZvcmUodS4kc2xpZGVzLmVxKGkpKTpuKHQpLmluc2VydEFmdGVyKHUuJHNsaWRlcy5lcShpKSk6cj09PSEwP24odCkucHJlcGVuZFRvKHUuJHNsaWRlVHJhY2spOm4odCkuYXBwZW5kVG8odS4kc2xpZGVUcmFjayk7dS4kc2xpZGVzPXUuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKTt1LiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCk7dS4kc2xpZGVUcmFjay5hcHBlbmQodS4kc2xpZGVzKTt1LiRzbGlkZXMuZWFjaChmdW5jdGlvbih0LGkpe24oaSkuYXR0cigiZGF0YS1zbGljay1pbmRleCIsdCl9KTt1LiRzbGlkZXNDYWNoZT11LiRzbGlkZXM7dS5yZWluaXQoKX07dC5wcm90b3R5cGUuYW5pbWF0ZUhlaWdodD1mdW5jdGlvbigpe3ZhciBuPXRoaXMsdDsxPT09bi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmbi5vcHRpb25zLmFkYXB0aXZlSGVpZ2h0PT09ITAmJm4ub3B0aW9ucy52ZXJ0aWNhbD09PSExJiYodD1uLiRzbGlkZXMuZXEobi5jdXJyZW50U2xpZGUpLm91dGVySGVpZ2h0KCEwKSxuLiRsaXN0LmFuaW1hdGUoe2hlaWdodDp0fSxuLm9wdGlvbnMuc3BlZWQpKX07dC5wcm90b3R5cGUuYW5pbWF0ZVNsaWRlPWZ1bmN0aW9uKHQsaSl7dmFyIHU9e30scj10aGlzO3IuYW5pbWF0ZUhlaWdodCgpO3Iub3B0aW9ucy5ydGw9PT0hMCYmci5vcHRpb25zLnZlcnRpY2FsPT09ITEmJih0PS10KTtyLnRyYW5zZm9ybXNFbmFibGVkPT09ITE/ci5vcHRpb25zLnZlcnRpY2FsPT09ITE/ci4kc2xpZGVUcmFjay5hbmltYXRlKHtsZWZ0OnR9LHIub3B0aW9ucy5zcGVlZCxyLm9wdGlvbnMuZWFzaW5nLGkpOnIuJHNsaWRlVHJhY2suYW5pbWF0ZSh7dG9wOnR9LHIub3B0aW9ucy5zcGVlZCxyLm9wdGlvbnMuZWFzaW5nLGkpOnIuY3NzVHJhbnNpdGlvbnM9PT0hMT8oci5vcHRpb25zLnJ0bD09PSEwJiYoci5jdXJyZW50TGVmdD0tci5jdXJyZW50TGVmdCksbih7YW5pbVN0YXJ0OnIuY3VycmVudExlZnR9KS5hbmltYXRlKHthbmltU3RhcnQ6dH0se2R1cmF0aW9uOnIub3B0aW9ucy5zcGVlZCxlYXNpbmc6ci5vcHRpb25zLmVhc2luZyxzdGVwOmZ1bmN0aW9uKG4pe249TWF0aC5jZWlsKG4pO3Iub3B0aW9ucy52ZXJ0aWNhbD09PSExPyh1W3IuYW5pbVR5cGVdPSJ0cmFuc2xhdGUoIituKyJweCwgMHB4KSIsci4kc2xpZGVUcmFjay5jc3ModSkpOih1W3IuYW5pbVR5cGVdPSJ0cmFuc2xhdGUoMHB4LCIrbisicHgpIixyLiRzbGlkZVRyYWNrLmNzcyh1KSl9LGNvbXBsZXRlOmZ1bmN0aW9uKCl7aSYmaS5jYWxsKCl9fSkpOihyLmFwcGx5VHJhbnNpdGlvbigpLHQ9TWF0aC5jZWlsKHQpLHVbci5hbmltVHlwZV09ci5vcHRpb25zLnZlcnRpY2FsPT09ITE/InRyYW5zbGF0ZTNkKCIrdCsicHgsIDBweCwgMHB4KSI6InRyYW5zbGF0ZTNkKDBweCwiK3QrInB4LCAwcHgpIixyLiRzbGlkZVRyYWNrLmNzcyh1KSxpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5kaXNhYmxlVHJhbnNpdGlvbigpO2kuY2FsbCgpfSxyLm9wdGlvbnMuc3BlZWQpKX07dC5wcm90b3R5cGUuZ2V0TmF2VGFyZ2V0PWZ1bmN0aW9uKCl7dmFyIGk9dGhpcyx0PWkub3B0aW9ucy5hc05hdkZvcjtyZXR1cm4gdCYmbnVsbCE9PXQmJih0PW4odCkubm90KGkuJHNsaWRlcikpLHR9O3QucHJvdG90eXBlLmFzTmF2Rm9yPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsaT1yLmdldE5hdlRhcmdldCgpO251bGwhPT1pJiYib2JqZWN0Ij09dHlwZW9mIGkmJmkuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykuc2xpY2soImdldFNsaWNrIik7aS51bnNsaWNrZWR8fGkuc2xpZGVIYW5kbGVyKHQsITApfSl9O3QucHJvdG90eXBlLmFwcGx5VHJhbnNpdGlvbj1mdW5jdGlvbihuKXt2YXIgdD10aGlzLGk9e307aVt0LnRyYW5zaXRpb25UeXBlXT10Lm9wdGlvbnMuZmFkZT09PSExP3QudHJhbnNmb3JtVHlwZSsiICIrdC5vcHRpb25zLnNwZWVkKyJtcyAiK3Qub3B0aW9ucy5jc3NFYXNlOiJvcGFjaXR5ICIrdC5vcHRpb25zLnNwZWVkKyJtcyAiK3Qub3B0aW9ucy5jc3NFYXNlO3Qub3B0aW9ucy5mYWRlPT09ITE/dC4kc2xpZGVUcmFjay5jc3MoaSk6dC4kc2xpZGVzLmVxKG4pLmNzcyhpKX07dC5wcm90b3R5cGUuYXV0b1BsYXk9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uYXV0b1BsYXlDbGVhcigpO24uc2xpZGVDb3VudD5uLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYobi5hdXRvUGxheVRpbWVyPXNldEludGVydmFsKG4uYXV0b1BsYXlJdGVyYXRvcixuLm9wdGlvbnMuYXV0b3BsYXlTcGVlZCkpfTt0LnByb3RvdHlwZS5hdXRvUGxheUNsZWFyPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLmF1dG9QbGF5VGltZXImJmNsZWFySW50ZXJ2YWwobi5hdXRvUGxheVRpbWVyKX07dC5wcm90b3R5cGUuYXV0b1BsYXlJdGVyYXRvcj1mdW5jdGlvbigpe3ZhciBuPXRoaXMsdD1uLmN1cnJlbnRTbGlkZStuLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw7bi5wYXVzZWR8fG4uaW50ZXJydXB0ZWR8fG4uZm9jdXNzZWR8fChuLm9wdGlvbnMuaW5maW5pdGU9PT0hMSYmKDE9PT1uLmRpcmVjdGlvbiYmbi5jdXJyZW50U2xpZGUrMT09PW4uc2xpZGVDb3VudC0xP24uZGlyZWN0aW9uPTA6MD09PW4uZGlyZWN0aW9uJiYodD1uLmN1cnJlbnRTbGlkZS1uLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwsbi5jdXJyZW50U2xpZGUtMT09MCYmKG4uZGlyZWN0aW9uPTEpKSksbi5zbGlkZUhhbmRsZXIodCkpfTt0LnByb3RvdHlwZS5idWlsZEFycm93cz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5vcHRpb25zLmFycm93cz09PSEwJiYodC4kcHJldkFycm93PW4odC5vcHRpb25zLnByZXZBcnJvdykuYWRkQ2xhc3MoInNsaWNrLWFycm93IiksdC4kbmV4dEFycm93PW4odC5vcHRpb25zLm5leHRBcnJvdykuYWRkQ2xhc3MoInNsaWNrLWFycm93IiksdC5zbGlkZUNvdW50PnQub3B0aW9ucy5zbGlkZXNUb1Nob3c/KHQuJHByZXZBcnJvdy5yZW1vdmVDbGFzcygic2xpY2staGlkZGVuIikucmVtb3ZlQXR0cigiYXJpYS1oaWRkZW4gdGFiaW5kZXgiKSx0LiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIHRhYmluZGV4IiksdC5odG1sRXhwci50ZXN0KHQub3B0aW9ucy5wcmV2QXJyb3cpJiZ0LiRwcmV2QXJyb3cucHJlcGVuZFRvKHQub3B0aW9ucy5hcHBlbmRBcnJvd3MpLHQuaHRtbEV4cHIudGVzdCh0Lm9wdGlvbnMubmV4dEFycm93KSYmdC4kbmV4dEFycm93LmFwcGVuZFRvKHQub3B0aW9ucy5hcHBlbmRBcnJvd3MpLHQub3B0aW9ucy5pbmZpbml0ZSE9PSEwJiZ0LiRwcmV2QXJyb3cuYWRkQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKSk6dC4kcHJldkFycm93LmFkZCh0LiRuZXh0QXJyb3cpLmFkZENsYXNzKCJzbGljay1oaWRkZW4iKS5hdHRyKHsiYXJpYS1kaXNhYmxlZCI6InRydWUiLHRhYmluZGV4OiItMSJ9KSl9O3QucHJvdG90eXBlLmJ1aWxkRG90cz1mdW5jdGlvbigpe3ZhciBpLHIsdD10aGlzO2lmKHQub3B0aW9ucy5kb3RzPT09ITAmJnQuc2xpZGVDb3VudD50Lm9wdGlvbnMuc2xpZGVzVG9TaG93KXtmb3IodC4kc2xpZGVyLmFkZENsYXNzKCJzbGljay1kb3R0ZWQiKSxyPW4oIjx1bCAvPiIpLmFkZENsYXNzKHQub3B0aW9ucy5kb3RzQ2xhc3MpLGk9MDtpPD10LmdldERvdENvdW50KCk7aSs9MSlyLmFwcGVuZChuKCI8bGkgLz4iKS5hcHBlbmQodC5vcHRpb25zLmN1c3RvbVBhZ2luZy5jYWxsKHRoaXMsdCxpKSkpO3QuJGRvdHM9ci5hcHBlbmRUbyh0Lm9wdGlvbnMuYXBwZW5kRG90cyk7dC4kZG90cy5maW5kKCJsaSIpLmZpcnN0KCkuYWRkQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmF0dHIoImFyaWEtaGlkZGVuIiwiZmFsc2UiKX19O3QucHJvdG90eXBlLmJ1aWxkT3V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LiRzbGlkZXM9dC4kc2xpZGVyLmNoaWxkcmVuKHQub3B0aW9ucy5zbGlkZSsiOm5vdCguc2xpY2stY2xvbmVkKSIpLmFkZENsYXNzKCJzbGljay1zbGlkZSIpO3Quc2xpZGVDb3VudD10LiRzbGlkZXMubGVuZ3RoO3QuJHNsaWRlcy5lYWNoKGZ1bmN0aW9uKHQsaSl7bihpKS5hdHRyKCJkYXRhLXNsaWNrLWluZGV4Iix0KS5kYXRhKCJvcmlnaW5hbFN0eWxpbmciLG4oaSkuYXR0cigic3R5bGUiKXx8IiIpfSk7dC4kc2xpZGVyLmFkZENsYXNzKCJzbGljay1zbGlkZXIiKTt0LiRzbGlkZVRyYWNrPTA9PT10LnNsaWRlQ291bnQ/bignPGRpdiBjbGFzcz0ic2xpY2stdHJhY2siLz4nKS5hcHBlbmRUbyh0LiRzbGlkZXIpOnQuJHNsaWRlcy53cmFwQWxsKCc8ZGl2IGNsYXNzPSJzbGljay10cmFjayIvPicpLnBhcmVudCgpO3QuJGxpc3Q9dC4kc2xpZGVUcmFjay53cmFwKCc8ZGl2IGFyaWEtbGl2ZT0icG9saXRlIiBjbGFzcz0ic2xpY2stbGlzdCIvPicpLnBhcmVudCgpO3QuJHNsaWRlVHJhY2suY3NzKCJvcGFjaXR5IiwwKTsodC5vcHRpb25zLmNlbnRlck1vZGU9PT0hMHx8dC5vcHRpb25zLnN3aXBlVG9TbGlkZT09PSEwKSYmKHQub3B0aW9ucy5zbGlkZXNUb1Njcm9sbD0xKTtuKCJpbWdbZGF0YS1sYXp5XSIsdC4kc2xpZGVyKS5ub3QoIltzcmNdIikuYWRkQ2xhc3MoInNsaWNrLWxvYWRpbmciKTt0LnNldHVwSW5maW5pdGUoKTt0LmJ1aWxkQXJyb3dzKCk7dC5idWlsZERvdHMoKTt0LnVwZGF0ZURvdHMoKTt0LnNldFNsaWRlQ2xhc3NlcygibnVtYmVyIj09dHlwZW9mIHQuY3VycmVudFNsaWRlP3QuY3VycmVudFNsaWRlOjApO3Qub3B0aW9ucy5kcmFnZ2FibGU9PT0hMCYmdC4kbGlzdC5hZGRDbGFzcygiZHJhZ2dhYmxlIil9O3QucHJvdG90eXBlLmJ1aWxkUm93cz1mdW5jdGlvbigpe3ZhciB0LGkscixmLGMsdSxlLG49dGhpcyxvLHMsaDtpZihmPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSx1PW4uJHNsaWRlci5jaGlsZHJlbigpLG4ub3B0aW9ucy5yb3dzPjEpe2ZvcihlPW4ub3B0aW9ucy5zbGlkZXNQZXJSb3cqbi5vcHRpb25zLnJvd3MsYz1NYXRoLmNlaWwodS5sZW5ndGgvZSksdD0wO2M+dDt0Kyspe2ZvcihvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGk9MDtpPG4ub3B0aW9ucy5yb3dzO2krKyl7Zm9yKHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iikscj0wO3I8bi5vcHRpb25zLnNsaWRlc1BlclJvdztyKyspaD10KmUrKGkqbi5vcHRpb25zLnNsaWRlc1BlclJvdytyKSx1LmdldChoKSYmcy5hcHBlbmRDaGlsZCh1LmdldChoKSk7by5hcHBlbmRDaGlsZChzKX1mLmFwcGVuZENoaWxkKG8pfW4uJHNsaWRlci5lbXB0eSgpLmFwcGVuZChmKTtuLiRzbGlkZXIuY2hpbGRyZW4oKS5jaGlsZHJlbigpLmNoaWxkcmVuKCkuY3NzKHt3aWR0aDoxMDAvbi5vcHRpb25zLnNsaWRlc1BlclJvdysiJSIsZGlzcGxheToiaW5saW5lLWJsb2NrIn0pfX07dC5wcm90b3R5cGUuY2hlY2tSZXNwb25zaXZlPWZ1bmN0aW9uKHQsaSl7dmFyIGYsdSxlLHI9dGhpcyxvPSExLHM9ci4kc2xpZGVyLndpZHRoKCksaD13aW5kb3cuaW5uZXJXaWR0aHx8bih3aW5kb3cpLndpZHRoKCk7aWYoIndpbmRvdyI9PT1yLnJlc3BvbmRUbz9lPWg6InNsaWRlciI9PT1yLnJlc3BvbmRUbz9lPXM6Im1pbiI9PT1yLnJlc3BvbmRUbyYmKGU9TWF0aC5taW4oaCxzKSksci5vcHRpb25zLnJlc3BvbnNpdmUmJnIub3B0aW9ucy5yZXNwb25zaXZlLmxlbmd0aCYmbnVsbCE9PXIub3B0aW9ucy5yZXNwb25zaXZlKXt1PW51bGw7Zm9yKGYgaW4gci5icmVha3BvaW50cylyLmJyZWFrcG9pbnRzLmhhc093blByb3BlcnR5KGYpJiYoci5vcmlnaW5hbFNldHRpbmdzLm1vYmlsZUZpcnN0PT09ITE/ZTxyLmJyZWFrcG9pbnRzW2ZdJiYodT1yLmJyZWFrcG9pbnRzW2ZdKTplPnIuYnJlYWtwb2ludHNbZl0mJih1PXIuYnJlYWtwb2ludHNbZl0pKTtudWxsIT09dT9udWxsIT09ci5hY3RpdmVCcmVha3BvaW50Pyh1IT09ci5hY3RpdmVCcmVha3BvaW50fHxpKSYmKHIuYWN0aXZlQnJlYWtwb2ludD11LCJ1bnNsaWNrIj09PXIuYnJlYWtwb2ludFNldHRpbmdzW3VdP3IudW5zbGljayh1KTooci5vcHRpb25zPW4uZXh0ZW5kKHt9LHIub3JpZ2luYWxTZXR0aW5ncyxyLmJyZWFrcG9pbnRTZXR0aW5nc1t1XSksdD09PSEwJiYoci5jdXJyZW50U2xpZGU9ci5vcHRpb25zLmluaXRpYWxTbGlkZSksci5yZWZyZXNoKHQpKSxvPXUpOihyLmFjdGl2ZUJyZWFrcG9pbnQ9dSwidW5zbGljayI9PT1yLmJyZWFrcG9pbnRTZXR0aW5nc1t1XT9yLnVuc2xpY2sodSk6KHIub3B0aW9ucz1uLmV4dGVuZCh7fSxyLm9yaWdpbmFsU2V0dGluZ3Msci5icmVha3BvaW50U2V0dGluZ3NbdV0pLHQ9PT0hMCYmKHIuY3VycmVudFNsaWRlPXIub3B0aW9ucy5pbml0aWFsU2xpZGUpLHIucmVmcmVzaCh0KSksbz11KTpudWxsIT09ci5hY3RpdmVCcmVha3BvaW50JiYoci5hY3RpdmVCcmVha3BvaW50PW51bGwsci5vcHRpb25zPXIub3JpZ2luYWxTZXR0aW5ncyx0PT09ITAmJihyLmN1cnJlbnRTbGlkZT1yLm9wdGlvbnMuaW5pdGlhbFNsaWRlKSxyLnJlZnJlc2godCksbz11KTt0fHxvPT09ITF8fHIuJHNsaWRlci50cmlnZ2VyKCJicmVha3BvaW50IixbcixvXSl9fTt0LnByb3RvdHlwZS5jaGFuZ2VTbGlkZT1mdW5jdGlvbih0LGkpe3ZhciBmLGUsbyxyPXRoaXMsdT1uKHQuY3VycmVudFRhcmdldCkscztzd2l0Y2godS5pcygiYSIpJiZ0LnByZXZlbnREZWZhdWx0KCksdS5pcygibGkiKXx8KHU9dS5jbG9zZXN0KCJsaSIpKSxvPXIuc2xpZGVDb3VudCVyLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwhPTAsZj1vPzA6KHIuc2xpZGVDb3VudC1yLmN1cnJlbnRTbGlkZSklci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLHQuZGF0YS5tZXNzYWdlKXtjYXNlInByZXZpb3VzIjplPTA9PT1mP3Iub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDpyLm9wdGlvbnMuc2xpZGVzVG9TaG93LWY7ci5zbGlkZUNvdW50PnIub3B0aW9ucy5zbGlkZXNUb1Nob3cmJnIuc2xpZGVIYW5kbGVyKHIuY3VycmVudFNsaWRlLWUsITEsaSk7YnJlYWs7Y2FzZSJuZXh0IjplPTA9PT1mP3Iub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDpmO3Iuc2xpZGVDb3VudD5yLm9wdGlvbnMuc2xpZGVzVG9TaG93JiZyLnNsaWRlSGFuZGxlcihyLmN1cnJlbnRTbGlkZStlLCExLGkpO2JyZWFrO2Nhc2UiaW5kZXgiOnM9MD09PXQuZGF0YS5pbmRleD8wOnQuZGF0YS5pbmRleHx8dS5pbmRleCgpKnIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDtyLnNsaWRlSGFuZGxlcihyLmNoZWNrTmF2aWdhYmxlKHMpLCExLGkpO3UuY2hpbGRyZW4oKS50cmlnZ2VyKCJmb2N1cyIpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufX07dC5wcm90b3R5cGUuY2hlY2tOYXZpZ2FibGU9ZnVuY3Rpb24obil7dmFyIHQsaSx1PXRoaXMscjtpZih0PXUuZ2V0TmF2aWdhYmxlSW5kZXhlcygpLGk9MCxuPnRbdC5sZW5ndGgtMV0pbj10W3QubGVuZ3RoLTFdO2Vsc2UgZm9yKHIgaW4gdCl7aWYobjx0W3JdKXtuPWk7YnJlYWt9aT10W3JdfXJldHVybiBufTt0LnByb3RvdHlwZS5jbGVhblVwRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0Lm9wdGlvbnMuZG90cyYmbnVsbCE9PXQuJGRvdHMmJm4oImxpIix0LiRkb3RzKS5vZmYoImNsaWNrLnNsaWNrIix0LmNoYW5nZVNsaWRlKS5vZmYoIm1vdXNlZW50ZXIuc2xpY2siLG4ucHJveHkodC5pbnRlcnJ1cHQsdCwhMCkpLm9mZigibW91c2VsZWF2ZS5zbGljayIsbi5wcm94eSh0LmludGVycnVwdCx0LCExKSk7dC4kc2xpZGVyLm9mZigiZm9jdXMuc2xpY2sgYmx1ci5zbGljayIpO3Qub3B0aW9ucy5hcnJvd3M9PT0hMCYmdC5zbGlkZUNvdW50PnQub3B0aW9ucy5zbGlkZXNUb1Nob3cmJih0LiRwcmV2QXJyb3cmJnQuJHByZXZBcnJvdy5vZmYoImNsaWNrLnNsaWNrIix0LmNoYW5nZVNsaWRlKSx0LiRuZXh0QXJyb3cmJnQuJG5leHRBcnJvdy5vZmYoImNsaWNrLnNsaWNrIix0LmNoYW5nZVNsaWRlKSk7dC4kbGlzdC5vZmYoInRvdWNoc3RhcnQuc2xpY2sgbW91c2Vkb3duLnNsaWNrIix0LnN3aXBlSGFuZGxlcik7dC4kbGlzdC5vZmYoInRvdWNobW92ZS5zbGljayBtb3VzZW1vdmUuc2xpY2siLHQuc3dpcGVIYW5kbGVyKTt0LiRsaXN0Lm9mZigidG91Y2hlbmQuc2xpY2sgbW91c2V1cC5zbGljayIsdC5zd2lwZUhhbmRsZXIpO3QuJGxpc3Qub2ZmKCJ0b3VjaGNhbmNlbC5zbGljayBtb3VzZWxlYXZlLnNsaWNrIix0LnN3aXBlSGFuZGxlcik7dC4kbGlzdC5vZmYoImNsaWNrLnNsaWNrIix0LmNsaWNrSGFuZGxlcik7bihkb2N1bWVudCkub2ZmKHQudmlzaWJpbGl0eUNoYW5nZSx0LnZpc2liaWxpdHkpO3QuY2xlYW5VcFNsaWRlRXZlbnRzKCk7dC5vcHRpb25zLmFjY2Vzc2liaWxpdHk9PT0hMCYmdC4kbGlzdC5vZmYoImtleWRvd24uc2xpY2siLHQua2V5SGFuZGxlcik7dC5vcHRpb25zLmZvY3VzT25TZWxlY3Q9PT0hMCYmbih0LiRzbGlkZVRyYWNrKS5jaGlsZHJlbigpLm9mZigiY2xpY2suc2xpY2siLHQuc2VsZWN0SGFuZGxlcik7bih3aW5kb3cpLm9mZigib3JpZW50YXRpb25jaGFuZ2Uuc2xpY2suc2xpY2stIit0Lmluc3RhbmNlVWlkLHQub3JpZW50YXRpb25DaGFuZ2UpO24od2luZG93KS5vZmYoInJlc2l6ZS5zbGljay5zbGljay0iK3QuaW5zdGFuY2VVaWQsdC5yZXNpemUpO24oIltkcmFnZ2FibGUhPXRydWVdIix0LiRzbGlkZVRyYWNrKS5vZmYoImRyYWdzdGFydCIsdC5wcmV2ZW50RGVmYXVsdCk7bih3aW5kb3cpLm9mZigibG9hZC5zbGljay5zbGljay0iK3QuaW5zdGFuY2VVaWQsdC5zZXRQb3NpdGlvbik7bihkb2N1bWVudCkub2ZmKCJyZWFkeS5zbGljay5zbGljay0iK3QuaW5zdGFuY2VVaWQsdC5zZXRQb3NpdGlvbil9O3QucHJvdG90eXBlLmNsZWFuVXBTbGlkZUV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC4kbGlzdC5vZmYoIm1vdXNlZW50ZXIuc2xpY2siLG4ucHJveHkodC5pbnRlcnJ1cHQsdCwhMCkpO3QuJGxpc3Qub2ZmKCJtb3VzZWxlYXZlLnNsaWNrIixuLnByb3h5KHQuaW50ZXJydXB0LHQsITEpKX07dC5wcm90b3R5cGUuY2xlYW5VcFJvd3M9ZnVuY3Rpb24oKXt2YXIgbix0PXRoaXM7dC5vcHRpb25zLnJvd3M+MSYmKG49dC4kc2xpZGVzLmNoaWxkcmVuKCkuY2hpbGRyZW4oKSxuLnJlbW92ZUF0dHIoInN0eWxlIiksdC4kc2xpZGVyLmVtcHR5KCkuYXBwZW5kKG4pKX07dC5wcm90b3R5cGUuY2xpY2tIYW5kbGVyPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7dC5zaG91bGRDbGljaz09PSExJiYobi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSxuLnN0b3BQcm9wYWdhdGlvbigpLG4ucHJldmVudERlZmF1bHQoKSl9O3QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztpLmF1dG9QbGF5Q2xlYXIoKTtpLnRvdWNoT2JqZWN0PXt9O2kuY2xlYW5VcEV2ZW50cygpO24oIi5zbGljay1jbG9uZWQiLGkuJHNsaWRlcikuZGV0YWNoKCk7aS4kZG90cyYmaS4kZG90cy5yZW1vdmUoKTtpLiRwcmV2QXJyb3cmJmkuJHByZXZBcnJvdy5sZW5ndGgmJihpLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIHNsaWNrLWFycm93IHNsaWNrLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIGFyaWEtZGlzYWJsZWQgdGFiaW5kZXgiKS5jc3MoImRpc3BsYXkiLCIiKSxpLmh0bWxFeHByLnRlc3QoaS5vcHRpb25zLnByZXZBcnJvdykmJmkuJHByZXZBcnJvdy5yZW1vdmUoKSk7aS4kbmV4dEFycm93JiZpLiRuZXh0QXJyb3cubGVuZ3RoJiYoaS4kbmV4dEFycm93LnJlbW92ZUNsYXNzKCJzbGljay1kaXNhYmxlZCBzbGljay1hcnJvdyBzbGljay1oaWRkZW4iKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiBhcmlhLWRpc2FibGVkIHRhYmluZGV4IikuY3NzKCJkaXNwbGF5IiwiIiksaS5odG1sRXhwci50ZXN0KGkub3B0aW9ucy5uZXh0QXJyb3cpJiZpLiRuZXh0QXJyb3cucmVtb3ZlKCkpO2kuJHNsaWRlcyYmKGkuJHNsaWRlcy5yZW1vdmVDbGFzcygic2xpY2stc2xpZGUgc2xpY2stYWN0aXZlIHNsaWNrLWNlbnRlciBzbGljay12aXNpYmxlIHNsaWNrLWN1cnJlbnQiKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLnJlbW92ZUF0dHIoImRhdGEtc2xpY2staW5kZXgiKS5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5hdHRyKCJzdHlsZSIsbih0aGlzKS5kYXRhKCJvcmlnaW5hbFN0eWxpbmciKSl9KSxpLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCksaS4kc2xpZGVUcmFjay5kZXRhY2goKSxpLiRsaXN0LmRldGFjaCgpLGkuJHNsaWRlci5hcHBlbmQoaS4kc2xpZGVzKSk7aS5jbGVhblVwUm93cygpO2kuJHNsaWRlci5yZW1vdmVDbGFzcygic2xpY2stc2xpZGVyIik7aS4kc2xpZGVyLnJlbW92ZUNsYXNzKCJzbGljay1pbml0aWFsaXplZCIpO2kuJHNsaWRlci5yZW1vdmVDbGFzcygic2xpY2stZG90dGVkIik7aS51bnNsaWNrZWQ9ITA7dHx8aS4kc2xpZGVyLnRyaWdnZXIoImRlc3Ryb3kiLFtpXSl9O3QucHJvdG90eXBlLmRpc2FibGVUcmFuc2l0aW9uPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsaT17fTtpW3QudHJhbnNpdGlvblR5cGVdPSIiO3Qub3B0aW9ucy5mYWRlPT09ITE/dC4kc2xpZGVUcmFjay5jc3MoaSk6dC4kc2xpZGVzLmVxKG4pLmNzcyhpKX07dC5wcm90b3R5cGUuZmFkZVNsaWRlPWZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcztpLmNzc1RyYW5zaXRpb25zPT09ITE/KGkuJHNsaWRlcy5lcShuKS5jc3Moe3pJbmRleDppLm9wdGlvbnMuekluZGV4fSksaS4kc2xpZGVzLmVxKG4pLmFuaW1hdGUoe29wYWNpdHk6MX0saS5vcHRpb25zLnNwZWVkLGkub3B0aW9ucy5lYXNpbmcsdCkpOihpLmFwcGx5VHJhbnNpdGlvbihuKSxpLiRzbGlkZXMuZXEobikuY3NzKHtvcGFjaXR5OjEsekluZGV4Omkub3B0aW9ucy56SW5kZXh9KSx0JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5kaXNhYmxlVHJhbnNpdGlvbihuKTt0LmNhbGwoKX0saS5vcHRpb25zLnNwZWVkKSl9O3QucHJvdG90eXBlLmZhZGVTbGlkZU91dD1mdW5jdGlvbihuKXt2YXIgdD10aGlzO3QuY3NzVHJhbnNpdGlvbnM9PT0hMT90LiRzbGlkZXMuZXEobikuYW5pbWF0ZSh7b3BhY2l0eTowLHpJbmRleDp0Lm9wdGlvbnMuekluZGV4LTJ9LHQub3B0aW9ucy5zcGVlZCx0Lm9wdGlvbnMuZWFzaW5nKToodC5hcHBseVRyYW5zaXRpb24obiksdC4kc2xpZGVzLmVxKG4pLmNzcyh7b3BhY2l0eTowLHpJbmRleDp0Lm9wdGlvbnMuekluZGV4LTJ9KSl9O3QucHJvdG90eXBlLmZpbHRlclNsaWRlcz10LnByb3RvdHlwZS5zbGlja0ZpbHRlcj1mdW5jdGlvbihuKXt2YXIgdD10aGlzO251bGwhPT1uJiYodC4kc2xpZGVzQ2FjaGU9dC4kc2xpZGVzLHQudW5sb2FkKCksdC4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpLHQuJHNsaWRlc0NhY2hlLmZpbHRlcihuKS5hcHBlbmRUbyh0LiRzbGlkZVRyYWNrKSx0LnJlaW5pdCgpKX07dC5wcm90b3R5cGUuZm9jdXNIYW5kbGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LiRzbGlkZXIub2ZmKCJmb2N1cy5zbGljayBibHVyLnNsaWNrIikub24oImZvY3VzLnNsaWNrIGJsdXIuc2xpY2siLCIqOm5vdCguc2xpY2stYXJyb3cpIixmdW5jdGlvbihpKXtpLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO3ZhciByPW4odGhpcyk7c2V0VGltZW91dChmdW5jdGlvbigpe3Qub3B0aW9ucy5wYXVzZU9uRm9jdXMmJih0LmZvY3Vzc2VkPXIuaXMoIjpmb2N1cyIpLHQuYXV0b1BsYXkoKSl9LDApfSl9O3QucHJvdG90eXBlLmdldEN1cnJlbnQ9dC5wcm90b3R5cGUuc2xpY2tDdXJyZW50U2xpZGU9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3JldHVybiBuLmN1cnJlbnRTbGlkZX07dC5wcm90b3R5cGUuZ2V0RG90Q291bnQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLGk9MCxyPTAsdD0wO2lmKG4ub3B0aW9ucy5pbmZpbml0ZT09PSEwKWZvcig7aTxuLnNsaWRlQ291bnQ7KSsrdCxpPXIrbi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLHIrPW4ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDw9bi5vcHRpb25zLnNsaWRlc1RvU2hvdz9uLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw6bi5vcHRpb25zLnNsaWRlc1RvU2hvdztlbHNlIGlmKG4ub3B0aW9ucy5jZW50ZXJNb2RlPT09ITApdD1uLnNsaWRlQ291bnQ7ZWxzZSBpZihuLm9wdGlvbnMuYXNOYXZGb3IpZm9yKDtpPG4uc2xpZGVDb3VudDspKyt0LGk9cituLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwscis9bi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsPD1uLm9wdGlvbnMuc2xpZGVzVG9TaG93P24ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDpuLm9wdGlvbnMuc2xpZGVzVG9TaG93O2Vsc2UgdD0xK01hdGguY2VpbCgobi5zbGlkZUNvdW50LW4ub3B0aW9ucy5zbGlkZXNUb1Nob3cpL24ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCk7cmV0dXJuIHQtMX07dC5wcm90b3R5cGUuZ2V0TGVmdD1mdW5jdGlvbihuKXt2YXIgZixyLGksdD10aGlzLHU9MDtyZXR1cm4gdC5zbGlkZU9mZnNldD0wLHI9dC4kc2xpZGVzLmZpcnN0KCkub3V0ZXJIZWlnaHQoITApLHQub3B0aW9ucy5pbmZpbml0ZT09PSEwPyh0LnNsaWRlQ291bnQ+dC5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKHQuc2xpZGVPZmZzZXQ9dC5zbGlkZVdpZHRoKnQub3B0aW9ucy5zbGlkZXNUb1Nob3cqLTEsdT1yKnQub3B0aW9ucy5zbGlkZXNUb1Nob3cqLTEpLHQuc2xpZGVDb3VudCV0Lm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwhPTAmJm4rdC5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsPnQuc2xpZGVDb3VudCYmdC5zbGlkZUNvdW50PnQub3B0aW9ucy5zbGlkZXNUb1Nob3cmJihuPnQuc2xpZGVDb3VudD8odC5zbGlkZU9mZnNldD0odC5vcHRpb25zLnNsaWRlc1RvU2hvdy0obi10LnNsaWRlQ291bnQpKSp0LnNsaWRlV2lkdGgqLTEsdT0odC5vcHRpb25zLnNsaWRlc1RvU2hvdy0obi10LnNsaWRlQ291bnQpKSpyKi0xKToodC5zbGlkZU9mZnNldD10LnNsaWRlQ291bnQldC5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKnQuc2xpZGVXaWR0aCotMSx1PXQuc2xpZGVDb3VudCV0Lm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwqciotMSkpKTpuK3Qub3B0aW9ucy5zbGlkZXNUb1Nob3c+dC5zbGlkZUNvdW50JiYodC5zbGlkZU9mZnNldD0obit0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LXQuc2xpZGVDb3VudCkqdC5zbGlkZVdpZHRoLHU9KG4rdC5vcHRpb25zLnNsaWRlc1RvU2hvdy10LnNsaWRlQ291bnQpKnIpLHQuc2xpZGVDb3VudDw9dC5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKHQuc2xpZGVPZmZzZXQ9MCx1PTApLHQub3B0aW9ucy5jZW50ZXJNb2RlPT09ITAmJnQub3B0aW9ucy5pbmZpbml0ZT09PSEwP3Quc2xpZGVPZmZzZXQrPXQuc2xpZGVXaWR0aCpNYXRoLmZsb29yKHQub3B0aW9ucy5zbGlkZXNUb1Nob3cvMiktdC5zbGlkZVdpZHRoOnQub3B0aW9ucy5jZW50ZXJNb2RlPT09ITAmJih0LnNsaWRlT2Zmc2V0PTAsdC5zbGlkZU9mZnNldCs9dC5zbGlkZVdpZHRoKk1hdGguZmxvb3IodC5vcHRpb25zLnNsaWRlc1RvU2hvdy8yKSksZj10Lm9wdGlvbnMudmVydGljYWw9PT0hMT9uKnQuc2xpZGVXaWR0aCotMSt0LnNsaWRlT2Zmc2V0Om4qciotMSt1LHQub3B0aW9ucy52YXJpYWJsZVdpZHRoPT09ITAmJihpPXQuc2xpZGVDb3VudDw9dC5vcHRpb25zLnNsaWRlc1RvU2hvd3x8dC5vcHRpb25zLmluZmluaXRlPT09ITE/dC4kc2xpZGVUcmFjay5jaGlsZHJlbigiLnNsaWNrLXNsaWRlIikuZXEobik6dC4kc2xpZGVUcmFjay5jaGlsZHJlbigiLnNsaWNrLXNsaWRlIikuZXEobit0Lm9wdGlvbnMuc2xpZGVzVG9TaG93KSxmPXQub3B0aW9ucy5ydGw9PT0hMD9pWzBdPy0xKih0LiRzbGlkZVRyYWNrLndpZHRoKCktaVswXS5vZmZzZXRMZWZ0LWkud2lkdGgoKSk6MDppWzBdPy0xKmlbMF0ub2Zmc2V0TGVmdDowLHQub3B0aW9ucy5jZW50ZXJNb2RlPT09ITAmJihpPXQuc2xpZGVDb3VudDw9dC5vcHRpb25zLnNsaWRlc1RvU2hvd3x8dC5vcHRpb25zLmluZmluaXRlPT09ITE/dC4kc2xpZGVUcmFjay5jaGlsZHJlbigiLnNsaWNrLXNsaWRlIikuZXEobik6dC4kc2xpZGVUcmFjay5jaGlsZHJlbigiLnNsaWNrLXNsaWRlIikuZXEobit0Lm9wdGlvbnMuc2xpZGVzVG9TaG93KzEpLGY9dC5vcHRpb25zLnJ0bD09PSEwP2lbMF0/LTEqKHQuJHNsaWRlVHJhY2sud2lkdGgoKS1pWzBdLm9mZnNldExlZnQtaS53aWR0aCgpKTowOmlbMF0/LTEqaVswXS5vZmZzZXRMZWZ0OjAsZis9KHQuJGxpc3Qud2lkdGgoKS1pLm91dGVyV2lkdGgoKSkvMikpLGZ9O3QucHJvdG90eXBlLmdldE9wdGlvbj10LnByb3RvdHlwZS5zbGlja0dldE9wdGlvbj1mdW5jdGlvbihuKXt2YXIgdD10aGlzO3JldHVybiB0Lm9wdGlvbnNbbl19O3QucHJvdG90eXBlLmdldE5hdmlnYWJsZUluZGV4ZXM9ZnVuY3Rpb24oKXt2YXIgaSxuPXRoaXMsdD0wLHI9MCx1PVtdO2ZvcihuLm9wdGlvbnMuaW5maW5pdGU9PT0hMT9pPW4uc2xpZGVDb3VudDoodD0tMSpuLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwscj0tMSpuLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwsaT0yKm4uc2xpZGVDb3VudCk7aT50Oyl1LnB1c2godCksdD1yK24ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCxyKz1uLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw8PW4ub3B0aW9ucy5zbGlkZXNUb1Nob3c/bi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsOm4ub3B0aW9ucy5zbGlkZXNUb1Nob3c7cmV0dXJuIHV9O3QucHJvdG90eXBlLmdldFNsaWNrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3QucHJvdG90eXBlLmdldFNsaWRlQ291bnQ9ZnVuY3Rpb24oKXt2YXIgdSxpLHIsdD10aGlzO3JldHVybiByPXQub3B0aW9ucy5jZW50ZXJNb2RlPT09ITA/dC5zbGlkZVdpZHRoKk1hdGguZmxvb3IodC5vcHRpb25zLnNsaWRlc1RvU2hvdy8yKTowLHQub3B0aW9ucy5zd2lwZVRvU2xpZGU9PT0hMD8odC4kc2xpZGVUcmFjay5maW5kKCIuc2xpY2stc2xpZGUiKS5lYWNoKGZ1bmN0aW9uKHUsZil7aWYoZi5vZmZzZXRMZWZ0LXIrbihmKS5vdXRlcldpZHRoKCkvMj4tMSp0LnN3aXBlTGVmdClyZXR1cm4oaT1mLCExKX0pLHU9TWF0aC5hYnMobihpKS5hdHRyKCJkYXRhLXNsaWNrLWluZGV4IiktdC5jdXJyZW50U2xpZGUpfHwxKTp0Lm9wdGlvbnMuc2xpZGVzVG9TY3JvbGx9O3QucHJvdG90eXBlLmdvVG89dC5wcm90b3R5cGUuc2xpY2tHb1RvPWZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcztpLmNoYW5nZVNsaWRlKHtkYXRhOnttZXNzYWdlOiJpbmRleCIsaW5kZXg6cGFyc2VJbnQobil9fSx0KX07dC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0KXt2YXIgaT10aGlzO24oaS4kc2xpZGVyKS5oYXNDbGFzcygic2xpY2staW5pdGlhbGl6ZWQiKXx8KG4oaS4kc2xpZGVyKS5hZGRDbGFzcygic2xpY2staW5pdGlhbGl6ZWQiKSxpLmJ1aWxkUm93cygpLGkuYnVpbGRPdXQoKSxpLnNldFByb3BzKCksaS5zdGFydExvYWQoKSxpLmxvYWRTbGlkZXIoKSxpLmluaXRpYWxpemVFdmVudHMoKSxpLnVwZGF0ZUFycm93cygpLGkudXBkYXRlRG90cygpLGkuY2hlY2tSZXNwb25zaXZlKCEwKSxpLmZvY3VzSGFuZGxlcigpKTt0JiZpLiRzbGlkZXIudHJpZ2dlcigiaW5pdCIsW2ldKTtpLm9wdGlvbnMuYWNjZXNzaWJpbGl0eT09PSEwJiZpLmluaXRBREEoKTtpLm9wdGlvbnMuYXV0b3BsYXkmJihpLnBhdXNlZD0hMSxpLmF1dG9QbGF5KCkpfTt0LnByb3RvdHlwZS5pbml0QURBPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LiRzbGlkZXMuYWRkKHQuJHNsaWRlVHJhY2suZmluZCgiLnNsaWNrLWNsb25lZCIpKS5hdHRyKHsiYXJpYS1oaWRkZW4iOiJ0cnVlIix0YWJpbmRleDoiLTEifSkuZmluZCgiYSwgaW5wdXQsIGJ1dHRvbiwgc2VsZWN0IikuYXR0cih7dGFiaW5kZXg6Ii0xIn0pO3QuJHNsaWRlVHJhY2suYXR0cigicm9sZSIsImxpc3Rib3giKTt0LiRzbGlkZXMubm90KHQuJHNsaWRlVHJhY2suZmluZCgiLnNsaWNrLWNsb25lZCIpKS5lYWNoKGZ1bmN0aW9uKGkpe24odGhpcykuYXR0cih7cm9sZToib3B0aW9uIiwiYXJpYS1kZXNjcmliZWRieSI6InNsaWNrLXNsaWRlIit0Lmluc3RhbmNlVWlkK2l9KX0pO251bGwhPT10LiRkb3RzJiZ0LiRkb3RzLmF0dHIoInJvbGUiLCJ0YWJsaXN0IikuZmluZCgibGkiKS5lYWNoKGZ1bmN0aW9uKGkpe24odGhpcykuYXR0cih7cm9sZToicHJlc2VudGF0aW9uIiwiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIiwiYXJpYS1jb250cm9scyI6Im5hdmlnYXRpb24iK3QuaW5zdGFuY2VVaWQraSxpZDoic2xpY2stc2xpZGUiK3QuaW5zdGFuY2VVaWQraX0pfSkuZmlyc3QoKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwidHJ1ZSIpLmVuZCgpLmZpbmQoImJ1dHRvbiIpLmF0dHIoInJvbGUiLCJidXR0b24iKS5lbmQoKS5jbG9zZXN0KCJkaXYiKS5hdHRyKCJyb2xlIiwidG9vbGJhciIpO3QuYWN0aXZhdGVBREEoKX07dC5wcm90b3R5cGUuaW5pdEFycm93RXZlbnRzPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLm9wdGlvbnMuYXJyb3dzPT09ITAmJm4uc2xpZGVDb3VudD5uLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYobi4kcHJldkFycm93Lm9mZigiY2xpY2suc2xpY2siKS5vbigiY2xpY2suc2xpY2siLHttZXNzYWdlOiJwcmV2aW91cyJ9LG4uY2hhbmdlU2xpZGUpLG4uJG5leHRBcnJvdy5vZmYoImNsaWNrLnNsaWNrIikub24oImNsaWNrLnNsaWNrIix7bWVzc2FnZToibmV4dCJ9LG4uY2hhbmdlU2xpZGUpKX07dC5wcm90b3R5cGUuaW5pdERvdEV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5vcHRpb25zLmRvdHM9PT0hMCYmdC5zbGlkZUNvdW50PnQub3B0aW9ucy5zbGlkZXNUb1Nob3cmJm4oImxpIix0LiRkb3RzKS5vbigiY2xpY2suc2xpY2siLHttZXNzYWdlOiJpbmRleCJ9LHQuY2hhbmdlU2xpZGUpO3Qub3B0aW9ucy5kb3RzPT09ITAmJnQub3B0aW9ucy5wYXVzZU9uRG90c0hvdmVyPT09ITAmJm4oImxpIix0LiRkb3RzKS5vbigibW91c2VlbnRlci5zbGljayIsbi5wcm94eSh0LmludGVycnVwdCx0LCEwKSkub24oIm1vdXNlbGVhdmUuc2xpY2siLG4ucHJveHkodC5pbnRlcnJ1cHQsdCwhMSkpfTt0LnByb3RvdHlwZS5pbml0U2xpZGVFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3Qub3B0aW9ucy5wYXVzZU9uSG92ZXImJih0LiRsaXN0Lm9uKCJtb3VzZWVudGVyLnNsaWNrIixuLnByb3h5KHQuaW50ZXJydXB0LHQsITApKSx0LiRsaXN0Lm9uKCJtb3VzZWxlYXZlLnNsaWNrIixuLnByb3h5KHQuaW50ZXJydXB0LHQsITEpKSl9O3QucHJvdG90eXBlLmluaXRpYWxpemVFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuaW5pdEFycm93RXZlbnRzKCk7dC5pbml0RG90RXZlbnRzKCk7dC5pbml0U2xpZGVFdmVudHMoKTt0LiRsaXN0Lm9uKCJ0b3VjaHN0YXJ0LnNsaWNrIG1vdXNlZG93bi5zbGljayIse2FjdGlvbjoic3RhcnQifSx0LnN3aXBlSGFuZGxlcik7dC4kbGlzdC5vbigidG91Y2htb3ZlLnNsaWNrIG1vdXNlbW92ZS5zbGljayIse2FjdGlvbjoibW92ZSJ9LHQuc3dpcGVIYW5kbGVyKTt0LiRsaXN0Lm9uKCJ0b3VjaGVuZC5zbGljayBtb3VzZXVwLnNsaWNrIix7YWN0aW9uOiJlbmQifSx0LnN3aXBlSGFuZGxlcik7dC4kbGlzdC5vbigidG91Y2hjYW5jZWwuc2xpY2sgbW91c2VsZWF2ZS5zbGljayIse2FjdGlvbjoiZW5kIn0sdC5zd2lwZUhhbmRsZXIpO3QuJGxpc3Qub24oImNsaWNrLnNsaWNrIix0LmNsaWNrSGFuZGxlcik7bihkb2N1bWVudCkub24odC52aXNpYmlsaXR5Q2hhbmdlLG4ucHJveHkodC52aXNpYmlsaXR5LHQpKTt0Lm9wdGlvbnMuYWNjZXNzaWJpbGl0eT09PSEwJiZ0LiRsaXN0Lm9uKCJrZXlkb3duLnNsaWNrIix0LmtleUhhbmRsZXIpO3Qub3B0aW9ucy5mb2N1c09uU2VsZWN0PT09ITAmJm4odC4kc2xpZGVUcmFjaykuY2hpbGRyZW4oKS5vbigiY2xpY2suc2xpY2siLHQuc2VsZWN0SGFuZGxlcik7bih3aW5kb3cpLm9uKCJvcmllbnRhdGlvbmNoYW5nZS5zbGljay5zbGljay0iK3QuaW5zdGFuY2VVaWQsbi5wcm94eSh0Lm9yaWVudGF0aW9uQ2hhbmdlLHQpKTtuKHdpbmRvdykub24oInJlc2l6ZS5zbGljay5zbGljay0iK3QuaW5zdGFuY2VVaWQsbi5wcm94eSh0LnJlc2l6ZSx0KSk7bigiW2RyYWdnYWJsZSE9dHJ1ZV0iLHQuJHNsaWRlVHJhY2spLm9uKCJkcmFnc3RhcnQiLHQucHJldmVudERlZmF1bHQpO24od2luZG93KS5vbigibG9hZC5zbGljay5zbGljay0iK3QuaW5zdGFuY2VVaWQsdC5zZXRQb3NpdGlvbik7bihkb2N1bWVudCkub24oInJlYWR5LnNsaWNrLnNsaWNrLSIrdC5pbnN0YW5jZVVpZCx0LnNldFBvc2l0aW9uKX07dC5wcm90b3R5cGUuaW5pdFVJPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLm9wdGlvbnMuYXJyb3dzPT09ITAmJm4uc2xpZGVDb3VudD5uLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYobi4kcHJldkFycm93LnNob3coKSxuLiRuZXh0QXJyb3cuc2hvdygpKTtuLm9wdGlvbnMuZG90cz09PSEwJiZuLnNsaWRlQ291bnQ+bi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmbi4kZG90cy5zaG93KCl9O3QucHJvdG90eXBlLmtleUhhbmRsZXI9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcztuLnRhcmdldC50YWdOYW1lLm1hdGNoKCJURVhUQVJFQXxJTlBVVHxTRUxFQ1QiKXx8KDM3PT09bi5rZXlDb2RlJiZ0Lm9wdGlvbnMuYWNjZXNzaWJpbGl0eT09PSEwP3QuY2hhbmdlU2xpZGUoe2RhdGE6e21lc3NhZ2U6dC5vcHRpb25zLnJ0bD09PSEwPyJuZXh0IjoicHJldmlvdXMifX0pOjM5PT09bi5rZXlDb2RlJiZ0Lm9wdGlvbnMuYWNjZXNzaWJpbGl0eT09PSEwJiZ0LmNoYW5nZVNsaWRlKHtkYXRhOnttZXNzYWdlOnQub3B0aW9ucy5ydGw9PT0hMD8icHJldmlvdXMiOiJuZXh0In19KSl9O3QucHJvdG90eXBlLmxhenlMb2FkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZihpKXtuKCJpbWdbZGF0YS1sYXp5XSIsaSkuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykscj1uKHRoaXMpLmF0dHIoImRhdGEtbGF6eSIpLHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7dS5vbmxvYWQ9ZnVuY3Rpb24oKXtpLmFuaW1hdGUoe29wYWNpdHk6MH0sMTAwLGZ1bmN0aW9uKCl7aS5hdHRyKCJzcmMiLHIpLmFuaW1hdGUoe29wYWNpdHk6MX0sMjAwLGZ1bmN0aW9uKCl7aS5yZW1vdmVBdHRyKCJkYXRhLWxhenkiKS5yZW1vdmVDbGFzcygic2xpY2stbG9hZGluZyIpfSk7dC4kc2xpZGVyLnRyaWdnZXIoImxhenlMb2FkZWQiLFt0LGkscl0pfSl9O3Uub25lcnJvcj1mdW5jdGlvbigpe2kucmVtb3ZlQXR0cigiZGF0YS1sYXp5IikucmVtb3ZlQ2xhc3MoInNsaWNrLWxvYWRpbmciKS5hZGRDbGFzcygic2xpY2stbGF6eWxvYWQtZXJyb3IiKTt0LiRzbGlkZXIudHJpZ2dlcigibGF6eUxvYWRFcnJvciIsW3QsaSxyXSl9O3Uuc3JjPXJ9KX12YXIgZSxyLGksdSx0PXRoaXM7dC5vcHRpb25zLmNlbnRlck1vZGU9PT0hMD90Lm9wdGlvbnMuaW5maW5pdGU9PT0hMD8oaT10LmN1cnJlbnRTbGlkZSsodC5vcHRpb25zLnNsaWRlc1RvU2hvdy8yKzEpLHU9aSt0Lm9wdGlvbnMuc2xpZGVzVG9TaG93KzIpOihpPU1hdGgubWF4KDAsdC5jdXJyZW50U2xpZGUtKHQub3B0aW9ucy5zbGlkZXNUb1Nob3cvMisxKSksdT0yKyh0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LzIrMSkrdC5jdXJyZW50U2xpZGUpOihpPXQub3B0aW9ucy5pbmZpbml0ZT90Lm9wdGlvbnMuc2xpZGVzVG9TaG93K3QuY3VycmVudFNsaWRlOnQuY3VycmVudFNsaWRlLHU9TWF0aC5jZWlsKGkrdC5vcHRpb25zLnNsaWRlc1RvU2hvdyksdC5vcHRpb25zLmZhZGU9PT0hMCYmKGk+MCYmaS0tLHU8PXQuc2xpZGVDb3VudCYmdSsrKSk7ZT10LiRzbGlkZXIuZmluZCgiLnNsaWNrLXNsaWRlIikuc2xpY2UoaSx1KTtmKGUpO3Quc2xpZGVDb3VudDw9dC5vcHRpb25zLnNsaWRlc1RvU2hvdz8ocj10LiRzbGlkZXIuZmluZCgiLnNsaWNrLXNsaWRlIiksZihyKSk6dC5jdXJyZW50U2xpZGU+PXQuc2xpZGVDb3VudC10Lm9wdGlvbnMuc2xpZGVzVG9TaG93PyhyPXQuJHNsaWRlci5maW5kKCIuc2xpY2stY2xvbmVkIikuc2xpY2UoMCx0Lm9wdGlvbnMuc2xpZGVzVG9TaG93KSxmKHIpKTowPT09dC5jdXJyZW50U2xpZGUmJihyPXQuJHNsaWRlci5maW5kKCIuc2xpY2stY2xvbmVkIikuc2xpY2UoLTEqdC5vcHRpb25zLnNsaWRlc1RvU2hvdyksZihyKSl9O3QucHJvdG90eXBlLmxvYWRTbGlkZXI9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uc2V0UG9zaXRpb24oKTtuLiRzbGlkZVRyYWNrLmNzcyh7b3BhY2l0eToxfSk7bi4kc2xpZGVyLnJlbW92ZUNsYXNzKCJzbGljay1sb2FkaW5nIik7bi5pbml0VUkoKTsicHJvZ3Jlc3NpdmUiPT09bi5vcHRpb25zLmxhenlMb2FkJiZuLnByb2dyZXNzaXZlTGF6eUxvYWQoKX07dC5wcm90b3R5cGUubmV4dD10LnByb3RvdHlwZS5zbGlja05leHQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uY2hhbmdlU2xpZGUoe2RhdGE6e21lc3NhZ2U6Im5leHQifX0pfTt0LnByb3RvdHlwZS5vcmllbnRhdGlvbkNoYW5nZT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5jaGVja1Jlc3BvbnNpdmUoKTtuLnNldFBvc2l0aW9uKCl9O3QucHJvdG90eXBlLnBhdXNlPXQucHJvdG90eXBlLnNsaWNrUGF1c2U9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uYXV0b1BsYXlDbGVhcigpO24ucGF1c2VkPSEwfTt0LnByb3RvdHlwZS5wbGF5PXQucHJvdG90eXBlLnNsaWNrUGxheT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5hdXRvUGxheSgpO24ub3B0aW9ucy5hdXRvcGxheT0hMDtuLnBhdXNlZD0hMTtuLmZvY3Vzc2VkPSExO24uaW50ZXJydXB0ZWQ9ITF9O3QucHJvdG90eXBlLnBvc3RTbGlkZT1mdW5jdGlvbihuKXt2YXIgdD10aGlzO3QudW5zbGlja2VkfHwodC4kc2xpZGVyLnRyaWdnZXIoImFmdGVyQ2hhbmdlIixbdCxuXSksdC5hbmltYXRpbmc9ITEsdC5zZXRQb3NpdGlvbigpLHQuc3dpcGVMZWZ0PW51bGwsdC5vcHRpb25zLmF1dG9wbGF5JiZ0LmF1dG9QbGF5KCksdC5vcHRpb25zLmFjY2Vzc2liaWxpdHk9PT0hMCYmdC5pbml0QURBKCkpfTt0LnByb3RvdHlwZS5wcmV2PXQucHJvdG90eXBlLnNsaWNrUHJldj1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5jaGFuZ2VTbGlkZSh7ZGF0YTp7bWVzc2FnZToicHJldmlvdXMifX0pfTt0LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCl9O3QucHJvdG90eXBlLnByb2dyZXNzaXZlTGF6eUxvYWQ9ZnVuY3Rpb24odCl7dD10fHwxO3ZhciByLHUsZixpPXRoaXMsZT1uKCJpbWdbZGF0YS1sYXp5XSIsaS4kc2xpZGVyKTtlLmxlbmd0aD8ocj1lLmZpcnN0KCksdT1yLmF0dHIoImRhdGEtbGF6eSIpLGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIiksZi5vbmxvYWQ9ZnVuY3Rpb24oKXtyLmF0dHIoInNyYyIsdSkucmVtb3ZlQXR0cigiZGF0YS1sYXp5IikucmVtb3ZlQ2xhc3MoInNsaWNrLWxvYWRpbmciKTtpLm9wdGlvbnMuYWRhcHRpdmVIZWlnaHQ9PT0hMCYmaS5zZXRQb3NpdGlvbigpO2kuJHNsaWRlci50cmlnZ2VyKCJsYXp5TG9hZGVkIixbaSxyLHVdKTtpLnByb2dyZXNzaXZlTGF6eUxvYWQoKX0sZi5vbmVycm9yPWZ1bmN0aW9uKCl7Mz50P3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpLnByb2dyZXNzaXZlTGF6eUxvYWQodCsxKX0sNTAwKTooci5yZW1vdmVBdHRyKCJkYXRhLWxhenkiKS5yZW1vdmVDbGFzcygic2xpY2stbG9hZGluZyIpLmFkZENsYXNzKCJzbGljay1sYXp5bG9hZC1lcnJvciIpLGkuJHNsaWRlci50cmlnZ2VyKCJsYXp5TG9hZEVycm9yIixbaSxyLHVdKSxpLnByb2dyZXNzaXZlTGF6eUxvYWQoKSl9LGYuc3JjPXUpOmkuJHNsaWRlci50cmlnZ2VyKCJhbGxJbWFnZXNMb2FkZWQiLFtpXSl9O3QucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24odCl7dmFyIHIsdSxpPXRoaXM7dT1pLnNsaWRlQ291bnQtaS5vcHRpb25zLnNsaWRlc1RvU2hvdzshaS5vcHRpb25zLmluZmluaXRlJiZpLmN1cnJlbnRTbGlkZT51JiYoaS5jdXJyZW50U2xpZGU9dSk7aS5zbGlkZUNvdW50PD1pLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYoaS5jdXJyZW50U2xpZGU9MCk7cj1pLmN1cnJlbnRTbGlkZTtpLmRlc3Ryb3koITApO24uZXh0ZW5kKGksaS5pbml0aWFscyx7Y3VycmVudFNsaWRlOnJ9KTtpLmluaXQoKTt0fHxpLmNoYW5nZVNsaWRlKHtkYXRhOnttZXNzYWdlOiJpbmRleCIsaW5kZXg6cn19LCExKX07dC5wcm90b3R5cGUucmVnaXN0ZXJCcmVha3BvaW50cz1mdW5jdGlvbigpe3ZhciB1LGYsaSx0PXRoaXMscj10Lm9wdGlvbnMucmVzcG9uc2l2ZXx8bnVsbDtpZigiYXJyYXkiPT09bi50eXBlKHIpJiZyLmxlbmd0aCl7dC5yZXNwb25kVG89dC5vcHRpb25zLnJlc3BvbmRUb3x8IndpbmRvdyI7Zm9yKHUgaW4gcilpZihpPXQuYnJlYWtwb2ludHMubGVuZ3RoLTEsZj1yW3VdLmJyZWFrcG9pbnQsci5oYXNPd25Qcm9wZXJ0eSh1KSl7Zm9yKDtpPj0wOyl0LmJyZWFrcG9pbnRzW2ldJiZ0LmJyZWFrcG9pbnRzW2ldPT09ZiYmdC5icmVha3BvaW50cy5zcGxpY2UoaSwxKSxpLS07dC5icmVha3BvaW50cy5wdXNoKGYpO3QuYnJlYWtwb2ludFNldHRpbmdzW2ZdPXJbdV0uc2V0dGluZ3N9dC5icmVha3BvaW50cy5zb3J0KGZ1bmN0aW9uKG4saSl7cmV0dXJuIHQub3B0aW9ucy5tb2JpbGVGaXJzdD9uLWk6aS1ufSl9fTt0LnByb3RvdHlwZS5yZWluaXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuJHNsaWRlcz10LiRzbGlkZVRyYWNrLmNoaWxkcmVuKHQub3B0aW9ucy5zbGlkZSkuYWRkQ2xhc3MoInNsaWNrLXNsaWRlIik7dC5zbGlkZUNvdW50PXQuJHNsaWRlcy5sZW5ndGg7dC5jdXJyZW50U2xpZGU+PXQuc2xpZGVDb3VudCYmMCE9PXQuY3VycmVudFNsaWRlJiYodC5jdXJyZW50U2xpZGU9dC5jdXJyZW50U2xpZGUtdC5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKTt0LnNsaWRlQ291bnQ8PXQub3B0aW9ucy5zbGlkZXNUb1Nob3cmJih0LmN1cnJlbnRTbGlkZT0wKTt0LnJlZ2lzdGVyQnJlYWtwb2ludHMoKTt0LnNldFByb3BzKCk7dC5zZXR1cEluZmluaXRlKCk7dC5idWlsZEFycm93cygpO3QudXBkYXRlQXJyb3dzKCk7dC5pbml0QXJyb3dFdmVudHMoKTt0LmJ1aWxkRG90cygpO3QudXBkYXRlRG90cygpO3QuaW5pdERvdEV2ZW50cygpO3QuY2xlYW5VcFNsaWRlRXZlbnRzKCk7dC5pbml0U2xpZGVFdmVudHMoKTt0LmNoZWNrUmVzcG9uc2l2ZSghMSwhMCk7dC5vcHRpb25zLmZvY3VzT25TZWxlY3Q9PT0hMCYmbih0LiRzbGlkZVRyYWNrKS5jaGlsZHJlbigpLm9uKCJjbGljay5zbGljayIsdC5zZWxlY3RIYW5kbGVyKTt0LnNldFNsaWRlQ2xhc3NlcygibnVtYmVyIj09dHlwZW9mIHQuY3VycmVudFNsaWRlP3QuY3VycmVudFNsaWRlOjApO3Quc2V0UG9zaXRpb24oKTt0LmZvY3VzSGFuZGxlcigpO3QucGF1c2VkPSF0Lm9wdGlvbnMuYXV0b3BsYXk7dC5hdXRvUGxheSgpO3QuJHNsaWRlci50cmlnZ2VyKCJyZUluaXQiLFt0XSl9O3QucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7bih3aW5kb3cpLndpZHRoKCkhPT10LndpbmRvd1dpZHRoJiYoY2xlYXJUaW1lb3V0KHQud2luZG93RGVsYXkpLHQud2luZG93RGVsYXk9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LndpbmRvd1dpZHRoPW4od2luZG93KS53aWR0aCgpO3QuY2hlY2tSZXNwb25zaXZlKCk7dC51bnNsaWNrZWR8fHQuc2V0UG9zaXRpb24oKX0sNTApKX07dC5wcm90b3R5cGUucmVtb3ZlU2xpZGU9dC5wcm90b3R5cGUuc2xpY2tSZW1vdmU9ZnVuY3Rpb24obix0LGkpe3ZhciByPXRoaXM7cmV0dXJuImJvb2xlYW4iPT10eXBlb2Ygbj8odD1uLG49dD09PSEwPzA6ci5zbGlkZUNvdW50LTEpOm49dD09PSEwPy0tbjpuLHIuc2xpZGVDb3VudDwxfHwwPm58fG4+ci5zbGlkZUNvdW50LTE/ITE6KHIudW5sb2FkKCksaT09PSEwP3IuJHNsaWRlVHJhY2suY2hpbGRyZW4oKS5yZW1vdmUoKTpyLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZXEobikucmVtb3ZlKCksci4kc2xpZGVzPXIuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKSxyLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCksci4kc2xpZGVUcmFjay5hcHBlbmQoci4kc2xpZGVzKSxyLiRzbGlkZXNDYWNoZT1yLiRzbGlkZXMsdm9pZCByLnJlaW5pdCgpKX07dC5wcm90b3R5cGUuc2V0Q1NTPWZ1bmN0aW9uKG4pe3ZhciByLHUsdD10aGlzLGk9e307dC5vcHRpb25zLnJ0bD09PSEwJiYobj0tbik7cj0ibGVmdCI9PXQucG9zaXRpb25Qcm9wP01hdGguY2VpbChuKSsicHgiOiIwcHgiO3U9InRvcCI9PXQucG9zaXRpb25Qcm9wP01hdGguY2VpbChuKSsicHgiOiIwcHgiO2lbdC5wb3NpdGlvblByb3BdPW47dC50cmFuc2Zvcm1zRW5hYmxlZD09PSExP3QuJHNsaWRlVHJhY2suY3NzKGkpOihpPXt9LHQuY3NzVHJhbnNpdGlvbnM9PT0hMT8oaVt0LmFuaW1UeXBlXT0idHJhbnNsYXRlKCIrcisiLCAiK3UrIikiLHQuJHNsaWRlVHJhY2suY3NzKGkpKTooaVt0LmFuaW1UeXBlXT0idHJhbnNsYXRlM2QoIityKyIsICIrdSsiLCAwcHgpIix0LiRzbGlkZVRyYWNrLmNzcyhpKSkpfTt0LnByb3RvdHlwZS5zZXREaW1lbnNpb25zPWZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0O24ub3B0aW9ucy52ZXJ0aWNhbD09PSExP24ub3B0aW9ucy5jZW50ZXJNb2RlPT09ITAmJm4uJGxpc3QuY3NzKHtwYWRkaW5nOiIwcHggIituLm9wdGlvbnMuY2VudGVyUGFkZGluZ30pOihuLiRsaXN0LmhlaWdodChuLiRzbGlkZXMuZmlyc3QoKS5vdXRlckhlaWdodCghMCkqbi5vcHRpb25zLnNsaWRlc1RvU2hvdyksbi5vcHRpb25zLmNlbnRlck1vZGU9PT0hMCYmbi4kbGlzdC5jc3Moe3BhZGRpbmc6bi5vcHRpb25zLmNlbnRlclBhZGRpbmcrIiAwcHgifSkpO24ubGlzdFdpZHRoPW4uJGxpc3Qud2lkdGgoKTtuLmxpc3RIZWlnaHQ9bi4kbGlzdC5oZWlnaHQoKTtuLm9wdGlvbnMudmVydGljYWw9PT0hMSYmbi5vcHRpb25zLnZhcmlhYmxlV2lkdGg9PT0hMT8obi5zbGlkZVdpZHRoPU1hdGguY2VpbChuLmxpc3RXaWR0aC9uLm9wdGlvbnMuc2xpZGVzVG9TaG93KSxuLiRzbGlkZVRyYWNrLndpZHRoKE1hdGguY2VpbChuLnNsaWRlV2lkdGgqbi4kc2xpZGVUcmFjay5jaGlsZHJlbigiLnNsaWNrLXNsaWRlIikubGVuZ3RoKSkpOm4ub3B0aW9ucy52YXJpYWJsZVdpZHRoPT09ITA/bi4kc2xpZGVUcmFjay53aWR0aCg1ZTMqbi5zbGlkZUNvdW50KToobi5zbGlkZVdpZHRoPU1hdGguY2VpbChuLmxpc3RXaWR0aCksbi4kc2xpZGVUcmFjay5oZWlnaHQoTWF0aC5jZWlsKG4uJHNsaWRlcy5maXJzdCgpLm91dGVySGVpZ2h0KCEwKSpuLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCIuc2xpY2stc2xpZGUiKS5sZW5ndGgpKSk7dD1uLiRzbGlkZXMuZmlyc3QoKS5vdXRlcldpZHRoKCEwKS1uLiRzbGlkZXMuZmlyc3QoKS53aWR0aCgpO24ub3B0aW9ucy52YXJpYWJsZVdpZHRoPT09ITEmJm4uJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLndpZHRoKG4uc2xpZGVXaWR0aC10KX07dC5wcm90b3R5cGUuc2V0RmFkZT1mdW5jdGlvbigpe3ZhciBpLHQ9dGhpczt0LiRzbGlkZXMuZWFjaChmdW5jdGlvbihyLHUpe2k9dC5zbGlkZVdpZHRoKnIqLTE7dC5vcHRpb25zLnJ0bD09PSEwP24odSkuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUiLHJpZ2h0OmksdG9wOjAsekluZGV4OnQub3B0aW9ucy56SW5kZXgtMixvcGFjaXR5OjB9KTpuKHUpLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIixsZWZ0OmksdG9wOjAsekluZGV4OnQub3B0aW9ucy56SW5kZXgtMixvcGFjaXR5OjB9KX0pO3QuJHNsaWRlcy5lcSh0LmN1cnJlbnRTbGlkZSkuY3NzKHt6SW5kZXg6dC5vcHRpb25zLnpJbmRleC0xLG9wYWNpdHk6MX0pfTt0LnByb3RvdHlwZS5zZXRIZWlnaHQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ7MT09PW4ub3B0aW9ucy5zbGlkZXNUb1Nob3cmJm4ub3B0aW9ucy5hZGFwdGl2ZUhlaWdodD09PSEwJiZuLm9wdGlvbnMudmVydGljYWw9PT0hMSYmKHQ9bi4kc2xpZGVzLmVxKG4uY3VycmVudFNsaWRlKS5vdXRlckhlaWdodCghMCksbi4kbGlzdC5jc3MoImhlaWdodCIsdCkpfTt0LnByb3RvdHlwZS5zZXRPcHRpb249dC5wcm90b3R5cGUuc2xpY2tTZXRPcHRpb249ZnVuY3Rpb24oKXt2YXIgdSxmLGUsaSxyLHQ9dGhpcyxvPSExO2lmKCJvYmplY3QiPT09bi50eXBlKGFyZ3VtZW50c1swXSk/KGU9YXJndW1lbnRzWzBdLG89YXJndW1lbnRzWzFdLHI9Im11bHRpcGxlIik6InN0cmluZyI9PT1uLnR5cGUoYXJndW1lbnRzWzBdKSYmKGU9YXJndW1lbnRzWzBdLGk9YXJndW1lbnRzWzFdLG89YXJndW1lbnRzWzJdLCJyZXNwb25zaXZlIj09PWFyZ3VtZW50c1swXSYmImFycmF5Ij09PW4udHlwZShhcmd1bWVudHNbMV0pP3I9InJlc3BvbnNpdmUiOiJ1bmRlZmluZWQiIT10eXBlb2YgYXJndW1lbnRzWzFdJiYocj0ic2luZ2xlIikpLCJzaW5nbGUiPT09cil0Lm9wdGlvbnNbZV09aTtlbHNlIGlmKCJtdWx0aXBsZSI9PT1yKW4uZWFjaChlLGZ1bmN0aW9uKG4saSl7dC5vcHRpb25zW25dPWl9KTtlbHNlIGlmKCJyZXNwb25zaXZlIj09PXIpZm9yKGYgaW4gaSlpZigiYXJyYXkiIT09bi50eXBlKHQub3B0aW9ucy5yZXNwb25zaXZlKSl0Lm9wdGlvbnMucmVzcG9uc2l2ZT1baVtmXV07ZWxzZXtmb3IodT10Lm9wdGlvbnMucmVzcG9uc2l2ZS5sZW5ndGgtMTt1Pj0wOyl0Lm9wdGlvbnMucmVzcG9uc2l2ZVt1XS5icmVha3BvaW50PT09aVtmXS5icmVha3BvaW50JiZ0Lm9wdGlvbnMucmVzcG9uc2l2ZS5zcGxpY2UodSwxKSx1LS07dC5vcHRpb25zLnJlc3BvbnNpdmUucHVzaChpW2ZdKX1vJiYodC51bmxvYWQoKSx0LnJlaW5pdCgpKX07dC5wcm90b3R5cGUuc2V0UG9zaXRpb249ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uc2V0RGltZW5zaW9ucygpO24uc2V0SGVpZ2h0KCk7bi5vcHRpb25zLmZhZGU9PT0hMT9uLnNldENTUyhuLmdldExlZnQobi5jdXJyZW50U2xpZGUpKTpuLnNldEZhZGUoKTtuLiRzbGlkZXIudHJpZ2dlcigic2V0UG9zaXRpb24iLFtuXSl9O3QucHJvdG90eXBlLnNldFByb3BzPWZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0PWRvY3VtZW50LmJvZHkuc3R5bGU7bi5wb3NpdGlvblByb3A9bi5vcHRpb25zLnZlcnRpY2FsPT09ITA/InRvcCI6ImxlZnQiOyJ0b3AiPT09bi5wb3NpdGlvblByb3A/bi4kc2xpZGVyLmFkZENsYXNzKCJzbGljay12ZXJ0aWNhbCIpOm4uJHNsaWRlci5yZW1vdmVDbGFzcygic2xpY2stdmVydGljYWwiKTsodm9pZCAwIT09dC5XZWJraXRUcmFuc2l0aW9ufHx2b2lkIDAhPT10Lk1velRyYW5zaXRpb258fHZvaWQgMCE9PXQubXNUcmFuc2l0aW9uKSYmbi5vcHRpb25zLnVzZUNTUz09PSEwJiYobi5jc3NUcmFuc2l0aW9ucz0hMCk7bi5vcHRpb25zLmZhZGUmJigibnVtYmVyIj09dHlwZW9mIG4ub3B0aW9ucy56SW5kZXg/bi5vcHRpb25zLnpJbmRleDwzJiYobi5vcHRpb25zLnpJbmRleD0zKTpuLm9wdGlvbnMuekluZGV4PW4uZGVmYXVsdHMuekluZGV4KTt2b2lkIDAhPT10Lk9UcmFuc2Zvcm0mJihuLmFuaW1UeXBlPSJPVHJhbnNmb3JtIixuLnRyYW5zZm9ybVR5cGU9Ii1vLXRyYW5zZm9ybSIsbi50cmFuc2l0aW9uVHlwZT0iT1RyYW5zaXRpb24iLHZvaWQgMD09PXQucGVyc3BlY3RpdmVQcm9wZXJ0eSYmdm9pZCAwPT09dC53ZWJraXRQZXJzcGVjdGl2ZSYmKG4uYW5pbVR5cGU9ITEpKTt2b2lkIDAhPT10Lk1velRyYW5zZm9ybSYmKG4uYW5pbVR5cGU9Ik1velRyYW5zZm9ybSIsbi50cmFuc2Zvcm1UeXBlPSItbW96LXRyYW5zZm9ybSIsbi50cmFuc2l0aW9uVHlwZT0iTW96VHJhbnNpdGlvbiIsdm9pZCAwPT09dC5wZXJzcGVjdGl2ZVByb3BlcnR5JiZ2b2lkIDA9PT10Lk1velBlcnNwZWN0aXZlJiYobi5hbmltVHlwZT0hMSkpO3ZvaWQgMCE9PXQud2Via2l0VHJhbnNmb3JtJiYobi5hbmltVHlwZT0id2Via2l0VHJhbnNmb3JtIixuLnRyYW5zZm9ybVR5cGU9Ii13ZWJraXQtdHJhbnNmb3JtIixuLnRyYW5zaXRpb25UeXBlPSJ3ZWJraXRUcmFuc2l0aW9uIix2b2lkIDA9PT10LnBlcnNwZWN0aXZlUHJvcGVydHkmJnZvaWQgMD09PXQud2Via2l0UGVyc3BlY3RpdmUmJihuLmFuaW1UeXBlPSExKSk7dm9pZCAwIT09dC5tc1RyYW5zZm9ybSYmKG4uYW5pbVR5cGU9Im1zVHJhbnNmb3JtIixuLnRyYW5zZm9ybVR5cGU9Ii1tcy10cmFuc2Zvcm0iLG4udHJhbnNpdGlvblR5cGU9Im1zVHJhbnNpdGlvbiIsdm9pZCAwPT09dC5tc1RyYW5zZm9ybSYmKG4uYW5pbVR5cGU9ITEpKTt2b2lkIDAhPT10LnRyYW5zZm9ybSYmbi5hbmltVHlwZSE9PSExJiYobi5hbmltVHlwZT0idHJhbnNmb3JtIixuLnRyYW5zZm9ybVR5cGU9InRyYW5zZm9ybSIsbi50cmFuc2l0aW9uVHlwZT0idHJhbnNpdGlvbiIpO24udHJhbnNmb3Jtc0VuYWJsZWQ9bi5vcHRpb25zLnVzZVRyYW5zZm9ybSYmbnVsbCE9PW4uYW5pbVR5cGUmJm4uYW5pbVR5cGUhPT0hMX07dC5wcm90b3R5cGUuc2V0U2xpZGVDbGFzc2VzPWZ1bmN0aW9uKG4pe3ZhciB1LGkscixmLHQ9dGhpcztpPXQuJHNsaWRlci5maW5kKCIuc2xpY2stc2xpZGUiKS5yZW1vdmVDbGFzcygic2xpY2stYWN0aXZlIHNsaWNrLWNlbnRlciBzbGljay1jdXJyZW50IikuYXR0cigiYXJpYS1oaWRkZW4iLCJ0cnVlIik7dC4kc2xpZGVzLmVxKG4pLmFkZENsYXNzKCJzbGljay1jdXJyZW50Iik7dC5vcHRpb25zLmNlbnRlck1vZGU9PT0hMD8odT1NYXRoLmZsb29yKHQub3B0aW9ucy5zbGlkZXNUb1Nob3cvMiksdC5vcHRpb25zLmluZmluaXRlPT09ITAmJihuPj11JiZuPD10LnNsaWRlQ291bnQtMS11P3QuJHNsaWRlcy5zbGljZShuLXUsbit1KzEpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIik6KHI9dC5vcHRpb25zLnNsaWRlc1RvU2hvdytuLGkuc2xpY2Uoci11KzEscit1KzIpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIikpLDA9PT1uP2kuZXEoaS5sZW5ndGgtMS10Lm9wdGlvbnMuc2xpZGVzVG9TaG93KS5hZGRDbGFzcygic2xpY2stY2VudGVyIik6bj09PXQuc2xpZGVDb3VudC0xJiZpLmVxKHQub3B0aW9ucy5zbGlkZXNUb1Nob3cpLmFkZENsYXNzKCJzbGljay1jZW50ZXIiKSksdC4kc2xpZGVzLmVxKG4pLmFkZENsYXNzKCJzbGljay1jZW50ZXIiKSk6bj49MCYmbjw9dC5zbGlkZUNvdW50LXQub3B0aW9ucy5zbGlkZXNUb1Nob3c/dC4kc2xpZGVzLnNsaWNlKG4sbit0Lm9wdGlvbnMuc2xpZGVzVG9TaG93KS5hZGRDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpOmkubGVuZ3RoPD10Lm9wdGlvbnMuc2xpZGVzVG9TaG93P2kuYWRkQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmF0dHIoImFyaWEtaGlkZGVuIiwiZmFsc2UiKTooZj10LnNsaWRlQ291bnQldC5vcHRpb25zLnNsaWRlc1RvU2hvdyxyPXQub3B0aW9ucy5pbmZpbml0ZT09PSEwP3Qub3B0aW9ucy5zbGlkZXNUb1Nob3crbjpuLHQub3B0aW9ucy5zbGlkZXNUb1Nob3c9PXQub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCYmdC5zbGlkZUNvdW50LW48dC5vcHRpb25zLnNsaWRlc1RvU2hvdz9pLnNsaWNlKHItKHQub3B0aW9ucy5zbGlkZXNUb1Nob3ctZikscitmKS5hZGRDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpOmkuc2xpY2UocixyK3Qub3B0aW9ucy5zbGlkZXNUb1Nob3cpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIikpOyJvbmRlbWFuZCI9PT10Lm9wdGlvbnMubGF6eUxvYWQmJnQubGF6eUxvYWQoKX07dC5wcm90b3R5cGUuc2V0dXBJbmZpbml0ZT1mdW5jdGlvbigpe3ZhciBpLHIsdSx0PXRoaXM7aWYodC5vcHRpb25zLmZhZGU9PT0hMCYmKHQub3B0aW9ucy5jZW50ZXJNb2RlPSExKSx0Lm9wdGlvbnMuaW5maW5pdGU9PT0hMCYmdC5vcHRpb25zLmZhZGU9PT0hMSYmKHI9bnVsbCx0LnNsaWRlQ291bnQ+dC5vcHRpb25zLnNsaWRlc1RvU2hvdykpe2Zvcih1PXQub3B0aW9ucy5jZW50ZXJNb2RlPT09ITA/dC5vcHRpb25zLnNsaWRlc1RvU2hvdysxOnQub3B0aW9ucy5zbGlkZXNUb1Nob3csaT10LnNsaWRlQ291bnQ7aT50LnNsaWRlQ291bnQtdTtpLT0xKXI9aS0xLG4odC4kc2xpZGVzW3JdKS5jbG9uZSghMCkuYXR0cigiaWQiLCIiKS5hdHRyKCJkYXRhLXNsaWNrLWluZGV4IixyLXQuc2xpZGVDb3VudCkucHJlcGVuZFRvKHQuJHNsaWRlVHJhY2spLmFkZENsYXNzKCJzbGljay1jbG9uZWQiKTtmb3IoaT0wO3U+aTtpKz0xKXI9aSxuKHQuJHNsaWRlc1tyXSkuY2xvbmUoITApLmF0dHIoImlkIiwiIikuYXR0cigiZGF0YS1zbGljay1pbmRleCIscit0LnNsaWRlQ291bnQpLmFwcGVuZFRvKHQuJHNsaWRlVHJhY2spLmFkZENsYXNzKCJzbGljay1jbG9uZWQiKTt0LiRzbGlkZVRyYWNrLmZpbmQoIi5zbGljay1jbG9uZWQiKS5maW5kKCJbaWRdIikuZWFjaChmdW5jdGlvbigpe24odGhpcykuYXR0cigiaWQiLCIiKX0pfX07dC5wcm90b3R5cGUuaW50ZXJydXB0PWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7bnx8dC5hdXRvUGxheSgpO3QuaW50ZXJydXB0ZWQ9bn07dC5wcm90b3R5cGUuc2VsZWN0SGFuZGxlcj1mdW5jdGlvbih0KXt2YXIgaT10aGlzLHU9bih0LnRhcmdldCkuaXMoIi5zbGljay1zbGlkZSIpP24odC50YXJnZXQpOm4odC50YXJnZXQpLnBhcmVudHMoIi5zbGljay1zbGlkZSIpLHI9cGFyc2VJbnQodS5hdHRyKCJkYXRhLXNsaWNrLWluZGV4IikpO3JldHVybiByfHwocj0wKSxpLnNsaWRlQ291bnQ8PWkub3B0aW9ucy5zbGlkZXNUb1Nob3c/KGkuc2V0U2xpZGVDbGFzc2VzKHIpLHZvaWQgaS5hc05hdkZvcihyKSk6dm9pZCBpLnNsaWRlSGFuZGxlcihyKX07dC5wcm90b3R5cGUuc2xpZGVIYW5kbGVyPWZ1bmN0aW9uKG4sdCxpKXt2YXIgdSxmLHMsbyxlLGg9bnVsbCxyPXRoaXM7cmV0dXJuIHQ9dHx8ITEsci5hbmltYXRpbmc9PT0hMCYmci5vcHRpb25zLndhaXRGb3JBbmltYXRlPT09ITB8fHIub3B0aW9ucy5mYWRlPT09ITAmJnIuY3VycmVudFNsaWRlPT09bnx8ci5zbGlkZUNvdW50PD1yLm9wdGlvbnMuc2xpZGVzVG9TaG93P3ZvaWQgMDoodD09PSExJiZyLmFzTmF2Rm9yKG4pLHU9bixoPXIuZ2V0TGVmdCh1KSxvPXIuZ2V0TGVmdChyLmN1cnJlbnRTbGlkZSksci5jdXJyZW50TGVmdD1udWxsPT09ci5zd2lwZUxlZnQ/bzpyLnN3aXBlTGVmdCxyLm9wdGlvbnMuaW5maW5pdGU9PT0hMSYmci5vcHRpb25zLmNlbnRlck1vZGU9PT0hMSYmKDA+bnx8bj5yLmdldERvdENvdW50KCkqci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKT92b2lkKHIub3B0aW9ucy5mYWRlPT09ITEmJih1PXIuY3VycmVudFNsaWRlLGkhPT0hMD9yLmFuaW1hdGVTbGlkZShvLGZ1bmN0aW9uKCl7ci5wb3N0U2xpZGUodSl9KTpyLnBvc3RTbGlkZSh1KSkpOnIub3B0aW9ucy5pbmZpbml0ZT09PSExJiZyLm9wdGlvbnMuY2VudGVyTW9kZT09PSEwJiYoMD5ufHxuPnIuc2xpZGVDb3VudC1yLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpP3ZvaWQoci5vcHRpb25zLmZhZGU9PT0hMSYmKHU9ci5jdXJyZW50U2xpZGUsaSE9PSEwP3IuYW5pbWF0ZVNsaWRlKG8sZnVuY3Rpb24oKXtyLnBvc3RTbGlkZSh1KX0pOnIucG9zdFNsaWRlKHUpKSk6KHIub3B0aW9ucy5hdXRvcGxheSYmY2xlYXJJbnRlcnZhbChyLmF1dG9QbGF5VGltZXIpLGY9MD51P3Iuc2xpZGVDb3VudCVyLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwhPTA/ci5zbGlkZUNvdW50LXIuc2xpZGVDb3VudCVyLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw6ci5zbGlkZUNvdW50K3U6dT49ci5zbGlkZUNvdW50P3Iuc2xpZGVDb3VudCVyLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwhPTA/MDp1LXIuc2xpZGVDb3VudDp1LHIuYW5pbWF0aW5nPSEwLHIuJHNsaWRlci50cmlnZ2VyKCJiZWZvcmVDaGFuZ2UiLFtyLHIuY3VycmVudFNsaWRlLGZdKSxzPXIuY3VycmVudFNsaWRlLHIuY3VycmVudFNsaWRlPWYsci5zZXRTbGlkZUNsYXNzZXMoci5jdXJyZW50U2xpZGUpLHIub3B0aW9ucy5hc05hdkZvciYmKGU9ci5nZXROYXZUYXJnZXQoKSxlPWUuc2xpY2soImdldFNsaWNrIiksZS5zbGlkZUNvdW50PD1lLm9wdGlvbnMuc2xpZGVzVG9TaG93JiZlLnNldFNsaWRlQ2xhc3NlcyhyLmN1cnJlbnRTbGlkZSkpLHIudXBkYXRlRG90cygpLHIudXBkYXRlQXJyb3dzKCksci5vcHRpb25zLmZhZGU9PT0hMD8oaSE9PSEwPyhyLmZhZGVTbGlkZU91dChzKSxyLmZhZGVTbGlkZShmLGZ1bmN0aW9uKCl7ci5wb3N0U2xpZGUoZil9KSk6ci5wb3N0U2xpZGUoZiksdm9pZCByLmFuaW1hdGVIZWlnaHQoKSk6dm9pZChpIT09ITA/ci5hbmltYXRlU2xpZGUoaCxmdW5jdGlvbigpe3IucG9zdFNsaWRlKGYpfSk6ci5wb3N0U2xpZGUoZikpKSl9O3QucHJvdG90eXBlLnN0YXJ0TG9hZD1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5vcHRpb25zLmFycm93cz09PSEwJiZuLnNsaWRlQ291bnQ+bi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKG4uJHByZXZBcnJvdy5oaWRlKCksbi4kbmV4dEFycm93LmhpZGUoKSk7bi5vcHRpb25zLmRvdHM9PT0hMCYmbi5zbGlkZUNvdW50Pm4ub3B0aW9ucy5zbGlkZXNUb1Nob3cmJm4uJGRvdHMuaGlkZSgpO24uJHNsaWRlci5hZGRDbGFzcygic2xpY2stbG9hZGluZyIpfTt0LnByb3RvdHlwZS5zd2lwZURpcmVjdGlvbj1mdW5jdGlvbigpe3ZhciBpLHIsdSxuLHQ9dGhpcztyZXR1cm4gaT10LnRvdWNoT2JqZWN0LnN0YXJ0WC10LnRvdWNoT2JqZWN0LmN1clgscj10LnRvdWNoT2JqZWN0LnN0YXJ0WS10LnRvdWNoT2JqZWN0LmN1clksdT1NYXRoLmF0YW4yKHIsaSksbj1NYXRoLnJvdW5kKDE4MCp1L01hdGguUEkpLDA+biYmKG49MzYwLU1hdGguYWJzKG4pKSw0NT49biYmbj49MD90Lm9wdGlvbnMucnRsPT09ITE/ImxlZnQiOiJyaWdodCI6MzYwPj1uJiZuPj0zMTU/dC5vcHRpb25zLnJ0bD09PSExPyJsZWZ0IjoicmlnaHQiOm4+PTEzNSYmMjI1Pj1uP3Qub3B0aW9ucy5ydGw9PT0hMT8icmlnaHQiOiJsZWZ0Ijp0Lm9wdGlvbnMudmVydGljYWxTd2lwaW5nPT09ITA/bj49MzUmJjEzNT49bj8iZG93biI6InVwIjoidmVydGljYWwifTt0LnByb3RvdHlwZS5zd2lwZUVuZD1mdW5jdGlvbigpe3ZhciB0LGksbj10aGlzO2lmKG4uZHJhZ2dpbmc9ITEsbi5pbnRlcnJ1cHRlZD0hMSxuLnNob3VsZENsaWNrPW4udG91Y2hPYmplY3Quc3dpcGVMZW5ndGg+MTA/ITE6ITAsdm9pZCAwPT09bi50b3VjaE9iamVjdC5jdXJYKXJldHVybiExO2lmKG4udG91Y2hPYmplY3QuZWRnZUhpdD09PSEwJiZuLiRzbGlkZXIudHJpZ2dlcigiZWRnZSIsW24sbi5zd2lwZURpcmVjdGlvbigpXSksbi50b3VjaE9iamVjdC5zd2lwZUxlbmd0aD49bi50b3VjaE9iamVjdC5taW5Td2lwZSl7c3dpdGNoKGk9bi5zd2lwZURpcmVjdGlvbigpKXtjYXNlImxlZnQiOmNhc2UiZG93biI6dD1uLm9wdGlvbnMuc3dpcGVUb1NsaWRlP24uY2hlY2tOYXZpZ2FibGUobi5jdXJyZW50U2xpZGUrbi5nZXRTbGlkZUNvdW50KCkpOm4uY3VycmVudFNsaWRlK24uZ2V0U2xpZGVDb3VudCgpO24uY3VycmVudERpcmVjdGlvbj0wO2JyZWFrO2Nhc2UicmlnaHQiOmNhc2UidXAiOnQ9bi5vcHRpb25zLnN3aXBlVG9TbGlkZT9uLmNoZWNrTmF2aWdhYmxlKG4uY3VycmVudFNsaWRlLW4uZ2V0U2xpZGVDb3VudCgpKTpuLmN1cnJlbnRTbGlkZS1uLmdldFNsaWRlQ291bnQoKTtuLmN1cnJlbnREaXJlY3Rpb249MX0idmVydGljYWwiIT1pJiYobi5zbGlkZUhhbmRsZXIodCksbi50b3VjaE9iamVjdD17fSxuLiRzbGlkZXIudHJpZ2dlcigic3dpcGUiLFtuLGldKSl9ZWxzZSBuLnRvdWNoT2JqZWN0LnN0YXJ0WCE9PW4udG91Y2hPYmplY3QuY3VyWCYmKG4uc2xpZGVIYW5kbGVyKG4uY3VycmVudFNsaWRlKSxuLnRvdWNoT2JqZWN0PXt9KX07dC5wcm90b3R5cGUuc3dpcGVIYW5kbGVyPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7aWYoISh0Lm9wdGlvbnMuc3dpcGU9PT0hMXx8Im9udG91Y2hlbmQiaW4gZG9jdW1lbnQmJnQub3B0aW9ucy5zd2lwZT09PSExfHx0Lm9wdGlvbnMuZHJhZ2dhYmxlPT09ITEmJi0xIT09bi50eXBlLmluZGV4T2YoIm1vdXNlIikpKXN3aXRjaCh0LnRvdWNoT2JqZWN0LmZpbmdlckNvdW50PW4ub3JpZ2luYWxFdmVudCYmdm9pZCAwIT09bi5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/bi5vcmlnaW5hbEV2ZW50LnRvdWNoZXMubGVuZ3RoOjEsdC50b3VjaE9iamVjdC5taW5Td2lwZT10Lmxpc3RXaWR0aC90Lm9wdGlvbnMudG91Y2hUaHJlc2hvbGQsdC5vcHRpb25zLnZlcnRpY2FsU3dpcGluZz09PSEwJiYodC50b3VjaE9iamVjdC5taW5Td2lwZT10Lmxpc3RIZWlnaHQvdC5vcHRpb25zLnRvdWNoVGhyZXNob2xkKSxuLmRhdGEuYWN0aW9uKXtjYXNlInN0YXJ0Ijp0LnN3aXBlU3RhcnQobik7YnJlYWs7Y2FzZSJtb3ZlIjp0LnN3aXBlTW92ZShuKTticmVhaztjYXNlImVuZCI6dC5zd2lwZUVuZChuKX19O3QucHJvdG90eXBlLnN3aXBlTW92ZT1mdW5jdGlvbihuKXt2YXIgZixlLHIsdSxpLHQ9dGhpcztyZXR1cm4gaT12b2lkIDAhPT1uLm9yaWdpbmFsRXZlbnQ/bi5vcmlnaW5hbEV2ZW50LnRvdWNoZXM6bnVsbCwhdC5kcmFnZ2luZ3x8aSYmMSE9PWkubGVuZ3RoPyExOihmPXQuZ2V0TGVmdCh0LmN1cnJlbnRTbGlkZSksdC50b3VjaE9iamVjdC5jdXJYPXZvaWQgMCE9PWk/aVswXS5wYWdlWDpuLmNsaWVudFgsdC50b3VjaE9iamVjdC5jdXJZPXZvaWQgMCE9PWk/aVswXS5wYWdlWTpuLmNsaWVudFksdC50b3VjaE9iamVjdC5zd2lwZUxlbmd0aD1NYXRoLnJvdW5kKE1hdGguc3FydChNYXRoLnBvdyh0LnRvdWNoT2JqZWN0LmN1clgtdC50b3VjaE9iamVjdC5zdGFydFgsMikpKSx0Lm9wdGlvbnMudmVydGljYWxTd2lwaW5nPT09ITAmJih0LnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoPU1hdGgucm91bmQoTWF0aC5zcXJ0KE1hdGgucG93KHQudG91Y2hPYmplY3QuY3VyWS10LnRvdWNoT2JqZWN0LnN0YXJ0WSwyKSkpKSxlPXQuc3dpcGVEaXJlY3Rpb24oKSwidmVydGljYWwiIT09ZT8odm9pZCAwIT09bi5vcmlnaW5hbEV2ZW50JiZ0LnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoPjQmJm4ucHJldmVudERlZmF1bHQoKSx1PSh0Lm9wdGlvbnMucnRsPT09ITE/MTotMSkqKHQudG91Y2hPYmplY3QuY3VyWD50LnRvdWNoT2JqZWN0LnN0YXJ0WD8xOi0xKSx0Lm9wdGlvbnMudmVydGljYWxTd2lwaW5nPT09ITAmJih1PXQudG91Y2hPYmplY3QuY3VyWT50LnRvdWNoT2JqZWN0LnN0YXJ0WT8xOi0xKSxyPXQudG91Y2hPYmplY3Quc3dpcGVMZW5ndGgsdC50b3VjaE9iamVjdC5lZGdlSGl0PSExLHQub3B0aW9ucy5pbmZpbml0ZT09PSExJiYoMD09PXQuY3VycmVudFNsaWRlJiYicmlnaHQiPT09ZXx8dC5jdXJyZW50U2xpZGU+PXQuZ2V0RG90Q291bnQoKSYmImxlZnQiPT09ZSkmJihyPXQudG91Y2hPYmplY3Quc3dpcGVMZW5ndGgqdC5vcHRpb25zLmVkZ2VGcmljdGlvbix0LnRvdWNoT2JqZWN0LmVkZ2VIaXQ9ITApLHQuc3dpcGVMZWZ0PXQub3B0aW9ucy52ZXJ0aWNhbD09PSExP2Yrcip1OmYrcioodC4kbGlzdC5oZWlnaHQoKS90Lmxpc3RXaWR0aCkqdSx0Lm9wdGlvbnMudmVydGljYWxTd2lwaW5nPT09ITAmJih0LnN3aXBlTGVmdD1mK3IqdSksdC5vcHRpb25zLmZhZGU9PT0hMHx8dC5vcHRpb25zLnRvdWNoTW92ZT09PSExPyExOnQuYW5pbWF0aW5nPT09ITA/KHQuc3dpcGVMZWZ0PW51bGwsITEpOnZvaWQgdC5zZXRDU1ModC5zd2lwZUxlZnQpKTp2b2lkIDApfTt0LnByb3RvdHlwZS5zd2lwZVN0YXJ0PWZ1bmN0aW9uKG4pe3ZhciBpLHQ9dGhpcztyZXR1cm4gdC5pbnRlcnJ1cHRlZD0hMCwxIT09dC50b3VjaE9iamVjdC5maW5nZXJDb3VudHx8dC5zbGlkZUNvdW50PD10Lm9wdGlvbnMuc2xpZGVzVG9TaG93Pyh0LnRvdWNoT2JqZWN0PXt9LCExKToodm9pZCAwIT09bi5vcmlnaW5hbEV2ZW50JiZ2b2lkIDAhPT1uLm9yaWdpbmFsRXZlbnQudG91Y2hlcyYmKGk9bi5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0pLHQudG91Y2hPYmplY3Quc3RhcnRYPXQudG91Y2hPYmplY3QuY3VyWD12b2lkIDAhPT1pP2kucGFnZVg6bi5jbGllbnRYLHQudG91Y2hPYmplY3Quc3RhcnRZPXQudG91Y2hPYmplY3QuY3VyWT12b2lkIDAhPT1pP2kucGFnZVk6bi5jbGllbnRZLHZvaWQodC5kcmFnZ2luZz0hMCkpfTt0LnByb3RvdHlwZS51bmZpbHRlclNsaWRlcz10LnByb3RvdHlwZS5zbGlja1VuZmlsdGVyPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztudWxsIT09bi4kc2xpZGVzQ2FjaGUmJihuLnVubG9hZCgpLG4uJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKSxuLiRzbGlkZXNDYWNoZS5hcHBlbmRUbyhuLiRzbGlkZVRyYWNrKSxuLnJlaW5pdCgpKX07dC5wcm90b3R5cGUudW5sb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztuKCIuc2xpY2stY2xvbmVkIix0LiRzbGlkZXIpLnJlbW92ZSgpO3QuJGRvdHMmJnQuJGRvdHMucmVtb3ZlKCk7dC4kcHJldkFycm93JiZ0Lmh0bWxFeHByLnRlc3QodC5vcHRpb25zLnByZXZBcnJvdykmJnQuJHByZXZBcnJvdy5yZW1vdmUoKTt0LiRuZXh0QXJyb3cmJnQuaHRtbEV4cHIudGVzdCh0Lm9wdGlvbnMubmV4dEFycm93KSYmdC4kbmV4dEFycm93LnJlbW92ZSgpO3QuJHNsaWRlcy5yZW1vdmVDbGFzcygic2xpY2stc2xpZGUgc2xpY2stYWN0aXZlIHNsaWNrLXZpc2libGUgc2xpY2stY3VycmVudCIpLmF0dHIoImFyaWEtaGlkZGVuIiwidHJ1ZSIpLmNzcygid2lkdGgiLCIiKX07dC5wcm90b3R5cGUudW5zbGljaz1mdW5jdGlvbihuKXt2YXIgdD10aGlzO3QuJHNsaWRlci50cmlnZ2VyKCJ1bnNsaWNrIixbdCxuXSk7dC5kZXN0cm95KCl9O3QucHJvdG90eXBlLnVwZGF0ZUFycm93cz1mdW5jdGlvbigpe3ZhciB0LG49dGhpczt0PU1hdGguZmxvb3Iobi5vcHRpb25zLnNsaWRlc1RvU2hvdy8yKTtuLm9wdGlvbnMuYXJyb3dzPT09ITAmJm4uc2xpZGVDb3VudD5uLm9wdGlvbnMuc2xpZGVzVG9TaG93JiYhbi5vcHRpb25zLmluZmluaXRlJiYobi4kcHJldkFycm93LnJlbW92ZUNsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJmYWxzZSIpLG4uJG5leHRBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwiZmFsc2UiKSwwPT09bi5jdXJyZW50U2xpZGU/KG4uJHByZXZBcnJvdy5hZGRDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwidHJ1ZSIpLG4uJG5leHRBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwiZmFsc2UiKSk6bi5jdXJyZW50U2xpZGU+PW4uc2xpZGVDb3VudC1uLm9wdGlvbnMuc2xpZGVzVG9TaG93JiZuLm9wdGlvbnMuY2VudGVyTW9kZT09PSExPyhuLiRuZXh0QXJyb3cuYWRkQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKSxuLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsImZhbHNlIikpOm4uY3VycmVudFNsaWRlPj1uLnNsaWRlQ291bnQtMSYmbi5vcHRpb25zLmNlbnRlck1vZGU9PT0hMCYmKG4uJG5leHRBcnJvdy5hZGRDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwidHJ1ZSIpLG4uJHByZXZBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwiZmFsc2UiKSkpfTt0LnByb3RvdHlwZS51cGRhdGVEb3RzPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztudWxsIT09bi4kZG90cyYmKG4uJGRvdHMuZmluZCgibGkiKS5yZW1vdmVDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCJ0cnVlIiksbi4kZG90cy5maW5kKCJsaSIpLmVxKE1hdGguZmxvb3Iobi5jdXJyZW50U2xpZGUvbi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKSkuYWRkQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmF0dHIoImFyaWEtaGlkZGVuIiwiZmFsc2UiKSl9O3QucHJvdG90eXBlLnZpc2liaWxpdHk9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24ub3B0aW9ucy5hdXRvcGxheSYmKG4uaW50ZXJydXB0ZWQ9ZG9jdW1lbnRbbi5oaWRkZW5dPyEwOiExKX07bi5mbi5zbGljaz1mdW5jdGlvbigpe2Zvcih2YXIgdSxpPXRoaXMscj1hcmd1bWVudHNbMF0sZj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksZT1pLmxlbmd0aCxuPTA7ZT5uO24rKylpZigib2JqZWN0Ij09dHlwZW9mIHJ8fCJ1bmRlZmluZWQiPT10eXBlb2Ygcj9pW25dLnNsaWNrPW5ldyB0KGlbbl0scik6dT1pW25dLnNsaWNrW3JdLmFwcGx5KGlbbl0uc2xpY2ssZiksInVuZGVmaW5lZCIhPXR5cGVvZiB1KXJldHVybiB1O3JldHVybiBpfX0pOyFmdW5jdGlvbihuLHQsaSl7InVzZSBzdHJpY3QiO2kuYXR0YWNoRGV0YWNoPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHUodCx1LGYsZSl7ZT1lfHxpLmRlZmF1bHRJbnNlcnRBY3Rpb247cihuKHUpKVtlXShmKX1mdW5jdGlvbiByKHQpe3JldHVybiB0LmRhdGEoInRoZW1lX2RhdGFfcGxhY2Vob2xkZXIiLG4oJzxzcGFuIHN0eWxlPSJkaXNwbGF5OiBub25lOyIgLz4nKS5pbnNlcnRBZnRlcih0KSksdC5kZXRhY2goKX12YXIgaT1uLmV4dGVuZCh7fSx7YmxvY2tzOltdLGRlZmF1bHRJbnNlcnRBY3Rpb246ImFwcGVuZFRvIn0sdCk7cmV0dXJue2luaXQ6ZnVuY3Rpb24oKXtuLmVhY2goaS5ibG9ja3MsZnVuY3Rpb24odCx1KXt2YXIgZjt1Lmluc2VydEFjdGlvbj11Lmluc2VydEFjdGlvbnx8aS5kZWZhdWx0SW5zZXJ0QWN0aW9uO3UubXVsdGlwbGVDb250ZW50RWxlbWVudHMmJnUucGFyZW50SG9sZGVyPyhmPXUudHJhdmVyc2luZ0Z1bmN0aW9ufHwiZmluZCIsbih1LmNvbnRlbnQpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLGk9dC5wYXJlbnRzKHUucGFyZW50SG9sZGVyKVtmXSh1LmVsZW1lbnRUb0F0dGFjaCk7cih0KVt1Lmluc2VydEFjdGlvbl0oaSl9KSk6cihuKHUuY29udGVudCkpW3UuaW5zZXJ0QWN0aW9uXSh1LmVsZW1lbnRUb0F0dGFjaCl9KTtuKGRvY3VtZW50KS5vbigiZGV0YWNoRWxlbWVudC50aGVtZSIsdSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtuKCI6ZGF0YSh0aGVtZV9kYXRhX3BsYWNlaG9sZGVyKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdDsodD1uKHRoaXMpKS5kYXRhKCJ0aGVtZV9kYXRhX3BsYWNlaG9sZGVyIikmJih0Lmluc2VydEJlZm9yZSh0LmRhdGEoInRoZW1lX2RhdGFfcGxhY2Vob2xkZXIiKSksdC5kYXRhKCJ0aGVtZV9kYXRhX3BsYWNlaG9sZGVyIikucmVtb3ZlKCksdC5yZW1vdmVEYXRhKCJ0aGVtZV9kYXRhX3BsYWNlaG9sZGVyIikpfSk7bihkb2N1bWVudCkub2ZmKCJkZXRhY2hFbGVtZW50LnRoZW1lIix1KX19fTtpLmN1c3RvbVByb2R1Y3RSZXZpZXdSYXRpbmdJY29ucz1mdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7bigiaW5wdXQ6bm90KDpjaGVja2VkKSIpLnBhcmVudCgpLnJlbW92ZUNsYXNzKGkuY2xhc3NUb0FwcGx5KTtuKCJpbnB1dDpjaGVja2VkIikucGFyZW50KCkuYWRkQ2xhc3MoaS5jbGFzc1RvQXBwbHkpLnByZXZBbGwoKS5hZGRDbGFzcyhpLmNsYXNzVG9BcHBseSl9dmFyIGk9bi5leHRlbmQoe30se3Jldmlld1JhdGluZ0ljb25zSW5wdXRTZWxlY3RvcjonLndyaXRlLXJldmlldyAucmV2aWV3LXJhdGluZyBpbnB1dFt0eXBlPSJyYWRpbyJdJyxjbGFzc1RvQXBwbHk6ImNoZWNrZWQifSx0KTtyZXR1cm57aW5pdDpmdW5jdGlvbigpe24oZG9jdW1lbnQpLm9uKCJjbGljay50aGVtZS5yZXZpZXdSYXRpbmdJY29ucyIsaS5yZXZpZXdSYXRpbmdJY29uc0lucHV0U2VsZWN0b3Iscil9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtuKGRvY3VtZW50KS5vZmYoImNsaWNrLnRoZW1lLnJldmlld1JhdGluZ0ljb25zIixpLnJldmlld1JhdGluZ0ljb25zSW5wdXRTZWxlY3RvcixyKX19fTtpLmRldmljZUNsYXNzPWZ1bmN0aW9uKGkpe3ZhciByPW4uZXh0ZW5kKHt9LHtlbGVtZW50VG9BcHBseToiYm9keSIsbW9iaWxlQ2xhc3NUb0FwcGx5OiJtb2JpbGUtZGV2aWNlIixkZXNrdG9wQ2xhc3NUb0FwcGx5OiJkZXNrdG9wLWRldmljZSJ9LGkpO3JldHVybntpbml0OmZ1bmN0aW9uKCl7dmFyIGk9dC5pc01vYmlsZURldmljZT9yLm1vYmlsZUNsYXNzVG9BcHBseTpyLmRlc2t0b3BDbGFzc1RvQXBwbHk7bihyLmVsZW1lbnRUb0FwcGx5KS5hZGRDbGFzcyhpKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBpPXQuaXNNb2JpbGVEZXZpY2U/ci5tb2JpbGVDbGFzc1RvQXBwbHk6ci5kZXNrdG9wQ2xhc3NUb0FwcGx5O24oci5lbGVtZW50VG9BcHBseSkucmVtb3ZlQ2xhc3MoaSl9fX07aS5lcXVhbGl6ZXI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZih0KXtyLmlzQWxyZWFkeURlc3Ryb3llZCYmIXR8fG4uZWFjaCh1LmJsb2NrcyxmdW5jdGlvbih0LGkpe3ZhciByLGYsbyx1O3JldHVybiBpLmluaXRFdmVudHM/KHI9aSkuZXZlbnRIb2xkZXJTZWxlY3RvciYmci5pbml0RXZlbnRzJiYoZj1yLnRyYXZlcnNpbmdGdW5jdGlvbnx8InBhcmVudHMiLG89bihyLnNlbGVjdG9yKVtmXShyLmV2ZW50SG9sZGVyU2VsZWN0b3IpLHU9bi5tYXAoci5pbml0RXZlbnRzLnNwbGl0KCIsIiksbi50cmltKSxuLmVhY2gobyxmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7bi5lYWNoKHUsZnVuY3Rpb24obil7dmFyIGk9dVtuXSsiLnRoZW1lLmVxdWFsaXplciI7dC5vbihpLGZ1bmN0aW9uKCl7ZShyKX0pfSl9KSk6ZShpKSwhMH0pfWZ1bmN0aW9uIGUodCl7dmFyIHMsaCx1LGYscixlO2lmKHQucHJvcGVydHk9dC5wcm9wZXJ0eXx8ImhlaWdodCIscz1uLmV4dGVuZCh7fSx0KSxoPS0xIT09dC5wcm9wZXJ0eS5pbmRleE9mKCJoZWlnaHQiKT9jOmwsbi5leHRlbmQodCxoLHMpLHU9bih0LnNlbGVjdG9yKSwwPT09dS5sZW5ndGgpcmV0dXJuIDE7ZT1bdV07dC5ieVJvdyYmIXQudGFyZ2V0JiYodS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKSxyPWkuY3NzKCJkaXNwbGF5Iik7ImlubGluZS1ibG9jayIhPT1yJiYiZmxleCIhPT1yJiYiaW5saW5lLWZsZXgiIT09ciYmKHI9ImJsb2NrICFpbXBvcnRhbnQiKTtpLmF0dHIoInN0eWxlIikmJmkuZGF0YSgiZXF1YWxpemVyLXN0eWxlLWNhY2hlIixpLmF0dHIoInN0eWxlIikpOy0xIT09dC5wcm9wZXJ0eS5pbmRleE9mKCJoZWlnaHQiKT9pLmNzcyh7ZGlzcGxheTpyLCJwYWRkaW5nLXRvcCI6IjAiLCJwYWRkaW5nLWJvdHRvbSI6IjAiLCJtYXJnaW4tdG9wIjoiMCIsIm1hcmdpbi1ib3R0b20iOiIwIiwiYm9yZGVyLXRvcC13aWR0aCI6IjAiLCJib3JkZXItYm90dG9tLXdpZHRoIjoiMCIsaGVpZ2h0OiIxMDBweCIsb3ZlcmZsb3c6ImhpZGRlbiJ9KTppLmNzcyh7ZGlzcGxheTpyLCJwYWRkaW5nLWxlZnQiOiIwIiwicGFkZGluZy1yaWdodCI6IjAiLCJtYXJnaW4tbGVmdCI6IjAiLCJtYXJnaW4tcmlnaHQiOiIwIiwiYm9yZGVyLWxlZnQtd2lkdGgiOiIwIiwiYm9yZGVyLXJpZ2h0LXdpZHRoIjoiMCIsd2lkdGg6IjEwMHB4IixvdmVyZmxvdzoiaGlkZGVuIn0pfSksZj1udWxsLHI9W10sbih1KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKSx1PXQub2Zmc2V0KCkudG9wLWkodC5jc3MoIm1hcmdpbi10b3AiKSksZT0wPHIubGVuZ3RoP3Jbci5sZW5ndGgtMV06bnVsbDtudWxsIT1lJiZNYXRoLmZsb29yKE1hdGguYWJzKGYtdSkpPD0xP3Jbci5sZW5ndGgtMV09ZS5hZGQodCk6ci5wdXNoKHQpO2Y9dX0pLGU9cix1LmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3QuZGF0YSgiZXF1YWxpemVyLXN0eWxlLWNhY2hlIik/KHQuYXR0cigic3R5bGUiLHQuZGF0YSgiZXF1YWxpemVyLXN0eWxlLWNhY2hlIikpLHQucmVtb3ZlRGF0YSgiZXF1YWxpemVyLXN0eWxlLWNhY2hlIikpOnQucmVtb3ZlQXR0cigic3R5bGUiKX0pKTtuLmVhY2goZSxmdW5jdGlvbihyLHUpe3ZhciBmPW4odSksZT0wO2lmKHQudGFyZ2V0KWU9byh0LnRhcmdldCx0KTtlbHNle2lmKHQuYnlSb3cmJmYubGVuZ3RoPD0xKXJldHVybiB2b2lkIGYuY3NzKHQucHJvcGVydHksIiIpO2YuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykscz1pLmF0dHIoInN0eWxlIikscj1pLmNzcygiZGlzcGxheSIpLHUsZjsiaW5saW5lLWJsb2NrIiE9PXImJiJmbGV4IiE9PXImJiJpbmxpbmUtZmxleCIhPT1yJiYocj0iYmxvY2siKTt1PXtkaXNwbGF5OnJ9O3VbdC5wcm9wZXJ0eV09IiI7aS5jc3ModSk7Zj1vKGksdCk7ZTxmJiYoZT1mKTtzP2kuYXR0cigic3R5bGUiLHMpOmkuY3NzKCJkaXNwbGF5IiwiIil9KX1mLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1uKHRoaXMpLHU9MDt0LnRhcmdldCYmci5pcyh0LnRhcmdldCl8fCgiYm9yZGVyLWJveCIhPT1yLmNzcygiYm94LXNpemluZyIpJiYoLTEhPT10LnByb3BlcnR5LmluZGV4T2YoImhlaWdodCIpPyh1Kz1pKHIuY3NzKCJib3JkZXItdG9wLXdpZHRoIikpK2koci5jc3MoImJvcmRlci1ib3R0b20td2lkdGgiKSksdSs9aShyLmNzcygicGFkZGluZy10b3AiKSkraShyLmNzcygicGFkZGluZy1ib3R0b20iKSkpOih1Kz1pKHIuY3NzKCJib3JkZXItbGVmdC13aWR0aCIpKStpKHIuY3NzKCJib3JkZXItcmlnaHQtd2lkdGgiKSksdSs9aShyLmNzcygicGFkZGluZy1sZWZ0IikpK2koci5jc3MoInBhZGRpbmctcmlnaHQiKSkpKSxyLmNzcyh0LnByb3BlcnR5LGUtdSsicHgiKSl9KX0pO24uZXZlbnQudHJpZ2dlcigiZXF1YWxpemVyRXhlY3V0ZWQiKX1mdW5jdGlvbiBvKG4sdCl7dmFyIGk9W107cmV0dXJuLTEhPT10Lm1lYXN1cmVtZW50RnVuY3Rpb24uaW5kZXhPZigib3V0ZXIiKSYmaS5wdXNoKHQuaW5jbHVkZU1hcmdpbiksblt0Lm1lYXN1cmVtZW50RnVuY3Rpb25dLmFwcGx5KG4saSl9ZnVuY3Rpb24gaShuKXtyZXR1cm4gcGFyc2VGbG9hdChuKXx8MH1mdW5jdGlvbiBzKCl7bih3aW5kb3cpLndpZHRoKCkhPT1yLndpbmRvd1dpZHRoJiYoY2xlYXJUaW1lb3V0KHIud2luZG93RGVsYXkpLHIud2luZG93RGVsYXk9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtmKCEwKX0sci53aW5kb3dUaW1lb3V0KSl9ZnVuY3Rpb24gaCgpe2YoITApfXZhciByPXtpc0FscmVhZHlEZXN0cm95ZWQ6ITEsd2luZG93RGVsYXk6bnVsbCx3aW5kb3dXaWR0aDowLHdpbmRvd1RpbWVvdXQ6NTB9LGM9e3RhcmdldDpudWxsLGJ5Um93OiEwLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246Im91dGVySGVpZ2h0IixpbmNsdWRlTWFyZ2luOiExfSxsPXt0YXJnZXQ6bnVsbCxieVJvdzohMSxwcm9wZXJ0eToid2lkdGgiLG1lYXN1cmVtZW50RnVuY3Rpb246Im91dGVyV2lkdGgiLGluY2x1ZGVNYXJnaW46ITF9LHU9bi5leHRlbmQoe30se2Jsb2NrczpbXX0sdCk7cmV0dXJuIHUudHJpZ2dlckV2ZW50cyYmbihkb2N1bWVudCkub24odS50cmlnZ2VyRXZlbnRzLGZ1bmN0aW9uKCl7ZighMCl9KSx7aW5pdDpmdW5jdGlvbigpe24od2luZG93KS5vbigicmVzaXplLnRoZW1lLmVxdWFsaXplciIscyk7bih3aW5kb3cpLm9uKCJvcmllbnRhdGlvbmNoYW5nZS50aGVtZS5lcXVhbGl6ZXIiLGgpO2YoKX0sZGVzdHJveTpmdW5jdGlvbigpe24od2luZG93KS5vZmYoInJlc2l6ZS50aGVtZS5lcXVhbGl6ZXIiLHMpO24od2luZG93KS5vZmYoIm9yaWVudGF0aW9uY2hhbmdlLnRoZW1lLmVxdWFsaXplciIsaCk7bi5lYWNoKHUuYmxvY2tzLGZ1bmN0aW9uKHQsaSl7dmFyIHUsZixyO2kuZXZlbnRIb2xkZXJTZWxlY3RvciYmaS5pbml0RXZlbnRzJiYodT1pLnRyYXZlcnNpbmdGdW5jdGlvbnx8InBhcmVudHMiLGY9bihpLnNlbGVjdG9yKVt1XShpLmV2ZW50SG9sZGVyU2VsZWN0b3IpLHI9bi5tYXAoaS5pbml0RXZlbnRzLnNwbGl0KCIsIiksbi50cmltKSxuLmVhY2goZixmdW5jdGlvbigpe24odGhpcyk7bi5lYWNoKHIsZnVuY3Rpb24obil7cltuXX0pfSkpfSk7bi5lYWNoKHUuYmxvY2tzLGZ1bmN0aW9uKHQsaSl7dmFyIHI9bihpLnNlbGVjdG9yKTtuLmVhY2gocixmdW5jdGlvbih0LHIpe24ocikuY3NzKGkucHJvcGVydHksIiIpfSl9KX19fTtpLmZpbHRlcnM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcigpe24oaS5vdmVybGF5RWxlbWVudFNlbGVjdG9yKS50cmlnZ2VyKCJjbGljay50aGVtZS5vdmVybGF5Iil9dmFyIGk9bi5leHRlbmQoe30se292ZXJsYXlFbGVtZW50U2VsZWN0b3I6Ii5vdmVybGF5T2ZmQ2FudmFzIixhamF4RmlsdGVyc0VsZW1lbnQ6Ii5ub3BBamF4RmlsdGVyczdTcGlrZXMiLGNsb3NlUGFuZWxBZnRlckZpbHRyYXRpb25EYXRhQXR0cmlidXRlOiJjbG9zZWZpbHRlcnNwYW5lbGFmdGVyZmlsdHJhdGlvbmlubW9iaWxlIn0sdCk7cmV0dXJue2luaXQ6ZnVuY3Rpb24oKXsidHJ1ZSI9PT1uKGkuYWpheEZpbHRlcnNFbGVtZW50KS5hdHRyKCJkYXRhLSIraS5jbG9zZVBhbmVsQWZ0ZXJGaWx0cmF0aW9uRGF0YUF0dHJpYnV0ZSkmJm4oZG9jdW1lbnQpLm9uKCJub3BBamF4RmlsdGVyc0ZpbHRyYXRpb25Db21wbGV0ZUV2ZW50LnRoZW1lLmZpbHRlcnMiLHIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7bihkb2N1bWVudCkub2ZmKCJub3BBamF4RmlsdGVyc0ZpbHRyYXRpb25Db21wbGV0ZUV2ZW50LnRoZW1lLmZpbHRlcnMiLHIpfX19O2kuZmx5b3V0Q2FydD1mdW5jdGlvbih0KXtmdW5jdGlvbiB1KCl7ZSgpfWZ1bmN0aW9uIGYodCl7dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciB1LGY9bih0aGlzKS5jbG9zZXN0KCIuaXRlbSIpLHI9cGFyc2VJbnQoZi5hdHRyKCJkYXRhLXNob3BwaW5nQ2FydElkIikpO2lzTmFOKHIpfHwwPT09cnx8KHU9e3Nob3BwaW5nQ2FydElkOnJ9LG4uYWpheCh7Y2FjaGU6ITEsdHlwZToiUE9TVCIsdXJsOmkucmVtb3ZlSXRlbUZyb21DYXJ0VXJsLGRhdGE6dSxkYXRhVHlwZToianNvbiJ9KS5kb25lKGZ1bmN0aW9uKG4pe24uc3VjY2VzcyYmZShyKX0pKX1mdW5jdGlvbiBlKHQpe24uYWpheCh7Y2FjaGU6ITEsdHlwZToiR0VUIix1cmw6aS5mbHlvdXRDYXJ0VXJsfSkuZG9uZShmdW5jdGlvbihpKXt2YXIgdT1uKHIuZmx5b3V0Q2FydFNlbGVjdG9yKS5jaGlsZHJlbigpO24oaSkuZmlsdGVyKHIuZmx5b3V0Q2FydFNlbGVjdG9yKS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24odCxpKXt2YXIgcj1uKGkpO24odVt0XSkucmVwbGFjZVdpdGgocil9KTt0JiZuKGRvY3VtZW50KS50cmlnZ2VyKCJyZW1vdmVJdGVtRmx5b3V0Q2FydCIsW3RdKTtuKGRvY3VtZW50KS50cmlnZ2VyKCJpbml0aWFsaXplUGVyZmVjdFNjcm9sbGJhci50aGVtZSIsW24oci5mbHlvdXRDYXJ0U2Nyb2xsYmFyU2VsZWN0b3IpXSl9KX12YXIgaT17Zmx5b3V0Q2FydFVybDoiIixyZW1vdmVJdGVtRnJvbUNhcnRVcmw6IiIsYWpheENhcnRTdWNjZXNzUHJvY2Vzc0Z1bmN0aW9uOmZ1bmN0aW9uKCl7fX0scj1uLmV4dGVuZCh7fSx7Zmx5b3V0Q2FydFNlbGVjdG9yOiIjZmx5b3V0LWNhcnQiLGZseW91dENhcnRTY3JvbGxiYXJTZWxlY3RvcjoiI2ZseW91dC1jYXJ0IC5pdGVtcyIscmVtb3ZlSXRlbVNlbGVjdG9yOiIjZmx5b3V0LWNhcnQgLnJlbW92ZS1pdGVtIn0sdCk7cmV0dXJue2luaXQ6ZnVuY3Rpb24oKXtpLmZseW91dENhcnRVcmw9bihyLmZseW91dENhcnRTZWxlY3RvcikuYXR0cigiZGF0YS1mbHlvdXRDYXJ0VXJsIik7aS5yZW1vdmVJdGVtRnJvbUNhcnRVcmw9bihyLmZseW91dENhcnRTZWxlY3RvcikuYXR0cigiZGF0YS1yZW1vdmVJdGVtRnJvbUNhcnRVcmwiKTtuKGRvY3VtZW50KS5vbigiY2xpY2sudGhlbWUuZmx5b3V0Q2FydFJlbW92ZUl0ZW0iLHIucmVtb3ZlSXRlbVNlbGVjdG9yLGYpO24oZG9jdW1lbnQpLm9uKCJub3BBamF4Q2FydFByb2R1Y3RBZGRlZFRvQ2FydEV2ZW50IG5vcGNvbW1lcmNlQWpheENhcnRQcm9kdWN0QWRkZWRUb0NhcnRFdmVudCIsdSk7Im9iamVjdCI9PXR5cGVvZiBub3BBamF4Q2FydCYmKHdpbmRvdy5ub3BBamF4Q2FydC5zaG91bGRSZWZyZXNoRmx5b3V0Q2FydD0hMSk7Im9iamVjdCI9PXR5cGVvZiBBamF4Q2FydCYmKGkuYWpheENhcnRTdWNjZXNzUHJvY2Vzc0Z1bmN0aW9uPXdpbmRvdy5BamF4Q2FydC5zdWNjZXNzX3Byb2Nlc3Msd2luZG93LkFqYXhDYXJ0LnN1Y2Nlc3NfcHJvY2Vzcz1mdW5jdGlvbih0KXtpLmFqYXhDYXJ0U3VjY2Vzc1Byb2Nlc3NGdW5jdGlvbih0KTt0LnN1Y2Nlc3MmJm4oZG9jdW1lbnQpLnRyaWdnZXIoIm5vcGNvbW1lcmNlQWpheENhcnRQcm9kdWN0QWRkZWRUb0NhcnRFdmVudCIpfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtuKGRvY3VtZW50KS5vZmYoImNsaWNrLnRoZW1lLmZseW91dENhcnRSZW1vdmVJdGVtIixyLnJlbW92ZUl0ZW1TZWxlY3RvcixmKTtuKGRvY3VtZW50KS5vZmYoIm5vcEFqYXhDYXJ0UHJvZHVjdEFkZGVkVG9DYXJ0RXZlbnQgbm9wY29tbWVyY2VBamF4Q2FydFByb2R1Y3RBZGRlZFRvQ2FydEV2ZW50Iix1KTsib2JqZWN0Ij09dHlwZW9mIG5vcEFqYXhDYXJ0JiYod2luZG93Lm5vcEFqYXhDYXJ0LnNob3VsZFJlZnJlc2hGbHlvdXRDYXJ0PSEwKTsib2JqZWN0Ij09dHlwZW9mIEFqYXhDYXJ0JiYod2luZG93LkFqYXhDYXJ0LnN1Y2Nlc3NfcHJvY2Vzcz1pLmFqYXhDYXJ0U3VjY2Vzc1Byb2Nlc3NGdW5jdGlvbil9fX07aS5nb1RvVG9wPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoKXtuKCJodG1sLCBib2R5IikuYW5pbWF0ZSh7c2Nyb2xsVG9wOjB9LGkuc2Nyb2xsU3BlZWQpfWZ1bmN0aW9uIHUoKXtuKHdpbmRvdykuc2Nyb2xsVG9wKCk+aS5zY3JvbGxCYXJyaWVyP24oaS5zY3JvbGxFbGVtZW50U2VsZWN0b3IpW2kuYW5pbWF0aW9uLmluXShpLmFuaW1hdGlvbi5zcGVlZCk6bihpLnNjcm9sbEVsZW1lbnRTZWxlY3RvcilbaS5hbmltYXRpb24ub3V0XShpLmFuaW1hdGlvbi5zcGVlZCl9dmFyIGk9bi5leHRlbmQoe30se3Njcm9sbEVsZW1lbnRTZWxlY3RvcjoiI2dvVG9Ub3AiLHNjcm9sbEJhcnJpZXI6MTAwLHNjcm9sbFNwZWVkOjQwMCxhbmltYXRpb246e3R5cGU6Im5vbmUiLHNwZWVkOjB9fSx0KTtyZXR1cm4gbi5leHRlbmQoaS5hbmltYXRpb24sZnVuY3Rpb24obil7dmFyIHQ9e307c3dpdGNoKG4udHlwZSl7Y2FzZSJmYWRlIjp0LmluPSJmYWRlSW4iO3Qub3V0PSJmYWRlT3V0IjticmVhaztjYXNlInNsaWRlIjp0LmluPSJzbGlkZURvd24iO3Qub3V0PSJzbGlkZVVwIjticmVhaztkZWZhdWx0OnQuaW49InNob3ciO3Qub3V0PSJoaWRlIjt0LnNwZWVkPTB9cmV0dXJuIHR9KGkuYW5pbWF0aW9uKSkse2luaXQ6ZnVuY3Rpb24oKXtuKGkuc2Nyb2xsRWxlbWVudFNlbGVjdG9yKS5vbigiY2xpY2sudGhlbWUuZ29Ub1RvcCIscik7bih3aW5kb3cpLm9uKCJzY3JvbGwudGhlbWUuZ29Ub1RvcCIsdSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtuKGkuc2Nyb2xsRWxlbWVudFNlbGVjdG9yKS5vZmYoImNsaWNrLnRoZW1lLmdvVG9Ub3AiLHIpO24od2luZG93KS5vZmYoInNjcm9sbC50aGVtZS5nb1RvVG9wIix1KX19fTtpLmhlYWRlcj1mdW5jdGlvbih0KXtmdW5jdGlvbiB1KCl7cigpfWZ1bmN0aW9uIHIodCl7bi5lYWNoKGkubW9kdWxlcyxmdW5jdGlvbihyLHUpe24odS5jb250ZW50KS5oYXNDbGFzcyhpLmFjdGl2ZUNsYXNzKSYmMDxuKHUuY29udGVudCkubm90KHQpLmxlbmd0aCYmKHUuaGFzQ2xvc2VyP24odS5jbG9zZXIpLnRyaWdnZXJIYW5kbGVyKCJjbGljay50aGVtZS5oZWFkZXIubW9kdWxlQ2xvc2Vycy0iK3UuaWQpOnUuaGFzT3BlbmVyJiZuKHUub3BlbmVyKS50cmlnZ2VySGFuZGxlcigiY2xpY2sudGhlbWUuaGVhZGVyLm1vZHVsZU9wZW5lcnMtIit1LmlkKSl9KX12YXIgZj17aW5zZXJ0QWN0aW9uOiJhcHBlbmRUbyIsYW5pbWF0aW9uOnt0eXBlOiJub25lIn19LGk9bi5leHRlbmQoe30se21vZHVsZXM6W10sYWN0aXZlQ2xhc3M6ImFjdGl2ZSJ9LHQpO3JldHVybntpbml0OmZ1bmN0aW9uKCl7bi5lYWNoKGkubW9kdWxlcyxmdW5jdGlvbih0LHUpe3ZhciBvLGUscztvPXQ7ZT11O3M9bi5leHRlbmQoe30sZSk7bi5leHRlbmQoZSxmLHMpO24uZXh0ZW5kKGUuYW5pbWF0aW9uLGZ1bmN0aW9uKG4pe3ZhciB0PXt9O3N3aXRjaChuLnR5cGUpe2Nhc2UiZmFkZSI6dC5pbj0iZmFkZUluIjt0Lm91dD0iZmFkZU91dCI7dC50b2dnbGVQYXJhbWV0ZXI9bi50b2dnbGVQYXJhbWV0ZXJ8fCJzbG93IjticmVhaztjYXNlInNsaWRlIjp0LmluPSJzbGlkZURvd24iO3Qub3V0PSJzbGlkZVVwIjt0LnRvZ2dsZVBhcmFtZXRlcj1uLnRvZ2dsZVBhcmFtZXRlcnx8InNsb3ciO2JyZWFrO2RlZmF1bHQ6dC5pbj0iYWRkQ2xhc3MiO3Qub3V0PSJyZW1vdmVDbGFzcyI7dC50b2dnbGVQYXJhbWV0ZXI9bi50b2dnbGVQYXJhbWV0ZXJ8fCJvcGVuZWQifXJldHVybiB0fShlLmFuaW1hdGlvbikpO2UuaWQ9bztlLmhhc09wZW5lcj1lLmhhc093blByb3BlcnR5KCJvcGVuZXIiKSYmMDxuKGUub3BlbmVyKS5sZW5ndGg7ZS5oYXNDbG9zZXI9ZS5oYXNPd25Qcm9wZXJ0eSgiY2xvc2VyIikmJjA8bihlLmNsb3NlcikubGVuZ3RoO2UuaGFzQ29udGVudD1lLmhhc093blByb3BlcnR5KCJjb250ZW50IikmJjA8bihlLmNvbnRlbnQpLmxlbmd0aDtlLmhhc0VsZW1lbnRUb0F0dGFjaD1lLmhhc093blByb3BlcnR5KCJlbGVtZW50VG9BdHRhY2giKSYmMDxuKGUuZWxlbWVudFRvQXR0YWNoKS5sZW5ndGg7ZS5oYXNQcmV2ZW50Q2xpY2tpbmc9ZS5oYXNPd25Qcm9wZXJ0eSgicHJldmVudENsaWNraW5nIikmJmUucHJldmVudENsaWNraW5nO2UuaGFzT3ZlcmxheT1lLmhhc093blByb3BlcnR5KCJvdmVybGF5IikmJmUub3ZlcmxheTtlLmhhc0luaXRpYWxTdHlsZT1lLmhhc093blByb3BlcnR5KCJpbml0aWFsU3R5bGUiKTtlLmhhc0Rpc2FibGVQYWdlU2Nyb2xsPWUuaGFzT3duUHJvcGVydHkoImRpc2FibGVQYWdlU2Nyb2xsIikmJmUuZGlzYWJsZVBhZ2VTY3JvbGw7ZS5oYXNTY3JvbGxiYXI9ITE7ZS5zY3JvbGxiYXJFbGVtZW50PSExO2UuaGFzT3duUHJvcGVydHkoInNjcm9sbGJhciIpJiYoImJvb2xlYW4iPT10eXBlb2YgZS5zY3JvbGxiYXImJmUuc2Nyb2xsYmFyJiZlLmhhc0NvbnRlbnQ/KGUuaGFzU2Nyb2xsYmFyPSEwLGUuc2Nyb2xsYmFyRWxlbWVudD1lLmNvbnRlbnQpOiJzdHJpbmciPT10eXBlb2YgZS5zY3JvbGxiYXImJjA8bihlLnNjcm9sbGJhcikubGVuZ3RoJiYoZS5oYXNTY3JvbGxiYXI9ITAsZS5zY3JvbGxiYXJFbGVtZW50PWUuc2Nyb2xsYmFyKSk7dS5oYXNPcGVuZXImJnUuaGFzQ29udGVudD8odS5oYXNFbGVtZW50VG9BdHRhY2gmJm4oZG9jdW1lbnQpLnRyaWdnZXIoImRldGFjaEVsZW1lbnQudGhlbWUiLFt1LmNvbnRlbnQsdS5lbGVtZW50VG9BdHRhY2gsdS5pbnNlcnRBY3Rpb25dKSxuKHUub3BlbmVyKS5vbigiY2xpY2sudGhlbWUuaGVhZGVyLm1vZHVsZU9wZW5lcnMtIit1LmlkLGZ1bmN0aW9uKHQpe3UuaGFzUHJldmVudENsaWNraW5nJiZ0LnByZXZlbnREZWZhdWx0KCk7cihuKHUuY29udGVudCkpO24odS5jb250ZW50KS50b2dnbGVDbGFzcyhpLmFjdGl2ZUNsYXNzKSxmdW5jdGlvbih0KXt2YXIgcj1bXSx1PSExLGY9ITE7dC5oYXNPdmVybGF5JiZ0Lmhhc0NvbnRlbnQmJih1PW4odC5jb250ZW50KS5oYXNDbGFzcyhpLmFjdGl2ZUNsYXNzKSx0Lmhhc0Rpc2FibGVQYWdlU2Nyb2xsJiZ0Lmhhc0NvbnRlbnQmJnUmJihmPW4odC5jb250ZW50KS5oYXNDbGFzcyhpLmFjdGl2ZUNsYXNzKSkpO3IucHVzaCh1LGYpOyJub25lIiE9PXQuYW5pbWF0aW9uLnR5cGUmJnIucHVzaCh0LmFuaW1hdGlvbi50b2dnbGVQYXJhbWV0ZXIpO24oZG9jdW1lbnQpLnRyaWdnZXIoInRvZ2dsZU92ZXJsYXkudGhlbWUiLHIpfSh1KTtuKHUuY29udGVudCkuaGFzQ2xhc3MoaS5hY3RpdmVDbGFzcyk/bih1LmNvbnRlbnQpW3UuYW5pbWF0aW9uLmluXSh1LmFuaW1hdGlvbi50b2dnbGVQYXJhbWV0ZXIpOm4odS5jb250ZW50KVt1LmFuaW1hdGlvbi5vdXRdKHUuYW5pbWF0aW9uLnRvZ2dsZVBhcmFtZXRlcil9KSx1Lmhhc0Nsb3NlciYmbih1LmNsb3Nlcikub24oImNsaWNrLnRoZW1lLmhlYWRlci5tb2R1bGVDbG9zZXJzLSIrdS5pZCxmdW5jdGlvbigpe24odS5vcGVuZXIpLnRyaWdnZXJIYW5kbGVyKCJjbGljay50aGVtZS5oZWFkZXIubW9kdWxlT3BlbmVycy0iK3UuaWQpO24odGhpcykudHJpZ2dlcigiaGVhZGVyTW9kdWxlQ2xvc2VkLnRoZW1lIil9KSk6IXUuaGFzT3BlbmVyJiZ1Lmhhc0NvbnRlbnQmJnUuaGFzRWxlbWVudFRvQXR0YWNoJiZuKGRvY3VtZW50KS50cmlnZ2VyKCJkZXRhY2hFbGVtZW50LnRoZW1lIixbdS5jb250ZW50LHUuZWxlbWVudFRvQXR0YWNoLHUuaW5zZXJ0QWN0aW9uXSk7dS5oYXNJbml0aWFsU3R5bGUmJnUuaGFzQ29udGVudCYmKG4odS5jb250ZW50KS5kYXRhKCJoZWFkZXItc3R5bGUtY2FjaGUiLG4odS5jb250ZW50KS5hdHRyKCJzdHlsZSIpKSxuKHUuY29udGVudCkuY3NzKHUuaW5pdGlhbFN0eWxlKSk7dS5oYXNTY3JvbGxiYXImJm4oZG9jdW1lbnQpLnRyaWdnZXIoImluaXRpYWxpemVQZXJmZWN0U2Nyb2xsYmFyLnRoZW1lIixbbih1LnNjcm9sbGJhckVsZW1lbnQpXSl9KTtuKGRvY3VtZW50KS5vbigicmVtb3ZlT3ZlcmxheS50aGVtZSIsdSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtyKCk7bi5lYWNoKGkubW9kdWxlcyxmdW5jdGlvbih0LGkpe2kuaGFzSW5pdGlhbFN0eWxlJiZpLmhhc0NvbnRlbnQmJihuKGkuY29udGVudCkuYXR0cigic3R5bGUiLG4oaS5jb250ZW50KS5kYXRhKCJoZWFkZXItc3R5bGUtY2FjaGUiKXx8IiIpLG4oaS5jb250ZW50KS5yZW1vdmVEYXRhKCJoZWFkZXItc3R5bGUtY2FjaGUiKSk7aS5oYXNPcGVuZXImJmkuaGFzQ29udGVudCYmKG4oaS5vcGVuZXIpLm9mZigiY2xpY2sudGhlbWUuaGVhZGVyLm1vZHVsZU9wZW5lcnMtIitpLmlkKSxpLmhhc0Nsb3NlciYmbihpLmNsb3Nlcikub2ZmKCJjbGljay50aGVtZS5oZWFkZXIubW9kdWxlQ2xvc2Vycy0iK2kuaWQpKX0pO24oZG9jdW1lbnQpLm9mZigicmVtb3ZlT3ZlcmxheS50aGVtZSIsdSl9fX07aS5tZW51PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGYoKXt2YXIgdD1uKHRoaXMpLnNpYmxpbmdzKGkuc3VibGlzdFdyYXBTZWxlY3Rvcik7dC5hZGRDbGFzcyhpLmFjdGl2ZUNsYXNzKTtuKGRvY3VtZW50KS50cmlnZ2VyKCJpbml0aWFsaXplUGVyZmVjdFNjcm9sbGJhci50aGVtZSIsW3RdKX1mdW5jdGlvbiBlKCl7bih0aGlzKS5jbG9zZXN0KGkuc3VibGlzdFdyYXBTZWxlY3RvcikucmVtb3ZlQ2xhc3MoaS5hY3RpdmVDbGFzcyl9ZnVuY3Rpb24gbygpe3ZhciB0PXUoKTtuKHQrIiAiK2kuc3VibGlzdFdyYXBTZWxlY3RvcisiLiIraS5hY3RpdmVDbGFzcykucmVtb3ZlQ2xhc3MoaS5hY3RpdmVDbGFzcyl9ZnVuY3Rpb24gcygpe3ZhciB0PXUoKTtyZXR1cm4gbih0KyIgPiBsaSIpLmdldCgpLnJldmVyc2UoKX1mdW5jdGlvbiB1KCl7dmFyIHQ9aS5zdWJsaXN0SW5kZW50LnVsU2VsZWN0b3JIZWFkZXJNZW51O3JldHVybiAwPG4oaS5zdWJsaXN0SW5kZW50LnVsU2VsZWN0b3JNZWdhTWVudSkubGVuZ3RoJiYodD1pLnN1Ymxpc3RJbmRlbnQudWxTZWxlY3Rvck1lZ2FNZW51KSx0fXZhciByPXtzdWJsaXN0SW5kZW50U2VsZWN0b3JzOltdfSxpPW4uZXh0ZW5kKCEwLHt9LHthY3RpdmVDbGFzczoiYWN0aXZlIixzdWJsaXN0V3JhcFNlbGVjdG9yOiIuc3VibGlzdC13cmFwIixwbHVzQnV0dG9uU2VsZWN0b3I6Ii5wbHVzLWJ1dHRvbiIsYmFja0J1dHRvblNlbGVjdG9yOiIuYmFjay1idXR0b24iLGNsb3NlTWVudVNlbGVjdG9yOiIuY2xvc2UtbWVudSA+IHNwYW4iLHJldmVyc2VUb3BMZXZlbE1lbnVJdGVtc1pJbmRleDohMSxzdWJsaXN0SW5kZW50OntlbmFibGVkOiExLHVsU2VsZWN0b3JNZWdhTWVudToiLm1lZ2EtbWVudS1yZXNwb25zaXZlIix1bFNlbGVjdG9ySGVhZGVyTWVudToiLmhlYWRlci1tZW51ID4gdWwiLHdpdGhTdWJjYXRlZ29yaWVzU2VsZWN0b3I6Ii53aXRoLXN1YmNhdGVnb3JpZXMiLHRvcExldmVsTWVudVdpZHRoOjMyMCxzdWJsaXN0SW5kZW50OjcsaW5pdGlhbFpJbmRleDoxfX0sdCk7cmV0dXJue2luaXQ6ZnVuY3Rpb24oKXt2YXIgdDtuKGkucGx1c0J1dHRvblNlbGVjdG9yKS5vbigiY2xpY2sudGhlbWUubWVudS5wbHVzQnV0dG9uIixmKTtuKGkuYmFja0J1dHRvblNlbGVjdG9yKS5vbigiY2xpY2sudGhlbWUubWVudS5iYWNrQnV0dG9uIixlKTtuKGkuY2xvc2VNZW51U2VsZWN0b3IpLm9uKCJoZWFkZXJNb2R1bGVDbG9zZWQudGhlbWUiLG8pO2kucmV2ZXJzZVRvcExldmVsTWVudUl0ZW1zWkluZGV4JiYodD1zKCksbih0KS5jc3MoInotaW5kZXgiLGZ1bmN0aW9uKG4pe3JldHVybiBuKzF9KSk7aS5zdWJsaXN0SW5kZW50LmVuYWJsZWQmJmZ1bmN0aW9uIHQodSxmLGUsbyl7bih1KS5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5hdHRyKCJzdHlsZSIpJiZuKHRoaXMpLmRhdGEoIm1lbnUtc3R5bGUtY2FjaGUiLG4odGhpcykuYXR0cigic3R5bGUiKSk7bih0aGlzKS5jc3Moe3dpZHRoOmUtaS5zdWJsaXN0SW5kZW50LnN1Ymxpc3RJbmRlbnQsInotaW5kZXgiOm4odGhpcykuY3NzKCJ6LWluZGV4Iikrb30pfSk7ci5zdWJsaXN0SW5kZW50U2VsZWN0b3JzLnB1c2godSk7dmFyIHM9dSsiID4gLnN1Ymxpc3QgPiBsaSA+ICIraS5zdWJsaXN0V3JhcFNlbGVjdG9yOzA8bihzKS5sZW5ndGgmJnQocyxmLGUtaS5zdWJsaXN0SW5kZW50LnN1Ymxpc3RJbmRlbnQsbysxKX0odSgpKyIgPiBsaSA+ICIraS5zdWJsaXN0V3JhcFNlbGVjdG9yLGkuc3VibGlzdEluZGVudC53aXRoU3ViY2F0ZWdvcmllc1NlbGVjdG9yLGkuc3VibGlzdEluZGVudC50b3BMZXZlbE1lbnVXaWR0aCxpLnN1Ymxpc3RJbmRlbnQuaW5pdGlhbFpJbmRleCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdDtuKGkucGx1c0J1dHRvblNlbGVjdG9yKS5vZmYoImNsaWNrLnRoZW1lLm1lbnUucGx1c0J1dHRvbiIsZik7bihpLmJhY2tCdXR0b25TZWxlY3Rvcikub2ZmKCJjbGljay50aGVtZS5tZW51LmJhY2tCdXR0b24iLGUpO24oaS5jbG9zZU1lbnVTZWxlY3Rvcikub2ZmKCJoZWFkZXJNb2R1bGVDbG9zZWQudGhlbWUiLG8pO2kucmV2ZXJzZVRvcExldmVsTWVudUl0ZW1zWkluZGV4JiYodD1zKCksbih0KS5jc3MoInotaW5kZXgiLCIiKSk7aS5zdWJsaXN0SW5kZW50LmVuYWJsZWQmJmZ1bmN0aW9uKCl7Zm9yKDtyLnN1Ymxpc3RJbmRlbnRTZWxlY3RvcnMubGVuZ3RoOyl7dmFyIHQ9ci5zdWJsaXN0SW5kZW50U2VsZWN0b3JzLnBvcCgpO24odCkuZWFjaChmdW5jdGlvbigpe24odGhpcykuZGF0YSgibWVudS1zdHlsZS1jYWNoZSIpPyhuKHRoaXMpLmF0dHIoInN0eWxlIixuKHRoaXMpLmRhdGEoIm1lbnUtc3R5bGUtY2FjaGUiKSksbih0aGlzKS5yZW1vdmVEYXRhKCJtZW51LXN0eWxlLWNhY2hlIikpOm4odGhpcykucmVtb3ZlQXR0cigic3R5bGUiKX0pfX0oKX19fTtpLm92ZXJsYXk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcih0LHIsdSxmKXt2YXIgZT1mfHw0MDA7cj9uKGkub3ZlcmxheUVsZW1lbnRTZWxlY3RvcikuYWRkQ2xhc3MoaS5vdmVybGF5Q2xhc3MpLmZhZGVJbihlKTpuKGkub3ZlcmxheUVsZW1lbnRTZWxlY3RvcikucmVtb3ZlQ2xhc3MoaS5vdmVybGF5Q2xhc3MpLmZhZGVPdXQoZSk7bigiaHRtbCwgYm9keSIpLnRvZ2dsZUNsYXNzKGkubm9QYWdlU2Nyb2xsQ2xhc3MsdSl9ZnVuY3Rpb24gdSgpe24odGhpcykucmVtb3ZlQ2xhc3MoaS5vdmVybGF5Q2xhc3MpLmZhZGVPdXQoKTtuKGRvY3VtZW50KS50cmlnZ2VyKCJyZW1vdmVPdmVybGF5LnRoZW1lIil9dmFyIGk9bi5leHRlbmQoe30se292ZXJsYXlFbGVtZW50U2VsZWN0b3I6Ii5vdmVybGF5T2ZmQ2FudmFzIixvdmVybGF5Q2xhc3M6ImFjdGl2ZSIsbm9QYWdlU2Nyb2xsQ2xhc3M6Im5vWVNjcm9sbCJ9LHQpO3JldHVybntpbml0OmZ1bmN0aW9uKCl7bihkb2N1bWVudCkub24oInRvZ2dsZU92ZXJsYXkudGhlbWUiLHIpO24oaS5vdmVybGF5RWxlbWVudFNlbGVjdG9yKS5vbigiY2xpY2sudGhlbWUub3ZlcmxheSIsdSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtuKGkub3ZlcmxheUVsZW1lbnRTZWxlY3RvcikucmVtb3ZlQ2xhc3MoaS5vdmVybGF5Q2xhc3MpLmZhZGVPdXQoKTtuKCJodG1sLCBib2R5IikucmVtb3ZlQ2xhc3MoaS5ub1BhZ2VTY3JvbGxDbGFzcyk7bihkb2N1bWVudCkub2ZmKCJ0b2dnbGVPdmVybGF5LnRoZW1lIixyKTtuKGkub3ZlcmxheUVsZW1lbnRTZWxlY3Rvcikub2ZmKCJjbGljay50aGVtZS5vdmVybGF5Iix1KX19fTtpLnBlcmZlY3RTY3JvbGxiYXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKG4saSl7aSYmaS5sZW5ndGgmJiFpLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyIikmJihpLnBlcmZlY3RTY3JvbGxiYXIoe3N3aXBlUHJvcGFnYXRpb246ITEsd2hlZWxTcGVlZDoxLHN1cHByZXNzU2Nyb2xsWDohMH0pLHQuc2Nyb2xsYmFyRWxlbWVudHMucHVzaChpKSl9ZnVuY3Rpb24gcihuLHQpe3QmJnQubGVuZ3RoJiZ0LmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyIikmJnQucGVyZmVjdFNjcm9sbGJhcigidXBkYXRlIil9dmFyIHQ9e3Njcm9sbGJhckVsZW1lbnRzOltdfTtyZXR1cm57aW5pdDpmdW5jdGlvbigpe24oZG9jdW1lbnQpLm9uKCJpbml0aWFsaXplUGVyZmVjdFNjcm9sbGJhci50aGVtZSIsaSk7bihkb2N1bWVudCkub24oInVwZGF0ZVBlcmZlY3RTY3JvbGxiYXIudGhlbWUiLHIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7Zm9yKG4oZG9jdW1lbnQpLm9mZigiaW5pdGlhbGl6ZVBlcmZlY3RTY3JvbGxiYXIudGhlbWUiLGkpLG4oZG9jdW1lbnQpLm9mZigidXBkYXRlUGVyZmVjdFNjcm9sbGJhci50aGVtZSIscik7dC5zY3JvbGxiYXJFbGVtZW50cy5sZW5ndGg7KXQuc2Nyb2xsYmFyRWxlbWVudHMucG9wKCkucGVyZmVjdFNjcm9sbGJhcigiZGVzdHJveSIpfX19O2kucHJvZHVjdFBhZ2VUaHVtYnM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gdSgpe3ZhciB1PW4oaS50aHVtYkl0ZW1TZWxlY3RvcikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIW4odGhpcykucGFyZW50KCkuaGFzQ2xhc3MoInNsaWNrLWNsb25lZCIpfSksZj11LmZpbHRlcigiLiIraS50aHVtYkFjdGl2ZUNsYXNzKSx0PWYucHJldihpLnRodW1iSXRlbVNlbGVjdG9yKTtyLmlzSW5DYXJvdXNlbCYmKHQ9Zi5wYXJlbnQoaS50aHVtYkl0ZW1JbkNhcm91c2VsU2VsZWN0b3IpLnByZXYoaS50aHVtYkl0ZW1JbkNhcm91c2VsU2VsZWN0b3IrIjpub3QoLnNsaWNrLWNsb25lZCkiKS5maW5kKGkudGh1bWJJdGVtU2VsZWN0b3IpKTswPT09dC5sZW5ndGgmJih0PXUubGFzdCgpKTswPHQubGVuZ3RoJiYobygpLHUucmVtb3ZlQ2xhc3MoaS50aHVtYkFjdGl2ZUNsYXNzKSx0LmFkZENsYXNzKGkudGh1bWJBY3RpdmVDbGFzcyksdC5jbGljaygpKTtyLmlzSW5DYXJvdXNlbCYmZSgiUHJldiIpfWZ1bmN0aW9uIGYoKXt2YXIgdT1uKGkudGh1bWJJdGVtU2VsZWN0b3IpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiFuKHRoaXMpLnBhcmVudCgpLmhhc0NsYXNzKCJzbGljay1jbG9uZWQiKX0pLGY9dS5maWx0ZXIoIi4iK2kudGh1bWJBY3RpdmVDbGFzcyksdD1mLm5leHQoaS50aHVtYkl0ZW1TZWxlY3Rvcik7ci5pc0luQ2Fyb3VzZWwmJih0PWYucGFyZW50KGkudGh1bWJJdGVtSW5DYXJvdXNlbFNlbGVjdG9yKS5uZXh0KGkudGh1bWJJdGVtSW5DYXJvdXNlbFNlbGVjdG9yKyI6bm90KC5zbGljay1jbG9uZWQpIikuZmluZChpLnRodW1iSXRlbVNlbGVjdG9yKSk7MD09PXQubGVuZ3RoJiYodD11LmZpcnN0KCkpOzA8dC5sZW5ndGgmJihvKCksdS5yZW1vdmVDbGFzcyhpLnRodW1iQWN0aXZlQ2xhc3MpLHQuYWRkQ2xhc3MoaS50aHVtYkFjdGl2ZUNsYXNzKSx0LmNsaWNrKCkpO3IuaXNJbkNhcm91c2VsJiZlKCJOZXh0Iil9ZnVuY3Rpb24gZSh0KXtuKGkudGh1bWJHYWxsZXJ5SW5DYXJvdXNlbFNlbGVjdG9yKS5zbGljaygic2xpY2tTZXRPcHRpb24iLCJ3YWl0Rm9yQW5pbWF0ZSIsITEsITEpO24oaS50aHVtYkdhbGxlcnlJbkNhcm91c2VsU2VsZWN0b3IpLnNsaWNrKCJzbGljayIrdCk7bihpLnRodW1iR2FsbGVyeUluQ2Fyb3VzZWxTZWxlY3Rvcikuc2xpY2soInNsaWNrU2V0T3B0aW9uIiwid2FpdEZvckFuaW1hdGUiLCEwLCExKX1mdW5jdGlvbiBvKCl7dmFyIHQ9bigiI2Nsb3VkWm9vbUltYWdlIikuZGF0YSgiQ2xvdWRab29tIik7dCYmdC5jbG9zZVpvb20oKX12YXIgcj17aXNJbkNhcm91c2VsOiIifSxpPW4uZXh0ZW5kKHt9LHt0aHVtYkdhbGxlcnlTZWxlY3RvcjoiLmdhbGxlcnkiLHRodW1iR2FsbGVyeUluQ2Fyb3VzZWxTZWxlY3RvcjoiLnBpY3R1cmUtdGh1bWJzLWxpc3QiLHRodW1iSXRlbVNlbGVjdG9yOiIuY2xvdWR6b29tLWdhbGxlcnkiLHRodW1iSXRlbUluQ2Fyb3VzZWxTZWxlY3RvcjoiLnBpY3R1cmUtdGh1bWJzLWl0ZW0iLHRodW1iQWN0aXZlQ2xhc3M6ImFjdGl2ZSIscHJldkFycm93U2VsZWN0b3I6Ii5waWN0dXJlLXRodW1icy1wcmV2LWFycm93IixuZXh0QXJyb3dTZWxlY3RvcjoiLnBpY3R1cmUtdGh1bWJzLW5leHQtYXJyb3cifSx0KTtyZXR1cm57aW5pdDpmdW5jdGlvbigpe3IuaXNJbkNhcm91c2VsPW4oaS50aHVtYkdhbGxlcnlJbkNhcm91c2VsU2VsZWN0b3IpLmxlbmd0aDtuKGkudGh1bWJHYWxsZXJ5U2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmZpbmQoaS50aHVtYkl0ZW1TZWxlY3RvcikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIW4odGhpcykucGFyZW50KCkuaGFzQ2xhc3MoInNsaWNrLWNsb25lZCIpfSkuZmlyc3QoKS5hZGRDbGFzcyhpLnRodW1iQWN0aXZlQ2xhc3MpfSk7bihpLnRodW1iR2FsbGVyeVNlbGVjdG9yKyIgIitpLnByZXZBcnJvd1NlbGVjdG9yKS5vbigiY2xpY2sudGh1bWJzLnRoZW1lIix1KTtuKGkudGh1bWJHYWxsZXJ5U2VsZWN0b3IrIiAiK2kubmV4dEFycm93U2VsZWN0b3IpLm9uKCJjbGljay50aHVtYnMudGhlbWUiLGYpfSxkZXN0cm95OmZ1bmN0aW9uKCl7bihpLnRodW1iR2FsbGVyeVNlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5maW5kKGkudGh1bWJJdGVtU2VsZWN0b3IpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiFuKHRoaXMpLnBhcmVudCgpLmhhc0NsYXNzKCJzbGljay1jbG9uZWQiKX0pLnJlbW92ZUNsYXNzKGkudGh1bWJBY3RpdmVDbGFzcyl9KTtuKGkudGh1bWJHYWxsZXJ5U2VsZWN0b3IrIiAiK2kucHJldkFycm93U2VsZWN0b3IpLm9mZigiY2xpY2sudGh1bWJzLnRoZW1lIix1KTtuKGkudGh1bWJHYWxsZXJ5U2VsZWN0b3IrIiAiK2kubmV4dEFycm93U2VsZWN0b3IpLm9mZigiY2xpY2sudGh1bWJzLnRoZW1lIixmKX19fTtpLnByb2R1Y3RRdWFudGl0eT1mdW5jdGlvbih0KXtmdW5jdGlvbiByKHQpe3QucHJldmVudERlZmF1bHQoKTt0LnN0b3BQcm9wYWdhdGlvbigpO3ZhciByPW4odC5jdXJyZW50VGFyZ2V0KS5zaWJsaW5ncyhpLnF1YW50aXR5SW5wdXRTZWxlY3RvciksdT1wYXJzZUludChyLnZhbCgpKTtpZihpc05hTih1KSlyZXR1cm4gci52YWwoMSksci50cmlnZ2VyKCJpbnB1dCIpLHZvaWQgci50cmlnZ2VyKCJjaGFuZ2UiKTt1Kys7ci52YWwodSk7ci50cmlnZ2VyKCJpbnB1dCIpO3IudHJpZ2dlcigiY2hhbmdlIil9ZnVuY3Rpb24gdSh0KXt0LnByZXZlbnREZWZhdWx0KCk7dC5zdG9wUHJvcGFnYXRpb24oKTt2YXIgcj1uKHQuY3VycmVudFRhcmdldCkuc2libGluZ3MoaS5xdWFudGl0eUlucHV0U2VsZWN0b3IpLHU9cGFyc2VJbnQoci52YWwoKSk7aWYoaXNOYU4odSkpcmV0dXJuIHIudmFsKDEpLHIudHJpZ2dlcigiaW5wdXQiKSx2b2lkIHIudHJpZ2dlcigiY2hhbmdlIik7dTw9MXx8KHUtLSxyLnZhbCh1KSxyLnRyaWdnZXIoImlucHV0Iiksci50cmlnZ2VyKCJjaGFuZ2UiKSl9dmFyIGk9bi5leHRlbmQoe30se3F1YW50aXR5SW5wdXRTZWxlY3RvcjoiLnF0eS1pbnB1dCIsaW5jcmVtZW50U2VsZWN0b3JzOiIuaW5jcmVhc2UiLGRlY3JlbWVudFNlbGVjdG9yczoiLmRlY3JlYXNlIn0sdCk7cmV0dXJue2luaXQ6ZnVuY3Rpb24oKXtuKGRvY3VtZW50KS5vbigiY2xpY2sudGhlbWUuaW5jcmVtZW50UXVhbnRpdHlWYWx1ZSIsaS5pbmNyZW1lbnRTZWxlY3RvcnMscik7bihkb2N1bWVudCkub24oImNsaWNrLnRoZW1lLmRlY3JlbWVudFF1YW50aXR5VmFsdWUiLGkuZGVjcmVtZW50U2VsZWN0b3JzLHUpfSxkZXN0cm95OmZ1bmN0aW9uKCl7bihkb2N1bWVudCkub2ZmKCJjbGljay50aGVtZS5pbmNyZW1lbnRRdWFudGl0eVZhbHVlIixpLmluY3JlbWVudFNlbGVjdG9ycyxyKTtuKGRvY3VtZW50KS5vZmYoImNsaWNrLnRoZW1lLmRlY3JlbWVudFF1YW50aXR5VmFsdWUiLGkuZGVjcmVtZW50U2VsZWN0b3JzLHUpfX19O2kuc3RpY2t5TmF2aWdhdGlvbj1mdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7dmFyIHQ9bihpLnN0aWNreUVsZW1lbnQpLHI9bihpLnN0aWNreUVsZW1lbnRQYXJlbnQpLHU9bih3aW5kb3cpLnNjcm9sbFRvcCgpOzA8dSYmdT49ci5vZmZzZXQoKS50b3A/KHQuYWRkQ2xhc3MoInN0aWNrIiksci5jc3MoImhlaWdodCIsdC5oZWlnaHQoKSsicHgiKSxuKGRvY3VtZW50KS50cmlnZ2VyKCJuYXZpZ2F0aW9uSGFzU3RpY2tlZCIsWyEwXSkpOih0LnJlbW92ZUNsYXNzKCJzdGljayIpLHIuY3NzKCJoZWlnaHQiLCIiKSxuKGRvY3VtZW50KS50cmlnZ2VyKCJuYXZpZ2F0aW9uSGFzU3RpY2tlZCIsWyExXSkpfWZ1bmN0aW9uIHUoKXt2YXIgdSx0LGY7cigpO2kuc2hvd1N0aWNreU9uRmlyc3RSZXZlcnNlU2Nyb2xsJiYodD1uKGkuc3RpY2t5RWxlbWVudCksZj1uKGkuc3RpY2t5RWxlbWVudFBhcmVudCksMD09PXQubGVuZ3RofHwwPT09Zi5sZW5ndGh8fCh1PW4od2luZG93KS5zY3JvbGxUb3AoKSk8PW4oZikub2Zmc2V0KCkudG9wP3QucmVtb3ZlQ2xhc3MoIm5hdi11cCIpOih1PmkubGFzdFNjcm9sbFRvcD90LmFkZENsYXNzKCJuYXYtdXAiKTp0LnJlbW92ZUNsYXNzKCJuYXYtdXAiKSxpLmxhc3RTY3JvbGxUb3A9dSkpfXZhciBpPW4uZXh0ZW5kKHt9LHtzdGlja3lFbGVtZW50OiIuZGVza3RvcC1uYXYtd3JhcHBlciIsc3RpY2t5RWxlbWVudFBhcmVudDoiLm1hc3Rlci1oZWFkZXItd3JhcHBlciIsc2hvd1N0aWNreU9uRmlyc3RSZXZlcnNlU2Nyb2xsOiExLGxhc3RTY3JvbGxUb3A6MH0sdCk7cmV0dXJue2luaXQ6ZnVuY3Rpb24oKXtyKCk7bih3aW5kb3cpLm9uKCJzY3JvbGwudGhlbWUuc3RpY2t5TmF2Iix1KX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PW4oaS5zdGlja3lFbGVtZW50KSxyPW4oaS5zdGlja3lFbGVtZW50UGFyZW50KTt0LnJlbW92ZUNsYXNzKCJzdGljayBuYXYtdXAiKTtyLmNzcygiaGVpZ2h0IiwiIik7bih3aW5kb3cpLm9mZigic2Nyb2xsLnRoZW1lLnN0aWNreU5hdiIsdSl9fX07aS50b2dnbGU9ZnVuY3Rpb24odCl7dmFyIHI9e3RyYXZlcnNpbmdGdW5jdGlvbjoic2libGluZ3MiLGFjdGl2ZUNsYXNzT3BlbmVyOiJvcGVuIixhY3RpdmVDbGFzc0NvbnRlbnQ6ImFjdGl2ZSIsYmVmb3JlVG9nZ2xlOm51bGwsYWZ0ZXJUb2dnbGU6bnVsbCxhbmltYXRpb246e3R5cGU6Im5vbmUiLHNwZWVkOjB9fSxpPW4uZXh0ZW5kKHt9LHtibG9ja3M6W119LHQpO3JldHVybntpbml0OmZ1bmN0aW9uKCl7bi5lYWNoKGkuYmxvY2tzLGZ1bmN0aW9uKHQsaSl7dmFyIHU9bi5leHRlbmQoe30saSk7bi5leHRlbmQoaSxyLHUpO24uZXh0ZW5kKGkuYW5pbWF0aW9uLGZ1bmN0aW9uKG4pe3ZhciB0PXt9O3N3aXRjaChuLnR5cGUpe2Nhc2UiZmFkZSI6dC50b2dnbGVGdW5jdGlvbj0iZmFkZVRvZ2dsZSI7YnJlYWs7Y2FzZSJzbGlkZSI6dC50b2dnbGVGdW5jdGlvbj0ic2xpZGVUb2dnbGUiO2JyZWFrO2Nhc2UidG9nZ2xlIjp0LnRvZ2dsZUZ1bmN0aW9uPSJ0b2dnbGUiO3Quc3BlZWQ9MDticmVhaztkZWZhdWx0OnQudG9nZ2xlRnVuY3Rpb249InRvZ2dsZUNsYXNzIn1yZXR1cm4gdH0oaS5hbmltYXRpb24pKTtuKGkuY29udGVudCkuYXR0cigic3R5bGUiKSYmbihpLmNvbnRlbnQpLmRhdGEoInRvZ2dsZS1zdHlsZS1jYWNoZSIsbihpLmNvbnRlbnQpLmF0dHIoInN0eWxlIikpO24oZG9jdW1lbnQpLm9uKCJjbGljay50aGVtZS50b2dnbGUudG9nZ2xlT3BlbmVycy0iK3QsaS5vcGVuZXIsZnVuY3Rpb24oKXtpLmJlZm9yZVRvZ2dsZSYmaS5iZWZvcmVUb2dnbGUobih0aGlzKSxpKTtuKHRoaXMpLnRvZ2dsZUNsYXNzKGkuYWN0aXZlQ2xhc3NPcGVuZXIpOyJub25lIiE9PWkuYW5pbWF0aW9uLnR5cGU/bih0aGlzKVtpLnRyYXZlcnNpbmdGdW5jdGlvbl0oaS5jb250ZW50KVtpLmFuaW1hdGlvbi50b2dnbGVGdW5jdGlvbl0oaS5hbmltYXRpb24uc3BlZWQpLnRvZ2dsZUNsYXNzKGkuYWN0aXZlQ2xhc3NDb250ZW50KTpuKHRoaXMpW2kudHJhdmVyc2luZ0Z1bmN0aW9uXShpLmNvbnRlbnQpW2kuYW5pbWF0aW9uLnRvZ2dsZUZ1bmN0aW9uXShpLmFjdGl2ZUNsYXNzQ29udGVudCk7aS5hZnRlclRvZ2dsZSYmaS5hZnRlclRvZ2dsZShuKHRoaXMpLGkpfSl9KX0sZGVzdHJveTpmdW5jdGlvbigpe24uZWFjaChpLmJsb2NrcyxmdW5jdGlvbih0LGkpe24oaS5jb250ZW50KS5kYXRhKCJ0b2dnbGUtc3R5bGUtY2FjaGUiKT8obihpLmNvbnRlbnQpLmF0dHIoInN0eWxlIixuKGkuY29udGVudCkuZGF0YSgidG9nZ2xlLXN0eWxlLWNhY2hlIikpLG4oaS5jb250ZW50KS5yZW1vdmVEYXRhKCJ0b2dnbGUtc3R5bGUtY2FjaGUiKSk6bihpLmNvbnRlbnQpLnJlbW92ZUF0dHIoInN0eWxlIik7bihpLm9wZW5lcikuaGFzQ2xhc3MoaS5hY3RpdmVDbGFzc09wZW5lcikmJm4oaS5vcGVuZXIpLnJlbW92ZUNsYXNzKGkuYWN0aXZlQ2xhc3NPcGVuZXIpO24oaS5jb250ZW50KS5oYXNDbGFzcyhpLmFjdGl2ZUNsYXNzQ29udGVudCkmJm4oaS5jb250ZW50KS5yZW1vdmVDbGFzcyhpLmFjdGl2ZUNsYXNzQ29udGVudCk7bihkb2N1bWVudCkub2ZmKCJjbGljay50aGVtZS50b2dnbGUudG9nZ2xlT3BlbmVycy0iK3QsaS5vcGVuZXIpfSl9fX19KGpRdWVyeSxzZXZlblNwaWtlc0NvcmUsd2luZG93LnNldmVuU3Bpa2VzVGhlbWVNb2R1bGVzPXdpbmRvdy5zZXZlblNwaWtlc1RoZW1lTW9kdWxlc3x8e30pLGZ1bmN0aW9uKG4sdCl7InVzZSBzdHJpY3QiO3ZhciBpPWZ1bmN0aW9uKHQsaSxyKXt2YXIgdT10aGlzO3UubW9iaWxlRmlyc3Q9cnx8ITE7dS5hY3RpdmVNb2R1bGVzPVtdO3UuYWN0aXZlQnJlYWtwb2ludD1udWxsO3UuYnJlYWtwb2ludHM9W107dS5icmVha3BvaW50U2V0dGluZ3M9W107dS53aW5kb3dEZWxheT1udWxsO3Uud2luZG93V2lkdGg9MDt1LnNldHRpbmdzPW4uZXh0ZW5kKHt9LHUuc2V0dGluZ3MsdCk7dS5vcmlnaW5hbFNldHRpbmdzPW4uZXh0ZW5kKHt9LHUuc2V0dGluZ3MpO3UuZGVwZW5kZW5jaWVzPW4uZXh0ZW5kKHt9LHUuZGVwZW5kZW5jaWVzLGkpfTtpLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5yZWdpc3RlckJyZWFrcG9pbnRzKCk7dGhpcy5pbml0aWFsaXplRXZlbnRzKCk7dGhpcy5pbml0aWFsaXplTW9kdWxlcygpO3RoaXMuY2hlY2tSZXNwb25zaXZlKCEwKX07aS5wcm90b3R5cGUucmVnaXN0ZXJCcmVha3BvaW50cz1mdW5jdGlvbigpe3ZhciB1LGYsaSx0PXRoaXMscj10LnNldHRpbmdzLnJlc3BvbnNpdmV8fFtdO2lmKCJhcnJheSI9PT1uLnR5cGUocikmJnIubGVuZ3RoKXtmb3IodSBpbiByKWlmKHIuaGFzT3duUHJvcGVydHkodSkpe2ZvcihpPXQuYnJlYWtwb2ludHMubGVuZ3RoLTEsZj1yW3VdLmJyZWFrcG9pbnQ7MDw9aTspdC5icmVha3BvaW50c1tpXSYmdC5icmVha3BvaW50c1tpXT09PWYmJnQuYnJlYWtwb2ludHMuc3BsaWNlKGksMSksaS0tO3QuYnJlYWtwb2ludHMucHVzaChmKTt0LmJyZWFrcG9pbnRTZXR0aW5nc1tmXT1yW3VdLnNldHRpbmdzfXQuYnJlYWtwb2ludHMuc29ydChmdW5jdGlvbihuLHQpe3JldHVybiB0LW59KX19O2kucHJvdG90eXBlLmluaXRpYWxpemVFdmVudHM9ZnVuY3Rpb24oKXtuKHdpbmRvdykub24oIm9yaWVudGF0aW9uY2hhbmdlLnRoZW1lIixuLnByb3h5KHRoaXMub3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyLHRoaXMpKTtuKHdpbmRvdykub24oInJlc2l6ZS50aGVtZSIsbi5wcm94eSh0aGlzLnJlc2l6ZUhhbmRsZXIsdGhpcykpfTtpLnByb3RvdHlwZS5jaGVja1Jlc3BvbnNpdmU9ZnVuY3Rpb24odCxpKXt2YXIgZix1LHI9dGhpcyxlPSExLG89d2luZG93LmlubmVyV2lkdGh8fG4od2luZG93KS53aWR0aCgpO2lmKHIuc2V0dGluZ3MucmVzcG9uc2l2ZSYmci5zZXR0aW5ncy5yZXNwb25zaXZlLmxlbmd0aCYmbnVsbCE9PXIuc2V0dGluZ3MucmVzcG9uc2l2ZSl7Zm9yKGYgaW4gdT1udWxsLHIuYnJlYWtwb2ludHMpci5icmVha3BvaW50cy5oYXNPd25Qcm9wZXJ0eShmKSYmKCExPT09ci5tb2JpbGVGaXJzdD9vPHIuYnJlYWtwb2ludHNbZl0mJih1PXIuYnJlYWtwb2ludHNbZl0pOm8+ci5icmVha3BvaW50c1tmXSYmKHU9ci5icmVha3BvaW50c1tmXSkpO251bGwhPT11P251bGwhPT1yLmFjdGl2ZUJyZWFrcG9pbnQmJnU9PT1yLmFjdGl2ZUJyZWFrcG9pbnQmJiFpfHwoci5hY3RpdmVCcmVha3BvaW50PXUsci5zZXR0aW5ncz1uLmV4dGVuZCh7fSxyLm9yaWdpbmFsU2V0dGluZ3Msci5icmVha3BvaW50U2V0dGluZ3NbdV0pLHIucmVmcmVzaCh0KSxlPXUpOm51bGwhPT1yLmFjdGl2ZUJyZWFrcG9pbnQmJihyLmFjdGl2ZUJyZWFrcG9pbnQ9bnVsbCxyLnNldHRpbmdzPW4uZXh0ZW5kKHt9LHIub3JpZ2luYWxTZXR0aW5ncyksci5yZWZyZXNoKHQpLGU9bnVsbCk7dHx8ITE9PT1lfHxuKGRvY3VtZW50KS50cmlnZ2VyKCJ0aGVtZUJyZWFrcG9pbnQiLFtyLnNldHRpbmdzLGVdKX19O2kucHJvdG90eXBlLmRlc3Ryb3lNb2R1bGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LG49MDtuPHRoaXMuYWN0aXZlTW9kdWxlcy5sZW5ndGg7bisrKXQ9dGhpcy5hY3RpdmVNb2R1bGVzW25dLmluc3RhbmNlLCJmdW5jdGlvbiI9PXR5cGVvZiB0LmRlc3Ryb3kmJnQuZGVzdHJveSgpO3RoaXMuYWN0aXZlTW9kdWxlcz1bXX07aS5wcm90b3R5cGUuaW5pdGlhbGl6ZU1vZHVsZXM9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQsZSxyO2Zvcih0IGluIG4uZGVwZW5kZW5jaWVzKWlmKG4uZGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KHQpKXtmb3IodmFyIHU9bi5kZXBlbmRlbmNpZXNbdF0sbz11Lm1vZHVsZSxmPXUuZGVwZW5kZW5jaWVzLGk9MDtpPGYubGVuZ3RoO2krKyllPWZbaV0sbi5pbml0aWFsaXplTW9kdWxlKGUpO24uaW5pdGlhbGl6ZU1vZHVsZShvKX1mb3IociBpbiBuLnNldHRpbmdzKW4uc2V0dGluZ3MuaGFzT3duUHJvcGVydHkocikmJm4uaW5pdGlhbGl6ZU1vZHVsZShyKX07aS5wcm90b3R5cGUuaW5pdGlhbGl6ZU1vZHVsZT1mdW5jdGlvbihuKXt2YXIgdSxyLGk9dGhpcztpLmlzTW9kdWxlQWxyZWFkeUluaXRpYWxpemVkKG4pfHwic3RyaW5nIj09dHlwZW9mIGkuc2V0dGluZ3Nbbl0mJiJkaXNhYmxlZCI9PT1pLnNldHRpbmdzW25dfHwiZnVuY3Rpb24iIT10eXBlb2YodT10W25dKXx8ImZ1bmN0aW9uIj09dHlwZW9mKHI9dShpLnNldHRpbmdzW25dKSkuaW5pdCYmKHIuaW5pdCgpLGkuYWN0aXZlTW9kdWxlcy5wdXNoKHtuYW1lOm4saW5zdGFuY2U6cn0pKX07aS5wcm90b3R5cGUuaXNNb2R1bGVBbHJlYWR5SW5pdGlhbGl6ZWQ9ZnVuY3Rpb24obil7Zm9yKHZhciB0PTA7dDx0aGlzLmFjdGl2ZU1vZHVsZXMubGVuZ3RoO3QrKylpZih0aGlzLmFjdGl2ZU1vZHVsZXNbdF0ubmFtZT09PW4pcmV0dXJuITA7cmV0dXJuITF9O2kucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3lNb2R1bGVzKCk7dGhpcy5pbml0aWFsaXplTW9kdWxlcygpfTtpLnByb3RvdHlwZS5vcmllbnRhdGlvbkNoYW5nZUhhbmRsZXI9ZnVuY3Rpb24oKXt0aGlzLmNoZWNrUmVzcG9uc2l2ZSgpfTtpLnByb3RvdHlwZS5yZXNpemVIYW5kbGVyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztuKHdpbmRvdykud2lkdGgoKSE9PXQud2luZG93V2lkdGgmJihjbGVhclRpbWVvdXQodC53aW5kb3dEZWxheSksdC53aW5kb3dEZWxheT13aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3Qud2luZG93V2lkdGg9bih3aW5kb3cpLndpZHRoKCk7dC5jaGVja1Jlc3BvbnNpdmUoKX0sNTApKX07d2luZG93LnNldmVuU3Bpa2VzVGhlbWU9aX0oalF1ZXJ5LHNldmVuU3Bpa2VzVGhlbWVNb2R1bGVzKSxmdW5jdGlvbihuLHQpe24oZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe2lmKG4oIi5wcm9kdWN0LXZhcmlhbnQtbGluZSIpLmxlbmd0aCl7bigiLmdyb3VwZWQtYnRuID4gc3BhbiIpLnRleHQobigiLnByb2R1Y3QtdmFyaWFudC1saW5lIikubGVuZ3RoKTtuKCIuZ3JvdXBlZC1idG4iKS5vbigiY2xpY2siLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTtuKCJodG1sLCBib2R5IikuYW5pbWF0ZSh7c2Nyb2xsVG9wOm4oIiNwcm9kdWN0LWxpc3Qtc3RhcnQiKS5vZmZzZXQoKS50b3B9LDFlMyl9KX19ZnVuY3Rpb24gdigpe2lmKG4oIi5oZWFkZXItbWVudS5jYXRlZ29yaWVzLWluLXNpZGUtcGFuZWwiKS5sZW5ndGghPT0wKXt2YXIgdD1uKCIuY2F0ZWdvcnktbmF2aWdhdGlvbi1saXN0LXdyYXBwZXIgPiAuY2F0ZWdvcnktbmF2aWdhdGlvbi1saXN0IiksaT1uKCIudG9wLW1lbnUgbGkucm9vdC1jYXRlZ29yeS1pdGVtcywgLm1lZ2EtbWVudSA+IGxpLnJvb3QtY2F0ZWdvcnktaXRlbXMsIC5tZWdhLW1lbnUgPiBsaS5jYXRlZ29yeS1tZW51LWl0ZW0gPiAuc3VibGlzdC13cmFwID4gLnN1Ymxpc3QgPiBsaS5yb290LWNhdGVnb3J5LWl0ZW1zIikscj1pLmNsb25lKCk7ci5yZW1vdmVDbGFzcygicm9vdC1jYXRlZ29yeS1pdGVtcyIpLmFwcGVuZFRvKHQpfX1mdW5jdGlvbiBvKCl7ZnVuY3Rpb24gdCgpe24oIi5jYXRlZ29yeS1uYXZpZ2F0aW9uLWxpc3QgLnN1Ymxpc3QsIC5jYXRlZ29yeS1uYXZpZ2F0aW9uLWxpc3QgLmRyb3Bkb3duIC5yb3ctd3JhcHBlciIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLGk9dC5wYXJlbnRzKCJ1bCIpLmRhdGEoIm1pbkhlaWdodCIpLHI7aT09dW5kZWZpbmVkJiYoaT10LnBhcmVudHMoInVsIikub3V0ZXJIZWlnaHQoKSk7cj10Lm91dGVySGVpZ2h0KCk7cjxpJiYocj1pKTt0LmRhdGEoIm1pbkhlaWdodCIscil9KTtuKCIuY2F0ZWdvcnktbmF2aWdhdGlvbi1saXN0IC5zdWJsaXN0LCAuY2F0ZWdvcnktbmF2aWdhdGlvbi1saXN0IC5kcm9wZG93biAucm93LXdyYXBwZXIiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKSxpPXQuZGF0YSgibWluSGVpZ2h0Iik7aSYmdC5jc3MoIm1pbi1oZWlnaHQiLGkpfSl9bih3aW5kb3cpLndpZHRoKCk+MTAyNCYmdCgpfWZ1bmN0aW9uIHMoKXt2YXIgdD1uKCIuYmxvY2stYWNjb3VudC1uYXZpZ2F0aW9uIikub3V0ZXJIZWlnaHQoKTtuKCIuYWNjb3VudC1wYWdlIikuY3NzKCJtaW4taGVpZ2h0Iix0KX1mdW5jdGlvbiB5KCl7bigiLm9yZGVyLXN1bW1hcnktY29udGVudCAuY2xlYXItY2FydC1idXR0b24iKS5vbigiY2xpY2siLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTtuKCcuY2FydCBbbmFtZT0icmVtb3ZlZnJvbWNhcnQiXScpLmF0dHIoImNoZWNrZWQiLCJjaGVja2VkIik7bigiLm9yZGVyLXN1bW1hcnktY29udGVudCAudXBkYXRlLWNhcnQtYnV0dG9uIikuY2xpY2soKX0pfWZ1bmN0aW9uIHAoKXtuKGRvY3VtZW50KS5vbigicmVtb3ZlSXRlbUZseW91dENhcnQiLGZ1bmN0aW9uKCl7dmFyIHQ9bih3aW5kb3cpLndpZHRoKCk7bigiLnNob3BwaW5nLWNhcnQtbGluayAuaWNvLWNhcnQiKS5sZW5ndGgmJnQ8MTAyNSYmKG4oIi5zaG9wcGluZy1jYXJ0LWxpbmsgLmljby1jYXJ0IikucmVtb3ZlKCksbihkb2N1bWVudCkudHJpZ2dlcigiZGV0YWNoRWxlbWVudC50aGVtZSIsWyIjdG9wY2FydGxpbmsgLmljby1jYXJ0IiwiLnJlc3BvbnNpdmUtbmF2LXdyYXBwZXIgLnNob3BwaW5nLWNhcnQtbGluayJdKSl9KX1mdW5jdGlvbiB3KCl7bigiLmFjdGl2ZS1zdGVwOmxhc3QiKS5hZGRDbGFzcygibGFzdCIpfWZ1bmN0aW9uIGYodCxpLHIpe24odCkubGVuZ3RoPjAmJihuKGkpLnNsaWRlRG93bigic2xvdyIsZnVuY3Rpb24oKXtuKCJodG1sLCBib2R5IikuYW5pbWF0ZSh7c2Nyb2xsVG9wOm4ocikub2Zmc2V0KCkudG9wfSwzMDApfSksbihyKS5hZGRDbGFzcygib3BlbiIpKX1mdW5jdGlvbiBiKCl7dmFyIHQ9bigiLmhlYWRlci1saW5rcyAuaWNvLWFjY291bnQiKS5hdHRyKCJkYXRhLWxvZ2luVXJsIik7bi5hamF4KHt1cmw6dCx0eXBlOiJHRVQiLGRhdGE6e2lzSGVhZGVyUGFuZWw6ITB9fSkuZG9uZShmdW5jdGlvbih0KXt2YXIgcj1uKHQpLGk9ci5maW5kKCIucmV0dXJuaW5nLXdyYXBwZXIiKTtpLmxlbmd0aD4wJiZuKCIucHJvZmlsZS1tZW51LWJveCAuaGVhZGVyLWZvcm0taG9sZGVyIikuaHRtbChpKX0pLmZhaWwoZnVuY3Rpb24oKXt3aW5kb3cubG9jYXRpb24uaHJlZj10fSl9ZnVuY3Rpb24gaygpe3ZhciByPW4oIi50d28tcm93LWNhcm91c2Vscy5zbWFsbC1wcm9kdWN0cyAucHJvZHVjdC1ncmlkLmhvbWUtcGFnZS1wcm9kdWN0LWdyaWQgLml0ZW0tZ3JpZCIpLHUsaTtpZihyLmxlbmd0aCE9PTApe3U9ITE7aT1mdW5jdGlvbigpe3QuaXNJblZpZXdQb3J0KHIpJiYhdSYmKGgociksbih3aW5kb3cpLm9mZigic2Nyb2xsLlNldmVuU3Bpa2VzRW1wb3JpdW1GZWF0dXJlZFByb2R1Y3RzIiksbih3aW5kb3cpLm9mZigicmVzaXplLlNldmVuU3Bpa2VzRW1wb3JpdW1GZWF0dXJlZFByb2R1Y3RzIiksdT0hMCl9O2koKTtuKHdpbmRvdykub24oInNjcm9sbC5TZXZlblNwaWtlc0VtcG9yaXVtRmVhdHVyZWRQcm9kdWN0cyIsaSk7bih3aW5kb3cpLm9uKCJyZXNpemUuU2V2ZW5TcGlrZXNFbXBvcml1bUZlYXR1cmVkUHJvZHVjdHMiLGkpfX1mdW5jdGlvbiBkKCl7dmFyIHI9bigiLnR3by1yb3ctY2Fyb3VzZWxzLnNtYWxsLXByb2R1Y3RzIC5wcm9kdWN0LWdyaWQuYmVzdHNlbGxlcnMgLml0ZW0tZ3JpZCIpLHUsaTtpZihyLmxlbmd0aCE9PTApe3U9ITE7aT1mdW5jdGlvbigpe3QuaXNJblZpZXdQb3J0KHIpJiYhdSYmKGgociksbih3aW5kb3cpLm9mZigic2Nyb2xsLlNldmVuU3Bpa2VzRW1wb3JpdW1CZXN0U2VsbGVycyIpLG4od2luZG93KS5vZmYoInJlc2l6ZS5TZXZlblNwaWtlc0VtcG9yaXVtQmVzdFNlbGxlcnMiKSx1PSEwKX07aSgpO24od2luZG93KS5vbigic2Nyb2xsLlNldmVuU3Bpa2VzRW1wb3JpdW1CZXN0U2VsbGVycyIsaSk7bih3aW5kb3cpLm9uKCJyZXNpemUuU2V2ZW5TcGlrZXNFbXBvcml1bUJlc3RTZWxsZXJzIixpKX19ZnVuY3Rpb24gaCh0KXt0Lm9uKCJpbml0IixmdW5jdGlvbigpe24uZXZlbnQudHJpZ2dlcih7dHlwZToibmV3UHJvZHVjdHNBZGRlZFRvUGFnZUV2ZW50In0pfSk7dmFyIGk9bigiaHRtbCIpLmF0dHIoImRpciIpPT0icnRsIjt0LnNsaWNrKHtydGw6aSxpbmZpbml0ZTohMCxyb3dzOjIsc2xpZGVzVG9TaG93OjQsc2xpZGVzVG9TY3JvbGw6MSxhcnJvd3M6ITAscmVzcG9uZFRvOiJzbGlkZXIiLGVhc2luZzoic3dpbmciLGRyYWdnYWJsZTohMSxwYXVzZU9uSG92ZXI6ITAscmVzcG9uc2l2ZTpnKCl9KX1mdW5jdGlvbiBnKCl7dmFyIHQ9e307aWYobigiI2hvbWUtcGFnZS1jYXJvdXNlbC1icmVha3BvaW50cyIpLmxlbmd0aD09MHx8IW4oIiNob21lLXBhZ2UtY2Fyb3VzZWwtYnJlYWtwb2ludHMiKS52YWwoKSlyZXR1cm4gdDt0cnl7dD1KU09OLnBhcnNlKG4oIiNob21lLXBhZ2UtY2Fyb3VzZWwtYnJlYWtwb2ludHMiKS52YWwoKSl9Y2F0Y2goaSl7Y29uc29sZS5sb2coIkludmFsaWQgaG9tZSBwYWdlIHNsaWRlciByZXNwb25zaXZlIGJyZWFrcG9pbnRzIHNldHRpbmcgdmFsdWUhIChFbXBvcml1bVRoZW1lU2V0dGluZ3MuUmVzcG9uc2l2ZUJyZWFrcG9pbnRzRm9ySG9tZVBhZ2VQcm9kdWN0cykiKX1yZXR1cm4gdH1mdW5jdGlvbiByKHQsaSl7aWYodHlwZW9mIGk9PSJzdHJpbmciP2k9bihpKS5vdXRlckhlaWdodCgpOnR5cGVvZiBpPT0idW5kZWZpbmVkIiYmKGk9MCksbih3aW5kb3cpLndpZHRoKCk8PTEwMjQpe3ZhciByPW4oIi5oZWFkZXItc3RvcmV0aGVtZSIpLmxlbmd0aD9uKCIuaGVhZGVyLXN0b3JldGhlbWUiKS5vdXRlckhlaWdodCgpOjA7bih0KS5jc3MoIm1heC1oZWlnaHQiLG4od2luZG93KS5oZWlnaHQoKS1pLXIpfWVsc2Ugbih0KS5yZW1vdmVBdHRyKCJzdHlsZSIpfXZhciB1PSIuY2xvc2UtbWVudSA+IHNwYW4uY2xvc2UtbWVudS1idG4iLGk9Ii5jbG9zZS1zaWRlLW1lbnUtYnRuIixlPSIjZmx5b3V0LWNhcnQgLmZseW91dC1jYXJ0LXNjcm9sbC1hcmVhIixjPXtvdmVybGF5OntvdmVybGF5RWxlbWVudFNlbGVjdG9yOiIub3ZlcmxheU9mZkNhbnZhcyIsb3ZlcmxheUNsYXNzOiJzaG93Iixub1BhZ2VTY3JvbGxDbGFzczoic2Nyb2xsWVJlbW92ZSJ9LHByb2R1Y3RRdWFudGl0eTp7cXVhbnRpdHlJbnB1dFNlbGVjdG9yOiIucXR5LWlucHV0LCAucHJvZHVjdFF1YW50aXR5VGV4dEJveCIsaW5jcmVtZW50U2VsZWN0b3JzOiIucGx1cyIsZGVjcmVtZW50U2VsZWN0b3JzOiIubWludXMifSxmbHlvdXRDYXJ0OntmbHlvdXRDYXJ0U2VsZWN0b3I6IiNmbHlvdXQtY2FydCIsZmx5b3V0Q2FydFNjcm9sbGJhclNlbGVjdG9yOmUrIiAuaXRlbXMiLHJlbW92ZUl0ZW1TZWxlY3RvcjoiI2ZseW91dC1jYXJ0IC5yZW1vdmUtaXRlbSJ9LGhlYWRlcjp7YWN0aXZlQ2xhc3M6Im9wZW4iLG1vZHVsZXM6W3tvcGVuZXI6Ii5oZWFkZXItbGlua3MgLm9wZW5lciIsY29udGVudDoiLnByb2ZpbGUtbWVudS1ib3giLHByZXZlbnRDbGlja2luZzohMH0se2NvbnRlbnQ6Ii5mbHlvdXQtY2FydCIsb3ZlcmxheTohMSxzY3JvbGxiYXI6ZSsiIC5pdGVtcyJ9XX0sZ29Ub1RvcDp7YW5pbWF0aW9uOnt0eXBlOiJzbGlkZSIsc3BlZWQ6NTAwfX0sdG9nZ2xlOntibG9ja3M6W3tvcGVuZXI6Ii53cml0ZS1yZXZpZXcgLnRpdGxlIixjb250ZW50OiIud3JpdGUtcmV2aWV3LWNvbGxhcHNlIixhY3RpdmVDbGFzc09wZW5lcjoib3BlbiIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSIsc3BlZWQ6InNsb3cifX0se29wZW5lcjoiLmNvbW1lbnQtZm9ybS1idG4iLGNvbnRlbnQ6Ii5uZXctY29tbWVudCBmb3JtIixhY3RpdmVDbGFzc09wZW5lcjoib3BlbiIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSIsc3BlZWQ6InNsb3cifX0se29wZW5lcjoiLmNhcnQtY29sbGF0ZXJhbHMgPiBkaXYgPiAudGl0bGUiLGNvbnRlbnQ6Ii5jYXJ0LWNvbGxhdGVyYWxzID4gZGl2ID4gLmxpc3QiLGFjdGl2ZUNsYXNzT3BlbmVyOiJvcGVuIixhbmltYXRpb246e3R5cGU6InNsaWRlIixzcGVlZDoic2xvdyJ9fSx7b3BlbmVyOiIuYWRkLWJ1dHRvbiAuYnRuLWhvbGRlciIsY29udGVudDoiLmFkZC1idXR0b24gLmVudGVyLWFkZHJlc3MiLGFjdGl2ZUNsYXNzT3BlbmVyOiJvcGVuIixhbmltYXRpb246e3R5cGU6InNsaWRlIixzcGVlZDoic2xvdyJ9fV19LGVxdWFsaXplcjp7YmxvY2tzOlt7c2VsZWN0b3I6Ii5hZGRyZXNzLWxpc3QgPiBkaXYiLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIuYWRkcmVzcy1ncmlkID4gZGl2Iixwcm9wZXJ0eToibWluLWhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5vcmRlci1pdGVtIixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLnJlcXVlc3QtaXRlbSIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5uZXdzLWl0ZW0iLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIuYmxvZy1wb3N0cyAucG9zdCIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5vcmRlci1kZXRhaWxzLWFyZWEgPiBkaXYiLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIub3JkZXItcmV2aWV3LWRhdGEgPiBkaXYiLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIuc2hpcG1lbnQtZGV0YWlscy1hcmVhID4gZGl2Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLnJpY2gtYmxvZy1ob21lcGFnZSAuYmxvZy1wb3N0Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9XX0sYXR0YWNoRGV0YWNoOntibG9ja3M6W3tlbGVtZW50VG9BdHRhY2g6Ii5oZWFkZXItc2VsZWN0b3JzLXdyYXBwZXIiLGNvbnRlbnQ6Ii5hZG1pbi1oZWFkZXItbGlua3MiLGluc2VydEFjdGlvbjoicHJlcGVuZFRvIn1dfSxyZXNwb25zaXZlOlt7YnJlYWtwb2ludDoxMjgxLHNldHRpbmdzOnthdHRhY2hEZXRhY2g6e2Jsb2Nrczpbe2VsZW1lbnRUb0F0dGFjaDoiLmhlYWRlci1zZWxlY3RvcnMtd3JhcHBlciIsY29udGVudDoiLmFkbWluLWhlYWRlci1saW5rcyIsaW5zZXJ0QWN0aW9uOiJwcmVwZW5kVG8ifSx7ZWxlbWVudFRvQXR0YWNoOiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAubW9iaWxlLW5hbWUtaG9sZGVyIixjb250ZW50OiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAuYnJlYWRjcnVtYiJ9LHtlbGVtZW50VG9BdHRhY2g6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZS1ib2R5IC5tb2JpbGUtbmFtZS1ob2xkZXIiLGNvbnRlbnQ6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZS1ib2R5IC5wcm9kdWN0LW5hbWUifSx7ZWxlbWVudFRvQXR0YWNoOiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAuYXR0cmlidXRlcy13cmFwcGVyIixjb250ZW50OiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAucHJvZHVjdC1wcmljZXMtYm94In0se2VsZW1lbnRUb0F0dGFjaDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlIC5tb2JpbGUtcHJldi1uZXh0LWhvbGRlciIsY29udGVudDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlIC5wcmV2LW5leHQtaG9sZGVyIn1dfSxoZWFkZXI6e2FjdGl2ZUNsYXNzOiJvcGVuIixtb2R1bGVzOlt7b3BlbmVyOiIuaGVhZGVyLWxpbmtzIC5vcGVuZXIiLGNvbnRlbnQ6Ii5wcm9maWxlLW1lbnUtYm94IixwcmV2ZW50Q2xpY2tpbmc6ITB9LHtjb250ZW50OiIuZmx5b3V0LWNhcnQiLG92ZXJsYXk6ITEsc2Nyb2xsYmFyOmUrIiAuaXRlbXMifV19LGVxdWFsaXplcjp7YmxvY2tzOlt7c2VsZWN0b3I6Ii5hZGRyZXNzLWxpc3QgPiBkaXYiLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIuYWRkcmVzcy1ncmlkID4gZGl2Iixwcm9wZXJ0eToibWluLWhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5vcmRlci1pdGVtIixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLnJlcXVlc3QtaXRlbSIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5uZXdzLWl0ZW0iLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIuYmxvZy1wb3N0cyAucG9zdCIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5vcmRlci1kZXRhaWxzLWFyZWEgPiBkaXYiLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIub3JkZXItcmV2aWV3LWRhdGEgPiBkaXYiLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIuc2hpcG1lbnQtZGV0YWlscy1hcmVhID4gZGl2Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLnJpY2gtYmxvZy1ob21lcGFnZSAuYmxvZy1wb3N0Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9XX19fSx7YnJlYWtwb2ludDoxMDI1LHNldHRpbmdzOnttZW51OntjbG9zZU1lbnVTZWxlY3Rvcjp1LHN1Ymxpc3RJbmRlbnQ6e2VuYWJsZWQ6ITB9fSxmbHlvdXRDYXJ0OntmbHlvdXRDYXJ0U2VsZWN0b3I6IiNmbHlvdXQtY2FydCIsZmx5b3V0Q2FydFNjcm9sbGJhclNlbGVjdG9yOiIiLHJlbW92ZUl0ZW1TZWxlY3RvcjoiI2ZseW91dC1jYXJ0IC5yZW1vdmUtaXRlbSJ9LGF0dGFjaERldGFjaDp7YmxvY2tzOlt7Y29udGVudDoiI3RvcGNhcnRsaW5rIC5pY28tY2FydCIsZWxlbWVudFRvQXR0YWNoOiIucmVzcG9uc2l2ZS1uYXYtd3JhcHBlciAuc2hvcHBpbmctY2FydC1saW5rIn0se2NvbnRlbnQ6Ii5oZWFkZXItc2VsZWN0b3JzLXdyYXBwZXIiLGVsZW1lbnRUb0F0dGFjaDoiLm1vYmlsZS1tZW51LWl0ZW1zIn0se2NvbnRlbnQ6Ii5pY28tY29tcGFyZSIsZWxlbWVudFRvQXR0YWNoOiIuaGVhZGVyLW1lbnUifSx7Y29udGVudDoiLmljby13aXNobGlzdCIsZWxlbWVudFRvQXR0YWNoOiIuaGVhZGVyLW1lbnUifSx7ZWxlbWVudFRvQXR0YWNoOiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAubW9iaWxlLW5hbWUtaG9sZGVyIixjb250ZW50OiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAuYnJlYWRjcnVtYiJ9LHtlbGVtZW50VG9BdHRhY2g6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZS1ib2R5IC5tb2JpbGUtbmFtZS1ob2xkZXIiLGNvbnRlbnQ6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZS1ib2R5IC5wcm9kdWN0LW5hbWUifSx7ZWxlbWVudFRvQXR0YWNoOiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAuYXR0cmlidXRlcy13cmFwcGVyIixjb250ZW50OiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAucHJvZHVjdC1wcmljZXMtYm94In0se2VsZW1lbnRUb0F0dGFjaDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlIC5tb2JpbGUtcHJldi1uZXh0LWhvbGRlciIsY29udGVudDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlIC5wcmV2LW5leHQtaG9sZGVyIn1dfSxoZWFkZXI6e2FjdGl2ZUNsYXNzOiJvcGVuIixtb2R1bGVzOlt7b3BlbmVyOiIuc2VhcmNoLXdyYXAgPiBzcGFuIixjb250ZW50OiIuc3RvcmUtc2VhcmNoLWJveCIsY2xvc2VyOiIuc3RvcmUtc2VhcmNoLWJveCAiK2ksZWxlbWVudFRvQXR0YWNoOiIubWFzdGVyLXdyYXBwZXItcGFnZSIsZGlzYWJsZVBhZ2VTY3JvbGw6ITAsb3ZlcmxheTohMH0se29wZW5lcjoiLnBlcnNvbmFsLWJ1dHRvbiA+IHNwYW4iLGNsb3NlcjoiLnByb2ZpbGUtbWVudS1ib3ggIitpLGNvbnRlbnQ6Ii5wcm9maWxlLW1lbnUtYm94IixlbGVtZW50VG9BdHRhY2g6Ii5oZWFkZXIiLGRpc2FibGVQYWdlU2Nyb2xsOiEwLG92ZXJsYXk6ITB9LHtvcGVuZXI6Ii5zaG9wcGluZy1jYXJ0LWxpbmsiLGNsb3NlcjoiLm1vYmlsZS1mbHlvdXQtd3JhcHBlciAiK2ksY29udGVudDoiLm1vYmlsZS1mbHlvdXQtd3JhcHBlciIscHJldmVudENsaWNraW5nOiEwLGRpc2FibGVQYWdlU2Nyb2xsOiEwLG92ZXJsYXk6ITAsc2Nyb2xsYmFyOiIifSx7b3BlbmVyOiIucmVzcG9uc2l2ZS1uYXYtd3JhcHBlciAubWVudS10aXRsZSA+IHNwYW4iLGNsb3Nlcjp1LGNvbnRlbnQ6Ii5oZWFkZXItbWVudSIsZGlzYWJsZVBhZ2VTY3JvbGw6ITAsb3ZlcmxheTohMCxzY3JvbGxiYXI6ITB9LHtlbGVtZW50VG9BdHRhY2g6Ii5tYXN0ZXItd3JhcHBlci1jb250ZW50IixvcGVuZXI6Ii5maWx0ZXJzLWJ1dHRvbi13cmFwcGVyIC5maWx0ZXJzLWJ1dHRvbiIsY2xvc2VyOiIubm9wQWpheEZpbHRlcnM3U3Bpa2VzICIraSxjb250ZW50OiIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIixkaXNhYmxlUGFnZVNjcm9sbDohMCxvdmVybGF5OiEwfV19LGZpbHRlcnM6ITAsdG9nZ2xlOntibG9ja3M6W3tvcGVuZXI6Ii5ibG9jayA+IC50aXRsZSIsY29udGVudDoiLmJsb2NrID4gLmxpc3Rib3giLGFuaW1hdGlvbjp7dHlwZToic2xpZGUifX0se29wZW5lcjoiLm1vYmlsZS1zZWxlY3RvciAuc2VsZWN0b3ItdGl0bGUiLGNvbnRlbnQ6Ii5tb2JpbGUtY29sbGFwc2UiLGFjdGl2ZUNsYXNzT3BlbmVyOiJvcGVuIixhbmltYXRpb246e3R5cGU6InNsaWRlIixzcGVlZDoic2xvdyJ9fSx7b3BlbmVyOiIud3JpdGUtcmV2aWV3IC50aXRsZSIsY29udGVudDoiLndyaXRlLXJldmlldy1jb2xsYXBzZSIsYWN0aXZlQ2xhc3NPcGVuZXI6Im9wZW4iLGFuaW1hdGlvbjp7dHlwZToic2xpZGUiLHNwZWVkOiJzbG93In19LHtvcGVuZXI6Ii5jb21tZW50LWZvcm0tYnRuIixjb250ZW50OiIubmV3LWNvbW1lbnQgZm9ybSIsYWN0aXZlQ2xhc3NPcGVuZXI6Im9wZW4iLGFuaW1hdGlvbjp7dHlwZToic2xpZGUiLHNwZWVkOiJzbG93In19LHtvcGVuZXI6Ii5jYXJ0LWNvbGxhdGVyYWxzID4gZGl2ID4gLnRpdGxlIixjb250ZW50OiIuY2FydC1jb2xsYXRlcmFscyA+IGRpdiA+IC5saXN0IixhY3RpdmVDbGFzc09wZW5lcjoib3BlbiIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSIsc3BlZWQ6InNsb3cifX0se29wZW5lcjoiLmFkZC1idXR0b24gLmJ0bi1ob2xkZXIiLGNvbnRlbnQ6Ii5hZGQtYnV0dG9uIC5lbnRlci1hZGRyZXNzIixhY3RpdmVDbGFzc09wZW5lcjoib3BlbiIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSIsc3BlZWQ6InNsb3cifX1dfSxlcXVhbGl6ZXI6e2Jsb2Nrczpbe3NlbGVjdG9yOiIuY2FydCB0ciAucHJvZHVjdCJ9LHtzZWxlY3RvcjoiLmRhdGEtdGFibGUgLnByb2R1Y3QifSx7c2VsZWN0b3I6Ii5hZGRyZXNzLWxpc3QgPiBkaXYiLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIuYWRkcmVzcy1ncmlkID4gZGl2Iixwcm9wZXJ0eToibWluLWhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5vcmRlci1pdGVtIixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLnJlcXVlc3QtaXRlbSIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5uZXdzLWl0ZW0iLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIuYmxvZy1wb3N0cyAucG9zdCIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5vcmRlci1kZXRhaWxzLWFyZWEgPiBkaXYiLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIub3JkZXItcmV2aWV3LWRhdGEgPiBkaXYiLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIuc2hpcG1lbnQtZGV0YWlscy1hcmVhID4gZGl2Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLnJpY2gtYmxvZy1ob21lcGFnZSAuYmxvZy1wb3N0Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9XX19fSx7YnJlYWtwb2ludDo3Njksc2V0dGluZ3M6e21lbnU6e2Nsb3NlTWVudVNlbGVjdG9yOnUsc3VibGlzdEluZGVudDp7ZW5hYmxlZDohMH19LGZseW91dENhcnQ6e2ZseW91dENhcnRTZWxlY3RvcjoiI2ZseW91dC1jYXJ0IixmbHlvdXRDYXJ0U2Nyb2xsYmFyU2VsZWN0b3I6IiIscmVtb3ZlSXRlbVNlbGVjdG9yOiIjZmx5b3V0LWNhcnQgLnJlbW92ZS1pdGVtIn0sYXR0YWNoRGV0YWNoOntibG9ja3M6W3tjb250ZW50OiIjdG9wY2FydGxpbmsgLmljby1jYXJ0IixlbGVtZW50VG9BdHRhY2g6Ii5yZXNwb25zaXZlLW5hdi13cmFwcGVyIC5zaG9wcGluZy1jYXJ0LWxpbmsifSx7Y29udGVudDoiLmhlYWRlci1zZWxlY3RvcnMtd3JhcHBlciIsZWxlbWVudFRvQXR0YWNoOiIubW9iaWxlLW1lbnUtaXRlbXMifSx7Y29udGVudDoiLmljby1jb21wYXJlIixlbGVtZW50VG9BdHRhY2g6Ii5oZWFkZXItbWVudSJ9LHtjb250ZW50OiIuaWNvLXdpc2hsaXN0IixlbGVtZW50VG9BdHRhY2g6Ii5oZWFkZXItbWVudSJ9LHtlbGVtZW50VG9BdHRhY2g6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZS1ib2R5IC5tb2JpbGUtbmFtZS1ob2xkZXIiLGNvbnRlbnQ6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZS1ib2R5IC5icmVhZGNydW1iIn0se2VsZW1lbnRUb0F0dGFjaDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlLWJvZHkgLm1vYmlsZS1uYW1lLWhvbGRlciIsY29udGVudDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlLWJvZHkgLnByb2R1Y3QtbmFtZSJ9LHtlbGVtZW50VG9BdHRhY2g6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZS1ib2R5IC5hdHRyaWJ1dGVzLXdyYXBwZXIiLGNvbnRlbnQ6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZS1ib2R5IC5wcm9kdWN0LXByaWNlcy1ib3gifSx7ZWxlbWVudFRvQXR0YWNoOiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UgLm1vYmlsZS1wcmV2LW5leHQtaG9sZGVyIixjb250ZW50OiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UgLnByZXYtbmV4dC1ob2xkZXIifV19LGhlYWRlcjp7YWN0aXZlQ2xhc3M6Im9wZW4iLG1vZHVsZXM6W3tvcGVuZXI6Ii5zZWFyY2gtd3JhcCA+IHNwYW4iLGNvbnRlbnQ6Ii5zdG9yZS1zZWFyY2gtYm94IixjbG9zZXI6Ii5zdG9yZS1zZWFyY2gtYm94ICIraSxlbGVtZW50VG9BdHRhY2g6Ii5tYXN0ZXItd3JhcHBlci1wYWdlIixkaXNhYmxlUGFnZVNjcm9sbDohMCxvdmVybGF5OiEwfSx7b3BlbmVyOiIucGVyc29uYWwtYnV0dG9uID4gc3BhbiIsY2xvc2VyOiIucHJvZmlsZS1tZW51LWJveCAiK2ksY29udGVudDoiLnByb2ZpbGUtbWVudS1ib3giLGVsZW1lbnRUb0F0dGFjaDoiLmhlYWRlciIsZGlzYWJsZVBhZ2VTY3JvbGw6ITAsb3ZlcmxheTohMH0se29wZW5lcjoiLnNob3BwaW5nLWNhcnQtbGluayIsY2xvc2VyOiIubW9iaWxlLWZseW91dC13cmFwcGVyICIraSxjb250ZW50OiIubW9iaWxlLWZseW91dC13cmFwcGVyIixwcmV2ZW50Q2xpY2tpbmc6ITAsZGlzYWJsZVBhZ2VTY3JvbGw6ITAsb3ZlcmxheTohMCxzY3JvbGxiYXI6IiJ9LHtvcGVuZXI6Ii5yZXNwb25zaXZlLW5hdi13cmFwcGVyIC5tZW51LXRpdGxlID4gc3BhbiIsY2xvc2VyOnUsY29udGVudDoiLmhlYWRlci1tZW51IixkaXNhYmxlUGFnZVNjcm9sbDohMCxvdmVybGF5OiEwLHNjcm9sbGJhcjohMH0se2VsZW1lbnRUb0F0dGFjaDoiLm1hc3Rlci13cmFwcGVyLWNvbnRlbnQiLG9wZW5lcjoiLmZpbHRlcnMtYnV0dG9uLXdyYXBwZXIgLmZpbHRlcnMtYnV0dG9uIixjbG9zZXI6Ii5ub3BBamF4RmlsdGVyczdTcGlrZXMgIitpLGNvbnRlbnQ6Ii5ub3BBamF4RmlsdGVyczdTcGlrZXMiLGRpc2FibGVQYWdlU2Nyb2xsOiEwLG92ZXJsYXk6ITB9XX0sZmlsdGVyczohMCx0b2dnbGU6e2Jsb2Nrczpbe29wZW5lcjoiLmJsb2NrID4gLnRpdGxlIixjb250ZW50OiIuYmxvY2sgPiAubGlzdGJveCIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSJ9fSx7b3BlbmVyOiIubW9iaWxlLXNlbGVjdG9yIC5zZWxlY3Rvci10aXRsZSIsY29udGVudDoiLm1vYmlsZS1jb2xsYXBzZSIsYWN0aXZlQ2xhc3NPcGVuZXI6Im9wZW4iLGFuaW1hdGlvbjp7dHlwZToic2xpZGUiLHNwZWVkOiJzbG93In19LHtvcGVuZXI6Ii53cml0ZS1yZXZpZXcgLnRpdGxlIixjb250ZW50OiIud3JpdGUtcmV2aWV3LWNvbGxhcHNlIixhY3RpdmVDbGFzc09wZW5lcjoib3BlbiIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSIsc3BlZWQ6InNsb3cifX0se29wZW5lcjoiLmNvbW1lbnQtZm9ybS1idG4iLGNvbnRlbnQ6Ii5uZXctY29tbWVudCBmb3JtIixhY3RpdmVDbGFzc09wZW5lcjoib3BlbiIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSIsc3BlZWQ6InNsb3cifX0se29wZW5lcjoiLmNhcnQtY29sbGF0ZXJhbHMgPiBkaXYgPiAudGl0bGUiLGNvbnRlbnQ6Ii5jYXJ0LWNvbGxhdGVyYWxzID4gZGl2ID4gLmxpc3QiLGFjdGl2ZUNsYXNzT3BlbmVyOiJvcGVuIixhbmltYXRpb246e3R5cGU6InNsaWRlIixzcGVlZDoic2xvdyJ9fSx7b3BlbmVyOiIuYWRkLWJ1dHRvbiAuYnRuLWhvbGRlciIsY29udGVudDoiLmFkZC1idXR0b24gLmVudGVyLWFkZHJlc3MiLGFjdGl2ZUNsYXNzT3BlbmVyOiJvcGVuIixhbmltYXRpb246e3R5cGU6InNsaWRlIixzcGVlZDoic2xvdyJ9fV19LGVxdWFsaXplcjp7YmxvY2tzOlt7c2VsZWN0b3I6Ii5jYXJ0IHRyIC5wcm9kdWN0In0se3NlbGVjdG9yOiIuZGF0YS10YWJsZSAucHJvZHVjdCJ9LHtzZWxlY3RvcjoiLmFkZHJlc3MtbGlzdCA+IGRpdiIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5hZGRyZXNzLWdyaWQgPiBkaXYiLHByb3BlcnR5OiJtaW4taGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLm9yZGVyLWl0ZW0iLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIucmVxdWVzdC1pdGVtIixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLm5ld3MtaXRlbSIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5ibG9nLXBvc3RzIC5wb3N0Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLm9yZGVyLWRldGFpbHMtYXJlYSA+IGRpdiIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5vcmRlci1yZXZpZXctZGF0YSA+IGRpdiIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5zaGlwbWVudC1kZXRhaWxzLWFyZWEgPiBkaXYiLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIucmljaC1ibG9nLWhvbWVwYWdlIC5ibG9nLXBvc3QiLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In1dfX19LHticmVha3BvaW50OjQ4MSxzZXR0aW5nczp7bWVudTp7Y2xvc2VNZW51U2VsZWN0b3I6dSxzdWJsaXN0SW5kZW50OntlbmFibGVkOiEwfX0sZmx5b3V0Q2FydDp7Zmx5b3V0Q2FydFNlbGVjdG9yOiIjZmx5b3V0LWNhcnQiLGZseW91dENhcnRTY3JvbGxiYXJTZWxlY3RvcjoiIixyZW1vdmVJdGVtU2VsZWN0b3I6IiNmbHlvdXQtY2FydCAucmVtb3ZlLWl0ZW0ifSxhdHRhY2hEZXRhY2g6e2Jsb2Nrczpbe2NvbnRlbnQ6IiN0b3BjYXJ0bGluayAuaWNvLWNhcnQiLGVsZW1lbnRUb0F0dGFjaDoiLnJlc3BvbnNpdmUtbmF2LXdyYXBwZXIgLnNob3BwaW5nLWNhcnQtbGluayJ9LHtjb250ZW50OiIuaGVhZGVyLXNlbGVjdG9ycy13cmFwcGVyIixlbGVtZW50VG9BdHRhY2g6Ii5tb2JpbGUtbWVudS1pdGVtcyJ9LHtjb250ZW50OiIuaWNvLWNvbXBhcmUiLGVsZW1lbnRUb0F0dGFjaDoiLmhlYWRlci1tZW51In0se2NvbnRlbnQ6Ii5pY28td2lzaGxpc3QiLGVsZW1lbnRUb0F0dGFjaDoiLmhlYWRlci1tZW51In0se2VsZW1lbnRUb0F0dGFjaDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlLWJvZHkgLm1vYmlsZS1uYW1lLWhvbGRlciIsY29udGVudDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlLWJvZHkgLmJyZWFkY3J1bWIifSx7ZWxlbWVudFRvQXR0YWNoOiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAubW9iaWxlLW5hbWUtaG9sZGVyIixjb250ZW50OiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAucHJvZHVjdC1uYW1lIn0se2VsZW1lbnRUb0F0dGFjaDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlLWJvZHkgLmF0dHJpYnV0ZXMtd3JhcHBlciIsY29udGVudDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlLWJvZHkgLnByb2R1Y3QtcHJpY2VzLWJveCJ9LHtlbGVtZW50VG9BdHRhY2g6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZSAubW9iaWxlLXByZXYtbmV4dC1ob2xkZXIiLGNvbnRlbnQ6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZSAucHJldi1uZXh0LWhvbGRlciJ9XX0saGVhZGVyOnthY3RpdmVDbGFzczoib3BlbiIsbW9kdWxlczpbe29wZW5lcjoiLnNlYXJjaC13cmFwID4gc3BhbiIsY29udGVudDoiLnN0b3JlLXNlYXJjaC1ib3giLGNsb3NlcjoiLnN0b3JlLXNlYXJjaC1ib3ggIitpLGVsZW1lbnRUb0F0dGFjaDoiLm1hc3Rlci13cmFwcGVyLXBhZ2UiLGRpc2FibGVQYWdlU2Nyb2xsOiEwLG92ZXJsYXk6ITB9LHtvcGVuZXI6Ii5wZXJzb25hbC1idXR0b24gPiBzcGFuIixjbG9zZXI6Ii5wcm9maWxlLW1lbnUtYm94ICIraSxjb250ZW50OiIucHJvZmlsZS1tZW51LWJveCIsZWxlbWVudFRvQXR0YWNoOiIuaGVhZGVyIixkaXNhYmxlUGFnZVNjcm9sbDohMCxvdmVybGF5OiEwfSx7b3BlbmVyOiIuc2hvcHBpbmctY2FydC1saW5rIixjbG9zZXI6Ii5tb2JpbGUtZmx5b3V0LXdyYXBwZXIgIitpLGNvbnRlbnQ6Ii5tb2JpbGUtZmx5b3V0LXdyYXBwZXIiLHByZXZlbnRDbGlja2luZzohMCxkaXNhYmxlUGFnZVNjcm9sbDohMCxvdmVybGF5OiEwLHNjcm9sbGJhcjoiIn0se29wZW5lcjoiLnJlc3BvbnNpdmUtbmF2LXdyYXBwZXIgLm1lbnUtdGl0bGUgPiBzcGFuIixjbG9zZXI6dSxjb250ZW50OiIuaGVhZGVyLW1lbnUiLGRpc2FibGVQYWdlU2Nyb2xsOiEwLG92ZXJsYXk6ITAsc2Nyb2xsYmFyOiEwfSx7ZWxlbWVudFRvQXR0YWNoOiIubWFzdGVyLXdyYXBwZXItY29udGVudCIsb3BlbmVyOiIuZmlsdGVycy1idXR0b24td3JhcHBlciAuZmlsdGVycy1idXR0b24iLGNsb3NlcjoiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyAiK2ksY29udGVudDoiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIsZGlzYWJsZVBhZ2VTY3JvbGw6ITAsb3ZlcmxheTohMH1dfSxmaWx0ZXJzOiEwLHRvZ2dsZTp7YmxvY2tzOlt7b3BlbmVyOiIuYmxvY2sgPiAudGl0bGUiLGNvbnRlbnQ6Ii5ibG9jayA+IC5saXN0Ym94IixhbmltYXRpb246e3R5cGU6InNsaWRlIn19LHtvcGVuZXI6Ii5tb2JpbGUtc2VsZWN0b3IgLnNlbGVjdG9yLXRpdGxlIixjb250ZW50OiIubW9iaWxlLWNvbGxhcHNlIixhY3RpdmVDbGFzc09wZW5lcjoib3BlbiIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSIsc3BlZWQ6InNsb3cifX0se29wZW5lcjoiLmZvb3Rlci1ibG9jayA+IC50aXRsZSIsY29udGVudDoiLmZvb3Rlci1ibG9jayA+IC5saXN0IixhbmltYXRpb246e3R5cGU6InNsaWRlIn19LHtvcGVuZXI6Ii53cml0ZS1yZXZpZXcgLnRpdGxlIixjb250ZW50OiIud3JpdGUtcmV2aWV3LWNvbGxhcHNlIixhY3RpdmVDbGFzc09wZW5lcjoib3BlbiIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSIsc3BlZWQ6InNsb3cifX0se29wZW5lcjoiLmNvbW1lbnQtZm9ybS1idG4iLGNvbnRlbnQ6Ii5uZXctY29tbWVudCBmb3JtIixhY3RpdmVDbGFzc09wZW5lcjoib3BlbiIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSIsc3BlZWQ6InNsb3cifX0se29wZW5lcjoiLmNhcnQtY29sbGF0ZXJhbHMgPiBkaXYgPiAudGl0bGUiLGNvbnRlbnQ6Ii5jYXJ0LWNvbGxhdGVyYWxzID4gZGl2ID4gLmxpc3QiLGFjdGl2ZUNsYXNzT3BlbmVyOiJvcGVuIixhbmltYXRpb246e3R5cGU6InNsaWRlIixzcGVlZDoic2xvdyJ9fSx7b3BlbmVyOiIuYWRkLWJ1dHRvbiAuYnRuLWhvbGRlciIsY29udGVudDoiLmFkZC1idXR0b24gLmVudGVyLWFkZHJlc3MiLGFjdGl2ZUNsYXNzT3BlbmVyOiJvcGVuIixhbmltYXRpb246e3R5cGU6InNsaWRlIixzcGVlZDoic2xvdyJ9fV19LGVxdWFsaXplcjp7YmxvY2tzOlt7c2VsZWN0b3I6Ii5jYXJ0IHRyIC5wcm9kdWN0In0se3NlbGVjdG9yOiIuZGF0YS10YWJsZSAucHJvZHVjdCJ9XX19fV19LGw9bmV3IHdpbmRvdy5zZXZlblNwaWtlc1RoZW1lKGMsW3ttb2R1bGU6ImhlYWRlciIsZGVwZW5kZW5jaWVzOlsiYXR0YWNoRGV0YWNoIiwib3ZlcmxheSIsInBlcmZlY3RTY3JvbGxiYXIiXX0se21vZHVsZToibWVudSIsZGVwZW5kZW5jaWVzOlsicGVyZmVjdFNjcm9sbGJhciJdfV0sITEpO2wuaW5pdCgpO2EoKTt2KCk7bygpO3MoKTt5KCk7cCgpO3coKTtrKCk7ZCgpO3IoIi5oZWFkZXItbWVudSIpO3IoIi5tb2JpbGUtZmx5b3V0LXdyYXBwZXIgLmZseW91dC1jYXJ0LXNjcm9sbC1hcmVhIiwiLmNsb3NlLXNpZGUtbWVudSIpO3IoIi5ub3BBamF4RmlsdGVyczdTcGlrZXMgLmZpbHRlcnNQYW5lbCIsIi5jbG9zZS1zaWRlLW1lbnUiKTtyKCIuaGVhZGVyLW1lbnUgLnN1Ymxpc3Qtd3JhcCIpO2YoIi5jYXJ0LWNvbGxhdGVyYWxzIC5kZWFscyAubWVzc2FnZS1mYWlsdXJlIiwiLmNhcnQtY29sbGF0ZXJhbHMgLmRlYWxzID4gLmxpc3QiLCIuY2FydC1jb2xsYXRlcmFscyA+IC5kZWFscyA+IC50aXRsZSIpO2YoIi5jYXJ0LWNvbGxhdGVyYWxzIC5jb2xsYXRlcmFscy1zaGlwcGluZyAubWVzc2FnZS1mYWlsdXJlIiwiLmNhcnQtY29sbGF0ZXJhbHMgLmNvbGxhdGVyYWxzLXNoaXBwaW5nID4gLmxpc3QiLCIuY2FydC1jb2xsYXRlcmFscyAuY29sbGF0ZXJhbHMtc2hpcHBpbmcgPiAudGl0bGUiKTtmKCIud3JpdGUtcmV2aWV3IC5maWVsZC12YWxpZGF0aW9uLWVycm9yIiwiLndyaXRlLXJldmlldy1jb2xsYXBzZSIsIi53cml0ZS1yZXZpZXcgPiAudGl0bGUiKTtmKCIubmV3LWNvbW1lbnQgLmZpZWxkLXZhbGlkYXRpb24tZXJyb3IiLCIubmV3LWNvbW1lbnQgZm9ybSIsIi5jb21tZW50LWZvcm0tYnRuIik7ZigiLmFkZHJlc3MtZ3JpZCAuZmllbGQtdmFsaWRhdGlvbi1lcnJvciIsIi5lbnRlci1hZGRyZXNzIiwiLmFkZHJlc3MtZ3JpZCAuYWRkLWJ1dHRvbiIpO24oIi5wcm9maWxlLW1lbnUtYm94IikuaGFzQ2xhc3MoImxvZ2luLWZvcm0taW4taGVhZGVyIikmJmIoKTtuKHdpbmRvdykub24oInJlc2l6ZSIsZnVuY3Rpb24oKXtyKCIuaGVhZGVyLW1lbnUiKTtyKCIubW9iaWxlLWZseW91dC13cmFwcGVyIC5mbHlvdXQtY2FydC1zY3JvbGwtYXJlYSIsIi5jbG9zZS1zaWRlLW1lbnUiKTtyKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIC5maWx0ZXJzUGFuZWwiLCIuY2xvc2Utc2lkZS1tZW51Iik7cigiLmhlYWRlci1tZW51IC5zdWJsaXN0LXdyYXAiKTtvKCk7cygpfSk7bihkb2N1bWVudCkub24oImluaXRpYWxpemVQZXJmZWN0U2Nyb2xsYmFyLnRoZW1lIixmdW5jdGlvbigpe3IoIi5tb2JpbGUtZmx5b3V0LXdyYXBwZXIgLmZseW91dC1jYXJ0LXNjcm9sbC1hcmVhIiwiLmNsb3NlLXNpZGUtbWVudSIpfSk7bihkb2N1bWVudCkub24oInF1aWNrVGFic1JlZnJlc2hlZFRhYiIsZnVuY3Rpb24oKXtmKCIud3JpdGUtcmV2aWV3IC5maWVsZC12YWxpZGF0aW9uLWVycm9yIiwiLndyaXRlLXJldmlldy1jb2xsYXBzZSIsIi53cml0ZS1yZXZpZXcgPiAudGl0bGUiKX0pfSl9KGpRdWVyeSx3aW5kb3cuc2V2ZW5TcGlrZXNDb3JlPXdpbmRvdy5zZXZlblNwaWtlc0NvcmV8fHt9KQ==","CacheKey":"49tjclhqJB7dGY4YYLGyrMpEgUk"}