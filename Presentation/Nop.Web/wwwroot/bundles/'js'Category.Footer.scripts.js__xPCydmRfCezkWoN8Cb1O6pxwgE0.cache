{"Headers":{"Last-Modified":"Tue, 21 Dec 2021 11:33:22 GMT","X-Content-Type-Options":"nosniff"},"Body":"LyohIGpRdWVyeSB2My41LjEgfCAoYykgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCmZ1bmN0aW9uIE9wZW5XaW5kb3cobix0LGkscil7dmFyIHU9KHNjcmVlbi53aWR0aC10KS8yLGY9KHNjcmVlbi5oZWlnaHQtaSkvMixlO3dpbnByb3BzPSJyZXNpemFibGU9MCwgaGVpZ2h0PSIraSsiLHdpZHRoPSIrdCsiLHRvcD0iK2YrIixsZWZ0PSIrdSsidyI7ciYmKHdpbnByb3BzKz0iLHNjcm9sbGJhcnM9MSIpO2U9d2luZG93Lm9wZW4obiwiX2JsYW5rIix3aW5wcm9wcyl9ZnVuY3Rpb24gc2V0TG9jYXRpb24obil7d2luZG93LmxvY2F0aW9uLmhyZWY9bn1mdW5jdGlvbiBkaXNwbGF5QWpheExvYWRpbmcobil7bj8kKCIuYWpheC1sb2FkaW5nLWJsb2NrLXdpbmRvdyIpLnNob3coKTokKCIuYWpheC1sb2FkaW5nLWJsb2NrLXdpbmRvdyIpLmhpZGUoInNsb3ciKX1mdW5jdGlvbiBkaXNwbGF5UG9wdXBOb3RpZmljYXRpb24obix0LGkpe3ZhciBmLHIsdSxlO2lmKGY9dD09InN1Y2Nlc3MiPyQoIiNkaWFsb2ctbm90aWZpY2F0aW9ucy1zdWNjZXNzIik6dD09ImVycm9yIj8kKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtZXJyb3IiKTp0PT0id2FybmluZyI/JCgiI2RpYWxvZy1ub3RpZmljYXRpb25zLXdhcm5pbmciKTokKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtc3VjY2VzcyIpLHI9IiIsdHlwZW9mIG49PSJzdHJpbmciKXI9IjxwPiIrbisiPFwvcD4iO2Vsc2UgZm9yKHU9MDt1PG4ubGVuZ3RoO3UrKylyPXIrIjxwPiIrblt1XSsiPFwvcD4iO2YuaHRtbChyKTtlPWk/ITA6ITE7Zi5kaWFsb2coe21vZGFsOmUsd2lkdGg6MzUwfSl9ZnVuY3Rpb24gZGlzcGxheUpvaW5lZFBvcHVwTm90aWZpY2F0aW9ucyhuKXt2YXIgdSxmLGksZSxyLHQ7aWYoT2JqZWN0LmtleXMobikubGVuZ3RoIT09MCl7dT0kKCIjZGlhbG9nLW5vdGlmaWNhdGlvbnMtc3VjY2VzcyIpO2Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zm9yKGkgaW4gbilpZihuLmhhc093blByb3BlcnR5KGkpKWZvcihlPW5baV0scj0wO3I8ZS5sZW5ndGg7KytyKXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdC5pbm5lckhUTUw9ZVtyXSx0LmNsYXNzTGlzdC5hZGQoInBvcHVwLW5vdGlmaWNhdGlvbiIpLHQuY2xhc3NMaXN0LmFkZChpKSxmLmFwcGVuZCh0KTt1Lmh0bWwoZik7dS5kaWFsb2coe3dpZHRoOjM1MCxtb2RhbDohMH0pfX1mdW5jdGlvbiBkaXNwbGF5UG9wdXBDb250ZW50RnJvbVVybChuLHQsaSxyKXt2YXIgdT1pPyEwOiExLGY9cj9yOjU1MCxlPSQod2luZG93KS5oZWlnaHQoKS0yMDskKCI8ZGl2PjxcL2Rpdj4iKS5sb2FkKG4pLmRpYWxvZyh7bW9kYWw6dSx3aWR0aDpmLG1heEhlaWdodDplLHRpdGxlOnQsY2xvc2U6ZnVuY3Rpb24oKXskKHRoaXMpLmRpYWxvZygiZGVzdHJveSIpLnJlbW92ZSgpfX0pfWZ1bmN0aW9uIGRpc3BsYXlCYXJOb3RpZmljYXRpb24obix0LGkpe3ZhciBjLG89dHlwZW9mIG49PSJzdHJpbmciP1tuXTpuLHMscix1LGYsZSxoO2lmKG8ubGVuZ3RoIT09MCl7Zm9yKHM9WyJzdWNjZXNzIiwiZXJyb3IiLCJ3YXJuaW5nIl0uaW5kZXhPZih0KSE9PS0xP3Q6InN1Y2Nlc3MiLCQoIiNiYXItbm90aWZpY2F0aW9uIikucmVtb3ZlQ2xhc3MoInN1Y2Nlc3MiKS5yZW1vdmVDbGFzcygiZXJyb3IiKS5yZW1vdmVDbGFzcygid2FybmluZyIpLCQoIi5iYXItbm90aWZpY2F0aW9uIikucmVtb3ZlKCkscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxyLmNsYXNzTGlzdC5hZGQoImJhci1ub3RpZmljYXRpb24iLHMpLHIuY2xhc3NMaXN0LmFkZChzKSx1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSx1LmNsYXNzTGlzdC5hZGQoImNsb3NlIiksdS5zZXRBdHRyaWJ1dGUoInRpdGxlIixkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmFyLW5vdGlmaWNhdGlvbiIpLmRhdGFzZXQuY2xvc2UpLGY9MDtmPG8ubGVuZ3RoO2YrKyllPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKSxlLmNsYXNzTGlzdC5hZGQoImNvbnRlbnQiKSxlLmlubmVySFRNTD1vW2ZdLHIuYXBwZW5kQ2hpbGQoZSk7ci5hcHBlbmRDaGlsZCh1KTskKCIjYmFyLW5vdGlmaWNhdGlvbiIpLmFwcGVuZChyKTskKHIpLmZhZGVJbigic2xvdyIpLm9uKCJtb3VzZWVudGVyIixmdW5jdGlvbigpe2NsZWFyVGltZW91dChjKX0pO2g9ZnVuY3Rpb24oKXskKHIpLnJlbW92ZSgpfTskKHUpLm9uKCJjbGljayIsZnVuY3Rpb24oKXskKHIpLmZhZGVPdXQoInNsb3ciLGgpfSk7aT4wJiYoYz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChyKS5mYWRlT3V0KCJzbG93IixoKX0saSkpfX1mdW5jdGlvbiBodG1sRW5jb2RlKG4pe3JldHVybiAkKCI8ZGl2Lz4iKS50ZXh0KG4pLmh0bWwoKX1mdW5jdGlvbiBodG1sRGVjb2RlKG4pe3JldHVybiAkKCI8ZGl2Lz4iKS5odG1sKG4pLnRleHQoKX1mdW5jdGlvbiBhZGRBbnRpRm9yZ2VyeVRva2VuKG4pe258fChuPXt9KTt2YXIgdD0kKCJpbnB1dFtuYW1lPV9fUmVxdWVzdFZlcmlmaWNhdGlvblRva2VuXSIpO3JldHVybiB0Lmxlbmd0aCYmKG4uX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW49dC52YWwoKSksbn1mdW5jdGlvbiBjcmVhdGVQcm9kdWN0c1VSTEJ1aWxkZXIobil7cmV0dXJue3BhcmFtczp7YmFzZVBhdGg6bixxdWVyeTp7fX0sYWRkQmFzZVBhdGg6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucGFyYW1zLmJhc2VQYXRoPW4sdGhpc30sYWRkUGFyYW1ldGVyOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMucGFyYW1zLnF1ZXJ5W25dPXQsdGhpc30sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgdD0kLnBhcmFtKHRoaXMucGFyYW1zLnF1ZXJ5KSxuPXRoaXMucGFyYW1zLmJhc2VQYXRoO3JldHVybiBuLmluZGV4T2YoIj8iKSE9PS0xP24rIiYiK3Q6bisiPyIrdH19fWZ1bmN0aW9uIHNldEhpc3RvcnlTdGF0ZSgpe3ZhciBuPWhpc3Rvcnkuc3RhdGU/aGlzdG9yeS5zdGF0ZTp7fTtuLmlzUGFnZUFscmVhZHlWaXNpdGVkPSEwO2hpc3RvcnkucmVwbGFjZVN0YXRlKG4sIiIsd2luZG93LmxvY2F0aW9uKX12YXIgQWpheENhcnQsQ2F0YWxvZ1Byb2R1Y3RzLEFqYXhGaWx0ZXJzSGlzdG9yeVN0YXRlLGFqYXhGaWx0ZXJzSGlzdG9yeTshZnVuY3Rpb24obix0KXsidXNlIHN0cmljdCI7Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJiJvYmplY3QiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bi5kb2N1bWVudD90KG4sITApOmZ1bmN0aW9uKG4pe2lmKCFuLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcigialF1ZXJ5IHJlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCIpO3JldHVybiB0KG4pfTp0KG4pfSgidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbihuLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBicihuLHQsaSl7dmFyIHIsZSx1PShpPWl8fGYpLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2lmKHUudGV4dD1uLHQpZm9yKHIgaW4gc2UpKGU9dFtyXXx8dC5nZXRBdHRyaWJ1dGUmJnQuZ2V0QXR0cmlidXRlKHIpKSYmdS5zZXRBdHRyaWJ1dGUocixlKTtpLmhlYWQuYXBwZW5kQ2hpbGQodSkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh1KX1mdW5jdGlvbiB1dChuKXtyZXR1cm4gbnVsbD09bj9uKyIiOiJvYmplY3QiPT10eXBlb2Ygbnx8ImZ1bmN0aW9uIj09dHlwZW9mIG4/cmlbcHIuY2FsbChuKV18fCJvYmplY3QiOnR5cGVvZiBufWZ1bmN0aW9uIHBpKG4pe3ZhciB0PSEhbiYmImxlbmd0aCJpbiBuJiZuLmxlbmd0aCxpPXV0KG4pO3JldHVybiF1KG4pJiYhcnQobikmJigiYXJyYXkiPT09aXx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmMDx0JiZ0LTEgaW4gbil9ZnVuY3Rpb24gYyhuLHQpe3JldHVybiBuLm5vZGVOYW1lJiZuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gYmkobix0LHIpe3JldHVybiB1KHQpP2kuZ3JlcChuLGZ1bmN0aW9uKG4saSl7cmV0dXJuISF0LmNhbGwobixpLG4pIT09cn0pOnQubm9kZVR5cGU/aS5ncmVwKG4sZnVuY3Rpb24obil7cmV0dXJuIG49PT10IT09cn0pOiJzdHJpbmciIT10eXBlb2YgdD9pLmdyZXAobixmdW5jdGlvbihuKXtyZXR1cm4tMTxpaS5jYWxsKHQsbikhPT1yfSk6aS5maWx0ZXIodCxuLHIpfWZ1bmN0aW9uIHV1KG4sdCl7d2hpbGUoKG49blt0XSkmJjEhPT1uLm5vZGVUeXBlKTtyZXR1cm4gbn1mdW5jdGlvbiBldChuKXtyZXR1cm4gbn1mdW5jdGlvbiBmaShuKXt0aHJvdyBuO31mdW5jdGlvbiBmdShuLHQsaSxyKXt2YXIgZjt0cnl7biYmdShmPW4ucHJvbWlzZSk/Zi5jYWxsKG4pLmRvbmUodCkuZmFpbChpKTpuJiZ1KGY9bi50aGVuKT9mLmNhbGwobix0LGkpOnQuYXBwbHkodm9pZCAwLFtuXS5zbGljZShyKSl9Y2F0Y2gobil7aS5hcHBseSh2b2lkIDAsW25dKX19ZnVuY3Rpb24gb2koKXtmLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLG9pKTtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLG9pKTtpLnJlYWR5KCl9ZnVuY3Rpb24gbGUobix0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfWZ1bmN0aW9uIHkobil7cmV0dXJuIG4ucmVwbGFjZShoZSwibXMtIikucmVwbGFjZShjZSxsZSl9ZnVuY3Rpb24gYnQoKXt0aGlzLmV4cGFuZG89aS5leHBhbmRvK2J0LnVpZCsrfWZ1bmN0aW9uIG91KG4sdCxpKXt2YXIgdSxyO2lmKHZvaWQgMD09PWkmJjE9PT1uLm5vZGVUeXBlKWlmKHU9ImRhdGEtIit0LnJlcGxhY2UodmUsIi0kJiIpLnRvTG93ZXJDYXNlKCksInN0cmluZyI9PXR5cGVvZihpPW4uZ2V0QXR0cmlidXRlKHUpKSl7dHJ5e2k9InRydWUiPT09KHI9aSl8fCJmYWxzZSIhPT1yJiYoIm51bGwiPT09cj9udWxsOnI9PT0rcisiIj8rcjphZS50ZXN0KHIpP0pTT04ucGFyc2Uocik6cil9Y2F0Y2gobil7fW8uc2V0KG4sdCxpKX1lbHNlIGk9dm9pZCAwO3JldHVybiBpfWZ1bmN0aW9uIGh1KG4sdCxyLHUpe3ZhciBzLGgsYz0yMCxsPXU/ZnVuY3Rpb24oKXtyZXR1cm4gdS5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gaS5jc3Mobix0LCIiKX0sbz1sKCksZT1yJiZyWzNdfHwoaS5jc3NOdW1iZXJbdF0/IiI6InB4IiksZj1uLm5vZGVUeXBlJiYoaS5jc3NOdW1iZXJbdF18fCJweCIhPT1lJiYrbykmJmt0LmV4ZWMoaS5jc3Mobix0KSk7aWYoZiYmZlszXSE9PWUpe2ZvcihvLz0yLGU9ZXx8ZlszXSxmPStvfHwxO2MtLTspaS5zdHlsZShuLHQsZitlKSwoMS1oKSooMS0oaD1sKCkvb3x8LjUpKTw9MCYmKGM9MCksZi89aDtmKj0yO2kuc3R5bGUobix0LGYrZSk7cj1yfHxbXX1yZXR1cm4gciYmKGY9K2Z8fCtvfHwwLHM9clsxXT9mKyhyWzFdKzEpKnJbMl06K3JbMl0sdSYmKHUudW5pdD1lLHUuc3RhcnQ9Zix1LmVuZD1zKSksc31mdW5jdGlvbiBodChuLHQpe2Zvcih2YXIgaCxmLGEscyxjLGwsZSxvPVtdLHU9MCx2PW4ubGVuZ3RoO3U8djt1KyspKGY9blt1XSkuc3R5bGUmJihoPWYuc3R5bGUuZGlzcGxheSx0Pygibm9uZSI9PT1oJiYob1t1XT1yLmdldChmLCJkaXNwbGF5Iil8fG51bGwsb1t1XXx8KGYuc3R5bGUuZGlzcGxheT0iIikpLCIiPT09Zi5zdHlsZS5kaXNwbGF5JiZkdChmKSYmKG9bdV09KGU9Yz1zPXZvaWQgMCxjPShhPWYpLm93bmVyRG9jdW1lbnQsbD1hLm5vZGVOYW1lLChlPWtpW2xdKXx8KHM9Yy5ib2R5LmFwcGVuZENoaWxkKGMuY3JlYXRlRWxlbWVudChsKSksZT1pLmNzcyhzLCJkaXNwbGF5Iikscy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHMpLCJub25lIj09PWUmJihlPSJibG9jayIpLGtpW2xdPWUpKSkpOiJub25lIiE9PWgmJihvW3VdPSJub25lIixyLnNldChmLCJkaXNwbGF5IixoKSkpO2Zvcih1PTA7dTx2O3UrKyludWxsIT1vW3VdJiYoblt1XS5zdHlsZS5kaXNwbGF5PW9bdV0pO3JldHVybiBufWZ1bmN0aW9uIHMobix0KXt2YXIgcjtyZXR1cm4gcj0idW5kZWZpbmVkIiE9dHlwZW9mIG4uZ2V0RWxlbWVudHNCeVRhZ05hbWU/bi5nZXRFbGVtZW50c0J5VGFnTmFtZSh0fHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2Ygbi5xdWVyeVNlbGVjdG9yQWxsP24ucXVlcnlTZWxlY3RvckFsbCh0fHwiKiIpOltdLHZvaWQgMD09PXR8fHQmJmMobix0KT9pLm1lcmdlKFtuXSxyKTpyfWZ1bmN0aW9uIGRpKG4sdCl7Zm9yKHZhciBpPTAsdT1uLmxlbmd0aDtpPHU7aSsrKXIuc2V0KG5baV0sImdsb2JhbEV2YWwiLCF0fHxyLmdldCh0W2ldLCJnbG9iYWxFdmFsIikpfWZ1bmN0aW9uIHZ1KG4sdCxyLHUsZil7Zm9yKHZhciBlLG8scCxhLHcsdixjPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHk9W10sbD0wLGI9bi5sZW5ndGg7bDxiO2wrKylpZigoZT1uW2xdKXx8MD09PWUpaWYoIm9iamVjdCI9PT11dChlKSlpLm1lcmdlKHksZS5ub2RlVHlwZT9bZV06ZSk7ZWxzZSBpZihhdS50ZXN0KGUpKXtmb3Iobz1vfHxjLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHA9KGN1LmV4ZWMoZSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksYT1oW3BdfHxoLl9kZWZhdWx0LG8uaW5uZXJIVE1MPWFbMV0raS5odG1sUHJlZmlsdGVyKGUpK2FbMl0sdj1hWzBdO3YtLTspbz1vLmxhc3RDaGlsZDtpLm1lcmdlKHksby5jaGlsZE5vZGVzKTsobz1jLmZpcnN0Q2hpbGQpLnRleHRDb250ZW50PSIifWVsc2UgeS5wdXNoKHQuY3JlYXRlVGV4dE5vZGUoZSkpO2ZvcihjLnRleHRDb250ZW50PSIiLGw9MDtlPXlbbCsrXTspaWYodSYmLTE8aS5pbkFycmF5KGUsdSkpZiYmZi5wdXNoKGUpO2Vsc2UgaWYodz1zdChlKSxvPXMoYy5hcHBlbmRDaGlsZChlKSwic2NyaXB0IiksdyYmZGkobykscilmb3Iodj0wO2U9b1t2KytdOylsdS50ZXN0KGUudHlwZXx8IiIpJiZyLnB1c2goZSk7cmV0dXJuIGN9ZnVuY3Rpb24gY3QoKXtyZXR1cm4hMH1mdW5jdGlvbiBsdCgpe3JldHVybiExfWZ1bmN0aW9uIGJlKG4sdCl7cmV0dXJuIG49PT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gZi5hY3RpdmVFbGVtZW50fWNhdGNoKG4pe319KCk9PSgiZm9jdXMiPT09dCl9ZnVuY3Rpb24gZ2kobix0LHIsdSxmLGUpe3ZhciBvLHM7aWYoIm9iamVjdCI9PXR5cGVvZiB0KXtmb3IocyBpbiJzdHJpbmciIT10eXBlb2YgciYmKHU9dXx8cixyPXZvaWQgMCksdClnaShuLHMscix1LHRbc10sZSk7cmV0dXJuIG59aWYobnVsbD09dSYmbnVsbD09Zj8oZj1yLHU9cj12b2lkIDApOm51bGw9PWYmJigic3RyaW5nIj09dHlwZW9mIHI/KGY9dSx1PXZvaWQgMCk6KGY9dSx1PXIscj12b2lkIDApKSwhMT09PWYpZj1sdDtlbHNlIGlmKCFmKXJldHVybiBuO3JldHVybiAxPT09ZSYmKG89ZiwoZj1mdW5jdGlvbihuKXtyZXR1cm4gaSgpLm9mZihuKSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLmd1aWQ9by5ndWlkfHwoby5ndWlkPWkuZ3VpZCsrKSksbi5lYWNoKGZ1bmN0aW9uKCl7aS5ldmVudC5hZGQodGhpcyx0LGYsdSxyKX0pfWZ1bmN0aW9uIGhpKG4sdCx1KXt1PyhyLnNldChuLHQsITEpLGkuZXZlbnQuYWRkKG4sdCx7bmFtZXNwYWNlOiExLGhhbmRsZXI6ZnVuY3Rpb24obil7dmFyIG8sZSxmPXIuZ2V0KHRoaXMsdCk7aWYoMSZuLmlzVHJpZ2dlciYmdGhpc1t0XSl7aWYoZi5sZW5ndGgpKGkuZXZlbnQuc3BlY2lhbFt0XXx8e30pLmRlbGVnYXRlVHlwZSYmbi5zdG9wUHJvcGFnYXRpb24oKTtlbHNlIGlmKGY9ay5jYWxsKGFyZ3VtZW50cyksci5zZXQodGhpcyx0LGYpLG89dSh0aGlzLHQpLHRoaXNbdF0oKSxmIT09KGU9ci5nZXQodGhpcyx0KSl8fG8/ci5zZXQodGhpcyx0LCExKTplPXt9LGYhPT1lKXJldHVybiBuLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLG4ucHJldmVudERlZmF1bHQoKSxlLnZhbHVlfWVsc2UgZi5sZW5ndGgmJihyLnNldCh0aGlzLHQse3ZhbHVlOmkuZXZlbnQudHJpZ2dlcihpLmV4dGVuZChmWzBdLGkuRXZlbnQucHJvdG90eXBlKSxmLnNsaWNlKDEpLHRoaXMpfSksbi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSl9fSkpOnZvaWQgMD09PXIuZ2V0KG4sdCkmJmkuZXZlbnQuYWRkKG4sdCxjdCl9ZnVuY3Rpb24gcHUobix0KXtyZXR1cm4gYyhuLCJ0YWJsZSIpJiZjKDExIT09dC5ub2RlVHlwZT90OnQuZmlyc3RDaGlsZCwidHIiKSYmaShuKS5jaGlsZHJlbigidGJvZHkiKVswXXx8bn1mdW5jdGlvbiBubyhuKXtyZXR1cm4gbi50eXBlPShudWxsIT09bi5nZXRBdHRyaWJ1dGUoInR5cGUiKSkrIi8iK24udHlwZSxufWZ1bmN0aW9uIHRvKG4pe3JldHVybiJ0cnVlLyI9PT0obi50eXBlfHwiIikuc2xpY2UoMCw1KT9uLnR5cGU9bi50eXBlLnNsaWNlKDUpOm4ucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksbn1mdW5jdGlvbiB3dShuLHQpe3ZhciB1LHMsZixoLGMsZTtpZigxPT09dC5ub2RlVHlwZSl7aWYoci5oYXNEYXRhKG4pJiYoZT1yLmdldChuKS5ldmVudHMpKWZvcihmIGluIHIucmVtb3ZlKHQsImhhbmRsZSBldmVudHMiKSxlKWZvcih1PTAscz1lW2ZdLmxlbmd0aDt1PHM7dSsrKWkuZXZlbnQuYWRkKHQsZixlW2ZdW3VdKTtvLmhhc0RhdGEobikmJihoPW8uYWNjZXNzKG4pLGM9aS5leHRlbmQoe30saCksby5zZXQodCxjKSl9fWZ1bmN0aW9uIGF0KG4sdCxmLG8pe3Q9eXIodCk7dmFyIGEsYixsLHYsaCx5LGM9MCxwPW4ubGVuZ3RoLGQ9cC0xLHc9dFswXSxrPXUodyk7aWYoa3x8MTxwJiYic3RyaW5nIj09dHlwZW9mIHcmJiFlLmNoZWNrQ2xvbmUmJmRlLnRlc3QodykpcmV0dXJuIG4uZWFjaChmdW5jdGlvbihpKXt2YXIgcj1uLmVxKGkpO2smJih0WzBdPXcuY2FsbCh0aGlzLGksci5odG1sKCkpKTthdChyLHQsZixvKX0pO2lmKHAmJihiPShhPXZ1KHQsblswXS5vd25lckRvY3VtZW50LCExLG4sbykpLmZpcnN0Q2hpbGQsMT09PWEuY2hpbGROb2Rlcy5sZW5ndGgmJihhPWIpLGJ8fG8pKXtmb3Iodj0obD1pLm1hcChzKGEsInNjcmlwdCIpLG5vKSkubGVuZ3RoO2M8cDtjKyspaD1hLGMhPT1kJiYoaD1pLmNsb25lKGgsITAsITApLHYmJmkubWVyZ2UobCxzKGgsInNjcmlwdCIpKSksZi5jYWxsKG5bY10saCxjKTtpZih2KWZvcih5PWxbbC5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxpLm1hcChsLHRvKSxjPTA7Yzx2O2MrKyloPWxbY10sbHUudGVzdChoLnR5cGV8fCIiKSYmIXIuYWNjZXNzKGgsImdsb2JhbEV2YWwiKSYmaS5jb250YWlucyh5LGgpJiYoaC5zcmMmJiJtb2R1bGUiIT09KGgudHlwZXx8IiIpLnRvTG93ZXJDYXNlKCk/aS5fZXZhbFVybCYmIWgubm9Nb2R1bGUmJmkuX2V2YWxVcmwoaC5zcmMse25vbmNlOmgubm9uY2V8fGguZ2V0QXR0cmlidXRlKCJub25jZSIpfSx5KTpicihoLnRleHRDb250ZW50LnJlcGxhY2UoZ2UsIiIpLGgseSkpfXJldHVybiBufWZ1bmN0aW9uIGJ1KG4sdCxyKXtmb3IodmFyIHUsZT10P2kuZmlsdGVyKHQsbik6bixmPTA7bnVsbCE9KHU9ZVtmXSk7ZisrKXJ8fDEhPT11Lm5vZGVUeXBlfHxpLmNsZWFuRGF0YShzKHUpKSx1LnBhcmVudE5vZGUmJihyJiZzdCh1KSYmZGkocyh1LCJzY3JpcHQiKSksdS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHUpKTtyZXR1cm4gbn1mdW5jdGlvbiBuaShuLHQscil7dmFyIG8scyxoLGYsdT1uLnN0eWxlO3JldHVybihyPXJ8fGNpKG4pKSYmKCIiIT09KGY9ci5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxyW3RdKXx8c3Qobil8fChmPWkuc3R5bGUobix0KSksIWUucGl4ZWxCb3hTdHlsZXMoKSYmbnIudGVzdChmKSYmaW8udGVzdCh0KSYmKG89dS53aWR0aCxzPXUubWluV2lkdGgsaD11Lm1heFdpZHRoLHUubWluV2lkdGg9dS5tYXhXaWR0aD11LndpZHRoPWYsZj1yLndpZHRoLHUud2lkdGg9byx1Lm1pbldpZHRoPXMsdS5tYXhXaWR0aD1oKSksdm9pZCAwIT09Zj9mKyIiOmZ9ZnVuY3Rpb24gZHUobix0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIW4oKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fWZ1bmN0aW9uIHRyKG4pe3ZhciB0PWkuY3NzUHJvcHNbbl18fHRmW25dO3JldHVybiB0fHwobiBpbiBuZj9uOnRmW25dPWZ1bmN0aW9uKG4pe2Zvcih2YXIgaT1uWzBdLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKSx0PWd1Lmxlbmd0aDt0LS07KWlmKChuPWd1W3RdK2kpaW4gbmYpcmV0dXJuIG59KG4pfHxuKX1mdW5jdGlvbiBmZihuLHQsaSl7dmFyIHI9a3QuZXhlYyh0KTtyZXR1cm4gcj9NYXRoLm1heCgwLHJbMl0tKGl8fDApKSsoclszXXx8InB4Iik6dH1mdW5jdGlvbiBpcihuLHQscix1LGYsZSl7dmFyIG89IndpZHRoIj09PXQ/MTowLGg9MCxzPTA7aWYocj09PSh1PyJib3JkZXIiOiJjb250ZW50IikpcmV0dXJuIDA7Zm9yKDtvPDQ7bys9MikibWFyZ2luIj09PXImJihzKz1pLmNzcyhuLHIrYltvXSwhMCxmKSksdT8oImNvbnRlbnQiPT09ciYmKHMtPWkuY3NzKG4sInBhZGRpbmciK2Jbb10sITAsZikpLCJtYXJnaW4iIT09ciYmKHMtPWkuY3NzKG4sImJvcmRlciIrYltvXSsiV2lkdGgiLCEwLGYpKSk6KHMrPWkuY3NzKG4sInBhZGRpbmciK2Jbb10sITAsZiksInBhZGRpbmciIT09cj9zKz1pLmNzcyhuLCJib3JkZXIiK2Jbb10rIldpZHRoIiwhMCxmKTpoKz1pLmNzcyhuLCJib3JkZXIiK2Jbb10rIldpZHRoIiwhMCxmKSk7cmV0dXJuIXUmJjA8PWUmJihzKz1NYXRoLm1heCgwLE1hdGguY2VpbChuWyJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXS1lLXMtaC0uNSkpfHwwKSxzfWZ1bmN0aW9uIGVmKG4sdCxyKXt2YXIgZj1jaShuKSxvPSghZS5ib3hTaXppbmdSZWxpYWJsZSgpfHxyKSYmImJvcmRlci1ib3giPT09aS5jc3MobiwiYm94U2l6aW5nIiwhMSxmKSxzPW8sdT1uaShuLHQsZiksaD0ib2Zmc2V0Iit0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKTtpZihuci50ZXN0KHUpKXtpZighcilyZXR1cm4gdTt1PSJhdXRvIn1yZXR1cm4oIWUuYm94U2l6aW5nUmVsaWFibGUoKSYmb3x8IWUucmVsaWFibGVUckRpbWVuc2lvbnMoKSYmYyhuLCJ0ciIpfHwiYXV0byI9PT11fHwhcGFyc2VGbG9hdCh1KSYmImlubGluZSI9PT1pLmNzcyhuLCJkaXNwbGF5IiwhMSxmKSkmJm4uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgmJihvPSJib3JkZXItYm94Ij09PWkuY3NzKG4sImJveFNpemluZyIsITEsZiksKHM9aCBpbiBuKSYmKHU9bltoXSkpLCh1PXBhcnNlRmxvYXQodSl8fDApK2lyKG4sdCxyfHwobz8iYm9yZGVyIjoiY29udGVudCIpLHMsZix1KSsicHgifWZ1bmN0aW9uIGEobix0LGkscix1KXtyZXR1cm4gbmV3IGEucHJvdG90eXBlLmluaXQobix0LGkscix1KX1mdW5jdGlvbiBycigpe2xpJiYoITE9PT1mLmhpZGRlbiYmbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/bi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocnIpOm4uc2V0VGltZW91dChycixpLmZ4LmludGVydmFsKSxpLmZ4LnRpY2soKSl9ZnVuY3Rpb24gbGYoKXtyZXR1cm4gbi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dnQ9dm9pZCAwfSksdnQ9RGF0ZS5ub3coKX1mdW5jdGlvbiBhaShuLHQpe3ZhciB1LHI9MCxpPXtoZWlnaHQ6bn07Zm9yKHQ9dD8xOjA7cjw0O3IrPTItdClpWyJtYXJnaW4iKyh1PWJbcl0pXT1pWyJwYWRkaW5nIit1XT1uO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9biksaX1mdW5jdGlvbiBhZihuLHQsaSl7Zm9yKHZhciB1LGY9KHYudHdlZW5lcnNbdF18fFtdKS5jb25jYXQodi50d2VlbmVyc1siKiJdKSxyPTAsZT1mLmxlbmd0aDtyPGU7cisrKWlmKHU9ZltyXS5jYWxsKGksdCxuKSlyZXR1cm4gdX1mdW5jdGlvbiB2KG4sdCxyKXt2YXIgbyxzLGg9MCxhPXYucHJlZmlsdGVycy5sZW5ndGgsZT1pLkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIGwuZWxlbX0pLGw9ZnVuY3Rpb24oKXtpZihzKXJldHVybiExO2Zvcih2YXIgbz12dHx8bGYoKSx0PU1hdGgubWF4KDAsZi5zdGFydFRpbWUrZi5kdXJhdGlvbi1vKSxpPTEtKHQvZi5kdXJhdGlvbnx8MCkscj0wLHU9Zi50d2VlbnMubGVuZ3RoO3I8dTtyKyspZi50d2VlbnNbcl0ucnVuKGkpO3JldHVybiBlLm5vdGlmeVdpdGgobixbZixpLHRdKSxpPDEmJnU/dDoodXx8ZS5ub3RpZnlXaXRoKG4sW2YsMSwwXSksZS5yZXNvbHZlV2l0aChuLFtmXSksITEpfSxmPWUucHJvbWlzZSh7ZWxlbTpuLHByb3BzOmkuZXh0ZW5kKHt9LHQpLG9wdHM6aS5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e30sZWFzaW5nOmkuZWFzaW5nLl9kZWZhdWx0fSxyKSxvcmlnaW5hbFByb3BlcnRpZXM6dCxvcmlnaW5hbE9wdGlvbnM6cixzdGFydFRpbWU6dnR8fGxmKCksZHVyYXRpb246ci5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24odCxyKXt2YXIgdT1pLlR3ZWVuKG4sZi5vcHRzLHQscixmLm9wdHMuc3BlY2lhbEVhc2luZ1t0XXx8Zi5vcHRzLmVhc2luZyk7cmV0dXJuIGYudHdlZW5zLnB1c2godSksdX0sc3RvcDpmdW5jdGlvbih0KXt2YXIgaT0wLHI9dD9mLnR3ZWVucy5sZW5ndGg6MDtpZihzKXJldHVybiB0aGlzO2ZvcihzPSEwO2k8cjtpKyspZi50d2VlbnNbaV0ucnVuKDEpO3JldHVybiB0PyhlLm5vdGlmeVdpdGgobixbZiwxLDBdKSxlLnJlc29sdmVXaXRoKG4sW2YsdF0pKTplLnJlamVjdFdpdGgobixbZix0XSksdGhpc319KSxjPWYucHJvcHM7Zm9yKCFmdW5jdGlvbihuLHQpe3ZhciByLGYsZSx1LG87Zm9yKHIgaW4gbilpZihlPXRbZj15KHIpXSx1PW5bcl0sQXJyYXkuaXNBcnJheSh1KSYmKGU9dVsxXSx1PW5bcl09dVswXSksciE9PWYmJihuW2ZdPXUsZGVsZXRlIG5bcl0pLChvPWkuY3NzSG9va3NbZl0pJiYiZXhwYW5kImluIG8pZm9yKHIgaW4gdT1vLmV4cGFuZCh1KSxkZWxldGUgbltmXSx1KXIgaW4gbnx8KG5bcl09dVtyXSx0W3JdPWUpO2Vsc2UgdFtmXT1lfShjLGYub3B0cy5zcGVjaWFsRWFzaW5nKTtoPGE7aCsrKWlmKG89di5wcmVmaWx0ZXJzW2hdLmNhbGwoZixuLGMsZi5vcHRzKSlyZXR1cm4gdShvLnN0b3ApJiYoaS5fcXVldWVIb29rcyhmLmVsZW0sZi5vcHRzLnF1ZXVlKS5zdG9wPW8uc3RvcC5iaW5kKG8pKSxvO3JldHVybiBpLm1hcChjLGFmLGYpLHUoZi5vcHRzLnN0YXJ0KSYmZi5vcHRzLnN0YXJ0LmNhbGwobixmKSxmLnByb2dyZXNzKGYub3B0cy5wcm9ncmVzcykuZG9uZShmLm9wdHMuZG9uZSxmLm9wdHMuY29tcGxldGUpLmZhaWwoZi5vcHRzLmZhaWwpLmFsd2F5cyhmLm9wdHMuYWx3YXlzKSxpLmZ4LnRpbWVyKGkuZXh0ZW5kKGwse2VsZW06bixhbmltOmYscXVldWU6Zi5vcHRzLnF1ZXVlfSkpLGZ9ZnVuY3Rpb24gdHQobil7cmV0dXJuKG4ubWF0Y2gobCl8fFtdKS5qb2luKCIgIil9ZnVuY3Rpb24gaXQobil7cmV0dXJuIG4uZ2V0QXR0cmlidXRlJiZuLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiJ9ZnVuY3Rpb24gdXIobil7cmV0dXJuIEFycmF5LmlzQXJyYXkobik/bjoic3RyaW5nIj09dHlwZW9mIG4mJm4ubWF0Y2gobCl8fFtdfWZ1bmN0aW9uIHNyKG4sdCxyLHUpe3ZhciBmO2lmKEFycmF5LmlzQXJyYXkodCkpaS5lYWNoKHQsZnVuY3Rpb24odCxpKXtyfHxmby50ZXN0KG4pP3UobixpKTpzcihuKyJbIisoIm9iamVjdCI9PXR5cGVvZiBpJiZudWxsIT1pP3Q6IiIpKyJdIixpLHIsdSl9KTtlbHNlIGlmKHJ8fCJvYmplY3QiIT09dXQodCkpdShuLHQpO2Vsc2UgZm9yKGYgaW4gdClzcihuKyJbIitmKyJdIix0W2ZdLHIsdSl9ZnVuY3Rpb24gbmUobil7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7InN0cmluZyIhPXR5cGVvZiB0JiYoaT10LHQ9IioiKTt2YXIgcixmPTAsZT10LnRvTG93ZXJDYXNlKCkubWF0Y2gobCl8fFtdO2lmKHUoaSkpd2hpbGUocj1lW2YrK10pIisiPT09clswXT8ocj1yLnNsaWNlKDEpfHwiKiIsKG5bcl09bltyXXx8W10pLnVuc2hpZnQoaSkpOihuW3JdPW5bcl18fFtdKS5wdXNoKGkpfX1mdW5jdGlvbiB0ZShuLHQscix1KXtmdW5jdGlvbiBlKHMpe3ZhciBoO3JldHVybiBmW3NdPSEwLGkuZWFjaChuW3NdfHxbXSxmdW5jdGlvbihuLGkpe3ZhciBzPWkodCxyLHUpO3JldHVybiJzdHJpbmciIT10eXBlb2Ygc3x8b3x8ZltzXT9vPyEoaD1zKTp2b2lkIDA6KHQuZGF0YVR5cGVzLnVuc2hpZnQocyksZShzKSwhMSl9KSxofXZhciBmPXt9LG89bj09PWhyO3JldHVybiBlKHQuZGF0YVR5cGVzWzBdKXx8IWZbIioiXSYmZSgiKiIpfWZ1bmN0aW9uIGxyKG4sdCl7dmFyIHIsdSxmPWkuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IociBpbiB0KXZvaWQgMCE9PXRbcl0mJigoZltyXT9uOnV8fCh1PXt9KSlbcl09dFtyXSk7cmV0dXJuIHUmJmkuZXh0ZW5kKCEwLG4sdSksbn12YXIgcD1bXSx2cj1PYmplY3QuZ2V0UHJvdG90eXBlT2Ysaz1wLnNsaWNlLHlyPXAuZmxhdD9mdW5jdGlvbihuKXtyZXR1cm4gcC5mbGF0LmNhbGwobil9OmZ1bmN0aW9uKG4pe3JldHVybiBwLmNvbmNhdC5hcHBseShbXSxuKX0seWk9cC5wdXNoLGlpPXAuaW5kZXhPZixyaT17fSxwcj1yaS50b1N0cmluZyx1aT1yaS5oYXNPd25Qcm9wZXJ0eSx3cj11aS50b1N0cmluZyxvZT13ci5jYWxsKE9iamVjdCksZT17fSx1PWZ1bmN0aW9uKG4pe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYibnVtYmVyIiE9dHlwZW9mIG4ubm9kZVR5cGV9LHJ0PWZ1bmN0aW9uKG4pe3JldHVybiBudWxsIT1uJiZuPT09bi53aW5kb3d9LGY9bi5kb2N1bWVudCxzZT17dHlwZTohMCxzcmM6ITAsbm9uY2U6ITAsbm9Nb2R1bGU6ITB9LGtyPSIzLjUuMSIsaT1mdW5jdGlvbihuLHQpe3JldHVybiBuZXcgaS5mbi5pbml0KG4sdCl9LGQsd2ksbnUsdHUsaXUscnUsbCxldSxlaSxvdCxkdCxraSxoLGF1LHZ0LGxpLHl0LHNmLGhmLGNmLHZmLHB0LHlmLHBmLHdmLGZyLGVyLGllLHd0LHJlLGFyLHZpLHVlLGZlLGVlO2kuZm49aS5wcm90b3R5cGU9e2pxdWVyeTprcixjb25zdHJ1Y3RvcjppLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gay5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4/ay5jYWxsKHRoaXMpOm48MD90aGlzW24rdGhpcy5sZW5ndGhdOnRoaXNbbl19LHB1c2hTdGFjazpmdW5jdGlvbihuKXt2YXIgdD1pLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxuKTtyZXR1cm4gdC5wcmV2T2JqZWN0PXRoaXMsdH0sZWFjaDpmdW5jdGlvbihuKXtyZXR1cm4gaS5lYWNoKHRoaXMsbil9LG1hcDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaS5tYXAodGhpcyxmdW5jdGlvbih0LGkpe3JldHVybiBuLmNhbGwodCxpLHQpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhrLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGV2ZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaS5ncmVwKHRoaXMsZnVuY3Rpb24obix0KXtyZXR1cm4odCsxKSUyfSkpfSxvZGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soaS5ncmVwKHRoaXMsZnVuY3Rpb24obix0KXtyZXR1cm4gdCUyfSkpfSxlcTpmdW5jdGlvbihuKXt2YXIgaT10aGlzLmxlbmd0aCx0PStuKyhuPDA/aTowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soMDw9dCYmdDxpP1t0aGlzW3RdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDp5aSxzb3J0OnAuc29ydCxzcGxpY2U6cC5zcGxpY2V9O2kuZXh0ZW5kPWkuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIHMsZixlLHQsbyxjLG49YXJndW1lbnRzWzBdfHx7fSxyPTEsbD1hcmd1bWVudHMubGVuZ3RoLGg9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIG4mJihoPW4sbj1hcmd1bWVudHNbcl18fHt9LHIrKyksIm9iamVjdCI9PXR5cGVvZiBufHx1KG4pfHwobj17fSkscj09PWwmJihuPXRoaXMsci0tKTtyPGw7cisrKWlmKG51bGwhPShzPWFyZ3VtZW50c1tyXSkpZm9yKGYgaW4gcyl0PXNbZl0sIl9fcHJvdG9fXyIhPT1mJiZuIT09dCYmKGgmJnQmJihpLmlzUGxhaW5PYmplY3QodCl8fChvPUFycmF5LmlzQXJyYXkodCkpKT8oZT1uW2ZdLGM9byYmIUFycmF5LmlzQXJyYXkoZSk/W106b3x8aS5pc1BsYWluT2JqZWN0KGUpP2U6e30sbz0hMSxuW2ZdPWkuZXh0ZW5kKGgsYyx0KSk6dm9pZCAwIT09dCYmKG5bZl09dCkpO3JldHVybiBufTtpLmV4dGVuZCh7ZXhwYW5kbzoialF1ZXJ5Iisoa3IrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihuKXt0aHJvdyBuZXcgRXJyb3Iobik7fSxub29wOmZ1bmN0aW9uKCl7fSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKG4pe3ZhciB0LGk7cmV0dXJuISghbnx8IltvYmplY3QgT2JqZWN0XSIhPT1wci5jYWxsKG4pKSYmKCEodD12cihuKSl8fCJmdW5jdGlvbiI9PXR5cGVvZihpPXVpLmNhbGwodCwiY29uc3RydWN0b3IiKSYmdC5jb25zdHJ1Y3RvcikmJndyLmNhbGwoaSk9PT1vZSl9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24obil7Zm9yKHZhciB0IGluIG4pcmV0dXJuITE7cmV0dXJuITB9LGdsb2JhbEV2YWw6ZnVuY3Rpb24obix0LGkpe2JyKG4se25vbmNlOnQmJnQubm9uY2V9LGkpfSxlYWNoOmZ1bmN0aW9uKG4sdCl7dmFyIHIsaT0wO2lmKHBpKG4pKXtmb3Iocj1uLmxlbmd0aDtpPHI7aSsrKWlmKCExPT09dC5jYWxsKG5baV0saSxuW2ldKSlicmVha31lbHNlIGZvcihpIGluIG4paWYoITE9PT10LmNhbGwobltpXSxpLG5baV0pKWJyZWFrO3JldHVybiBufSxtYWtlQXJyYXk6ZnVuY3Rpb24obix0KXt2YXIgcj10fHxbXTtyZXR1cm4gbnVsbCE9biYmKHBpKE9iamVjdChuKSk/aS5tZXJnZShyLCJzdHJpbmciPT10eXBlb2Ygbj9bbl06bik6eWkuY2FsbChyLG4pKSxyfSxpbkFycmF5OmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gbnVsbD09dD8tMTppaS5jYWxsKHQsbixpKX0sbWVyZ2U6ZnVuY3Rpb24obix0KXtmb3IodmFyIHU9K3QubGVuZ3RoLGk9MCxyPW4ubGVuZ3RoO2k8dTtpKyspbltyKytdPXRbaV07cmV0dXJuIG4ubGVuZ3RoPXIsbn0sZ3JlcDpmdW5jdGlvbihuLHQsaSl7Zm9yKHZhciB1PVtdLHI9MCxmPW4ubGVuZ3RoLGU9IWk7cjxmO3IrKykhdChuW3JdLHIpIT09ZSYmdS5wdXNoKG5bcl0pO3JldHVybiB1fSxtYXA6ZnVuY3Rpb24obix0LGkpe3ZhciBlLHUscj0wLGY9W107aWYocGkobikpZm9yKGU9bi5sZW5ndGg7cjxlO3IrKyludWxsIT0odT10KG5bcl0scixpKSkmJmYucHVzaCh1KTtlbHNlIGZvcihyIGluIG4pbnVsbCE9KHU9dChuW3JdLHIsaSkpJiZmLnB1c2godSk7cmV0dXJuIHlyKGYpfSxndWlkOjEsc3VwcG9ydDplfSk7ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKGkuZm5bU3ltYm9sLml0ZXJhdG9yXT1wW1N5bWJvbC5pdGVyYXRvcl0pO2kuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCIgIiksZnVuY3Rpb24obix0KXtyaVsiW29iamVjdCAiK3QrIl0iXT10LnRvTG93ZXJDYXNlKCl9KTtkPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHUobix0LHIsdSl7dmFyIHMseSxjLGwscCx3LGQsdj10JiZ0Lm93bmVyRG9jdW1lbnQsYT10P3Qubm9kZVR5cGU6OTtpZihyPXJ8fFtdLCJzdHJpbmciIT10eXBlb2Ygbnx8IW58fDEhPT1hJiY5IT09YSYmMTEhPT1hKXJldHVybiByO2lmKCF1JiYoYih0KSx0PXR8fGksaCkpe2lmKDExIT09YSYmKHA9YXIuZXhlYyhuKSkpaWYocz1wWzFdKXtpZig5PT09YSl7aWYoIShjPXQuZ2V0RWxlbWVudEJ5SWQocykpKXJldHVybiByO2lmKGMuaWQ9PT1zKXJldHVybiByLnB1c2goYykscn1lbHNlIGlmKHYmJihjPXYuZ2V0RWxlbWVudEJ5SWQocykpJiZldCh0LGMpJiZjLmlkPT09cylyZXR1cm4gci5wdXNoKGMpLHJ9ZWxzZXtpZihwWzJdKXJldHVybiBrLmFwcGx5KHIsdC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKSkscjtpZigocz1wWzNdKSYmZi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZ0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIGsuYXBwbHkocix0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUocykpLHJ9aWYoZi5xc2EmJiFsdFtuKyIgIl0mJighb3x8IW8udGVzdChuKSkmJigxIT09YXx8Im9iamVjdCIhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpKXtpZihkPW4sdj10LDE9PT1hJiYoZXIudGVzdChuKXx8eWkudGVzdChuKSkpe2Zvcigodj10aS50ZXN0KG4pJiZyaSh0LnBhcmVudE5vZGUpfHx0KT09PXQmJmYuc2NvcGV8fCgobD10LmdldEF0dHJpYnV0ZSgiaWQiKSk/bD1sLnJlcGxhY2UocGksd2kpOnQuc2V0QXR0cmlidXRlKCJpZCIsbD1lKSkseT0odz1mdChuKSkubGVuZ3RoO3ktLTspd1t5XT0obD8iIyIrbDoiOnNjb3BlIikrIiAiK3B0KHdbeV0pO2Q9dy5qb2luKCIsIil9dHJ5e3JldHVybiBrLmFwcGx5KHIsdi5xdWVyeVNlbGVjdG9yQWxsKGQpKSxyfWNhdGNoKHQpe2x0KG4sITApfWZpbmFsbHl7bD09PWUmJnQucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIHNpKG4ucmVwbGFjZShhdCwiJDEiKSx0LHIsdSl9ZnVuY3Rpb24geXQoKXt2YXIgbj1bXTtyZXR1cm4gZnVuY3Rpb24gaShyLHUpe3JldHVybiBuLnB1c2gocisiICIpPnQuY2FjaGVMZW5ndGgmJmRlbGV0ZSBpW24uc2hpZnQoKV0saVtyKyIgIl09dX19ZnVuY3Rpb24gbChuKXtyZXR1cm4gbltlXT0hMCxufWZ1bmN0aW9uIGEobil7dmFyIHQ9aS5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIW4odCl9Y2F0Y2gobil7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTt0PW51bGx9fWZ1bmN0aW9uIGlpKG4saSl7Zm9yKHZhciByPW4uc3BsaXQoInwiKSx1PXIubGVuZ3RoO3UtLTspdC5hdHRySGFuZGxlW3JbdV1dPWl9ZnVuY3Rpb24ga2kobix0KXt2YXIgaT10JiZuLHI9aSYmMT09PW4ubm9kZVR5cGUmJjE9PT10Lm5vZGVUeXBlJiZuLnNvdXJjZUluZGV4LXQuc291cmNlSW5kZXg7aWYocilyZXR1cm4gcjtpZihpKXdoaWxlKGk9aS5uZXh0U2libGluZylpZihpPT09dClyZXR1cm4tMTtyZXR1cm4gbj8xOi0xfWZ1bmN0aW9uIHlyKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iaW5wdXQiPT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZ0LnR5cGU9PT1ufX1mdW5jdGlvbiBwcihuKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybigiaW5wdXQiPT09aXx8ImJ1dHRvbiI9PT1pKSYmdC50eXBlPT09bn19ZnVuY3Rpb24gZGkobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJmb3JtImluIHQ/dC5wYXJlbnROb2RlJiYhMT09PXQuZGlzYWJsZWQ/ImxhYmVsImluIHQ/ImxhYmVsImluIHQucGFyZW50Tm9kZT90LnBhcmVudE5vZGUuZGlzYWJsZWQ9PT1uOnQuZGlzYWJsZWQ9PT1uOnQuaXNEaXNhYmxlZD09PW58fHQuaXNEaXNhYmxlZCE9PSFuJiZ2cih0KT09PW46dC5kaXNhYmxlZD09PW46ImxhYmVsImluIHQmJnQuZGlzYWJsZWQ9PT1ufX1mdW5jdGlvbiBpdChuKXtyZXR1cm4gbChmdW5jdGlvbih0KXtyZXR1cm4gdD0rdCxsKGZ1bmN0aW9uKGkscil7Zm9yKHZhciB1LGY9bihbXSxpLmxlbmd0aCx0KSxlPWYubGVuZ3RoO2UtLTspaVt1PWZbZV1dJiYoaVt1XT0hKHJbdV09aVt1XSkpfSl9KX1mdW5jdGlvbiByaShuKXtyZXR1cm4gbiYmInVuZGVmaW5lZCIhPXR5cGVvZiBuLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZufWZ1bmN0aW9uIGdpKCl7fWZ1bmN0aW9uIHB0KG4pe2Zvcih2YXIgdD0wLHI9bi5sZW5ndGgsaT0iIjt0PHI7dCsrKWkrPW5bdF0udmFsdWU7cmV0dXJuIGl9ZnVuY3Rpb24gd3Qobix0LGkpe3ZhciByPXQuZGlyLHU9dC5uZXh0LGY9dXx8cixvPWkmJiJwYXJlbnROb2RlIj09PWYscz1ucisrO3JldHVybiB0LmZpcnN0P2Z1bmN0aW9uKHQsaSx1KXt3aGlsZSh0PXRbcl0paWYoMT09PXQubm9kZVR5cGV8fG8pcmV0dXJuIG4odCxpLHUpO3JldHVybiExfTpmdW5jdGlvbih0LGksaCl7dmFyIGMsbCxhLHk9W3Ysc107aWYoaCl7d2hpbGUodD10W3JdKWlmKCgxPT09dC5ub2RlVHlwZXx8bykmJm4odCxpLGgpKXJldHVybiEwfWVsc2Ugd2hpbGUodD10W3JdKWlmKDE9PT10Lm5vZGVUeXBlfHxvKWlmKGw9KGE9dFtlXXx8KHRbZV09e30pKVt0LnVuaXF1ZUlEXXx8KGFbdC51bmlxdWVJRF09e30pLHUmJnU9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpdD10W3JdfHx0O2Vsc2V7aWYoKGM9bFtmXSkmJmNbMF09PT12JiZjWzFdPT09cylyZXR1cm4geVsyXT1jWzJdO2lmKChsW2ZdPXkpWzJdPW4odCxpLGgpKXJldHVybiEwfXJldHVybiExfX1mdW5jdGlvbiB1aShuKXtyZXR1cm4gMTxuLmxlbmd0aD9mdW5jdGlvbih0LGkscil7Zm9yKHZhciB1PW4ubGVuZ3RoO3UtLTspaWYoIW5bdV0odCxpLHIpKXJldHVybiExO3JldHVybiEwfTpuWzBdfWZ1bmN0aW9uIGJ0KG4sdCxpLHIsdSl7Zm9yKHZhciBlLG89W10sZj0wLHM9bi5sZW5ndGgsaD1udWxsIT10O2Y8cztmKyspKGU9bltmXSkmJihpJiYhaShlLHIsdSl8fChvLnB1c2goZSksaCYmdC5wdXNoKGYpKSk7cmV0dXJuIG99ZnVuY3Rpb24gZmkobix0LGkscixmLG8pe3JldHVybiByJiYhcltlXSYmKHI9ZmkocikpLGYmJiFmW2VdJiYoZj1maShmLG8pKSxsKGZ1bmN0aW9uKGUsbyxzLGgpe3ZhciBhLGwsdix3PVtdLHA9W10sYj1vLmxlbmd0aCxkPWV8fGZ1bmN0aW9uKG4sdCxpKXtmb3IodmFyIHI9MCxmPXQubGVuZ3RoO3I8ZjtyKyspdShuLHRbcl0saSk7cmV0dXJuIGl9KHR8fCIqIixzLm5vZGVUeXBlP1tzXTpzLFtdKSx5PSFufHwhZSYmdD9kOmJ0KGQsdyxuLHMsaCksYz1pP2Z8fChlP246Ynx8cik/W106bzp5O2lmKGkmJmkoeSxjLHMsaCkscilmb3IoYT1idChjLHApLHIoYSxbXSxzLGgpLGw9YS5sZW5ndGg7bC0tOykodj1hW2xdKSYmKGNbcFtsXV09ISh5W3BbbF1dPXYpKTtpZihlKXtpZihmfHxuKXtpZihmKXtmb3IoYT1bXSxsPWMubGVuZ3RoO2wtLTspKHY9Y1tsXSkmJmEucHVzaCh5W2xdPXYpO2YobnVsbCxjPVtdLGEsaCl9Zm9yKGw9Yy5sZW5ndGg7bC0tOykodj1jW2xdKSYmLTE8KGE9Zj9udChlLHYpOndbbF0pJiYoZVthXT0hKG9bYV09dikpfX1lbHNlIGM9YnQoYz09PW8/Yy5zcGxpY2UoYixjLmxlbmd0aCk6YyksZj9mKG51bGwsbyxjLGgpOmsuYXBwbHkobyxjKX0pfWZ1bmN0aW9uIGVpKG4pe2Zvcih2YXIgbyx1LHIscz1uLmxlbmd0aCxoPXQucmVsYXRpdmVbblswXS50eXBlXSxjPWh8fHQucmVsYXRpdmVbIiAiXSxpPWg/MTowLGw9d3QoZnVuY3Rpb24obil7cmV0dXJuIG49PT1vfSxjLCEwKSxhPXd0KGZ1bmN0aW9uKG4pe3JldHVybi0xPG50KG8sbil9LGMsITApLGY9W2Z1bmN0aW9uKG4sdCxpKXt2YXIgcj0haCYmKGl8fHQhPT1odCl8fCgobz10KS5ub2RlVHlwZT9sKG4sdCxpKTphKG4sdCxpKSk7cmV0dXJuIG89bnVsbCxyfV07aTxzO2krKylpZih1PXQucmVsYXRpdmVbbltpXS50eXBlXSlmPVt3dCh1aShmKSx1KV07ZWxzZXtpZigodT10LmZpbHRlcltuW2ldLnR5cGVdLmFwcGx5KG51bGwsbltpXS5tYXRjaGVzKSlbZV0pe2ZvcihyPSsraTtyPHM7cisrKWlmKHQucmVsYXRpdmVbbltyXS50eXBlXSlicmVhaztyZXR1cm4gZmkoMTxpJiZ1aShmKSwxPGkmJnB0KG4uc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09bltpLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoYXQsIiQxIiksdSxpPHImJmVpKG4uc2xpY2UoaSxyKSkscjxzJiZlaShuPW4uc2xpY2UocikpLHI8cyYmcHQobikpfWYucHVzaCh1KX1yZXR1cm4gdWkoZil9dmFyIHJ0LGYsdCxzdCxvaSxmdCxrdCxzaSxodCx3LHV0LGIsaSxzLGgsbyxkLGN0LGV0LGU9InNpenpsZSIrMSpuZXcgRGF0ZSxjPW4uZG9jdW1lbnQsdj0wLG5yPTAsaGk9eXQoKSxjaT15dCgpLGxpPXl0KCksbHQ9eXQoKSxkdD1mdW5jdGlvbihuLHQpe3JldHVybiBuPT09dCYmKHV0PSEwKSwwfSx0cj17fS5oYXNPd25Qcm9wZXJ0eSxnPVtdLGlyPWcucG9wLHJyPWcucHVzaCxrPWcucHVzaCxhaT1nLnNsaWNlLG50PWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPTAscj1uLmxlbmd0aDtpPHI7aSsrKWlmKG5baV09PT10KXJldHVybiBpO3JldHVybi0xfSxndD0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLHI9IltcXHgyMFxcdFxcclxcblxcZl0iLHR0PSIoPzpcXFxcW1xcZGEtZkEtRl17MSw2fSIrcisiP3xcXFxcW15cXHJcXG5cXGZdfFtcXHctXXxbXlwwLVxceDdmXSkrIix2aT0iXFxbIityKyIqKCIrdHQrIikoPzoiK3IrIiooWypeJHwhfl0/PSkiK3IrIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIit0dCsiKSl8KSIrcisiKlxcXSIsbmk9IjooIit0dCsiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrdmkrIikqKXwuKilcXCl8KSIsdXI9bmV3IFJlZ0V4cChyKyIrIiwiZyIpLGF0PW5ldyBSZWdFeHAoIl4iK3IrIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrcisiKyQiLCJnIiksZnI9bmV3IFJlZ0V4cCgiXiIrcisiKiwiK3IrIioiKSx5aT1uZXcgUmVnRXhwKCJeIityKyIqKFs+K35dfCIrcisiKSIrcisiKiIpLGVyPW5ldyBSZWdFeHAocisifD4iKSxvcj1uZXcgUmVnRXhwKG5pKSxzcj1uZXcgUmVnRXhwKCJeIit0dCsiJCIpLHZ0PXtJRDpuZXcgUmVnRXhwKCJeIygiK3R0KyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK3R0KyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIit0dCsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK3ZpKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrbmkpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrcisiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrcisiKig/OihbKy1dfCkiK3IrIiooXFxkKyl8KSkiK3IrIipcXCl8KSIsImkiKSxib29sOm5ldyBSZWdFeHAoIl4oPzoiK2d0KyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrcisiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIityKyIqKCg/Oi1cXGQpP1xcZCopIityKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxocj0vSFRNTCQvaSxjcj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGxyPS9eaFxkJC9pLG90PS9eW157XStce1xzKlxbbmF0aXZlIFx3Lyxhcj0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLHRpPS9bK35dLyx5PW5ldyBSZWdFeHAoIlxcXFxbXFxkYS1mQS1GXXsxLDZ9IityKyI/fFxcXFwoW15cXHJcXG5cXGZdKSIsImciKSxwPWZ1bmN0aW9uKG4sdCl7dmFyIGk9IjB4IituLnNsaWNlKDEpLTY1NTM2O3JldHVybiB0fHwoaTwwP1N0cmluZy5mcm9tQ2hhckNvZGUoaSs2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShpPj4xMHw1NTI5NiwxMDIzJml8NTYzMjApKX0scGk9LyhbXDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csd2k9ZnVuY3Rpb24obix0KXtyZXR1cm4gdD8iXDAiPT09bj8i77+9IjpuLnNsaWNlKDAsLTEpKyJcXCIrbi5jaGFyQ29kZUF0KG4ubGVuZ3RoLTEpLnRvU3RyaW5nKDE2KSsiICI6IlxcIitufSxiaT1mdW5jdGlvbigpe2IoKX0sdnI9d3QoZnVuY3Rpb24obil7cmV0dXJuITA9PT1uLmRpc2FibGVkJiYiZmllbGRzZXQiPT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpfSx7ZGlyOiJwYXJlbnROb2RlIixuZXh0OiJsZWdlbmQifSk7dHJ5e2suYXBwbHkoZz1haS5jYWxsKGMuY2hpbGROb2RlcyksYy5jaGlsZE5vZGVzKTtnW2MuY2hpbGROb2Rlcy5sZW5ndGhdLm5vZGVUeXBlfWNhdGNoKHJ0KXtrPXthcHBseTpnLmxlbmd0aD9mdW5jdGlvbihuLHQpe3JyLmFwcGx5KG4sYWkuY2FsbCh0KSl9OmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPW4ubGVuZ3RoLHI9MDtuW2krK109dFtyKytdOyk7bi5sZW5ndGg9aS0xfX19Zm9yKHJ0IGluIGY9dS5zdXBwb3J0PXt9LG9pPXUuaXNYTUw9ZnVuY3Rpb24obil7dmFyIGk9bi5uYW1lc3BhY2VVUkksdD0obi5vd25lckRvY3VtZW50fHxuKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIWhyLnRlc3QoaXx8dCYmdC5ub2RlTmFtZXx8IkhUTUwiKX0sYj11LnNldERvY3VtZW50PWZ1bmN0aW9uKG4pe3ZhciB2LHUsbD1uP24ub3duZXJEb2N1bWVudHx8bjpjO3JldHVybiBsIT1pJiY5PT09bC5ub2RlVHlwZSYmbC5kb2N1bWVudEVsZW1lbnQmJihzPShpPWwpLmRvY3VtZW50RWxlbWVudCxoPSFvaShpKSxjIT1pJiYodT1pLmRlZmF1bHRWaWV3KSYmdS50b3AhPT11JiYodS5hZGRFdmVudExpc3RlbmVyP3UuYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIixiaSwhMSk6dS5hdHRhY2hFdmVudCYmdS5hdHRhY2hFdmVudCgib251bmxvYWQiLGJpKSksZi5zY29wZT1hKGZ1bmN0aW9uKG4pe3JldHVybiBzLmFwcGVuZENoaWxkKG4pLmFwcGVuZENoaWxkKGkuY3JlYXRlRWxlbWVudCgiZGl2IikpLCJ1bmRlZmluZWQiIT10eXBlb2Ygbi5xdWVyeVNlbGVjdG9yQWxsJiYhbi5xdWVyeVNlbGVjdG9yQWxsKCI6c2NvcGUgZmllbGRzZXQgZGl2IikubGVuZ3RofSksZi5hdHRyaWJ1dGVzPWEoZnVuY3Rpb24obil7cmV0dXJuIG4uY2xhc3NOYW1lPSJpIiwhbi5nZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIpfSksZi5nZXRFbGVtZW50c0J5VGFnTmFtZT1hKGZ1bmN0aW9uKG4pe3JldHVybiBuLmFwcGVuZENoaWxkKGkuY3JlYXRlQ29tbWVudCgiIikpLCFuLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksZi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPW90LnRlc3QoaS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSxmLmdldEJ5SWQ9YShmdW5jdGlvbihuKXtyZXR1cm4gcy5hcHBlbmRDaGlsZChuKS5pZD1lLCFpLmdldEVsZW1lbnRzQnlOYW1lfHwhaS5nZXRFbGVtZW50c0J5TmFtZShlKS5sZW5ndGh9KSxmLmdldEJ5SWQ/KHQuZmlsdGVyLklEPWZ1bmN0aW9uKG4pe3ZhciB0PW4ucmVwbGFjZSh5LHApO3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbi5nZXRBdHRyaWJ1dGUoImlkIik9PT10fX0sdC5maW5kLklEPWZ1bmN0aW9uKG4sdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZoKXt2YXIgaT10LmdldEVsZW1lbnRCeUlkKG4pO3JldHVybiBpP1tpXTpbXX19KToodC5maWx0ZXIuSUQ9ZnVuY3Rpb24obil7dmFyIHQ9bi5yZXBsYWNlKHkscCk7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpPSJ1bmRlZmluZWQiIT10eXBlb2Ygbi5nZXRBdHRyaWJ1dGVOb2RlJiZuLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIGkmJmkudmFsdWU9PT10fX0sdC5maW5kLklEPWZ1bmN0aW9uKG4sdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRCeUlkJiZoKXt2YXIgcix1LGYsaT10LmdldEVsZW1lbnRCeUlkKG4pO2lmKGkpe2lmKChyPWkuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKSkmJnIudmFsdWU9PT1uKXJldHVybltpXTtmb3IoZj10LmdldEVsZW1lbnRzQnlOYW1lKG4pLHU9MDtpPWZbdSsrXTspaWYoKHI9aS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpKSYmci52YWx1ZT09PW4pcmV0dXJuW2ldfXJldHVybltdfX0pLHQuZmluZC5UQUc9Zi5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihuLHQpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5VGFnTmFtZT90LmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pOmYucXNhP3QucXVlcnlTZWxlY3RvckFsbChuKTp2b2lkIDB9OmZ1bmN0aW9uKG4sdCl7dmFyIGkscj1bXSxmPTAsdT10LmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pO2lmKCIqIj09PW4pe3doaWxlKGk9dVtmKytdKTE9PT1pLm5vZGVUeXBlJiZyLnB1c2goaSk7cmV0dXJuIHJ9cmV0dXJuIHV9LHQuZmluZC5DTEFTUz1mLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKG4sdCl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmgpcmV0dXJuIHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShuKX0sZD1bXSxvPVtdLChmLnFzYT1vdC50ZXN0KGkucXVlcnlTZWxlY3RvckFsbCkpJiYoYShmdW5jdGlvbihuKXt2YXIgdDtzLmFwcGVuZENoaWxkKG4pLmlubmVySFRNTD0iPGEgaWQ9JyIrZSsiJz48XC9hPjxzZWxlY3QgaWQ9JyIrZSsiLVxyXFwnIG1zYWxsb3djYXB0dXJlPScnPjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PFwvb3B0aW9uPjxcL3NlbGVjdD4iO24ucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJm8ucHVzaCgiWypeJF09IityKyIqKD86Jyd8XCJcIikiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fG8ucHVzaCgiXFxbIityKyIqKD86dmFsdWV8IitndCsiKSIpO24ucXVlcnlTZWxlY3RvckFsbCgiW2lkfj0iK2UrIi1dIikubGVuZ3RofHxvLnB1c2goIn49Iik7KHQ9aS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCIiKTtuLmFwcGVuZENoaWxkKHQpO24ucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9JyddIikubGVuZ3RofHxvLnB1c2goIlxcWyIrcisiKm5hbWUiK3IrIio9IityKyIqKD86Jyd8XCJcIikiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHxvLnB1c2goIjpjaGVja2VkIik7bi5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrZSsiKyoiKS5sZW5ndGh8fG8ucHVzaCgiLiMuK1srfl0iKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIlxcXGYiKTtvLnB1c2goIltcXHJcXG5cXGZdIil9KSxhKGZ1bmN0aW9uKG4pe24uaW5uZXJIVE1MPSI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PFwvYT48c2VsZWN0IGRpc2FibGVkPSdkaXNhYmxlZCc+PG9wdGlvbi8+PFwvc2VsZWN0PiI7dmFyIHQ9aS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Quc2V0QXR0cmlidXRlKCJ0eXBlIiwiaGlkZGVuIik7bi5hcHBlbmRDaGlsZCh0KS5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJEIik7bi5xdWVyeVNlbGVjdG9yQWxsKCJbbmFtZT1kXSIpLmxlbmd0aCYmby5wdXNoKCJuYW1lIityKyIqWypeJHwhfl0/PSIpOzIhPT1uLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RoJiZvLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIik7cy5hcHBlbmRDaGlsZChuKS5kaXNhYmxlZD0hMDsyIT09bi5xdWVyeVNlbGVjdG9yQWxsKCI6ZGlzYWJsZWQiKS5sZW5ndGgmJm8ucHVzaCgiOmVuYWJsZWQiLCI6ZGlzYWJsZWQiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIiosOngiKTtvLnB1c2goIiwuKjoiKX0pKSwoZi5tYXRjaGVzU2VsZWN0b3I9b3QudGVzdChjdD1zLm1hdGNoZXN8fHMud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxzLm1vek1hdGNoZXNTZWxlY3Rvcnx8cy5vTWF0Y2hlc1NlbGVjdG9yfHxzLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmEoZnVuY3Rpb24obil7Zi5kaXNjb25uZWN0ZWRNYXRjaD1jdC5jYWxsKG4sIioiKTtjdC5jYWxsKG4sIltzIT0nJ106eCIpO2QucHVzaCgiIT0iLG5pKX0pLG89by5sZW5ndGgmJm5ldyBSZWdFeHAoby5qb2luKCJ8IikpLGQ9ZC5sZW5ndGgmJm5ldyBSZWdFeHAoZC5qb2luKCJ8IikpLHY9b3QudGVzdChzLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSxldD12fHxvdC50ZXN0KHMuY29udGFpbnMpP2Z1bmN0aW9uKG4sdCl7dmFyIHI9OT09PW4ubm9kZVR5cGU/bi5kb2N1bWVudEVsZW1lbnQ6bixpPXQmJnQucGFyZW50Tm9kZTtyZXR1cm4gbj09PWl8fCEoIWl8fDEhPT1pLm5vZGVUeXBlfHwhKHIuY29udGFpbnM/ci5jb250YWlucyhpKTpuLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uJiYxNiZuLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGkpKSl9OmZ1bmN0aW9uKG4sdCl7aWYodCl3aGlsZSh0PXQucGFyZW50Tm9kZSlpZih0PT09bilyZXR1cm4hMDtyZXR1cm4hMX0sZHQ9dj9mdW5jdGlvbihuLHQpe2lmKG49PT10KXJldHVybiB1dD0hMCwwO3ZhciByPSFuLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSF0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiByfHwoMSYocj0obi5vd25lckRvY3VtZW50fHxuKT09KHQub3duZXJEb2N1bWVudHx8dCk/bi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0KToxKXx8IWYuc29ydERldGFjaGVkJiZ0LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG4pPT09cj9uPT1pfHxuLm93bmVyRG9jdW1lbnQ9PWMmJmV0KGMsbik/LTE6dD09aXx8dC5vd25lckRvY3VtZW50PT1jJiZldChjLHQpPzE6dz9udCh3LG4pLW50KHcsdCk6MDo0JnI/LTE6MSl9OmZ1bmN0aW9uKG4sdCl7aWYobj09PXQpcmV0dXJuIHV0PSEwLDA7dmFyIHIsdT0wLG89bi5wYXJlbnROb2RlLHM9dC5wYXJlbnROb2RlLGY9W25dLGU9W3RdO2lmKCFvfHwhcylyZXR1cm4gbj09aT8tMTp0PT1pPzE6bz8tMTpzPzE6dz9udCh3LG4pLW50KHcsdCk6MDtpZihvPT09cylyZXR1cm4ga2kobix0KTtmb3Iocj1uO3I9ci5wYXJlbnROb2RlOylmLnVuc2hpZnQocik7Zm9yKHI9dDtyPXIucGFyZW50Tm9kZTspZS51bnNoaWZ0KHIpO3doaWxlKGZbdV09PT1lW3VdKXUrKztyZXR1cm4gdT9raShmW3VdLGVbdV0pOmZbdV09PWM/LTE6ZVt1XT09Yz8xOjB9KSxpfSx1Lm1hdGNoZXM9ZnVuY3Rpb24obix0KXtyZXR1cm4gdShuLG51bGwsbnVsbCx0KX0sdS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24obix0KXtpZihiKG4pLGYubWF0Y2hlc1NlbGVjdG9yJiZoJiYhbHRbdCsiICJdJiYoIWR8fCFkLnRlc3QodCkpJiYoIW98fCFvLnRlc3QodCkpKXRyeXt2YXIgcj1jdC5jYWxsKG4sdCk7aWYocnx8Zi5kaXNjb25uZWN0ZWRNYXRjaHx8bi5kb2N1bWVudCYmMTEhPT1uLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiByfWNhdGNoKG4pe2x0KHQsITApfXJldHVybiAwPHUodCxpLG51bGwsW25dKS5sZW5ndGh9LHUuY29udGFpbnM9ZnVuY3Rpb24obix0KXtyZXR1cm4obi5vd25lckRvY3VtZW50fHxuKSE9aSYmYihuKSxldChuLHQpfSx1LmF0dHI9ZnVuY3Rpb24obixyKXsobi5vd25lckRvY3VtZW50fHxuKSE9aSYmYihuKTt2YXIgZT10LmF0dHJIYW5kbGVbci50b0xvd2VyQ2FzZSgpXSx1PWUmJnRyLmNhbGwodC5hdHRySGFuZGxlLHIudG9Mb3dlckNhc2UoKSk/ZShuLHIsIWgpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09dT91OmYuYXR0cmlidXRlc3x8IWg/bi5nZXRBdHRyaWJ1dGUocik6KHU9bi5nZXRBdHRyaWJ1dGVOb2RlKHIpKSYmdS5zcGVjaWZpZWQ/dS52YWx1ZTpudWxsfSx1LmVzY2FwZT1mdW5jdGlvbihuKXtyZXR1cm4obisiIikucmVwbGFjZShwaSx3aSl9LHUuZXJyb3I9ZnVuY3Rpb24obil7dGhyb3cgbmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK24pO30sdS51bmlxdWVTb3J0PWZ1bmN0aW9uKG4pe3ZhciByLHU9W10sdD0wLGk9MDtpZih1dD0hZi5kZXRlY3REdXBsaWNhdGVzLHc9IWYuc29ydFN0YWJsZSYmbi5zbGljZSgwKSxuLnNvcnQoZHQpLHV0KXt3aGlsZShyPW5baSsrXSlyPT09bltpXSYmKHQ9dS5wdXNoKGkpKTt3aGlsZSh0LS0pbi5zcGxpY2UodVt0XSwxKX1yZXR1cm4gdz1udWxsLG59LHN0PXUuZ2V0VGV4dD1mdW5jdGlvbihuKXt2YXIgcixpPSIiLHU9MCx0PW4ubm9kZVR5cGU7aWYodCl7aWYoMT09PXR8fDk9PT10fHwxMT09PXQpe2lmKCJzdHJpbmciPT10eXBlb2Ygbi50ZXh0Q29udGVudClyZXR1cm4gbi50ZXh0Q29udGVudDtmb3Iobj1uLmZpcnN0Q2hpbGQ7bjtuPW4ubmV4dFNpYmxpbmcpaSs9c3Qobil9ZWxzZSBpZigzPT09dHx8ND09PXQpcmV0dXJuIG4ubm9kZVZhbHVlfWVsc2Ugd2hpbGUocj1uW3UrK10paSs9c3Qocik7cmV0dXJuIGl9LCh0PXUuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86bCxtYXRjaDp2dCxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24obil7cmV0dXJuIG5bMV09blsxXS5yZXBsYWNlKHkscCksblszXT0oblszXXx8bls0XXx8bls1XXx8IiIpLnJlcGxhY2UoeSxwKSwifj0iPT09blsyXSYmKG5bM109IiAiK25bM10rIiAiKSxuLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKG4pe3JldHVybiBuWzFdPW5bMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PW5bMV0uc2xpY2UoMCwzKT8oblszXXx8dS5lcnJvcihuWzBdKSxuWzRdPSsobls0XT9uWzVdKyhuWzZdfHwxKToyKigiZXZlbiI9PT1uWzNdfHwib2RkIj09PW5bM10pKSxuWzVdPSsobls3XStuWzhdfHwib2RkIj09PW5bM10pKTpuWzNdJiZ1LmVycm9yKG5bMF0pLG59LFBTRVVETzpmdW5jdGlvbihuKXt2YXIgaSx0PSFuWzZdJiZuWzJdO3JldHVybiB2dC5DSElMRC50ZXN0KG5bMF0pP251bGw6KG5bM10/blsyXT1uWzRdfHxuWzVdfHwiIjp0JiZvci50ZXN0KHQpJiYoaT1mdCh0LCEwKSkmJihpPXQuaW5kZXhPZigiKSIsdC5sZW5ndGgtaSktdC5sZW5ndGgpJiYoblswXT1uWzBdLnNsaWNlKDAsaSksblsyXT10LnNsaWNlKDAsaSkpLG4uc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihuKXt2YXIgdD1uLnJlcGxhY2UoeSxwKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PW4/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24obil7cmV0dXJuIG4ubm9kZU5hbWUmJm4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihuKXt2YXIgdD1oaVtuKyIgIl07cmV0dXJuIHR8fCh0PW5ldyBSZWdFeHAoIihefCIrcisiKSIrbisiKCIrcisifCQpIikpJiZoaShuLGZ1bmN0aW9uKG4pe3JldHVybiB0LnRlc3QoInN0cmluZyI9PXR5cGVvZiBuLmNsYXNzTmFtZSYmbi5jbGFzc05hbWV8fCJ1bmRlZmluZWQiIT10eXBlb2Ygbi5nZXRBdHRyaWJ1dGUmJm4uZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBmPXUuYXR0cihyLG4pO3JldHVybiBudWxsPT1mPyIhPSI9PT10OiF0fHwoZis9IiIsIj0iPT09dD9mPT09aToiIT0iPT09dD9mIT09aToiXj0iPT09dD9pJiYwPT09Zi5pbmRleE9mKGkpOiIqPSI9PT10P2kmJi0xPGYuaW5kZXhPZihpKToiJD0iPT09dD9pJiZmLnNsaWNlKC1pLmxlbmd0aCk9PT1pOiJ+PSI9PT10Py0xPCgiICIrZi5yZXBsYWNlKHVyLCIgIikrIiAiKS5pbmRleE9mKGkpOiJ8PSI9PT10JiYoZj09PWl8fGYuc2xpY2UoMCxpLmxlbmd0aCsxKT09PWkrIi0iKSl9fSxDSElMRDpmdW5jdGlvbihuLHQsaSxyLHUpe3ZhciBzPSJudGgiIT09bi5zbGljZSgwLDMpLG89Imxhc3QiIT09bi5zbGljZSgtNCksZj0ib2YtdHlwZSI9PT10O3JldHVybiAxPT09ciYmMD09PXU/ZnVuY3Rpb24obil7cmV0dXJuISFuLnBhcmVudE5vZGV9OmZ1bmN0aW9uKHQsaSxoKXt2YXIgcCxkLHksYyxhLHcsYj1zIT09bz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLGs9dC5wYXJlbnROb2RlLG50PWYmJnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxnPSFoJiYhZixsPSExO2lmKGspe2lmKHMpe3doaWxlKGIpe2ZvcihjPXQ7Yz1jW2JdOylpZihmP2Mubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PW50OjE9PT1jLm5vZGVUeXBlKXJldHVybiExO3c9Yj0ib25seSI9PT1uJiYhdyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih3PVtvP2suZmlyc3RDaGlsZDprLmxhc3RDaGlsZF0sbyYmZyl7Zm9yKGw9KGE9KHA9KGQ9KHk9KGM9aylbZV18fChjW2VdPXt9KSlbYy51bmlxdWVJRF18fCh5W2MudW5pcXVlSURdPXt9KSlbbl18fFtdKVswXT09PXYmJnBbMV0pJiZwWzJdLGM9YSYmay5jaGlsZE5vZGVzW2FdO2M9KythJiZjJiZjW2JdfHwobD1hPTApfHx3LnBvcCgpOylpZigxPT09Yy5ub2RlVHlwZSYmKytsJiZjPT09dCl7ZFtuXT1bdixhLGxdO2JyZWFrfX1lbHNlIGlmKGcmJihsPWE9KHA9KGQ9KHk9KGM9dClbZV18fChjW2VdPXt9KSlbYy51bmlxdWVJRF18fCh5W2MudW5pcXVlSURdPXt9KSlbbl18fFtdKVswXT09PXYmJnBbMV0pLCExPT09bCl3aGlsZShjPSsrYSYmYyYmY1tiXXx8KGw9YT0wKXx8dy5wb3AoKSlpZigoZj9jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1udDoxPT09Yy5ub2RlVHlwZSkmJisrbCYmKGcmJigoZD0oeT1jW2VdfHwoY1tlXT17fSkpW2MudW5pcXVlSURdfHwoeVtjLnVuaXF1ZUlEXT17fSkpW25dPVt2LGxdKSxjPT09dCkpYnJlYWs7cmV0dXJuKGwtPXUpPT09cnx8bCVyPT0wJiYwPD1sL3J9fX0sUFNFVURPOmZ1bmN0aW9uKG4saSl7dmFyIGYscj10LnBzZXVkb3Nbbl18fHQuc2V0RmlsdGVyc1tuLnRvTG93ZXJDYXNlKCldfHx1LmVycm9yKCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIrbik7cmV0dXJuIHJbZV0/cihpKToxPHIubGVuZ3RoPyhmPVtuLG4sIiIsaV0sdC5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KG4udG9Mb3dlckNhc2UoKSk/bChmdW5jdGlvbihuLHQpe2Zvcih2YXIgZSx1PXIobixpKSxmPXUubGVuZ3RoO2YtLTspbltlPW50KG4sdVtmXSldPSEodFtlXT11W2ZdKX0pOmZ1bmN0aW9uKG4pe3JldHVybiByKG4sMCxmKX0pOnJ9fSxwc2V1ZG9zOntub3Q6bChmdW5jdGlvbihuKXt2YXIgdD1bXSxyPVtdLGk9a3Qobi5yZXBsYWNlKGF0LCIkMSIpKTtyZXR1cm4gaVtlXT9sKGZ1bmN0aW9uKG4sdCxyLHUpe2Zvcih2YXIgZSxvPWkobixudWxsLHUsW10pLGY9bi5sZW5ndGg7Zi0tOykoZT1vW2ZdKSYmKG5bZl09ISh0W2ZdPWUpKX0pOmZ1bmN0aW9uKG4sdSxmKXtyZXR1cm4gdFswXT1uLGkodCxudWxsLGYsciksdFswXT1udWxsLCFyLnBvcCgpfX0pLGhhczpsKGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gMDx1KG4sdCkubGVuZ3RofX0pLGNvbnRhaW5zOmwoZnVuY3Rpb24obil7cmV0dXJuIG49bi5yZXBsYWNlKHkscCksZnVuY3Rpb24odCl7cmV0dXJuLTE8KHQudGV4dENvbnRlbnR8fHN0KHQpKS5pbmRleE9mKG4pfX0pLGxhbmc6bChmdW5jdGlvbihuKXtyZXR1cm4gc3IudGVzdChufHwiIil8fHUuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIrbiksbj1uLnJlcGxhY2UoeSxwKS50b0xvd2VyQ2FzZSgpLGZ1bmN0aW9uKHQpe3ZhciBpO2RvIGlmKGk9aD90Lmxhbmc6dC5nZXRBdHRyaWJ1dGUoInhtbDpsYW5nIil8fHQuZ2V0QXR0cmlidXRlKCJsYW5nIikpcmV0dXJuKGk9aS50b0xvd2VyQ2FzZSgpKT09PW58fDA9PT1pLmluZGV4T2YobisiLSIpO3doaWxlKCh0PXQucGFyZW50Tm9kZSkmJjE9PT10Lm5vZGVUeXBlKTtyZXR1cm4hMX19KSx0YXJnZXQ6ZnVuY3Rpb24odCl7dmFyIGk9bi5sb2NhdGlvbiYmbi5sb2NhdGlvbi5oYXNoO3JldHVybiBpJiZpLnNsaWNlKDEpPT09dC5pZH0scm9vdDpmdW5jdGlvbihuKXtyZXR1cm4gbj09PXN9LGZvY3VzOmZ1bmN0aW9uKG4pe3JldHVybiBuPT09aS5hY3RpdmVFbGVtZW50JiYoIWkuaGFzRm9jdXN8fGkuaGFzRm9jdXMoKSkmJiEhKG4udHlwZXx8bi5ocmVmfHx+bi50YWJJbmRleCl9LGVuYWJsZWQ6ZGkoITEpLGRpc2FibGVkOmRpKCEwKSxjaGVja2VkOmZ1bmN0aW9uKG4pe3ZhciB0PW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmISFuLmNoZWNrZWR8fCJvcHRpb24iPT09dCYmISFuLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihuKXtyZXR1cm4gbi5wYXJlbnROb2RlJiZuLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCwhMD09PW4uc2VsZWN0ZWR9LGVtcHR5OmZ1bmN0aW9uKG4pe2ZvcihuPW4uZmlyc3RDaGlsZDtuO249bi5uZXh0U2libGluZylpZihuLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihuKXtyZXR1cm4hdC5wc2V1ZG9zLmVtcHR5KG4pfSxoZWFkZXI6ZnVuY3Rpb24obil7cmV0dXJuIGxyLnRlc3Qobi5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKG4pe3JldHVybiBjci50ZXN0KG4ubm9kZU5hbWUpfSxidXR0b246ZnVuY3Rpb24obil7dmFyIHQ9bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiJpbnB1dCI9PT10JiYiYnV0dG9uIj09PW4udHlwZXx8ImJ1dHRvbiI9PT10fSx0ZXh0OmZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybiJpbnB1dCI9PT1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJiJ0ZXh0Ij09PW4udHlwZSYmKG51bGw9PSh0PW4uZ2V0QXR0cmlidXRlKCJ0eXBlIikpfHwidGV4dCI9PT10LnRvTG93ZXJDYXNlKCkpfSxmaXJzdDppdChmdW5jdGlvbigpe3JldHVyblswXX0pLGxhc3Q6aXQoZnVuY3Rpb24obix0KXtyZXR1cm5bdC0xXX0pLGVxOml0KGZ1bmN0aW9uKG4sdCxpKXtyZXR1cm5baTwwP2krdDppXX0pLGV2ZW46aXQoZnVuY3Rpb24obix0KXtmb3IodmFyIGk9MDtpPHQ7aSs9MiluLnB1c2goaSk7cmV0dXJuIG59KSxvZGQ6aXQoZnVuY3Rpb24obix0KXtmb3IodmFyIGk9MTtpPHQ7aSs9MiluLnB1c2goaSk7cmV0dXJuIG59KSxsdDppdChmdW5jdGlvbihuLHQsaSl7Zm9yKHZhciByPWk8MD9pK3Q6dDxpP3Q6aTswPD0tLXI7KW4ucHVzaChyKTtyZXR1cm4gbn0pLGd0Oml0KGZ1bmN0aW9uKG4sdCxpKXtmb3IodmFyIHI9aTwwP2krdDppOysrcjx0OyluLnB1c2gocik7cmV0dXJuIG59KX19KS5wc2V1ZG9zLm50aD10LnBzZXVkb3MuZXEse3JhZGlvOiEwLGNoZWNrYm94OiEwLGZpbGU6ITAscGFzc3dvcmQ6ITAsaW1hZ2U6ITB9KXQucHNldWRvc1tydF09eXIocnQpO2ZvcihydCBpbntzdWJtaXQ6ITAscmVzZXQ6ITB9KXQucHNldWRvc1tydF09cHIocnQpO3JldHVybiBnaS5wcm90b3R5cGU9dC5maWx0ZXJzPXQucHNldWRvcyx0LnNldEZpbHRlcnM9bmV3IGdpLGZ0PXUudG9rZW5pemU9ZnVuY3Rpb24obixpKXt2YXIgZSxmLHMsbyxyLGgsYyxsPWNpW24rIiAiXTtpZihsKXJldHVybiBpPzA6bC5zbGljZSgwKTtmb3Iocj1uLGg9W10sYz10LnByZUZpbHRlcjtyOyl7Zm9yKG8gaW4gZSYmIShmPWZyLmV4ZWMocikpfHwoZiYmKHI9ci5zbGljZShmWzBdLmxlbmd0aCl8fHIpLGgucHVzaChzPVtdKSksZT0hMSwoZj15aS5leGVjKHIpKSYmKGU9Zi5zaGlmdCgpLHMucHVzaCh7dmFsdWU6ZSx0eXBlOmZbMF0ucmVwbGFjZShhdCwiICIpfSkscj1yLnNsaWNlKGUubGVuZ3RoKSksdC5maWx0ZXIpKGY9dnRbb10uZXhlYyhyKSkmJighY1tvXXx8KGY9Y1tvXShmKSkpJiYoZT1mLnNoaWZ0KCkscy5wdXNoKHt2YWx1ZTplLHR5cGU6byxtYXRjaGVzOmZ9KSxyPXIuc2xpY2UoZS5sZW5ndGgpKTtpZighZSlicmVha31yZXR1cm4gaT9yLmxlbmd0aDpyP3UuZXJyb3Iobik6Y2kobixoKS5zbGljZSgwKX0sa3Q9dS5jb21waWxlPWZ1bmN0aW9uKG4scil7dmFyIHMsYyxhLG8seSxwLHc9W10sZD1bXSxmPWxpW24rIiAiXTtpZighZil7Zm9yKHJ8fChyPWZ0KG4pKSxzPXIubGVuZ3RoO3MtLTspKGY9ZWkocltzXSkpW2VdP3cucHVzaChmKTpkLnB1c2goZik7KGY9bGkobiwoYz1kLG89MDwoYT13KS5sZW5ndGgseT0wPGMubGVuZ3RoLHA9ZnVuY3Rpb24obixyLGYsZSxzKXt2YXIgbCxudCxkLGc9MCxwPSIwIix0dD1uJiZbXSx3PVtdLGl0PWh0LHJ0PW58fHkmJnQuZmluZC5UQUcoIioiLHMpLHV0PXYrPW51bGw9PWl0PzE6TWF0aC5yYW5kb20oKXx8LjEsZnQ9cnQubGVuZ3RoO2ZvcihzJiYoaHQ9cj09aXx8cnx8cyk7cCE9PWZ0JiZudWxsIT0obD1ydFtwXSk7cCsrKXtpZih5JiZsKXtmb3IobnQ9MCxyfHxsLm93bmVyRG9jdW1lbnQ9PWl8fChiKGwpLGY9IWgpO2Q9Y1tudCsrXTspaWYoZChsLHJ8fGksZikpe2UucHVzaChsKTticmVha31zJiYodj11dCl9byYmKChsPSFkJiZsKSYmZy0tLG4mJnR0LnB1c2gobCkpfWlmKGcrPXAsbyYmcCE9PWcpe2ZvcihudD0wO2Q9YVtudCsrXTspZCh0dCx3LHIsZik7aWYobil7aWYoMDxnKXdoaWxlKHAtLSl0dFtwXXx8d1twXXx8KHdbcF09aXIuY2FsbChlKSk7dz1idCh3KX1rLmFwcGx5KGUsdyk7cyYmIW4mJjA8dy5sZW5ndGgmJjE8ZythLmxlbmd0aCYmdS51bmlxdWVTb3J0KGUpfXJldHVybiBzJiYodj11dCxodD1pdCksdHR9LG8/bChwKTpwKSkpLnNlbGVjdG9yPW59cmV0dXJuIGZ9LHNpPXUuc2VsZWN0PWZ1bmN0aW9uKG4saSxyLHUpe3ZhciBvLGYsZSxsLGEsYz0iZnVuY3Rpb24iPT10eXBlb2YgbiYmbixzPSF1JiZmdChuPWMuc2VsZWN0b3J8fG4pO2lmKHI9cnx8W10sMT09PXMubGVuZ3RoKXtpZigyPChmPXNbMF09c1swXS5zbGljZSgwKSkubGVuZ3RoJiYiSUQiPT09KGU9ZlswXSkudHlwZSYmOT09PWkubm9kZVR5cGUmJmgmJnQucmVsYXRpdmVbZlsxXS50eXBlXSl7aWYoIShpPSh0LmZpbmQuSUQoZS5tYXRjaGVzWzBdLnJlcGxhY2UoeSxwKSxpKXx8W10pWzBdKSlyZXR1cm4gcjtjJiYoaT1pLnBhcmVudE5vZGUpO249bi5zbGljZShmLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1mb3Iobz12dC5uZWVkc0NvbnRleHQudGVzdChuKT8wOmYubGVuZ3RoO28tLTspe2lmKGU9ZltvXSx0LnJlbGF0aXZlW2w9ZS50eXBlXSlicmVhaztpZigoYT10LmZpbmRbbF0pJiYodT1hKGUubWF0Y2hlc1swXS5yZXBsYWNlKHkscCksdGkudGVzdChmWzBdLnR5cGUpJiZyaShpLnBhcmVudE5vZGUpfHxpKSkpe2lmKGYuc3BsaWNlKG8sMSksIShuPXUubGVuZ3RoJiZwdChmKSkpcmV0dXJuIGsuYXBwbHkocix1KSxyO2JyZWFrfX19cmV0dXJuKGN8fGt0KG4scykpKHUsaSwhaCxyLCFpfHx0aS50ZXN0KG4pJiZyaShpLnBhcmVudE5vZGUpfHxpKSxyfSxmLnNvcnRTdGFibGU9ZS5zcGxpdCgiIikuc29ydChkdCkuam9pbigiIik9PT1lLGYuZGV0ZWN0RHVwbGljYXRlcz0hIXV0LGIoKSxmLnNvcnREZXRhY2hlZD1hKGZ1bmN0aW9uKG4pe3JldHVybiAxJm4uY29tcGFyZURvY3VtZW50UG9zaXRpb24oaS5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpKX0pLGEoZnVuY3Rpb24obil7cmV0dXJuIG4uaW5uZXJIVE1MPSI8YSBocmVmPScjJz48XC9hPiIsIiMiPT09bi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGlpKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihuLHQsaSl7aWYoIWkpcmV0dXJuIG4uZ2V0QXR0cmlidXRlKHQsInR5cGUiPT09dC50b0xvd2VyQ2FzZSgpPzE6Mil9KSxmLmF0dHJpYnV0ZXMmJmEoZnVuY3Rpb24obil7cmV0dXJuIG4uaW5uZXJIVE1MPSI8aW5wdXQvPiIsbi5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSwiIj09PW4uZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoInZhbHVlIil9KXx8aWkoInZhbHVlIixmdW5jdGlvbihuLHQsaSl7aWYoIWkmJiJpbnB1dCI9PT1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpcmV0dXJuIG4uZGVmYXVsdFZhbHVlfSksYShmdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09bi5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIil9KXx8aWkoZ3QsZnVuY3Rpb24obix0LGkpe3ZhciByO2lmKCFpKXJldHVybiEwPT09blt0XT90LnRvTG93ZXJDYXNlKCk6KHI9bi5nZXRBdHRyaWJ1dGVOb2RlKHQpKSYmci5zcGVjaWZpZWQ/ci52YWx1ZTpudWxsfSksdX0obik7aS5maW5kPWQ7aS5leHByPWQuc2VsZWN0b3JzO2kuZXhwclsiOiJdPWkuZXhwci5wc2V1ZG9zO2kudW5pcXVlU29ydD1pLnVuaXF1ZT1kLnVuaXF1ZVNvcnQ7aS50ZXh0PWQuZ2V0VGV4dDtpLmlzWE1MRG9jPWQuaXNYTUw7aS5jb250YWlucz1kLmNvbnRhaW5zO2kuZXNjYXBlU2VsZWN0b3I9ZC5lc2NhcGU7dmFyIGZ0PWZ1bmN0aW9uKG4sdCxyKXtmb3IodmFyIHU9W10sZj12b2lkIDAhPT1yOyhuPW5bdF0pJiY5IT09bi5ub2RlVHlwZTspaWYoMT09PW4ubm9kZVR5cGUpe2lmKGYmJmkobikuaXMocikpYnJlYWs7dS5wdXNoKG4pfXJldHVybiB1fSxkcj1mdW5jdGlvbihuLHQpe2Zvcih2YXIgaT1bXTtuO249bi5uZXh0U2libGluZykxPT09bi5ub2RlVHlwZSYmbiE9PXQmJmkucHVzaChuKTtyZXR1cm4gaX0sZ3I9aS5leHByLm1hdGNoLm5lZWRzQ29udGV4dDt3aT0vXjwoW2Etel1bXlwvXDA+Olx4MjBcdFxyXG5cZl0qKVtceDIwXHRcclxuXGZdKlwvPz4oPzo8XC9cMT58KSQvaTtpLmZpbHRlcj1mdW5jdGlvbihuLHQscil7dmFyIHU9dFswXTtyZXR1cm4gciYmKG49Ijpub3QoIituKyIpIiksMT09PXQubGVuZ3RoJiYxPT09dS5ub2RlVHlwZT9pLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHUsbik/W3VdOltdOmkuZmluZC5tYXRjaGVzKG4saS5ncmVwKHQsZnVuY3Rpb24obil7cmV0dXJuIDE9PT1uLm5vZGVUeXBlfSkpfTtpLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihuKXt2YXIgdCxyLHU9dGhpcy5sZW5ndGgsZj10aGlzO2lmKCJzdHJpbmciIT10eXBlb2YgbilyZXR1cm4gdGhpcy5wdXNoU3RhY2soaShuKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodD0wO3Q8dTt0KyspaWYoaS5jb250YWlucyhmW3RdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihyPXRoaXMucHVzaFN0YWNrKFtdKSx0PTA7dDx1O3QrKylpLmZpbmQobixmW3RdLHIpO3JldHVybiAxPHU/aS51bmlxdWVTb3J0KHIpOnJ9LGZpbHRlcjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYmkodGhpcyxufHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGJpKHRoaXMsbnx8W10sITApKX0saXM6ZnVuY3Rpb24obil7cmV0dXJuISFiaSh0aGlzLCJzdHJpbmciPT10eXBlb2YgbiYmZ3IudGVzdChuKT9pKG4pOm58fFtdLCExKS5sZW5ndGh9fSk7dHU9L14oPzpccyooPFtcd1xXXSs+KVtePl0qfCMoW1x3LV0rKSkkLzsoaS5mbi5pbml0PWZ1bmN0aW9uKG4sdCxyKXt2YXIgZSxvO2lmKCFuKXJldHVybiB0aGlzO2lmKHI9cnx8bnUsInN0cmluZyI9PXR5cGVvZiBuKXtpZighKGU9IjwiPT09blswXSYmIj4iPT09bltuLmxlbmd0aC0xXSYmMzw9bi5sZW5ndGg/W251bGwsbixudWxsXTp0dS5leGVjKG4pKXx8IWVbMV0mJnQpcmV0dXJuIXR8fHQuanF1ZXJ5Pyh0fHxyKS5maW5kKG4pOnRoaXMuY29uc3RydWN0b3IodCkuZmluZChuKTtpZihlWzFdKXtpZih0PXQgaW5zdGFuY2VvZiBpP3RbMF06dCxpLm1lcmdlKHRoaXMsaS5wYXJzZUhUTUwoZVsxXSx0JiZ0Lm5vZGVUeXBlP3Qub3duZXJEb2N1bWVudHx8dDpmLCEwKSksd2kudGVzdChlWzFdKSYmaS5pc1BsYWluT2JqZWN0KHQpKWZvcihlIGluIHQpdSh0aGlzW2VdKT90aGlzW2VdKHRbZV0pOnRoaXMuYXR0cihlLHRbZV0pO3JldHVybiB0aGlzfXJldHVybihvPWYuZ2V0RWxlbWVudEJ5SWQoZVsyXSkpJiYodGhpc1swXT1vLHRoaXMubGVuZ3RoPTEpLHRoaXN9cmV0dXJuIG4ubm9kZVR5cGU/KHRoaXNbMF09bix0aGlzLmxlbmd0aD0xLHRoaXMpOnUobik/dm9pZCAwIT09ci5yZWFkeT9yLnJlYWR5KG4pOm4oaSk6aS5tYWtlQXJyYXkobix0aGlzKX0pLnByb3RvdHlwZT1pLmZuO251PWkoZik7aXU9L14oPzpwYXJlbnRzfHByZXYoPzpVbnRpbHxBbGwpKS87cnU9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07aS5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihuKXt2YXIgdD1pKG4sdGhpcykscj10Lmxlbmd0aDtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIG49MDtuPHI7bisrKWlmKGkuY29udGFpbnModGhpcyx0W25dKSlyZXR1cm4hMH0pfSxjbG9zZXN0OmZ1bmN0aW9uKG4sdCl7dmFyIHIsZj0wLG89dGhpcy5sZW5ndGgsdT1bXSxlPSJzdHJpbmciIT10eXBlb2YgbiYmaShuKTtpZighZ3IudGVzdChuKSlmb3IoO2Y8bztmKyspZm9yKHI9dGhpc1tmXTtyJiZyIT09dDtyPXIucGFyZW50Tm9kZSlpZihyLm5vZGVUeXBlPDExJiYoZT8tMTxlLmluZGV4KHIpOjE9PT1yLm5vZGVUeXBlJiZpLmZpbmQubWF0Y2hlc1NlbGVjdG9yKHIsbikpKXt1LnB1c2gocik7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKDE8dS5sZW5ndGg/aS51bmlxdWVTb3J0KHUpOnUpfSxpbmRleDpmdW5jdGlvbihuKXtyZXR1cm4gbj8ic3RyaW5nIj09dHlwZW9mIG4/aWkuY2FsbChpKG4pLHRoaXNbMF0pOmlpLmNhbGwodGhpcyxuLmpxdWVyeT9uWzBdOm4pOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aDotMX0sYWRkOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGkudW5pcXVlU29ydChpLm1lcmdlKHRoaXMuZ2V0KCksaShuLHQpKSkpfSxhZGRCYWNrOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmFkZChudWxsPT1uP3RoaXMucHJldk9iamVjdDp0aGlzLnByZXZPYmplY3QuZmlsdGVyKG4pKX19KTtpLmVhY2goe3BhcmVudDpmdW5jdGlvbihuKXt2YXIgdD1uLnBhcmVudE5vZGU7cmV0dXJuIHQmJjExIT09dC5ub2RlVHlwZT90Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24obil7cmV0dXJuIGZ0KG4sInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gZnQobiwicGFyZW50Tm9kZSIsaSl9LG5leHQ6ZnVuY3Rpb24obil7cmV0dXJuIHV1KG4sIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24obil7cmV0dXJuIHV1KG4sInByZXZpb3VzU2libGluZyIpfSxuZXh0QWxsOmZ1bmN0aW9uKG4pe3JldHVybiBmdChuLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKG4pe3JldHVybiBmdChuLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gZnQobiwibmV4dFNpYmxpbmciLGkpfSxwcmV2VW50aWw6ZnVuY3Rpb24obix0LGkpe3JldHVybiBmdChuLCJwcmV2aW91c1NpYmxpbmciLGkpfSxzaWJsaW5nczpmdW5jdGlvbihuKXtyZXR1cm4gZHIoKG4ucGFyZW50Tm9kZXx8e30pLmZpcnN0Q2hpbGQsbil9LGNoaWxkcmVuOmZ1bmN0aW9uKG4pe3JldHVybiBkcihuLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihuKXtyZXR1cm4gbnVsbCE9bi5jb250ZW50RG9jdW1lbnQmJnZyKG4uY29udGVudERvY3VtZW50KT9uLmNvbnRlbnREb2N1bWVudDooYyhuLCJ0ZW1wbGF0ZSIpJiYobj1uLmNvbnRlbnR8fG4pLGkubWVyZ2UoW10sbi5jaGlsZE5vZGVzKSl9fSxmdW5jdGlvbihuLHQpe2kuZm5bbl09ZnVuY3Rpb24ocix1KXt2YXIgZj1pLm1hcCh0aGlzLHQscik7cmV0dXJuIlVudGlsIiE9PW4uc2xpY2UoLTUpJiYodT1yKSx1JiYic3RyaW5nIj09dHlwZW9mIHUmJihmPWkuZmlsdGVyKHUsZikpLDE8dGhpcy5sZW5ndGgmJihydVtuXXx8aS51bmlxdWVTb3J0KGYpLGl1LnRlc3QobikmJmYucmV2ZXJzZSgpKSx0aGlzLnB1c2hTdGFjayhmKX19KTtsPS9bXlx4MjBcdFxyXG5cZl0rL2c7aS5DYWxsYmFja3M9ZnVuY3Rpb24obil7dmFyIGEsaDtuPSJzdHJpbmciPT10eXBlb2Ygbj8oYT1uLGg9e30saS5lYWNoKGEubWF0Y2gobCl8fFtdLGZ1bmN0aW9uKG4sdCl7aFt0XT0hMH0pLGgpOmkuZXh0ZW5kKHt9LG4pO3ZhciBvLHIsdixmLHQ9W10scz1bXSxlPS0xLHk9ZnVuY3Rpb24oKXtmb3IoZj1mfHxuLm9uY2Usdj1vPSEwO3MubGVuZ3RoO2U9LTEpZm9yKHI9cy5zaGlmdCgpOysrZTx0Lmxlbmd0aDspITE9PT10W2VdLmFwcGx5KHJbMF0sclsxXSkmJm4uc3RvcE9uRmFsc2UmJihlPXQubGVuZ3RoLHI9ITEpO24ubWVtb3J5fHwocj0hMSk7bz0hMTtmJiYodD1yP1tdOiIiKX0sYz17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIHQmJihyJiYhbyYmKGU9dC5sZW5ndGgtMSxzLnB1c2gocikpLGZ1bmN0aW9uIGYocil7aS5lYWNoKHIsZnVuY3Rpb24oaSxyKXt1KHIpP24udW5pcXVlJiZjLmhhcyhyKXx8dC5wdXNoKHIpOnImJnIubGVuZ3RoJiYic3RyaW5nIiE9PXV0KHIpJiZmKHIpfSl9KGFyZ3VtZW50cyksciYmIW8mJnkoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGkuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24obixyKXtmb3IodmFyIHU7LTE8KHU9aS5pbkFycmF5KHIsdCx1KSk7KXQuc3BsaWNlKHUsMSksdTw9ZSYmZS0tfSksdGhpc30saGFzOmZ1bmN0aW9uKG4pe3JldHVybiBuPy0xPGkuaW5BcnJheShuLHQpOjA8dC5sZW5ndGh9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHQmJih0PVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGY9cz1bXSx0PXI9IiIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdH0sbG9jazpmdW5jdGlvbigpe3JldHVybiBmPXM9W10scnx8b3x8KHQ9cj0iIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFmfSxmaXJlV2l0aDpmdW5jdGlvbihuLHQpe3JldHVybiBmfHwodD1bbiwodD10fHxbXSkuc2xpY2U/dC5zbGljZSgpOnRdLHMucHVzaCh0KSxvfHx5KCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gYy5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXZ9fTtyZXR1cm4gY307aS5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKHQpe3ZhciBmPVtbIm5vdGlmeSIsInByb2dyZXNzIixpLkNhbGxiYWNrcygibWVtb3J5IiksaS5DYWxsYmFja3MoIm1lbW9yeSIpLDJdLFsicmVzb2x2ZSIsImRvbmUiLGkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLGkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLDAsInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixpLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxpLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwxLCJyZWplY3RlZCJdXSxvPSJwZW5kaW5nIixlPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBvfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gci5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LCJjYXRjaCI6ZnVuY3Rpb24obil7cmV0dXJuIGUudGhlbihudWxsLG4pfSxwaXBlOmZ1bmN0aW9uKCl7dmFyIG49YXJndW1lbnRzO3JldHVybiBpLkRlZmVycmVkKGZ1bmN0aW9uKHQpe2kuZWFjaChmLGZ1bmN0aW9uKGksZil7dmFyIGU9dShuW2ZbNF1dKSYmbltmWzRdXTtyW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIG49ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7biYmdShuLnByb21pc2UpP24ucHJvbWlzZSgpLnByb2dyZXNzKHQubm90aWZ5KS5kb25lKHQucmVzb2x2ZSkuZmFpbCh0LnJlamVjdCk6dFtmWzBdKyJXaXRoIl0odGhpcyxlP1tuXTphcmd1bWVudHMpfSl9KTtuPW51bGx9KS5wcm9taXNlKCl9LHRoZW46ZnVuY3Rpb24odCxyLGUpe2Z1bmN0aW9uIHModCxyLGYsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGg9dGhpcyxjPWFyZ3VtZW50cyxsPWZ1bmN0aW9uKCl7dmFyIG4saTtpZighKHQ8bykpe2lmKChuPWYuYXBwbHkoaCxjKSk9PT1yLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTtpPW4mJigib2JqZWN0Ij09dHlwZW9mIG58fCJmdW5jdGlvbiI9PXR5cGVvZiBuKSYmbi50aGVuO3UoaSk/ZT9pLmNhbGwobixzKG8scixldCxlKSxzKG8scixmaSxlKSk6KG8rKyxpLmNhbGwobixzKG8scixldCxlKSxzKG8scixmaSxlKSxzKG8scixldCxyLm5vdGlmeVdpdGgpKSk6KGYhPT1ldCYmKGg9dm9pZCAwLGM9W25dKSwoZXx8ci5yZXNvbHZlV2l0aCkoaCxjKSl9fSxhPWU/bDpmdW5jdGlvbigpe3RyeXtsKCl9Y2F0Y2gobCl7aS5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZpLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sobCxhLnN0YWNrVHJhY2UpO288PXQrMSYmKGYhPT1maSYmKGg9dm9pZCAwLGM9W2xdKSxyLnJlamVjdFdpdGgoaCxjKSl9fTt0P2EoKTooaS5EZWZlcnJlZC5nZXRTdGFja0hvb2smJihhLnN0YWNrVHJhY2U9aS5EZWZlcnJlZC5nZXRTdGFja0hvb2soKSksbi5zZXRUaW1lb3V0KGEpKX19dmFyIG89MDtyZXR1cm4gaS5EZWZlcnJlZChmdW5jdGlvbihuKXtmWzBdWzNdLmFkZChzKDAsbix1KGUpP2U6ZXQsbi5ub3RpZnlXaXRoKSk7ZlsxXVszXS5hZGQocygwLG4sdSh0KT90OmV0KSk7ZlsyXVszXS5hZGQocygwLG4sdShyKT9yOmZpKSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24obil7cmV0dXJuIG51bGwhPW4/aS5leHRlbmQobixlKTplfX0scj17fTtyZXR1cm4gaS5lYWNoKGYsZnVuY3Rpb24obix0KXt2YXIgaT10WzJdLHU9dFs1XTtlW3RbMV1dPWkuYWRkO3UmJmkuYWRkKGZ1bmN0aW9uKCl7bz11fSxmWzMtbl1bMl0uZGlzYWJsZSxmWzMtbl1bM10uZGlzYWJsZSxmWzBdWzJdLmxvY2ssZlswXVszXS5sb2NrKTtpLmFkZCh0WzNdLmZpcmUpO3JbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gclt0WzBdKyJXaXRoIl0odGhpcz09PXI/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfTtyW3RbMF0rIldpdGgiXT1pLmZpcmVXaXRofSksZS5wcm9taXNlKHIpLHQmJnQuY2FsbChyLHIpLHJ9LHdoZW46ZnVuY3Rpb24obil7dmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PWUsbz1BcnJheSh0KSxmPWsuY2FsbChhcmd1bWVudHMpLHI9aS5EZWZlcnJlZCgpLHM9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe29bbl09dGhpcztmW25dPTE8YXJndW1lbnRzLmxlbmd0aD9rLmNhbGwoYXJndW1lbnRzKTp0Oy0tZXx8ci5yZXNvbHZlV2l0aChvLGYpfX07aWYoZTw9MSYmKGZ1KG4sci5kb25lKHModCkpLnJlc29sdmUsci5yZWplY3QsIWUpLCJwZW5kaW5nIj09PXIuc3RhdGUoKXx8dShmW3RdJiZmW3RdLnRoZW4pKSlyZXR1cm4gci50aGVuKCk7d2hpbGUodC0tKWZ1KGZbdF0scyh0KSxyLnJlamVjdCk7cmV0dXJuIHIucHJvbWlzZSgpfX0pO2V1PS9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO2kuRGVmZXJyZWQuZXhjZXB0aW9uSG9vaz1mdW5jdGlvbih0LGkpe24uY29uc29sZSYmbi5jb25zb2xlLndhcm4mJnQmJmV1LnRlc3QodC5uYW1lKSYmbi5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrdC5tZXNzYWdlLHQuc3RhY2ssaSl9O2kucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24odCl7bi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgdDt9KX07ZWk9aS5EZWZlcnJlZCgpO2kuZm4ucmVhZHk9ZnVuY3Rpb24obil7cmV0dXJuIGVpLnRoZW4obilbImNhdGNoIl0oZnVuY3Rpb24obil7aS5yZWFkeUV4Y2VwdGlvbihuKX0pLHRoaXN9O2kuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLHJlYWR5OmZ1bmN0aW9uKG4peyghMD09PW4/LS1pLnJlYWR5V2FpdDppLmlzUmVhZHkpfHwoaS5pc1JlYWR5PSEwKSE9PW4mJjA8LS1pLnJlYWR5V2FpdHx8ZWkucmVzb2x2ZVdpdGgoZixbaV0pfX0pO2kucmVhZHkudGhlbj1laS50aGVuOyJjb21wbGV0ZSI9PT1mLnJlYWR5U3RhdGV8fCJsb2FkaW5nIiE9PWYucmVhZHlTdGF0ZSYmIWYuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsP24uc2V0VGltZW91dChpLnJlYWR5KTooZi5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixvaSksbi5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixvaSkpO3ZhciB3PWZ1bmN0aW9uKG4sdCxyLGYsZSxvLHMpe3ZhciBoPTAsbD1uLmxlbmd0aCxjPW51bGw9PXI7aWYoIm9iamVjdCI9PT11dChyKSlmb3IoaCBpbiBlPSEwLHIpdyhuLHQsaCxyW2hdLCEwLG8scyk7ZWxzZSBpZih2b2lkIDAhPT1mJiYoZT0hMCx1KGYpfHwocz0hMCksYyYmKHM/KHQuY2FsbChuLGYpLHQ9bnVsbCk6KGM9dCx0PWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gYy5jYWxsKGkobikscil9KSksdCkpZm9yKDtoPGw7aCsrKXQobltoXSxyLHM/ZjpmLmNhbGwobltoXSxoLHQobltoXSxyKSkpO3JldHVybiBlP246Yz90LmNhbGwobik6bD90KG5bMF0scik6b30saGU9L14tbXMtLyxjZT0vLShbYS16XSkvZztvdD1mdW5jdGlvbihuKXtyZXR1cm4gMT09PW4ubm9kZVR5cGV8fDk9PT1uLm5vZGVUeXBlfHwhK24ubm9kZVR5cGV9O2J0LnVpZD0xO2J0LnByb3RvdHlwZT17Y2FjaGU6ZnVuY3Rpb24obil7dmFyIHQ9blt0aGlzLmV4cGFuZG9dO3JldHVybiB0fHwodD17fSxvdChuKSYmKG4ubm9kZVR5cGU/blt0aGlzLmV4cGFuZG9dPXQ6T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdGhpcy5leHBhbmRvLHt2YWx1ZTp0LGNvbmZpZ3VyYWJsZTohMH0pKSksdH0sc2V0OmZ1bmN0aW9uKG4sdCxpKXt2YXIgcix1PXRoaXMuY2FjaGUobik7aWYoInN0cmluZyI9PXR5cGVvZiB0KXVbeSh0KV09aTtlbHNlIGZvcihyIGluIHQpdVt5KHIpXT10W3JdO3JldHVybiB1fSxnZXQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gdm9pZCAwPT09dD90aGlzLmNhY2hlKG4pOm5bdGhpcy5leHBhbmRvXSYmblt0aGlzLmV4cGFuZG9dW3kodCldfSxhY2Nlc3M6ZnVuY3Rpb24obix0LGkpe3JldHVybiB2b2lkIDA9PT10fHx0JiYic3RyaW5nIj09dHlwZW9mIHQmJnZvaWQgMD09PWk/dGhpcy5nZXQobix0KToodGhpcy5zZXQobix0LGkpLHZvaWQgMCE9PWk/aTp0KX0scmVtb3ZlOmZ1bmN0aW9uKG4sdCl7dmFyIHUscj1uW3RoaXMuZXhwYW5kb107aWYodm9pZCAwIT09cil7aWYodm9pZCAwIT09dClmb3IodT0odD1BcnJheS5pc0FycmF5KHQpP3QubWFwKHkpOih0PXkodCkpaW4gcj9bdF06dC5tYXRjaChsKXx8W10pLmxlbmd0aDt1LS07KWRlbGV0ZSByW3RbdV1dOyh2b2lkIDA9PT10fHxpLmlzRW1wdHlPYmplY3QocikpJiYobi5ub2RlVHlwZT9uW3RoaXMuZXhwYW5kb109dm9pZCAwOmRlbGV0ZSBuW3RoaXMuZXhwYW5kb10pfX0saGFzRGF0YTpmdW5jdGlvbihuKXt2YXIgdD1uW3RoaXMuZXhwYW5kb107cmV0dXJuIHZvaWQgMCE9PXQmJiFpLmlzRW1wdHlPYmplY3QodCl9fTt2YXIgcj1uZXcgYnQsbz1uZXcgYnQsYWU9L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyx2ZT0vW0EtWl0vZztpLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihuKXtyZXR1cm4gby5oYXNEYXRhKG4pfHxyLmhhc0RhdGEobil9LGRhdGE6ZnVuY3Rpb24obix0LGkpe3JldHVybiBvLmFjY2VzcyhuLHQsaSl9LHJlbW92ZURhdGE6ZnVuY3Rpb24obix0KXtvLnJlbW92ZShuLHQpfSxfZGF0YTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHIuYWNjZXNzKG4sdCxpKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24obix0KXtyLnJlbW92ZShuLHQpfX0pO2kuZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKG4sdCl7dmFyIGYsdSxlLGk9dGhpc1swXSxzPWkmJmkuYXR0cmlidXRlcztpZih2b2lkIDA9PT1uKXtpZih0aGlzLmxlbmd0aCYmKGU9by5nZXQoaSksMT09PWkubm9kZVR5cGUmJiFyLmdldChpLCJoYXNEYXRhQXR0cnMiKSkpe2ZvcihmPXMubGVuZ3RoO2YtLTspc1tmXSYmMD09PSh1PXNbZl0ubmFtZSkuaW5kZXhPZigiZGF0YS0iKSYmKHU9eSh1LnNsaWNlKDUpKSxvdShpLHUsZVt1XSkpO3Iuc2V0KGksImhhc0RhdGFBdHRycyIsITApfXJldHVybiBlfXJldHVybiJvYmplY3QiPT10eXBlb2Ygbj90aGlzLmVhY2goZnVuY3Rpb24oKXtvLnNldCh0aGlzLG4pfSk6dyh0aGlzLGZ1bmN0aW9uKHQpe3ZhciByO2lmKGkmJnZvaWQgMD09PXQpcmV0dXJuIHZvaWQgMCE9PShyPW8uZ2V0KGksbikpP3I6dm9pZCAwIT09KHI9b3UoaSxuKSk/cjp2b2lkIDA7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7by5zZXQodGhpcyxuLHQpfSl9LG51bGwsdCwxPGFyZ3VtZW50cy5sZW5ndGgsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe28ucmVtb3ZlKHRoaXMsbil9KX19KTtpLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24obix0LHUpe3ZhciBmO2lmKG4pcmV0dXJuIHQ9KHR8fCJmeCIpKyJxdWV1ZSIsZj1yLmdldChuLHQpLHUmJighZnx8QXJyYXkuaXNBcnJheSh1KT9mPXIuYWNjZXNzKG4sdCxpLm1ha2VBcnJheSh1KSk6Zi5wdXNoKHUpKSxmfHxbXX0sZGVxdWV1ZTpmdW5jdGlvbihuLHQpe3Q9dHx8ImZ4Ijt2YXIgcj1pLnF1ZXVlKG4sdCksZT1yLmxlbmd0aCx1PXIuc2hpZnQoKSxmPWkuX3F1ZXVlSG9va3Mobix0KTsiaW5wcm9ncmVzcyI9PT11JiYodT1yLnNoaWZ0KCksZS0tKTt1JiYoImZ4Ij09PXQmJnIudW5zaGlmdCgiaW5wcm9ncmVzcyIpLGRlbGV0ZSBmLnN0b3AsdS5jYWxsKG4sZnVuY3Rpb24oKXtpLmRlcXVldWUobix0KX0sZikpOyFlJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24obix0KXt2YXIgdT10KyJxdWV1ZUhvb2tzIjtyZXR1cm4gci5nZXQobix1KXx8ci5hY2Nlc3Mobix1LHtlbXB0eTppLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rpb24oKXtyLnJlbW92ZShuLFt0KyJxdWV1ZSIsdV0pfSl9KX19KTtpLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24obix0KXt2YXIgcj0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgbiYmKHQ9bixuPSJmeCIsci0tKSxhcmd1bWVudHMubGVuZ3RoPHI/aS5xdWV1ZSh0aGlzWzBdLG4pOnZvaWQgMD09PXQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1pLnF1ZXVlKHRoaXMsbix0KTtpLl9xdWV1ZUhvb2tzKHRoaXMsbik7ImZ4Ij09PW4mJiJpbnByb2dyZXNzIiE9PXJbMF0mJmkuZGVxdWV1ZSh0aGlzLG4pfSl9LGRlcXVldWU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2kuZGVxdWV1ZSh0aGlzLG4pfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucXVldWUobnx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24obix0KXt2YXIgdSxlPTEsbz1pLkRlZmVycmVkKCksZj10aGlzLHM9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZXx8by5yZXNvbHZlV2l0aChmLFtmXSl9O2Zvcigic3RyaW5nIiE9dHlwZW9mIG4mJih0PW4sbj12b2lkIDApLG49bnx8ImZ4IjtzLS07KSh1PXIuZ2V0KGZbc10sbisicXVldWVIb29rcyIpKSYmdS5lbXB0eSYmKGUrKyx1LmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxvLnByb21pc2UodCl9fSk7dmFyIHN1PS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLGt0PW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIitzdSsiKShbYS16JV0qKSQiLCJpIiksYj1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLGc9Zi5kb2N1bWVudEVsZW1lbnQsc3Q9ZnVuY3Rpb24obil7cmV0dXJuIGkuY29udGFpbnMobi5vd25lckRvY3VtZW50LG4pfSx5ZT17Y29tcG9zZWQ6ITB9O2cuZ2V0Um9vdE5vZGUmJihzdD1mdW5jdGlvbihuKXtyZXR1cm4gaS5jb250YWlucyhuLm93bmVyRG9jdW1lbnQsbil8fG4uZ2V0Um9vdE5vZGUoeWUpPT09bi5vd25lckRvY3VtZW50fSk7ZHQ9ZnVuY3Rpb24obix0KXtyZXR1cm4ibm9uZSI9PT0obj10fHxuKS5zdHlsZS5kaXNwbGF5fHwiIj09PW4uc3R5bGUuZGlzcGxheSYmc3QobikmJiJub25lIj09PWkuY3NzKG4sImRpc3BsYXkiKX07a2k9e307aS5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oKXtyZXR1cm4gaHQodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gaHQodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihuKXtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBuP24/dGhpcy5zaG93KCk6dGhpcy5oaWRlKCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZHQodGhpcyk/aSh0aGlzKS5zaG93KCk6aSh0aGlzKS5oaWRlKCl9KX19KTt2YXIgbnQsc2ksZ3Q9L14oPzpjaGVja2JveHxyYWRpbykkL2ksY3U9LzwoW2Etel1bXlwvXDA+XHgyMFx0XHJcblxmXSopL2ksbHU9L14kfF5tb2R1bGUkfFwvKD86amF2YXxlY21hKXNjcmlwdC9pO250PWYuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLmFwcGVuZENoaWxkKGYuY3JlYXRlRWxlbWVudCgiZGl2IikpOyhzaT1mLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIik7c2kuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpO3NpLnNldEF0dHJpYnV0ZSgibmFtZSIsInQiKTtudC5hcHBlbmRDaGlsZChzaSk7ZS5jaGVja0Nsb25lPW50LmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZDtudC5pbm5lckhUTUw9Ijx0ZXh0YXJlYT54PFwvdGV4dGFyZWE+IjtlLm5vQ2xvbmVDaGVja2VkPSEhbnQuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlO250LmlubmVySFRNTD0iPG9wdGlvbj48XC9vcHRpb24+IjtlLm9wdGlvbj0hIW50Lmxhc3RDaGlsZDtoPXt0aGVhZDpbMSwiPHRhYmxlPiIsIjxcL3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjxjb2xncm91cD4iLCI8XC9jb2xncm91cD48XC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8XC90Ym9keT48XC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPFwvdHI+PFwvdGJvZHk+PFwvdGFibGU+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfTtoLnRib2R5PWgudGZvb3Q9aC5jb2xncm91cD1oLmNhcHRpb249aC50aGVhZDtoLnRoPWgudGQ7ZS5vcHRpb258fChoLm9wdGdyb3VwPWgub3B0aW9uPVsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPFwvc2VsZWN0PiJdKTthdT0vPHwmIz9cdys7Lzt2YXIgcGU9L15rZXkvLHdlPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyx5dT0vXihbXi5dKikoPzpcLiguKyl8KS87aS5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihuLHQsdSxmLGUpe3ZhciBwLGEsayx2LHcsaCxzLGMsbyxiLGQseT1yLmdldChuKTtpZihvdChuKSlmb3IodS5oYW5kbGVyJiYodT0ocD11KS5oYW5kbGVyLGU9cC5zZWxlY3RvciksZSYmaS5maW5kLm1hdGNoZXNTZWxlY3RvcihnLGUpLHUuZ3VpZHx8KHUuZ3VpZD1pLmd1aWQrKyksKHY9eS5ldmVudHMpfHwodj15LmV2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpKSwoYT15LmhhbmRsZSl8fChhPXkuaGFuZGxlPWZ1bmN0aW9uKHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgaSYmaS5ldmVudC50cmlnZ2VyZWQhPT10LnR5cGUpcmV0dXJuIGkuZXZlbnQuZGlzcGF0Y2guYXBwbHkobixhcmd1bWVudHMpfSksdz0odD0odHx8IiIpLm1hdGNoKGwpfHxbIiJdKS5sZW5ndGg7dy0tOylvPWQ9KGs9eXUuZXhlYyh0W3ddKXx8W10pWzFdLGI9KGtbMl18fCIiKS5zcGxpdCgiLiIpLnNvcnQoKSxvJiYocz1pLmV2ZW50LnNwZWNpYWxbb118fHt9LG89KGU/cy5kZWxlZ2F0ZVR5cGU6cy5iaW5kVHlwZSl8fG8scz1pLmV2ZW50LnNwZWNpYWxbb118fHt9LGg9aS5leHRlbmQoe3R5cGU6byxvcmlnVHlwZTpkLGRhdGE6ZixoYW5kbGVyOnUsZ3VpZDp1Lmd1aWQsc2VsZWN0b3I6ZSxuZWVkc0NvbnRleHQ6ZSYmaS5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KGUpLG5hbWVzcGFjZTpiLmpvaW4oIi4iKX0scCksKGM9dltvXSl8fCgoYz12W29dPVtdKS5kZWxlZ2F0ZUNvdW50PTAscy5zZXR1cCYmITEhPT1zLnNldHVwLmNhbGwobixmLGIsYSl8fG4uYWRkRXZlbnRMaXN0ZW5lciYmbi5hZGRFdmVudExpc3RlbmVyKG8sYSkpLHMuYWRkJiYocy5hZGQuY2FsbChuLGgpLGguaGFuZGxlci5ndWlkfHwoaC5oYW5kbGVyLmd1aWQ9dS5ndWlkKSksZT9jLnNwbGljZShjLmRlbGVnYXRlQ291bnQrKywwLGgpOmMucHVzaChoKSxpLmV2ZW50Lmdsb2JhbFtvXT0hMCl9LHJlbW92ZTpmdW5jdGlvbihuLHQsdSxmLGUpe3ZhciB5LGssYyx2LHAscyxoLGEsbyxiLGQsdz1yLmhhc0RhdGEobikmJnIuZ2V0KG4pO2lmKHcmJih2PXcuZXZlbnRzKSl7Zm9yKHA9KHQ9KHR8fCIiKS5tYXRjaChsKXx8WyIiXSkubGVuZ3RoO3AtLTspaWYobz1kPShjPXl1LmV4ZWModFtwXSl8fFtdKVsxXSxiPShjWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyl7Zm9yKGg9aS5ldmVudC5zcGVjaWFsW29dfHx7fSxhPXZbbz0oZj9oLmRlbGVnYXRlVHlwZTpoLmJpbmRUeXBlKXx8b118fFtdLGM9Y1syXSYmbmV3IFJlZ0V4cCgiKF58XFwuKSIrYi5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKSxrPXk9YS5sZW5ndGg7eS0tOylzPWFbeV0sIWUmJmQhPT1zLm9yaWdUeXBlfHx1JiZ1Lmd1aWQhPT1zLmd1aWR8fGMmJiFjLnRlc3Qocy5uYW1lc3BhY2UpfHxmJiZmIT09cy5zZWxlY3RvciYmKCIqKiIhPT1mfHwhcy5zZWxlY3Rvcil8fChhLnNwbGljZSh5LDEpLHMuc2VsZWN0b3ImJmEuZGVsZWdhdGVDb3VudC0tLGgucmVtb3ZlJiZoLnJlbW92ZS5jYWxsKG4scykpO2smJiFhLmxlbmd0aCYmKGgudGVhcmRvd24mJiExIT09aC50ZWFyZG93bi5jYWxsKG4sYix3LmhhbmRsZSl8fGkucmVtb3ZlRXZlbnQobixvLHcuaGFuZGxlKSxkZWxldGUgdltvXSl9ZWxzZSBmb3IobyBpbiB2KWkuZXZlbnQucmVtb3ZlKG4sbyt0W3BdLHUsZiwhMCk7aS5pc0VtcHR5T2JqZWN0KHYpJiZyLnJlbW92ZShuLCJoYW5kbGUgZXZlbnRzIil9fSxkaXNwYXRjaDpmdW5jdGlvbihuKXt2YXIgdSxoLGMsZSxmLGwscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksdD1pLmV2ZW50LmZpeChuKSxhPShyLmdldCh0aGlzLCJldmVudHMiKXx8T2JqZWN0LmNyZWF0ZShudWxsKSlbdC50eXBlXXx8W10sbz1pLmV2ZW50LnNwZWNpYWxbdC50eXBlXXx8e307Zm9yKHNbMF09dCx1PTE7dTxhcmd1bWVudHMubGVuZ3RoO3UrKylzW3VdPWFyZ3VtZW50c1t1XTtpZih0LmRlbGVnYXRlVGFyZ2V0PXRoaXMsIW8ucHJlRGlzcGF0Y2h8fCExIT09by5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsdCkpe2ZvcihsPWkuZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLHQsYSksdT0wOyhlPWxbdSsrXSkmJiF0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KWZvcih0LmN1cnJlbnRUYXJnZXQ9ZS5lbGVtLGg9MDsoZj1lLmhhbmRsZXJzW2grK10pJiYhdC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpOyl0LnJuYW1lc3BhY2UmJiExIT09Zi5uYW1lc3BhY2UmJiF0LnJuYW1lc3BhY2UudGVzdChmLm5hbWVzcGFjZSl8fCh0LmhhbmRsZU9iaj1mLHQuZGF0YT1mLmRhdGEsdm9pZCAwIT09KGM9KChpLmV2ZW50LnNwZWNpYWxbZi5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGYuaGFuZGxlcikuYXBwbHkoZS5lbGVtLHMpKSYmITE9PT0odC5yZXN1bHQ9YykmJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSkpO3JldHVybiBvLnBvc3REaXNwYXRjaCYmby5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLHQpLHQucmVzdWx0fX0saGFuZGxlcnM6ZnVuY3Rpb24obix0KXt2YXIgZixoLHUsZSxvLGM9W10scz10LmRlbGVnYXRlQ291bnQscj1uLnRhcmdldDtpZihzJiZyLm5vZGVUeXBlJiYhKCJjbGljayI9PT1uLnR5cGUmJjE8PW4uYnV0dG9uKSlmb3IoO3IhPT10aGlzO3I9ci5wYXJlbnROb2RlfHx0aGlzKWlmKDE9PT1yLm5vZGVUeXBlJiYoImNsaWNrIiE9PW4udHlwZXx8ITAhPT1yLmRpc2FibGVkKSl7Zm9yKGU9W10sbz17fSxmPTA7ZjxzO2YrKyl2b2lkIDA9PT1vW3U9KGg9dFtmXSkuc2VsZWN0b3IrIiAiXSYmKG9bdV09aC5uZWVkc0NvbnRleHQ/LTE8aSh1LHRoaXMpLmluZGV4KHIpOmkuZmluZCh1LHRoaXMsbnVsbCxbcl0pLmxlbmd0aCksb1t1XSYmZS5wdXNoKGgpO2UubGVuZ3RoJiZjLnB1c2goe2VsZW06cixoYW5kbGVyczplfSl9cmV0dXJuIHI9dGhpcyxzPHQubGVuZ3RoJiZjLnB1c2goe2VsZW06cixoYW5kbGVyczp0LnNsaWNlKHMpfSksY30sYWRkUHJvcDpmdW5jdGlvbihuLHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLkV2ZW50LnByb3RvdHlwZSxuLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6dSh0KT9mdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdCh0aGlzLm9yaWdpbmFsRXZlbnQpfTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxFdmVudClyZXR1cm4gdGhpcy5vcmlnaW5hbEV2ZW50W25dfSxzZXQ6ZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsbix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pfX0pfSxmaXg6ZnVuY3Rpb24obil7cmV0dXJuIG5baS5leHBhbmRvXT9uOm5ldyBpLkV2ZW50KG4pfSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sY2xpY2s6e3NldHVwOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXN8fG47cmV0dXJuIGd0LnRlc3QodC50eXBlKSYmdC5jbGljayYmYyh0LCJpbnB1dCIpJiZoaSh0LCJjbGljayIsY3QpLCExfSx0cmlnZ2VyOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXN8fG47cmV0dXJuIGd0LnRlc3QodC50eXBlKSYmdC5jbGljayYmYyh0LCJpbnB1dCIpJiZoaSh0LCJjbGljayIpLCEwfSxfZGVmYXVsdDpmdW5jdGlvbihuKXt2YXIgdD1uLnRhcmdldDtyZXR1cm4gZ3QudGVzdCh0LnR5cGUpJiZ0LmNsaWNrJiZjKHQsImlucHV0IikmJnIuZ2V0KHQsImNsaWNrIil8fGModCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24obil7dm9pZCAwIT09bi5yZXN1bHQmJm4ub3JpZ2luYWxFdmVudCYmKG4ub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1uLnJlc3VsdCl9fX19O2kucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24obix0LGkpe24ucmVtb3ZlRXZlbnRMaXN0ZW5lciYmbi5yZW1vdmVFdmVudExpc3RlbmVyKHQsaSl9O2kuRXZlbnQ9ZnVuY3Rpb24obix0KXtpZighKHRoaXMgaW5zdGFuY2VvZiBpLkV2ZW50KSlyZXR1cm4gbmV3IGkuRXZlbnQobix0KTtuJiZuLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1uLHRoaXMudHlwZT1uLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9bi5kZWZhdWx0UHJldmVudGVkfHx2b2lkIDA9PT1uLmRlZmF1bHRQcmV2ZW50ZWQmJiExPT09bi5yZXR1cm5WYWx1ZT9jdDpsdCx0aGlzLnRhcmdldD1uLnRhcmdldCYmMz09PW4udGFyZ2V0Lm5vZGVUeXBlP24udGFyZ2V0LnBhcmVudE5vZGU6bi50YXJnZXQsdGhpcy5jdXJyZW50VGFyZ2V0PW4uY3VycmVudFRhcmdldCx0aGlzLnJlbGF0ZWRUYXJnZXQ9bi5yZWxhdGVkVGFyZ2V0KTp0aGlzLnR5cGU9bjt0JiZpLmV4dGVuZCh0aGlzLHQpO3RoaXMudGltZVN0YW1wPW4mJm4udGltZVN0YW1wfHxEYXRlLm5vdygpO3RoaXNbaS5leHBhbmRvXT0hMH07aS5FdmVudC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmkuRXZlbnQsaXNEZWZhdWx0UHJldmVudGVkOmx0LGlzUHJvcGFnYXRpb25TdG9wcGVkOmx0LGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmx0LGlzU2ltdWxhdGVkOiExLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPWN0O24mJiF0aGlzLmlzU2ltdWxhdGVkJiZuLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWN0O24mJiF0aGlzLmlzU2ltdWxhdGVkJiZuLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1jdDtuJiYhdGhpcy5pc1NpbXVsYXRlZCYmbi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX07aS5lYWNoKHthbHRLZXk6ITAsYnViYmxlczohMCxjYW5jZWxhYmxlOiEwLGNoYW5nZWRUb3VjaGVzOiEwLGN0cmxLZXk6ITAsZGV0YWlsOiEwLGV2ZW50UGhhc2U6ITAsbWV0YUtleTohMCxwYWdlWDohMCxwYWdlWTohMCxzaGlmdEtleTohMCx2aWV3OiEwLGNoYXI6ITAsY29kZTohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDpmdW5jdGlvbihuKXt2YXIgdD1uLmJ1dHRvbjtyZXR1cm4gbnVsbD09bi53aGljaCYmcGUudGVzdChuLnR5cGUpP251bGwhPW4uY2hhckNvZGU/bi5jaGFyQ29kZTpuLmtleUNvZGU6IW4ud2hpY2gmJnZvaWQgMCE9PXQmJndlLnRlc3Qobi50eXBlKT8xJnQ/MToyJnQ/Mzo0JnQ/MjowOm4ud2hpY2h9fSxpLmV2ZW50LmFkZFByb3ApO2kuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24obix0KXtpLmV2ZW50LnNwZWNpYWxbbl09e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGhpKHRoaXMsbixiZSksITF9LHRyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm4gaGkodGhpcyxuKSwhMH0sZGVsZWdhdGVUeXBlOnR9fSk7aS5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0Iixwb2ludGVyZW50ZXI6InBvaW50ZXJvdmVyIixwb2ludGVybGVhdmU6InBvaW50ZXJvdXQifSxmdW5jdGlvbihuLHQpe2kuZXZlbnQuc3BlY2lhbFtuXT17ZGVsZWdhdGVUeXBlOnQsYmluZFR5cGU6dCxoYW5kbGU6ZnVuY3Rpb24obil7dmFyIHUscj1uLnJlbGF0ZWRUYXJnZXQsZj1uLmhhbmRsZU9iajtyZXR1cm4gciYmKHI9PT10aGlzfHxpLmNvbnRhaW5zKHRoaXMscikpfHwobi50eXBlPWYub3JpZ1R5cGUsdT1mLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLG4udHlwZT10KSx1fX19KTtpLmZuLmV4dGVuZCh7b246ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIGdpKHRoaXMsbix0LGkscil9LG9uZTpmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4gZ2kodGhpcyxuLHQsaSxyLDEpfSxvZmY6ZnVuY3Rpb24obix0LHIpe3ZhciB1LGY7aWYobiYmbi5wcmV2ZW50RGVmYXVsdCYmbi5oYW5kbGVPYmopcmV0dXJuIHU9bi5oYW5kbGVPYmosaShuLmRlbGVnYXRlVGFyZ2V0KS5vZmYodS5uYW1lc3BhY2U/dS5vcmlnVHlwZSsiLiIrdS5uYW1lc3BhY2U6dS5vcmlnVHlwZSx1LnNlbGVjdG9yLHUuaGFuZGxlciksdGhpcztpZigib2JqZWN0Ij09dHlwZW9mIG4pe2ZvcihmIGluIG4pdGhpcy5vZmYoZix0LG5bZl0pO3JldHVybiB0aGlzfXJldHVybiExIT09dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHR8fChyPXQsdD12b2lkIDApLCExPT09ciYmKHI9bHQpLHRoaXMuZWFjaChmdW5jdGlvbigpe2kuZXZlbnQucmVtb3ZlKHRoaXMsbixyLHQpfSl9fSk7dmFyIGtlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLGRlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLGdlPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztpLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihuKXtyZXR1cm4gbn0sY2xvbmU6ZnVuY3Rpb24obix0LHIpe3ZhciB1LGMsbyxmLGwsYSx2LGg9bi5jbG9uZU5vZGUoITApLHk9c3Qobik7aWYoIShlLm5vQ2xvbmVDaGVja2VkfHwxIT09bi5ub2RlVHlwZSYmMTEhPT1uLm5vZGVUeXBlfHxpLmlzWE1MRG9jKG4pKSlmb3IoZj1zKGgpLHU9MCxjPShvPXMobikpLmxlbmd0aDt1PGM7dSsrKWw9b1t1XSxhPWZbdV0sdm9pZCAwLCJpbnB1dCI9PT0odj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpJiZndC50ZXN0KGwudHlwZSk/YS5jaGVja2VkPWwuY2hlY2tlZDoiaW5wdXQiIT09diYmInRleHRhcmVhIiE9PXZ8fChhLmRlZmF1bHRWYWx1ZT1sLmRlZmF1bHRWYWx1ZSk7aWYodClpZihyKWZvcihvPW98fHMobiksZj1mfHxzKGgpLHU9MCxjPW8ubGVuZ3RoO3U8Yzt1Kyspd3Uob1t1XSxmW3VdKTtlbHNlIHd1KG4saCk7cmV0dXJuIDA8KGY9cyhoLCJzY3JpcHQiKSkubGVuZ3RoJiZkaShmLCF5JiZzKG4sInNjcmlwdCIpKSxofSxjbGVhbkRhdGE6ZnVuY3Rpb24obil7Zm9yKHZhciB1LHQsZixzPWkuZXZlbnQuc3BlY2lhbCxlPTA7dm9pZCAwIT09KHQ9bltlXSk7ZSsrKWlmKG90KHQpKXtpZih1PXRbci5leHBhbmRvXSl7aWYodS5ldmVudHMpZm9yKGYgaW4gdS5ldmVudHMpc1tmXT9pLmV2ZW50LnJlbW92ZSh0LGYpOmkucmVtb3ZlRXZlbnQodCxmLHUuaGFuZGxlKTt0W3IuZXhwYW5kb109dm9pZCAwfXRbby5leHBhbmRvXSYmKHRbby5leHBhbmRvXT12b2lkIDApfX19KTtpLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKG4pe3JldHVybiBidSh0aGlzLG4sITApfSxyZW1vdmU6ZnVuY3Rpb24obil7cmV0dXJuIGJ1KHRoaXMsbil9LHRleHQ6ZnVuY3Rpb24obil7cmV0dXJuIHcodGhpcyxmdW5jdGlvbihuKXtyZXR1cm4gdm9pZCAwPT09bj9pLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9bil9KX0sbnVsbCxuLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gYXQodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obil7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fHB1KHRoaXMsbikuYXBwZW5kQ2hpbGQobil9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBhdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihuKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9cHUodGhpcyxuKTt0Lmluc2VydEJlZm9yZShuLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBhdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihuKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobix0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBhdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihuKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobix0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgbix0PTA7bnVsbCE9KG49dGhpc1t0XSk7dCsrKTE9PT1uLm5vZGVUeXBlJiYoaS5jbGVhbkRhdGEocyhuLCExKSksbi50ZXh0Q29udGVudD0iIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49bnVsbCE9biYmbix0PW51bGw9PXQ/bjp0LHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGkuY2xvbmUodGhpcyxuLHQpfSl9LGh0bWw6ZnVuY3Rpb24obil7cmV0dXJuIHcodGhpcyxmdW5jdGlvbihuKXt2YXIgdD10aGlzWzBdfHx7fSxyPTAsdT10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1uJiYxPT09dC5ub2RlVHlwZSlyZXR1cm4gdC5pbm5lckhUTUw7aWYoInN0cmluZyI9PXR5cGVvZiBuJiYha2UudGVzdChuKSYmIWhbKGN1LmV4ZWMobil8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXtuPWkuaHRtbFByZWZpbHRlcihuKTt0cnl7Zm9yKDtyPHU7cisrKTE9PT0odD10aGlzW3JdfHx7fSkubm9kZVR5cGUmJihpLmNsZWFuRGF0YShzKHQsITEpKSx0LmlubmVySFRNTD1uKTt0PTB9Y2F0Y2gobil7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKG4pfSxudWxsLG4sYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIGF0KHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKHQpe3ZhciByPXRoaXMucGFyZW50Tm9kZTtpLmluQXJyYXkodGhpcyxuKTwwJiYoaS5jbGVhbkRhdGEocyh0aGlzKSksciYmci5yZXBsYWNlQ2hpbGQodCx0aGlzKSl9LG4pfX0pO2kuZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKG4sdCl7aS5mbltuXT1mdW5jdGlvbihuKXtmb3IodmFyIHUsZj1bXSxlPWkobiksbz1lLmxlbmd0aC0xLHI9MDtyPD1vO3IrKyl1PXI9PT1vP3RoaXM6dGhpcy5jbG9uZSghMCksaShlW3JdKVt0XSh1KSx5aS5hcHBseShmLHUuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhmKX19KTt2YXIgbnI9bmV3IFJlZ0V4cCgiXigiK3N1KyIpKD8hcHgpW2EteiVdKyQiLCJpIiksY2k9ZnVuY3Rpb24odCl7dmFyIGk9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiBpJiZpLm9wZW5lcnx8KGk9biksaS5nZXRDb21wdXRlZFN0eWxlKHQpfSxrdT1mdW5jdGlvbihuLHQsaSl7dmFyIHUscixmPXt9O2ZvcihyIGluIHQpZltyXT1uLnN0eWxlW3JdLG4uc3R5bGVbcl09dFtyXTtmb3IociBpbiB1PWkuY2FsbChuKSx0KW4uc3R5bGVbcl09ZltyXTtyZXR1cm4gdX0saW89bmV3IFJlZ0V4cChiLmpvaW4oInwiKSwiaSIpOyFmdW5jdGlvbigpe2Z1bmN0aW9uIHIoKXtpZih0KXtzLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDttYXJnaW4tdG9wOjFweDtwYWRkaW5nOjA7Ym9yZGVyOjAiO3Quc3R5bGUuY3NzVGV4dD0icG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7d2lkdGg6NjAlO3RvcDoxJSI7Zy5hcHBlbmRDaGlsZChzKS5hcHBlbmRDaGlsZCh0KTt2YXIgaT1uLmdldENvbXB1dGVkU3R5bGUodCk7aD0iMSUiIT09aS50b3A7dj0xMj09PXUoaS5tYXJnaW5MZWZ0KTt0LnN0eWxlLnJpZ2h0PSI2MCUiO2E9MzY9PT11KGkucmlnaHQpO2M9MzY9PT11KGkud2lkdGgpO3Quc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtsPTEyPT09dSh0Lm9mZnNldFdpZHRoLzMpO2cucmVtb3ZlQ2hpbGQocyk7dD1udWxsfX1mdW5jdGlvbiB1KG4pe3JldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQobikpfXZhciBoLGMsbCxhLG8sdixzPWYuY3JlYXRlRWxlbWVudCgiZGl2IiksdD1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Quc3R5bGUmJih0LnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsdC5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLGUuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT10LnN0eWxlLmJhY2tncm91bmRDbGlwLGkuZXh0ZW5kKGUse2JveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSxjfSxwaXhlbEJveFN0eWxlczpmdW5jdGlvbigpe3JldHVybiByKCksYX0scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiByKCksaH0scmVsaWFibGVNYXJnaW5MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSx2fSxzY3JvbGxib3hTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSxsfSxyZWxpYWJsZVRyRGltZW5zaW9uczpmdW5jdGlvbigpe3ZhciB0LGkscix1O3JldHVybiBudWxsPT1vJiYodD1mLmNyZWF0ZUVsZW1lbnQoInRhYmxlIiksaT1mLmNyZWF0ZUVsZW1lbnQoInRyIikscj1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpLHQuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweCIsaS5zdHlsZS5oZWlnaHQ9IjFweCIsci5zdHlsZS5oZWlnaHQ9IjlweCIsZy5hcHBlbmRDaGlsZCh0KS5hcHBlbmRDaGlsZChpKS5hcHBlbmRDaGlsZChyKSx1PW4uZ2V0Q29tcHV0ZWRTdHlsZShpKSxvPTM8cGFyc2VJbnQodS5oZWlnaHQpLGcucmVtb3ZlQ2hpbGQodCkpLG99fSkpfSgpO3ZhciBndT1bIldlYmtpdCIsIk1veiIsIm1zIl0sbmY9Zi5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZSx0Zj17fTt2YXIgcm89L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLHJmPS9eLS0vLHVvPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSx1Zj17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn07aS5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24obix0KXtpZih0KXt2YXIgaT1uaShuLCJvcGFjaXR5Iik7cmV0dXJuIiI9PT1pPyIxIjppfX19fSxjc3NOdW1iZXI6e2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiEwLGNvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxncmlkQXJlYTohMCxncmlkQ29sdW1uOiEwLGdyaWRDb2x1bW5FbmQ6ITAsZ3JpZENvbHVtblN0YXJ0OiEwLGdyaWRSb3c6ITAsZ3JpZFJvd0VuZDohMCxncmlkUm93U3RhcnQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7fSxzdHlsZTpmdW5jdGlvbihuLHQscix1KXtpZihuJiYzIT09bi5ub2RlVHlwZSYmOCE9PW4ubm9kZVR5cGUmJm4uc3R5bGUpe3ZhciBmLGgsbyxjPXkodCksbD1yZi50ZXN0KHQpLHM9bi5zdHlsZTtpZihsfHwodD10cihjKSksbz1pLmNzc0hvb2tzW3RdfHxpLmNzc0hvb2tzW2NdLHZvaWQgMD09PXIpcmV0dXJuIG8mJiJnZXQiaW4gbyYmdm9pZCAwIT09KGY9by5nZXQobiwhMSx1KSk/ZjpzW3RdOyJzdHJpbmciPT0oaD10eXBlb2YgcikmJihmPWt0LmV4ZWMocikpJiZmWzFdJiYocj1odShuLHQsZiksaD0ibnVtYmVyIik7bnVsbCE9ciYmcj09ciYmKCJudW1iZXIiIT09aHx8bHx8KHIrPWYmJmZbM118fChpLmNzc051bWJlcltjXT8iIjoicHgiKSksZS5jbGVhckNsb25lU3R5bGV8fCIiIT09cnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoc1t0XT0iaW5oZXJpdCIpLG8mJiJzZXQiaW4gbyYmdm9pZCAwPT09KHI9by5zZXQobixyLHUpKXx8KGw/cy5zZXRQcm9wZXJ0eSh0LHIpOnNbdF09cikpfX0sY3NzOmZ1bmN0aW9uKG4sdCxyLHUpe3ZhciBmLGUsbyxzPXkodCk7cmV0dXJuIHJmLnRlc3QodCl8fCh0PXRyKHMpKSwobz1pLmNzc0hvb2tzW3RdfHxpLmNzc0hvb2tzW3NdKSYmImdldCJpbiBvJiYoZj1vLmdldChuLCEwLHIpKSx2b2lkIDA9PT1mJiYoZj1uaShuLHQsdSkpLCJub3JtYWwiPT09ZiYmdCBpbiB1ZiYmKGY9dWZbdF0pLCIiPT09cnx8cj8oZT1wYXJzZUZsb2F0KGYpLCEwPT09cnx8aXNGaW5pdGUoZSk/ZXx8MDpmKTpmfX0pO2kuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24obix0KXtpLmNzc0hvb2tzW3RdPXtnZXQ6ZnVuY3Rpb24obixyLHUpe2lmKHIpcmV0dXJuIXJvLnRlc3QoaS5jc3MobiwiZGlzcGxheSIpKXx8bi5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9lZihuLHQsdSk6a3Uobix1byxmdW5jdGlvbigpe3JldHVybiBlZihuLHQsdSl9KX0sc2V0OmZ1bmN0aW9uKG4scix1KXt2YXIgcyxmPWNpKG4pLGg9IWUuc2Nyb2xsYm94U2l6ZSgpJiYiYWJzb2x1dGUiPT09Zi5wb3NpdGlvbixjPShofHx1KSYmImJvcmRlci1ib3giPT09aS5jc3MobiwiYm94U2l6aW5nIiwhMSxmKSxvPXU/aXIobix0LHUsYyxmKTowO3JldHVybiBjJiZoJiYoby09TWF0aC5jZWlsKG5bIm9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldLXBhcnNlRmxvYXQoZlt0XSktaXIobix0LCJib3JkZXIiLCExLGYpLS41KSksbyYmKHM9a3QuZXhlYyhyKSkmJiJweCIhPT0oc1szXXx8InB4IikmJihuLnN0eWxlW3RdPXIscj1pLmNzcyhuLHQpKSxmZigwLHIsbyl9fX0pO2kuY3NzSG9va3MubWFyZ2luTGVmdD1kdShlLnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihuLHQpe2lmKHQpcmV0dXJuKHBhcnNlRmxvYXQobmkobiwibWFyZ2luTGVmdCIpKXx8bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LWt1KG4se21hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSkpKyJweCJ9KTtpLmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihuLHQpe2kuY3NzSG9va3Nbbit0XT17ZXhwYW5kOmZ1bmN0aW9uKGkpe2Zvcih2YXIgcj0wLGY9e30sdT0ic3RyaW5nIj09dHlwZW9mIGk/aS5zcGxpdCgiICIpOltpXTtyPDQ7cisrKWZbbitiW3JdK3RdPXVbcl18fHVbci0yXXx8dVswXTtyZXR1cm4gZn19OyJtYXJnaW4iIT09biYmKGkuY3NzSG9va3Nbbit0XS5zZXQ9ZmYpfSk7aS5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihuLHQpe3JldHVybiB3KHRoaXMsZnVuY3Rpb24obix0LHIpe3ZhciBmLGUsbz17fSx1PTA7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKGY9Y2kobiksZT10Lmxlbmd0aDt1PGU7dSsrKW9bdFt1XV09aS5jc3Mobix0W3VdLCExLGYpO3JldHVybiBvfXJldHVybiB2b2lkIDAhPT1yP2kuc3R5bGUobix0LHIpOmkuY3NzKG4sdCl9LG4sdCwxPGFyZ3VtZW50cy5sZW5ndGgpfX0pOygoaS5Ud2Vlbj1hKS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmEsaW5pdDpmdW5jdGlvbihuLHQscix1LGYsZSl7dGhpcy5lbGVtPW47dGhpcy5wcm9wPXI7dGhpcy5lYXNpbmc9Znx8aS5lYXNpbmcuX2RlZmF1bHQ7dGhpcy5vcHRpb25zPXQ7dGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpO3RoaXMuZW5kPXU7dGhpcy51bml0PWV8fChpLmNzc051bWJlcltyXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIG49YS5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gbiYmbi5nZXQ/bi5nZXQodGhpcyk6YS5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24obil7dmFyIHQscj1hLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLnBvcz10aGlzLm9wdGlvbnMuZHVyYXRpb24/dD1pLmVhc2luZ1t0aGlzLmVhc2luZ10obix0aGlzLm9wdGlvbnMuZHVyYXRpb24qbiwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0PW4sdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksciYmci5zZXQ/ci5zZXQodGhpcyk6YS5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSkuaW5pdC5wcm90b3R5cGU9YS5wcm90b3R5cGU7KGEucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybiAxIT09bi5lbGVtLm5vZGVUeXBlfHxudWxsIT1uLmVsZW1bbi5wcm9wXSYmbnVsbD09bi5lbGVtLnN0eWxlW24ucHJvcF0/bi5lbGVtW24ucHJvcF06KHQ9aS5jc3Mobi5lbGVtLG4ucHJvcCwiIikpJiYiYXV0byIhPT10P3Q6MH0sc2V0OmZ1bmN0aW9uKG4pe2kuZnguc3RlcFtuLnByb3BdP2kuZnguc3RlcFtuLnByb3BdKG4pOjEhPT1uLmVsZW0ubm9kZVR5cGV8fCFpLmNzc0hvb2tzW24ucHJvcF0mJm51bGw9PW4uZWxlbS5zdHlsZVt0cihuLnByb3ApXT9uLmVsZW1bbi5wcm9wXT1uLm5vdzppLnN0eWxlKG4uZWxlbSxuLnByb3Asbi5ub3crbi51bml0KX19fSkuc2Nyb2xsVG9wPWEucHJvcEhvb2tzLnNjcm9sbExlZnQ9e3NldDpmdW5jdGlvbihuKXtuLmVsZW0ubm9kZVR5cGUmJm4uZWxlbS5wYXJlbnROb2RlJiYobi5lbGVtW24ucHJvcF09bi5ub3cpfX07aS5lYXNpbmc9e2xpbmVhcjpmdW5jdGlvbihuKXtyZXR1cm4gbn0sc3dpbmc6ZnVuY3Rpb24obil7cmV0dXJuLjUtTWF0aC5jb3MobipNYXRoLlBJKS8yfSxfZGVmYXVsdDoic3dpbmcifTtpLmZ4PWEucHJvdG90eXBlLmluaXQ7aS5meC5zdGVwPXt9O2hmPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLztjZj0vcXVldWVIb29rcyQvO2kuQW5pbWF0aW9uPWkuZXh0ZW5kKHYse3R3ZWVuZXJzOnsiKiI6W2Z1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5jcmVhdGVUd2VlbihuLHQpO3JldHVybiBodShpLmVsZW0sbixrdC5leGVjKHQpLGkpLGl9XX0sdHdlZW5lcjpmdW5jdGlvbihuLHQpe3Uobik/KHQ9bixuPVsiKiJdKTpuPW4ubWF0Y2gobCk7Zm9yKHZhciBpLHI9MCxmPW4ubGVuZ3RoO3I8ZjtyKyspaT1uW3JdLHYudHdlZW5lcnNbaV09di50d2VlbmVyc1tpXXx8W10sdi50d2VlbmVyc1tpXS51bnNoaWZ0KHQpfSxwcmVmaWx0ZXJzOltmdW5jdGlvbihuLHQsdSl7dmFyIGYseSx3LGMsYixoLG8sbCxrPSJ3aWR0aCJpbiB0fHwiaGVpZ2h0ImluIHQsdj10aGlzLHA9e30scz1uLnN0eWxlLGE9bi5ub2RlVHlwZSYmZHQobiksZT1yLmdldChuLCJmeHNob3ciKTtmb3IoZiBpbiB1LnF1ZXVlfHwobnVsbD09KGM9aS5fcXVldWVIb29rcyhuLCJmeCIpKS51bnF1ZXVlZCYmKGMudW5xdWV1ZWQ9MCxiPWMuZW1wdHkuZmlyZSxjLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXtjLnVucXVldWVkfHxiKCl9KSxjLnVucXVldWVkKyssdi5hbHdheXMoZnVuY3Rpb24oKXt2LmFsd2F5cyhmdW5jdGlvbigpe2MudW5xdWV1ZWQtLTtpLnF1ZXVlKG4sImZ4IikubGVuZ3RofHxjLmVtcHR5LmZpcmUoKX0pfSkpLHQpaWYoeT10W2ZdLGhmLnRlc3QoeSkpe2lmKGRlbGV0ZSB0W2ZdLHc9d3x8InRvZ2dsZSI9PT15LHk9PT0oYT8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09eXx8IWV8fHZvaWQgMD09PWVbZl0pY29udGludWU7YT0hMH1wW2ZdPWUmJmVbZl18fGkuc3R5bGUobixmKX1pZigoaD0haS5pc0VtcHR5T2JqZWN0KHQpKXx8IWkuaXNFbXB0eU9iamVjdChwKSlmb3IoZiBpbiBrJiYxPT09bi5ub2RlVHlwZSYmKHUub3ZlcmZsb3c9W3Mub3ZlcmZsb3cscy5vdmVyZmxvd1gscy5vdmVyZmxvd1ldLG51bGw9PShvPWUmJmUuZGlzcGxheSkmJihvPXIuZ2V0KG4sImRpc3BsYXkiKSksIm5vbmUiPT09KGw9aS5jc3MobiwiZGlzcGxheSIpKSYmKG8/bD1vOihodChbbl0sITApLG89bi5zdHlsZS5kaXNwbGF5fHxvLGw9aS5jc3MobiwiZGlzcGxheSIpLGh0KFtuXSkpKSwoImlubGluZSI9PT1sfHwiaW5saW5lLWJsb2NrIj09PWwmJm51bGwhPW8pJiYibm9uZSI9PT1pLmNzcyhuLCJmbG9hdCIpJiYoaHx8KHYuZG9uZShmdW5jdGlvbigpe3MuZGlzcGxheT1vfSksbnVsbD09byYmKGw9cy5kaXNwbGF5LG89Im5vbmUiPT09bD8iIjpsKSkscy5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSksdS5vdmVyZmxvdyYmKHMub3ZlcmZsb3c9ImhpZGRlbiIsdi5hbHdheXMoZnVuY3Rpb24oKXtzLm92ZXJmbG93PXUub3ZlcmZsb3dbMF07cy5vdmVyZmxvd1g9dS5vdmVyZmxvd1sxXTtzLm92ZXJmbG93WT11Lm92ZXJmbG93WzJdfSkpLGg9ITEscClofHwoZT8iaGlkZGVuImluIGUmJihhPWUuaGlkZGVuKTplPXIuYWNjZXNzKG4sImZ4c2hvdyIse2Rpc3BsYXk6b30pLHcmJihlLmhpZGRlbj0hYSksYSYmaHQoW25dLCEwKSx2LmRvbmUoZnVuY3Rpb24oKXtmb3IoZiBpbiBhfHxodChbbl0pLHIucmVtb3ZlKG4sImZ4c2hvdyIpLHApaS5zdHlsZShuLGYscFtmXSl9KSksaD1hZihhP2VbZl06MCxmLHYpLGYgaW4gZXx8KGVbZl09aC5zdGFydCxhJiYoaC5lbmQ9aC5zdGFydCxoLnN0YXJ0PTApKX1dLHByZWZpbHRlcjpmdW5jdGlvbihuLHQpe3Q/di5wcmVmaWx0ZXJzLnVuc2hpZnQobik6di5wcmVmaWx0ZXJzLnB1c2gobil9fSk7aS5zcGVlZD1mdW5jdGlvbihuLHQscil7dmFyIGY9biYmIm9iamVjdCI9PXR5cGVvZiBuP2kuZXh0ZW5kKHt9LG4pOntjb21wbGV0ZTpyfHwhciYmdHx8dShuKSYmbixkdXJhdGlvbjpuLGVhc2luZzpyJiZ0fHx0JiYhdSh0KSYmdH07cmV0dXJuIGkuZngub2ZmP2YuZHVyYXRpb249MDoibnVtYmVyIiE9dHlwZW9mIGYuZHVyYXRpb24mJihmLmR1cmF0aW9uPWYuZHVyYXRpb24gaW4gaS5meC5zcGVlZHM/aS5meC5zcGVlZHNbZi5kdXJhdGlvbl06aS5meC5zcGVlZHMuX2RlZmF1bHQpLG51bGwhPWYucXVldWUmJiEwIT09Zi5xdWV1ZXx8KGYucXVldWU9ImZ4IiksZi5vbGQ9Zi5jb21wbGV0ZSxmLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dShmLm9sZCkmJmYub2xkLmNhbGwodGhpcyk7Zi5xdWV1ZSYmaS5kZXF1ZXVlKHRoaXMsZi5xdWV1ZSl9LGZ9O2kuZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIHRoaXMuZmlsdGVyKGR0KS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OnR9LG4saSxyKX0sYW5pbWF0ZTpmdW5jdGlvbihuLHQsdSxmKXt2YXIgcz1pLmlzRW1wdHlPYmplY3Qobiksbz1pLnNwZWVkKHQsdSxmKSxlPWZ1bmN0aW9uKCl7dmFyIHQ9dih0aGlzLGkuZXh0ZW5kKHt9LG4pLG8pOyhzfHxyLmdldCh0aGlzLCJmaW5pc2giKSkmJnQuc3RvcCghMCl9O3JldHVybiBlLmZpbmlzaD1lLHN8fCExPT09by5xdWV1ZT90aGlzLmVhY2goZSk6dGhpcy5xdWV1ZShvLnF1ZXVlLGUpfSxzdG9wOmZ1bmN0aW9uKG4sdCx1KXt2YXIgZj1mdW5jdGlvbihuKXt2YXIgdD1uLnN0b3A7ZGVsZXRlIG4uc3RvcDt0KHUpfTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIG4mJih1PXQsdD1uLG49dm9pZCAwKSx0JiZ0aGlzLnF1ZXVlKG58fCJmeCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBzPSEwLHQ9bnVsbCE9biYmbisicXVldWVIb29rcyIsbz1pLnRpbWVycyxlPXIuZ2V0KHRoaXMpO2lmKHQpZVt0XSYmZVt0XS5zdG9wJiZmKGVbdF0pO2Vsc2UgZm9yKHQgaW4gZSllW3RdJiZlW3RdLnN0b3AmJmNmLnRlc3QodCkmJmYoZVt0XSk7Zm9yKHQ9by5sZW5ndGg7dC0tOylvW3RdLmVsZW0hPT10aGlzfHxudWxsIT1uJiZvW3RdLnF1ZXVlIT09bnx8KG9bdF0uYW5pbS5zdG9wKHUpLHM9ITEsby5zcGxpY2UodCwxKSk7IXMmJnV8fGkuZGVxdWV1ZSh0aGlzLG4pfSl9LGZpbmlzaDpmdW5jdGlvbihuKXtyZXR1cm4hMSE9PW4mJihuPW58fCJmeCIpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0LGU9ci5nZXQodGhpcyksdT1lW24rInF1ZXVlIl0sbz1lW24rInF1ZXVlSG9va3MiXSxmPWkudGltZXJzLHM9dT91Lmxlbmd0aDowO2ZvcihlLmZpbmlzaD0hMCxpLnF1ZXVlKHRoaXMsbixbXSksbyYmby5zdG9wJiZvLnN0b3AuY2FsbCh0aGlzLCEwKSx0PWYubGVuZ3RoO3QtLTspZlt0XS5lbGVtPT09dGhpcyYmZlt0XS5xdWV1ZT09PW4mJihmW3RdLmFuaW0uc3RvcCghMCksZi5zcGxpY2UodCwxKSk7Zm9yKHQ9MDt0PHM7dCsrKXVbdF0mJnVbdF0uZmluaXNoJiZ1W3RdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSBlLmZpbmlzaH0pfX0pO2kuZWFjaChbInRvZ2dsZSIsInNob3ciLCJoaWRlIl0sZnVuY3Rpb24obix0KXt2YXIgcj1pLmZuW3RdO2kuZm5bdF09ZnVuY3Rpb24obixpLHUpe3JldHVybiBudWxsPT1ufHwiYm9vbGVhbiI9PXR5cGVvZiBuP3IuYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuYW5pbWF0ZShhaSh0LCEwKSxuLGksdSl9fSk7aS5lYWNoKHtzbGlkZURvd246YWkoInNob3ciKSxzbGlkZVVwOmFpKCJoaWRlIiksc2xpZGVUb2dnbGU6YWkoInRvZ2dsZSIpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24obix0KXtpLmZuW25dPWZ1bmN0aW9uKG4saSxyKXtyZXR1cm4gdGhpcy5hbmltYXRlKHQsbixpLHIpfX0pO2kudGltZXJzPVtdO2kuZngudGljaz1mdW5jdGlvbigpe3ZhciByLG49MCx0PWkudGltZXJzO2Zvcih2dD1EYXRlLm5vdygpO248dC5sZW5ndGg7bisrKShyPXRbbl0pKCl8fHRbbl0hPT1yfHx0LnNwbGljZShuLS0sMSk7dC5sZW5ndGh8fGkuZnguc3RvcCgpO3Z0PXZvaWQgMH07aS5meC50aW1lcj1mdW5jdGlvbihuKXtpLnRpbWVycy5wdXNoKG4pO2kuZnguc3RhcnQoKX07aS5meC5pbnRlcnZhbD0xMztpLmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7bGl8fChsaT0hMCxycigpKX07aS5meC5zdG9wPWZ1bmN0aW9uKCl7bGk9bnVsbH07aS5meC5zcGVlZHM9e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH07aS5mbi5kZWxheT1mdW5jdGlvbih0LHIpe3JldHVybiB0PWkuZngmJmkuZnguc3BlZWRzW3RdfHx0LHI9cnx8ImZ4Iix0aGlzLnF1ZXVlKHIsZnVuY3Rpb24oaSxyKXt2YXIgdT1uLnNldFRpbWVvdXQoaSx0KTtyLnN0b3A9ZnVuY3Rpb24oKXtuLmNsZWFyVGltZW91dCh1KX19KX07eXQ9Zi5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3NmPWYuY3JlYXRlRWxlbWVudCgic2VsZWN0IikuYXBwZW5kQ2hpbGQoZi5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSk7eXQudHlwZT0iY2hlY2tib3giO2UuY2hlY2tPbj0iIiE9PXl0LnZhbHVlO2Uub3B0U2VsZWN0ZWQ9c2Yuc2VsZWN0ZWQ7KHl0PWYuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSkudmFsdWU9InQiO3l0LnR5cGU9InJhZGlvIjtlLnJhZGlvVmFsdWU9InQiPT09eXQudmFsdWU7cHQ9aS5leHByLmF0dHJIYW5kbGU7aS5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24obix0KXtyZXR1cm4gdyh0aGlzLGkuYXR0cixuLHQsMTxhcmd1bWVudHMubGVuZ3RoKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aS5yZW1vdmVBdHRyKHRoaXMsbil9KX19KTtpLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihuLHQscil7dmFyIGYsdSxlPW4ubm9kZVR5cGU7aWYoMyE9PWUmJjghPT1lJiYyIT09ZSlyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIG4uZ2V0QXR0cmlidXRlP2kucHJvcChuLHQscik6KDE9PT1lJiZpLmlzWE1MRG9jKG4pfHwodT1pLmF0dHJIb29rc1t0LnRvTG93ZXJDYXNlKCldfHwoaS5leHByLm1hdGNoLmJvb2wudGVzdCh0KT92Zjp2b2lkIDApKSx2b2lkIDAhPT1yP251bGw9PT1yP3ZvaWQgaS5yZW1vdmVBdHRyKG4sdCk6dSYmInNldCJpbiB1JiZ2b2lkIDAhPT0oZj11LnNldChuLHIsdCkpP2Y6KG4uc2V0QXR0cmlidXRlKHQscisiIikscik6dSYmImdldCJpbiB1JiZudWxsIT09KGY9dS5nZXQobix0KSk/ZjpudWxsPT0oZj1pLmZpbmQuYXR0cihuLHQpKT92b2lkIDA6Zil9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKG4sdCl7aWYoIWUucmFkaW9WYWx1ZSYmInJhZGlvIj09PXQmJmMobiwiaW5wdXQiKSl7dmFyIGk9bi52YWx1ZTtyZXR1cm4gbi5zZXRBdHRyaWJ1dGUoInR5cGUiLHQpLGkmJihuLnZhbHVlPWkpLHR9fX19LHJlbW92ZUF0dHI6ZnVuY3Rpb24obix0KXt2YXIgaSx1PTAscj10JiZ0Lm1hdGNoKGwpO2lmKHImJjE9PT1uLm5vZGVUeXBlKXdoaWxlKGk9clt1KytdKW4ucmVtb3ZlQXR0cmlidXRlKGkpfX0pO3ZmPXtzZXQ6ZnVuY3Rpb24obix0LHIpe3JldHVybiExPT09dD9pLnJlbW92ZUF0dHIobixyKTpuLnNldEF0dHJpYnV0ZShyLHIpLHJ9fTtpLmVhY2goaS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cdysvZyksZnVuY3Rpb24obix0KXt2YXIgcj1wdFt0XXx8aS5maW5kLmF0dHI7cHRbdF09ZnVuY3Rpb24obix0LGkpe3ZhciBmLGUsdT10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIGl8fChlPXB0W3VdLHB0W3VdPWYsZj1udWxsIT1yKG4sdCxpKT91Om51bGwscHRbdV09ZSksZn19KTt5Zj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pO3BmPS9eKD86YXxhcmVhKSQvaTtpLmZuLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihuLHQpe3JldHVybiB3KHRoaXMsaS5wcm9wLG4sdCwxPGFyZ3VtZW50cy5sZW5ndGgpfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtkZWxldGUgdGhpc1tpLnByb3BGaXhbbl18fG5dfSl9fSk7aS5leHRlbmQoe3Byb3A6ZnVuY3Rpb24obix0LHIpe3ZhciBmLHUsZT1uLm5vZGVUeXBlO2lmKDMhPT1lJiY4IT09ZSYmMiE9PWUpcmV0dXJuIDE9PT1lJiZpLmlzWE1MRG9jKG4pfHwodD1pLnByb3BGaXhbdF18fHQsdT1pLnByb3BIb29rc1t0XSksdm9pZCAwIT09cj91JiYic2V0ImluIHUmJnZvaWQgMCE9PShmPXUuc2V0KG4scix0KSk/ZjpuW3RdPXI6dSYmImdldCJpbiB1JiZudWxsIT09KGY9dS5nZXQobix0KSk/ZjpuW3RdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24obil7dmFyIHQ9aS5maW5kLmF0dHIobiwidGFiaW5kZXgiKTtyZXR1cm4gdD9wYXJzZUludCh0LDEwKTp5Zi50ZXN0KG4ubm9kZU5hbWUpfHxwZi50ZXN0KG4ubm9kZU5hbWUpJiZuLmhyZWY/MDotMX19fSxwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn19KTtlLm9wdFNlbGVjdGVkfHwoaS5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihuKXt2YXIgdD1uLnBhcmVudE5vZGU7cmV0dXJuIHQmJnQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsbnVsbH0sc2V0OmZ1bmN0aW9uKG4pe3ZhciB0PW4ucGFyZW50Tm9kZTt0JiYodC5zZWxlY3RlZEluZGV4LHQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpfX0pO2kuZWFjaChbInRhYkluZGV4IiwicmVhZE9ubHkiLCJtYXhMZW5ndGgiLCJjZWxsU3BhY2luZyIsImNlbGxQYWRkaW5nIiwicm93U3BhbiIsImNvbFNwYW4iLCJ1c2VNYXAiLCJmcmFtZUJvcmRlciIsImNvbnRlbnRFZGl0YWJsZSJdLGZ1bmN0aW9uKCl7aS5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pO2kuZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihuKXt2YXIgbyx0LHIsZixlLHMsaCxjPTA7aWYodShuKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe2kodGhpcykuYWRkQ2xhc3Mobi5jYWxsKHRoaXMsdCxpdCh0aGlzKSkpfSk7aWYoKG89dXIobikpLmxlbmd0aCl3aGlsZSh0PXRoaXNbYysrXSlpZihmPWl0KHQpLHI9MT09PXQubm9kZVR5cGUmJiIgIit0dChmKSsiICIpe2ZvcihzPTA7ZT1vW3MrK107KXIuaW5kZXhPZigiICIrZSsiICIpPDAmJihyKz1lKyIgIik7ZiE9PShoPXR0KHIpKSYmdC5zZXRBdHRyaWJ1dGUoImNsYXNzIixoKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24obil7dmFyIG8scix0LGYsZSxzLGgsYz0wO2lmKHUobikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXtpKHRoaXMpLnJlbW92ZUNsYXNzKG4uY2FsbCh0aGlzLHQsaXQodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoImNsYXNzIiwiIik7aWYoKG89dXIobikpLmxlbmd0aCl3aGlsZShyPXRoaXNbYysrXSlpZihmPWl0KHIpLHQ9MT09PXIubm9kZVR5cGUmJiIgIit0dChmKSsiICIpe2ZvcihzPTA7ZT1vW3MrK107KXdoaWxlKC0xPHQuaW5kZXhPZigiICIrZSsiICIpKXQ9dC5yZXBsYWNlKCIgIitlKyIgIiwiICIpO2YhPT0oaD10dCh0KSkmJnIuc2V0QXR0cmlidXRlKCJjbGFzcyIsaCl9cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKG4sdCl7dmFyIGY9dHlwZW9mIG4sZT0ic3RyaW5nIj09PWZ8fEFycmF5LmlzQXJyYXkobik7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgdCYmZT90P3RoaXMuYWRkQ2xhc3Mobik6dGhpcy5yZW1vdmVDbGFzcyhuKTp1KG4pP3RoaXMuZWFjaChmdW5jdGlvbihyKXtpKHRoaXMpLnRvZ2dsZUNsYXNzKG4uY2FsbCh0aGlzLHIsaXQodGhpcyksdCksdCl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxvLHUscztpZihlKWZvcihvPTAsdT1pKHRoaXMpLHM9dXIobik7dD1zW28rK107KXUuaGFzQ2xhc3ModCk/dS5yZW1vdmVDbGFzcyh0KTp1LmFkZENsYXNzKHQpO2Vsc2Ugdm9pZCAwIT09biYmImJvb2xlYW4iIT09Znx8KCh0PWl0KHRoaXMpKSYmci5zZXQodGhpcywiX19jbGFzc05hbWVfXyIsdCksdGhpcy5zZXRBdHRyaWJ1dGUmJnRoaXMuc2V0QXR0cmlidXRlKCJjbGFzcyIsdHx8ITE9PT1uPyIiOnIuZ2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiIpKX0pfSxoYXNDbGFzczpmdW5jdGlvbihuKXtmb3IodmFyIHQscj0wLGk9IiAiK24rIiAiO3Q9dGhpc1tyKytdOylpZigxPT09dC5ub2RlVHlwZSYmLTE8KCIgIit0dChpdCh0KSkrIiAiKS5pbmRleE9mKGkpKXJldHVybiEwO3JldHVybiExfX0pO3dmPS9cci9nO2kuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHQscixlLGY9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT11KG4pLHRoaXMuZWFjaChmdW5jdGlvbihyKXt2YXIgdTsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh1PWU/bi5jYWxsKHRoaXMscixpKHRoaXMpLnZhbCgpKTpuKT91PSIiOiJudW1iZXIiPT10eXBlb2YgdT91Kz0iIjpBcnJheS5pc0FycmF5KHUpJiYodT1pLm1hcCh1LGZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uPyIiOm4rIiJ9KSksKHQ9aS52YWxIb29rc1t0aGlzLnR5cGVdfHxpLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHQmJnZvaWQgMCE9PXQuc2V0KHRoaXMsdSwidmFsdWUiKXx8KHRoaXMudmFsdWU9dSkpfSkpOmY/KHQ9aS52YWxIb29rc1tmLnR5cGVdfHxpLnZhbEhvb2tzW2Yubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHQmJnZvaWQgMCE9PShyPXQuZ2V0KGYsInZhbHVlIikpP3I6InN0cmluZyI9PXR5cGVvZihyPWYudmFsdWUpP3IucmVwbGFjZSh3ZiwiIik6bnVsbD09cj8iIjpyOnZvaWQgMH19KTtpLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKG4pe3ZhciB0PWkuZmluZC5hdHRyKG4sInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDp0dChpLnRleHQobikpfX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24obil7Zm9yKHZhciBlLHQsbz1uLm9wdGlvbnMsdT1uLnNlbGVjdGVkSW5kZXgsZj0ic2VsZWN0LW9uZSI9PT1uLnR5cGUscz1mP251bGw6W10saD1mP3UrMTpvLmxlbmd0aCxyPXU8MD9oOmY/dTowO3I8aDtyKyspaWYoKCh0PW9bcl0pLnNlbGVjdGVkfHxyPT09dSkmJiF0LmRpc2FibGVkJiYoIXQucGFyZW50Tm9kZS5kaXNhYmxlZHx8IWModC5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYoZT1pKHQpLnZhbCgpLGYpcmV0dXJuIGU7cy5wdXNoKGUpfXJldHVybiBzfSxzZXQ6ZnVuY3Rpb24obix0KXtmb3IodmFyIHIsdSxmPW4ub3B0aW9ucyxlPWkubWFrZUFycmF5KHQpLG89Zi5sZW5ndGg7by0tOykoKHU9ZltvXSkuc2VsZWN0ZWQ9LTE8aS5pbkFycmF5KGkudmFsSG9va3Mub3B0aW9uLmdldCh1KSxlKSkmJihyPSEwKTtyZXR1cm4gcnx8KG4uc2VsZWN0ZWRJbmRleD0tMSksZX19fX0pO2kuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe2kudmFsSG9va3NbdGhpc109e3NldDpmdW5jdGlvbihuLHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIG4uY2hlY2tlZD0tMTxpLmluQXJyYXkoaShuKS52YWwoKSx0KX19O2UuY2hlY2tPbnx8KGkudmFsSG9va3NbdGhpc10uZ2V0PWZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT09bi5nZXRBdHRyaWJ1dGUoInZhbHVlIik/Im9uIjpuLnZhbHVlfSl9KTtlLmZvY3VzaW49Im9uZm9jdXNpbiJpbiBuO2ZyPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLztlcj1mdW5jdGlvbihuKXtuLnN0b3BQcm9wYWdhdGlvbigpfTtpLmV4dGVuZChpLmV2ZW50LHt0cmlnZ2VyOmZ1bmN0aW9uKHQsZSxvLHMpe3ZhciBrLGMsbCxkLHYseSxhLHAsdz1bb3x8Zl0saD11aS5jYWxsKHQsInR5cGUiKT90LnR5cGU6dCxiPXVpLmNhbGwodCwibmFtZXNwYWNlIik/dC5uYW1lc3BhY2Uuc3BsaXQoIi4iKTpbXTtpZihjPXA9bD1vPW98fGYsMyE9PW8ubm9kZVR5cGUmJjghPT1vLm5vZGVUeXBlJiYhZnIudGVzdChoK2kuZXZlbnQudHJpZ2dlcmVkKSYmKC0xPGguaW5kZXhPZigiLiIpJiYoaD0oYj1oLnNwbGl0KCIuIikpLnNoaWZ0KCksYi5zb3J0KCkpLHY9aC5pbmRleE9mKCI6Iik8MCYmIm9uIitoLCh0PXRbaS5leHBhbmRvXT90Om5ldyBpLkV2ZW50KGgsIm9iamVjdCI9PXR5cGVvZiB0JiZ0KSkuaXNUcmlnZ2VyPXM/MjozLHQubmFtZXNwYWNlPWIuam9pbigiLiIpLHQucm5hbWVzcGFjZT10Lm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIitiLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsdC5yZXN1bHQ9dm9pZCAwLHQudGFyZ2V0fHwodC50YXJnZXQ9byksZT1udWxsPT1lP1t0XTppLm1ha2VBcnJheShlLFt0XSksYT1pLmV2ZW50LnNwZWNpYWxbaF18fHt9LHN8fCFhLnRyaWdnZXJ8fCExIT09YS50cmlnZ2VyLmFwcGx5KG8sZSkpKXtpZighcyYmIWEubm9CdWJibGUmJiFydChvKSl7Zm9yKGQ9YS5kZWxlZ2F0ZVR5cGV8fGgsZnIudGVzdChkK2gpfHwoYz1jLnBhcmVudE5vZGUpO2M7Yz1jLnBhcmVudE5vZGUpdy5wdXNoKGMpLGw9YztsPT09KG8ub3duZXJEb2N1bWVudHx8ZikmJncucHVzaChsLmRlZmF1bHRWaWV3fHxsLnBhcmVudFdpbmRvd3x8bil9Zm9yKGs9MDsoYz13W2srK10pJiYhdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOylwPWMsdC50eXBlPTE8az9kOmEuYmluZFR5cGV8fGgsKHk9KHIuZ2V0KGMsImV2ZW50cyIpfHxPYmplY3QuY3JlYXRlKG51bGwpKVt0LnR5cGVdJiZyLmdldChjLCJoYW5kbGUiKSkmJnkuYXBwbHkoYyxlKSwoeT12JiZjW3ZdKSYmeS5hcHBseSYmb3QoYykmJih0LnJlc3VsdD15LmFwcGx5KGMsZSksITE9PT10LnJlc3VsdCYmdC5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gdC50eXBlPWgsc3x8dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8YS5fZGVmYXVsdCYmITEhPT1hLl9kZWZhdWx0LmFwcGx5KHcucG9wKCksZSl8fCFvdChvKXx8diYmdShvW2hdKSYmIXJ0KG8pJiYoKGw9b1t2XSkmJihvW3ZdPW51bGwpLGkuZXZlbnQudHJpZ2dlcmVkPWgsdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZwLmFkZEV2ZW50TGlzdGVuZXIoaCxlciksb1toXSgpLHQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmcC5yZW1vdmVFdmVudExpc3RlbmVyKGgsZXIpLGkuZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxsJiYob1t2XT1sKSksdC5yZXN1bHR9fSxzaW11bGF0ZTpmdW5jdGlvbihuLHQscil7dmFyIHU9aS5leHRlbmQobmV3IGkuRXZlbnQscix7dHlwZTpuLGlzU2ltdWxhdGVkOiEwfSk7aS5ldmVudC50cmlnZ2VyKHUsbnVsbCx0KX19KTtpLmZuLmV4dGVuZCh7dHJpZ2dlcjpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpLmV2ZW50LnRyaWdnZXIobix0LHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKG4sdCl7dmFyIHI9dGhpc1swXTtpZihyKXJldHVybiBpLmV2ZW50LnRyaWdnZXIobix0LHIsITApfX0pO2UuZm9jdXNpbnx8aS5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihuLHQpe3ZhciB1PWZ1bmN0aW9uKG4pe2kuZXZlbnQuc2ltdWxhdGUodCxuLnRhcmdldCxpLmV2ZW50LmZpeChuKSl9O2kuZXZlbnQuc3BlY2lhbFt0XT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMuZG9jdW1lbnR8fHRoaXMsZj1yLmFjY2VzcyhpLHQpO2Z8fGkuYWRkRXZlbnRMaXN0ZW5lcihuLHUsITApO3IuYWNjZXNzKGksdCwoZnx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLmRvY3VtZW50fHx0aGlzLGY9ci5hY2Nlc3MoaSx0KS0xO2Y/ci5hY2Nlc3MoaSx0LGYpOihpLnJlbW92ZUV2ZW50TGlzdGVuZXIobix1LCEwKSxyLnJlbW92ZShpLHQpKX19fSk7dmFyIHRpPW4ubG9jYXRpb24sYmY9e2d1aWQ6RGF0ZS5ub3coKX0sb3I9L1w/LztpLnBhcnNlWE1MPWZ1bmN0aW9uKHQpe3ZhciByO2lmKCF0fHwic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuIG51bGw7dHJ5e3I9KG5ldyBuLkRPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKHQsInRleHQveG1sIil9Y2F0Y2godCl7cj12b2lkIDB9cmV0dXJuIHImJiFyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aHx8aS5lcnJvcigiSW52YWxpZCBYTUw6ICIrdCkscn07dmFyIGZvPS9cW1xdJC8sa2Y9L1xyP1xuL2csZW89L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLG9vPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtpLnBhcmFtPWZ1bmN0aW9uKG4sdCl7dmFyIHIsZj1bXSxlPWZ1bmN0aW9uKG4sdCl7dmFyIGk9dSh0KT90KCk6dDtmW2YubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQobikrIj0iK2VuY29kZVVSSUNvbXBvbmVudChudWxsPT1pPyIiOmkpfTtpZihudWxsPT1uKXJldHVybiIiO2lmKEFycmF5LmlzQXJyYXkobil8fG4uanF1ZXJ5JiYhaS5pc1BsYWluT2JqZWN0KG4pKWkuZWFjaChuLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihyIGluIG4pc3IocixuW3JdLHQsZSk7cmV0dXJuIGYuam9pbigiJiIpfTtpLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGkucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgbj1pLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gbj9pLm1ha2VBcnJheShuKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIG49dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFpKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmb28udGVzdCh0aGlzLm5vZGVOYW1lKSYmIWVvLnRlc3QobikmJih0aGlzLmNoZWNrZWR8fCFndC50ZXN0KG4pKX0pLm1hcChmdW5jdGlvbihuLHQpe3ZhciByPWkodGhpcykudmFsKCk7cmV0dXJuIG51bGw9PXI/bnVsbDpBcnJheS5pc0FycmF5KHIpP2kubWFwKHIsZnVuY3Rpb24obil7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOm4ucmVwbGFjZShrZiwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpyLnJlcGxhY2Uoa2YsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgc289LyUyMC9nLGhvPS8jLiokLyxjbz0vKFs/Jl0pXz1bXiZdKi8sbG89L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxhbz0vXig/OkdFVHxIRUFEKSQvLHZvPS9eXC9cLy8sZGY9e30saHI9e30sZ2Y9IiovIi5jb25jYXQoIioiKSxjcj1mLmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gY3IuaHJlZj10aS5ocmVmLGkuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDp0aS5ocmVmLHR5cGU6IkdFVCIsaXNMb2NhbDovXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLy50ZXN0KHRpLnByb3RvY29sKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsImFzeW5jIjohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6Z2YsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L1xieG1sXGIvLGh0bWw6L1xiaHRtbC8sanNvbjovXGJqc29uXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6SlNPTi5wYXJzZSwidGV4dCB4bWwiOmkucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihuLHQpe3JldHVybiB0P2xyKGxyKG4saS5hamF4U2V0dGluZ3MpLHQpOmxyKGkuYWpheFNldHRpbmdzLG4pfSxhamF4UHJlZmlsdGVyOm5lKGRmKSxhamF4VHJhbnNwb3J0Om5lKGhyKSxhamF4OmZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gYih0LHIsZixjKXt2YXIgdixydCxiLHAsZyxsPXI7c3x8KHM9ITAsZCYmbi5jbGVhclRpbWVvdXQoZCksYT12b2lkIDAsaz1jfHwiIixlLnJlYWR5U3RhdGU9MDx0PzQ6MCx2PTIwMDw9dCYmdDwzMDB8fDMwND09PXQsZiYmKHA9ZnVuY3Rpb24obix0LGkpe2Zvcih2YXIgZSx1LGYsbyxzPW4uY29udGVudHMscj1uLmRhdGFUeXBlczsiKiI9PT1yWzBdOylyLnNoaWZ0KCksdm9pZCAwPT09ZSYmKGU9bi5taW1lVHlwZXx8dC5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIikpO2lmKGUpZm9yKHUgaW4gcylpZihzW3VdJiZzW3VdLnRlc3QoZSkpe3IudW5zaGlmdCh1KTticmVha31pZihyWzBdaW4gaSlmPXJbMF07ZWxzZXtmb3IodSBpbiBpKXtpZighclswXXx8bi5jb252ZXJ0ZXJzW3UrIiAiK3JbMF1dKXtmPXU7YnJlYWt9b3x8KG89dSl9Zj1mfHxvfWlmKGYpcmV0dXJuIGYhPT1yWzBdJiZyLnVuc2hpZnQoZiksaVtmXX0odSxlLGYpKSwhdiYmLTE8aS5pbkFycmF5KCJzY3JpcHQiLHUuZGF0YVR5cGVzKSYmKHUuY29udmVydGVyc1sidGV4dCBzY3JpcHQiXT1mdW5jdGlvbigpe30pLHA9ZnVuY3Rpb24obix0LGkscil7dmFyIGgsdSxmLHMsZSxvPXt9LGM9bi5kYXRhVHlwZXMuc2xpY2UoKTtpZihjWzFdKWZvcihmIGluIG4uY29udmVydGVycylvW2YudG9Mb3dlckNhc2UoKV09bi5jb252ZXJ0ZXJzW2ZdO2Zvcih1PWMuc2hpZnQoKTt1OylpZihuLnJlc3BvbnNlRmllbGRzW3VdJiYoaVtuLnJlc3BvbnNlRmllbGRzW3VdXT10KSwhZSYmciYmbi5kYXRhRmlsdGVyJiYodD1uLmRhdGFGaWx0ZXIodCxuLmRhdGFUeXBlKSksZT11LHU9Yy5zaGlmdCgpKWlmKCIqIj09PXUpdT1lO2Vsc2UgaWYoIioiIT09ZSYmZSE9PXUpe2lmKCEoZj1vW2UrIiAiK3VdfHxvWyIqICIrdV0pKWZvcihoIGluIG8paWYoKHM9aC5zcGxpdCgiICIpKVsxXT09PXUmJihmPW9bZSsiICIrc1swXV18fG9bIiogIitzWzBdXSkpeyEwPT09Zj9mPW9baF06ITAhPT1vW2hdJiYodT1zWzBdLGMudW5zaGlmdChzWzFdKSk7YnJlYWt9aWYoITAhPT1mKWlmKGYmJm4udGhyb3dzKXQ9Zih0KTtlbHNlIHRyeXt0PWYodCl9Y2F0Y2gobil7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6Zj9uOiJObyBjb252ZXJzaW9uIGZyb20gIitlKyIgdG8gIit1fX19cmV0dXJue3N0YXRlOiJzdWNjZXNzIixkYXRhOnR9fSh1LHAsZSx2KSx2Pyh1LmlmTW9kaWZpZWQmJigoZz1lLmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoaS5sYXN0TW9kaWZpZWRbb109ZyksKGc9ZS5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKGkuZXRhZ1tvXT1nKSksMjA0PT09dHx8IkhFQUQiPT09dS50eXBlP2w9Im5vY29udGVudCI6MzA0PT09dD9sPSJub3Rtb2RpZmllZCI6KGw9cC5zdGF0ZSxydD1wLmRhdGEsdj0hKGI9cC5lcnJvcikpKTooYj1sLCF0JiZsfHwobD0iZXJyb3IiLHQ8MCYmKHQ9MCkpKSxlLnN0YXR1cz10LGUuc3RhdHVzVGV4dD0ocnx8bCkrIiIsdj90dC5yZXNvbHZlV2l0aChoLFtydCxsLGVdKTp0dC5yZWplY3RXaXRoKGgsW2UsbCxiXSksZS5zdGF0dXNDb2RlKHcpLHc9dm9pZCAwLHkmJm50LnRyaWdnZXIodj8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFtlLHUsdj9ydDpiXSksaXQuZmlyZVdpdGgoaCxbZSxsXSkseSYmKG50LnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW2UsdV0pLC0taS5hY3RpdmV8fGkuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfSJvYmplY3QiPT10eXBlb2YgdCYmKHI9dCx0PXZvaWQgMCk7cj1yfHx7fTt2YXIgYSxvLGssdixkLGMscyx5LGcscCx1PWkuYWpheFNldHVwKHt9LHIpLGg9dS5jb250ZXh0fHx1LG50PXUuY29udGV4dCYmKGgubm9kZVR5cGV8fGguanF1ZXJ5KT9pKGgpOmkuZXZlbnQsdHQ9aS5EZWZlcnJlZCgpLGl0PWkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHc9dS5zdGF0dXNDb2RlfHx7fSxydD17fSx1dD17fSxmdD0iY2FuY2VsZWQiLGU9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihuKXt2YXIgdDtpZihzKXtpZighdilmb3Iodj17fTt0PWxvLmV4ZWMoayk7KXZbdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl09KHZbdFsxXS50b0xvd2VyQ2FzZSgpKyIgIl18fFtdKS5jb25jYXQodFsyXSk7dD12W24udG9Mb3dlckNhc2UoKSsiICJdfXJldHVybiBudWxsPT10P251bGw6dC5qb2luKCIsICIpfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gcz9rOm51bGx9LHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24obix0KXtyZXR1cm4gbnVsbD09cyYmKG49dXRbbi50b0xvd2VyQ2FzZSgpXT11dFtuLnRvTG93ZXJDYXNlKCldfHxuLHJ0W25dPXQpLHRoaXN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PXMmJih1Lm1pbWVUeXBlPW4pLHRoaXN9LHN0YXR1c0NvZGU6ZnVuY3Rpb24obil7dmFyIHQ7aWYobilpZihzKWUuYWx3YXlzKG5bZS5zdGF0dXNdKTtlbHNlIGZvcih0IGluIG4pd1t0XT1bd1t0XSxuW3RdXTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24obil7dmFyIHQ9bnx8ZnQ7cmV0dXJuIGEmJmEuYWJvcnQodCksYigwLHQpLHRoaXN9fTtpZih0dC5wcm9taXNlKGUpLHUudXJsPSgodHx8dS51cmx8fHRpLmhyZWYpKyIiKS5yZXBsYWNlKHZvLHRpLnByb3RvY29sKyIvLyIpLHUudHlwZT1yLm1ldGhvZHx8ci50eXBlfHx1Lm1ldGhvZHx8dS50eXBlLHUuZGF0YVR5cGVzPSh1LmRhdGFUeXBlfHwiKiIpLnRvTG93ZXJDYXNlKCkubWF0Y2gobCl8fFsiIl0sbnVsbD09dS5jcm9zc0RvbWFpbil7Yz1mLmNyZWF0ZUVsZW1lbnQoImEiKTt0cnl7Yy5ocmVmPXUudXJsO2MuaHJlZj1jLmhyZWY7dS5jcm9zc0RvbWFpbj1jci5wcm90b2NvbCsiLy8iK2NyLmhvc3QhPWMucHJvdG9jb2wrIi8vIitjLmhvc3R9Y2F0Y2godCl7dS5jcm9zc0RvbWFpbj0hMH19aWYodS5kYXRhJiZ1LnByb2Nlc3NEYXRhJiYic3RyaW5nIiE9dHlwZW9mIHUuZGF0YSYmKHUuZGF0YT1pLnBhcmFtKHUuZGF0YSx1LnRyYWRpdGlvbmFsKSksdGUoZGYsdSxyLGUpLHMpcmV0dXJuIGU7Zm9yKGcgaW4oeT1pLmV2ZW50JiZ1Lmdsb2JhbCkmJjA9PWkuYWN0aXZlKysmJmkuZXZlbnQudHJpZ2dlcigiYWpheFN0YXJ0IiksdS50eXBlPXUudHlwZS50b1VwcGVyQ2FzZSgpLHUuaGFzQ29udGVudD0hYW8udGVzdCh1LnR5cGUpLG89dS51cmwucmVwbGFjZShobywiIiksdS5oYXNDb250ZW50P3UuZGF0YSYmdS5wcm9jZXNzRGF0YSYmMD09PSh1LmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJih1LmRhdGE9dS5kYXRhLnJlcGxhY2Uoc28sIisiKSk6KHA9dS51cmwuc2xpY2Uoby5sZW5ndGgpLHUuZGF0YSYmKHUucHJvY2Vzc0RhdGF8fCJzdHJpbmciPT10eXBlb2YgdS5kYXRhKSYmKG8rPShvci50ZXN0KG8pPyImIjoiPyIpK3UuZGF0YSxkZWxldGUgdS5kYXRhKSwhMT09PXUuY2FjaGUmJihvPW8ucmVwbGFjZShjbywiJDEiKSxwPShvci50ZXN0KG8pPyImIjoiPyIpKyJfPSIrYmYuZ3VpZCsrK3ApLHUudXJsPW8rcCksdS5pZk1vZGlmaWVkJiYoaS5sYXN0TW9kaWZpZWRbb10mJmUuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLGkubGFzdE1vZGlmaWVkW29dKSxpLmV0YWdbb10mJmUuc2V0UmVxdWVzdEhlYWRlcigiSWYtTm9uZS1NYXRjaCIsaS5ldGFnW29dKSksKHUuZGF0YSYmdS5oYXNDb250ZW50JiYhMSE9PXUuY29udGVudFR5cGV8fHIuY29udGVudFR5cGUpJiZlLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsdS5jb250ZW50VHlwZSksZS5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLHUuZGF0YVR5cGVzWzBdJiZ1LmFjY2VwdHNbdS5kYXRhVHlwZXNbMF1dP3UuYWNjZXB0c1t1LmRhdGFUeXBlc1swXV0rKCIqIiE9PXUuZGF0YVR5cGVzWzBdPyIsICIrZ2YrIjsgcT0wLjAxIjoiIik6dS5hY2NlcHRzWyIqIl0pLHUuaGVhZGVycyllLnNldFJlcXVlc3RIZWFkZXIoZyx1LmhlYWRlcnNbZ10pO2lmKHUuYmVmb3JlU2VuZCYmKCExPT09dS5iZWZvcmVTZW5kLmNhbGwoaCxlLHUpfHxzKSlyZXR1cm4gZS5hYm9ydCgpO2lmKGZ0PSJhYm9ydCIsaXQuYWRkKHUuY29tcGxldGUpLGUuZG9uZSh1LnN1Y2Nlc3MpLGUuZmFpbCh1LmVycm9yKSxhPXRlKGhyLHUscixlKSl7aWYoZS5yZWFkeVN0YXRlPTEseSYmbnQudHJpZ2dlcigiYWpheFNlbmQiLFtlLHVdKSxzKXJldHVybiBlO3UuYXN5bmMmJjA8dS50aW1lb3V0JiYoZD1uLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmFib3J0KCJ0aW1lb3V0Iil9LHUudGltZW91dCkpO3RyeXtzPSExO2Euc2VuZChydCxiKX1jYXRjaCh0KXtpZihzKXRocm93IHQ7YigtMSx0KX19ZWxzZSBiKC0xLCJObyBUcmFuc3BvcnQiKTtyZXR1cm4gZX0sZ2V0SlNPTjpmdW5jdGlvbihuLHQscil7cmV0dXJuIGkuZ2V0KG4sdCxyLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihuLHQpe3JldHVybiBpLmdldChuLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxpLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24obix0KXtpW3RdPWZ1bmN0aW9uKG4scixmLGUpe3JldHVybiB1KHIpJiYoZT1lfHxmLGY9cixyPXZvaWQgMCksaS5hamF4KGkuZXh0ZW5kKHt1cmw6bix0eXBlOnQsZGF0YVR5cGU6ZSxkYXRhOnIsc3VjY2VzczpmfSxpLmlzUGxhaW5PYmplY3QobikmJm4pKX19KSxpLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24obil7Zm9yKHZhciB0IGluIG4uaGVhZGVycykiY29udGVudC10eXBlIj09PXQudG9Mb3dlckNhc2UoKSYmKG4uY29udGVudFR5cGU9bi5oZWFkZXJzW3RdfHwiIil9KSxpLl9ldmFsVXJsPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gaS5hamF4KHt1cmw6bix0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGNhY2hlOiEwLCJhc3luYyI6ITEsZ2xvYmFsOiExLGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oKXt9fSxkYXRhRmlsdGVyOmZ1bmN0aW9uKG4pe2kuZ2xvYmFsRXZhbChuLHQscil9fSl9LGkuZm4uZXh0ZW5kKHt3cmFwQWxsOmZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybiB0aGlzWzBdJiYodShuKSYmKG49bi5jYWxsKHRoaXNbMF0pKSx0PWkobix0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKSx0aGlzWzBdLnBhcmVudE5vZGUmJnQuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLHQubWFwKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPXRoaXM7bi5maXJzdEVsZW1lbnRDaGlsZDspbj1uLmZpcnN0RWxlbWVudENoaWxkO3JldHVybiBufSkuYXBwZW5kKHRoaXMpKSx0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24obil7cmV0dXJuIHUobik/dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe2kodGhpcykud3JhcElubmVyKG4uY2FsbCh0aGlzLHQpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PWkodGhpcykscj10LmNvbnRlbnRzKCk7ci5sZW5ndGg/ci53cmFwQWxsKG4pOnQuYXBwZW5kKG4pfSl9LHdyYXA6ZnVuY3Rpb24obil7dmFyIHQ9dShuKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHIpe2kodGhpcykud3JhcEFsbCh0P24uY2FsbCh0aGlzLHIpOm4pfSl9LHVud3JhcDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5wYXJlbnQobikubm90KCJib2R5IikuZWFjaChmdW5jdGlvbigpe2kodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLHRoaXN9fSksaS5leHByLnBzZXVkb3MuaGlkZGVuPWZ1bmN0aW9uKG4pe3JldHVybiFpLmV4cHIucHNldWRvcy52aXNpYmxlKG4pfSxpLmV4cHIucHNldWRvcy52aXNpYmxlPWZ1bmN0aW9uKG4pe3JldHVybiEhKG4ub2Zmc2V0V2lkdGh8fG4ub2Zmc2V0SGVpZ2h0fHxuLmdldENsaWVudFJlY3RzKCkubGVuZ3RoKX0saS5hamF4U2V0dGluZ3MueGhyPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgbi5YTUxIdHRwUmVxdWVzdH1jYXRjaCh0KXt9fSxpZT17MDoyMDAsMTIyMzoyMDR9LHd0PWkuYWpheFNldHRpbmdzLnhocigpLGUuY29ycz0hIXd0JiYid2l0aENyZWRlbnRpYWxzImluIHd0LGUuYWpheD13dD0hIXd0LGkuYWpheFRyYW5zcG9ydChmdW5jdGlvbih0KXt2YXIgaSxyO2lmKGUuY29yc3x8d3QmJiF0LmNyb3NzRG9tYWluKXJldHVybntzZW5kOmZ1bmN0aW9uKHUsZil7dmFyIG8sZT10LnhocigpO2lmKGUub3Blbih0LnR5cGUsdC51cmwsdC5hc3luYyx0LnVzZXJuYW1lLHQucGFzc3dvcmQpLHQueGhyRmllbGRzKWZvcihvIGluIHQueGhyRmllbGRzKWVbb109dC54aHJGaWVsZHNbb107Zm9yKG8gaW4gdC5taW1lVHlwZSYmZS5vdmVycmlkZU1pbWVUeXBlJiZlLm92ZXJyaWRlTWltZVR5cGUodC5taW1lVHlwZSksdC5jcm9zc0RvbWFpbnx8dVsiWC1SZXF1ZXN0ZWQtV2l0aCJdfHwodVsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpLHUpZS5zZXRSZXF1ZXN0SGVhZGVyKG8sdVtvXSk7aT1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXtpJiYoaT1yPWUub25sb2FkPWUub25lcnJvcj1lLm9uYWJvcnQ9ZS5vbnRpbWVvdXQ9ZS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCwiYWJvcnQiPT09bj9lLmFib3J0KCk6ImVycm9yIj09PW4/Im51bWJlciIhPXR5cGVvZiBlLnN0YXR1cz9mKDAsImVycm9yIik6ZihlLnN0YXR1cyxlLnN0YXR1c1RleHQpOmYoaWVbZS5zdGF0dXNdfHxlLnN0YXR1cyxlLnN0YXR1c1RleHQsInRleHQiIT09KGUucmVzcG9uc2VUeXBlfHwidGV4dCIpfHwic3RyaW5nIiE9dHlwZW9mIGUucmVzcG9uc2VUZXh0P3tiaW5hcnk6ZS5yZXNwb25zZX06e3RleHQ6ZS5yZXNwb25zZVRleHR9LGUuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKX19O2Uub25sb2FkPWkoKTtyPWUub25lcnJvcj1lLm9udGltZW91dD1pKCJlcnJvciIpO3ZvaWQgMCE9PWUub25hYm9ydD9lLm9uYWJvcnQ9cjplLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpezQ9PT1lLnJlYWR5U3RhdGUmJm4uc2V0VGltZW91dChmdW5jdGlvbigpe2kmJnIoKX0pfTtpPWkoImFib3J0Iik7dHJ5e2Uuc2VuZCh0Lmhhc0NvbnRlbnQmJnQuZGF0YXx8bnVsbCl9Y2F0Y2godSl7aWYoaSl0aHJvdyB1O319LGFib3J0OmZ1bmN0aW9uKCl7aSYmaSgpfX19KSxpLmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24obil7bi5jcm9zc0RvbWFpbiYmKG4uY29udGVudHMuc2NyaXB0PSExKX0pLGkuYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovXGIoPzpqYXZhfGVjbWEpc2NyaXB0XGIvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKG4pe3JldHVybiBpLmdsb2JhbEV2YWwobiksbn19fSksaS5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKG4pe3ZvaWQgMD09PW4uY2FjaGUmJihuLmNhY2hlPSExKTtuLmNyb3NzRG9tYWluJiYobi50eXBlPSJHRVQiKX0pLGkuYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihuKXt2YXIgcix0O2lmKG4uY3Jvc3NEb21haW58fG4uc2NyaXB0QXR0cnMpcmV0dXJue3NlbmQ6ZnVuY3Rpb24odSxlKXtyPWkoIjxzY3JpcHQ+IikuYXR0cihuLnNjcmlwdEF0dHJzfHx7fSkucHJvcCh7Y2hhcnNldDpuLnNjcmlwdENoYXJzZXQsc3JjOm4udXJsfSkub24oImxvYWQgZXJyb3IiLHQ9ZnVuY3Rpb24obil7ci5yZW1vdmUoKTt0PW51bGw7biYmZSgiZXJyb3IiPT09bi50eXBlPzQwNDoyMDAsbi50eXBlKX0pO2YuaGVhZC5hcHBlbmRDaGlsZChyWzBdKX0sYWJvcnQ6ZnVuY3Rpb24oKXt0JiZ0KCl9fX0pLGFyPVtdLHZpPS8oPSlcPyg/PSZ8JCl8XD9cPy8saS5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBuPWFyLnBvcCgpfHxpLmV4cGFuZG8rIl8iK2JmLmd1aWQrKztyZXR1cm4gdGhpc1tuXT0hMCxufX0pLGkuYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24odCxyLGYpe3ZhciBlLG8scyxoPSExIT09dC5qc29ucCYmKHZpLnRlc3QodC51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgdC5kYXRhJiYwPT09KHQuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmdmkudGVzdCh0LmRhdGEpJiYiZGF0YSIpO2lmKGh8fCJqc29ucCI9PT10LmRhdGFUeXBlc1swXSlyZXR1cm4gZT10Lmpzb25wQ2FsbGJhY2s9dSh0Lmpzb25wQ2FsbGJhY2spP3QuanNvbnBDYWxsYmFjaygpOnQuanNvbnBDYWxsYmFjayxoP3RbaF09dFtoXS5yZXBsYWNlKHZpLCIkMSIrZSk6ITEhPT10Lmpzb25wJiYodC51cmwrPShvci50ZXN0KHQudXJsKT8iJiI6Ij8iKSt0Lmpzb25wKyI9IitlKSx0LmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gc3x8aS5lcnJvcihlKyIgd2FzIG5vdCBjYWxsZWQiKSxzWzBdfSx0LmRhdGFUeXBlc1swXT0ianNvbiIsbz1uW2VdLG5bZV09ZnVuY3Rpb24oKXtzPWFyZ3VtZW50c30sZi5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1vP2kobikucmVtb3ZlUHJvcChlKTpuW2VdPW87dFtlXSYmKHQuanNvbnBDYWxsYmFjaz1yLmpzb25wQ2FsbGJhY2ssYXIucHVzaChlKSk7cyYmdShvKSYmbyhzWzBdKTtzPW89dm9pZCAwfSksInNjcmlwdCJ9KSxlLmNyZWF0ZUhUTUxEb2N1bWVudD0oKHJlPWYuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKS5ib2R5KS5pbm5lckhUTUw9Ijxmb3JtPjxcL2Zvcm0+PGZvcm0+PFwvZm9ybT4iLDI9PT1yZS5jaGlsZE5vZGVzLmxlbmd0aCksaS5wYXJzZUhUTUw9ZnVuY3Rpb24obix0LHIpe3JldHVybiJzdHJpbmciIT10eXBlb2Ygbj9bXTooImJvb2xlYW4iPT10eXBlb2YgdCYmKHI9dCx0PSExKSx0fHwoZS5jcmVhdGVIVE1MRG9jdW1lbnQ/KChzPSh0PWYuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCIiKSkuY3JlYXRlRWxlbWVudCgiYmFzZSIpKS5ocmVmPWYubG9jYXRpb24uaHJlZix0LmhlYWQuYXBwZW5kQ2hpbGQocykpOnQ9ZiksdT0hciYmW10sKG89d2kuZXhlYyhuKSk/W3QuY3JlYXRlRWxlbWVudChvWzFdKV06KG89dnUoW25dLHQsdSksdSYmdS5sZW5ndGgmJmkodSkucmVtb3ZlKCksaS5tZXJnZShbXSxvLmNoaWxkTm9kZXMpKSk7dmFyIHMsbyx1fSxpLmZuLmxvYWQ9ZnVuY3Rpb24obix0LHIpe3ZhciBmLHMsaCxlPXRoaXMsbz1uLmluZGV4T2YoIiAiKTtyZXR1cm4tMTxvJiYoZj10dChuLnNsaWNlKG8pKSxuPW4uc2xpY2UoMCxvKSksdSh0KT8ocj10LHQ9dm9pZCAwKTp0JiYib2JqZWN0Ij09dHlwZW9mIHQmJihzPSJQT1NUIiksMDxlLmxlbmd0aCYmaS5hamF4KHt1cmw6bix0eXBlOnN8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOnR9KS5kb25lKGZ1bmN0aW9uKG4pe2g9YXJndW1lbnRzO2UuaHRtbChmP2koIjxkaXY+IikuYXBwZW5kKGkucGFyc2VIVE1MKG4pKS5maW5kKGYpOm4pfSkuYWx3YXlzKHImJmZ1bmN0aW9uKG4sdCl7ZS5lYWNoKGZ1bmN0aW9uKCl7ci5hcHBseSh0aGlzLGh8fFtuLnJlc3BvbnNlVGV4dCx0LG5dKX0pfSksdGhpc30saS5leHByLnBzZXVkb3MuYW5pbWF0ZWQ9ZnVuY3Rpb24obil7cmV0dXJuIGkuZ3JlcChpLnRpbWVycyxmdW5jdGlvbih0KXtyZXR1cm4gbj09PXQuZWxlbX0pLmxlbmd0aH0saS5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihuLHQscil7dmFyIHYsbyxzLGgsZSxjLGw9aS5jc3MobiwicG9zaXRpb24iKSxhPWkobiksZj17fTsic3RhdGljIj09PWwmJihuLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSIpO2U9YS5vZmZzZXQoKTtzPWkuY3NzKG4sInRvcCIpO2M9aS5jc3MobiwibGVmdCIpOygiYWJzb2x1dGUiPT09bHx8ImZpeGVkIj09PWwpJiYtMTwocytjKS5pbmRleE9mKCJhdXRvIik/KGg9KHY9YS5wb3NpdGlvbigpKS50b3Asbz12LmxlZnQpOihoPXBhcnNlRmxvYXQocyl8fDAsbz1wYXJzZUZsb2F0KGMpfHwwKTt1KHQpJiYodD10LmNhbGwobixyLGkuZXh0ZW5kKHt9LGUpKSk7bnVsbCE9dC50b3AmJihmLnRvcD10LnRvcC1lLnRvcCtoKTtudWxsIT10LmxlZnQmJihmLmxlZnQ9dC5sZWZ0LWUubGVmdCtvKTsidXNpbmciaW4gdD90LnVzaW5nLmNhbGwobixmKTooIm51bWJlciI9PXR5cGVvZiBmLnRvcCYmKGYudG9wKz0icHgiKSwibnVtYmVyIj09dHlwZW9mIGYubGVmdCYmKGYubGVmdCs9InB4IiksYS5jc3MoZikpfX0saS5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihuKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1uP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe2kub2Zmc2V0LnNldE9mZnNldCh0aGlzLG4sdCl9KTt2YXIgcix1LHQ9dGhpc1swXTtpZih0KXJldHVybiB0LmdldENsaWVudFJlY3RzKCkubGVuZ3RoPyhyPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksdT10Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcse3RvcDpyLnRvcCt1LnBhZ2VZT2Zmc2V0LGxlZnQ6ci5sZWZ0K3UucGFnZVhPZmZzZXR9KTp7dG9wOjAsbGVmdDowfX0scG9zaXRpb246ZnVuY3Rpb24oKXtpZih0aGlzWzBdKXt2YXIgbixyLHUsdD10aGlzWzBdLGY9e3RvcDowLGxlZnQ6MH07aWYoImZpeGVkIj09PWkuY3NzKHQsInBvc2l0aW9uIikpcj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2Vsc2V7Zm9yKHI9dGhpcy5vZmZzZXQoKSx1PXQub3duZXJEb2N1bWVudCxuPXQub2Zmc2V0UGFyZW50fHx1LmRvY3VtZW50RWxlbWVudDtuJiYobj09PXUuYm9keXx8bj09PXUuZG9jdW1lbnRFbGVtZW50KSYmInN0YXRpYyI9PT1pLmNzcyhuLCJwb3NpdGlvbiIpOyluPW4ucGFyZW50Tm9kZTtuJiZuIT09dCYmMT09PW4ubm9kZVR5cGUmJigoZj1pKG4pLm9mZnNldCgpKS50b3ArPWkuY3NzKG4sImJvcmRlclRvcFdpZHRoIiwhMCksZi5sZWZ0Kz1pLmNzcyhuLCJib3JkZXJMZWZ0V2lkdGgiLCEwKSl9cmV0dXJue3RvcDpyLnRvcC1mLnRvcC1pLmNzcyh0LCJtYXJnaW5Ub3AiLCEwKSxsZWZ0OnIubGVmdC1mLmxlZnQtaS5jc3ModCwibWFyZ2luTGVmdCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe2Zvcih2YXIgbj10aGlzLm9mZnNldFBhcmVudDtuJiYic3RhdGljIj09PWkuY3NzKG4sInBvc2l0aW9uIik7KW49bi5vZmZzZXRQYXJlbnQ7cmV0dXJuIG58fGd9KX19KSxpLmVhY2goe3Njcm9sbExlZnQ6InBhZ2VYT2Zmc2V0IixzY3JvbGxUb3A6InBhZ2VZT2Zmc2V0In0sZnVuY3Rpb24obix0KXt2YXIgcj0icGFnZVlPZmZzZXQiPT09dDtpLmZuW25dPWZ1bmN0aW9uKGkpe3JldHVybiB3KHRoaXMsZnVuY3Rpb24obixpLHUpe3ZhciBmO2lmKHJ0KG4pP2Y9bjo5PT09bi5ub2RlVHlwZSYmKGY9bi5kZWZhdWx0Vmlldyksdm9pZCAwPT09dSlyZXR1cm4gZj9mW3RdOm5baV07Zj9mLnNjcm9sbFRvKHI/Zi5wYWdlWE9mZnNldDp1LHI/dTpmLnBhZ2VZT2Zmc2V0KTpuW2ldPXV9LG4saSxhcmd1bWVudHMubGVuZ3RoKX19KSxpLmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24obix0KXtpLmNzc0hvb2tzW3RdPWR1KGUucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihuLHIpe2lmKHIpcmV0dXJuIHI9bmkobix0KSxuci50ZXN0KHIpP2kobikucG9zaXRpb24oKVt0XSsicHgiOnJ9KX0pLGkuZWFjaCh7SGVpZ2h0OiJoZWlnaHQiLFdpZHRoOiJ3aWR0aCJ9LGZ1bmN0aW9uKG4sdCl7aS5lYWNoKHtwYWRkaW5nOiJpbm5lciIrbixjb250ZW50OnQsIiI6Im91dGVyIitufSxmdW5jdGlvbihyLHUpe2kuZm5bdV09ZnVuY3Rpb24oZixlKXt2YXIgbz1hcmd1bWVudHMubGVuZ3RoJiYocnx8ImJvb2xlYW4iIT10eXBlb2YgZikscz1yfHwoITA9PT1mfHwhMD09PWU/Im1hcmdpbiI6ImJvcmRlciIpO3JldHVybiB3KHRoaXMsZnVuY3Rpb24odCxyLGYpe3ZhciBlO3JldHVybiBydCh0KT8wPT09dS5pbmRleE9mKCJvdXRlciIpP3RbImlubmVyIituXTp0LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IituXTo5PT09dC5ub2RlVHlwZT8oZT10LmRvY3VtZW50RWxlbWVudCxNYXRoLm1heCh0LmJvZHlbInNjcm9sbCIrbl0sZVsic2Nyb2xsIituXSx0LmJvZHlbIm9mZnNldCIrbl0sZVsib2Zmc2V0IituXSxlWyJjbGllbnQiK25dKSk6dm9pZCAwPT09Zj9pLmNzcyh0LHIscyk6aS5zdHlsZSh0LHIsZixzKX0sdCxvP2Y6dm9pZCAwLG8pfX0pfSksaS5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24obix0KXtpLmZuW3RdPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLm9uKHQsbil9fSksaS5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24obix0LGkpe3JldHVybiB0aGlzLm9uKG4sbnVsbCx0LGkpfSx1bmJpbmQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5vZmYobixudWxsLHQpfSxkZWxlZ2F0ZTpmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4gdGhpcy5vbih0LG4saSxyKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKG4sIioqIik6dGhpcy5vZmYodCxufHwiKioiLGkpfSxob3ZlcjpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIobikubW91c2VsZWF2ZSh0fHxuKX19KSxpLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24obix0KXtpLmZuW3RdPWZ1bmN0aW9uKG4saSl7cmV0dXJuIDA8YXJndW1lbnRzLmxlbmd0aD90aGlzLm9uKHQsbnVsbCxuLGkpOnRoaXMudHJpZ2dlcih0KX19KSx1ZT0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2csaS5wcm94eT1mdW5jdGlvbihuLHQpe3ZhciByLGYsZTtpZigic3RyaW5nIj09dHlwZW9mIHQmJihyPW5bdF0sdD1uLG49ciksdShuKSlyZXR1cm4gZj1rLmNhbGwoYXJndW1lbnRzLDIpLChlPWZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkodHx8dGhpcyxmLmNvbmNhdChrLmNhbGwoYXJndW1lbnRzKSkpfSkuZ3VpZD1uLmd1aWQ9bi5ndWlkfHxpLmd1aWQrKyxlfSxpLmhvbGRSZWFkeT1mdW5jdGlvbihuKXtuP2kucmVhZHlXYWl0Kys6aS5yZWFkeSghMCl9LGkuaXNBcnJheT1BcnJheS5pc0FycmF5LGkucGFyc2VKU09OPUpTT04ucGFyc2UsaS5ub2RlTmFtZT1jLGkuaXNGdW5jdGlvbj11LGkuaXNXaW5kb3c9cnQsaS5jYW1lbENhc2U9eSxpLnR5cGU9dXQsaS5ub3c9RGF0ZS5ub3csaS5pc051bWVyaWM9ZnVuY3Rpb24obil7dmFyIHQ9aS50eXBlKG4pO3JldHVybigibnVtYmVyIj09PXR8fCJzdHJpbmciPT09dCkmJiFpc05hTihuLXBhcnNlRmxvYXQobikpfSxpLnRyaW09ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4/IiI6KG4rIiIpLnJlcGxhY2UodWUsIiIpfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gaX0pLGZlPW4ualF1ZXJ5LGVlPW4uJCxpLm5vQ29uZmxpY3Q9ZnVuY3Rpb24odCl7cmV0dXJuIG4uJD09PWkmJihuLiQ9ZWUpLHQmJm4ualF1ZXJ5PT09aSYmKG4ualF1ZXJ5PWZlKSxpfSwidW5kZWZpbmVkIj09dHlwZW9mIHQmJihuLmpRdWVyeT1uLiQ9aSksaX0pOwovKiEgalF1ZXJ5IFZhbGlkYXRpb24gUGx1Z2luIC0gdjEuMTkuMyAtIDEvOS8yMDIxCiAqIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvCiAqIENvcHlyaWdodCAoYykgMjAyMSBKw7ZybiBaYWVmZmVyZXI7IExpY2Vuc2VkIE1JVCAqLwohZnVuY3Rpb24obil7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxuKToib2JqZWN0Ij09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9bihyZXF1aXJlKCJqcXVlcnkiKSk6bihqUXVlcnkpfShmdW5jdGlvbihuKXt2YXIgaSxyLHQ7cmV0dXJuIG4uZXh0ZW5kKG4uZm4se3ZhbGlkYXRlOmZ1bmN0aW9uKHQpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdm9pZCh0JiZ0LmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS53YXJuKCJOb3RoaW5nIHNlbGVjdGVkLCBjYW4ndCB2YWxpZGF0ZSwgcmV0dXJuaW5nIG5vdGhpbmcuIikpO3ZhciBpPW4uZGF0YSh0aGlzWzBdLCJ2YWxpZGF0b3IiKTtyZXR1cm4gaT9pOih0aGlzLmF0dHIoIm5vdmFsaWRhdGUiLCJub3ZhbGlkYXRlIiksaT1uZXcgbi52YWxpZGF0b3IodCx0aGlzWzBdKSxuLmRhdGEodGhpc1swXSwidmFsaWRhdG9yIixpKSxpLnNldHRpbmdzLm9uc3VibWl0JiYodGhpcy5vbigiY2xpY2sudmFsaWRhdGUiLCI6c3VibWl0IixmdW5jdGlvbih0KXtpLnN1Ym1pdEJ1dHRvbj10LmN1cnJlbnRUYXJnZXQ7bih0aGlzKS5oYXNDbGFzcygiY2FuY2VsIikmJihpLmNhbmNlbFN1Ym1pdD0hMCk7dm9pZCAwIT09bih0aGlzKS5hdHRyKCJmb3Jtbm92YWxpZGF0ZSIpJiYoaS5jYW5jZWxTdWJtaXQ9ITApfSksdGhpcy5vbigic3VibWl0LnZhbGlkYXRlIixmdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7dmFyIHIsdTtyZXR1cm4gaS5zdWJtaXRCdXR0b24mJihpLnNldHRpbmdzLnN1Ym1pdEhhbmRsZXJ8fGkuZm9ybVN1Ym1pdHRlZCkmJihyPW4oIjxpbnB1dCB0eXBlPSdoaWRkZW4nLz4iKS5hdHRyKCJuYW1lIixpLnN1Ym1pdEJ1dHRvbi5uYW1lKS52YWwobihpLnN1Ym1pdEJ1dHRvbikudmFsKCkpLmFwcGVuZFRvKGkuY3VycmVudEZvcm0pKSwhKGkuc2V0dGluZ3Muc3VibWl0SGFuZGxlciYmIWkuc2V0dGluZ3MuZGVidWcpfHwodT1pLnNldHRpbmdzLnN1Ym1pdEhhbmRsZXIuY2FsbChpLGkuY3VycmVudEZvcm0sdCksciYmci5yZW1vdmUoKSx2b2lkIDAhPT11JiZ1KX1yZXR1cm4gaS5zZXR0aW5ncy5kZWJ1ZyYmdC5wcmV2ZW50RGVmYXVsdCgpLGkuY2FuY2VsU3VibWl0PyhpLmNhbmNlbFN1Ym1pdD0hMSxyKCkpOmkuZm9ybSgpP2kucGVuZGluZ1JlcXVlc3Q/KGkuZm9ybVN1Ym1pdHRlZD0hMCwhMSk6cigpOihpLmZvY3VzSW52YWxpZCgpLCExKX0pKSxpKX0sdmFsaWQ6ZnVuY3Rpb24oKXt2YXIgdCxpLHI7cmV0dXJuIG4odGhpc1swXSkuaXMoImZvcm0iKT90PXRoaXMudmFsaWRhdGUoKS5mb3JtKCk6KHI9W10sdD0hMCxpPW4odGhpc1swXS5mb3JtKS52YWxpZGF0ZSgpLHRoaXMuZWFjaChmdW5jdGlvbigpe3Q9aS5lbGVtZW50KHRoaXMpJiZ0O3R8fChyPXIuY29uY2F0KGkuZXJyb3JMaXN0KSl9KSxpLmVycm9yTGlzdD1yKSx0fSxydWxlczpmdW5jdGlvbih0LGkpe3ZhciBlLHMsZix1LG8saCxyPXRoaXNbMF0sYz0idW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuYXR0cigiY29udGVudGVkaXRhYmxlIikmJiJmYWxzZSIhPT10aGlzLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpO2lmKG51bGwhPXImJighci5mb3JtJiZjJiYoci5mb3JtPXRoaXMuY2xvc2VzdCgiZm9ybSIpWzBdLHIubmFtZT10aGlzLmF0dHIoIm5hbWUiKSksbnVsbCE9ci5mb3JtKSl7aWYodClzd2l0Y2goZT1uLmRhdGEoci5mb3JtLCJ2YWxpZGF0b3IiKS5zZXR0aW5ncyxzPWUucnVsZXMsZj1uLnZhbGlkYXRvci5zdGF0aWNSdWxlcyhyKSx0KXtjYXNlImFkZCI6bi5leHRlbmQoZixuLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKGkpKTtkZWxldGUgZi5tZXNzYWdlcztzW3IubmFtZV09ZjtpLm1lc3NhZ2VzJiYoZS5tZXNzYWdlc1tyLm5hbWVdPW4uZXh0ZW5kKGUubWVzc2FnZXNbci5uYW1lXSxpLm1lc3NhZ2VzKSk7YnJlYWs7Y2FzZSJyZW1vdmUiOnJldHVybiBpPyhoPXt9LG4uZWFjaChpLnNwbGl0KC9ccy8pLGZ1bmN0aW9uKG4sdCl7aFt0XT1mW3RdO2RlbGV0ZSBmW3RdfSksaCk6KGRlbGV0ZSBzW3IubmFtZV0sZil9cmV0dXJuIHU9bi52YWxpZGF0b3Iubm9ybWFsaXplUnVsZXMobi5leHRlbmQoe30sbi52YWxpZGF0b3IuY2xhc3NSdWxlcyhyKSxuLnZhbGlkYXRvci5hdHRyaWJ1dGVSdWxlcyhyKSxuLnZhbGlkYXRvci5kYXRhUnVsZXMociksbi52YWxpZGF0b3Iuc3RhdGljUnVsZXMocikpLHIpLHUucmVxdWlyZWQmJihvPXUucmVxdWlyZWQsZGVsZXRlIHUucmVxdWlyZWQsdT1uLmV4dGVuZCh7cmVxdWlyZWQ6b30sdSkpLHUucmVtb3RlJiYobz11LnJlbW90ZSxkZWxldGUgdS5yZW1vdGUsdT1uLmV4dGVuZCh1LHtyZW1vdGU6b30pKSx1fX19KSxpPWZ1bmN0aW9uKG4pe3JldHVybiBuLnJlcGxhY2UoL15bXHNcdUZFRkZceEEwXSt8W1xzXHVGRUZGXHhBMF0rJC9nLCIiKX0sbi5leHRlbmQobi5leHByLnBzZXVkb3N8fG4uZXhwclsiOiJdLHtibGFuazpmdW5jdGlvbih0KXtyZXR1cm4haSgiIituKHQpLnZhbCgpKX0sZmlsbGVkOmZ1bmN0aW9uKHQpe3ZhciByPW4odCkudmFsKCk7cmV0dXJuIG51bGwhPT1yJiYhIWkoIiIrcil9LHVuY2hlY2tlZDpmdW5jdGlvbih0KXtyZXR1cm4hbih0KS5wcm9wKCJjaGVja2VkIil9fSksbi52YWxpZGF0b3I9ZnVuY3Rpb24odCxpKXt0aGlzLnNldHRpbmdzPW4uZXh0ZW5kKCEwLHt9LG4udmFsaWRhdG9yLmRlZmF1bHRzLHQpO3RoaXMuY3VycmVudEZvcm09aTt0aGlzLmluaXQoKX0sbi52YWxpZGF0b3IuZm9ybWF0PWZ1bmN0aW9uKHQsaSl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP2Z1bmN0aW9uKCl7dmFyIGk9bi5tYWtlQXJyYXkoYXJndW1lbnRzKTtyZXR1cm4gaS51bnNoaWZ0KHQpLG4udmFsaWRhdG9yLmZvcm1hdC5hcHBseSh0aGlzLGkpfTp2b2lkIDA9PT1pP3Q6KGFyZ3VtZW50cy5sZW5ndGg+MiYmaS5jb25zdHJ1Y3RvciE9PUFycmF5JiYoaT1uLm1ha2VBcnJheShhcmd1bWVudHMpLnNsaWNlKDEpKSxpLmNvbnN0cnVjdG9yIT09QXJyYXkmJihpPVtpXSksbi5lYWNoKGksZnVuY3Rpb24obixpKXt0PXQucmVwbGFjZShuZXcgUmVnRXhwKCJcXHsiK24rIlxcfSIsImciKSxmdW5jdGlvbigpe3JldHVybiBpfSl9KSx0KX0sbi5leHRlbmQobi52YWxpZGF0b3Ise2RlZmF1bHRzOnttZXNzYWdlczp7fSxncm91cHM6e30scnVsZXM6e30sZXJyb3JDbGFzczoiZXJyb3IiLHBlbmRpbmdDbGFzczoicGVuZGluZyIsdmFsaWRDbGFzczoidmFsaWQiLGVycm9yRWxlbWVudDoibGFiZWwiLGZvY3VzQ2xlYW51cDohMSxmb2N1c0ludmFsaWQ6ITAsZXJyb3JDb250YWluZXI6bihbXSksZXJyb3JMYWJlbENvbnRhaW5lcjpuKFtdKSxvbnN1Ym1pdDohMCxpZ25vcmU6IjpoaWRkZW4iLGlnbm9yZVRpdGxlOiExLG9uZm9jdXNpbjpmdW5jdGlvbihuKXt0aGlzLmxhc3RBY3RpdmU9bjt0aGlzLnNldHRpbmdzLmZvY3VzQ2xlYW51cCYmKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQmJnRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLG4sdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyksdGhpcy5oaWRlVGhlc2UodGhpcy5lcnJvcnNGb3IobikpKX0sb25mb2N1c291dDpmdW5jdGlvbihuKXshdGhpcy5jaGVja2FibGUobikmJihuLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWR8fCF0aGlzLm9wdGlvbmFsKG4pKSYmdGhpcy5lbGVtZW50KG4pfSxvbmtleXVwOmZ1bmN0aW9uKHQsaSl7OT09PWkud2hpY2gmJiIiPT09dGhpcy5lbGVtZW50VmFsdWUodCl8fG4uaW5BcnJheShpLmtleUNvZGUsWzE2LDE3LDE4LDIwLDM1LDM2LDM3LDM4LDM5LDQwLDQ1LDE0NCwyMjVdKSE9PS0xfHwodC5uYW1lIGluIHRoaXMuc3VibWl0dGVkfHx0Lm5hbWUgaW4gdGhpcy5pbnZhbGlkKSYmdGhpcy5lbGVtZW50KHQpfSxvbmNsaWNrOmZ1bmN0aW9uKG4pe24ubmFtZSBpbiB0aGlzLnN1Ym1pdHRlZD90aGlzLmVsZW1lbnQobik6bi5wYXJlbnROb2RlLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWQmJnRoaXMuZWxlbWVudChuLnBhcmVudE5vZGUpfSxoaWdobGlnaHQ6ZnVuY3Rpb24odCxpLHIpeyJyYWRpbyI9PT10LnR5cGU/dGhpcy5maW5kQnlOYW1lKHQubmFtZSkuYWRkQ2xhc3MoaSkucmVtb3ZlQ2xhc3Mocik6bih0KS5hZGRDbGFzcyhpKS5yZW1vdmVDbGFzcyhyKX0sdW5oaWdobGlnaHQ6ZnVuY3Rpb24odCxpLHIpeyJyYWRpbyI9PT10LnR5cGU/dGhpcy5maW5kQnlOYW1lKHQubmFtZSkucmVtb3ZlQ2xhc3MoaSkuYWRkQ2xhc3Mocik6bih0KS5yZW1vdmVDbGFzcyhpKS5hZGRDbGFzcyhyKX19LHNldERlZmF1bHRzOmZ1bmN0aW9uKHQpe24uZXh0ZW5kKG4udmFsaWRhdG9yLmRlZmF1bHRzLHQpfSxtZXNzYWdlczp7cmVxdWlyZWQ6IlRoaXMgZmllbGQgaXMgcmVxdWlyZWQuIixyZW1vdGU6IlBsZWFzZSBmaXggdGhpcyBmaWVsZC4iLGVtYWlsOiJQbGVhc2UgZW50ZXIgYSB2YWxpZCBlbWFpbCBhZGRyZXNzLiIsdXJsOiJQbGVhc2UgZW50ZXIgYSB2YWxpZCBVUkwuIixkYXRlOiJQbGVhc2UgZW50ZXIgYSB2YWxpZCBkYXRlLiIsZGF0ZUlTTzoiUGxlYXNlIGVudGVyIGEgdmFsaWQgZGF0ZSAoSVNPKS4iLG51bWJlcjoiUGxlYXNlIGVudGVyIGEgdmFsaWQgbnVtYmVyLiIsZGlnaXRzOiJQbGVhc2UgZW50ZXIgb25seSBkaWdpdHMuIixlcXVhbFRvOiJQbGVhc2UgZW50ZXIgdGhlIHNhbWUgdmFsdWUgYWdhaW4uIixtYXhsZW5ndGg6bi52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgbm8gbW9yZSB0aGFuIHswfSBjaGFyYWN0ZXJzLiIpLG1pbmxlbmd0aDpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhdCBsZWFzdCB7MH0gY2hhcmFjdGVycy4iKSxyYW5nZWxlbmd0aDpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIHZhbHVlIGJldHdlZW4gezB9IGFuZCB7MX0gY2hhcmFjdGVycyBsb25nLiIpLHJhbmdlOm4udmFsaWRhdG9yLmZvcm1hdCgiUGxlYXNlIGVudGVyIGEgdmFsdWUgYmV0d2VlbiB7MH0gYW5kIHsxfS4iKSxtYXg6bi52YWxpZGF0b3IuZm9ybWF0KCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gezB9LiIpLG1pbjpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIHZhbHVlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB7MH0uIiksc3RlcDpuLnZhbGlkYXRvci5mb3JtYXQoIlBsZWFzZSBlbnRlciBhIG11bHRpcGxlIG9mIHswfS4iKX0sYXV0b0NyZWF0ZVJhbmdlczohMSxwcm90b3R5cGU6e2luaXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKHQpe3ZhciBlPSJ1bmRlZmluZWQiIT10eXBlb2Ygbih0aGlzKS5hdHRyKCJjb250ZW50ZWRpdGFibGUiKSYmImZhbHNlIiE9PW4odGhpcykuYXR0cigiY29udGVudGVkaXRhYmxlIik7aWYoIXRoaXMuZm9ybSYmZSYmKHRoaXMuZm9ybT1uKHRoaXMpLmNsb3Nlc3QoImZvcm0iKVswXSx0aGlzLm5hbWU9bih0aGlzKS5hdHRyKCJuYW1lIikpLHI9PT10aGlzLmZvcm0pe3ZhciB1PW4uZGF0YSh0aGlzLmZvcm0sInZhbGlkYXRvciIpLGY9Im9uIit0LnR5cGUucmVwbGFjZSgvXnZhbGlkYXRlLywiIiksaT11LnNldHRpbmdzO2lbZl0mJiFuKHRoaXMpLmlzKGkuaWdub3JlKSYmaVtmXS5jYWxsKHUsdGhpcyx0KX19dGhpcy5sYWJlbENvbnRhaW5lcj1uKHRoaXMuc2V0dGluZ3MuZXJyb3JMYWJlbENvbnRhaW5lcik7dGhpcy5lcnJvckNvbnRleHQ9dGhpcy5sYWJlbENvbnRhaW5lci5sZW5ndGgmJnRoaXMubGFiZWxDb250YWluZXJ8fG4odGhpcy5jdXJyZW50Rm9ybSk7dGhpcy5jb250YWluZXJzPW4odGhpcy5zZXR0aW5ncy5lcnJvckNvbnRhaW5lcikuYWRkKHRoaXMuc2V0dGluZ3MuZXJyb3JMYWJlbENvbnRhaW5lcik7dGhpcy5zdWJtaXR0ZWQ9e307dGhpcy52YWx1ZUNhY2hlPXt9O3RoaXMucGVuZGluZ1JlcXVlc3Q9MDt0aGlzLnBlbmRpbmc9e307dGhpcy5pbnZhbGlkPXt9O3RoaXMucmVzZXQoKTt2YXIgdCxyPXRoaXMuY3VycmVudEZvcm0sdT10aGlzLmdyb3Vwcz17fTtuLmVhY2godGhpcy5zZXR0aW5ncy5ncm91cHMsZnVuY3Rpb24odCxpKXsic3RyaW5nIj09dHlwZW9mIGkmJihpPWkuc3BsaXQoL1xzLykpO24uZWFjaChpLGZ1bmN0aW9uKG4saSl7dVtpXT10fSl9KTt0PXRoaXMuc2V0dGluZ3MucnVsZXM7bi5lYWNoKHQsZnVuY3Rpb24oaSxyKXt0W2ldPW4udmFsaWRhdG9yLm5vcm1hbGl6ZVJ1bGUocil9KTtuKHRoaXMuY3VycmVudEZvcm0pLm9uKCJmb2N1c2luLnZhbGlkYXRlIGZvY3Vzb3V0LnZhbGlkYXRlIGtleXVwLnZhbGlkYXRlIiwiOnRleHQsIFt0eXBlPSdwYXNzd29yZCddLCBbdHlwZT0nZmlsZSddLCBzZWxlY3QsIHRleHRhcmVhLCBbdHlwZT0nbnVtYmVyJ10sIFt0eXBlPSdzZWFyY2gnXSwgW3R5cGU9J3RlbCddLCBbdHlwZT0ndXJsJ10sIFt0eXBlPSdlbWFpbCddLCBbdHlwZT0nZGF0ZXRpbWUnXSwgW3R5cGU9J2RhdGUnXSwgW3R5cGU9J21vbnRoJ10sIFt0eXBlPSd3ZWVrJ10sIFt0eXBlPSd0aW1lJ10sIFt0eXBlPSdkYXRldGltZS1sb2NhbCddLCBbdHlwZT0ncmFuZ2UnXSwgW3R5cGU9J2NvbG9yJ10sIFt0eXBlPSdyYWRpbyddLCBbdHlwZT0nY2hlY2tib3gnXSwgW2NvbnRlbnRlZGl0YWJsZV0sIFt0eXBlPSdidXR0b24nXSIsaSkub24oImNsaWNrLnZhbGlkYXRlIiwic2VsZWN0LCBvcHRpb24sIFt0eXBlPSdyYWRpbyddLCBbdHlwZT0nY2hlY2tib3gnXSIsaSk7dGhpcy5zZXR0aW5ncy5pbnZhbGlkSGFuZGxlciYmbih0aGlzLmN1cnJlbnRGb3JtKS5vbigiaW52YWxpZC1mb3JtLnZhbGlkYXRlIix0aGlzLnNldHRpbmdzLmludmFsaWRIYW5kbGVyKX0sZm9ybTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoZWNrRm9ybSgpLG4uZXh0ZW5kKHRoaXMuc3VibWl0dGVkLHRoaXMuZXJyb3JNYXApLHRoaXMuaW52YWxpZD1uLmV4dGVuZCh7fSx0aGlzLmVycm9yTWFwKSx0aGlzLnZhbGlkKCl8fG4odGhpcy5jdXJyZW50Rm9ybSkudHJpZ2dlckhhbmRsZXIoImludmFsaWQtZm9ybSIsW3RoaXNdKSx0aGlzLnNob3dFcnJvcnMoKSx0aGlzLnZhbGlkKCl9LGNoZWNrRm9ybTpmdW5jdGlvbigpe3RoaXMucHJlcGFyZUZvcm0oKTtmb3IodmFyIG49MCx0PXRoaXMuY3VycmVudEVsZW1lbnRzPXRoaXMuZWxlbWVudHMoKTt0W25dO24rKyl0aGlzLmNoZWNrKHRbbl0pO3JldHVybiB0aGlzLnZhbGlkKCl9LGVsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGUsbyxpPXRoaXMuY2xlYW4odCkscj10aGlzLnZhbGlkYXRpb25UYXJnZXRGb3IoaSksdT10aGlzLGY9ITA7cmV0dXJuIHZvaWQgMD09PXI/ZGVsZXRlIHRoaXMuaW52YWxpZFtpLm5hbWVdOih0aGlzLnByZXBhcmVFbGVtZW50KHIpLHRoaXMuY3VycmVudEVsZW1lbnRzPW4ociksbz10aGlzLmdyb3Vwc1tyLm5hbWVdLG8mJm4uZWFjaCh0aGlzLmdyb3VwcyxmdW5jdGlvbihuLHQpe3Q9PT1vJiZuIT09ci5uYW1lJiYoaT11LnZhbGlkYXRpb25UYXJnZXRGb3IodS5jbGVhbih1LmZpbmRCeU5hbWUobikpKSxpJiZpLm5hbWUgaW4gdS5pbnZhbGlkJiYodS5jdXJyZW50RWxlbWVudHMucHVzaChpKSxmPXUuY2hlY2soaSkmJmYpKX0pLGU9dGhpcy5jaGVjayhyKSE9PSExLGY9ZiYmZSx0aGlzLmludmFsaWRbci5uYW1lXT1lPyExOiEwLHRoaXMubnVtYmVyT2ZJbnZhbGlkcygpfHwodGhpcy50b0hpZGU9dGhpcy50b0hpZGUuYWRkKHRoaXMuY29udGFpbmVycykpLHRoaXMuc2hvd0Vycm9ycygpLG4odCkuYXR0cigiYXJpYS1pbnZhbGlkIiwhZSkpLGZ9LHNob3dFcnJvcnM6ZnVuY3Rpb24odCl7aWYodCl7dmFyIGk9dGhpcztuLmV4dGVuZCh0aGlzLmVycm9yTWFwLHQpO3RoaXMuZXJyb3JMaXN0PW4ubWFwKHRoaXMuZXJyb3JNYXAsZnVuY3Rpb24obix0KXtyZXR1cm57bWVzc2FnZTpuLGVsZW1lbnQ6aS5maW5kQnlOYW1lKHQpWzBdfX0pO3RoaXMuc3VjY2Vzc0xpc3Q9bi5ncmVwKHRoaXMuc3VjY2Vzc0xpc3QsZnVuY3Rpb24obil7cmV0dXJuIShuLm5hbWUgaW4gdCl9KX10aGlzLnNldHRpbmdzLnNob3dFcnJvcnM/dGhpcy5zZXR0aW5ncy5zaG93RXJyb3JzLmNhbGwodGhpcyx0aGlzLmVycm9yTWFwLHRoaXMuZXJyb3JMaXN0KTp0aGlzLmRlZmF1bHRTaG93RXJyb3JzKCl9LHJlc2V0Rm9ybTpmdW5jdGlvbigpe24uZm4ucmVzZXRGb3JtJiZuKHRoaXMuY3VycmVudEZvcm0pLnJlc2V0Rm9ybSgpO3RoaXMuaW52YWxpZD17fTt0aGlzLnN1Ym1pdHRlZD17fTt0aGlzLnByZXBhcmVGb3JtKCk7dGhpcy5oaWRlRXJyb3JzKCk7dmFyIHQ9dGhpcy5lbGVtZW50cygpLnJlbW92ZURhdGEoInByZXZpb3VzVmFsdWUiKS5yZW1vdmVBdHRyKCJhcmlhLWludmFsaWQiKTt0aGlzLnJlc2V0RWxlbWVudHModCl9LHJlc2V0RWxlbWVudHM6ZnVuY3Rpb24obil7dmFyIHQ7aWYodGhpcy5zZXR0aW5ncy51bmhpZ2hsaWdodClmb3IodD0wO25bdF07dCsrKXRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLG5bdF0sdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLCIiKSx0aGlzLmZpbmRCeU5hbWUoblt0XS5uYW1lKS5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MpO2Vsc2Ugbi5yZW1vdmVDbGFzcyh0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3MpLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyl9LG51bWJlck9mSW52YWxpZHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYmplY3RMZW5ndGgodGhpcy5pbnZhbGlkKX0sb2JqZWN0TGVuZ3RoOmZ1bmN0aW9uKG4pe3ZhciB0LGk9MDtmb3IodCBpbiBuKXZvaWQgMCE9PW5bdF0mJm51bGwhPT1uW3RdJiZuW3RdIT09ITEmJmkrKztyZXR1cm4gaX0saGlkZUVycm9yczpmdW5jdGlvbigpe3RoaXMuaGlkZVRoZXNlKHRoaXMudG9IaWRlKX0saGlkZVRoZXNlOmZ1bmN0aW9uKG4pe24ubm90KHRoaXMuY29udGFpbmVycykudGV4dCgiIik7dGhpcy5hZGRXcmFwcGVyKG4pLmhpZGUoKX0sdmFsaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuc2l6ZSgpfSxzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXJyb3JMaXN0Lmxlbmd0aH0sZm9jdXNJbnZhbGlkOmZ1bmN0aW9uKCl7aWYodGhpcy5zZXR0aW5ncy5mb2N1c0ludmFsaWQpdHJ5e24odGhpcy5maW5kTGFzdEFjdGl2ZSgpfHx0aGlzLmVycm9yTGlzdC5sZW5ndGgmJnRoaXMuZXJyb3JMaXN0WzBdLmVsZW1lbnR8fFtdKS5maWx0ZXIoIjp2aXNpYmxlIikudHJpZ2dlcigiZm9jdXMiKS50cmlnZ2VyKCJmb2N1c2luIil9Y2F0Y2godCl7fX0sZmluZExhc3RBY3RpdmU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxhc3RBY3RpdmU7cmV0dXJuIHQmJjE9PT1uLmdyZXAodGhpcy5lcnJvckxpc3QsZnVuY3Rpb24obil7cmV0dXJuIG4uZWxlbWVudC5uYW1lPT09dC5uYW1lfSkubGVuZ3RoJiZ0fSxlbGVtZW50czpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT17fTtyZXR1cm4gbih0aGlzLmN1cnJlbnRGb3JtKS5maW5kKCJpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgW2NvbnRlbnRlZGl0YWJsZV0iKS5ub3QoIjpzdWJtaXQsIDpyZXNldCwgOmltYWdlLCA6ZGlzYWJsZWQiKS5ub3QodGhpcy5zZXR0aW5ncy5pZ25vcmUpLmZpbHRlcihmdW5jdGlvbigpe3ZhciByPXRoaXMubmFtZXx8bih0aGlzKS5hdHRyKCJuYW1lIiksdT0idW5kZWZpbmVkIiE9dHlwZW9mIG4odGhpcykuYXR0cigiY29udGVudGVkaXRhYmxlIikmJiJmYWxzZSIhPT1uKHRoaXMpLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIpO3JldHVybiFyJiZ0LnNldHRpbmdzLmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS5lcnJvcigiJW8gaGFzIG5vIG5hbWUgYXNzaWduZWQiLHRoaXMpLHUmJih0aGlzLmZvcm09bih0aGlzKS5jbG9zZXN0KCJmb3JtIilbMF0sdGhpcy5uYW1lPXIpLHRoaXMuZm9ybT09PXQuY3VycmVudEZvcm0mJiEociBpbiBpfHwhdC5vYmplY3RMZW5ndGgobih0aGlzKS5ydWxlcygpKSkmJihpW3JdPSEwLCEwKX0pfSxjbGVhbjpmdW5jdGlvbih0KXtyZXR1cm4gbih0KVswXX0sZXJyb3JzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLnNwbGl0KCIgIikuam9pbigiLiIpO3JldHVybiBuKHRoaXMuc2V0dGluZ3MuZXJyb3JFbGVtZW50KyIuIit0LHRoaXMuZXJyb3JDb250ZXh0KX0scmVzZXRJbnRlcm5hbHM6ZnVuY3Rpb24oKXt0aGlzLnN1Y2Nlc3NMaXN0PVtdO3RoaXMuZXJyb3JMaXN0PVtdO3RoaXMuZXJyb3JNYXA9e307dGhpcy50b1Nob3c9bihbXSk7dGhpcy50b0hpZGU9bihbXSl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yZXNldEludGVybmFscygpO3RoaXMuY3VycmVudEVsZW1lbnRzPW4oW10pfSxwcmVwYXJlRm9ybTpmdW5jdGlvbigpe3RoaXMucmVzZXQoKTt0aGlzLnRvSGlkZT10aGlzLmVycm9ycygpLmFkZCh0aGlzLmNvbnRhaW5lcnMpfSxwcmVwYXJlRWxlbWVudDpmdW5jdGlvbihuKXt0aGlzLnJlc2V0KCk7dGhpcy50b0hpZGU9dGhpcy5lcnJvcnNGb3Iobil9LGVsZW1lbnRWYWx1ZTpmdW5jdGlvbih0KXt2YXIgaSxyLHU9bih0KSxmPXQudHlwZSxlPSJ1bmRlZmluZWQiIT10eXBlb2YgdS5hdHRyKCJjb250ZW50ZWRpdGFibGUiKSYmImZhbHNlIiE9PXUuYXR0cigiY29udGVudGVkaXRhYmxlIik7cmV0dXJuInJhZGlvIj09PWZ8fCJjaGVja2JveCI9PT1mP3RoaXMuZmluZEJ5TmFtZSh0Lm5hbWUpLmZpbHRlcigiOmNoZWNrZWQiKS52YWwoKToibnVtYmVyIj09PWYmJiJ1bmRlZmluZWQiIT10eXBlb2YgdC52YWxpZGl0eT90LnZhbGlkaXR5LmJhZElucHV0PyJOYU4iOnUudmFsKCk6KGk9ZT91LnRleHQoKTp1LnZhbCgpLCJmaWxlIj09PWY/IkM6XFxmYWtlcGF0aFxcIj09PWkuc3Vic3RyKDAsMTIpP2kuc3Vic3RyKDEyKToocj1pLmxhc3RJbmRleE9mKCIvIikscj49MD9pLnN1YnN0cihyKzEpOihyPWkubGFzdEluZGV4T2YoIlxcIikscj49MD9pLnN1YnN0cihyKzEpOmkpKToic3RyaW5nIj09dHlwZW9mIGk/aS5yZXBsYWNlKC9cci9nLCIiKTppKX0sY2hlY2s6ZnVuY3Rpb24odCl7dD10aGlzLnZhbGlkYXRpb25UYXJnZXRGb3IodGhpcy5jbGVhbih0KSk7dmFyIHUsZixyLGUsaT1uKHQpLnJ1bGVzKCksYz1uLm1hcChpLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHR9KS5sZW5ndGgscz0hMSxoPXRoaXMuZWxlbWVudFZhbHVlKHQpOyJmdW5jdGlvbiI9PXR5cGVvZiBpLm5vcm1hbGl6ZXI/ZT1pLm5vcm1hbGl6ZXI6ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuc2V0dGluZ3Mubm9ybWFsaXplciYmKGU9dGhpcy5zZXR0aW5ncy5ub3JtYWxpemVyKTtlJiYoaD1lLmNhbGwodCxoKSxkZWxldGUgaS5ub3JtYWxpemVyKTtmb3IoZiBpbiBpKXtyPXttZXRob2Q6ZixwYXJhbWV0ZXJzOmlbZl19O3RyeXtpZih1PW4udmFsaWRhdG9yLm1ldGhvZHNbZl0uY2FsbCh0aGlzLGgsdCxyLnBhcmFtZXRlcnMpLCJkZXBlbmRlbmN5LW1pc21hdGNoIj09PXUmJjE9PT1jKXtzPSEwO2NvbnRpbnVlfWlmKHM9ITEsInBlbmRpbmciPT09dSlyZXR1cm4gdm9pZCh0aGlzLnRvSGlkZT10aGlzLnRvSGlkZS5ub3QodGhpcy5lcnJvcnNGb3IodCkpKTtpZighdSlyZXR1cm4gdGhpcy5mb3JtYXRBbmRBZGQodCxyKSwhMX1jYXRjaChvKXt0aHJvdyB0aGlzLnNldHRpbmdzLmRlYnVnJiZ3aW5kb3cuY29uc29sZSYmY29uc29sZS5sb2coIkV4Y2VwdGlvbiBvY2N1cnJlZCB3aGVuIGNoZWNraW5nIGVsZW1lbnQgIit0LmlkKyIsIGNoZWNrIHRoZSAnIityLm1ldGhvZCsiJyBtZXRob2QuIixvKSxvIGluc3RhbmNlb2YgVHlwZUVycm9yJiYoby5tZXNzYWdlKz0iLiAgRXhjZXB0aW9uIG9jY3VycmVkIHdoZW4gY2hlY2tpbmcgZWxlbWVudCAiK3QuaWQrIiwgY2hlY2sgdGhlICciK3IubWV0aG9kKyInIG1ldGhvZC4iKSxvO319aWYoIXMpcmV0dXJuIHRoaXMub2JqZWN0TGVuZ3RoKGkpJiZ0aGlzLnN1Y2Nlc3NMaXN0LnB1c2godCksITB9LGN1c3RvbURhdGFNZXNzYWdlOmZ1bmN0aW9uKHQsaSl7cmV0dXJuIG4odCkuZGF0YSgibXNnIitpLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2kuc3Vic3RyaW5nKDEpLnRvTG93ZXJDYXNlKCkpfHxuKHQpLmRhdGEoIm1zZyIpfSxjdXN0b21NZXNzYWdlOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tuXTtyZXR1cm4gaSYmKGkuY29uc3RydWN0b3I9PT1TdHJpbmc/aTppW3RdKX0sZmluZERlZmluZWQ6ZnVuY3Rpb24oKXtmb3IodmFyIG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWlmKHZvaWQgMCE9PWFyZ3VtZW50c1tuXSlyZXR1cm4gYXJndW1lbnRzW25dfSxkZWZhdWx0TWVzc2FnZTpmdW5jdGlvbih0LGkpeyJzdHJpbmciPT10eXBlb2YgaSYmKGk9e21ldGhvZDppfSk7dmFyIHI9dGhpcy5maW5kRGVmaW5lZCh0aGlzLmN1c3RvbU1lc3NhZ2UodC5uYW1lLGkubWV0aG9kKSx0aGlzLmN1c3RvbURhdGFNZXNzYWdlKHQsaS5tZXRob2QpLCF0aGlzLnNldHRpbmdzLmlnbm9yZVRpdGxlJiZ0LnRpdGxlfHx2b2lkIDAsbi52YWxpZGF0b3IubWVzc2FnZXNbaS5tZXRob2RdLCI8c3Ryb25nPldhcm5pbmc6IE5vIG1lc3NhZ2UgZGVmaW5lZCBmb3IgIit0Lm5hbWUrIjxcL3N0cm9uZz4iKSx1PS9cJD9ceyhcZCspXH0vZztyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygcj9yPXIuY2FsbCh0aGlzLGkucGFyYW1ldGVycyx0KTp1LnRlc3QocikmJihyPW4udmFsaWRhdG9yLmZvcm1hdChyLnJlcGxhY2UodSwieyQxfSIpLGkucGFyYW1ldGVycykpLHJ9LGZvcm1hdEFuZEFkZDpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuZGVmYXVsdE1lc3NhZ2Uobix0KTt0aGlzLmVycm9yTGlzdC5wdXNoKHttZXNzYWdlOmksZWxlbWVudDpuLG1ldGhvZDp0Lm1ldGhvZH0pO3RoaXMuZXJyb3JNYXBbbi5uYW1lXT1pO3RoaXMuc3VibWl0dGVkW24ubmFtZV09aX0sYWRkV3JhcHBlcjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5zZXR0aW5ncy53cmFwcGVyJiYobj1uLmFkZChuLnBhcmVudCh0aGlzLnNldHRpbmdzLndyYXBwZXIpKSksbn0sZGVmYXVsdFNob3dFcnJvcnM6ZnVuY3Rpb24oKXtmb3IodmFyIGksdCxuPTA7dGhpcy5lcnJvckxpc3Rbbl07bisrKXQ9dGhpcy5lcnJvckxpc3Rbbl0sdGhpcy5zZXR0aW5ncy5oaWdobGlnaHQmJnRoaXMuc2V0dGluZ3MuaGlnaGxpZ2h0LmNhbGwodGhpcyx0LmVsZW1lbnQsdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyksdGhpcy5zaG93TGFiZWwodC5lbGVtZW50LHQubWVzc2FnZSk7aWYodGhpcy5lcnJvckxpc3QubGVuZ3RoJiYodGhpcy50b1Nob3c9dGhpcy50b1Nob3cuYWRkKHRoaXMuY29udGFpbmVycykpLHRoaXMuc2V0dGluZ3Muc3VjY2Vzcylmb3Iobj0wO3RoaXMuc3VjY2Vzc0xpc3Rbbl07bisrKXRoaXMuc2hvd0xhYmVsKHRoaXMuc3VjY2Vzc0xpc3Rbbl0pO2lmKHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQpZm9yKG49MCxpPXRoaXMudmFsaWRFbGVtZW50cygpO2lbbl07bisrKXRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQuY2FsbCh0aGlzLGlbbl0sdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyk7dGhpcy50b0hpZGU9dGhpcy50b0hpZGUubm90KHRoaXMudG9TaG93KTt0aGlzLmhpZGVFcnJvcnMoKTt0aGlzLmFkZFdyYXBwZXIodGhpcy50b1Nob3cpLnNob3coKX0sdmFsaWRFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiB0aGlzLmN1cnJlbnRFbGVtZW50cy5ub3QodGhpcy5pbnZhbGlkRWxlbWVudHMoKSl9LGludmFsaWRFbGVtZW50czpmdW5jdGlvbigpe3JldHVybiBuKHRoaXMuZXJyb3JMaXN0KS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSl9LHNob3dMYWJlbDpmdW5jdGlvbih0LGkpe3ZhciB1LHMsZSxvLHI9dGhpcy5lcnJvcnNGb3IodCksaD10aGlzLmlkT3JOYW1lKHQpLGY9bih0KS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iik7ci5sZW5ndGg/KHIucmVtb3ZlQ2xhc3ModGhpcy5zZXR0aW5ncy52YWxpZENsYXNzKS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3MpLHIuaHRtbChpKSk6KHI9bigiPCIrdGhpcy5zZXR0aW5ncy5lcnJvckVsZW1lbnQrIj4iKS5hdHRyKCJpZCIsaCsiLWVycm9yIikuYWRkQ2xhc3ModGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzKS5odG1sKGl8fCIiKSx1PXIsdGhpcy5zZXR0aW5ncy53cmFwcGVyJiYodT1yLmhpZGUoKS5zaG93KCkud3JhcCgiPCIrdGhpcy5zZXR0aW5ncy53cmFwcGVyKyIvPiIpLnBhcmVudCgpKSx0aGlzLmxhYmVsQ29udGFpbmVyLmxlbmd0aD90aGlzLmxhYmVsQ29udGFpbmVyLmFwcGVuZCh1KTp0aGlzLnNldHRpbmdzLmVycm9yUGxhY2VtZW50P3RoaXMuc2V0dGluZ3MuZXJyb3JQbGFjZW1lbnQuY2FsbCh0aGlzLHUsbih0KSk6dS5pbnNlcnRBZnRlcih0KSxyLmlzKCJsYWJlbCIpP3IuYXR0cigiZm9yIixoKTowPT09ci5wYXJlbnRzKCJsYWJlbFtmb3I9JyIrdGhpcy5lc2NhcGVDc3NNZXRhKGgpKyInXSIpLmxlbmd0aCYmKGU9ci5hdHRyKCJpZCIpLGY/Zi5tYXRjaChuZXcgUmVnRXhwKCJcXGIiK3RoaXMuZXNjYXBlQ3NzTWV0YShlKSsiXFxiIikpfHwoZis9IiAiK2UpOmY9ZSxuKHQpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiLGYpLHM9dGhpcy5ncm91cHNbdC5uYW1lXSxzJiYobz10aGlzLG4uZWFjaChvLmdyb3VwcyxmdW5jdGlvbih0LGkpe2k9PT1zJiZuKCJbbmFtZT0nIitvLmVzY2FwZUNzc01ldGEodCkrIiddIixvLmN1cnJlbnRGb3JtKS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IixyLmF0dHIoImlkIikpfSkpKSk7IWkmJnRoaXMuc2V0dGluZ3Muc3VjY2VzcyYmKHIudGV4dCgiIiksInN0cmluZyI9PXR5cGVvZiB0aGlzLnNldHRpbmdzLnN1Y2Nlc3M/ci5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnN1Y2Nlc3MpOnRoaXMuc2V0dGluZ3Muc3VjY2VzcyhyLHQpKTt0aGlzLnRvU2hvdz10aGlzLnRvU2hvdy5hZGQocil9LGVycm9yc0ZvcjpmdW5jdGlvbih0KXt2YXIgcj10aGlzLmVzY2FwZUNzc01ldGEodGhpcy5pZE9yTmFtZSh0KSksdT1uKHQpLmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKSxpPSJsYWJlbFtmb3I9JyIrcisiJ10sIGxhYmVsW2Zvcj0nIityKyInXSAqIjtyZXR1cm4gdSYmKGk9aSsiLCAjIit0aGlzLmVzY2FwZUNzc01ldGEodSkucmVwbGFjZSgvXHMrL2csIiwgIyIpKSx0aGlzLmVycm9ycygpLmZpbHRlcihpKX0sZXNjYXBlQ3NzTWV0YTpmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKC8oW1xcISIjJCUmJygpKissLlwvOjs8PT4/QFxbXF1eYHt8fX5dKS9nLCJcXCQxIil9LGlkT3JOYW1lOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmdyb3Vwc1tuLm5hbWVdfHwodGhpcy5jaGVja2FibGUobik/bi5uYW1lOm4uaWR8fG4ubmFtZSl9LHZhbGlkYXRpb25UYXJnZXRGb3I6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2hlY2thYmxlKHQpJiYodD10aGlzLmZpbmRCeU5hbWUodC5uYW1lKSksbih0KS5ub3QodGhpcy5zZXR0aW5ncy5pZ25vcmUpWzBdfSxjaGVja2FibGU6ZnVuY3Rpb24obil7cmV0dXJuL3JhZGlvfGNoZWNrYm94L2kudGVzdChuLnR5cGUpfSxmaW5kQnlOYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMuY3VycmVudEZvcm0pLmZpbmQoIltuYW1lPSciK3RoaXMuZXNjYXBlQ3NzTWV0YSh0KSsiJ10iKX0sZ2V0TGVuZ3RoOmZ1bmN0aW9uKHQsaSl7c3dpdGNoKGkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZSJzZWxlY3QiOnJldHVybiBuKCJvcHRpb246c2VsZWN0ZWQiLGkpLmxlbmd0aDtjYXNlImlucHV0IjppZih0aGlzLmNoZWNrYWJsZShpKSlyZXR1cm4gdGhpcy5maW5kQnlOYW1lKGkubmFtZSkuZmlsdGVyKCI6Y2hlY2tlZCIpLmxlbmd0aH1yZXR1cm4gdC5sZW5ndGh9LGRlcGVuZDpmdW5jdGlvbihuLHQpe3JldHVybiF0aGlzLmRlcGVuZFR5cGVzW3R5cGVvZiBuXXx8dGhpcy5kZXBlbmRUeXBlc1t0eXBlb2Ygbl0obix0KX0sZGVwZW5kVHlwZXM6e2Jvb2xlYW46ZnVuY3Rpb24obil7cmV0dXJuIG59LHN0cmluZzpmdW5jdGlvbih0LGkpe3JldHVybiEhbih0LGkuZm9ybSkubGVuZ3RofSwiZnVuY3Rpb24iOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4odCl9fSxvcHRpb25hbDpmdW5jdGlvbih0KXt2YXIgaT10aGlzLmVsZW1lbnRWYWx1ZSh0KTtyZXR1cm4hbi52YWxpZGF0b3IubWV0aG9kcy5yZXF1aXJlZC5jYWxsKHRoaXMsaSx0KSYmImRlcGVuZGVuY3ktbWlzbWF0Y2gifSxzdGFydFJlcXVlc3Q6ZnVuY3Rpb24odCl7dGhpcy5wZW5kaW5nW3QubmFtZV18fCh0aGlzLnBlbmRpbmdSZXF1ZXN0Kyssbih0KS5hZGRDbGFzcyh0aGlzLnNldHRpbmdzLnBlbmRpbmdDbGFzcyksdGhpcy5wZW5kaW5nW3QubmFtZV09ITApfSxzdG9wUmVxdWVzdDpmdW5jdGlvbih0LGkpe3RoaXMucGVuZGluZ1JlcXVlc3QtLTt0aGlzLnBlbmRpbmdSZXF1ZXN0PDAmJih0aGlzLnBlbmRpbmdSZXF1ZXN0PTApO2RlbGV0ZSB0aGlzLnBlbmRpbmdbdC5uYW1lXTtuKHQpLnJlbW92ZUNsYXNzKHRoaXMuc2V0dGluZ3MucGVuZGluZ0NsYXNzKTtpJiYwPT09dGhpcy5wZW5kaW5nUmVxdWVzdCYmdGhpcy5mb3JtU3VibWl0dGVkJiZ0aGlzLmZvcm0oKT8obih0aGlzLmN1cnJlbnRGb3JtKS5zdWJtaXQoKSx0aGlzLnN1Ym1pdEJ1dHRvbiYmbigiaW5wdXQ6aGlkZGVuW25hbWU9JyIrdGhpcy5zdWJtaXRCdXR0b24ubmFtZSsiJ10iLHRoaXMuY3VycmVudEZvcm0pLnJlbW92ZSgpLHRoaXMuZm9ybVN1Ym1pdHRlZD0hMSk6IWkmJjA9PT10aGlzLnBlbmRpbmdSZXF1ZXN0JiZ0aGlzLmZvcm1TdWJtaXR0ZWQmJihuKHRoaXMuY3VycmVudEZvcm0pLnRyaWdnZXJIYW5kbGVyKCJpbnZhbGlkLWZvcm0iLFt0aGlzXSksdGhpcy5mb3JtU3VibWl0dGVkPSExKX0scHJldmlvdXNWYWx1ZTpmdW5jdGlvbih0LGkpe3JldHVybiBpPSJzdHJpbmciPT10eXBlb2YgaSYmaXx8InJlbW90ZSIsbi5kYXRhKHQsInByZXZpb3VzVmFsdWUiKXx8bi5kYXRhKHQsInByZXZpb3VzVmFsdWUiLHtvbGQ6bnVsbCx2YWxpZDohMCxtZXNzYWdlOnRoaXMuZGVmYXVsdE1lc3NhZ2UodCx7bWV0aG9kOml9KX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5yZXNldEZvcm0oKTtuKHRoaXMuY3VycmVudEZvcm0pLm9mZigiLnZhbGlkYXRlIikucmVtb3ZlRGF0YSgidmFsaWRhdG9yIikuZmluZCgiLnZhbGlkYXRlLWVxdWFsVG8tYmx1ciIpLm9mZigiLnZhbGlkYXRlLWVxdWFsVG8iKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtZXF1YWxUby1ibHVyIikuZmluZCgiLnZhbGlkYXRlLWxlc3NUaGFuLWJsdXIiKS5vZmYoIi52YWxpZGF0ZS1sZXNzVGhhbiIpLnJlbW92ZUNsYXNzKCJ2YWxpZGF0ZS1sZXNzVGhhbi1ibHVyIikuZmluZCgiLnZhbGlkYXRlLWxlc3NUaGFuRXF1YWwtYmx1ciIpLm9mZigiLnZhbGlkYXRlLWxlc3NUaGFuRXF1YWwiKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtbGVzc1RoYW5FcXVhbC1ibHVyIikuZmluZCgiLnZhbGlkYXRlLWdyZWF0ZXJUaGFuRXF1YWwtYmx1ciIpLm9mZigiLnZhbGlkYXRlLWdyZWF0ZXJUaGFuRXF1YWwiKS5yZW1vdmVDbGFzcygidmFsaWRhdGUtZ3JlYXRlclRoYW5FcXVhbC1ibHVyIikuZmluZCgiLnZhbGlkYXRlLWdyZWF0ZXJUaGFuLWJsdXIiKS5vZmYoIi52YWxpZGF0ZS1ncmVhdGVyVGhhbiIpLnJlbW92ZUNsYXNzKCJ2YWxpZGF0ZS1ncmVhdGVyVGhhbi1ibHVyIil9fSxjbGFzc1J1bGVTZXR0aW5nczp7cmVxdWlyZWQ6e3JlcXVpcmVkOiEwfSxlbWFpbDp7ZW1haWw6ITB9LHVybDp7dXJsOiEwfSxkYXRlOntkYXRlOiEwfSxkYXRlSVNPOntkYXRlSVNPOiEwfSxudW1iZXI6e251bWJlcjohMH0sZGlnaXRzOntkaWdpdHM6ITB9LGNyZWRpdGNhcmQ6e2NyZWRpdGNhcmQ6ITB9fSxhZGRDbGFzc1J1bGVzOmZ1bmN0aW9uKHQsaSl7dC5jb25zdHJ1Y3Rvcj09PVN0cmluZz90aGlzLmNsYXNzUnVsZVNldHRpbmdzW3RdPWk6bi5leHRlbmQodGhpcy5jbGFzc1J1bGVTZXR0aW5ncyx0KX0sY2xhc3NSdWxlczpmdW5jdGlvbih0KXt2YXIgaT17fSxyPW4odCkuYXR0cigiY2xhc3MiKTtyZXR1cm4gciYmbi5lYWNoKHIuc3BsaXQoIiAiKSxmdW5jdGlvbigpe3RoaXMgaW4gbi52YWxpZGF0b3IuY2xhc3NSdWxlU2V0dGluZ3MmJm4uZXh0ZW5kKGksbi52YWxpZGF0b3IuY2xhc3NSdWxlU2V0dGluZ3NbdGhpc10pfSksaX0sbm9ybWFsaXplQXR0cmlidXRlUnVsZTpmdW5jdGlvbihuLHQsaSxyKXsvbWlufG1heHxzdGVwLy50ZXN0KGkpJiYobnVsbD09PXR8fC9udW1iZXJ8cmFuZ2V8dGV4dC8udGVzdCh0KSkmJihyPU51bWJlcihyKSxpc05hTihyKSYmKHI9dm9pZCAwKSk7cnx8MD09PXI/bltpXT1yOnQ9PT1pJiYicmFuZ2UiIT09dCYmKG5baV09ITApfSxhdHRyaWJ1dGVSdWxlczpmdW5jdGlvbih0KXt2YXIgcixpLHU9e30sZj1uKHQpLGU9dC5nZXRBdHRyaWJ1dGUoInR5cGUiKTtmb3IociBpbiBuLnZhbGlkYXRvci5tZXRob2RzKSJyZXF1aXJlZCI9PT1yPyhpPXQuZ2V0QXR0cmlidXRlKHIpLCIiPT09aSYmKGk9ITApLGk9ISFpKTppPWYuYXR0cihyKSx0aGlzLm5vcm1hbGl6ZUF0dHJpYnV0ZVJ1bGUodSxlLHIsaSk7cmV0dXJuIHUubWF4bGVuZ3RoJiYvLTF8MjE0NzQ4MzY0N3w1MjQyODgvLnRlc3QodS5tYXhsZW5ndGgpJiZkZWxldGUgdS5tYXhsZW5ndGgsdX0sZGF0YVJ1bGVzOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdT17fSxmPW4odCksZT10LmdldEF0dHJpYnV0ZSgidHlwZSIpO2ZvcihpIGluIG4udmFsaWRhdG9yLm1ldGhvZHMpcj1mLmRhdGEoInJ1bGUiK2kuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkraS5zdWJzdHJpbmcoMSkudG9Mb3dlckNhc2UoKSksIiI9PT1yJiYocj0hMCksdGhpcy5ub3JtYWxpemVBdHRyaWJ1dGVSdWxlKHUsZSxpLHIpO3JldHVybiB1fSxzdGF0aWNSdWxlczpmdW5jdGlvbih0KXt2YXIgaT17fSxyPW4uZGF0YSh0LmZvcm0sInZhbGlkYXRvciIpO3JldHVybiByLnNldHRpbmdzLnJ1bGVzJiYoaT1uLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKHIuc2V0dGluZ3MucnVsZXNbdC5uYW1lXSl8fHt9KSxpfSxub3JtYWxpemVSdWxlczpmdW5jdGlvbih0LGkpe3JldHVybiBuLmVhY2godCxmdW5jdGlvbihyLHUpe2lmKHU9PT0hMSlyZXR1cm4gdm9pZCBkZWxldGUgdFtyXTtpZih1LnBhcmFtfHx1LmRlcGVuZHMpe3ZhciBmPSEwO3N3aXRjaCh0eXBlb2YgdS5kZXBlbmRzKXtjYXNlInN0cmluZyI6Zj0hIW4odS5kZXBlbmRzLGkuZm9ybSkubGVuZ3RoO2JyZWFrO2Nhc2UiZnVuY3Rpb24iOmY9dS5kZXBlbmRzLmNhbGwoaSxpKX1mP3Rbcl09dm9pZCAwPT09dS5wYXJhbXx8dS5wYXJhbToobi5kYXRhKGkuZm9ybSwidmFsaWRhdG9yIikucmVzZXRFbGVtZW50cyhuKGkpKSxkZWxldGUgdFtyXSl9fSksbi5lYWNoKHQsZnVuY3Rpb24obixyKXt0W25dPSJmdW5jdGlvbiI9PXR5cGVvZiByJiYibm9ybWFsaXplciIhPT1uP3IoaSk6cn0pLG4uZWFjaChbIm1pbmxlbmd0aCIsIm1heGxlbmd0aCJdLGZ1bmN0aW9uKCl7dFt0aGlzXSYmKHRbdGhpc109TnVtYmVyKHRbdGhpc10pKX0pLG4uZWFjaChbInJhbmdlbGVuZ3RoIiwicmFuZ2UiXSxmdW5jdGlvbigpe3ZhciBuO3RbdGhpc10mJihBcnJheS5pc0FycmF5KHRbdGhpc10pP3RbdGhpc109W051bWJlcih0W3RoaXNdWzBdKSxOdW1iZXIodFt0aGlzXVsxXSldOiJzdHJpbmciPT10eXBlb2YgdFt0aGlzXSYmKG49dFt0aGlzXS5yZXBsYWNlKC9bXFtcXV0vZywiIikuc3BsaXQoL1tccyxdKy8pLHRbdGhpc109W051bWJlcihuWzBdKSxOdW1iZXIoblsxXSldKSl9KSxuLnZhbGlkYXRvci5hdXRvQ3JlYXRlUmFuZ2VzJiYobnVsbCE9dC5taW4mJm51bGwhPXQubWF4JiYodC5yYW5nZT1bdC5taW4sdC5tYXhdLGRlbGV0ZSB0Lm1pbixkZWxldGUgdC5tYXgpLG51bGwhPXQubWlubGVuZ3RoJiZudWxsIT10Lm1heGxlbmd0aCYmKHQucmFuZ2VsZW5ndGg9W3QubWlubGVuZ3RoLHQubWF4bGVuZ3RoXSxkZWxldGUgdC5taW5sZW5ndGgsZGVsZXRlIHQubWF4bGVuZ3RoKSksdH0sbm9ybWFsaXplUnVsZTpmdW5jdGlvbih0KXtpZigic3RyaW5nIj09dHlwZW9mIHQpe3ZhciBpPXt9O24uZWFjaCh0LnNwbGl0KC9ccy8pLGZ1bmN0aW9uKCl7aVt0aGlzXT0hMH0pO3Q9aX1yZXR1cm4gdH0sYWRkTWV0aG9kOmZ1bmN0aW9uKHQsaSxyKXtuLnZhbGlkYXRvci5tZXRob2RzW3RdPWk7bi52YWxpZGF0b3IubWVzc2FnZXNbdF09dm9pZCAwIT09cj9yOm4udmFsaWRhdG9yLm1lc3NhZ2VzW3RdO2kubGVuZ3RoPDMmJm4udmFsaWRhdG9yLmFkZENsYXNzUnVsZXModCxuLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKHQpKX0sbWV0aG9kczp7cmVxdWlyZWQ6ZnVuY3Rpb24odCxpLHIpe2lmKCF0aGlzLmRlcGVuZChyLGkpKXJldHVybiJkZXBlbmRlbmN5LW1pc21hdGNoIjtpZigic2VsZWN0Ij09PWkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7dmFyIHU9bihpKS52YWwoKTtyZXR1cm4gdSYmdS5sZW5ndGg+MH1yZXR1cm4gdGhpcy5jaGVja2FibGUoaSk/dGhpcy5nZXRMZW5ndGgodCxpKT4wOnZvaWQgMCE9PXQmJm51bGwhPT10JiZ0Lmxlbmd0aD4wfSxlbWFpbDpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHwvXlthLXpBLVowLTkuISMkJSYnKitcLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqJC8udGVzdChuKX0sdXJsOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fC9eKD86KD86KD86aHR0cHM/fGZ0cCk6KT9cL1wvKSg/OlxTKyg/OjpcUyopP0ApPyg/Oig/ISg/OjEwfDEyNykoPzpcLlxkezEsM30pezN9KSg/ISg/OjE2OVwuMjU0fDE5MlwuMTY4KSg/OlwuXGR7MSwzfSl7Mn0pKD8hMTcyXC4oPzoxWzYtOV18MlxkfDNbMC0xXSkoPzpcLlxkezEsM30pezJ9KSg/OlsxLTldXGQ/fDFcZFxkfDJbMDFdXGR8MjJbMC0zXSkoPzpcLig/OjE/XGR7MSwyfXwyWzAtNF1cZHwyNVswLTVdKSl7Mn0oPzpcLig/OlsxLTldXGQ/fDFcZFxkfDJbMC00XVxkfDI1WzAtNF0pKXwoPzooPzpbYS16MC05XHUwMGExLVx1ZmZmZl1bYS16MC05XHUwMGExLVx1ZmZmZl8tXXswLDYyfSk/W2EtejAtOVx1MDBhMS1cdWZmZmZdXC4pKyg/OlthLXpcdTAwYTEtXHVmZmZmXXsyLH1cLj8pKSg/OjpcZHsyLDV9KT8oPzpbXC8/I11cUyopPyQvaS50ZXN0KG4pfSxkYXRlOmZ1bmN0aW9uKCl7dmFyIG49ITE7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7cmV0dXJuIG58fChuPSEwLHRoaXMuc2V0dGluZ3MuZGVidWcmJndpbmRvdy5jb25zb2xlJiZjb25zb2xlLndhcm4oIlRoZSBgZGF0ZWAgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2ZXJzaW9uICcyLjAuMCcuXG5QbGVhc2UgZG9uJ3QgdXNlIGl0LCBzaW5jZSBpdCByZWxpZXMgb24gdGhlIERhdGUgY29uc3RydWN0b3IsIHdoaWNoXG5iZWhhdmVzIHZlcnkgZGlmZmVyZW50bHkgYWNyb3NzIGJyb3dzZXJzIGFuZCBsb2NhbGVzLiBVc2UgYGRhdGVJU09gXG5pbnN0ZWFkIG9yIG9uZSBvZiB0aGUgbG9jYWxlIHNwZWNpZmljIG1ldGhvZHMgaW4gYGxvY2FsaXphdGlvbnMvYFxuYW5kIGBhZGRpdGlvbmFsLW1ldGhvZHMuanNgLiIpKSx0aGlzLm9wdGlvbmFsKGkpfHwhL0ludmFsaWR8TmFOLy50ZXN0KG5ldyBEYXRlKHQpLnRvU3RyaW5nKCkpfX0oKSxkYXRlSVNPOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fC9eXGR7NH1bXC9cLV0oMD9bMS05XXwxWzAxMl0pW1wvXC1dKDA/WzEtOV18WzEyXVswLTldfDNbMDFdKSQvLnRlc3Qobil9LG51bWJlcjpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHwvXig/Oi0/XGQrfC0/XGR7MSwzfSg/OixcZHszfSkrKT8oPzpcLlxkKyk/JC8udGVzdChuKX0sZGlnaXRzOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fC9eXGQrJC8udGVzdChuKX0sbWlubGVuZ3RoOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj1BcnJheS5pc0FycmF5KG4pP24ubGVuZ3RoOnRoaXMuZ2V0TGVuZ3RoKG4sdCk7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fHI+PWl9LG1heGxlbmd0aDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9QXJyYXkuaXNBcnJheShuKT9uLmxlbmd0aDp0aGlzLmdldExlbmd0aChuLHQpO3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxyPD1pfSxyYW5nZWxlbmd0aDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9QXJyYXkuaXNBcnJheShuKT9uLmxlbmd0aDp0aGlzLmdldExlbmd0aChuLHQpO3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxyPj1pWzBdJiZyPD1pWzFdfSxtaW46ZnVuY3Rpb24obix0LGkpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxuPj1pfSxtYXg6ZnVuY3Rpb24obix0LGkpe3JldHVybiB0aGlzLm9wdGlvbmFsKHQpfHxuPD1pfSxyYW5nZTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHRoaXMub3B0aW9uYWwodCl8fG4+PWlbMF0mJm48PWlbMV19LHN0ZXA6ZnVuY3Rpb24odCxpLHIpe3ZhciB1LGY9bihpKS5hdHRyKCJ0eXBlIiksaD0iU3RlcCBhdHRyaWJ1dGUgb24gaW5wdXQgdHlwZSAiK2YrIiBpcyBub3Qgc3VwcG9ydGVkLiIsYz1uZXcgUmVnRXhwKCJcXGIiK2YrIlxcYiIpLGw9ZiYmIWMudGVzdCgidGV4dCxudW1iZXIscmFuZ2UiKSxlPWZ1bmN0aW9uKG4pe3ZhciB0PSgiIituKS5tYXRjaCgvKD86XC4oXGQrKSk/JC8pO3JldHVybiB0JiZ0WzFdP3RbMV0ubGVuZ3RoOjB9LG89ZnVuY3Rpb24obil7cmV0dXJuIE1hdGgucm91bmQobipNYXRoLnBvdygxMCx1KSl9LHM9ITA7aWYobCl0aHJvdyBuZXcgRXJyb3IoaCk7cmV0dXJuIHU9ZShyKSwoZSh0KT51fHxvKHQpJW8ocikhPTApJiYocz0hMSksdGhpcy5vcHRpb25hbChpKXx8c30sZXF1YWxUbzpmdW5jdGlvbih0LGkscil7dmFyIHU9bihyKTtyZXR1cm4gdGhpcy5zZXR0aW5ncy5vbmZvY3Vzb3V0JiZ1Lm5vdCgiLnZhbGlkYXRlLWVxdWFsVG8tYmx1ciIpLmxlbmd0aCYmdS5hZGRDbGFzcygidmFsaWRhdGUtZXF1YWxUby1ibHVyIikub24oImJsdXIudmFsaWRhdGUtZXF1YWxUbyIsZnVuY3Rpb24oKXtuKGkpLnZhbGlkKCl9KSx0PT09dS52YWwoKX0scmVtb3RlOmZ1bmN0aW9uKHQsaSxyLHUpe2lmKHRoaXMub3B0aW9uYWwoaSkpcmV0dXJuImRlcGVuZGVuY3ktbWlzbWF0Y2giO3U9InN0cmluZyI9PXR5cGVvZiB1JiZ1fHwicmVtb3RlIjt2YXIgZixvLHMsZT10aGlzLnByZXZpb3VzVmFsdWUoaSx1KTtyZXR1cm4gdGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdfHwodGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdPXt9KSxlLm9yaWdpbmFsTWVzc2FnZT1lLm9yaWdpbmFsTWVzc2FnZXx8dGhpcy5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdW3VdLHRoaXMuc2V0dGluZ3MubWVzc2FnZXNbaS5uYW1lXVt1XT1lLm1lc3NhZ2Uscj0ic3RyaW5nIj09dHlwZW9mIHImJnt1cmw6cn18fHIscz1uLnBhcmFtKG4uZXh0ZW5kKHtkYXRhOnR9LHIuZGF0YSkpLGUub2xkPT09cz9lLnZhbGlkOihlLm9sZD1zLGY9dGhpcyx0aGlzLnN0YXJ0UmVxdWVzdChpKSxvPXt9LG9baS5uYW1lXT10LG4uYWpheChuLmV4dGVuZCghMCx7bW9kZToiYWJvcnQiLHBvcnQ6InZhbGlkYXRlIitpLm5hbWUsZGF0YVR5cGU6Impzb24iLGRhdGE6byxjb250ZXh0OmYuY3VycmVudEZvcm0sc3VjY2VzczpmdW5jdGlvbihuKXt2YXIgcixzLGgsbz1uPT09ITB8fCJ0cnVlIj09PW47Zi5zZXR0aW5ncy5tZXNzYWdlc1tpLm5hbWVdW3VdPWUub3JpZ2luYWxNZXNzYWdlO28/KGg9Zi5mb3JtU3VibWl0dGVkLGYucmVzZXRJbnRlcm5hbHMoKSxmLnRvSGlkZT1mLmVycm9yc0ZvcihpKSxmLmZvcm1TdWJtaXR0ZWQ9aCxmLnN1Y2Nlc3NMaXN0LnB1c2goaSksZi5pbnZhbGlkW2kubmFtZV09ITEsZi5zaG93RXJyb3JzKCkpOihyPXt9LHM9bnx8Zi5kZWZhdWx0TWVzc2FnZShpLHttZXRob2Q6dSxwYXJhbWV0ZXJzOnR9KSxyW2kubmFtZV09ZS5tZXNzYWdlPXMsZi5pbnZhbGlkW2kubmFtZV09ITAsZi5zaG93RXJyb3JzKHIpKTtlLnZhbGlkPW87Zi5zdG9wUmVxdWVzdChpLG8pfX0scikpLCJwZW5kaW5nIil9fX0pLHQ9e30sbi5hamF4UHJlZmlsdGVyP24uYWpheFByZWZpbHRlcihmdW5jdGlvbihuLGkscil7dmFyIHU9bi5wb3J0OyJhYm9ydCI9PT1uLm1vZGUmJih0W3VdJiZ0W3VdLmFib3J0KCksdFt1XT1yKX0pOihyPW4uYWpheCxuLmFqYXg9ZnVuY3Rpb24oaSl7dmFyIGY9KCJtb2RlImluIGk/aTpuLmFqYXhTZXR0aW5ncykubW9kZSx1PSgicG9ydCJpbiBpP2k6bi5hamF4U2V0dGluZ3MpLnBvcnQ7cmV0dXJuImFib3J0Ij09PWY/KHRbdV0mJnRbdV0uYWJvcnQoKSx0W3VdPXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRbdV0pOnIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksbn0pOyFmdW5jdGlvbihuKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSgianF1ZXJ5LnZhbGlkYXRlLnVub2J0cnVzaXZlIixbImpxdWVyeS12YWxpZGF0aW9uIl0sbik6Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPW4ocmVxdWlyZSgianF1ZXJ5LXZhbGlkYXRpb24iKSk6alF1ZXJ5LnZhbGlkYXRvci51bm9idHJ1c2l2ZT1uKGpRdWVyeSl9KGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGkobix0LGkpe24ucnVsZXNbdF09aTtuLm1lc3NhZ2UmJihuLm1lc3NhZ2VzW3RdPW4ubWVzc2FnZSl9ZnVuY3Rpb24gaChuKXtyZXR1cm4gbi5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIikuc3BsaXQoL1xzKixccyovZyl9ZnVuY3Rpb24gZihuKXtyZXR1cm4gbi5yZXBsYWNlKC8oWyEiIyQlJicoKSorLC5cLzo7PD0+P0BcW1xcXF1eYHt8fX5dKS9nLCJcXCQxIil9ZnVuY3Rpb24gZShuKXtyZXR1cm4gbi5zdWJzdHIoMCxuLmxhc3RJbmRleE9mKCIuIikrMSl9ZnVuY3Rpb24gbyhuLHQpe3JldHVybiAwPT09bi5pbmRleE9mKCIqLiIpJiYobj1uLnJlcGxhY2UoIiouIix0KSksbn1mdW5jdGlvbiBjKHQsaSl7dmFyIHI9bih0aGlzKS5maW5kKCJbZGF0YS12YWxtc2ctZm9yPSciK2YoaVswXS5uYW1lKSsiJ10iKSx1PXIuYXR0cigiZGF0YS12YWxtc2ctcmVwbGFjZSIpLGU9dT9uLnBhcnNlSlNPTih1KSE9PSExOm51bGw7ci5yZW1vdmVDbGFzcygiZmllbGQtdmFsaWRhdGlvbi12YWxpZCIpLmFkZENsYXNzKCJmaWVsZC12YWxpZGF0aW9uLWVycm9yIik7dC5kYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIscik7ZT8oci5lbXB0eSgpLHQucmVtb3ZlQ2xhc3MoImlucHV0LXZhbGlkYXRpb24tZXJyb3IiKS5hcHBlbmRUbyhyKSk6dC5oaWRlKCl9ZnVuY3Rpb24gbCh0LGkpe3ZhciB1PW4odGhpcykuZmluZCgiW2RhdGEtdmFsbXNnLXN1bW1hcnk9dHJ1ZV0iKSxyPXUuZmluZCgidWwiKTtyJiZyLmxlbmd0aCYmaS5lcnJvckxpc3QubGVuZ3RoJiYoci5lbXB0eSgpLHUuYWRkQ2xhc3MoInZhbGlkYXRpb24tc3VtbWFyeS1lcnJvcnMiKS5yZW1vdmVDbGFzcygidmFsaWRhdGlvbi1zdW1tYXJ5LXZhbGlkIiksbi5lYWNoKGkuZXJyb3JMaXN0LGZ1bmN0aW9uKCl7bigiPGxpIC8+IikuaHRtbCh0aGlzLm1lc3NhZ2UpLmFwcGVuZFRvKHIpfSkpfWZ1bmN0aW9uIGEodCl7dmFyIGk9dC5kYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIpLHIsdTtpJiYocj1pLmF0dHIoImRhdGEtdmFsbXNnLXJlcGxhY2UiKSx1PXI/bi5wYXJzZUpTT04ocik6bnVsbCxpLmFkZENsYXNzKCJmaWVsZC12YWxpZGF0aW9uLXZhbGlkIikucmVtb3ZlQ2xhc3MoImZpZWxkLXZhbGlkYXRpb24tZXJyb3IiKSx0LnJlbW92ZURhdGEoInVub2J0cnVzaXZlQ29udGFpbmVyIiksdSYmaS5lbXB0eSgpKX1mdW5jdGlvbiB2KCl7dmFyIHQ9bih0aGlzKSxpPSJfX2pxdWVyeV91bm9idHJ1c2l2ZV92YWxpZGF0aW9uX2Zvcm1fcmVzZXQiO2lmKCF0LmRhdGEoaSkpe3QuZGF0YShpLCEwKTt0cnl7dC5kYXRhKCJ2YWxpZGF0b3IiKS5yZXNldEZvcm0oKX1maW5hbGx5e3QucmVtb3ZlRGF0YShpKX10LmZpbmQoIi52YWxpZGF0aW9uLXN1bW1hcnktZXJyb3JzIikuYWRkQ2xhc3MoInZhbGlkYXRpb24tc3VtbWFyeS12YWxpZCIpLnJlbW92ZUNsYXNzKCJ2YWxpZGF0aW9uLXN1bW1hcnktZXJyb3JzIik7dC5maW5kKCIuZmllbGQtdmFsaWRhdGlvbi1lcnJvciIpLmFkZENsYXNzKCJmaWVsZC12YWxpZGF0aW9uLXZhbGlkIikucmVtb3ZlQ2xhc3MoImZpZWxkLXZhbGlkYXRpb24tZXJyb3IiKS5yZW1vdmVEYXRhKCJ1bm9idHJ1c2l2ZUNvbnRhaW5lciIpLmZpbmQoIj4qIikucmVtb3ZlRGF0YSgidW5vYnRydXNpdmVDb250YWluZXIiKX19ZnVuY3Rpb24gcyh0KXt2YXIgaT1uKHQpLGY9aS5kYXRhKHUpLHM9bi5wcm94eSh2LHQpLGU9ci51bm9idHJ1c2l2ZS5vcHRpb25zfHx7fSxvPWZ1bmN0aW9uKGkscil7dmFyIHU9ZVtpXTt1JiZuLmlzRnVuY3Rpb24odSkmJnUuYXBwbHkodCxyKX07cmV0dXJuIGZ8fChmPXtvcHRpb25zOntlcnJvckNsYXNzOmUuZXJyb3JDbGFzc3x8ImlucHV0LXZhbGlkYXRpb24tZXJyb3IiLGVycm9yRWxlbWVudDplLmVycm9yRWxlbWVudHx8InNwYW4iLGVycm9yUGxhY2VtZW50OmZ1bmN0aW9uKCl7Yy5hcHBseSh0LGFyZ3VtZW50cyk7bygiZXJyb3JQbGFjZW1lbnQiLGFyZ3VtZW50cyl9LGludmFsaWRIYW5kbGVyOmZ1bmN0aW9uKCl7bC5hcHBseSh0LGFyZ3VtZW50cyk7bygiaW52YWxpZEhhbmRsZXIiLGFyZ3VtZW50cyl9LG1lc3NhZ2VzOnt9LHJ1bGVzOnt9LHN1Y2Nlc3M6ZnVuY3Rpb24oKXthLmFwcGx5KHQsYXJndW1lbnRzKTtvKCJzdWNjZXNzIixhcmd1bWVudHMpfX0sYXR0YWNoVmFsaWRhdGlvbjpmdW5jdGlvbigpe2kub2ZmKCJyZXNldC4iK3Uscykub24oInJlc2V0LiIrdSxzKS52YWxpZGF0ZSh0aGlzLm9wdGlvbnMpfSx2YWxpZGF0ZTpmdW5jdGlvbigpe3JldHVybiBpLnZhbGlkYXRlKCksaS52YWxpZCgpfX0saS5kYXRhKHUsZikpLGZ9dmFyIHQscj1uLnZhbGlkYXRvcix1PSJ1bm9idHJ1c2l2ZVZhbGlkYXRpb24iO3JldHVybiByLnVub2J0cnVzaXZlPXthZGFwdGVyczpbXSxwYXJzZUVsZW1lbnQ6ZnVuY3Rpb24odCxpKXt2YXIgcix1LG8sZj1uKHQpLGU9Zi5wYXJlbnRzKCJmb3JtIilbMF07ZSYmKHI9cyhlKSxyLm9wdGlvbnMucnVsZXNbdC5uYW1lXT11PXt9LHIub3B0aW9ucy5tZXNzYWdlc1t0Lm5hbWVdPW89e30sbi5lYWNoKHRoaXMuYWRhcHRlcnMsZnVuY3Rpb24oKXt2YXIgaT0iZGF0YS12YWwtIit0aGlzLm5hbWUscj1mLmF0dHIoaSkscz17fTt2b2lkIDAhPT1yJiYoaSs9Ii0iLG4uZWFjaCh0aGlzLnBhcmFtcyxmdW5jdGlvbigpe3NbdGhpc109Zi5hdHRyKGkrdGhpcyl9KSx0aGlzLmFkYXB0KHtlbGVtZW50OnQsZm9ybTplLG1lc3NhZ2U6cixwYXJhbXM6cyxydWxlczp1LG1lc3NhZ2VzOm99KSl9KSxuLmV4dGVuZCh1LHtfX2R1bW15X186ITB9KSxpfHxyLmF0dGFjaFZhbGlkYXRpb24oKSl9LHBhcnNlOmZ1bmN0aW9uKHQpe3ZhciBpPW4odCksdT1pLnBhcmVudHMoKS5hZGRCYWNrKCkuZmlsdGVyKCJmb3JtIikuYWRkKGkuZmluZCgiZm9ybSIpKS5oYXMoIltkYXRhLXZhbD10cnVlXSIpO2kuZmluZCgiW2RhdGEtdmFsPXRydWVdIikuZWFjaChmdW5jdGlvbigpe3IudW5vYnRydXNpdmUucGFyc2VFbGVtZW50KHRoaXMsITApfSk7dS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49cyh0aGlzKTtuJiZuLmF0dGFjaFZhbGlkYXRpb24oKX0pfX0sdD1yLnVub2J0cnVzaXZlLmFkYXB0ZXJzLHQuYWRkPWZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gaXx8KGk9dCx0PVtdKSx0aGlzLnB1c2goe25hbWU6bixwYXJhbXM6dCxhZGFwdDppfSksdGhpc30sdC5hZGRCb29sPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuYWRkKG4sZnVuY3Rpb24ocil7aShyLHR8fG4sITApfSl9LHQuYWRkTWluTWF4PWZ1bmN0aW9uKG4sdCxyLHUsZixlKXtyZXR1cm4gdGhpcy5hZGQobixbZnx8Im1pbiIsZXx8Im1heCJdLGZ1bmN0aW9uKG4pe3ZhciBmPW4ucGFyYW1zLm1pbixlPW4ucGFyYW1zLm1heDtmJiZlP2kobix1LFtmLGVdKTpmP2kobix0LGYpOmUmJmkobixyLGUpfSl9LHQuYWRkU2luZ2xlVmFsPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gdGhpcy5hZGQobixbdHx8InZhbCJdLGZ1bmN0aW9uKHUpe2kodSxyfHxuLHUucGFyYW1zW3RdKX0pfSxyLmFkZE1ldGhvZCgiX19kdW1teV9fIixmdW5jdGlvbigpe3JldHVybiEwfSksci5hZGRNZXRob2QoInJlZ2V4IixmdW5jdGlvbihuLHQsaSl7dmFyIHI7cmV0dXJuISF0aGlzLm9wdGlvbmFsKHQpfHwocj1uZXcgUmVnRXhwKGkpLmV4ZWMobiksciYmMD09PXIuaW5kZXgmJnJbMF0ubGVuZ3RoPT09bi5sZW5ndGgpfSksci5hZGRNZXRob2QoIm5vbmFscGhhbWluIixmdW5jdGlvbihuLHQsaSl7dmFyIHI7cmV0dXJuIGkmJihyPW4ubWF0Y2goL1xXL2cpLHI9ciYmci5sZW5ndGg+PWkpLHJ9KSxyLm1ldGhvZHMuZXh0ZW5zaW9uPyh0LmFkZFNpbmdsZVZhbCgiYWNjZXB0IiwibWltdHlwZSIpLHQuYWRkU2luZ2xlVmFsKCJleHRlbnNpb24iLCJleHRlbnNpb24iKSk6dC5hZGRTaW5nbGVWYWwoImV4dGVuc2lvbiIsImV4dGVuc2lvbiIsImFjY2VwdCIpLHQuYWRkU2luZ2xlVmFsKCJyZWdleCIsInBhdHRlcm4iKSx0LmFkZEJvb2woImNyZWRpdGNhcmQiKS5hZGRCb29sKCJkYXRlIikuYWRkQm9vbCgiZGlnaXRzIikuYWRkQm9vbCgiZW1haWwiKS5hZGRCb29sKCJudW1iZXIiKS5hZGRCb29sKCJ1cmwiKSx0LmFkZE1pbk1heCgibGVuZ3RoIiwibWlubGVuZ3RoIiwibWF4bGVuZ3RoIiwicmFuZ2VsZW5ndGgiKS5hZGRNaW5NYXgoInJhbmdlIiwibWluIiwibWF4IiwicmFuZ2UiKSx0LmFkZE1pbk1heCgibWlubGVuZ3RoIiwibWlubGVuZ3RoIikuYWRkTWluTWF4KCJtYXhsZW5ndGgiLCJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiKSx0LmFkZCgiZXF1YWx0byIsWyJvdGhlciJdLGZ1bmN0aW9uKHQpe3ZhciByPWUodC5lbGVtZW50Lm5hbWUpLHU9dC5wYXJhbXMub3RoZXIscz1vKHUsciksaD1uKHQuZm9ybSkuZmluZCgiOmlucHV0IikuZmlsdGVyKCJbbmFtZT0nIitmKHMpKyInXSIpWzBdO2kodCwiZXF1YWxUbyIsaCl9KSx0LmFkZCgicmVxdWlyZWQiLGZ1bmN0aW9uKG4peyJJTlBVVCI9PT1uLmVsZW1lbnQudGFnTmFtZS50b1VwcGVyQ2FzZSgpJiYiQ0hFQ0tCT1giPT09bi5lbGVtZW50LnR5cGUudG9VcHBlckNhc2UoKXx8aShuLCJyZXF1aXJlZCIsITApfSksdC5hZGQoInJlbW90ZSIsWyJ1cmwiLCJ0eXBlIiwiYWRkaXRpb25hbGZpZWxkcyJdLGZ1bmN0aW9uKHQpe3ZhciByPXt1cmw6dC5wYXJhbXMudXJsLHR5cGU6dC5wYXJhbXMudHlwZXx8IkdFVCIsZGF0YTp7fX0sdT1lKHQuZWxlbWVudC5uYW1lKTtuLmVhY2goaCh0LnBhcmFtcy5hZGRpdGlvbmFsZmllbGRzfHx0LmVsZW1lbnQubmFtZSksZnVuY3Rpb24oaSxlKXt2YXIgcz1vKGUsdSk7ci5kYXRhW3NdPWZ1bmN0aW9uKCl7dmFyIGk9bih0LmZvcm0pLmZpbmQoIjppbnB1dCIpLmZpbHRlcigiW25hbWU9JyIrZihzKSsiJ10iKTtyZXR1cm4gaS5pcygiOmNoZWNrYm94Iik/aS5maWx0ZXIoIjpjaGVja2VkIikudmFsKCl8fGkuZmlsdGVyKCI6aGlkZGVuIikudmFsKCl8fCIiOmkuaXMoIjpyYWRpbyIpP2kuZmlsdGVyKCI6Y2hlY2tlZCIpLnZhbCgpfHwiIjppLnZhbCgpfX0pO2kodCwicmVtb3RlIixyKX0pLHQuYWRkKCJwYXNzd29yZCIsWyJtaW4iLCJub25hbHBoYW1pbiIsInJlZ2V4Il0sZnVuY3Rpb24obil7bi5wYXJhbXMubWluJiZpKG4sIm1pbmxlbmd0aCIsbi5wYXJhbXMubWluKTtuLnBhcmFtcy5ub25hbHBoYW1pbiYmaShuLCJub25hbHBoYW1pbiIsbi5wYXJhbXMubm9uYWxwaGFtaW4pO24ucGFyYW1zLnJlZ2V4JiZpKG4sInJlZ2V4IixuLnBhcmFtcy5yZWdleCl9KSx0LmFkZCgiZmlsZWV4dGVuc2lvbnMiLFsiZXh0ZW5zaW9ucyJdLGZ1bmN0aW9uKG4pe2kobiwiZXh0ZW5zaW9uIixuLnBhcmFtcy5leHRlbnNpb25zKX0pLG4oZnVuY3Rpb24oKXtyLnVub2J0cnVzaXZlLnBhcnNlKGRvY3VtZW50KX0pLHIudW5vYnRydXNpdmV9KTsKLyohIGpRdWVyeSBVSSAtIHYxLjEyLjEgLSAyMDE2LTA5LTE0CiogaHR0cDovL2pxdWVyeXVpLmNvbQoqIEluY2x1ZGVzOiB3aWRnZXQuanMsIHBvc2l0aW9uLmpzLCBkYXRhLmpzLCBkaXNhYmxlLXNlbGVjdGlvbi5qcywgZWZmZWN0LmpzLCBlZmZlY3RzL2VmZmVjdC1ibGluZC5qcywgZWZmZWN0cy9lZmZlY3QtYm91bmNlLmpzLCBlZmZlY3RzL2VmZmVjdC1jbGlwLmpzLCBlZmZlY3RzL2VmZmVjdC1kcm9wLmpzLCBlZmZlY3RzL2VmZmVjdC1leHBsb2RlLmpzLCBlZmZlY3RzL2VmZmVjdC1mYWRlLmpzLCBlZmZlY3RzL2VmZmVjdC1mb2xkLmpzLCBlZmZlY3RzL2VmZmVjdC1oaWdobGlnaHQuanMsIGVmZmVjdHMvZWZmZWN0LXB1ZmYuanMsIGVmZmVjdHMvZWZmZWN0LXB1bHNhdGUuanMsIGVmZmVjdHMvZWZmZWN0LXNjYWxlLmpzLCBlZmZlY3RzL2VmZmVjdC1zaGFrZS5qcywgZWZmZWN0cy9lZmZlY3Qtc2l6ZS5qcywgZWZmZWN0cy9lZmZlY3Qtc2xpZGUuanMsIGVmZmVjdHMvZWZmZWN0LXRyYW5zZmVyLmpzLCBmb2N1c2FibGUuanMsIGZvcm0tcmVzZXQtbWl4aW4uanMsIGpxdWVyeS0xLTcuanMsIGtleWNvZGUuanMsIGxhYmVscy5qcywgc2Nyb2xsLXBhcmVudC5qcywgdGFiYmFibGUuanMsIHVuaXF1ZS1pZC5qcywgd2lkZ2V0cy9hY2NvcmRpb24uanMsIHdpZGdldHMvYXV0b2NvbXBsZXRlLmpzLCB3aWRnZXRzL2J1dHRvbi5qcywgd2lkZ2V0cy9jaGVja2JveHJhZGlvLmpzLCB3aWRnZXRzL2NvbnRyb2xncm91cC5qcywgd2lkZ2V0cy9kYXRlcGlja2VyLmpzLCB3aWRnZXRzL2RpYWxvZy5qcywgd2lkZ2V0cy9kcmFnZ2FibGUuanMsIHdpZGdldHMvZHJvcHBhYmxlLmpzLCB3aWRnZXRzL21lbnUuanMsIHdpZGdldHMvbW91c2UuanMsIHdpZGdldHMvcHJvZ3Jlc3NiYXIuanMsIHdpZGdldHMvcmVzaXphYmxlLmpzLCB3aWRnZXRzL3NlbGVjdGFibGUuanMsIHdpZGdldHMvc2VsZWN0bWVudS5qcywgd2lkZ2V0cy9zbGlkZXIuanMsIHdpZGdldHMvc29ydGFibGUuanMsIHdpZGdldHMvc3Bpbm5lci5qcywgd2lkZ2V0cy90YWJzLmpzLCB3aWRnZXRzL3Rvb2x0aXAuanMKKiBDb3B5cmlnaHQgalF1ZXJ5IEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9yczsgTGljZW5zZWQgTUlUICovCihmdW5jdGlvbihuKXsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLG4pOm4oalF1ZXJ5KX0pKGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGIobil7Zm9yKHZhciB0PW4uY3NzKCJ2aXNpYmlsaXR5Iik7ImluaGVyaXQiPT09dDspbj1uLnBhcmVudCgpLHQ9bi5jc3MoInZpc2liaWxpdHkiKTtyZXR1cm4iaGlkZGVuIiE9PXR9ZnVuY3Rpb24gayhuKXtmb3IodmFyIHQsaTtuLmxlbmd0aCYmblswXSE9PWRvY3VtZW50Oyl7aWYodD1uLmNzcygicG9zaXRpb24iKSwoImFic29sdXRlIj09PXR8fCJyZWxhdGl2ZSI9PT10fHwiZml4ZWQiPT09dCkmJihpPXBhcnNlSW50KG4uY3NzKCJ6SW5kZXgiKSwxMCksIWlzTmFOKGkpJiYwIT09aSkpcmV0dXJuIGk7bj1uLnBhcmVudCgpfXJldHVybiAwfWZ1bmN0aW9uIGMoKXt0aGlzLl9jdXJJbnN0PW51bGw7dGhpcy5fa2V5RXZlbnQ9ITE7dGhpcy5fZGlzYWJsZWRJbnB1dHM9W107dGhpcy5fZGF0ZXBpY2tlclNob3dpbmc9ITE7dGhpcy5faW5EaWFsb2c9ITE7dGhpcy5fbWFpbkRpdklkPSJ1aS1kYXRlcGlja2VyLWRpdiI7dGhpcy5faW5saW5lQ2xhc3M9InVpLWRhdGVwaWNrZXItaW5saW5lIjt0aGlzLl9hcHBlbmRDbGFzcz0idWktZGF0ZXBpY2tlci1hcHBlbmQiO3RoaXMuX3RyaWdnZXJDbGFzcz0idWktZGF0ZXBpY2tlci10cmlnZ2VyIjt0aGlzLl9kaWFsb2dDbGFzcz0idWktZGF0ZXBpY2tlci1kaWFsb2ciO3RoaXMuX2Rpc2FibGVDbGFzcz0idWktZGF0ZXBpY2tlci1kaXNhYmxlZCI7dGhpcy5fdW5zZWxlY3RhYmxlQ2xhc3M9InVpLWRhdGVwaWNrZXItdW5zZWxlY3RhYmxlIjt0aGlzLl9jdXJyZW50Q2xhc3M9InVpLWRhdGVwaWNrZXItY3VycmVudC1kYXkiO3RoaXMuX2RheU92ZXJDbGFzcz0idWktZGF0ZXBpY2tlci1kYXlzLWNlbGwtb3ZlciI7dGhpcy5yZWdpb25hbD1bXTt0aGlzLnJlZ2lvbmFsWyIiXT17Y2xvc2VUZXh0OiJEb25lIixwcmV2VGV4dDoiUHJldiIsbmV4dFRleHQ6Ik5leHQiLGN1cnJlbnRUZXh0OiJUb2RheSIsbW9udGhOYW1lczpbIkphbnVhcnkiLCJGZWJydWFyeSIsIk1hcmNoIiwiQXByaWwiLCJNYXkiLCJKdW5lIiwiSnVseSIsIkF1Z3VzdCIsIlNlcHRlbWJlciIsIk9jdG9iZXIiLCJOb3ZlbWJlciIsIkRlY2VtYmVyIl0sbW9udGhOYW1lc1Nob3J0OlsiSmFuIiwiRmViIiwiTWFyIiwiQXByIiwiTWF5IiwiSnVuIiwiSnVsIiwiQXVnIiwiU2VwIiwiT2N0IiwiTm92IiwiRGVjIl0sZGF5TmFtZXM6WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLGRheU5hbWVzU2hvcnQ6WyJTdW4iLCJNb24iLCJUdWUiLCJXZWQiLCJUaHUiLCJGcmkiLCJTYXQiXSxkYXlOYW1lc01pbjpbIlN1IiwiTW8iLCJUdSIsIldlIiwiVGgiLCJGciIsIlNhIl0sd2Vla0hlYWRlcjoiV2siLGRhdGVGb3JtYXQ6Im1tL2RkL3l5IixmaXJzdERheTowLGlzUlRMOiExLHNob3dNb250aEFmdGVyWWVhcjohMSx5ZWFyU3VmZml4OiIifTt0aGlzLl9kZWZhdWx0cz17c2hvd09uOiJmb2N1cyIsc2hvd0FuaW06ImZhZGVJbiIsc2hvd09wdGlvbnM6e30sZGVmYXVsdERhdGU6bnVsbCxhcHBlbmRUZXh0OiIiLGJ1dHRvblRleHQ6Ii4uLiIsYnV0dG9uSW1hZ2U6IiIsYnV0dG9uSW1hZ2VPbmx5OiExLGhpZGVJZk5vUHJldk5leHQ6ITEsbmF2aWdhdGlvbkFzRGF0ZUZvcm1hdDohMSxnb3RvQ3VycmVudDohMSxjaGFuZ2VNb250aDohMSxjaGFuZ2VZZWFyOiExLHllYXJSYW5nZToiYy0xMDpjKzEwIixzaG93T3RoZXJNb250aHM6ITEsc2VsZWN0T3RoZXJNb250aHM6ITEsc2hvd1dlZWs6ITEsY2FsY3VsYXRlV2Vlazp0aGlzLmlzbzg2MDFXZWVrLHNob3J0WWVhckN1dG9mZjoiKzEwIixtaW5EYXRlOm51bGwsbWF4RGF0ZTpudWxsLGR1cmF0aW9uOiJmYXN0IixiZWZvcmVTaG93RGF5Om51bGwsYmVmb3JlU2hvdzpudWxsLG9uU2VsZWN0Om51bGwsb25DaGFuZ2VNb250aFllYXI6bnVsbCxvbkNsb3NlOm51bGwsbnVtYmVyT2ZNb250aHM6MSxzaG93Q3VycmVudEF0UG9zOjAsc3RlcE1vbnRoczoxLHN0ZXBCaWdNb250aHM6MTIsYWx0RmllbGQ6IiIsYWx0Rm9ybWF0OiIiLGNvbnN0cmFpbklucHV0OiEwLHNob3dCdXR0b25QYW5lbDohMSxhdXRvU2l6ZTohMSxkaXNhYmxlZDohMX07bi5leHRlbmQodGhpcy5fZGVmYXVsdHMsdGhpcy5yZWdpb25hbFsiIl0pO3RoaXMucmVnaW9uYWwuZW49bi5leHRlbmQoITAse30sdGhpcy5yZWdpb25hbFsiIl0pO3RoaXMucmVnaW9uYWxbImVuLVVTIl09bi5leHRlbmQoITAse30sdGhpcy5yZWdpb25hbC5lbik7dGhpcy5kcERpdj1sKG4oIjxkaXYgaWQ9JyIrdGhpcy5fbWFpbkRpdklkKyInIGNsYXNzPSd1aS1kYXRlcGlja2VyIHVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXggdWktY29ybmVyLWFsbCc+PFwvZGl2PiIpKX1mdW5jdGlvbiBsKHQpe3ZhciBpPSJidXR0b24sIC51aS1kYXRlcGlja2VyLXByZXYsIC51aS1kYXRlcGlja2VyLW5leHQsIC51aS1kYXRlcGlja2VyLWNhbGVuZGFyIHRkIGEiO3JldHVybiB0Lm9uKCJtb3VzZW91dCIsaSxmdW5jdGlvbigpe24odGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWhvdmVyIik7LTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLXByZXYiKSYmbih0aGlzKS5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIik7LTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLW5leHQiKSYmbih0aGlzKS5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIil9KS5vbigibW91c2VvdmVyIixpLGEpfWZ1bmN0aW9uIGEoKXtuLmRhdGVwaWNrZXIuX2lzRGlzYWJsZWREYXRlcGlja2VyKGkuaW5saW5lP2kuZHBEaXYucGFyZW50KClbMF06aS5pbnB1dFswXSl8fChuKHRoaXMpLnBhcmVudHMoIi51aS1kYXRlcGlja2VyLWNhbGVuZGFyIikuZmluZCgiYSIpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1ob3ZlciIpLG4odGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLXByZXYiKSYmbih0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1wcmV2LWhvdmVyIiksLTEhPT10aGlzLmNsYXNzTmFtZS5pbmRleE9mKCJ1aS1kYXRlcGlja2VyLW5leHQiKSYmbih0aGlzKS5hZGRDbGFzcygidWktZGF0ZXBpY2tlci1uZXh0LWhvdmVyIikpfWZ1bmN0aW9uIHUodCxpKXtuLmV4dGVuZCh0LGkpO2Zvcih2YXIgciBpbiBpKW51bGw9PWlbcl0mJih0W3JdPWlbcl0pO3JldHVybiB0fWZ1bmN0aW9uIHQobil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LnZhbCgpO24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3JlZnJlc2goKTt0IT09dGhpcy5lbGVtZW50LnZhbCgpJiZ0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiKX19dmFyIHYsbyxwLHcsaSxyLGU7bi51aT1uLnVpfHx7fTtuLnVpLnZlcnNpb249IjEuMTIuMSI7dj0wO289QXJyYXkucHJvdG90eXBlLnNsaWNlO24uY2xlYW5EYXRhPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpKXtmb3IodmFyIHIsdSxmPTA7bnVsbCE9KHU9aVtmXSk7ZisrKXRyeXtyPW4uX2RhdGEodSwiZXZlbnRzIik7ciYmci5yZW1vdmUmJm4odSkudHJpZ2dlckhhbmRsZXIoInJlbW92ZSIpfWNhdGNoKGUpe310KGkpfX0obi5jbGVhbkRhdGEpO24ud2lkZ2V0PWZ1bmN0aW9uKHQsaSxyKXt2YXIgZix1LG8saD17fSxlPXQuc3BsaXQoIi4iKVswXSxzO3JldHVybiB0PXQuc3BsaXQoIi4iKVsxXSxzPWUrIi0iK3Qscnx8KHI9aSxpPW4uV2lkZ2V0KSxuLmlzQXJyYXkocikmJihyPW4uZXh0ZW5kLmFwcGx5KG51bGwsW3t9XS5jb25jYXQocikpKSxuLmV4cHJbIjoiXVtzLnRvTG93ZXJDYXNlKCldPWZ1bmN0aW9uKHQpe3JldHVybiEhbi5kYXRhKHQscyl9LG5bZV09bltlXXx8e30sZj1uW2VdW3RdLHU9bltlXVt0XT1mdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLl9jcmVhdGVXaWRnZXQ/KGFyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChuLHQpLHZvaWQgMCk6bmV3IHUobix0KX0sbi5leHRlbmQodSxmLHt2ZXJzaW9uOnIudmVyc2lvbixfcHJvdG86bi5leHRlbmQoe30sciksX2NoaWxkQ29uc3RydWN0b3JzOltdfSksbz1uZXcgaSxvLm9wdGlvbnM9bi53aWRnZXQuZXh0ZW5kKHt9LG8ub3B0aW9ucyksbi5lYWNoKHIsZnVuY3Rpb24odCxyKXtyZXR1cm4gbi5pc0Z1bmN0aW9uKHIpPyhoW3RdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3JldHVybiBpLnByb3RvdHlwZVt0XS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdShuKXtyZXR1cm4gaS5wcm90b3R5cGVbdF0uYXBwbHkodGhpcyxuKX1yZXR1cm4gZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMuX3N1cGVyLGY9dGhpcy5fc3VwZXJBcHBseTtyZXR1cm4gdGhpcy5fc3VwZXI9bix0aGlzLl9zdXBlckFwcGx5PXUsdD1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9zdXBlcj1pLHRoaXMuX3N1cGVyQXBwbHk9Zix0fX0oKSx2b2lkIDApOihoW3RdPXIsdm9pZCAwKX0pLHUucHJvdG90eXBlPW4ud2lkZ2V0LmV4dGVuZChvLHt3aWRnZXRFdmVudFByZWZpeDpmP28ud2lkZ2V0RXZlbnRQcmVmaXh8fHQ6dH0saCx7Y29uc3RydWN0b3I6dSxuYW1lc3BhY2U6ZSx3aWRnZXROYW1lOnQsd2lkZ2V0RnVsbE5hbWU6c30pLGY/KG4uZWFjaChmLl9jaGlsZENvbnN0cnVjdG9ycyxmdW5jdGlvbih0LGkpe3ZhciByPWkucHJvdG90eXBlO24ud2lkZ2V0KHIubmFtZXNwYWNlKyIuIityLndpZGdldE5hbWUsdSxpLl9wcm90byl9KSxkZWxldGUgZi5fY2hpbGRDb25zdHJ1Y3RvcnMpOmkuX2NoaWxkQ29uc3RydWN0b3JzLnB1c2godSksbi53aWRnZXQuYnJpZGdlKHQsdSksdX07bi53aWRnZXQuZXh0ZW5kPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaSxyLGY9by5jYWxsKGFyZ3VtZW50cywxKSx1PTAsZT1mLmxlbmd0aDtlPnU7dSsrKWZvcihpIGluIGZbdV0pcj1mW3VdW2ldLGZbdV0uaGFzT3duUHJvcGVydHkoaSkmJnZvaWQgMCE9PXImJih0W2ldPW4uaXNQbGFpbk9iamVjdChyKT9uLmlzUGxhaW5PYmplY3QodFtpXSk/bi53aWRnZXQuZXh0ZW5kKHt9LHRbaV0scik6bi53aWRnZXQuZXh0ZW5kKHt9LHIpOnIpO3JldHVybiB0fTtuLndpZGdldC5icmlkZ2U9ZnVuY3Rpb24odCxpKXt2YXIgcj1pLnByb3RvdHlwZS53aWRnZXRGdWxsTmFtZXx8dDtuLmZuW3RdPWZ1bmN0aW9uKHUpe3ZhciBzPSJzdHJpbmciPT10eXBlb2YgdSxlPW8uY2FsbChhcmd1bWVudHMsMSksZj10aGlzO3JldHVybiBzP3RoaXMubGVuZ3RofHwiaW5zdGFuY2UiIT09dT90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaSxvPW4uZGF0YSh0aGlzLHIpO3JldHVybiJpbnN0YW5jZSI9PT11PyhmPW8sITEpOm8/bi5pc0Z1bmN0aW9uKG9bdV0pJiYiXyIhPT11LmNoYXJBdCgwKT8oaT1vW3VdLmFwcGx5KG8sZSksaSE9PW8mJnZvaWQgMCE9PWk/KGY9aSYmaS5qcXVlcnk/Zi5wdXNoU3RhY2soaS5nZXQoKSk6aSwhMSk6dm9pZCAwKTpuLmVycm9yKCJubyBzdWNoIG1ldGhvZCAnIit1KyInIGZvciAiK3QrIiB3aWRnZXQgaW5zdGFuY2UiKTpuLmVycm9yKCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uICIrdCsiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJyIrdSsiJyIpfSk6Zj12b2lkIDA6KGUubGVuZ3RoJiYodT1uLndpZGdldC5leHRlbmQuYXBwbHkobnVsbCxbdV0uY29uY2F0KGUpKSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bi5kYXRhKHRoaXMscik7dD8odC5vcHRpb24odXx8e30pLHQuX2luaXQmJnQuX2luaXQoKSk6bi5kYXRhKHRoaXMscixuZXcgaSh1LHRoaXMpKX0pKSxmfX07bi5XaWRnZXQ9ZnVuY3Rpb24oKXt9O24uV2lkZ2V0Ll9jaGlsZENvbnN0cnVjdG9ycz1bXTtuLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntjbGFzc2VzOnt9LGRpc2FibGVkOiExLGNyZWF0ZTpudWxsfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKHQsaSl7aT1uKGl8fHRoaXMuZGVmYXVsdEVsZW1lbnR8fHRoaXMpWzBdO3RoaXMuZWxlbWVudD1uKGkpO3RoaXMudXVpZD12Kys7dGhpcy5ldmVudE5hbWVzcGFjZT0iLiIrdGhpcy53aWRnZXROYW1lK3RoaXMudXVpZDt0aGlzLmJpbmRpbmdzPW4oKTt0aGlzLmhvdmVyYWJsZT1uKCk7dGhpcy5mb2N1c2FibGU9bigpO3RoaXMuY2xhc3Nlc0VsZW1lbnRMb29rdXA9e307aSE9PXRoaXMmJihuLmRhdGEoaSx0aGlzLndpZGdldEZ1bGxOYW1lLHRoaXMpLHRoaXMuX29uKCEwLHRoaXMuZWxlbWVudCx7cmVtb3ZlOmZ1bmN0aW9uKG4pe24udGFyZ2V0PT09aSYmdGhpcy5kZXN0cm95KCl9fSksdGhpcy5kb2N1bWVudD1uKGkuc3R5bGU/aS5vd25lckRvY3VtZW50OmkuZG9jdW1lbnR8fGkpLHRoaXMud2luZG93PW4odGhpcy5kb2N1bWVudFswXS5kZWZhdWx0Vmlld3x8dGhpcy5kb2N1bWVudFswXS5wYXJlbnRXaW5kb3cpKTt0aGlzLm9wdGlvbnM9bi53aWRnZXQuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyx0aGlzLl9nZXRDcmVhdGVPcHRpb25zKCksdCk7dGhpcy5fY3JlYXRlKCk7dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpO3RoaXMuX3RyaWdnZXIoImNyZWF0ZSIsbnVsbCx0aGlzLl9nZXRDcmVhdGVFdmVudERhdGEoKSk7dGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3JldHVybnt9fSxfZ2V0Q3JlYXRlRXZlbnREYXRhOm4ubm9vcCxfY3JlYXRlOm4ubm9vcCxfaW5pdDpuLm5vb3AsZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fZGVzdHJveSgpO24uZWFjaCh0aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwLGZ1bmN0aW9uKG4saSl7dC5fcmVtb3ZlQ2xhc3MoaSxuKX0pO3RoaXMuZWxlbWVudC5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldEZ1bGxOYW1lKTt0aGlzLndpZGdldCgpLm9mZih0aGlzLmV2ZW50TmFtZXNwYWNlKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIik7dGhpcy5iaW5kaW5ncy5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSl9LF9kZXN0cm95Om4ubm9vcCx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24odCxpKXt2YXIgcix1LGYsZT10O2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBuLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZigic3RyaW5nIj09dHlwZW9mIHQpaWYoZT17fSxyPXQuc3BsaXQoIi4iKSx0PXIuc2hpZnQoKSxyLmxlbmd0aCl7Zm9yKHU9ZVt0XT1uLndpZGdldC5leHRlbmQoe30sdGhpcy5vcHRpb25zW3RdKSxmPTA7ci5sZW5ndGgtMT5mO2YrKyl1W3JbZl1dPXVbcltmXV18fHt9LHU9dVtyW2ZdXTtpZih0PXIucG9wKCksMT09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgMD09PXVbdF0/bnVsbDp1W3RdO3VbdF09aX1lbHNle2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT10aGlzLm9wdGlvbnNbdF0/bnVsbDp0aGlzLm9wdGlvbnNbdF07ZVt0XT1pfXJldHVybiB0aGlzLl9zZXRPcHRpb25zKGUpLHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKG4pe2Zvcih2YXIgdCBpbiBuKXRoaXMuX3NldE9wdGlvbih0LG5bdF0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7cmV0dXJuImNsYXNzZXMiPT09biYmdGhpcy5fc2V0T3B0aW9uQ2xhc3Nlcyh0KSx0aGlzLm9wdGlvbnNbbl09dCwiZGlzYWJsZWQiPT09biYmdGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQodCksdGhpc30sX3NldE9wdGlvbkNsYXNzZXM6ZnVuY3Rpb24odCl7dmFyIGksdSxyO2ZvcihpIGluIHQpcj10aGlzLmNsYXNzZXNFbGVtZW50TG9va3VwW2ldLHRbaV0hPT10aGlzLm9wdGlvbnMuY2xhc3Nlc1tpXSYmciYmci5sZW5ndGgmJih1PW4oci5nZXQoKSksdGhpcy5fcmVtb3ZlQ2xhc3MocixpKSx1LmFkZENsYXNzKHRoaXMuX2NsYXNzZXMoe2VsZW1lbnQ6dSxrZXlzOmksY2xhc3Nlczp0LGFkZDohMH0pKSl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbihuKXt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLndpZGdldCgpLHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCIsbnVsbCwhIW4pO24mJih0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhvdmVyYWJsZSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpLHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuZm9jdXNhYmxlLG51bGwsInVpLXN0YXRlLWZvY3VzIikpfSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9ucyh7ZGlzYWJsZWQ6ITF9KX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDohMH0pfSxfY2xhc3NlczpmdW5jdGlvbih0KXtmdW5jdGlvbiByKHIsZil7Zm9yKHZhciBvLGU9MDtyLmxlbmd0aD5lO2UrKylvPXUuY2xhc3Nlc0VsZW1lbnRMb29rdXBbcltlXV18fG4oKSxvPXQuYWRkP24obi51bmlxdWUoby5nZXQoKS5jb25jYXQodC5lbGVtZW50LmdldCgpKSkpOm4oby5ub3QodC5lbGVtZW50KS5nZXQoKSksdS5jbGFzc2VzRWxlbWVudExvb2t1cFtyW2VdXT1vLGkucHVzaChyW2VdKSxmJiZ0LmNsYXNzZXNbcltlXV0mJmkucHVzaCh0LmNsYXNzZXNbcltlXV0pfXZhciBpPVtdLHU9dGhpcztyZXR1cm4gdD1uLmV4dGVuZCh7ZWxlbWVudDp0aGlzLmVsZW1lbnQsY2xhc3Nlczp0aGlzLm9wdGlvbnMuY2xhc3Nlc3x8e319LHQpLHRoaXMuX29uKHQuZWxlbWVudCx7cmVtb3ZlOiJfdW50cmFja0NsYXNzZXNFbGVtZW50In0pLHQua2V5cyYmcih0LmtleXMubWF0Y2goL1xTKy9nKXx8W10sITApLHQuZXh0cmEmJnIodC5leHRyYS5tYXRjaCgvXFMrL2cpfHxbXSksaS5qb2luKCIgIil9LF91bnRyYWNrQ2xhc3Nlc0VsZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztuLmVhY2goaS5jbGFzc2VzRWxlbWVudExvb2t1cCxmdW5jdGlvbihyLHUpey0xIT09bi5pbkFycmF5KHQudGFyZ2V0LHUpJiYoaS5jbGFzc2VzRWxlbWVudExvb2t1cFtyXT1uKHUubm90KHQudGFyZ2V0KS5nZXQoKSkpfSl9LF9yZW1vdmVDbGFzczpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHRoaXMuX3RvZ2dsZUNsYXNzKG4sdCxpLCExKX0sX2FkZENsYXNzOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gdGhpcy5fdG9nZ2xlQ2xhc3Mobix0LGksITApfSxfdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24obix0LGkscil7cj0iYm9vbGVhbiI9PXR5cGVvZiByP3I6aTt2YXIgdT0ic3RyaW5nIj09dHlwZW9mIG58fG51bGw9PT1uLGY9e2V4dHJhOnU/dDppLGtleXM6dT9uOnQsZWxlbWVudDp1P3RoaXMuZWxlbWVudDpuLGFkZDpyfTtyZXR1cm4gZi5lbGVtZW50LnRvZ2dsZUNsYXNzKHRoaXMuX2NsYXNzZXMoZiksciksdGhpc30sX29uOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZix1PXRoaXM7ImJvb2xlYW4iIT10eXBlb2YgdCYmKHI9aSxpPXQsdD0hMSk7cj8oaT1mPW4oaSksdGhpcy5iaW5kaW5ncz10aGlzLmJpbmRpbmdzLmFkZChpKSk6KHI9aSxpPXRoaXMuZWxlbWVudCxmPXRoaXMud2lkZ2V0KCkpO24uZWFjaChyLGZ1bmN0aW9uKHIsZSl7ZnVuY3Rpb24gbygpe2lmKHR8fHUub3B0aW9ucy5kaXNhYmxlZCE9PSEwJiYhbih0aGlzKS5oYXNDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSlyZXR1cm4oInN0cmluZyI9PXR5cGVvZiBlP3VbZV06ZSkuYXBwbHkodSxhcmd1bWVudHMpfSJzdHJpbmciIT10eXBlb2YgZSYmKG8uZ3VpZD1lLmd1aWQ9ZS5ndWlkfHxvLmd1aWR8fG4uZ3VpZCsrKTt2YXIgcz1yLm1hdGNoKC9eKFtcdzotXSopXHMqKC4qKSQvKSxoPXNbMV0rdS5ldmVudE5hbWVzcGFjZSxjPXNbMl07Yz9mLm9uKGgsYyxvKTppLm9uKGgsbyl9KX0sX29mZjpmdW5jdGlvbih0LGkpe2k9KGl8fCIiKS5zcGxpdCgiICIpLmpvaW4odGhpcy5ldmVudE5hbWVzcGFjZSsiICIpK3RoaXMuZXZlbnROYW1lc3BhY2U7dC5vZmYoaSkub2ZmKGkpO3RoaXMuYmluZGluZ3M9bih0aGlzLmJpbmRpbmdzLm5vdCh0KS5nZXQoKSk7dGhpcy5mb2N1c2FibGU9bih0aGlzLmZvY3VzYWJsZS5ub3QodCkuZ2V0KCkpO3RoaXMuaG92ZXJhYmxlPW4odGhpcy5ob3ZlcmFibGUubm90KHQpLmdldCgpKX0sX2RlbGF5OmZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gcigpe3JldHVybigic3RyaW5nIj09dHlwZW9mIG4/aVtuXTpuKS5hcHBseShpLGFyZ3VtZW50cyl9dmFyIGk9dGhpcztyZXR1cm4gc2V0VGltZW91dChyLHR8fDApfSxfaG92ZXJhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuaG92ZXJhYmxlPXRoaXMuaG92ZXJhYmxlLmFkZCh0KTt0aGlzLl9vbih0LHttb3VzZWVudGVyOmZ1bmN0aW9uKHQpe3RoaXMuX2FkZENsYXNzKG4odC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpfSxtb3VzZWxlYXZlOmZ1bmN0aW9uKHQpe3RoaXMuX3JlbW92ZUNsYXNzKG4odC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpfX0pfSxfZm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3RoaXMuZm9jdXNhYmxlPXRoaXMuZm9jdXNhYmxlLmFkZCh0KTt0aGlzLl9vbih0LHtmb2N1c2luOmZ1bmN0aW9uKHQpe3RoaXMuX2FkZENsYXNzKG4odC5jdXJyZW50VGFyZ2V0KSxudWxsLCJ1aS1zdGF0ZS1mb2N1cyIpfSxmb2N1c291dDpmdW5jdGlvbih0KXt0aGlzLl9yZW1vdmVDbGFzcyhuKHQuY3VycmVudFRhcmdldCksbnVsbCwidWktc3RhdGUtZm9jdXMiKX19KX0sX3RyaWdnZXI6ZnVuY3Rpb24odCxpLHIpe3ZhciB1LGYsZT10aGlzLm9wdGlvbnNbdF07aWYocj1yfHx7fSxpPW4uRXZlbnQoaSksaS50eXBlPSh0PT09dGhpcy53aWRnZXRFdmVudFByZWZpeD90OnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrdCkudG9Mb3dlckNhc2UoKSxpLnRhcmdldD10aGlzLmVsZW1lbnRbMF0sZj1pLm9yaWdpbmFsRXZlbnQpZm9yKHUgaW4gZil1IGluIGl8fChpW3VdPWZbdV0pO3JldHVybiB0aGlzLmVsZW1lbnQudHJpZ2dlcihpLHIpLCEobi5pc0Z1bmN0aW9uKGUpJiZlLmFwcGx5KHRoaXMuZWxlbWVudFswXSxbaV0uY29uY2F0KHIpKT09PSExfHxpLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19O24uZWFjaCh7c2hvdzoiZmFkZUluIixoaWRlOiJmYWRlT3V0In0sZnVuY3Rpb24odCxpKXtuLldpZGdldC5wcm90b3R5cGVbIl8iK3RdPWZ1bmN0aW9uKHIsdSxmKXsic3RyaW5nIj09dHlwZW9mIHUmJih1PXtlZmZlY3Q6dX0pO3ZhciBvLGU9dT91PT09ITB8fCJudW1iZXIiPT10eXBlb2YgdT9pOnUuZWZmZWN0fHxpOnQ7dT11fHx7fTsibnVtYmVyIj09dHlwZW9mIHUmJih1PXtkdXJhdGlvbjp1fSk7bz0hbi5pc0VtcHR5T2JqZWN0KHUpO3UuY29tcGxldGU9Zjt1LmRlbGF5JiZyLmRlbGF5KHUuZGVsYXkpO28mJm4uZWZmZWN0cyYmbi5lZmZlY3RzLmVmZmVjdFtlXT9yW3RdKHUpOmUhPT10JiZyW2VdP3JbZV0odS5kdXJhdGlvbix1LmVhc2luZyxmKTpyLnF1ZXVlKGZ1bmN0aW9uKGkpe24odGhpcylbdF0oKTtmJiZmLmNhbGwoclswXSk7aSgpfSl9fSk7bi53aWRnZXQsZnVuY3Rpb24oKXtmdW5jdGlvbiBmKG4sdCxpKXtyZXR1cm5bcGFyc2VGbG9hdChuWzBdKSooYy50ZXN0KG5bMF0pP3QvMTAwOjEpLHBhcnNlRmxvYXQoblsxXSkqKGMudGVzdChuWzFdKT9pLzEwMDoxKV19ZnVuY3Rpb24gaSh0LGkpe3JldHVybiBwYXJzZUludChuLmNzcyh0LGkpLDEwKXx8MH1mdW5jdGlvbiBsKHQpe3ZhciBpPXRbMF07cmV0dXJuIDk9PT1pLm5vZGVUeXBlP3t3aWR0aDp0LndpZHRoKCksaGVpZ2h0OnQuaGVpZ2h0KCksb2Zmc2V0Ont0b3A6MCxsZWZ0OjB9fTpuLmlzV2luZG93KGkpP3t3aWR0aDp0LndpZHRoKCksaGVpZ2h0OnQuaGVpZ2h0KCksb2Zmc2V0Ont0b3A6dC5zY3JvbGxUb3AoKSxsZWZ0OnQuc2Nyb2xsTGVmdCgpfX06aS5wcmV2ZW50RGVmYXVsdD97d2lkdGg6MCxoZWlnaHQ6MCxvZmZzZXQ6e3RvcDppLnBhZ2VZLGxlZnQ6aS5wYWdlWH19Ont3aWR0aDp0Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dC5vdXRlckhlaWdodCgpLG9mZnNldDp0Lm9mZnNldCgpfX12YXIgdSxyPU1hdGgubWF4LHQ9TWF0aC5hYnMsZT0vbGVmdHxjZW50ZXJ8cmlnaHQvLG89L3RvcHxjZW50ZXJ8Ym90dG9tLyxzPS9bXCtcLV1cZCsoXC5bXGRdKyk/JT8vLGg9L15cdysvLGM9LyUkLyxhPW4uZm4ucG9zaXRpb247bi5wb3NpdGlvbj17c2Nyb2xsYmFyV2lkdGg6ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT11KXJldHVybiB1O3ZhciByLGksdD1uKCI8ZGl2IHN0eWxlPSdkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7b3ZlcmZsb3c6aGlkZGVuOyc+PGRpdiBzdHlsZT0naGVpZ2h0OjEwMHB4O3dpZHRoOmF1dG87Jz48XC9kaXY+PFwvZGl2PiIpLGY9dC5jaGlsZHJlbigpWzBdO3JldHVybiBuKCJib2R5IikuYXBwZW5kKHQpLHI9Zi5vZmZzZXRXaWR0aCx0LmNzcygib3ZlcmZsb3ciLCJzY3JvbGwiKSxpPWYub2Zmc2V0V2lkdGgscj09PWkmJihpPXRbMF0uY2xpZW50V2lkdGgpLHQucmVtb3ZlKCksdT1yLWl9LGdldFNjcm9sbEluZm86ZnVuY3Rpb24odCl7dmFyIGk9dC5pc1dpbmRvd3x8dC5pc0RvY3VtZW50PyIiOnQuZWxlbWVudC5jc3MoIm92ZXJmbG93LXgiKSxyPXQuaXNXaW5kb3d8fHQuaXNEb2N1bWVudD8iIjp0LmVsZW1lbnQuY3NzKCJvdmVyZmxvdy15IiksdT0ic2Nyb2xsIj09PWl8fCJhdXRvIj09PWkmJnQud2lkdGg8dC5lbGVtZW50WzBdLnNjcm9sbFdpZHRoLGY9InNjcm9sbCI9PT1yfHwiYXV0byI9PT1yJiZ0LmhlaWdodDx0LmVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0O3JldHVybnt3aWR0aDpmP24ucG9zaXRpb24uc2Nyb2xsYmFyV2lkdGgoKTowLGhlaWdodDp1P24ucG9zaXRpb24uc2Nyb2xsYmFyV2lkdGgoKTowfX0sZ2V0V2l0aGluSW5mbzpmdW5jdGlvbih0KXt2YXIgaT1uKHR8fHdpbmRvdykscj1uLmlzV2luZG93KGlbMF0pLHU9ISFpWzBdJiY5PT09aVswXS5ub2RlVHlwZSxmPSFyJiYhdTtyZXR1cm57ZWxlbWVudDppLGlzV2luZG93OnIsaXNEb2N1bWVudDp1LG9mZnNldDpmP24odCkub2Zmc2V0KCk6e2xlZnQ6MCx0b3A6MH0sc2Nyb2xsTGVmdDppLnNjcm9sbExlZnQoKSxzY3JvbGxUb3A6aS5zY3JvbGxUb3AoKSx3aWR0aDppLm91dGVyV2lkdGgoKSxoZWlnaHQ6aS5vdXRlckhlaWdodCgpfX19O24uZm4ucG9zaXRpb249ZnVuY3Rpb24odSl7aWYoIXV8fCF1Lm9mKXJldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt1PW4uZXh0ZW5kKHt9LHUpO3ZhciB3LGMsdixwLHksayxkPW4odS5vZiksbnQ9bi5wb3NpdGlvbi5nZXRXaXRoaW5JbmZvKHUud2l0aGluKSx0dD1uLnBvc2l0aW9uLmdldFNjcm9sbEluZm8obnQpLGI9KHUuY29sbGlzaW9ufHwiZmxpcCIpLnNwbGl0KCIgIiksZz17fTtyZXR1cm4gaz1sKGQpLGRbMF0ucHJldmVudERlZmF1bHQmJih1LmF0PSJsZWZ0IHRvcCIpLGM9ay53aWR0aCx2PWsuaGVpZ2h0LHA9ay5vZmZzZXQseT1uLmV4dGVuZCh7fSxwKSxuLmVhY2goWyJteSIsImF0Il0sZnVuY3Rpb24oKXt2YXIgdCxpLG49KHVbdGhpc118fCIiKS5zcGxpdCgiICIpOzE9PT1uLmxlbmd0aCYmKG49ZS50ZXN0KG5bMF0pP24uY29uY2F0KFsiY2VudGVyIl0pOm8udGVzdChuWzBdKT9bImNlbnRlciJdLmNvbmNhdChuKTpbImNlbnRlciIsImNlbnRlciJdKTtuWzBdPWUudGVzdChuWzBdKT9uWzBdOiJjZW50ZXIiO25bMV09by50ZXN0KG5bMV0pP25bMV06ImNlbnRlciI7dD1zLmV4ZWMoblswXSk7aT1zLmV4ZWMoblsxXSk7Z1t0aGlzXT1bdD90WzBdOjAsaT9pWzBdOjBdO3VbdGhpc109W2guZXhlYyhuWzBdKVswXSxoLmV4ZWMoblsxXSlbMF1dfSksMT09PWIubGVuZ3RoJiYoYlsxXT1iWzBdKSwicmlnaHQiPT09dS5hdFswXT95LmxlZnQrPWM6ImNlbnRlciI9PT11LmF0WzBdJiYoeS5sZWZ0Kz1jLzIpLCJib3R0b20iPT09dS5hdFsxXT95LnRvcCs9djoiY2VudGVyIj09PXUuYXRbMV0mJih5LnRvcCs9di8yKSx3PWYoZy5hdCxjLHYpLHkubGVmdCs9d1swXSx5LnRvcCs9d1sxXSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYSxrLG89bih0aGlzKSxzPW8ub3V0ZXJXaWR0aCgpLGg9by5vdXRlckhlaWdodCgpLGl0PWkodGhpcywibWFyZ2luTGVmdCIpLHJ0PWkodGhpcywibWFyZ2luVG9wIiksdXQ9cytpdCtpKHRoaXMsIm1hcmdpblJpZ2h0IikrdHQud2lkdGgsZnQ9aCtydCtpKHRoaXMsIm1hcmdpbkJvdHRvbSIpK3R0LmhlaWdodCxlPW4uZXh0ZW5kKHt9LHkpLGw9ZihnLm15LG8ub3V0ZXJXaWR0aCgpLG8ub3V0ZXJIZWlnaHQoKSk7InJpZ2h0Ij09PXUubXlbMF0/ZS5sZWZ0LT1zOiJjZW50ZXIiPT09dS5teVswXSYmKGUubGVmdC09cy8yKTsiYm90dG9tIj09PXUubXlbMV0/ZS50b3AtPWg6ImNlbnRlciI9PT11Lm15WzFdJiYoZS50b3AtPWgvMik7ZS5sZWZ0Kz1sWzBdO2UudG9wKz1sWzFdO2E9e21hcmdpbkxlZnQ6aXQsbWFyZ2luVG9wOnJ0fTtuLmVhY2goWyJsZWZ0IiwidG9wIl0sZnVuY3Rpb24odCxpKXtuLnVpLnBvc2l0aW9uW2JbdF1dJiZuLnVpLnBvc2l0aW9uW2JbdF1dW2ldKGUse3RhcmdldFdpZHRoOmMsdGFyZ2V0SGVpZ2h0OnYsZWxlbVdpZHRoOnMsZWxlbUhlaWdodDpoLGNvbGxpc2lvblBvc2l0aW9uOmEsY29sbGlzaW9uV2lkdGg6dXQsY29sbGlzaW9uSGVpZ2h0OmZ0LG9mZnNldDpbd1swXStsWzBdLHdbMV0rbFsxXV0sbXk6dS5teSxhdDp1LmF0LHdpdGhpbjpudCxlbGVtOm99KX0pO3UudXNpbmcmJihrPWZ1bmN0aW9uKG4pe3ZhciBpPXAubGVmdC1lLmxlZnQsYT1pK2MtcyxmPXAudG9wLWUudG9wLHk9Zit2LWgsbD17dGFyZ2V0OntlbGVtZW50OmQsbGVmdDpwLmxlZnQsdG9wOnAudG9wLHdpZHRoOmMsaGVpZ2h0OnZ9LGVsZW1lbnQ6e2VsZW1lbnQ6byxsZWZ0OmUubGVmdCx0b3A6ZS50b3Asd2lkdGg6cyxoZWlnaHQ6aH0saG9yaXpvbnRhbDowPmE/ImxlZnQiOmk+MD8icmlnaHQiOiJjZW50ZXIiLHZlcnRpY2FsOjA+eT8idG9wIjpmPjA/ImJvdHRvbSI6Im1pZGRsZSJ9O3M+YyYmYz50KGkrYSkmJihsLmhvcml6b250YWw9ImNlbnRlciIpO2g+diYmdj50KGYreSkmJihsLnZlcnRpY2FsPSJtaWRkbGUiKTtsLmltcG9ydGFudD1yKHQoaSksdChhKSk+cih0KGYpLHQoeSkpPyJob3Jpem9udGFsIjoidmVydGljYWwiO3UudXNpbmcuY2FsbCh0aGlzLG4sbCl9KTtvLm9mZnNldChuLmV4dGVuZChlLHt1c2luZzprfSkpfSl9O24udWkucG9zaXRpb249e2ZpdDp7bGVmdDpmdW5jdGlvbihuLHQpe3ZhciBoLGU9dC53aXRoaW4sdT1lLmlzV2luZG93P2Uuc2Nyb2xsTGVmdDplLm9mZnNldC5sZWZ0LG89ZS53aWR0aCxzPW4ubGVmdC10LmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQsaT11LXMsZj1zK3QuY29sbGlzaW9uV2lkdGgtby11O3QuY29sbGlzaW9uV2lkdGg+bz9pPjAmJjA+PWY/KGg9bi5sZWZ0K2krdC5jb2xsaXNpb25XaWR0aC1vLXUsbi5sZWZ0Kz1pLWgpOm4ubGVmdD1mPjAmJjA+PWk/dTppPmY/dStvLXQuY29sbGlzaW9uV2lkdGg6dTppPjA/bi5sZWZ0Kz1pOmY+MD9uLmxlZnQtPWY6bi5sZWZ0PXIobi5sZWZ0LXMsbi5sZWZ0KX0sdG9wOmZ1bmN0aW9uKG4sdCl7dmFyIGgsbz10LndpdGhpbix1PW8uaXNXaW5kb3c/by5zY3JvbGxUb3A6by5vZmZzZXQudG9wLGU9dC53aXRoaW4uaGVpZ2h0LHM9bi50b3AtdC5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5Ub3AsaT11LXMsZj1zK3QuY29sbGlzaW9uSGVpZ2h0LWUtdTt0LmNvbGxpc2lvbkhlaWdodD5lP2k+MCYmMD49Zj8oaD1uLnRvcCtpK3QuY29sbGlzaW9uSGVpZ2h0LWUtdSxuLnRvcCs9aS1oKTpuLnRvcD1mPjAmJjA+PWk/dTppPmY/dStlLXQuY29sbGlzaW9uSGVpZ2h0OnU6aT4wP24udG9wKz1pOmY+MD9uLnRvcC09ZjpuLnRvcD1yKG4udG9wLXMsbi50b3ApfX0sZmxpcDp7bGVmdDpmdW5jdGlvbihuLGkpe3ZhciBvLHMscj1pLndpdGhpbix5PXIub2Zmc2V0LmxlZnQrci5zY3JvbGxMZWZ0LGM9ci53aWR0aCxoPXIuaXNXaW5kb3c/ci5zY3JvbGxMZWZ0OnIub2Zmc2V0LmxlZnQsbD1uLmxlZnQtaS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5MZWZ0LGE9bC1oLHY9bCtpLmNvbGxpc2lvbldpZHRoLWMtaCx1PSJsZWZ0Ij09PWkubXlbMF0/LWkuZWxlbVdpZHRoOiJyaWdodCI9PT1pLm15WzBdP2kuZWxlbVdpZHRoOjAsZj0ibGVmdCI9PT1pLmF0WzBdP2kudGFyZ2V0V2lkdGg6InJpZ2h0Ij09PWkuYXRbMF0/LWkudGFyZ2V0V2lkdGg6MCxlPS0yKmkub2Zmc2V0WzBdOzA+YT8obz1uLmxlZnQrdStmK2UraS5jb2xsaXNpb25XaWR0aC1jLXksKDA+b3x8dChhKT5vKSYmKG4ubGVmdCs9dStmK2UpKTp2PjAmJihzPW4ubGVmdC1pLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpbkxlZnQrdStmK2UtaCwocz4wfHx2PnQocykpJiYobi5sZWZ0Kz11K2YrZSkpfSx0b3A6ZnVuY3Rpb24obixpKXt2YXIgbyxzLHI9aS53aXRoaW4seT1yLm9mZnNldC50b3Arci5zY3JvbGxUb3AsYz1yLmhlaWdodCxoPXIuaXNXaW5kb3c/ci5zY3JvbGxUb3A6ci5vZmZzZXQudG9wLGw9bi50b3AtaS5jb2xsaXNpb25Qb3NpdGlvbi5tYXJnaW5Ub3AsYT1sLWgsdj1sK2kuY29sbGlzaW9uSGVpZ2h0LWMtaCxwPSJ0b3AiPT09aS5teVsxXSx1PXA/LWkuZWxlbUhlaWdodDoiYm90dG9tIj09PWkubXlbMV0/aS5lbGVtSGVpZ2h0OjAsZj0idG9wIj09PWkuYXRbMV0/aS50YXJnZXRIZWlnaHQ6ImJvdHRvbSI9PT1pLmF0WzFdPy1pLnRhcmdldEhlaWdodDowLGU9LTIqaS5vZmZzZXRbMV07MD5hPyhzPW4udG9wK3UrZitlK2kuY29sbGlzaW9uSGVpZ2h0LWMteSwoMD5zfHx0KGEpPnMpJiYobi50b3ArPXUrZitlKSk6dj4wJiYobz1uLnRvcC1pLmNvbGxpc2lvblBvc2l0aW9uLm1hcmdpblRvcCt1K2YrZS1oLChvPjB8fHY+dChvKSkmJihuLnRvcCs9dStmK2UpKX19LGZsaXBmaXQ6e2xlZnQ6ZnVuY3Rpb24oKXtuLnVpLnBvc2l0aW9uLmZsaXAubGVmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7bi51aS5wb3NpdGlvbi5maXQubGVmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRvcDpmdW5jdGlvbigpe24udWkucG9zaXRpb24uZmxpcC50b3AuYXBwbHkodGhpcyxhcmd1bWVudHMpO24udWkucG9zaXRpb24uZml0LnRvcC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX19KCk7bi51aS5wb3NpdGlvbjtuLmV4dGVuZChuLmV4cHJbIjoiXSx7ZGF0YTpuLmV4cHIuY3JlYXRlUHNldWRvP24uZXhwci5jcmVhdGVQc2V1ZG8oZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiEhbi5kYXRhKGksdCl9fSk6ZnVuY3Rpb24odCxpLHIpe3JldHVybiEhbi5kYXRhKHQsclszXSl9fSk7bi5mbi5leHRlbmQoe2Rpc2FibGVTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgbj0ib25zZWxlY3RzdGFydCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKT8ic2VsZWN0c3RhcnQiOiJtb3VzZWRvd24iO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLm9uKG4rIi51aS1kaXNhYmxlU2VsZWN0aW9uIixmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCl9KX19KCksZW5hYmxlU2VsZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2ZmKCIudWktZGlzYWJsZVNlbGVjdGlvbiIpfX0pO3ZhciBmPSJ1aS1lZmZlY3RzLSIscz0idWktZWZmZWN0cy1zdHlsZSIsaD0idWktZWZmZWN0cy1hbmltYXRlZCIseT1uO24uZWZmZWN0cz17ZWZmZWN0Ont9fSxmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGYobix0LGkpe3ZhciByPWhbdC50eXBlXXx8e307cmV0dXJuIG51bGw9PW4/aXx8IXQuZGVmP251bGw6dC5kZWY6KG49ci5mbG9vcj9+fm46cGFyc2VGbG9hdChuKSxpc05hTihuKT90LmRlZjpyLm1vZD8obityLm1vZCklci5tb2Q6MD5uPzA6bj5yLm1heD9yLm1heDpuKX1mdW5jdGlvbiBzKGYpe3ZhciBvPWkoKSxzPW8uX3JnYmE9W107cmV0dXJuIGY9Zi50b0xvd2VyQ2FzZSgpLHIodixmdW5jdGlvbihuLGkpe3ZhciByLGg9aS5yZS5leGVjKGYpLGM9aCYmaS5wYXJzZShoKSxlPWkuc3BhY2V8fCJyZ2JhIjtyZXR1cm4gYz8ocj1vW2VdKGMpLG9bdVtlXS5jYWNoZV09clt1W2VdLmNhY2hlXSxzPW8uX3JnYmE9ci5fcmdiYSwhMSk6dH0pLHMubGVuZ3RoPygiMCwwLDAsMCI9PT1zLmpvaW4oKSYmbi5leHRlbmQocyxlLnRyYW5zcGFyZW50KSxvKTplW2ZdfWZ1bmN0aW9uIG8obix0LGkpe3JldHVybiBpPShpKzEpJTEsMT42Kmk/bis2Kih0LW4pKmk6MT4yKmk/dDoyPjMqaT9uKzYqKHQtbikqKDIvMy1pKTpufXZhciBlLGE9L14oW1wtK10pPVxzKihcZCtcLj9cZCopLyx2PVt7cmU6L3JnYmE/XChccyooXGR7MSwzfSlccyosXHMqKFxkezEsM30pXHMqLFxzKihcZHsxLDN9KVxzKig/OixccyooXGQ/KD86XC5cZCspPylccyopP1wpLyxwYXJzZTpmdW5jdGlvbihuKXtyZXR1cm5bblsxXSxuWzJdLG5bM10sbls0XV19fSx7cmU6L3JnYmE/XChccyooXGQrKD86XC5cZCspPylcJVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKixccyooXGQrKD86XC5cZCspPylcJVxzKig/OixccyooXGQ/KD86XC5cZCspPylccyopP1wpLyxwYXJzZTpmdW5jdGlvbihuKXtyZXR1cm5bMi41NSpuWzFdLDIuNTUqblsyXSwyLjU1Km5bM10sbls0XV19fSx7cmU6LyMoW2EtZjAtOV17Mn0pKFthLWYwLTldezJ9KShbYS1mMC05XXsyfSkvLHBhcnNlOmZ1bmN0aW9uKG4pe3JldHVybltwYXJzZUludChuWzFdLDE2KSxwYXJzZUludChuWzJdLDE2KSxwYXJzZUludChuWzNdLDE2KV19fSx7cmU6LyMoW2EtZjAtOV0pKFthLWYwLTldKShbYS1mMC05XSkvLHBhcnNlOmZ1bmN0aW9uKG4pe3JldHVybltwYXJzZUludChuWzFdK25bMV0sMTYpLHBhcnNlSW50KG5bMl0rblsyXSwxNikscGFyc2VJbnQoblszXStuWzNdLDE2KV19fSx7cmU6L2hzbGE/XChccyooXGQrKD86XC5cZCspPylccyosXHMqKFxkKyg/OlwuXGQrKT8pXCVccyosXHMqKFxkKyg/OlwuXGQrKT8pXCVccyooPzosXHMqKFxkPyg/OlwuXGQrKT8pXHMqKT9cKS8sc3BhY2U6ImhzbGEiLHBhcnNlOmZ1bmN0aW9uKG4pe3JldHVybltuWzFdLG5bMl0vMTAwLG5bM10vMTAwLG5bNF1dfX1dLGk9bi5Db2xvcj1mdW5jdGlvbih0LGkscix1KXtyZXR1cm4gbmV3IG4uQ29sb3IuZm4ucGFyc2UodCxpLHIsdSl9LHU9e3JnYmE6e3Byb3BzOntyZWQ6e2lkeDowLHR5cGU6ImJ5dGUifSxncmVlbjp7aWR4OjEsdHlwZToiYnl0ZSJ9LGJsdWU6e2lkeDoyLHR5cGU6ImJ5dGUifX19LGhzbGE6e3Byb3BzOntodWU6e2lkeDowLHR5cGU6ImRlZ3JlZXMifSxzYXR1cmF0aW9uOntpZHg6MSx0eXBlOiJwZXJjZW50In0sbGlnaHRuZXNzOntpZHg6Mix0eXBlOiJwZXJjZW50In19fX0saD17Ynl0ZTp7Zmxvb3I6ITAsbWF4OjI1NX0scGVyY2VudDp7bWF4OjF9LGRlZ3JlZXM6e21vZDozNjAsZmxvb3I6ITB9fSxjPWkuc3VwcG9ydD17fSxsPW4oIjxwPiIpWzBdLHI9bi5lYWNoO2wuc3R5bGUuY3NzVGV4dD0iYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDEsMSwxLC41KSI7Yy5yZ2JhPWwuc3R5bGUuYmFja2dyb3VuZENvbG9yLmluZGV4T2YoInJnYmEiKT4tMTtyKHUsZnVuY3Rpb24obix0KXt0LmNhY2hlPSJfIituO3QucHJvcHMuYWxwaGE9e2lkeDozLHR5cGU6InBlcmNlbnQiLGRlZjoxfX0pO2kuZm49bi5leHRlbmQoaS5wcm90b3R5cGUse3BhcnNlOmZ1bmN0aW9uKG8saCxjLGwpe2lmKG89PT10KXJldHVybiB0aGlzLl9yZ2JhPVtudWxsLG51bGwsbnVsbCxudWxsXSx0aGlzOyhvLmpxdWVyeXx8by5ub2RlVHlwZSkmJihvPW4obykuY3NzKGgpLGg9dCk7dmFyIGE9dGhpcyx2PW4udHlwZShvKSx5PXRoaXMuX3JnYmE9W107cmV0dXJuIGghPT10JiYobz1bbyxoLGMsbF0sdj0iYXJyYXkiKSwic3RyaW5nIj09PXY/dGhpcy5wYXJzZShzKG8pfHxlLl9kZWZhdWx0KToiYXJyYXkiPT09dj8ocih1LnJnYmEucHJvcHMsZnVuY3Rpb24obix0KXt5W3QuaWR4XT1mKG9bdC5pZHhdLHQpfSksdGhpcyk6Im9iamVjdCI9PT12PyhvIGluc3RhbmNlb2YgaT9yKHUsZnVuY3Rpb24obix0KXtvW3QuY2FjaGVdJiYoYVt0LmNhY2hlXT1vW3QuY2FjaGVdLnNsaWNlKCkpfSk6cih1LGZ1bmN0aW9uKHQsaSl7dmFyIHU9aS5jYWNoZTtyKGkucHJvcHMsZnVuY3Rpb24obix0KXtpZighYVt1XSYmaS50byl7aWYoImFscGhhIj09PW58fG51bGw9PW9bbl0pcmV0dXJuO2FbdV09aS50byhhLl9yZ2JhKX1hW3VdW3QuaWR4XT1mKG9bbl0sdCwhMCl9KTthW3VdJiYwPm4uaW5BcnJheShudWxsLGFbdV0uc2xpY2UoMCwzKSkmJihhW3VdWzNdPTEsaS5mcm9tJiYoYS5fcmdiYT1pLmZyb20oYVt1XSkpKX0pLHRoaXMpOnR9LGlzOmZ1bmN0aW9uKG4pe3ZhciBvPWkobiksZj0hMCxlPXRoaXM7cmV0dXJuIHIodSxmdW5jdGlvbihuLGkpe3ZhciBzLHU9b1tpLmNhY2hlXTtyZXR1cm4gdSYmKHM9ZVtpLmNhY2hlXXx8aS50byYmaS50byhlLl9yZ2JhKXx8W10scihpLnByb3BzLGZ1bmN0aW9uKG4saSl7cmV0dXJuIG51bGwhPXVbaS5pZHhdP2Y9dVtpLmlkeF09PT1zW2kuaWR4XTp0fSkpLGZ9KSxmfSxfc3BhY2U6ZnVuY3Rpb24oKXt2YXIgbj1bXSx0PXRoaXM7cmV0dXJuIHIodSxmdW5jdGlvbihpLHIpe3Rbci5jYWNoZV0mJm4ucHVzaChpKX0pLG4ucG9wKCl9LHRyYW5zaXRpb246ZnVuY3Rpb24obix0KXt2YXIgZT1pKG4pLGM9ZS5fc3BhY2UoKSxvPXVbY10sbD0wPT09dGhpcy5hbHBoYSgpP2koInRyYW5zcGFyZW50Iik6dGhpcyxhPWxbby5jYWNoZV18fG8udG8obC5fcmdiYSkscz1hLnNsaWNlKCk7cmV0dXJuIGU9ZVtvLmNhY2hlXSxyKG8ucHJvcHMsZnVuY3Rpb24obixpKXt2YXIgYz1pLmlkeCxyPWFbY10sdT1lW2NdLG89aFtpLnR5cGVdfHx7fTtudWxsIT09dSYmKG51bGw9PT1yP3NbY109dTooby5tb2QmJih1LXI+by5tb2QvMj9yKz1vLm1vZDpyLXU+by5tb2QvMiYmKHItPW8ubW9kKSksc1tjXT1mKCh1LXIpKnQrcixpKSkpfSksdGhpc1tjXShzKX0sYmxlbmQ6ZnVuY3Rpb24odCl7aWYoMT09PXRoaXMuX3JnYmFbM10pcmV0dXJuIHRoaXM7dmFyIHI9dGhpcy5fcmdiYS5zbGljZSgpLHU9ci5wb3AoKSxmPWkodCkuX3JnYmE7cmV0dXJuIGkobi5tYXAocixmdW5jdGlvbihuLHQpe3JldHVybigxLXUpKmZbdF0rdSpufSkpfSx0b1JnYmFTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgaT0icmdiYSgiLHQ9bi5tYXAodGhpcy5fcmdiYSxmdW5jdGlvbihuLHQpe3JldHVybiBudWxsPT1uP3Q+Mj8xOjA6bn0pO3JldHVybiAxPT09dFszXSYmKHQucG9wKCksaT0icmdiKCIpLGkrdC5qb2luKCkrIikifSx0b0hzbGFTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgaT0iaHNsYSgiLHQ9bi5tYXAodGhpcy5oc2xhKCksZnVuY3Rpb24obix0KXtyZXR1cm4gbnVsbD09biYmKG49dD4yPzE6MCksdCYmMz50JiYobj1NYXRoLnJvdW5kKDEwMCpuKSsiJSIpLG59KTtyZXR1cm4gMT09PXRbM10mJih0LnBvcCgpLGk9ImhzbCgiKSxpK3Quam9pbigpKyIpIn0sdG9IZXhTdHJpbmc6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fcmdiYS5zbGljZSgpLHI9aS5wb3AoKTtyZXR1cm4gdCYmaS5wdXNoKH5+KDI1NSpyKSksIiMiK24ubWFwKGksZnVuY3Rpb24obil7cmV0dXJuIG49KG58fDApLnRvU3RyaW5nKDE2KSwxPT09bi5sZW5ndGg/IjAiK246bn0pLmpvaW4oIiIpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fcmdiYVszXT8idHJhbnNwYXJlbnQiOnRoaXMudG9SZ2JhU3RyaW5nKCl9fSk7aS5mbi5wYXJzZS5wcm90b3R5cGU9aS5mbjt1LmhzbGEudG89ZnVuY3Rpb24obil7aWYobnVsbD09blswXXx8bnVsbD09blsxXXx8bnVsbD09blsyXSlyZXR1cm5bbnVsbCxudWxsLG51bGwsblszXV07dmFyIHMsaCxpPW5bMF0vMjU1LHI9blsxXS8yNTUsZj1uWzJdLzI1NSxjPW5bM10sdT1NYXRoLm1heChpLHIsZiksZT1NYXRoLm1pbihpLHIsZiksdD11LWUsbz11K2UsbD0uNSpvO3JldHVybiBzPWU9PT11PzA6aT09PXU/NjAqKHItZikvdCszNjA6cj09PXU/NjAqKGYtaSkvdCsxMjA6NjAqKGktcikvdCsyNDAsaD0wPT09dD8wOi41Pj1sP3Qvbzp0LygyLW8pLFtNYXRoLnJvdW5kKHMpJTM2MCxoLGwsbnVsbD09Yz8xOmNdfTt1LmhzbGEuZnJvbT1mdW5jdGlvbihuKXtpZihudWxsPT1uWzBdfHxudWxsPT1uWzFdfHxudWxsPT1uWzJdKXJldHVybltudWxsLG51bGwsbnVsbCxuWzNdXTt2YXIgcj1uWzBdLzM2MCx1PW5bMV0sdD1uWzJdLGU9blszXSxpPS41Pj10P3QqKDErdSk6dCt1LXQqdSxmPTIqdC1pO3JldHVybltNYXRoLnJvdW5kKDI1NSpvKGYsaSxyKzEvMykpLE1hdGgucm91bmQoMjU1Km8oZixpLHIpKSxNYXRoLnJvdW5kKDI1NSpvKGYsaSxyLTEvMykpLGVdfTtyKHUsZnVuY3Rpb24odSxlKXt2YXIgcz1lLnByb3BzLG89ZS5jYWNoZSxoPWUudG8sYz1lLmZyb207aS5mblt1XT1mdW5jdGlvbih1KXtpZihoJiYhdGhpc1tvXSYmKHRoaXNbb109aCh0aGlzLl9yZ2JhKSksdT09PXQpcmV0dXJuIHRoaXNbb10uc2xpY2UoKTt2YXIgbCxhPW4udHlwZSh1KSx2PSJhcnJheSI9PT1hfHwib2JqZWN0Ij09PWE/dTphcmd1bWVudHMsZT10aGlzW29dLnNsaWNlKCk7cmV0dXJuIHIocyxmdW5jdGlvbihuLHQpe3ZhciBpPXZbIm9iamVjdCI9PT1hP246dC5pZHhdO251bGw9PWkmJihpPWVbdC5pZHhdKTtlW3QuaWR4XT1mKGksdCl9KSxjPyhsPWkoYyhlKSksbFtvXT1lLGwpOmkoZSl9O3IocyxmdW5jdGlvbih0LHIpe2kuZm5bdF18fChpLmZuW3RdPWZ1bmN0aW9uKGkpe3ZhciBmLGU9bi50eXBlKGkpLGg9ImFscGhhIj09PXQ/dGhpcy5faHNsYT8iaHNsYSI6InJnYmEiOnUsbz10aGlzW2hdKCkscz1vW3IuaWR4XTtyZXR1cm4idW5kZWZpbmVkIj09PWU/czooImZ1bmN0aW9uIj09PWUmJihpPWkuY2FsbCh0aGlzLHMpLGU9bi50eXBlKGkpKSxudWxsPT1pJiZyLmVtcHR5P3RoaXM6KCJzdHJpbmciPT09ZSYmKGY9YS5leGVjKGkpLGYmJihpPXMrcGFyc2VGbG9hdChmWzJdKSooIisiPT09ZlsxXT8xOi0xKSkpLG9bci5pZHhdPWksdGhpc1toXShvKSkpfSl9KX0pO2kuaG9vaz1mdW5jdGlvbih0KXt2YXIgdT10LnNwbGl0KCIgIik7cih1LGZ1bmN0aW9uKHQscil7bi5jc3NIb29rc1tyXT17c2V0OmZ1bmN0aW9uKHQsdSl7dmFyIG8sZixlPSIiO2lmKCJ0cmFuc3BhcmVudCIhPT11JiYoInN0cmluZyIhPT1uLnR5cGUodSl8fChvPXModSkpKSl7aWYodT1pKG98fHUpLCFjLnJnYmEmJjEhPT11Ll9yZ2JhWzNdKXtmb3IoZj0iYmFja2dyb3VuZENvbG9yIj09PXI/dC5wYXJlbnROb2RlOnQ7KCIiPT09ZXx8InRyYW5zcGFyZW50Ij09PWUpJiZmJiZmLnN0eWxlOyl0cnl7ZT1uLmNzcyhmLCJiYWNrZ3JvdW5kQ29sb3IiKTtmPWYucGFyZW50Tm9kZX1jYXRjaChoKXt9dT11LmJsZW5kKGUmJiJ0cmFuc3BhcmVudCIhPT1lP2U6Il9kZWZhdWx0Iil9dT11LnRvUmdiYVN0cmluZygpfXRyeXt0LnN0eWxlW3JdPXV9Y2F0Y2goaCl7fX19O24uZnguc3RlcFtyXT1mdW5jdGlvbih0KXt0LmNvbG9ySW5pdHx8KHQuc3RhcnQ9aSh0LmVsZW0sciksdC5lbmQ9aSh0LmVuZCksdC5jb2xvckluaXQ9ITApO24uY3NzSG9va3Nbcl0uc2V0KHQuZWxlbSx0LnN0YXJ0LnRyYW5zaXRpb24odC5lbmQsdC5wb3MpKX19KX07aS5ob29rKCJiYWNrZ3JvdW5kQ29sb3IgYm9yZGVyQm90dG9tQ29sb3IgYm9yZGVyTGVmdENvbG9yIGJvcmRlclJpZ2h0Q29sb3IgYm9yZGVyVG9wQ29sb3IgY29sb3IgY29sdW1uUnVsZUNvbG9yIG91dGxpbmVDb2xvciB0ZXh0RGVjb3JhdGlvbkNvbG9yIHRleHRFbXBoYXNpc0NvbG9yIik7bi5jc3NIb29rcy5ib3JkZXJDb2xvcj17ZXhwYW5kOmZ1bmN0aW9uKG4pe3ZhciB0PXt9O3JldHVybiByKFsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sZnVuY3Rpb24oaSxyKXt0WyJib3JkZXIiK3IrIkNvbG9yIl09bn0pLHR9fTtlPW4uQ29sb3IubmFtZXM9e2FxdWE6IiMwMGZmZmYiLGJsYWNrOiIjMDAwMDAwIixibHVlOiIjMDAwMGZmIixmdWNoc2lhOiIjZmYwMGZmIixncmF5OiIjODA4MDgwIixncmVlbjoiIzAwODAwMCIsbGltZToiIzAwZmYwMCIsbWFyb29uOiIjODAwMDAwIixuYXZ5OiIjMDAwMDgwIixvbGl2ZToiIzgwODAwMCIscHVycGxlOiIjODAwMDgwIixyZWQ6IiNmZjAwMDAiLHNpbHZlcjoiI2MwYzBjMCIsdGVhbDoiIzAwODA4MCIsd2hpdGU6IiNmZmZmZmYiLHllbGxvdzoiI2ZmZmYwMCIsdHJhbnNwYXJlbnQ6W251bGwsbnVsbCxudWxsLDBdLF9kZWZhdWx0OiIjZmZmZmZmIn19KHkpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt2YXIgcix1LGk9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3P3Qub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHQsbnVsbCk6dC5jdXJyZW50U3R5bGUsZj17fTtpZihpJiZpLmxlbmd0aCYmaVswXSYmaVtpWzBdXSlmb3IodT1pLmxlbmd0aDt1LS07KXI9aVt1XSwic3RyaW5nIj09dHlwZW9mIGlbcl0mJihmW24uY2FtZWxDYXNlKHIpXT1pW3JdKTtlbHNlIGZvcihyIGluIGkpInN0cmluZyI9PXR5cGVvZiBpW3JdJiYoZltyXT1pW3JdKTtyZXR1cm4gZn1mdW5jdGlvbiBpKHQsaSl7dmFyIHIsZixlPXt9O2ZvcihyIGluIGkpZj1pW3JdLHRbcl0hPT1mJiYodVtyXXx8KG4uZnguc3RlcFtyXXx8IWlzTmFOKHBhcnNlRmxvYXQoZikpKSYmKGVbcl09ZikpO3JldHVybiBlfXZhciByPVsiYWRkIiwicmVtb3ZlIiwidG9nZ2xlIl0sdT17Ym9yZGVyOjEsYm9yZGVyQm90dG9tOjEsYm9yZGVyQ29sb3I6MSxib3JkZXJMZWZ0OjEsYm9yZGVyUmlnaHQ6MSxib3JkZXJUb3A6MSxib3JkZXJXaWR0aDoxLG1hcmdpbjoxLHBhZGRpbmc6MX07bi5lYWNoKFsiYm9yZGVyTGVmdFN0eWxlIiwiYm9yZGVyUmlnaHRTdHlsZSIsImJvcmRlckJvdHRvbVN0eWxlIiwiYm9yZGVyVG9wU3R5bGUiXSxmdW5jdGlvbih0LGkpe24uZnguc3RlcFtpXT1mdW5jdGlvbihuKXsoIm5vbmUiPT09bi5lbmR8fG4uc2V0QXR0cikmJigxIT09bi5wb3N8fG4uc2V0QXR0cil8fCh5LnN0eWxlKG4uZWxlbSxpLG4uZW5kKSxuLnNldEF0dHI9ITApfX0pO24uZm4uYWRkQmFja3x8KG4uZm4uYWRkQmFjaz1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09bj90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihuKSl9KTtuLmVmZmVjdHMuYW5pbWF0ZUNsYXNzPWZ1bmN0aW9uKHUsZixlLG8pe3ZhciBzPW4uc3BlZWQoZixlLG8pO3JldHVybiB0aGlzLnF1ZXVlKGZ1bmN0aW9uKCl7dmFyIG8sZT1uKHRoaXMpLGg9ZS5hdHRyKCJjbGFzcyIpfHwiIixmPXMuY2hpbGRyZW4/ZS5maW5kKCIqIikuYWRkQmFjaygpOmU7Zj1mLm1hcChmdW5jdGlvbigpe3ZhciBpPW4odGhpcyk7cmV0dXJue2VsOmksc3RhcnQ6dCh0aGlzKX19KTtvPWZ1bmN0aW9uKCl7bi5lYWNoKHIsZnVuY3Rpb24obix0KXt1W3RdJiZlW3QrIkNsYXNzIl0odVt0XSl9KX07bygpO2Y9Zi5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmQ9dCh0aGlzLmVsWzBdKSx0aGlzLmRpZmY9aSh0aGlzLnN0YXJ0LHRoaXMuZW5kKSx0aGlzfSk7ZS5hdHRyKCJjbGFzcyIsaCk7Zj1mLm1hcChmdW5jdGlvbigpe3ZhciBpPXRoaXMsdD1uLkRlZmVycmVkKCkscj1uLmV4dGVuZCh7fSxzLHtxdWV1ZTohMSxjb21wbGV0ZTpmdW5jdGlvbigpe3QucmVzb2x2ZShpKX19KTtyZXR1cm4gdGhpcy5lbC5hbmltYXRlKHRoaXMuZGlmZixyKSx0LnByb21pc2UoKX0pO24ud2hlbi5hcHBseShuLGYuZ2V0KCkpLmRvbmUoZnVuY3Rpb24oKXtvKCk7bi5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWw7bi5lYWNoKHRoaXMuZGlmZixmdW5jdGlvbihuKXt0LmNzcyhuLCIiKX0pfSk7cy5jb21wbGV0ZS5jYWxsKGVbMF0pfSl9KX07bi5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpLHIsdSxmKXtyZXR1cm4gcj9uLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7YWRkOml9LHIsdSxmKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KG4uZm4uYWRkQ2xhc3MpLHJlbW92ZUNsYXNzOmZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihpLHIsdSxmKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4xP24uZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHtyZW1vdmU6aX0scix1LGYpOnQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0obi5mbi5yZW1vdmVDbGFzcyksdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkscix1LGYsZSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2Ygcnx8dm9pZCAwPT09cj91P24uZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHI/e2FkZDppfTp7cmVtb3ZlOml9LHUsZixlKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTpuLmVmZmVjdHMuYW5pbWF0ZUNsYXNzLmNhbGwodGhpcyx7dG9nZ2xlOml9LHIsdSxmKX19KG4uZm4udG9nZ2xlQ2xhc3MpLHN3aXRjaENsYXNzOmZ1bmN0aW9uKHQsaSxyLHUsZil7cmV0dXJuIG4uZWZmZWN0cy5hbmltYXRlQ2xhc3MuY2FsbCh0aGlzLHthZGQ6aSxyZW1vdmU6dH0scix1LGYpfX0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGkscix1KXtyZXR1cm4gbi5pc1BsYWluT2JqZWN0KHQpJiYoaT10LHQ9dC5lZmZlY3QpLHQ9e2VmZmVjdDp0fSxudWxsPT1pJiYoaT17fSksbi5pc0Z1bmN0aW9uKGkpJiYodT1pLHI9bnVsbCxpPXt9KSwoIm51bWJlciI9PXR5cGVvZiBpfHxuLmZ4LnNwZWVkc1tpXSkmJih1PXIscj1pLGk9e30pLG4uaXNGdW5jdGlvbihyKSYmKHU9cixyPW51bGwpLGkmJm4uZXh0ZW5kKHQsaSkscj1yfHxpLmR1cmF0aW9uLHQuZHVyYXRpb249bi5meC5vZmY/MDoibnVtYmVyIj09dHlwZW9mIHI/cjpyIGluIG4uZnguc3BlZWRzP24uZnguc3BlZWRzW3JdOm4uZnguc3BlZWRzLl9kZWZhdWx0LHQuY29tcGxldGU9dXx8aS5jb21wbGV0ZSx0fWZ1bmN0aW9uIGkodCl7cmV0dXJuIXR8fCJudW1iZXIiPT10eXBlb2YgdHx8bi5meC5zcGVlZHNbdF0/ITA6InN0cmluZyIhPXR5cGVvZiB0fHxuLmVmZmVjdHMuZWZmZWN0W3RdP24uaXNGdW5jdGlvbih0KT8hMDoib2JqZWN0IiE9dHlwZW9mIHR8fHQuZWZmZWN0PyExOiEwOiEwfWZ1bmN0aW9uIHIobix0KXt2YXIgcj10Lm91dGVyV2lkdGgoKSx1PXQub3V0ZXJIZWlnaHQoKSxpPS9ecmVjdFwoKC0/XGQqXC4/XGQqcHh8LT9cZCslfGF1dG8pLD9ccyooLT9cZCpcLj9cZCpweHwtP1xkKyV8YXV0byksP1xzKigtP1xkKlwuP1xkKnB4fC0/XGQrJXxhdXRvKSw/XHMqKC0/XGQqXC4/XGQqcHh8LT9cZCslfGF1dG8pXCkkLy5leGVjKG4pfHxbIiIsMCxyLHUsMF07cmV0dXJue3RvcDpwYXJzZUZsb2F0KGlbMV0pfHwwLHJpZ2h0OiJhdXRvIj09PWlbMl0/cjpwYXJzZUZsb2F0KGlbMl0pLGJvdHRvbToiYXV0byI9PT1pWzNdP3U6cGFyc2VGbG9hdChpWzNdKSxsZWZ0OnBhcnNlRmxvYXQoaVs0XSl8fDB9fW4uZXhwciYmbi5leHByLmZpbHRlcnMmJm4uZXhwci5maWx0ZXJzLmFuaW1hdGVkJiYobi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiEhbihpKS5kYXRhKGgpfHx0KGkpfX0obi5leHByLmZpbHRlcnMuYW5pbWF0ZWQpKTtuLnVpQmFja0NvbXBhdCE9PSExJiZuLmV4dGVuZChuLmVmZmVjdHMse3NhdmU6ZnVuY3Rpb24obix0KXtmb3IodmFyIGk9MCxyPXQubGVuZ3RoO3I+aTtpKyspbnVsbCE9PXRbaV0mJm4uZGF0YShmK3RbaV0sblswXS5zdHlsZVt0W2ldXSl9LHJlc3RvcmU6ZnVuY3Rpb24obix0KXtmb3IodmFyIHIsaT0wLHU9dC5sZW5ndGg7dT5pO2krKyludWxsIT09dFtpXSYmKHI9bi5kYXRhKGYrdFtpXSksbi5jc3ModFtpXSxyKSl9LHNldE1vZGU6ZnVuY3Rpb24obix0KXtyZXR1cm4idG9nZ2xlIj09PXQmJih0PW4uaXMoIjpoaWRkZW4iKT8ic2hvdyI6ImhpZGUiKSx0fSxjcmVhdGVXcmFwcGVyOmZ1bmN0aW9uKHQpe2lmKHQucGFyZW50KCkuaXMoIi51aS1lZmZlY3RzLXdyYXBwZXIiKSlyZXR1cm4gdC5wYXJlbnQoKTt2YXIgaT17d2lkdGg6dC5vdXRlcldpZHRoKCEwKSxoZWlnaHQ6dC5vdXRlckhlaWdodCghMCksZmxvYXQ6dC5jc3MoImZsb2F0Iil9LHU9bigiPGRpdj48XC9kaXY+IikuYWRkQ2xhc3MoInVpLWVmZmVjdHMtd3JhcHBlciIpLmNzcyh7Zm9udFNpemU6IjEwMCUiLGJhY2tncm91bmQ6InRyYW5zcGFyZW50Iixib3JkZXI6Im5vbmUiLG1hcmdpbjowLHBhZGRpbmc6MH0pLGY9e3dpZHRoOnQud2lkdGgoKSxoZWlnaHQ6dC5oZWlnaHQoKX0scj1kb2N1bWVudC5hY3RpdmVFbGVtZW50O3RyeXtyLmlkfWNhdGNoKGUpe3I9ZG9jdW1lbnQuYm9keX1yZXR1cm4gdC53cmFwKHUpLCh0WzBdPT09cnx8bi5jb250YWlucyh0WzBdLHIpKSYmbihyKS50cmlnZ2VyKCJmb2N1cyIpLHU9dC5wYXJlbnQoKSwic3RhdGljIj09PXQuY3NzKCJwb3NpdGlvbiIpPyh1LmNzcyh7cG9zaXRpb246InJlbGF0aXZlIn0pLHQuY3NzKHtwb3NpdGlvbjoicmVsYXRpdmUifSkpOihuLmV4dGVuZChpLHtwb3NpdGlvbjp0LmNzcygicG9zaXRpb24iKSx6SW5kZXg6dC5jc3MoInotaW5kZXgiKX0pLG4uZWFjaChbInRvcCIsImxlZnQiLCJib3R0b20iLCJyaWdodCJdLGZ1bmN0aW9uKG4scil7aVtyXT10LmNzcyhyKTtpc05hTihwYXJzZUludChpW3JdLDEwKSkmJihpW3JdPSJhdXRvIil9KSx0LmNzcyh7cG9zaXRpb246InJlbGF0aXZlIix0b3A6MCxsZWZ0OjAscmlnaHQ6ImF1dG8iLGJvdHRvbToiYXV0byJ9KSksdC5jc3MoZiksdS5jc3MoaSkuc2hvdygpfSxyZW1vdmVXcmFwcGVyOmZ1bmN0aW9uKHQpe3ZhciBpPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7cmV0dXJuIHQucGFyZW50KCkuaXMoIi51aS1lZmZlY3RzLXdyYXBwZXIiKSYmKHQucGFyZW50KCkucmVwbGFjZVdpdGgodCksKHRbMF09PT1pfHxuLmNvbnRhaW5zKHRbMF0saSkpJiZuKGkpLnRyaWdnZXIoImZvY3VzIikpLHR9fSk7bi5leHRlbmQobi5lZmZlY3RzLHt2ZXJzaW9uOiIxLjEyLjEiLGRlZmluZTpmdW5jdGlvbih0LGkscil7cmV0dXJuIHJ8fChyPWksaT0iZWZmZWN0Iiksbi5lZmZlY3RzLmVmZmVjdFt0XT1yLG4uZWZmZWN0cy5lZmZlY3RbdF0ubW9kZT1pLHJ9LHNjYWxlZERpbWVuc2lvbnM6ZnVuY3Rpb24obix0LGkpe2lmKDA9PT10KXJldHVybntoZWlnaHQ6MCx3aWR0aDowLG91dGVySGVpZ2h0OjAsb3V0ZXJXaWR0aDowfTt2YXIgcj0iaG9yaXpvbnRhbCIhPT1pPyh0fHwxMDApLzEwMDoxLHU9InZlcnRpY2FsIiE9PWk/KHR8fDEwMCkvMTAwOjE7cmV0dXJue2hlaWdodDpuLmhlaWdodCgpKnUsd2lkdGg6bi53aWR0aCgpKnIsb3V0ZXJIZWlnaHQ6bi5vdXRlckhlaWdodCgpKnUsb3V0ZXJXaWR0aDpuLm91dGVyV2lkdGgoKSpyfX0sY2xpcFRvQm94OmZ1bmN0aW9uKG4pe3JldHVybnt3aWR0aDpuLmNsaXAucmlnaHQtbi5jbGlwLmxlZnQsaGVpZ2h0Om4uY2xpcC5ib3R0b20tbi5jbGlwLnRvcCxsZWZ0Om4uY2xpcC5sZWZ0LHRvcDpuLmNsaXAudG9wfX0sdW5zaGlmdDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9bi5xdWV1ZSgpO3Q+MSYmci5zcGxpY2UuYXBwbHkocixbMSwwXS5jb25jYXQoci5zcGxpY2UodCxpKSkpO24uZGVxdWV1ZSgpfSxzYXZlU3R5bGU6ZnVuY3Rpb24obil7bi5kYXRhKHMsblswXS5zdHlsZS5jc3NUZXh0KX0scmVzdG9yZVN0eWxlOmZ1bmN0aW9uKG4pe25bMF0uc3R5bGUuY3NzVGV4dD1uLmRhdGEocyl8fCIiO24ucmVtb3ZlRGF0YShzKX0sbW9kZTpmdW5jdGlvbihuLHQpe3ZhciBpPW4uaXMoIjpoaWRkZW4iKTtyZXR1cm4idG9nZ2xlIj09PXQmJih0PWk/InNob3ciOiJoaWRlIiksKGk/ImhpZGUiPT09dDoic2hvdyI9PT10KSYmKHQ9Im5vbmUiKSx0fSxnZXRCYXNlbGluZTpmdW5jdGlvbihuLHQpe3ZhciBpLHI7c3dpdGNoKG5bMF0pe2Nhc2UidG9wIjppPTA7YnJlYWs7Y2FzZSJtaWRkbGUiOmk9LjU7YnJlYWs7Y2FzZSJib3R0b20iOmk9MTticmVhaztkZWZhdWx0Omk9blswXS90LmhlaWdodH1zd2l0Y2goblsxXSl7Y2FzZSJsZWZ0IjpyPTA7YnJlYWs7Y2FzZSJjZW50ZXIiOnI9LjU7YnJlYWs7Y2FzZSJyaWdodCI6cj0xO2JyZWFrO2RlZmF1bHQ6cj1uWzFdL3Qud2lkdGh9cmV0dXJue3g6cix5Oml9fSxjcmVhdGVQbGFjZWhvbGRlcjpmdW5jdGlvbih0KXt2YXIgaSxyPXQuY3NzKCJwb3NpdGlvbiIpLHU9dC5wb3NpdGlvbigpO3JldHVybiB0LmNzcyh7bWFyZ2luVG9wOnQuY3NzKCJtYXJnaW5Ub3AiKSxtYXJnaW5Cb3R0b206dC5jc3MoIm1hcmdpbkJvdHRvbSIpLG1hcmdpbkxlZnQ6dC5jc3MoIm1hcmdpbkxlZnQiKSxtYXJnaW5SaWdodDp0LmNzcygibWFyZ2luUmlnaHQiKX0pLm91dGVyV2lkdGgodC5vdXRlcldpZHRoKCkpLm91dGVySGVpZ2h0KHQub3V0ZXJIZWlnaHQoKSksL14oc3RhdGljfHJlbGF0aXZlKS8udGVzdChyKSYmKHI9ImFic29sdXRlIixpPW4oIjwiK3RbMF0ubm9kZU5hbWUrIj4iKS5pbnNlcnRBZnRlcih0KS5jc3Moe2Rpc3BsYXk6L14oaW5saW5lfHJ1YnkpLy50ZXN0KHQuY3NzKCJkaXNwbGF5IikpPyJpbmxpbmUtYmxvY2siOiJibG9jayIsdmlzaWJpbGl0eToiaGlkZGVuIixtYXJnaW5Ub3A6dC5jc3MoIm1hcmdpblRvcCIpLG1hcmdpbkJvdHRvbTp0LmNzcygibWFyZ2luQm90dG9tIiksbWFyZ2luTGVmdDp0LmNzcygibWFyZ2luTGVmdCIpLG1hcmdpblJpZ2h0OnQuY3NzKCJtYXJnaW5SaWdodCIpLGZsb2F0OnQuY3NzKCJmbG9hdCIpfSkub3V0ZXJXaWR0aCh0Lm91dGVyV2lkdGgoKSkub3V0ZXJIZWlnaHQodC5vdXRlckhlaWdodCgpKS5hZGRDbGFzcygidWktZWZmZWN0cy1wbGFjZWhvbGRlciIpLHQuZGF0YShmKyJwbGFjZWhvbGRlciIsaSkpLHQuY3NzKHtwb3NpdGlvbjpyLGxlZnQ6dS5sZWZ0LHRvcDp1LnRvcH0pLGl9LHJlbW92ZVBsYWNlaG9sZGVyOmZ1bmN0aW9uKG4pe3ZhciB0PWYrInBsYWNlaG9sZGVyIixpPW4uZGF0YSh0KTtpJiYoaS5yZW1vdmUoKSxuLnJlbW92ZURhdGEodCkpfSxjbGVhblVwOmZ1bmN0aW9uKHQpe24uZWZmZWN0cy5yZXN0b3JlU3R5bGUodCk7bi5lZmZlY3RzLnJlbW92ZVBsYWNlaG9sZGVyKHQpfSxzZXRUcmFuc2l0aW9uOmZ1bmN0aW9uKHQsaSxyLHUpe3JldHVybiB1PXV8fHt9LG4uZWFjaChpLGZ1bmN0aW9uKG4saSl7dmFyIGY9dC5jc3NVbml0KGkpO2ZbMF0+MCYmKHVbaV09ZlswXSpyK2ZbMV0pfSksdX19KTtuLmZuLmV4dGVuZCh7ZWZmZWN0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gbyh0KXtmdW5jdGlvbiBjKCl7by5yZW1vdmVEYXRhKGgpO24uZWZmZWN0cy5jbGVhblVwKG8pOyJoaWRlIj09PWkubW9kZSYmby5oaWRlKCk7cygpfWZ1bmN0aW9uIHMoKXtuLmlzRnVuY3Rpb24oZikmJmYuY2FsbChvWzBdKTtuLmlzRnVuY3Rpb24odCkmJnQoKX12YXIgbz1uKHRoaXMpO2kubW9kZT1sLnNoaWZ0KCk7bi51aUJhY2tDb21wYXQ9PT0hMXx8dT8ibm9uZSI9PT1pLm1vZGU/KG9bcl0oKSxzKCkpOmUuY2FsbChvWzBdLGksYyk6KG8uaXMoIjpoaWRkZW4iKT8iaGlkZSI9PT1yOiJzaG93Ij09PXIpPyhvW3JdKCkscygpKTplLmNhbGwob1swXSxpLHMpfXZhciBpPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpLGU9bi5lZmZlY3RzLmVmZmVjdFtpLmVmZmVjdF0sdT1lLm1vZGUscz1pLnF1ZXVlLGM9c3x8ImZ4IixmPWkuY29tcGxldGUscj1pLm1vZGUsbD1bXSxhPWZ1bmN0aW9uKHQpe3ZhciBmPW4odGhpcyksaT1uLmVmZmVjdHMubW9kZShmLHIpfHx1O2YuZGF0YShoLCEwKTtsLnB1c2goaSk7dSYmKCJzaG93Ij09PWl8fGk9PT11JiYiaGlkZSI9PT1pKSYmZi5zaG93KCk7dSYmIm5vbmUiPT09aXx8bi5lZmZlY3RzLnNhdmVTdHlsZShmKTtuLmlzRnVuY3Rpb24odCkmJnQoKX07cmV0dXJuIG4uZngub2ZmfHwhZT9yP3RoaXNbcl0oaS5kdXJhdGlvbixmKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtmJiZmLmNhbGwodGhpcyl9KTpzPT09ITE/dGhpcy5lYWNoKGEpLmVhY2gobyk6dGhpcy5xdWV1ZShjLGEpLnF1ZXVlKGMsbyl9LHNob3c6ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKGkocikpcmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciB1PXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1Lm1vZGU9InNob3ciLHRoaXMuZWZmZWN0LmNhbGwodGhpcyx1KX19KG4uZm4uc2hvdyksaGlkZTpmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24ocil7aWYoaShyKSlyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIHU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHUubW9kZT0iaGlkZSIsdGhpcy5lZmZlY3QuY2FsbCh0aGlzLHUpfX0obi5mbi5oaWRlKSx0b2dnbGU6ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKGkocil8fCJib29sZWFuIj09dHlwZW9mIHIpcmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciB1PXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB1Lm1vZGU9InRvZ2dsZSIsdGhpcy5lZmZlY3QuY2FsbCh0aGlzLHUpfX0obi5mbi50b2dnbGUpLGNzc1VuaXQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5jc3ModCkscj1bXTtyZXR1cm4gbi5lYWNoKFsiZW0iLCJweCIsIiUiLCJwdCJdLGZ1bmN0aW9uKG4sdCl7aS5pbmRleE9mKHQpPjAmJihyPVtwYXJzZUZsb2F0KGkpLHRdKX0pLHJ9LGNzc0NsaXA6ZnVuY3Rpb24obil7cmV0dXJuIG4/dGhpcy5jc3MoImNsaXAiLCJyZWN0KCIrbi50b3ArInB4ICIrbi5yaWdodCsicHggIituLmJvdHRvbSsicHggIituLmxlZnQrInB4KSIpOnIodGhpcy5jc3MoImNsaXAiKSx0aGlzKX0sdHJhbnNmZXI6ZnVuY3Rpb24odCxpKXt2YXIgdT1uKHRoaXMpLHI9bih0LnRvKSxmPSJmaXhlZCI9PT1yLmNzcygicG9zaXRpb24iKSxlPW4oImJvZHkiKSxvPWY/ZS5zY3JvbGxUb3AoKTowLHM9Zj9lLnNjcm9sbExlZnQoKTowLGg9ci5vZmZzZXQoKSxsPXt0b3A6aC50b3AtbyxsZWZ0OmgubGVmdC1zLGhlaWdodDpyLmlubmVySGVpZ2h0KCksd2lkdGg6ci5pbm5lcldpZHRoKCl9LGM9dS5vZmZzZXQoKSxhPW4oIjxkaXYgY2xhc3M9J3VpLWVmZmVjdHMtdHJhbnNmZXInPjxcL2Rpdj4iKS5hcHBlbmRUbygiYm9keSIpLmFkZENsYXNzKHQuY2xhc3NOYW1lKS5jc3Moe3RvcDpjLnRvcC1vLGxlZnQ6Yy5sZWZ0LXMsaGVpZ2h0OnUuaW5uZXJIZWlnaHQoKSx3aWR0aDp1LmlubmVyV2lkdGgoKSxwb3NpdGlvbjpmPyJmaXhlZCI6ImFic29sdXRlIn0pLmFuaW1hdGUobCx0LmR1cmF0aW9uLHQuZWFzaW5nLGZ1bmN0aW9uKCl7YS5yZW1vdmUoKTtuLmlzRnVuY3Rpb24oaSkmJmkoKX0pfX0pO24uZnguc3RlcC5jbGlwPWZ1bmN0aW9uKHQpe3QuY2xpcEluaXR8fCh0LnN0YXJ0PW4odC5lbGVtKS5jc3NDbGlwKCksInN0cmluZyI9PXR5cGVvZiB0LmVuZCYmKHQuZW5kPXIodC5lbmQsdC5lbGVtKSksdC5jbGlwSW5pdD0hMCk7bih0LmVsZW0pLmNzc0NsaXAoe3RvcDp0LnBvcyoodC5lbmQudG9wLXQuc3RhcnQudG9wKSt0LnN0YXJ0LnRvcCxyaWdodDp0LnBvcyoodC5lbmQucmlnaHQtdC5zdGFydC5yaWdodCkrdC5zdGFydC5yaWdodCxib3R0b206dC5wb3MqKHQuZW5kLmJvdHRvbS10LnN0YXJ0LmJvdHRvbSkrdC5zdGFydC5ib3R0b20sbGVmdDp0LnBvcyoodC5lbmQubGVmdC10LnN0YXJ0LmxlZnQpK3Quc3RhcnQubGVmdH0pfX0oKSxmdW5jdGlvbigpe3ZhciB0PXt9O24uZWFjaChbIlF1YWQiLCJDdWJpYyIsIlF1YXJ0IiwiUXVpbnQiLCJFeHBvIl0sZnVuY3Rpb24obixpKXt0W2ldPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdyh0LG4rMil9fSk7bi5leHRlbmQodCx7U2luZTpmdW5jdGlvbihuKXtyZXR1cm4gMS1NYXRoLmNvcyhuKk1hdGguUEkvMil9LENpcmM6ZnVuY3Rpb24obil7cmV0dXJuIDEtTWF0aC5zcXJ0KDEtbipuKX0sRWxhc3RpYzpmdW5jdGlvbihuKXtyZXR1cm4gMD09PW58fDE9PT1uP246LU1hdGgucG93KDIsOCoobi0xKSkqTWF0aC5zaW4oKDgwKihuLTEpLTcuNSkqTWF0aC5QSS8xNSl9LEJhY2s6ZnVuY3Rpb24obil7cmV0dXJuIG4qbiooMypuLTIpfSxCb3VuY2U6ZnVuY3Rpb24obil7Zm9yKHZhciB0LGk9NDsoKHQ9TWF0aC5wb3coMiwtLWkpKS0xKS8xMT5uOyk7cmV0dXJuIDEvTWF0aC5wb3coNCwzLWkpLTcuNTYyNSpNYXRoLnBvdygoMyp0LTIpLzIyLW4sMil9fSk7bi5lYWNoKHQsZnVuY3Rpb24odCxpKXtuLmVhc2luZ1siZWFzZUluIit0XT1pO24uZWFzaW5nWyJlYXNlT3V0Iit0XT1mdW5jdGlvbihuKXtyZXR1cm4gMS1pKDEtbil9O24uZWFzaW5nWyJlYXNlSW5PdXQiK3RdPWZ1bmN0aW9uKG4pe3JldHVybi41Pm4/aSgyKm4pLzI6MS1pKC0yKm4rMikvMn19KX0oKTtwPW4uZWZmZWN0cztuLmVmZmVjdHMuZGVmaW5lKCJibGluZCIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7dmFyIGU9e3VwOlsiYm90dG9tIiwidG9wIl0sdmVydGljYWw6WyJib3R0b20iLCJ0b3AiXSxkb3duOlsidG9wIiwiYm90dG9tIl0sbGVmdDpbInJpZ2h0IiwibGVmdCJdLGhvcml6b250YWw6WyJyaWdodCIsImxlZnQiXSxyaWdodDpbImxlZnQiLCJyaWdodCJdfSx1PW4odGhpcyksbz10LmRpcmVjdGlvbnx8InVwIixzPXUuY3NzQ2xpcCgpLHI9e2NsaXA6bi5leHRlbmQoe30scyl9LGY9bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHUpO3IuY2xpcFtlW29dWzBdXT1yLmNsaXBbZVtvXVsxXV07InNob3ciPT09dC5tb2RlJiYodS5jc3NDbGlwKHIuY2xpcCksZiYmZi5jc3Mobi5lZmZlY3RzLmNsaXBUb0JveChyKSksci5jbGlwPXMpO2YmJmYuYW5pbWF0ZShuLmVmZmVjdHMuY2xpcFRvQm94KHIpLHQuZHVyYXRpb24sdC5lYXNpbmcpO3UuYW5pbWF0ZShyLHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTppfSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJib3VuY2UiLGZ1bmN0aW9uKHQsaSl7dmFyIGUsbyxhLHU9bih0aGlzKSxwPXQubW9kZSxzPSJoaWRlIj09PXAsdz0ic2hvdyI9PT1wLGg9dC5kaXJlY3Rpb258fCJ1cCIscj10LmRpc3RhbmNlLHY9dC50aW1lc3x8NSxiPTIqdisod3x8cz8xOjApLGM9dC5kdXJhdGlvbi9iLGw9dC5lYXNpbmcsZj0idXAiPT09aHx8ImRvd24iPT09aD8idG9wIjoibGVmdCIseT0idXAiPT09aHx8ImxlZnQiPT09aCxrPTAsZD11LnF1ZXVlKCkubGVuZ3RoO2ZvcihuLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIodSksYT11LmNzcyhmKSxyfHwocj11WyJ0b3AiPT09Zj8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oKS8zKSx3JiYobz17b3BhY2l0eToxfSxvW2ZdPWEsdS5jc3MoIm9wYWNpdHkiLDApLmNzcyhmLHk/MiotcjoyKnIpLmFuaW1hdGUobyxjLGwpKSxzJiYoci89TWF0aC5wb3coMix2LTEpKSxvPXt9LG9bZl09YTt2Pms7aysrKWU9e30sZVtmXT0oeT8iLT0iOiIrPSIpK3IsdS5hbmltYXRlKGUsYyxsKS5hbmltYXRlKG8sYyxsKSxyPXM/MipyOnIvMjtzJiYoZT17b3BhY2l0eTowfSxlW2ZdPSh5PyItPSI6Iis9Iikrcix1LmFuaW1hdGUoZSxjLGwpKTt1LnF1ZXVlKGkpO24uZWZmZWN0cy51bnNoaWZ0KHUsZCxiKzEpfSk7bi5lZmZlY3RzLmRlZmluZSgiY2xpcCIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7dmFyIHIsdT17fSxmPW4odGhpcyksZT10LmRpcmVjdGlvbnx8InZlcnRpY2FsIixvPSJib3RoIj09PWUscz1vfHwiaG9yaXpvbnRhbCI9PT1lLGg9b3x8InZlcnRpY2FsIj09PWU7cj1mLmNzc0NsaXAoKTt1LmNsaXA9e3RvcDpoPyhyLmJvdHRvbS1yLnRvcCkvMjpyLnRvcCxyaWdodDpzPyhyLnJpZ2h0LXIubGVmdCkvMjpyLnJpZ2h0LGJvdHRvbTpoPyhyLmJvdHRvbS1yLnRvcCkvMjpyLmJvdHRvbSxsZWZ0OnM/KHIucmlnaHQtci5sZWZ0KS8yOnIubGVmdH07bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKGYpOyJzaG93Ij09PXQubW9kZSYmKGYuY3NzQ2xpcCh1LmNsaXApLHUuY2xpcD1yKTtmLmFuaW1hdGUodSx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi5lZmZlY3RzLmRlZmluZSgiZHJvcCIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7dmFyIGUsdT1uKHRoaXMpLGg9dC5tb2RlLGM9InNob3ciPT09aCxmPXQuZGlyZWN0aW9ufHwibGVmdCIsbz0idXAiPT09Znx8ImRvd24iPT09Zj8idG9wIjoibGVmdCIscz0idXAiPT09Znx8ImxlZnQiPT09Zj8iLT0iOiIrPSIsbD0iKz0iPT09cz8iLT0iOiIrPSIscj17b3BhY2l0eTowfTtuLmVmZmVjdHMuY3JlYXRlUGxhY2Vob2xkZXIodSk7ZT10LmRpc3RhbmNlfHx1WyJ0b3AiPT09bz8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oITApLzI7cltvXT1zK2U7YyYmKHUuY3NzKHIpLHJbb109bCtlLHIub3BhY2l0eT0xKTt1LmFuaW1hdGUocix7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi5lZmZlY3RzLmRlZmluZSgiZXhwbG9kZSIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gYigpe3AucHVzaCh0aGlzKTtwLmxlbmd0aD09PWUqYyYmaygpfWZ1bmN0aW9uIGsoKXtvLmNzcyh7dmlzaWJpbGl0eToidmlzaWJsZSJ9KTtuKHApLnJlbW92ZSgpO2koKX1mb3IodmFyIHUsbCxhLHYseSxlPXQucGllY2VzP01hdGgucm91bmQoTWF0aC5zcXJ0KHQucGllY2VzKSk6MyxjPWUsbz1uKHRoaXMpLGQ9dC5tb2RlLGY9InNob3ciPT09ZCx3PW8uc2hvdygpLmNzcygidmlzaWJpbGl0eSIsImhpZGRlbiIpLm9mZnNldCgpLHM9TWF0aC5jZWlsKG8ub3V0ZXJXaWR0aCgpL2MpLGg9TWF0aC5jZWlsKG8ub3V0ZXJIZWlnaHQoKS9lKSxwPVtdLHI9MDtlPnI7cisrKWZvcihhPXcudG9wK3IqaCx5PXItKGUtMSkvMix1PTA7Yz51O3UrKylsPXcubGVmdCt1KnMsdj11LShjLTEpLzIsby5jbG9uZSgpLmFwcGVuZFRvKCJib2R5Iikud3JhcCgiPGRpdj48XC9kaXY+IikuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6InZpc2libGUiLGxlZnQ6LXUqcyx0b3A6LXIqaH0pLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1lZmZlY3RzLWV4cGxvZGUiKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsb3ZlcmZsb3c6ImhpZGRlbiIsd2lkdGg6cyxoZWlnaHQ6aCxsZWZ0OmwrKGY/dipzOjApLHRvcDphKyhmP3kqaDowKSxvcGFjaXR5OmY/MDoxfSkuYW5pbWF0ZSh7bGVmdDpsKyhmPzA6dipzKSx0b3A6YSsoZj8wOnkqaCksb3BhY2l0eTpmPzE6MH0sdC5kdXJhdGlvbnx8NTAwLHQuZWFzaW5nLGIpfSk7bi5lZmZlY3RzLmRlZmluZSgiZmFkZSIsInRvZ2dsZSIsZnVuY3Rpb24odCxpKXt2YXIgcj0ic2hvdyI9PT10Lm1vZGU7bih0aGlzKS5jc3MoIm9wYWNpdHkiLHI/MDoxKS5hbmltYXRlKHtvcGFjaXR5OnI/MTowfSx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi5lZmZlY3RzLmRlZmluZSgiZm9sZCIsImhpZGUiLGZ1bmN0aW9uKHQsaSl7dmFyIHU9bih0aGlzKSxsPXQubW9kZSx2PSJzaG93Ij09PWwseT0iaGlkZSI9PT1sLG89dC5zaXplfHwxNSxhPS8oWzAtOV0rKSUvLmV4ZWMobykscD0hIXQuaG9yaXpGaXJzdCxmPXA/WyJyaWdodCIsImJvdHRvbSJdOlsiYm90dG9tIiwicmlnaHQiXSxzPXQuZHVyYXRpb24vMixoPW4uZWZmZWN0cy5jcmVhdGVQbGFjZWhvbGRlcih1KSxlPXUuY3NzQ2xpcCgpLGM9e2NsaXA6bi5leHRlbmQoe30sZSl9LHI9e2NsaXA6bi5leHRlbmQoe30sZSl9LHc9W2VbZlswXV0sZVtmWzFdXV0sYj11LnF1ZXVlKCkubGVuZ3RoO2EmJihvPXBhcnNlSW50KGFbMV0sMTApLzEwMCp3W3k/MDoxXSk7Yy5jbGlwW2ZbMF1dPW87ci5jbGlwW2ZbMF1dPW87ci5jbGlwW2ZbMV1dPTA7diYmKHUuY3NzQ2xpcChyLmNsaXApLGgmJmguY3NzKG4uZWZmZWN0cy5jbGlwVG9Cb3gocikpLHIuY2xpcD1lKTt1LnF1ZXVlKGZ1bmN0aW9uKGkpe2gmJmguYW5pbWF0ZShuLmVmZmVjdHMuY2xpcFRvQm94KGMpLHMsdC5lYXNpbmcpLmFuaW1hdGUobi5lZmZlY3RzLmNsaXBUb0JveChyKSxzLHQuZWFzaW5nKTtpKCl9KS5hbmltYXRlKGMscyx0LmVhc2luZykuYW5pbWF0ZShyLHMsdC5lYXNpbmcpLnF1ZXVlKGkpO24uZWZmZWN0cy51bnNoaWZ0KHUsYiw0KX0pO24uZWZmZWN0cy5kZWZpbmUoImhpZ2hsaWdodCIsInNob3ciLGZ1bmN0aW9uKHQsaSl7dmFyIHI9bih0aGlzKSx1PXtiYWNrZ3JvdW5kQ29sb3I6ci5jc3MoImJhY2tncm91bmRDb2xvciIpfTsiaGlkZSI9PT10Lm1vZGUmJih1Lm9wYWNpdHk9MCk7bi5lZmZlY3RzLnNhdmVTdHlsZShyKTtyLmNzcyh7YmFja2dyb3VuZEltYWdlOiJub25lIixiYWNrZ3JvdW5kQ29sb3I6dC5jb2xvcnx8IiNmZmZmOTkifSkuYW5pbWF0ZSh1LHtxdWV1ZTohMSxkdXJhdGlvbjp0LmR1cmF0aW9uLGVhc2luZzp0LmVhc2luZyxjb21wbGV0ZTppfSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJzaXplIixmdW5jdGlvbih0LGkpe3ZhciBsLHIscCx1PW4odGhpcyksdj1bImZvbnRTaXplIl0scz1bImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSJdLGg9WyJib3JkZXJMZWZ0V2lkdGgiLCJib3JkZXJSaWdodFdpZHRoIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiXSx3PXQubW9kZSx5PSJlZmZlY3QiIT09dyxjPXQuc2NhbGV8fCJib3RoIixiPXQub3JpZ2lufHxbIm1pZGRsZSIsImNlbnRlciJdLGs9dS5jc3MoInBvc2l0aW9uIiksYT11LnBvc2l0aW9uKCksbz1uLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyh1KSxmPXQuZnJvbXx8byxlPXQudG98fG4uZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKHUsMCk7bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHUpOyJzaG93Ij09PXcmJihwPWYsZj1lLGU9cCk7cj17ZnJvbTp7eTpmLmhlaWdodC9vLmhlaWdodCx4OmYud2lkdGgvby53aWR0aH0sdG86e3k6ZS5oZWlnaHQvby5oZWlnaHQseDplLndpZHRoL28ud2lkdGh9fTsoImJveCI9PT1jfHwiYm90aCI9PT1jKSYmKHIuZnJvbS55IT09ci50by55JiYoZj1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbih1LHMsci5mcm9tLnksZiksZT1uLmVmZmVjdHMuc2V0VHJhbnNpdGlvbih1LHMsci50by55LGUpKSxyLmZyb20ueCE9PXIudG8ueCYmKGY9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24odSxoLHIuZnJvbS54LGYpLGU9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24odSxoLHIudG8ueCxlKSkpOygiY29udGVudCI9PT1jfHwiYm90aCI9PT1jKSYmci5mcm9tLnkhPT1yLnRvLnkmJihmPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKHUsdixyLmZyb20ueSxmKSxlPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKHUsdixyLnRvLnksZSkpO2ImJihsPW4uZWZmZWN0cy5nZXRCYXNlbGluZShiLG8pLGYudG9wPShvLm91dGVySGVpZ2h0LWYub3V0ZXJIZWlnaHQpKmwueSthLnRvcCxmLmxlZnQ9KG8ub3V0ZXJXaWR0aC1mLm91dGVyV2lkdGgpKmwueCthLmxlZnQsZS50b3A9KG8ub3V0ZXJIZWlnaHQtZS5vdXRlckhlaWdodCkqbC55K2EudG9wLGUubGVmdD0oby5vdXRlcldpZHRoLWUub3V0ZXJXaWR0aCkqbC54K2EubGVmdCk7dS5jc3MoZik7KCJjb250ZW50Ij09PWN8fCJib3RoIj09PWMpJiYocz1zLmNvbmNhdChbIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSJdKS5jb25jYXQodiksaD1oLmNvbmNhdChbIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCJdKSx1LmZpbmQoIipbd2lkdGhdIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcyksdT1uLmVmZmVjdHMuc2NhbGVkRGltZW5zaW9ucyhpKSxmPXtoZWlnaHQ6dS5oZWlnaHQqci5mcm9tLnksd2lkdGg6dS53aWR0aCpyLmZyb20ueCxvdXRlckhlaWdodDp1Lm91dGVySGVpZ2h0KnIuZnJvbS55LG91dGVyV2lkdGg6dS5vdXRlcldpZHRoKnIuZnJvbS54fSxlPXtoZWlnaHQ6dS5oZWlnaHQqci50by55LHdpZHRoOnUud2lkdGgqci50by54LG91dGVySGVpZ2h0OnUuaGVpZ2h0KnIudG8ueSxvdXRlcldpZHRoOnUud2lkdGgqci50by54fTtyLmZyb20ueSE9PXIudG8ueSYmKGY9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24oaSxzLHIuZnJvbS55LGYpLGU9bi5lZmZlY3RzLnNldFRyYW5zaXRpb24oaSxzLHIudG8ueSxlKSk7ci5mcm9tLnghPT1yLnRvLngmJihmPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksaCxyLmZyb20ueCxmKSxlPW4uZWZmZWN0cy5zZXRUcmFuc2l0aW9uKGksaCxyLnRvLngsZSkpO3kmJm4uZWZmZWN0cy5zYXZlU3R5bGUoaSk7aS5jc3MoZik7aS5hbmltYXRlKGUsdC5kdXJhdGlvbix0LmVhc2luZyxmdW5jdGlvbigpe3kmJm4uZWZmZWN0cy5yZXN0b3JlU3R5bGUoaSl9KX0pKTt1LmFuaW1hdGUoZSx7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgdD11Lm9mZnNldCgpOzA9PT1lLm9wYWNpdHkmJnUuY3NzKCJvcGFjaXR5IixmLm9wYWNpdHkpO3l8fCh1LmNzcygicG9zaXRpb24iLCJzdGF0aWMiPT09az8icmVsYXRpdmUiOmspLm9mZnNldCh0KSxuLmVmZmVjdHMuc2F2ZVN0eWxlKHUpKTtpKCl9fSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJzY2FsZSIsZnVuY3Rpb24odCxpKXt2YXIgdT1uKHRoaXMpLGY9dC5tb2RlLGU9cGFyc2VJbnQodC5wZXJjZW50LDEwKXx8KDA9PT1wYXJzZUludCh0LnBlcmNlbnQsMTApPzA6ImVmZmVjdCIhPT1mPzA6MTAwKSxyPW4uZXh0ZW5kKCEwLHtmcm9tOm4uZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKHUpLHRvOm4uZWZmZWN0cy5zY2FsZWREaW1lbnNpb25zKHUsZSx0LmRpcmVjdGlvbnx8ImJvdGgiKSxvcmlnaW46dC5vcmlnaW58fFsibWlkZGxlIiwiY2VudGVyIl19LHQpO3QuZmFkZSYmKHIuZnJvbS5vcGFjaXR5PTEsci50by5vcGFjaXR5PTApO24uZWZmZWN0cy5lZmZlY3Quc2l6ZS5jYWxsKHRoaXMscixpKX0pO24uZWZmZWN0cy5kZWZpbmUoInB1ZmYiLCJoaWRlIixmdW5jdGlvbih0LGkpe3ZhciByPW4uZXh0ZW5kKCEwLHt9LHQse2ZhZGU6ITAscGVyY2VudDpwYXJzZUludCh0LnBlcmNlbnQsMTApfHwxNTB9KTtuLmVmZmVjdHMuZWZmZWN0LnNjYWxlLmNhbGwodGhpcyxyLGkpfSk7bi5lZmZlY3RzLmRlZmluZSgicHVsc2F0ZSIsInNob3ciLGZ1bmN0aW9uKHQsaSl7dmFyIHI9bih0aGlzKSxlPXQubW9kZSxvPSJzaG93Ij09PWUsYz0iaGlkZSI9PT1lLGw9b3x8YyxmPTIqKHQudGltZXN8fDUpKyhsPzE6MCkscz10LmR1cmF0aW9uL2YsdT0wLGg9MSxhPXIucXVldWUoKS5sZW5ndGg7Zm9yKChvfHwhci5pcygiOnZpc2libGUiKSkmJihyLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLHU9MSk7Zj5oO2grKylyLmFuaW1hdGUoe29wYWNpdHk6dX0scyx0LmVhc2luZyksdT0xLXU7ci5hbmltYXRlKHtvcGFjaXR5OnV9LHMsdC5lYXNpbmcpO3IucXVldWUoaSk7bi5lZmZlY3RzLnVuc2hpZnQocixhLGYrMSl9KTtuLmVmZmVjdHMuZGVmaW5lKCJzaGFrZSIsZnVuY3Rpb24odCxpKXt2YXIgbD0xLHI9bih0aGlzKSxmPXQuZGlyZWN0aW9ufHwibGVmdCIsZT10LmRpc3RhbmNlfHwyMCxhPXQudGltZXN8fDMsdj0yKmErMSx1PU1hdGgucm91bmQodC5kdXJhdGlvbi92KSxvPSJ1cCI9PT1mfHwiZG93biI9PT1mPyJ0b3AiOiJsZWZ0IixzPSJ1cCI9PT1mfHwibGVmdCI9PT1mLGg9e30sYz17fSx5PXt9LHA9ci5xdWV1ZSgpLmxlbmd0aDtmb3Iobi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHIpLGhbb109KHM/Ii09IjoiKz0iKStlLGNbb109KHM/Iis9IjoiLT0iKSsyKmUseVtvXT0ocz8iLT0iOiIrPSIpKzIqZSxyLmFuaW1hdGUoaCx1LHQuZWFzaW5nKTthPmw7bCsrKXIuYW5pbWF0ZShjLHUsdC5lYXNpbmcpLmFuaW1hdGUoeSx1LHQuZWFzaW5nKTtyLmFuaW1hdGUoYyx1LHQuZWFzaW5nKS5hbmltYXRlKGgsdS8yLHQuZWFzaW5nKS5xdWV1ZShpKTtuLmVmZmVjdHMudW5zaGlmdChyLHAsdisxKX0pO24uZWZmZWN0cy5kZWZpbmUoInNsaWRlIiwic2hvdyIsZnVuY3Rpb24odCxpKXt2YXIgcyxvLHU9bih0aGlzKSxoPXt1cDpbImJvdHRvbSIsInRvcCJdLGRvd246WyJ0b3AiLCJib3R0b20iXSxsZWZ0OlsicmlnaHQiLCJsZWZ0Il0scmlnaHQ6WyJsZWZ0IiwicmlnaHQiXX0sYz10Lm1vZGUsZj10LmRpcmVjdGlvbnx8ImxlZnQiLGU9InVwIj09PWZ8fCJkb3duIj09PWY/InRvcCI6ImxlZnQiLGw9InVwIj09PWZ8fCJsZWZ0Ij09PWYsYT10LmRpc3RhbmNlfHx1WyJ0b3AiPT09ZT8ib3V0ZXJIZWlnaHQiOiJvdXRlcldpZHRoIl0oITApLHI9e307bi5lZmZlY3RzLmNyZWF0ZVBsYWNlaG9sZGVyKHUpO3M9dS5jc3NDbGlwKCk7bz11LnBvc2l0aW9uKClbZV07cltlXT0obD8tMToxKSphK287ci5jbGlwPXUuY3NzQ2xpcCgpO3IuY2xpcFtoW2ZdWzFdXT1yLmNsaXBbaFtmXVswXV07InNob3ciPT09YyYmKHUuY3NzQ2xpcChyLmNsaXApLHUuY3NzKGUscltlXSksci5jbGlwPXMscltlXT1vKTt1LmFuaW1hdGUocix7cXVldWU6ITEsZHVyYXRpb246dC5kdXJhdGlvbixlYXNpbmc6dC5lYXNpbmcsY29tcGxldGU6aX0pfSk7bi51aUJhY2tDb21wYXQhPT0hMSYmKHA9bi5lZmZlY3RzLmRlZmluZSgidHJhbnNmZXIiLGZ1bmN0aW9uKHQsaSl7bih0aGlzKS50cmFuc2Zlcih0LGkpfSkpO24udWkuZm9jdXNhYmxlPWZ1bmN0aW9uKHQsaSl7dmFyIHUsZixlLHIsbyxzPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iYXJlYSI9PT1zPyh1PXQucGFyZW50Tm9kZSxmPXUubmFtZSx0LmhyZWYmJmYmJiJtYXAiPT09dS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPyhlPW4oImltZ1t1c2VtYXA9JyMiK2YrIiddIiksZS5sZW5ndGg+MCYmZS5pcygiOnZpc2libGUiKSk6ITEpOigvXihpbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdCkkLy50ZXN0KHMpPyhyPSF0LmRpc2FibGVkLHImJihvPW4odCkuY2xvc2VzdCgiZmllbGRzZXQiKVswXSxvJiYocj0hby5kaXNhYmxlZCkpKTpyPSJhIj09PXM/dC5ocmVmfHxpOmksciYmbih0KS5pcygiOnZpc2libGUiKSYmYihuKHQpKSl9O24uZXh0ZW5kKG4uZXhwclsiOiJdLHtmb2N1c2FibGU6ZnVuY3Rpb24odCl7cmV0dXJuIG4udWkuZm9jdXNhYmxlKHQsbnVsbCE9bi5hdHRyKHQsInRhYmluZGV4IikpfX0pO24udWkuZm9jdXNhYmxlO24uZm4uZm9ybT1mdW5jdGlvbigpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdGhpc1swXS5mb3JtP3RoaXMuY2xvc2VzdCgiZm9ybSIpOm4odGhpc1swXS5mb3JtKX07bi51aS5mb3JtUmVzZXRNaXhpbj17X2Zvcm1SZXNldEhhbmRsZXI6ZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgaT10LmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIik7bi5lYWNoKGksZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2goKX0pfSl9LF9iaW5kRm9ybVJlc2V0SGFuZGxlcjpmdW5jdGlvbigpe2lmKHRoaXMuZm9ybT10aGlzLmVsZW1lbnQuZm9ybSgpLHRoaXMuZm9ybS5sZW5ndGgpe3ZhciBuPXRoaXMuZm9ybS5kYXRhKCJ1aS1mb3JtLXJlc2V0LWluc3RhbmNlcyIpfHxbXTtuLmxlbmd0aHx8dGhpcy5mb3JtLm9uKCJyZXNldC51aS1mb3JtLXJlc2V0Iix0aGlzLl9mb3JtUmVzZXRIYW5kbGVyKTtuLnB1c2godGhpcyk7dGhpcy5mb3JtLmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIixuKX19LF91bmJpbmRGb3JtUmVzZXRIYW5kbGVyOmZ1bmN0aW9uKCl7aWYodGhpcy5mb3JtLmxlbmd0aCl7dmFyIHQ9dGhpcy5mb3JtLmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIik7dC5zcGxpY2Uobi5pbkFycmF5KHRoaXMsdCksMSk7dC5sZW5ndGg/dGhpcy5mb3JtLmRhdGEoInVpLWZvcm0tcmVzZXQtaW5zdGFuY2VzIix0KTp0aGlzLmZvcm0ucmVtb3ZlRGF0YSgidWktZm9ybS1yZXNldC1pbnN0YW5jZXMiKS5vZmYoInJlc2V0LnVpLWZvcm0tcmVzZXQiKX19fTsiMS43Ij09PW4uZm4uanF1ZXJ5LnN1YnN0cmluZygwLDMpJiYobi5lYWNoKFsiV2lkdGgiLCJIZWlnaHQiXSxmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIHIodCxpLHIsdSl7cmV0dXJuIG4uZWFjaChlLGZ1bmN0aW9uKCl7aS09cGFyc2VGbG9hdChuLmNzcyh0LCJwYWRkaW5nIit0aGlzKSl8fDA7ciYmKGktPXBhcnNlRmxvYXQobi5jc3ModCwiYm9yZGVyIit0aGlzKyJXaWR0aCIpKXx8MCk7dSYmKGktPXBhcnNlRmxvYXQobi5jc3ModCwibWFyZ2luIit0aGlzKSl8fDApfSksaX12YXIgZT0iV2lkdGgiPT09aT9bIkxlZnQiLCJSaWdodCJdOlsiVG9wIiwiQm90dG9tIl0sdT1pLnRvTG93ZXJDYXNlKCksZj17aW5uZXJXaWR0aDpuLmZuLmlubmVyV2lkdGgsaW5uZXJIZWlnaHQ6bi5mbi5pbm5lckhlaWdodCxvdXRlcldpZHRoOm4uZm4ub3V0ZXJXaWR0aCxvdXRlckhlaWdodDpuLmZuLm91dGVySGVpZ2h0fTtuLmZuWyJpbm5lciIraV09ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQ/ZlsiaW5uZXIiK2ldLmNhbGwodGhpcyk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5jc3ModSxyKHRoaXMsdCkrInB4Iil9KX07bi5mblsib3V0ZXIiK2ldPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIm51bWJlciIhPXR5cGVvZiB0P2ZbIm91dGVyIitpXS5jYWxsKHRoaXMsdCk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5jc3ModSxyKHRoaXMsdCwhMCxlKSsicHgiKX0pfX0pLG4uZm4uYWRkQmFjaz1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09bj90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihuKSl9KTtuLnVpLmtleUNvZGU9e0JBQ0tTUEFDRTo4LENPTU1BOjE4OCxERUxFVEU6NDYsRE9XTjo0MCxFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LEhPTUU6MzYsTEVGVDozNyxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNQQUNFOjMyLFRBQjo5LFVQOjM4fTtuLnVpLmVzY2FwZVNlbGVjdG9yPWZ1bmN0aW9uKCl7dmFyIG49LyhbISIjJCUmJygpKissLlwvOjs8PT4/QFtcXV5ge3x9fl0pL2c7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UobiwiXFwkMSIpfX0oKTtuLmZuLmxhYmVscz1mdW5jdGlvbigpe3ZhciB0LHIsdSxpLGY7cmV0dXJuIHRoaXNbMF0ubGFiZWxzJiZ0aGlzWzBdLmxhYmVscy5sZW5ndGg/dGhpcy5wdXNoU3RhY2sodGhpc1swXS5sYWJlbHMpOihpPXRoaXMuZXEoMCkucGFyZW50cygibGFiZWwiKSx1PXRoaXMuYXR0cigiaWQiKSx1JiYodD10aGlzLmVxKDApLnBhcmVudHMoKS5sYXN0KCksZj10LmFkZCh0Lmxlbmd0aD90LnNpYmxpbmdzKCk6dGhpcy5zaWJsaW5ncygpKSxyPSJsYWJlbFtmb3I9JyIrbi51aS5lc2NhcGVTZWxlY3Rvcih1KSsiJ10iLGk9aS5hZGQoZi5maW5kKHIpLmFkZEJhY2socikpKSx0aGlzLnB1c2hTdGFjayhpKSl9O24uZm4uc2Nyb2xsUGFyZW50PWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuY3NzKCJwb3NpdGlvbiIpLHU9ImFic29sdXRlIj09PWksZj10Py8oYXV0b3xzY3JvbGx8aGlkZGVuKS86LyhhdXRvfHNjcm9sbCkvLHI9dGhpcy5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtyZXR1cm4gdSYmInN0YXRpYyI9PT10LmNzcygicG9zaXRpb24iKT8hMTpmLnRlc3QodC5jc3MoIm92ZXJmbG93IikrdC5jc3MoIm92ZXJmbG93LXkiKSt0LmNzcygib3ZlcmZsb3cteCIpKX0pLmVxKDApO3JldHVybiJmaXhlZCIhPT1pJiZyLmxlbmd0aD9yOm4odGhpc1swXS5vd25lckRvY3VtZW50fHxkb2N1bWVudCl9O24uZXh0ZW5kKG4uZXhwclsiOiJdLHt0YWJiYWJsZTpmdW5jdGlvbih0KXt2YXIgaT1uLmF0dHIodCwidGFiaW5kZXgiKSxyPW51bGwhPWk7cmV0dXJuKCFyfHxpPj0wKSYmbi51aS5mb2N1c2FibGUodCxyKX19KTtuLmZuLmV4dGVuZCh7dW5pcXVlSWQ6ZnVuY3Rpb24oKXt2YXIgbj0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0aGlzLmlkfHwodGhpcy5pZD0idWktaWQtIisgKytuKX0pfX0oKSxyZW1vdmVVbmlxdWVJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXsvXnVpLWlkLVxkKyQvLnRlc3QodGhpcy5pZCkmJm4odGhpcykucmVtb3ZlQXR0cigiaWQiKX0pfX0pO24ud2lkZ2V0KCJ1aS5hY2NvcmRpb24iLHt2ZXJzaW9uOiIxLjEyLjEiLG9wdGlvbnM6e2FjdGl2ZTowLGFuaW1hdGU6e30sY2xhc3Nlczp7InVpLWFjY29yZGlvbi1oZWFkZXIiOiJ1aS1jb3JuZXItdG9wIiwidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiOiJ1aS1jb3JuZXItYWxsIiwidWktYWNjb3JkaW9uLWNvbnRlbnQiOiJ1aS1jb3JuZXItYm90dG9tIn0sY29sbGFwc2libGU6ITEsZXZlbnQ6ImNsaWNrIixoZWFkZXI6Ij4gbGkgPiA6Zmlyc3QtY2hpbGQsID4gOm5vdChsaSk6ZXZlbiIsaGVpZ2h0U3R5bGU6ImF1dG8iLGljb25zOnthY3RpdmVIZWFkZXI6InVpLWljb24tdHJpYW5nbGUtMS1zIixoZWFkZXI6InVpLWljb24tdHJpYW5nbGUtMS1lIn0sYWN0aXZhdGU6bnVsbCxiZWZvcmVBY3RpdmF0ZTpudWxsfSxoaWRlUHJvcHM6e2JvcmRlclRvcFdpZHRoOiJoaWRlIixib3JkZXJCb3R0b21XaWR0aDoiaGlkZSIscGFkZGluZ1RvcDoiaGlkZSIscGFkZGluZ0JvdHRvbToiaGlkZSIsaGVpZ2h0OiJoaWRlIn0sc2hvd1Byb3BzOntib3JkZXJUb3BXaWR0aDoic2hvdyIsYm9yZGVyQm90dG9tV2lkdGg6InNob3ciLHBhZGRpbmdUb3A6InNob3ciLHBhZGRpbmdCb3R0b206InNob3ciLGhlaWdodDoic2hvdyJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7dGhpcy5wcmV2U2hvdz10aGlzLnByZXZIaWRlPW4oKTt0aGlzLl9hZGRDbGFzcygidWktYWNjb3JkaW9uIiwidWktd2lkZ2V0IHVpLWhlbHBlci1yZXNldCIpO3RoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwidGFibGlzdCIpO3QuY29sbGFwc2libGV8fHQuYWN0aXZlIT09ITEmJm51bGwhPXQuYWN0aXZlfHwodC5hY3RpdmU9MCk7dGhpcy5fcHJvY2Vzc1BhbmVscygpOzA+dC5hY3RpdmUmJih0LmFjdGl2ZSs9dGhpcy5oZWFkZXJzLmxlbmd0aCk7dGhpcy5fcmVmcmVzaCgpfSxfZ2V0Q3JlYXRlRXZlbnREYXRhOmZ1bmN0aW9uKCl7cmV0dXJue2hlYWRlcjp0aGlzLmFjdGl2ZSxwYW5lbDp0aGlzLmFjdGl2ZS5sZW5ndGg/dGhpcy5hY3RpdmUubmV4dCgpOm4oKX19LF9jcmVhdGVJY29uczpmdW5jdGlvbigpe3ZhciBpLHIsdD10aGlzLm9wdGlvbnMuaWNvbnM7dCYmKGk9bigiPHNwYW4+IiksdGhpcy5fYWRkQ2xhc3MoaSwidWktYWNjb3JkaW9uLWhlYWRlci1pY29uIiwidWktaWNvbiAiK3QuaGVhZGVyKSxpLnByZXBlbmRUbyh0aGlzLmhlYWRlcnMpLHI9dGhpcy5hY3RpdmUuY2hpbGRyZW4oIi51aS1hY2NvcmRpb24taGVhZGVyLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhyLHQuaGVhZGVyKS5fYWRkQ2xhc3MocixudWxsLHQuYWN0aXZlSGVhZGVyKS5fYWRkQ2xhc3ModGhpcy5oZWFkZXJzLCJ1aS1hY2NvcmRpb24taWNvbnMiKSl9LF9kZXN0cm95SWNvbnM6ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmhlYWRlcnMsInVpLWFjY29yZGlvbi1pY29ucyIpO3RoaXMuaGVhZGVycy5jaGlsZHJlbigiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvbiIpLnJlbW92ZSgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciBuO3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJyb2xlIik7dGhpcy5oZWFkZXJzLnJlbW92ZUF0dHIoInJvbGUgYXJpYS1leHBhbmRlZCBhcmlhLXNlbGVjdGVkIGFyaWEtY29udHJvbHMgdGFiSW5kZXgiKS5yZW1vdmVVbmlxdWVJZCgpO3RoaXMuX2Rlc3Ryb3lJY29ucygpO249dGhpcy5oZWFkZXJzLm5leHQoKS5jc3MoImRpc3BsYXkiLCIiKS5yZW1vdmVBdHRyKCJyb2xlIGFyaWEtaGlkZGVuIGFyaWEtbGFiZWxsZWRieSIpLnJlbW92ZVVuaXF1ZUlkKCk7ImNvbnRlbnQiIT09dGhpcy5vcHRpb25zLmhlaWdodFN0eWxlJiZuLmNzcygiaGVpZ2h0IiwiIil9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtyZXR1cm4iYWN0aXZlIj09PW4/KHRoaXMuX2FjdGl2YXRlKHQpLHZvaWQgMCk6KCJldmVudCI9PT1uJiYodGhpcy5vcHRpb25zLmV2ZW50JiZ0aGlzLl9vZmYodGhpcy5oZWFkZXJzLHRoaXMub3B0aW9ucy5ldmVudCksdGhpcy5fc2V0dXBFdmVudHModCkpLHRoaXMuX3N1cGVyKG4sdCksImNvbGxhcHNpYmxlIiE9PW58fHR8fHRoaXMub3B0aW9ucy5hY3RpdmUhPT0hMXx8dGhpcy5fYWN0aXZhdGUoMCksImljb25zIj09PW4mJih0aGlzLl9kZXN0cm95SWNvbnMoKSx0JiZ0aGlzLl9jcmVhdGVJY29ucygpKSx2b2lkIDApfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5lbGVtZW50LmF0dHIoImFyaWEtZGlzYWJsZWQiLG4pO3RoaXMuX3RvZ2dsZUNsYXNzKG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIW4pO3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMuaGVhZGVycy5hZGQodGhpcy5oZWFkZXJzLm5leHQoKSksbnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhbil9LF9rZXlkb3duOmZ1bmN0aW9uKHQpe2lmKCF0LmFsdEtleSYmIXQuY3RybEtleSl7dmFyIGk9bi51aS5rZXlDb2RlLHU9dGhpcy5oZWFkZXJzLmxlbmd0aCxmPXRoaXMuaGVhZGVycy5pbmRleCh0LnRhcmdldCkscj0hMTtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIGkuUklHSFQ6Y2FzZSBpLkRPV046cj10aGlzLmhlYWRlcnNbKGYrMSkldV07YnJlYWs7Y2FzZSBpLkxFRlQ6Y2FzZSBpLlVQOnI9dGhpcy5oZWFkZXJzWyhmLTErdSkldV07YnJlYWs7Y2FzZSBpLlNQQUNFOmNhc2UgaS5FTlRFUjp0aGlzLl9ldmVudEhhbmRsZXIodCk7YnJlYWs7Y2FzZSBpLkhPTUU6cj10aGlzLmhlYWRlcnNbMF07YnJlYWs7Y2FzZSBpLkVORDpyPXRoaXMuaGVhZGVyc1t1LTFdfXImJihuKHQudGFyZ2V0KS5hdHRyKCJ0YWJJbmRleCIsLTEpLG4ocikuYXR0cigidGFiSW5kZXgiLDApLG4ocikudHJpZ2dlcigiZm9jdXMiKSx0LnByZXZlbnREZWZhdWx0KCkpfX0sX3BhbmVsS2V5RG93bjpmdW5jdGlvbih0KXt0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuVVAmJnQuY3RybEtleSYmbih0LmN1cnJlbnRUYXJnZXQpLnByZXYoKS50cmlnZ2VyKCJmb2N1cyIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zO3RoaXMuX3Byb2Nlc3NQYW5lbHMoKTt0LmFjdGl2ZT09PSExJiZ0LmNvbGxhcHNpYmxlPT09ITB8fCF0aGlzLmhlYWRlcnMubGVuZ3RoPyh0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpOnQuYWN0aXZlPT09ITE/dGhpcy5fYWN0aXZhdGUoMCk6dGhpcy5hY3RpdmUubGVuZ3RoJiYhbi5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sdGhpcy5hY3RpdmVbMF0pP3RoaXMuaGVhZGVycy5sZW5ndGg9PT10aGlzLmhlYWRlcnMuZmluZCgiLnVpLXN0YXRlLWRpc2FibGVkIikubGVuZ3RoPyh0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpOnRoaXMuX2FjdGl2YXRlKE1hdGgubWF4KDAsdC5hY3RpdmUtMSkpOnQuYWN0aXZlPXRoaXMuaGVhZGVycy5pbmRleCh0aGlzLmFjdGl2ZSk7dGhpcy5fZGVzdHJveUljb25zKCk7dGhpcy5fcmVmcmVzaCgpfSxfcHJvY2Vzc1BhbmVsczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuaGVhZGVycyxuPXRoaXMucGFuZWxzO3RoaXMuaGVhZGVycz10aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaGVhZGVyKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmhlYWRlcnMsInVpLWFjY29yZGlvbi1oZWFkZXIgdWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiLCJ1aS1zdGF0ZS1kZWZhdWx0Iik7dGhpcy5wYW5lbHM9dGhpcy5oZWFkZXJzLm5leHQoKS5maWx0ZXIoIjpub3QoLnVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSkiKS5oaWRlKCk7dGhpcy5fYWRkQ2xhc3ModGhpcy5wYW5lbHMsInVpLWFjY29yZGlvbi1jb250ZW50IiwidWktaGVscGVyLXJlc2V0IHVpLXdpZGdldC1jb250ZW50Iik7biYmKHRoaXMuX29mZih0Lm5vdCh0aGlzLmhlYWRlcnMpKSx0aGlzLl9vZmYobi5ub3QodGhpcy5wYW5lbHMpKSl9LF9yZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLm9wdGlvbnMscj1pLmhlaWdodFN0eWxlLHU9dGhpcy5lbGVtZW50LnBhcmVudCgpO3RoaXMuYWN0aXZlPXRoaXMuX2ZpbmRBY3RpdmUoaS5hY3RpdmUpO3RoaXMuX2FkZENsYXNzKHRoaXMuYWN0aXZlLCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLl9yZW1vdmVDbGFzcyh0aGlzLmFjdGl2ZSwidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmFjdGl2ZS5uZXh0KCksInVpLWFjY29yZGlvbi1jb250ZW50LWFjdGl2ZSIpO3RoaXMuYWN0aXZlLm5leHQoKS5zaG93KCk7dGhpcy5oZWFkZXJzLmF0dHIoInJvbGUiLCJ0YWIiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKSxyPXQudW5pcXVlSWQoKS5hdHRyKCJpZCIpLGk9dC5uZXh0KCksdT1pLnVuaXF1ZUlkKCkuYXR0cigiaWQiKTt0LmF0dHIoImFyaWEtY29udHJvbHMiLHUpO2kuYXR0cigiYXJpYS1sYWJlbGxlZGJ5IixyKX0pLm5leHQoKS5hdHRyKCJyb2xlIiwidGFicGFuZWwiKTt0aGlzLmhlYWRlcnMubm90KHRoaXMuYWN0aXZlKS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIix0YWJJbmRleDotMX0pLm5leHQoKS5hdHRyKHsiYXJpYS1oaWRkZW4iOiJ0cnVlIn0pLmhpZGUoKTt0aGlzLmFjdGl2ZS5sZW5ndGg/dGhpcy5hY3RpdmUuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJ0cnVlIiwiYXJpYS1leHBhbmRlZCI6InRydWUiLHRhYkluZGV4OjB9KS5uZXh0KCkuYXR0cih7ImFyaWEtaGlkZGVuIjoiZmFsc2UifSk6dGhpcy5oZWFkZXJzLmVxKDApLmF0dHIoInRhYkluZGV4IiwwKTt0aGlzLl9jcmVhdGVJY29ucygpO3RoaXMuX3NldHVwRXZlbnRzKGkuZXZlbnQpOyJmaWxsIj09PXI/KHQ9dS5oZWlnaHQoKSx0aGlzLmVsZW1lbnQuc2libGluZ3MoIjp2aXNpYmxlIikuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykscj1pLmNzcygicG9zaXRpb24iKTsiYWJzb2x1dGUiIT09ciYmImZpeGVkIiE9PXImJih0LT1pLm91dGVySGVpZ2h0KCEwKSl9KSx0aGlzLmhlYWRlcnMuZWFjaChmdW5jdGlvbigpe3QtPW4odGhpcykub3V0ZXJIZWlnaHQoITApfSksdGhpcy5oZWFkZXJzLm5leHQoKS5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5oZWlnaHQoTWF0aC5tYXgoMCx0LW4odGhpcykuaW5uZXJIZWlnaHQoKStuKHRoaXMpLmhlaWdodCgpKSl9KS5jc3MoIm92ZXJmbG93IiwiYXV0byIpKToiYXV0byI9PT1yJiYodD0wLHRoaXMuaGVhZGVycy5uZXh0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykuaXMoIjp2aXNpYmxlIik7aXx8bih0aGlzKS5zaG93KCk7dD1NYXRoLm1heCh0LG4odGhpcykuY3NzKCJoZWlnaHQiLCIiKS5oZWlnaHQoKSk7aXx8bih0aGlzKS5oaWRlKCl9KS5oZWlnaHQodCkpfSxfYWN0aXZhdGU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5fZmluZEFjdGl2ZSh0KVswXTtpIT09dGhpcy5hY3RpdmVbMF0mJihpPWl8fHRoaXMuYWN0aXZlWzBdLHRoaXMuX2V2ZW50SGFuZGxlcih7dGFyZ2V0OmksY3VycmVudFRhcmdldDppLHByZXZlbnREZWZhdWx0Om4ubm9vcH0pKX0sX2ZpbmRBY3RpdmU6ZnVuY3Rpb24odCl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0P3RoaXMuaGVhZGVycy5lcSh0KTpuKCl9LF9zZXR1cEV2ZW50czpmdW5jdGlvbih0KXt2YXIgaT17a2V5ZG93bjoiX2tleWRvd24ifTt0JiZuLmVhY2godC5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7aVt0XT0iX2V2ZW50SGFuZGxlciJ9KTt0aGlzLl9vZmYodGhpcy5oZWFkZXJzLmFkZCh0aGlzLmhlYWRlcnMubmV4dCgpKSk7dGhpcy5fb24odGhpcy5oZWFkZXJzLGkpO3RoaXMuX29uKHRoaXMuaGVhZGVycy5uZXh0KCkse2tleWRvd246Il9wYW5lbEtleURvd24ifSk7dGhpcy5faG92ZXJhYmxlKHRoaXMuaGVhZGVycyk7dGhpcy5fZm9jdXNhYmxlKHRoaXMuaGVhZGVycyl9LF9ldmVudEhhbmRsZXI6ZnVuY3Rpb24odCl7dmFyIGUsbyxpPXRoaXMub3B0aW9ucyx1PXRoaXMuYWN0aXZlLHI9bih0LmN1cnJlbnRUYXJnZXQpLGY9clswXT09PXVbMF0scz1mJiZpLmNvbGxhcHNpYmxlLGM9cz9uKCk6ci5uZXh0KCksbD11Lm5leHQoKSxoPXtvbGRIZWFkZXI6dSxvbGRQYW5lbDpsLG5ld0hlYWRlcjpzP24oKTpyLG5ld1BhbmVsOmN9O3QucHJldmVudERlZmF1bHQoKTtmJiYhaS5jb2xsYXBzaWJsZXx8dGhpcy5fdHJpZ2dlcigiYmVmb3JlQWN0aXZhdGUiLHQsaCk9PT0hMXx8KGkuYWN0aXZlPXM/ITE6dGhpcy5oZWFkZXJzLmluZGV4KHIpLHRoaXMuYWN0aXZlPWY/bigpOnIsdGhpcy5fdG9nZ2xlKGgpLHRoaXMuX3JlbW92ZUNsYXNzKHUsInVpLWFjY29yZGlvbi1oZWFkZXItYWN0aXZlIiwidWktc3RhdGUtYWN0aXZlIiksaS5pY29ucyYmKGU9dS5jaGlsZHJlbigiLnVpLWFjY29yZGlvbi1oZWFkZXItaWNvbiIpLHRoaXMuX3JlbW92ZUNsYXNzKGUsbnVsbCxpLmljb25zLmFjdGl2ZUhlYWRlcikuX2FkZENsYXNzKGUsbnVsbCxpLmljb25zLmhlYWRlcikpLGZ8fCh0aGlzLl9yZW1vdmVDbGFzcyhyLCJ1aS1hY2NvcmRpb24taGVhZGVyLWNvbGxhcHNlZCIpLl9hZGRDbGFzcyhyLCJ1aS1hY2NvcmRpb24taGVhZGVyLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLGkuaWNvbnMmJihvPXIuY2hpbGRyZW4oIi51aS1hY2NvcmRpb24taGVhZGVyLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhvLG51bGwsaS5pY29ucy5oZWFkZXIpLl9hZGRDbGFzcyhvLG51bGwsaS5pY29ucy5hY3RpdmVIZWFkZXIpKSx0aGlzLl9hZGRDbGFzcyhyLm5leHQoKSwidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlIikpKX0sX3RvZ2dsZTpmdW5jdGlvbih0KXt2YXIgcj10Lm5ld1BhbmVsLGk9dGhpcy5wcmV2U2hvdy5sZW5ndGg/dGhpcy5wcmV2U2hvdzp0Lm9sZFBhbmVsO3RoaXMucHJldlNob3cuYWRkKHRoaXMucHJldkhpZGUpLnN0b3AoITAsITApO3RoaXMucHJldlNob3c9cjt0aGlzLnByZXZIaWRlPWk7dGhpcy5vcHRpb25zLmFuaW1hdGU/dGhpcy5fYW5pbWF0ZShyLGksdCk6KGkuaGlkZSgpLHIuc2hvdygpLHRoaXMuX3RvZ2dsZUNvbXBsZXRlKHQpKTtpLmF0dHIoeyJhcmlhLWhpZGRlbiI6InRydWUifSk7aS5wcmV2KCkuYXR0cih7ImFyaWEtc2VsZWN0ZWQiOiJmYWxzZSIsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSJ9KTtyLmxlbmd0aCYmaS5sZW5ndGg/aS5wcmV2KCkuYXR0cih7dGFiSW5kZXg6LTEsImFyaWEtZXhwYW5kZWQiOiJmYWxzZSJ9KTpyLmxlbmd0aCYmdGhpcy5oZWFkZXJzLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiAwPT09cGFyc2VJbnQobih0aGlzKS5hdHRyKCJ0YWJJbmRleCIpLDEwKX0pLmF0dHIoInRhYkluZGV4IiwtMSk7ci5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIikucHJldigpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJ0cnVlIix0YWJJbmRleDowfSl9LF9hbmltYXRlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgaCxyLHUsYz10aGlzLG89MCxsPW4uY3NzKCJib3gtc2l6aW5nIiksYT1uLmxlbmd0aCYmKCF0Lmxlbmd0aHx8bi5pbmRleCgpPHQuaW5kZXgoKSksZT10aGlzLm9wdGlvbnMuYW5pbWF0ZXx8e30sZj1hJiZlLmRvd258fGUscz1mdW5jdGlvbigpe2MuX3RvZ2dsZUNvbXBsZXRlKGkpfTtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGYmJih1PWYpLCJzdHJpbmciPT10eXBlb2YgZiYmKHI9Zikscj1yfHxmLmVhc2luZ3x8ZS5lYXNpbmcsdT11fHxmLmR1cmF0aW9ufHxlLmR1cmF0aW9uLHQubGVuZ3RoP24ubGVuZ3RoPyhoPW4uc2hvdygpLm91dGVySGVpZ2h0KCksdC5hbmltYXRlKHRoaXMuaGlkZVByb3BzLHtkdXJhdGlvbjp1LGVhc2luZzpyLHN0ZXA6ZnVuY3Rpb24obix0KXt0Lm5vdz1NYXRoLnJvdW5kKG4pfX0pLG4uaGlkZSgpLmFuaW1hdGUodGhpcy5zaG93UHJvcHMse2R1cmF0aW9uOnUsZWFzaW5nOnIsY29tcGxldGU6cyxzdGVwOmZ1bmN0aW9uKG4saSl7aS5ub3c9TWF0aC5yb3VuZChuKTsiaGVpZ2h0IiE9PWkucHJvcD8iY29udGVudC1ib3giPT09bCYmKG8rPWkubm93KToiY29udGVudCIhPT1jLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJihpLm5vdz1NYXRoLnJvdW5kKGgtdC5vdXRlckhlaWdodCgpLW8pLG89MCl9fSksdm9pZCAwKTp0LmFuaW1hdGUodGhpcy5oaWRlUHJvcHMsdSxyLHMpOm4uYW5pbWF0ZSh0aGlzLnNob3dQcm9wcyx1LHIscyl9LF90b2dnbGVDb21wbGV0ZTpmdW5jdGlvbihuKXt2YXIgdD1uLm9sZFBhbmVsLGk9dC5wcmV2KCk7dGhpcy5fcmVtb3ZlQ2xhc3ModCwidWktYWNjb3JkaW9uLWNvbnRlbnQtYWN0aXZlIik7dGhpcy5fcmVtb3ZlQ2xhc3MoaSwidWktYWNjb3JkaW9uLWhlYWRlci1hY3RpdmUiKS5fYWRkQ2xhc3MoaSwidWktYWNjb3JkaW9uLWhlYWRlci1jb2xsYXBzZWQiKTt0Lmxlbmd0aCYmKHQucGFyZW50KClbMF0uY2xhc3NOYW1lPXQucGFyZW50KClbMF0uY2xhc3NOYW1lKTt0aGlzLl90cmlnZ2VyKCJhY3RpdmF0ZSIsbnVsbCxuKX19KTtuLnVpLnNhZmVBY3RpdmVFbGVtZW50PWZ1bmN0aW9uKG4pe3ZhciB0O3RyeXt0PW4uYWN0aXZlRWxlbWVudH1jYXRjaChpKXt0PW4uYm9keX1yZXR1cm4gdHx8KHQ9bi5ib2R5KSx0Lm5vZGVOYW1lfHwodD1uLmJvZHkpLHR9O24ud2lkZ2V0KCJ1aS5tZW51Iix7dmVyc2lvbjoiMS4xMi4xIixkZWZhdWx0RWxlbWVudDoiPHVsPiIsZGVsYXk6MzAwLG9wdGlvbnM6e2ljb25zOntzdWJtZW51OiJ1aS1pY29uLWNhcmV0LTEtZSJ9LGl0ZW1zOiI+ICoiLG1lbnVzOiJ1bCIscG9zaXRpb246e215OiJsZWZ0IHRvcCIsYXQ6InJpZ2h0IHRvcCJ9LHJvbGU6Im1lbnUiLGJsdXI6bnVsbCxmb2N1czpudWxsLHNlbGVjdDpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5hY3RpdmVNZW51PXRoaXMuZWxlbWVudDt0aGlzLm1vdXNlSGFuZGxlZD0hMTt0aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKHtyb2xlOnRoaXMub3B0aW9ucy5yb2xlLHRhYkluZGV4OjB9KTt0aGlzLl9hZGRDbGFzcygidWktbWVudSIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpO3RoaXMuX29uKHsibW91c2Vkb3duIC51aS1tZW51LWl0ZW0iOmZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX0sImNsaWNrIC51aS1tZW51LWl0ZW0iOmZ1bmN0aW9uKHQpe3ZhciBpPW4odC50YXJnZXQpLHI9bihuLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pKTshdGhpcy5tb3VzZUhhbmRsZWQmJmkubm90KCIudWktc3RhdGUtZGlzYWJsZWQiKS5sZW5ndGgmJih0aGlzLnNlbGVjdCh0KSx0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCl8fCh0aGlzLm1vdXNlSGFuZGxlZD0hMCksaS5oYXMoIi51aS1tZW51IikubGVuZ3RoP3RoaXMuZXhwYW5kKHQpOiF0aGlzLmVsZW1lbnQuaXMoIjpmb2N1cyIpJiZyLmNsb3Nlc3QoIi51aS1tZW51IikubGVuZ3RoJiYodGhpcy5lbGVtZW50LnRyaWdnZXIoImZvY3VzIixbITBdKSx0aGlzLmFjdGl2ZSYmMT09PXRoaXMuYWN0aXZlLnBhcmVudHMoIi51aS1tZW51IikubGVuZ3RoJiZjbGVhclRpbWVvdXQodGhpcy50aW1lcikpKX0sIm1vdXNlZW50ZXIgLnVpLW1lbnUtaXRlbSI6ZnVuY3Rpb24odCl7aWYoIXRoaXMucHJldmlvdXNGaWx0ZXIpe3ZhciByPW4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1tZW51LWl0ZW0iKSxpPW4odC5jdXJyZW50VGFyZ2V0KTtyWzBdPT09aVswXSYmKHRoaXMuX3JlbW92ZUNsYXNzKGkuc2libGluZ3MoKS5jaGlsZHJlbigiLnVpLXN0YXRlLWFjdGl2ZSIpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuZm9jdXModCxpKSl9fSxtb3VzZWxlYXZlOiJjb2xsYXBzZUFsbCIsIm1vdXNlbGVhdmUgLnVpLW1lbnUiOiJjb2xsYXBzZUFsbCIsZm9jdXM6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLmFjdGl2ZXx8dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKS5lcSgwKTt0fHx0aGlzLmZvY3VzKG4saSl9LGJsdXI6ZnVuY3Rpb24odCl7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt2YXIgaT0hbi5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sbi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSk7aSYmdGhpcy5jb2xsYXBzZUFsbCh0KX0pfSxrZXlkb3duOiJfa2V5ZG93biJ9KTt0aGlzLnJlZnJlc2goKTt0aGlzLl9vbih0aGlzLmRvY3VtZW50LHtjbGljazpmdW5jdGlvbihuKXt0aGlzLl9jbG9zZU9uRG9jdW1lbnRDbGljayhuKSYmdGhpcy5jb2xsYXBzZUFsbChuKTt0aGlzLm1vdXNlSGFuZGxlZD0hMX19KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUtaXRlbSIpLnJlbW92ZUF0dHIoInJvbGUgYXJpYS1kaXNhYmxlZCIpLGk9dC5jaGlsZHJlbigiLnVpLW1lbnUtaXRlbS13cmFwcGVyIikucmVtb3ZlVW5pcXVlSWQoKS5yZW1vdmVBdHRyKCJ0YWJJbmRleCByb2xlIGFyaWEtaGFzcG9wdXAiKTt0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IikuZmluZCgiLnVpLW1lbnUiKS5hZGRCYWNrKCkucmVtb3ZlQXR0cigicm9sZSBhcmlhLWxhYmVsbGVkYnkgYXJpYS1leHBhbmRlZCBhcmlhLWhpZGRlbiBhcmlhLWRpc2FibGVkIHRhYkluZGV4IikucmVtb3ZlVW5pcXVlSWQoKS5zaG93KCk7aS5jaGlsZHJlbigpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3QuZGF0YSgidWktbWVudS1zdWJtZW51LWNhcmV0IikmJnQucmVtb3ZlKCl9KX0sX2tleWRvd246ZnVuY3Rpb24odCl7dmFyIGksdSxyLGYsZT0hMDtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5QQUdFX1VQOnRoaXMucHJldmlvdXNQYWdlKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlBBR0VfRE9XTjp0aGlzLm5leHRQYWdlKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkhPTUU6dGhpcy5fbW92ZSgiZmlyc3QiLCJmaXJzdCIsdCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRU5EOnRoaXMuX21vdmUoImxhc3QiLCJsYXN0Iix0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5VUDp0aGlzLnByZXZpb3VzKHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkRPV046dGhpcy5uZXh0KHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkxFRlQ6dGhpcy5jb2xsYXBzZSh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5SSUdIVDp0aGlzLmFjdGl2ZSYmIXRoaXMuYWN0aXZlLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5leHBhbmQodCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRU5URVI6Y2FzZSBuLnVpLmtleUNvZGUuU1BBQ0U6dGhpcy5fYWN0aXZhdGUodCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRVNDQVBFOnRoaXMuY29sbGFwc2UodCk7YnJlYWs7ZGVmYXVsdDplPSExO3U9dGhpcy5wcmV2aW91c0ZpbHRlcnx8IiI7Zj0hMTtyPXQua2V5Q29kZT49OTYmJjEwNT49dC5rZXlDb2RlPyIiKyh0LmtleUNvZGUtOTYpOlN0cmluZy5mcm9tQ2hhckNvZGUodC5rZXlDb2RlKTtjbGVhclRpbWVvdXQodGhpcy5maWx0ZXJUaW1lcik7cj09PXU/Zj0hMDpyPXUrcjtpPXRoaXMuX2ZpbHRlck1lbnVJdGVtcyhyKTtpPWYmJi0xIT09aS5pbmRleCh0aGlzLmFjdGl2ZS5uZXh0KCkpP3RoaXMuYWN0aXZlLm5leHRBbGwoIi51aS1tZW51LWl0ZW0iKTppO2kubGVuZ3RofHwocj1TdHJpbmcuZnJvbUNoYXJDb2RlKHQua2V5Q29kZSksaT10aGlzLl9maWx0ZXJNZW51SXRlbXMocikpO2kubGVuZ3RoPyh0aGlzLmZvY3VzKHQsaSksdGhpcy5wcmV2aW91c0ZpbHRlcj1yLHRoaXMuZmlsdGVyVGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5wcmV2aW91c0ZpbHRlcn0sMWUzKSk6ZGVsZXRlIHRoaXMucHJldmlvdXNGaWx0ZXJ9ZSYmdC5wcmV2ZW50RGVmYXVsdCgpfSxfYWN0aXZhdGU6ZnVuY3Rpb24obil7dGhpcy5hY3RpdmUmJiF0aGlzLmFjdGl2ZS5pcygiLnVpLXN0YXRlLWRpc2FibGVkIikmJih0aGlzLmFjdGl2ZS5jaGlsZHJlbigiW2FyaWEtaGFzcG9wdXA9J3RydWUnXSIpLmxlbmd0aD90aGlzLmV4cGFuZChuKTp0aGlzLnNlbGVjdChuKSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdSx0LGYsaSxlLHI9dGhpcyxzPXRoaXMub3B0aW9ucy5pY29ucy5zdWJtZW51LG89dGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLm1lbnVzKTt0aGlzLl90b2dnbGVDbGFzcygidWktbWVudS1pY29ucyIsbnVsbCwhIXRoaXMuZWxlbWVudC5maW5kKCIudWktaWNvbiIpLmxlbmd0aCk7Zj1vLmZpbHRlcigiOm5vdCgudWktbWVudSkiKS5oaWRlKCkuYXR0cih7cm9sZTp0aGlzLm9wdGlvbnMucm9sZSwiYXJpYS1oaWRkZW4iOiJ0cnVlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIn0pLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLGk9dC5wcmV2KCksdT1uKCI8c3Bhbj4iKS5kYXRhKCJ1aS1tZW51LXN1Ym1lbnUtY2FyZXQiLCEwKTtyLl9hZGRDbGFzcyh1LCJ1aS1tZW51LWljb24iLCJ1aS1pY29uICIrcyk7aS5hdHRyKCJhcmlhLWhhc3BvcHVwIiwidHJ1ZSIpLnByZXBlbmQodSk7dC5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiLGkuYXR0cigiaWQiKSl9KTt0aGlzLl9hZGRDbGFzcyhmLCJ1aS1tZW51IiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLWZyb250Iik7dT1vLmFkZCh0aGlzLmVsZW1lbnQpO3Q9dS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcyk7dC5ub3QoIi51aS1tZW51LWl0ZW0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtyLl9pc0RpdmlkZXIodCkmJnIuX2FkZENsYXNzKHQsInVpLW1lbnUtZGl2aWRlciIsInVpLXdpZGdldC1jb250ZW50Iil9KTtpPXQubm90KCIudWktbWVudS1pdGVtLCAudWktbWVudS1kaXZpZGVyIik7ZT1pLmNoaWxkcmVuKCkubm90KCIudWktbWVudSIpLnVuaXF1ZUlkKCkuYXR0cih7dGFiSW5kZXg6LTEscm9sZTp0aGlzLl9pdGVtUm9sZSgpfSk7dGhpcy5fYWRkQ2xhc3MoaSwidWktbWVudS1pdGVtIikuX2FkZENsYXNzKGUsInVpLW1lbnUtaXRlbS13cmFwcGVyIik7dC5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIik7dGhpcy5hY3RpdmUmJiFuLmNvbnRhaW5zKHRoaXMuZWxlbWVudFswXSx0aGlzLmFjdGl2ZVswXSkmJnRoaXMuYmx1cigpfSxfaXRlbVJvbGU6ZnVuY3Rpb24oKXtyZXR1cm57bWVudToibWVudWl0ZW0iLGxpc3Rib3g6Im9wdGlvbiJ9W3RoaXMub3B0aW9ucy5yb2xlXX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe2lmKCJpY29ucyI9PT1uKXt2YXIgaT10aGlzLmVsZW1lbnQuZmluZCgiLnVpLW1lbnUtaWNvbiIpO3RoaXMuX3JlbW92ZUNsYXNzKGksbnVsbCx0aGlzLm9wdGlvbnMuaWNvbnMuc3VibWVudSkuX2FkZENsYXNzKGksbnVsbCx0LnN1Ym1lbnUpfXRoaXMuX3N1cGVyKG4sdCl9LF9zZXRPcHRpb25EaXNhYmxlZDpmdW5jdGlvbihuKXt0aGlzLl9zdXBlcihuKTt0aGlzLmVsZW1lbnQuYXR0cigiYXJpYS1kaXNhYmxlZCIsbisiIik7dGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhbil9LGZvY3VzOmZ1bmN0aW9uKG4sdCl7dmFyIGkscix1O3RoaXMuYmx1cihuLG4mJiJmb2N1cyI9PT1uLnR5cGUpO3RoaXMuX3Njcm9sbEludG9WaWV3KHQpO3RoaXMuYWN0aXZlPXQuZmlyc3QoKTtyPXRoaXMuYWN0aXZlLmNoaWxkcmVuKCIudWktbWVudS1pdGVtLXdyYXBwZXIiKTt0aGlzLl9hZGRDbGFzcyhyLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpO3RoaXMub3B0aW9ucy5yb2xlJiZ0aGlzLmVsZW1lbnQuYXR0cigiYXJpYS1hY3RpdmVkZXNjZW5kYW50IixyLmF0dHIoImlkIikpO3U9dGhpcy5hY3RpdmUucGFyZW50KCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIpLmNoaWxkcmVuKCIudWktbWVudS1pdGVtLXdyYXBwZXIiKTt0aGlzLl9hZGRDbGFzcyh1LG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpO24mJiJrZXlkb3duIj09PW4udHlwZT90aGlzLl9jbG9zZSgpOnRoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLl9jbG9zZSgpfSx0aGlzLmRlbGF5KTtpPXQuY2hpbGRyZW4oIi51aS1tZW51Iik7aS5sZW5ndGgmJm4mJi9ebW91c2UvLnRlc3Qobi50eXBlKSYmdGhpcy5fc3RhcnRPcGVuaW5nKGkpO3RoaXMuYWN0aXZlTWVudT10LnBhcmVudCgpO3RoaXMuX3RyaWdnZXIoImZvY3VzIixuLHtpdGVtOnR9KX0sX3Njcm9sbEludG9WaWV3OmZ1bmN0aW9uKHQpe3ZhciBlLG8saSxyLHUsZjt0aGlzLl9oYXNTY3JvbGwoKSYmKGU9cGFyc2VGbG9hdChuLmNzcyh0aGlzLmFjdGl2ZU1lbnVbMF0sImJvcmRlclRvcFdpZHRoIikpfHwwLG89cGFyc2VGbG9hdChuLmNzcyh0aGlzLmFjdGl2ZU1lbnVbMF0sInBhZGRpbmdUb3AiKSl8fDAsaT10Lm9mZnNldCgpLnRvcC10aGlzLmFjdGl2ZU1lbnUub2Zmc2V0KCkudG9wLWUtbyxyPXRoaXMuYWN0aXZlTWVudS5zY3JvbGxUb3AoKSx1PXRoaXMuYWN0aXZlTWVudS5oZWlnaHQoKSxmPXQub3V0ZXJIZWlnaHQoKSwwPmk/dGhpcy5hY3RpdmVNZW51LnNjcm9sbFRvcChyK2kpOmkrZj51JiZ0aGlzLmFjdGl2ZU1lbnUuc2Nyb2xsVG9wKHIraS11K2YpKX0sYmx1cjpmdW5jdGlvbihuLHQpe3R8fGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTt0aGlzLmFjdGl2ZSYmKHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuYWN0aXZlLmNoaWxkcmVuKCIudWktbWVudS1pdGVtLXdyYXBwZXIiKSxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLl90cmlnZ2VyKCJibHVyIixuLHtpdGVtOnRoaXMuYWN0aXZlfSksdGhpcy5hY3RpdmU9bnVsbCl9LF9zdGFydE9wZW5pbmc6ZnVuY3Rpb24obil7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpOyJ0cnVlIj09PW4uYXR0cigiYXJpYS1oaWRkZW4iKSYmKHRoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLl9jbG9zZSgpO3RoaXMuX29wZW4obil9LHRoaXMuZGVsYXkpKX0sX29wZW46ZnVuY3Rpb24odCl7dmFyIGk9bi5leHRlbmQoeyJvZiI6dGhpcy5hY3RpdmV9LHRoaXMub3B0aW9ucy5wb3NpdGlvbik7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO3RoaXMuZWxlbWVudC5maW5kKCIudWktbWVudSIpLm5vdCh0LnBhcmVudHMoIi51aS1tZW51IikpLmhpZGUoKS5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKTt0LnNob3coKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCJ0cnVlIikucG9zaXRpb24oaSl9LGNvbGxhcHNlQWxsOmZ1bmN0aW9uKHQsaSl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO3RoaXMudGltZXI9dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt2YXIgcj1pP3RoaXMuZWxlbWVudDpuKHQmJnQudGFyZ2V0KS5jbG9zZXN0KHRoaXMuZWxlbWVudC5maW5kKCIudWktbWVudSIpKTtyLmxlbmd0aHx8KHI9dGhpcy5lbGVtZW50KTt0aGlzLl9jbG9zZShyKTt0aGlzLmJsdXIodCk7dGhpcy5fcmVtb3ZlQ2xhc3Moci5maW5kKCIudWktc3RhdGUtYWN0aXZlIiksbnVsbCwidWktc3RhdGUtYWN0aXZlIik7dGhpcy5hY3RpdmVNZW51PXJ9LHRoaXMuZGVsYXkpfSxfY2xvc2U6ZnVuY3Rpb24obil7bnx8KG49dGhpcy5hY3RpdmU/dGhpcy5hY3RpdmUucGFyZW50KCk6dGhpcy5lbGVtZW50KTtuLmZpbmQoIi51aS1tZW51IikuaGlkZSgpLmF0dHIoImFyaWEtaGlkZGVuIiwidHJ1ZSIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpfSxfY2xvc2VPbkRvY3VtZW50Q2xpY2s6ZnVuY3Rpb24odCl7cmV0dXJuIW4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1tZW51IikubGVuZ3RofSxfaXNEaXZpZGVyOmZ1bmN0aW9uKG4pe3JldHVybiEvW15cLVx1MjAxNFx1MjAxM1xzXS8udGVzdChuLnRleHQoKSl9LGNvbGxhcHNlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuYWN0aXZlJiZ0aGlzLmFjdGl2ZS5wYXJlbnQoKS5jbG9zZXN0KCIudWktbWVudS1pdGVtIix0aGlzLmVsZW1lbnQpO3QmJnQubGVuZ3RoJiYodGhpcy5fY2xvc2UoKSx0aGlzLmZvY3VzKG4sdCkpfSxleHBhbmQ6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5hY3RpdmUmJnRoaXMuYWN0aXZlLmNoaWxkcmVuKCIudWktbWVudSAiKS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcykuZmlyc3QoKTt0JiZ0Lmxlbmd0aCYmKHRoaXMuX29wZW4odC5wYXJlbnQoKSksdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLmZvY3VzKG4sdCl9KSl9LG5leHQ6ZnVuY3Rpb24obil7dGhpcy5fbW92ZSgibmV4dCIsImZpcnN0IixuKX0scHJldmlvdXM6ZnVuY3Rpb24obil7dGhpcy5fbW92ZSgicHJldiIsImxhc3QiLG4pfSxpc0ZpcnN0SXRlbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2ZSYmIXRoaXMuYWN0aXZlLnByZXZBbGwoIi51aS1tZW51LWl0ZW0iKS5sZW5ndGh9LGlzTGFzdEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmUmJiF0aGlzLmFjdGl2ZS5uZXh0QWxsKCIudWktbWVudS1pdGVtIikubGVuZ3RofSxfbW92ZTpmdW5jdGlvbihuLHQsaSl7dmFyIHI7dGhpcy5hY3RpdmUmJihyPSJmaXJzdCI9PT1ufHwibGFzdCI9PT1uP3RoaXMuYWN0aXZlWyJmaXJzdCI9PT1uPyJwcmV2QWxsIjoibmV4dEFsbCJdKCIudWktbWVudS1pdGVtIikuZXEoLTEpOnRoaXMuYWN0aXZlW24rIkFsbCJdKCIudWktbWVudS1pdGVtIikuZXEoMCkpO3ImJnIubGVuZ3RoJiZ0aGlzLmFjdGl2ZXx8KHI9dGhpcy5hY3RpdmVNZW51LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zKVt0XSgpKTt0aGlzLmZvY3VzKGkscil9LG5leHRQYWdlOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdTtyZXR1cm4gdGhpcy5hY3RpdmU/KHRoaXMuaXNMYXN0SXRlbSgpfHwodGhpcy5faGFzU2Nyb2xsKCk/KHI9dGhpcy5hY3RpdmUub2Zmc2V0KCkudG9wLHU9dGhpcy5lbGVtZW50LmhlaWdodCgpLHRoaXMuYWN0aXZlLm5leHRBbGwoIi51aS1tZW51LWl0ZW0iKS5lYWNoKGZ1bmN0aW9uKCl7cmV0dXJuIGk9bih0aGlzKSwwPmkub2Zmc2V0KCkudG9wLXItdX0pLHRoaXMuZm9jdXModCxpKSk6dGhpcy5mb2N1cyh0LHRoaXMuYWN0aXZlTWVudS5maW5kKHRoaXMub3B0aW9ucy5pdGVtcylbdGhpcy5hY3RpdmU/Imxhc3QiOiJmaXJzdCJdKCkpKSx2b2lkIDApOih0aGlzLm5leHQodCksdm9pZCAwKX0scHJldmlvdXNQYWdlOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdTtyZXR1cm4gdGhpcy5hY3RpdmU/KHRoaXMuaXNGaXJzdEl0ZW0oKXx8KHRoaXMuX2hhc1Njcm9sbCgpPyhyPXRoaXMuYWN0aXZlLm9mZnNldCgpLnRvcCx1PXRoaXMuZWxlbWVudC5oZWlnaHQoKSx0aGlzLmFjdGl2ZS5wcmV2QWxsKCIudWktbWVudS1pdGVtIikuZWFjaChmdW5jdGlvbigpe3JldHVybiBpPW4odGhpcyksaS5vZmZzZXQoKS50b3Atcit1PjB9KSx0aGlzLmZvY3VzKHQsaSkpOnRoaXMuZm9jdXModCx0aGlzLmFjdGl2ZU1lbnUuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmZpcnN0KCkpKSx2b2lkIDApOih0aGlzLm5leHQodCksdm9pZCAwKX0sX2hhc1Njcm9sbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKTx0aGlzLmVsZW1lbnQucHJvcCgic2Nyb2xsSGVpZ2h0Iil9LHNlbGVjdDpmdW5jdGlvbih0KXt0aGlzLmFjdGl2ZT10aGlzLmFjdGl2ZXx8bih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLW1lbnUtaXRlbSIpO3ZhciBpPXtpdGVtOnRoaXMuYWN0aXZlfTt0aGlzLmFjdGl2ZS5oYXMoIi51aS1tZW51IikubGVuZ3RofHx0aGlzLmNvbGxhcHNlQWxsKHQsITApO3RoaXMuX3RyaWdnZXIoInNlbGVjdCIsdCxpKX0sX2ZpbHRlck1lbnVJdGVtczpmdW5jdGlvbih0KXt2YXIgaT10LnJlcGxhY2UoL1tcLVxbXF17fSgpKis/LixcXFxeJHwjXHNdL2csIlxcJCYiKSxyPVJlZ0V4cCgiXiIraSwiaSIpO3JldHVybiB0aGlzLmFjdGl2ZU1lbnUuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmZpbHRlcigiLnVpLW1lbnUtaXRlbSIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiByLnRlc3Qobi50cmltKG4odGhpcykuY2hpbGRyZW4oIi51aS1tZW51LWl0ZW0td3JhcHBlciIpLnRleHQoKSkpfSl9fSk7bi53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIse3ZlcnNpb246IjEuMTIuMSIsZGVmYXVsdEVsZW1lbnQ6IjxpbnB1dD4iLG9wdGlvbnM6e2FwcGVuZFRvOm51bGwsYXV0b0ZvY3VzOiExLGRlbGF5OjMwMCxtaW5MZW5ndGg6MSxwb3NpdGlvbjp7bXk6ImxlZnQgdG9wIixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoibm9uZSJ9LHNvdXJjZTpudWxsLGNoYW5nZTpudWxsLGNsb3NlOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwscmVzcG9uc2U6bnVsbCxzZWFyY2g6bnVsbCxzZWxlY3Q6bnVsbH0scmVxdWVzdEluZGV4OjAscGVuZGluZzowLF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdCxpLHIsdT10aGlzLmVsZW1lbnRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxmPSJ0ZXh0YXJlYSI9PT11LGU9ImlucHV0Ij09PXU7dGhpcy5pc011bHRpTGluZT1mfHwhZSYmdGhpcy5faXNDb250ZW50RWRpdGFibGUodGhpcy5lbGVtZW50KTt0aGlzLnZhbHVlTWV0aG9kPXRoaXMuZWxlbWVudFtmfHxlPyJ2YWwiOiJ0ZXh0Il07dGhpcy5pc05ld01lbnU9ITA7dGhpcy5fYWRkQ2xhc3MoInVpLWF1dG9jb21wbGV0ZS1pbnB1dCIpO3RoaXMuZWxlbWVudC5hdHRyKCJhdXRvY29tcGxldGUiLCJvZmYiKTt0aGlzLl9vbih0aGlzLmVsZW1lbnQse2tleWRvd246ZnVuY3Rpb24odSl7aWYodGhpcy5lbGVtZW50LnByb3AoInJlYWRPbmx5IikpcmV0dXJuIHQ9ITAscj0hMCxpPSEwLHZvaWQgMDt0PSExO3I9ITE7aT0hMTt2YXIgZj1uLnVpLmtleUNvZGU7c3dpdGNoKHUua2V5Q29kZSl7Y2FzZSBmLlBBR0VfVVA6dD0hMDt0aGlzLl9tb3ZlKCJwcmV2aW91c1BhZ2UiLHUpO2JyZWFrO2Nhc2UgZi5QQUdFX0RPV046dD0hMDt0aGlzLl9tb3ZlKCJuZXh0UGFnZSIsdSk7YnJlYWs7Y2FzZSBmLlVQOnQ9ITA7dGhpcy5fa2V5RXZlbnQoInByZXZpb3VzIix1KTticmVhaztjYXNlIGYuRE9XTjp0PSEwO3RoaXMuX2tleUV2ZW50KCJuZXh0Iix1KTticmVhaztjYXNlIGYuRU5URVI6dGhpcy5tZW51LmFjdGl2ZSYmKHQ9ITAsdS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMubWVudS5zZWxlY3QodSkpO2JyZWFrO2Nhc2UgZi5UQUI6dGhpcy5tZW51LmFjdGl2ZSYmdGhpcy5tZW51LnNlbGVjdCh1KTticmVhaztjYXNlIGYuRVNDQVBFOnRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpJiYodGhpcy5pc011bHRpTGluZXx8dGhpcy5fdmFsdWUodGhpcy50ZXJtKSx0aGlzLmNsb3NlKHUpLHUucHJldmVudERlZmF1bHQoKSk7YnJlYWs7ZGVmYXVsdDppPSEwO3RoaXMuX3NlYXJjaFRpbWVvdXQodSl9fSxrZXlwcmVzczpmdW5jdGlvbihyKXtpZih0KXJldHVybiB0PSExLCghdGhpcy5pc011bHRpTGluZXx8dGhpcy5tZW51LmVsZW1lbnQuaXMoIjp2aXNpYmxlIikpJiZyLnByZXZlbnREZWZhdWx0KCksdm9pZCAwO2lmKCFpKXt2YXIgdT1uLnVpLmtleUNvZGU7c3dpdGNoKHIua2V5Q29kZSl7Y2FzZSB1LlBBR0VfVVA6dGhpcy5fbW92ZSgicHJldmlvdXNQYWdlIixyKTticmVhaztjYXNlIHUuUEFHRV9ET1dOOnRoaXMuX21vdmUoIm5leHRQYWdlIixyKTticmVhaztjYXNlIHUuVVA6dGhpcy5fa2V5RXZlbnQoInByZXZpb3VzIixyKTticmVhaztjYXNlIHUuRE9XTjp0aGlzLl9rZXlFdmVudCgibmV4dCIscil9fX0saW5wdXQ6ZnVuY3Rpb24obil7cmV0dXJuIHI/KHI9ITEsbi5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgMCk6KHRoaXMuX3NlYXJjaFRpbWVvdXQobiksdm9pZCAwKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkSXRlbT1udWxsO3RoaXMucHJldmlvdXM9dGhpcy5fdmFsdWUoKX0sYmx1cjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5jYW5jZWxCbHVyPyhkZWxldGUgdGhpcy5jYW5jZWxCbHVyLHZvaWQgMCk6KGNsZWFyVGltZW91dCh0aGlzLnNlYXJjaGluZyksdGhpcy5jbG9zZShuKSx0aGlzLl9jaGFuZ2Uobiksdm9pZCAwKX19KTt0aGlzLl9pbml0U291cmNlKCk7dGhpcy5tZW51PW4oIjx1bD4iKS5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKS5tZW51KHtyb2xlOm51bGx9KS5oaWRlKCkubWVudSgiaW5zdGFuY2UiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLm1lbnUuZWxlbWVudCwidWktYXV0b2NvbXBsZXRlIiwidWktZnJvbnQiKTt0aGlzLl9vbih0aGlzLm1lbnUuZWxlbWVudCx7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt0aGlzLmNhbmNlbEJsdXI9ITA7dGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5jYW5jZWxCbHVyO3RoaXMuZWxlbWVudFswXSE9PW4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkmJnRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpfSl9LG1lbnVmb2N1czpmdW5jdGlvbih0LGkpe3ZhciByLHU7cmV0dXJuIHRoaXMuaXNOZXdNZW51JiYodGhpcy5pc05ld01lbnU9ITEsdC5vcmlnaW5hbEV2ZW50JiYvXm1vdXNlLy50ZXN0KHQub3JpZ2luYWxFdmVudC50eXBlKSk/KHRoaXMubWVudS5ibHVyKCksdGhpcy5kb2N1bWVudC5vbmUoIm1vdXNlbW92ZSIsZnVuY3Rpb24oKXtuKHQudGFyZ2V0KS50cmlnZ2VyKHQub3JpZ2luYWxFdmVudCl9KSx2b2lkIDApOih1PWkuaXRlbS5kYXRhKCJ1aS1hdXRvY29tcGxldGUtaXRlbSIpLCExIT09dGhpcy5fdHJpZ2dlcigiZm9jdXMiLHQse2l0ZW06dX0pJiZ0Lm9yaWdpbmFsRXZlbnQmJi9ea2V5Ly50ZXN0KHQub3JpZ2luYWxFdmVudC50eXBlKSYmdGhpcy5fdmFsdWUodS52YWx1ZSkscj1pLml0ZW0uYXR0cigiYXJpYS1sYWJlbCIpfHx1LnZhbHVlLHImJm4udHJpbShyKS5sZW5ndGgmJih0aGlzLmxpdmVSZWdpb24uY2hpbGRyZW4oKS5oaWRlKCksbigiPGRpdj4iKS50ZXh0KHIpLmFwcGVuZFRvKHRoaXMubGl2ZVJlZ2lvbikpLHZvaWQgMCl9LG1lbnVzZWxlY3Q6ZnVuY3Rpb24odCxpKXt2YXIgcj1pLml0ZW0uZGF0YSgidWktYXV0b2NvbXBsZXRlLWl0ZW0iKSx1PXRoaXMucHJldmlvdXM7dGhpcy5lbGVtZW50WzBdIT09bi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSYmKHRoaXMuZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpLHRoaXMucHJldmlvdXM9dSx0aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMucHJldmlvdXM9dTt0aGlzLnNlbGVjdGVkSXRlbT1yfSkpOyExIT09dGhpcy5fdHJpZ2dlcigic2VsZWN0Iix0LHtpdGVtOnJ9KSYmdGhpcy5fdmFsdWUoci52YWx1ZSk7dGhpcy50ZXJtPXRoaXMuX3ZhbHVlKCk7dGhpcy5jbG9zZSh0KTt0aGlzLnNlbGVjdGVkSXRlbT1yfX0pO3RoaXMubGl2ZVJlZ2lvbj1uKCI8ZGl2PiIse3JvbGU6InN0YXR1cyIsImFyaWEtbGl2ZSI6ImFzc2VydGl2ZSIsImFyaWEtcmVsZXZhbnQiOiJhZGRpdGlvbnMifSkuYXBwZW5kVG8odGhpcy5kb2N1bWVudFswXS5ib2R5KTt0aGlzLl9hZGRDbGFzcyh0aGlzLmxpdmVSZWdpb24sbnVsbCwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIik7dGhpcy5fb24odGhpcy53aW5kb3cse2JlZm9yZXVubG9hZDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKX19KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpO3RoaXMuZWxlbWVudC5yZW1vdmVBdHRyKCJhdXRvY29tcGxldGUiKTt0aGlzLm1lbnUuZWxlbWVudC5yZW1vdmUoKTt0aGlzLmxpdmVSZWdpb24ucmVtb3ZlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXt0aGlzLl9zdXBlcihuLHQpOyJzb3VyY2UiPT09biYmdGhpcy5faW5pdFNvdXJjZSgpOyJhcHBlbmRUbyI9PT1uJiZ0aGlzLm1lbnUuZWxlbWVudC5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKTsiZGlzYWJsZWQiPT09biYmdCYmdGhpcy54aHImJnRoaXMueGhyLmFib3J0KCl9LF9pc0V2ZW50VGFyZ2V0SW5XaWRnZXQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5tZW51LmVsZW1lbnRbMF07cmV0dXJuIHQudGFyZ2V0PT09dGhpcy5lbGVtZW50WzBdfHx0LnRhcmdldD09PWl8fG4uY29udGFpbnMoaSx0LnRhcmdldCl9LF9jbG9zZU9uQ2xpY2tPdXRzaWRlOmZ1bmN0aW9uKG4pe3RoaXMuX2lzRXZlbnRUYXJnZXRJbldpZGdldChuKXx8dGhpcy5jbG9zZSgpfSxfYXBwZW5kVG86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuYXBwZW5kVG87cmV0dXJuIHQmJih0PXQuanF1ZXJ5fHx0Lm5vZGVUeXBlP24odCk6dGhpcy5kb2N1bWVudC5maW5kKHQpLmVxKDApKSx0JiZ0WzBdfHwodD10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLWZyb250LCBkaWFsb2ciKSksdC5sZW5ndGh8fCh0PXRoaXMuZG9jdW1lbnRbMF0uYm9keSksdH0sX2luaXRTb3VyY2U6ZnVuY3Rpb24oKXt2YXIgaSxyLHQ9dGhpcztuLmlzQXJyYXkodGhpcy5vcHRpb25zLnNvdXJjZSk/KGk9dGhpcy5vcHRpb25zLnNvdXJjZSx0aGlzLnNvdXJjZT1mdW5jdGlvbih0LHIpe3Iobi51aS5hdXRvY29tcGxldGUuZmlsdGVyKGksdC50ZXJtKSl9KToic3RyaW5nIj09dHlwZW9mIHRoaXMub3B0aW9ucy5zb3VyY2U/KHI9dGhpcy5vcHRpb25zLnNvdXJjZSx0aGlzLnNvdXJjZT1mdW5jdGlvbihpLHUpe3QueGhyJiZ0Lnhoci5hYm9ydCgpO3QueGhyPW4uYWpheCh7dXJsOnIsZGF0YTppLGRhdGFUeXBlOiJqc29uIixzdWNjZXNzOmZ1bmN0aW9uKG4pe3Uobil9LGVycm9yOmZ1bmN0aW9uKCl7dShbXSl9fSl9KTp0aGlzLnNvdXJjZT10aGlzLm9wdGlvbnMuc291cmNlfSxfc2VhcmNoVGltZW91dDpmdW5jdGlvbihuKXtjbGVhclRpbWVvdXQodGhpcy5zZWFyY2hpbmcpO3RoaXMuc2VhcmNoaW5nPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50ZXJtPT09dGhpcy5fdmFsdWUoKSxpPXRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpLHI9bi5hbHRLZXl8fG4uY3RybEtleXx8bi5tZXRhS2V5fHxuLnNoaWZ0S2V5O3QmJighdHx8aXx8cil8fCh0aGlzLnNlbGVjdGVkSXRlbT1udWxsLHRoaXMuc2VhcmNoKG51bGwsbikpfSx0aGlzLm9wdGlvbnMuZGVsYXkpfSxzZWFyY2g6ZnVuY3Rpb24obix0KXtyZXR1cm4gbj1udWxsIT1uP246dGhpcy5fdmFsdWUoKSx0aGlzLnRlcm09dGhpcy5fdmFsdWUoKSxuLmxlbmd0aDx0aGlzLm9wdGlvbnMubWluTGVuZ3RoP3RoaXMuY2xvc2UodCk6dGhpcy5fdHJpZ2dlcigic2VhcmNoIix0KSE9PSExP3RoaXMuX3NlYXJjaChuKTp2b2lkIDB9LF9zZWFyY2g6ZnVuY3Rpb24obil7dGhpcy5wZW5kaW5nKys7dGhpcy5fYWRkQ2xhc3MoInVpLWF1dG9jb21wbGV0ZS1sb2FkaW5nIik7dGhpcy5jYW5jZWxTZWFyY2g9ITE7dGhpcy5zb3VyY2Uoe3Rlcm06bn0sdGhpcy5fcmVzcG9uc2UoKSl9LF9yZXNwb25zZTpmdW5jdGlvbigpe3ZhciB0PSsrdGhpcy5yZXF1ZXN0SW5kZXg7cmV0dXJuIG4ucHJveHkoZnVuY3Rpb24obil7dD09PXRoaXMucmVxdWVzdEluZGV4JiZ0aGlzLl9fcmVzcG9uc2Uobik7dGhpcy5wZW5kaW5nLS07dGhpcy5wZW5kaW5nfHx0aGlzLl9yZW1vdmVDbGFzcygidWktYXV0b2NvbXBsZXRlLWxvYWRpbmciKX0sdGhpcyl9LF9fcmVzcG9uc2U6ZnVuY3Rpb24obil7biYmKG49dGhpcy5fbm9ybWFsaXplKG4pKTt0aGlzLl90cmlnZ2VyKCJyZXNwb25zZSIsbnVsbCx7Y29udGVudDpufSk7IXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmbiYmbi5sZW5ndGgmJiF0aGlzLmNhbmNlbFNlYXJjaD8odGhpcy5fc3VnZ2VzdChuKSx0aGlzLl90cmlnZ2VyKCJvcGVuIikpOnRoaXMuX2Nsb3NlKCl9LGNsb3NlOmZ1bmN0aW9uKG4pe3RoaXMuY2FuY2VsU2VhcmNoPSEwO3RoaXMuX2Nsb3NlKG4pfSxfY2xvc2U6ZnVuY3Rpb24obil7dGhpcy5fb2ZmKHRoaXMuZG9jdW1lbnQsIm1vdXNlZG93biIpO3RoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpJiYodGhpcy5tZW51LmVsZW1lbnQuaGlkZSgpLHRoaXMubWVudS5ibHVyKCksdGhpcy5pc05ld01lbnU9ITAsdGhpcy5fdHJpZ2dlcigiY2xvc2UiLG4pKX0sX2NoYW5nZTpmdW5jdGlvbihuKXt0aGlzLnByZXZpb3VzIT09dGhpcy5fdmFsdWUoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIixuLHtpdGVtOnRoaXMuc2VsZWN0ZWRJdGVtfSl9LF9ub3JtYWxpemU6ZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoJiZ0WzBdLmxhYmVsJiZ0WzBdLnZhbHVlP3Q6bi5tYXAodCxmdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/e2xhYmVsOnQsdmFsdWU6dH06bi5leHRlbmQoe30sdCx7bGFiZWw6dC5sYWJlbHx8dC52YWx1ZSx2YWx1ZTp0LnZhbHVlfHx0LmxhYmVsfSl9KX0sX3N1Z2dlc3Q6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5tZW51LmVsZW1lbnQuZW1wdHkoKTt0aGlzLl9yZW5kZXJNZW51KGksdCk7dGhpcy5pc05ld01lbnU9ITA7dGhpcy5tZW51LnJlZnJlc2goKTtpLnNob3coKTt0aGlzLl9yZXNpemVNZW51KCk7aS5wb3NpdGlvbihuLmV4dGVuZCh7Im9mIjp0aGlzLmVsZW1lbnR9LHRoaXMub3B0aW9ucy5wb3NpdGlvbikpO3RoaXMub3B0aW9ucy5hdXRvRm9jdXMmJnRoaXMubWVudS5uZXh0KCk7dGhpcy5fb24odGhpcy5kb2N1bWVudCx7bW91c2Vkb3duOiJfY2xvc2VPbkNsaWNrT3V0c2lkZSJ9KX0sX3Jlc2l6ZU1lbnU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm1lbnUuZWxlbWVudDtuLm91dGVyV2lkdGgoTWF0aC5tYXgobi53aWR0aCgiIikub3V0ZXJXaWR0aCgpKzEsdGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSkpfSxfcmVuZGVyTWVudTpmdW5jdGlvbih0LGkpe3ZhciByPXRoaXM7bi5lYWNoKGksZnVuY3Rpb24obixpKXtyLl9yZW5kZXJJdGVtRGF0YSh0LGkpfSl9LF9yZW5kZXJJdGVtRGF0YTpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLl9yZW5kZXJJdGVtKG4sdCkuZGF0YSgidWktYXV0b2NvbXBsZXRlLWl0ZW0iLHQpfSxfcmVuZGVySXRlbTpmdW5jdGlvbih0LGkpe3JldHVybiBuKCI8bGk+IikuYXBwZW5kKG4oIjxkaXY+IikudGV4dChpLmxhYmVsKSkuYXBwZW5kVG8odCl9LF9tb3ZlOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpP3RoaXMubWVudS5pc0ZpcnN0SXRlbSgpJiYvXnByZXZpb3VzLy50ZXN0KG4pfHx0aGlzLm1lbnUuaXNMYXN0SXRlbSgpJiYvXm5leHQvLnRlc3Qobik/KHRoaXMuaXNNdWx0aUxpbmV8fHRoaXMuX3ZhbHVlKHRoaXMudGVybSksdGhpcy5tZW51LmJsdXIoKSx2b2lkIDApOih0aGlzLm1lbnVbbl0odCksdm9pZCAwKToodGhpcy5zZWFyY2gobnVsbCx0KSx2b2lkIDApfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51LmVsZW1lbnR9LF92YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlTWV0aG9kLmFwcGx5KHRoaXMuZWxlbWVudCxhcmd1bWVudHMpfSxfa2V5RXZlbnQ6ZnVuY3Rpb24obix0KXsoIXRoaXMuaXNNdWx0aUxpbmV8fHRoaXMubWVudS5lbGVtZW50LmlzKCI6dmlzaWJsZSIpKSYmKHRoaXMuX21vdmUobix0KSx0LnByZXZlbnREZWZhdWx0KCkpfSxfaXNDb250ZW50RWRpdGFibGU6ZnVuY3Rpb24obil7aWYoIW4ubGVuZ3RoKXJldHVybiExO3ZhciB0PW4ucHJvcCgiY29udGVudEVkaXRhYmxlIik7cmV0dXJuImluaGVyaXQiPT09dD90aGlzLl9pc0NvbnRlbnRFZGl0YWJsZShuLnBhcmVudCgpKToidHJ1ZSI9PT10fX0pO24uZXh0ZW5kKG4udWkuYXV0b2NvbXBsZXRlLHtlc2NhcGVSZWdleDpmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKC9bXC1cW1xde30oKSorPy4sXFxcXiR8I1xzXS9nLCJcXCQmIil9LGZpbHRlcjpmdW5jdGlvbih0LGkpe3ZhciByPVJlZ0V4cChuLnVpLmF1dG9jb21wbGV0ZS5lc2NhcGVSZWdleChpKSwiaSIpO3JldHVybiBuLmdyZXAodCxmdW5jdGlvbihuKXtyZXR1cm4gci50ZXN0KG4ubGFiZWx8fG4udmFsdWV8fG4pfSl9fSk7bi53aWRnZXQoInVpLmF1dG9jb21wbGV0ZSIsbi51aS5hdXRvY29tcGxldGUse29wdGlvbnM6e21lc3NhZ2VzOntub1Jlc3VsdHM6Ik5vIHNlYXJjaCByZXN1bHRzLiIscmVzdWx0czpmdW5jdGlvbihuKXtyZXR1cm4gbisobj4xPyIgcmVzdWx0cyBhcmUiOiIgcmVzdWx0IGlzIikrIiBhdmFpbGFibGUsIHVzZSB1cCBhbmQgZG93biBhcnJvdyBrZXlzIHRvIG5hdmlnYXRlLiJ9fX0sX19yZXNwb25zZTpmdW5jdGlvbih0KXt2YXIgaTt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyk7dGhpcy5vcHRpb25zLmRpc2FibGVkfHx0aGlzLmNhbmNlbFNlYXJjaHx8KGk9dCYmdC5sZW5ndGg/dGhpcy5vcHRpb25zLm1lc3NhZ2VzLnJlc3VsdHModC5sZW5ndGgpOnRoaXMub3B0aW9ucy5tZXNzYWdlcy5ub1Jlc3VsdHMsdGhpcy5saXZlUmVnaW9uLmNoaWxkcmVuKCkuaGlkZSgpLG4oIjxkaXY+IikudGV4dChpKS5hcHBlbmRUbyh0aGlzLmxpdmVSZWdpb24pKX19KTtuLnVpLmF1dG9jb21wbGV0ZTt3PS91aS1jb3JuZXItKFthLXpdKXsyLDZ9L2c7bi53aWRnZXQoInVpLmNvbnRyb2xncm91cCIse3ZlcnNpb246IjEuMTIuMSIsZGVmYXVsdEVsZW1lbnQ6IjxkaXY+IixvcHRpb25zOntkaXJlY3Rpb246Imhvcml6b250YWwiLGRpc2FibGVkOm51bGwsb25seVZpc2libGU6ITAsaXRlbXM6e2J1dHRvbjoiaW5wdXRbdHlwZT1idXR0b25dLCBpbnB1dFt0eXBlPXN1Ym1pdF0sIGlucHV0W3R5cGU9cmVzZXRdLCBidXR0b24sIGEiLGNvbnRyb2xncm91cExhYmVsOiIudWktY29udHJvbGdyb3VwLWxhYmVsIixjaGVja2JveHJhZGlvOiJpbnB1dFt0eXBlPSdjaGVja2JveCddLCBpbnB1dFt0eXBlPSdyYWRpbyddIixzZWxlY3RtZW51OiJzZWxlY3QiLHNwaW5uZXI6Ii51aS1zcGlubmVyLWlucHV0In19LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9lbmhhbmNlKCl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJ0b29sYmFyIik7dGhpcy5yZWZyZXNoKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fY2FsbENoaWxkTWV0aG9kKCJkZXN0cm95Iik7dGhpcy5jaGlsZFdpZGdldHMucmVtb3ZlRGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKTt0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigicm9sZSIpO3RoaXMub3B0aW9ucy5pdGVtcy5jb250cm9sZ3JvdXBMYWJlbCYmdGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLml0ZW1zLmNvbnRyb2xncm91cExhYmVsKS5maW5kKCIudWktY29udHJvbGdyb3VwLWxhYmVsLWNvbnRlbnRzIikuY29udGVudHMoKS51bndyYXAoKX0sX2luaXRXaWRnZXRzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPVtdO24uZWFjaCh0aGlzLm9wdGlvbnMuaXRlbXMsZnVuY3Rpb24ocix1KXt2YXIgZixlPXt9O2lmKHUpcmV0dXJuImNvbnRyb2xncm91cExhYmVsIj09PXI/KGY9dC5lbGVtZW50LmZpbmQodSksZi5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTt0LmNoaWxkcmVuKCIudWktY29udHJvbGdyb3VwLWxhYmVsLWNvbnRlbnRzIikubGVuZ3RofHx0LmNvbnRlbnRzKCkud3JhcEFsbCgiPHNwYW4gY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbC1jb250ZW50cyc+PFwvc3Bhbj4iKX0pLHQuX2FkZENsYXNzKGYsbnVsbCwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50IHVpLXN0YXRlLWRlZmF1bHQiKSxpPWkuY29uY2F0KGYuZ2V0KCkpLHZvaWQgMCk6KG4uZm5bcl0mJihlPXRbIl8iK3IrIk9wdGlvbnMiXT90WyJfIityKyJPcHRpb25zIl0oIm1pZGRsZSIpOntjbGFzc2VzOnt9fSx0LmVsZW1lbnQuZmluZCh1KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHU9bih0aGlzKSxmPXVbcl0oImluc3RhbmNlIiksbz1uLndpZGdldC5leHRlbmQoe30sZSksczsiYnV0dG9uIj09PXImJnUucGFyZW50KCIudWktc3Bpbm5lciIpLmxlbmd0aHx8KGZ8fChmPXVbcl0oKVtyXSgiaW5zdGFuY2UiKSksZiYmKG8uY2xhc3Nlcz10Ll9yZXNvbHZlQ2xhc3Nlc1ZhbHVlcyhvLmNsYXNzZXMsZikpLHVbcl0obykscz11W3JdKCJ3aWRnZXQiKSxuLmRhdGEoc1swXSwidWktY29udHJvbGdyb3VwLWRhdGEiLGY/Zjp1W3JdKCJpbnN0YW5jZSIpKSxpLnB1c2goc1swXSkpfSkpLHZvaWQgMCl9KTt0aGlzLmNoaWxkV2lkZ2V0cz1uKG4udW5pcXVlKGkpKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmNoaWxkV2lkZ2V0cywidWktY29udHJvbGdyb3VwLWl0ZW0iKX0sX2NhbGxDaGlsZE1ldGhvZDpmdW5jdGlvbih0KXt0aGlzLmNoaWxkV2lkZ2V0cy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9bih0aGlzKSxpPXIuZGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKTtpJiZpW3RdJiZpW3RdKCl9KX0sX3VwZGF0ZUNvcm5lckNsYXNzOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5fYnVpbGRTaW1wbGVPcHRpb25zKHQsImxhYmVsIikuY2xhc3Nlcy5sYWJlbDt0aGlzLl9yZW1vdmVDbGFzcyhuLG51bGwsInVpLWNvcm5lci10b3AgdWktY29ybmVyLWJvdHRvbSB1aS1jb3JuZXItbGVmdCB1aS1jb3JuZXItcmlnaHQgdWktY29ybmVyLWFsbCIpO3RoaXMuX2FkZENsYXNzKG4sbnVsbCxpKX0sX2J1aWxkU2ltcGxlT3B0aW9uczpmdW5jdGlvbihuLHQpe3ZhciBpPSJ2ZXJ0aWNhbCI9PT10aGlzLm9wdGlvbnMuZGlyZWN0aW9uLHI9e2NsYXNzZXM6e319O3JldHVybiByLmNsYXNzZXNbdF09e21pZGRsZToiIixmaXJzdDoidWktY29ybmVyLSIrKGk/InRvcCI6ImxlZnQiKSxsYXN0OiJ1aS1jb3JuZXItIisoaT8iYm90dG9tIjoicmlnaHQiKSxvbmx5OiJ1aS1jb3JuZXItYWxsIn1bbl0scn0sX3NwaW5uZXJPcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2J1aWxkU2ltcGxlT3B0aW9ucyhuLCJ1aS1zcGlubmVyIik7cmV0dXJuIHQuY2xhc3Nlc1sidWktc3Bpbm5lci11cCJdPSIiLHQuY2xhc3Nlc1sidWktc3Bpbm5lci1kb3duIl09IiIsdH0sX2J1dHRvbk9wdGlvbnM6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2J1aWxkU2ltcGxlT3B0aW9ucyhuLCJ1aS1idXR0b24iKX0sX2NoZWNrYm94cmFkaW9PcHRpb25zOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9idWlsZFNpbXBsZU9wdGlvbnMobiwidWktY2hlY2tib3hyYWRpby1sYWJlbCIpfSxfc2VsZWN0bWVudU9wdGlvbnM6ZnVuY3Rpb24obil7dmFyIHQ9InZlcnRpY2FsIj09PXRoaXMub3B0aW9ucy5kaXJlY3Rpb247cmV0dXJue3dpZHRoOnQ/ImF1dG8iOiExLGNsYXNzZXM6e21pZGRsZTp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOiIiLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiOiIifSxmaXJzdDp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOiJ1aS1jb3JuZXItIisodD8idG9wIjoidGwiKSwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkIjoidWktY29ybmVyLSIrKHQ/InRvcCI6ImxlZnQiKX0sbGFzdDp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOnQ/IiI6InVpLWNvcm5lci10ciIsInVpLXNlbGVjdG1lbnUtYnV0dG9uLWNsb3NlZCI6InVpLWNvcm5lci0iKyh0PyJib3R0b20iOiJyaWdodCIpfSxvbmx5OnsidWktc2VsZWN0bWVudS1idXR0b24tb3BlbiI6InVpLWNvcm5lci10b3AiLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiOiJ1aS1jb3JuZXItYWxsIn19W25dfX0sX3Jlc29sdmVDbGFzc2VzVmFsdWVzOmZ1bmN0aW9uKHQsaSl7dmFyIHI9e307cmV0dXJuIG4uZWFjaCh0LGZ1bmN0aW9uKHUpe3ZhciBmPWkub3B0aW9ucy5jbGFzc2VzW3VdfHwiIjtmPW4udHJpbShmLnJlcGxhY2UodywiIikpO3JbdV09KGYrIiAiK3RbdV0pLnJlcGxhY2UoL1xzKy9nLCIgIil9KSxyfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7cmV0dXJuImRpcmVjdGlvbiI9PT1uJiZ0aGlzLl9yZW1vdmVDbGFzcygidWktY29udHJvbGdyb3VwLSIrdGhpcy5vcHRpb25zLmRpcmVjdGlvbiksdGhpcy5fc3VwZXIobix0KSwiZGlzYWJsZWQiPT09bj8odGhpcy5fY2FsbENoaWxkTWV0aG9kKHQ/ImRpc2FibGUiOiJlbmFibGUiKSx2b2lkIDApOih0aGlzLnJlZnJlc2goKSx2b2lkIDApfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzO3RoaXMuX2FkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAgdWktY29udHJvbGdyb3VwLSIrdGhpcy5vcHRpb25zLmRpcmVjdGlvbik7Imhvcml6b250YWwiPT09dGhpcy5vcHRpb25zLmRpcmVjdGlvbiYmdGhpcy5fYWRkQ2xhc3MobnVsbCwidWktaGVscGVyLWNsZWFyZml4Iik7dGhpcy5faW5pdFdpZGdldHMoKTt0PXRoaXMuY2hpbGRXaWRnZXRzO3RoaXMub3B0aW9ucy5vbmx5VmlzaWJsZSYmKHQ9dC5maWx0ZXIoIjp2aXNpYmxlIikpO3QubGVuZ3RoJiYobi5lYWNoKFsiZmlyc3QiLCJsYXN0Il0sZnVuY3Rpb24obixyKXt2YXIgdT10W3JdKCkuZGF0YSgidWktY29udHJvbGdyb3VwLWRhdGEiKSxmO3UmJmlbIl8iK3Uud2lkZ2V0TmFtZSsiT3B0aW9ucyJdPyhmPWlbIl8iK3Uud2lkZ2V0TmFtZSsiT3B0aW9ucyJdKDE9PT10Lmxlbmd0aD8ib25seSI6ciksZi5jbGFzc2VzPWkuX3Jlc29sdmVDbGFzc2VzVmFsdWVzKGYuY2xhc3Nlcyx1KSx1LmVsZW1lbnRbdS53aWRnZXROYW1lXShmKSk6aS5fdXBkYXRlQ29ybmVyQ2xhc3ModFtyXSgpLHIpfSksdGhpcy5fY2FsbENoaWxkTWV0aG9kKCJyZWZyZXNoIikpfX0pO24ud2lkZ2V0KCJ1aS5jaGVja2JveHJhZGlvIixbbi51aS5mb3JtUmVzZXRNaXhpbix7dmVyc2lvbjoiMS4xMi4xIixvcHRpb25zOntkaXNhYmxlZDpudWxsLGxhYmVsOm51bGwsaWNvbjohMCxjbGFzc2VzOnsidWktY2hlY2tib3hyYWRpby1sYWJlbCI6InVpLWNvcm5lci1hbGwiLCJ1aS1jaGVja2JveHJhZGlvLWljb24iOiJ1aS1jb3JuZXItYWxsIn19LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIHQsaSx1PXRoaXMscj10aGlzLl9zdXBlcigpfHx7fTtyZXR1cm4gdGhpcy5fcmVhZFR5cGUoKSxpPXRoaXMuZWxlbWVudC5sYWJlbHMoKSx0aGlzLmxhYmVsPW4oaVtpLmxlbmd0aC0xXSksdGhpcy5sYWJlbC5sZW5ndGh8fG4uZXJyb3IoIk5vIGxhYmVsIGZvdW5kIGZvciBjaGVja2JveHJhZGlvIHdpZGdldCIpLHRoaXMub3JpZ2luYWxMYWJlbD0iIix0aGlzLmxhYmVsLmNvbnRlbnRzKCkubm90KHRoaXMuZWxlbWVudFswXSkuZWFjaChmdW5jdGlvbigpe3Uub3JpZ2luYWxMYWJlbCs9Mz09PXRoaXMubm9kZVR5cGU/bih0aGlzKS50ZXh0KCk6dGhpcy5vdXRlckhUTUx9KSx0aGlzLm9yaWdpbmFsTGFiZWwmJihyLmxhYmVsPXRoaXMub3JpZ2luYWxMYWJlbCksdD10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQsbnVsbCE9dCYmKHIuZGlzYWJsZWQ9dCkscn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMuZWxlbWVudFswXS5jaGVja2VkO3RoaXMuX2JpbmRGb3JtUmVzZXRIYW5kbGVyKCk7bnVsbD09dGhpcy5vcHRpb25zLmRpc2FibGVkJiYodGhpcy5vcHRpb25zLmRpc2FibGVkPXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZCk7dGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdGhpcy5vcHRpb25zLmRpc2FibGVkKTt0aGlzLl9hZGRDbGFzcygidWktY2hlY2tib3hyYWRpbyIsInVpLWhlbHBlci1oaWRkZW4tYWNjZXNzaWJsZSIpO3RoaXMuX2FkZENsYXNzKHRoaXMubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tbGFiZWwiLCJ1aS1idXR0b24gdWktd2lkZ2V0Iik7InJhZGlvIj09PXRoaXMudHlwZSYmdGhpcy5fYWRkQ2xhc3ModGhpcy5sYWJlbCwidWktY2hlY2tib3hyYWRpby1yYWRpby1sYWJlbCIpO3RoaXMub3B0aW9ucy5sYWJlbCYmdGhpcy5vcHRpb25zLmxhYmVsIT09dGhpcy5vcmlnaW5hbExhYmVsP3RoaXMuX3VwZGF0ZUxhYmVsKCk6dGhpcy5vcmlnaW5hbExhYmVsJiYodGhpcy5vcHRpb25zLmxhYmVsPXRoaXMub3JpZ2luYWxMYWJlbCk7dGhpcy5fZW5oYW5jZSgpO24mJih0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLCJ1aS1jaGVja2JveHJhZGlvLWNoZWNrZWQiLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLmljb24mJnRoaXMuX2FkZENsYXNzKHRoaXMuaWNvbixudWxsLCJ1aS1zdGF0ZS1ob3ZlciIpKTt0aGlzLl9vbih7Y2hhbmdlOiJfdG9nZ2xlQ2xhc3NlcyIsZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLl9hZGRDbGFzcyh0aGlzLmxhYmVsLG51bGwsInVpLXN0YXRlLWZvY3VzIHVpLXZpc3VhbC1mb2N1cyIpfSxibHVyOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5sYWJlbCxudWxsLCJ1aS1zdGF0ZS1mb2N1cyB1aS12aXN1YWwtZm9jdXMiKX19KX0sX3JlYWRUeXBlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50WzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7dGhpcy50eXBlPXRoaXMuZWxlbWVudFswXS50eXBlOyJpbnB1dCI9PT10JiYvcmFkaW98Y2hlY2tib3gvLnRlc3QodGhpcy50eXBlKXx8bi5lcnJvcigiQ2FuJ3QgY3JlYXRlIGNoZWNrYm94cmFkaW8gb24gZWxlbWVudC5ub2RlTmFtZT0iK3QrIiBhbmQgZWxlbWVudC50eXBlPSIrdGhpcy50eXBlKX0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLl91cGRhdGVJY29uKHRoaXMuZWxlbWVudFswXS5jaGVja2VkKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFiZWx9LF9nZXRSYWRpb0dyb3VwOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLmVsZW1lbnRbMF0ubmFtZSxyPSJpbnB1dFtuYW1lPSciK24udWkuZXNjYXBlU2VsZWN0b3IoaSkrIiddIjtyZXR1cm4gaT8odD10aGlzLmZvcm0ubGVuZ3RoP24odGhpcy5mb3JtWzBdLmVsZW1lbnRzKS5maWx0ZXIocik6bihyKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMD09PW4odGhpcykuZm9ybSgpLmxlbmd0aH0pLHQubm90KHRoaXMuZWxlbWVudCkpOm4oW10pfSxfdG9nZ2xlQ2xhc3NlczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudFswXS5jaGVja2VkO3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZCIsInVpLXN0YXRlLWFjdGl2ZSIsdCk7dGhpcy5vcHRpb25zLmljb24mJiJjaGVja2JveCI9PT10aGlzLnR5cGUmJnRoaXMuX3RvZ2dsZUNsYXNzKHRoaXMuaWNvbixudWxsLCJ1aS1pY29uLWNoZWNrIHVpLXN0YXRlLWNoZWNrZWQiLHQpLl90b2dnbGVDbGFzcyh0aGlzLmljb24sbnVsbCwidWktaWNvbi1ibGFuayIsIXQpOyJyYWRpbyI9PT10aGlzLnR5cGUmJnRoaXMuX2dldFJhZGlvR3JvdXAoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5jaGVja2JveHJhZGlvKCJpbnN0YW5jZSIpO3QmJnQuX3JlbW92ZUNsYXNzKHQubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZCIsInVpLXN0YXRlLWFjdGl2ZSIpfSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fdW5iaW5kRm9ybVJlc2V0SGFuZGxlcigpO3RoaXMuaWNvbiYmKHRoaXMuaWNvbi5yZW1vdmUoKSx0aGlzLmljb25TcGFjZS5yZW1vdmUoKSl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtpZigibGFiZWwiIT09bnx8dClyZXR1cm4odGhpcy5fc3VwZXIobix0KSwiZGlzYWJsZWQiPT09bj8odGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy5sYWJlbCxudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsdCksdGhpcy5lbGVtZW50WzBdLmRpc2FibGVkPXQsdm9pZCAwKToodGhpcy5yZWZyZXNoKCksdm9pZCAwKSl9LF91cGRhdGVJY29uOmZ1bmN0aW9uKHQpe3ZhciBpPSJ1aS1pY29uIHVpLWljb24tYmFja2dyb3VuZCAiO3RoaXMub3B0aW9ucy5pY29uPyh0aGlzLmljb258fCh0aGlzLmljb249bigiPHNwYW4+IiksdGhpcy5pY29uU3BhY2U9bigiPHNwYW4+IDxcL3NwYW4+IiksdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uU3BhY2UsInVpLWNoZWNrYm94cmFkaW8taWNvbi1zcGFjZSIpKSwiY2hlY2tib3giPT09dGhpcy50eXBlPyhpKz10PyJ1aS1pY29uLWNoZWNrIHVpLXN0YXRlLWNoZWNrZWQiOiJ1aS1pY29uLWJsYW5rIix0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmljb24sbnVsbCx0PyJ1aS1pY29uLWJsYW5rIjoidWktaWNvbi1jaGVjayIpKTppKz0idWktaWNvbi1ibGFuayIsdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uLCJ1aS1jaGVja2JveHJhZGlvLWljb24iLGkpLHR8fHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaWNvbixudWxsLCJ1aS1pY29uLWNoZWNrIHVpLXN0YXRlLWNoZWNrZWQiKSx0aGlzLmljb24ucHJlcGVuZFRvKHRoaXMubGFiZWwpLmFmdGVyKHRoaXMuaWNvblNwYWNlKSk6dm9pZCAwIT09dGhpcy5pY29uJiYodGhpcy5pY29uLnJlbW92ZSgpLHRoaXMuaWNvblNwYWNlLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLmljb24pfSxfdXBkYXRlTGFiZWw6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmxhYmVsLmNvbnRlbnRzKCkubm90KHRoaXMuZWxlbWVudFswXSk7dGhpcy5pY29uJiYobj1uLm5vdCh0aGlzLmljb25bMF0pKTt0aGlzLmljb25TcGFjZSYmKG49bi5ub3QodGhpcy5pY29uU3BhY2VbMF0pKTtuLnJlbW92ZSgpO3RoaXMubGFiZWwuYXBwZW5kKHRoaXMub3B0aW9ucy5sYWJlbCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmVsZW1lbnRbMF0uY2hlY2tlZCx0PXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZDt0aGlzLl91cGRhdGVJY29uKG4pO3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMubGFiZWwsInVpLWNoZWNrYm94cmFkaW8tY2hlY2tlZCIsInVpLXN0YXRlLWFjdGl2ZSIsbik7bnVsbCE9PXRoaXMub3B0aW9ucy5sYWJlbCYmdGhpcy5fdXBkYXRlTGFiZWwoKTt0IT09dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDp0fSl9fV0pO24udWkuY2hlY2tib3hyYWRpbztuLndpZGdldCgidWkuYnV0dG9uIix7dmVyc2lvbjoiMS4xMi4xIixkZWZhdWx0RWxlbWVudDoiPGJ1dHRvbj4iLG9wdGlvbnM6e2NsYXNzZXM6eyJ1aS1idXR0b24iOiJ1aS1jb3JuZXItYWxsIn0sZGlzYWJsZWQ6bnVsbCxpY29uOm51bGwsaWNvblBvc2l0aW9uOiJiZWdpbm5pbmciLGxhYmVsOm51bGwsc2hvd0xhYmVsOiEwfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBuLHQ9dGhpcy5fc3VwZXIoKXx8e307cmV0dXJuIHRoaXMuaXNJbnB1dD10aGlzLmVsZW1lbnQuaXMoImlucHV0Iiksbj10aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQsbnVsbCE9biYmKHQuZGlzYWJsZWQ9biksdGhpcy5vcmlnaW5hbExhYmVsPXRoaXMuaXNJbnB1dD90aGlzLmVsZW1lbnQudmFsKCk6dGhpcy5lbGVtZW50Lmh0bWwoKSx0aGlzLm9yaWdpbmFsTGFiZWwmJih0LmxhYmVsPXRoaXMub3JpZ2luYWxMYWJlbCksdH0sX2NyZWF0ZTpmdW5jdGlvbigpeyF0aGlzLm9wdGlvbi5zaG93TGFiZWwmIXRoaXMub3B0aW9ucy5pY29uJiYodGhpcy5vcHRpb25zLnNob3dMYWJlbD0hMCk7bnVsbD09dGhpcy5vcHRpb25zLmRpc2FibGVkJiYodGhpcy5vcHRpb25zLmRpc2FibGVkPXRoaXMuZWxlbWVudFswXS5kaXNhYmxlZHx8ITEpO3RoaXMuaGFzVGl0bGU9ISF0aGlzLmVsZW1lbnQuYXR0cigidGl0bGUiKTt0aGlzLm9wdGlvbnMubGFiZWwmJnRoaXMub3B0aW9ucy5sYWJlbCE9PXRoaXMub3JpZ2luYWxMYWJlbCYmKHRoaXMuaXNJbnB1dD90aGlzLmVsZW1lbnQudmFsKHRoaXMub3B0aW9ucy5sYWJlbCk6dGhpcy5lbGVtZW50Lmh0bWwodGhpcy5vcHRpb25zLmxhYmVsKSk7dGhpcy5fYWRkQ2xhc3MoInVpLWJ1dHRvbiIsInVpLXdpZGdldCIpO3RoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLHRoaXMub3B0aW9ucy5kaXNhYmxlZCk7dGhpcy5fZW5oYW5jZSgpO3RoaXMuZWxlbWVudC5pcygiYSIpJiZ0aGlzLl9vbih7a2V5dXA6ZnVuY3Rpb24odCl7dC5rZXlDb2RlPT09bi51aS5rZXlDb2RlLlNQQUNFJiYodC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuZWxlbWVudFswXS5jbGljaz90aGlzLmVsZW1lbnRbMF0uY2xpY2soKTp0aGlzLmVsZW1lbnQudHJpZ2dlcigiY2xpY2siKSl9fSl9LF9lbmhhbmNlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmlzKCJidXR0b24iKXx8dGhpcy5lbGVtZW50LmF0dHIoInJvbGUiLCJidXR0b24iKTt0aGlzLm9wdGlvbnMuaWNvbiYmKHRoaXMuX3VwZGF0ZUljb24oImljb24iLHRoaXMub3B0aW9ucy5pY29uKSx0aGlzLl91cGRhdGVUb29sdGlwKCkpfSxfdXBkYXRlVG9vbHRpcDpmdW5jdGlvbigpe3RoaXMudGl0bGU9dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIik7dGhpcy5vcHRpb25zLnNob3dMYWJlbHx8dGhpcy50aXRsZXx8dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIix0aGlzLm9wdGlvbnMubGFiZWwpfSxfdXBkYXRlSWNvbjpmdW5jdGlvbih0LGkpe3ZhciB1PSJpY29uUG9zaXRpb24iIT09dCxyPXU/dGhpcy5vcHRpb25zLmljb25Qb3NpdGlvbjppLGY9InRvcCI9PT1yfHwiYm90dG9tIj09PXI7dGhpcy5pY29uP3UmJnRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaWNvbixudWxsLHRoaXMub3B0aW9ucy5pY29uKToodGhpcy5pY29uPW4oIjxzcGFuPiIpLHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvbiwidWktYnV0dG9uLWljb24iLCJ1aS1pY29uIiksdGhpcy5vcHRpb25zLnNob3dMYWJlbHx8dGhpcy5fYWRkQ2xhc3MoInVpLWJ1dHRvbi1pY29uLW9ubHkiKSk7dSYmdGhpcy5fYWRkQ2xhc3ModGhpcy5pY29uLG51bGwsaSk7dGhpcy5fYXR0YWNoSWNvbihyKTtmPyh0aGlzLl9hZGRDbGFzcyh0aGlzLmljb24sbnVsbCwidWktd2lkZ2V0LWljb24tYmxvY2siKSx0aGlzLmljb25TcGFjZSYmdGhpcy5pY29uU3BhY2UucmVtb3ZlKCkpOih0aGlzLmljb25TcGFjZXx8KHRoaXMuaWNvblNwYWNlPW4oIjxzcGFuPiA8XC9zcGFuPiIpLHRoaXMuX2FkZENsYXNzKHRoaXMuaWNvblNwYWNlLCJ1aS1idXR0b24taWNvbi1zcGFjZSIpKSx0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmljb24sbnVsbCwidWktd2lnZXQtaWNvbi1ibG9jayIpLHRoaXMuX2F0dGFjaEljb25TcGFjZShyKSl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInJvbGUiKTt0aGlzLmljb24mJnRoaXMuaWNvbi5yZW1vdmUoKTt0aGlzLmljb25TcGFjZSYmdGhpcy5pY29uU3BhY2UucmVtb3ZlKCk7dGhpcy5oYXNUaXRsZXx8dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInRpdGxlIil9LF9hdHRhY2hJY29uU3BhY2U6ZnVuY3Rpb24obil7dGhpcy5pY29uWy9eKD86ZW5kfGJvdHRvbSkvLnRlc3Qobik/ImJlZm9yZSI6ImFmdGVyIl0odGhpcy5pY29uU3BhY2UpfSxfYXR0YWNoSWNvbjpmdW5jdGlvbihuKXt0aGlzLmVsZW1lbnRbL14oPzplbmR8Ym90dG9tKS8udGVzdChuKT8iYXBwZW5kIjoicHJlcGVuZCJdKHRoaXMuaWNvbil9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PXZvaWQgMD09PW4uc2hvd0xhYmVsP3RoaXMub3B0aW9ucy5zaG93TGFiZWw6bi5zaG93TGFiZWwsaT12b2lkIDA9PT1uLmljb24/dGhpcy5vcHRpb25zLmljb246bi5pY29uO3R8fGl8fChuLnNob3dMYWJlbD0hMCk7dGhpcy5fc3VwZXIobil9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXsiaWNvbiI9PT1uJiYodD90aGlzLl91cGRhdGVJY29uKG4sdCk6dGhpcy5pY29uJiYodGhpcy5pY29uLnJlbW92ZSgpLHRoaXMuaWNvblNwYWNlJiZ0aGlzLmljb25TcGFjZS5yZW1vdmUoKSkpOyJpY29uUG9zaXRpb24iPT09biYmdGhpcy5fdXBkYXRlSWNvbihuLHQpOyJzaG93TGFiZWwiPT09biYmKHRoaXMuX3RvZ2dsZUNsYXNzKCJ1aS1idXR0b24taWNvbi1vbmx5IixudWxsLCF0KSx0aGlzLl91cGRhdGVUb29sdGlwKCkpOyJsYWJlbCI9PT1uJiYodGhpcy5pc0lucHV0P3RoaXMuZWxlbWVudC52YWwodCk6KHRoaXMuZWxlbWVudC5odG1sKHQpLHRoaXMuaWNvbiYmKHRoaXMuX2F0dGFjaEljb24odGhpcy5vcHRpb25zLmljb25Qb3NpdGlvbiksdGhpcy5fYXR0YWNoSWNvblNwYWNlKHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb24pKSkpO3RoaXMuX3N1cGVyKG4sdCk7ImRpc2FibGVkIj09PW4mJih0aGlzLl90b2dnbGVDbGFzcyhudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIsdCksdGhpcy5lbGVtZW50WzBdLmRpc2FibGVkPXQsdCYmdGhpcy5lbGVtZW50LmJsdXIoKSl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmVsZW1lbnQuaXMoImlucHV0LCBidXR0b24iKT90aGlzLmVsZW1lbnRbMF0uZGlzYWJsZWQ6dGhpcy5lbGVtZW50Lmhhc0NsYXNzKCJ1aS1idXR0b24tZGlzYWJsZWQiKTtuIT09dGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLl9zZXRPcHRpb25zKHtkaXNhYmxlZDpufSk7dGhpcy5fdXBkYXRlVG9vbHRpcCgpfX0pO24udWlCYWNrQ29tcGF0IT09ITEmJihuLndpZGdldCgidWkuYnV0dG9uIixuLnVpLmJ1dHRvbix7b3B0aW9uczp7dGV4dDohMCxpY29uczp7cHJpbWFyeTpudWxsLHNlY29uZGFyeTpudWxsfX0sX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5zaG93TGFiZWwmJiF0aGlzLm9wdGlvbnMudGV4dCYmKHRoaXMub3B0aW9ucy5zaG93TGFiZWw9dGhpcy5vcHRpb25zLnRleHQpOyF0aGlzLm9wdGlvbnMuc2hvd0xhYmVsJiZ0aGlzLm9wdGlvbnMudGV4dCYmKHRoaXMub3B0aW9ucy50ZXh0PXRoaXMub3B0aW9ucy5zaG93TGFiZWwpO3RoaXMub3B0aW9ucy5pY29ufHwhdGhpcy5vcHRpb25zLmljb25zLnByaW1hcnkmJiF0aGlzLm9wdGlvbnMuaWNvbnMuc2Vjb25kYXJ5P3RoaXMub3B0aW9ucy5pY29uJiYodGhpcy5vcHRpb25zLmljb25zLnByaW1hcnk9dGhpcy5vcHRpb25zLmljb24pOnRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5P3RoaXMub3B0aW9ucy5pY29uPXRoaXMub3B0aW9ucy5pY29ucy5wcmltYXJ5Oih0aGlzLm9wdGlvbnMuaWNvbj10aGlzLm9wdGlvbnMuaWNvbnMuc2Vjb25kYXJ5LHRoaXMub3B0aW9ucy5pY29uUG9zaXRpb249ImVuZCIpO3RoaXMuX3N1cGVyKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtyZXR1cm4idGV4dCI9PT1uPyh0aGlzLl9zdXBlcigic2hvd0xhYmVsIix0KSx2b2lkIDApOigic2hvd0xhYmVsIj09PW4mJih0aGlzLm9wdGlvbnMudGV4dD10KSwiaWNvbiI9PT1uJiYodGhpcy5vcHRpb25zLmljb25zLnByaW1hcnk9dCksImljb25zIj09PW4mJih0LnByaW1hcnk/KHRoaXMuX3N1cGVyKCJpY29uIix0LnByaW1hcnkpLHRoaXMuX3N1cGVyKCJpY29uUG9zaXRpb24iLCJiZWdpbm5pbmciKSk6dC5zZWNvbmRhcnkmJih0aGlzLl9zdXBlcigiaWNvbiIsdC5zZWNvbmRhcnkpLHRoaXMuX3N1cGVyKCJpY29uUG9zaXRpb24iLCJlbmQiKSkpLHRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKSx2b2lkIDApfX0pLG4uZm4uYnV0dG9uPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiF0aGlzLmxlbmd0aHx8dGhpcy5sZW5ndGgmJiJJTlBVVCIhPT10aGlzWzBdLnRhZ05hbWV8fHRoaXMubGVuZ3RoJiYiSU5QVVQiPT09dGhpc1swXS50YWdOYW1lJiYiY2hlY2tib3giIT09dGhpcy5hdHRyKCJ0eXBlIikmJiJyYWRpbyIhPT10aGlzLmF0dHIoInR5cGUiKT90LmFwcGx5KHRoaXMsYXJndW1lbnRzKToobi51aS5jaGVja2JveHJhZGlvfHxuLmVycm9yKCJDaGVja2JveHJhZGlvIHdpZGdldCBtaXNzaW5nIiksMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5jaGVja2JveHJhZGlvKHtpY29uOiExfSk6dGhpcy5jaGVja2JveHJhZGlvLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9fShuLmZuLmJ1dHRvbiksbi5mbi5idXR0b25zZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbi51aS5jb250cm9sZ3JvdXB8fG4uZXJyb3IoIkNvbnRyb2xncm91cCB3aWRnZXQgbWlzc2luZyIpLCJvcHRpb24iPT09YXJndW1lbnRzWzBdJiYiaXRlbXMiPT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMl0/dGhpcy5jb250cm9sZ3JvdXAuYXBwbHkodGhpcyxbYXJndW1lbnRzWzBdLCJpdGVtcy5idXR0b24iLGFyZ3VtZW50c1syXV0pOiJvcHRpb24iPT09YXJndW1lbnRzWzBdJiYiaXRlbXMiPT09YXJndW1lbnRzWzFdP3RoaXMuY29udHJvbGdyb3VwLmFwcGx5KHRoaXMsW2FyZ3VtZW50c1swXSwiaXRlbXMuYnV0dG9uIl0pOigib2JqZWN0Ij09dHlwZW9mIGFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLml0ZW1zJiYoYXJndW1lbnRzWzBdLml0ZW1zPXtidXR0b246YXJndW1lbnRzWzBdLml0ZW1zfSksdGhpcy5jb250cm9sZ3JvdXAuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0pO24udWkuYnV0dG9uO24uZXh0ZW5kKG4udWkse2RhdGVwaWNrZXI6e3ZlcnNpb246IjEuMTIuMSJ9fSk7bi5leHRlbmQoYy5wcm90b3R5cGUse21hcmtlckNsYXNzTmFtZToiaGFzRGF0ZXBpY2tlciIsbWF4Um93czo0LF93aWRnZXREYXRlcGlja2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHBEaXZ9LHNldERlZmF1bHRzOmZ1bmN0aW9uKG4pe3JldHVybiB1KHRoaXMuX2RlZmF1bHRzLG58fHt9KSx0aGlzfSxfYXR0YWNoRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkpe3ZhciByLGYsdTtyPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtmPSJkaXYiPT09cnx8InNwYW4iPT09cjt0LmlkfHwodGhpcy51dWlkKz0xLHQuaWQ9ImRwIit0aGlzLnV1aWQpO3U9dGhpcy5fbmV3SW5zdChuKHQpLGYpO3Uuc2V0dGluZ3M9bi5leHRlbmQoe30saXx8e30pOyJpbnB1dCI9PT1yP3RoaXMuX2Nvbm5lY3REYXRlcGlja2VyKHQsdSk6ZiYmdGhpcy5faW5saW5lRGF0ZXBpY2tlcih0LHUpfSxfbmV3SW5zdDpmdW5jdGlvbih0LGkpe3ZhciByPXRbMF0uaWQucmVwbGFjZSgvKFteQS1aYS16MC05X1wtXSkvZywiXFxcXCQxIik7cmV0dXJue2lkOnIsaW5wdXQ6dCxzZWxlY3RlZERheTowLHNlbGVjdGVkTW9udGg6MCxzZWxlY3RlZFllYXI6MCxkcmF3TW9udGg6MCxkcmF3WWVhcjowLGlubGluZTppLGRwRGl2Omk/bChuKCI8ZGl2IGNsYXNzPSciK3RoaXMuX2lubGluZUNsYXNzKyIgdWktZGF0ZXBpY2tlciB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktaGVscGVyLWNsZWFyZml4IHVpLWNvcm5lci1hbGwnPjxcL2Rpdj4iKSk6dGhpcy5kcERpdn19LF9jb25uZWN0RGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkpe3ZhciByPW4odCk7aS5hcHBlbmQ9bihbXSk7aS50cmlnZ2VyPW4oW10pO3IuaGFzQ2xhc3ModGhpcy5tYXJrZXJDbGFzc05hbWUpfHwodGhpcy5fYXR0YWNobWVudHMocixpKSxyLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5vbigia2V5ZG93biIsdGhpcy5fZG9LZXlEb3duKS5vbigia2V5cHJlc3MiLHRoaXMuX2RvS2V5UHJlc3MpLm9uKCJrZXl1cCIsdGhpcy5fZG9LZXlVcCksdGhpcy5fYXV0b1NpemUoaSksbi5kYXRhKHQsImRhdGVwaWNrZXIiLGkpLGkuc2V0dGluZ3MuZGlzYWJsZWQmJnRoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHQpKX0sX2F0dGFjaG1lbnRzOmZ1bmN0aW9uKHQsaSl7dmFyIHUscixmLGU9dGhpcy5fZ2V0KGksImFwcGVuZFRleHQiKSxvPXRoaXMuX2dldChpLCJpc1JUTCIpO2kuYXBwZW5kJiZpLmFwcGVuZC5yZW1vdmUoKTtlJiYoaS5hcHBlbmQ9bigiPHNwYW4gY2xhc3M9JyIrdGhpcy5fYXBwZW5kQ2xhc3MrIic+IitlKyI8XC9zcGFuPiIpLHRbbz8iYmVmb3JlIjoiYWZ0ZXIiXShpLmFwcGVuZCkpO3Qub2ZmKCJmb2N1cyIsdGhpcy5fc2hvd0RhdGVwaWNrZXIpO2kudHJpZ2dlciYmaS50cmlnZ2VyLnJlbW92ZSgpO3U9dGhpcy5fZ2V0KGksInNob3dPbiIpOygiZm9jdXMiPT09dXx8ImJvdGgiPT09dSkmJnQub24oImZvY3VzIix0aGlzLl9zaG93RGF0ZXBpY2tlcik7KCJidXR0b24iPT09dXx8ImJvdGgiPT09dSkmJihyPXRoaXMuX2dldChpLCJidXR0b25UZXh0IiksZj10aGlzLl9nZXQoaSwiYnV0dG9uSW1hZ2UiKSxpLnRyaWdnZXI9bih0aGlzLl9nZXQoaSwiYnV0dG9uSW1hZ2VPbmx5Iik/bigiPGltZy8+IikuYWRkQ2xhc3ModGhpcy5fdHJpZ2dlckNsYXNzKS5hdHRyKHtzcmM6ZixhbHQ6cix0aXRsZTpyfSk6bigiPGJ1dHRvbiB0eXBlPSdidXR0b24nPjxcL2J1dHRvbj4iKS5hZGRDbGFzcyh0aGlzLl90cmlnZ2VyQ2xhc3MpLmh0bWwoZj9uKCI8aW1nLz4iKS5hdHRyKHtzcmM6ZixhbHQ6cix0aXRsZTpyfSk6cikpLHRbbz8iYmVmb3JlIjoiYWZ0ZXIiXShpLnRyaWdnZXIpLGkudHJpZ2dlci5vbigiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIG4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJm4uZGF0ZXBpY2tlci5fbGFzdElucHV0PT09dFswXT9uLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCk6bi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZyYmbi5kYXRlcGlja2VyLl9sYXN0SW5wdXQhPT10WzBdPyhuLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCksbi5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0WzBdKSk6bi5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0WzBdKSwhMX0pKX0sX2F1dG9TaXplOmZ1bmN0aW9uKG4pe2lmKHRoaXMuX2dldChuLCJhdXRvU2l6ZSIpJiYhbi5pbmxpbmUpe3ZhciByLHUsZix0LGk9bmV3IERhdGUoMjAwOSwxMSwyMCksZT10aGlzLl9nZXQobiwiZGF0ZUZvcm1hdCIpO2UubWF0Y2goL1tETV0vKSYmKHI9ZnVuY3Rpb24obil7Zm9yKHU9MCxmPTAsdD0wO24ubGVuZ3RoPnQ7dCsrKW5bdF0ubGVuZ3RoPnUmJih1PW5bdF0ubGVuZ3RoLGY9dCk7cmV0dXJuIGZ9LGkuc2V0TW9udGgocih0aGlzLl9nZXQobixlLm1hdGNoKC9NTS8pPyJtb250aE5hbWVzIjoibW9udGhOYW1lc1Nob3J0IikpKSxpLnNldERhdGUocih0aGlzLl9nZXQobixlLm1hdGNoKC9ERC8pPyJkYXlOYW1lcyI6ImRheU5hbWVzU2hvcnQiKSkrMjAtaS5nZXREYXkoKSkpO24uaW5wdXQuYXR0cigic2l6ZSIsdGhpcy5fZm9ybWF0RGF0ZShuLGkpLmxlbmd0aCl9fSxfaW5saW5lRGF0ZXBpY2tlcjpmdW5jdGlvbih0LGkpe3ZhciByPW4odCk7ci5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSl8fChyLmFkZENsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5hcHBlbmQoaS5kcERpdiksbi5kYXRhKHQsImRhdGVwaWNrZXIiLGkpLHRoaXMuX3NldERhdGUoaSx0aGlzLl9nZXREZWZhdWx0RGF0ZShpKSwhMCksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcihpKSx0aGlzLl91cGRhdGVBbHRlcm5hdGUoaSksaS5zZXR0aW5ncy5kaXNhYmxlZCYmdGhpcy5fZGlzYWJsZURhdGVwaWNrZXIodCksaS5kcERpdi5jc3MoImRpc3BsYXkiLCJibG9jayIpKX0sX2RpYWxvZ0RhdGVwaWNrZXI6ZnVuY3Rpb24odCxpLHIsZixlKXt2YXIgcyxoLGMsbCxhLG89dGhpcy5fZGlhbG9nSW5zdDtyZXR1cm4gb3x8KHRoaXMudXVpZCs9MSxzPSJkcCIrdGhpcy51dWlkLHRoaXMuX2RpYWxvZ0lucHV0PW4oIjxpbnB1dCB0eXBlPSd0ZXh0JyBpZD0nIitzKyInIHN0eWxlPSdwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogLTEwMHB4OyB3aWR0aDogMHB4OycvPiIpLHRoaXMuX2RpYWxvZ0lucHV0Lm9uKCJrZXlkb3duIix0aGlzLl9kb0tleURvd24pLG4oImJvZHkiKS5hcHBlbmQodGhpcy5fZGlhbG9nSW5wdXQpLG89dGhpcy5fZGlhbG9nSW5zdD10aGlzLl9uZXdJbnN0KHRoaXMuX2RpYWxvZ0lucHV0LCExKSxvLnNldHRpbmdzPXt9LG4uZGF0YSh0aGlzLl9kaWFsb2dJbnB1dFswXSwiZGF0ZXBpY2tlciIsbykpLHUoby5zZXR0aW5ncyxmfHx7fSksaT1pJiZpLmNvbnN0cnVjdG9yPT09RGF0ZT90aGlzLl9mb3JtYXREYXRlKG8saSk6aSx0aGlzLl9kaWFsb2dJbnB1dC52YWwoaSksdGhpcy5fcG9zPWU/ZS5sZW5ndGg/ZTpbZS5wYWdlWCxlLnBhZ2VZXTpudWxsLHRoaXMuX3Bvc3x8KGg9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLGM9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCxsPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQsYT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wfHxkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCx0aGlzLl9wb3M9W2gvMi0xMDArbCxjLzItMTUwK2FdKSx0aGlzLl9kaWFsb2dJbnB1dC5jc3MoImxlZnQiLHRoaXMuX3Bvc1swXSsyMCsicHgiKS5jc3MoInRvcCIsdGhpcy5fcG9zWzFdKyJweCIpLG8uc2V0dGluZ3Mub25TZWxlY3Q9cix0aGlzLl9pbkRpYWxvZz0hMCx0aGlzLmRwRGl2LmFkZENsYXNzKHRoaXMuX2RpYWxvZ0NsYXNzKSx0aGlzLl9zaG93RGF0ZXBpY2tlcih0aGlzLl9kaWFsb2dJbnB1dFswXSksbi5ibG9ja1VJJiZuLmJsb2NrVUkodGhpcy5kcERpdiksbi5kYXRhKHRoaXMuX2RpYWxvZ0lucHV0WzBdLCJkYXRlcGlja2VyIixvKSx0aGlzfSxfZGVzdHJveURhdGVwaWNrZXI6ZnVuY3Rpb24odCl7dmFyIHIsdT1uKHQpLGY9bi5kYXRhKHQsImRhdGVwaWNrZXIiKTt1Lmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSYmKHI9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLG4ucmVtb3ZlRGF0YSh0LCJkYXRlcGlja2VyIiksImlucHV0Ij09PXI/KGYuYXBwZW5kLnJlbW92ZSgpLGYudHJpZ2dlci5yZW1vdmUoKSx1LnJlbW92ZUNsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKS5vZmYoImZvY3VzIix0aGlzLl9zaG93RGF0ZXBpY2tlcikub2ZmKCJrZXlkb3duIix0aGlzLl9kb0tleURvd24pLm9mZigia2V5cHJlc3MiLHRoaXMuX2RvS2V5UHJlc3MpLm9mZigia2V5dXAiLHRoaXMuX2RvS2V5VXApKTooImRpdiI9PT1yfHwic3BhbiI9PT1yKSYmdS5yZW1vdmVDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkuZW1wdHkoKSxpPT09ZiYmKGk9bnVsbCkpfSxfZW5hYmxlRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt2YXIgaSxyLHU9bih0KSxmPW4uZGF0YSh0LCJkYXRlcGlja2VyIik7dS5oYXNDbGFzcyh0aGlzLm1hcmtlckNsYXNzTmFtZSkmJihpPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwiaW5wdXQiPT09aT8odC5kaXNhYmxlZD0hMSxmLnRyaWdnZXIuZmlsdGVyKCJidXR0b24iKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD0hMX0pLmVuZCgpLmZpbHRlcigiaW1nIikuY3NzKHtvcGFjaXR5OiIxLjAiLGN1cnNvcjoiIn0pKTooImRpdiI9PT1pfHwic3BhbiI9PT1pKSYmKHI9dS5jaGlsZHJlbigiLiIrdGhpcy5faW5saW5lQ2xhc3MpLHIuY2hpbGRyZW4oKS5yZW1vdmVDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSxyLmZpbmQoInNlbGVjdC51aS1kYXRlcGlja2VyLW1vbnRoLCBzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyIikucHJvcCgiZGlzYWJsZWQiLCExKSksdGhpcy5fZGlzYWJsZWRJbnB1dHM9bi5tYXAodGhpcy5fZGlzYWJsZWRJbnB1dHMsZnVuY3Rpb24obil7cmV0dXJuIG49PT10P251bGw6bn0pKX0sX2Rpc2FibGVEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdT1uKHQpLGY9bi5kYXRhKHQsImRhdGVwaWNrZXIiKTt1Lmhhc0NsYXNzKHRoaXMubWFya2VyQ2xhc3NOYW1lKSYmKGk9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCJpbnB1dCI9PT1pPyh0LmRpc2FibGVkPSEwLGYudHJpZ2dlci5maWx0ZXIoImJ1dHRvbiIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPSEwfSkuZW5kKCkuZmlsdGVyKCJpbWciKS5jc3Moe29wYWNpdHk6IjAuNSIsY3Vyc29yOiJkZWZhdWx0In0pKTooImRpdiI9PT1pfHwic3BhbiI9PT1pKSYmKHI9dS5jaGlsZHJlbigiLiIrdGhpcy5faW5saW5lQ2xhc3MpLHIuY2hpbGRyZW4oKS5hZGRDbGFzcygidWktc3RhdGUtZGlzYWJsZWQiKSxyLmZpbmQoInNlbGVjdC51aS1kYXRlcGlja2VyLW1vbnRoLCBzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyIikucHJvcCgiZGlzYWJsZWQiLCEwKSksdGhpcy5fZGlzYWJsZWRJbnB1dHM9bi5tYXAodGhpcy5fZGlzYWJsZWRJbnB1dHMsZnVuY3Rpb24obil7cmV0dXJuIG49PT10P251bGw6bn0pLHRoaXMuX2Rpc2FibGVkSW5wdXRzW3RoaXMuX2Rpc2FibGVkSW5wdXRzLmxlbmd0aF09dCl9LF9pc0Rpc2FibGVkRGF0ZXBpY2tlcjpmdW5jdGlvbihuKXtpZighbilyZXR1cm4hMTtmb3IodmFyIHQ9MDt0aGlzLl9kaXNhYmxlZElucHV0cy5sZW5ndGg+dDt0KyspaWYodGhpcy5fZGlzYWJsZWRJbnB1dHNbdF09PT1uKXJldHVybiEwO3JldHVybiExfSxfZ2V0SW5zdDpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIG4uZGF0YSh0LCJkYXRlcGlja2VyIil9Y2F0Y2goaSl7dGhyb3ciTWlzc2luZyBpbnN0YW5jZSBkYXRhIGZvciB0aGlzIGRhdGVwaWNrZXIiO319LF9vcHRpb25EYXRlcGlja2VyOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZSxoLG8scyxmPXRoaXMuX2dldEluc3QodCk7cmV0dXJuIDI9PT1hcmd1bWVudHMubGVuZ3RoJiYic3RyaW5nIj09dHlwZW9mIGk/ImRlZmF1bHRzIj09PWk/bi5leHRlbmQoe30sbi5kYXRlcGlja2VyLl9kZWZhdWx0cyk6Zj8iYWxsIj09PWk/bi5leHRlbmQoe30sZi5zZXR0aW5ncyk6dGhpcy5fZ2V0KGYsaSk6bnVsbDooZT1pfHx7fSwic3RyaW5nIj09dHlwZW9mIGkmJihlPXt9LGVbaV09ciksZiYmKHRoaXMuX2N1ckluc3Q9PT1mJiZ0aGlzLl9oaWRlRGF0ZXBpY2tlcigpLGg9dGhpcy5fZ2V0RGF0ZURhdGVwaWNrZXIodCwhMCksbz10aGlzLl9nZXRNaW5NYXhEYXRlKGYsIm1pbiIpLHM9dGhpcy5fZ2V0TWluTWF4RGF0ZShmLCJtYXgiKSx1KGYuc2V0dGluZ3MsZSksbnVsbCE9PW8mJnZvaWQgMCE9PWUuZGF0ZUZvcm1hdCYmdm9pZCAwPT09ZS5taW5EYXRlJiYoZi5zZXR0aW5ncy5taW5EYXRlPXRoaXMuX2Zvcm1hdERhdGUoZixvKSksbnVsbCE9PXMmJnZvaWQgMCE9PWUuZGF0ZUZvcm1hdCYmdm9pZCAwPT09ZS5tYXhEYXRlJiYoZi5zZXR0aW5ncy5tYXhEYXRlPXRoaXMuX2Zvcm1hdERhdGUoZixzKSksImRpc2FibGVkImluIGUmJihlLmRpc2FibGVkP3RoaXMuX2Rpc2FibGVEYXRlcGlja2VyKHQpOnRoaXMuX2VuYWJsZURhdGVwaWNrZXIodCkpLHRoaXMuX2F0dGFjaG1lbnRzKG4odCksZiksdGhpcy5fYXV0b1NpemUoZiksdGhpcy5fc2V0RGF0ZShmLGgpLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShmKSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKGYpKSx2b2lkIDApfSxfY2hhbmdlRGF0ZXBpY2tlcjpmdW5jdGlvbihuLHQsaSl7dGhpcy5fb3B0aW9uRGF0ZXBpY2tlcihuLHQsaSl9LF9yZWZyZXNoRGF0ZXBpY2tlcjpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9nZXRJbnN0KG4pO3QmJnRoaXMuX3VwZGF0ZURhdGVwaWNrZXIodCl9LF9zZXREYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuX2dldEluc3Qobik7aSYmKHRoaXMuX3NldERhdGUoaSx0KSx0aGlzLl91cGRhdGVEYXRlcGlja2VyKGkpLHRoaXMuX3VwZGF0ZUFsdGVybmF0ZShpKSl9LF9nZXREYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuX2dldEluc3Qobik7cmV0dXJuIGkmJiFpLmlubGluZSYmdGhpcy5fc2V0RGF0ZUZyb21GaWVsZChpLHQpLGk/dGhpcy5fZ2V0RGF0ZShpKTpudWxsfSxfZG9LZXlEb3duOmZ1bmN0aW9uKHQpe3ZhciB1LGUsZixpPW4uZGF0ZXBpY2tlci5fZ2V0SW5zdCh0LnRhcmdldCkscj0hMCxvPWkuZHBEaXYuaXMoIi51aS1kYXRlcGlja2VyLXJ0bCIpO2lmKGkuX2tleUV2ZW50PSEwLG4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcpc3dpdGNoKHQua2V5Q29kZSl7Y2FzZSA5Om4uZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIoKTtyPSExO2JyZWFrO2Nhc2UgMTM6cmV0dXJuIGY9bigidGQuIituLmRhdGVwaWNrZXIuX2RheU92ZXJDbGFzcysiOm5vdCguIituLmRhdGVwaWNrZXIuX2N1cnJlbnRDbGFzcysiKSIsaS5kcERpdiksZlswXSYmbi5kYXRlcGlja2VyLl9zZWxlY3REYXkodC50YXJnZXQsaS5zZWxlY3RlZE1vbnRoLGkuc2VsZWN0ZWRZZWFyLGZbMF0pLHU9bi5kYXRlcGlja2VyLl9nZXQoaSwib25TZWxlY3QiKSx1PyhlPW4uZGF0ZXBpY2tlci5fZm9ybWF0RGF0ZShpKSx1LmFwcGx5KGkuaW5wdXQ/aS5pbnB1dFswXTpudWxsLFtlLGldKSk6bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpLCExO2Nhc2UgMjc6bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpO2JyZWFrO2Nhc2UgMzM6bi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LHQuY3RybEtleT8tbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcEJpZ01vbnRocyIpOi1uLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDM0Om4uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCx0LmN0cmxLZXk/K24uZGF0ZXBpY2tlci5fZ2V0KGksInN0ZXBCaWdNb250aHMiKTorbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcE1vbnRocyIpLCJNIik7YnJlYWs7Y2FzZSAzNToodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZuLmRhdGVwaWNrZXIuX2NsZWFyRGF0ZSh0LnRhcmdldCk7cj10LmN0cmxLZXl8fHQubWV0YUtleTticmVhaztjYXNlIDM2Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJm4uZGF0ZXBpY2tlci5fZ290b1RvZGF5KHQudGFyZ2V0KTtyPXQuY3RybEtleXx8dC5tZXRhS2V5O2JyZWFrO2Nhc2UgMzc6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmbi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LG8/MTotMSwiRCIpO3I9dC5jdHJsS2V5fHx0Lm1ldGFLZXk7dC5vcmlnaW5hbEV2ZW50LmFsdEtleSYmbi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LHQuY3RybEtleT8tbi5kYXRlcGlja2VyLl9nZXQoaSwic3RlcEJpZ01vbnRocyIpOi1uLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwTW9udGhzIiksIk0iKTticmVhaztjYXNlIDM4Oih0LmN0cmxLZXl8fHQubWV0YUtleSkmJm4uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZSh0LnRhcmdldCwtNywiRCIpO3I9dC5jdHJsS2V5fHx0Lm1ldGFLZXk7YnJlYWs7Y2FzZSAzOToodC5jdHJsS2V5fHx0Lm1ldGFLZXkpJiZuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsbz8tMToxLCJEIik7cj10LmN0cmxLZXl8fHQubWV0YUtleTt0Lm9yaWdpbmFsRXZlbnQuYWx0S2V5JiZuLmRhdGVwaWNrZXIuX2FkanVzdERhdGUodC50YXJnZXQsdC5jdHJsS2V5PytuLmRhdGVwaWNrZXIuX2dldChpLCJzdGVwQmlnTW9udGhzIik6K24uZGF0ZXBpY2tlci5fZ2V0KGksInN0ZXBNb250aHMiKSwiTSIpO2JyZWFrO2Nhc2UgNDA6KHQuY3RybEtleXx8dC5tZXRhS2V5KSYmbi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKHQudGFyZ2V0LDcsIkQiKTtyPXQuY3RybEtleXx8dC5tZXRhS2V5O2JyZWFrO2RlZmF1bHQ6cj0hMX1lbHNlIDM2PT09dC5rZXlDb2RlJiZ0LmN0cmxLZXk/bi5kYXRlcGlja2VyLl9zaG93RGF0ZXBpY2tlcih0aGlzKTpyPSExO3ImJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSl9LF9kb0tleVByZXNzOmZ1bmN0aW9uKHQpe3ZhciBpLHIsdT1uLmRhdGVwaWNrZXIuX2dldEluc3QodC50YXJnZXQpO2lmKG4uZGF0ZXBpY2tlci5fZ2V0KHUsImNvbnN0cmFpbklucHV0IikpcmV0dXJuKGk9bi5kYXRlcGlja2VyLl9wb3NzaWJsZUNoYXJzKG4uZGF0ZXBpY2tlci5fZ2V0KHUsImRhdGVGb3JtYXQiKSkscj1TdHJpbmcuZnJvbUNoYXJDb2RlKG51bGw9PXQuY2hhckNvZGU/dC5rZXlDb2RlOnQuY2hhckNvZGUpLHQuY3RybEtleXx8dC5tZXRhS2V5fHwiICI+cnx8IWl8fGkuaW5kZXhPZihyKT4tMSl9LF9kb0tleVVwOmZ1bmN0aW9uKHQpe3ZhciByLGk9bi5kYXRlcGlja2VyLl9nZXRJbnN0KHQudGFyZ2V0KTtpZihpLmlucHV0LnZhbCgpIT09aS5sYXN0VmFsKXRyeXtyPW4uZGF0ZXBpY2tlci5wYXJzZURhdGUobi5kYXRlcGlja2VyLl9nZXQoaSwiZGF0ZUZvcm1hdCIpLGkuaW5wdXQ/aS5pbnB1dC52YWwoKTpudWxsLG4uZGF0ZXBpY2tlci5fZ2V0Rm9ybWF0Q29uZmlnKGkpKTtyJiYobi5kYXRlcGlja2VyLl9zZXREYXRlRnJvbUZpZWxkKGkpLG4uZGF0ZXBpY2tlci5fdXBkYXRlQWx0ZXJuYXRlKGkpLG4uZGF0ZXBpY2tlci5fdXBkYXRlRGF0ZXBpY2tlcihpKSl9Y2F0Y2godSl7fXJldHVybiEwfSxfc2hvd0RhdGVwaWNrZXI6ZnVuY3Rpb24odCl7aWYodD10LnRhcmdldHx8dCwiaW5wdXQiIT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYodD1uKCJpbnB1dCIsdC5wYXJlbnROb2RlKVswXSksIW4uZGF0ZXBpY2tlci5faXNEaXNhYmxlZERhdGVwaWNrZXIodCkmJm4uZGF0ZXBpY2tlci5fbGFzdElucHV0IT09dCl7dmFyIGksbyxzLHIsZixlLGg7aT1uLmRhdGVwaWNrZXIuX2dldEluc3QodCk7bi5kYXRlcGlja2VyLl9jdXJJbnN0JiZuLmRhdGVwaWNrZXIuX2N1ckluc3QhPT1pJiYobi5kYXRlcGlja2VyLl9jdXJJbnN0LmRwRGl2LnN0b3AoITAsITApLGkmJm4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJm4uZGF0ZXBpY2tlci5faGlkZURhdGVwaWNrZXIobi5kYXRlcGlja2VyLl9jdXJJbnN0LmlucHV0WzBdKSk7bz1uLmRhdGVwaWNrZXIuX2dldChpLCJiZWZvcmVTaG93Iik7cz1vP28uYXBwbHkodCxbdCxpXSk6e307cyE9PSExJiYodShpLnNldHRpbmdzLHMpLGkubGFzdFZhbD1udWxsLG4uZGF0ZXBpY2tlci5fbGFzdElucHV0PXQsbi5kYXRlcGlja2VyLl9zZXREYXRlRnJvbUZpZWxkKGkpLG4uZGF0ZXBpY2tlci5faW5EaWFsb2cmJih0LnZhbHVlPSIiKSxuLmRhdGVwaWNrZXIuX3Bvc3x8KG4uZGF0ZXBpY2tlci5fcG9zPW4uZGF0ZXBpY2tlci5fZmluZFBvcyh0KSxuLmRhdGVwaWNrZXIuX3Bvc1sxXSs9dC5vZmZzZXRIZWlnaHQpLHI9ITEsbih0KS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe3JldHVybiByfD0iZml4ZWQiPT09bih0aGlzKS5jc3MoInBvc2l0aW9uIiksIXJ9KSxmPXtsZWZ0Om4uZGF0ZXBpY2tlci5fcG9zWzBdLHRvcDpuLmRhdGVwaWNrZXIuX3Bvc1sxXX0sbi5kYXRlcGlja2VyLl9wb3M9bnVsbCxpLmRwRGl2LmVtcHR5KCksaS5kcERpdi5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsZGlzcGxheToiYmxvY2siLHRvcDoiLTEwMDBweCJ9KSxuLmRhdGVwaWNrZXIuX3VwZGF0ZURhdGVwaWNrZXIoaSksZj1uLmRhdGVwaWNrZXIuX2NoZWNrT2Zmc2V0KGksZixyKSxpLmRwRGl2LmNzcyh7cG9zaXRpb246bi5kYXRlcGlja2VyLl9pbkRpYWxvZyYmbi5ibG9ja1VJPyJzdGF0aWMiOnI/ImZpeGVkIjoiYWJzb2x1dGUiLGRpc3BsYXk6Im5vbmUiLGxlZnQ6Zi5sZWZ0KyJweCIsdG9wOmYudG9wKyJweCJ9KSxpLmlubGluZXx8KGU9bi5kYXRlcGlja2VyLl9nZXQoaSwic2hvd0FuaW0iKSxoPW4uZGF0ZXBpY2tlci5fZ2V0KGksImR1cmF0aW9uIiksaS5kcERpdi5jc3MoInotaW5kZXgiLGsobih0KSkrMSksbi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZz0hMCxuLmVmZmVjdHMmJm4uZWZmZWN0cy5lZmZlY3RbZV0/aS5kcERpdi5zaG93KGUsbi5kYXRlcGlja2VyLl9nZXQoaSwic2hvd09wdGlvbnMiKSxoKTppLmRwRGl2W2V8fCJzaG93Il0oZT9oOm51bGwpLG4uZGF0ZXBpY2tlci5fc2hvdWxkRm9jdXNJbnB1dChpKSYmaS5pbnB1dC50cmlnZ2VyKCJmb2N1cyIpLG4uZGF0ZXBpY2tlci5fY3VySW5zdD1pKSl9fSxfdXBkYXRlRGF0ZXBpY2tlcjpmdW5jdGlvbih0KXt0aGlzLm1heFJvd3M9NDtpPXQ7dC5kcERpdi5lbXB0eSgpLmFwcGVuZCh0aGlzLl9nZW5lcmF0ZUhUTUwodCkpO3RoaXMuX2F0dGFjaEhhbmRsZXJzKHQpO3ZhciByLHU9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHModCksZj11WzFdLGU9dC5kcERpdi5maW5kKCIuIit0aGlzLl9kYXlPdmVyQ2xhc3MrIiBhIik7ZS5sZW5ndGg+MCYmYS5hcHBseShlLmdldCgwKSk7dC5kcERpdi5yZW1vdmVDbGFzcygidWktZGF0ZXBpY2tlci1tdWx0aS0yIHVpLWRhdGVwaWNrZXItbXVsdGktMyB1aS1kYXRlcGlja2VyLW11bHRpLTQiKS53aWR0aCgiIik7Zj4xJiZ0LmRwRGl2LmFkZENsYXNzKCJ1aS1kYXRlcGlja2VyLW11bHRpLSIrZikuY3NzKCJ3aWR0aCIsMTcqZisiZW0iKTt0LmRwRGl2WygxIT09dVswXXx8MSE9PXVbMV0/ImFkZCI6InJlbW92ZSIpKyJDbGFzcyJdKCJ1aS1kYXRlcGlja2VyLW11bHRpIik7dC5kcERpdlsodGhpcy5fZ2V0KHQsImlzUlRMIik/ImFkZCI6InJlbW92ZSIpKyJDbGFzcyJdKCJ1aS1kYXRlcGlja2VyLXJ0bCIpO3Q9PT1uLmRhdGVwaWNrZXIuX2N1ckluc3QmJm4uZGF0ZXBpY2tlci5fZGF0ZXBpY2tlclNob3dpbmcmJm4uZGF0ZXBpY2tlci5fc2hvdWxkRm9jdXNJbnB1dCh0KSYmdC5pbnB1dC50cmlnZ2VyKCJmb2N1cyIpO3QueWVhcnNodG1sJiYocj10LnllYXJzaHRtbCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cj09PXQueWVhcnNodG1sJiZ0LnllYXJzaHRtbCYmdC5kcERpdi5maW5kKCJzZWxlY3QudWktZGF0ZXBpY2tlci15ZWFyOmZpcnN0IikucmVwbGFjZVdpdGgodC55ZWFyc2h0bWwpO3I9dC55ZWFyc2h0bWw9bnVsbH0sMCkpfSxfc2hvdWxkRm9jdXNJbnB1dDpmdW5jdGlvbihuKXtyZXR1cm4gbi5pbnB1dCYmbi5pbnB1dC5pcygiOnZpc2libGUiKSYmIW4uaW5wdXQuaXMoIjpkaXNhYmxlZCIpJiYhbi5pbnB1dC5pcygiOmZvY3VzIil9LF9jaGVja09mZnNldDpmdW5jdGlvbih0LGkscil7dmFyIHU9dC5kcERpdi5vdXRlcldpZHRoKCksZj10LmRwRGl2Lm91dGVySGVpZ2h0KCksaD10LmlucHV0P3QuaW5wdXQub3V0ZXJXaWR0aCgpOjAsbz10LmlucHV0P3QuaW5wdXQub3V0ZXJIZWlnaHQoKTowLGU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKyhyPzA6bihkb2N1bWVudCkuc2Nyb2xsTGVmdCgpKSxzPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQrKHI/MDpuKGRvY3VtZW50KS5zY3JvbGxUb3AoKSk7cmV0dXJuIGkubGVmdC09dGhpcy5fZ2V0KHQsImlzUlRMIik/dS1oOjAsaS5sZWZ0LT1yJiZpLmxlZnQ9PT10LmlucHV0Lm9mZnNldCgpLmxlZnQ/bihkb2N1bWVudCkuc2Nyb2xsTGVmdCgpOjAsaS50b3AtPXImJmkudG9wPT09dC5pbnB1dC5vZmZzZXQoKS50b3Arbz9uKGRvY3VtZW50KS5zY3JvbGxUb3AoKTowLGkubGVmdC09TWF0aC5taW4oaS5sZWZ0LGkubGVmdCt1PmUmJmU+dT9NYXRoLmFicyhpLmxlZnQrdS1lKTowKSxpLnRvcC09TWF0aC5taW4oaS50b3AsaS50b3ArZj5zJiZzPmY/TWF0aC5hYnMoZitvKTowKSxpfSxfZmluZFBvczpmdW5jdGlvbih0KXtmb3IodmFyIGkscj10aGlzLl9nZXRJbnN0KHQpLHU9dGhpcy5fZ2V0KHIsImlzUlRMIik7dCYmKCJoaWRkZW4iPT09dC50eXBlfHwxIT09dC5ub2RlVHlwZXx8bi5leHByLmZpbHRlcnMuaGlkZGVuKHQpKTspdD10W3U/InByZXZpb3VzU2libGluZyI6Im5leHRTaWJsaW5nIl07cmV0dXJuIGk9bih0KS5vZmZzZXQoKSxbaS5sZWZ0LGkudG9wXX0sX2hpZGVEYXRlcGlja2VyOmZ1bmN0aW9uKHQpe3ZhciByLGYsdSxlLGk9dGhpcy5fY3VySW5zdDshaXx8dCYmaSE9PW4uZGF0YSh0LCJkYXRlcGlja2VyIil8fHRoaXMuX2RhdGVwaWNrZXJTaG93aW5nJiYocj10aGlzLl9nZXQoaSwic2hvd0FuaW0iKSxmPXRoaXMuX2dldChpLCJkdXJhdGlvbiIpLHU9ZnVuY3Rpb24oKXtuLmRhdGVwaWNrZXIuX3RpZHlEaWFsb2coaSl9LG4uZWZmZWN0cyYmKG4uZWZmZWN0cy5lZmZlY3Rbcl18fG4uZWZmZWN0c1tyXSk/aS5kcERpdi5oaWRlKHIsbi5kYXRlcGlja2VyLl9nZXQoaSwic2hvd09wdGlvbnMiKSxmLHUpOmkuZHBEaXZbInNsaWRlRG93biI9PT1yPyJzbGlkZVVwIjoiZmFkZUluIj09PXI/ImZhZGVPdXQiOiJoaWRlIl0ocj9mOm51bGwsdSkscnx8dSgpLHRoaXMuX2RhdGVwaWNrZXJTaG93aW5nPSExLGU9dGhpcy5fZ2V0KGksIm9uQ2xvc2UiKSxlJiZlLmFwcGx5KGkuaW5wdXQ/aS5pbnB1dFswXTpudWxsLFtpLmlucHV0P2kuaW5wdXQudmFsKCk6IiIsaV0pLHRoaXMuX2xhc3RJbnB1dD1udWxsLHRoaXMuX2luRGlhbG9nJiYodGhpcy5fZGlhbG9nSW5wdXQuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLGxlZnQ6IjAiLHRvcDoiLTEwMHB4In0pLG4uYmxvY2tVSSYmKG4udW5ibG9ja1VJKCksbigiYm9keSIpLmFwcGVuZCh0aGlzLmRwRGl2KSkpLHRoaXMuX2luRGlhbG9nPSExKX0sX3RpZHlEaWFsb2c6ZnVuY3Rpb24obil7bi5kcERpdi5yZW1vdmVDbGFzcyh0aGlzLl9kaWFsb2dDbGFzcykub2ZmKCIudWktZGF0ZXBpY2tlci1jYWxlbmRhciIpfSxfY2hlY2tFeHRlcm5hbENsaWNrOmZ1bmN0aW9uKHQpe2lmKG4uZGF0ZXBpY2tlci5fY3VySW5zdCl7dmFyIGk9bih0LnRhcmdldCkscj1uLmRhdGVwaWNrZXIuX2dldEluc3QoaVswXSk7KGlbMF0uaWQ9PT1uLmRhdGVwaWNrZXIuX21haW5EaXZJZHx8MCE9PWkucGFyZW50cygiIyIrbi5kYXRlcGlja2VyLl9tYWluRGl2SWQpLmxlbmd0aHx8aS5oYXNDbGFzcyhuLmRhdGVwaWNrZXIubWFya2VyQ2xhc3NOYW1lKXx8aS5jbG9zZXN0KCIuIituLmRhdGVwaWNrZXIuX3RyaWdnZXJDbGFzcykubGVuZ3RofHwhbi5kYXRlcGlja2VyLl9kYXRlcGlja2VyU2hvd2luZ3x8bi5kYXRlcGlja2VyLl9pbkRpYWxvZyYmbi5ibG9ja1VJKSYmKCFpLmhhc0NsYXNzKG4uZGF0ZXBpY2tlci5tYXJrZXJDbGFzc05hbWUpfHxuLmRhdGVwaWNrZXIuX2N1ckluc3Q9PT1yKXx8bi5kYXRlcGlja2VyLl9oaWRlRGF0ZXBpY2tlcigpfX0sX2FkanVzdERhdGU6ZnVuY3Rpb24odCxpLHIpe3ZhciBmPW4odCksdT10aGlzLl9nZXRJbnN0KGZbMF0pO3RoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKGZbMF0pfHwodGhpcy5fYWRqdXN0SW5zdERhdGUodSxpKygiTSI9PT1yP3RoaXMuX2dldCh1LCJzaG93Q3VycmVudEF0UG9zIik6MCksciksdGhpcy5fdXBkYXRlRGF0ZXBpY2tlcih1KSl9LF9nb3RvVG9kYXk6ZnVuY3Rpb24odCl7dmFyIHIsdT1uKHQpLGk9dGhpcy5fZ2V0SW5zdCh1WzBdKTt0aGlzLl9nZXQoaSwiZ290b0N1cnJlbnQiKSYmaS5jdXJyZW50RGF5PyhpLnNlbGVjdGVkRGF5PWkuY3VycmVudERheSxpLmRyYXdNb250aD1pLnNlbGVjdGVkTW9udGg9aS5jdXJyZW50TW9udGgsaS5kcmF3WWVhcj1pLnNlbGVjdGVkWWVhcj1pLmN1cnJlbnRZZWFyKToocj1uZXcgRGF0ZSxpLnNlbGVjdGVkRGF5PXIuZ2V0RGF0ZSgpLGkuZHJhd01vbnRoPWkuc2VsZWN0ZWRNb250aD1yLmdldE1vbnRoKCksaS5kcmF3WWVhcj1pLnNlbGVjdGVkWWVhcj1yLmdldEZ1bGxZZWFyKCkpO3RoaXMuX25vdGlmeUNoYW5nZShpKTt0aGlzLl9hZGp1c3REYXRlKHUpfSxfc2VsZWN0TW9udGhZZWFyOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZj1uKHQpLHU9dGhpcy5fZ2V0SW5zdChmWzBdKTt1WyJzZWxlY3RlZCIrKCJNIj09PXI/Ik1vbnRoIjoiWWVhciIpXT11WyJkcmF3IisoIk0iPT09cj8iTW9udGgiOiJZZWFyIildPXBhcnNlSW50KGkub3B0aW9uc1tpLnNlbGVjdGVkSW5kZXhdLnZhbHVlLDEwKTt0aGlzLl9ub3RpZnlDaGFuZ2UodSk7dGhpcy5fYWRqdXN0RGF0ZShmKX0sX3NlbGVjdERheTpmdW5jdGlvbih0LGkscix1KXt2YXIgZixlPW4odCk7bih1KS5oYXNDbGFzcyh0aGlzLl91bnNlbGVjdGFibGVDbGFzcyl8fHRoaXMuX2lzRGlzYWJsZWREYXRlcGlja2VyKGVbMF0pfHwoZj10aGlzLl9nZXRJbnN0KGVbMF0pLGYuc2VsZWN0ZWREYXk9Zi5jdXJyZW50RGF5PW4oImEiLHUpLmh0bWwoKSxmLnNlbGVjdGVkTW9udGg9Zi5jdXJyZW50TW9udGg9aSxmLnNlbGVjdGVkWWVhcj1mLmN1cnJlbnRZZWFyPXIsdGhpcy5fc2VsZWN0RGF0ZSh0LHRoaXMuX2Zvcm1hdERhdGUoZixmLmN1cnJlbnREYXksZi5jdXJyZW50TW9udGgsZi5jdXJyZW50WWVhcikpKX0sX2NsZWFyRGF0ZTpmdW5jdGlvbih0KXt2YXIgaT1uKHQpO3RoaXMuX3NlbGVjdERhdGUoaSwiIil9LF9zZWxlY3REYXRlOmZ1bmN0aW9uKHQsaSl7dmFyIHUsZj1uKHQpLHI9dGhpcy5fZ2V0SW5zdChmWzBdKTtpPW51bGwhPWk/aTp0aGlzLl9mb3JtYXREYXRlKHIpO3IuaW5wdXQmJnIuaW5wdXQudmFsKGkpO3RoaXMuX3VwZGF0ZUFsdGVybmF0ZShyKTt1PXRoaXMuX2dldChyLCJvblNlbGVjdCIpO3U/dS5hcHBseShyLmlucHV0P3IuaW5wdXRbMF06bnVsbCxbaSxyXSk6ci5pbnB1dCYmci5pbnB1dC50cmlnZ2VyKCJjaGFuZ2UiKTtyLmlubGluZT90aGlzLl91cGRhdGVEYXRlcGlja2VyKHIpOih0aGlzLl9oaWRlRGF0ZXBpY2tlcigpLHRoaXMuX2xhc3RJbnB1dD1yLmlucHV0WzBdLCJvYmplY3QiIT10eXBlb2Ygci5pbnB1dFswXSYmci5pbnB1dC50cmlnZ2VyKCJmb2N1cyIpLHRoaXMuX2xhc3RJbnB1dD1udWxsKX0sX3VwZGF0ZUFsdGVybmF0ZTpmdW5jdGlvbih0KXt2YXIgaSxyLHUsZj10aGlzLl9nZXQodCwiYWx0RmllbGQiKTtmJiYoaT10aGlzLl9nZXQodCwiYWx0Rm9ybWF0Iil8fHRoaXMuX2dldCh0LCJkYXRlRm9ybWF0Iikscj10aGlzLl9nZXREYXRlKHQpLHU9dGhpcy5mb3JtYXREYXRlKGkscix0aGlzLl9nZXRGb3JtYXRDb25maWcodCkpLG4oZikudmFsKHUpKX0sbm9XZWVrZW5kczpmdW5jdGlvbihuKXt2YXIgdD1uLmdldERheSgpO3JldHVyblt0PjAmJjY+dCwiIl19LGlzbzg2MDFXZWVrOmZ1bmN0aW9uKG4pe3ZhciBpLHQ9bmV3IERhdGUobi5nZXRUaW1lKCkpO3JldHVybiB0LnNldERhdGUodC5nZXREYXRlKCkrNC0odC5nZXREYXkoKXx8NykpLGk9dC5nZXRUaW1lKCksdC5zZXRNb250aCgwKSx0LnNldERhdGUoMSksTWF0aC5mbG9vcihNYXRoLnJvdW5kKChpLXQpLzg2NGU1KS83KSsxfSxwYXJzZURhdGU6ZnVuY3Rpb24odCxpLHIpe2lmKG51bGw9PXR8fG51bGw9PWkpdGhyb3ciSW52YWxpZCBhcmd1bWVudHMiO2lmKGk9Im9iamVjdCI9PXR5cGVvZiBpPyIiK2k6aSsiIiwiIj09PWkpcmV0dXJuIG51bGw7Zm9yKHZhciBhLHYsdSxmPTAseT0ocj9yLnNob3J0WWVhckN1dG9mZjpudWxsKXx8dGhpcy5fZGVmYXVsdHMuc2hvcnRZZWFyQ3V0b2ZmLGQ9InN0cmluZyIhPXR5cGVvZiB5P3k6KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpJTEwMCtwYXJzZUludCh5LDEwKSxnPShyP3IuZGF5TmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXNTaG9ydCxudD0ocj9yLmRheU5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lcyx0dD0ocj9yLm1vbnRoTmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lc1Nob3J0LGl0PShyP3IubW9udGhOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lcyxlPS0xLHM9LTEsaD0tMSxwPS0xLHc9ITEsbD1mdW5jdGlvbihuKXt2YXIgaT10Lmxlbmd0aD5vKzEmJnQuY2hhckF0KG8rMSk9PT1uO3JldHVybiBpJiZvKyssaX0sYz1mdW5jdGlvbihuKXt2YXIgdT1sKG4pLHI9IkAiPT09bj8xNDoiISI9PT1uPzIwOiJ5Ij09PW4mJnU/NDoibyI9PT1uPzM6MixlPSJ5Ij09PW4/cjoxLG89UmVnRXhwKCJeXFxkeyIrZSsiLCIrcisifSIpLHQ9aS5zdWJzdHJpbmcoZikubWF0Y2gobyk7aWYoIXQpdGhyb3ciTWlzc2luZyBudW1iZXIgYXQgcG9zaXRpb24gIitmO3JldHVybiBmKz10WzBdLmxlbmd0aCxwYXJzZUludCh0WzBdLDEwKX0saz1mdW5jdGlvbih0LHIsdSl7dmFyIGU9LTEsbz1uLm1hcChsKHQpP3U6cixmdW5jdGlvbihuLHQpe3JldHVybltbdCxuXV19KS5zb3J0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuLShuWzFdLmxlbmd0aC10WzFdLmxlbmd0aCl9KTtpZihuLmVhY2gobyxmdW5jdGlvbihuLHQpe3ZhciByPXRbMV07aWYoaS5zdWJzdHIoZixyLmxlbmd0aCkudG9Mb3dlckNhc2UoKT09PXIudG9Mb3dlckNhc2UoKSlyZXR1cm4oZT10WzBdLGYrPXIubGVuZ3RoLCExKX0pLC0xIT09ZSlyZXR1cm4gZSsxO3Rocm93IlVua25vd24gbmFtZSBhdCBwb3NpdGlvbiAiK2Y7fSxiPWZ1bmN0aW9uKCl7aWYoaS5jaGFyQXQoZikhPT10LmNoYXJBdChvKSl0aHJvdyJVbmV4cGVjdGVkIGxpdGVyYWwgYXQgcG9zaXRpb24gIitmO2YrK30sbz0wO3QubGVuZ3RoPm87bysrKWlmKHcpIiciIT09dC5jaGFyQXQobyl8fGwoIiciKT9iKCk6dz0hMTtlbHNlIHN3aXRjaCh0LmNoYXJBdChvKSl7Y2FzZSJkIjpoPWMoImQiKTticmVhaztjYXNlIkQiOmsoIkQiLGcsbnQpO2JyZWFrO2Nhc2UibyI6cD1jKCJvIik7YnJlYWs7Y2FzZSJtIjpzPWMoIm0iKTticmVhaztjYXNlIk0iOnM9aygiTSIsdHQsaXQpO2JyZWFrO2Nhc2UieSI6ZT1jKCJ5Iik7YnJlYWs7Y2FzZSJAIjp1PW5ldyBEYXRlKGMoIkAiKSk7ZT11LmdldEZ1bGxZZWFyKCk7cz11LmdldE1vbnRoKCkrMTtoPXUuZ2V0RGF0ZSgpO2JyZWFrO2Nhc2UiISI6dT1uZXcgRGF0ZSgoYygiISIpLXRoaXMuX3RpY2tzVG8xOTcwKS8xZTQpO2U9dS5nZXRGdWxsWWVhcigpO3M9dS5nZXRNb250aCgpKzE7aD11LmdldERhdGUoKTticmVhaztjYXNlIiciOmwoIiciKT9iKCk6dz0hMDticmVhaztkZWZhdWx0OmIoKX1pZihpLmxlbmd0aD5mJiYodj1pLnN1YnN0cihmKSwhL15ccysvLnRlc3QodikpKXRocm93IkV4dHJhL3VucGFyc2VkIGNoYXJhY3RlcnMgZm91bmQgaW4gZGF0ZTogIit2O2lmKC0xPT09ZT9lPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKToxMDA+ZSYmKGUrPShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKS0obmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwKyhkPj1lPzA6LTEwMCkpLHA+LTEpZm9yKHM9MSxoPXA7Oyl7aWYoYT10aGlzLl9nZXREYXlzSW5Nb250aChlLHMtMSksYT49aClicmVhaztzKys7aC09YX1pZih1PXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGUscy0xLGgpKSx1LmdldEZ1bGxZZWFyKCkhPT1lfHx1LmdldE1vbnRoKCkrMSE9PXN8fHUuZ2V0RGF0ZSgpIT09aCl0aHJvdyJJbnZhbGlkIGRhdGUiO3JldHVybiB1fSxBVE9NOiJ5eS1tbS1kZCIsQ09PS0lFOiJELCBkZCBNIHl5IixJU09fODYwMToieXktbW0tZGQiLFJGQ184MjI6IkQsIGQgTSB5IixSRkNfODUwOiJERCwgZGQtTS15IixSRkNfMTAzNjoiRCwgZCBNIHkiLFJGQ18xMTIzOiJELCBkIE0geXkiLFJGQ18yODIyOiJELCBkIE0geXkiLFJTUzoiRCwgZCBNIHkiLFRJQ0tTOiIhIixUSU1FU1RBTVA6IkAiLFczQzoieXktbW0tZGQiLF90aWNrc1RvMTk3MDo4NjRlOSooNzE4Njg1K01hdGguZmxvb3IoNDkyLjUpLU1hdGguZmxvb3IoMTkuNykrTWF0aC5mbG9vcig0LjkyNSkpLGZvcm1hdERhdGU6ZnVuY3Rpb24obix0LGkpe2lmKCF0KXJldHVybiIiO3ZhciB1LGg9KGk/aS5kYXlOYW1lc1Nob3J0Om51bGwpfHx0aGlzLl9kZWZhdWx0cy5kYXlOYW1lc1Nob3J0LGM9KGk/aS5kYXlOYW1lczpudWxsKXx8dGhpcy5fZGVmYXVsdHMuZGF5TmFtZXMsbD0oaT9pLm1vbnRoTmFtZXNTaG9ydDpudWxsKXx8dGhpcy5fZGVmYXVsdHMubW9udGhOYW1lc1Nob3J0LGE9KGk/aS5tb250aE5hbWVzOm51bGwpfHx0aGlzLl9kZWZhdWx0cy5tb250aE5hbWVzLGY9ZnVuY3Rpb24odCl7dmFyIGk9bi5sZW5ndGg+dSsxJiZuLmNoYXJBdCh1KzEpPT09dDtyZXR1cm4gaSYmdSsrLGl9LGU9ZnVuY3Rpb24obix0LGkpe3ZhciByPSIiK3Q7aWYoZihuKSlmb3IoO2k+ci5sZW5ndGg7KXI9IjAiK3I7cmV0dXJuIHJ9LHM9ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIGYobik/clt0XTppW3RdfSxyPSIiLG89ITE7aWYodClmb3IodT0wO24ubGVuZ3RoPnU7dSsrKWlmKG8pIiciIT09bi5jaGFyQXQodSl8fGYoIiciKT9yKz1uLmNoYXJBdCh1KTpvPSExO2Vsc2Ugc3dpdGNoKG4uY2hhckF0KHUpKXtjYXNlImQiOnIrPWUoImQiLHQuZ2V0RGF0ZSgpLDIpO2JyZWFrO2Nhc2UiRCI6cis9cygiRCIsdC5nZXREYXkoKSxoLGMpO2JyZWFrO2Nhc2UibyI6cis9ZSgibyIsTWF0aC5yb3VuZCgobmV3IERhdGUodC5nZXRGdWxsWWVhcigpLHQuZ2V0TW9udGgoKSx0LmdldERhdGUoKSkuZ2V0VGltZSgpLW5ldyBEYXRlKHQuZ2V0RnVsbFllYXIoKSwwLDApLmdldFRpbWUoKSkvODY0ZTUpLDMpO2JyZWFrO2Nhc2UibSI6cis9ZSgibSIsdC5nZXRNb250aCgpKzEsMik7YnJlYWs7Y2FzZSJNIjpyKz1zKCJNIix0LmdldE1vbnRoKCksbCxhKTticmVhaztjYXNlInkiOnIrPWYoInkiKT90LmdldEZ1bGxZZWFyKCk6KDEwPnQuZ2V0RnVsbFllYXIoKSUxMDA/IjAiOiIiKSt0LmdldEZ1bGxZZWFyKCklMTAwO2JyZWFrO2Nhc2UiQCI6cis9dC5nZXRUaW1lKCk7YnJlYWs7Y2FzZSIhIjpyKz0xZTQqdC5nZXRUaW1lKCkrdGhpcy5fdGlja3NUbzE5NzA7YnJlYWs7Y2FzZSInIjpmKCInIik/cis9IiciOm89ITA7YnJlYWs7ZGVmYXVsdDpyKz1uLmNoYXJBdCh1KX1yZXR1cm4gcn0sX3Bvc3NpYmxlQ2hhcnM6ZnVuY3Rpb24obil7Zm9yKHZhciBpPSIiLHI9ITEsdT1mdW5jdGlvbihpKXt2YXIgcj1uLmxlbmd0aD50KzEmJm4uY2hhckF0KHQrMSk9PT1pO3JldHVybiByJiZ0Kysscn0sdD0wO24ubGVuZ3RoPnQ7dCsrKWlmKHIpIiciIT09bi5jaGFyQXQodCl8fHUoIiciKT9pKz1uLmNoYXJBdCh0KTpyPSExO2Vsc2Ugc3dpdGNoKG4uY2hhckF0KHQpKXtjYXNlImQiOmNhc2UibSI6Y2FzZSJ5IjpjYXNlIkAiOmkrPSIwMTIzNDU2Nzg5IjticmVhaztjYXNlIkQiOmNhc2UiTSI6cmV0dXJuIG51bGw7Y2FzZSInIjp1KCInIik/aSs9IiciOnI9ITA7YnJlYWs7ZGVmYXVsdDppKz1uLmNoYXJBdCh0KX1yZXR1cm4gaX0sX2dldDpmdW5jdGlvbihuLHQpe3JldHVybiB2b2lkIDAhPT1uLnNldHRpbmdzW3RdP24uc2V0dGluZ3NbdF06dGhpcy5fZGVmYXVsdHNbdF19LF9zZXREYXRlRnJvbUZpZWxkOmZ1bmN0aW9uKG4sdCl7aWYobi5pbnB1dC52YWwoKSE9PW4ubGFzdFZhbCl7dmFyIGY9dGhpcy5fZ2V0KG4sImRhdGVGb3JtYXQiKSxyPW4ubGFzdFZhbD1uLmlucHV0P24uaW5wdXQudmFsKCk6bnVsbCx1PXRoaXMuX2dldERlZmF1bHREYXRlKG4pLGk9dSxlPXRoaXMuX2dldEZvcm1hdENvbmZpZyhuKTt0cnl7aT10aGlzLnBhcnNlRGF0ZShmLHIsZSl8fHV9Y2F0Y2gobyl7cj10PyIiOnJ9bi5zZWxlY3RlZERheT1pLmdldERhdGUoKTtuLmRyYXdNb250aD1uLnNlbGVjdGVkTW9udGg9aS5nZXRNb250aCgpO24uZHJhd1llYXI9bi5zZWxlY3RlZFllYXI9aS5nZXRGdWxsWWVhcigpO24uY3VycmVudERheT1yP2kuZ2V0RGF0ZSgpOjA7bi5jdXJyZW50TW9udGg9cj9pLmdldE1vbnRoKCk6MDtuLmN1cnJlbnRZZWFyPXI/aS5nZXRGdWxsWWVhcigpOjA7dGhpcy5fYWRqdXN0SW5zdERhdGUobil9fSxfZ2V0RGVmYXVsdERhdGU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3Jlc3RyaWN0TWluTWF4KG4sdGhpcy5fZGV0ZXJtaW5lRGF0ZShuLHRoaXMuX2dldChuLCJkZWZhdWx0RGF0ZSIpLG5ldyBEYXRlKSl9LF9kZXRlcm1pbmVEYXRlOmZ1bmN0aW9uKHQsaSxyKXt2YXIgZj1mdW5jdGlvbihuKXt2YXIgdD1uZXcgRGF0ZTtyZXR1cm4gdC5zZXREYXRlKHQuZ2V0RGF0ZSgpK24pLHR9LGU9ZnVuY3Rpb24oaSl7dHJ5e3JldHVybiBuLmRhdGVwaWNrZXIucGFyc2VEYXRlKG4uZGF0ZXBpY2tlci5fZ2V0KHQsImRhdGVGb3JtYXQiKSxpLG4uZGF0ZXBpY2tlci5fZ2V0Rm9ybWF0Q29uZmlnKHQpKX1jYXRjaChoKXt9Zm9yKHZhciBvPShpLnRvTG93ZXJDYXNlKCkubWF0Y2goL15jLyk/bi5kYXRlcGlja2VyLl9nZXREYXRlKHQpOm51bGwpfHxuZXcgRGF0ZSxmPW8uZ2V0RnVsbFllYXIoKSxlPW8uZ2V0TW9udGgoKSxyPW8uZ2V0RGF0ZSgpLHM9LyhbK1wtXT9bMC05XSspXHMqKGR8RHx3fFd8bXxNfHl8WSk/L2csdT1zLmV4ZWMoaSk7dTspe3N3aXRjaCh1WzJdfHwiZCIpe2Nhc2UiZCI6Y2FzZSJEIjpyKz1wYXJzZUludCh1WzFdLDEwKTticmVhaztjYXNlInciOmNhc2UiVyI6cis9NypwYXJzZUludCh1WzFdLDEwKTticmVhaztjYXNlIm0iOmNhc2UiTSI6ZSs9cGFyc2VJbnQodVsxXSwxMCk7cj1NYXRoLm1pbihyLG4uZGF0ZXBpY2tlci5fZ2V0RGF5c0luTW9udGgoZixlKSk7YnJlYWs7Y2FzZSJ5IjpjYXNlIlkiOmYrPXBhcnNlSW50KHVbMV0sMTApO3I9TWF0aC5taW4ocixuLmRhdGVwaWNrZXIuX2dldERheXNJbk1vbnRoKGYsZSkpfXU9cy5leGVjKGkpfXJldHVybiBuZXcgRGF0ZShmLGUscil9LHU9bnVsbD09aXx8IiI9PT1pP3I6InN0cmluZyI9PXR5cGVvZiBpP2UoaSk6Im51bWJlciI9PXR5cGVvZiBpP2lzTmFOKGkpP3I6ZihpKTpuZXcgRGF0ZShpLmdldFRpbWUoKSk7cmV0dXJuIHU9dSYmIkludmFsaWQgRGF0ZSI9PSIiK3U/cjp1LHUmJih1LnNldEhvdXJzKDApLHUuc2V0TWludXRlcygwKSx1LnNldFNlY29uZHMoMCksdS5zZXRNaWxsaXNlY29uZHMoMCkpLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KHUpfSxfZGF5bGlnaHRTYXZpbmdBZGp1c3Q6ZnVuY3Rpb24obil7cmV0dXJuIG4/KG4uc2V0SG91cnMobi5nZXRIb3VycygpPjEyP24uZ2V0SG91cnMoKSsyOjApLG4pOm51bGx9LF9zZXREYXRlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgdT0hdCxmPW4uc2VsZWN0ZWRNb250aCxlPW4uc2VsZWN0ZWRZZWFyLHI9dGhpcy5fcmVzdHJpY3RNaW5NYXgobix0aGlzLl9kZXRlcm1pbmVEYXRlKG4sdCxuZXcgRGF0ZSkpO24uc2VsZWN0ZWREYXk9bi5jdXJyZW50RGF5PXIuZ2V0RGF0ZSgpO24uZHJhd01vbnRoPW4uc2VsZWN0ZWRNb250aD1uLmN1cnJlbnRNb250aD1yLmdldE1vbnRoKCk7bi5kcmF3WWVhcj1uLnNlbGVjdGVkWWVhcj1uLmN1cnJlbnRZZWFyPXIuZ2V0RnVsbFllYXIoKTtmPT09bi5zZWxlY3RlZE1vbnRoJiZlPT09bi5zZWxlY3RlZFllYXJ8fGl8fHRoaXMuX25vdGlmeUNoYW5nZShuKTt0aGlzLl9hZGp1c3RJbnN0RGF0ZShuKTtuLmlucHV0JiZuLmlucHV0LnZhbCh1PyIiOnRoaXMuX2Zvcm1hdERhdGUobikpfSxfZ2V0RGF0ZTpmdW5jdGlvbihuKXtyZXR1cm4hbi5jdXJyZW50WWVhcnx8bi5pbnB1dCYmIiI9PT1uLmlucHV0LnZhbCgpP251bGw6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUobi5jdXJyZW50WWVhcixuLmN1cnJlbnRNb250aCxuLmN1cnJlbnREYXkpKX0sX2F0dGFjaEhhbmRsZXJzOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX2dldCh0LCJzdGVwTW9udGhzIiksaT0iIyIrdC5pZC5yZXBsYWNlKC9cXFxcL2csIlxcIik7dC5kcERpdi5maW5kKCJbZGF0YS1oYW5kbGVyXSIpLm1hcChmdW5jdGlvbigpe3ZhciB0PXtwcmV2OmZ1bmN0aW9uKCl7bi5kYXRlcGlja2VyLl9hZGp1c3REYXRlKGksLXIsIk0iKX0sbmV4dDpmdW5jdGlvbigpe24uZGF0ZXBpY2tlci5fYWRqdXN0RGF0ZShpLCtyLCJNIil9LGhpZGU6ZnVuY3Rpb24oKXtuLmRhdGVwaWNrZXIuX2hpZGVEYXRlcGlja2VyKCl9LHRvZGF5OmZ1bmN0aW9uKCl7bi5kYXRlcGlja2VyLl9nb3RvVG9kYXkoaSl9LHNlbGVjdERheTpmdW5jdGlvbigpe3JldHVybiBuLmRhdGVwaWNrZXIuX3NlbGVjdERheShpLCt0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1tb250aCIpLCt0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS15ZWFyIiksdGhpcyksITF9LHNlbGVjdE1vbnRoOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKGksdGhpcywiTSIpLCExfSxzZWxlY3RZZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZGF0ZXBpY2tlci5fc2VsZWN0TW9udGhZZWFyKGksdGhpcywiWSIpLCExfX07bih0aGlzKS5vbih0aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1ldmVudCIpLHRbdGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtaGFuZGxlciIpXSl9KX0sX2dlbmVyYXRlSFRNTDpmdW5jdGlvbihuKXt2YXIgYixzLHJ0LGgsdXQsayxmdCxldCxyaSxjLG90LHVpLGZpLGVpLG9pLHN0LGcsc2ksaHQsbnQsbyx5LGN0LHAsbHQsbCx1LGF0LHZ0LHl0LHB0LHR0LHd0LGksYnQsa3QsZCxhLGl0LGR0PW5ldyBEYXRlLGd0PXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKGR0LmdldEZ1bGxZZWFyKCksZHQuZ2V0TW9udGgoKSxkdC5nZXREYXRlKCkpKSxmPXRoaXMuX2dldChuLCJpc1JUTCIpLGxpPXRoaXMuX2dldChuLCJzaG93QnV0dG9uUGFuZWwiKSxoaT10aGlzLl9nZXQobiwiaGlkZUlmTm9QcmV2TmV4dCIpLG5pPXRoaXMuX2dldChuLCJuYXZpZ2F0aW9uQXNEYXRlRm9ybWF0IiksZT10aGlzLl9nZXROdW1iZXJPZk1vbnRocyhuKSxhaT10aGlzLl9nZXQobiwic2hvd0N1cnJlbnRBdFBvcyIpLGNpPXRoaXMuX2dldChuLCJzdGVwTW9udGhzIiksdGk9MSE9PWVbMF18fDEhPT1lWzFdLGlpPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG4uY3VycmVudERheT9uZXcgRGF0ZShuLmN1cnJlbnRZZWFyLG4uY3VycmVudE1vbnRoLG4uY3VycmVudERheSk6bmV3IERhdGUoOTk5OSw5LDkpKSx3PXRoaXMuX2dldE1pbk1heERhdGUobiwibWluIiksdj10aGlzLl9nZXRNaW5NYXhEYXRlKG4sIm1heCIpLHQ9bi5kcmF3TW9udGgtYWkscj1uLmRyYXdZZWFyO2lmKDA+dCYmKHQrPTEyLHItLSksdilmb3IoYj10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZSh2LmdldEZ1bGxZZWFyKCksdi5nZXRNb250aCgpLWVbMF0qZVsxXSsxLHYuZ2V0RGF0ZSgpKSksYj13JiZ3PmI/dzpiO3RoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsdCwxKSk+YjspdC0tLDA+dCYmKHQ9MTEsci0tKTtmb3Iobi5kcmF3TW9udGg9dCxuLmRyYXdZZWFyPXIscz10aGlzLl9nZXQobiwicHJldlRleHQiKSxzPW5pP3RoaXMuZm9ybWF0RGF0ZShzLHRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsdC1jaSwxKSksdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKG4pKTpzLHJ0PXRoaXMuX2NhbkFkanVzdE1vbnRoKG4sLTEscix0KT8iPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItcHJldiB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3ByZXYnIGRhdGEtZXZlbnQ9J2NsaWNrJyB0aXRsZT0nIitzKyInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLSIrKGY/ImUiOiJ3IikrIic+IitzKyI8XC9zcGFuPjxcL2E+IjpoaT8iIjoiPGEgY2xhc3M9J3VpLWRhdGVwaWNrZXItcHJldiB1aS1jb3JuZXItYWxsIHVpLXN0YXRlLWRpc2FibGVkJyB0aXRsZT0nIitzKyInPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLSIrKGY/ImUiOiJ3IikrIic+IitzKyI8XC9zcGFuPjxcL2E+IixoPXRoaXMuX2dldChuLCJuZXh0VGV4dCIpLGg9bmk/dGhpcy5mb3JtYXREYXRlKGgsdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocix0K2NpLDEpKSx0aGlzLl9nZXRGb3JtYXRDb25maWcobikpOmgsdXQ9dGhpcy5fY2FuQWRqdXN0TW9udGgobiwxLHIsdCk/IjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCcgZGF0YS1oYW5kbGVyPSduZXh0JyBkYXRhLWV2ZW50PSdjbGljaycgdGl0bGU9JyIraCsiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhmPyJ3IjoiZSIpKyInPiIraCsiPFwvc3Bhbj48XC9hPiI6aGk/IiI6IjxhIGNsYXNzPSd1aS1kYXRlcGlja2VyLW5leHQgdWktY29ybmVyLWFsbCB1aS1zdGF0ZS1kaXNhYmxlZCcgdGl0bGU9JyIraCsiJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWNpcmNsZS10cmlhbmdsZS0iKyhmPyJ3IjoiZSIpKyInPiIraCsiPFwvc3Bhbj48XC9hPiIsaz10aGlzLl9nZXQobiwiY3VycmVudFRleHQiKSxmdD10aGlzLl9nZXQobiwiZ290b0N1cnJlbnQiKSYmbi5jdXJyZW50RGF5P2lpOmd0LGs9bmk/dGhpcy5mb3JtYXREYXRlKGssZnQsdGhpcy5fZ2V0Rm9ybWF0Q29uZmlnKG4pKTprLGV0PW4uaW5saW5lPyIiOiI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J3VpLWRhdGVwaWNrZXItY2xvc2UgdWktc3RhdGUtZGVmYXVsdCB1aS1wcmlvcml0eS1wcmltYXJ5IHVpLWNvcm5lci1hbGwnIGRhdGEtaGFuZGxlcj0naGlkZScgZGF0YS1ldmVudD0nY2xpY2snPiIrdGhpcy5fZ2V0KG4sImNsb3NlVGV4dCIpKyI8XC9idXR0b24+IixyaT1saT8iPGRpdiBjbGFzcz0ndWktZGF0ZXBpY2tlci1idXR0b25wYW5lIHVpLXdpZGdldC1jb250ZW50Jz4iKyhmP2V0OiIiKSsodGhpcy5faXNJblJhbmdlKG4sZnQpPyI8YnV0dG9uIHR5cGU9J2J1dHRvbicgY2xhc3M9J3VpLWRhdGVwaWNrZXItY3VycmVudCB1aS1zdGF0ZS1kZWZhdWx0IHVpLXByaW9yaXR5LXNlY29uZGFyeSB1aS1jb3JuZXItYWxsJyBkYXRhLWhhbmRsZXI9J3RvZGF5JyBkYXRhLWV2ZW50PSdjbGljayc+IitrKyI8XC9idXR0b24+IjoiIikrKGY/IiI6ZXQpKyI8XC9kaXY+IjoiIixjPXBhcnNlSW50KHRoaXMuX2dldChuLCJmaXJzdERheSIpLDEwKSxjPWlzTmFOKGMpPzA6YyxvdD10aGlzLl9nZXQobiwic2hvd1dlZWsiKSx1aT10aGlzLl9nZXQobiwiZGF5TmFtZXMiKSxmaT10aGlzLl9nZXQobiwiZGF5TmFtZXNNaW4iKSxlaT10aGlzLl9nZXQobiwibW9udGhOYW1lcyIpLG9pPXRoaXMuX2dldChuLCJtb250aE5hbWVzU2hvcnQiKSxzdD10aGlzLl9nZXQobiwiYmVmb3JlU2hvd0RheSIpLGc9dGhpcy5fZ2V0KG4sInNob3dPdGhlck1vbnRocyIpLHNpPXRoaXMuX2dldChuLCJzZWxlY3RPdGhlck1vbnRocyIpLGh0PXRoaXMuX2dldERlZmF1bHREYXRlKG4pLG50PSIiLHk9MDtlWzBdPnk7eSsrKXtmb3IoY3Q9IiIsdGhpcy5tYXhSb3dzPTQscD0wO2VbMV0+cDtwKyspe2lmKGx0PXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KG5ldyBEYXRlKHIsdCxuLnNlbGVjdGVkRGF5KSksbD0iIHVpLWNvcm5lci1hbGwiLHU9IiIsdGkpe2lmKHUrPSI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWdyb3VwIixlWzFdPjEpc3dpdGNoKHApe2Nhc2UgMDp1Kz0iIHVpLWRhdGVwaWNrZXItZ3JvdXAtZmlyc3QiO2w9IiB1aS1jb3JuZXItIisoZj8icmlnaHQiOiJsZWZ0Iik7YnJlYWs7Y2FzZSBlWzFdLTE6dSs9IiB1aS1kYXRlcGlja2VyLWdyb3VwLWxhc3QiO2w9IiB1aS1jb3JuZXItIisoZj8ibGVmdCI6InJpZ2h0Iik7YnJlYWs7ZGVmYXVsdDp1Kz0iIHVpLWRhdGVwaWNrZXItZ3JvdXAtbWlkZGxlIjtsPSIifXUrPSInPiJ9Zm9yKHUrPSI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLWhlYWRlciB1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeCIrbCsiJz4iKygvYWxsfGxlZnQvLnRlc3QobCkmJjA9PT15P2Y/dXQ6cnQ6IiIpKygvYWxsfHJpZ2h0Ly50ZXN0KGwpJiYwPT09eT9mP3J0OnV0OiIiKSt0aGlzLl9nZW5lcmF0ZU1vbnRoWWVhckhlYWRlcihuLHQscix3LHYseT4wfHxwPjAsZWksb2kpKyI8XC9kaXY+PHRhYmxlIGNsYXNzPSd1aS1kYXRlcGlja2VyLWNhbGVuZGFyJz48dGhlYWQ+PHRyPiIsYXQ9b3Q/Ijx0aCBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWNvbCc+Iit0aGlzLl9nZXQobiwid2Vla0hlYWRlciIpKyI8XC90aD4iOiIiLG89MDs3Pm87bysrKXZ0PShvK2MpJTcsYXQrPSI8dGggc2NvcGU9J2NvbCciKygobytjKzYpJTc+PTU/IiBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWVuZCciOiIiKSsiPjxzcGFuIHRpdGxlPSciK3VpW3Z0XSsiJz4iK2ZpW3Z0XSsiPFwvc3Bhbj48XC90aD4iO2Zvcih1Kz1hdCsiPFwvdHI+PFwvdGhlYWQ+PHRib2R5PiIseXQ9dGhpcy5fZ2V0RGF5c0luTW9udGgocix0KSxyPT09bi5zZWxlY3RlZFllYXImJnQ9PT1uLnNlbGVjdGVkTW9udGgmJihuLnNlbGVjdGVkRGF5PU1hdGgubWluKG4uc2VsZWN0ZWREYXkseXQpKSxwdD0odGhpcy5fZ2V0Rmlyc3REYXlPZk1vbnRoKHIsdCktYys3KSU3LHR0PU1hdGguY2VpbCgocHQreXQpLzcpLHd0PXRpP3RoaXMubWF4Um93cz50dD90aGlzLm1heFJvd3M6dHQ6dHQsdGhpcy5tYXhSb3dzPXd0LGk9dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocix0LDEtcHQpKSxidD0wO3d0PmJ0O2J0Kyspe2Zvcih1Kz0iPHRyPiIsa3Q9b3Q/Ijx0ZCBjbGFzcz0ndWktZGF0ZXBpY2tlci13ZWVrLWNvbCc+Iit0aGlzLl9nZXQobiwiY2FsY3VsYXRlV2VlayIpKGkpKyI8XC90ZD4iOiIiLG89MDs3Pm87bysrKWQ9c3Q/c3QuYXBwbHkobi5pbnB1dD9uLmlucHV0WzBdOm51bGwsW2ldKTpbITAsIiJdLGE9aS5nZXRNb250aCgpIT09dCxpdD1hJiYhc2l8fCFkWzBdfHx3JiZ3Pml8fHYmJmk+dixrdCs9Ijx0ZCBjbGFzcz0nIisoKG8rYys2KSU3Pj01PyIgdWktZGF0ZXBpY2tlci13ZWVrLWVuZCI6IiIpKyhhPyIgdWktZGF0ZXBpY2tlci1vdGhlci1tb250aCI6IiIpKyhpLmdldFRpbWUoKT09PWx0LmdldFRpbWUoKSYmdD09PW4uc2VsZWN0ZWRNb250aCYmbi5fa2V5RXZlbnR8fGh0LmdldFRpbWUoKT09PWkuZ2V0VGltZSgpJiZodC5nZXRUaW1lKCk9PT1sdC5nZXRUaW1lKCk/IiAiK3RoaXMuX2RheU92ZXJDbGFzczoiIikrKGl0PyIgIit0aGlzLl91bnNlbGVjdGFibGVDbGFzcysiIHVpLXN0YXRlLWRpc2FibGVkIjoiIikrKGEmJiFnPyIiOiIgIitkWzFdKyhpLmdldFRpbWUoKT09PWlpLmdldFRpbWUoKT8iICIrdGhpcy5fY3VycmVudENsYXNzOiIiKSsoaS5nZXRUaW1lKCk9PT1ndC5nZXRUaW1lKCk/IiB1aS1kYXRlcGlja2VyLXRvZGF5IjoiIikpKyInIisoYSYmIWd8fCFkWzJdPyIiOiIgdGl0bGU9JyIrZFsyXS5yZXBsYWNlKC8nL2csIiYjMzk7IikrIiciKSsoaXQ/IiI6IiBkYXRhLWhhbmRsZXI9J3NlbGVjdERheScgZGF0YS1ldmVudD0nY2xpY2snIGRhdGEtbW9udGg9JyIraS5nZXRNb250aCgpKyInIGRhdGEteWVhcj0nIitpLmdldEZ1bGxZZWFyKCkrIiciKSsiPiIrKGEmJiFnPyImI3hhMDsiOml0PyI8c3BhbiBjbGFzcz0ndWktc3RhdGUtZGVmYXVsdCc+IitpLmdldERhdGUoKSsiPFwvc3Bhbj4iOiI8YSBjbGFzcz0ndWktc3RhdGUtZGVmYXVsdCIrKGkuZ2V0VGltZSgpPT09Z3QuZ2V0VGltZSgpPyIgdWktc3RhdGUtaGlnaGxpZ2h0IjoiIikrKGkuZ2V0VGltZSgpPT09aWkuZ2V0VGltZSgpPyIgdWktc3RhdGUtYWN0aXZlIjoiIikrKGE/IiB1aS1wcmlvcml0eS1zZWNvbmRhcnkiOiIiKSsiJyBocmVmPScjJz4iK2kuZ2V0RGF0ZSgpKyI8XC9hPiIpKyI8XC90ZD4iLGkuc2V0RGF0ZShpLmdldERhdGUoKSsxKSxpPXRoaXMuX2RheWxpZ2h0U2F2aW5nQWRqdXN0KGkpO3UrPWt0KyI8XC90cj4ifXQrKzt0PjExJiYodD0wLHIrKyk7dSs9IjxcL3Rib2R5PjxcL3RhYmxlPiIrKHRpPyI8XC9kaXY+IisoZVswXT4wJiZwPT09ZVsxXS0xPyI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLXJvdy1icmVhayc+PFwvZGl2PiI6IiIpOiIiKTtjdCs9dX1udCs9Y3R9cmV0dXJuIG50Kz1yaSxuLl9rZXlFdmVudD0hMSxudH0sX2dlbmVyYXRlTW9udGhZZWFySGVhZGVyOmZ1bmN0aW9uKG4sdCxpLHIsdSxmLGUsbyl7dmFyIGssZCxoLHYseSxwLHMsYSx3PXRoaXMuX2dldChuLCJjaGFuZ2VNb250aCIpLGI9dGhpcy5fZ2V0KG4sImNoYW5nZVllYXIiKSxnPXRoaXMuX2dldChuLCJzaG93TW9udGhBZnRlclllYXIiKSxjPSI8ZGl2IGNsYXNzPSd1aS1kYXRlcGlja2VyLXRpdGxlJz4iLGw9IiI7aWYoZnx8IXcpbCs9IjxzcGFuIGNsYXNzPSd1aS1kYXRlcGlja2VyLW1vbnRoJz4iK2VbdF0rIjxcL3NwYW4+IjtlbHNle2ZvcihrPXImJnIuZ2V0RnVsbFllYXIoKT09PWksZD11JiZ1LmdldEZ1bGxZZWFyKCk9PT1pLGwrPSI8c2VsZWN0IGNsYXNzPSd1aS1kYXRlcGlja2VyLW1vbnRoJyBkYXRhLWhhbmRsZXI9J3NlbGVjdE1vbnRoJyBkYXRhLWV2ZW50PSdjaGFuZ2UnPiIsaD0wOzEyPmg7aCsrKSgha3x8aD49ci5nZXRNb250aCgpKSYmKCFkfHx1LmdldE1vbnRoKCk+PWgpJiYobCs9IjxvcHRpb24gdmFsdWU9JyIraCsiJyIrKGg9PT10PyIgc2VsZWN0ZWQ9J3NlbGVjdGVkJyI6IiIpKyI+IitvW2hdKyI8XC9vcHRpb24+Iik7bCs9IjxcL3NlbGVjdD4ifWlmKGd8fChjKz1sKyghZiYmdyYmYj8iIjoiJiN4YTA7IikpLCFuLnllYXJzaHRtbClpZihuLnllYXJzaHRtbD0iIixmfHwhYiljKz0iPHNwYW4gY2xhc3M9J3VpLWRhdGVwaWNrZXIteWVhcic+IitpKyI8XC9zcGFuPiI7ZWxzZXtmb3Iodj10aGlzLl9nZXQobiwieWVhclJhbmdlIikuc3BsaXQoIjoiKSx5PShuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSxwPWZ1bmN0aW9uKG4pe3ZhciB0PW4ubWF0Y2goL2NbK1wtXS4qLyk/aStwYXJzZUludChuLnN1YnN0cmluZygxKSwxMCk6bi5tYXRjaCgvWytcLV0uKi8pP3krcGFyc2VJbnQobiwxMCk6cGFyc2VJbnQobiwxMCk7cmV0dXJuIGlzTmFOKHQpP3k6dH0scz1wKHZbMF0pLGE9TWF0aC5tYXgocyxwKHZbMV18fCIiKSkscz1yP01hdGgubWF4KHMsci5nZXRGdWxsWWVhcigpKTpzLGE9dT9NYXRoLm1pbihhLHUuZ2V0RnVsbFllYXIoKSk6YSxuLnllYXJzaHRtbCs9IjxzZWxlY3QgY2xhc3M9J3VpLWRhdGVwaWNrZXIteWVhcicgZGF0YS1oYW5kbGVyPSdzZWxlY3RZZWFyJyBkYXRhLWV2ZW50PSdjaGFuZ2UnPiI7YT49cztzKyspbi55ZWFyc2h0bWwrPSI8b3B0aW9uIHZhbHVlPSciK3MrIiciKyhzPT09aT8iIHNlbGVjdGVkPSdzZWxlY3RlZCciOiIiKSsiPiIrcysiPFwvb3B0aW9uPiI7bi55ZWFyc2h0bWwrPSI8XC9zZWxlY3Q+IjtjKz1uLnllYXJzaHRtbDtuLnllYXJzaHRtbD1udWxsfXJldHVybiBjKz10aGlzLl9nZXQobiwieWVhclN1ZmZpeCIpLGcmJihjKz0oIWYmJncmJmI/IiI6IiYjeGEwOyIpK2wpLGMrIjxcL2Rpdj4ifSxfYWRqdXN0SW5zdERhdGU6ZnVuY3Rpb24obix0LGkpe3ZhciB1PW4uc2VsZWN0ZWRZZWFyKygiWSI9PT1pP3Q6MCksZj1uLnNlbGVjdGVkTW9udGgrKCJNIj09PWk/dDowKSxlPU1hdGgubWluKG4uc2VsZWN0ZWREYXksdGhpcy5fZ2V0RGF5c0luTW9udGgodSxmKSkrKCJEIj09PWk/dDowKSxyPXRoaXMuX3Jlc3RyaWN0TWluTWF4KG4sdGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUodSxmLGUpKSk7bi5zZWxlY3RlZERheT1yLmdldERhdGUoKTtuLmRyYXdNb250aD1uLnNlbGVjdGVkTW9udGg9ci5nZXRNb250aCgpO24uZHJhd1llYXI9bi5zZWxlY3RlZFllYXI9ci5nZXRGdWxsWWVhcigpOygiTSI9PT1pfHwiWSI9PT1pKSYmdGhpcy5fbm90aWZ5Q2hhbmdlKG4pfSxfcmVzdHJpY3RNaW5NYXg6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLl9nZXRNaW5NYXhEYXRlKG4sIm1pbiIpLHI9dGhpcy5fZ2V0TWluTWF4RGF0ZShuLCJtYXgiKSx1PWkmJmk+dD9pOnQ7cmV0dXJuIHImJnU+cj9yOnV9LF9ub3RpZnlDaGFuZ2U6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fZ2V0KG4sIm9uQ2hhbmdlTW9udGhZZWFyIik7dCYmdC5hcHBseShuLmlucHV0P24uaW5wdXRbMF06bnVsbCxbbi5zZWxlY3RlZFllYXIsbi5zZWxlY3RlZE1vbnRoKzEsbl0pfSxfZ2V0TnVtYmVyT2ZNb250aHM6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fZ2V0KG4sIm51bWJlck9mTW9udGhzIik7cmV0dXJuIG51bGw9PXQ/WzEsMV06Im51bWJlciI9PXR5cGVvZiB0P1sxLHRdOnR9LF9nZXRNaW5NYXhEYXRlOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX2RldGVybWluZURhdGUobix0aGlzLl9nZXQobix0KyJEYXRlIiksbnVsbCl9LF9nZXREYXlzSW5Nb250aDpmdW5jdGlvbihuLHQpe3JldHVybiAzMi10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShuLHQsMzIpKS5nZXREYXRlKCl9LF9nZXRGaXJzdERheU9mTW9udGg6ZnVuY3Rpb24obix0KXtyZXR1cm4gbmV3IERhdGUobix0LDEpLmdldERheSgpfSxfY2FuQWRqdXN0TW9udGg6ZnVuY3Rpb24obix0LGkscil7dmFyIGY9dGhpcy5fZ2V0TnVtYmVyT2ZNb250aHMobiksdT10aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShpLHIrKDA+dD90OmZbMF0qZlsxXSksMSkpO3JldHVybiAwPnQmJnUuc2V0RGF0ZSh0aGlzLl9nZXREYXlzSW5Nb250aCh1LmdldEZ1bGxZZWFyKCksdS5nZXRNb250aCgpKSksdGhpcy5faXNJblJhbmdlKG4sdSl9LF9pc0luUmFuZ2U6ZnVuY3Rpb24obix0KXt2YXIgaSxmLGU9dGhpcy5fZ2V0TWluTWF4RGF0ZShuLCJtaW4iKSxvPXRoaXMuX2dldE1pbk1heERhdGUobiwibWF4Iikscj1udWxsLHU9bnVsbCxzPXRoaXMuX2dldChuLCJ5ZWFyUmFuZ2UiKTtyZXR1cm4gcyYmKGk9cy5zcGxpdCgiOiIpLGY9KG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpLHI9cGFyc2VJbnQoaVswXSwxMCksdT1wYXJzZUludChpWzFdLDEwKSxpWzBdLm1hdGNoKC9bK1wtXS4qLykmJihyKz1mKSxpWzFdLm1hdGNoKC9bK1wtXS4qLykmJih1Kz1mKSksKCFlfHx0LmdldFRpbWUoKT49ZS5nZXRUaW1lKCkpJiYoIW98fHQuZ2V0VGltZSgpPD1vLmdldFRpbWUoKSkmJighcnx8dC5nZXRGdWxsWWVhcigpPj1yKSYmKCF1fHx1Pj10LmdldEZ1bGxZZWFyKCkpfSxfZ2V0Rm9ybWF0Q29uZmlnOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2dldChuLCJzaG9ydFllYXJDdXRvZmYiKTtyZXR1cm4gdD0ic3RyaW5nIiE9dHlwZW9mIHQ/dDoobmV3IERhdGUpLmdldEZ1bGxZZWFyKCklMTAwK3BhcnNlSW50KHQsMTApLHtzaG9ydFllYXJDdXRvZmY6dCxkYXlOYW1lc1Nob3J0OnRoaXMuX2dldChuLCJkYXlOYW1lc1Nob3J0IiksZGF5TmFtZXM6dGhpcy5fZ2V0KG4sImRheU5hbWVzIiksbW9udGhOYW1lc1Nob3J0OnRoaXMuX2dldChuLCJtb250aE5hbWVzU2hvcnQiKSxtb250aE5hbWVzOnRoaXMuX2dldChuLCJtb250aE5hbWVzIil9fSxfZm9ybWF0RGF0ZTpmdW5jdGlvbihuLHQsaSxyKXt0fHwobi5jdXJyZW50RGF5PW4uc2VsZWN0ZWREYXksbi5jdXJyZW50TW9udGg9bi5zZWxlY3RlZE1vbnRoLG4uY3VycmVudFllYXI9bi5zZWxlY3RlZFllYXIpO3ZhciB1PXQ/Im9iamVjdCI9PXR5cGVvZiB0P3Q6dGhpcy5fZGF5bGlnaHRTYXZpbmdBZGp1c3QobmV3IERhdGUocixpLHQpKTp0aGlzLl9kYXlsaWdodFNhdmluZ0FkanVzdChuZXcgRGF0ZShuLmN1cnJlbnRZZWFyLG4uY3VycmVudE1vbnRoLG4uY3VycmVudERheSkpO3JldHVybiB0aGlzLmZvcm1hdERhdGUodGhpcy5fZ2V0KG4sImRhdGVGb3JtYXQiKSx1LHRoaXMuX2dldEZvcm1hdENvbmZpZyhuKSl9fSk7bi5mbi5kYXRlcGlja2VyPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdGhpcztuLmRhdGVwaWNrZXIuaW5pdGlhbGl6ZWR8fChuKGRvY3VtZW50KS5vbigibW91c2Vkb3duIixuLmRhdGVwaWNrZXIuX2NoZWNrRXh0ZXJuYWxDbGljayksbi5kYXRlcGlja2VyLmluaXRpYWxpemVkPSEwKTswPT09bigiIyIrbi5kYXRlcGlja2VyLl9tYWluRGl2SWQpLmxlbmd0aCYmbigiYm9keSIpLmFwcGVuZChuLmRhdGVwaWNrZXIuZHBEaXYpO3ZhciBpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHR8fCJpc0Rpc2FibGVkIiE9PXQmJiJnZXREYXRlIiE9PXQmJiJ3aWRnZXQiIT09dD8ib3B0aW9uIj09PXQmJjI9PT1hcmd1bWVudHMubGVuZ3RoJiYic3RyaW5nIj09dHlwZW9mIGFyZ3VtZW50c1sxXT9uLmRhdGVwaWNrZXJbIl8iK3QrIkRhdGVwaWNrZXIiXS5hcHBseShuLmRhdGVwaWNrZXIsW3RoaXNbMF1dLmNvbmNhdChpKSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7InN0cmluZyI9PXR5cGVvZiB0P24uZGF0ZXBpY2tlclsiXyIrdCsiRGF0ZXBpY2tlciJdLmFwcGx5KG4uZGF0ZXBpY2tlcixbdGhpc10uY29uY2F0KGkpKTpuLmRhdGVwaWNrZXIuX2F0dGFjaERhdGVwaWNrZXIodGhpcyx0KX0pOm4uZGF0ZXBpY2tlclsiXyIrdCsiRGF0ZXBpY2tlciJdLmFwcGx5KG4uZGF0ZXBpY2tlcixbdGhpc1swXV0uY29uY2F0KGkpKX07bi5kYXRlcGlja2VyPW5ldyBjO24uZGF0ZXBpY2tlci5pbml0aWFsaXplZD0hMTtuLmRhdGVwaWNrZXIudXVpZD0obmV3IERhdGUpLmdldFRpbWUoKTtuLmRhdGVwaWNrZXIudmVyc2lvbj0iMS4xMi4xIjtuLmRhdGVwaWNrZXI7bi51aS5pZT0hIS9tc2llIFtcdy5dKy8uZXhlYyhuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO3I9ITE7bihkb2N1bWVudCkub24oIm1vdXNldXAiLGZ1bmN0aW9uKCl7cj0hMX0pO24ud2lkZ2V0KCJ1aS5tb3VzZSIse3ZlcnNpb246IjEuMTIuMSIsb3B0aW9uczp7Y2FuY2VsOiJpbnB1dCwgdGV4dGFyZWEsIGJ1dHRvbiwgc2VsZWN0LCBvcHRpb24iLGRpc3RhbmNlOjEsZGVsYXk6MH0sX21vdXNlSW5pdDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5lbGVtZW50Lm9uKCJtb3VzZWRvd24uIit0aGlzLndpZGdldE5hbWUsZnVuY3Rpb24obil7cmV0dXJuIHQuX21vdXNlRG93bihuKX0pLm9uKCJjbGljay4iK3RoaXMud2lkZ2V0TmFtZSxmdW5jdGlvbihpKXtpZighMD09PW4uZGF0YShpLnRhcmdldCx0LndpZGdldE5hbWUrIi5wcmV2ZW50Q2xpY2tFdmVudCIpKXJldHVybihuLnJlbW92ZURhdGEoaS50YXJnZXQsdC53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSxpLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLCExKX0pO3RoaXMuc3RhcnRlZD0hMX0sX21vdXNlRGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5vZmYoIi4iK3RoaXMud2lkZ2V0TmFtZSk7dGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUmJnRoaXMuZG9jdW1lbnQub2ZmKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLm9mZigibW91c2V1cC4iK3RoaXMud2lkZ2V0TmFtZSx0aGlzLl9tb3VzZVVwRGVsZWdhdGUpfSxfbW91c2VEb3duOmZ1bmN0aW9uKHQpe2lmKCFyKXt0aGlzLl9tb3VzZU1vdmVkPSExO3RoaXMuX21vdXNlU3RhcnRlZCYmdGhpcy5fbW91c2VVcCh0KTt0aGlzLl9tb3VzZURvd25FdmVudD10O3ZhciBpPXRoaXMsdT0xPT09dC53aGljaCxmPSJzdHJpbmciPT10eXBlb2YgdGhpcy5vcHRpb25zLmNhbmNlbCYmdC50YXJnZXQubm9kZU5hbWU/bih0LnRhcmdldCkuY2xvc2VzdCh0aGlzLm9wdGlvbnMuY2FuY2VsKS5sZW5ndGg6ITE7cmV0dXJuIHUmJiFmJiZ0aGlzLl9tb3VzZUNhcHR1cmUodCk/KHRoaXMubW91c2VEZWxheU1ldD0hdGhpcy5vcHRpb25zLmRlbGF5LHRoaXMubW91c2VEZWxheU1ldHx8KHRoaXMuX21vdXNlRGVsYXlUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5tb3VzZURlbGF5TWV0PSEwfSx0aGlzLm9wdGlvbnMuZGVsYXkpKSx0aGlzLl9tb3VzZURpc3RhbmNlTWV0KHQpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KHQpJiYodGhpcy5fbW91c2VTdGFydGVkPXRoaXMuX21vdXNlU3RhcnQodCkhPT0hMSwhdGhpcy5fbW91c2VTdGFydGVkKT8odC5wcmV2ZW50RGVmYXVsdCgpLCEwKTooITA9PT1uLmRhdGEodC50YXJnZXQsdGhpcy53aWRnZXROYW1lKyIucHJldmVudENsaWNrRXZlbnQiKSYmbi5yZW1vdmVEYXRhKHQudGFyZ2V0LHRoaXMud2lkZ2V0TmFtZSsiLnByZXZlbnRDbGlja0V2ZW50IiksdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGU9ZnVuY3Rpb24obil7cmV0dXJuIGkuX21vdXNlTW92ZShuKX0sdGhpcy5fbW91c2VVcERlbGVnYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBpLl9tb3VzZVVwKG4pfSx0aGlzLmRvY3VtZW50Lm9uKCJtb3VzZW1vdmUuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VNb3ZlRGVsZWdhdGUpLm9uKCJtb3VzZXVwLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlVXBEZWxlZ2F0ZSksdC5wcmV2ZW50RGVmYXVsdCgpLHI9ITAsITApKTohMH19LF9tb3VzZU1vdmU6ZnVuY3Rpb24odCl7aWYodGhpcy5fbW91c2VNb3ZlZCl7aWYobi51aS5pZSYmKCFkb2N1bWVudC5kb2N1bWVudE1vZGV8fDk+ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSYmIXQuYnV0dG9uKXJldHVybiB0aGlzLl9tb3VzZVVwKHQpO2lmKCF0LndoaWNoKWlmKHQub3JpZ2luYWxFdmVudC5hbHRLZXl8fHQub3JpZ2luYWxFdmVudC5jdHJsS2V5fHx0Lm9yaWdpbmFsRXZlbnQubWV0YUtleXx8dC5vcmlnaW5hbEV2ZW50LnNoaWZ0S2V5KXRoaXMuaWdub3JlTWlzc2luZ1doaWNoPSEwO2Vsc2UgaWYoIXRoaXMuaWdub3JlTWlzc2luZ1doaWNoKXJldHVybiB0aGlzLl9tb3VzZVVwKHQpfXJldHVybih0LndoaWNofHx0LmJ1dHRvbikmJih0aGlzLl9tb3VzZU1vdmVkPSEwKSx0aGlzLl9tb3VzZVN0YXJ0ZWQ/KHRoaXMuX21vdXNlRHJhZyh0KSx0LnByZXZlbnREZWZhdWx0KCkpOih0aGlzLl9tb3VzZURpc3RhbmNlTWV0KHQpJiZ0aGlzLl9tb3VzZURlbGF5TWV0KHQpJiYodGhpcy5fbW91c2VTdGFydGVkPXRoaXMuX21vdXNlU3RhcnQodGhpcy5fbW91c2VEb3duRXZlbnQsdCkhPT0hMSx0aGlzLl9tb3VzZVN0YXJ0ZWQ/dGhpcy5fbW91c2VEcmFnKHQpOnRoaXMuX21vdXNlVXAodCkpLCF0aGlzLl9tb3VzZVN0YXJ0ZWQpfSxfbW91c2VVcDpmdW5jdGlvbih0KXt0aGlzLmRvY3VtZW50Lm9mZigibW91c2Vtb3ZlLiIrdGhpcy53aWRnZXROYW1lLHRoaXMuX21vdXNlTW92ZURlbGVnYXRlKS5vZmYoIm1vdXNldXAuIit0aGlzLndpZGdldE5hbWUsdGhpcy5fbW91c2VVcERlbGVnYXRlKTt0aGlzLl9tb3VzZVN0YXJ0ZWQmJih0aGlzLl9tb3VzZVN0YXJ0ZWQ9ITEsdC50YXJnZXQ9PT10aGlzLl9tb3VzZURvd25FdmVudC50YXJnZXQmJm4uZGF0YSh0LnRhcmdldCx0aGlzLndpZGdldE5hbWUrIi5wcmV2ZW50Q2xpY2tFdmVudCIsITApLHRoaXMuX21vdXNlU3RvcCh0KSk7dGhpcy5fbW91c2VEZWxheVRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuX21vdXNlRGVsYXlUaW1lciksZGVsZXRlIHRoaXMuX21vdXNlRGVsYXlUaW1lcik7dGhpcy5pZ25vcmVNaXNzaW5nV2hpY2g9ITE7cj0hMTt0LnByZXZlbnREZWZhdWx0KCl9LF9tb3VzZURpc3RhbmNlTWV0OmZ1bmN0aW9uKG4pe3JldHVybiBNYXRoLm1heChNYXRoLmFicyh0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWC1uLnBhZ2VYKSxNYXRoLmFicyh0aGlzLl9tb3VzZURvd25FdmVudC5wYWdlWS1uLnBhZ2VZKSk+PXRoaXMub3B0aW9ucy5kaXN0YW5jZX0sX21vdXNlRGVsYXlNZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb3VzZURlbGF5TWV0fSxfbW91c2VTdGFydDpmdW5jdGlvbigpe30sX21vdXNlRHJhZzpmdW5jdGlvbigpe30sX21vdXNlU3RvcDpmdW5jdGlvbigpe30sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbigpe3JldHVybiEwfX0pO24udWkucGx1Z2luPXthZGQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1LGY9bi51aVt0XS5wcm90b3R5cGU7Zm9yKHUgaW4gcilmLnBsdWdpbnNbdV09Zi5wbHVnaW5zW3VdfHxbXSxmLnBsdWdpbnNbdV0ucHVzaChbaSxyW3VdXSl9LGNhbGw6ZnVuY3Rpb24obix0LGkscil7dmFyIHUsZj1uLnBsdWdpbnNbdF07aWYoZiYmKHJ8fG4uZWxlbWVudFswXS5wYXJlbnROb2RlJiYxMSE9PW4uZWxlbWVudFswXS5wYXJlbnROb2RlLm5vZGVUeXBlKSlmb3IodT0wO2YubGVuZ3RoPnU7dSsrKW4ub3B0aW9uc1tmW3VdWzBdXSYmZlt1XVsxXS5hcHBseShuLmVsZW1lbnQsaSl9fTtuLnVpLnNhZmVCbHVyPWZ1bmN0aW9uKHQpe3QmJiJib2R5IiE9PXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmbih0KS50cmlnZ2VyKCJibHVyIil9O24ud2lkZ2V0KCJ1aS5kcmFnZ2FibGUiLG4udWkubW91c2Use3ZlcnNpb246IjEuMTIuMSIsd2lkZ2V0RXZlbnRQcmVmaXg6ImRyYWciLG9wdGlvbnM6e2FkZENsYXNzZXM6ITAsYXBwZW5kVG86InBhcmVudCIsYXhpczohMSxjb25uZWN0VG9Tb3J0YWJsZTohMSxjb250YWlubWVudDohMSxjdXJzb3I6ImF1dG8iLGN1cnNvckF0OiExLGdyaWQ6ITEsaGFuZGxlOiExLGhlbHBlcjoib3JpZ2luYWwiLGlmcmFtZUZpeDohMSxvcGFjaXR5OiExLHJlZnJlc2hQb3NpdGlvbnM6ITEscmV2ZXJ0OiExLHJldmVydER1cmF0aW9uOjUwMCxzY29wZToiZGVmYXVsdCIsc2Nyb2xsOiEwLHNjcm9sbFNlbnNpdGl2aXR5OjIwLHNjcm9sbFNwZWVkOjIwLHNuYXA6ITEsc25hcE1vZGU6ImJvdGgiLHNuYXBUb2xlcmFuY2U6MjAsc3RhY2s6ITEsekluZGV4OiExLGRyYWc6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sX2NyZWF0ZTpmdW5jdGlvbigpeyJvcmlnaW5hbCI9PT10aGlzLm9wdGlvbnMuaGVscGVyJiZ0aGlzLl9zZXRQb3NpdGlvblJlbGF0aXZlKCk7dGhpcy5vcHRpb25zLmFkZENsYXNzZXMmJnRoaXMuX2FkZENsYXNzKCJ1aS1kcmFnZ2FibGUiKTt0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKTt0aGlzLl9tb3VzZUluaXQoKX0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3RoaXMuX3N1cGVyKG4sdCk7ImhhbmRsZSI9PT1uJiYodGhpcy5fcmVtb3ZlSGFuZGxlQ2xhc3NOYW1lKCksdGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCkpfSxfZGVzdHJveTpmdW5jdGlvbigpe3JldHVybih0aGlzLmhlbHBlcnx8dGhpcy5lbGVtZW50KS5pcygiLnVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpPyh0aGlzLmRlc3Ryb3lPbkNsZWFyPSEwLHZvaWQgMCk6KHRoaXMuX3JlbW92ZUhhbmRsZUNsYXNzTmFtZSgpLHRoaXMuX21vdXNlRGVzdHJveSgpLHZvaWQgMCl9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zO3JldHVybiB0aGlzLmhlbHBlcnx8aS5kaXNhYmxlZHx8bih0LnRhcmdldCkuY2xvc2VzdCgiLnVpLXJlc2l6YWJsZS1oYW5kbGUiKS5sZW5ndGg+MD8hMToodGhpcy5oYW5kbGU9dGhpcy5fZ2V0SGFuZGxlKHQpLHRoaXMuaGFuZGxlPyh0aGlzLl9ibHVyQWN0aXZlRWxlbWVudCh0KSx0aGlzLl9ibG9ja0ZyYW1lcyhpLmlmcmFtZUZpeD09PSEwPyJpZnJhbWUiOmkuaWZyYW1lRml4KSwhMCk6ITEpfSxfYmxvY2tGcmFtZXM6ZnVuY3Rpb24odCl7dGhpcy5pZnJhbWVCbG9ja3M9dGhpcy5kb2N1bWVudC5maW5kKHQpLm1hcChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7cmV0dXJuIG4oIjxkaXY+IikuY3NzKCJwb3NpdGlvbiIsImFic29sdXRlIikuYXBwZW5kVG8odC5wYXJlbnQoKSkub3V0ZXJXaWR0aCh0Lm91dGVyV2lkdGgoKSkub3V0ZXJIZWlnaHQodC5vdXRlckhlaWdodCgpKS5vZmZzZXQodC5vZmZzZXQoKSlbMF19KX0sX3VuYmxvY2tGcmFtZXM6ZnVuY3Rpb24oKXt0aGlzLmlmcmFtZUJsb2NrcyYmKHRoaXMuaWZyYW1lQmxvY2tzLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLmlmcmFtZUJsb2Nrcyl9LF9ibHVyQWN0aXZlRWxlbWVudDpmdW5jdGlvbih0KXt2YXIgaT1uLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pLHI9bih0LnRhcmdldCk7ci5jbG9zZXN0KGkpLmxlbmd0aHx8bi51aS5zYWZlQmx1cihpKX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zO3JldHVybiB0aGlzLmhlbHBlcj10aGlzLl9jcmVhdGVIZWxwZXIodCksdGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsInVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpLHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSxuLnVpLmRkbWFuYWdlciYmKG4udWkuZGRtYW5hZ2VyLmN1cnJlbnQ9dGhpcyksdGhpcy5fY2FjaGVNYXJnaW5zKCksdGhpcy5jc3NQb3NpdGlvbj10aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIiksdGhpcy5zY3JvbGxQYXJlbnQ9dGhpcy5oZWxwZXIuc2Nyb2xsUGFyZW50KCEwKSx0aGlzLm9mZnNldFBhcmVudD10aGlzLmhlbHBlci5vZmZzZXRQYXJlbnQoKSx0aGlzLmhhc0ZpeGVkQW5jZXN0b3I9dGhpcy5oZWxwZXIucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiJmaXhlZCI9PT1uKHRoaXMpLmNzcygicG9zaXRpb24iKX0pLmxlbmd0aD4wLHRoaXMucG9zaXRpb25BYnM9dGhpcy5lbGVtZW50Lm9mZnNldCgpLHRoaXMuX3JlZnJlc2hPZmZzZXRzKHQpLHRoaXMub3JpZ2luYWxQb3NpdGlvbj10aGlzLnBvc2l0aW9uPXRoaXMuX2dlbmVyYXRlUG9zaXRpb24odCwhMSksdGhpcy5vcmlnaW5hbFBhZ2VYPXQucGFnZVgsdGhpcy5vcmlnaW5hbFBhZ2VZPXQucGFnZVksaS5jdXJzb3JBdCYmdGhpcy5fYWRqdXN0T2Zmc2V0RnJvbUhlbHBlcihpLmN1cnNvckF0KSx0aGlzLl9zZXRDb250YWlubWVudCgpLHRoaXMuX3RyaWdnZXIoInN0YXJ0Iix0KT09PSExPyh0aGlzLl9jbGVhcigpLCExKToodGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLG4udWkuZGRtYW5hZ2VyJiYhaS5kcm9wQmVoYXZpb3VyJiZuLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpLHRoaXMuX21vdXNlRHJhZyh0LCEwKSxuLnVpLmRkbWFuYWdlciYmbi51aS5kZG1hbmFnZXIuZHJhZ1N0YXJ0KHRoaXMsdCksITApfSxfcmVmcmVzaE9mZnNldHM6ZnVuY3Rpb24obil7dGhpcy5vZmZzZXQ9e3RvcDp0aGlzLnBvc2l0aW9uQWJzLnRvcC10aGlzLm1hcmdpbnMudG9wLGxlZnQ6dGhpcy5wb3NpdGlvbkFicy5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0LHNjcm9sbDohMSxwYXJlbnQ6dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkscmVsYXRpdmU6dGhpcy5fZ2V0UmVsYXRpdmVPZmZzZXQoKX07dGhpcy5vZmZzZXQuY2xpY2s9e2xlZnQ6bi5wYWdlWC10aGlzLm9mZnNldC5sZWZ0LHRvcDpuLnBhZ2VZLXRoaXMub2Zmc2V0LnRvcH19LF9tb3VzZURyYWc6ZnVuY3Rpb24odCxpKXtpZih0aGlzLmhhc0ZpeGVkQW5jZXN0b3ImJih0aGlzLm9mZnNldC5wYXJlbnQ9dGhpcy5fZ2V0UGFyZW50T2Zmc2V0KCkpLHRoaXMucG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbih0LCEwKSx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLCFpKXt2YXIgcj10aGlzLl91aUhhc2goKTtpZih0aGlzLl90cmlnZ2VyKCJkcmFnIix0LHIpPT09ITEpcmV0dXJuIHRoaXMuX21vdXNlVXAobmV3IG4uRXZlbnQoIm1vdXNldXAiLHQpKSwhMTt0aGlzLnBvc2l0aW9uPXIucG9zaXRpb259cmV0dXJuIHRoaXMuaGVscGVyWzBdLnN0eWxlLmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCIsdGhpcy5oZWxwZXJbMF0uc3R5bGUudG9wPXRoaXMucG9zaXRpb24udG9wKyJweCIsbi51aS5kZG1hbmFnZXImJm4udWkuZGRtYW5hZ2VyLmRyYWcodGhpcyx0KSwhMX0sX21vdXNlU3RvcDpmdW5jdGlvbih0KXt2YXIgcj10aGlzLGk9ITE7cmV0dXJuIG4udWkuZGRtYW5hZ2VyJiYhdGhpcy5vcHRpb25zLmRyb3BCZWhhdmlvdXImJihpPW4udWkuZGRtYW5hZ2VyLmRyb3AodGhpcyx0KSksdGhpcy5kcm9wcGVkJiYoaT10aGlzLmRyb3BwZWQsdGhpcy5kcm9wcGVkPSExKSwiaW52YWxpZCI9PT10aGlzLm9wdGlvbnMucmV2ZXJ0JiYhaXx8InZhbGlkIj09PXRoaXMub3B0aW9ucy5yZXZlcnQmJml8fHRoaXMub3B0aW9ucy5yZXZlcnQ9PT0hMHx8bi5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5yZXZlcnQpJiZ0aGlzLm9wdGlvbnMucmV2ZXJ0LmNhbGwodGhpcy5lbGVtZW50LGkpP24odGhpcy5oZWxwZXIpLmFuaW1hdGUodGhpcy5vcmlnaW5hbFBvc2l0aW9uLHBhcnNlSW50KHRoaXMub3B0aW9ucy5yZXZlcnREdXJhdGlvbiwxMCksZnVuY3Rpb24oKXtyLl90cmlnZ2VyKCJzdG9wIix0KSE9PSExJiZyLl9jbGVhcigpfSk6dGhpcy5fdHJpZ2dlcigic3RvcCIsdCkhPT0hMSYmdGhpcy5fY2xlYXIoKSwhMX0sX21vdXNlVXA6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3VuYmxvY2tGcmFtZXMoKSxuLnVpLmRkbWFuYWdlciYmbi51aS5kZG1hbmFnZXIuZHJhZ1N0b3AodGhpcyx0KSx0aGlzLmhhbmRsZUVsZW1lbnQuaXModC50YXJnZXQpJiZ0aGlzLmVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKSxuLnVpLm1vdXNlLnByb3RvdHlwZS5fbW91c2VVcC5jYWxsKHRoaXMsdCl9LGNhbmNlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhlbHBlci5pcygiLnVpLWRyYWdnYWJsZS1kcmFnZ2luZyIpP3RoaXMuX21vdXNlVXAobmV3IG4uRXZlbnQoIm1vdXNldXAiLHt0YXJnZXQ6dGhpcy5lbGVtZW50WzBdfSkpOnRoaXMuX2NsZWFyKCksdGhpc30sX2dldEhhbmRsZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vcHRpb25zLmhhbmRsZT8hIW4odC50YXJnZXQpLmNsb3Nlc3QodGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLmhhbmRsZSkpLmxlbmd0aDohMH0sX3NldEhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3RoaXMuaGFuZGxlRWxlbWVudD10aGlzLm9wdGlvbnMuaGFuZGxlP3RoaXMuZWxlbWVudC5maW5kKHRoaXMub3B0aW9ucy5oYW5kbGUpOnRoaXMuZWxlbWVudDt0aGlzLl9hZGRDbGFzcyh0aGlzLmhhbmRsZUVsZW1lbnQsInVpLWRyYWdnYWJsZS1oYW5kbGUiKX0sX3JlbW92ZUhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaGFuZGxlRWxlbWVudCwidWktZHJhZ2dhYmxlLWhhbmRsZSIpfSxfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMub3B0aW9ucyx1PW4uaXNGdW5jdGlvbihyLmhlbHBlciksaT11P24oci5oZWxwZXIuYXBwbHkodGhpcy5lbGVtZW50WzBdLFt0XSkpOiJjbG9uZSI9PT1yLmhlbHBlcj90aGlzLmVsZW1lbnQuY2xvbmUoKS5yZW1vdmVBdHRyKCJpZCIpOnRoaXMuZWxlbWVudDtyZXR1cm4gaS5wYXJlbnRzKCJib2R5IikubGVuZ3RofHxpLmFwcGVuZFRvKCJwYXJlbnQiPT09ci5hcHBlbmRUbz90aGlzLmVsZW1lbnRbMF0ucGFyZW50Tm9kZTpyLmFwcGVuZFRvKSx1JiZpWzBdPT09dGhpcy5lbGVtZW50WzBdJiZ0aGlzLl9zZXRQb3NpdGlvblJlbGF0aXZlKCksaVswXT09PXRoaXMuZWxlbWVudFswXXx8LyhmaXhlZHxhYnNvbHV0ZSkvLnRlc3QoaS5jc3MoInBvc2l0aW9uIikpfHxpLmNzcygicG9zaXRpb24iLCJhYnNvbHV0ZSIpLGl9LF9zZXRQb3NpdGlvblJlbGF0aXZlOmZ1bmN0aW9uKCl7L14oPzpyfGF8ZikvLnRlc3QodGhpcy5lbGVtZW50LmNzcygicG9zaXRpb24iKSl8fCh0aGlzLmVsZW1lbnRbMF0uc3R5bGUucG9zaXRpb249InJlbGF0aXZlIil9LF9hZGp1c3RPZmZzZXRGcm9tSGVscGVyOmZ1bmN0aW9uKHQpeyJzdHJpbmciPT10eXBlb2YgdCYmKHQ9dC5zcGxpdCgiICIpKTtuLmlzQXJyYXkodCkmJih0PXtsZWZ0Oit0WzBdLHRvcDordFsxXXx8MH0pOyJsZWZ0ImluIHQmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXQubGVmdCt0aGlzLm1hcmdpbnMubGVmdCk7InJpZ2h0ImluIHQmJih0aGlzLm9mZnNldC5jbGljay5sZWZ0PXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdC5yaWdodCt0aGlzLm1hcmdpbnMubGVmdCk7InRvcCJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2sudG9wPXQudG9wK3RoaXMubWFyZ2lucy50b3ApOyJib3R0b20iaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLnRvcD10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10LmJvdHRvbSt0aGlzLm1hcmdpbnMudG9wKX0sX2lzUm9vdE5vZGU6ZnVuY3Rpb24obil7cmV0dXJuLyhodG1sfGJvZHkpL2kudGVzdChuLnRhZ05hbWUpfHxuPT09dGhpcy5kb2N1bWVudFswXX0sX2dldFBhcmVudE9mZnNldDpmdW5jdGlvbigpe3ZhciB0PXRoaXMub2Zmc2V0UGFyZW50Lm9mZnNldCgpLGk9dGhpcy5kb2N1bWVudFswXTtyZXR1cm4iYWJzb2x1dGUiPT09dGhpcy5jc3NQb3NpdGlvbiYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT1pJiZuLmNvbnRhaW5zKHRoaXMuc2Nyb2xsUGFyZW50WzBdLHRoaXMub2Zmc2V0UGFyZW50WzBdKSYmKHQubGVmdCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpLHQudG9wKz10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSksdGhpcy5faXNSb290Tm9kZSh0aGlzLm9mZnNldFBhcmVudFswXSkmJih0PXt0b3A6MCxsZWZ0OjB9KSx7dG9wOnQudG9wKyhwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSxsZWZ0OnQubGVmdCsocGFyc2VJbnQodGhpcy5vZmZzZXRQYXJlbnQuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApfX0sX2dldFJlbGF0aXZlT2Zmc2V0OmZ1bmN0aW9uKCl7aWYoInJlbGF0aXZlIiE9PXRoaXMuY3NzUG9zaXRpb24pcmV0dXJue3RvcDowLGxlZnQ6MH07dmFyIG49dGhpcy5lbGVtZW50LnBvc2l0aW9uKCksdD10aGlzLl9pc1Jvb3ROb2RlKHRoaXMuc2Nyb2xsUGFyZW50WzBdKTtyZXR1cm57dG9wOm4udG9wLShwYXJzZUludCh0aGlzLmhlbHBlci5jc3MoInRvcCIpLDEwKXx8MCkrKHQ/MDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSksbGVmdDpuLmxlZnQtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygibGVmdCIpLDEwKXx8MCkrKHQ/MDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCkpfX0sX2NhY2hlTWFyZ2luczpmdW5jdGlvbigpe3RoaXMubWFyZ2lucz17bGVmdDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5MZWZ0IiksMTApfHwwLHRvcDpwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCJtYXJnaW5Ub3AiKSwxMCl8fDAscmlnaHQ6cGFyc2VJbnQodGhpcy5lbGVtZW50LmNzcygibWFyZ2luUmlnaHQiKSwxMCl8fDAsYm90dG9tOnBhcnNlSW50KHRoaXMuZWxlbWVudC5jc3MoIm1hcmdpbkJvdHRvbSIpLDEwKXx8MH19LF9jYWNoZUhlbHBlclByb3BvcnRpb25zOmZ1bmN0aW9uKCl7dGhpcy5oZWxwZXJQcm9wb3J0aW9ucz17d2lkdGg6dGhpcy5oZWxwZXIub3V0ZXJXaWR0aCgpLGhlaWdodDp0aGlzLmhlbHBlci5vdXRlckhlaWdodCgpfX0sX3NldENvbnRhaW5tZW50OmZ1bmN0aW9uKCl7dmFyIGYsdCxpLHI9dGhpcy5vcHRpb25zLHU9dGhpcy5kb2N1bWVudFswXTtyZXR1cm4gdGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj1udWxsLHIuY29udGFpbm1lbnQ/IndpbmRvdyI9PT1yLmNvbnRhaW5tZW50Pyh0aGlzLmNvbnRhaW5tZW50PVtuKHdpbmRvdykuc2Nyb2xsTGVmdCgpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsbih3aW5kb3cpLnNjcm9sbFRvcCgpLXRoaXMub2Zmc2V0LnJlbGF0aXZlLnRvcC10aGlzLm9mZnNldC5wYXJlbnQudG9wLG4od2luZG93KS5zY3JvbGxMZWZ0KCkrbih3aW5kb3cpLndpZHRoKCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdCxuKHdpbmRvdykuc2Nyb2xsVG9wKCkrKG4od2luZG93KS5oZWlnaHQoKXx8dS5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0KS10aGlzLmhlbHBlclByb3BvcnRpb25zLmhlaWdodC10aGlzLm1hcmdpbnMudG9wXSx2b2lkIDApOiJkb2N1bWVudCI9PT1yLmNvbnRhaW5tZW50Pyh0aGlzLmNvbnRhaW5tZW50PVswLDAsbih1KS53aWR0aCgpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdGhpcy5tYXJnaW5zLmxlZnQsKG4odSkuaGVpZ2h0KCl8fHUuYm9keS5wYXJlbnROb2RlLnNjcm9sbEhlaWdodCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQtdGhpcy5tYXJnaW5zLnRvcF0sdm9pZCAwKTpyLmNvbnRhaW5tZW50LmNvbnN0cnVjdG9yPT09QXJyYXk/KHRoaXMuY29udGFpbm1lbnQ9ci5jb250YWlubWVudCx2b2lkIDApOigicGFyZW50Ij09PXIuY29udGFpbm1lbnQmJihyLmNvbnRhaW5tZW50PXRoaXMuaGVscGVyWzBdLnBhcmVudE5vZGUpLHQ9bihyLmNvbnRhaW5tZW50KSxpPXRbMF0saSYmKGY9LyhzY3JvbGx8YXV0bykvLnRlc3QodC5jc3MoIm92ZXJmbG93IikpLHRoaXMuY29udGFpbm1lbnQ9WyhwYXJzZUludCh0LmNzcygiYm9yZGVyTGVmdFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQodC5jc3MoInBhZGRpbmdMZWZ0IiksMTApfHwwKSwocGFyc2VJbnQodC5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQodC5jc3MoInBhZGRpbmdUb3AiKSwxMCl8fDApLChmP01hdGgubWF4KGkuc2Nyb2xsV2lkdGgsaS5vZmZzZXRXaWR0aCk6aS5vZmZzZXRXaWR0aCktKHBhcnNlSW50KHQuY3NzKCJib3JkZXJSaWdodFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQodC5jc3MoInBhZGRpbmdSaWdodCIpLDEwKXx8MCktdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10aGlzLm1hcmdpbnMubGVmdC10aGlzLm1hcmdpbnMucmlnaHQsKGY/TWF0aC5tYXgoaS5zY3JvbGxIZWlnaHQsaS5vZmZzZXRIZWlnaHQpOmkub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQodC5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQodC5jc3MoInBhZGRpbmdCb3R0b20iKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3AtdGhpcy5tYXJnaW5zLmJvdHRvbV0sdGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj10KSx2b2lkIDApOih0aGlzLmNvbnRhaW5tZW50PW51bGwsdm9pZCAwKX0sX2NvbnZlcnRQb3NpdGlvblRvOmZ1bmN0aW9uKG4sdCl7dHx8KHQ9dGhpcy5wb3NpdGlvbik7dmFyIGk9ImFic29sdXRlIj09PW4/MTotMSxyPXRoaXMuX2lzUm9vdE5vZGUodGhpcy5zY3JvbGxQYXJlbnRbMF0pO3JldHVybnt0b3A6dC50b3ArdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wKmkrdGhpcy5vZmZzZXQucGFyZW50LnRvcCppLSgiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5vZmZzZXQuc2Nyb2xsLnRvcDpyPzA6dGhpcy5vZmZzZXQuc2Nyb2xsLnRvcCkqaSxsZWZ0OnQubGVmdCt0aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0KmkrdGhpcy5vZmZzZXQucGFyZW50LmxlZnQqaS0oImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0OnI/MDp0aGlzLm9mZnNldC5zY3JvbGwubGVmdCkqaX19LF9nZW5lcmF0ZVBvc2l0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIGkscyx1LGYscj10aGlzLm9wdGlvbnMsaD10aGlzLl9pc1Jvb3ROb2RlKHRoaXMuc2Nyb2xsUGFyZW50WzBdKSxlPW4ucGFnZVgsbz1uLnBhZ2VZO3JldHVybiBoJiZ0aGlzLm9mZnNldC5zY3JvbGx8fCh0aGlzLm9mZnNldC5zY3JvbGw9e3RvcDp0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSxsZWZ0OnRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKX0pLHQmJih0aGlzLmNvbnRhaW5tZW50JiYodGhpcy5yZWxhdGl2ZUNvbnRhaW5lcj8ocz10aGlzLnJlbGF0aXZlQ29udGFpbmVyLm9mZnNldCgpLGk9W3RoaXMuY29udGFpbm1lbnRbMF0rcy5sZWZ0LHRoaXMuY29udGFpbm1lbnRbMV0rcy50b3AsdGhpcy5jb250YWlubWVudFsyXStzLmxlZnQsdGhpcy5jb250YWlubWVudFszXStzLnRvcF0pOmk9dGhpcy5jb250YWlubWVudCxuLnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8aVswXSYmKGU9aVswXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSxuLnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDxpWzFdJiYobz1pWzFdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCksbi5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PmlbMl0mJihlPWlbMl0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksbi5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A+aVszXSYmKG89aVszXSt0aGlzLm9mZnNldC5jbGljay50b3ApKSxyLmdyaWQmJih1PXIuZ3JpZFsxXT90aGlzLm9yaWdpbmFsUGFnZVkrTWF0aC5yb3VuZCgoby10aGlzLm9yaWdpbmFsUGFnZVkpL3IuZ3JpZFsxXSkqci5ncmlkWzFdOnRoaXMub3JpZ2luYWxQYWdlWSxvPWk/dS10aGlzLm9mZnNldC5jbGljay50b3A+PWlbMV18fHUtdGhpcy5vZmZzZXQuY2xpY2sudG9wPmlbM10/dTp1LXRoaXMub2Zmc2V0LmNsaWNrLnRvcD49aVsxXT91LXIuZ3JpZFsxXTp1K3IuZ3JpZFsxXTp1LGY9ci5ncmlkWzBdP3RoaXMub3JpZ2luYWxQYWdlWCtNYXRoLnJvdW5kKChlLXRoaXMub3JpZ2luYWxQYWdlWCkvci5ncmlkWzBdKSpyLmdyaWRbMF06dGhpcy5vcmlnaW5hbFBhZ2VYLGU9aT9mLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+PWlbMF18fGYtdGhpcy5vZmZzZXQuY2xpY2subGVmdD5pWzJdP2Y6Zi10aGlzLm9mZnNldC5jbGljay5sZWZ0Pj1pWzBdP2Ytci5ncmlkWzBdOmYrci5ncmlkWzBdOmYpLCJ5Ij09PXIuYXhpcyYmKGU9dGhpcy5vcmlnaW5hbFBhZ2VYKSwieCI9PT1yLmF4aXMmJihvPXRoaXMub3JpZ2luYWxQYWdlWSkpLHt0b3A6by10aGlzLm9mZnNldC5jbGljay50b3AtdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wLXRoaXMub2Zmc2V0LnBhcmVudC50b3ArKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLm9mZnNldC5zY3JvbGwudG9wOmg/MDp0aGlzLm9mZnNldC5zY3JvbGwudG9wKSxsZWZ0OmUtdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KygiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5vZmZzZXQuc2Nyb2xsLmxlZnQ6aD8wOnRoaXMub2Zmc2V0LnNjcm9sbC5sZWZ0KX19LF9jbGVhcjpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaGVscGVyLCJ1aS1kcmFnZ2FibGUtZHJhZ2dpbmciKTt0aGlzLmhlbHBlclswXT09PXRoaXMuZWxlbWVudFswXXx8dGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsfHx0aGlzLmhlbHBlci5yZW1vdmUoKTt0aGlzLmhlbHBlcj1udWxsO3RoaXMuY2FuY2VsSGVscGVyUmVtb3ZhbD0hMTt0aGlzLmRlc3Ryb3lPbkNsZWFyJiZ0aGlzLmRlc3Ryb3koKX0sX3RyaWdnZXI6ZnVuY3Rpb24odCxpLHIpe3JldHVybiByPXJ8fHRoaXMuX3VpSGFzaCgpLG4udWkucGx1Z2luLmNhbGwodGhpcyx0LFtpLHIsdGhpc10sITApLC9eKGRyYWd8c3RhcnR8c3RvcCkvLnRlc3QodCkmJih0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLHIub2Zmc2V0PXRoaXMucG9zaXRpb25BYnMpLG4uV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5jYWxsKHRoaXMsdCxpLHIpfSxwbHVnaW5zOnt9LF91aUhhc2g6ZnVuY3Rpb24oKXtyZXR1cm57aGVscGVyOnRoaXMuaGVscGVyLHBvc2l0aW9uOnRoaXMucG9zaXRpb24sb3JpZ2luYWxQb3NpdGlvbjp0aGlzLm9yaWdpbmFsUG9zaXRpb24sb2Zmc2V0OnRoaXMucG9zaXRpb25BYnN9fX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwiY29ubmVjdFRvU29ydGFibGUiLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIHU9bi5leHRlbmQoe30saSx7aXRlbTpyLmVsZW1lbnR9KTtyLnNvcnRhYmxlcz1bXTtuKHIub3B0aW9ucy5jb25uZWN0VG9Tb3J0YWJsZSkuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykuc29ydGFibGUoImluc3RhbmNlIik7aSYmIWkub3B0aW9ucy5kaXNhYmxlZCYmKHIuc29ydGFibGVzLnB1c2goaSksaS5yZWZyZXNoUG9zaXRpb25zKCksaS5fdHJpZ2dlcigiYWN0aXZhdGUiLHQsdSkpfSl9LHN0b3A6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4uZXh0ZW5kKHt9LGkse2l0ZW06ci5lbGVtZW50fSk7ci5jYW5jZWxIZWxwZXJSZW1vdmFsPSExO24uZWFjaChyLnNvcnRhYmxlcyxmdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5pc092ZXI/KG4uaXNPdmVyPTAsci5jYW5jZWxIZWxwZXJSZW1vdmFsPSEwLG4uY2FuY2VsSGVscGVyUmVtb3ZhbD0hMSxuLl9zdG9yZWRDU1M9e3Bvc2l0aW9uOm4ucGxhY2Vob2xkZXIuY3NzKCJwb3NpdGlvbiIpLHRvcDpuLnBsYWNlaG9sZGVyLmNzcygidG9wIiksbGVmdDpuLnBsYWNlaG9sZGVyLmNzcygibGVmdCIpfSxuLl9tb3VzZVN0b3AodCksbi5vcHRpb25zLmhlbHBlcj1uLm9wdGlvbnMuX2hlbHBlcik6KG4uY2FuY2VsSGVscGVyUmVtb3ZhbD0hMCxuLl90cmlnZ2VyKCJkZWFjdGl2YXRlIix0LHUpKX0pfSxkcmFnOmZ1bmN0aW9uKHQsaSxyKXtuLmVhY2goci5zb3J0YWJsZXMsZnVuY3Rpb24oKXt2YXIgZj0hMSx1PXRoaXM7dS5wb3NpdGlvbkFicz1yLnBvc2l0aW9uQWJzO3UuaGVscGVyUHJvcG9ydGlvbnM9ci5oZWxwZXJQcm9wb3J0aW9uczt1Lm9mZnNldC5jbGljaz1yLm9mZnNldC5jbGljazt1Ll9pbnRlcnNlY3RzV2l0aCh1LmNvbnRhaW5lckNhY2hlKSYmKGY9ITAsbi5lYWNoKHIuc29ydGFibGVzLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb25BYnM9ci5wb3NpdGlvbkFicyx0aGlzLmhlbHBlclByb3BvcnRpb25zPXIuaGVscGVyUHJvcG9ydGlvbnMsdGhpcy5vZmZzZXQuY2xpY2s9ci5vZmZzZXQuY2xpY2ssdGhpcyE9PXUmJnRoaXMuX2ludGVyc2VjdHNXaXRoKHRoaXMuY29udGFpbmVyQ2FjaGUpJiZuLmNvbnRhaW5zKHUuZWxlbWVudFswXSx0aGlzLmVsZW1lbnRbMF0pJiYoZj0hMSksZn0pKTtmPyh1LmlzT3Zlcnx8KHUuaXNPdmVyPTEsci5fcGFyZW50PWkuaGVscGVyLnBhcmVudCgpLHUuY3VycmVudEl0ZW09aS5oZWxwZXIuYXBwZW5kVG8odS5lbGVtZW50KS5kYXRhKCJ1aS1zb3J0YWJsZS1pdGVtIiwhMCksdS5vcHRpb25zLl9oZWxwZXI9dS5vcHRpb25zLmhlbHBlcix1Lm9wdGlvbnMuaGVscGVyPWZ1bmN0aW9uKCl7cmV0dXJuIGkuaGVscGVyWzBdfSx0LnRhcmdldD11LmN1cnJlbnRJdGVtWzBdLHUuX21vdXNlQ2FwdHVyZSh0LCEwKSx1Ll9tb3VzZVN0YXJ0KHQsITAsITApLHUub2Zmc2V0LmNsaWNrLnRvcD1yLm9mZnNldC5jbGljay50b3AsdS5vZmZzZXQuY2xpY2subGVmdD1yLm9mZnNldC5jbGljay5sZWZ0LHUub2Zmc2V0LnBhcmVudC5sZWZ0LT1yLm9mZnNldC5wYXJlbnQubGVmdC11Lm9mZnNldC5wYXJlbnQubGVmdCx1Lm9mZnNldC5wYXJlbnQudG9wLT1yLm9mZnNldC5wYXJlbnQudG9wLXUub2Zmc2V0LnBhcmVudC50b3Asci5fdHJpZ2dlcigidG9Tb3J0YWJsZSIsdCksci5kcm9wcGVkPXUuZWxlbWVudCxuLmVhY2goci5zb3J0YWJsZXMsZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2hQb3NpdGlvbnMoKX0pLHIuY3VycmVudEl0ZW09ci5lbGVtZW50LHUuZnJvbU91dHNpZGU9ciksdS5jdXJyZW50SXRlbSYmKHUuX21vdXNlRHJhZyh0KSxpLnBvc2l0aW9uPXUucG9zaXRpb24pKTp1LmlzT3ZlciYmKHUuaXNPdmVyPTAsdS5jYW5jZWxIZWxwZXJSZW1vdmFsPSEwLHUub3B0aW9ucy5fcmV2ZXJ0PXUub3B0aW9ucy5yZXZlcnQsdS5vcHRpb25zLnJldmVydD0hMSx1Ll90cmlnZ2VyKCJvdXQiLHQsdS5fdWlIYXNoKHUpKSx1Ll9tb3VzZVN0b3AodCwhMCksdS5vcHRpb25zLnJldmVydD11Lm9wdGlvbnMuX3JldmVydCx1Lm9wdGlvbnMuaGVscGVyPXUub3B0aW9ucy5faGVscGVyLHUucGxhY2Vob2xkZXImJnUucGxhY2Vob2xkZXIucmVtb3ZlKCksaS5oZWxwZXIuYXBwZW5kVG8oci5fcGFyZW50KSxyLl9yZWZyZXNoT2Zmc2V0cyh0KSxpLnBvc2l0aW9uPXIuX2dlbmVyYXRlUG9zaXRpb24odCwhMCksci5fdHJpZ2dlcigiZnJvbVNvcnRhYmxlIix0KSxyLmRyb3BwZWQ9ITEsbi5lYWNoKHIuc29ydGFibGVzLGZ1bmN0aW9uKCl7dGhpcy5yZWZyZXNoUG9zaXRpb25zKCl9KSl9KX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsImN1cnNvciIse3N0YXJ0OmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1uKCJib2R5IiksZj1yLm9wdGlvbnM7dS5jc3MoImN1cnNvciIpJiYoZi5fY3Vyc29yPXUuY3NzKCJjdXJzb3IiKSk7dS5jc3MoImN1cnNvciIsZi5jdXJzb3IpfSxzdG9wOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1yLm9wdGlvbnM7dS5fY3Vyc29yJiZuKCJib2R5IikuY3NzKCJjdXJzb3IiLHUuX2N1cnNvcil9fSk7bi51aS5wbHVnaW4uYWRkKCJkcmFnZ2FibGUiLCJvcGFjaXR5Iix7c3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4oaS5oZWxwZXIpLGY9ci5vcHRpb25zO3UuY3NzKCJvcGFjaXR5IikmJihmLl9vcGFjaXR5PXUuY3NzKCJvcGFjaXR5IikpO3UuY3NzKCJvcGFjaXR5IixmLm9wYWNpdHkpfSxzdG9wOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1yLm9wdGlvbnM7dS5fb3BhY2l0eSYmbihpLmhlbHBlcikuY3NzKCJvcGFjaXR5Iix1Ll9vcGFjaXR5KX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsInNjcm9sbCIse3N0YXJ0OmZ1bmN0aW9uKG4sdCxpKXtpLnNjcm9sbFBhcmVudE5vdEhpZGRlbnx8KGkuc2Nyb2xsUGFyZW50Tm90SGlkZGVuPWkuaGVscGVyLnNjcm9sbFBhcmVudCghMSkpO2kuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWzBdIT09aS5kb2N1bWVudFswXSYmIkhUTUwiIT09aS5zY3JvbGxQYXJlbnROb3RIaWRkZW5bMF0udGFnTmFtZSYmKGkub3ZlcmZsb3dPZmZzZXQ9aS5zY3JvbGxQYXJlbnROb3RIaWRkZW4ub2Zmc2V0KCkpfSxkcmFnOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT1yLm9wdGlvbnMsbz0hMSxlPXIuc2Nyb2xsUGFyZW50Tm90SGlkZGVuWzBdLGY9ci5kb2N1bWVudFswXTtlIT09ZiYmIkhUTUwiIT09ZS50YWdOYW1lPyh1LmF4aXMmJiJ4Ij09PXUuYXhpc3x8KHIub3ZlcmZsb3dPZmZzZXQudG9wK2Uub2Zmc2V0SGVpZ2h0LXQucGFnZVk8dS5zY3JvbGxTZW5zaXRpdml0eT9lLnNjcm9sbFRvcD1vPWUuc2Nyb2xsVG9wK3Uuc2Nyb2xsU3BlZWQ6dC5wYWdlWS1yLm92ZXJmbG93T2Zmc2V0LnRvcDx1LnNjcm9sbFNlbnNpdGl2aXR5JiYoZS5zY3JvbGxUb3A9bz1lLnNjcm9sbFRvcC11LnNjcm9sbFNwZWVkKSksdS5heGlzJiYieSI9PT11LmF4aXN8fChyLm92ZXJmbG93T2Zmc2V0LmxlZnQrZS5vZmZzZXRXaWR0aC10LnBhZ2VYPHUuc2Nyb2xsU2Vuc2l0aXZpdHk/ZS5zY3JvbGxMZWZ0PW89ZS5zY3JvbGxMZWZ0K3Uuc2Nyb2xsU3BlZWQ6dC5wYWdlWC1yLm92ZXJmbG93T2Zmc2V0LmxlZnQ8dS5zY3JvbGxTZW5zaXRpdml0eSYmKGUuc2Nyb2xsTGVmdD1vPWUuc2Nyb2xsTGVmdC11LnNjcm9sbFNwZWVkKSkpOih1LmF4aXMmJiJ4Ij09PXUuYXhpc3x8KHQucGFnZVktbihmKS5zY3JvbGxUb3AoKTx1LnNjcm9sbFNlbnNpdGl2aXR5P289bihmKS5zY3JvbGxUb3AobihmKS5zY3JvbGxUb3AoKS11LnNjcm9sbFNwZWVkKTpuKHdpbmRvdykuaGVpZ2h0KCktKHQucGFnZVktbihmKS5zY3JvbGxUb3AoKSk8dS5zY3JvbGxTZW5zaXRpdml0eSYmKG89bihmKS5zY3JvbGxUb3AobihmKS5zY3JvbGxUb3AoKSt1LnNjcm9sbFNwZWVkKSkpLHUuYXhpcyYmInkiPT09dS5heGlzfHwodC5wYWdlWC1uKGYpLnNjcm9sbExlZnQoKTx1LnNjcm9sbFNlbnNpdGl2aXR5P289bihmKS5zY3JvbGxMZWZ0KG4oZikuc2Nyb2xsTGVmdCgpLXUuc2Nyb2xsU3BlZWQpOm4od2luZG93KS53aWR0aCgpLSh0LnBhZ2VYLW4oZikuc2Nyb2xsTGVmdCgpKTx1LnNjcm9sbFNlbnNpdGl2aXR5JiYobz1uKGYpLnNjcm9sbExlZnQobihmKS5zY3JvbGxMZWZ0KCkrdS5zY3JvbGxTcGVlZCkpKSk7byE9PSExJiZuLnVpLmRkbWFuYWdlciYmIXUuZHJvcEJlaGF2aW91ciYmbi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHMocix0KX19KTtuLnVpLnBsdWdpbi5hZGQoImRyYWdnYWJsZSIsInNuYXAiLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIHU9ci5vcHRpb25zO3Iuc25hcEVsZW1lbnRzPVtdO24odS5zbmFwLmNvbnN0cnVjdG9yIT09U3RyaW5nP3Uuc25hcC5pdGVtc3x8IjpkYXRhKHVpLWRyYWdnYWJsZSkiOnUuc25hcCkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksaT10Lm9mZnNldCgpO3RoaXMhPT1yLmVsZW1lbnRbMF0mJnIuc25hcEVsZW1lbnRzLnB1c2goe2l0ZW06dGhpcyx3aWR0aDp0Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dC5vdXRlckhlaWdodCgpLHRvcDppLnRvcCxsZWZ0OmkubGVmdH0pfSl9LGRyYWc6ZnVuY3Rpb24odCxpLHIpe2Zvcih2YXIgZSxvLHMsaCxjLGEsbCx2LHcsYj1yLm9wdGlvbnMsZj1iLnNuYXBUb2xlcmFuY2UseT1pLm9mZnNldC5sZWZ0LGs9eStyLmhlbHBlclByb3BvcnRpb25zLndpZHRoLHA9aS5vZmZzZXQudG9wLGQ9cCtyLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCx1PXIuc25hcEVsZW1lbnRzLmxlbmd0aC0xO3U+PTA7dS0tKWM9ci5zbmFwRWxlbWVudHNbdV0ubGVmdC1yLm1hcmdpbnMubGVmdCxhPWMrci5zbmFwRWxlbWVudHNbdV0ud2lkdGgsbD1yLnNuYXBFbGVtZW50c1t1XS50b3Atci5tYXJnaW5zLnRvcCx2PWwrci5zbmFwRWxlbWVudHNbdV0uaGVpZ2h0LGMtZj5rfHx5PmErZnx8bC1mPmR8fHA+ditmfHwhbi5jb250YWlucyhyLnNuYXBFbGVtZW50c1t1XS5pdGVtLm93bmVyRG9jdW1lbnQsci5zbmFwRWxlbWVudHNbdV0uaXRlbSk/KHIuc25hcEVsZW1lbnRzW3VdLnNuYXBwaW5nJiZyLm9wdGlvbnMuc25hcC5yZWxlYXNlJiZyLm9wdGlvbnMuc25hcC5yZWxlYXNlLmNhbGwoci5lbGVtZW50LHQsbi5leHRlbmQoci5fdWlIYXNoKCkse3NuYXBJdGVtOnIuc25hcEVsZW1lbnRzW3VdLml0ZW19KSksci5zbmFwRWxlbWVudHNbdV0uc25hcHBpbmc9ITEpOigiaW5uZXIiIT09Yi5zbmFwTW9kZSYmKGU9Zj49TWF0aC5hYnMobC1kKSxvPWY+PU1hdGguYWJzKHYtcCkscz1mPj1NYXRoLmFicyhjLWspLGg9Zj49TWF0aC5hYnMoYS15KSxlJiYoaS5wb3NpdGlvbi50b3A9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOmwtci5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQsbGVmdDowfSkudG9wKSxvJiYoaS5wb3NpdGlvbi50b3A9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOnYsbGVmdDowfSkudG9wKSxzJiYoaS5wb3NpdGlvbi5sZWZ0PXIuX2NvbnZlcnRQb3NpdGlvblRvKCJyZWxhdGl2ZSIse3RvcDowLGxlZnQ6Yy1yLmhlbHBlclByb3BvcnRpb25zLndpZHRofSkubGVmdCksaCYmKGkucG9zaXRpb24ubGVmdD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0OmF9KS5sZWZ0KSksdz1lfHxvfHxzfHxoLCJvdXRlciIhPT1iLnNuYXBNb2RlJiYoZT1mPj1NYXRoLmFicyhsLXApLG89Zj49TWF0aC5hYnModi1kKSxzPWY+PU1hdGguYWJzKGMteSksaD1mPj1NYXRoLmFicyhhLWspLGUmJihpLnBvc2l0aW9uLnRvcD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6bCxsZWZ0OjB9KS50b3ApLG8mJihpLnBvc2l0aW9uLnRvcD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6di1yLmhlbHBlclByb3BvcnRpb25zLmhlaWdodCxsZWZ0OjB9KS50b3ApLHMmJihpLnBvc2l0aW9uLmxlZnQ9ci5fY29udmVydFBvc2l0aW9uVG8oInJlbGF0aXZlIix7dG9wOjAsbGVmdDpjfSkubGVmdCksaCYmKGkucG9zaXRpb24ubGVmdD1yLl9jb252ZXJ0UG9zaXRpb25UbygicmVsYXRpdmUiLHt0b3A6MCxsZWZ0OmEtci5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aH0pLmxlZnQpKSwhci5zbmFwRWxlbWVudHNbdV0uc25hcHBpbmcmJihlfHxvfHxzfHxofHx3KSYmci5vcHRpb25zLnNuYXAuc25hcCYmci5vcHRpb25zLnNuYXAuc25hcC5jYWxsKHIuZWxlbWVudCx0LG4uZXh0ZW5kKHIuX3VpSGFzaCgpLHtzbmFwSXRlbTpyLnNuYXBFbGVtZW50c1t1XS5pdGVtfSkpLHIuc25hcEVsZW1lbnRzW3VdLnNuYXBwaW5nPWV8fG98fHN8fGh8fHcpfX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwic3RhY2siLHtzdGFydDpmdW5jdGlvbih0LGkscil7dmFyIGYsZT1yLm9wdGlvbnMsdT1uLm1ha2VBcnJheShuKGUuc3RhY2spKS5zb3J0KGZ1bmN0aW9uKHQsaSl7cmV0dXJuKHBhcnNlSW50KG4odCkuY3NzKCJ6SW5kZXgiKSwxMCl8fDApLShwYXJzZUludChuKGkpLmNzcygiekluZGV4IiksMTApfHwwKX0pO3UubGVuZ3RoJiYoZj1wYXJzZUludChuKHVbMF0pLmNzcygiekluZGV4IiksMTApfHwwLG4odSkuZWFjaChmdW5jdGlvbih0KXtuKHRoaXMpLmNzcygiekluZGV4IixmK3QpfSksdGhpcy5jc3MoInpJbmRleCIsZit1Lmxlbmd0aCkpfX0pO24udWkucGx1Z2luLmFkZCgiZHJhZ2dhYmxlIiwiekluZGV4Iix7c3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciB1PW4oaS5oZWxwZXIpLGY9ci5vcHRpb25zO3UuY3NzKCJ6SW5kZXgiKSYmKGYuX3pJbmRleD11LmNzcygiekluZGV4IikpO3UuY3NzKCJ6SW5kZXgiLGYuekluZGV4KX0sc3RvcDpmdW5jdGlvbih0LGkscil7dmFyIHU9ci5vcHRpb25zO3UuX3pJbmRleCYmbihpLmhlbHBlcikuY3NzKCJ6SW5kZXgiLHUuX3pJbmRleCl9fSk7bi51aS5kcmFnZ2FibGU7bi53aWRnZXQoInVpLnJlc2l6YWJsZSIsbi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMi4xIix3aWRnZXRFdmVudFByZWZpeDoicmVzaXplIixvcHRpb25zOnthbHNvUmVzaXplOiExLGFuaW1hdGU6ITEsYW5pbWF0ZUR1cmF0aW9uOiJzbG93IixhbmltYXRlRWFzaW5nOiJzd2luZyIsYXNwZWN0UmF0aW86ITEsYXV0b0hpZGU6ITEsY2xhc3Nlczp7InVpLXJlc2l6YWJsZS1zZSI6InVpLWljb24gdWktaWNvbi1ncmlwc21hbGwtZGlhZ29uYWwtc2UifSxjb250YWlubWVudDohMSxnaG9zdDohMSxncmlkOiExLGhhbmRsZXM6ImUscyxzZSIsaGVscGVyOiExLG1heEhlaWdodDpudWxsLG1heFdpZHRoOm51bGwsbWluSGVpZ2h0OjEwLG1pbldpZHRoOjEwLHpJbmRleDo5MCxyZXNpemU6bnVsbCxzdGFydDpudWxsLHN0b3A6bnVsbH0sX251bTpmdW5jdGlvbihuKXtyZXR1cm4gcGFyc2VGbG9hdChuKXx8MH0sX2lzTnVtYmVyOmZ1bmN0aW9uKG4pe3JldHVybiFpc05hTihwYXJzZUZsb2F0KG4pKX0sX2hhc1Njcm9sbDpmdW5jdGlvbih0LGkpe2lmKCJoaWRkZW4iPT09bih0KS5jc3MoIm92ZXJmbG93IikpcmV0dXJuITE7dmFyIHI9aSYmImxlZnQiPT09aT8ic2Nyb2xsTGVmdCI6InNjcm9sbFRvcCIsdT0hMTtyZXR1cm4gdFtyXT4wPyEwOih0W3JdPTEsdT10W3JdPjAsdFtyXT0wLHUpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHIsdD10aGlzLm9wdGlvbnMsaT10aGlzO3RoaXMuX2FkZENsYXNzKCJ1aS1yZXNpemFibGUiKTtuLmV4dGVuZCh0aGlzLHtfYXNwZWN0UmF0aW86ISF0LmFzcGVjdFJhdGlvLGFzcGVjdFJhdGlvOnQuYXNwZWN0UmF0aW8sb3JpZ2luYWxFbGVtZW50OnRoaXMuZWxlbWVudCxfcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50czpbXSxfaGVscGVyOnQuaGVscGVyfHx0Lmdob3N0fHx0LmFuaW1hdGU/dC5oZWxwZXJ8fCJ1aS1yZXNpemFibGUtaGVscGVyIjpudWxsfSk7dGhpcy5lbGVtZW50WzBdLm5vZGVOYW1lLm1hdGNoKC9eKGNhbnZhc3x0ZXh0YXJlYXxpbnB1dHxzZWxlY3R8YnV0dG9ufGltZykkL2kpJiYodGhpcy5lbGVtZW50LndyYXAobigiPGRpdiBjbGFzcz0ndWktd3JhcHBlcicgc3R5bGU9J292ZXJmbG93OiBoaWRkZW47Jz48XC9kaXY+IikuY3NzKHtwb3NpdGlvbjp0aGlzLmVsZW1lbnQuY3NzKCJwb3NpdGlvbiIpLHdpZHRoOnRoaXMuZWxlbWVudC5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLHRvcDp0aGlzLmVsZW1lbnQuY3NzKCJ0b3AiKSxsZWZ0OnRoaXMuZWxlbWVudC5jc3MoImxlZnQiKX0pKSx0aGlzLmVsZW1lbnQ9dGhpcy5lbGVtZW50LnBhcmVudCgpLmRhdGEoInVpLXJlc2l6YWJsZSIsdGhpcy5lbGVtZW50LnJlc2l6YWJsZSgiaW5zdGFuY2UiKSksdGhpcy5lbGVtZW50SXNXcmFwcGVyPSEwLHI9e21hcmdpblRvcDp0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoIm1hcmdpblRvcCIpLG1hcmdpblJpZ2h0OnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luUmlnaHQiKSxtYXJnaW5Cb3R0b206dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJtYXJnaW5Cb3R0b20iKSxtYXJnaW5MZWZ0OnRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luTGVmdCIpfSx0aGlzLmVsZW1lbnQuY3NzKHIpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygibWFyZ2luIiwwKSx0aGlzLm9yaWdpbmFsUmVzaXplU3R5bGU9dGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKCJyZXNpemUiKSx0aGlzLm9yaWdpbmFsRWxlbWVudC5jc3MoInJlc2l6ZSIsIm5vbmUiKSx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLnB1c2godGhpcy5vcmlnaW5hbEVsZW1lbnQuY3NzKHtwb3NpdGlvbjoic3RhdGljIix6b29tOjEsZGlzcGxheToiYmxvY2sifSkpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyhyKSx0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZSgpKTt0aGlzLl9zZXR1cEhhbmRsZXMoKTt0LmF1dG9IaWRlJiZuKHRoaXMuZWxlbWVudCkub24oIm1vdXNlZW50ZXIiLGZ1bmN0aW9uKCl7dC5kaXNhYmxlZHx8KGkuX3JlbW92ZUNsYXNzKCJ1aS1yZXNpemFibGUtYXV0b2hpZGUiKSxpLl9oYW5kbGVzLnNob3coKSl9KS5vbigibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXt0LmRpc2FibGVkfHxpLnJlc2l6aW5nfHwoaS5fYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpLGkuX2hhbmRsZXMuaGlkZSgpKX0pO3RoaXMuX21vdXNlSW5pdCgpfSxfZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX21vdXNlRGVzdHJveSgpO3ZhciB0LGk9ZnVuY3Rpb24odCl7bih0KS5yZW1vdmVEYXRhKCJyZXNpemFibGUiKS5yZW1vdmVEYXRhKCJ1aS1yZXNpemFibGUiKS5vZmYoIi5yZXNpemFibGUiKS5maW5kKCIudWktcmVzaXphYmxlLWhhbmRsZSIpLnJlbW92ZSgpfTtyZXR1cm4gdGhpcy5lbGVtZW50SXNXcmFwcGVyJiYoaSh0aGlzLmVsZW1lbnQpLHQ9dGhpcy5lbGVtZW50LHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcyh7cG9zaXRpb246dC5jc3MoInBvc2l0aW9uIiksd2lkdGg6dC5vdXRlcldpZHRoKCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoKSx0b3A6dC5jc3MoInRvcCIpLGxlZnQ6dC5jc3MoImxlZnQiKX0pLmluc2VydEFmdGVyKHQpLHQucmVtb3ZlKCkpLHRoaXMub3JpZ2luYWxFbGVtZW50LmNzcygicmVzaXplIix0aGlzLm9yaWdpbmFsUmVzaXplU3R5bGUpLGkodGhpcy5vcmlnaW5hbEVsZW1lbnQpLHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXtzd2l0Y2godGhpcy5fc3VwZXIobix0KSxuKXtjYXNlImhhbmRsZXMiOnRoaXMuX3JlbW92ZUhhbmRsZXMoKTt0aGlzLl9zZXR1cEhhbmRsZXMoKX19LF9zZXR1cEhhbmRsZXM6ZnVuY3Rpb24oKXt2YXIgaSxyLHUsbyx0LGY9dGhpcy5vcHRpb25zLGU9dGhpcztpZih0aGlzLmhhbmRsZXM9Zi5oYW5kbGVzfHwobigiLnVpLXJlc2l6YWJsZS1oYW5kbGUiLHRoaXMuZWxlbWVudCkubGVuZ3RoP3tuOiIudWktcmVzaXphYmxlLW4iLGU6Ii51aS1yZXNpemFibGUtZSIsczoiLnVpLXJlc2l6YWJsZS1zIix3OiIudWktcmVzaXphYmxlLXciLHNlOiIudWktcmVzaXphYmxlLXNlIixzdzoiLnVpLXJlc2l6YWJsZS1zdyIsbmU6Ii51aS1yZXNpemFibGUtbmUiLG53OiIudWktcmVzaXphYmxlLW53In06ImUscyxzZSIpLHRoaXMuX2hhbmRsZXM9bigpLHRoaXMuaGFuZGxlcy5jb25zdHJ1Y3Rvcj09PVN0cmluZylmb3IoImFsbCI9PT10aGlzLmhhbmRsZXMmJih0aGlzLmhhbmRsZXM9Im4sZSxzLHcsc2Usc3csbmUsbnciKSx1PXRoaXMuaGFuZGxlcy5zcGxpdCgiLCIpLHRoaXMuaGFuZGxlcz17fSxyPTA7dS5sZW5ndGg+cjtyKyspaT1uLnRyaW0odVtyXSksbz0idWktcmVzaXphYmxlLSIraSx0PW4oIjxkaXY+IiksdGhpcy5fYWRkQ2xhc3ModCwidWktcmVzaXphYmxlLWhhbmRsZSAiK28pLHQuY3NzKHt6SW5kZXg6Zi56SW5kZXh9KSx0aGlzLmhhbmRsZXNbaV09Ii51aS1yZXNpemFibGUtIitpLHRoaXMuZWxlbWVudC5hcHBlbmQodCk7dGhpcy5fcmVuZGVyQXhpcz1mdW5jdGlvbih0KXt2YXIgaSxyLHUsZjt0PXR8fHRoaXMuZWxlbWVudDtmb3IoaSBpbiB0aGlzLmhhbmRsZXMpdGhpcy5oYW5kbGVzW2ldLmNvbnN0cnVjdG9yPT09U3RyaW5nP3RoaXMuaGFuZGxlc1tpXT10aGlzLmVsZW1lbnQuY2hpbGRyZW4odGhpcy5oYW5kbGVzW2ldKS5maXJzdCgpLnNob3coKToodGhpcy5oYW5kbGVzW2ldLmpxdWVyeXx8dGhpcy5oYW5kbGVzW2ldLm5vZGVUeXBlKSYmKHRoaXMuaGFuZGxlc1tpXT1uKHRoaXMuaGFuZGxlc1tpXSksdGhpcy5fb24odGhpcy5oYW5kbGVzW2ldLHttb3VzZWRvd246ZS5fbW91c2VEb3dufSkpLHRoaXMuZWxlbWVudElzV3JhcHBlciYmdGhpcy5vcmlnaW5hbEVsZW1lbnRbMF0ubm9kZU5hbWUubWF0Y2goL14odGV4dGFyZWF8aW5wdXR8c2VsZWN0fGJ1dHRvbikkL2kpJiYocj1uKHRoaXMuaGFuZGxlc1tpXSx0aGlzLmVsZW1lbnQpLGY9L3N3fG5lfG53fHNlfG58cy8udGVzdChpKT9yLm91dGVySGVpZ2h0KCk6ci5vdXRlcldpZHRoKCksdT1bInBhZGRpbmciLC9uZXxud3xuLy50ZXN0KGkpPyJUb3AiOi9zZXxzd3xzLy50ZXN0KGkpPyJCb3R0b20iOi9eZSQvLnRlc3QoaSk/IlJpZ2h0IjoiTGVmdCJdLmpvaW4oIiIpLHQuY3NzKHUsZiksdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKSksdGhpcy5faGFuZGxlcz10aGlzLl9oYW5kbGVzLmFkZCh0aGlzLmhhbmRsZXNbaV0pfTt0aGlzLl9yZW5kZXJBeGlzKHRoaXMuZWxlbWVudCk7dGhpcy5faGFuZGxlcz10aGlzLl9oYW5kbGVzLmFkZCh0aGlzLmVsZW1lbnQuZmluZCgiLnVpLXJlc2l6YWJsZS1oYW5kbGUiKSk7dGhpcy5faGFuZGxlcy5kaXNhYmxlU2VsZWN0aW9uKCk7dGhpcy5faGFuZGxlcy5vbigibW91c2VvdmVyIixmdW5jdGlvbigpe2UucmVzaXppbmd8fCh0aGlzLmNsYXNzTmFtZSYmKHQ9dGhpcy5jbGFzc05hbWUubWF0Y2goL3VpLXJlc2l6YWJsZS0oc2V8c3d8bmV8bnd8bnxlfHN8dykvaSkpLGUuYXhpcz10JiZ0WzFdP3RbMV06InNlIil9KTtmLmF1dG9IaWRlJiYodGhpcy5faGFuZGxlcy5oaWRlKCksdGhpcy5fYWRkQ2xhc3MoInVpLXJlc2l6YWJsZS1hdXRvaGlkZSIpKX0sX3JlbW92ZUhhbmRsZXM6ZnVuY3Rpb24oKXt0aGlzLl9oYW5kbGVzLnJlbW92ZSgpfSxfbW91c2VDYXB0dXJlOmZ1bmN0aW9uKHQpe3ZhciByLGksdT0hMTtmb3IociBpbiB0aGlzLmhhbmRsZXMpaT1uKHRoaXMuaGFuZGxlc1tyXSlbMF0sKGk9PT10LnRhcmdldHx8bi5jb250YWlucyhpLHQudGFyZ2V0KSkmJih1PSEwKTtyZXR1cm4hdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ1fSxfbW91c2VTdGFydDpmdW5jdGlvbih0KXt2YXIgdSxmLGUscj10aGlzLm9wdGlvbnMsaT10aGlzLmVsZW1lbnQ7cmV0dXJuIHRoaXMucmVzaXppbmc9ITAsdGhpcy5fcmVuZGVyUHJveHkoKSx1PXRoaXMuX251bSh0aGlzLmhlbHBlci5jc3MoImxlZnQiKSksZj10aGlzLl9udW0odGhpcy5oZWxwZXIuY3NzKCJ0b3AiKSksci5jb250YWlubWVudCYmKHUrPW4oci5jb250YWlubWVudCkuc2Nyb2xsTGVmdCgpfHwwLGYrPW4oci5jb250YWlubWVudCkuc2Nyb2xsVG9wKCl8fDApLHRoaXMub2Zmc2V0PXRoaXMuaGVscGVyLm9mZnNldCgpLHRoaXMucG9zaXRpb249e2xlZnQ6dSx0b3A6Zn0sdGhpcy5zaXplPXRoaXMuX2hlbHBlcj97d2lkdGg6dGhpcy5oZWxwZXIud2lkdGgoKSxoZWlnaHQ6dGhpcy5oZWxwZXIuaGVpZ2h0KCl9Ont3aWR0aDppLndpZHRoKCksaGVpZ2h0OmkuaGVpZ2h0KCl9LHRoaXMub3JpZ2luYWxTaXplPXRoaXMuX2hlbHBlcj97d2lkdGg6aS5vdXRlcldpZHRoKCksaGVpZ2h0Omkub3V0ZXJIZWlnaHQoKX06e3dpZHRoOmkud2lkdGgoKSxoZWlnaHQ6aS5oZWlnaHQoKX0sdGhpcy5zaXplRGlmZj17d2lkdGg6aS5vdXRlcldpZHRoKCktaS53aWR0aCgpLGhlaWdodDppLm91dGVySGVpZ2h0KCktaS5oZWlnaHQoKX0sdGhpcy5vcmlnaW5hbFBvc2l0aW9uPXtsZWZ0OnUsdG9wOmZ9LHRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uPXtsZWZ0OnQucGFnZVgsdG9wOnQucGFnZVl9LHRoaXMuYXNwZWN0UmF0aW89Im51bWJlciI9PXR5cGVvZiByLmFzcGVjdFJhdGlvP3IuYXNwZWN0UmF0aW86dGhpcy5vcmlnaW5hbFNpemUud2lkdGgvdGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0fHwxLGU9bigiLnVpLXJlc2l6YWJsZS0iK3RoaXMuYXhpcykuY3NzKCJjdXJzb3IiKSxuKCJib2R5IikuY3NzKCJjdXJzb3IiLCJhdXRvIj09PWU/dGhpcy5heGlzKyItcmVzaXplIjplKSx0aGlzLl9hZGRDbGFzcygidWktcmVzaXphYmxlLXJlc2l6aW5nIiksdGhpcy5fcHJvcGFnYXRlKCJzdGFydCIsdCksITB9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7dmFyIGkscix1PXRoaXMub3JpZ2luYWxNb3VzZVBvc2l0aW9uLGU9dGhpcy5heGlzLG89dC5wYWdlWC11LmxlZnR8fDAscz10LnBhZ2VZLXUudG9wfHwwLGY9dGhpcy5fY2hhbmdlW2VdO3JldHVybiB0aGlzLl91cGRhdGVQcmV2UHJvcGVydGllcygpLGY/KGk9Zi5hcHBseSh0aGlzLFt0LG8sc10pLHRoaXMuX3VwZGF0ZVZpcnR1YWxCb3VuZGFyaWVzKHQuc2hpZnRLZXkpLCh0aGlzLl9hc3BlY3RSYXRpb3x8dC5zaGlmdEtleSkmJihpPXRoaXMuX3VwZGF0ZVJhdGlvKGksdCkpLGk9dGhpcy5fcmVzcGVjdFNpemUoaSx0KSx0aGlzLl91cGRhdGVDYWNoZShpKSx0aGlzLl9wcm9wYWdhdGUoInJlc2l6ZSIsdCkscj10aGlzLl9hcHBseUNoYW5nZXMoKSwhdGhpcy5faGVscGVyJiZ0aGlzLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLmxlbmd0aCYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKSxuLmlzRW1wdHlPYmplY3Qocil8fCh0aGlzLl91cGRhdGVQcmV2UHJvcGVydGllcygpLHRoaXMuX3RyaWdnZXIoInJlc2l6ZSIsdCx0aGlzLnVpKCkpLHRoaXMuX2FwcGx5Q2hhbmdlcygpKSwhMSk6ITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24odCl7dGhpcy5yZXNpemluZz0hMTt2YXIgcix1LGYsZSxvLHMsaCxjPXRoaXMub3B0aW9ucyxpPXRoaXM7cmV0dXJuIHRoaXMuX2hlbHBlciYmKHI9dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50cyx1PXIubGVuZ3RoJiYvdGV4dGFyZWEvaS50ZXN0KHJbMF0ubm9kZU5hbWUpLGY9dSYmdGhpcy5faGFzU2Nyb2xsKHJbMF0sImxlZnQiKT8wOmkuc2l6ZURpZmYuaGVpZ2h0LGU9dT8wOmkuc2l6ZURpZmYud2lkdGgsbz17d2lkdGg6aS5oZWxwZXIud2lkdGgoKS1lLGhlaWdodDppLmhlbHBlci5oZWlnaHQoKS1mfSxzPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygibGVmdCIpKSsoaS5wb3NpdGlvbi5sZWZ0LWkub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbCxoPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygidG9wIikpKyhpLnBvc2l0aW9uLnRvcC1pLm9yaWdpbmFsUG9zaXRpb24udG9wKXx8bnVsbCxjLmFuaW1hdGV8fHRoaXMuZWxlbWVudC5jc3Mobi5leHRlbmQobyx7dG9wOmgsbGVmdDpzfSkpLGkuaGVscGVyLmhlaWdodChpLnNpemUuaGVpZ2h0KSxpLmhlbHBlci53aWR0aChpLnNpemUud2lkdGgpLHRoaXMuX2hlbHBlciYmIWMuYW5pbWF0ZSYmdGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemUoKSksbigiYm9keSIpLmNzcygiY3Vyc29yIiwiYXV0byIpLHRoaXMuX3JlbW92ZUNsYXNzKCJ1aS1yZXNpemFibGUtcmVzaXppbmciKSx0aGlzLl9wcm9wYWdhdGUoInN0b3AiLHQpLHRoaXMuX2hlbHBlciYmdGhpcy5oZWxwZXIucmVtb3ZlKCksITF9LF91cGRhdGVQcmV2UHJvcGVydGllczpmdW5jdGlvbigpe3RoaXMucHJldlBvc2l0aW9uPXt0b3A6dGhpcy5wb3NpdGlvbi50b3AsbGVmdDp0aGlzLnBvc2l0aW9uLmxlZnR9O3RoaXMucHJldlNpemU9e3dpZHRoOnRoaXMuc2l6ZS53aWR0aCxoZWlnaHQ6dGhpcy5zaXplLmhlaWdodH19LF9hcHBseUNoYW5nZXM6ZnVuY3Rpb24oKXt2YXIgbj17fTtyZXR1cm4gdGhpcy5wb3NpdGlvbi50b3AhPT10aGlzLnByZXZQb3NpdGlvbi50b3AmJihuLnRvcD10aGlzLnBvc2l0aW9uLnRvcCsicHgiKSx0aGlzLnBvc2l0aW9uLmxlZnQhPT10aGlzLnByZXZQb3NpdGlvbi5sZWZ0JiYobi5sZWZ0PXRoaXMucG9zaXRpb24ubGVmdCsicHgiKSx0aGlzLnNpemUud2lkdGghPT10aGlzLnByZXZTaXplLndpZHRoJiYobi53aWR0aD10aGlzLnNpemUud2lkdGgrInB4IiksdGhpcy5zaXplLmhlaWdodCE9PXRoaXMucHJldlNpemUuaGVpZ2h0JiYobi5oZWlnaHQ9dGhpcy5zaXplLmhlaWdodCsicHgiKSx0aGlzLmhlbHBlci5jc3Mobiksbn0sX3VwZGF0ZVZpcnR1YWxCb3VuZGFyaWVzOmZ1bmN0aW9uKG4pe3ZhciByLHUsZixlLHQsaT10aGlzLm9wdGlvbnM7dD17bWluV2lkdGg6dGhpcy5faXNOdW1iZXIoaS5taW5XaWR0aCk/aS5taW5XaWR0aDowLG1heFdpZHRoOnRoaXMuX2lzTnVtYmVyKGkubWF4V2lkdGgpP2kubWF4V2lkdGg6MS8wLG1pbkhlaWdodDp0aGlzLl9pc051bWJlcihpLm1pbkhlaWdodCk/aS5taW5IZWlnaHQ6MCxtYXhIZWlnaHQ6dGhpcy5faXNOdW1iZXIoaS5tYXhIZWlnaHQpP2kubWF4SGVpZ2h0OjEvMH07KHRoaXMuX2FzcGVjdFJhdGlvfHxuKSYmKHI9dC5taW5IZWlnaHQqdGhpcy5hc3BlY3RSYXRpbyxmPXQubWluV2lkdGgvdGhpcy5hc3BlY3RSYXRpbyx1PXQubWF4SGVpZ2h0KnRoaXMuYXNwZWN0UmF0aW8sZT10Lm1heFdpZHRoL3RoaXMuYXNwZWN0UmF0aW8scj50Lm1pbldpZHRoJiYodC5taW5XaWR0aD1yKSxmPnQubWluSGVpZ2h0JiYodC5taW5IZWlnaHQ9ZiksdC5tYXhXaWR0aD51JiYodC5tYXhXaWR0aD11KSx0Lm1heEhlaWdodD5lJiYodC5tYXhIZWlnaHQ9ZSkpO3RoaXMuX3ZCb3VuZGFyaWVzPXR9LF91cGRhdGVDYWNoZTpmdW5jdGlvbihuKXt0aGlzLm9mZnNldD10aGlzLmhlbHBlci5vZmZzZXQoKTt0aGlzLl9pc051bWJlcihuLmxlZnQpJiYodGhpcy5wb3NpdGlvbi5sZWZ0PW4ubGVmdCk7dGhpcy5faXNOdW1iZXIobi50b3ApJiYodGhpcy5wb3NpdGlvbi50b3A9bi50b3ApO3RoaXMuX2lzTnVtYmVyKG4uaGVpZ2h0KSYmKHRoaXMuc2l6ZS5oZWlnaHQ9bi5oZWlnaHQpO3RoaXMuX2lzTnVtYmVyKG4ud2lkdGgpJiYodGhpcy5zaXplLndpZHRoPW4ud2lkdGgpfSxfdXBkYXRlUmF0aW86ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5wb3NpdGlvbixpPXRoaXMuc2l6ZSxyPXRoaXMuYXhpcztyZXR1cm4gdGhpcy5faXNOdW1iZXIobi5oZWlnaHQpP24ud2lkdGg9bi5oZWlnaHQqdGhpcy5hc3BlY3RSYXRpbzp0aGlzLl9pc051bWJlcihuLndpZHRoKSYmKG4uaGVpZ2h0PW4ud2lkdGgvdGhpcy5hc3BlY3RSYXRpbyksInN3Ij09PXImJihuLmxlZnQ9dC5sZWZ0KyhpLndpZHRoLW4ud2lkdGgpLG4udG9wPW51bGwpLCJudyI9PT1yJiYobi50b3A9dC50b3ArKGkuaGVpZ2h0LW4uaGVpZ2h0KSxuLmxlZnQ9dC5sZWZ0KyhpLndpZHRoLW4ud2lkdGgpKSxufSxfcmVzcGVjdFNpemU6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fdkJvdW5kYXJpZXMsaT10aGlzLmF4aXMscj10aGlzLl9pc051bWJlcihuLndpZHRoKSYmdC5tYXhXaWR0aCYmdC5tYXhXaWR0aDxuLndpZHRoLHU9dGhpcy5faXNOdW1iZXIobi5oZWlnaHQpJiZ0Lm1heEhlaWdodCYmdC5tYXhIZWlnaHQ8bi5oZWlnaHQsZj10aGlzLl9pc051bWJlcihuLndpZHRoKSYmdC5taW5XaWR0aCYmdC5taW5XaWR0aD5uLndpZHRoLGU9dGhpcy5faXNOdW1iZXIobi5oZWlnaHQpJiZ0Lm1pbkhlaWdodCYmdC5taW5IZWlnaHQ+bi5oZWlnaHQsbz10aGlzLm9yaWdpbmFsUG9zaXRpb24ubGVmdCt0aGlzLm9yaWdpbmFsU2l6ZS53aWR0aCxzPXRoaXMub3JpZ2luYWxQb3NpdGlvbi50b3ArdGhpcy5vcmlnaW5hbFNpemUuaGVpZ2h0LGg9L3N3fG53fHcvLnRlc3QoaSksYz0vbnd8bmV8bi8udGVzdChpKTtyZXR1cm4gZiYmKG4ud2lkdGg9dC5taW5XaWR0aCksZSYmKG4uaGVpZ2h0PXQubWluSGVpZ2h0KSxyJiYobi53aWR0aD10Lm1heFdpZHRoKSx1JiYobi5oZWlnaHQ9dC5tYXhIZWlnaHQpLGYmJmgmJihuLmxlZnQ9by10Lm1pbldpZHRoKSxyJiZoJiYobi5sZWZ0PW8tdC5tYXhXaWR0aCksZSYmYyYmKG4udG9wPXMtdC5taW5IZWlnaHQpLHUmJmMmJihuLnRvcD1zLXQubWF4SGVpZ2h0KSxuLndpZHRofHxuLmhlaWdodHx8bi5sZWZ0fHwhbi50b3A/bi53aWR0aHx8bi5oZWlnaHR8fG4udG9wfHwhbi5sZWZ0fHwobi5sZWZ0PW51bGwpOm4udG9wPW51bGwsbn0sX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9uczpmdW5jdGlvbihuKXtmb3IodmFyIHQ9MCxpPVtdLHI9W24uY3NzKCJib3JkZXJUb3BXaWR0aCIpLG4uY3NzKCJib3JkZXJSaWdodFdpZHRoIiksbi5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksbi5jc3MoImJvcmRlckxlZnRXaWR0aCIpXSx1PVtuLmNzcygicGFkZGluZ1RvcCIpLG4uY3NzKCJwYWRkaW5nUmlnaHQiKSxuLmNzcygicGFkZGluZ0JvdHRvbSIpLG4uY3NzKCJwYWRkaW5nTGVmdCIpXTs0PnQ7dCsrKWlbdF09cGFyc2VGbG9hdChyW3RdKXx8MCxpW3RdKz1wYXJzZUZsb2F0KHVbdF0pfHwwO3JldHVybntoZWlnaHQ6aVswXStpWzJdLHdpZHRoOmlbMV0raVszXX19LF9wcm9wb3J0aW9uYWxseVJlc2l6ZTpmdW5jdGlvbigpe2lmKHRoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoKWZvcih2YXIgbix0PTAsaT10aGlzLmhlbHBlcnx8dGhpcy5lbGVtZW50O3RoaXMuX3Byb3BvcnRpb25hbGx5UmVzaXplRWxlbWVudHMubGVuZ3RoPnQ7dCsrKW49dGhpcy5fcHJvcG9ydGlvbmFsbHlSZXNpemVFbGVtZW50c1t0XSx0aGlzLm91dGVyRGltZW5zaW9uc3x8KHRoaXMub3V0ZXJEaW1lbnNpb25zPXRoaXMuX2dldFBhZGRpbmdQbHVzQm9yZGVyRGltZW5zaW9ucyhuKSksbi5jc3Moe2hlaWdodDppLmhlaWdodCgpLXRoaXMub3V0ZXJEaW1lbnNpb25zLmhlaWdodHx8MCx3aWR0aDppLndpZHRoKCktdGhpcy5vdXRlckRpbWVuc2lvbnMud2lkdGh8fDB9KX0sX3JlbmRlclByb3h5OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5lbGVtZW50LGk9dGhpcy5vcHRpb25zO3RoaXMuZWxlbWVudE9mZnNldD10Lm9mZnNldCgpO3RoaXMuX2hlbHBlcj8odGhpcy5oZWxwZXI9dGhpcy5oZWxwZXJ8fG4oIjxkaXYgc3R5bGU9J292ZXJmbG93OmhpZGRlbjsnPjxcL2Rpdj4iKSx0aGlzLl9hZGRDbGFzcyh0aGlzLmhlbHBlcix0aGlzLl9oZWxwZXIpLHRoaXMuaGVscGVyLmNzcyh7d2lkdGg6dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCkscG9zaXRpb246ImFic29sdXRlIixsZWZ0OnRoaXMuZWxlbWVudE9mZnNldC5sZWZ0KyJweCIsdG9wOnRoaXMuZWxlbWVudE9mZnNldC50b3ArInB4Iix6SW5kZXg6KytpLnpJbmRleH0pLHRoaXMuaGVscGVyLmFwcGVuZFRvKCJib2R5IikuZGlzYWJsZVNlbGVjdGlvbigpKTp0aGlzLmhlbHBlcj10aGlzLmVsZW1lbnR9LF9jaGFuZ2U6e2U6ZnVuY3Rpb24obix0KXtyZXR1cm57d2lkdGg6dGhpcy5vcmlnaW5hbFNpemUud2lkdGgrdH19LHc6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLm9yaWdpbmFsU2l6ZSxyPXRoaXMub3JpZ2luYWxQb3NpdGlvbjtyZXR1cm57bGVmdDpyLmxlZnQrdCx3aWR0aDppLndpZHRoLXR9fSxuOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj10aGlzLm9yaWdpbmFsU2l6ZSx1PXRoaXMub3JpZ2luYWxQb3NpdGlvbjtyZXR1cm57dG9wOnUudG9wK2ksaGVpZ2h0OnIuaGVpZ2h0LWl9fSxzOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm57aGVpZ2h0OnRoaXMub3JpZ2luYWxTaXplLmhlaWdodCtpfX0sc2U6ZnVuY3Rpb24odCxpLHIpe3JldHVybiBuLmV4dGVuZCh0aGlzLl9jaGFuZ2Uucy5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLmUuYXBwbHkodGhpcyxbdCxpLHJdKSl9LHN3OmZ1bmN0aW9uKHQsaSxyKXtyZXR1cm4gbi5leHRlbmQodGhpcy5fY2hhbmdlLnMuYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuX2NoYW5nZS53LmFwcGx5KHRoaXMsW3QsaSxyXSkpfSxuZTpmdW5jdGlvbih0LGkscil7cmV0dXJuIG4uZXh0ZW5kKHRoaXMuX2NoYW5nZS5uLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLl9jaGFuZ2UuZS5hcHBseSh0aGlzLFt0LGkscl0pKX0sbnc6ZnVuY3Rpb24odCxpLHIpe3JldHVybiBuLmV4dGVuZCh0aGlzLl9jaGFuZ2Uubi5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fY2hhbmdlLncuYXBwbHkodGhpcyxbdCxpLHJdKSl9fSxfcHJvcGFnYXRlOmZ1bmN0aW9uKHQsaSl7bi51aS5wbHVnaW4uY2FsbCh0aGlzLHQsW2ksdGhpcy51aSgpXSk7InJlc2l6ZSIhPT10JiZ0aGlzLl90cmlnZ2VyKHQsaSx0aGlzLnVpKCkpfSxwbHVnaW5zOnt9LHVpOmZ1bmN0aW9uKCl7cmV0dXJue29yaWdpbmFsRWxlbWVudDp0aGlzLm9yaWdpbmFsRWxlbWVudCxlbGVtZW50OnRoaXMuZWxlbWVudCxoZWxwZXI6dGhpcy5oZWxwZXIscG9zaXRpb246dGhpcy5wb3NpdGlvbixzaXplOnRoaXMuc2l6ZSxvcmlnaW5hbFNpemU6dGhpcy5vcmlnaW5hbFNpemUsb3JpZ2luYWxQb3NpdGlvbjp0aGlzLm9yaWdpbmFsUG9zaXRpb259fX0pO24udWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiYW5pbWF0ZSIse3N0b3A6ZnVuY3Rpb24odCl7dmFyIGk9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksdT1pLm9wdGlvbnMscj1pLl9wcm9wb3J0aW9uYWxseVJlc2l6ZUVsZW1lbnRzLGY9ci5sZW5ndGgmJi90ZXh0YXJlYS9pLnRlc3QoclswXS5ub2RlTmFtZSkscz1mJiZpLl9oYXNTY3JvbGwoclswXSwibGVmdCIpPzA6aS5zaXplRGlmZi5oZWlnaHQsaD1mPzA6aS5zaXplRGlmZi53aWR0aCxjPXt3aWR0aDppLnNpemUud2lkdGgtaCxoZWlnaHQ6aS5zaXplLmhlaWdodC1zfSxlPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygibGVmdCIpKSsoaS5wb3NpdGlvbi5sZWZ0LWkub3JpZ2luYWxQb3NpdGlvbi5sZWZ0KXx8bnVsbCxvPXBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygidG9wIikpKyhpLnBvc2l0aW9uLnRvcC1pLm9yaWdpbmFsUG9zaXRpb24udG9wKXx8bnVsbDtpLmVsZW1lbnQuYW5pbWF0ZShuLmV4dGVuZChjLG8mJmU/e3RvcDpvLGxlZnQ6ZX06e30pLHtkdXJhdGlvbjp1LmFuaW1hdGVEdXJhdGlvbixlYXNpbmc6dS5hbmltYXRlRWFzaW5nLHN0ZXA6ZnVuY3Rpb24oKXt2YXIgdT17d2lkdGg6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJ3aWR0aCIpKSxoZWlnaHQ6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJoZWlnaHQiKSksdG9wOnBhcnNlRmxvYXQoaS5lbGVtZW50LmNzcygidG9wIikpLGxlZnQ6cGFyc2VGbG9hdChpLmVsZW1lbnQuY3NzKCJsZWZ0IikpfTtyJiZyLmxlbmd0aCYmbihyWzBdKS5jc3Moe3dpZHRoOnUud2lkdGgsaGVpZ2h0OnUuaGVpZ2h0fSk7aS5fdXBkYXRlQ2FjaGUodSk7aS5fcHJvcGFnYXRlKCJyZXNpemUiLHQpfX0pfX0pO24udWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiY29udGFpbm1lbnQiLHtzdGFydDpmdW5jdGlvbigpe3ZhciByLGYsZSxvLHMsaCxjLHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksbD10Lm9wdGlvbnMsYT10LmVsZW1lbnQsdT1sLmNvbnRhaW5tZW50LGk9dSBpbnN0YW5jZW9mIG4/dS5nZXQoMCk6L3BhcmVudC8udGVzdCh1KT9hLnBhcmVudCgpLmdldCgwKTp1O2kmJih0LmNvbnRhaW5lckVsZW1lbnQ9bihpKSwvZG9jdW1lbnQvLnRlc3QodSl8fHU9PT1kb2N1bWVudD8odC5jb250YWluZXJPZmZzZXQ9e2xlZnQ6MCx0b3A6MH0sdC5jb250YWluZXJQb3NpdGlvbj17bGVmdDowLHRvcDowfSx0LnBhcmVudERhdGE9e2VsZW1lbnQ6bihkb2N1bWVudCksbGVmdDowLHRvcDowLHdpZHRoOm4oZG9jdW1lbnQpLndpZHRoKCksaGVpZ2h0Om4oZG9jdW1lbnQpLmhlaWdodCgpfHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0fSk6KHI9bihpKSxmPVtdLG4oWyJUb3AiLCJSaWdodCIsIkxlZnQiLCJCb3R0b20iXSkuZWFjaChmdW5jdGlvbihuLGkpe2Zbbl09dC5fbnVtKHIuY3NzKCJwYWRkaW5nIitpKSl9KSx0LmNvbnRhaW5lck9mZnNldD1yLm9mZnNldCgpLHQuY29udGFpbmVyUG9zaXRpb249ci5wb3NpdGlvbigpLHQuY29udGFpbmVyU2l6ZT17aGVpZ2h0OnIuaW5uZXJIZWlnaHQoKS1mWzNdLHdpZHRoOnIuaW5uZXJXaWR0aCgpLWZbMV19LGU9dC5jb250YWluZXJPZmZzZXQsbz10LmNvbnRhaW5lclNpemUuaGVpZ2h0LHM9dC5jb250YWluZXJTaXplLndpZHRoLGg9dC5faGFzU2Nyb2xsKGksImxlZnQiKT9pLnNjcm9sbFdpZHRoOnMsYz10Ll9oYXNTY3JvbGwoaSk/aS5zY3JvbGxIZWlnaHQ6byx0LnBhcmVudERhdGE9e2VsZW1lbnQ6aSxsZWZ0OmUubGVmdCx0b3A6ZS50b3Asd2lkdGg6aCxoZWlnaHQ6Y30pKX0scmVzaXplOmZ1bmN0aW9uKHQpe3ZhciBvLHMsaCxjLGk9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksdj1pLm9wdGlvbnMscj1pLmNvbnRhaW5lck9mZnNldCxsPWkucG9zaXRpb24sZj1pLl9hc3BlY3RSYXRpb3x8dC5zaGlmdEtleSxlPXt0b3A6MCxsZWZ0OjB9LGE9aS5jb250YWluZXJFbGVtZW50LHU9ITA7YVswXSE9PWRvY3VtZW50JiYvc3RhdGljLy50ZXN0KGEuY3NzKCJwb3NpdGlvbiIpKSYmKGU9cik7bC5sZWZ0PChpLl9oZWxwZXI/ci5sZWZ0OjApJiYoaS5zaXplLndpZHRoPWkuc2l6ZS53aWR0aCsoaS5faGVscGVyP2kucG9zaXRpb24ubGVmdC1yLmxlZnQ6aS5wb3NpdGlvbi5sZWZ0LWUubGVmdCksZiYmKGkuc2l6ZS5oZWlnaHQ9aS5zaXplLndpZHRoL2kuYXNwZWN0UmF0aW8sdT0hMSksaS5wb3NpdGlvbi5sZWZ0PXYuaGVscGVyP3IubGVmdDowKTtsLnRvcDwoaS5faGVscGVyP3IudG9wOjApJiYoaS5zaXplLmhlaWdodD1pLnNpemUuaGVpZ2h0KyhpLl9oZWxwZXI/aS5wb3NpdGlvbi50b3Atci50b3A6aS5wb3NpdGlvbi50b3ApLGYmJihpLnNpemUud2lkdGg9aS5zaXplLmhlaWdodCppLmFzcGVjdFJhdGlvLHU9ITEpLGkucG9zaXRpb24udG9wPWkuX2hlbHBlcj9yLnRvcDowKTtoPWkuY29udGFpbmVyRWxlbWVudC5nZXQoMCk9PT1pLmVsZW1lbnQucGFyZW50KCkuZ2V0KDApO2M9L3JlbGF0aXZlfGFic29sdXRlLy50ZXN0KGkuY29udGFpbmVyRWxlbWVudC5jc3MoInBvc2l0aW9uIikpO2gmJmM/KGkub2Zmc2V0LmxlZnQ9aS5wYXJlbnREYXRhLmxlZnQraS5wb3NpdGlvbi5sZWZ0LGkub2Zmc2V0LnRvcD1pLnBhcmVudERhdGEudG9wK2kucG9zaXRpb24udG9wKTooaS5vZmZzZXQubGVmdD1pLmVsZW1lbnQub2Zmc2V0KCkubGVmdCxpLm9mZnNldC50b3A9aS5lbGVtZW50Lm9mZnNldCgpLnRvcCk7bz1NYXRoLmFicyhpLnNpemVEaWZmLndpZHRoKyhpLl9oZWxwZXI/aS5vZmZzZXQubGVmdC1lLmxlZnQ6aS5vZmZzZXQubGVmdC1yLmxlZnQpKTtzPU1hdGguYWJzKGkuc2l6ZURpZmYuaGVpZ2h0KyhpLl9oZWxwZXI/aS5vZmZzZXQudG9wLWUudG9wOmkub2Zmc2V0LnRvcC1yLnRvcCkpO28raS5zaXplLndpZHRoPj1pLnBhcmVudERhdGEud2lkdGgmJihpLnNpemUud2lkdGg9aS5wYXJlbnREYXRhLndpZHRoLW8sZiYmKGkuc2l6ZS5oZWlnaHQ9aS5zaXplLndpZHRoL2kuYXNwZWN0UmF0aW8sdT0hMSkpO3MraS5zaXplLmhlaWdodD49aS5wYXJlbnREYXRhLmhlaWdodCYmKGkuc2l6ZS5oZWlnaHQ9aS5wYXJlbnREYXRhLmhlaWdodC1zLGYmJihpLnNpemUud2lkdGg9aS5zaXplLmhlaWdodCppLmFzcGVjdFJhdGlvLHU9ITEpKTt1fHwoaS5wb3NpdGlvbi5sZWZ0PWkucHJldlBvc2l0aW9uLmxlZnQsaS5wb3NpdGlvbi50b3A9aS5wcmV2UG9zaXRpb24udG9wLGkuc2l6ZS53aWR0aD1pLnByZXZTaXplLndpZHRoLGkuc2l6ZS5oZWlnaHQ9aS5wcmV2U2l6ZS5oZWlnaHQpfSxzdG9wOmZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIikscj10Lm9wdGlvbnMsdT10LmNvbnRhaW5lck9mZnNldCxmPXQuY29udGFpbmVyUG9zaXRpb24sZT10LmNvbnRhaW5lckVsZW1lbnQsaT1uKHQuaGVscGVyKSxvPWkub2Zmc2V0KCkscz1pLm91dGVyV2lkdGgoKS10LnNpemVEaWZmLndpZHRoLGg9aS5vdXRlckhlaWdodCgpLXQuc2l6ZURpZmYuaGVpZ2h0O3QuX2hlbHBlciYmIXIuYW5pbWF0ZSYmL3JlbGF0aXZlLy50ZXN0KGUuY3NzKCJwb3NpdGlvbiIpKSYmbih0aGlzKS5jc3Moe2xlZnQ6by5sZWZ0LWYubGVmdC11LmxlZnQsd2lkdGg6cyxoZWlnaHQ6aH0pO3QuX2hlbHBlciYmIXIuYW5pbWF0ZSYmL3N0YXRpYy8udGVzdChlLmNzcygicG9zaXRpb24iKSkmJm4odGhpcykuY3NzKHtsZWZ0Om8ubGVmdC1mLmxlZnQtdS5sZWZ0LHdpZHRoOnMsaGVpZ2h0Omh9KX19KTtuLnVpLnBsdWdpbi5hZGQoInJlc2l6YWJsZSIsImFsc29SZXNpemUiLHtzdGFydDpmdW5jdGlvbigpe3ZhciB0PW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpLGk9dC5vcHRpb25zO24oaS5hbHNvUmVzaXplKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTt0LmRhdGEoInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplIix7d2lkdGg6cGFyc2VGbG9hdCh0LndpZHRoKCkpLGhlaWdodDpwYXJzZUZsb2F0KHQuaGVpZ2h0KCkpLGxlZnQ6cGFyc2VGbG9hdCh0LmNzcygibGVmdCIpKSx0b3A6cGFyc2VGbG9hdCh0LmNzcygidG9wIikpfSl9KX0scmVzaXplOmZ1bmN0aW9uKHQsaSl7dmFyIHI9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksZT1yLm9wdGlvbnMsdT1yLm9yaWdpbmFsU2l6ZSxmPXIub3JpZ2luYWxQb3NpdGlvbixvPXtoZWlnaHQ6ci5zaXplLmhlaWdodC11LmhlaWdodHx8MCx3aWR0aDpyLnNpemUud2lkdGgtdS53aWR0aHx8MCx0b3A6ci5wb3NpdGlvbi50b3AtZi50b3B8fDAsbGVmdDpyLnBvc2l0aW9uLmxlZnQtZi5sZWZ0fHwwfTtuKGUuYWxzb1Jlc2l6ZSkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksdT1uKHRoaXMpLmRhdGEoInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplIikscj17fSxmPXQucGFyZW50cyhpLm9yaWdpbmFsRWxlbWVudFswXSkubGVuZ3RoP1sid2lkdGgiLCJoZWlnaHQiXTpbIndpZHRoIiwiaGVpZ2h0IiwidG9wIiwibGVmdCJdO24uZWFjaChmLGZ1bmN0aW9uKG4sdCl7dmFyIGk9KHVbdF18fDApKyhvW3RdfHwwKTtpJiZpPj0wJiYoclt0XT1pfHxudWxsKX0pO3QuY3NzKHIpfSl9LHN0b3A6ZnVuY3Rpb24oKXtuKHRoaXMpLnJlbW92ZURhdGEoInVpLXJlc2l6YWJsZS1hbHNvcmVzaXplIil9fSk7bi51aS5wbHVnaW4uYWRkKCJyZXNpemFibGUiLCJnaG9zdCIse3N0YXJ0OmZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksaT10LnNpemU7dC5naG9zdD10Lm9yaWdpbmFsRWxlbWVudC5jbG9uZSgpO3QuZ2hvc3QuY3NzKHtvcGFjaXR5Oi4yNSxkaXNwbGF5OiJibG9jayIscG9zaXRpb246InJlbGF0aXZlIixoZWlnaHQ6aS5oZWlnaHQsd2lkdGg6aS53aWR0aCxtYXJnaW46MCxsZWZ0OjAsdG9wOjB9KTt0Ll9hZGRDbGFzcyh0Lmdob3N0LCJ1aS1yZXNpemFibGUtZ2hvc3QiKTtuLnVpQmFja0NvbXBhdCE9PSExJiYic3RyaW5nIj09dHlwZW9mIHQub3B0aW9ucy5naG9zdCYmdC5naG9zdC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuZ2hvc3QpO3QuZ2hvc3QuYXBwZW5kVG8odC5oZWxwZXIpfSxyZXNpemU6ZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLnJlc2l6YWJsZSgiaW5zdGFuY2UiKTt0Lmdob3N0JiZ0Lmdob3N0LmNzcyh7cG9zaXRpb246InJlbGF0aXZlIixoZWlnaHQ6dC5zaXplLmhlaWdodCx3aWR0aDp0LnNpemUud2lkdGh9KX0sc3RvcDpmdW5jdGlvbigpe3ZhciB0PW4odGhpcykucmVzaXphYmxlKCJpbnN0YW5jZSIpO3QuZ2hvc3QmJnQuaGVscGVyJiZ0LmhlbHBlci5nZXQoMCkucmVtb3ZlQ2hpbGQodC5naG9zdC5nZXQoMCkpfX0pO24udWkucGx1Z2luLmFkZCgicmVzaXphYmxlIiwiZ3JpZCIse3Jlc2l6ZTpmdW5jdGlvbigpe3ZhciBoLHQ9bih0aGlzKS5yZXNpemFibGUoImluc3RhbmNlIiksaT10Lm9wdGlvbnMseT10LnNpemUsbz10Lm9yaWdpbmFsU2l6ZSxzPXQub3JpZ2luYWxQb3NpdGlvbixjPXQuYXhpcyxsPSJudW1iZXIiPT10eXBlb2YgaS5ncmlkP1tpLmdyaWQsaS5ncmlkXTppLmdyaWQsZj1sWzBdfHwxLGU9bFsxXXx8MSxhPU1hdGgucm91bmQoKHkud2lkdGgtby53aWR0aCkvZikqZix2PU1hdGgucm91bmQoKHkuaGVpZ2h0LW8uaGVpZ2h0KS9lKSplLHI9by53aWR0aCthLHU9by5oZWlnaHQrdixwPWkubWF4V2lkdGgmJnI+aS5tYXhXaWR0aCx3PWkubWF4SGVpZ2h0JiZ1PmkubWF4SGVpZ2h0LGI9aS5taW5XaWR0aCYmaS5taW5XaWR0aD5yLGs9aS5taW5IZWlnaHQmJmkubWluSGVpZ2h0PnU7aS5ncmlkPWw7YiYmKHIrPWYpO2smJih1Kz1lKTtwJiYoci09Zik7dyYmKHUtPWUpOy9eKHNlfHN8ZSkkLy50ZXN0KGMpPyh0LnNpemUud2lkdGg9cix0LnNpemUuaGVpZ2h0PXUpOi9eKG5lKSQvLnRlc3QoYyk/KHQuc2l6ZS53aWR0aD1yLHQuc2l6ZS5oZWlnaHQ9dSx0LnBvc2l0aW9uLnRvcD1zLnRvcC12KTovXihzdykkLy50ZXN0KGMpPyh0LnNpemUud2lkdGg9cix0LnNpemUuaGVpZ2h0PXUsdC5wb3NpdGlvbi5sZWZ0PXMubGVmdC1hKTooKDA+PXUtZXx8MD49ci1mKSYmKGg9dC5fZ2V0UGFkZGluZ1BsdXNCb3JkZXJEaW1lbnNpb25zKHRoaXMpKSx1LWU+MD8odC5zaXplLmhlaWdodD11LHQucG9zaXRpb24udG9wPXMudG9wLXYpOih1PWUtaC5oZWlnaHQsdC5zaXplLmhlaWdodD11LHQucG9zaXRpb24udG9wPXMudG9wK28uaGVpZ2h0LXUpLHItZj4wPyh0LnNpemUud2lkdGg9cix0LnBvc2l0aW9uLmxlZnQ9cy5sZWZ0LWEpOihyPWYtaC53aWR0aCx0LnNpemUud2lkdGg9cix0LnBvc2l0aW9uLmxlZnQ9cy5sZWZ0K28ud2lkdGgtcikpfX0pO24udWkucmVzaXphYmxlO24ud2lkZ2V0KCJ1aS5kaWFsb2ciLHt2ZXJzaW9uOiIxLjEyLjEiLG9wdGlvbnM6e2FwcGVuZFRvOiJib2R5IixhdXRvT3BlbjohMCxidXR0b25zOltdLGNsYXNzZXM6eyJ1aS1kaWFsb2ciOiJ1aS1jb3JuZXItYWxsIiwidWktZGlhbG9nLXRpdGxlYmFyIjoidWktY29ybmVyLWFsbCJ9LGNsb3NlT25Fc2NhcGU6ITAsY2xvc2VUZXh0OiJDbG9zZSIsZHJhZ2dhYmxlOiEwLGhpZGU6bnVsbCxoZWlnaHQ6ImF1dG8iLG1heEhlaWdodDpudWxsLG1heFdpZHRoOm51bGwsbWluSGVpZ2h0OjE1MCxtaW5XaWR0aDoxNTAsbW9kYWw6ITEscG9zaXRpb246e215OiJjZW50ZXIiLGF0OiJjZW50ZXIiLCJvZiI6d2luZG93LGNvbGxpc2lvbjoiZml0Iix1c2luZzpmdW5jdGlvbih0KXt2YXIgaT1uKHRoaXMpLmNzcyh0KS5vZmZzZXQoKS50b3A7MD5pJiZuKHRoaXMpLmNzcygidG9wIix0LnRvcC1pKX19LHJlc2l6YWJsZTohMCxzaG93Om51bGwsdGl0bGU6bnVsbCx3aWR0aDozMDAsYmVmb3JlQ2xvc2U6bnVsbCxjbG9zZTpudWxsLGRyYWc6bnVsbCxkcmFnU3RhcnQ6bnVsbCxkcmFnU3RvcDpudWxsLGZvY3VzOm51bGwsb3BlbjpudWxsLHJlc2l6ZTpudWxsLHJlc2l6ZVN0YXJ0Om51bGwscmVzaXplU3RvcDpudWxsfSxzaXplUmVsYXRlZE9wdGlvbnM6e2J1dHRvbnM6ITAsaGVpZ2h0OiEwLG1heEhlaWdodDohMCxtYXhXaWR0aDohMCxtaW5IZWlnaHQ6ITAsbWluV2lkdGg6ITAsd2lkdGg6ITB9LHJlc2l6YWJsZVJlbGF0ZWRPcHRpb25zOnttYXhIZWlnaHQ6ITAsbWF4V2lkdGg6ITAsbWluSGVpZ2h0OiEwLG1pbldpZHRoOiEwfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcmlnaW5hbENzcz17ZGlzcGxheTp0aGlzLmVsZW1lbnRbMF0uc3R5bGUuZGlzcGxheSx3aWR0aDp0aGlzLmVsZW1lbnRbMF0uc3R5bGUud2lkdGgsbWluSGVpZ2h0OnRoaXMuZWxlbWVudFswXS5zdHlsZS5taW5IZWlnaHQsbWF4SGVpZ2h0OnRoaXMuZWxlbWVudFswXS5zdHlsZS5tYXhIZWlnaHQsaGVpZ2h0OnRoaXMuZWxlbWVudFswXS5zdHlsZS5oZWlnaHR9O3RoaXMub3JpZ2luYWxQb3NpdGlvbj17cGFyZW50OnRoaXMuZWxlbWVudC5wYXJlbnQoKSxpbmRleDp0aGlzLmVsZW1lbnQucGFyZW50KCkuY2hpbGRyZW4oKS5pbmRleCh0aGlzLmVsZW1lbnQpfTt0aGlzLm9yaWdpbmFsVGl0bGU9dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIik7bnVsbD09dGhpcy5vcHRpb25zLnRpdGxlJiZudWxsIT10aGlzLm9yaWdpbmFsVGl0bGUmJih0aGlzLm9wdGlvbnMudGl0bGU9dGhpcy5vcmlnaW5hbFRpdGxlKTt0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJih0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9ITEpO3RoaXMuX2NyZWF0ZVdyYXBwZXIoKTt0aGlzLmVsZW1lbnQuc2hvdygpLnJlbW92ZUF0dHIoInRpdGxlIikuYXBwZW5kVG8odGhpcy51aURpYWxvZyk7dGhpcy5fYWRkQ2xhc3MoInVpLWRpYWxvZy1jb250ZW50IiwidWktd2lkZ2V0LWNvbnRlbnQiKTt0aGlzLl9jcmVhdGVUaXRsZWJhcigpO3RoaXMuX2NyZWF0ZUJ1dHRvblBhbmUoKTt0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlJiZuLmZuLmRyYWdnYWJsZSYmdGhpcy5fbWFrZURyYWdnYWJsZSgpO3RoaXMub3B0aW9ucy5yZXNpemFibGUmJm4uZm4ucmVzaXphYmxlJiZ0aGlzLl9tYWtlUmVzaXphYmxlKCk7dGhpcy5faXNPcGVuPSExO3RoaXMuX3RyYWNrRm9jdXMoKX0sX2luaXQ6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuYXV0b09wZW4mJnRoaXMub3BlbigpfSxfYXBwZW5kVG86ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMuYXBwZW5kVG87cmV0dXJuIHQmJih0LmpxdWVyeXx8dC5ub2RlVHlwZSk/bih0KTp0aGlzLmRvY3VtZW50LmZpbmQodHx8ImJvZHkiKS5lcSgwKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgbix0PXRoaXMub3JpZ2luYWxQb3NpdGlvbjt0aGlzLl91bnRyYWNrSW5zdGFuY2UoKTt0aGlzLl9kZXN0cm95T3ZlcmxheSgpO3RoaXMuZWxlbWVudC5yZW1vdmVVbmlxdWVJZCgpLmNzcyh0aGlzLm9yaWdpbmFsQ3NzKS5kZXRhY2goKTt0aGlzLnVpRGlhbG9nLnJlbW92ZSgpO3RoaXMub3JpZ2luYWxUaXRsZSYmdGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIix0aGlzLm9yaWdpbmFsVGl0bGUpO249dC5wYXJlbnQuY2hpbGRyZW4oKS5lcSh0LmluZGV4KTtuLmxlbmd0aCYmblswXSE9PXRoaXMuZWxlbWVudFswXT9uLmJlZm9yZSh0aGlzLmVsZW1lbnQpOnQucGFyZW50LmFwcGVuZCh0aGlzLmVsZW1lbnQpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aURpYWxvZ30sZGlzYWJsZTpuLm5vb3AsZW5hYmxlOm4ubm9vcCxjbG9zZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzO3RoaXMuX2lzT3BlbiYmdGhpcy5fdHJpZ2dlcigiYmVmb3JlQ2xvc2UiLHQpIT09ITEmJih0aGlzLl9pc09wZW49ITEsdGhpcy5fZm9jdXNlZEVsZW1lbnQ9bnVsbCx0aGlzLl9kZXN0cm95T3ZlcmxheSgpLHRoaXMuX3VudHJhY2tJbnN0YW5jZSgpLHRoaXMub3BlbmVyLmZpbHRlcigiOmZvY3VzYWJsZSIpLnRyaWdnZXIoImZvY3VzIikubGVuZ3RofHxuLnVpLnNhZmVCbHVyKG4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkpLHRoaXMuX2hpZGUodGhpcy51aURpYWxvZyx0aGlzLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe2kuX3RyaWdnZXIoImNsb3NlIix0KX0pKX0saXNPcGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzT3Blbn0sbW92ZVRvVG9wOmZ1bmN0aW9uKCl7dGhpcy5fbW92ZVRvVG9wKCl9LF9tb3ZlVG9Ub3A6ZnVuY3Rpb24odCxpKXt2YXIgcj0hMSxmPXRoaXMudWlEaWFsb2cuc2libGluZ3MoIi51aS1mcm9udDp2aXNpYmxlIikubWFwKGZ1bmN0aW9uKCl7cmV0dXJuK24odGhpcykuY3NzKCJ6LWluZGV4Iil9KS5nZXQoKSx1PU1hdGgubWF4LmFwcGx5KG51bGwsZik7cmV0dXJuIHU+PSt0aGlzLnVpRGlhbG9nLmNzcygiei1pbmRleCIpJiYodGhpcy51aURpYWxvZy5jc3MoInotaW5kZXgiLHUrMSkscj0hMCksciYmIWkmJnRoaXMuX3RyaWdnZXIoImZvY3VzIix0KSxyfSxvcGVuOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5faXNPcGVuPyh0aGlzLl9tb3ZlVG9Ub3AoKSYmdGhpcy5fZm9jdXNUYWJiYWJsZSgpLHZvaWQgMCk6KHRoaXMuX2lzT3Blbj0hMCx0aGlzLm9wZW5lcj1uKG4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSkpLHRoaXMuX3NpemUoKSx0aGlzLl9wb3NpdGlvbigpLHRoaXMuX2NyZWF0ZU92ZXJsYXkoKSx0aGlzLl9tb3ZlVG9Ub3AobnVsbCwhMCksdGhpcy5vdmVybGF5JiZ0aGlzLm92ZXJsYXkuY3NzKCJ6LWluZGV4Iix0aGlzLnVpRGlhbG9nLmNzcygiei1pbmRleCIpLTEpLHRoaXMuX3Nob3codGhpcy51aURpYWxvZyx0aGlzLm9wdGlvbnMuc2hvdyxmdW5jdGlvbigpe3QuX2ZvY3VzVGFiYmFibGUoKTt0Ll90cmlnZ2VyKCJmb2N1cyIpfSksdGhpcy5fbWFrZUZvY3VzVGFyZ2V0KCksdGhpcy5fdHJpZ2dlcigib3BlbiIpLHZvaWQgMCl9LF9mb2N1c1RhYmJhYmxlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fZm9jdXNlZEVsZW1lbnQ7bnx8KG49dGhpcy5lbGVtZW50LmZpbmQoIlthdXRvZm9jdXNdIikpO24ubGVuZ3RofHwobj10aGlzLmVsZW1lbnQuZmluZCgiOnRhYmJhYmxlIikpO24ubGVuZ3RofHwobj10aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5maW5kKCI6dGFiYmFibGUiKSk7bi5sZW5ndGh8fChuPXRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLmZpbHRlcigiOnRhYmJhYmxlIikpO24ubGVuZ3RofHwobj10aGlzLnVpRGlhbG9nKTtuLmVxKDApLnRyaWdnZXIoImZvY3VzIil9LF9rZWVwRm9jdXM6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gaSgpe3ZhciB0PW4udWkuc2FmZUFjdGl2ZUVsZW1lbnQodGhpcy5kb2N1bWVudFswXSksaT10aGlzLnVpRGlhbG9nWzBdPT09dHx8bi5jb250YWlucyh0aGlzLnVpRGlhbG9nWzBdLHQpO2l8fHRoaXMuX2ZvY3VzVGFiYmFibGUoKX10LnByZXZlbnREZWZhdWx0KCk7aS5jYWxsKHRoaXMpO3RoaXMuX2RlbGF5KGkpfSxfY3JlYXRlV3JhcHBlcjpmdW5jdGlvbigpe3RoaXMudWlEaWFsb2c9bigiPGRpdj4iKS5oaWRlKCkuYXR0cih7dGFiSW5kZXg6LTEscm9sZToiZGlhbG9nIn0pLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpO3RoaXMuX2FkZENsYXNzKHRoaXMudWlEaWFsb2csInVpLWRpYWxvZyIsInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCB1aS1mcm9udCIpO3RoaXMuX29uKHRoaXMudWlEaWFsb2cse2tleWRvd246ZnVuY3Rpb24odCl7aWYodGhpcy5vcHRpb25zLmNsb3NlT25Fc2NhcGUmJiF0LmlzRGVmYXVsdFByZXZlbnRlZCgpJiZ0LmtleUNvZGUmJnQua2V5Q29kZT09PW4udWkua2V5Q29kZS5FU0NBUEUpcmV0dXJuIHQucHJldmVudERlZmF1bHQoKSx0aGlzLmNsb3NlKHQpLHZvaWQgMDtpZih0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuVEFCJiYhdC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIGk9dGhpcy51aURpYWxvZy5maW5kKCI6dGFiYmFibGUiKSxyPWkuZmlsdGVyKCI6Zmlyc3QiKSx1PWkuZmlsdGVyKCI6bGFzdCIpO3QudGFyZ2V0IT09dVswXSYmdC50YXJnZXQhPT10aGlzLnVpRGlhbG9nWzBdfHx0LnNoaWZ0S2V5P3QudGFyZ2V0IT09clswXSYmdC50YXJnZXQhPT10aGlzLnVpRGlhbG9nWzBdfHwhdC5zaGlmdEtleXx8KHRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dS50cmlnZ2VyKCJmb2N1cyIpfSksdC5wcmV2ZW50RGVmYXVsdCgpKToodGhpcy5fZGVsYXkoZnVuY3Rpb24oKXtyLnRyaWdnZXIoImZvY3VzIil9KSx0LnByZXZlbnREZWZhdWx0KCkpfX0sbW91c2Vkb3duOmZ1bmN0aW9uKG4pe3RoaXMuX21vdmVUb1RvcChuKSYmdGhpcy5fZm9jdXNUYWJiYWJsZSgpfX0pO3RoaXMuZWxlbWVudC5maW5kKCJbYXJpYS1kZXNjcmliZWRieV0iKS5sZW5ndGh8fHRoaXMudWlEaWFsb2cuYXR0cih7ImFyaWEtZGVzY3JpYmVkYnkiOnRoaXMuZWxlbWVudC51bmlxdWVJZCgpLmF0dHIoImlkIil9KX0sX2NyZWF0ZVRpdGxlYmFyOmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy51aURpYWxvZ1RpdGxlYmFyPW4oIjxkaXY+Iik7dGhpcy5fYWRkQ2xhc3ModGhpcy51aURpYWxvZ1RpdGxlYmFyLCJ1aS1kaWFsb2ctdGl0bGViYXIiLCJ1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeCIpO3RoaXMuX29uKHRoaXMudWlEaWFsb2dUaXRsZWJhcix7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe24odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1kaWFsb2ctdGl0bGViYXItY2xvc2UiKXx8dGhpcy51aURpYWxvZy50cmlnZ2VyKCJmb2N1cyIpfX0pO3RoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlPW4oIjxidXR0b24gdHlwZT0nYnV0dG9uJz48XC9idXR0b24+IikuYnV0dG9uKHtsYWJlbDpuKCI8YT4iKS50ZXh0KHRoaXMub3B0aW9ucy5jbG9zZVRleHQpLmh0bWwoKSxpY29uOiJ1aS1pY29uLWNsb3NldGhpY2siLHNob3dMYWJlbDohMX0pLmFwcGVuZFRvKHRoaXMudWlEaWFsb2dUaXRsZWJhcik7dGhpcy5fYWRkQ2xhc3ModGhpcy51aURpYWxvZ1RpdGxlYmFyQ2xvc2UsInVpLWRpYWxvZy10aXRsZWJhci1jbG9zZSIpO3RoaXMuX29uKHRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLHtjbGljazpmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCk7dGhpcy5jbG9zZShuKX19KTt0PW4oIjxzcGFuPiIpLnVuaXF1ZUlkKCkucHJlcGVuZFRvKHRoaXMudWlEaWFsb2dUaXRsZWJhcik7dGhpcy5fYWRkQ2xhc3ModCwidWktZGlhbG9nLXRpdGxlIik7dGhpcy5fdGl0bGUodCk7dGhpcy51aURpYWxvZ1RpdGxlYmFyLnByZXBlbmRUbyh0aGlzLnVpRGlhbG9nKTt0aGlzLnVpRGlhbG9nLmF0dHIoeyJhcmlhLWxhYmVsbGVkYnkiOnQuYXR0cigiaWQiKX0pfSxfdGl0bGU6ZnVuY3Rpb24obil7dGhpcy5vcHRpb25zLnRpdGxlP24udGV4dCh0aGlzLm9wdGlvbnMudGl0bGUpOm4uaHRtbCgiJiMxNjA7Iil9LF9jcmVhdGVCdXR0b25QYW5lOmZ1bmN0aW9uKCl7dGhpcy51aURpYWxvZ0J1dHRvblBhbmU9bigiPGRpdj4iKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZSwidWktZGlhbG9nLWJ1dHRvbnBhbmUiLCJ1aS13aWRnZXQtY29udGVudCB1aS1oZWxwZXItY2xlYXJmaXgiKTt0aGlzLnVpQnV0dG9uU2V0PW4oIjxkaXY+IikuYXBwZW5kVG8odGhpcy51aURpYWxvZ0J1dHRvblBhbmUpO3RoaXMuX2FkZENsYXNzKHRoaXMudWlCdXR0b25TZXQsInVpLWRpYWxvZy1idXR0b25zZXQiKTt0aGlzLl9jcmVhdGVCdXR0b25zKCl9LF9jcmVhdGVCdXR0b25zOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcyx0PXRoaXMub3B0aW9ucy5idXR0b25zO3JldHVybiB0aGlzLnVpRGlhbG9nQnV0dG9uUGFuZS5yZW1vdmUoKSx0aGlzLnVpQnV0dG9uU2V0LmVtcHR5KCksbi5pc0VtcHR5T2JqZWN0KHQpfHxuLmlzQXJyYXkodCkmJiF0Lmxlbmd0aD8odGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy51aURpYWxvZywidWktZGlhbG9nLWJ1dHRvbnMiKSx2b2lkIDApOihuLmVhY2godCxmdW5jdGlvbih0LHIpe3ZhciB1LGY7cj1uLmlzRnVuY3Rpb24ocik/e2NsaWNrOnIsdGV4dDp0fTpyO3I9bi5leHRlbmQoe3R5cGU6ImJ1dHRvbiJ9LHIpO3U9ci5jbGljaztmPXtpY29uOnIuaWNvbixpY29uUG9zaXRpb246ci5pY29uUG9zaXRpb24sc2hvd0xhYmVsOnIuc2hvd0xhYmVsLGljb25zOnIuaWNvbnMsdGV4dDpyLnRleHR9O2RlbGV0ZSByLmNsaWNrO2RlbGV0ZSByLmljb247ZGVsZXRlIHIuaWNvblBvc2l0aW9uO2RlbGV0ZSByLnNob3dMYWJlbDtkZWxldGUgci5pY29uczsiYm9vbGVhbiI9PXR5cGVvZiByLnRleHQmJmRlbGV0ZSByLnRleHQ7bigiPGJ1dHRvbj48XC9idXR0b24+IixyKS5idXR0b24oZikuYXBwZW5kVG8oaS51aUJ1dHRvblNldCkub24oImNsaWNrIixmdW5jdGlvbigpe3UuYXBwbHkoaS5lbGVtZW50WzBdLGFyZ3VtZW50cyl9KX0pLHRoaXMuX2FkZENsYXNzKHRoaXMudWlEaWFsb2csInVpLWRpYWxvZy1idXR0b25zIiksdGhpcy51aURpYWxvZ0J1dHRvblBhbmUuYXBwZW5kVG8odGhpcy51aURpYWxvZyksdm9pZCAwKX0sX21ha2VEcmFnZ2FibGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKG4pe3JldHVybntwb3NpdGlvbjpuLnBvc2l0aW9uLG9mZnNldDpuLm9mZnNldH19dmFyIHQ9dGhpcyxyPXRoaXMub3B0aW9uczt0aGlzLnVpRGlhbG9nLmRyYWdnYWJsZSh7Y2FuY2VsOiIudWktZGlhbG9nLWNvbnRlbnQsIC51aS1kaWFsb2ctdGl0bGViYXItY2xvc2UiLGhhbmRsZToiLnVpLWRpYWxvZy10aXRsZWJhciIsY29udGFpbm1lbnQ6ImRvY3VtZW50IixzdGFydDpmdW5jdGlvbihyLHUpe3QuX2FkZENsYXNzKG4odGhpcyksInVpLWRpYWxvZy1kcmFnZ2luZyIpO3QuX2Jsb2NrRnJhbWVzKCk7dC5fdHJpZ2dlcigiZHJhZ1N0YXJ0IixyLGkodSkpfSxkcmFnOmZ1bmN0aW9uKG4scil7dC5fdHJpZ2dlcigiZHJhZyIsbixpKHIpKX0sc3RvcDpmdW5jdGlvbih1LGYpe3ZhciBlPWYub2Zmc2V0LmxlZnQtdC5kb2N1bWVudC5zY3JvbGxMZWZ0KCksbz1mLm9mZnNldC50b3AtdC5kb2N1bWVudC5zY3JvbGxUb3AoKTtyLnBvc2l0aW9uPXtteToibGVmdCB0b3AiLGF0OiJsZWZ0IisoZT49MD8iKyI6IiIpK2UrIiB0b3AiKyhvPj0wPyIrIjoiIikrbywib2YiOnQud2luZG93fTt0Ll9yZW1vdmVDbGFzcyhuKHRoaXMpLCJ1aS1kaWFsb2ctZHJhZ2dpbmciKTt0Ll91bmJsb2NrRnJhbWVzKCk7dC5fdHJpZ2dlcigiZHJhZ1N0b3AiLHUsaShmKSl9fSl9LF9tYWtlUmVzaXphYmxlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihuKXtyZXR1cm57b3JpZ2luYWxQb3NpdGlvbjpuLm9yaWdpbmFsUG9zaXRpb24sb3JpZ2luYWxTaXplOm4ub3JpZ2luYWxTaXplLHBvc2l0aW9uOm4ucG9zaXRpb24sc2l6ZTpuLnNpemV9fXZhciB0PXRoaXMsaT10aGlzLm9wdGlvbnMsdT1pLnJlc2l6YWJsZSxmPXRoaXMudWlEaWFsb2cuY3NzKCJwb3NpdGlvbiIpLGU9InN0cmluZyI9PXR5cGVvZiB1P3U6Im4sZSxzLHcsc2Usc3csbmUsbnciO3RoaXMudWlEaWFsb2cucmVzaXphYmxlKHtjYW5jZWw6Ii51aS1kaWFsb2ctY29udGVudCIsY29udGFpbm1lbnQ6ImRvY3VtZW50IixhbHNvUmVzaXplOnRoaXMuZWxlbWVudCxtYXhXaWR0aDppLm1heFdpZHRoLG1heEhlaWdodDppLm1heEhlaWdodCxtaW5XaWR0aDppLm1pbldpZHRoLG1pbkhlaWdodDp0aGlzLl9taW5IZWlnaHQoKSxoYW5kbGVzOmUsc3RhcnQ6ZnVuY3Rpb24oaSx1KXt0Ll9hZGRDbGFzcyhuKHRoaXMpLCJ1aS1kaWFsb2ctcmVzaXppbmciKTt0Ll9ibG9ja0ZyYW1lcygpO3QuX3RyaWdnZXIoInJlc2l6ZVN0YXJ0IixpLHIodSkpfSxyZXNpemU6ZnVuY3Rpb24obixpKXt0Ll90cmlnZ2VyKCJyZXNpemUiLG4scihpKSl9LHN0b3A6ZnVuY3Rpb24odSxmKXt2YXIgZT10LnVpRGlhbG9nLm9mZnNldCgpLG89ZS5sZWZ0LXQuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpLHM9ZS50b3AtdC5kb2N1bWVudC5zY3JvbGxUb3AoKTtpLmhlaWdodD10LnVpRGlhbG9nLmhlaWdodCgpO2kud2lkdGg9dC51aURpYWxvZy53aWR0aCgpO2kucG9zaXRpb249e215OiJsZWZ0IHRvcCIsYXQ6ImxlZnQiKyhvPj0wPyIrIjoiIikrbysiIHRvcCIrKHM+PTA/IisiOiIiKStzLCJvZiI6dC53aW5kb3d9O3QuX3JlbW92ZUNsYXNzKG4odGhpcyksInVpLWRpYWxvZy1yZXNpemluZyIpO3QuX3VuYmxvY2tGcmFtZXMoKTt0Ll90cmlnZ2VyKCJyZXNpemVTdG9wIix1LHIoZikpfX0pLmNzcygicG9zaXRpb24iLGYpfSxfdHJhY2tGb2N1czpmdW5jdGlvbigpe3RoaXMuX29uKHRoaXMud2lkZ2V0KCkse2ZvY3VzaW46ZnVuY3Rpb24odCl7dGhpcy5fbWFrZUZvY3VzVGFyZ2V0KCk7dGhpcy5fZm9jdXNlZEVsZW1lbnQ9bih0LnRhcmdldCl9fSl9LF9tYWtlRm9jdXNUYXJnZXQ6ZnVuY3Rpb24oKXt0aGlzLl91bnRyYWNrSW5zdGFuY2UoKTt0aGlzLl90cmFja2luZ0luc3RhbmNlcygpLnVuc2hpZnQodGhpcyl9LF91bnRyYWNrSW5zdGFuY2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90cmFja2luZ0luc3RhbmNlcygpLGk9bi5pbkFycmF5KHRoaXMsdCk7LTEhPT1pJiZ0LnNwbGljZShpLDEpfSxfdHJhY2tpbmdJbnN0YW5jZXM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmRvY3VtZW50LmRhdGEoInVpLWRpYWxvZy1pbnN0YW5jZXMiKTtyZXR1cm4gbnx8KG49W10sdGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctaW5zdGFuY2VzIixuKSksbn0sX21pbkhlaWdodDpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3B0aW9ucztyZXR1cm4iYXV0byI9PT1uLmhlaWdodD9uLm1pbkhlaWdodDpNYXRoLm1pbihuLm1pbkhlaWdodCxuLmhlaWdodCl9LF9wb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMudWlEaWFsb2cuaXMoIjp2aXNpYmxlIik7bnx8dGhpcy51aURpYWxvZy5zaG93KCk7dGhpcy51aURpYWxvZy5wb3NpdGlvbih0aGlzLm9wdGlvbnMucG9zaXRpb24pO258fHRoaXMudWlEaWFsb2cuaGlkZSgpfSxfc2V0T3B0aW9uczpmdW5jdGlvbih0KXt2YXIgaT10aGlzLHI9ITEsdT17fTtuLmVhY2godCxmdW5jdGlvbihuLHQpe2kuX3NldE9wdGlvbihuLHQpO24gaW4gaS5zaXplUmVsYXRlZE9wdGlvbnMmJihyPSEwKTtuIGluIGkucmVzaXphYmxlUmVsYXRlZE9wdGlvbnMmJih1W25dPXQpfSk7ciYmKHRoaXMuX3NpemUoKSx0aGlzLl9wb3NpdGlvbigpKTt0aGlzLnVpRGlhbG9nLmlzKCI6ZGF0YSh1aS1yZXNpemFibGUpIikmJnRoaXMudWlEaWFsb2cucmVzaXphYmxlKCJvcHRpb24iLHUpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsaSl7dmFyIGYsdSxyPXRoaXMudWlEaWFsb2c7ImRpc2FibGVkIiE9PXQmJih0aGlzLl9zdXBlcih0LGkpLCJhcHBlbmRUbyI9PT10JiZ0aGlzLnVpRGlhbG9nLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpLCJidXR0b25zIj09PXQmJnRoaXMuX2NyZWF0ZUJ1dHRvbnMoKSwiY2xvc2VUZXh0Ij09PXQmJnRoaXMudWlEaWFsb2dUaXRsZWJhckNsb3NlLmJ1dHRvbih7bGFiZWw6bigiPGE+IikudGV4dCgiIit0aGlzLm9wdGlvbnMuY2xvc2VUZXh0KS5odG1sKCl9KSwiZHJhZ2dhYmxlIj09PXQmJihmPXIuaXMoIjpkYXRhKHVpLWRyYWdnYWJsZSkiKSxmJiYhaSYmci5kcmFnZ2FibGUoImRlc3Ryb3kiKSwhZiYmaSYmdGhpcy5fbWFrZURyYWdnYWJsZSgpKSwicG9zaXRpb24iPT09dCYmdGhpcy5fcG9zaXRpb24oKSwicmVzaXphYmxlIj09PXQmJih1PXIuaXMoIjpkYXRhKHVpLXJlc2l6YWJsZSkiKSx1JiYhaSYmci5yZXNpemFibGUoImRlc3Ryb3kiKSx1JiYic3RyaW5nIj09dHlwZW9mIGkmJnIucmVzaXphYmxlKCJvcHRpb24iLCJoYW5kbGVzIixpKSx1fHxpPT09ITF8fHRoaXMuX21ha2VSZXNpemFibGUoKSksInRpdGxlIj09PXQmJnRoaXMuX3RpdGxlKHRoaXMudWlEaWFsb2dUaXRsZWJhci5maW5kKCIudWktZGlhbG9nLXRpdGxlIikpKX0sX3NpemU6ZnVuY3Rpb24oKXt2YXIgdCxpLHIsbj10aGlzLm9wdGlvbnM7dGhpcy5lbGVtZW50LnNob3coKS5jc3Moe3dpZHRoOiJhdXRvIixtaW5IZWlnaHQ6MCxtYXhIZWlnaHQ6Im5vbmUiLGhlaWdodDowfSk7bi5taW5XaWR0aD5uLndpZHRoJiYobi53aWR0aD1uLm1pbldpZHRoKTt0PXRoaXMudWlEaWFsb2cuY3NzKHtoZWlnaHQ6ImF1dG8iLHdpZHRoOm4ud2lkdGh9KS5vdXRlckhlaWdodCgpO2k9TWF0aC5tYXgoMCxuLm1pbkhlaWdodC10KTtyPSJudW1iZXIiPT10eXBlb2Ygbi5tYXhIZWlnaHQ/TWF0aC5tYXgoMCxuLm1heEhlaWdodC10KToibm9uZSI7ImF1dG8iPT09bi5oZWlnaHQ/dGhpcy5lbGVtZW50LmNzcyh7bWluSGVpZ2h0OmksbWF4SGVpZ2h0OnIsaGVpZ2h0OiJhdXRvIn0pOnRoaXMuZWxlbWVudC5oZWlnaHQoTWF0aC5tYXgoMCxuLmhlaWdodC10KSk7dGhpcy51aURpYWxvZy5pcygiOmRhdGEodWktcmVzaXphYmxlKSIpJiZ0aGlzLnVpRGlhbG9nLnJlc2l6YWJsZSgib3B0aW9uIiwibWluSGVpZ2h0Iix0aGlzLl9taW5IZWlnaHQoKSl9LF9ibG9ja0ZyYW1lczpmdW5jdGlvbigpe3RoaXMuaWZyYW1lQmxvY2tzPXRoaXMuZG9jdW1lbnQuZmluZCgiaWZyYW1lIikubWFwKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtyZXR1cm4gbigiPGRpdj4iKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2lkdGg6dC5vdXRlcldpZHRoKCksaGVpZ2h0OnQub3V0ZXJIZWlnaHQoKX0pLmFwcGVuZFRvKHQucGFyZW50KCkpLm9mZnNldCh0Lm9mZnNldCgpKVswXX0pfSxfdW5ibG9ja0ZyYW1lczpmdW5jdGlvbigpe3RoaXMuaWZyYW1lQmxvY2tzJiYodGhpcy5pZnJhbWVCbG9ja3MucmVtb3ZlKCksZGVsZXRlIHRoaXMuaWZyYW1lQmxvY2tzKX0sX2FsbG93SW50ZXJhY3Rpb246ZnVuY3Rpb24odCl7cmV0dXJuIG4odC50YXJnZXQpLmNsb3Nlc3QoIi51aS1kaWFsb2ciKS5sZW5ndGg/ITA6ISFuKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktZGF0ZXBpY2tlciIpLmxlbmd0aH0sX2NyZWF0ZU92ZXJsYXk6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMubW9kYWwpe3ZhciB0PSEwO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dD0hMX0pO3RoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIil8fHRoaXMuX29uKHRoaXMuZG9jdW1lbnQse2ZvY3VzaW46ZnVuY3Rpb24obil7dHx8dGhpcy5fYWxsb3dJbnRlcmFjdGlvbihuKXx8KG4ucHJldmVudERlZmF1bHQoKSx0aGlzLl90cmFja2luZ0luc3RhbmNlcygpWzBdLl9mb2N1c1RhYmJhYmxlKCkpfX0pO3RoaXMub3ZlcmxheT1uKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpO3RoaXMuX2FkZENsYXNzKHRoaXMub3ZlcmxheSxudWxsLCJ1aS13aWRnZXQtb3ZlcmxheSB1aS1mcm9udCIpO3RoaXMuX29uKHRoaXMub3ZlcmxheSx7bW91c2Vkb3duOiJfa2VlcEZvY3VzIn0pO3RoaXMuZG9jdW1lbnQuZGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIiwodGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiKXx8MCkrMSl9fSxfZGVzdHJveU92ZXJsYXk6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMubW9kYWwmJnRoaXMub3ZlcmxheSl7dmFyIG49dGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiKS0xO24/dGhpcy5kb2N1bWVudC5kYXRhKCJ1aS1kaWFsb2ctb3ZlcmxheXMiLG4pOih0aGlzLl9vZmYodGhpcy5kb2N1bWVudCwiZm9jdXNpbiIpLHRoaXMuZG9jdW1lbnQucmVtb3ZlRGF0YSgidWktZGlhbG9nLW92ZXJsYXlzIikpO3RoaXMub3ZlcmxheS5yZW1vdmUoKTt0aGlzLm92ZXJsYXk9bnVsbH19fSk7bi51aUJhY2tDb21wYXQhPT0hMSYmbi53aWRnZXQoInVpLmRpYWxvZyIsbi51aS5kaWFsb2cse29wdGlvbnM6e2RpYWxvZ0NsYXNzOiIifSxfY3JlYXRlV3JhcHBlcjpmdW5jdGlvbigpe3RoaXMuX3N1cGVyKCk7dGhpcy51aURpYWxvZy5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuZGlhbG9nQ2xhc3MpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7ImRpYWxvZ0NsYXNzIj09PW4mJnRoaXMudWlEaWFsb2cucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmRpYWxvZ0NsYXNzKS5hZGRDbGFzcyh0KTt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyl9fSk7bi51aS5kaWFsb2c7bi53aWRnZXQoInVpLmRyb3BwYWJsZSIse3ZlcnNpb246IjEuMTIuMSIsd2lkZ2V0RXZlbnRQcmVmaXg6ImRyb3AiLG9wdGlvbnM6e2FjY2VwdDoiKiIsYWRkQ2xhc3NlczohMCxncmVlZHk6ITEsc2NvcGU6ImRlZmF1bHQiLHRvbGVyYW5jZToiaW50ZXJzZWN0IixhY3RpdmF0ZTpudWxsLGRlYWN0aXZhdGU6bnVsbCxkcm9wOm51bGwsb3V0Om51bGwsb3ZlcjpudWxsfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIHQsaT10aGlzLm9wdGlvbnMscj1pLmFjY2VwdDt0aGlzLmlzb3Zlcj0hMTt0aGlzLmlzb3V0PSEwO3RoaXMuYWNjZXB0PW4uaXNGdW5jdGlvbihyKT9yOmZ1bmN0aW9uKG4pe3JldHVybiBuLmlzKHIpfTt0aGlzLnByb3BvcnRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9YXJndW1lbnRzWzBdLHZvaWQgMCk6dD90OnQ9e3dpZHRoOnRoaXMuZWxlbWVudFswXS5vZmZzZXRXaWR0aCxoZWlnaHQ6dGhpcy5lbGVtZW50WzBdLm9mZnNldEhlaWdodH19O3RoaXMuX2FkZFRvTWFuYWdlcihpLnNjb3BlKTtpLmFkZENsYXNzZXMmJnRoaXMuX2FkZENsYXNzKCJ1aS1kcm9wcGFibGUiKX0sX2FkZFRvTWFuYWdlcjpmdW5jdGlvbih0KXtuLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RdPW4udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdF18fFtdO24udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdF0ucHVzaCh0aGlzKX0sX3NwbGljZTpmdW5jdGlvbihuKXtmb3IodmFyIHQ9MDtuLmxlbmd0aD50O3QrKyluW3RdPT09dGhpcyYmbi5zcGxpY2UodCwxKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD1uLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RoaXMub3B0aW9ucy5zY29wZV07dGhpcy5fc3BsaWNlKHQpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKHQsaSl7aWYoImFjY2VwdCI9PT10KXRoaXMuYWNjZXB0PW4uaXNGdW5jdGlvbihpKT9pOmZ1bmN0aW9uKG4pe3JldHVybiBuLmlzKGkpfTtlbHNlIGlmKCJzY29wZSI9PT10KXt2YXIgcj1uLnVpLmRkbWFuYWdlci5kcm9wcGFibGVzW3RoaXMub3B0aW9ucy5zY29wZV07dGhpcy5fc3BsaWNlKHIpO3RoaXMuX2FkZFRvTWFuYWdlcihpKX10aGlzLl9zdXBlcih0LGkpfSxfYWN0aXZhdGU6ZnVuY3Rpb24odCl7dmFyIGk9bi51aS5kZG1hbmFnZXIuY3VycmVudDt0aGlzLl9hZGRBY3RpdmVDbGFzcygpO2kmJnRoaXMuX3RyaWdnZXIoImFjdGl2YXRlIix0LHRoaXMudWkoaSkpfSxfZGVhY3RpdmF0ZTpmdW5jdGlvbih0KXt2YXIgaT1uLnVpLmRkbWFuYWdlci5jdXJyZW50O3RoaXMuX3JlbW92ZUFjdGl2ZUNsYXNzKCk7aSYmdGhpcy5fdHJpZ2dlcigiZGVhY3RpdmF0ZSIsdCx0aGlzLnVpKGkpKX0sX292ZXI6ZnVuY3Rpb24odCl7dmFyIGk9bi51aS5kZG1hbmFnZXIuY3VycmVudDtpJiYoaS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KVswXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0saS5jdXJyZW50SXRlbXx8aS5lbGVtZW50KSYmKHRoaXMuX2FkZEhvdmVyQ2xhc3MoKSx0aGlzLl90cmlnZ2VyKCJvdmVyIix0LHRoaXMudWkoaSkpKX0sX291dDpmdW5jdGlvbih0KXt2YXIgaT1uLnVpLmRkbWFuYWdlci5jdXJyZW50O2kmJihpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpWzBdIT09dGhpcy5lbGVtZW50WzBdJiZ0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxpLmN1cnJlbnRJdGVtfHxpLmVsZW1lbnQpJiYodGhpcy5fcmVtb3ZlSG92ZXJDbGFzcygpLHRoaXMuX3RyaWdnZXIoIm91dCIsdCx0aGlzLnVpKGkpKSl9LF9kcm9wOmZ1bmN0aW9uKHQsaSl7dmFyIHI9aXx8bi51aS5kZG1hbmFnZXIuY3VycmVudCx1PSExO3JldHVybiByJiYoci5jdXJyZW50SXRlbXx8ci5lbGVtZW50KVswXSE9PXRoaXMuZWxlbWVudFswXT8odGhpcy5lbGVtZW50LmZpbmQoIjpkYXRhKHVpLWRyb3BwYWJsZSkiKS5ub3QoIi51aS1kcmFnZ2FibGUtZHJhZ2dpbmciKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKS5kcm9wcGFibGUoImluc3RhbmNlIik7aWYoaS5vcHRpb25zLmdyZWVkeSYmIWkub3B0aW9ucy5kaXNhYmxlZCYmaS5vcHRpb25zLnNjb3BlPT09ci5vcHRpb25zLnNjb3BlJiZpLmFjY2VwdC5jYWxsKGkuZWxlbWVudFswXSxyLmN1cnJlbnRJdGVtfHxyLmVsZW1lbnQpJiZlKHIsbi5leHRlbmQoaSx7b2Zmc2V0OmkuZWxlbWVudC5vZmZzZXQoKX0pLGkub3B0aW9ucy50b2xlcmFuY2UsdCkpcmV0dXJuKHU9ITAsITEpfSksdT8hMTp0aGlzLmFjY2VwdC5jYWxsKHRoaXMuZWxlbWVudFswXSxyLmN1cnJlbnRJdGVtfHxyLmVsZW1lbnQpPyh0aGlzLl9yZW1vdmVBY3RpdmVDbGFzcygpLHRoaXMuX3JlbW92ZUhvdmVyQ2xhc3MoKSx0aGlzLl90cmlnZ2VyKCJkcm9wIix0LHRoaXMudWkocikpLHRoaXMuZWxlbWVudCk6ITEpOiExfSx1aTpmdW5jdGlvbihuKXtyZXR1cm57ZHJhZ2dhYmxlOm4uY3VycmVudEl0ZW18fG4uZWxlbWVudCxoZWxwZXI6bi5oZWxwZXIscG9zaXRpb246bi5wb3NpdGlvbixvZmZzZXQ6bi5wb3NpdGlvbkFic319LF9hZGRIb3ZlckNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fYWRkQ2xhc3MoInVpLWRyb3BwYWJsZS1ob3ZlciIpfSxfcmVtb3ZlSG92ZXJDbGFzczpmdW5jdGlvbigpe3RoaXMuX3JlbW92ZUNsYXNzKCJ1aS1kcm9wcGFibGUtaG92ZXIiKX0sX2FkZEFjdGl2ZUNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fYWRkQ2xhc3MoInVpLWRyb3BwYWJsZS1hY3RpdmUiKX0sX3JlbW92ZUFjdGl2ZUNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlQ2xhc3MoInVpLWRyb3BwYWJsZS1hY3RpdmUiKX19KTtlPW4udWkuaW50ZXJzZWN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHQsaSl7cmV0dXJuIG4+PXQmJnQraT5ufXJldHVybiBmdW5jdGlvbih0LGkscix1KXtpZighaS5vZmZzZXQpcmV0dXJuITE7dmFyIG89KHQucG9zaXRpb25BYnN8fHQucG9zaXRpb24uYWJzb2x1dGUpLmxlZnQrdC5tYXJnaW5zLmxlZnQscz0odC5wb3NpdGlvbkFic3x8dC5wb3NpdGlvbi5hYnNvbHV0ZSkudG9wK3QubWFyZ2lucy50b3AsaD1vK3QuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgsYz1zK3QuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LGY9aS5vZmZzZXQubGVmdCxlPWkub2Zmc2V0LnRvcCxsPWYraS5wcm9wb3J0aW9ucygpLndpZHRoLGE9ZStpLnByb3BvcnRpb25zKCkuaGVpZ2h0O3N3aXRjaChyKXtjYXNlImZpdCI6cmV0dXJuIG8+PWYmJmw+PWgmJnM+PWUmJmE+PWM7Y2FzZSJpbnRlcnNlY3QiOnJldHVybiBvK3QuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgvMj5mJiZsPmgtdC5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yJiZzK3QuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzI+ZSYmYT5jLXQuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LzI7Y2FzZSJwb2ludGVyIjpyZXR1cm4gbih1LnBhZ2VZLGUsaS5wcm9wb3J0aW9ucygpLmhlaWdodCkmJm4odS5wYWdlWCxmLGkucHJvcG9ydGlvbnMoKS53aWR0aCk7Y2FzZSJ0b3VjaCI6cmV0dXJuKHM+PWUmJmE+PXN8fGM+PWUmJmE+PWN8fGU+cyYmYz5hKSYmKG8+PWYmJmw+PW98fGg+PWYmJmw+PWh8fGY+byYmaD5sKTtkZWZhdWx0OnJldHVybiExfX19KCk7bi51aS5kZG1hbmFnZXI9e2N1cnJlbnQ6bnVsbCxkcm9wcGFibGVzOnsiZGVmYXVsdCI6W119LHByZXBhcmVPZmZzZXRzOmZ1bmN0aW9uKHQsaSl7dmFyIHIsZix1PW4udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdC5vcHRpb25zLnNjb3BlXXx8W10sbz1pP2kudHlwZTpudWxsLGU9KHQuY3VycmVudEl0ZW18fHQuZWxlbWVudCkuZmluZCgiOmRhdGEodWktZHJvcHBhYmxlKSIpLmFkZEJhY2soKTtuOmZvcihyPTA7dS5sZW5ndGg+cjtyKyspaWYoISh1W3JdLm9wdGlvbnMuZGlzYWJsZWR8fHQmJiF1W3JdLmFjY2VwdC5jYWxsKHVbcl0uZWxlbWVudFswXSx0LmN1cnJlbnRJdGVtfHx0LmVsZW1lbnQpKSl7Zm9yKGY9MDtlLmxlbmd0aD5mO2YrKylpZihlW2ZdPT09dVtyXS5lbGVtZW50WzBdKXt1W3JdLnByb3BvcnRpb25zKCkuaGVpZ2h0PTA7Y29udGludWUgbn11W3JdLnZpc2libGU9Im5vbmUiIT09dVtyXS5lbGVtZW50LmNzcygiZGlzcGxheSIpO3Vbcl0udmlzaWJsZSYmKCJtb3VzZWRvd24iPT09byYmdVtyXS5fYWN0aXZhdGUuY2FsbCh1W3JdLGkpLHVbcl0ub2Zmc2V0PXVbcl0uZWxlbWVudC5vZmZzZXQoKSx1W3JdLnByb3BvcnRpb25zKHt3aWR0aDp1W3JdLmVsZW1lbnRbMF0ub2Zmc2V0V2lkdGgsaGVpZ2h0OnVbcl0uZWxlbWVudFswXS5vZmZzZXRIZWlnaHR9KSl9fSxkcm9wOmZ1bmN0aW9uKHQsaSl7dmFyIHI9ITE7cmV0dXJuIG4uZWFjaCgobi51aS5kZG1hbmFnZXIuZHJvcHBhYmxlc1t0Lm9wdGlvbnMuc2NvcGVdfHxbXSkuc2xpY2UoKSxmdW5jdGlvbigpe3RoaXMub3B0aW9ucyYmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMudmlzaWJsZSYmZSh0LHRoaXMsdGhpcy5vcHRpb25zLnRvbGVyYW5jZSxpKSYmKHI9dGhpcy5fZHJvcC5jYWxsKHRoaXMsaSl8fHIpLCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMudmlzaWJsZSYmdGhpcy5hY2NlcHQuY2FsbCh0aGlzLmVsZW1lbnRbMF0sdC5jdXJyZW50SXRlbXx8dC5lbGVtZW50KSYmKHRoaXMuaXNvdXQ9ITAsdGhpcy5pc292ZXI9ITEsdGhpcy5fZGVhY3RpdmF0ZS5jYWxsKHRoaXMsaSkpKX0pLHJ9LGRyYWdTdGFydDpmdW5jdGlvbih0LGkpe3QuZWxlbWVudC5wYXJlbnRzVW50aWwoImJvZHkiKS5vbigic2Nyb2xsLmRyb3BwYWJsZSIsZnVuY3Rpb24oKXt0Lm9wdGlvbnMucmVmcmVzaFBvc2l0aW9uc3x8bi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModCxpKX0pfSxkcmFnOmZ1bmN0aW9uKHQsaSl7dC5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnMmJm4udWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHQsaSk7bi5lYWNoKG4udWkuZGRtYW5hZ2VyLmRyb3BwYWJsZXNbdC5vcHRpb25zLnNjb3BlXXx8W10sZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiYhdGhpcy5ncmVlZHlDaGlsZCYmdGhpcy52aXNpYmxlKXt2YXIgcixvLGYscz1lKHQsdGhpcyx0aGlzLm9wdGlvbnMudG9sZXJhbmNlLGkpLHU9IXMmJnRoaXMuaXNvdmVyPyJpc291dCI6cyYmIXRoaXMuaXNvdmVyPyJpc292ZXIiOm51bGw7dSYmKHRoaXMub3B0aW9ucy5ncmVlZHkmJihvPXRoaXMub3B0aW9ucy5zY29wZSxmPXRoaXMuZWxlbWVudC5wYXJlbnRzKCI6ZGF0YSh1aS1kcm9wcGFibGUpIikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcykuZHJvcHBhYmxlKCJpbnN0YW5jZSIpLm9wdGlvbnMuc2NvcGU9PT1vfSksZi5sZW5ndGgmJihyPW4oZlswXSkuZHJvcHBhYmxlKCJpbnN0YW5jZSIpLHIuZ3JlZWR5Q2hpbGQ9Imlzb3ZlciI9PT11KSksciYmImlzb3ZlciI9PT11JiYoci5pc292ZXI9ITEsci5pc291dD0hMCxyLl9vdXQuY2FsbChyLGkpKSx0aGlzW3VdPSEwLHRoaXNbImlzb3V0Ij09PXU/Imlzb3ZlciI6Imlzb3V0Il09ITEsdGhpc1siaXNvdmVyIj09PXU/Il9vdmVyIjoiX291dCJdLmNhbGwodGhpcyxpKSxyJiYiaXNvdXQiPT09dSYmKHIuaXNvdXQ9ITEsci5pc292ZXI9ITAsci5fb3Zlci5jYWxsKHIsaSkpKX19KX0sZHJhZ1N0b3A6ZnVuY3Rpb24odCxpKXt0LmVsZW1lbnQucGFyZW50c1VudGlsKCJib2R5Iikub2ZmKCJzY3JvbGwuZHJvcHBhYmxlIik7dC5vcHRpb25zLnJlZnJlc2hQb3NpdGlvbnN8fG4udWkuZGRtYW5hZ2VyLnByZXBhcmVPZmZzZXRzKHQsaSl9fTtuLnVpQmFja0NvbXBhdCE9PSExJiZuLndpZGdldCgidWkuZHJvcHBhYmxlIixuLnVpLmRyb3BwYWJsZSx7b3B0aW9uczp7aG92ZXJDbGFzczohMSxhY3RpdmVDbGFzczohMX0sX2FkZEFjdGl2ZUNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKTt0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MmJnRoaXMuZWxlbWVudC5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuYWN0aXZlQ2xhc3MpfSxfcmVtb3ZlQWN0aXZlQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpO3RoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyYmdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5hY3RpdmVDbGFzcyl9LF9hZGRIb3ZlckNsYXNzOmZ1bmN0aW9uKCl7dGhpcy5fc3VwZXIoKTt0aGlzLm9wdGlvbnMuaG92ZXJDbGFzcyYmdGhpcy5lbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5ob3ZlckNsYXNzKX0sX3JlbW92ZUhvdmVyQ2xhc3M6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlcigpO3RoaXMub3B0aW9ucy5ob3ZlckNsYXNzJiZ0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmhvdmVyQ2xhc3MpfX0pO24udWkuZHJvcHBhYmxlO24ud2lkZ2V0KCJ1aS5wcm9ncmVzc2JhciIse3ZlcnNpb246IjEuMTIuMSIsb3B0aW9uczp7Y2xhc3Nlczp7InVpLXByb2dyZXNzYmFyIjoidWktY29ybmVyLWFsbCIsInVpLXByb2dyZXNzYmFyLXZhbHVlIjoidWktY29ybmVyLWxlZnQiLCJ1aS1wcm9ncmVzc2Jhci1jb21wbGV0ZSI6InVpLWNvcm5lci1yaWdodCJ9LG1heDoxMDAsdmFsdWU6MCxjaGFuZ2U6bnVsbCxjb21wbGV0ZTpudWxsfSxtaW46MCxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5vbGRWYWx1ZT10aGlzLm9wdGlvbnMudmFsdWU9dGhpcy5fY29uc3RyYWluZWRWYWx1ZSgpO3RoaXMuZWxlbWVudC5hdHRyKHtyb2xlOiJwcm9ncmVzc2JhciIsImFyaWEtdmFsdWVtaW4iOnRoaXMubWlufSk7dGhpcy5fYWRkQ2xhc3MoInVpLXByb2dyZXNzYmFyIiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50Iik7dGhpcy52YWx1ZURpdj1uKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCk7dGhpcy5fYWRkQ2xhc3ModGhpcy52YWx1ZURpdiwidWktcHJvZ3Jlc3NiYXItdmFsdWUiLCJ1aS13aWRnZXQtaGVhZGVyIik7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoInJvbGUgYXJpYS12YWx1ZW1pbiBhcmlhLXZhbHVlbWF4IGFyaWEtdmFsdWVub3ciKTt0aGlzLnZhbHVlRGl2LnJlbW92ZSgpfSx2YWx1ZTpmdW5jdGlvbihuKXtyZXR1cm4gdm9pZCAwPT09bj90aGlzLm9wdGlvbnMudmFsdWU6KHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl9jb25zdHJhaW5lZFZhbHVlKG4pLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHZvaWQgMCl9LF9jb25zdHJhaW5lZFZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj10aGlzLm9wdGlvbnMudmFsdWUpLHRoaXMuaW5kZXRlcm1pbmF0ZT1uPT09ITEsIm51bWJlciIhPXR5cGVvZiBuJiYobj0wKSx0aGlzLmluZGV0ZXJtaW5hdGU/ITE6TWF0aC5taW4odGhpcy5vcHRpb25zLm1heCxNYXRoLm1heCh0aGlzLm1pbixuKSl9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PW4udmFsdWU7ZGVsZXRlIG4udmFsdWU7dGhpcy5fc3VwZXIobik7dGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX2NvbnN0cmFpbmVkVmFsdWUodCk7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24obix0KXsibWF4Ij09PW4mJih0PU1hdGgubWF4KHRoaXMubWluLHQpKTt0aGlzLl9zdXBlcihuLHQpfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5lbGVtZW50LmF0dHIoImFyaWEtZGlzYWJsZWQiLG4pO3RoaXMuX3RvZ2dsZUNsYXNzKG51bGwsInVpLXN0YXRlLWRpc2FibGVkIiwhIW4pfSxfcGVyY2VudGFnZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV0ZXJtaW5hdGU/MTAwOjEwMCoodGhpcy5vcHRpb25zLnZhbHVlLXRoaXMubWluKS8odGhpcy5vcHRpb25zLm1heC10aGlzLm1pbil9LF9yZWZyZXNoVmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMudmFsdWUsaT10aGlzLl9wZXJjZW50YWdlKCk7dGhpcy52YWx1ZURpdi50b2dnbGUodGhpcy5pbmRldGVybWluYXRlfHx0PnRoaXMubWluKS53aWR0aChpLnRvRml4ZWQoMCkrIiUiKTt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLnZhbHVlRGl2LCJ1aS1wcm9ncmVzc2Jhci1jb21wbGV0ZSIsbnVsbCx0PT09dGhpcy5vcHRpb25zLm1heCkuX3RvZ2dsZUNsYXNzKCJ1aS1wcm9ncmVzc2Jhci1pbmRldGVybWluYXRlIixudWxsLHRoaXMuaW5kZXRlcm1pbmF0ZSk7dGhpcy5pbmRldGVybWluYXRlPyh0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cigiYXJpYS12YWx1ZW5vdyIpLHRoaXMub3ZlcmxheURpdnx8KHRoaXMub3ZlcmxheURpdj1uKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMudmFsdWVEaXYpLHRoaXMuX2FkZENsYXNzKHRoaXMub3ZlcmxheURpdiwidWktcHJvZ3Jlc3NiYXItb3ZlcmxheSIpKSk6KHRoaXMuZWxlbWVudC5hdHRyKHsiYXJpYS12YWx1ZW1heCI6dGhpcy5vcHRpb25zLm1heCwiYXJpYS12YWx1ZW5vdyI6dH0pLHRoaXMub3ZlcmxheURpdiYmKHRoaXMub3ZlcmxheURpdi5yZW1vdmUoKSx0aGlzLm92ZXJsYXlEaXY9bnVsbCkpO3RoaXMub2xkVmFsdWUhPT10JiYodGhpcy5vbGRWYWx1ZT10LHRoaXMuX3RyaWdnZXIoImNoYW5nZSIpKTt0PT09dGhpcy5vcHRpb25zLm1heCYmdGhpcy5fdHJpZ2dlcigiY29tcGxldGUiKX19KTtuLndpZGdldCgidWkuc2VsZWN0YWJsZSIsbi51aS5tb3VzZSx7dmVyc2lvbjoiMS4xMi4xIixvcHRpb25zOnthcHBlbmRUbzoiYm9keSIsYXV0b1JlZnJlc2g6ITAsZGlzdGFuY2U6MCxmaWx0ZXI6IioiLHRvbGVyYW5jZToidG91Y2giLHNlbGVjdGVkOm51bGwsc2VsZWN0aW5nOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGwsdW5zZWxlY3RlZDpudWxsLHVuc2VsZWN0aW5nOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuX2FkZENsYXNzKCJ1aS1zZWxlY3RhYmxlIik7dGhpcy5kcmFnZ2VkPSExO3RoaXMucmVmcmVzaD1mdW5jdGlvbigpe3QuZWxlbWVudFBvcz1uKHQuZWxlbWVudFswXSkub2Zmc2V0KCk7dC5zZWxlY3RlZXM9bih0Lm9wdGlvbnMuZmlsdGVyLHQuZWxlbWVudFswXSk7dC5fYWRkQ2xhc3ModC5zZWxlY3RlZXMsInVpLXNlbGVjdGVlIik7dC5zZWxlY3RlZXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcyksdT1pLm9mZnNldCgpLHI9e2xlZnQ6dS5sZWZ0LXQuZWxlbWVudFBvcy5sZWZ0LHRvcDp1LnRvcC10LmVsZW1lbnRQb3MudG9wfTtuLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIix7ZWxlbWVudDp0aGlzLCRlbGVtZW50OmksbGVmdDpyLmxlZnQsdG9wOnIudG9wLHJpZ2h0OnIubGVmdCtpLm91dGVyV2lkdGgoKSxib3R0b206ci50b3AraS5vdXRlckhlaWdodCgpLHN0YXJ0c2VsZWN0ZWQ6ITEsc2VsZWN0ZWQ6aS5oYXNDbGFzcygidWktc2VsZWN0ZWQiKSxzZWxlY3Rpbmc6aS5oYXNDbGFzcygidWktc2VsZWN0aW5nIiksdW5zZWxlY3Rpbmc6aS5oYXNDbGFzcygidWktdW5zZWxlY3RpbmciKX0pfSl9O3RoaXMucmVmcmVzaCgpO3RoaXMuX21vdXNlSW5pdCgpO3RoaXMuaGVscGVyPW4oIjxkaXY+Iik7dGhpcy5fYWRkQ2xhc3ModGhpcy5oZWxwZXIsInVpLXNlbGVjdGFibGUtaGVscGVyIil9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZXMucmVtb3ZlRGF0YSgic2VsZWN0YWJsZS1pdGVtIik7dGhpcy5fbW91c2VEZXN0cm95KCl9LF9tb3VzZVN0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMscj10aGlzLm9wdGlvbnM7dGhpcy5vcG9zPVt0LnBhZ2VYLHQucGFnZVldO3RoaXMuZWxlbWVudFBvcz1uKHRoaXMuZWxlbWVudFswXSkub2Zmc2V0KCk7dGhpcy5vcHRpb25zLmRpc2FibGVkfHwodGhpcy5zZWxlY3RlZXM9bihyLmZpbHRlcix0aGlzLmVsZW1lbnRbMF0pLHRoaXMuX3RyaWdnZXIoInN0YXJ0Iix0KSxuKHIuYXBwZW5kVG8pLmFwcGVuZCh0aGlzLmhlbHBlciksdGhpcy5oZWxwZXIuY3NzKHtsZWZ0OnQucGFnZVgsdG9wOnQucGFnZVksd2lkdGg6MCxoZWlnaHQ6MH0pLHIuYXV0b1JlZnJlc2gmJnRoaXMucmVmcmVzaCgpLHRoaXMuc2VsZWN0ZWVzLmZpbHRlcigiLnVpLXNlbGVjdGVkIikuZWFjaChmdW5jdGlvbigpe3ZhciByPW4uZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTtyLnN0YXJ0c2VsZWN0ZWQ9ITA7dC5tZXRhS2V5fHx0LmN0cmxLZXl8fChpLl9yZW1vdmVDbGFzcyhyLiRlbGVtZW50LCJ1aS1zZWxlY3RlZCIpLHIuc2VsZWN0ZWQ9ITEsaS5fYWRkQ2xhc3Moci4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKSxyLnVuc2VsZWN0aW5nPSEwLGkuX3RyaWdnZXIoInVuc2VsZWN0aW5nIix0LHt1bnNlbGVjdGluZzpyLmVsZW1lbnR9KSl9KSxuKHQudGFyZ2V0KS5wYXJlbnRzKCkuYWRkQmFjaygpLmVhY2goZnVuY3Rpb24oKXt2YXIgdSxyPW4uZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKTtpZihyKXJldHVybih1PSF0Lm1ldGFLZXkmJiF0LmN0cmxLZXl8fCFyLiRlbGVtZW50Lmhhc0NsYXNzKCJ1aS1zZWxlY3RlZCIpLGkuX3JlbW92ZUNsYXNzKHIuJGVsZW1lbnQsdT8idWktdW5zZWxlY3RpbmciOiJ1aS1zZWxlY3RlZCIpLl9hZGRDbGFzcyhyLiRlbGVtZW50LHU/InVpLXNlbGVjdGluZyI6InVpLXVuc2VsZWN0aW5nIiksci51bnNlbGVjdGluZz0hdSxyLnNlbGVjdGluZz11LHIuc2VsZWN0ZWQ9dSx1P2kuX3RyaWdnZXIoInNlbGVjdGluZyIsdCx7c2VsZWN0aW5nOnIuZWxlbWVudH0pOmkuX3RyaWdnZXIoInVuc2VsZWN0aW5nIix0LHt1bnNlbGVjdGluZzpyLmVsZW1lbnR9KSwhMSl9KSl9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7aWYodGhpcy5kcmFnZ2VkPSEwLCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpe3ZhciBvLGk9dGhpcyxzPXRoaXMub3B0aW9ucyxyPXRoaXMub3Bvc1swXSx1PXRoaXMub3Bvc1sxXSxmPXQucGFnZVgsZT10LnBhZ2VZO3JldHVybiByPmYmJihvPWYsZj1yLHI9byksdT5lJiYobz1lLGU9dSx1PW8pLHRoaXMuaGVscGVyLmNzcyh7bGVmdDpyLHRvcDp1LHdpZHRoOmYtcixoZWlnaHQ6ZS11fSksdGhpcy5zZWxlY3RlZXMuZWFjaChmdW5jdGlvbigpe3ZhciBvPW4uZGF0YSh0aGlzLCJzZWxlY3RhYmxlLWl0ZW0iKSxjPSExLGg9e307byYmby5lbGVtZW50IT09aS5lbGVtZW50WzBdJiYoaC5sZWZ0PW8ubGVmdCtpLmVsZW1lbnRQb3MubGVmdCxoLnJpZ2h0PW8ucmlnaHQraS5lbGVtZW50UG9zLmxlZnQsaC50b3A9by50b3AraS5lbGVtZW50UG9zLnRvcCxoLmJvdHRvbT1vLmJvdHRvbStpLmVsZW1lbnRQb3MudG9wLCJ0b3VjaCI9PT1zLnRvbGVyYW5jZT9jPSEoaC5sZWZ0PmZ8fHI+aC5yaWdodHx8aC50b3A+ZXx8dT5oLmJvdHRvbSk6ImZpdCI9PT1zLnRvbGVyYW5jZSYmKGM9aC5sZWZ0PnImJmY+aC5yaWdodCYmaC50b3A+dSYmZT5oLmJvdHRvbSksYz8oby5zZWxlY3RlZCYmKGkuX3JlbW92ZUNsYXNzKG8uJGVsZW1lbnQsInVpLXNlbGVjdGVkIiksby5zZWxlY3RlZD0hMSksby51bnNlbGVjdGluZyYmKGkuX3JlbW92ZUNsYXNzKG8uJGVsZW1lbnQsInVpLXVuc2VsZWN0aW5nIiksby51bnNlbGVjdGluZz0hMSksby5zZWxlY3Rpbmd8fChpLl9hZGRDbGFzcyhvLiRlbGVtZW50LCJ1aS1zZWxlY3RpbmciKSxvLnNlbGVjdGluZz0hMCxpLl90cmlnZ2VyKCJzZWxlY3RpbmciLHQse3NlbGVjdGluZzpvLmVsZW1lbnR9KSkpOihvLnNlbGVjdGluZyYmKCh0Lm1ldGFLZXl8fHQuY3RybEtleSkmJm8uc3RhcnRzZWxlY3RlZD8oaS5fcmVtb3ZlQ2xhc3Moby4kZWxlbWVudCwidWktc2VsZWN0aW5nIiksby5zZWxlY3Rpbmc9ITEsaS5fYWRkQ2xhc3Moby4kZWxlbWVudCwidWktc2VsZWN0ZWQiKSxvLnNlbGVjdGVkPSEwKTooaS5fcmVtb3ZlQ2xhc3Moby4kZWxlbWVudCwidWktc2VsZWN0aW5nIiksby5zZWxlY3Rpbmc9ITEsby5zdGFydHNlbGVjdGVkJiYoaS5fYWRkQ2xhc3Moby4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKSxvLnVuc2VsZWN0aW5nPSEwKSxpLl90cmlnZ2VyKCJ1bnNlbGVjdGluZyIsdCx7dW5zZWxlY3Rpbmc6by5lbGVtZW50fSkpKSxvLnNlbGVjdGVkJiYodC5tZXRhS2V5fHx0LmN0cmxLZXl8fG8uc3RhcnRzZWxlY3RlZHx8KGkuX3JlbW92ZUNsYXNzKG8uJGVsZW1lbnQsInVpLXNlbGVjdGVkIiksby5zZWxlY3RlZD0hMSxpLl9hZGRDbGFzcyhvLiRlbGVtZW50LCJ1aS11bnNlbGVjdGluZyIpLG8udW5zZWxlY3Rpbmc9ITAsaS5fdHJpZ2dlcigidW5zZWxlY3RpbmciLHQse3Vuc2VsZWN0aW5nOm8uZWxlbWVudH0pKSkpKX0pLCExfX0sX21vdXNlU3RvcDpmdW5jdGlvbih0KXt2YXIgaT10aGlzO3JldHVybiB0aGlzLmRyYWdnZWQ9ITEsbigiLnVpLXVuc2VsZWN0aW5nIix0aGlzLmVsZW1lbnRbMF0pLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1uLmRhdGEodGhpcywic2VsZWN0YWJsZS1pdGVtIik7aS5fcmVtb3ZlQ2xhc3Moci4kZWxlbWVudCwidWktdW5zZWxlY3RpbmciKTtyLnVuc2VsZWN0aW5nPSExO3Iuc3RhcnRzZWxlY3RlZD0hMTtpLl90cmlnZ2VyKCJ1bnNlbGVjdGVkIix0LHt1bnNlbGVjdGVkOnIuZWxlbWVudH0pfSksbigiLnVpLXNlbGVjdGluZyIsdGhpcy5lbGVtZW50WzBdKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9bi5kYXRhKHRoaXMsInNlbGVjdGFibGUtaXRlbSIpO2kuX3JlbW92ZUNsYXNzKHIuJGVsZW1lbnQsInVpLXNlbGVjdGluZyIpLl9hZGRDbGFzcyhyLiRlbGVtZW50LCJ1aS1zZWxlY3RlZCIpO3Iuc2VsZWN0aW5nPSExO3Iuc2VsZWN0ZWQ9ITA7ci5zdGFydHNlbGVjdGVkPSEwO2kuX3RyaWdnZXIoInNlbGVjdGVkIix0LHtzZWxlY3RlZDpyLmVsZW1lbnR9KX0pLHRoaXMuX3RyaWdnZXIoInN0b3AiLHQpLHRoaXMuaGVscGVyLnJlbW92ZSgpLCExfX0pO24ud2lkZ2V0KCJ1aS5zZWxlY3RtZW51Iixbbi51aS5mb3JtUmVzZXRNaXhpbix7dmVyc2lvbjoiMS4xMi4xIixkZWZhdWx0RWxlbWVudDoiPHNlbGVjdD4iLG9wdGlvbnM6e2FwcGVuZFRvOm51bGwsY2xhc3Nlczp7InVpLXNlbGVjdG1lbnUtYnV0dG9uLW9wZW4iOiJ1aS1jb3JuZXItdG9wIiwidWktc2VsZWN0bWVudS1idXR0b24tY2xvc2VkIjoidWktY29ybmVyLWFsbCJ9LGRpc2FibGVkOm51bGwsaWNvbnM6e2J1dHRvbjoidWktaWNvbi10cmlhbmdsZS0xLXMifSxwb3NpdGlvbjp7bXk6ImxlZnQgdG9wIixhdDoibGVmdCBib3R0b20iLGNvbGxpc2lvbjoibm9uZSJ9LHdpZHRoOiExLGNoYW5nZTpudWxsLGNsb3NlOm51bGwsZm9jdXM6bnVsbCxvcGVuOm51bGwsc2VsZWN0Om51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmVsZW1lbnQudW5pcXVlSWQoKS5hdHRyKCJpZCIpO3RoaXMuaWRzPXtlbGVtZW50OnQsYnV0dG9uOnQrIi1idXR0b24iLG1lbnU6dCsiLW1lbnUifTt0aGlzLl9kcmF3QnV0dG9uKCk7dGhpcy5fZHJhd01lbnUoKTt0aGlzLl9iaW5kRm9ybVJlc2V0SGFuZGxlcigpO3RoaXMuX3JlbmRlcmVkPSExO3RoaXMubWVudUl0ZW1zPW4oKX0sX2RyYXdCdXR0b246ZnVuY3Rpb24oKXt2YXIgdCxpPXRoaXMscj10aGlzLl9wYXJzZU9wdGlvbih0aGlzLmVsZW1lbnQuZmluZCgib3B0aW9uOnNlbGVjdGVkIiksdGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpO3RoaXMubGFiZWxzPXRoaXMuZWxlbWVudC5sYWJlbHMoKS5hdHRyKCJmb3IiLHRoaXMuaWRzLmJ1dHRvbik7dGhpcy5fb24odGhpcy5sYWJlbHMse2NsaWNrOmZ1bmN0aW9uKG4pe3RoaXMuYnV0dG9uLmZvY3VzKCk7bi5wcmV2ZW50RGVmYXVsdCgpfX0pO3RoaXMuZWxlbWVudC5oaWRlKCk7dGhpcy5idXR0b249bigiPHNwYW4+Iix7dGFiaW5kZXg6dGhpcy5vcHRpb25zLmRpc2FibGVkPy0xOjAsaWQ6dGhpcy5pZHMuYnV0dG9uLHJvbGU6ImNvbWJvYm94IiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIiwiYXJpYS1hdXRvY29tcGxldGUiOiJsaXN0IiwiYXJpYS1vd25zIjp0aGlzLmlkcy5tZW51LCJhcmlhLWhhc3BvcHVwIjoidHJ1ZSIsdGl0bGU6dGhpcy5lbGVtZW50LmF0dHIoInRpdGxlIil9KS5pbnNlcnRBZnRlcih0aGlzLmVsZW1lbnQpO3RoaXMuX2FkZENsYXNzKHRoaXMuYnV0dG9uLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbiB1aS1zZWxlY3RtZW51LWJ1dHRvbi1jbG9zZWQiLCJ1aS1idXR0b24gdWktd2lkZ2V0Iik7dD1uKCI8c3Bhbj4iKS5hcHBlbmRUbyh0aGlzLmJ1dHRvbik7dGhpcy5fYWRkQ2xhc3ModCwidWktc2VsZWN0bWVudS1pY29uIiwidWktaWNvbiAiK3RoaXMub3B0aW9ucy5pY29ucy5idXR0b24pO3RoaXMuYnV0dG9uSXRlbT10aGlzLl9yZW5kZXJCdXR0b25JdGVtKHIpLmFwcGVuZFRvKHRoaXMuYnV0dG9uKTt0aGlzLm9wdGlvbnMud2lkdGghPT0hMSYmdGhpcy5fcmVzaXplQnV0dG9uKCk7dGhpcy5fb24odGhpcy5idXR0b24sdGhpcy5fYnV0dG9uRXZlbnRzKTt0aGlzLmJ1dHRvbi5vbmUoImZvY3VzaW4iLGZ1bmN0aW9uKCl7aS5fcmVuZGVyZWR8fGkuX3JlZnJlc2hNZW51KCl9KX0sX2RyYXdNZW51OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLm1lbnU9bigiPHVsPiIseyJhcmlhLWhpZGRlbiI6InRydWUiLCJhcmlhLWxhYmVsbGVkYnkiOnRoaXMuaWRzLmJ1dHRvbixpZDp0aGlzLmlkcy5tZW51fSk7dGhpcy5tZW51V3JhcD1uKCI8ZGl2PiIpLmFwcGVuZCh0aGlzLm1lbnUpO3RoaXMuX2FkZENsYXNzKHRoaXMubWVudVdyYXAsInVpLXNlbGVjdG1lbnUtbWVudSIsInVpLWZyb250Iik7dGhpcy5tZW51V3JhcC5hcHBlbmRUbyh0aGlzLl9hcHBlbmRUbygpKTt0aGlzLm1lbnVJbnN0YW5jZT10aGlzLm1lbnUubWVudSh7Y2xhc3Nlczp7InVpLW1lbnUiOiJ1aS1jb3JuZXItYm90dG9tIn0scm9sZToibGlzdGJveCIsc2VsZWN0OmZ1bmN0aW9uKG4saSl7bi5wcmV2ZW50RGVmYXVsdCgpO3QuX3NldFNlbGVjdGlvbigpO3QuX3NlbGVjdChpLml0ZW0uZGF0YSgidWktc2VsZWN0bWVudS1pdGVtIiksbil9LGZvY3VzOmZ1bmN0aW9uKG4saSl7dmFyIHI9aS5pdGVtLmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIpO251bGwhPXQuZm9jdXNJbmRleCYmci5pbmRleCE9PXQuZm9jdXNJbmRleCYmKHQuX3RyaWdnZXIoImZvY3VzIixuLHtpdGVtOnJ9KSx0LmlzT3Blbnx8dC5fc2VsZWN0KHIsbikpO3QuZm9jdXNJbmRleD1yLmluZGV4O3QuYnV0dG9uLmF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIsdC5tZW51SXRlbXMuZXEoci5pbmRleCkuYXR0cigiaWQiKSl9fSkubWVudSgiaW5zdGFuY2UiKTt0aGlzLm1lbnVJbnN0YW5jZS5fb2ZmKHRoaXMubWVudSwibW91c2VsZWF2ZSIpO3RoaXMubWVudUluc3RhbmNlLl9jbG9zZU9uRG9jdW1lbnRDbGljaz1mdW5jdGlvbigpe3JldHVybiExfTt0aGlzLm1lbnVJbnN0YW5jZS5faXNEaXZpZGVyPWZ1bmN0aW9uKCl7cmV0dXJuITF9fSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5fcmVmcmVzaE1lbnUoKTt0aGlzLmJ1dHRvbkl0ZW0ucmVwbGFjZVdpdGgodGhpcy5idXR0b25JdGVtPXRoaXMuX3JlbmRlckJ1dHRvbkl0ZW0odGhpcy5fZ2V0U2VsZWN0ZWRJdGVtKCkuZGF0YSgidWktc2VsZWN0bWVudS1pdGVtIil8fHt9KSk7bnVsbD09PXRoaXMub3B0aW9ucy53aWR0aCYmdGhpcy5fcmVzaXplQnV0dG9uKCl9LF9yZWZyZXNoTWVudTpmdW5jdGlvbigpe3ZhciBuLHQ9dGhpcy5lbGVtZW50LmZpbmQoIm9wdGlvbiIpO3RoaXMubWVudS5lbXB0eSgpO3RoaXMuX3BhcnNlT3B0aW9ucyh0KTt0aGlzLl9yZW5kZXJNZW51KHRoaXMubWVudSx0aGlzLml0ZW1zKTt0aGlzLm1lbnVJbnN0YW5jZS5yZWZyZXNoKCk7dGhpcy5tZW51SXRlbXM9dGhpcy5tZW51LmZpbmQoImxpIikubm90KCIudWktc2VsZWN0bWVudS1vcHRncm91cCIpLmZpbmQoIi51aS1tZW51LWl0ZW0td3JhcHBlciIpO3RoaXMuX3JlbmRlcmVkPSEwO3QubGVuZ3RoJiYobj10aGlzLl9nZXRTZWxlY3RlZEl0ZW0oKSx0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyhudWxsLG4pLHRoaXMuX3NldEFyaWEobi5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iKSksdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsdGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIikpKX0sb3BlbjpmdW5jdGlvbihuKXt0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fCh0aGlzLl9yZW5kZXJlZD8odGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5tZW51LmZpbmQoIi51aS1zdGF0ZS1hY3RpdmUiKSxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLm1lbnVJbnN0YW5jZS5mb2N1cyhudWxsLHRoaXMuX2dldFNlbGVjdGVkSXRlbSgpKSk6dGhpcy5fcmVmcmVzaE1lbnUoKSx0aGlzLm1lbnVJdGVtcy5sZW5ndGgmJih0aGlzLmlzT3Blbj0hMCx0aGlzLl90b2dnbGVBdHRyKCksdGhpcy5fcmVzaXplTWVudSgpLHRoaXMuX3Bvc2l0aW9uKCksdGhpcy5fb24odGhpcy5kb2N1bWVudCx0aGlzLl9kb2N1bWVudENsaWNrKSx0aGlzLl90cmlnZ2VyKCJvcGVuIixuKSkpfSxfcG9zaXRpb246ZnVuY3Rpb24oKXt0aGlzLm1lbnVXcmFwLnBvc2l0aW9uKG4uZXh0ZW5kKHsib2YiOnRoaXMuYnV0dG9ufSx0aGlzLm9wdGlvbnMucG9zaXRpb24pKX0sY2xvc2U6ZnVuY3Rpb24obil7dGhpcy5pc09wZW4mJih0aGlzLmlzT3Blbj0hMSx0aGlzLl90b2dnbGVBdHRyKCksdGhpcy5yYW5nZT1udWxsLHRoaXMuX29mZih0aGlzLmRvY3VtZW50KSx0aGlzLl90cmlnZ2VyKCJjbG9zZSIsbikpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idXR0b259LG1lbnVXaWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51fSxfcmVuZGVyQnV0dG9uSXRlbTpmdW5jdGlvbih0KXt2YXIgaT1uKCI8c3Bhbj4iKTtyZXR1cm4gdGhpcy5fc2V0VGV4dChpLHQubGFiZWwpLHRoaXMuX2FkZENsYXNzKGksInVpLXNlbGVjdG1lbnUtdGV4dCIpLGl9LF9yZW5kZXJNZW51OmZ1bmN0aW9uKHQsaSl7dmFyIHI9dGhpcyx1PSIiO24uZWFjaChpLGZ1bmN0aW9uKGksZil7dmFyIGU7Zi5vcHRncm91cCE9PXUmJihlPW4oIjxsaT4iLHt0ZXh0OmYub3B0Z3JvdXB9KSxyLl9hZGRDbGFzcyhlLCJ1aS1zZWxlY3RtZW51LW9wdGdyb3VwIiwidWktbWVudS1kaXZpZGVyIisoZi5lbGVtZW50LnBhcmVudCgib3B0Z3JvdXAiKS5wcm9wKCJkaXNhYmxlZCIpPyIgdWktc3RhdGUtZGlzYWJsZWQiOiIiKSksZS5hcHBlbmRUbyh0KSx1PWYub3B0Z3JvdXApO3IuX3JlbmRlckl0ZW1EYXRhKHQsZil9KX0sX3JlbmRlckl0ZW1EYXRhOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX3JlbmRlckl0ZW0obix0KS5kYXRhKCJ1aS1zZWxlY3RtZW51LWl0ZW0iLHQpfSxfcmVuZGVySXRlbTpmdW5jdGlvbih0LGkpe3ZhciByPW4oIjxsaT4iKSx1PW4oIjxkaXY+Iix7dGl0bGU6aS5lbGVtZW50LmF0dHIoInRpdGxlIil9KTtyZXR1cm4gaS5kaXNhYmxlZCYmdGhpcy5fYWRkQ2xhc3MocixudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIpLHRoaXMuX3NldFRleHQodSxpLmxhYmVsKSxyLmFwcGVuZCh1KS5hcHBlbmRUbyh0KX0sX3NldFRleHQ6ZnVuY3Rpb24obix0KXt0P24udGV4dCh0KTpuLmh0bWwoIiYjMTYwOyIpfSxfbW92ZTpmdW5jdGlvbihuLHQpe3ZhciBpLHIsdT0iLnVpLW1lbnUtaXRlbSI7dGhpcy5pc09wZW4/aT10aGlzLm1lbnVJdGVtcy5lcSh0aGlzLmZvY3VzSW5kZXgpLnBhcmVudCgibGkiKTooaT10aGlzLm1lbnVJdGVtcy5lcSh0aGlzLmVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleCkucGFyZW50KCJsaSIpLHUrPSI6bm90KC51aS1zdGF0ZS1kaXNhYmxlZCkiKTtyPSJmaXJzdCI9PT1ufHwibGFzdCI9PT1uP2lbImZpcnN0Ij09PW4/InByZXZBbGwiOiJuZXh0QWxsIl0odSkuZXEoLTEpOmlbbisiQWxsIl0odSkuZXEoMCk7ci5sZW5ndGgmJnRoaXMubWVudUluc3RhbmNlLmZvY3VzKHQscil9LF9nZXRTZWxlY3RlZEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tZW51SXRlbXMuZXEodGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXgpLnBhcmVudCgibGkiKX0sX3RvZ2dsZTpmdW5jdGlvbihuKXt0aGlzW3RoaXMuaXNPcGVuPyJjbG9zZSI6Im9wZW4iXShuKX0sX3NldFNlbGVjdGlvbjpmdW5jdGlvbigpe3ZhciBuO3RoaXMucmFuZ2UmJih3aW5kb3cuZ2V0U2VsZWN0aW9uPyhuPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxuLnJlbW92ZUFsbFJhbmdlcygpLG4uYWRkUmFuZ2UodGhpcy5yYW5nZSkpOnRoaXMucmFuZ2Uuc2VsZWN0KCksdGhpcy5idXR0b24uZm9jdXMoKSl9LF9kb2N1bWVudENsaWNrOnttb3VzZWRvd246ZnVuY3Rpb24odCl7dGhpcy5pc09wZW4mJihuKHQudGFyZ2V0KS5jbG9zZXN0KCIudWktc2VsZWN0bWVudS1tZW51LCAjIituLnVpLmVzY2FwZVNlbGVjdG9yKHRoaXMuaWRzLmJ1dHRvbikpLmxlbmd0aHx8dGhpcy5jbG9zZSh0KSl9fSxfYnV0dG9uRXZlbnRzOnttb3VzZWRvd246ZnVuY3Rpb24oKXt2YXIgbjt3aW5kb3cuZ2V0U2VsZWN0aW9uPyhuPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxuLnJhbmdlQ291bnQmJih0aGlzLnJhbmdlPW4uZ2V0UmFuZ2VBdCgwKSkpOnRoaXMucmFuZ2U9ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCl9LGNsaWNrOmZ1bmN0aW9uKG4pe3RoaXMuX3NldFNlbGVjdGlvbigpO3RoaXMuX3RvZ2dsZShuKX0sa2V5ZG93bjpmdW5jdGlvbih0KXt2YXIgaT0hMDtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5UQUI6Y2FzZSBuLnVpLmtleUNvZGUuRVNDQVBFOnRoaXMuY2xvc2UodCk7aT0hMTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FTlRFUjp0aGlzLmlzT3BlbiYmdGhpcy5fc2VsZWN0Rm9jdXNlZEl0ZW0odCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuVVA6dC5hbHRLZXk/dGhpcy5fdG9nZ2xlKHQpOnRoaXMuX21vdmUoInByZXYiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkRPV046dC5hbHRLZXk/dGhpcy5fdG9nZ2xlKHQpOnRoaXMuX21vdmUoIm5leHQiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlNQQUNFOnRoaXMuaXNPcGVuP3RoaXMuX3NlbGVjdEZvY3VzZWRJdGVtKHQpOnRoaXMuX3RvZ2dsZSh0KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5MRUZUOnRoaXMuX21vdmUoInByZXYiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlJJR0hUOnRoaXMuX21vdmUoIm5leHQiLHQpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkhPTUU6Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9VUDp0aGlzLl9tb3ZlKCJmaXJzdCIsdCk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuRU5EOmNhc2Ugbi51aS5rZXlDb2RlLlBBR0VfRE9XTjp0aGlzLl9tb3ZlKCJsYXN0Iix0KTticmVhaztkZWZhdWx0OnRoaXMubWVudS50cmlnZ2VyKHQpO2k9ITF9aSYmdC5wcmV2ZW50RGVmYXVsdCgpfX0sX3NlbGVjdEZvY3VzZWRJdGVtOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMubWVudUl0ZW1zLmVxKHRoaXMuZm9jdXNJbmRleCkucGFyZW50KCJsaSIpO3QuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil8fHRoaXMuX3NlbGVjdCh0LmRhdGEoInVpLXNlbGVjdG1lbnUtaXRlbSIpLG4pfSxfc2VsZWN0OmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg7dGhpcy5lbGVtZW50WzBdLnNlbGVjdGVkSW5kZXg9bi5pbmRleDt0aGlzLmJ1dHRvbkl0ZW0ucmVwbGFjZVdpdGgodGhpcy5idXR0b25JdGVtPXRoaXMuX3JlbmRlckJ1dHRvbkl0ZW0obikpO3RoaXMuX3NldEFyaWEobik7dGhpcy5fdHJpZ2dlcigic2VsZWN0Iix0LHtpdGVtOm59KTtuLmluZGV4IT09aSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIix0LHtpdGVtOm59KTt0aGlzLmNsb3NlKHQpfSxfc2V0QXJpYTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLm1lbnVJdGVtcy5lcShuLmluZGV4KS5hdHRyKCJpZCIpO3RoaXMuYnV0dG9uLmF0dHIoeyJhcmlhLWxhYmVsbGVkYnkiOnQsImFyaWEtYWN0aXZlZGVzY2VuZGFudCI6dH0pO3RoaXMubWVudS5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLHQpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7aWYoImljb25zIj09PW4pe3ZhciBpPXRoaXMuYnV0dG9uLmZpbmQoInNwYW4udWktaWNvbiIpO3RoaXMuX3JlbW92ZUNsYXNzKGksbnVsbCx0aGlzLm9wdGlvbnMuaWNvbnMuYnV0dG9uKS5fYWRkQ2xhc3MoaSxudWxsLHQuYnV0dG9uKX10aGlzLl9zdXBlcihuLHQpOyJhcHBlbmRUbyI9PT1uJiZ0aGlzLm1lbnVXcmFwLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKCkpOyJ3aWR0aCI9PT1uJiZ0aGlzLl9yZXNpemVCdXR0b24oKX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKG4pe3RoaXMuX3N1cGVyKG4pO3RoaXMubWVudUluc3RhbmNlLm9wdGlvbigiZGlzYWJsZWQiLG4pO3RoaXMuYnV0dG9uLmF0dHIoImFyaWEtZGlzYWJsZWQiLG4pO3RoaXMuX3RvZ2dsZUNsYXNzKHRoaXMuYnV0dG9uLG51bGwsInVpLXN0YXRlLWRpc2FibGVkIixuKTt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLG4pO24/KHRoaXMuYnV0dG9uLmF0dHIoInRhYmluZGV4IiwtMSksdGhpcy5jbG9zZSgpKTp0aGlzLmJ1dHRvbi5hdHRyKCJ0YWJpbmRleCIsMCl9LF9hcHBlbmRUbzpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hcHBlbmRUbztyZXR1cm4gdCYmKHQ9dC5qcXVlcnl8fHQubm9kZVR5cGU/bih0KTp0aGlzLmRvY3VtZW50LmZpbmQodCkuZXEoMCkpLHQmJnRbMF18fCh0PXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktZnJvbnQsIGRpYWxvZyIpKSx0Lmxlbmd0aHx8KHQ9dGhpcy5kb2N1bWVudFswXS5ib2R5KSx0fSxfdG9nZ2xlQXR0cjpmdW5jdGlvbigpe3RoaXMuYnV0dG9uLmF0dHIoImFyaWEtZXhwYW5kZWQiLHRoaXMuaXNPcGVuKTt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmJ1dHRvbiwidWktc2VsZWN0bWVudS1idXR0b24tIisodGhpcy5pc09wZW4/ImNsb3NlZCI6Im9wZW4iKSkuX2FkZENsYXNzKHRoaXMuYnV0dG9uLCJ1aS1zZWxlY3RtZW51LWJ1dHRvbi0iKyh0aGlzLmlzT3Blbj8ib3BlbiI6ImNsb3NlZCIpKS5fdG9nZ2xlQ2xhc3ModGhpcy5tZW51V3JhcCwidWktc2VsZWN0bWVudS1vcGVuIixudWxsLHRoaXMuaXNPcGVuKTt0aGlzLm1lbnUuYXR0cigiYXJpYS1oaWRkZW4iLCF0aGlzLmlzT3Blbil9LF9yZXNpemVCdXR0b246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnMud2lkdGg7cmV0dXJuIG49PT0hMT8odGhpcy5idXR0b24uY3NzKCJ3aWR0aCIsIiIpLHZvaWQgMCk6KG51bGw9PT1uJiYobj10aGlzLmVsZW1lbnQuc2hvdygpLm91dGVyV2lkdGgoKSx0aGlzLmVsZW1lbnQuaGlkZSgpKSx0aGlzLmJ1dHRvbi5vdXRlcldpZHRoKG4pLHZvaWQgMCl9LF9yZXNpemVNZW51OmZ1bmN0aW9uKCl7dGhpcy5tZW51Lm91dGVyV2lkdGgoTWF0aC5tYXgodGhpcy5idXR0b24ub3V0ZXJXaWR0aCgpLHRoaXMubWVudS53aWR0aCgiIikub3V0ZXJXaWR0aCgpKzEpKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9zdXBlcigpO3JldHVybiBuLmRpc2FibGVkPXRoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIpLG59LF9wYXJzZU9wdGlvbnM6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxpPVtdO3QuZWFjaChmdW5jdGlvbih0LHUpe2kucHVzaChyLl9wYXJzZU9wdGlvbihuKHUpLHQpKX0pO3RoaXMuaXRlbXM9aX0sX3BhcnNlT3B0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIGk9bi5wYXJlbnQoIm9wdGdyb3VwIik7cmV0dXJue2VsZW1lbnQ6bixpbmRleDp0LHZhbHVlOm4udmFsKCksbGFiZWw6bi50ZXh0KCksb3B0Z3JvdXA6aS5hdHRyKCJsYWJlbCIpfHwiIixkaXNhYmxlZDppLnByb3AoImRpc2FibGVkIil8fG4ucHJvcCgiZGlzYWJsZWQiKX19LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fdW5iaW5kRm9ybVJlc2V0SGFuZGxlcigpO3RoaXMubWVudVdyYXAucmVtb3ZlKCk7dGhpcy5idXR0b24ucmVtb3ZlKCk7dGhpcy5lbGVtZW50LnNob3coKTt0aGlzLmVsZW1lbnQucmVtb3ZlVW5pcXVlSWQoKTt0aGlzLmxhYmVscy5hdHRyKCJmb3IiLHRoaXMuaWRzLmVsZW1lbnQpfX1dKTtuLndpZGdldCgidWkuc2xpZGVyIixuLnVpLm1vdXNlLHt2ZXJzaW9uOiIxLjEyLjEiLHdpZGdldEV2ZW50UHJlZml4OiJzbGlkZSIsb3B0aW9uczp7YW5pbWF0ZTohMSxjbGFzc2VzOnsidWktc2xpZGVyIjoidWktY29ybmVyLWFsbCIsInVpLXNsaWRlci1oYW5kbGUiOiJ1aS1jb3JuZXItYWxsIiwidWktc2xpZGVyLXJhbmdlIjoidWktY29ybmVyLWFsbCB1aS13aWRnZXQtaGVhZGVyIn0sZGlzdGFuY2U6MCxtYXg6MTAwLG1pbjowLG9yaWVudGF0aW9uOiJob3Jpem9udGFsIixyYW5nZTohMSxzdGVwOjEsdmFsdWU6MCx2YWx1ZXM6bnVsbCxjaGFuZ2U6bnVsbCxzbGlkZTpudWxsLHN0YXJ0Om51bGwsc3RvcDpudWxsfSxudW1QYWdlczo1LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9rZXlTbGlkaW5nPSExO3RoaXMuX21vdXNlU2xpZGluZz0hMTt0aGlzLl9hbmltYXRlT2ZmPSEwO3RoaXMuX2hhbmRsZUluZGV4PW51bGw7dGhpcy5fZGV0ZWN0T3JpZW50YXRpb24oKTt0aGlzLl9tb3VzZUluaXQoKTt0aGlzLl9jYWxjdWxhdGVOZXdNYXgoKTt0aGlzLl9hZGRDbGFzcygidWktc2xpZGVyIHVpLXNsaWRlci0iK3RoaXMub3JpZW50YXRpb24sInVpLXdpZGdldCB1aS13aWRnZXQtY29udGVudCIpO3RoaXMuX3JlZnJlc2goKTt0aGlzLl9hbmltYXRlT2ZmPSExfSxfcmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuX2NyZWF0ZVJhbmdlKCk7dGhpcy5fY3JlYXRlSGFuZGxlcygpO3RoaXMuX3NldHVwRXZlbnRzKCk7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9jcmVhdGVIYW5kbGVzOmZ1bmN0aW9uKCl7dmFyIHIsaSx1PXRoaXMub3B0aW9ucyx0PXRoaXMuZWxlbWVudC5maW5kKCIudWktc2xpZGVyLWhhbmRsZSIpLGY9W107Zm9yKGk9dS52YWx1ZXMmJnUudmFsdWVzLmxlbmd0aHx8MSx0Lmxlbmd0aD5pJiYodC5zbGljZShpKS5yZW1vdmUoKSx0PXQuc2xpY2UoMCxpKSkscj10Lmxlbmd0aDtpPnI7cisrKWYucHVzaCgiPHNwYW4gdGFiaW5kZXg9JzAnPjxcL3NwYW4+Iik7dGhpcy5oYW5kbGVzPXQuYWRkKG4oZi5qb2luKCIiKSkuYXBwZW5kVG8odGhpcy5lbGVtZW50KSk7dGhpcy5fYWRkQ2xhc3ModGhpcy5oYW5kbGVzLCJ1aS1zbGlkZXItaGFuZGxlIiwidWktc3RhdGUtZGVmYXVsdCIpO3RoaXMuaGFuZGxlPXRoaXMuaGFuZGxlcy5lcSgwKTt0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbih0KXtuKHRoaXMpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiLHQpLmF0dHIoInRhYkluZGV4IiwwKX0pfSxfY3JlYXRlUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnM7dC5yYW5nZT8odC5yYW5nZT09PSEwJiYodC52YWx1ZXM/dC52YWx1ZXMubGVuZ3RoJiYyIT09dC52YWx1ZXMubGVuZ3RoP3QudmFsdWVzPVt0LnZhbHVlc1swXSx0LnZhbHVlc1swXV06bi5pc0FycmF5KHQudmFsdWVzKSYmKHQudmFsdWVzPXQudmFsdWVzLnNsaWNlKDApKTp0LnZhbHVlcz1bdGhpcy5fdmFsdWVNaW4oKSx0aGlzLl92YWx1ZU1pbigpXSksdGhpcy5yYW5nZSYmdGhpcy5yYW5nZS5sZW5ndGg/KHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMucmFuZ2UsInVpLXNsaWRlci1yYW5nZS1taW4gdWktc2xpZGVyLXJhbmdlLW1heCIpLHRoaXMucmFuZ2UuY3NzKHtsZWZ0OiIiLGJvdHRvbToiIn0pKToodGhpcy5yYW5nZT1uKCI8ZGl2PiIpLmFwcGVuZFRvKHRoaXMuZWxlbWVudCksdGhpcy5fYWRkQ2xhc3ModGhpcy5yYW5nZSwidWktc2xpZGVyLXJhbmdlIikpLCgibWluIj09PXQucmFuZ2V8fCJtYXgiPT09dC5yYW5nZSkmJnRoaXMuX2FkZENsYXNzKHRoaXMucmFuZ2UsInVpLXNsaWRlci1yYW5nZS0iK3QucmFuZ2UpKToodGhpcy5yYW5nZSYmdGhpcy5yYW5nZS5yZW1vdmUoKSx0aGlzLnJhbmdlPW51bGwpfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLl9vZmYodGhpcy5oYW5kbGVzKTt0aGlzLl9vbih0aGlzLmhhbmRsZXMsdGhpcy5faGFuZGxlRXZlbnRzKTt0aGlzLl9ob3ZlcmFibGUodGhpcy5oYW5kbGVzKTt0aGlzLl9mb2N1c2FibGUodGhpcy5oYW5kbGVzKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXMucmVtb3ZlKCk7dGhpcy5yYW5nZSYmdGhpcy5yYW5nZS5yZW1vdmUoKTt0aGlzLl9tb3VzZURlc3Ryb3koKX0sX21vdXNlQ2FwdHVyZTpmdW5jdGlvbih0KXt2YXIgcyxmLHIsaSx1LGgsZSxjLG89dGhpcyxsPXRoaXMub3B0aW9ucztyZXR1cm4gbC5kaXNhYmxlZD8hMToodGhpcy5lbGVtZW50U2l6ZT17d2lkdGg6dGhpcy5lbGVtZW50Lm91dGVyV2lkdGgoKSxoZWlnaHQ6dGhpcy5lbGVtZW50Lm91dGVySGVpZ2h0KCl9LHRoaXMuZWxlbWVudE9mZnNldD10aGlzLmVsZW1lbnQub2Zmc2V0KCkscz17eDp0LnBhZ2VYLHk6dC5wYWdlWX0sZj10aGlzLl9ub3JtVmFsdWVGcm9tTW91c2Uocykscj10aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCkrMSx0aGlzLmhhbmRsZXMuZWFjaChmdW5jdGlvbih0KXt2YXIgZT1NYXRoLmFicyhmLW8udmFsdWVzKHQpKTsocj5lfHxyPT09ZSYmKHQ9PT1vLl9sYXN0Q2hhbmdlZFZhbHVlfHxvLnZhbHVlcyh0KT09PWwubWluKSkmJihyPWUsaT1uKHRoaXMpLHU9dCl9KSxoPXRoaXMuX3N0YXJ0KHQsdSksaD09PSExPyExOih0aGlzLl9tb3VzZVNsaWRpbmc9ITAsdGhpcy5faGFuZGxlSW5kZXg9dSx0aGlzLl9hZGRDbGFzcyhpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLGkudHJpZ2dlcigiZm9jdXMiKSxlPWkub2Zmc2V0KCksYz0hbih0LnRhcmdldCkucGFyZW50cygpLmFkZEJhY2soKS5pcygiLnVpLXNsaWRlci1oYW5kbGUiKSx0aGlzLl9jbGlja09mZnNldD1jP3tsZWZ0OjAsdG9wOjB9OntsZWZ0OnQucGFnZVgtZS5sZWZ0LWkud2lkdGgoKS8yLHRvcDp0LnBhZ2VZLWUudG9wLWkuaGVpZ2h0KCkvMi0ocGFyc2VJbnQoaS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQoaS5jc3MoImJvcmRlckJvdHRvbVdpZHRoIiksMTApfHwwKSsocGFyc2VJbnQoaS5jc3MoIm1hcmdpblRvcCIpLDEwKXx8MCl9LHRoaXMuaGFuZGxlcy5oYXNDbGFzcygidWktc3RhdGUtaG92ZXIiKXx8dGhpcy5fc2xpZGUodCx1LGYpLHRoaXMuX2FuaW1hdGVPZmY9ITAsITApKX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sX21vdXNlRHJhZzpmdW5jdGlvbihuKXt2YXIgdD17eDpuLnBhZ2VYLHk6bi5wYWdlWX0saT10aGlzLl9ub3JtVmFsdWVGcm9tTW91c2UodCk7cmV0dXJuIHRoaXMuX3NsaWRlKG4sdGhpcy5faGFuZGxlSW5kZXgsaSksITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3JlbW92ZUNsYXNzKHRoaXMuaGFuZGxlcyxudWxsLCJ1aS1zdGF0ZS1hY3RpdmUiKSx0aGlzLl9tb3VzZVNsaWRpbmc9ITEsdGhpcy5fc3RvcChuLHRoaXMuX2hhbmRsZUluZGV4KSx0aGlzLl9jaGFuZ2Uobix0aGlzLl9oYW5kbGVJbmRleCksdGhpcy5faGFuZGxlSW5kZXg9bnVsbCx0aGlzLl9jbGlja09mZnNldD1udWxsLHRoaXMuX2FuaW1hdGVPZmY9ITEsITF9LF9kZXRlY3RPcmllbnRhdGlvbjpmdW5jdGlvbigpe3RoaXMub3JpZW50YXRpb249InZlcnRpY2FsIj09PXRoaXMub3B0aW9ucy5vcmllbnRhdGlvbj8idmVydGljYWwiOiJob3Jpem9udGFsIn0sX25vcm1WYWx1ZUZyb21Nb3VzZTpmdW5jdGlvbihuKXt2YXIgaSxyLHQsdSxmO3JldHVybiJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24/KGk9dGhpcy5lbGVtZW50U2l6ZS53aWR0aCxyPW4ueC10aGlzLmVsZW1lbnRPZmZzZXQubGVmdC0odGhpcy5fY2xpY2tPZmZzZXQ/dGhpcy5fY2xpY2tPZmZzZXQubGVmdDowKSk6KGk9dGhpcy5lbGVtZW50U2l6ZS5oZWlnaHQscj1uLnktdGhpcy5lbGVtZW50T2Zmc2V0LnRvcC0odGhpcy5fY2xpY2tPZmZzZXQ/dGhpcy5fY2xpY2tPZmZzZXQudG9wOjApKSx0PXIvaSx0PjEmJih0PTEpLDA+dCYmKHQ9MCksInZlcnRpY2FsIj09PXRoaXMub3JpZW50YXRpb24mJih0PTEtdCksdT10aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCksZj10aGlzLl92YWx1ZU1pbigpK3QqdSx0aGlzLl90cmltQWxpZ25WYWx1ZShmKX0sX3VpSGFzaDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9e2hhbmRsZTp0aGlzLmhhbmRsZXNbbl0saGFuZGxlSW5kZXg6bix2YWx1ZTp2b2lkIDAhPT10P3Q6dGhpcy52YWx1ZSgpfTtyZXR1cm4gdGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSYmKHIudmFsdWU9dm9pZCAwIT09dD90OnRoaXMudmFsdWVzKG4pLHIudmFsdWVzPWl8fHRoaXMudmFsdWVzKCkpLHJ9LF9oYXNNdWx0aXBsZVZhbHVlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMudmFsdWVzJiZ0aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aH0sX3N0YXJ0OmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX3RyaWdnZXIoInN0YXJ0IixuLHRoaXMuX3VpSGFzaCh0KSl9LF9zbGlkZTpmdW5jdGlvbihuLHQsaSl7dmFyIHUscixmPXRoaXMudmFsdWUoKSxlPXRoaXMudmFsdWVzKCk7dGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKSYmKHI9dGhpcy52YWx1ZXModD8wOjEpLGY9dGhpcy52YWx1ZXModCksMj09PXRoaXMub3B0aW9ucy52YWx1ZXMubGVuZ3RoJiZ0aGlzLm9wdGlvbnMucmFuZ2U9PT0hMCYmKGk9MD09PXQ/TWF0aC5taW4ocixpKTpNYXRoLm1heChyLGkpKSxlW3RdPWkpO2khPT1mJiYodT10aGlzLl90cmlnZ2VyKCJzbGlkZSIsbix0aGlzLl91aUhhc2godCxpLGUpKSx1IT09ITEmJih0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpP3RoaXMudmFsdWVzKHQsaSk6dGhpcy52YWx1ZShpKSkpfSxfc3RvcDpmdW5jdGlvbihuLHQpe3RoaXMuX3RyaWdnZXIoInN0b3AiLG4sdGhpcy5fdWlIYXNoKHQpKX0sX2NoYW5nZTpmdW5jdGlvbihuLHQpe3RoaXMuX2tleVNsaWRpbmd8fHRoaXMuX21vdXNlU2xpZGluZ3x8KHRoaXMuX2xhc3RDaGFuZ2VkVmFsdWU9dCx0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLG4sdGhpcy5fdWlIYXNoKHQpKSl9LHZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLm9wdGlvbnMudmFsdWU9dGhpcy5fdHJpbUFsaWduVmFsdWUobiksdGhpcy5fcmVmcmVzaFZhbHVlKCksdGhpcy5fY2hhbmdlKG51bGwsMCksdm9pZCAwKTp0aGlzLl92YWx1ZSgpfSx2YWx1ZXM6ZnVuY3Rpb24odCxpKXt2YXIgdSxmLHI7aWYoYXJndW1lbnRzLmxlbmd0aD4xKXJldHVybiB0aGlzLm9wdGlvbnMudmFsdWVzW3RdPXRoaXMuX3RyaW1BbGlnblZhbHVlKGkpLHRoaXMuX3JlZnJlc2hWYWx1ZSgpLHRoaXMuX2NoYW5nZShudWxsLHQpLHZvaWQgMDtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fdmFsdWVzKCk7aWYoIW4uaXNBcnJheShhcmd1bWVudHNbMF0pKXJldHVybiB0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpP3RoaXMuX3ZhbHVlcyh0KTp0aGlzLnZhbHVlKCk7Zm9yKHU9dGhpcy5vcHRpb25zLnZhbHVlcyxmPWFyZ3VtZW50c1swXSxyPTA7dS5sZW5ndGg+cjtyKz0xKXVbcl09dGhpcy5fdHJpbUFsaWduVmFsdWUoZltyXSksdGhpcy5fY2hhbmdlKG51bGwscik7dGhpcy5fcmVmcmVzaFZhbHVlKCl9LF9zZXRPcHRpb246ZnVuY3Rpb24odCxpKXt2YXIgcix1PTA7c3dpdGNoKCJyYW5nZSI9PT10JiZ0aGlzLm9wdGlvbnMucmFuZ2U9PT0hMCYmKCJtaW4iPT09aT8odGhpcy5vcHRpb25zLnZhbHVlPXRoaXMuX3ZhbHVlcygwKSx0aGlzLm9wdGlvbnMudmFsdWVzPW51bGwpOiJtYXgiPT09aSYmKHRoaXMub3B0aW9ucy52YWx1ZT10aGlzLl92YWx1ZXModGhpcy5vcHRpb25zLnZhbHVlcy5sZW5ndGgtMSksdGhpcy5vcHRpb25zLnZhbHVlcz1udWxsKSksbi5pc0FycmF5KHRoaXMub3B0aW9ucy52YWx1ZXMpJiYodT10aGlzLm9wdGlvbnMudmFsdWVzLmxlbmd0aCksdGhpcy5fc3VwZXIodCxpKSx0KXtjYXNlIm9yaWVudGF0aW9uIjp0aGlzLl9kZXRlY3RPcmllbnRhdGlvbigpO3RoaXMuX3JlbW92ZUNsYXNzKCJ1aS1zbGlkZXItaG9yaXpvbnRhbCB1aS1zbGlkZXItdmVydGljYWwiKS5fYWRkQ2xhc3MoInVpLXNsaWRlci0iK3RoaXMub3JpZW50YXRpb24pO3RoaXMuX3JlZnJlc2hWYWx1ZSgpO3RoaXMub3B0aW9ucy5yYW5nZSYmdGhpcy5fcmVmcmVzaFJhbmdlKGkpO3RoaXMuaGFuZGxlcy5jc3MoImhvcml6b250YWwiPT09aT8iYm90dG9tIjoibGVmdCIsIiIpO2JyZWFrO2Nhc2UidmFsdWUiOnRoaXMuX2FuaW1hdGVPZmY9ITA7dGhpcy5fcmVmcmVzaFZhbHVlKCk7dGhpcy5fY2hhbmdlKG51bGwsMCk7dGhpcy5fYW5pbWF0ZU9mZj0hMTticmVhaztjYXNlInZhbHVlcyI6Zm9yKHRoaXMuX2FuaW1hdGVPZmY9ITAsdGhpcy5fcmVmcmVzaFZhbHVlKCkscj11LTE7cj49MDtyLS0pdGhpcy5fY2hhbmdlKG51bGwscik7dGhpcy5fYW5pbWF0ZU9mZj0hMTticmVhaztjYXNlInN0ZXAiOmNhc2UibWluIjpjYXNlIm1heCI6dGhpcy5fYW5pbWF0ZU9mZj0hMDt0aGlzLl9jYWxjdWxhdGVOZXdNYXgoKTt0aGlzLl9yZWZyZXNoVmFsdWUoKTt0aGlzLl9hbmltYXRlT2ZmPSExO2JyZWFrO2Nhc2UicmFuZ2UiOnRoaXMuX2FuaW1hdGVPZmY9ITA7dGhpcy5fcmVmcmVzaCgpO3RoaXMuX2FuaW1hdGVPZmY9ITF9fSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5fdG9nZ2xlQ2xhc3MobnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhbil9LF92YWx1ZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3B0aW9ucy52YWx1ZTtyZXR1cm4gdGhpcy5fdHJpbUFsaWduVmFsdWUobil9LF92YWx1ZXM6ZnVuY3Rpb24obil7dmFyIHIsdCxpO2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHI9dGhpcy5vcHRpb25zLnZhbHVlc1tuXSxyPXRoaXMuX3RyaW1BbGlnblZhbHVlKHIpO2lmKHRoaXMuX2hhc011bHRpcGxlVmFsdWVzKCkpe2Zvcih0PXRoaXMub3B0aW9ucy52YWx1ZXMuc2xpY2UoKSxpPTA7dC5sZW5ndGg+aTtpKz0xKXRbaV09dGhpcy5fdHJpbUFsaWduVmFsdWUodFtpXSk7cmV0dXJuIHR9cmV0dXJuW119LF90cmltQWxpZ25WYWx1ZTpmdW5jdGlvbihuKXtpZih0aGlzLl92YWx1ZU1pbigpPj1uKXJldHVybiB0aGlzLl92YWx1ZU1pbigpO2lmKG4+PXRoaXMuX3ZhbHVlTWF4KCkpcmV0dXJuIHRoaXMuX3ZhbHVlTWF4KCk7dmFyIHQ9dGhpcy5vcHRpb25zLnN0ZXA+MD90aGlzLm9wdGlvbnMuc3RlcDoxLGk9KG4tdGhpcy5fdmFsdWVNaW4oKSkldCxyPW4taTtyZXR1cm4gMipNYXRoLmFicyhpKT49dCYmKHIrPWk+MD90Oi10KSxwYXJzZUZsb2F0KHIudG9GaXhlZCg1KSl9LF9jYWxjdWxhdGVOZXdNYXg6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnMubWF4LGk9dGhpcy5fdmFsdWVNaW4oKSx0PXRoaXMub3B0aW9ucy5zdGVwLHI9TWF0aC5yb3VuZCgobi1pKS90KSp0O249citpO24+dGhpcy5vcHRpb25zLm1heCYmKG4tPXQpO3RoaXMubWF4PXBhcnNlRmxvYXQobi50b0ZpeGVkKHRoaXMuX3ByZWNpc2lvbigpKSl9LF9wcmVjaXNpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9wcmVjaXNpb25PZih0aGlzLm9wdGlvbnMuc3RlcCk7cmV0dXJuIG51bGwhPT10aGlzLm9wdGlvbnMubWluJiYobj1NYXRoLm1heChuLHRoaXMuX3ByZWNpc2lvbk9mKHRoaXMub3B0aW9ucy5taW4pKSksbn0sX3ByZWNpc2lvbk9mOmZ1bmN0aW9uKG4pe3ZhciB0PSIiK24saT10LmluZGV4T2YoIi4iKTtyZXR1cm4tMT09PWk/MDp0Lmxlbmd0aC1pLTF9LF92YWx1ZU1pbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubWlufSxfdmFsdWVNYXg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXh9LF9yZWZyZXNoUmFuZ2U6ZnVuY3Rpb24obil7InZlcnRpY2FsIj09PW4mJnRoaXMucmFuZ2UuY3NzKHt3aWR0aDoiIixsZWZ0OiIifSk7Imhvcml6b250YWwiPT09biYmdGhpcy5yYW5nZS5jc3Moe2hlaWdodDoiIixib3R0b206IiJ9KX0sX3JlZnJlc2hWYWx1ZTpmdW5jdGlvbigpe3ZhciBzLHQsYyxmLGgsZT10aGlzLm9wdGlvbnMucmFuZ2UsaT10aGlzLm9wdGlvbnMscj10aGlzLHU9dGhpcy5fYW5pbWF0ZU9mZj8hMTppLmFuaW1hdGUsbz17fTt0aGlzLl9oYXNNdWx0aXBsZVZhbHVlcygpP3RoaXMuaGFuZGxlcy5lYWNoKGZ1bmN0aW9uKGYpe3Q9MTAwKigoci52YWx1ZXMoZiktci5fdmFsdWVNaW4oKSkvKHIuX3ZhbHVlTWF4KCktci5fdmFsdWVNaW4oKSkpO29bImhvcml6b250YWwiPT09ci5vcmllbnRhdGlvbj8ibGVmdCI6ImJvdHRvbSJdPXQrIiUiO24odGhpcykuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXShvLGkuYW5pbWF0ZSk7ci5vcHRpb25zLnJhbmdlPT09ITAmJigiaG9yaXpvbnRhbCI9PT1yLm9yaWVudGF0aW9uPygwPT09ZiYmci5yYW5nZS5zdG9wKDEsMSlbdT8iYW5pbWF0ZSI6ImNzcyJdKHtsZWZ0OnQrIiUifSxpLmFuaW1hdGUpLDE9PT1mJiZyLnJhbmdlW3U/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6dC1zKyIlIn0se3F1ZXVlOiExLGR1cmF0aW9uOmkuYW5pbWF0ZX0pKTooMD09PWYmJnIucmFuZ2Uuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXSh7Ym90dG9tOnQrIiUifSxpLmFuaW1hdGUpLDE9PT1mJiZyLnJhbmdlW3U/ImFuaW1hdGUiOiJjc3MiXSh7aGVpZ2h0OnQtcysiJSJ9LHtxdWV1ZTohMSxkdXJhdGlvbjppLmFuaW1hdGV9KSkpO3M9dH0pOihjPXRoaXMudmFsdWUoKSxmPXRoaXMuX3ZhbHVlTWluKCksaD10aGlzLl92YWx1ZU1heCgpLHQ9aCE9PWY/MTAwKigoYy1mKS8oaC1mKSk6MCxvWyJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24/ImxlZnQiOiJib3R0b20iXT10KyIlIix0aGlzLmhhbmRsZS5zdG9wKDEsMSlbdT8iYW5pbWF0ZSI6ImNzcyJdKG8saS5hbmltYXRlKSwibWluIj09PWUmJiJob3Jpem9udGFsIj09PXRoaXMub3JpZW50YXRpb24mJnRoaXMucmFuZ2Uuc3RvcCgxLDEpW3U/ImFuaW1hdGUiOiJjc3MiXSh7d2lkdGg6dCsiJSJ9LGkuYW5pbWF0ZSksIm1heCI9PT1lJiYiaG9yaXpvbnRhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0oe3dpZHRoOjEwMC10KyIlIn0saS5hbmltYXRlKSwibWluIj09PWUmJiJ2ZXJ0aWNhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDp0KyIlIn0saS5hbmltYXRlKSwibWF4Ij09PWUmJiJ2ZXJ0aWNhbCI9PT10aGlzLm9yaWVudGF0aW9uJiZ0aGlzLnJhbmdlLnN0b3AoMSwxKVt1PyJhbmltYXRlIjoiY3NzIl0oe2hlaWdodDoxMDAtdCsiJSJ9LGkuYW5pbWF0ZSkpfSxfaGFuZGxlRXZlbnRzOntrZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciBlLHIsaSx1LGY9bih0LnRhcmdldCkuZGF0YSgidWktc2xpZGVyLWhhbmRsZS1pbmRleCIpO3N3aXRjaCh0LmtleUNvZGUpe2Nhc2Ugbi51aS5rZXlDb2RlLkhPTUU6Y2FzZSBuLnVpLmtleUNvZGUuRU5EOmNhc2Ugbi51aS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBuLnVpLmtleUNvZGUuUEFHRV9ET1dOOmNhc2Ugbi51aS5rZXlDb2RlLlVQOmNhc2Ugbi51aS5rZXlDb2RlLlJJR0hUOmNhc2Ugbi51aS5rZXlDb2RlLkRPV046Y2FzZSBuLnVpLmtleUNvZGUuTEVGVDppZih0LnByZXZlbnREZWZhdWx0KCksIXRoaXMuX2tleVNsaWRpbmcmJih0aGlzLl9rZXlTbGlkaW5nPSEwLHRoaXMuX2FkZENsYXNzKG4odC50YXJnZXQpLG51bGwsInVpLXN0YXRlLWFjdGl2ZSIpLGU9dGhpcy5fc3RhcnQodCxmKSxlPT09ITEpKXJldHVybn1zd2l0Y2godT10aGlzLm9wdGlvbnMuc3RlcCxyPWk9dGhpcy5faGFzTXVsdGlwbGVWYWx1ZXMoKT90aGlzLnZhbHVlcyhmKTp0aGlzLnZhbHVlKCksdC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5IT01FOmk9dGhpcy5fdmFsdWVNaW4oKTticmVhaztjYXNlIG4udWkua2V5Q29kZS5FTkQ6aT10aGlzLl92YWx1ZU1heCgpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlBBR0VfVVA6aT10aGlzLl90cmltQWxpZ25WYWx1ZShyKyh0aGlzLl92YWx1ZU1heCgpLXRoaXMuX3ZhbHVlTWluKCkpL3RoaXMubnVtUGFnZXMpO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLlBBR0VfRE9XTjppPXRoaXMuX3RyaW1BbGlnblZhbHVlKHItKHRoaXMuX3ZhbHVlTWF4KCktdGhpcy5fdmFsdWVNaW4oKSkvdGhpcy5udW1QYWdlcyk7YnJlYWs7Y2FzZSBuLnVpLmtleUNvZGUuVVA6Y2FzZSBuLnVpLmtleUNvZGUuUklHSFQ6aWYocj09PXRoaXMuX3ZhbHVlTWF4KCkpcmV0dXJuO2k9dGhpcy5fdHJpbUFsaWduVmFsdWUocit1KTticmVhaztjYXNlIG4udWkua2V5Q29kZS5ET1dOOmNhc2Ugbi51aS5rZXlDb2RlLkxFRlQ6aWYocj09PXRoaXMuX3ZhbHVlTWluKCkpcmV0dXJuO2k9dGhpcy5fdHJpbUFsaWduVmFsdWUoci11KX10aGlzLl9zbGlkZSh0LGYsaSl9LGtleXVwOmZ1bmN0aW9uKHQpe3ZhciBpPW4odC50YXJnZXQpLmRhdGEoInVpLXNsaWRlci1oYW5kbGUtaW5kZXgiKTt0aGlzLl9rZXlTbGlkaW5nJiYodGhpcy5fa2V5U2xpZGluZz0hMSx0aGlzLl9zdG9wKHQsaSksdGhpcy5fY2hhbmdlKHQsaSksdGhpcy5fcmVtb3ZlQ2xhc3Mobih0LnRhcmdldCksbnVsbCwidWktc3RhdGUtYWN0aXZlIikpfX19KTtuLndpZGdldCgidWkuc29ydGFibGUiLG4udWkubW91c2Use3ZlcnNpb246IjEuMTIuMSIsd2lkZ2V0RXZlbnRQcmVmaXg6InNvcnQiLHJlYWR5OiExLG9wdGlvbnM6e2FwcGVuZFRvOiJwYXJlbnQiLGF4aXM6ITEsY29ubmVjdFdpdGg6ITEsY29udGFpbm1lbnQ6ITEsY3Vyc29yOiJhdXRvIixjdXJzb3JBdDohMSxkcm9wT25FbXB0eTohMCxmb3JjZVBsYWNlaG9sZGVyU2l6ZTohMSxmb3JjZUhlbHBlclNpemU6ITEsZ3JpZDohMSxoYW5kbGU6ITEsaGVscGVyOiJvcmlnaW5hbCIsaXRlbXM6Ij4gKiIsb3BhY2l0eTohMSxwbGFjZWhvbGRlcjohMSxyZXZlcnQ6ITEsc2Nyb2xsOiEwLHNjcm9sbFNlbnNpdGl2aXR5OjIwLHNjcm9sbFNwZWVkOjIwLHNjb3BlOiJkZWZhdWx0Iix0b2xlcmFuY2U6ImludGVyc2VjdCIsekluZGV4OjFlMyxhY3RpdmF0ZTpudWxsLGJlZm9yZVN0b3A6bnVsbCxjaGFuZ2U6bnVsbCxkZWFjdGl2YXRlOm51bGwsb3V0Om51bGwsb3ZlcjpudWxsLHJlY2VpdmU6bnVsbCxyZW1vdmU6bnVsbCxzb3J0Om51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGwsdXBkYXRlOm51bGx9LF9pc092ZXJBeGlzOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gbj49dCYmdCtpPm59LF9pc0Zsb2F0aW5nOmZ1bmN0aW9uKG4pe3JldHVybi9sZWZ0fHJpZ2h0Ly50ZXN0KG4uY3NzKCJmbG9hdCIpKXx8L2lubGluZXx0YWJsZS1jZWxsLy50ZXN0KG4uY3NzKCJkaXNwbGF5IikpfSxfY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy5jb250YWluZXJDYWNoZT17fTt0aGlzLl9hZGRDbGFzcygidWktc29ydGFibGUiKTt0aGlzLnJlZnJlc2goKTt0aGlzLm9mZnNldD10aGlzLmVsZW1lbnQub2Zmc2V0KCk7dGhpcy5fbW91c2VJbml0KCk7dGhpcy5fc2V0SGFuZGxlQ2xhc3NOYW1lKCk7dGhpcy5yZWFkeT0hMH0sX3NldE9wdGlvbjpmdW5jdGlvbihuLHQpe3RoaXMuX3N1cGVyKG4sdCk7ImhhbmRsZSI9PT1uJiZ0aGlzLl9zZXRIYW5kbGVDbGFzc05hbWUoKX0sX3NldEhhbmRsZUNsYXNzTmFtZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50LmZpbmQoIi51aS1zb3J0YWJsZS1oYW5kbGUiKSwidWktc29ydGFibGUtaGFuZGxlIik7bi5lYWNoKHRoaXMuaXRlbXMsZnVuY3Rpb24oKXt0Ll9hZGRDbGFzcyh0aGlzLmluc3RhbmNlLm9wdGlvbnMuaGFuZGxlP3RoaXMuaXRlbS5maW5kKHRoaXMuaW5zdGFuY2Uub3B0aW9ucy5oYW5kbGUpOnRoaXMuaXRlbSwidWktc29ydGFibGUtaGFuZGxlIil9KX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9tb3VzZURlc3Ryb3koKTtmb3IodmFyIG49dGhpcy5pdGVtcy5sZW5ndGgtMTtuPj0wO24tLSl0aGlzLml0ZW1zW25dLml0ZW0ucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUrIi1pdGVtIik7cmV0dXJuIHRoaXN9LF9tb3VzZUNhcHR1cmU6ZnVuY3Rpb24odCxpKXt2YXIgcj1udWxsLGY9ITEsdT10aGlzO3JldHVybiB0aGlzLnJldmVydGluZz8hMTp0aGlzLm9wdGlvbnMuZGlzYWJsZWR8fCJzdGF0aWMiPT09dGhpcy5vcHRpb25zLnR5cGU/ITE6KHRoaXMuX3JlZnJlc2hJdGVtcyh0KSxuKHQudGFyZ2V0KS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe2lmKG4uZGF0YSh0aGlzLHUud2lkZ2V0TmFtZSsiLWl0ZW0iKT09PXUpcmV0dXJuKHI9bih0aGlzKSwhMSl9KSxuLmRhdGEodC50YXJnZXQsdS53aWRnZXROYW1lKyItaXRlbSIpPT09dSYmKHI9bih0LnRhcmdldCkpLHI/IXRoaXMub3B0aW9ucy5oYW5kbGV8fGl8fChuKHRoaXMub3B0aW9ucy5oYW5kbGUscikuZmluZCgiKiIpLmFkZEJhY2soKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcz09PXQudGFyZ2V0JiYoZj0hMCl9KSxmKT8odGhpcy5jdXJyZW50SXRlbT1yLHRoaXMuX3JlbW92ZUN1cnJlbnRzRnJvbUl0ZW1zKCksITApOiExOiExKX0sX21vdXNlU3RhcnQ6ZnVuY3Rpb24odCxpLHIpe3ZhciBmLGUsdT10aGlzLm9wdGlvbnM7aWYodGhpcy5jdXJyZW50Q29udGFpbmVyPXRoaXMsdGhpcy5yZWZyZXNoUG9zaXRpb25zKCksdGhpcy5oZWxwZXI9dGhpcy5fY3JlYXRlSGVscGVyKHQpLHRoaXMuX2NhY2hlSGVscGVyUHJvcG9ydGlvbnMoKSx0aGlzLl9jYWNoZU1hcmdpbnMoKSx0aGlzLnNjcm9sbFBhcmVudD10aGlzLmhlbHBlci5zY3JvbGxQYXJlbnQoKSx0aGlzLm9mZnNldD10aGlzLmN1cnJlbnRJdGVtLm9mZnNldCgpLHRoaXMub2Zmc2V0PXt0b3A6dGhpcy5vZmZzZXQudG9wLXRoaXMubWFyZ2lucy50b3AsbGVmdDp0aGlzLm9mZnNldC5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0fSxuLmV4dGVuZCh0aGlzLm9mZnNldCx7Y2xpY2s6e2xlZnQ6dC5wYWdlWC10aGlzLm9mZnNldC5sZWZ0LHRvcDp0LnBhZ2VZLXRoaXMub2Zmc2V0LnRvcH0scGFyZW50OnRoaXMuX2dldFBhcmVudE9mZnNldCgpLHJlbGF0aXZlOnRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCl9KSx0aGlzLmhlbHBlci5jc3MoInBvc2l0aW9uIiwiYWJzb2x1dGUiKSx0aGlzLmNzc1Bvc2l0aW9uPXRoaXMuaGVscGVyLmNzcygicG9zaXRpb24iKSx0aGlzLm9yaWdpbmFsUG9zaXRpb249dGhpcy5fZ2VuZXJhdGVQb3NpdGlvbih0KSx0aGlzLm9yaWdpbmFsUGFnZVg9dC5wYWdlWCx0aGlzLm9yaWdpbmFsUGFnZVk9dC5wYWdlWSx1LmN1cnNvckF0JiZ0aGlzLl9hZGp1c3RPZmZzZXRGcm9tSGVscGVyKHUuY3Vyc29yQXQpLHRoaXMuZG9tUG9zaXRpb249e3ByZXY6dGhpcy5jdXJyZW50SXRlbS5wcmV2KClbMF0scGFyZW50OnRoaXMuY3VycmVudEl0ZW0ucGFyZW50KClbMF19LHRoaXMuaGVscGVyWzBdIT09dGhpcy5jdXJyZW50SXRlbVswXSYmdGhpcy5jdXJyZW50SXRlbS5oaWRlKCksdGhpcy5fY3JlYXRlUGxhY2Vob2xkZXIoKSx1LmNvbnRhaW5tZW50JiZ0aGlzLl9zZXRDb250YWlubWVudCgpLHUuY3Vyc29yJiYiYXV0byIhPT11LmN1cnNvciYmKGU9dGhpcy5kb2N1bWVudC5maW5kKCJib2R5IiksdGhpcy5zdG9yZWRDdXJzb3I9ZS5jc3MoImN1cnNvciIpLGUuY3NzKCJjdXJzb3IiLHUuY3Vyc29yKSx0aGlzLnN0b3JlZFN0eWxlc2hlZXQ9bigiPHN0eWxlPip7IGN1cnNvcjogIit1LmN1cnNvcisiICFpbXBvcnRhbnQ7IH08XC9zdHlsZT4iKS5hcHBlbmRUbyhlKSksdS5vcGFjaXR5JiYodGhpcy5oZWxwZXIuY3NzKCJvcGFjaXR5IikmJih0aGlzLl9zdG9yZWRPcGFjaXR5PXRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIpKSx0aGlzLmhlbHBlci5jc3MoIm9wYWNpdHkiLHUub3BhY2l0eSkpLHUuekluZGV4JiYodGhpcy5oZWxwZXIuY3NzKCJ6SW5kZXgiKSYmKHRoaXMuX3N0b3JlZFpJbmRleD10aGlzLmhlbHBlci5jc3MoInpJbmRleCIpKSx0aGlzLmhlbHBlci5jc3MoInpJbmRleCIsdS56SW5kZXgpKSx0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0mJiJIVE1MIiE9PXRoaXMuc2Nyb2xsUGFyZW50WzBdLnRhZ05hbWUmJih0aGlzLm92ZXJmbG93T2Zmc2V0PXRoaXMuc2Nyb2xsUGFyZW50Lm9mZnNldCgpKSx0aGlzLl90cmlnZ2VyKCJzdGFydCIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5fcHJlc2VydmVIZWxwZXJQcm9wb3J0aW9uc3x8dGhpcy5fY2FjaGVIZWxwZXJQcm9wb3J0aW9ucygpLCFyKWZvcihmPXRoaXMuY29udGFpbmVycy5sZW5ndGgtMTtmPj0wO2YtLSl0aGlzLmNvbnRhaW5lcnNbZl0uX3RyaWdnZXIoImFjdGl2YXRlIix0LHRoaXMuX3VpSGFzaCh0aGlzKSk7cmV0dXJuIG4udWkuZGRtYW5hZ2VyJiYobi51aS5kZG1hbmFnZXIuY3VycmVudD10aGlzKSxuLnVpLmRkbWFuYWdlciYmIXUuZHJvcEJlaGF2aW91ciYmbi51aS5kZG1hbmFnZXIucHJlcGFyZU9mZnNldHModGhpcyx0KSx0aGlzLmRyYWdnaW5nPSEwLHRoaXMuX2FkZENsYXNzKHRoaXMuaGVscGVyLCJ1aS1zb3J0YWJsZS1oZWxwZXIiKSx0aGlzLl9tb3VzZURyYWcodCksITB9LF9tb3VzZURyYWc6ZnVuY3Rpb24odCl7dmFyIGUsdSxmLG8saT10aGlzLm9wdGlvbnMscj0hMTtmb3IodGhpcy5wb3NpdGlvbj10aGlzLl9nZW5lcmF0ZVBvc2l0aW9uKHQpLHRoaXMucG9zaXRpb25BYnM9dGhpcy5fY29udmVydFBvc2l0aW9uVG8oImFic29sdXRlIiksdGhpcy5sYXN0UG9zaXRpb25BYnN8fCh0aGlzLmxhc3RQb3NpdGlvbkFicz10aGlzLnBvc2l0aW9uQWJzKSx0aGlzLm9wdGlvbnMuc2Nyb2xsJiYodGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLmRvY3VtZW50WzBdJiYiSFRNTCIhPT10aGlzLnNjcm9sbFBhcmVudFswXS50YWdOYW1lPyh0aGlzLm92ZXJmbG93T2Zmc2V0LnRvcCt0aGlzLnNjcm9sbFBhcmVudFswXS5vZmZzZXRIZWlnaHQtdC5wYWdlWTxpLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1yPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcCtpLnNjcm9sbFNwZWVkOnQucGFnZVktdGhpcy5vdmVyZmxvd09mZnNldC50b3A8aS5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcD1yPXRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbFRvcC1pLnNjcm9sbFNwZWVkKSx0aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQrdGhpcy5zY3JvbGxQYXJlbnRbMF0ub2Zmc2V0V2lkdGgtdC5wYWdlWDxpLnNjcm9sbFNlbnNpdGl2aXR5P3RoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9cj10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0K2kuc2Nyb2xsU3BlZWQ6dC5wYWdlWC10aGlzLm92ZXJmbG93T2Zmc2V0LmxlZnQ8aS5zY3JvbGxTZW5zaXRpdml0eSYmKHRoaXMuc2Nyb2xsUGFyZW50WzBdLnNjcm9sbExlZnQ9cj10aGlzLnNjcm9sbFBhcmVudFswXS5zY3JvbGxMZWZ0LWkuc2Nyb2xsU3BlZWQpKToodC5wYWdlWS10aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpPGkuc2Nyb2xsU2Vuc2l0aXZpdHk/cj10aGlzLmRvY3VtZW50LnNjcm9sbFRvcCh0aGlzLmRvY3VtZW50LnNjcm9sbFRvcCgpLWkuc2Nyb2xsU3BlZWQpOnRoaXMud2luZG93LmhlaWdodCgpLSh0LnBhZ2VZLXRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkpPGkuc2Nyb2xsU2Vuc2l0aXZpdHkmJihyPXRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKHRoaXMuZG9jdW1lbnQuc2Nyb2xsVG9wKCkraS5zY3JvbGxTcGVlZCkpLHQucGFnZVgtdGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCk8aS5zY3JvbGxTZW5zaXRpdml0eT9yPXRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCh0aGlzLmRvY3VtZW50LnNjcm9sbExlZnQoKS1pLnNjcm9sbFNwZWVkKTp0aGlzLndpbmRvdy53aWR0aCgpLSh0LnBhZ2VYLXRoaXMuZG9jdW1lbnQuc2Nyb2xsTGVmdCgpKTxpLnNjcm9sbFNlbnNpdGl2aXR5JiYocj10aGlzLmRvY3VtZW50LnNjcm9sbExlZnQodGhpcy5kb2N1bWVudC5zY3JvbGxMZWZ0KCkraS5zY3JvbGxTcGVlZCkpKSxyIT09ITEmJm4udWkuZGRtYW5hZ2VyJiYhaS5kcm9wQmVoYXZpb3VyJiZuLnVpLmRkbWFuYWdlci5wcmVwYXJlT2Zmc2V0cyh0aGlzLHQpKSx0aGlzLnBvc2l0aW9uQWJzPXRoaXMuX2NvbnZlcnRQb3NpdGlvblRvKCJhYnNvbHV0ZSIpLHRoaXMub3B0aW9ucy5heGlzJiYieSI9PT10aGlzLm9wdGlvbnMuYXhpc3x8KHRoaXMuaGVscGVyWzBdLnN0eWxlLmxlZnQ9dGhpcy5wb3NpdGlvbi5sZWZ0KyJweCIpLHRoaXMub3B0aW9ucy5heGlzJiYieCI9PT10aGlzLm9wdGlvbnMuYXhpc3x8KHRoaXMuaGVscGVyWzBdLnN0eWxlLnRvcD10aGlzLnBvc2l0aW9uLnRvcCsicHgiKSxlPXRoaXMuaXRlbXMubGVuZ3RoLTE7ZT49MDtlLS0paWYodT10aGlzLml0ZW1zW2VdLGY9dS5pdGVtWzBdLG89dGhpcy5faW50ZXJzZWN0c1dpdGhQb2ludGVyKHUpLG8mJnUuaW5zdGFuY2U9PT10aGlzLmN1cnJlbnRDb250YWluZXImJmYhPT10aGlzLmN1cnJlbnRJdGVtWzBdJiZ0aGlzLnBsYWNlaG9sZGVyWzE9PT1vPyJuZXh0IjoicHJldiJdKClbMF0hPT1mJiYhbi5jb250YWlucyh0aGlzLnBsYWNlaG9sZGVyWzBdLGYpJiYoInNlbWktZHluYW1pYyI9PT10aGlzLm9wdGlvbnMudHlwZT8hbi5jb250YWlucyh0aGlzLmVsZW1lbnRbMF0sZik6ITApKXtpZih0aGlzLmRpcmVjdGlvbj0xPT09bz8iZG93biI6InVwIiwicG9pbnRlciIhPT10aGlzLm9wdGlvbnMudG9sZXJhbmNlJiYhdGhpcy5faW50ZXJzZWN0c1dpdGhTaWRlcyh1KSlicmVhazt0aGlzLl9yZWFycmFuZ2UodCx1KTt0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLHQsdGhpcy5fdWlIYXNoKCkpO2JyZWFrfXJldHVybiB0aGlzLl9jb250YWN0Q29udGFpbmVycyh0KSxuLnVpLmRkbWFuYWdlciYmbi51aS5kZG1hbmFnZXIuZHJhZyh0aGlzLHQpLHRoaXMuX3RyaWdnZXIoInNvcnQiLHQsdGhpcy5fdWlIYXNoKCkpLHRoaXMubGFzdFBvc2l0aW9uQWJzPXRoaXMucG9zaXRpb25BYnMsITF9LF9tb3VzZVN0b3A6ZnVuY3Rpb24odCxpKXtpZih0KXtpZihuLnVpLmRkbWFuYWdlciYmIXRoaXMub3B0aW9ucy5kcm9wQmVoYXZpb3VyJiZuLnVpLmRkbWFuYWdlci5kcm9wKHRoaXMsdCksdGhpcy5vcHRpb25zLnJldmVydCl7dmFyIGU9dGhpcyxmPXRoaXMucGxhY2Vob2xkZXIub2Zmc2V0KCkscj10aGlzLm9wdGlvbnMuYXhpcyx1PXt9O3ImJiJ4IiE9PXJ8fCh1LmxlZnQ9Zi5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0LXRoaXMubWFyZ2lucy5sZWZ0Kyh0aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keT8wOnRoaXMub2Zmc2V0UGFyZW50WzBdLnNjcm9sbExlZnQpKTtyJiYieSIhPT1yfHwodS50b3A9Zi50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcC10aGlzLm1hcmdpbnMudG9wKyh0aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keT8wOnRoaXMub2Zmc2V0UGFyZW50WzBdLnNjcm9sbFRvcCkpO3RoaXMucmV2ZXJ0aW5nPSEwO24odGhpcy5oZWxwZXIpLmFuaW1hdGUodSxwYXJzZUludCh0aGlzLm9wdGlvbnMucmV2ZXJ0LDEwKXx8NTAwLGZ1bmN0aW9uKCl7ZS5fY2xlYXIodCl9KX1lbHNlIHRoaXMuX2NsZWFyKHQsaSk7cmV0dXJuITF9fSxjYW5jZWw6ZnVuY3Rpb24oKXtpZih0aGlzLmRyYWdnaW5nKXt0aGlzLl9tb3VzZVVwKG5ldyBuLkV2ZW50KCJtb3VzZXVwIix7dGFyZ2V0Om51bGx9KSk7Im9yaWdpbmFsIj09PXRoaXMub3B0aW9ucy5oZWxwZXI/KHRoaXMuY3VycmVudEl0ZW0uY3NzKHRoaXMuX3N0b3JlZENTUyksdGhpcy5fcmVtb3ZlQ2xhc3ModGhpcy5jdXJyZW50SXRlbSwidWktc29ydGFibGUtaGVscGVyIikpOnRoaXMuY3VycmVudEl0ZW0uc2hvdygpO2Zvcih2YXIgdD10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7dD49MDt0LS0pdGhpcy5jb250YWluZXJzW3RdLl90cmlnZ2VyKCJkZWFjdGl2YXRlIixudWxsLHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW3RdLmNvbnRhaW5lckNhY2hlLm92ZXImJih0aGlzLmNvbnRhaW5lcnNbdF0uX3RyaWdnZXIoIm91dCIsbnVsbCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1t0XS5jb250YWluZXJDYWNoZS5vdmVyPTApfXJldHVybiB0aGlzLnBsYWNlaG9sZGVyJiYodGhpcy5wbGFjZWhvbGRlclswXS5wYXJlbnROb2RlJiZ0aGlzLnBsYWNlaG9sZGVyWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wbGFjZWhvbGRlclswXSksIm9yaWdpbmFsIiE9PXRoaXMub3B0aW9ucy5oZWxwZXImJnRoaXMuaGVscGVyJiZ0aGlzLmhlbHBlclswXS5wYXJlbnROb2RlJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSxuLmV4dGVuZCh0aGlzLHtoZWxwZXI6bnVsbCxkcmFnZ2luZzohMSxyZXZlcnRpbmc6ITEsX25vRmluYWxTb3J0Om51bGx9KSx0aGlzLmRvbVBvc2l0aW9uLnByZXY/bih0aGlzLmRvbVBvc2l0aW9uLnByZXYpLmFmdGVyKHRoaXMuY3VycmVudEl0ZW0pOm4odGhpcy5kb21Qb3NpdGlvbi5wYXJlbnQpLnByZXBlbmQodGhpcy5jdXJyZW50SXRlbSkpLHRoaXN9LHNlcmlhbGl6ZTpmdW5jdGlvbih0KXt2YXIgcj10aGlzLl9nZXRJdGVtc0FzalF1ZXJ5KHQmJnQuY29ubmVjdGVkKSxpPVtdO3JldHVybiB0PXR8fHt9LG4ocikuZWFjaChmdW5jdGlvbigpe3ZhciByPShuKHQuaXRlbXx8dGhpcykuYXR0cih0LmF0dHJpYnV0ZXx8ImlkIil8fCIiKS5tYXRjaCh0LmV4cHJlc3Npb258fC8oLispW1wtPV9dKC4rKS8pO3ImJmkucHVzaCgodC5rZXl8fHJbMV0rIltdIikrIj0iKyh0LmtleSYmdC5leHByZXNzaW9uP3JbMV06clsyXSkpfSksIWkubGVuZ3RoJiZ0LmtleSYmaS5wdXNoKHQua2V5KyI9IiksaS5qb2luKCImIil9LHRvQXJyYXk6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5fZ2V0SXRlbXNBc2pRdWVyeSh0JiZ0LmNvbm5lY3RlZCksaT1bXTtyZXR1cm4gdD10fHx7fSxyLmVhY2goZnVuY3Rpb24oKXtpLnB1c2gobih0Lml0ZW18fHRoaXMpLmF0dHIodC5hdHRyaWJ1dGV8fCJpZCIpfHwiIil9KSxpfSxfaW50ZXJzZWN0c1dpdGg6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5wb3NpdGlvbkFicy5sZWZ0LGg9dCt0aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLGk9dGhpcy5wb3NpdGlvbkFicy50b3AsYz1pK3RoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LHI9bi5sZWZ0LGY9cituLndpZHRoLHU9bi50b3AsZT11K24uaGVpZ2h0LG89dGhpcy5vZmZzZXQuY2xpY2sudG9wLHM9dGhpcy5vZmZzZXQuY2xpY2subGVmdCxsPSJ4Ij09PXRoaXMub3B0aW9ucy5heGlzfHxpK28+dSYmZT5pK28sYT0ieSI9PT10aGlzLm9wdGlvbnMuYXhpc3x8dCtzPnImJmY+dCtzLHY9bCYmYTtyZXR1cm4icG9pbnRlciI9PT10aGlzLm9wdGlvbnMudG9sZXJhbmNlfHx0aGlzLm9wdGlvbnMuZm9yY2VQb2ludGVyRm9yQ29udGFpbmVyc3x8InBvaW50ZXIiIT09dGhpcy5vcHRpb25zLnRvbGVyYW5jZSYmdGhpcy5oZWxwZXJQcm9wb3J0aW9uc1t0aGlzLmZsb2F0aW5nPyJ3aWR0aCI6ImhlaWdodCJdPm5bdGhpcy5mbG9hdGluZz8id2lkdGgiOiJoZWlnaHQiXT92OnQrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC8yPnImJmY+aC10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLzImJmkrdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMj51JiZlPmMtdGhpcy5oZWxwZXJQcm9wb3J0aW9ucy5oZWlnaHQvMn0sX2ludGVyc2VjdHNXaXRoUG9pbnRlcjpmdW5jdGlvbihuKXt2YXIgdCxpLHI9IngiPT09dGhpcy5vcHRpb25zLmF4aXN8fHRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy50b3ArdGhpcy5vZmZzZXQuY2xpY2sudG9wLG4udG9wLG4uaGVpZ2h0KSx1PSJ5Ij09PXRoaXMub3B0aW9ucy5heGlzfHx0aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMubGVmdCt0aGlzLm9mZnNldC5jbGljay5sZWZ0LG4ubGVmdCxuLndpZHRoKSxmPXImJnU7cmV0dXJuIGY/KHQ9dGhpcy5fZ2V0RHJhZ1ZlcnRpY2FsRGlyZWN0aW9uKCksaT10aGlzLl9nZXREcmFnSG9yaXpvbnRhbERpcmVjdGlvbigpLHRoaXMuZmxvYXRpbmc/InJpZ2h0Ij09PWl8fCJkb3duIj09PXQ/MjoxOnQmJigiZG93biI9PT10PzI6MSkpOiExfSxfaW50ZXJzZWN0c1dpdGhTaWRlczpmdW5jdGlvbihuKXt2YXIgcj10aGlzLl9pc092ZXJBeGlzKHRoaXMucG9zaXRpb25BYnMudG9wK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCxuLnRvcCtuLmhlaWdodC8yLG4uaGVpZ2h0KSx1PXRoaXMuX2lzT3ZlckF4aXModGhpcy5wb3NpdGlvbkFicy5sZWZ0K3RoaXMub2Zmc2V0LmNsaWNrLmxlZnQsbi5sZWZ0K24ud2lkdGgvMixuLndpZHRoKSx0PXRoaXMuX2dldERyYWdWZXJ0aWNhbERpcmVjdGlvbigpLGk9dGhpcy5fZ2V0RHJhZ0hvcml6b250YWxEaXJlY3Rpb24oKTtyZXR1cm4gdGhpcy5mbG9hdGluZyYmaT8icmlnaHQiPT09aSYmdXx8ImxlZnQiPT09aSYmIXU6dCYmKCJkb3duIj09PXQmJnJ8fCJ1cCI9PT10JiYhcil9LF9nZXREcmFnVmVydGljYWxEaXJlY3Rpb246ZnVuY3Rpb24oKXt2YXIgbj10aGlzLnBvc2l0aW9uQWJzLnRvcC10aGlzLmxhc3RQb3NpdGlvbkFicy50b3A7cmV0dXJuIDAhPT1uJiYobj4wPyJkb3duIjoidXAiKX0sX2dldERyYWdIb3Jpem9udGFsRGlyZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5wb3NpdGlvbkFicy5sZWZ0LXRoaXMubGFzdFBvc2l0aW9uQWJzLmxlZnQ7cmV0dXJuIDAhPT1uJiYobj4wPyJyaWdodCI6ImxlZnQiKX0scmVmcmVzaDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fcmVmcmVzaEl0ZW1zKG4pLHRoaXMuX3NldEhhbmRsZUNsYXNzTmFtZSgpLHRoaXMucmVmcmVzaFBvc2l0aW9ucygpLHRoaXN9LF9jb25uZWN0V2l0aDpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3B0aW9ucztyZXR1cm4gbi5jb25uZWN0V2l0aC5jb25zdHJ1Y3Rvcj09PVN0cmluZz9bbi5jb25uZWN0V2l0aF06bi5jb25uZWN0V2l0aH0sX2dldEl0ZW1zQXNqUXVlcnk6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gaCgpe3MucHVzaCh0aGlzKX12YXIgcix1LGUsaSxzPVtdLGY9W10sbz10aGlzLl9jb25uZWN0V2l0aCgpO2lmKG8mJnQpZm9yKHI9by5sZW5ndGgtMTtyPj0wO3ItLSlmb3IoZT1uKG9bcl0sdGhpcy5kb2N1bWVudFswXSksdT1lLmxlbmd0aC0xO3U+PTA7dS0tKWk9bi5kYXRhKGVbdV0sdGhpcy53aWRnZXRGdWxsTmFtZSksaSYmaSE9PXRoaXMmJiFpLm9wdGlvbnMuZGlzYWJsZWQmJmYucHVzaChbbi5pc0Z1bmN0aW9uKGkub3B0aW9ucy5pdGVtcyk/aS5vcHRpb25zLml0ZW1zLmNhbGwoaS5lbGVtZW50KTpuKGkub3B0aW9ucy5pdGVtcyxpLmVsZW1lbnQpLm5vdCgiLnVpLXNvcnRhYmxlLWhlbHBlciIpLm5vdCgiLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIiksaV0pO2ZvcihmLnB1c2goW24uaXNGdW5jdGlvbih0aGlzLm9wdGlvbnMuaXRlbXMpP3RoaXMub3B0aW9ucy5pdGVtcy5jYWxsKHRoaXMuZWxlbWVudCxudWxsLHtvcHRpb25zOnRoaXMub3B0aW9ucyxpdGVtOnRoaXMuY3VycmVudEl0ZW19KTpuKHRoaXMub3B0aW9ucy5pdGVtcyx0aGlzLmVsZW1lbnQpLm5vdCgiLnVpLXNvcnRhYmxlLWhlbHBlciIpLm5vdCgiLnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIiksdGhpc10pLHI9Zi5sZW5ndGgtMTtyPj0wO3ItLSlmW3JdWzBdLmVhY2goaCk7cmV0dXJuIG4ocyl9LF9yZW1vdmVDdXJyZW50c0Zyb21JdGVtczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuY3VycmVudEl0ZW0uZmluZCgiOmRhdGEoIit0aGlzLndpZGdldE5hbWUrIi1pdGVtKSIpO3RoaXMuaXRlbXM9bi5ncmVwKHRoaXMuaXRlbXMsZnVuY3Rpb24obil7Zm9yKHZhciBpPTA7dC5sZW5ndGg+aTtpKyspaWYodFtpXT09PW4uaXRlbVswXSlyZXR1cm4hMTtyZXR1cm4hMH0pfSxfcmVmcmVzaEl0ZW1zOmZ1bmN0aW9uKHQpe3RoaXMuaXRlbXM9W107dGhpcy5jb250YWluZXJzPVt0aGlzXTt2YXIgcix1LGUsaSxvLHMsaCxsLGE9dGhpcy5pdGVtcyxmPVtbbi5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy5pdGVtcyk/dGhpcy5vcHRpb25zLml0ZW1zLmNhbGwodGhpcy5lbGVtZW50WzBdLHQse2l0ZW06dGhpcy5jdXJyZW50SXRlbX0pOm4odGhpcy5vcHRpb25zLml0ZW1zLHRoaXMuZWxlbWVudCksdGhpc11dLGM9dGhpcy5fY29ubmVjdFdpdGgoKTtpZihjJiZ0aGlzLnJlYWR5KWZvcihyPWMubGVuZ3RoLTE7cj49MDtyLS0pZm9yKGU9bihjW3JdLHRoaXMuZG9jdW1lbnRbMF0pLHU9ZS5sZW5ndGgtMTt1Pj0wO3UtLSlpPW4uZGF0YShlW3VdLHRoaXMud2lkZ2V0RnVsbE5hbWUpLGkmJmkhPT10aGlzJiYhaS5vcHRpb25zLmRpc2FibGVkJiYoZi5wdXNoKFtuLmlzRnVuY3Rpb24oaS5vcHRpb25zLml0ZW1zKT9pLm9wdGlvbnMuaXRlbXMuY2FsbChpLmVsZW1lbnRbMF0sdCx7aXRlbTp0aGlzLmN1cnJlbnRJdGVtfSk6bihpLm9wdGlvbnMuaXRlbXMsaS5lbGVtZW50KSxpXSksdGhpcy5jb250YWluZXJzLnB1c2goaSkpO2ZvcihyPWYubGVuZ3RoLTE7cj49MDtyLS0pZm9yKG89ZltyXVsxXSxzPWZbcl1bMF0sdT0wLGw9cy5sZW5ndGg7bD51O3UrKyloPW4oc1t1XSksaC5kYXRhKHRoaXMud2lkZ2V0TmFtZSsiLWl0ZW0iLG8pLGEucHVzaCh7aXRlbTpoLGluc3RhbmNlOm8sd2lkdGg6MCxoZWlnaHQ6MCxsZWZ0OjAsdG9wOjB9KX0scmVmcmVzaFBvc2l0aW9uczpmdW5jdGlvbih0KXt0aGlzLmZsb2F0aW5nPXRoaXMuaXRlbXMubGVuZ3RoPyJ4Ij09PXRoaXMub3B0aW9ucy5heGlzfHx0aGlzLl9pc0Zsb2F0aW5nKHRoaXMuaXRlbXNbMF0uaXRlbSk6ITE7dGhpcy5vZmZzZXRQYXJlbnQmJnRoaXMuaGVscGVyJiYodGhpcy5vZmZzZXQucGFyZW50PXRoaXMuX2dldFBhcmVudE9mZnNldCgpKTtmb3IodmFyIHIsZix1LGk9dGhpcy5pdGVtcy5sZW5ndGgtMTtpPj0wO2ktLSlyPXRoaXMuaXRlbXNbaV0sci5pbnN0YW5jZSE9PXRoaXMuY3VycmVudENvbnRhaW5lciYmdGhpcy5jdXJyZW50Q29udGFpbmVyJiZyLml0ZW1bMF0hPT10aGlzLmN1cnJlbnRJdGVtWzBdfHwoZj10aGlzLm9wdGlvbnMudG9sZXJhbmNlRWxlbWVudD9uKHRoaXMub3B0aW9ucy50b2xlcmFuY2VFbGVtZW50LHIuaXRlbSk6ci5pdGVtLHR8fChyLndpZHRoPWYub3V0ZXJXaWR0aCgpLHIuaGVpZ2h0PWYub3V0ZXJIZWlnaHQoKSksdT1mLm9mZnNldCgpLHIubGVmdD11LmxlZnQsci50b3A9dS50b3ApO2lmKHRoaXMub3B0aW9ucy5jdXN0b20mJnRoaXMub3B0aW9ucy5jdXN0b20ucmVmcmVzaENvbnRhaW5lcnMpdGhpcy5vcHRpb25zLmN1c3RvbS5yZWZyZXNoQ29udGFpbmVycy5jYWxsKHRoaXMpO2Vsc2UgZm9yKGk9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO2k+PTA7aS0tKXU9dGhpcy5jb250YWluZXJzW2ldLmVsZW1lbnQub2Zmc2V0KCksdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLmxlZnQ9dS5sZWZ0LHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS50b3A9dS50b3AsdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLndpZHRoPXRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm91dGVyV2lkdGgoKSx0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUuaGVpZ2h0PXRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50Lm91dGVySGVpZ2h0KCk7cmV0dXJuIHRoaXN9LF9jcmVhdGVQbGFjZWhvbGRlcjpmdW5jdGlvbih0KXt0PXR8fHRoaXM7dmFyIHIsaT10Lm9wdGlvbnM7aS5wbGFjZWhvbGRlciYmaS5wbGFjZWhvbGRlci5jb25zdHJ1Y3RvciE9PVN0cmluZ3x8KHI9aS5wbGFjZWhvbGRlcixpLnBsYWNlaG9sZGVyPXtlbGVtZW50OmZ1bmN0aW9uKCl7dmFyIHU9dC5jdXJyZW50SXRlbVswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGk9bigiPCIrdSsiPiIsdC5kb2N1bWVudFswXSk7cmV0dXJuIHQuX2FkZENsYXNzKGksInVpLXNvcnRhYmxlLXBsYWNlaG9sZGVyIixyfHx0LmN1cnJlbnRJdGVtWzBdLmNsYXNzTmFtZSkuX3JlbW92ZUNsYXNzKGksInVpLXNvcnRhYmxlLWhlbHBlciIpLCJ0Ym9keSI9PT11P3QuX2NyZWF0ZVRyUGxhY2Vob2xkZXIodC5jdXJyZW50SXRlbS5maW5kKCJ0ciIpLmVxKDApLG4oIjx0cj4iLHQuZG9jdW1lbnRbMF0pLmFwcGVuZFRvKGkpKToidHIiPT09dT90Ll9jcmVhdGVUclBsYWNlaG9sZGVyKHQuY3VycmVudEl0ZW0saSk6ImltZyI9PT11JiZpLmF0dHIoInNyYyIsdC5jdXJyZW50SXRlbS5hdHRyKCJzcmMiKSkscnx8aS5jc3MoInZpc2liaWxpdHkiLCJoaWRkZW4iKSxpfSx1cGRhdGU6ZnVuY3Rpb24obix1KXsoIXJ8fGkuZm9yY2VQbGFjZWhvbGRlclNpemUpJiYodS5oZWlnaHQoKXx8dS5oZWlnaHQodC5jdXJyZW50SXRlbS5pbm5lckhlaWdodCgpLXBhcnNlSW50KHQuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nVG9wIil8fDAsMTApLXBhcnNlSW50KHQuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nQm90dG9tIil8fDAsMTApKSx1LndpZHRoKCl8fHUud2lkdGgodC5jdXJyZW50SXRlbS5pbm5lcldpZHRoKCktcGFyc2VJbnQodC5jdXJyZW50SXRlbS5jc3MoInBhZGRpbmdMZWZ0Iil8fDAsMTApLXBhcnNlSW50KHQuY3VycmVudEl0ZW0uY3NzKCJwYWRkaW5nUmlnaHQiKXx8MCwxMCkpKX19KTt0LnBsYWNlaG9sZGVyPW4oaS5wbGFjZWhvbGRlci5lbGVtZW50LmNhbGwodC5lbGVtZW50LHQuY3VycmVudEl0ZW0pKTt0LmN1cnJlbnRJdGVtLmFmdGVyKHQucGxhY2Vob2xkZXIpO2kucGxhY2Vob2xkZXIudXBkYXRlKHQsdC5wbGFjZWhvbGRlcil9LF9jcmVhdGVUclBsYWNlaG9sZGVyOmZ1bmN0aW9uKHQsaSl7dmFyIHI9dGhpczt0LmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbigpe24oIjx0ZD4mIzE2MDs8XC90ZD4iLHIuZG9jdW1lbnRbMF0pLmF0dHIoImNvbHNwYW4iLG4odGhpcykuYXR0cigiY29sc3BhbiIpfHwxKS5hcHBlbmRUbyhpKX0pfSxfY29udGFjdENvbnRhaW5lcnM6ZnVuY3Rpb24odCl7Zm9yKHZhciB1LGMsZixhLHYsbyxsLHMsaCxlPW51bGwsaT1udWxsLHI9dGhpcy5jb250YWluZXJzLmxlbmd0aC0xO3I+PTA7ci0tKWlmKCFuLmNvbnRhaW5zKHRoaXMuY3VycmVudEl0ZW1bMF0sdGhpcy5jb250YWluZXJzW3JdLmVsZW1lbnRbMF0pKWlmKHRoaXMuX2ludGVyc2VjdHNXaXRoKHRoaXMuY29udGFpbmVyc1tyXS5jb250YWluZXJDYWNoZSkpe2lmKGUmJm4uY29udGFpbnModGhpcy5jb250YWluZXJzW3JdLmVsZW1lbnRbMF0sZS5lbGVtZW50WzBdKSljb250aW51ZTtlPXRoaXMuY29udGFpbmVyc1tyXTtpPXJ9ZWxzZSB0aGlzLmNvbnRhaW5lcnNbcl0uY29udGFpbmVyQ2FjaGUub3ZlciYmKHRoaXMuY29udGFpbmVyc1tyXS5fdHJpZ2dlcigib3V0Iix0LHRoaXMuX3VpSGFzaCh0aGlzKSksdGhpcy5jb250YWluZXJzW3JdLmNvbnRhaW5lckNhY2hlLm92ZXI9MCk7aWYoZSlpZigxPT09dGhpcy5jb250YWluZXJzLmxlbmd0aCl0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcnx8KHRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLl91aUhhc2godGhpcykpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyPTEpO2Vsc2V7Zm9yKGM9MWU0LGY9bnVsbCxzPWUuZmxvYXRpbmd8fHRoaXMuX2lzRmxvYXRpbmcodGhpcy5jdXJyZW50SXRlbSksYT1zPyJsZWZ0IjoidG9wIix2PXM/IndpZHRoIjoiaGVpZ2h0IixoPXM/InBhZ2VYIjoicGFnZVkiLHU9dGhpcy5pdGVtcy5sZW5ndGgtMTt1Pj0wO3UtLSluLmNvbnRhaW5zKHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50WzBdLHRoaXMuaXRlbXNbdV0uaXRlbVswXSkmJnRoaXMuaXRlbXNbdV0uaXRlbVswXSE9PXRoaXMuY3VycmVudEl0ZW1bMF0mJihvPXRoaXMuaXRlbXNbdV0uaXRlbS5vZmZzZXQoKVthXSxsPSExLHRbaF0tbz50aGlzLml0ZW1zW3VdW3ZdLzImJihsPSEwKSxjPk1hdGguYWJzKHRbaF0tbykmJihjPU1hdGguYWJzKHRbaF0tbyksZj10aGlzLml0ZW1zW3VdLHRoaXMuZGlyZWN0aW9uPWw/InVwIjoiZG93biIpKTtpZighZiYmIXRoaXMub3B0aW9ucy5kcm9wT25FbXB0eSlyZXR1cm47aWYodGhpcy5jdXJyZW50Q29udGFpbmVyPT09dGhpcy5jb250YWluZXJzW2ldKXJldHVybiB0aGlzLmN1cnJlbnRDb250YWluZXIuY29udGFpbmVyQ2FjaGUub3Zlcnx8KHRoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcigib3ZlciIsdCx0aGlzLl91aUhhc2goKSksdGhpcy5jdXJyZW50Q29udGFpbmVyLmNvbnRhaW5lckNhY2hlLm92ZXI9MSksdm9pZCAwO2Y/dGhpcy5fcmVhcnJhbmdlKHQsZixudWxsLCEwKTp0aGlzLl9yZWFycmFuZ2UodCxudWxsLHRoaXMuY29udGFpbmVyc1tpXS5lbGVtZW50LCEwKTt0aGlzLl90cmlnZ2VyKCJjaGFuZ2UiLHQsdGhpcy5fdWlIYXNoKCkpO3RoaXMuY29udGFpbmVyc1tpXS5fdHJpZ2dlcigiY2hhbmdlIix0LHRoaXMuX3VpSGFzaCh0aGlzKSk7dGhpcy5jdXJyZW50Q29udGFpbmVyPXRoaXMuY29udGFpbmVyc1tpXTt0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIudXBkYXRlKHRoaXMuY3VycmVudENvbnRhaW5lcix0aGlzLnBsYWNlaG9sZGVyKTt0aGlzLmNvbnRhaW5lcnNbaV0uX3RyaWdnZXIoIm92ZXIiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKTt0aGlzLmNvbnRhaW5lcnNbaV0uY29udGFpbmVyQ2FjaGUub3Zlcj0xfX0sX2NyZWF0ZUhlbHBlcjpmdW5jdGlvbih0KXt2YXIgcj10aGlzLm9wdGlvbnMsaT1uLmlzRnVuY3Rpb24oci5oZWxwZXIpP24oci5oZWxwZXIuYXBwbHkodGhpcy5lbGVtZW50WzBdLFt0LHRoaXMuY3VycmVudEl0ZW1dKSk6ImNsb25lIj09PXIuaGVscGVyP3RoaXMuY3VycmVudEl0ZW0uY2xvbmUoKTp0aGlzLmN1cnJlbnRJdGVtO3JldHVybiBpLnBhcmVudHMoImJvZHkiKS5sZW5ndGh8fG4oInBhcmVudCIhPT1yLmFwcGVuZFRvP3IuYXBwZW5kVG86dGhpcy5jdXJyZW50SXRlbVswXS5wYXJlbnROb2RlKVswXS5hcHBlbmRDaGlsZChpWzBdKSxpWzBdPT09dGhpcy5jdXJyZW50SXRlbVswXSYmKHRoaXMuX3N0b3JlZENTUz17d2lkdGg6dGhpcy5jdXJyZW50SXRlbVswXS5zdHlsZS53aWR0aCxoZWlnaHQ6dGhpcy5jdXJyZW50SXRlbVswXS5zdHlsZS5oZWlnaHQscG9zaXRpb246dGhpcy5jdXJyZW50SXRlbS5jc3MoInBvc2l0aW9uIiksdG9wOnRoaXMuY3VycmVudEl0ZW0uY3NzKCJ0b3AiKSxsZWZ0OnRoaXMuY3VycmVudEl0ZW0uY3NzKCJsZWZ0Iil9KSwoIWlbMF0uc3R5bGUud2lkdGh8fHIuZm9yY2VIZWxwZXJTaXplKSYmaS53aWR0aCh0aGlzLmN1cnJlbnRJdGVtLndpZHRoKCkpLCghaVswXS5zdHlsZS5oZWlnaHR8fHIuZm9yY2VIZWxwZXJTaXplKSYmaS5oZWlnaHQodGhpcy5jdXJyZW50SXRlbS5oZWlnaHQoKSksaX0sX2FkanVzdE9mZnNldEZyb21IZWxwZXI6ZnVuY3Rpb24odCl7InN0cmluZyI9PXR5cGVvZiB0JiYodD10LnNwbGl0KCIgIikpO24uaXNBcnJheSh0KSYmKHQ9e2xlZnQ6K3RbMF0sdG9wOit0WzFdfHwwfSk7ImxlZnQiaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ9dC5sZWZ0K3RoaXMubWFyZ2lucy5sZWZ0KTsicmlnaHQiaW4gdCYmKHRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ9dGhpcy5oZWxwZXJQcm9wb3J0aW9ucy53aWR0aC10LnJpZ2h0K3RoaXMubWFyZ2lucy5sZWZ0KTsidG9wImluIHQmJih0aGlzLm9mZnNldC5jbGljay50b3A9dC50b3ArdGhpcy5tYXJnaW5zLnRvcCk7ImJvdHRvbSJpbiB0JiYodGhpcy5vZmZzZXQuY2xpY2sudG9wPXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXQuYm90dG9tK3RoaXMubWFyZ2lucy50b3ApfSxfZ2V0UGFyZW50T2Zmc2V0OmZ1bmN0aW9uKCl7dGhpcy5vZmZzZXRQYXJlbnQ9dGhpcy5oZWxwZXIub2Zmc2V0UGFyZW50KCk7dmFyIHQ9dGhpcy5vZmZzZXRQYXJlbnQub2Zmc2V0KCk7cmV0dXJuImFic29sdXRlIj09PXRoaXMuY3NzUG9zaXRpb24mJnRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmbi5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSkmJih0LmxlZnQrPXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbExlZnQoKSx0LnRvcCs9dGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCkpLCh0aGlzLm9mZnNldFBhcmVudFswXT09PXRoaXMuZG9jdW1lbnRbMF0uYm9keXx8dGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZSYmImh0bWwiPT09dGhpcy5vZmZzZXRQYXJlbnRbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZuLnVpLmllKSYmKHQ9e3RvcDowLGxlZnQ6MH0pLHt0b3A6dC50b3ArKHBhcnNlSW50KHRoaXMub2Zmc2V0UGFyZW50LmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApLGxlZnQ6dC5sZWZ0KyhwYXJzZUludCh0aGlzLm9mZnNldFBhcmVudC5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCl9fSxfZ2V0UmVsYXRpdmVPZmZzZXQ6ZnVuY3Rpb24oKXtpZigicmVsYXRpdmUiPT09dGhpcy5jc3NQb3NpdGlvbil7dmFyIG49dGhpcy5jdXJyZW50SXRlbS5wb3NpdGlvbigpO3JldHVybnt0b3A6bi50b3AtKHBhcnNlSW50KHRoaXMuaGVscGVyLmNzcygidG9wIiksMTApfHwwKSt0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxUb3AoKSxsZWZ0Om4ubGVmdC0ocGFyc2VJbnQodGhpcy5oZWxwZXIuY3NzKCJsZWZ0IiksMTApfHwwKSt0aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCl9fXJldHVybnt0b3A6MCxsZWZ0OjB9fSxfY2FjaGVNYXJnaW5zOmZ1bmN0aW9uKCl7dGhpcy5tYXJnaW5zPXtsZWZ0OnBhcnNlSW50KHRoaXMuY3VycmVudEl0ZW0uY3NzKCJtYXJnaW5MZWZ0IiksMTApfHwwLHRvcDpwYXJzZUludCh0aGlzLmN1cnJlbnRJdGVtLmNzcygibWFyZ2luVG9wIiksMTApfHwwfX0sX2NhY2hlSGVscGVyUHJvcG9ydGlvbnM6ZnVuY3Rpb24oKXt0aGlzLmhlbHBlclByb3BvcnRpb25zPXt3aWR0aDp0aGlzLmhlbHBlci5vdXRlcldpZHRoKCksaGVpZ2h0OnRoaXMuaGVscGVyLm91dGVySGVpZ2h0KCl9fSxfc2V0Q29udGFpbm1lbnQ6ZnVuY3Rpb24oKXt2YXIgdCxyLHUsaT10aGlzLm9wdGlvbnM7InBhcmVudCI9PT1pLmNvbnRhaW5tZW50JiYoaS5jb250YWlubWVudD10aGlzLmhlbHBlclswXS5wYXJlbnROb2RlKTsoImRvY3VtZW50Ij09PWkuY29udGFpbm1lbnR8fCJ3aW5kb3ciPT09aS5jb250YWlubWVudCkmJih0aGlzLmNvbnRhaW5tZW50PVswLXRoaXMub2Zmc2V0LnJlbGF0aXZlLmxlZnQtdGhpcy5vZmZzZXQucGFyZW50LmxlZnQsMC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCwiZG9jdW1lbnQiPT09aS5jb250YWlubWVudD90aGlzLmRvY3VtZW50LndpZHRoKCk6dGhpcy53aW5kb3cud2lkdGgoKS10aGlzLmhlbHBlclByb3BvcnRpb25zLndpZHRoLXRoaXMubWFyZ2lucy5sZWZ0LCgiZG9jdW1lbnQiPT09aS5jb250YWlubWVudD90aGlzLmRvY3VtZW50LmhlaWdodCgpfHxkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuc2Nyb2xsSGVpZ2h0OnRoaXMud2luZG93LmhlaWdodCgpfHx0aGlzLmRvY3VtZW50WzBdLmJvZHkucGFyZW50Tm9kZS5zY3JvbGxIZWlnaHQpLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdKTsvXihkb2N1bWVudHx3aW5kb3d8cGFyZW50KSQvLnRlc3QoaS5jb250YWlubWVudCl8fCh0PW4oaS5jb250YWlubWVudClbMF0scj1uKGkuY29udGFpbm1lbnQpLm9mZnNldCgpLHU9ImhpZGRlbiIhPT1uKHQpLmNzcygib3ZlcmZsb3ciKSx0aGlzLmNvbnRhaW5tZW50PVtyLmxlZnQrKHBhcnNlSW50KG4odCkuY3NzKCJib3JkZXJMZWZ0V2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChuKHQpLmNzcygicGFkZGluZ0xlZnQiKSwxMCl8fDApLXRoaXMubWFyZ2lucy5sZWZ0LHIudG9wKyhwYXJzZUludChuKHQpLmNzcygiYm9yZGVyVG9wV2lkdGgiKSwxMCl8fDApKyhwYXJzZUludChuKHQpLmNzcygicGFkZGluZ1RvcCIpLDEwKXx8MCktdGhpcy5tYXJnaW5zLnRvcCxyLmxlZnQrKHU/TWF0aC5tYXgodC5zY3JvbGxXaWR0aCx0Lm9mZnNldFdpZHRoKTp0Lm9mZnNldFdpZHRoKS0ocGFyc2VJbnQobih0KS5jc3MoImJvcmRlckxlZnRXaWR0aCIpLDEwKXx8MCktKHBhcnNlSW50KG4odCkuY3NzKCJwYWRkaW5nUmlnaHQiKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMud2lkdGgtdGhpcy5tYXJnaW5zLmxlZnQsci50b3ArKHU/TWF0aC5tYXgodC5zY3JvbGxIZWlnaHQsdC5vZmZzZXRIZWlnaHQpOnQub2Zmc2V0SGVpZ2h0KS0ocGFyc2VJbnQobih0KS5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApfHwwKS0ocGFyc2VJbnQobih0KS5jc3MoInBhZGRpbmdCb3R0b20iKSwxMCl8fDApLXRoaXMuaGVscGVyUHJvcG9ydGlvbnMuaGVpZ2h0LXRoaXMubWFyZ2lucy50b3BdKX0sX2NvbnZlcnRQb3NpdGlvblRvOmZ1bmN0aW9uKHQsaSl7aXx8KGk9dGhpcy5wb3NpdGlvbik7dmFyIHI9ImFic29sdXRlIj09PXQ/MTotMSx1PSJhYnNvbHV0ZSIhPT10aGlzLmNzc1Bvc2l0aW9ufHx0aGlzLnNjcm9sbFBhcmVudFswXSE9PXRoaXMuZG9jdW1lbnRbMF0mJm4uY29udGFpbnModGhpcy5zY3JvbGxQYXJlbnRbMF0sdGhpcy5vZmZzZXRQYXJlbnRbMF0pP3RoaXMuc2Nyb2xsUGFyZW50OnRoaXMub2Zmc2V0UGFyZW50LGY9LyhodG1sfGJvZHkpL2kudGVzdCh1WzBdLnRhZ05hbWUpO3JldHVybnt0b3A6aS50b3ArdGhpcy5vZmZzZXQucmVsYXRpdmUudG9wKnIrdGhpcy5vZmZzZXQucGFyZW50LnRvcCpyLSgiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsVG9wKCk6Zj8wOnUuc2Nyb2xsVG9wKCkpKnIsbGVmdDppLmxlZnQrdGhpcy5vZmZzZXQucmVsYXRpdmUubGVmdCpyK3RoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KnItKCJmaXhlZCI9PT10aGlzLmNzc1Bvc2l0aW9uPy10aGlzLnNjcm9sbFBhcmVudC5zY3JvbGxMZWZ0KCk6Zj8wOnUuc2Nyb2xsTGVmdCgpKSpyfX0sX2dlbmVyYXRlUG9zaXRpb246ZnVuY3Rpb24odCl7dmFyIHIsdSxpPXRoaXMub3B0aW9ucyxmPXQucGFnZVgsZT10LnBhZ2VZLG89ImFic29sdXRlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmbi5jb250YWlucyh0aGlzLnNjcm9sbFBhcmVudFswXSx0aGlzLm9mZnNldFBhcmVudFswXSk/dGhpcy5zY3JvbGxQYXJlbnQ6dGhpcy5vZmZzZXRQYXJlbnQscz0vKGh0bWx8Ym9keSkvaS50ZXN0KG9bMF0udGFnTmFtZSk7cmV0dXJuInJlbGF0aXZlIiE9PXRoaXMuY3NzUG9zaXRpb258fHRoaXMuc2Nyb2xsUGFyZW50WzBdIT09dGhpcy5kb2N1bWVudFswXSYmdGhpcy5zY3JvbGxQYXJlbnRbMF0hPT10aGlzLm9mZnNldFBhcmVudFswXXx8KHRoaXMub2Zmc2V0LnJlbGF0aXZlPXRoaXMuX2dldFJlbGF0aXZlT2Zmc2V0KCkpLHRoaXMub3JpZ2luYWxQb3NpdGlvbiYmKHRoaXMuY29udGFpbm1lbnQmJih0LnBhZ2VYLXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ8dGhpcy5jb250YWlubWVudFswXSYmKGY9dGhpcy5jb250YWlubWVudFswXSt0aGlzLm9mZnNldC5jbGljay5sZWZ0KSx0LnBhZ2VZLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDx0aGlzLmNvbnRhaW5tZW50WzFdJiYoZT10aGlzLmNvbnRhaW5tZW50WzFdK3RoaXMub2Zmc2V0LmNsaWNrLnRvcCksdC5wYWdlWC10aGlzLm9mZnNldC5jbGljay5sZWZ0PnRoaXMuY29udGFpbm1lbnRbMl0mJihmPXRoaXMuY29udGFpbm1lbnRbMl0rdGhpcy5vZmZzZXQuY2xpY2subGVmdCksdC5wYWdlWS10aGlzLm9mZnNldC5jbGljay50b3A+dGhpcy5jb250YWlubWVudFszXSYmKGU9dGhpcy5jb250YWlubWVudFszXSt0aGlzLm9mZnNldC5jbGljay50b3ApKSxpLmdyaWQmJihyPXRoaXMub3JpZ2luYWxQYWdlWStNYXRoLnJvdW5kKChlLXRoaXMub3JpZ2luYWxQYWdlWSkvaS5ncmlkWzFdKSppLmdyaWRbMV0sZT10aGlzLmNvbnRhaW5tZW50P3ItdGhpcy5vZmZzZXQuY2xpY2sudG9wPj10aGlzLmNvbnRhaW5tZW50WzFdJiZyLXRoaXMub2Zmc2V0LmNsaWNrLnRvcDw9dGhpcy5jb250YWlubWVudFszXT9yOnItdGhpcy5vZmZzZXQuY2xpY2sudG9wPj10aGlzLmNvbnRhaW5tZW50WzFdP3ItaS5ncmlkWzFdOnIraS5ncmlkWzFdOnIsdT10aGlzLm9yaWdpbmFsUGFnZVgrTWF0aC5yb3VuZCgoZi10aGlzLm9yaWdpbmFsUGFnZVgpL2kuZ3JpZFswXSkqaS5ncmlkWzBdLGY9dGhpcy5jb250YWlubWVudD91LXRoaXMub2Zmc2V0LmNsaWNrLmxlZnQ+PXRoaXMuY29udGFpbm1lbnRbMF0mJnUtdGhpcy5vZmZzZXQuY2xpY2subGVmdDw9dGhpcy5jb250YWlubWVudFsyXT91OnUtdGhpcy5vZmZzZXQuY2xpY2subGVmdD49dGhpcy5jb250YWlubWVudFswXT91LWkuZ3JpZFswXTp1K2kuZ3JpZFswXTp1KSkse3RvcDplLXRoaXMub2Zmc2V0LmNsaWNrLnRvcC10aGlzLm9mZnNldC5yZWxhdGl2ZS50b3AtdGhpcy5vZmZzZXQucGFyZW50LnRvcCsoImZpeGVkIj09PXRoaXMuY3NzUG9zaXRpb24/LXRoaXMuc2Nyb2xsUGFyZW50LnNjcm9sbFRvcCgpOnM/MDpvLnNjcm9sbFRvcCgpKSxsZWZ0OmYtdGhpcy5vZmZzZXQuY2xpY2subGVmdC10aGlzLm9mZnNldC5yZWxhdGl2ZS5sZWZ0LXRoaXMub2Zmc2V0LnBhcmVudC5sZWZ0KygiZml4ZWQiPT09dGhpcy5jc3NQb3NpdGlvbj8tdGhpcy5zY3JvbGxQYXJlbnQuc2Nyb2xsTGVmdCgpOnM/MDpvLnNjcm9sbExlZnQoKSl9fSxfcmVhcnJhbmdlOmZ1bmN0aW9uKG4sdCxpLHIpe2k/aVswXS5hcHBlbmRDaGlsZCh0aGlzLnBsYWNlaG9sZGVyWzBdKTp0Lml0ZW1bMF0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5wbGFjZWhvbGRlclswXSwiZG93biI9PT10aGlzLmRpcmVjdGlvbj90Lml0ZW1bMF06dC5pdGVtWzBdLm5leHRTaWJsaW5nKTt0aGlzLmNvdW50ZXI9dGhpcy5jb3VudGVyPysrdGhpcy5jb3VudGVyOjE7dmFyIHU9dGhpcy5jb3VudGVyO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dT09PXRoaXMuY291bnRlciYmdGhpcy5yZWZyZXNoUG9zaXRpb25zKCFyKX0pfSxfY2xlYXI6ZnVuY3Rpb24obix0KXtmdW5jdGlvbiB1KG4sdCxpKXtyZXR1cm4gZnVuY3Rpb24ocil7aS5fdHJpZ2dlcihuLHIsdC5fdWlIYXNoKHQpKX19dGhpcy5yZXZlcnRpbmc9ITE7dmFyIGkscj1bXTtpZighdGhpcy5fbm9GaW5hbFNvcnQmJnRoaXMuY3VycmVudEl0ZW0ucGFyZW50KCkubGVuZ3RoJiZ0aGlzLnBsYWNlaG9sZGVyLmJlZm9yZSh0aGlzLmN1cnJlbnRJdGVtKSx0aGlzLl9ub0ZpbmFsU29ydD1udWxsLHRoaXMuaGVscGVyWzBdPT09dGhpcy5jdXJyZW50SXRlbVswXSl7Zm9yKGkgaW4gdGhpcy5fc3RvcmVkQ1NTKSgiYXV0byI9PT10aGlzLl9zdG9yZWRDU1NbaV18fCJzdGF0aWMiPT09dGhpcy5fc3RvcmVkQ1NTW2ldKSYmKHRoaXMuX3N0b3JlZENTU1tpXT0iIik7dGhpcy5jdXJyZW50SXRlbS5jc3ModGhpcy5fc3RvcmVkQ1NTKTt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmN1cnJlbnRJdGVtLCJ1aS1zb3J0YWJsZS1oZWxwZXIiKX1lbHNlIHRoaXMuY3VycmVudEl0ZW0uc2hvdygpO2Zvcih0aGlzLmZyb21PdXRzaWRlJiYhdCYmci5wdXNoKGZ1bmN0aW9uKG4pe3RoaXMuX3RyaWdnZXIoInJlY2VpdmUiLG4sdGhpcy5fdWlIYXNoKHRoaXMuZnJvbU91dHNpZGUpKX0pLCF0aGlzLmZyb21PdXRzaWRlJiZ0aGlzLmRvbVBvc2l0aW9uLnByZXY9PT10aGlzLmN1cnJlbnRJdGVtLnByZXYoKS5ub3QoIi51aS1zb3J0YWJsZS1oZWxwZXIiKVswXSYmdGhpcy5kb21Qb3NpdGlvbi5wYXJlbnQ9PT10aGlzLmN1cnJlbnRJdGVtLnBhcmVudCgpWzBdfHx0fHxyLnB1c2goZnVuY3Rpb24obil7dGhpcy5fdHJpZ2dlcigidXBkYXRlIixuLHRoaXMuX3VpSGFzaCgpKX0pLHRoaXMhPT10aGlzLmN1cnJlbnRDb250YWluZXImJih0fHwoci5wdXNoKGZ1bmN0aW9uKG4pe3RoaXMuX3RyaWdnZXIoInJlbW92ZSIsbix0aGlzLl91aUhhc2goKSl9KSxyLnB1c2goZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe24uX3RyaWdnZXIoInJlY2VpdmUiLHQsdGhpcy5fdWlIYXNoKHRoaXMpKX19LmNhbGwodGhpcyx0aGlzLmN1cnJlbnRDb250YWluZXIpKSxyLnB1c2goZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe24uX3RyaWdnZXIoInVwZGF0ZSIsdCx0aGlzLl91aUhhc2godGhpcykpfX0uY2FsbCh0aGlzLHRoaXMuY3VycmVudENvbnRhaW5lcikpKSksaT10aGlzLmNvbnRhaW5lcnMubGVuZ3RoLTE7aT49MDtpLS0pdHx8ci5wdXNoKHUoImRlYWN0aXZhdGUiLHRoaXMsdGhpcy5jb250YWluZXJzW2ldKSksdGhpcy5jb250YWluZXJzW2ldLmNvbnRhaW5lckNhY2hlLm92ZXImJihyLnB1c2godSgib3V0Iix0aGlzLHRoaXMuY29udGFpbmVyc1tpXSkpLHRoaXMuY29udGFpbmVyc1tpXS5jb250YWluZXJDYWNoZS5vdmVyPTApO2lmKHRoaXMuc3RvcmVkQ3Vyc29yJiYodGhpcy5kb2N1bWVudC5maW5kKCJib2R5IikuY3NzKCJjdXJzb3IiLHRoaXMuc3RvcmVkQ3Vyc29yKSx0aGlzLnN0b3JlZFN0eWxlc2hlZXQucmVtb3ZlKCkpLHRoaXMuX3N0b3JlZE9wYWNpdHkmJnRoaXMuaGVscGVyLmNzcygib3BhY2l0eSIsdGhpcy5fc3RvcmVkT3BhY2l0eSksdGhpcy5fc3RvcmVkWkluZGV4JiZ0aGlzLmhlbHBlci5jc3MoInpJbmRleCIsImF1dG8iPT09dGhpcy5fc3RvcmVkWkluZGV4PyIiOnRoaXMuX3N0b3JlZFpJbmRleCksdGhpcy5kcmFnZ2luZz0hMSx0fHx0aGlzLl90cmlnZ2VyKCJiZWZvcmVTdG9wIixuLHRoaXMuX3VpSGFzaCgpKSx0aGlzLnBsYWNlaG9sZGVyWzBdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5wbGFjZWhvbGRlclswXSksdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsfHwodGhpcy5oZWxwZXJbMF0hPT10aGlzLmN1cnJlbnRJdGVtWzBdJiZ0aGlzLmhlbHBlci5yZW1vdmUoKSx0aGlzLmhlbHBlcj1udWxsKSwhdCl7Zm9yKGk9MDtyLmxlbmd0aD5pO2krKylyW2ldLmNhbGwodGhpcyxuKTt0aGlzLl90cmlnZ2VyKCJzdG9wIixuLHRoaXMuX3VpSGFzaCgpKX1yZXR1cm4gdGhpcy5mcm9tT3V0c2lkZT0hMSwhdGhpcy5jYW5jZWxIZWxwZXJSZW1vdmFsfSxfdHJpZ2dlcjpmdW5jdGlvbigpe24uV2lkZ2V0LnByb3RvdHlwZS5fdHJpZ2dlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk9PT0hMSYmdGhpcy5jYW5jZWwoKX0sX3VpSGFzaDpmdW5jdGlvbih0KXt2YXIgaT10fHx0aGlzO3JldHVybntoZWxwZXI6aS5oZWxwZXIscGxhY2Vob2xkZXI6aS5wbGFjZWhvbGRlcnx8bihbXSkscG9zaXRpb246aS5wb3NpdGlvbixvcmlnaW5hbFBvc2l0aW9uOmkub3JpZ2luYWxQb3NpdGlvbixvZmZzZXQ6aS5wb3NpdGlvbkFicyxpdGVtOmkuY3VycmVudEl0ZW0sc2VuZGVyOnQ/dC5lbGVtZW50Om51bGx9fX0pO24ud2lkZ2V0KCJ1aS5zcGlubmVyIix7dmVyc2lvbjoiMS4xMi4xIixkZWZhdWx0RWxlbWVudDoiPGlucHV0PiIsd2lkZ2V0RXZlbnRQcmVmaXg6InNwaW4iLG9wdGlvbnM6e2NsYXNzZXM6eyJ1aS1zcGlubmVyIjoidWktY29ybmVyLWFsbCIsInVpLXNwaW5uZXItZG93biI6InVpLWNvcm5lci1iciIsInVpLXNwaW5uZXItdXAiOiJ1aS1jb3JuZXItdHIifSxjdWx0dXJlOm51bGwsaWNvbnM6e2Rvd246InVpLWljb24tdHJpYW5nbGUtMS1zIix1cDoidWktaWNvbi10cmlhbmdsZS0xLW4ifSxpbmNyZW1lbnRhbDohMCxtYXg6bnVsbCxtaW46bnVsbCxudW1iZXJGb3JtYXQ6bnVsbCxwYWdlOjEwLHN0ZXA6MSxjaGFuZ2U6bnVsbCxzcGluOm51bGwsc3RhcnQ6bnVsbCxzdG9wOm51bGx9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXRPcHRpb24oIm1heCIsdGhpcy5vcHRpb25zLm1heCk7dGhpcy5fc2V0T3B0aW9uKCJtaW4iLHRoaXMub3B0aW9ucy5taW4pO3RoaXMuX3NldE9wdGlvbigic3RlcCIsdGhpcy5vcHRpb25zLnN0ZXApOyIiIT09dGhpcy52YWx1ZSgpJiZ0aGlzLl92YWx1ZSh0aGlzLmVsZW1lbnQudmFsKCksITApO3RoaXMuX2RyYXcoKTt0aGlzLl9vbih0aGlzLl9ldmVudHMpO3RoaXMuX3JlZnJlc2goKTt0aGlzLl9vbih0aGlzLndpbmRvdyx7YmVmb3JldW5sb2FkOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnJlbW92ZUF0dHIoImF1dG9jb21wbGV0ZSIpfX0pfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX3N1cGVyKCksaT10aGlzLmVsZW1lbnQ7cmV0dXJuIG4uZWFjaChbIm1pbiIsIm1heCIsInN0ZXAiXSxmdW5jdGlvbihuLHIpe3ZhciB1PWkuYXR0cihyKTtudWxsIT11JiZ1Lmxlbmd0aCYmKHRbcl09dSl9KSx0fSxfZXZlbnRzOntrZXlkb3duOmZ1bmN0aW9uKG4pe3RoaXMuX3N0YXJ0KG4pJiZ0aGlzLl9rZXlkb3duKG4pJiZuLnByZXZlbnREZWZhdWx0KCl9LGtleXVwOiJfc3RvcCIsZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLnByZXZpb3VzPXRoaXMuZWxlbWVudC52YWwoKX0sYmx1cjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5jYW5jZWxCbHVyPyhkZWxldGUgdGhpcy5jYW5jZWxCbHVyLHZvaWQgMCk6KHRoaXMuX3N0b3AoKSx0aGlzLl9yZWZyZXNoKCksdGhpcy5wcmV2aW91cyE9PXRoaXMuZWxlbWVudC52YWwoKSYmdGhpcy5fdHJpZ2dlcigiY2hhbmdlIixuKSx2b2lkIDApfSxtb3VzZXdoZWVsOmZ1bmN0aW9uKG4sdCl7aWYodCl7aWYoIXRoaXMuc3Bpbm5pbmcmJiF0aGlzLl9zdGFydChuKSlyZXR1cm4hMTt0aGlzLl9zcGluKCh0PjA/MTotMSkqdGhpcy5vcHRpb25zLnN0ZXAsbik7Y2xlYXJUaW1lb3V0KHRoaXMubW91c2V3aGVlbFRpbWVyKTt0aGlzLm1vdXNld2hlZWxUaW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuc3Bpbm5pbmcmJnRoaXMuX3N0b3Aobil9LDEwMCk7bi5wcmV2ZW50RGVmYXVsdCgpfX0sIm1vdXNlZG93biAudWktc3Bpbm5lci1idXR0b24iOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoKXt2YXIgdD10aGlzLmVsZW1lbnRbMF09PT1uLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pO3R8fCh0aGlzLmVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKSx0aGlzLnByZXZpb3VzPWksdGhpcy5fZGVsYXkoZnVuY3Rpb24oKXt0aGlzLnByZXZpb3VzPWl9KSl9dmFyIGk7aT10aGlzLmVsZW1lbnRbMF09PT1uLnVpLnNhZmVBY3RpdmVFbGVtZW50KHRoaXMuZG9jdW1lbnRbMF0pP3RoaXMucHJldmlvdXM6dGhpcy5lbGVtZW50LnZhbCgpO3QucHJldmVudERlZmF1bHQoKTtyLmNhbGwodGhpcyk7dGhpcy5jYW5jZWxCbHVyPSEwO3RoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuY2FuY2VsQmx1cjtyLmNhbGwodGhpcyl9KTt0aGlzLl9zdGFydCh0KSE9PSExJiZ0aGlzLl9yZXBlYXQobnVsbCxuKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXNwaW5uZXItdXAiKT8xOi0xLHQpfSwibW91c2V1cCAudWktc3Bpbm5lci1idXR0b24iOiJfc3RvcCIsIm1vdXNlZW50ZXIgLnVpLXNwaW5uZXItYnV0dG9uIjpmdW5jdGlvbih0KXtpZihuKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpKXJldHVybiB0aGlzLl9zdGFydCh0KT09PSExPyExOih0aGlzLl9yZXBlYXQobnVsbCxuKHQuY3VycmVudFRhcmdldCkuaGFzQ2xhc3MoInVpLXNwaW5uZXItdXAiKT8xOi0xLHQpLHZvaWQgMCl9LCJtb3VzZWxlYXZlIC51aS1zcGlubmVyLWJ1dHRvbiI6Il9zdG9wIn0sX2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLnVpU3Bpbm5lcj10aGlzLmVsZW1lbnQuYXR0cigiYXV0b2NvbXBsZXRlIiwib2ZmIikud3JhcCgiPHNwYW4+IikucGFyZW50KCkuYXBwZW5kKCI8YT48XC9hPjxhPjxcL2E+Iil9LF9kcmF3OmZ1bmN0aW9uKCl7dGhpcy5fZW5oYW5jZSgpO3RoaXMuX2FkZENsYXNzKHRoaXMudWlTcGlubmVyLCJ1aS1zcGlubmVyIiwidWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50Iik7dGhpcy5fYWRkQ2xhc3MoInVpLXNwaW5uZXItaW5wdXQiKTt0aGlzLmVsZW1lbnQuYXR0cigicm9sZSIsInNwaW5idXR0b24iKTt0aGlzLmJ1dHRvbnM9dGhpcy51aVNwaW5uZXIuY2hpbGRyZW4oImEiKS5hdHRyKCJ0YWJJbmRleCIsLTEpLmF0dHIoImFyaWEtaGlkZGVuIiwhMCkuYnV0dG9uKHtjbGFzc2VzOnsidWktYnV0dG9uIjoiIn19KTt0aGlzLl9yZW1vdmVDbGFzcyh0aGlzLmJ1dHRvbnMsInVpLWNvcm5lci1hbGwiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLmJ1dHRvbnMuZmlyc3QoKSwidWktc3Bpbm5lci1idXR0b24gdWktc3Bpbm5lci11cCIpO3RoaXMuX2FkZENsYXNzKHRoaXMuYnV0dG9ucy5sYXN0KCksInVpLXNwaW5uZXItYnV0dG9uIHVpLXNwaW5uZXItZG93biIpO3RoaXMuYnV0dG9ucy5maXJzdCgpLmJ1dHRvbih7aWNvbjp0aGlzLm9wdGlvbnMuaWNvbnMudXAsc2hvd0xhYmVsOiExfSk7dGhpcy5idXR0b25zLmxhc3QoKS5idXR0b24oe2ljb246dGhpcy5vcHRpb25zLmljb25zLmRvd24sc2hvd0xhYmVsOiExfSk7dGhpcy5idXR0b25zLmhlaWdodCgpPk1hdGguY2VpbCguNSp0aGlzLnVpU3Bpbm5lci5oZWlnaHQoKSkmJnRoaXMudWlTcGlubmVyLmhlaWdodCgpPjAmJnRoaXMudWlTcGlubmVyLmhlaWdodCh0aGlzLnVpU3Bpbm5lci5oZWlnaHQoKSl9LF9rZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMub3B0aW9ucyxpPW4udWkua2V5Q29kZTtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIGkuVVA6cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLDEsdCksITA7Y2FzZSBpLkRPV046cmV0dXJuIHRoaXMuX3JlcGVhdChudWxsLC0xLHQpLCEwO2Nhc2UgaS5QQUdFX1VQOnJldHVybiB0aGlzLl9yZXBlYXQobnVsbCxyLnBhZ2UsdCksITA7Y2FzZSBpLlBBR0VfRE9XTjpyZXR1cm4gdGhpcy5fcmVwZWF0KG51bGwsLXIucGFnZSx0KSwhMH1yZXR1cm4hMX0sX3N0YXJ0OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnNwaW5uaW5nfHx0aGlzLl90cmlnZ2VyKCJzdGFydCIsbikhPT0hMT8odGhpcy5jb3VudGVyfHwodGhpcy5jb3VudGVyPTEpLHRoaXMuc3Bpbm5pbmc9ITAsITApOiExfSxfcmVwZWF0OmZ1bmN0aW9uKG4sdCxpKXtuPW58fDUwMDtjbGVhclRpbWVvdXQodGhpcy50aW1lcik7dGhpcy50aW1lcj10aGlzLl9kZWxheShmdW5jdGlvbigpe3RoaXMuX3JlcGVhdCg0MCx0LGkpfSxuKTt0aGlzLl9zcGluKHQqdGhpcy5vcHRpb25zLnN0ZXAsaSl9LF9zcGluOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy52YWx1ZSgpfHwwO3RoaXMuY291bnRlcnx8KHRoaXMuY291bnRlcj0xKTtpPXRoaXMuX2FkanVzdFZhbHVlKGkrbip0aGlzLl9pbmNyZW1lbnQodGhpcy5jb3VudGVyKSk7dGhpcy5zcGlubmluZyYmdGhpcy5fdHJpZ2dlcigic3BpbiIsdCx7dmFsdWU6aX0pPT09ITF8fCh0aGlzLl92YWx1ZShpKSx0aGlzLmNvdW50ZXIrKyl9LF9pbmNyZW1lbnQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5vcHRpb25zLmluY3JlbWVudGFsO3JldHVybiBpP24uaXNGdW5jdGlvbihpKT9pKHQpOk1hdGguZmxvb3IodCp0KnQvNWU0LXQqdC81MDArMTcqdC8yMDArMSk6MX0sX3ByZWNpc2lvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMuX3ByZWNpc2lvbk9mKHRoaXMub3B0aW9ucy5zdGVwKTtyZXR1cm4gbnVsbCE9PXRoaXMub3B0aW9ucy5taW4mJihuPU1hdGgubWF4KG4sdGhpcy5fcHJlY2lzaW9uT2YodGhpcy5vcHRpb25zLm1pbikpKSxufSxfcHJlY2lzaW9uT2Y6ZnVuY3Rpb24obil7dmFyIHQ9IiIrbixpPXQuaW5kZXhPZigiLiIpO3JldHVybi0xPT09aT8wOnQubGVuZ3RoLWktMX0sX2FkanVzdFZhbHVlOmZ1bmN0aW9uKG4pe3ZhciByLGksdD10aGlzLm9wdGlvbnM7cmV0dXJuIHI9bnVsbCE9PXQubWluP3QubWluOjAsaT1uLXIsaT1NYXRoLnJvdW5kKGkvdC5zdGVwKSp0LnN0ZXAsbj1yK2ksbj1wYXJzZUZsb2F0KG4udG9GaXhlZCh0aGlzLl9wcmVjaXNpb24oKSkpLG51bGwhPT10Lm1heCYmbj50Lm1heD90Lm1heDpudWxsIT09dC5taW4mJnQubWluPm4/dC5taW46bn0sX3N0b3A6ZnVuY3Rpb24obil7dGhpcy5zcGlubmluZyYmKGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKSxjbGVhclRpbWVvdXQodGhpcy5tb3VzZXdoZWVsVGltZXIpLHRoaXMuY291bnRlcj0wLHRoaXMuc3Bpbm5pbmc9ITEsdGhpcy5fdHJpZ2dlcigic3RvcCIsbikpfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIHUsaSxyO3JldHVybiJjdWx0dXJlIj09PW58fCJudW1iZXJGb3JtYXQiPT09bj8odT10aGlzLl9wYXJzZSh0aGlzLmVsZW1lbnQudmFsKCkpLHRoaXMub3B0aW9uc1tuXT10LHRoaXMuZWxlbWVudC52YWwodGhpcy5fZm9ybWF0KHUpKSx2b2lkIDApOigoIm1heCI9PT1ufHwibWluIj09PW58fCJzdGVwIj09PW4pJiYic3RyaW5nIj09dHlwZW9mIHQmJih0PXRoaXMuX3BhcnNlKHQpKSwiaWNvbnMiPT09biYmKGk9dGhpcy5idXR0b25zLmZpcnN0KCkuZmluZCgiLnVpLWljb24iKSx0aGlzLl9yZW1vdmVDbGFzcyhpLG51bGwsdGhpcy5vcHRpb25zLmljb25zLnVwKSx0aGlzLl9hZGRDbGFzcyhpLG51bGwsdC51cCkscj10aGlzLmJ1dHRvbnMubGFzdCgpLmZpbmQoIi51aS1pY29uIiksdGhpcy5fcmVtb3ZlQ2xhc3MocixudWxsLHRoaXMub3B0aW9ucy5pY29ucy5kb3duKSx0aGlzLl9hZGRDbGFzcyhyLG51bGwsdC5kb3duKSksdGhpcy5fc3VwZXIobix0KSx2b2lkIDApfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpcy5fc3VwZXIobik7dGhpcy5fdG9nZ2xlQ2xhc3ModGhpcy51aVNwaW5uZXIsbnVsbCwidWktc3RhdGUtZGlzYWJsZWQiLCEhbik7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhIW4pO3RoaXMuYnV0dG9ucy5idXR0b24obj8iZGlzYWJsZSI6ImVuYWJsZSIpfSxfc2V0T3B0aW9uczp0KGZ1bmN0aW9uKG4pe3RoaXMuX3N1cGVyKG4pfSksX3BhcnNlOmZ1bmN0aW9uKG4pe3JldHVybiJzdHJpbmciPT10eXBlb2YgbiYmIiIhPT1uJiYobj13aW5kb3cuR2xvYmFsaXplJiZ0aGlzLm9wdGlvbnMubnVtYmVyRm9ybWF0P0dsb2JhbGl6ZS5wYXJzZUZsb2F0KG4sMTAsdGhpcy5vcHRpb25zLmN1bHR1cmUpOituKSwiIj09PW58fGlzTmFOKG4pP251bGw6bn0sX2Zvcm1hdDpmdW5jdGlvbihuKXtyZXR1cm4iIj09PW4/IiI6d2luZG93Lkdsb2JhbGl6ZSYmdGhpcy5vcHRpb25zLm51bWJlckZvcm1hdD9HbG9iYWxpemUuZm9ybWF0KG4sdGhpcy5vcHRpb25zLm51bWJlckZvcm1hdCx0aGlzLm9wdGlvbnMuY3VsdHVyZSk6bn0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cih7ImFyaWEtdmFsdWVtaW4iOnRoaXMub3B0aW9ucy5taW4sImFyaWEtdmFsdWVtYXgiOnRoaXMub3B0aW9ucy5tYXgsImFyaWEtdmFsdWVub3ciOnRoaXMuX3BhcnNlKHRoaXMuZWxlbWVudC52YWwoKSl9KX0saXNWYWxpZDpmdW5jdGlvbigpe3ZhciBuPXRoaXMudmFsdWUoKTtyZXR1cm4gbnVsbD09PW4/ITE6bj09PXRoaXMuX2FkanVzdFZhbHVlKG4pfSxfdmFsdWU6ZnVuY3Rpb24obix0KXt2YXIgaTsiIiE9PW4mJihpPXRoaXMuX3BhcnNlKG4pLG51bGwhPT1pJiYodHx8KGk9dGhpcy5fYWRqdXN0VmFsdWUoaSkpLG49dGhpcy5fZm9ybWF0KGkpKSk7dGhpcy5lbGVtZW50LnZhbChuKTt0aGlzLl9yZWZyZXNoKCl9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhMSkucmVtb3ZlQXR0cigiYXV0b2NvbXBsZXRlIHJvbGUgYXJpYS12YWx1ZW1pbiBhcmlhLXZhbHVlbWF4IGFyaWEtdmFsdWVub3ciKTt0aGlzLnVpU3Bpbm5lci5yZXBsYWNlV2l0aCh0aGlzLmVsZW1lbnQpfSxzdGVwVXA6dChmdW5jdGlvbihuKXt0aGlzLl9zdGVwVXAobil9KSxfc3RlcFVwOmZ1bmN0aW9uKG4pe3RoaXMuX3N0YXJ0KCkmJih0aGlzLl9zcGluKChufHwxKSp0aGlzLm9wdGlvbnMuc3RlcCksdGhpcy5fc3RvcCgpKX0sc3RlcERvd246dChmdW5jdGlvbihuKXt0aGlzLl9zdGVwRG93bihuKX0pLF9zdGVwRG93bjpmdW5jdGlvbihuKXt0aGlzLl9zdGFydCgpJiYodGhpcy5fc3Bpbigobnx8MSkqLXRoaXMub3B0aW9ucy5zdGVwKSx0aGlzLl9zdG9wKCkpfSxwYWdlVXA6dChmdW5jdGlvbihuKXt0aGlzLl9zdGVwVXAoKG58fDEpKnRoaXMub3B0aW9ucy5wYWdlKX0pLHBhZ2VEb3duOnQoZnVuY3Rpb24obil7dGhpcy5fc3RlcERvd24oKG58fDEpKnRoaXMub3B0aW9ucy5wYWdlKX0pLHZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0KHRoaXMuX3ZhbHVlKS5jYWxsKHRoaXMsbiksdm9pZCAwKTp0aGlzLl9wYXJzZSh0aGlzLmVsZW1lbnQudmFsKCkpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aVNwaW5uZXJ9fSk7bi51aUJhY2tDb21wYXQhPT0hMSYmbi53aWRnZXQoInVpLnNwaW5uZXIiLG4udWkuc3Bpbm5lcix7X2VuaGFuY2U6ZnVuY3Rpb24oKXt0aGlzLnVpU3Bpbm5lcj10aGlzLmVsZW1lbnQuYXR0cigiYXV0b2NvbXBsZXRlIiwib2ZmIikud3JhcCh0aGlzLl91aVNwaW5uZXJIdG1sKCkpLnBhcmVudCgpLmFwcGVuZCh0aGlzLl9idXR0b25IdG1sKCkpfSxfdWlTcGlubmVySHRtbDpmdW5jdGlvbigpe3JldHVybiI8c3Bhbj4ifSxfYnV0dG9uSHRtbDpmdW5jdGlvbigpe3JldHVybiI8YT48XC9hPjxhPjxcL2E+In19KTtuLnVpLnNwaW5uZXI7bi53aWRnZXQoInVpLnRhYnMiLHt2ZXJzaW9uOiIxLjEyLjEiLGRlbGF5OjMwMCxvcHRpb25zOnthY3RpdmU6bnVsbCxjbGFzc2VzOnsidWktdGFicyI6InVpLWNvcm5lci1hbGwiLCJ1aS10YWJzLW5hdiI6InVpLWNvcm5lci1hbGwiLCJ1aS10YWJzLXBhbmVsIjoidWktY29ybmVyLWJvdHRvbSIsInVpLXRhYnMtdGFiIjoidWktY29ybmVyLXRvcCJ9LGNvbGxhcHNpYmxlOiExLGV2ZW50OiJjbGljayIsaGVpZ2h0U3R5bGU6ImNvbnRlbnQiLGhpZGU6bnVsbCxzaG93Om51bGwsYWN0aXZhdGU6bnVsbCxiZWZvcmVBY3RpdmF0ZTpudWxsLGJlZm9yZUxvYWQ6bnVsbCxsb2FkOm51bGx9LF9pc0xvY2FsOmZ1bmN0aW9uKCl7dmFyIG49LyMuKiQvO3JldHVybiBmdW5jdGlvbih0KXt2YXIgaSxyO2k9dC5ocmVmLnJlcGxhY2UobiwiIik7cj1sb2NhdGlvbi5ocmVmLnJlcGxhY2UobiwiIik7dHJ5e2k9ZGVjb2RlVVJJQ29tcG9uZW50KGkpfWNhdGNoKHUpe310cnl7cj1kZWNvZGVVUklDb21wb25lbnQocil9Y2F0Y2godSl7fXJldHVybiB0Lmhhc2gubGVuZ3RoPjEmJmk9PT1yfX0oKSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcyx0PXRoaXMub3B0aW9uczt0aGlzLnJ1bm5pbmc9ITE7dGhpcy5fYWRkQ2xhc3MoInVpLXRhYnMiLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQiKTt0aGlzLl90b2dnbGVDbGFzcygidWktdGFicy1jb2xsYXBzaWJsZSIsbnVsbCx0LmNvbGxhcHNpYmxlKTt0aGlzLl9wcm9jZXNzVGFicygpO3QuYWN0aXZlPXRoaXMuX2luaXRpYWxBY3RpdmUoKTtuLmlzQXJyYXkodC5kaXNhYmxlZCkmJih0LmRpc2FibGVkPW4udW5pcXVlKHQuZGlzYWJsZWQuY29uY2F0KG4ubWFwKHRoaXMudGFicy5maWx0ZXIoIi51aS1zdGF0ZS1kaXNhYmxlZCIpLGZ1bmN0aW9uKG4pe3JldHVybiBpLnRhYnMuaW5kZXgobil9KSkpLnNvcnQoKSk7dGhpcy5hY3RpdmU9dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoP3RoaXMuX2ZpbmRBY3RpdmUodC5hY3RpdmUpOm4oKTt0aGlzLl9yZWZyZXNoKCk7dGhpcy5hY3RpdmUubGVuZ3RoJiZ0aGlzLmxvYWQodC5hY3RpdmUpfSxfaW5pdGlhbEFjdGl2ZTpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3B0aW9ucy5hY3RpdmUsaT10aGlzLm9wdGlvbnMuY29sbGFwc2libGUscj1sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKTtyZXR1cm4gbnVsbD09PXQmJihyJiZ0aGlzLnRhYnMuZWFjaChmdW5jdGlvbihpLHUpe2lmKG4odSkuYXR0cigiYXJpYS1jb250cm9scyIpPT09cilyZXR1cm4odD1pLCExKX0pLG51bGw9PT10JiYodD10aGlzLnRhYnMuaW5kZXgodGhpcy50YWJzLmZpbHRlcigiLnVpLXRhYnMtYWN0aXZlIikpKSwobnVsbD09PXR8fC0xPT09dCkmJih0PXRoaXMudGFicy5sZW5ndGg/MDohMSkpLHQhPT0hMSYmKHQ9dGhpcy50YWJzLmluZGV4KHRoaXMudGFicy5lcSh0KSksLTE9PT10JiYodD1pPyExOjApKSwhaSYmdD09PSExJiZ0aGlzLmFuY2hvcnMubGVuZ3RoJiYodD0wKSx0fSxfZ2V0Q3JlYXRlRXZlbnREYXRhOmZ1bmN0aW9uKCl7cmV0dXJue3RhYjp0aGlzLmFjdGl2ZSxwYW5lbDp0aGlzLmFjdGl2ZS5sZW5ndGg/dGhpcy5fZ2V0UGFuZWxGb3JUYWIodGhpcy5hY3RpdmUpOm4oKX19LF90YWJLZXlkb3duOmZ1bmN0aW9uKHQpe3ZhciByPW4obi51aS5zYWZlQWN0aXZlRWxlbWVudCh0aGlzLmRvY3VtZW50WzBdKSkuY2xvc2VzdCgibGkiKSxpPXRoaXMudGFicy5pbmRleChyKSx1PSEwO2lmKCF0aGlzLl9oYW5kbGVQYWdlTmF2KHQpKXtzd2l0Y2godC5rZXlDb2RlKXtjYXNlIG4udWkua2V5Q29kZS5SSUdIVDpjYXNlIG4udWkua2V5Q29kZS5ET1dOOmkrKzticmVhaztjYXNlIG4udWkua2V5Q29kZS5VUDpjYXNlIG4udWkua2V5Q29kZS5MRUZUOnU9ITE7aS0tO2JyZWFrO2Nhc2Ugbi51aS5rZXlDb2RlLkVORDppPXRoaXMuYW5jaG9ycy5sZW5ndGgtMTticmVhaztjYXNlIG4udWkua2V5Q29kZS5IT01FOmk9MDticmVhaztjYXNlIG4udWkua2V5Q29kZS5TUEFDRTpyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLHRoaXMuX2FjdGl2YXRlKGkpLHZvaWQgMDtjYXNlIG4udWkua2V5Q29kZS5FTlRFUjpyZXR1cm4gdC5wcmV2ZW50RGVmYXVsdCgpLGNsZWFyVGltZW91dCh0aGlzLmFjdGl2YXRpbmcpLHRoaXMuX2FjdGl2YXRlKGk9PT10aGlzLm9wdGlvbnMuYWN0aXZlPyExOmkpLHZvaWQgMDtkZWZhdWx0OnJldHVybn10LnByZXZlbnREZWZhdWx0KCk7Y2xlYXJUaW1lb3V0KHRoaXMuYWN0aXZhdGluZyk7aT10aGlzLl9mb2N1c05leHRUYWIoaSx1KTt0LmN0cmxLZXl8fHQubWV0YUtleXx8KHIuYXR0cigiYXJpYS1zZWxlY3RlZCIsImZhbHNlIiksdGhpcy50YWJzLmVxKGkpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCJ0cnVlIiksdGhpcy5hY3RpdmF0aW5nPXRoaXMuX2RlbGF5KGZ1bmN0aW9uKCl7dGhpcy5vcHRpb24oImFjdGl2ZSIsaSl9LHRoaXMuZGVsYXkpKX19LF9wYW5lbEtleWRvd246ZnVuY3Rpb24odCl7dGhpcy5faGFuZGxlUGFnZU5hdih0KXx8dC5jdHJsS2V5JiZ0LmtleUNvZGU9PT1uLnVpLmtleUNvZGUuVVAmJih0LnByZXZlbnREZWZhdWx0KCksdGhpcy5hY3RpdmUudHJpZ2dlcigiZm9jdXMiKSl9LF9oYW5kbGVQYWdlTmF2OmZ1bmN0aW9uKHQpe3JldHVybiB0LmFsdEtleSYmdC5rZXlDb2RlPT09bi51aS5rZXlDb2RlLlBBR0VfVVA/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlLTEsITEpKSwhMCk6dC5hbHRLZXkmJnQua2V5Q29kZT09PW4udWkua2V5Q29kZS5QQUdFX0RPV04/KHRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZvY3VzTmV4dFRhYih0aGlzLm9wdGlvbnMuYWN0aXZlKzEsITApKSwhMCk6dm9pZCAwfSxfZmluZE5leHRUYWI6ZnVuY3Rpb24odCxpKXtmdW5jdGlvbiB1KCl7cmV0dXJuIHQ+ciYmKHQ9MCksMD50JiYodD1yKSx0fWZvcih2YXIgcj10aGlzLnRhYnMubGVuZ3RoLTE7LTEhPT1uLmluQXJyYXkodSgpLHRoaXMub3B0aW9ucy5kaXNhYmxlZCk7KXQ9aT90KzE6dC0xO3JldHVybiB0fSxfZm9jdXNOZXh0VGFiOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49dGhpcy5fZmluZE5leHRUYWIobix0KSx0aGlzLnRhYnMuZXEobikudHJpZ2dlcigiZm9jdXMiKSxufSxfc2V0T3B0aW9uOmZ1bmN0aW9uKG4sdCl7cmV0dXJuImFjdGl2ZSI9PT1uPyh0aGlzLl9hY3RpdmF0ZSh0KSx2b2lkIDApOih0aGlzLl9zdXBlcihuLHQpLCJjb2xsYXBzaWJsZSI9PT1uJiYodGhpcy5fdG9nZ2xlQ2xhc3MoInVpLXRhYnMtY29sbGFwc2libGUiLG51bGwsdCksdHx8dGhpcy5vcHRpb25zLmFjdGl2ZSE9PSExfHx0aGlzLl9hY3RpdmF0ZSgwKSksImV2ZW50Ij09PW4mJnRoaXMuX3NldHVwRXZlbnRzKHQpLCJoZWlnaHRTdHlsZSI9PT1uJiZ0aGlzLl9zZXR1cEhlaWdodFN0eWxlKHQpLHZvaWQgMCl9LF9zYW5pdGl6ZVNlbGVjdG9yOmZ1bmN0aW9uKG4pe3JldHVybiBuP24ucmVwbGFjZSgvWyEiJCUmJygpKissLlwvOjs8PT4/QFxbXF1cXmB7fH1+XS9nLCJcXCQmIik6IiJ9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMsaT10aGlzLnRhYmxpc3QuY2hpbGRyZW4oIjpoYXMoYVtocmVmXSkiKTt0LmRpc2FibGVkPW4ubWFwKGkuZmlsdGVyKCIudWktc3RhdGUtZGlzYWJsZWQiKSxmdW5jdGlvbihuKXtyZXR1cm4gaS5pbmRleChuKX0pO3RoaXMuX3Byb2Nlc3NUYWJzKCk7dC5hY3RpdmUhPT0hMSYmdGhpcy5hbmNob3JzLmxlbmd0aD90aGlzLmFjdGl2ZS5sZW5ndGgmJiFuLmNvbnRhaW5zKHRoaXMudGFibGlzdFswXSx0aGlzLmFjdGl2ZVswXSk/dGhpcy50YWJzLmxlbmd0aD09PXQuZGlzYWJsZWQubGVuZ3RoPyh0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpOnRoaXMuX2FjdGl2YXRlKHRoaXMuX2ZpbmROZXh0VGFiKE1hdGgubWF4KDAsdC5hY3RpdmUtMSksITEpKTp0LmFjdGl2ZT10aGlzLnRhYnMuaW5kZXgodGhpcy5hY3RpdmUpOih0LmFjdGl2ZT0hMSx0aGlzLmFjdGl2ZT1uKCkpO3RoaXMuX3JlZnJlc2goKX0sX3JlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLl9zZXRPcHRpb25EaXNhYmxlZCh0aGlzLm9wdGlvbnMuZGlzYWJsZWQpO3RoaXMuX3NldHVwRXZlbnRzKHRoaXMub3B0aW9ucy5ldmVudCk7dGhpcy5fc2V0dXBIZWlnaHRTdHlsZSh0aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUpO3RoaXMudGFicy5ub3QodGhpcy5hY3RpdmUpLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoiZmFsc2UiLCJhcmlhLWV4cGFuZGVkIjoiZmFsc2UiLHRhYkluZGV4Oi0xfSk7dGhpcy5wYW5lbHMubm90KHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKSkuaGlkZSgpLmF0dHIoeyJhcmlhLWhpZGRlbiI6InRydWUifSk7dGhpcy5hY3RpdmUubGVuZ3RoPyh0aGlzLmFjdGl2ZS5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6InRydWUiLCJhcmlhLWV4cGFuZGVkIjoidHJ1ZSIsdGFiSW5kZXg6MH0pLHRoaXMuX2FkZENsYXNzKHRoaXMuYWN0aXZlLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLHRoaXMuX2dldFBhbmVsRm9yVGFiKHRoaXMuYWN0aXZlKS5zaG93KCkuYXR0cih7ImFyaWEtaGlkZGVuIjoiZmFsc2UifSkpOnRoaXMudGFicy5lcSgwKS5hdHRyKCJ0YWJJbmRleCIsMCl9LF9wcm9jZXNzVGFiczpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT10aGlzLnRhYnMscj10aGlzLmFuY2hvcnMsdT10aGlzLnBhbmVsczt0aGlzLnRhYmxpc3Q9dGhpcy5fZ2V0TGlzdCgpLmF0dHIoInJvbGUiLCJ0YWJsaXN0Iik7dGhpcy5fYWRkQ2xhc3ModGhpcy50YWJsaXN0LCJ1aS10YWJzLW5hdiIsInVpLWhlbHBlci1yZXNldCB1aS1oZWxwZXItY2xlYXJmaXggdWktd2lkZ2V0LWhlYWRlciIpO3RoaXMudGFibGlzdC5vbigibW91c2Vkb3duIit0aGlzLmV2ZW50TmFtZXNwYWNlLCI+IGxpIixmdW5jdGlvbih0KXtuKHRoaXMpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdC5wcmV2ZW50RGVmYXVsdCgpfSkub24oImZvY3VzIit0aGlzLmV2ZW50TmFtZXNwYWNlLCIudWktdGFicy1hbmNob3IiLGZ1bmN0aW9uKCl7bih0aGlzKS5jbG9zZXN0KCJsaSIpLmlzKCIudWktc3RhdGUtZGlzYWJsZWQiKSYmdGhpcy5ibHVyKCl9KTt0aGlzLnRhYnM9dGhpcy50YWJsaXN0LmZpbmQoIj4gbGk6aGFzKGFbaHJlZl0pIikuYXR0cih7cm9sZToidGFiIix0YWJJbmRleDotMX0pO3RoaXMuX2FkZENsYXNzKHRoaXMudGFicywidWktdGFicy10YWIiLCJ1aS1zdGF0ZS1kZWZhdWx0Iik7dGhpcy5hbmNob3JzPXRoaXMudGFicy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbigiYSIsdGhpcylbMF19KS5hdHRyKHtyb2xlOiJwcmVzZW50YXRpb24iLHRhYkluZGV4Oi0xfSk7dGhpcy5fYWRkQ2xhc3ModGhpcy5hbmNob3JzLCJ1aS10YWJzLWFuY2hvciIpO3RoaXMucGFuZWxzPW4oKTt0aGlzLmFuY2hvcnMuZWFjaChmdW5jdGlvbihpLHIpe3ZhciBmLHUsZSxzPW4ocikudW5pcXVlSWQoKS5hdHRyKCJpZCIpLG89bihyKS5jbG9zZXN0KCJsaSIpLGg9by5hdHRyKCJhcmlhLWNvbnRyb2xzIik7dC5faXNMb2NhbChyKT8oZj1yLmhhc2gsZT1mLnN1YnN0cmluZygxKSx1PXQuZWxlbWVudC5maW5kKHQuX3Nhbml0aXplU2VsZWN0b3IoZikpKTooZT1vLmF0dHIoImFyaWEtY29udHJvbHMiKXx8bih7fSkudW5pcXVlSWQoKVswXS5pZCxmPSIjIitlLHU9dC5lbGVtZW50LmZpbmQoZiksdS5sZW5ndGh8fCh1PXQuX2NyZWF0ZVBhbmVsKGUpLHUuaW5zZXJ0QWZ0ZXIodC5wYW5lbHNbaS0xXXx8dC50YWJsaXN0KSksdS5hdHRyKCJhcmlhLWxpdmUiLCJwb2xpdGUiKSk7dS5sZW5ndGgmJih0LnBhbmVscz10LnBhbmVscy5hZGQodSkpO2gmJm8uZGF0YSgidWktdGFicy1hcmlhLWNvbnRyb2xzIixoKTtvLmF0dHIoeyJhcmlhLWNvbnRyb2xzIjplLCJhcmlhLWxhYmVsbGVkYnkiOnN9KTt1LmF0dHIoImFyaWEtbGFiZWxsZWRieSIscyl9KTt0aGlzLnBhbmVscy5hdHRyKCJyb2xlIiwidGFicGFuZWwiKTt0aGlzLl9hZGRDbGFzcyh0aGlzLnBhbmVscywidWktdGFicy1wYW5lbCIsInVpLXdpZGdldC1jb250ZW50Iik7aSYmKHRoaXMuX29mZihpLm5vdCh0aGlzLnRhYnMpKSx0aGlzLl9vZmYoci5ub3QodGhpcy5hbmNob3JzKSksdGhpcy5fb2ZmKHUubm90KHRoaXMucGFuZWxzKSkpfSxfZ2V0TGlzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRhYmxpc3R8fHRoaXMuZWxlbWVudC5maW5kKCJvbCwgdWwiKS5lcSgwKX0sX2NyZWF0ZVBhbmVsOmZ1bmN0aW9uKHQpe3JldHVybiBuKCI8ZGl2PiIpLmF0dHIoImlkIix0KS5kYXRhKCJ1aS10YWJzLWRlc3Ryb3kiLCEwKX0sX3NldE9wdGlvbkRpc2FibGVkOmZ1bmN0aW9uKHQpe3ZhciBpLHUscjtmb3Iobi5pc0FycmF5KHQpJiYodC5sZW5ndGg/dC5sZW5ndGg9PT10aGlzLmFuY2hvcnMubGVuZ3RoJiYodD0hMCk6dD0hMSkscj0wO3U9dGhpcy50YWJzW3JdO3IrKylpPW4odSksdD09PSEwfHwtMSE9PW4uaW5BcnJheShyLHQpPyhpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIiksdGhpcy5fYWRkQ2xhc3MoaSxudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIpKTooaS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIiksdGhpcy5fcmVtb3ZlQ2xhc3MoaSxudWxsLCJ1aS1zdGF0ZS1kaXNhYmxlZCIpKTt0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9dDt0aGlzLl90b2dnbGVDbGFzcyh0aGlzLndpZGdldCgpLHRoaXMud2lkZ2V0RnVsbE5hbWUrIi1kaXNhYmxlZCIsbnVsbCx0PT09ITApfSxfc2V0dXBFdmVudHM6ZnVuY3Rpb24odCl7dmFyIGk9e307dCYmbi5lYWNoKHQuc3BsaXQoIiAiKSxmdW5jdGlvbihuLHQpe2lbdF09Il9ldmVudEhhbmRsZXIifSk7dGhpcy5fb2ZmKHRoaXMuYW5jaG9ycy5hZGQodGhpcy50YWJzKS5hZGQodGhpcy5wYW5lbHMpKTt0aGlzLl9vbighMCx0aGlzLmFuY2hvcnMse2NsaWNrOmZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX19KTt0aGlzLl9vbih0aGlzLmFuY2hvcnMsaSk7dGhpcy5fb24odGhpcy50YWJzLHtrZXlkb3duOiJfdGFiS2V5ZG93biJ9KTt0aGlzLl9vbih0aGlzLnBhbmVscyx7a2V5ZG93bjoiX3BhbmVsS2V5ZG93biJ9KTt0aGlzLl9mb2N1c2FibGUodGhpcy50YWJzKTt0aGlzLl9ob3ZlcmFibGUodGhpcy50YWJzKX0sX3NldHVwSGVpZ2h0U3R5bGU6ZnVuY3Rpb24odCl7dmFyIGkscj10aGlzLmVsZW1lbnQucGFyZW50KCk7ImZpbGwiPT09dD8oaT1yLmhlaWdodCgpLGktPXRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLXRoaXMuZWxlbWVudC5oZWlnaHQoKSx0aGlzLmVsZW1lbnQuc2libGluZ3MoIjp2aXNpYmxlIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcykscj10LmNzcygicG9zaXRpb24iKTsiYWJzb2x1dGUiIT09ciYmImZpeGVkIiE9PXImJihpLT10Lm91dGVySGVpZ2h0KCEwKSl9KSx0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKS5ub3QodGhpcy5wYW5lbHMpLmVhY2goZnVuY3Rpb24oKXtpLT1uKHRoaXMpLm91dGVySGVpZ2h0KCEwKX0pLHRoaXMucGFuZWxzLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmhlaWdodChNYXRoLm1heCgwLGktbih0aGlzKS5pbm5lckhlaWdodCgpK24odGhpcykuaGVpZ2h0KCkpKX0pLmNzcygib3ZlcmZsb3ciLCJhdXRvIikpOiJhdXRvIj09PXQmJihpPTAsdGhpcy5wYW5lbHMuZWFjaChmdW5jdGlvbigpe2k9TWF0aC5tYXgoaSxuKHRoaXMpLmhlaWdodCgiIikuaGVpZ2h0KCkpfSkuaGVpZ2h0KGkpKX0sX2V2ZW50SGFuZGxlcjpmdW5jdGlvbih0KXt2YXIgdT10aGlzLm9wdGlvbnMscj10aGlzLmFjdGl2ZSxjPW4odC5jdXJyZW50VGFyZ2V0KSxpPWMuY2xvc2VzdCgibGkiKSxmPWlbMF09PT1yWzBdLGU9ZiYmdS5jb2xsYXBzaWJsZSxvPWU/bigpOnRoaXMuX2dldFBhbmVsRm9yVGFiKGkpLHM9ci5sZW5ndGg/dGhpcy5fZ2V0UGFuZWxGb3JUYWIocik6bigpLGg9e29sZFRhYjpyLG9sZFBhbmVsOnMsbmV3VGFiOmU/bigpOmksbmV3UGFuZWw6b307dC5wcmV2ZW50RGVmYXVsdCgpO2kuaGFzQ2xhc3MoInVpLXN0YXRlLWRpc2FibGVkIil8fGkuaGFzQ2xhc3MoInVpLXRhYnMtbG9hZGluZyIpfHx0aGlzLnJ1bm5pbmd8fGYmJiF1LmNvbGxhcHNpYmxlfHx0aGlzLl90cmlnZ2VyKCJiZWZvcmVBY3RpdmF0ZSIsdCxoKT09PSExfHwodS5hY3RpdmU9ZT8hMTp0aGlzLnRhYnMuaW5kZXgoaSksdGhpcy5hY3RpdmU9Zj9uKCk6aSx0aGlzLnhociYmdGhpcy54aHIuYWJvcnQoKSxzLmxlbmd0aHx8by5sZW5ndGh8fG4uZXJyb3IoImpRdWVyeSBVSSBUYWJzOiBNaXNtYXRjaGluZyBmcmFnbWVudCBpZGVudGlmaWVyLiIpLG8ubGVuZ3RoJiZ0aGlzLmxvYWQodGhpcy50YWJzLmluZGV4KGkpLHQpLHRoaXMuX3RvZ2dsZSh0LGgpKX0sX3RvZ2dsZTpmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIGUoKXtyLnJ1bm5pbmc9ITE7ci5fdHJpZ2dlcigiYWN0aXZhdGUiLHQsaSl9ZnVuY3Rpb24gbygpe3IuX2FkZENsYXNzKGkubmV3VGFiLmNsb3Nlc3QoImxpIiksInVpLXRhYnMtYWN0aXZlIiwidWktc3RhdGUtYWN0aXZlIik7dS5sZW5ndGgmJnIub3B0aW9ucy5zaG93P3IuX3Nob3codSxyLm9wdGlvbnMuc2hvdyxlKToodS5zaG93KCksZSgpKX12YXIgcj10aGlzLHU9aS5uZXdQYW5lbCxmPWkub2xkUGFuZWw7dGhpcy5ydW5uaW5nPSEwO2YubGVuZ3RoJiZ0aGlzLm9wdGlvbnMuaGlkZT90aGlzLl9oaWRlKGYsdGhpcy5vcHRpb25zLmhpZGUsZnVuY3Rpb24oKXtyLl9yZW1vdmVDbGFzcyhpLm9sZFRhYi5jbG9zZXN0KCJsaSIpLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpO28oKX0pOih0aGlzLl9yZW1vdmVDbGFzcyhpLm9sZFRhYi5jbG9zZXN0KCJsaSIpLCJ1aS10YWJzLWFjdGl2ZSIsInVpLXN0YXRlLWFjdGl2ZSIpLGYuaGlkZSgpLG8oKSk7Zi5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKTtpLm9sZFRhYi5hdHRyKHsiYXJpYS1zZWxlY3RlZCI6ImZhbHNlIiwiYXJpYS1leHBhbmRlZCI6ImZhbHNlIn0pO3UubGVuZ3RoJiZmLmxlbmd0aD9pLm9sZFRhYi5hdHRyKCJ0YWJJbmRleCIsLTEpOnUubGVuZ3RoJiZ0aGlzLnRhYnMuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDA9PT1uKHRoaXMpLmF0dHIoInRhYkluZGV4Iil9KS5hdHRyKCJ0YWJJbmRleCIsLTEpO3UuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpO2kubmV3VGFiLmF0dHIoeyJhcmlhLXNlbGVjdGVkIjoidHJ1ZSIsImFyaWEtZXhwYW5kZWQiOiJ0cnVlIix0YWJJbmRleDowfSl9LF9hY3RpdmF0ZTpmdW5jdGlvbih0KXt2YXIgcixpPXRoaXMuX2ZpbmRBY3RpdmUodCk7aVswXSE9PXRoaXMuYWN0aXZlWzBdJiYoaS5sZW5ndGh8fChpPXRoaXMuYWN0aXZlKSxyPWkuZmluZCgiLnVpLXRhYnMtYW5jaG9yIilbMF0sdGhpcy5fZXZlbnRIYW5kbGVyKHt0YXJnZXQ6cixjdXJyZW50VGFyZ2V0OnIscHJldmVudERlZmF1bHQ6bi5ub29wfSkpfSxfZmluZEFjdGl2ZTpmdW5jdGlvbih0KXtyZXR1cm4gdD09PSExP24oKTp0aGlzLnRhYnMuZXEodCl9LF9nZXRJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQmJih0PXRoaXMuYW5jaG9ycy5pbmRleCh0aGlzLmFuY2hvcnMuZmlsdGVyKCJbaHJlZiQ9JyIrbi51aS5lc2NhcGVTZWxlY3Rvcih0KSsiJ10iKSkpLHR9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy54aHImJnRoaXMueGhyLmFib3J0KCk7dGhpcy50YWJsaXN0LnJlbW92ZUF0dHIoInJvbGUiKS5vZmYodGhpcy5ldmVudE5hbWVzcGFjZSk7dGhpcy5hbmNob3JzLnJlbW92ZUF0dHIoInJvbGUgdGFiSW5kZXgiKS5yZW1vdmVVbmlxdWVJZCgpO3RoaXMudGFicy5hZGQodGhpcy5wYW5lbHMpLmVhY2goZnVuY3Rpb24oKXtuLmRhdGEodGhpcywidWktdGFicy1kZXN0cm95Iik/bih0aGlzKS5yZW1vdmUoKTpuKHRoaXMpLnJlbW92ZUF0dHIoInJvbGUgdGFiSW5kZXggYXJpYS1saXZlIGFyaWEtYnVzeSBhcmlhLXNlbGVjdGVkIGFyaWEtbGFiZWxsZWRieSBhcmlhLWhpZGRlbiBhcmlhLWV4cGFuZGVkIil9KTt0aGlzLnRhYnMuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksaT10LmRhdGEoInVpLXRhYnMtYXJpYS1jb250cm9scyIpO2k/dC5hdHRyKCJhcmlhLWNvbnRyb2xzIixpKS5yZW1vdmVEYXRhKCJ1aS10YWJzLWFyaWEtY29udHJvbHMiKTp0LnJlbW92ZUF0dHIoImFyaWEtY29udHJvbHMiKX0pO3RoaXMucGFuZWxzLnNob3coKTsiY29udGVudCIhPT10aGlzLm9wdGlvbnMuaGVpZ2h0U3R5bGUmJnRoaXMucGFuZWxzLmNzcygiaGVpZ2h0IiwiIil9LGVuYWJsZTpmdW5jdGlvbih0KXt2YXIgaT10aGlzLm9wdGlvbnMuZGlzYWJsZWQ7aSE9PSExJiYodm9pZCAwPT09dD9pPSExOih0PXRoaXMuX2dldEluZGV4KHQpLGk9bi5pc0FycmF5KGkpP24ubWFwKGksZnVuY3Rpb24obil7cmV0dXJuIG4hPT10P246bnVsbH0pOm4ubWFwKHRoaXMudGFicyxmdW5jdGlvbihuLGkpe3JldHVybiBpIT09dD9pOm51bGx9KSksdGhpcy5fc2V0T3B0aW9uRGlzYWJsZWQoaSkpfSxkaXNhYmxlOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucy5kaXNhYmxlZDtpZihpIT09ITApe2lmKHZvaWQgMD09PXQpaT0hMDtlbHNle2lmKHQ9dGhpcy5fZ2V0SW5kZXgodCksLTEhPT1uLmluQXJyYXkodCxpKSlyZXR1cm47aT1uLmlzQXJyYXkoaSk/bi5tZXJnZShbdF0saSkuc29ydCgpOlt0XX10aGlzLl9zZXRPcHRpb25EaXNhYmxlZChpKX19LGxvYWQ6ZnVuY3Rpb24odCxpKXt0PXRoaXMuX2dldEluZGV4KHQpO3ZhciByPXRoaXMsdT10aGlzLnRhYnMuZXEodCksZT11LmZpbmQoIi51aS10YWJzLWFuY2hvciIpLGY9dGhpcy5fZ2V0UGFuZWxGb3JUYWIodSksbz17dGFiOnUscGFuZWw6Zn0scz1mdW5jdGlvbihuLHQpeyJhYm9ydCI9PT10JiZyLnBhbmVscy5zdG9wKCExLCEwKTtyLl9yZW1vdmVDbGFzcyh1LCJ1aS10YWJzLWxvYWRpbmciKTtmLnJlbW92ZUF0dHIoImFyaWEtYnVzeSIpO249PT1yLnhociYmZGVsZXRlIHIueGhyfTt0aGlzLl9pc0xvY2FsKGVbMF0pfHwodGhpcy54aHI9bi5hamF4KHRoaXMuX2FqYXhTZXR0aW5ncyhlLGksbykpLHRoaXMueGhyJiYiY2FuY2VsZWQiIT09dGhpcy54aHIuc3RhdHVzVGV4dCYmKHRoaXMuX2FkZENsYXNzKHUsInVpLXRhYnMtbG9hZGluZyIpLGYuYXR0cigiYXJpYS1idXN5IiwidHJ1ZSIpLHRoaXMueGhyLmRvbmUoZnVuY3Rpb24obix0LHUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtmLmh0bWwobik7ci5fdHJpZ2dlcigibG9hZCIsaSxvKTtzKHUsdCl9LDEpfSkuZmFpbChmdW5jdGlvbihuLHQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtzKG4sdCl9LDEpfSkpKX0sX2FqYXhTZXR0aW5nczpmdW5jdGlvbih0LGkscil7dmFyIHU9dGhpcztyZXR1cm57dXJsOnQuYXR0cigiaHJlZiIpLnJlcGxhY2UoLyMuKiQvLCIiKSxiZWZvcmVTZW5kOmZ1bmN0aW9uKHQsZil7cmV0dXJuIHUuX3RyaWdnZXIoImJlZm9yZUxvYWQiLGksbi5leHRlbmQoe2pxWEhSOnQsYWpheFNldHRpbmdzOmZ9LHIpKX19fSxfZ2V0UGFuZWxGb3JUYWI6ZnVuY3Rpb24odCl7dmFyIGk9bih0KS5hdHRyKCJhcmlhLWNvbnRyb2xzIik7cmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKHRoaXMuX3Nhbml0aXplU2VsZWN0b3IoIiMiK2kpKX19KTtuLnVpQmFja0NvbXBhdCE9PSExJiZuLndpZGdldCgidWkudGFicyIsbi51aS50YWJzLHtfcHJvY2Vzc1RhYnM6ZnVuY3Rpb24oKXt0aGlzLl9zdXBlckFwcGx5KGFyZ3VtZW50cyk7dGhpcy5fYWRkQ2xhc3ModGhpcy50YWJzLCJ1aS10YWIiKX19KTtuLnVpLnRhYnM7bi53aWRnZXQoInVpLnRvb2x0aXAiLHt2ZXJzaW9uOiIxLjEyLjEiLG9wdGlvbnM6e2NsYXNzZXM6eyJ1aS10b29sdGlwIjoidWktY29ybmVyLWFsbCB1aS13aWRnZXQtc2hhZG93In0sY29udGVudDpmdW5jdGlvbigpe3ZhciB0PW4odGhpcykuYXR0cigidGl0bGUiKXx8IiI7cmV0dXJuIG4oIjxhPiIpLnRleHQodCkuaHRtbCgpfSxoaWRlOiEwLGl0ZW1zOiJbdGl0bGVdOm5vdChbZGlzYWJsZWRdKSIscG9zaXRpb246e215OiJsZWZ0IHRvcCsxNSIsYXQ6ImxlZnQgYm90dG9tIixjb2xsaXNpb246ImZsaXBmaXQgZmxpcCJ9LHNob3c6ITAsdHJhY2s6ITEsY2xvc2U6bnVsbCxvcGVuOm51bGx9LF9hZGREZXNjcmliZWRCeTpmdW5jdGlvbih0LGkpe3ZhciByPSh0LmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiKXx8IiIpLnNwbGl0KC9ccysvKTtyLnB1c2goaSk7dC5kYXRhKCJ1aS10b29sdGlwLWlkIixpKS5hdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IixuLnRyaW0oci5qb2luKCIgIikpKX0sX3JlbW92ZURlc2NyaWJlZEJ5OmZ1bmN0aW9uKHQpe3ZhciB1PXQuZGF0YSgidWktdG9vbHRpcC1pZCIpLGk9KHQuYXR0cigiYXJpYS1kZXNjcmliZWRieSIpfHwiIikuc3BsaXQoL1xzKy8pLHI9bi5pbkFycmF5KHUsaSk7LTEhPT1yJiZpLnNwbGljZShyLDEpO3QucmVtb3ZlRGF0YSgidWktdG9vbHRpcC1pZCIpO2k9bi50cmltKGkuam9pbigiICIpKTtpP3QuYXR0cigiYXJpYS1kZXNjcmliZWRieSIsaSk6dC5yZW1vdmVBdHRyKCJhcmlhLWRlc2NyaWJlZGJ5Iil9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9vbih7bW91c2VvdmVyOiJvcGVuIixmb2N1c2luOiJvcGVuIn0pO3RoaXMudG9vbHRpcHM9e307dGhpcy5wYXJlbnRzPXt9O3RoaXMubGl2ZVJlZ2lvbj1uKCI8ZGl2PiIpLmF0dHIoe3JvbGU6ImxvZyIsImFyaWEtbGl2ZSI6ImFzc2VydGl2ZSIsImFyaWEtcmVsZXZhbnQiOiJhZGRpdGlvbnMifSkuYXBwZW5kVG8odGhpcy5kb2N1bWVudFswXS5ib2R5KTt0aGlzLl9hZGRDbGFzcyh0aGlzLmxpdmVSZWdpb24sbnVsbCwidWktaGVscGVyLWhpZGRlbi1hY2Nlc3NpYmxlIik7dGhpcy5kaXNhYmxlZFRpdGxlcz1uKFtdKX0sX3NldE9wdGlvbjpmdW5jdGlvbih0LGkpe3ZhciByPXRoaXM7dGhpcy5fc3VwZXIodCxpKTsiY29udGVudCI9PT10JiZuLmVhY2godGhpcy50b29sdGlwcyxmdW5jdGlvbihuLHQpe3IuX3VwZGF0ZUNvbnRlbnQodC5lbGVtZW50KX0pfSxfc2V0T3B0aW9uRGlzYWJsZWQ6ZnVuY3Rpb24obil7dGhpc1tuPyJfZGlzYWJsZSI6Il9lbmFibGUiXSgpfSxfZGlzYWJsZTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7bi5lYWNoKHRoaXMudG9vbHRpcHMsZnVuY3Rpb24oaSxyKXt2YXIgdT1uLkV2ZW50KCJibHVyIik7dS50YXJnZXQ9dS5jdXJyZW50VGFyZ2V0PXIuZWxlbWVudFswXTt0LmNsb3NlKHUsITApfSk7dGhpcy5kaXNhYmxlZFRpdGxlcz10aGlzLmRpc2FibGVkVGl0bGVzLmFkZCh0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMuaXRlbXMpLmFkZEJhY2soKS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO2lmKHQuaXMoIlt0aXRsZV0iKSlyZXR1cm4gdC5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIix0LmF0dHIoInRpdGxlIikpLnJlbW92ZUF0dHIoInRpdGxlIil9KSl9LF9lbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkVGl0bGVzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3QuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpJiZ0LmF0dHIoInRpdGxlIix0LmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSl9KTt0aGlzLmRpc2FibGVkVGl0bGVzPW4oW10pfSxvcGVuOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsaT1uKHQ/dC50YXJnZXQ6dGhpcy5lbGVtZW50KS5jbG9zZXN0KHRoaXMub3B0aW9ucy5pdGVtcyk7aS5sZW5ndGgmJiFpLmRhdGEoInVpLXRvb2x0aXAtaWQiKSYmKGkuYXR0cigidGl0bGUiKSYmaS5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIixpLmF0dHIoInRpdGxlIikpLGkuZGF0YSgidWktdG9vbHRpcC1vcGVuIiwhMCksdCYmIm1vdXNlb3ZlciI9PT10LnR5cGUmJmkucGFyZW50cygpLmVhY2goZnVuY3Rpb24oKXt2YXIgaSx0PW4odGhpcyk7dC5kYXRhKCJ1aS10b29sdGlwLW9wZW4iKSYmKGk9bi5FdmVudCgiYmx1ciIpLGkudGFyZ2V0PWkuY3VycmVudFRhcmdldD10aGlzLHIuY2xvc2UoaSwhMCkpO3QuYXR0cigidGl0bGUiKSYmKHQudW5pcXVlSWQoKSxyLnBhcmVudHNbdGhpcy5pZF09e2VsZW1lbnQ6dGhpcyx0aXRsZTp0LmF0dHIoInRpdGxlIil9LHQuYXR0cigidGl0bGUiLCIiKSl9KSx0aGlzLl9yZWdpc3RlckNsb3NlSGFuZGxlcnModCxpKSx0aGlzLl91cGRhdGVDb250ZW50KGksdCkpfSxfdXBkYXRlQ29udGVudDpmdW5jdGlvbihuLHQpe3ZhciByLGk9dGhpcy5vcHRpb25zLmNvbnRlbnQsdT10aGlzLGY9dD90LnR5cGU6bnVsbDtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGl8fGkubm9kZVR5cGV8fGkuanF1ZXJ5P3RoaXMuX29wZW4odCxuLGkpOihyPWkuY2FsbChuWzBdLGZ1bmN0aW9uKGkpe3UuX2RlbGF5KGZ1bmN0aW9uKCl7bi5kYXRhKCJ1aS10b29sdGlwLW9wZW4iKSYmKHQmJih0LnR5cGU9ZiksdGhpcy5fb3Blbih0LG4saSkpfSl9KSxyJiZ0aGlzLl9vcGVuKHQsbixyKSx2b2lkIDApfSxfb3BlbjpmdW5jdGlvbih0LGkscil7ZnVuY3Rpb24gbyhuKXtzLm9mPW47dS5pcygiOmhpZGRlbiIpfHx1LnBvc2l0aW9uKHMpfXZhciBmLHUsaCxlLHM9bi5leHRlbmQoe30sdGhpcy5vcHRpb25zLnBvc2l0aW9uKTtpZihyKXtpZihmPXRoaXMuX2ZpbmQoaSkpcmV0dXJuIGYudG9vbHRpcC5maW5kKCIudWktdG9vbHRpcC1jb250ZW50IikuaHRtbChyKSx2b2lkIDA7aS5pcygiW3RpdGxlXSIpJiYodCYmIm1vdXNlb3ZlciI9PT10LnR5cGU/aS5hdHRyKCJ0aXRsZSIsIiIpOmkucmVtb3ZlQXR0cigidGl0bGUiKSk7Zj10aGlzLl90b29sdGlwKGkpO3U9Zi50b29sdGlwO3RoaXMuX2FkZERlc2NyaWJlZEJ5KGksdS5hdHRyKCJpZCIpKTt1LmZpbmQoIi51aS10b29sdGlwLWNvbnRlbnQiKS5odG1sKHIpO3RoaXMubGl2ZVJlZ2lvbi5jaGlsZHJlbigpLmhpZGUoKTtlPW4oIjxkaXY+IikuaHRtbCh1LmZpbmQoIi51aS10b29sdGlwLWNvbnRlbnQiKS5odG1sKCkpO2UucmVtb3ZlQXR0cigibmFtZSIpLmZpbmQoIltuYW1lXSIpLnJlbW92ZUF0dHIoIm5hbWUiKTtlLnJlbW92ZUF0dHIoImlkIikuZmluZCgiW2lkXSIpLnJlbW92ZUF0dHIoImlkIik7ZS5hcHBlbmRUbyh0aGlzLmxpdmVSZWdpb24pO3RoaXMub3B0aW9ucy50cmFjayYmdCYmL15tb3VzZS8udGVzdCh0LnR5cGUpPyh0aGlzLl9vbih0aGlzLmRvY3VtZW50LHttb3VzZW1vdmU6b30pLG8odCkpOnUucG9zaXRpb24obi5leHRlbmQoeyJvZiI6aX0sdGhpcy5vcHRpb25zLnBvc2l0aW9uKSk7dS5oaWRlKCk7dGhpcy5fc2hvdyh1LHRoaXMub3B0aW9ucy5zaG93KTt0aGlzLm9wdGlvbnMudHJhY2smJnRoaXMub3B0aW9ucy5zaG93JiZ0aGlzLm9wdGlvbnMuc2hvdy5kZWxheSYmKGg9dGhpcy5kZWxheWVkU2hvdz1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3UuaXMoIjp2aXNpYmxlIikmJihvKHMub2YpLGNsZWFySW50ZXJ2YWwoaCkpfSxuLmZ4LmludGVydmFsKSk7dGhpcy5fdHJpZ2dlcigib3BlbiIsdCx7dG9vbHRpcDp1fSl9fSxfcmVnaXN0ZXJDbG9zZUhhbmRsZXJzOmZ1bmN0aW9uKHQsaSl7dmFyIHI9e2tleXVwOmZ1bmN0aW9uKHQpe2lmKHQua2V5Q29kZT09PW4udWkua2V5Q29kZS5FU0NBUEUpe3ZhciByPW4uRXZlbnQodCk7ci5jdXJyZW50VGFyZ2V0PWlbMF07dGhpcy5jbG9zZShyLCEwKX19fTtpWzBdIT09dGhpcy5lbGVtZW50WzBdJiYoci5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLl9yZW1vdmVUb29sdGlwKHRoaXMuX2ZpbmQoaSkudG9vbHRpcCl9KTt0JiYibW91c2VvdmVyIiE9PXQudHlwZXx8KHIubW91c2VsZWF2ZT0iY2xvc2UiKTt0JiYiZm9jdXNpbiIhPT10LnR5cGV8fChyLmZvY3Vzb3V0PSJjbG9zZSIpO3RoaXMuX29uKCEwLGkscil9LGNsb3NlOmZ1bmN0aW9uKHQpe3ZhciB1LGY9dGhpcyxpPW4odD90LmN1cnJlbnRUYXJnZXQ6dGhpcy5lbGVtZW50KSxyPXRoaXMuX2ZpbmQoaSk7cmV0dXJuIHI/KHU9ci50b29sdGlwLHIuY2xvc2luZ3x8KGNsZWFySW50ZXJ2YWwodGhpcy5kZWxheWVkU2hvdyksaS5kYXRhKCJ1aS10b29sdGlwLXRpdGxlIikmJiFpLmF0dHIoInRpdGxlIikmJmkuYXR0cigidGl0bGUiLGkuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpKSx0aGlzLl9yZW1vdmVEZXNjcmliZWRCeShpKSxyLmhpZGluZz0hMCx1LnN0b3AoITApLHRoaXMuX2hpZGUodSx0aGlzLm9wdGlvbnMuaGlkZSxmdW5jdGlvbigpe2YuX3JlbW92ZVRvb2x0aXAobih0aGlzKSl9KSxpLnJlbW92ZURhdGEoInVpLXRvb2x0aXAtb3BlbiIpLHRoaXMuX29mZihpLCJtb3VzZWxlYXZlIGZvY3Vzb3V0IGtleXVwIiksaVswXSE9PXRoaXMuZWxlbWVudFswXSYmdGhpcy5fb2ZmKGksInJlbW92ZSIpLHRoaXMuX29mZih0aGlzLmRvY3VtZW50LCJtb3VzZW1vdmUiKSx0JiYibW91c2VsZWF2ZSI9PT10LnR5cGUmJm4uZWFjaCh0aGlzLnBhcmVudHMsZnVuY3Rpb24odCxpKXtuKGkuZWxlbWVudCkuYXR0cigidGl0bGUiLGkudGl0bGUpO2RlbGV0ZSBmLnBhcmVudHNbdF19KSxyLmNsb3Npbmc9ITAsdGhpcy5fdHJpZ2dlcigiY2xvc2UiLHQse3Rvb2x0aXA6dX0pLHIuaGlkaW5nfHwoci5jbG9zaW5nPSExKSksdm9pZCAwKTooaS5yZW1vdmVEYXRhKCJ1aS10b29sdGlwLW9wZW4iKSx2b2lkIDApfSxfdG9vbHRpcDpmdW5jdGlvbih0KXt2YXIgaT1uKCI8ZGl2PiIpLmF0dHIoInJvbGUiLCJ0b29sdGlwIikscj1uKCI8ZGl2PiIpLmFwcGVuZFRvKGkpLHU9aS51bmlxdWVJZCgpLmF0dHIoImlkIik7cmV0dXJuIHRoaXMuX2FkZENsYXNzKHIsInVpLXRvb2x0aXAtY29udGVudCIpLHRoaXMuX2FkZENsYXNzKGksInVpLXRvb2x0aXAiLCJ1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQiKSxpLmFwcGVuZFRvKHRoaXMuX2FwcGVuZFRvKHQpKSx0aGlzLnRvb2x0aXBzW3VdPXtlbGVtZW50OnQsdG9vbHRpcDppfX0sX2ZpbmQ6ZnVuY3Rpb24obil7dmFyIHQ9bi5kYXRhKCJ1aS10b29sdGlwLWlkIik7cmV0dXJuIHQ/dGhpcy50b29sdGlwc1t0XTpudWxsfSxfcmVtb3ZlVG9vbHRpcDpmdW5jdGlvbihuKXtuLnJlbW92ZSgpO2RlbGV0ZSB0aGlzLnRvb2x0aXBzW24uYXR0cigiaWQiKV19LF9hcHBlbmRUbzpmdW5jdGlvbihuKXt2YXIgdD1uLmNsb3Nlc3QoIi51aS1mcm9udCwgZGlhbG9nIik7cmV0dXJuIHQubGVuZ3RofHwodD10aGlzLmRvY3VtZW50WzBdLmJvZHkpLHR9LF9kZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztuLmVhY2godGhpcy50b29sdGlwcyxmdW5jdGlvbihpLHIpe3ZhciBmPW4uRXZlbnQoImJsdXIiKSx1PXIuZWxlbWVudDtmLnRhcmdldD1mLmN1cnJlbnRUYXJnZXQ9dVswXTt0LmNsb3NlKGYsITApO24oIiMiK2kpLnJlbW92ZSgpO3UuZGF0YSgidWktdG9vbHRpcC10aXRsZSIpJiYodS5hdHRyKCJ0aXRsZSIpfHx1LmF0dHIoInRpdGxlIix1LmRhdGEoInVpLXRvb2x0aXAtdGl0bGUiKSksdS5yZW1vdmVEYXRhKCJ1aS10b29sdGlwLXRpdGxlIikpfSk7dGhpcy5saXZlUmVnaW9uLnJlbW92ZSgpfX0pO24udWlCYWNrQ29tcGF0IT09ITEmJm4ud2lkZ2V0KCJ1aS50b29sdGlwIixuLnVpLnRvb2x0aXAse29wdGlvbnM6e3Rvb2x0aXBDbGFzczpudWxsfSxfdG9vbHRpcDpmdW5jdGlvbigpe3ZhciBuPXRoaXMuX3N1cGVyQXBwbHkoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5vcHRpb25zLnRvb2x0aXBDbGFzcyYmbi50b29sdGlwLmFkZENsYXNzKHRoaXMub3B0aW9ucy50b29sdGlwQ2xhc3MpLG59fSk7bi51aS50b29sdGlwfSk7Ci8qISBqUXVlcnkgTWlncmF0ZSB2My4zLjIgfCAoYykgT3BlbkpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9ycyB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwoidW5kZWZpbmVkIj09dHlwZW9mIGpRdWVyeS5taWdyYXRlTXV0ZSYmKGpRdWVyeS5taWdyYXRlTXV0ZT0hMCksZnVuY3Rpb24obil7InVzZSBzdHJpY3QiOyJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsianF1ZXJ5Il0sZnVuY3Rpb24odCl7cmV0dXJuIG4odCx3aW5kb3cpfSk6Im9iamVjdCI9PXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPW4ocmVxdWlyZSgianF1ZXJ5Iiksd2luZG93KTpuKGpRdWVyeSx3aW5kb3cpfShmdW5jdGlvbihuLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB1KHQpe3JldHVybiAwPD1mdW5jdGlvbihuLHQpe2Zvcih2YXIgcj0vXihcZCspXC4oXGQrKVwuKFxkKykvLHU9ci5leGVjKG4pfHxbXSxmPXIuZXhlYyh0KXx8W10saT0xO2k8PTM7aSsrKXtpZigrZltpXTwrdVtpXSlyZXR1cm4gMTtpZigrdVtpXTwrZltpXSlyZXR1cm4tMX1yZXR1cm4gMH0obi5mbi5qcXVlcnksdCl9ZnVuY3Rpb24gaShpKXt2YXIgcj10LmNvbnNvbGU7bi5taWdyYXRlRGVkdXBsaWNhdGVXYXJuaW5ncyYmZVtpXXx8KGVbaV09ITAsbi5taWdyYXRlV2FybmluZ3MucHVzaChpKSxyJiZyLndhcm4mJiFuLm1pZ3JhdGVNdXRlJiYoci53YXJuKCJKUU1JR1JBVEU6ICIraSksbi5taWdyYXRlVHJhY2UmJnIudHJhY2UmJnIudHJhY2UoKSkpfWZ1bmN0aW9uIGgobix0LHIsdSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkodSkscn0sc2V0OmZ1bmN0aW9uKG4pe2kodSk7cj1ufX0pfWZ1bmN0aW9uIHIobix0LHIsdSl7blt0XT1mdW5jdGlvbigpe3JldHVybiBpKHUpLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBsKG4pe3JldHVybiBuLnJlcGxhY2UoLy0oW2Etel0pL2csZnVuY3Rpb24obix0KXtyZXR1cm4gdC50b1VwcGVyQ2FzZSgpfSl9ZnVuY3Rpb24gdHQobil7dmFyIGk9dC5kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpO3JldHVybiBpLmJvZHkuaW5uZXJIVE1MPW4saS5ib2R5JiZpLmJvZHkuaW5uZXJIVE1MfWZ1bmN0aW9uIGl0KG4pe3ZhciB0PW4ucmVwbGFjZShwLCI8JDE+PFwvJDI+Iik7dCE9PW4mJnR0KG4pIT09dHQodCkmJmkoIkhUTUwgdGFncyBtdXN0IGJlIHByb3Blcmx5IG5lc3RlZCBhbmQgY2xvc2VkOiAiK24pfXZhciBlLHYseSxnLG50LGYscCxydCx1dCxmdCx3LGV0LG90O24ubWlncmF0ZVZlcnNpb249IjMuMy4yIjt0LmNvbnNvbGUmJnQuY29uc29sZS5sb2cmJihuJiZ1KCIzLjAuMCIpfHx0LmNvbnNvbGUubG9nKCJKUU1JR1JBVEU6IGpRdWVyeSAzLjAuMCsgUkVRVUlSRUQiKSxuLm1pZ3JhdGVXYXJuaW5ncyYmdC5jb25zb2xlLmxvZygiSlFNSUdSQVRFOiBNaWdyYXRlIHBsdWdpbiBsb2FkZWQgbXVsdGlwbGUgdGltZXMiKSx0LmNvbnNvbGUubG9nKCJKUU1JR1JBVEU6IE1pZ3JhdGUgaXMgaW5zdGFsbGVkIisobi5taWdyYXRlTXV0ZT8iIjoiIHdpdGggbG9nZ2luZyBhY3RpdmUiKSsiLCB2ZXJzaW9uICIrbi5taWdyYXRlVmVyc2lvbikpO2U9e307bi5taWdyYXRlRGVkdXBsaWNhdGVXYXJuaW5ncz0hMDtuLm1pZ3JhdGVXYXJuaW5ncz1bXTt2b2lkIDA9PT1uLm1pZ3JhdGVUcmFjZSYmKG4ubWlncmF0ZVRyYWNlPSEwKTtuLm1pZ3JhdGVSZXNldD1mdW5jdGlvbigpe2U9e307bi5taWdyYXRlV2FybmluZ3MubGVuZ3RoPTB9OyJCYWNrQ29tcGF0Ij09PXQuZG9jdW1lbnQuY29tcGF0TW9kZSYmaSgialF1ZXJ5IGlzIG5vdCBjb21wYXRpYmxlIHdpdGggUXVpcmtzIE1vZGUiKTt2YXIgbyxiLGMsaz17fSxzdD1uLmZuLmluaXQscz1uLmZpbmQsaHQ9L1xbKFxzKlstXHddK1xzKikoW358XiQqXT89KVxzKihbLVx3I10qPyNbLVx3I10qKVxzKlxdLyxjdD0vXFsoXHMqWy1cd10rXHMqKShbfnxeJCpdPz0pXHMqKFstXHcjXSo/I1stXHcjXSopXHMqXF0vZyxsdD0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2c7Zm9yKG8gaW4gbi5mbi5pbml0PWZ1bmN0aW9uKG4pe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBuJiYiIyI9PT1uJiYoaSgialF1ZXJ5KCAnIycgKSBpcyBub3QgYSB2YWxpZCBzZWxlY3RvciIpLHRbMF09W10pLHN0LmFwcGx5KHRoaXMsdCl9LG4uZm4uaW5pdC5wcm90b3R5cGU9bi5mbixuLmZpbmQ9ZnVuY3Rpb24obil7dmFyIHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtpZigic3RyaW5nIj09dHlwZW9mIG4mJmh0LnRlc3QobikpdHJ5e3QuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuKX1jYXRjaCh1KXtuPW4ucmVwbGFjZShjdCxmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4iWyIrdCtpKyciJytyKyciXSd9KTt0cnl7dC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG4pO2koIkF0dHJpYnV0ZSBzZWxlY3RvciB3aXRoICcjJyBtdXN0IGJlIHF1b3RlZDogIityWzBdKTtyWzBdPW59Y2F0Y2godSl7aSgiQXR0cmlidXRlIHNlbGVjdG9yIHdpdGggJyMnIHdhcyBub3QgZml4ZWQ6ICIrclswXSl9fXJldHVybiBzLmFwcGx5KHRoaXMscil9LHMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsbykmJihuLmZpbmRbb109c1tvXSk7cihuLmZuLCJzaXplIixmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sImpRdWVyeS5mbi5zaXplKCkgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZDsgdXNlIHRoZSAubGVuZ3RoIHByb3BlcnR5Iik7cihuLCJwYXJzZUpTT04iLGZ1bmN0aW9uKCl7cmV0dXJuIEpTT04ucGFyc2UuYXBwbHkobnVsbCxhcmd1bWVudHMpfSwialF1ZXJ5LnBhcnNlSlNPTiBpcyBkZXByZWNhdGVkOyB1c2UgSlNPTi5wYXJzZSIpO3IobiwiaG9sZFJlYWR5IixuLmhvbGRSZWFkeSwialF1ZXJ5LmhvbGRSZWFkeSBpcyBkZXByZWNhdGVkIik7cihuLCJ1bmlxdWUiLG4udW5pcXVlU29ydCwialF1ZXJ5LnVuaXF1ZSBpcyBkZXByZWNhdGVkOyB1c2UgalF1ZXJ5LnVuaXF1ZVNvcnQiKTtoKG4uZXhwciwiZmlsdGVycyIsbi5leHByLnBzZXVkb3MsImpRdWVyeS5leHByLmZpbHRlcnMgaXMgZGVwcmVjYXRlZDsgdXNlIGpRdWVyeS5leHByLnBzZXVkb3MiKTtoKG4uZXhwciwiOiIsbi5leHByLnBzZXVkb3MsImpRdWVyeS5leHByWyc6J10gaXMgZGVwcmVjYXRlZDsgdXNlIGpRdWVyeS5leHByLnBzZXVkb3MiKTt1KCIzLjEuMSIpJiZyKG4sInRyaW0iLGZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uPyIiOihuKyIiKS5yZXBsYWNlKGx0LCIiKX0sImpRdWVyeS50cmltIGlzIGRlcHJlY2F0ZWQ7IHVzZSBTdHJpbmcucHJvdG90eXBlLnRyaW0iKTt1KCIzLjIuMCIpJiYocihuLCJub2RlTmFtZSIsZnVuY3Rpb24obix0KXtyZXR1cm4gbi5ub2RlTmFtZSYmbi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09dC50b0xvd2VyQ2FzZSgpfSwialF1ZXJ5Lm5vZGVOYW1lIGlzIGRlcHJlY2F0ZWQiKSxyKG4sImlzQXJyYXkiLEFycmF5LmlzQXJyYXksImpRdWVyeS5pc0FycmF5IGlzIGRlcHJlY2F0ZWQ7IHVzZSBBcnJheS5pc0FycmF5IikpO3UoIjMuMy4wIikmJihyKG4sImlzTnVtZXJpYyIsZnVuY3Rpb24obil7dmFyIHQ9dHlwZW9mIG47cmV0dXJuKCJudW1iZXIiPT10fHwic3RyaW5nIj09dCkmJiFpc05hTihuLXBhcnNlRmxvYXQobikpfSwialF1ZXJ5LmlzTnVtZXJpYygpIGlzIGRlcHJlY2F0ZWQiKSxuLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7a1siW29iamVjdCAiK3QrIl0iXT10LnRvTG93ZXJDYXNlKCl9KSxyKG4sInR5cGUiLGZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uP24rIiI6Im9iamVjdCI9PXR5cGVvZiBufHwiZnVuY3Rpb24iPT10eXBlb2Ygbj9rW09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKV18fCJvYmplY3QiOnR5cGVvZiBufSwialF1ZXJ5LnR5cGUgaXMgZGVwcmVjYXRlZCIpLHIobiwiaXNGdW5jdGlvbiIsZnVuY3Rpb24obil7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG59LCJqUXVlcnkuaXNGdW5jdGlvbigpIGlzIGRlcHJlY2F0ZWQiKSxyKG4sImlzV2luZG93IixmdW5jdGlvbihuKXtyZXR1cm4gbnVsbCE9biYmbj09PW4ud2luZG93fSwialF1ZXJ5LmlzV2luZG93KCkgaXMgZGVwcmVjYXRlZCIpKTtuLmFqYXgmJihiPW4uYWpheCxjPS8oPSlcPyg/PSZ8JCl8XD9cPy8sbi5hamF4PWZ1bmN0aW9uKCl7dmFyIG49Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG4ucHJvbWlzZSYmKHIobiwic3VjY2VzcyIsbi5kb25lLCJqUVhIUi5zdWNjZXNzIGlzIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQiKSxyKG4sImVycm9yIixuLmZhaWwsImpRWEhSLmVycm9yIGlzIGRlcHJlY2F0ZWQgYW5kIHJlbW92ZWQiKSxyKG4sImNvbXBsZXRlIixuLmFsd2F5cywialFYSFIuY29tcGxldGUgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZCIpKSxufSx1KCI0LjAuMCIpfHxuLmFqYXhQcmVmaWx0ZXIoIitqc29uIixmdW5jdGlvbihuKXshMSE9PW4uanNvbnAmJihjLnRlc3Qobi51cmwpfHwic3RyaW5nIj09dHlwZW9mIG4uZGF0YSYmMD09PShuLmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJmMudGVzdChuLmRhdGEpKSYmaSgiSlNPTi10by1KU09OUCBhdXRvLXByb21vdGlvbiBpcyBkZXByZWNhdGVkIil9KSk7dmFyIGF0PW4uZm4ucmVtb3ZlQXR0cix2dD1uLmZuLnRvZ2dsZUNsYXNzLHl0PS9cUysvZztuLmZuLnJlbW92ZUF0dHI9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcztyZXR1cm4gbi5lYWNoKHQubWF0Y2goeXQpLGZ1bmN0aW9uKHQsdSl7bi5leHByLm1hdGNoLmJvb2wudGVzdCh1KSYmKGkoImpRdWVyeS5mbi5yZW1vdmVBdHRyIG5vIGxvbmdlciBzZXRzIGJvb2xlYW4gcHJvcGVydGllczogIit1KSxyLnByb3AodSwhMSkpfSksYXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgZCxhPSEobi5mbi50b2dnbGVDbGFzcz1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwIT09dCYmImJvb2xlYW4iIT10eXBlb2YgdD92dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KGkoImpRdWVyeS5mbi50b2dnbGVDbGFzcyggYm9vbGVhbiApIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT10aGlzLmdldEF0dHJpYnV0ZSYmdGhpcy5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiO2kmJm4uZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIixpKTt0aGlzLnNldEF0dHJpYnV0ZSYmdGhpcy5zZXRBdHRyaWJ1dGUoImNsYXNzIiwhaSYmITEhPT10JiZuLmRhdGEodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIil9KSl9KSxwdD0vXlthLXpdLyx3dD0vXig/OkJvcmRlcig/OlRvcHxSaWdodHxCb3R0b218TGVmdCk/KD86V2lkdGh8KXwoPzpNYXJnaW58UGFkZGluZyk/KD86VG9wfFJpZ2h0fEJvdHRvbXxMZWZ0KT98KD86TWlufE1heCk/KD86V2lkdGh8SGVpZ2h0KSkkLztuLnN3YXAmJm4uZWFjaChbImhlaWdodCIsIndpZHRoIiwicmVsaWFibGVNYXJnaW5SaWdodCJdLGZ1bmN0aW9uKHQsaSl7dmFyIHI9bi5jc3NIb29rc1tpXSYmbi5jc3NIb29rc1tpXS5nZXQ7ciYmKG4uY3NzSG9va3NbaV0uZ2V0PWZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIGE9ITAsbj1yLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhPSExLG59KX0pO24uc3dhcD1mdW5jdGlvbihuLHQscix1KXt2YXIgZSxmLG89e307Zm9yKGYgaW4gYXx8aSgialF1ZXJ5LnN3YXAoKSBpcyB1bmRvY3VtZW50ZWQgYW5kIGRlcHJlY2F0ZWQiKSx0KW9bZl09bi5zdHlsZVtmXSxuLnN0eWxlW2ZdPXRbZl07Zm9yKGYgaW4gZT1yLmFwcGx5KG4sdXx8W10pLHQpbi5zdHlsZVtmXT1vW2ZdO3JldHVybiBlfTt1KCIzLjQuMCIpJiYidW5kZWZpbmVkIiE9dHlwZW9mIFByb3h5JiYobi5jc3NQcm9wcz1uZXcgUHJveHkobi5jc3NQcm9wc3x8e30se3NldDpmdW5jdGlvbigpe3JldHVybiBpKCJKUU1JR1JBVEU6IGpRdWVyeS5jc3NQcm9wcyBpcyBkZXByZWNhdGVkIiksUmVmbGVjdC5zZXQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pKTtuLmNzc051bWJlcnx8KG4uY3NzTnVtYmVyPXt9KTtkPW4uZm4uY3NzO24uZm4uY3NzPWZ1bmN0aW9uKHQscil7dmFyIGYsdSxlPXRoaXM7cmV0dXJuIHQmJiJvYmplY3QiPT10eXBlb2YgdCYmIUFycmF5LmlzQXJyYXkodCk/KG4uZWFjaCh0LGZ1bmN0aW9uKHQsaSl7bi5mbi5jc3MuY2FsbChlLHQsaSl9KSx0aGlzKTooIm51bWJlciI9PXR5cGVvZiByJiYoZj1sKHQpLHU9ZixwdC50ZXN0KHUpJiZ3dC50ZXN0KHVbMF0udG9VcHBlckNhc2UoKSt1LnNsaWNlKDEpKXx8bi5jc3NOdW1iZXJbZl18fGkoJ051bWJlci10eXBlZCB2YWx1ZXMgYXJlIGRlcHJlY2F0ZWQgZm9yIGpRdWVyeS5mbi5jc3MoICInK3QrJyIsIHZhbHVlICknKSksZC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfTtmPW4uZGF0YTtuLmRhdGE9ZnVuY3Rpb24odCxyLHUpe3ZhciBvLHMsZTtpZihyJiYib2JqZWN0Ij09dHlwZW9mIHImJjI9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IoZSBpbiBvPW4uaGFzRGF0YSh0KSYmZi5jYWxsKHRoaXMsdCkscz17fSxyKWUhPT1sKGUpPyhpKCJqUXVlcnkuZGF0YSgpIGFsd2F5cyBzZXRzL2dldHMgY2FtZWxDYXNlZCBuYW1lczogIitlKSxvW2VdPXJbZV0pOnNbZV09cltlXTtyZXR1cm4gZi5jYWxsKHRoaXMsdCxzKSxyfXJldHVybiByJiYic3RyaW5nIj09dHlwZW9mIHImJnIhPT1sKHIpJiYobz1uLmhhc0RhdGEodCkmJmYuY2FsbCh0aGlzLHQpKSYmciBpbiBvPyhpKCJqUXVlcnkuZGF0YSgpIGFsd2F5cyBzZXRzL2dldHMgY2FtZWxDYXNlZCBuYW1lczogIityKSwyPGFyZ3VtZW50cy5sZW5ndGgmJihvW3JdPXUpLG9bcl0pOmYuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtuLmZ4JiYoZz1uLlR3ZWVuLnByb3RvdHlwZS5ydW4sbnQ9ZnVuY3Rpb24obil7cmV0dXJuIG59LG4uVHdlZW4ucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpezE8bi5lYXNpbmdbdGhpcy5lYXNpbmddLmxlbmd0aCYmKGkoIidqUXVlcnkuZWFzaW5nLiIrdGhpcy5lYXNpbmcudG9TdHJpbmcoKSsiJyBzaG91bGQgdXNlIG9ubHkgb25lIGFyZ3VtZW50Iiksbi5lYXNpbmdbdGhpcy5lYXNpbmddPW50KTtnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdj1uLmZ4LmludGVydmFsfHwxMyx5PSJqUXVlcnkuZnguaW50ZXJ2YWwgaXMgZGVwcmVjYXRlZCIsdC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLmZ4LCJpbnRlcnZhbCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0LmRvY3VtZW50LmhpZGRlbnx8aSh5KSx2fSxzZXQ6ZnVuY3Rpb24obil7aSh5KTt2PW59fSkpO3ZhciBidD1uLmZuLmxvYWQsa3Q9bi5ldmVudC5hZGQsZHQ9bi5ldmVudC5maXg7cmV0dXJuIG4uZXZlbnQucHJvcHM9W10sbi5ldmVudC5maXhIb29rcz17fSxoKG4uZXZlbnQucHJvcHMsImNvbmNhdCIsbi5ldmVudC5wcm9wcy5jb25jYXQsImpRdWVyeS5ldmVudC5wcm9wcy5jb25jYXQoKSBpcyBkZXByZWNhdGVkIGFuZCByZW1vdmVkIiksbi5ldmVudC5maXg9ZnVuY3Rpb24odCl7dmFyIGYsZT10LnR5cGUsdT10aGlzLmZpeEhvb2tzW2VdLHI9bi5ldmVudC5wcm9wcztpZihyLmxlbmd0aClmb3IoaSgialF1ZXJ5LmV2ZW50LnByb3BzIGFyZSBkZXByZWNhdGVkIGFuZCByZW1vdmVkOiAiK3Iuam9pbigpKTtyLmxlbmd0aDspbi5ldmVudC5hZGRQcm9wKHIucG9wKCkpO2lmKHUmJiF1Ll9taWdyYXRlZF8mJih1Ll9taWdyYXRlZF89ITAsaSgialF1ZXJ5LmV2ZW50LmZpeEhvb2tzIGFyZSBkZXByZWNhdGVkIGFuZCByZW1vdmVkOiAiK2UpLChyPXUucHJvcHMpJiZyLmxlbmd0aCkpd2hpbGUoci5sZW5ndGgpbi5ldmVudC5hZGRQcm9wKHIucG9wKCkpO3JldHVybiBmPWR0LmNhbGwodGhpcyx0KSx1JiZ1LmZpbHRlcj91LmZpbHRlcihmLHQpOmZ9LG4uZXZlbnQuYWRkPWZ1bmN0aW9uKG4scil7cmV0dXJuIG49PT10JiYibG9hZCI9PT1yJiYiY29tcGxldGUiPT09dC5kb2N1bWVudC5yZWFkeVN0YXRlJiZpKCJqUXVlcnkod2luZG93KS5vbignbG9hZCcuLi4pIGNhbGxlZCBhZnRlciBsb2FkIGV2ZW50IG9jY3VycmVkIiksa3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxuLmVhY2goWyJsb2FkIiwidW5sb2FkIiwiZXJyb3IiXSxmdW5jdGlvbih0LHIpe24uZm5bcl09ZnVuY3Rpb24oKXt2YXIgbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuImxvYWQiPT09ciYmInN0cmluZyI9PXR5cGVvZiBuWzBdP2J0LmFwcGx5KHRoaXMsbik6KGkoImpRdWVyeS5mbi4iK3IrIigpIGlzIGRlcHJlY2F0ZWQiKSxuLnNwbGljZSgwLDAsciksYXJndW1lbnRzLmxlbmd0aD90aGlzLm9uLmFwcGx5KHRoaXMsbik6KHRoaXMudHJpZ2dlckhhbmRsZXIuYXBwbHkodGhpcyxuKSx0aGlzKSl9fSksbi5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGNvbnRleHRtZW51Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKHQscil7bi5mbltyXT1mdW5jdGlvbihuLHQpe3JldHVybiBpKCJqUXVlcnkuZm4uIityKyIoKSBldmVudCBzaG9ydGhhbmQgaXMgZGVwcmVjYXRlZCIpLDA8YXJndW1lbnRzLmxlbmd0aD90aGlzLm9uKHIsbnVsbCxuLHQpOnRoaXMudHJpZ2dlcihyKX19KSxuKGZ1bmN0aW9uKCl7bih0LmRvY3VtZW50KS50cmlnZ2VySGFuZGxlcigicmVhZHkiKX0pLG4uZXZlbnQuc3BlY2lhbC5yZWFkeT17c2V0dXA6ZnVuY3Rpb24oKXt0aGlzPT09dC5kb2N1bWVudCYmaSgiJ3JlYWR5JyBldmVudCBpcyBkZXByZWNhdGVkIil9fSxuLmZuLmV4dGVuZCh7YmluZDpmdW5jdGlvbihuLHQscil7cmV0dXJuIGkoImpRdWVyeS5mbi5iaW5kKCkgaXMgZGVwcmVjYXRlZCIpLHRoaXMub24obixudWxsLHQscil9LHVuYmluZDpmdW5jdGlvbihuLHQpe3JldHVybiBpKCJqUXVlcnkuZm4udW5iaW5kKCkgaXMgZGVwcmVjYXRlZCIpLHRoaXMub2ZmKG4sbnVsbCx0KX0sZGVsZWdhdGU6ZnVuY3Rpb24obix0LHIsdSl7cmV0dXJuIGkoImpRdWVyeS5mbi5kZWxlZ2F0ZSgpIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLm9uKHQsbixyLHUpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gaSgialF1ZXJ5LmZuLnVuZGVsZWdhdGUoKSBpcyBkZXByZWNhdGVkIiksMT09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5vZmYobiwiKioiKTp0aGlzLm9mZih0LG58fCIqKiIscil9LGhvdmVyOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIGkoImpRdWVyeS5mbi5ob3ZlcigpIGlzIGRlcHJlY2F0ZWQiKSx0aGlzLm9uKCJtb3VzZWVudGVyIixuKS5vbigibW91c2VsZWF2ZSIsdHx8bil9fSkscD0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKilbXj5dKilcLz4vZ2kscnQ9bi5odG1sUHJlZmlsdGVyLG4uVU5TQUZFX3Jlc3RvcmVMZWdhY3lIdG1sUHJlZmlsdGVyPWZ1bmN0aW9uKCl7bi5odG1sUHJlZmlsdGVyPWZ1bmN0aW9uKG4pe3JldHVybiBpdChuKSxuLnJlcGxhY2UocCwiPCQxPjxcLyQyPiIpfX0sbi5odG1sUHJlZmlsdGVyPWZ1bmN0aW9uKG4pe3JldHVybiBpdChuKSxydChuKX0sZnQ9bi5mbi5vZmZzZXQsbi5mbi5vZmZzZXQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzWzBdO3JldHVybiFufHxuLm5vZGVUeXBlJiZuLmdldEJvdW5kaW5nQ2xpZW50UmVjdD9mdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KGkoImpRdWVyeS5mbi5vZmZzZXQoKSByZXF1aXJlcyBhIHZhbGlkIERPTSBlbGVtZW50IiksYXJndW1lbnRzLmxlbmd0aD90aGlzOnZvaWQgMCl9LG4uYWpheCYmKHV0PW4ucGFyYW0sbi5wYXJhbT1mdW5jdGlvbih0LHIpe3ZhciB1PW4uYWpheFNldHRpbmdzJiZuLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbDtyZXR1cm4gdm9pZCAwPT09ciYmdSYmKGkoImpRdWVyeS5wYXJhbSgpIG5vIGxvbmdlciB1c2VzIGpRdWVyeS5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwiKSxyPXUpLHV0LmNhbGwodGhpcyx0LHIpfSksb3Q9bi5mbi5hbmRTZWxmfHxuLmZuLmFkZEJhY2ssbi5mbi5hbmRTZWxmPWZ1bmN0aW9uKCl7cmV0dXJuIGkoImpRdWVyeS5mbi5hbmRTZWxmKCkgaXMgZGVwcmVjYXRlZCBhbmQgcmVtb3ZlZCwgdXNlIGpRdWVyeS5mbi5hZGRCYWNrKCkiKSxvdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG4uRGVmZXJyZWQmJih3PW4uRGVmZXJyZWQsZXQ9W1sicmVzb2x2ZSIsImRvbmUiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iiksbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsbi5DYWxsYmFja3MoIm1lbW9yeSIpLG4uQ2FsbGJhY2tzKCJtZW1vcnkiKV1dLG4uRGVmZXJyZWQ9ZnVuY3Rpb24odCl7dmFyIHI9dygpLHU9ci5wcm9taXNlKCk7cmV0dXJuIHIucGlwZT11LnBpcGU9ZnVuY3Rpb24oKXt2YXIgdD1hcmd1bWVudHM7cmV0dXJuIGkoImRlZmVycmVkLnBpcGUoKSBpcyBkZXByZWNhdGVkIiksbi5EZWZlcnJlZChmdW5jdGlvbihpKXtuLmVhY2goZXQsZnVuY3Rpb24obixmKXt2YXIgZT0iZnVuY3Rpb24iPT10eXBlb2YgdFtuXSYmdFtuXTtyW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIG49ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7biYmImZ1bmN0aW9uIj09dHlwZW9mIG4ucHJvbWlzZT9uLnByb21pc2UoKS5kb25lKGkucmVzb2x2ZSkuZmFpbChpLnJlamVjdCkucHJvZ3Jlc3MoaS5ub3RpZnkpOmlbZlswXSsiV2l0aCJdKHRoaXM9PT11P2kucHJvbWlzZSgpOnRoaXMsZT9bbl06YXJndW1lbnRzKX0pfSk7dD1udWxsfSkucHJvbWlzZSgpfSx0JiZ0LmNhbGwocixyKSxyfSxuLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2s9dy5leGNlcHRpb25Ib29rKSxufSk7QWpheENhcnQ9e2xvYWRXYWl0aW5nOiExLHVzZXBvcHVwbm90aWZpY2F0aW9uczohMSx0b3BjYXJ0c2VsZWN0b3I6IiIsdG9wd2lzaGxpc3RzZWxlY3RvcjoiIixmbHlvdXRjYXJ0c2VsZWN0b3I6IiIsbG9jYWxpemVkX2RhdGE6ITEsaW5pdDpmdW5jdGlvbihuLHQsaSxyLHUpe3RoaXMubG9hZFdhaXRpbmc9ITE7dGhpcy51c2Vwb3B1cG5vdGlmaWNhdGlvbnM9bjt0aGlzLnRvcGNhcnRzZWxlY3Rvcj10O3RoaXMudG9wd2lzaGxpc3RzZWxlY3Rvcj1pO3RoaXMuZmx5b3V0Y2FydHNlbGVjdG9yPXI7dGhpcy5sb2NhbGl6ZWRfZGF0YT11fSxzZXRMb2FkV2FpdGluZzpmdW5jdGlvbihuKXtkaXNwbGF5QWpheExvYWRpbmcobik7dGhpcy5sb2FkV2FpdGluZz1ufSxhZGRwcm9kdWN0dG9jYXJ0X2NhdGFsb2c6ZnVuY3Rpb24obil7aWYodGhpcy5sb2FkV2FpdGluZz09PSExKXt0aGlzLnNldExvYWRXYWl0aW5nKCEwKTt2YXIgdD17fTthZGRBbnRpRm9yZ2VyeVRva2VuKHQpOyQuYWpheCh7Y2FjaGU6ITEsdXJsOm4sdHlwZToiUE9TVCIsZGF0YTp0LHN1Y2Nlc3M6dGhpcy5zdWNjZXNzX3Byb2Nlc3MsY29tcGxldGU6dGhpcy5yZXNldExvYWRXYWl0aW5nLGVycm9yOnRoaXMuYWpheEZhaWx1cmV9KX19LGFkZHByb2R1Y3R0b2NhcnRfZGV0YWlsczpmdW5jdGlvbihuLHQpe3RoaXMubG9hZFdhaXRpbmc9PT0hMSYmKHRoaXMuc2V0TG9hZFdhaXRpbmcoITApLCQuYWpheCh7Y2FjaGU6ITEsdXJsOm4sZGF0YTokKHQpLnNlcmlhbGl6ZSgpLHR5cGU6IlBPU1QiLHN1Y2Nlc3M6dGhpcy5zdWNjZXNzX3Byb2Nlc3MsY29tcGxldGU6dGhpcy5yZXNldExvYWRXYWl0aW5nLGVycm9yOnRoaXMuYWpheEZhaWx1cmV9KSl9LGFkZHByb2R1Y3R0b2NvbXBhcmVsaXN0OmZ1bmN0aW9uKG4pe2lmKHRoaXMubG9hZFdhaXRpbmc9PT0hMSl7dGhpcy5zZXRMb2FkV2FpdGluZyghMCk7dmFyIHQ9e307YWRkQW50aUZvcmdlcnlUb2tlbih0KTskLmFqYXgoe2NhY2hlOiExLHVybDpuLHR5cGU6IlBPU1QiLGRhdGE6dCxzdWNjZXNzOnRoaXMuc3VjY2Vzc19wcm9jZXNzLGNvbXBsZXRlOnRoaXMucmVzZXRMb2FkV2FpdGluZyxlcnJvcjp0aGlzLmFqYXhGYWlsdXJlfSl9fSxzdWNjZXNzX3Byb2Nlc3M6ZnVuY3Rpb24obil7cmV0dXJuKG4udXBkYXRldG9wY2FydHNlY3Rpb25odG1sJiYkKEFqYXhDYXJ0LnRvcGNhcnRzZWxlY3RvcikuaHRtbChuLnVwZGF0ZXRvcGNhcnRzZWN0aW9uaHRtbCksbi51cGRhdGV0b3B3aXNobGlzdHNlY3Rpb25odG1sJiYkKEFqYXhDYXJ0LnRvcHdpc2hsaXN0c2VsZWN0b3IpLmh0bWwobi51cGRhdGV0b3B3aXNobGlzdHNlY3Rpb25odG1sKSxuLnVwZGF0ZWZseW91dGNhcnRzZWN0aW9uaHRtbCYmJChBamF4Q2FydC5mbHlvdXRjYXJ0c2VsZWN0b3IpLnJlcGxhY2VXaXRoKG4udXBkYXRlZmx5b3V0Y2FydHNlY3Rpb25odG1sKSxuLm1lc3NhZ2UpPyhuLnN1Y2Nlc3M9PT0hMD9BamF4Q2FydC51c2Vwb3B1cG5vdGlmaWNhdGlvbnM9PT0hMD9kaXNwbGF5UG9wdXBOb3RpZmljYXRpb24obi5tZXNzYWdlLCJzdWNjZXNzIiwhMCk6ZGlzcGxheUJhck5vdGlmaWNhdGlvbihuLm1lc3NhZ2UsInN1Y2Nlc3MiLDM1MDApOkFqYXhDYXJ0LnVzZXBvcHVwbm90aWZpY2F0aW9ucz09PSEwP2Rpc3BsYXlQb3B1cE5vdGlmaWNhdGlvbihuLm1lc3NhZ2UsImVycm9yIiwhMCk6ZGlzcGxheUJhck5vdGlmaWNhdGlvbihuLm1lc3NhZ2UsImVycm9yIiwwKSwhMSk6bi5yZWRpcmVjdD8obG9jYXRpb24uaHJlZj1uLnJlZGlyZWN0LCEwKTohMX0scmVzZXRMb2FkV2FpdGluZzpmdW5jdGlvbigpe0FqYXhDYXJ0LnNldExvYWRXYWl0aW5nKCExKX0sYWpheEZhaWx1cmU6ZnVuY3Rpb24oKXthbGVydCh0aGlzLmxvY2FsaXplZF9kYXRhLkFqYXhDYXJ0RmFpbHVyZSl9fTsrZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoKXt2YXIgdD1uKHRoaXMpLHU9dC52YWwoKSxpPW4odC5kYXRhKCJzdGF0ZXByb3ZpbmNlIikpLHI7aS5sZW5ndGghPTAmJihyPW4odC5kYXRhKCJsb2FkaW5nIikpLHIuc2hvdygpLG4uYWpheCh7Y2FjaGU6ITEsdHlwZToiR0VUIix1cmw6dC5kYXRhKCJ1cmwiKSxkYXRhOntjb3VudHJ5SWQ6dSxhZGRTZWxlY3RTdGF0ZUl0ZW06InRydWUifSxzdWNjZXNzOmZ1bmN0aW9uKHQpe2kuaHRtbCgiIik7bi5lYWNoKHQsZnVuY3Rpb24odCxyKXtpLmFwcGVuZChuKCI8b3B0aW9uPjxcL29wdGlvbj4iKS52YWwoci5pZCkuaHRtbChyLm5hbWUpKX0pfSxlcnJvcjpmdW5jdGlvbigpe2FsZXJ0KCJGYWlsZWQgdG8gcmV0cmlldmUgc3RhdGVzLiIpfSxjb21wbGV0ZTpmdW5jdGlvbigpe3ZhciB0PXR5cGVvZiBCaWxsaW5nIT0idW5kZWZpbmVkIj9CaWxsaW5nLnNlbGVjdGVkU3RhdGVJZDp0eXBlb2YgQ2hlY2tvdXRCaWxsaW5nIT0idW5kZWZpbmVkIj9DaGVja291dEJpbGxpbmcuc2VsZWN0ZWRTdGF0ZUlkOjA7bigiIyIraVswXS5pZCsiIG9wdGlvblt2YWx1ZT0iK3QrIl0iKS5wcm9wKCJzZWxlY3RlZCIsITApO3IuaGlkZSgpfX0pKX1pZigidW5kZWZpbmVkIj09dHlwZW9mIGpRdWVyeSl0aHJvdyBuZXcgRXJyb3IoImpRdWVyeSBKUyByZXF1aXJlZCIpO24oZG9jdW1lbnQpLmhhcygnW2RhdGEtdHJpZ2dlcj0iY291bnRyeS1zZWxlY3QiXScpJiZuKCdzZWxlY3RbZGF0YS10cmlnZ2VyPSJjb3VudHJ5LXNlbGVjdCJdJykuY2hhbmdlKHQpO24uZm4uY291bnRyeVNlbGVjdD1mdW5jdGlvbigpe3RoaXMuZWFjaChmdW5jdGlvbigpe24odGhpcykuY2hhbmdlKHQpfSl9fShqUXVlcnkpOwovKiEKICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwohZnVuY3Rpb24obix0KXt0KCJrZW5kby5jb3JlLm1pbiIsWyJqcXVlcnkiXSxuKX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obix0LGkpe2Z1bmN0aW9uIG50KCl7fWZ1bmN0aW9uIGFyKG4sdCl7aWYodClyZXR1cm4iJyIrbi5zcGxpdCgiJyIpLmpvaW4oIlxcJyIpLnNwbGl0KCdcXCInKS5qb2luKCdcXFxcXFwiJykucmVwbGFjZSgvXG4vZywiXFxuIikucmVwbGFjZSgvXHIvZywiXFxyIikucmVwbGFjZSgvXHQvZywiXFx0IikrIiciO3ZhciBpPW4uY2hhckF0KDApLHI9bi5zdWJzdHJpbmcoMSk7cmV0dXJuIj0iPT09aT8iKygiK3IrIikrIjoiOiI9PT1pPyIrJGtlbmRvSHRtbEVuY29kZSgiK3IrIikrIjoiOyIrbisiOyRrZW5kb091dHB1dCs9In1mdW5jdGlvbiBmKG4sdCxpKXtyZXR1cm4gbis9IiIsdD10fHwyLGk9dC1uLmxlbmd0aCxpP2FpW3RdLnN1YnN0cmluZygwLGkpK246bn1mdW5jdGlvbiB2cihuKXt2YXIgdT1uLmNzcyhyLnN1cHBvcnQudHJhbnNpdGlvbnMuY3NzKyJib3gtc2hhZG93Iil8fG4uY3NzKCJib3gtc2hhZG93IiksdD11P3UubWF0Y2gobHUpfHxbMCwwLDAsMCwwXTpbMCwwLDAsMCwwXSxpPWMubWF4KCt0WzNdLCsodFs0XXx8MCkpO3JldHVybntsZWZ0Oi10WzFdK2kscmlnaHQ6K3RbMV0raSxib3R0b206K3RbMl0raX19ZnVuY3Rpb24geXIoaSxmKXt2YXIgdixvLHMsbCxhLHkscD11LmJyb3dzZXIsaD1yLl9vdXRlcldpZHRoLHc9ci5fb3V0ZXJIZWlnaHQsZT1pLnBhcmVudCgpLGI9aCh0KTtyZXR1cm4gZS5yZW1vdmVDbGFzcygiay1hbmltYXRpb24tY29udGFpbmVyLXNtIiksZS5oYXNDbGFzcygiay1hbmltYXRpb24tY29udGFpbmVyIik/ZHQoaSxmKToobz1pWzBdLnN0eWxlLndpZHRoLHM9aVswXS5zdHlsZS5oZWlnaHQsbD1ldC50ZXN0KG8pLGE9ZXQudGVzdChzKSx5PWkuaGFzQ2xhc3MoImstdG9vbHRpcCIpfHxpLmlzKCIuay1tZW51LWhvcml6b250YWwuay1jb250ZXh0LW1lbnUiKSx2PWx8fGEsIWwmJighZnx8ZiYmb3x8eSkmJihvPWY/aChpKSsxOmgoaSkpLCghYSYmKCFmfHxmJiZzKXx8aS5pcygiLmstbWVudS1ob3Jpem9udGFsLmstY29udGV4dC1tZW51IikpJiYocz13KGkpKSxpLndyYXAobigiPGRpdi8+IikuYWRkQ2xhc3MoImstYW5pbWF0aW9uLWNvbnRhaW5lciIpLmNzcyh7d2lkdGg6byxoZWlnaHQ6c30pKSxlPWkucGFyZW50KCksdiYmaS5jc3Moe3dpZHRoOiIxMDAlIixoZWlnaHQ6IjEwMCUiLGJveFNpemluZzoiYm9yZGVyLWJveCIsbW96Qm94U2l6aW5nOiJib3JkZXItYm94Iix3ZWJraXRCb3hTaXppbmc6ImJvcmRlci1ib3gifSkpLGI8aChlKSYmKGUuYWRkQ2xhc3MoImstYW5pbWF0aW9uLWNvbnRhaW5lci1zbSIpLGR0KGksZikpLHAubXNpZSYmYy5mbG9vcihwLnZlcnNpb24pPD03JiYoaS5jc3Moe3pvb206MX0pLGkuY2hpbGRyZW4oIi5rLW1lbnUiKS53aWR0aChpLndpZHRoKCkpKSxlfWZ1bmN0aW9uIGR0KG4sdCl7dmFyIHUsZj1yLl9vdXRlcldpZHRoLG89ci5fb3V0ZXJIZWlnaHQsaT1uLnBhcmVudCgiLmstYW5pbWF0aW9uLWNvbnRhaW5lciIpLGU9aVswXS5zdHlsZTtpLmlzKCI6aGlkZGVuIikmJmkuY3NzKHtkaXNwbGF5OiIiLHBvc2l0aW9uOiIifSk7dT1ldC50ZXN0KGUud2lkdGgpfHxldC50ZXN0KGUuaGVpZ2h0KTt1fHxpLmNzcyh7d2lkdGg6dD9mKG4pKzE6ZihuKSxoZWlnaHQ6byhuKSxib3hTaXppbmc6ImNvbnRlbnQtYm94Iixtb3pCb3hTaXppbmc6ImNvbnRlbnQtYm94Iix3ZWJraXRCb3hTaXppbmc6ImNvbnRlbnQtYm94In0pfWZ1bmN0aW9uIHR0KG4pe2Zvcih2YXIgdD0xLGk9YXJndW1lbnRzLmxlbmd0aCx0PTE7dDxpO3QrKylndChuLGFyZ3VtZW50c1t0XSk7cmV0dXJuIG59ZnVuY3Rpb24gZ3QobixpKXt2YXIgZSx1LG8sZixzLGg9ci5kYXRhLk9ic2VydmFibGVBcnJheSxjPXIuZGF0YS5MYXp5T2JzZXJ2YWJsZUFycmF5LGw9ci5kYXRhLkRhdGFTb3VyY2UsYT1yLmRhdGEuSGllcmFyY2hpY2FsRGF0YVNvdXJjZTtmb3IoZSBpbiBpKXU9aVtlXSxvPXR5cGVvZiB1LGY9bz09PWsmJm51bGwhPT11P3UuY29uc3RydWN0b3I6bnVsbCwhZnx8Zj09PUFycmF5fHxmPT09aHx8Zj09PWN8fGY9PT1sfHxmPT09YXx8Zj09PVJlZ0V4cHx8ci5pc0Z1bmN0aW9uKHQuQXJyYXlCdWZmZXIpJiZmPT09QXJyYXlCdWZmZXI/byE9PXN0JiYobltlXT11KTp1IGluc3RhbmNlb2YgRGF0ZT9uW2VdPW5ldyBEYXRlKHUuZ2V0VGltZSgpKTpkKHUuY2xvbmUpP25bZV09dS5jbG9uZSgpOihzPW5bZV0sbltlXT10eXBlb2Ygcz09PWs/c3x8e306e30sZ3QobltlXSx1KSk7cmV0dXJuIG59ZnVuY3Rpb24gaHQobix0LHIpe2Zvcih2YXIgdSBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkodSkmJnRbdV0udGVzdChuKSlyZXR1cm4gdTtyZXR1cm4gciE9PWk/cjpufWZ1bmN0aW9uIHByKG4pe3JldHVybiBuLnJlcGxhY2UoLyhbYS16XVtBLVpdKS9nLGZ1bmN0aW9uKG4pe3JldHVybiBuLmNoYXJBdCgwKSsiLSIrbi5jaGFyQXQoMSkudG9Mb3dlckNhc2UoKX0pfWZ1bmN0aW9uIG5pKG4pe3JldHVybiBuLnJlcGxhY2UoL1wtKFx3KS9nLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQudG9VcHBlckNhc2UoKX0pfWZ1bmN0aW9uIHRpKHQsaSl7dmFyIHUsZj17fTtyZXR1cm4gZG9jdW1lbnQuZGVmYXVsdFZpZXcmJmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGU/KHU9ZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh0LCIiKSxpJiZuLmVhY2goaSxmdW5jdGlvbihuLHQpe2ZbdF09dS5nZXRQcm9wZXJ0eVZhbHVlKHQpfSkpOih1PXQuY3VycmVudFN0eWxlLGkmJm4uZWFjaChpLGZ1bmN0aW9uKG4sdCl7Zlt0XT11W25pKHQpXX0pKSxyLnNpemUoZil8fChmPXUpLGZ9ZnVuY3Rpb24gd3Iobil7aWYobiYmbi5jbGFzc05hbWUmJiJzdHJpbmciPT10eXBlb2Ygbi5jbGFzc05hbWUmJm4uY2xhc3NOYW1lLmluZGV4T2YoImstYXV0by1zY3JvbGxhYmxlIik+LTEpcmV0dXJuITA7dmFyIHQ9dGkobixbIm92ZXJmbG93Il0pLm92ZXJmbG93O3JldHVybiJhdXRvIj09dHx8InNjcm9sbCI9PXR9ZnVuY3Rpb24gYnIodCxyKXt2YXIgZSxvPXUuYnJvd3Nlci53ZWJraXQscz11LmJyb3dzZXIubW96aWxsYSxmPXQgaW5zdGFuY2VvZiBuP3RbMF06dDtpZih0KXJldHVybiBlPXUuaXNSdGwodCkscj09PWk/ZSYmbz9mLnNjcm9sbFdpZHRoLWYuY2xpZW50V2lkdGgtZi5zY3JvbGxMZWZ0Ok1hdGguYWJzKGYuc2Nyb2xsTGVmdCk6KGYuc2Nyb2xsTGVmdD1lJiZvP2Yuc2Nyb2xsV2lkdGgtZi5jbGllbnRXaWR0aC1yOmUmJnM/LXI6cixpKX1mdW5jdGlvbiBrcihuKXt2YXIgdCxpPTA7Zm9yKHQgaW4gbiluLmhhc093blByb3BlcnR5KHQpJiYidG9KU09OIiE9dCYmaSsrO3JldHVybiBpfWZ1bmN0aW9uIGRyKG4saSxyKXt2YXIgZixlLG87cmV0dXJuIGl8fChpPSJvZmZzZXQiKSxmPW5baV0oKSxlPXt0b3A6Zi50b3AscmlnaHQ6Zi5yaWdodCxib3R0b206Zi5ib3R0b20sbGVmdDpmLmxlZnR9LHUuYnJvd3Nlci5tc2llJiYodS5wb2ludGVyc3x8dS5tc1BvaW50ZXJzKSYmIXImJihvPXUuaXNSdGwobik/MTotMSxlLnRvcC09dC5wYWdlWU9mZnNldC1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLGUubGVmdC09dC5wYWdlWE9mZnNldCtvKmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KSxlfWZ1bmN0aW9uIGdyKG4pe3ZhciB0PXt9O3JldHVybiBydCgic3RyaW5nIj09dHlwZW9mIG4/bi5zcGxpdCgiICIpOm4sZnVuY3Rpb24obil7dFtuXT10aGlzfSksdH1mdW5jdGlvbiBudShuKXtyZXR1cm4gbmV3IHIuZWZmZWN0cy5FbGVtZW50KG4pfWZ1bmN0aW9uIHR1KG4sdCxpLHIpe3JldHVybiB0eXBlb2Ygbj09PW8mJihkKHQpJiYocj10LHQ9NDAwLGk9ITEpLGQoaSkmJihyPWksaT0hMSksdHlwZW9mIHQ9PT1zciYmKGk9dCx0PTQwMCksbj17ZWZmZWN0czpuLGR1cmF0aW9uOnQscmV2ZXJzZTppLGNvbXBsZXRlOnJ9KSxoKHtlZmZlY3RzOnt9LGR1cmF0aW9uOjQwMCxyZXZlcnNlOiExLGluaXQ6dXQsdGVhcmRvd246dXQsaGlkZTohMX0sbix7Y29tcGxldGVDYWxsYmFjazpuLmNvbXBsZXRlLGNvbXBsZXRlOnV0fSl9ZnVuY3Rpb24gaWkodCxpLHIsdSxmKXtmb3IodmFyIGUsbz0wLHM9dC5sZW5ndGg7bzxzO28rKyllPW4odFtvXSksZS5xdWV1ZShmdW5jdGlvbigpe3kucHJvbWlzZShlLHR1KGkscix1LGYpKX0pO3JldHVybiB0fWZ1bmN0aW9uIGl1KG4sdCxpLHIpe3JldHVybiB0JiYodD10LnNwbGl0KCIgIikscnQodCxmdW5jdGlvbih0LGkpe24udG9nZ2xlQ2xhc3MoaSxyKX0pKSxufWZ1bmN0aW9uIHJ1KG4pe3JldHVybigiIituKS5yZXBsYWNlKHlpLCImYW1wOyIpLnJlcGxhY2UocGksIiZsdDsiKS5yZXBsYWNlKGtpLCImZ3Q7IikucmVwbGFjZSh3aSwiJnF1b3Q7IikucmVwbGFjZShiaSwiJiMzOTsiKX1mdW5jdGlvbiB1dShuKXt2YXIgaTt0cnl7aT10LmRlY29kZVVSSUNvbXBvbmVudChuKX1jYXRjaChyKXtpPW4ucmVwbGFjZSgvJXUoW1xkQS1GXXs0fSl8JShbXGRBLUZdezJ9KS9naSxmdW5jdGlvbihuLHQsaSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoIjB4IisodHx8aSksMTYpKX0pfXJldHVybiBpfWZ1bmN0aW9uIGN0KG4sdCl7dmFyIHU7cmV0dXJuIDA9PT10LmluZGV4T2YoImRhdGEiKSYmKHQ9dC5zdWJzdHJpbmcoNCksdD10LmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpK3Quc3Vic3RyaW5nKDEpKSx0PXQucmVwbGFjZShyciwiLSQxIiksdT1uLmdldEF0dHJpYnV0ZSgiZGF0YS0iK3IubnMrdCksbnVsbD09PXU/dT1pOiJudWxsIj09PXU/dT1udWxsOiJ0cnVlIj09PXU/dT0hMDoiZmFsc2UiPT09dT91PSExOmF1LnRlc3QodSkmJiJtYXNrIiE9dD91PXBhcnNlRmxvYXQodSk6dHIudGVzdCh1KSYmIWlyLnRlc3QodSkmJih1PUZ1bmN0aW9uKCJyZXR1cm4gKCIrdSsiKSIpKCkpLHV9ZnVuY3Rpb24gcmkodCx1LGYpe3ZhciBvLGUscz17fSxoPXQuZ2V0QXR0cmlidXRlKCJkYXRhLSIrci5ucysicm9sZSIpO2ZvcihvIGluIHUpZT1jdCh0LG8pLGUhPT1pJiYobnIudGVzdChvKSYmImRyYXdlciIhPWgmJigic3RyaW5nIj09dHlwZW9mIGU/bigiIyIrZSkubGVuZ3RoP2U9ci50ZW1wbGF0ZShuKCIjIitlKS5odG1sKCkpOmYmJihlPXIudGVtcGxhdGUoZltlXSkpOmU9dC5nZXRBdHRyaWJ1dGUobykpLHNbb109ZSk7cmV0dXJuIHN9ZnVuY3Rpb24gZnUodCxpKXtyZXR1cm4gbi5jb250YWlucyh0LGkpPy0xOjF9ZnVuY3Rpb24gZXUoKXt2YXIgdD1uKHRoaXMpO3JldHVybiBuLmluQXJyYXkodC5hdHRyKCJkYXRhLSIrci5ucysicm9sZSIpLFsic2xpZGVyIiwicmFuZ2VzbGlkZXIiLCJicmVhZGNydW1iIl0pPi0xfHx0LmlzKCI6dmlzaWJsZSIpfWZ1bmN0aW9uIG91KG4sdCl7dmFyIGk9bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybigvaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QvLnRlc3QoaSk/IW4uZGlzYWJsZWQ6ImEiPT09aT9uLmhyZWZ8fHQ6dCkmJnN1KG4pfWZ1bmN0aW9uIHN1KHQpe3JldHVybiBuLmV4cHIucHNldWRvcy52aXNpYmxlKHQpJiYhbih0KS5wYXJlbnRzKCkuYWRkQmFjaygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiJoaWRkZW4iPT09bi5jc3ModGhpcywidmlzaWJpbGl0eSIpfSkubGVuZ3RofWZ1bmN0aW9uIHMobix0KXtyZXR1cm4gbmV3IHMuZm4uaW5pdChuLHQpfXZhciB2LGQsdWksZmksaXQsZWksb2ksc2ksaGksY2ksbGksYWksdmkseSx5aSxwaSx3aSxiaSxraSxsdCxkaSxnaSxwLGF0LG5yLHRyLGlyLHJyLHZ0LHl0LHB0LHVyLGUsdyxmcix3dCxnLGVyLG9yLGEscj10LmtlbmRvPXQua2VuZG98fHtjdWx0dXJlczp7fX0saD1uLmV4dGVuZCxydD1uLmVhY2gsaHU9bi5pc0FycmF5LGJ0PW4ucHJveHksdXQ9bi5ub29wLGM9TWF0aCxmdD10LkpTT058fHt9LHU9e30sZXQ9LyUvLGN1PS9ceyhcZCspKDpbXlx9XSspP1x9L2csbHU9LyhcZCsoPzpcLj8pXGQqKXB4XHMqKFxkKyg/OlwuPylcZCopcHhccyooXGQrKD86XC4/KVxkKilweFxzKihcZCspPy9pLGF1PS9eKFwrfC0/KVxkKyhcLj8pXGQqJC8sbD0iZnVuY3Rpb24iLG89InN0cmluZyIsYj0ibnVtYmVyIixrPSJvYmplY3QiLG90PSJudWxsIixzcj0iYm9vbGVhbiIsc3Q9InVuZGVmaW5lZCIsaHI9e30sY3I9e30sa3Q9W10uc2xpY2UsbHI9ZnVuY3Rpb24oKXt2YXIgdSxlLHQscixvLHMsbj1hcmd1bWVudHNbMF18fHt9LGY9MSxjPWFyZ3VtZW50cy5sZW5ndGgsaD0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgbiYmKGg9bixuPWFyZ3VtZW50c1tmXXx8e30sZisrKSwib2JqZWN0Ij09dHlwZW9mIG58fGpRdWVyeS5pc0Z1bmN0aW9uKG4pfHwobj17fSksZj09PWMmJihuPXRoaXMsZi0tKTtmPGM7ZisrKWlmKG51bGwhPShvPWFyZ3VtZW50c1tmXSkpZm9yKHIgaW4gbykiZmlsdGVycyIhPXImJiJjb25jYXQiIT1yJiYiOiIhPXImJih1PW5bcl0sdD1vW3JdLG4hPT10JiYoaCYmdCYmKGpRdWVyeS5pc1BsYWluT2JqZWN0KHQpfHwoZT1qUXVlcnkuaXNBcnJheSh0KSkpPyhlPyhlPSExLHM9dSYmalF1ZXJ5LmlzQXJyYXkodSk/dTpbXSk6cz11JiZqUXVlcnkuaXNQbGFpbk9iamVjdCh1KT91Ont9LG5bcl09bHIoaCxzLHQpKTp0IT09aSYmKG5bcl09dCkpKTtyZXR1cm4gbn07ci52ZXJzaW9uPSIyMDIwLjIuNDE0Ii5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIik7bnQuZXh0ZW5kPWZ1bmN0aW9uKG4pe3ZhciB0LHIsdT1mdW5jdGlvbigpe30sZj10aGlzLGk9biYmbi5pbml0P24uaW5pdDpmdW5jdGlvbigpe2YuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt1LnByb3RvdHlwZT1mLnByb3RvdHlwZTtyPWkuZm49aS5wcm90b3R5cGU9bmV3IHU7Zm9yKHQgaW4gbilyW3RdPW51bGwhPW5bdF0mJm5bdF0uY29uc3RydWN0b3I9PT1PYmplY3Q/aCghMCx7fSx1LnByb3RvdHlwZVt0XSxuW3RdKTpuW3RdO3JldHVybiByLmNvbnN0cnVjdG9yPWksaS5leHRlbmQ9Zi5leHRlbmQsaX07bnQucHJvdG90eXBlLl9pbml0T3B0aW9ucz1mdW5jdGlvbihuKXt0aGlzLm9wdGlvbnM9dHQoe30sdGhpcy5vcHRpb25zLG4pfTtkPXIuaXNGdW5jdGlvbj1mdW5jdGlvbihuKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygbn07dWk9ZnVuY3Rpb24oKXt0aGlzLl9kZWZhdWx0UHJldmVudGVkPSEwfTtmaT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWZhdWx0UHJldmVudGVkPT09ITB9O2l0PW50LmV4dGVuZCh7aW5pdDpmdW5jdGlvbigpe3RoaXMuX2V2ZW50cz17fX0sYmluZDpmdW5jdGlvbihuLHQscil7dmFyIHUsaCxzLGYsYyxlPXRoaXMsYT10eXBlb2Ygbj09PW8/W25dOm4sdj10eXBlb2YgdD09PWw7aWYodD09PWkpe2Zvcih1IGluIG4pZS5iaW5kKHUsblt1XSk7cmV0dXJuIGV9Zm9yKHU9MCxoPWEubGVuZ3RoO3U8aDt1Kyspbj1hW3VdLGY9dj90OnRbbl0sZiYmKHImJihzPWYsZj1mdW5jdGlvbigpe2UudW5iaW5kKG4sZik7cy5hcHBseShlLGFyZ3VtZW50cyl9LGYub3JpZ2luYWw9cyksYz1lLl9ldmVudHNbbl09ZS5fZXZlbnRzW25dfHxbXSxjLnB1c2goZikpO3JldHVybiBlfSxvbmU6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5iaW5kKG4sdCwhMCl9LGZpcnN0OmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciByLGUsdT10aGlzLHM9dHlwZW9mIG49PT1vP1tuXTpuLGg9dHlwZW9mIHQ9PT1sLGk9MCxmPXMubGVuZ3RoO2k8ZjtpKyspbj1zW2ldLHI9aD90OnRbbl0sciYmKGU9dS5fZXZlbnRzW25dPXUuX2V2ZW50c1tuXXx8W10sZS51bnNoaWZ0KHIpKTtyZXR1cm4gdX0sdHJpZ2dlcjpmdW5jdGlvbihuLHQpe3ZhciByLGYsdT10aGlzLGk9dS5fZXZlbnRzW25dO2lmKGkpe2Zvcih0PXR8fHt9LHQuc2VuZGVyPXUsdC5fZGVmYXVsdFByZXZlbnRlZD0hMSx0LnByZXZlbnREZWZhdWx0PXVpLHQuaXNEZWZhdWx0UHJldmVudGVkPWZpLGk9aS5zbGljZSgpLHI9MCxmPWkubGVuZ3RoO3I8ZjtyKyspaVtyXS5jYWxsKHUsdCk7cmV0dXJuIHQuX2RlZmF1bHRQcmV2ZW50ZWQ9PT0hMH1yZXR1cm4hMX0sdW5iaW5kOmZ1bmN0aW9uKG4sdCl7dmFyIHIsZj10aGlzLHU9Zi5fZXZlbnRzW25dO2lmKG49PT1pKWYuX2V2ZW50cz17fTtlbHNlIGlmKHUpaWYodClmb3Iocj11Lmxlbmd0aC0xO3I+PTA7ci0tKXVbcl0hPT10JiZ1W3JdLm9yaWdpbmFsIT09dHx8dS5zcGxpY2UociwxKTtlbHNlIGYuX2V2ZW50c1tuXT1bXTtyZXR1cm4gZn19KTtlaT0vXlx3Ky87b2k9L1wkXHsoW159XSopXH0vZztzaT0vXFxcfS9nO2hpPS9fX0NVUkxZX18vZztjaT0vXFwjL2c7bGk9L19fU0hBUlBfXy9nO2FpPVsiIiwiMCIsIjAwIiwiMDAwIiwiMDAwMCJdO3Y9e3BhcmFtTmFtZToiZGF0YSIsdXNlV2l0aEJsb2NrOiEwLHJlbmRlcjpmdW5jdGlvbihuLHQpe2Zvcih2YXIgdT0iIixpPTAscj10Lmxlbmd0aDtpPHI7aSsrKXUrPW4odFtpXSk7cmV0dXJuIHV9LGNvbXBpbGU6ZnVuY3Rpb24obix0KXt2YXIgZSxmLHUsbz1oKHt9LHRoaXMsdCkscz1vLnBhcmFtTmFtZSxsPXMubWF0Y2goZWkpWzBdLGM9by51c2VXaXRoQmxvY2ssaT0idmFyICRrZW5kb091dHB1dCwgJGtlbmRvSHRtbEVuY29kZSA9IGtlbmRvLmh0bWxFbmNvZGU7IjtpZihkKG4pKXJldHVybiBuO2ZvcihpKz1jPyJ3aXRoKCIrcysiKXsiOiIiLGkrPSIka2VuZG9PdXRwdXQ9IixmPW4ucmVwbGFjZShzaSwiX19DVVJMWV9fIikucmVwbGFjZShvaSwiIz0ka2VuZG9IdG1sRW5jb2RlKCQxKSMiKS5yZXBsYWNlKGhpLCJ9IikucmVwbGFjZShjaSwiX19TSEFSUF9fIikuc3BsaXQoIiMiKSx1PTA7dTxmLmxlbmd0aDt1KyspaSs9YXIoZlt1XSx1JTI9PTApO2krPWM/Ijt9IjoiOyI7aSs9InJldHVybiAka2VuZG9PdXRwdXQ7IjtpPWkucmVwbGFjZShsaSwiIyIpO3RyeXtyZXR1cm4gZT1GdW5jdGlvbihsLGkpLGUuX3Nsb3RDb3VudD1NYXRoLmZsb29yKGYubGVuZ3RoLzIpLGV9Y2F0Y2goYSl7dGhyb3cgRXJyb3Ioci5mb3JtYXQoIkludmFsaWQgdGVtcGxhdGU6J3swfScgR2VuZXJhdGVkIGNvZGU6J3sxfSciLG4saSkpO319fSxmdW5jdGlvbigpe2Z1bmN0aW9uIHUobil7cmV0dXJuIGUubGFzdEluZGV4PTAsZS50ZXN0KG4pPyciJytuLnJlcGxhY2UoZSxmdW5jdGlvbihuKXt2YXIgdD1zW25dO3JldHVybiB0eXBlb2YgdD09PW8/dDoiXFx1IisoIjAwMDAiK24uY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KX0pKyciJzonIicrbisnIid9ZnVuY3Rpb24gaShmLGUpe3ZhciBjLHksYSx3LHYscCxkPW4scz1lW2ZdO2lmKHMmJnR5cGVvZiBzPT09ayYmdHlwZW9mIHMudG9KU09OPT09bCYmKHM9cy50b0pTT04oZikpLHR5cGVvZiB0PT09bCYmKHM9dC5jYWxsKGUsZixzKSkscD10eXBlb2YgcyxwPT09bylyZXR1cm4gdShzKTtpZihwPT09YilyZXR1cm4gaXNGaW5pdGUocyk/cysiIjpvdDtpZihwPT09c3J8fHA9PT1vdClyZXR1cm4gcysiIjtpZihwPT09ayl7aWYoIXMpcmV0dXJuIG90O2lmKG4rPXIsdj1bXSwiW29iamVjdCBBcnJheV0iPT09aC5hcHBseShzKSl7Zm9yKHc9cy5sZW5ndGgsYz0wO2M8dztjKyspdltjXT1pKGMscyl8fG90O3JldHVybiBhPTA9PT12Lmxlbmd0aD8iW10iOm4/IltcbiIrbit2LmpvaW4oIixcbiIrbikrIlxuIitkKyJdIjoiWyIrdi5qb2luKCIsIikrIl0iLG49ZCxhfWlmKHQmJnR5cGVvZiB0PT09aylmb3Iodz10Lmxlbmd0aCxjPTA7Yzx3O2MrKyl0eXBlb2YgdFtjXT09PW8mJih5PXRbY10sYT1pKHkscyksYSYmdi5wdXNoKHUoeSkrKG4/IjogIjoiOiIpK2EpKTtlbHNlIGZvcih5IGluIHMpT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocyx5KSYmKGE9aSh5LHMpLGEmJnYucHVzaCh1KHkpKyhuPyI6ICI6IjoiKSthKSk7cmV0dXJuIGE9MD09PXYubGVuZ3RoPyJ7fSI6bj8ie1xuIituK3Yuam9pbigiLFxuIituKSsiXG4iK2QrIn0iOiJ7Iit2LmpvaW4oIiwiKSsifSIsbj1kLGF9fXZhciBuLHIsdCxlPS9bXFxcIlx4MDAtXHgxZlx4N2YtXHg5Zlx1MDBhZFx1MDYwMC1cdTA2MDRcdTA3MGZcdTE3YjRcdTE3YjVcdTIwMGMtXHUyMDBmXHUyMDI4LVx1MjAyZlx1MjA2MC1cdTIwNmZcdWZlZmZcdWZmZjAtXHVmZmZmXS9nLHM9eyJcYiI6IlxcYiIsIlx0IjoiXFx0IiwiXG4iOiJcXG4iLCJcZiI6IlxcZiIsIlxyIjoiXFxyIiwnIic6J1xcIicsIlxcIjoiXFxcXCJ9LGg9e30udG9TdHJpbmc7dHlwZW9mIERhdGUucHJvdG90eXBlLnRvSlNPTiE9PWwmJihEYXRlLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3JldHVybiBpc0Zpbml0ZShuLnZhbHVlT2YoKSk/ZihuLmdldFVUQ0Z1bGxZZWFyKCksNCkrIi0iK2Yobi5nZXRVVENNb250aCgpKzEpKyItIitmKG4uZ2V0VVRDRGF0ZSgpKSsiVCIrZihuLmdldFVUQ0hvdXJzKCkpKyI6IitmKG4uZ2V0VVRDTWludXRlcygpKSsiOiIrZihuLmdldFVUQ1NlY29uZHMoKSkrIloiOm51bGx9LFN0cmluZy5wcm90b3R5cGUudG9KU09OPU51bWJlci5wcm90b3R5cGUudG9KU09OPUJvb2xlYW4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlT2YoKX0pO3R5cGVvZiBmdC5zdHJpbmdpZnkhPT1sJiYoZnQuc3RyaW5naWZ5PWZ1bmN0aW9uKHUsZixlKXt2YXIgcztpZihuPSIiLHI9IiIsdHlwZW9mIGU9PT1iKWZvcihzPTA7czxlO3MrPTEpcis9IiAiO2Vsc2UgdHlwZW9mIGU9PT1vJiYocj1lKTtpZih0PWYsZiYmdHlwZW9mIGYhPT1sJiYodHlwZW9mIGYhPT1rfHx0eXBlb2YgZi5sZW5ndGghPT1iKSl0aHJvdyBFcnJvcigiSlNPTi5zdHJpbmdpZnkiKTtyZXR1cm4gaSgiIix7IiI6dX0pfSl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBsKG4pe2lmKG4pe2lmKG4ubnVtYmVyRm9ybWF0KXJldHVybiBuO2lmKHR5cGVvZiBuPT09byl7dmFyIHQ9ci5jdWx0dXJlcztyZXR1cm4gdFtuXXx8dFtuLnNwbGl0KCItIilbMF1dfHxudWxsfXJldHVybiBudWxsfXJldHVybiBudWxsfWZ1bmN0aW9uIGEobil7cmV0dXJuIG4mJihuPWwobikpLG58fHIuY3VsdHVyZXMuY3VycmVudH1mdW5jdGlvbiBkKG4sdCxyKXtyPWEocik7dmFyIHU9ci5jYWxlbmRhcnMuc3RhbmRhcmQsZT11LmRheXMsbz11Lm1vbnRocztyZXR1cm4gdD11LnBhdHRlcm5zW3RdfHx0LHQucmVwbGFjZShudCxmdW5jdGlvbih0KXt2YXIgcyxyLGg7cmV0dXJuImQiPT09dD9yPW4uZ2V0RGF0ZSgpOiJkZCI9PT10P3I9ZihuLmdldERhdGUoKSk6ImRkZCI9PT10P3I9ZS5uYW1lc0FiYnJbbi5nZXREYXkoKV06ImRkZGQiPT09dD9yPWUubmFtZXNbbi5nZXREYXkoKV06Ik0iPT09dD9yPW4uZ2V0TW9udGgoKSsxOiJNTSI9PT10P3I9ZihuLmdldE1vbnRoKCkrMSk6Ik1NTSI9PT10P3I9by5uYW1lc0FiYnJbbi5nZXRNb250aCgpXToiTU1NTSI9PT10P3I9by5uYW1lc1tuLmdldE1vbnRoKCldOiJ5eSI9PT10P3I9ZihuLmdldEZ1bGxZZWFyKCklMTAwKToieXl5eSI9PT10P3I9ZihuLmdldEZ1bGxZZWFyKCksNCk6ImgiPT09dD9yPW4uZ2V0SG91cnMoKSUxMnx8MTI6ImhoIj09PXQ/cj1mKG4uZ2V0SG91cnMoKSUxMnx8MTIpOiJIIj09PXQ/cj1uLmdldEhvdXJzKCk6IkhIIj09PXQ/cj1mKG4uZ2V0SG91cnMoKSk6Im0iPT09dD9yPW4uZ2V0TWludXRlcygpOiJtbSI9PT10P3I9ZihuLmdldE1pbnV0ZXMoKSk6InMiPT09dD9yPW4uZ2V0U2Vjb25kcygpOiJzcyI9PT10P3I9ZihuLmdldFNlY29uZHMoKSk6ImYiPT09dD9yPWMuZmxvb3Iobi5nZXRNaWxsaXNlY29uZHMoKS8xMDApOiJmZiI9PT10PyhyPW4uZ2V0TWlsbGlzZWNvbmRzKCkscj45OSYmKHI9Yy5mbG9vcihyLzEwKSkscj1mKHIpKToiZmZmIj09PXQ/cj1mKG4uZ2V0TWlsbGlzZWNvbmRzKCksMyk6InR0Ij09PXQ/cj1uLmdldEhvdXJzKCk8MTI/dS5BTVswXTp1LlBNWzBdOiJ6enoiPT09dD8ocz1uLmdldFRpbWV6b25lT2Zmc2V0KCksaD1zPDAscj0oIiIrYy5hYnMocy82MCkpLnNwbGl0KCIuIilbMF0scz1jLmFicyhzKS02MCpyLHI9KGg/IisiOiItIikrZihyKSxyKz0iOiIrZihzKSk6Inp6IiE9PXQmJiJ6IiE9PXR8fChyPW4uZ2V0VGltZXpvbmVPZmZzZXQoKS82MCxoPXI8MCxyPSgiIitjLmFicyhyKSkuc3BsaXQoIi4iKVswXSxyPShoPyIrIjoiLSIpKygienoiPT09dD9mKHIpOnIpKSxyIT09aT9yOnQuc2xpY2UoMSx0Lmxlbmd0aC0xKX0pfWZ1bmN0aW9uIGcobixyLGYpe3ZhciB5LGx0LGN0LGF0LHZ0LHl0LGV0LHN0LHB0LGd0LGQsb3QscCx3dCxlaSxidCxudCxvLHV0LGIsbmksdGksZyxjLGwsa3QsaWksdWkscmksb2ksZnQsaHQsZmksZHQ7aWYoZj1hKGYpLHk9Zi5udW1iZXJGb3JtYXQsbHQ9eVt1XSxjdD15LmRlY2ltYWxzLGF0PXkucGF0dGVyblswXSx2dD1bXSxkPW48MCxidD10LG50PXQsZnQ9LTEsbj09PWkpcmV0dXJuIHQ7aWYoIWlzRmluaXRlKG4pKXJldHVybiBuO2lmKCFyKXJldHVybiBmLm5hbWUubGVuZ3RoP24udG9Mb2NhbGVTdHJpbmcoKToiIituO2lmKGd0PXR0LmV4ZWMocikpe2lmKHI9Z3RbMV0udG9Mb3dlckNhc2UoKSxldD0iYyI9PT1yLHN0PSJwIj09PXIsKGV0fHxzdCkmJih5PWV0P3kuY3VycmVuY3k6eS5wZXJjZW50LGx0PXlbdV0sY3Q9eS5kZWNpbWFscyx5dD15LnN5bWJvbCxhdD15LnBhdHRlcm5bZD8wOjFdKSxwdD1ndFsyXSxwdCYmKGN0PStwdCksImUiPT09cilyZXR1cm4gZmk9cHQ/bi50b0V4cG9uZW50aWFsKGN0KTpuLnRvRXhwb25lbnRpYWwoKSxmaS5yZXBsYWNlKHUseVt1XSk7aWYoc3QmJihuKj0xMDApLG49ZShuLGN0KSxkPW48MCxuPW4uc3BsaXQodSksb3Q9blswXSxwPW5bMV0sZCYmKG90PW90LnN1YnN0cmluZygxKSksbnQ9dihvdCwwLG90Lmxlbmd0aCx5KSxwJiYobnQrPWx0K3ApLCJuIj09PXImJiFkKXJldHVybiBudDtmb3Iobj10LG89MCx1dD1hdC5sZW5ndGg7bzx1dDtvKyspYj1hdC5jaGFyQXQobyksbis9Im4iPT09Yj9udDoiJCI9PT1ifHwiJSI9PT1iP3l0OmI7cmV0dXJuIG59aWYoKHIuaW5kZXhPZigiJyIpPi0xfHxyLmluZGV4T2YoJyInKT4tMXx8ci5pbmRleE9mKCJcXCIpPi0xKSYmKHI9ci5yZXBsYWNlKGl0LGZ1bmN0aW9uKG4pe3ZhciB0PW4uY2hhckF0KDApLnJlcGxhY2UoIlxcIiwiIiksaT1uLnNsaWNlKDEpLnJlcGxhY2UodCwiIik7cmV0dXJuIHZ0LnB1c2goaSksa30pKSxyPXIuc3BsaXQoIjsiKSxkJiZyWzFdKXI9clsxXSx0aT0hMDtlbHNlIGlmKDA9PT1uJiZyWzJdKXtpZihyPXJbMl0sci5pbmRleE9mKGgpPT0tMSYmci5pbmRleE9mKHMpPT0tMSlyZXR1cm4gcn1lbHNlIHI9clswXTtpZih1aT1yLmluZGV4T2YoIiUiKSxyaT1yLmluZGV4T2YoIiQiKSxzdD11aSE9LTEsZXQ9cmkhPS0xLHN0JiYobio9MTAwKSxldCYmIlxcIj09PXJbcmktMV0mJihyPXIuc3BsaXQoIlxcIikuam9pbigiIiksZXQ9ITEpLChldHx8c3QpJiYoeT1ldD95LmN1cnJlbmN5OnkucGVyY2VudCxsdD15W3VdLGN0PXkuZGVjaW1hbHMseXQ9eS5zeW1ib2wpLG5pPXIuaW5kZXhPZih3KT4tMSxuaSYmKHI9ci5yZXBsYWNlKHJ0LHQpKSxnPXIuaW5kZXhPZih1KSx1dD1yLmxlbmd0aCxnIT0tMSlpZihwPSgiIituKS5zcGxpdCgiZSIpLHA9cFsxXT9lKG4sTWF0aC5hYnMocFsxXSkpOnBbMF0scD1wLnNwbGl0KHUpWzFdfHx0LGw9ci5sYXN0SW5kZXhPZihzKS1nLGM9ci5sYXN0SW5kZXhPZihoKS1nLGt0PWw+LTEsaWk9Yz4tMSxvPXAubGVuZ3RoLGt0fHxpaXx8KHI9ci5zdWJzdHJpbmcoMCxnKStyLnN1YnN0cmluZyhnKzEpLHV0PXIubGVuZ3RoLGc9LTEsbz0wKSxrdCYmbD5jKW89bDtlbHNlIGlmKGM+bClpZihpaSYmbz5jKXtmb3IoZHQ9ZShuLGMsZCk7ZHQuY2hhckF0KGR0Lmxlbmd0aC0xKT09PXMmJmM+MCYmYz5sOyljLS0sZHQ9ZShuLGMsZCk7bz1jfWVsc2Uga3QmJm88bCYmKG89bCk7aWYobj1lKG4sbyxkKSxjPXIuaW5kZXhPZihoKSxvaT1sPXIuaW5kZXhPZihzKSxmdD1jPT0tMSYmbCE9LTE/bDpjIT0tMSYmbD09LTE/YzpjPmw/bDpjLGM9ci5sYXN0SW5kZXhPZihoKSxsPXIubGFzdEluZGV4T2YocyksaHQ9Yz09LTEmJmwhPS0xP2w6YyE9LTEmJmw9PS0xP2M6Yz5sP2M6bCxmdD09dXQmJihodD1mdCksZnQhPS0xKXtmb3IobnQ9KCIiK24pLnNwbGl0KHUpLG90PW50WzBdLHA9bnRbMV18fHQsd3Q9b3QubGVuZ3RoLGVpPXAubGVuZ3RoLGQmJm4qLTE+PTAmJihkPSExKSxuPXIuc3Vic3RyaW5nKDAsZnQpLGQmJiF0aSYmKG4rPSItIiksbz1mdDtvPHV0O28rKyl7aWYoYj1yLmNoYXJBdChvKSxnPT0tMSl7aWYoaHQtbzx3dCl7bis9b3Q7YnJlYWt9fWVsc2UgaWYobCE9LTEmJmw8byYmKGJ0PXQpLGctbzw9d3QmJmctbz4tMSYmKG4rPW90LG89ZyksZz09PW8pe24rPShwP2x0OnQpK3A7bys9aHQtZysxO2NvbnRpbnVlfWI9PT1zPyhuKz1iLGJ0PWIpOmI9PT1oJiYobis9YnQpfWlmKG5pJiYobj12KG4sZnQrKGQmJiF0aT8xOjApLE1hdGgubWF4KGh0LHd0K2Z0KSx5KSksaHQ+PWZ0JiYobis9ci5zdWJzdHJpbmcoaHQrMSkpLGV0fHxzdCl7Zm9yKG50PXQsbz0wLHV0PW4ubGVuZ3RoO288dXQ7bysrKWI9bi5jaGFyQXQobyksbnQrPSIkIj09PWJ8fCIlIj09PWI/eXQ6YjtuPW50fWlmKHV0PXZ0Lmxlbmd0aClmb3Iobz0wO288dXQ7bysrKW49bi5yZXBsYWNlKGssdnRbb10pfXJldHVybiBufXZhciB2LGUseSxudD0vZGRkZHxkZGR8ZGR8ZHxNTU1NfE1NTXxNTXxNfHl5eXl8eXl8SEh8SHxoaHxofG1tfG18ZmZmfGZmfGZ8dHR8c3N8c3x6enp8enp8enwiW14iXSoifCdbXiddKicvZyx0dD0vXihufGN8cHxlKShcZCopJC9pLGl0PS8oXFwuKXwoWyddW14nXSpbJ10/KXwoWyJdW14iXSpbIl0/KS9nLHJ0PS9cLC9nLHQ9IiIsdT0iLiIsdz0iLCIsaD0iIyIscz0iMCIsaz0iPz8iLHA9ImVuLVVTIix1dD17fS50b1N0cmluZztyLmN1bHR1cmVzWyJlbi1VUyJdPXtuYW1lOnAsbnVtYmVyRm9ybWF0OntwYXR0ZXJuOlsiLW4iXSxkZWNpbWFsczoyLCIsIjoiLCIsIi4iOiIuIixncm91cFNpemU6WzNdLHBlcmNlbnQ6e3BhdHRlcm46WyItbiAlIiwibiAlIl0sZGVjaW1hbHM6MiwiLCI6IiwiLCIuIjoiLiIsZ3JvdXBTaXplOlszXSxzeW1ib2w6IiUifSxjdXJyZW5jeTp7bmFtZToiVVMgRG9sbGFyIixhYmJyOiJVU0QiLHBhdHRlcm46WyIoJG4pIiwiJG4iXSxkZWNpbWFsczoyLCIsIjoiLCIsIi4iOiIuIixncm91cFNpemU6WzNdLHN5bWJvbDoiJCJ9fSxjYWxlbmRhcnM6e3N0YW5kYXJkOntkYXlzOntuYW1lczpbIlN1bmRheSIsIk1vbmRheSIsIlR1ZXNkYXkiLCJXZWRuZXNkYXkiLCJUaHVyc2RheSIsIkZyaWRheSIsIlNhdHVyZGF5Il0sbmFtZXNBYmJyOlsiU3VuIiwiTW9uIiwiVHVlIiwiV2VkIiwiVGh1IiwiRnJpIiwiU2F0Il0sbmFtZXNTaG9ydDpbIlN1IiwiTW8iLCJUdSIsIldlIiwiVGgiLCJGciIsIlNhIl19LG1vbnRoczp7bmFtZXM6WyJKYW51YXJ5IiwiRmVicnVhcnkiLCJNYXJjaCIsIkFwcmlsIiwiTWF5IiwiSnVuZSIsIkp1bHkiLCJBdWd1c3QiLCJTZXB0ZW1iZXIiLCJPY3RvYmVyIiwiTm92ZW1iZXIiLCJEZWNlbWJlciJdLG5hbWVzQWJicjpbIkphbiIsIkZlYiIsIk1hciIsIkFwciIsIk1heSIsIkp1biIsIkp1bCIsIkF1ZyIsIlNlcCIsIk9jdCIsIk5vdiIsIkRlYyJdfSxBTTpbIkFNIiwiYW0iLCJBTSJdLFBNOlsiUE0iLCJwbSIsIlBNIl0scGF0dGVybnM6e2Q6Ik0vZC95eXl5IixEOiJkZGRkLCBNTU1NIGRkLCB5eXl5IixGOiJkZGRkLCBNTU1NIGRkLCB5eXl5IGg6bW06c3MgdHQiLGc6Ik0vZC95eXl5IGg6bW0gdHQiLEc6Ik0vZC95eXl5IGg6bW06c3MgdHQiLG06Ik1NTU0gZGQiLE06Ik1NTU0gZGQiLHM6Inl5eXknLSdNTSctJ2RkVEhIJzonbW0nOidzcyIsdDoiaDptbSB0dCIsVDoiaDptbTpzcyB0dCIsdToieXl5eSctJ01NJy0nZGQgSEgnOidtbSc6J3NzJ1onIix5OiJNTU1NLCB5eXl5IixZOiJNTU1NLCB5eXl5In0sIi8iOiIvIiwiOiI6IjoiLGZpcnN0RGF5OjAsdHdvRGlnaXRZZWFyTWF4OjIwMjl9fX07ci5jdWx0dXJlPWZ1bmN0aW9uKG4pe3ZhciB0LHU9ci5jdWx0dXJlcztyZXR1cm4gbj09PWk/dS5jdXJyZW50Oih0PWwobil8fHVbcF0sdC5jYWxlbmRhcj10LmNhbGVuZGFycy5zdGFuZGFyZCx1LmN1cnJlbnQ9dCxpKX07ci5maW5kQ3VsdHVyZT1sO3IuZ2V0Q3VsdHVyZT1hO3IuY3VsdHVyZShwKTt2PWZ1bmN0aW9uKG4sdCxyLGYpe3ZhciBvLGMsZSxoLGwsYSx2PW4uaW5kZXhPZihmW3VdKSx5PWYuZ3JvdXBTaXplLnNsaWNlKCkscz15LnNoaWZ0KCk7aWYocj12IT09LTE/djpyKzEsbz1uLnN1YnN0cmluZyh0LHIpLGM9by5sZW5ndGgsYz49cyl7Zm9yKGU9YyxoPVtdO2U+LTE7KWlmKGw9by5zdWJzdHJpbmcoZS1zLGUpLGwmJmgucHVzaChsKSxlLT1zLGE9eS5zaGlmdCgpLHM9YSE9PWk/YTpzLDA9PT1zKXtlPjAmJmgucHVzaChvLnN1YnN0cmluZygwLGUpKTticmVha31vPWgucmV2ZXJzZSgpLmpvaW4oZlt3XSk7bj1uLnN1YnN0cmluZygwLHQpK28rbi5zdWJzdHJpbmcocil9cmV0dXJuIG59O2U9ZnVuY3Rpb24obix0LGkpe3JldHVybiB0PXR8fDAsbj0oIiIrbikuc3BsaXQoImUiKSxuPU1hdGgucm91bmQoKyhuWzBdKyJlIisoblsxXT8rblsxXSt0OnQpKSksaSYmKG49LW4pLG49KCIiK24pLnNwbGl0KCJlIiksbj0rKG5bMF0rImUiKyhuWzFdPytuWzFdLXQ6LXQpKSxuLnRvRml4ZWQoTWF0aC5taW4odCwyMCkpfTt5PWZ1bmN0aW9uKG4sdCxyKXtpZih0KXtpZigiW29iamVjdCBEYXRlXSI9PT11dC5jYWxsKG4pKXJldHVybiBkKG4sdCxyKTtpZih0eXBlb2Ygbj09PWIpcmV0dXJuIGcobix0LHIpfXJldHVybiBuIT09aT9uOiIifTtyLmZvcm1hdD1mdW5jdGlvbihuKXt2YXIgdD1hcmd1bWVudHM7cmV0dXJuIG4ucmVwbGFjZShjdSxmdW5jdGlvbihuLGkscil7dmFyIHU9dFtwYXJzZUludChpLDEwKSsxXTtyZXR1cm4geSh1LHI/ci5zdWJzdHJpbmcoMSk6IiIpfSl9O3IuX2V4dHJhY3RGb3JtYXQ9ZnVuY3Rpb24obil7cmV0dXJuInswOiI9PT1uLnNsaWNlKDAsMykmJihuPW4uc2xpY2UoMyxuLmxlbmd0aC0xKSksbn07ci5fYWN0aXZlRWxlbWVudD1mdW5jdGlvbigpe3RyeXtyZXR1cm4gZG9jdW1lbnQuYWN0aXZlRWxlbWVudH1jYXRjaChuKXtyZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFjdGl2ZUVsZW1lbnR9fTtyLl9yb3VuZD1lO3IuX291dGVyV2lkdGg9ZnVuY3Rpb24odCxpKXtyZXR1cm4gbih0KS5vdXRlcldpZHRoKGl8fCExKXx8MH07ci5fb3V0ZXJIZWlnaHQ9ZnVuY3Rpb24odCxpKXtyZXR1cm4gbih0KS5vdXRlckhlaWdodChpfHwhMSl8fDB9O3IudG9TdHJpbmc9eX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIHQobix0LGkpe3JldHVybiEobj49dCYmbjw9aSl9ZnVuY3Rpb24gYShuKXtyZXR1cm4gbi5jaGFyQXQoMCl9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gbi5tYXAodCxhKX1mdW5jdGlvbiB2KG4sdCl7dHx8MjMhPT1uLmdldEhvdXJzKCl8fG4uc2V0SG91cnMobi5nZXRIb3VycygpKzIpfWZ1bmN0aW9uIHkobil7Zm9yKHZhciB0PTAscj1uLmxlbmd0aCxpPVtdO3Q8cjt0KyspaVt0XT0oblt0XSsiIikudG9Mb3dlckNhc2UoKTtyZXR1cm4gaX1mdW5jdGlvbiBmKG4pe3ZhciB0LGk9e307Zm9yKHQgaW4gbilpW3RdPXkoblt0XSk7cmV0dXJuIGl9ZnVuY3Rpb24gcChuLGUsbyxzKXtpZighbilyZXR1cm4gbnVsbDt2YXIgeSxoLGd0LHB0LHd0LGJ0LGZ0LGN0LGx0LGIsayxuaSx0aSx0dD1mdW5jdGlvbihuKXtmb3IodmFyIHQ9MDtlW290XT09PW47KXQrKyxvdCsrO3JldHVybiB0PjAmJihvdC09MSksdH0scnQ9ZnVuY3Rpb24odCl7dmFyIHI9bFt0XXx8UmVnRXhwKCJeXFxkezEsIit0KyJ9IiksaT1uLnN1YnN0cihwLHQpLm1hdGNoKHIpO3JldHVybiBpPyhpPWlbMF0scCs9aS5sZW5ndGgscGFyc2VJbnQoaSwxMCkpOm51bGx9LGF0PWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBvLHIsdSxmPTAsaD10Lmxlbmd0aCxlPTAscz0wO2Y8aDtmKyspbz10W2ZdLHI9by5sZW5ndGgsdT1uLnN1YnN0cihwLHIpLGkmJih1PXUudG9Mb3dlckNhc2UoKSksdT09byYmcj5lJiYoZT1yLHM9Zik7cmV0dXJuIGU/KHArPWUscysxKTpudWxsfSx2dD1mdW5jdGlvbigpe3ZhciB0PSExO3JldHVybiBuLmNoYXJBdChwKT09PWVbb3RdJiYocCsrLHQ9ITApLHR9LHc9by5jYWxlbmRhcnMuc3RhbmRhcmQsYT1udWxsLHV0PW51bGwsZD1udWxsLGM9bnVsbCxldD1udWxsLHN0PW51bGwsaXQ9bnVsbCxvdD0wLHA9MCxrdD0hMSxkdD1uZXcgRGF0ZSx5dD13LnR3b0RpZ2l0WWVhck1heHx8MjAyOSxodD1kdC5nZXRGdWxsWWVhcigpO2ZvcihlfHwoZT0iZCIpLHB0PXcucGF0dGVybnNbZV0scHQmJihlPXB0KSxlPWUuc3BsaXQoIiIpLGd0PWUubGVuZ3RoO290PGd0O290KyspaWYoeT1lW290XSxrdCkiJyI9PT15P2t0PSExOnZ0KCk7ZWxzZSBpZigiZCI9PT15KXtpZihoPXR0KCJkIiksdy5fbG93ZXJEYXlzfHwody5fbG93ZXJEYXlzPWYody5kYXlzKSksbnVsbCE9PWQmJmg+Miljb250aW51ZTtpZihkPWg8Mz9ydCgyKTphdCh3Ll9sb3dlckRheXNbMz09aD8ibmFtZXNBYmJyIjoibmFtZXMiXSwhMCksbnVsbD09PWR8fHQoZCwxLDMxKSlyZXR1cm4gbnVsbH1lbHNlIGlmKCJNIj09PXkpe2lmKGg9dHQoIk0iKSx3Ll9sb3dlck1vbnRoc3x8KHcuX2xvd2VyTW9udGhzPWYody5tb250aHMpKSx1dD1oPDM/cnQoMik6YXQody5fbG93ZXJNb250aHNbMz09aD8ibmFtZXNBYmJyIjoibmFtZXMiXSwhMCksbnVsbD09PXV0fHx0KHV0LDEsMTIpKXJldHVybiBudWxsO3V0LT0xfWVsc2UgaWYoInkiPT09eSl7aWYoaD10dCgieSIpLGE9cnQoaCksbnVsbD09PWEpcmV0dXJuIG51bGw7Mj09aCYmKCJzdHJpbmciPT10eXBlb2YgeXQmJih5dD1odCtwYXJzZUludCh5dCwxMCkpLGE9aHQtaHQlMTAwK2EsYT55dCYmKGEtPTEwMCkpfWVsc2UgaWYoImgiPT09eSl7aWYodHQoImgiKSxjPXJ0KDIpLDEyPT1jJiYoYz0wKSxudWxsPT09Y3x8dChjLDAsMTEpKXJldHVybiBudWxsfWVsc2UgaWYoIkgiPT09eSl7aWYodHQoIkgiKSxjPXJ0KDIpLG51bGw9PT1jfHx0KGMsMCwyMykpcmV0dXJuIG51bGx9ZWxzZSBpZigibSI9PT15KXtpZih0dCgibSIpLGV0PXJ0KDIpLG51bGw9PT1ldHx8dChldCwwLDU5KSlyZXR1cm4gbnVsbH1lbHNlIGlmKCJzIj09PXkpe2lmKHR0KCJzIiksc3Q9cnQoMiksbnVsbD09PXN0fHx0KHN0LDAsNTkpKXJldHVybiBudWxsfWVsc2UgaWYoImYiPT09eSl7aWYoaD10dCgiZiIpLHRpPW4uc3Vic3RyKHAsaCkubWF0Y2gobFszXSksaXQ9cnQoaCksbnVsbCE9PWl0JiYoaXQ9cGFyc2VGbG9hdCgiMC4iK3RpWzBdLDEwKSxpdD1yLl9yb3VuZChpdCwzKSxpdCo9MWUzKSxudWxsPT09aXR8fHQoaXQsMCw5OTkpKXJldHVybiBudWxsfWVsc2UgaWYoInQiPT09eSl7aWYoaD10dCgidCIpLGN0PXcuQU0sbHQ9dy5QTSwxPT09aCYmKGN0PXUoY3QpLGx0PXUobHQpKSx3dD1hdChsdCksIXd0JiYhYXQoY3QpKXJldHVybiBudWxsfWVsc2UgaWYoInoiPT09eSl7aWYoYnQ9ITAsaD10dCgieiIpLCJaIj09PW4uc3Vic3RyKHAsMSkpe3Z0KCk7Y29udGludWV9aWYoKGZ0PW4uc3Vic3RyKHAsNikubWF0Y2goaD4yP250OmcpLCFmdCl8fChmdD1mdFswXS5zcGxpdCgiOiIpLGI9ZnRbMF0saz1mdFsxXSwhayYmYi5sZW5ndGg+MyYmKHA9Yi5sZW5ndGgtMixrPWIuc3Vic3RyaW5nKHApLGI9Yi5zdWJzdHJpbmcoMCxwKSksYj1wYXJzZUludChiLDEwKSx0KGIsLTEyLDEzKSl8fGg+MiYmKGs9ZnRbMF1bMF0rayxrPXBhcnNlSW50KGssMTApLGlzTmFOKGspfHx0KGssLTU5LDU5KSkpcmV0dXJuIG51bGx9ZWxzZSBpZigiJyI9PT15KWt0PSEwLHZ0KCk7ZWxzZSBpZighdnQoKSlyZXR1cm4gbnVsbDtyZXR1cm4gcyYmIS9eXHMqJC8udGVzdChuLnN1YnN0cihwKSk/bnVsbDoobmk9bnVsbCE9PWN8fG51bGwhPT1ldHx8c3R8fG51bGwsbnVsbD09PWEmJm51bGw9PT11dCYmbnVsbD09PWQmJm5pPyhhPWh0LHV0PWR0LmdldE1vbnRoKCksZD1kdC5nZXREYXRlKCkpOihudWxsPT09YSYmKGE9aHQpLG51bGw9PT1kJiYoZD0xKSksd3QmJmM8MTImJihjKz0xMiksYnQ/KGImJihjKz0tYiksayYmKGV0Kz0tayksbj1uZXcgRGF0ZShEYXRlLlVUQyhhLHV0LGQsYyxldCxzdCxpdCkpKToobj1uZXcgRGF0ZShhLHV0LGQsYyxldCxzdCxpdCksdihuLGMpKSxhPDEwMCYmbi5zZXRGdWxsWWVhcihhKSxuLmdldERhdGUoKSE9PWQmJmJ0PT09aT9udWxsOm4pfWZ1bmN0aW9uIHcobil7dmFyIHQ9Ii0iPT09bi5zdWJzdHIoMCwxKT8tMToxO3JldHVybiBuPW4uc3Vic3RyaW5nKDEpLG49NjAqcGFyc2VJbnQobi5zdWJzdHIoMCwyKSwxMCkrcGFyc2VJbnQobi5zdWJzdHJpbmcoMiksMTApLHQqbn1mdW5jdGlvbiBrKG4pe2Zvcih2YXIgdSxpLGY9Yy5tYXgocy5sZW5ndGgsaC5sZW5ndGgpLGU9bi5jYWxlbmRhcnx8bi5jYWxlbmRhcnMuc3RhbmRhcmQsbz1lLnBhdHRlcm5zLHI9W10sdD0wO3Q8Zjt0Kyspe2Zvcih1PXNbdF0saT0wO2k8dS5sZW5ndGg7aSsrKXIucHVzaChvW3VbaV1dKTtyPXIuY29uY2F0KGhbdF0pfXJldHVybiByfWZ1bmN0aW9uIGUobix0LGksdSl7dmFyIG8sZixzLGU7aWYoIltvYmplY3QgRGF0ZV0iPT09cnQuY2FsbChuKSlyZXR1cm4gbjtpZihvPTAsZj1udWxsLG4mJjA9PT1uLmluZGV4T2YoIi9EIikmJihmPXR0LmV4ZWMobikpKXJldHVybiBmPWZbMV0sZT1pdC5leGVjKGYuc3Vic3RyaW5nKDEpKSxmPW5ldyBEYXRlKHBhcnNlSW50KGYsMTApKSxlJiYoZT13KGVbMF0pLGY9ci50aW1lem9uZS5hcHBseShmLDApLGY9ci50aW1lem9uZS5jb252ZXJ0KGYsMCwtMSplKSksZjtmb3IoaT1yLmdldEN1bHR1cmUoaSksdHx8KHQ9ayhpKSksdD1odSh0KT90Olt0XSxzPXQubGVuZ3RoO288cztvKyspaWYoZj1wKG4sdFtvXSxpLHUpKXJldHVybiBmO3JldHVybiBmfXZhciBvPS9cdTAwQTAvZyxkPS9bZUVdW1wtK10/WzAtOV0rLyxnPS9bK3xcLV1cZHsxLDJ9LyxudD0vWyt8XC1dXGR7MSwyfTo/XGR7Mn0vLHR0PS9eXC9EYXRlXCgoLio/KVwpXC8kLyxpdD0vWystXVxkKi8scz1bW10sWyJHIiwiZyIsIkYiXSxbIkQiLCJkIiwieSIsIm0iLCJUIiwidCJdXSxoPVtbInl5eXktTU0tZGRUSEg6bW06c3MuZmZmZmZmZnp6eiIsInl5eXktTU0tZGRUSEg6bW06c3MuZmZmZmZmZiIsInl5eXktTU0tZGRUSEg6bW06c3MuZmZmenp6IiwieXl5eS1NTS1kZFRISDptbTpzcy5mZmYiLCJkZGQgTU1NIGRkIHl5eXkgSEg6bW06c3MiLCJ5eXl5LU1NLWRkVEhIOm1tOnNzenp6IiwieXl5eS1NTS1kZFRISDptbXp6eiIsInl5eXktTU0tZGRUSEg6bW16eiIsInl5eXktTU0tZGRUSEg6bW06c3MiLCJ5eXl5LU1NLWRkIEhIOm1tOnNzIiwieXl5eS9NTS9kZCBISDptbTpzcyJdLFsieXl5eS1NTS1kZFRISDptbSIsInl5eXktTU0tZGQgSEg6bW0iLCJ5eXl5L01NL2RkIEhIOm1tIl0sWyJ5eXl5L01NL2RkIiwieXl5eS1NTS1kZCIsIkhIOm1tOnNzIiwiSEg6bW0iXV0sbD17MjovXlxkezEsMn0vLDM6L15cZHsxLDN9Lyw0Oi9eXGR7NH0vfSxydD17fS50b1N0cmluZztyLnBhcnNlRGF0ZT1mdW5jdGlvbihuLHQsaSl7cmV0dXJuIGUobix0LGksITEpfTtyLnBhcnNlRXhhY3REYXRlPWZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gZShuLHQsaSwhMCl9O3IucGFyc2VJbnQ9ZnVuY3Rpb24obix0KXt2YXIgaT1yLnBhcnNlRmxvYXQobix0KTtyZXR1cm4gaSYmKGk9MHxpKSxpfTtyLnBhcnNlRmxvYXQ9ZnVuY3Rpb24obix0LGkpe2lmKCFuJiYwIT09bilyZXR1cm4gbnVsbDtpZih0eXBlb2Ygbj09PWIpcmV0dXJuIG47bj0iIituO3Q9ci5nZXRDdWx0dXJlKHQpO3ZhciBmLGgsdT10Lm51bWJlckZvcm1hdCxjPXUucGVyY2VudCxsPXUuY3VycmVuY3kscz1sLnN5bWJvbCxhPWMuc3ltYm9sLGU9bi5pbmRleE9mKCItIik7cmV0dXJuIGQudGVzdChuKT8obj1wYXJzZUZsb2F0KG4ucmVwbGFjZSh1WyIuIl0sIi4iKSksaXNOYU4obikmJihuPW51bGwpLG4pOmU+MD9udWxsOihlPWU+LTEsbi5pbmRleE9mKHMpPi0xfHxpJiZpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiYyIpPi0xPyh1PWwsZj11LnBhdHRlcm5bMF0ucmVwbGFjZSgiJCIscykuc3BsaXQoIm4iKSxuLmluZGV4T2YoZlswXSk+LTEmJm4uaW5kZXhPZihmWzFdKT4tMSYmKG49bi5yZXBsYWNlKGZbMF0sIiIpLnJlcGxhY2UoZlsxXSwiIiksZT0hMCkpOm4uaW5kZXhPZihhKT4tMSYmKGg9ITAsdT1jLHM9YSksbj1uLnJlcGxhY2UoIi0iLCIiKS5yZXBsYWNlKHMsIiIpLnJlcGxhY2UobywiICIpLnNwbGl0KHVbIiwiXS5yZXBsYWNlKG8sIiAiKSkuam9pbigiIikucmVwbGFjZSh1WyIuIl0sIi4iKSxuPXBhcnNlRmxvYXQobiksaXNOYU4obik/bj1udWxsOmUmJihuKj0tMSksbiYmaCYmKG4vPTEwMCksbil9fSgpLGZ1bmN0aW9uKCl7dmFyIGMsZSxoLGwscyxyLGYsYSx2LHkscCx3O3UuX3Njcm9sbGJhcj1pO3Uuc2Nyb2xsYmFyPWZ1bmN0aW9uKG4pe2lmKGlzTmFOKHUuX3Njcm9sbGJhcil8fG4pe3ZhciBpLHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIHQuc3R5bGUuY3NzVGV4dD0ib3ZlcmZsb3c6c2Nyb2xsO292ZXJmbG93LXg6aGlkZGVuO3pvb206MTtjbGVhcjpib3RoO2Rpc3BsYXk6YmxvY2siLHQuaW5uZXJIVE1MPSImbmJzcDsiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCksdS5fc2Nyb2xsYmFyPWk9dC5vZmZzZXRXaWR0aC10LnNjcm9sbFdpZHRoLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodCksaX1yZXR1cm4gdS5fc2Nyb2xsYmFyfTt1LmlzUnRsPWZ1bmN0aW9uKHQpe3JldHVybiBuKHQpLmNsb3Nlc3QoIi5rLXJ0bCIpLmxlbmd0aD4wfTtjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7dHJ5e2MuaW5uZXJIVE1MPSI8dHI+PHRkPjxcL3RkPjxcL3RyPiI7dS50Ym9keUlubmVySHRtbD0hMH1jYXRjaChiKXt1LnRib2R5SW5uZXJIdG1sPSExfXUudG91Y2g9Im9udG91Y2hzdGFydCJpbiB0O2U9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO2g9dS50cmFuc2l0aW9ucz0hMTtsPXUudHJhbnNmb3Jtcz0hMTtzPSJIVE1MRWxlbWVudCJpbiB0P0hUTUxFbGVtZW50LnByb3RvdHlwZTpbXTt1Lmhhc0hXM0Q9IldlYktpdENTU01hdHJpeCJpbiB0JiYibTExImluIG5ldyB0LldlYktpdENTU01hdHJpeHx8Ik1velBlcnNwZWN0aXZlImluIGV8fCJtc1BlcnNwZWN0aXZlImluIGU7dS5jc3NGbGV4Ym94PSJmbGV4V3JhcCJpbiBlfHwiV2Via2l0RmxleFdyYXAiaW4gZXx8Im1zRmxleFdyYXAiaW4gZTtydChbIk1veiIsIndlYmtpdCIsIk8iLCJtcyJdLGZ1bmN0aW9uKCl7dmFyIG4sdD0iIit0aGlzLGk9dHlwZW9mIGMuc3R5bGVbdCsiVHJhbnNpdGlvbiJdPT09bztpZihpfHx0eXBlb2YgYy5zdHlsZVt0KyJUcmFuc2Zvcm0iXT09PW8pcmV0dXJuIG49dC50b0xvd2VyQ2FzZSgpLGw9e2NzczoibXMiIT1uPyItIituKyItIjoiIixwcmVmaXg6dCxldmVudDoibyI9PT1ufHwid2Via2l0Ij09PW4/bjoiIn0saSYmKGg9bCxoLmV2ZW50PWguZXZlbnQ/aC5ldmVudCsiVHJhbnNpdGlvbkVuZCI6InRyYW5zaXRpb25lbmQiKSwhMX0pO2M9bnVsbDt1LnRyYW5zZm9ybXM9bDt1LnRyYW5zaXRpb25zPWg7dS5kZXZpY2VQaXhlbFJhdGlvPXQuZGV2aWNlUGl4ZWxSYXRpbz09PWk/MTp0LmRldmljZVBpeGVsUmF0aW87dHJ5e3Uuc2NyZWVuV2lkdGg9dC5vdXRlcldpZHRofHx0LnNjcmVlbj90LnNjcmVlbi5hdmFpbFdpZHRoOnQuaW5uZXJXaWR0aDt1LnNjcmVlbkhlaWdodD10Lm91dGVySGVpZ2h0fHx0LnNjcmVlbj90LnNjcmVlbi5hdmFpbEhlaWdodDp0LmlubmVySGVpZ2h0fWNhdGNoKGIpe3Uuc2NyZWVuV2lkdGg9dC5zY3JlZW4uYXZhaWxXaWR0aDt1LnNjcmVlbkhlaWdodD10LnNjcmVlbi5hdmFpbEhlaWdodH11LmRldGVjdE9TPWZ1bmN0aW9uKG4pe3ZhciBmLHIsaT0hMSxlPVtdLHM9IS9tb2JpbGUgc2FmYXJpL2kudGVzdChuKSxvPXt3cDovKFdpbmRvd3MgUGhvbmUoPzogT1MpPylccyhcZCspXC4oXGQrKFwuXGQrKT8pLyxmaXJlOi8oU2lsaylcLyhcZCspXC4oXGQrKFwuXGQrKT8pLyxhbmRyb2lkOi8oQW5kcm9pZHxBbmRyb2lkLiooPzpPcGVyYXxGaXJlZm94KS4qP1wvKVxzKihcZCspXC4/KFxkKyhcLlxkKyk/KT8vLGlwaG9uZTovKGlQaG9uZXxpUG9kKS4qT1NccysoXGQrKVtcLl9dKFtcZFwuX10rKS8saXBhZDovKGlQYWQpLipPU1xzKyhcZCspW1wuX10oW1xkX10rKS8sbWVlZ286LyhNZWVHbykuK05va2lhQnJvd3NlclwvKFxkKylcLihbXGRcLl9dKykvLHdlYm9zOi8od2ViT1MpXC8oXGQrKVwuKFxkKyhcLlxkKyk/KS8sYmxhY2tiZXJyeTovKEJsYWNrQmVycnl8QkIxMCkuKj9WZXJzaW9uXC8oXGQrKVwuKFxkKyhcLlxkKyk/KS8scGxheWJvb2s6LyhQbGF5Qm9vaykuKj9UYWJsZXRccypPU1xzKihcZCspXC4oXGQrKFwuXGQrKT8pLyx3aW5kb3dzOi8oTVNJRSlccysoXGQrKVwuKFxkKyhcLlxkKyk/KS8sdGl6ZW46Lyh0aXplbikuKj9WZXJzaW9uXC8oXGQrKVwuKFxkKyhcLlxkKyk/KS9pLHNhaWxmaXNoOi8oc2FpbGZpc2gpLipydjooXGQrKVwuKFxkKyhcLlxkKyk/KS4qZmlyZWZveC9pLGZmb3M6LyhNb2JpbGUpLipydjooXGQrKVwuKFxkKyhcLlxkKyk/KS4qRmlyZWZveC99LGg9e2lvczovXmkocGhvbmV8cGFkfHBvZCkkL2ksYW5kcm9pZDovXmFuZHJvaWR8ZmlyZSQvaSxibGFja2JlcnJ5Oi9eYmxhY2tiZXJyeXxwbGF5Ym9vay9pLHdpbmRvd3M6L3dpbmRvd3MvLHdwOi93cC8sZmxhdDovc2FpbGZpc2h8ZmZvc3x0aXplbi9pLG1lZWdvOi9tZWVnby99LGM9e3RhYmxldDovcGxheWJvb2t8aXBhZHxmaXJlL2l9LGw9e29taW5pOi9PcGVyYVxzTWluaS9pLG9tb2JpbGU6L09wZXJhXHNNb2JpL2ksZmlyZWZveDovRmlyZWZveHxGZW5uZWMvaSxtb2JpbGVzYWZhcmk6L3ZlcnNpb25cLy4qc2FmYXJpL2ksaWU6L01TSUV8V2luZG93c1xzUGhvbmUvaSxjaHJvbWU6L2Nocm9tZXxjcmlvcy9pLHdlYmtpdDovd2Via2l0L2l9O2ZvcihyIGluIG8paWYoby5oYXNPd25Qcm9wZXJ0eShyKSYmKGU9bi5tYXRjaChvW3JdKSkpe2lmKCJ3aW5kb3dzIj09ciYmInBsdWdpbnMiaW4gbmF2aWdhdG9yKXJldHVybiExO2k9e307aS5kZXZpY2U9cjtpLnRhYmxldD1odChyLGMsITEpO2kuYnJvd3Nlcj1odChuLGwsImRlZmF1bHQiKTtpLm5hbWU9aHQocixoKTtpW2kubmFtZV09ITA7aS5tYWpvclZlcnNpb249ZVsyXTtpLm1pbm9yVmVyc2lvbj0oZVszXXx8IjAiKS5yZXBsYWNlKCJfIiwiLiIpO2Y9aS5taW5vclZlcnNpb24ucmVwbGFjZSgiLiIsIiIpLnN1YnN0cigwLDIpO2kuZmxhdFZlcnNpb249aS5tYWpvclZlcnNpb24rZitBcnJheSgzLShmLmxlbmd0aDwzP2YubGVuZ3RoOjIpKS5qb2luKCIwIik7aS5jb3Jkb3ZhPXR5cGVvZiB0LlBob25lR2FwIT09c3R8fHR5cGVvZiB0LmNvcmRvdmEhPT1zdDtpLmFwcE1vZGU9dC5uYXZpZ2F0b3Iuc3RhbmRhbG9uZXx8L2ZpbGV8bG9jYWx8d21hcHAvLnRlc3QodC5sb2NhdGlvbi5wcm90b2NvbCl8fGkuY29yZG92YTtpLmFuZHJvaWQmJih1LmRldmljZVBpeGVsUmF0aW88MS41JiZpLmZsYXRWZXJzaW9uPDQwMHx8cykmJih1LnNjcmVlbldpZHRoPjgwMHx8dS5zY3JlZW5IZWlnaHQ+ODAwKSYmKGkudGFibGV0PXIpO2JyZWFrfXJldHVybiBpfTtyPXUubW9iaWxlT1M9dS5kZXRlY3RPUyhuYXZpZ2F0b3IudXNlckFnZW50KTt1LndwRGV2aWNlUGl4ZWxSYXRpbz1yLndwP3NjcmVlbi53aWR0aC8zMjA6MDt1Lmhhc05hdGl2ZVNjcm9sbGluZz0hMTsoci5pb3N8fHIuYW5kcm9pZCYmci5tYWpvclZlcnNpb24+Mnx8ci53cCkmJih1Lmhhc05hdGl2ZVNjcm9sbGluZz1yKTt1LmRlbGF5ZWRDbGljaz1mdW5jdGlvbigpe2lmKHUudG91Y2gpe2lmKHIuaW9zKXJldHVybiEwO2lmKHIuYW5kcm9pZClyZXR1cm4hdS5icm93c2VyLmNocm9tZXx8ISh1LmJyb3dzZXIudmVyc2lvbjwzMikmJiEobigibWV0YVtuYW1lPXZpZXdwb3J0XSIpLmF0dHIoImNvbnRlbnQiKXx8IiIpLm1hdGNoKC91c2VyLXNjYWxhYmxlPW5vL2kpfXJldHVybiExfTt1Lm1vdXNlQW5kVG91Y2hQcmVzZW50PXUudG91Y2gmJiEodS5tb2JpbGVPUy5pb3N8fHUubW9iaWxlT1MuYW5kcm9pZCk7dS5kZXRlY3RCcm93c2VyPWZ1bmN0aW9uKG4pe3ZhciBpLHQ9ITEscj1bXSx1PXtlZGdlOi8oZWRnZSlbIFwvXShbXHcuXSspL2ksd2Via2l0Oi8oY2hyb21lfGNyaW9zKVsgXC9dKFtcdy5dKykvaSxzYWZhcmk6Lyh3ZWJraXQpWyBcL10oW1x3Ll0rKS9pLG9wZXJhOi8ob3BlcmEpKD86Lip2ZXJzaW9ufClbIFwvXShbXHcuXSspL2ksbXNpZTovKG1zaWVcc3x0cmlkZW50Lio/IHJ2OikoW1x3Ll0rKS9pLG1vemlsbGE6Lyhtb3ppbGxhKSg/Oi4qPyBydjooW1x3Ll0rKXwpL2l9O2ZvcihpIGluIHUpaWYodS5oYXNPd25Qcm9wZXJ0eShpKSYmKHI9bi5tYXRjaCh1W2ldKSkpe3Q9e307dFtpXT0hMDt0W3JbMV0udG9Mb3dlckNhc2UoKS5zcGxpdCgiICIpWzBdLnNwbGl0KCIvIilbMF1dPSEwO3QudmVyc2lvbj1wYXJzZUludChkb2N1bWVudC5kb2N1bWVudE1vZGV8fHJbMl0sMTApO2JyZWFrfXJldHVybiB0fTt1LmJyb3dzZXI9dS5kZXRlY3RCcm93c2VyKG5hdmlnYXRvci51c2VyQWdlbnQpO3UuZGV0ZWN0Q2xpcGJvYXJkQWNjZXNzPWZ1bmN0aW9uKCl7dmFyIG49e2NvcHk6ISFkb2N1bWVudC5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQmJmRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCgiY29weSIpLGN1dDohIWRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCYmZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkKCJjdXQiKSxwYXN0ZTohIWRvY3VtZW50LnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCYmZG9jdW1lbnQucXVlcnlDb21tYW5kU3VwcG9ydGVkKCJwYXN0ZSIpfTtyZXR1cm4gdS5icm93c2VyLmNocm9tZSYmKG4ucGFzdGU9ITEsdS5icm93c2VyLnZlcnNpb24+PTQzJiYobi5jb3B5PSEwLG4uY3V0PSEwKSksbn07dS5jbGlwYm9hcmQ9dS5kZXRlY3RDbGlwYm9hcmRBY2Nlc3MoKTt1Lnpvb21MZXZlbD1mdW5jdGlvbigpe3ZhciBuLHIsaTt0cnl7cmV0dXJuIG49dS5icm93c2VyLHI9MCxpPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxuLm1zaWUmJjExPT1uLnZlcnNpb24mJmkuc2Nyb2xsSGVpZ2h0PmkuY2xpZW50SGVpZ2h0JiYhdS50b3VjaCYmKHI9dS5zY3JvbGxiYXIoKSksdS50b3VjaD9pLmNsaWVudFdpZHRoL3QuaW5uZXJXaWR0aDpuLm1zaWUmJm4udmVyc2lvbj49MTA/KCh0b3B8fHQpLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRXaWR0aCtyKS8odG9wfHx0KS5pbm5lcldpZHRoOjF9Y2F0Y2goZil7cmV0dXJuIDF9fTt1LmNzc0JvcmRlclNwYWNpbmc9aSE9PWUuYm9yZGVyU3BhY2luZyYmISh1LmJyb3dzZXIubXNpZSYmdS5icm93c2VyLnZlcnNpb248OCksZnVuY3Rpb24odCl7dmFyIGk9IiIscj1uKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCksZj1wYXJzZUludCh0LnZlcnNpb24sMTApO3QubXNpZT9pPSJpZSI6dC5tb3ppbGxhP2k9ImZmIjp0LnNhZmFyaT9pPSJzYWZhcmkiOnQud2Via2l0P2k9IndlYmtpdCI6dC5vcGVyYT9pPSJvcGVyYSI6dC5lZGdlJiYoaT0iZWRnZSIpO2kmJihpPSJrLSIraSsiIGstIitpK2YpO3UubW9iaWxlT1MmJihpKz0iIGstbW9iaWxlIik7dS5jc3NGbGV4Ym94fHwoaSs9IiBrLW5vLWZsZXhib3giKTtyLmFkZENsYXNzKGkpfSh1LmJyb3dzZXIpO3UuZXZlbnRDYXB0dXJlPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyO2Y9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt1LnBsYWNlaG9sZGVyPSJwbGFjZWhvbGRlciJpbiBmO3UucHJvcGVydHlDaGFuZ2VFdmVudD0ib25wcm9wZXJ0eWNoYW5nZSJpbiBmO3UuaW5wdXQ9ZnVuY3Rpb24oKXtmb3IodmFyIG4saT1bIm51bWJlciIsImRhdGUiLCJ0aW1lIiwibW9udGgiLCJ3ZWVrIiwiZGF0ZXRpbWUiLCJkYXRldGltZS1sb2NhbCJdLGU9aS5sZW5ndGgscj0idGVzdCIsdT17fSx0PTA7dDxlO3QrKyluPWlbdF0sZi5zZXRBdHRyaWJ1dGUoInR5cGUiLG4pLGYudmFsdWU9cix1W24ucmVwbGFjZSgiLSIsIiIpXT0idGV4dCIhPT1mLnR5cGUmJmYudmFsdWUhPT1yO3JldHVybiB1fSgpO2Yuc3R5bGUuY3NzVGV4dD0iZmxvYXQ6bGVmdDsiO3UuY3NzRmxvYXQ9ISFmLnN0eWxlLmNzc0Zsb2F0O2Y9bnVsbDt1LnN0YWJsZVNvcnQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W3tpbmRleDowLGZpZWxkOiJiIn1dLG49MTtuPDUxMztuKyspdC5wdXNoKHtpbmRleDpuLGZpZWxkOiJhIn0pO3JldHVybiB0LnNvcnQoZnVuY3Rpb24obix0KXtyZXR1cm4gbi5maWVsZD50LmZpZWxkPzE6bi5maWVsZDx0LmZpZWxkPy0xOjB9KSwxPT09dFswXS5pbmRleH0oKTt1Lm1hdGNoZXNTZWxlY3Rvcj1zLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8cy5tb3pNYXRjaGVzU2VsZWN0b3J8fHMubXNNYXRjaGVzU2VsZWN0b3J8fHMub01hdGNoZXNTZWxlY3Rvcnx8cy5tYXRjaGVzU2VsZWN0b3J8fHMubWF0Y2hlc3x8ZnVuY3Rpb24odCl7Zm9yKHZhciBpPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw/KHRoaXMucGFyZW50Tm9kZXx8ZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwodCl8fFtdOm4odCkscj1pLmxlbmd0aDtyLS07KWlmKGlbcl09PXRoaXMpcmV0dXJuITA7cmV0dXJuITF9O3UubWF0Y2hNZWRpYT0ibWF0Y2hNZWRpYSJpbiB0O3UucHVzaFN0YXRlPXQuaGlzdG9yeSYmdC5oaXN0b3J5LnB1c2hTdGF0ZTthPWRvY3VtZW50LmRvY3VtZW50TW9kZTt1Lmhhc2hDaGFuZ2U9Im9uaGFzaGNoYW5nZSJpbiB0JiYhKHUuYnJvd3Nlci5tc2llJiYoIWF8fGE8PTgpKTt1LmN1c3RvbUVsZW1lbnRzPSJyZWdpc3RlckVsZW1lbnQiaW4gdC5kb2N1bWVudDt2PXUuYnJvd3Nlci5jaHJvbWU7eT11LmJyb3dzZXIuY3Jpb3M7cD11LmJyb3dzZXIubW96aWxsYTt3PXUuYnJvd3Nlci5zYWZhcmk7dS5tc1BvaW50ZXJzPSF2JiZ0Lk1TUG9pbnRlckV2ZW50O3UucG9pbnRlcnM9IXYmJiF5JiYhcCYmIXcmJnQuUG9pbnRlckV2ZW50O3Uua2luZXRpY1Njcm9sbE5lZWRlZD1yJiYodS50b3VjaHx8dS5tc1BvaW50ZXJzfHx1LnBvaW50ZXJzKX0oKTt2aT17bGVmdDp7cmV2ZXJzZToicmlnaHQifSxyaWdodDp7cmV2ZXJzZToibGVmdCJ9LGRvd246e3JldmVyc2U6InVwIn0sdXA6e3JldmVyc2U6ImRvd24ifSx0b3A6e3JldmVyc2U6ImJvdHRvbSJ9LGJvdHRvbTp7cmV2ZXJzZToidG9wIn0sImluIjp7cmV2ZXJzZToib3V0In0sb3V0OntyZXZlcnNlOiJpbiJ9fTt5PXt9O24uZXh0ZW5kKHkse2VuYWJsZWQ6ITAsRWxlbWVudDpmdW5jdGlvbih0KXt0aGlzLmVsZW1lbnQ9bih0KX0scHJvbWlzZTpmdW5jdGlvbihuLHQpe24uaXMoIjp2aXNpYmxlIil8fG4uY3NzKHtkaXNwbGF5Om4uZGF0YSgib2xkZGlzcGxheSIpfHwiYmxvY2sifSkuY3NzKCJkaXNwbGF5Iik7dC5oaWRlJiZuLmRhdGEoIm9sZGRpc3BsYXkiLG4uY3NzKCJkaXNwbGF5IikpLmhpZGUoKTt0LmluaXQmJnQuaW5pdCgpO3QuY29tcGxldGVDYWxsYmFjayYmdC5jb21wbGV0ZUNhbGxiYWNrKG4pO24uZGVxdWV1ZSgpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkPSExO3RoaXMucHJvbWlzZT10aGlzLnByb21pc2VTaGltfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9ITA7dGhpcy5wcm9taXNlPXRoaXMuYW5pbWF0ZWRQcm9taXNlfX0pO3kucHJvbWlzZVNoaW09eS5wcm9taXNlOyJrZW5kb0FuaW1hdGUiaW4gbi5mbnx8aChuLmZuLHtrZW5kb1N0b3A6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5zdG9wKG4sdCl9LGtlbmRvQW5pbWF0ZTpmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4gaWkodGhpcyxuLHQsaSxyKX0sa2VuZG9BZGRDbGFzczpmdW5jdGlvbihuLHQpe3JldHVybiByLnRvZ2dsZUNsYXNzKHRoaXMsbix0LCEwKX0sa2VuZG9SZW1vdmVDbGFzczpmdW5jdGlvbihuLHQpe3JldHVybiByLnRvZ2dsZUNsYXNzKHRoaXMsbix0LCExKX0sa2VuZG9Ub2dnbGVDbGFzczpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHIudG9nZ2xlQ2xhc3ModGhpcyxuLHQsaSl9fSk7eWk9LyYvZztwaT0vPC9nO3dpPS8iL2c7Ymk9LycvZztraT0vPi9nO2x0PWZ1bmN0aW9uKG4pe3JldHVybiBuLnRhcmdldH07dS50b3VjaCYmKGx0PWZ1bmN0aW9uKG4pe3ZhciB0PSJvcmlnaW5hbEV2ZW50ImluIG4/bi5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzOiJjaGFuZ2VkVG91Y2hlcyJpbiBuP24uY2hhbmdlZFRvdWNoZXM6bnVsbDtyZXR1cm4gdD9kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHRbMF0uY2xpZW50WCx0WzBdLmNsaWVudFkpOm4udGFyZ2V0fSxydChbInN3aXBlIiwic3dpcGVMZWZ0Iiwic3dpcGVSaWdodCIsInN3aXBlVXAiLCJzd2lwZURvd24iLCJkb3VibGVUYXAiLCJ0YXAiXSxmdW5jdGlvbih0LGkpe24uZm5baV09ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuYmluZChpLG4pfX0pKTt1LnRvdWNoP3UubW9iaWxlT1M/KHUubW91c2Vkb3duPSJ0b3VjaHN0YXJ0Iix1Lm1vdXNldXA9InRvdWNoZW5kIix1Lm1vdXNlbW92ZT0idG91Y2htb3ZlIix1Lm1vdXNlY2FuY2VsPSJ0b3VjaGNhbmNlbCIsdS5jbGljaz0idG91Y2hlbmQiLHUucmVzaXplPSJvcmllbnRhdGlvbmNoYW5nZSIpOih1Lm1vdXNlZG93bj0ibW91c2Vkb3duIHRvdWNoc3RhcnQiLHUubW91c2V1cD0ibW91c2V1cCB0b3VjaGVuZCIsdS5tb3VzZW1vdmU9Im1vdXNlbW92ZSB0b3VjaG1vdmUiLHUubW91c2VjYW5jZWw9Im1vdXNlbGVhdmUgdG91Y2hjYW5jZWwiLHUuY2xpY2s9ImNsaWNrIix1LnJlc2l6ZT0icmVzaXplIik6dS5wb2ludGVycz8odS5tb3VzZW1vdmU9InBvaW50ZXJtb3ZlIix1Lm1vdXNlZG93bj0icG9pbnRlcmRvd24iLHUubW91c2V1cD0icG9pbnRlcnVwIix1Lm1vdXNlY2FuY2VsPSJwb2ludGVyY2FuY2VsIix1LmNsaWNrPSJwb2ludGVydXAiLHUucmVzaXplPSJvcmllbnRhdGlvbmNoYW5nZSByZXNpemUiKTp1Lm1zUG9pbnRlcnM/KHUubW91c2Vtb3ZlPSJNU1BvaW50ZXJNb3ZlIix1Lm1vdXNlZG93bj0iTVNQb2ludGVyRG93biIsdS5tb3VzZXVwPSJNU1BvaW50ZXJVcCIsdS5tb3VzZWNhbmNlbD0iTVNQb2ludGVyQ2FuY2VsIix1LmNsaWNrPSJNU1BvaW50ZXJVcCIsdS5yZXNpemU9Im9yaWVudGF0aW9uY2hhbmdlIHJlc2l6ZSIpOih1Lm1vdXNlbW92ZT0ibW91c2Vtb3ZlIix1Lm1vdXNlZG93bj0ibW91c2Vkb3duIix1Lm1vdXNldXA9Im1vdXNldXAiLHUubW91c2VjYW5jZWw9Im1vdXNlbGVhdmUiLHUuY2xpY2s9ImNsaWNrIix1LnJlc2l6ZT0icmVzaXplIik7ZGk9ZnVuY3Rpb24obix0KXtmb3IodmFyIHIsaSxvPXR8fCJkIixlPTEsdT0wLGY9bi5sZW5ndGg7dTxmO3UrKylpPW5bdV0sIiIhPT1pJiYocj1pLmluZGV4T2YoIlsiKSwwIT09ciYmKHI9PS0xP2k9Ii4iK2k6KGUrKyxpPSIuIitpLnN1YnN0cmluZygwLHIpKyIgfHwge30pIitpLnN1YnN0cmluZyhyKSkpLGUrKyxvKz1pKyh1PGYtMT8iIHx8IHt9KSI6IikiKSk7cmV0dXJuIEFycmF5KGUpLmpvaW4oIigiKStvfTtnaT0vXihbYS16XSs6KT9cL1wvL2k7aChyLHt3aWRnZXRzOltdLF93aWRnZXRSZWdpc3RlcmVkQ2FsbGJhY2tzOltdLHVpOnIudWl8fHt9LGZ4OnIuZnh8fG51LGVmZmVjdHM6ci5lZmZlY3RzfHx5LG1vYmlsZTpyLm1vYmlsZXx8e30sZGF0YTpyLmRhdGF8fHt9LGRhdGF2aXo6ci5kYXRhdml6fHx7fSxkcmF3aW5nOnIuZHJhd2luZ3x8e30sc3ByZWFkc2hlZXQ6e21lc3NhZ2VzOnt9fSxrZXlzOntJTlNFUlQ6NDUsREVMRVRFOjQ2LEJBQ0tTUEFDRTo4LFRBQjo5LEVOVEVSOjEzLEVTQzoyNyxMRUZUOjM3LFVQOjM4LFJJR0hUOjM5LERPV046NDAsRU5EOjM1LEhPTUU6MzYsU1BBQ0VCQVI6MzIsUEFHRVVQOjMzLFBBR0VET1dOOjM0LEYyOjExMyxGMTA6MTIxLEYxMjoxMjMsTlVNUEFEX1BMVVM6MTA3LE5VTVBBRF9NSU5VUzoxMDksTlVNUEFEX0RPVDoxMTB9LHN1cHBvcnQ6ci5zdXBwb3J0fHx1LGFuaW1hdGU6ci5hbmltYXRlfHxpaSxuczoiIixhdHRyOmZ1bmN0aW9uKG4pe3JldHVybiJkYXRhLSIrci5ucytufSxnZXRTaGFkb3dzOnZyLHdyYXA6eXIsZGVlcEV4dGVuZDp0dCxnZXRDb21wdXRlZFN0eWxlczp0aSxpc1Njcm9sbGFibGU6d3Isc2Nyb2xsTGVmdDpicixzaXplOmtyLHRvQ2FtZWxDYXNlOm5pLHRvSHlwaGVuczpwcixnZXRPZmZzZXQ6ci5nZXRPZmZzZXR8fGRyLHBhcnNlRWZmZWN0czpyLnBhcnNlRWZmZWN0c3x8Z3IsdG9nZ2xlQ2xhc3M6ci50b2dnbGVDbGFzc3x8aXUsZGlyZWN0aW9uczpyLmRpcmVjdGlvbnN8fHZpLE9ic2VydmFibGU6aXQsQ2xhc3M6bnQsVGVtcGxhdGU6dix0ZW1wbGF0ZTpidCh2LmNvbXBpbGUsdikscmVuZGVyOmJ0KHYucmVuZGVyLHYpLHN0cmluZ2lmeTpidChmdC5zdHJpbmdpZnksZnQpLGV2ZW50VGFyZ2V0Omx0LGh0bWxFbmNvZGU6cnUsdW5lc2NhcGU6dXUsaXNMb2NhbFVybDpmdW5jdGlvbihuKXtyZXR1cm4gbiYmIWdpLnRlc3Qobil9LGV4cHI6ZnVuY3Rpb24obix0LGkpe3JldHVybiBuPW58fCIiLHR5cGVvZiB0PT1vJiYoaT10LHQ9ITEpLGk9aXx8ImQiLG4mJiJbIiE9PW4uY2hhckF0KDApJiYobj0iLiIrbiksdD8obj1uLnJlcGxhY2UoLyIoW14uXSopXC4oW14iXSopIi9nLCciJDFfJERPVCRfJDIiJyksbj1uLnJlcGxhY2UoLycoW14uXSopXC4oW14nXSopJy9nLCInJDFfJERPVCRfJDInIiksbj1kaShuLnNwbGl0KCIuIiksaSksbj1uLnJlcGxhY2UoL19cJERPVFwkXy9nLCIuIikpOm49aStuLG59LGdldHRlcjpmdW5jdGlvbihuLHQpe3ZhciBpPW4rdDtyZXR1cm4gaHJbaV09aHJbaV18fEZ1bmN0aW9uKCJkIiwicmV0dXJuICIrci5leHByKG4sdCkpfSxzZXR0ZXI6ZnVuY3Rpb24obil7cmV0dXJuIGNyW25dPWNyW25dfHxGdW5jdGlvbigiZCx2YWx1ZSIsci5leHByKG4pKyI9dmFsdWUiKX0sYWNjZXNzb3I6ZnVuY3Rpb24obil7cmV0dXJue2dldDpyLmdldHRlcihuKSxzZXQ6ci5zZXR0ZXIobil9fSxndWlkOmZ1bmN0aW9uKCl7Zm9yKHZhciB0LGk9IiIsbj0wO248MzI7bisrKXQ9MTYqYy5yYW5kb20oKXwwLDghPW4mJjEyIT1uJiYxNiE9biYmMjAhPW58fChpKz0iLSIpLGkrPSgxMj09bj80OjE2PT1uPzMmdHw4OnQpLnRvU3RyaW5nKDE2KTtyZXR1cm4gaX0scm9sZVNlbGVjdG9yOmZ1bmN0aW9uKG4pe3JldHVybiBuLnJlcGxhY2UoLyhcUyspL2csIlsiK3IuYXR0cigicm9sZSIpKyI9JDFdLCIpLnNsaWNlKDAsLTEpfSxkaXJlY3RpdmVTZWxlY3RvcjpmdW5jdGlvbihuKXt2YXIgdCxpPW4uc3BsaXQoIiAiKTtpZihpKWZvcih0PTA7dDxpLmxlbmd0aDt0KyspInZpZXciIT1pW3RdJiYoaVt0XT1pW3RdLnJlcGxhY2UoLyhcdyopKHZpZXd8YmFyfHN0cmlwfG92ZXIpJC8sIiQxLSQyIikpO3JldHVybiBpLmpvaW4oIiAiKS5yZXBsYWNlKC8oXFMrKS9nLCJrZW5kby1tb2JpbGUtJDEsIikuc2xpY2UoMCwtMSl9LHRyaWdnZXJlZEJ5SW5wdXQ6ZnVuY3Rpb24obil7cmV0dXJuL14obGFiZWx8aW5wdXR8dGV4dGFyZWF8c2VsZWN0KSQvaS50ZXN0KG4udGFyZ2V0LnRhZ05hbWUpfSxvbldpZGdldFJlZ2lzdGVyZWQ6ZnVuY3Rpb24obil7Zm9yKHZhciB0PTAsaT1yLndpZGdldHMubGVuZ3RoO3Q8aTt0KyspbihyLndpZGdldHNbdF0pO3IuX3dpZGdldFJlZ2lzdGVyZWRDYWxsYmFja3MucHVzaChuKX0sbG9nVG9Db25zb2xlOmZ1bmN0aW9uKG4sdSl7dmFyIGY9dC5jb25zb2xlOyFyLnN1cHByZXNzTG9nJiZpIT09ZiYmZi5sb2cmJmZbdXx8ImxvZyJdKG4pfX0pO3A9aXQuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4sdCl7dmFyIHUsaT10aGlzO2kuZWxlbWVudD1yLmpRdWVyeShuKS5oYW5kbGVyKGkpO2kuYW5ndWxhcigiaW5pdCIsdCk7aXQuZm4uaW5pdC5jYWxsKGkpO3U9dD90LmRhdGFTb3VyY2U6bnVsbDt1JiYodD1oKHt9LHQse2RhdGFTb3VyY2U6e319KSk7dD1pLm9wdGlvbnM9aCghMCx7fSxpLm9wdGlvbnMsaS5kZWZhdWx0cyx0KTt1JiYodC5kYXRhU291cmNlPXUpO2kuZWxlbWVudC5hdHRyKHIuYXR0cigicm9sZSIpKXx8aS5lbGVtZW50LmF0dHIoci5hdHRyKCJyb2xlIiksKHQubmFtZXx8IiIpLnRvTG93ZXJDYXNlKCkpO2kuZWxlbWVudC5kYXRhKCJrZW5kbyIrdC5wcmVmaXgrdC5uYW1lLGkpO2kuYmluZChpLmV2ZW50cyx0KX0sZXZlbnRzOltdLG9wdGlvbnM6e3ByZWZpeDoiIn0sX2hhc0JpbmRpbmdUYXJnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuZWxlbWVudFswXS5rZW5kb0JpbmRpbmdUYXJnZXR9LF90YWJpbmRleDpmdW5jdGlvbihuKXtuPW58fHRoaXMud3JhcHBlcjt2YXIgaT10aGlzLmVsZW1lbnQsdD0idGFiaW5kZXgiLHI9bi5hdHRyKHQpfHxpLmF0dHIodCk7aS5yZW1vdmVBdHRyKHQpO24uYXR0cih0LGlzTmFOKHIpPzA6cil9LHNldE9wdGlvbnM6ZnVuY3Rpb24odCl7dGhpcy5fc2V0RXZlbnRzKHQpO24uZXh0ZW5kKHRoaXMub3B0aW9ucyx0KX0sX3NldEV2ZW50czpmdW5jdGlvbihuKXtmb3IodmFyIGksdD10aGlzLHI9MCx1PXQuZXZlbnRzLmxlbmd0aDtyPHU7cisrKWk9dC5ldmVudHNbcl0sdC5vcHRpb25zW2ldJiZuW2ldJiYodC51bmJpbmQoaSx0Lm9wdGlvbnNbaV0pLHQuX2V2ZW50cyYmdC5fZXZlbnRzW2ldJiZkZWxldGUgdC5fZXZlbnRzW2ldKTt0LmJpbmQodC5ldmVudHMsbil9LHJlc2l6ZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLmdldFNpemUoKSxpPXRoaXMuX3NpemU7KG58fCh0LndpZHRoPjB8fHQuaGVpZ2h0PjApJiYoIWl8fHQud2lkdGghPT1pLndpZHRofHx0LmhlaWdodCE9PWkuaGVpZ2h0KSkmJih0aGlzLl9zaXplPXQsdGhpcy5fcmVzaXplKHQsbiksdGhpcy50cmlnZ2VyKCJyZXNpemUiLHQpKX0sZ2V0U2l6ZTpmdW5jdGlvbigpe3JldHVybiByLmRpbWVuc2lvbnModGhpcy5lbGVtZW50KX0sc2l6ZTpmdW5jdGlvbihuKXtyZXR1cm4gbj8odGhpcy5zZXRTaXplKG4pLGkpOnRoaXMuZ2V0U2l6ZSgpfSxzZXRTaXplOm4ubm9vcCxfcmVzaXplOm4ubm9vcCxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLmVsZW1lbnQucmVtb3ZlRGF0YSgia2VuZG8iK24ub3B0aW9ucy5wcmVmaXgrbi5vcHRpb25zLm5hbWUpO24uZWxlbWVudC5yZW1vdmVEYXRhKCJoYW5kbGVyIik7bi51bmJpbmQoKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3koKX0sYW5ndWxhcjpmdW5jdGlvbigpe30sX211dGVBbmd1bGFyUmViaW5kOmZ1bmN0aW9uKG4pe3RoaXMuX211dGVSZWJpbmQ9ITA7bi5jYWxsKHRoaXMpO3RoaXMuX211dGVSZWJpbmQ9ITF9fSk7YXQ9cC5leHRlbmQoe2RhdGFJdGVtczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFTb3VyY2UuZmxhdFZpZXcoKX0sX2FuZ3VsYXJJdGVtczpmdW5jdGlvbih0KXt2YXIgaT10aGlzO2kuYW5ndWxhcih0LGZ1bmN0aW9uKCl7cmV0dXJue2VsZW1lbnRzOmkuaXRlbXMoKSxkYXRhOm4ubWFwKGkuZGF0YUl0ZW1zKCksZnVuY3Rpb24obil7cmV0dXJue2RhdGFJdGVtOm59fSl9fSl9fSk7ci5kaW1lbnNpb25zPWZ1bmN0aW9uKG4sdCl7dmFyIGk9blswXTtyZXR1cm4gdCYmbi5jc3ModCkse3dpZHRoOmkub2Zmc2V0V2lkdGgsaGVpZ2h0Omkub2Zmc2V0SGVpZ2h0fX07ci5ub3RpZnk9dXQ7bnI9L3RlbXBsYXRlJC9pO3RyPS9eXHMqKD86XHsoPzoufFxyXG58XG4pKlx9fFxbKD86LnxcclxufFxuKSpcXSlccyokLztpcj0vXlx7KFxkKykoOlteXH1dKyk/XH18XlxbW0EtWmEtel9dK1xdJC87cnI9LyhbQS1aXSkvZztyLmluaXRXaWRnZXQ9ZnVuY3Rpb24odSxmLGUpe3ZhciBoLHAscyx2LGQsYyx3LGwsYixnLHksayxhO2lmKGU/ZS5yb2xlcyYmKGU9ZS5yb2xlcyk6ZT1yLnVpLnJvbGVzLHU9dS5ub2RlVHlwZT91OnVbMF0sYz11LmdldEF0dHJpYnV0ZSgiZGF0YS0iK3IubnMrInJvbGUiKSl7Yj1jLmluZGV4T2YoIi4iKT09PS0xO3M9Yj9lW2NdOnIuZ2V0dGVyKGMpKHQpO3k9bih1KS5kYXRhKCk7az1zPyJrZW5kbyIrcy5mbi5vcHRpb25zLnByZWZpeCtzLmZuLm9wdGlvbnMubmFtZToiIjtnPWI/UmVnRXhwKCJea2VuZG8uKiIrYysiJCIsImkiKTpSZWdFeHAoIl4iK2srIiQiLCJpIik7Zm9yKGEgaW4geSlpZihhLm1hdGNoKGcpKXtpZihhIT09aylyZXR1cm4geVthXTtoPXlbYV19aWYocyl7Zm9yKGw9Y3QodSwiZGF0YVNvdXJjZSIpLGY9bi5leHRlbmQoe30scmkodSxzLmZuLm9wdGlvbnMpLGYpLGwmJihmLmRhdGFTb3VyY2U9dHlwZW9mIGw9PT1vP3IuZ2V0dGVyKGwpKHQpOmwpLHY9MCxkPXMuZm4uZXZlbnRzLmxlbmd0aDt2PGQ7disrKXA9cy5mbi5ldmVudHNbdl0sdz1jdCh1LHApLHchPT1pJiYoZltwXT1yLmdldHRlcih3KSh0KSk7cmV0dXJuIGg/bi5pc0VtcHR5T2JqZWN0KGYpfHxoLnNldE9wdGlvbnMoZik6aD1uZXcgcyh1LGYpLGh9fX07ci5yb2xlc0Zyb21OYW1lc3BhY2VzPWZ1bmN0aW9uKG4pe3ZhciB0LGksdT1bXTtmb3IoblswXXx8KG49W3IudWksci5kYXRhdml6LnVpXSksdD0wLGk9bi5sZW5ndGg7dDxpO3QrKyl1W3RdPW5bdF0ucm9sZXM7cmV0dXJuIGguYXBwbHkobnVsbCxbe31dLmNvbmNhdCh1LnJldmVyc2UoKSkpfTtyLmluaXQ9ZnVuY3Rpb24odCl7dmFyIGk9ci5yb2xlc0Zyb21OYW1lc3BhY2VzKGt0LmNhbGwoYXJndW1lbnRzLDEpKTtuKHQpLmZpbmQoIltkYXRhLSIrci5ucysicm9sZV0iKS5hZGRCYWNrKCkuZWFjaChmdW5jdGlvbigpe3IuaW5pdFdpZGdldCh0aGlzLHt9LGkpfSl9O3IuZGVzdHJveT1mdW5jdGlvbih0KXtuKHQpLmZpbmQoIltkYXRhLSIrci5ucysicm9sZV0iKS5hZGRCYWNrKCkuZWFjaChmdW5jdGlvbigpe3ZhciB0LGk9bih0aGlzKS5kYXRhKCk7Zm9yKHQgaW4gaSkwPT09dC5pbmRleE9mKCJrZW5kbyIpJiZ0eXBlb2YgaVt0XS5kZXN0cm95PT09bCYmaVt0XS5kZXN0cm95KCl9KX07ci5yZXNpemU9ZnVuY3Rpb24odCxpKXt2YXIgdSxmPW4odCkuZmluZCgiW2RhdGEtIityLm5zKyJyb2xlXSIpLmFkZEJhY2soKS5maWx0ZXIoZXUpO2YubGVuZ3RoJiYodT1uLm1ha2VBcnJheShmKSx1LnNvcnQoZnUpLG4uZWFjaCh1LGZ1bmN0aW9uKCl7dmFyIHQ9ci53aWRnZXRJbnN0YW5jZShuKHRoaXMpKTt0JiZ0LnJlc2l6ZShpKX0pKX07ci5wYXJzZU9wdGlvbnM9cmk7aChyLnVpLHtXaWRnZXQ6cCxEYXRhQm91bmRXaWRnZXQ6YXQscm9sZXM6e30scHJvZ3Jlc3M6ZnVuY3Rpb24odCxpLHUpe3ZhciBlLHMsaCxvLGMsZj10LmZpbmQoIi5rLWxvYWRpbmctbWFzayIpLGw9ci5zdXBwb3J0LGE9bC5icm93c2VyO3U9bi5leHRlbmQoe30se3dpZHRoOiIxMDAlIixoZWlnaHQ6IjEwMCUiLHRvcDp0LnNjcm9sbFRvcCgpLG9wYWNpdHk6ITF9LHUpO2M9dS5vcGFjaXR5PyJrLWxvYWRpbmctbWFzayBrLW9wYXF1ZSI6ImstbG9hZGluZy1tYXNrIjtpP2YubGVuZ3RofHwoZT1sLmlzUnRsKHQpLHM9ZT8icmlnaHQiOiJsZWZ0IixvPXQuc2Nyb2xsTGVmdCgpLGg9YS53ZWJraXQmJmU/dFswXS5zY3JvbGxXaWR0aC10LndpZHRoKCktMipvOjAsZj1uKHIuZm9ybWF0KCI8ZGl2IGNsYXNzPSd7MH0nPjxzcGFuIGNsYXNzPSdrLWxvYWRpbmctdGV4dCc+ezF9PFwvc3Bhbj48ZGl2IGNsYXNzPSdrLWxvYWRpbmctaW1hZ2UnLz48ZGl2IGNsYXNzPSdrLWxvYWRpbmctY29sb3InLz48XC9kaXY+IixjLHIudWkucHJvZ3Jlc3MubWVzc2FnZXMubG9hZGluZykpLndpZHRoKHUud2lkdGgpLmhlaWdodCh1LmhlaWdodCkuY3NzKCJ0b3AiLHUudG9wKS5jc3MocyxNYXRoLmFicyhvKStoKS5wcmVwZW5kVG8odCkpOmYmJmYucmVtb3ZlKCl9LHBsdWdpbjpmdW5jdGlvbih0LHUsZil7dmFyIGMsaCxzLGEsZT10LmZuLm9wdGlvbnMubmFtZTtmb3IodT11fHxyLnVpLGY9Znx8IiIsdVtlXT10LHUucm9sZXNbZS50b0xvd2VyQ2FzZSgpXT10LGM9ImdldEtlbmRvIitmK2UsZT0ia2VuZG8iK2YrZSxoPXtuYW1lOmUsd2lkZ2V0OnQscHJlZml4OmZ8fCIifSxyLndpZGdldHMucHVzaChoKSxzPTAsYT1yLl93aWRnZXRSZWdpc3RlcmVkQ2FsbGJhY2tzLmxlbmd0aDtzPGE7cysrKXIuX3dpZGdldFJlZ2lzdGVyZWRDYWxsYmFja3Nbc10oaCk7bi5mbltlXT1mdW5jdGlvbih1KXt2YXIgZixzPXRoaXM7cmV0dXJuIHR5cGVvZiB1PT09bz8oZj1rdC5jYWxsKGFyZ3VtZW50cywxKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdCxvLGg9bi5kYXRhKHRoaXMsZSk7aWYoIWgpdGhyb3cgRXJyb3Ioci5mb3JtYXQoIkNhbm5vdCBjYWxsIG1ldGhvZCAnezB9JyBvZiB7MX0gYmVmb3JlIGl0IGlzIGluaXRpYWxpemVkIix1LGUpKTtpZih0PWhbdV0sdHlwZW9mIHQhPT1sKXRocm93IEVycm9yKHIuZm9ybWF0KCJDYW5ub3QgZmluZCBtZXRob2QgJ3swfScgb2YgezF9Iix1LGUpKTtpZihvPXQuYXBwbHkoaCxmKSxvIT09aSlyZXR1cm4gcz1vLCExfSkpOnRoaXMuZWFjaChmdW5jdGlvbigpe3JldHVybiBuZXcgdCh0aGlzLHUpfSksc307bi5mbltlXS53aWRnZXQ9dDtuLmZuW2NdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YShlKX19fSk7ci51aS5wcm9ncmVzcy5tZXNzYWdlcz17bG9hZGluZzoiTG9hZGluZy4uLiJ9O3Z0PXtiaW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LG51bGxPYmplY3Q6ITAsb3B0aW9uczp7fX07eXQ9cC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24obix0KXtwLmZuLmluaXQuY2FsbCh0aGlzLG4sdCk7dGhpcy5lbGVtZW50LmF1dG9BcHBseU5TKCk7dGhpcy53cmFwcGVyPXRoaXMuZWxlbWVudDt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoImttLXdpZGdldCIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7cC5mbi5kZXN0cm95LmNhbGwodGhpcyk7dGhpcy5lbGVtZW50LmtlbmRvRGVzdHJveSgpfSxvcHRpb25zOntwcmVmaXg6Ik1vYmlsZSJ9LGV2ZW50czpbXSx2aWV3OmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5lbGVtZW50LmNsb3Nlc3Qoci5yb2xlU2VsZWN0b3IoInZpZXcgc3BsaXR2aWV3IG1vZGFsdmlldyBkcmF3ZXIiKSk7cmV0dXJuIHIud2lkZ2V0SW5zdGFuY2UobixyLm1vYmlsZS51aSl8fHZ0fSx2aWV3SGFzTmF0aXZlU2Nyb2xsaW5nOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy52aWV3KCk7cmV0dXJuIG4mJm4ub3B0aW9ucy51c2VOYXRpdmVTY3JvbGxpbmd9LGNvbnRhaW5lcjpmdW5jdGlvbigpe3ZhciBuPXRoaXMuZWxlbWVudC5jbG9zZXN0KHIucm9sZVNlbGVjdG9yKCJ2aWV3IGxheW91dCBtb2RhbHZpZXcgZHJhd2VyIHNwbGl0dmlldyIpKTtyZXR1cm4gci53aWRnZXRJbnN0YW5jZShuLmVxKDApLHIubW9iaWxlLnVpKXx8dnR9fSk7aChyLm1vYmlsZSx7aW5pdDpmdW5jdGlvbihuKXtyLmluaXQobixyLm1vYmlsZS51aSxyLnVpLHIuZGF0YXZpei51aSl9LGFwcExldmVsTmF0aXZlU2Nyb2xsaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHIubW9iaWxlLmFwcGxpY2F0aW9uJiZyLm1vYmlsZS5hcHBsaWNhdGlvbi5vcHRpb25zJiZyLm1vYmlsZS5hcHBsaWNhdGlvbi5vcHRpb25zLnVzZU5hdGl2ZVNjcm9sbGluZ30scm9sZXM6e30sdWk6e1dpZGdldDp5dCxEYXRhQm91bmRXaWRnZXQ6YXQuZXh0ZW5kKHl0LnByb3RvdHlwZSkscm9sZXM6e30scGx1Z2luOmZ1bmN0aW9uKG4pe3IudWkucGx1Z2luKG4sci5tb2JpbGUudWksIk1vYmlsZSIpfX19KTt0dChyLmRhdGF2aXose2luaXQ6ZnVuY3Rpb24obil7ci5pbml0KG4sci5kYXRhdml6LnVpKX0sdWk6e3JvbGVzOnt9LHRoZW1lczp7fSx2aWV3czpbXSxwbHVnaW46ZnVuY3Rpb24obil7ci51aS5wbHVnaW4obixyLmRhdGF2aXoudWkpfX0scm9sZXM6e319KTtyLnRvdWNoU2Nyb2xsZXI9ZnVuY3Rpb24odCxpKXtyZXR1cm4gaXx8KGk9e30pLGkudXNlTmF0aXZlPSEwLG4odCkubWFwKGZ1bmN0aW9uKHQsZil7cmV0dXJuIGY9bihmKSwhKCF1LmtpbmV0aWNTY3JvbGxOZWVkZWR8fCFyLm1vYmlsZS51aS5TY3JvbGxlcnx8Zi5kYXRhKCJrZW5kb01vYmlsZVNjcm9sbGVyIikpJiYoZi5rZW5kb01vYmlsZVNjcm9sbGVyKGkpLGYuZGF0YSgia2VuZG9Nb2JpbGVTY3JvbGxlciIpKX0pWzBdfTtyLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX07ci53aWRnZXRJbnN0YW5jZT1mdW5jdGlvbihuLGkpe3ZhciBmLG8saCxzLGMsdT1uLmRhdGEoci5ucysicm9sZSIpLGU9W10sbD1uLmRhdGEoImtlbmRvVmlldyIpO2lmKHUpe2lmKCJjb250ZW50Ij09PXUmJih1PSJzY3JvbGxlciIpLCJlZGl0b3J0b29sYmFyIj09PXUmJihoPW4uZGF0YSgia2VuZG9FZGl0b3JUb29sYmFyIikpKXJldHVybiBoO2lmKCJ2aWV3Ij09PXUmJmwpcmV0dXJuIGw7aWYoaSlpZihpWzBdKWZvcihmPTAsbz1pLmxlbmd0aDtmPG87ZisrKWUucHVzaChpW2ZdLnJvbGVzW3VdKTtlbHNlIGUucHVzaChpLnJvbGVzW3VdKTtlbHNlIGU9W3IudWkucm9sZXNbdV0sci5kYXRhdml6LnVpLnJvbGVzW3VdLHIubW9iaWxlLnVpLnJvbGVzW3VdXTtmb3IodS5pbmRleE9mKCIuIik+PTAmJihlPVtyLmdldHRlcih1KSh0KV0pLGY9MCxvPWUubGVuZ3RoO2Y8bztmKyspaWYocz1lW2ZdLHMmJihjPW4uZGF0YSgia2VuZG8iK3MuZm4ub3B0aW9ucy5wcmVmaXgrcy5mbi5vcHRpb25zLm5hbWUpKSlyZXR1cm4gY319O3Iub25SZXNpemU9ZnVuY3Rpb24oaSl7dmFyIHI9aTtyZXR1cm4gdS5tb2JpbGVPUy5hbmRyb2lkJiYocj1mdW5jdGlvbigpe3NldFRpbWVvdXQoaSw2MDApfSksbih0KS5vbih1LnJlc2l6ZSxyKSxyfTtyLnVuYmluZFJlc2l6ZT1mdW5jdGlvbihpKXtuKHQpLm9mZih1LnJlc2l6ZSxpKX07ci5hdHRyVmFsdWU9ZnVuY3Rpb24obix0KXtyZXR1cm4gbi5kYXRhKHIubnMrdCl9O3IuZGF5cz17U3VuZGF5OjAsTW9uZGF5OjEsVHVlc2RheToyLFdlZG5lc2RheTozLFRodXJzZGF5OjQsRnJpZGF5OjUsU2F0dXJkYXk6Nn07bi5leHRlbmQobi5leHByLnBzZXVkb3Mse2tlbmRvRm9jdXNhYmxlOmZ1bmN0aW9uKHQpe3ZhciBpPW4uYXR0cih0LCJ0YWJpbmRleCIpO3JldHVybiBvdSh0LCFpc05hTihpKSYmaT4tMSl9fSk7cHQ9WyJtb3VzZWRvd24iLCJtb3VzZW1vdmUiLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSIsIm1vdXNlb3ZlciIsIm1vdXNlb3V0IiwibW91c2V1cCIsImNsaWNrIl07dXI9ImxhYmVsLCBpbnB1dCwgW2RhdGEtcmVsPWV4dGVybmFsXSI7ZT17c2V0dXBNb3VzZU11dGU6ZnVuY3Rpb24oKXt2YXIgaSx0PTAscj1wdC5sZW5ndGgsZj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7aWYoIWUubW91c2VUcmFwJiZ1LmV2ZW50Q2FwdHVyZSlmb3IoZS5tb3VzZVRyYXA9ITAsZS5idXN0Q2xpY2s9ITEsZS5jYXB0dXJlTW91c2U9ITEsaT1mdW5jdGlvbih0KXtlLmNhcHR1cmVNb3VzZSYmKCJjbGljayI9PT10LnR5cGU/ZS5idXN0Q2xpY2smJiFuKHQudGFyZ2V0KS5pcyh1cikmJih0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSk6dC5zdG9wUHJvcGFnYXRpb24oKSl9O3Q8cjt0KyspZi5hZGRFdmVudExpc3RlbmVyKHB0W3RdLGksITApfSxtdXRlTW91c2U6ZnVuY3Rpb24obil7ZS5jYXB0dXJlTW91c2U9ITA7bi5kYXRhLmJ1c3RDbGljayYmKGUuYnVzdENsaWNrPSEwKTtjbGVhclRpbWVvdXQoZS5tb3VzZVRyYXBUaW1lb3V0SUQpfSx1bk11dGVNb3VzZTpmdW5jdGlvbigpe2NsZWFyVGltZW91dChlLm1vdXNlVHJhcFRpbWVvdXRJRCk7ZS5tb3VzZVRyYXBUaW1lb3V0SUQ9c2V0VGltZW91dChmdW5jdGlvbigpe2UuY2FwdHVyZU1vdXNlPSExO2UuYnVzdENsaWNrPSExfSw0MDApfX07dz17ZG93bjoidG91Y2hzdGFydCBtb3VzZWRvd24iLG1vdmU6Im1vdXNlbW92ZSB0b3VjaG1vdmUiLHVwOiJtb3VzZXVwIHRvdWNoZW5kIHRvdWNoY2FuY2VsIixjYW5jZWw6Im1vdXNlbGVhdmUgdG91Y2hjYW5jZWwifTt1LnRvdWNoJiYodS5tb2JpbGVPUy5pb3N8fHUubW9iaWxlT1MuYW5kcm9pZCk/dz17ZG93bjoidG91Y2hzdGFydCIsbW92ZToidG91Y2htb3ZlIix1cDoidG91Y2hlbmQgdG91Y2hjYW5jZWwiLGNhbmNlbDoidG91Y2hjYW5jZWwifTp1LnBvaW50ZXJzP3c9e2Rvd246InBvaW50ZXJkb3duIixtb3ZlOiJwb2ludGVybW92ZSIsdXA6InBvaW50ZXJ1cCIsY2FuY2VsOiJwb2ludGVyY2FuY2VsIHBvaW50ZXJsZWF2ZSJ9OnUubXNQb2ludGVycyYmKHc9e2Rvd246Ik1TUG9pbnRlckRvd24iLG1vdmU6Ik1TUG9pbnRlck1vdmUiLHVwOiJNU1BvaW50ZXJVcCIsY2FuY2VsOiJNU1BvaW50ZXJDYW5jZWwgTVNQb2ludGVyTGVhdmUifSk7IXUubXNQb2ludGVyc3x8Im9ubXNwb2ludGVyZW50ZXIiaW4gdHx8bi5lYWNoKHtNU1BvaW50ZXJFbnRlcjoiTVNQb2ludGVyT3ZlciIsTVNQb2ludGVyTGVhdmU6Ik1TUG9pbnRlck91dCJ9LGZ1bmN0aW9uKHQsaSl7bi5ldmVudC5zcGVjaWFsW3RdPXtkZWxlZ2F0ZVR5cGU6aSxiaW5kVHlwZTppLGhhbmRsZTpmdW5jdGlvbih0KXt2YXIgdSxmPXRoaXMscj10LnJlbGF0ZWRUYXJnZXQsZT10LmhhbmRsZU9iajtyZXR1cm4gciYmKHI9PT1mfHxuLmNvbnRhaW5zKGYscikpfHwodC50eXBlPWUub3JpZ1R5cGUsdT1lLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpLHQudHlwZT1pKSx1fX19KTtmcj1mdW5jdGlvbihuKXtyZXR1cm4gd1tuXXx8bn07d3Q9LyhbXiBdKykvZztyLmFwcGx5RXZlbnRNYXA9ZnVuY3Rpb24obix0KXtyZXR1cm4gbj1uLnJlcGxhY2Uod3QsZnIpLHQmJihuPW4ucmVwbGFjZSh3dCwiJDEuIit0KSksbn07ci5rZXlEb3duSGFuZGxlcj1mdW5jdGlvbihuLHQpe3ZhciByLHUsaT10Ll9ldmVudHMua2VuZG9LZXlkb3duO2lmKCFpKXJldHVybiEwO2ZvcihpPWkuc2xpY2UoKSxuLnNlbmRlcj10LG4ucHJldmVudEtlbmRvS2V5ZG93bj0hMSxyPTAsdT1pLmxlbmd0aDtyPHU7cisrKWlbcl0uY2FsbCh0LG4pO3JldHVybiFuLnByZXZlbnRLZW5kb0tleWRvd259O2c9bi5mbi5vbjtscighMCxzLG4pO3MuZm49cy5wcm90b3R5cGU9bmV3IG47cy5mbi5jb25zdHJ1Y3Rvcj1zO3MuZm4uaW5pdD1mdW5jdGlvbih0LGkpe3JldHVybiBpJiZpIGluc3RhbmNlb2YgbiYmIShpIGluc3RhbmNlb2YgcykmJihpPXMoaSkpLG4uZm4uaW5pdC5jYWxsKHRoaXMsdCxpLGVyKX07cy5mbi5pbml0LnByb3RvdHlwZT1zLmZuO2VyPXMoZG9jdW1lbnQpO2gocy5mbix7aGFuZGxlcjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5kYXRhKCJoYW5kbGVyIixuKSx0aGlzfSxhdXRvQXBwbHlOUzpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5kYXRhKCJrZW5kb05TIixufHxyLmd1aWQoKSksdGhpc30sb246ZnVuY3Rpb24oKXt2YXIgcyxuLGYsaSxoLGMsbCxhLHQ9dGhpcyx2PXQuZGF0YSgia2VuZG9OUyIpO3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD9nLmNhbGwodCxhcmd1bWVudHNbMF0pOihzPXQsbj1rdC5jYWxsKGFyZ3VtZW50cyksdHlwZW9mIG5bbi5sZW5ndGgtMV09PT1zdCYmbi5wb3AoKSxmPW5bbi5sZW5ndGgtMV0saT1yLmFwcGx5RXZlbnRNYXAoblswXSx2KSx1Lm1vdXNlQW5kVG91Y2hQcmVzZW50JiZpLnNlYXJjaCgvbW91c2V8Y2xpY2svKT4tMSYmdGhpc1swXSE9PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmKGUuc2V0dXBNb3VzZU11dGUoKSxoPTI9PT1uLmxlbmd0aD9udWxsOm5bMV0sYz1pLmluZGV4T2YoImNsaWNrIik+LTEmJmkuaW5kZXhPZigidG91Y2hlbmQiKT4tMSxnLmNhbGwodGhpcyx7dG91Y2hzdGFydDplLm11dGVNb3VzZSx0b3VjaGVuZDplLnVuTXV0ZU1vdXNlfSxoLHtidXN0Q2xpY2s6Y30pKSxhcmd1bWVudHNbMF0uaW5kZXhPZigia2V5ZG93biIpIT09LTEmJm5bMV0mJm5bMV0ub3B0aW9ucz8oblswXT1pLGw9blsxXSxhPW5bbi5sZW5ndGgtMV0sbltuLmxlbmd0aC0xXT1mdW5jdGlvbihuKXtpZihyLmtleURvd25IYW5kbGVyKG4sbCkpcmV0dXJuIGEuYXBwbHkodGhpcyxbbl0pfSxnLmFwcGx5KHQsbiksdCk6KHR5cGVvZiBmPT09byYmKHM9dC5kYXRhKCJoYW5kbGVyIiksZj1zW2ZdLG5bbi5sZW5ndGgtMV09ZnVuY3Rpb24obil7Zi5jYWxsKHMsbil9KSxuWzBdPWksZy5hcHBseSh0LG4pLHQpKX0sa2VuZG9EZXN0cm95OmZ1bmN0aW9uKG4pe3JldHVybiBuPW58fHRoaXMuZGF0YSgia2VuZG9OUyIpLG4mJnRoaXMub2ZmKCIuIituKSx0aGlzfX0pO3IualF1ZXJ5PXM7ci5ldmVudE1hcD13O3IudGltZXpvbmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGkscil7dmFyIHUsbyxzLGM9clszXSxlPXJbNF0sZj1yWzVdLGg9cls4XTtyZXR1cm4gaHx8KHJbOF09aD17fSksaFtpXT9oW2ldOihpc05hTihlKT8wPT09ZS5pbmRleE9mKCJsYXN0Iik/KHU9bmV3IERhdGUoRGF0ZS5VVEMoaSxuW2NdKzEsMSxmWzBdLTI0LGZbMV0sZlsyXSwwKSksbz10W2Uuc3Vic3RyKDQsMyldLHM9dS5nZXRVVENEYXkoKSx1LnNldFVUQ0RhdGUodS5nZXRVVENEYXRlKCkrby1zLShvPnM/NzowKSkpOmUuaW5kZXhPZigiPj0iKT49MD8odT1uZXcgRGF0ZShEYXRlLlVUQyhpLG5bY10sZS5zdWJzdHIoNSksZlswXSxmWzFdLGZbMl0sMCkpLG89dFtlLnN1YnN0cigwLDMpXSxzPXUuZ2V0VVRDRGF5KCksdS5zZXRVVENEYXRlKHUuZ2V0VVRDRGF0ZSgpK28tcysobzxzPzc6MCkpKTplLmluZGV4T2YoIjw9Iik+PTAmJih1PW5ldyBEYXRlKERhdGUuVVRDKGksbltjXSxlLnN1YnN0cig1KSxmWzBdLGZbMV0sZlsyXSwwKSksbz10W2Uuc3Vic3RyKDAsMyldLHM9dS5nZXRVVENEYXkoKSx1LnNldFVUQ0RhdGUodS5nZXRVVENEYXRlKCkrby1zLShvPnM/NzowKSkpOnU9bmV3IERhdGUoRGF0ZS5VVEMoaSxuW2NdLGUsZlswXSxmWzFdLGZbMl0sMCkpLGhbaV09dSl9ZnVuY3Rpb24gZihuLHQscil7dmFyIGYsZSx1LG87cmV0dXJuKHQ9dFtyXSk/KHU9bmV3IERhdGUobikuZ2V0VVRDRnVsbFllYXIoKSx0PWpRdWVyeS5ncmVwKHQsZnVuY3Rpb24obil7dmFyIGk9blswXSx0PW5bMV07cmV0dXJuIGk8PXUmJih0Pj11fHxpPT11JiYib25seSI9PXR8fCJtYXgiPT10KX0pLHQucHVzaChuKSx0LnNvcnQoZnVuY3Rpb24obix0KXtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIG4mJihuPStpKHUsbikpLCJudW1iZXIiIT10eXBlb2YgdCYmKHQ9K2kodSx0KSksbi10fSksbz10W2pRdWVyeS5pbkFycmF5KG4sdCktMV18fHRbdC5sZW5ndGgtMV0saXNOYU4obyk/bzpudWxsKTooZj1yLnNwbGl0KCI6IiksZT0wLGYubGVuZ3RoPjEmJihlPTYwKmZbMF0rICtmWzFdKSxbLTFlNiwibWF4IiwiLSIsIkphbiIsMSxbMCwwLDBdLGUsIi0iXSl9ZnVuY3Rpb24gZShuLHQsaSl7dmFyIHUsZixlLHI9dFtpXTtpZigic3RyaW5nIj09dHlwZW9mIHImJihyPXRbcl0pLCFyKXRocm93IEVycm9yKCdUaW1lem9uZSAiJytpKyciIGlzIGVpdGhlciBpbmNvcnJlY3QsIG9yIGtlbmRvLnRpbWV6b25lcy5taW4uanMgaXMgbm90IGluY2x1ZGVkLicpO2Zvcih1PXIubGVuZ3RoLTE7dT49MCYmKGY9clt1XVszXSwhKGYmJm4+ZikpO3UtLSk7aWYoZT1yW3UrMV0sIWUpdGhyb3cgRXJyb3IoJ1RpbWV6b25lICInK2krJyIgbm90IGZvdW5kIG9uICcrbisiLiIpO3JldHVybiBlfWZ1bmN0aW9uIHUobix0LGkscil7dHlwZW9mIG4hPWImJihuPURhdGUuVVRDKG4uZ2V0RnVsbFllYXIoKSxuLmdldE1vbnRoKCksbi5nZXREYXRlKCksbi5nZXRIb3VycygpLG4uZ2V0TWludXRlcygpLG4uZ2V0U2Vjb25kcygpLG4uZ2V0TWlsbGlzZWNvbmRzKCkpKTt2YXIgdT1lKG4sdCxyKTtyZXR1cm57em9uZTp1LHJ1bGU6ZihuLGksdVsxXSl9fWZ1bmN0aW9uIHMobix0KXt2YXIgaSxmLGU7cmV0dXJuIkV0Yy9VVEMiPT10fHwiRXRjL0dNVCI9PXQ/MDooaT11KG4sdGhpcy56b25lcyx0aGlzLnJ1bGVzLHQpLGY9aS56b25lLGU9aS5ydWxlLHIucGFyc2VGbG9hdChlP2ZbMF0tZVs2XTpmWzBdKSl9ZnVuY3Rpb24gaChuLHQpe3ZhciBmPXUobix0aGlzLnpvbmVzLHRoaXMucnVsZXMsdCksZT1mLnpvbmUsaT1mLnJ1bGUscj1lWzJdO3JldHVybiByLmluZGV4T2YoIi8iKT49MD9yLnNwbGl0KCIvIilbaSYmK2lbNl0/MTowXTpyLmluZGV4T2YoIiVzIik+PTA/ci5yZXBsYWNlKCIlcyIsaSYmIi0iIT1pWzddP2lbN106IiIpOnJ9ZnVuY3Rpb24gYyhuLHQsaSl7dmFyIHUsZixlLHI9aTtyZXR1cm4gdHlwZW9mIHQ9PW8mJih0PXRoaXMub2Zmc2V0KG4sdCkpLHR5cGVvZiBpPT1vJiYoaT10aGlzLm9mZnNldChuLGkpKSxmPW4uZ2V0VGltZXpvbmVPZmZzZXQoKSxuPW5ldyBEYXRlKG4uZ2V0VGltZSgpKzZlNCoodC1pKSksZT1uLmdldFRpbWV6b25lT2Zmc2V0KCksdHlwZW9mIHI9PW8mJihyPXRoaXMub2Zmc2V0KG4scikpLHU9ZS1mKyhpLXIpLG5ldyBEYXRlKG4uZ2V0VGltZSgpKzZlNCp1KX1mdW5jdGlvbiBsKG4sdCl7cmV0dXJuIHRoaXMuY29udmVydChuLG4uZ2V0VGltZXpvbmVPZmZzZXQoKSx0KX1mdW5jdGlvbiBhKG4sdCl7cmV0dXJuIHRoaXMuY29udmVydChuLHQsbi5nZXRUaW1lem9uZU9mZnNldCgpKX1mdW5jdGlvbiB2KG4pe3JldHVybiB0aGlzLmFwcGx5KG5ldyBEYXRlKG4pLCJFdGMvVVRDIil9dmFyIG49e0phbjowLEZlYjoxLE1hcjoyLEFwcjozLE1heTo0LEp1bjo1LEp1bDo2LEF1Zzo3LFNlcDo4LE9jdDo5LE5vdjoxMCxEZWM6MTF9LHQ9e1N1bjowLE1vbjoxLFR1ZToyLFdlZDozLFRodTo0LEZyaTo1LFNhdDo2fTtyZXR1cm57em9uZXM6e30scnVsZXM6e30sb2Zmc2V0OnMsY29udmVydDpjLGFwcGx5OmwscmVtb3ZlOmEsYWJicjpoLHRvTG9jYWxEYXRlOnZ9fSgpO3IuZGF0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHUobix0KXtyZXR1cm4gMD09PXQmJjIzPT09bi5nZXRIb3VycygpJiYobi5zZXRIb3VycyhuLmdldEhvdXJzKCkrMiksITApfWZ1bmN0aW9uIGMobix0LGkpe3ZhciByPW4uZ2V0SG91cnMoKTtpPWl8fDE7dD0odC1uLmdldERheSgpKzcqaSklNztuLnNldERhdGUobi5nZXREYXRlKCkrdCk7dShuLHIpfWZ1bmN0aW9uIGwobix0LGkpe3JldHVybiBuPW5ldyBEYXRlKG4pLGMobix0LGkpLG59ZnVuY3Rpb24gYShuKXtyZXR1cm4gbmV3IERhdGUobi5nZXRGdWxsWWVhcigpLG4uZ2V0TW9udGgoKSwxKX1mdW5jdGlvbiBwKG4pe3ZhciB0PW5ldyBEYXRlKG4uZ2V0RnVsbFllYXIoKSxuLmdldE1vbnRoKCkrMSwwKSxpPWEobikscj1NYXRoLmFicyh0LmdldFRpbWV6b25lT2Zmc2V0KCktaS5nZXRUaW1lem9uZU9mZnNldCgpKTtyZXR1cm4gciYmdC5zZXRIb3VycyhpLmdldEhvdXJzKCkrci82MCksdH1mdW5jdGlvbiB3KHQsaSl7cmV0dXJuIDEhPT1pP24obCh0LGksLTEpLDQpOm4odCw0LSh0LmdldERheSgpfHw3KSl9ZnVuY3Rpb24gbyhuLGkpe3ZhciByPW5ldyBEYXRlKG4uZ2V0RnVsbFllYXIoKSwwLDEsLTYpLHU9dyhuLGkpLGY9dS5nZXRUaW1lKCktci5nZXRUaW1lKCksZT1NYXRoLmZsb29yKGYvdCk7cmV0dXJuIDErTWF0aC5mbG9vcihlLzcpfWZ1bmN0aW9uIGIodCx1KXt2YXIgZSxzLGY7cmV0dXJuIHU9PT1pJiYodT1yLmN1bHR1cmUoKS5jYWxlbmRhci5maXJzdERheSksZT1uKHQsLTcpLHM9bih0LDcpLGY9byh0LHUpLDA9PT1mP28oZSx1KSsxOjUzPT09ZiYmbyhzLHUpPjE/MTpmfWZ1bmN0aW9uIGYobil7cmV0dXJuIG49bmV3IERhdGUobi5nZXRGdWxsWWVhcigpLG4uZ2V0TW9udGgoKSxuLmdldERhdGUoKSwwLDAsMCksdShuLDApLG59ZnVuY3Rpb24gayhuKXtyZXR1cm4gRGF0ZS5VVEMobi5nZXRGdWxsWWVhcigpLG4uZ2V0TW9udGgoKSxuLmdldERhdGUoKSxuLmdldEhvdXJzKCksbi5nZXRNaW51dGVzKCksbi5nZXRTZWNvbmRzKCksbi5nZXRNaWxsaXNlY29uZHMoKSl9ZnVuY3Rpb24gZShuKXtyZXR1cm4gcyhuKS5nZXRUaW1lKCktZihzKG4pKX1mdW5jdGlvbiBkKG4saSxyKXt2YXIgdSxmPWUoaSksbz1lKHIpO3JldHVybiFufHxmPT1vfHwoaT49ciYmKHIrPXQpLHU9ZShuKSxmPnUmJih1Kz10KSxvPGYmJihvKz10KSx1Pj1mJiZ1PD1vKX1mdW5jdGlvbiBnKG4saSxyKXt2YXIgdSxlPWkuZ2V0VGltZSgpLGY9ci5nZXRUaW1lKCk7cmV0dXJuIGU+PWYmJihmKz10KSx1PW4uZ2V0VGltZSgpLHU+PWUmJnU8PWZ9ZnVuY3Rpb24gbihuLGkpe3ZhciByPW4uZ2V0SG91cnMoKTtyZXR1cm4gbj1uZXcgRGF0ZShuKSx2KG4saSp0KSx1KG4sciksbn1mdW5jdGlvbiB2KG4sdCxpKXt2YXIgcix1PW4uZ2V0VGltZXpvbmVPZmZzZXQoKTtuLnNldFRpbWUobi5nZXRUaW1lKCkrdCk7aXx8KHI9bi5nZXRUaW1lem9uZU9mZnNldCgpLXUsbi5zZXRUaW1lKG4uZ2V0VGltZSgpK3IqaCkpfWZ1bmN0aW9uIG50KG4sdCl7cmV0dXJuIG49bmV3IERhdGUobi5nZXRGdWxsWWVhcigpLG4uZ2V0TW9udGgoKSxuLmdldERhdGUoKSx0LmdldEhvdXJzKCksdC5nZXRNaW51dGVzKCksdC5nZXRTZWNvbmRzKCksdC5nZXRNaWxsaXNlY29uZHMoKSksdShuLHQuZ2V0SG91cnMoKSksbn1mdW5jdGlvbiB5KCl7cmV0dXJuIGYobmV3IERhdGUpfWZ1bmN0aW9uIHR0KG4pe3JldHVybiBmKG4pLmdldFRpbWUoKT09eSgpLmdldFRpbWUoKX1mdW5jdGlvbiBzKG4pe3ZhciB0PW5ldyBEYXRlKDE5ODAsMSwxLDAsMCwwKTtyZXR1cm4gbiYmdC5zZXRIb3VycyhuLmdldEhvdXJzKCksbi5nZXRNaW51dGVzKCksbi5nZXRTZWNvbmRzKCksbi5nZXRNaWxsaXNlY29uZHMoKSksdH12YXIgaD02ZTQsdD04NjRlNTtyZXR1cm57YWRqdXN0RFNUOnUsZGF5T2ZXZWVrOmwsc2V0RGF5T2ZXZWVrOmMsZ2V0RGF0ZTpmLGlzSW5EYXRlUmFuZ2U6Zyxpc0luVGltZVJhbmdlOmQsaXNUb2RheTp0dCxuZXh0RGF5OmZ1bmN0aW9uKHQpe3JldHVybiBuKHQsMSl9LHByZXZpb3VzRGF5OmZ1bmN0aW9uKHQpe3JldHVybiBuKHQsLTEpfSx0b1V0Y1RpbWU6ayxNU19QRVJfREFZOnQsTVNfUEVSX0hPVVI6NjAqaCxNU19QRVJfTUlOVVRFOmgsc2V0VGltZTp2LHNldEhvdXJzOm50LGFkZERheXM6bix0b2RheTp5LHRvSW52YXJpYW50VGltZTpzLGZpcnN0RGF5T2ZNb250aDphLGxhc3REYXlPZk1vbnRoOnAsd2Vla0luWWVhcjpiLGdldE1pbGxpc2Vjb25kczplfX0oKTtyLnN0cmlwV2hpdGVzcGFjZT1mdW5jdGlvbihuKXt2YXIgdCx1LGk7aWYoZG9jdW1lbnQuY3JlYXRlTm9kZUl0ZXJhdG9yKWZvcih0PWRvY3VtZW50LmNyZWF0ZU5vZGVJdGVyYXRvcihuLE5vZGVGaWx0ZXIuU0hPV19URVhULGZ1bmN0aW9uKHQpe3JldHVybiB0LnBhcmVudE5vZGU9PW4/Tm9kZUZpbHRlci5GSUxURVJfQUNDRVBUOk5vZGVGaWx0ZXIuRklMVEVSX1JFSkVDVH0sITEpO3QubmV4dE5vZGUoKTspdC5yZWZlcmVuY2VOb2RlJiYhdC5yZWZlcmVuY2VOb2RlLnRleHRDb250ZW50LnRyaW0oKSYmdC5yZWZlcmVuY2VOb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodC5yZWZlcmVuY2VOb2RlKTtlbHNlIGZvcih1PTA7dTxuLmNoaWxkTm9kZXMubGVuZ3RoO3UrKylpPW4uY2hpbGROb2Rlc1t1XSwzIT1pLm5vZGVUeXBlfHwvXFMvLnRlc3QoaS5ub2RlVmFsdWUpfHwobi5yZW1vdmVDaGlsZChpKSx1LS0pLDE9PWkubm9kZVR5cGUmJnIuc3RyaXBXaGl0ZXNwYWNlKGkpfTtvcj10LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKG4pe3NldFRpbWVvdXQobiwxZTMvNjApfTtyLmFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKG4pe29yLmNhbGwodCxuKX07YT1bXTtyLnF1ZXVlQW5pbWF0aW9uPWZ1bmN0aW9uKG4pe2FbYS5sZW5ndGhdPW47MT09PWEubGVuZ3RoJiZyLnJ1bk5leHRBbmltYXRpb24oKX07ci5ydW5OZXh0QW5pbWF0aW9uPWZ1bmN0aW9uKCl7ci5hbmltYXRpb25GcmFtZShmdW5jdGlvbigpe2FbMF0mJihhLnNoaWZ0KCkoKSxhWzBdJiZyLnJ1bk5leHRBbmltYXRpb24oKSl9KX07ci5wYXJzZVF1ZXJ5U3RyaW5nUGFyYW1zPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdT1uLnNwbGl0KCI/IilbMV18fCIiLHI9e30saT11LnNwbGl0KC8mfD0vKSxmPWkubGVuZ3RoLHQ9MDt0PGY7dCs9MikiIiE9PWlbdF0mJihyW2RlY29kZVVSSUNvbXBvbmVudChpW3RdKV09ZGVjb2RlVVJJQ29tcG9uZW50KGlbdCsxXSkpO3JldHVybiByfTtyLmVsZW1lbnRVbmRlckN1cnNvcj1mdW5jdGlvbihuKXtpZihpIT09bi54LmNsaWVudClyZXR1cm4gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChuLnguY2xpZW50LG4ueS5jbGllbnQpfTtyLndoZWVsRGVsdGFZPWZ1bmN0aW9uKG4pe3ZhciByLHQ9bi5vcmlnaW5hbEV2ZW50LHU9dC53aGVlbERlbHRhWTtyZXR1cm4gdC53aGVlbERlbHRhPyh1PT09aXx8dSkmJihyPXQud2hlZWxEZWx0YSk6dC5kZXRhaWwmJnQuYXhpcz09PXQuVkVSVElDQUxfQVhJUyYmKHI9MTAqLXQuZGV0YWlsKSxyfTtyLnRocm90dGxlPWZ1bmN0aW9uKG4sdCl7dmFyIHIsdSxmPTA7cmV0dXJuIXR8fHQ8PTA/bjoodT1mdW5jdGlvbigpe2Z1bmN0aW9uIHUoKXtuLmFwcGx5KG8scyk7Zj0rbmV3IERhdGV9dmFyIG89dGhpcyxlPStuZXcgRGF0ZS1mLHM9YXJndW1lbnRzO3JldHVybiBmPyhyJiZjbGVhclRpbWVvdXQociksZT50P3UoKTpyPXNldFRpbWVvdXQodSx0LWUpLGkpOnUoKX0sdS5jYW5jZWw9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQocil9LHUpfTtyLmNhcmV0PWZ1bmN0aW9uKHQscixmKXt2YXIgZSxvLHMsaCxsLGM9ciE9PWk7aWYoZj09PWkmJihmPXIpLHRbMF0mJih0PXRbMF0pLCFjfHwhdC5kaXNhYmxlZCl7dHJ5e3Quc2VsZWN0aW9uU3RhcnQhPT1pP2M/KHQuZm9jdXMoKSxvPXUubW9iaWxlT1Msby53cHx8by5hbmRyb2lkP3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0LnNldFNlbGVjdGlvblJhbmdlKHIsZil9LDApOnQuc2V0U2VsZWN0aW9uUmFuZ2UocixmKSk6cj1bdC5zZWxlY3Rpb25TdGFydCx0LnNlbGVjdGlvbkVuZF06ZG9jdW1lbnQuc2VsZWN0aW9uJiYobih0KS5pcygiOnZpc2libGUiKSYmdC5mb2N1cygpLGU9dC5jcmVhdGVUZXh0UmFuZ2UoKSxjPyhlLmNvbGxhcHNlKCEwKSxlLm1vdmVTdGFydCgiY2hhcmFjdGVyIixyKSxlLm1vdmVFbmQoImNoYXJhY3RlciIsZi1yKSxlLnNlbGVjdCgpKToocz1lLmR1cGxpY2F0ZSgpLGUubW92ZVRvQm9va21hcmsoZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkuZ2V0Qm9va21hcmsoKSkscy5zZXRFbmRQb2ludCgiRW5kVG9TdGFydCIsZSksaD1zLnRleHQubGVuZ3RoLGw9aCtlLnRleHQubGVuZ3RoLHI9W2gsbF0pKX1jYXRjaChhKXtyPVtdfXJldHVybiByfX07ci5jb21waWxlTW9iaWxlRGlyZWN0aXZlPWZ1bmN0aW9uKG4saSl7dmFyIHU9dC5hbmd1bGFyO3JldHVybiBuLmF0dHIoImRhdGEtIityLm5zKyJyb2xlIixuWzBdLnRhZ05hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKCJrZW5kby1tb2JpbGUtIiwiIikucmVwbGFjZSgiLSIsIiIpKSx1LmVsZW1lbnQobikuaW5qZWN0b3IoKS5pbnZva2UoWyIkY29tcGlsZSIsZnVuY3Rpb24odCl7dChuKShpKTsvXlwkKGRpZ2VzdHxhcHBseSkkLy50ZXN0KGkuJCRwaGFzZSl8fGkuJGRpZ2VzdCgpfV0pLHIud2lkZ2V0SW5zdGFuY2UobixyLm1vYmlsZS51aSl9O3IuYW50aUZvcmdlcnlUb2tlbnM9ZnVuY3Rpb24oKXt2YXIgdD17fSxyPW4oIm1ldGFbbmFtZT1jc3JmLXRva2VuXSxtZXRhW25hbWU9X2NzcmZdIikuYXR0cigiY29udGVudCIpLHU9bigibWV0YVtuYW1lPWNzcmYtcGFyYW1dLG1ldGFbbmFtZT1fY3NyZl9oZWFkZXJdIikuYXR0cigiY29udGVudCIpO3JldHVybiBuKCJpbnB1dFtuYW1lXj0nX19SZXF1ZXN0VmVyaWZpY2F0aW9uVG9rZW4nXSIpLmVhY2goZnVuY3Rpb24oKXt0W3RoaXMubmFtZV09dGhpcy52YWx1ZX0pLHUhPT1pJiZyIT09aSYmKHRbdV09ciksdH07ci5jeWNsZUZvcm09ZnVuY3Rpb24obil7ZnVuY3Rpb24gdChuKXt2YXIgdD1yLndpZGdldEluc3RhbmNlKG4pO3QmJnQuZm9jdXM/dC5mb2N1cygpOm4uZm9jdXMoKX12YXIgaT1uLmZpbmQoImlucHV0LCAuay13aWRnZXQiKS5maXJzdCgpLHU9bi5maW5kKCJidXR0b24sIC5rLWJ1dHRvbiIpLmxhc3QoKTt1Lm9uKCJrZXlkb3duIixmdW5jdGlvbihuKXtuLmtleUNvZGUhPXIua2V5cy5UQUJ8fG4uc2hpZnRLZXl8fChuLnByZXZlbnREZWZhdWx0KCksdChpKSl9KTtpLm9uKCJrZXlkb3duIixmdW5jdGlvbihuKXtuLmtleUNvZGU9PXIua2V5cy5UQUImJm4uc2hpZnRLZXkmJihuLnByZXZlbnREZWZhdWx0KCksdCh1KSl9KX07ci5mb2N1c0VsZW1lbnQ9ZnVuY3Rpb24oaSl7dmFyIHU9W10sZj1pLnBhcmVudHNVbnRpbCgiYm9keSIpLmZpbHRlcihmdW5jdGlvbihuLHQpe3ZhciBpPXIuZ2V0Q29tcHV0ZWRTdHlsZXModCxbIm92ZXJmbG93Il0pO3JldHVybiJ2aXNpYmxlIiE9PWkub3ZlcmZsb3d9KS5hZGQodCk7Zi5lYWNoKGZ1bmN0aW9uKHQsaSl7dVt0XT1uKGkpLnNjcm9sbFRvcCgpfSk7dHJ5e2lbMF0uc2V0QWN0aXZlKCl9Y2F0Y2goZSl7aVswXS5mb2N1cygpfWYuZWFjaChmdW5jdGlvbih0LGkpe24oaSkuc2Nyb2xsVG9wKHVbdF0pfSl9O3IuZm9jdXNOZXh0RWxlbWVudD1mdW5jdGlvbigpe3ZhciB0LGkscjtkb2N1bWVudC5hY3RpdmVFbGVtZW50JiYodD1uKCI6a2VuZG9Gb2N1c2FibGUiKSxpPXQuaW5kZXgoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCksaT4tMSYmKHI9dFtpKzFdfHx0WzBdLHIuZm9jdXMoKSkpfTtyLm1hdGNoZXNNZWRpYT1mdW5jdGlvbihuKXt2YXIgaT1yLl9ib290c3RyYXBUb01lZGlhKG4pfHxuO3JldHVybiB1Lm1hdGNoTWVkaWEmJnQubWF0Y2hNZWRpYShpKS5tYXRjaGVzfTtyLl9ib290c3RyYXBUb01lZGlhPWZ1bmN0aW9uKG4pe3JldHVybnt4czoiKG1heC13aWR0aDogNTc2cHgpIixzbToiKG1pbi13aWR0aDogNTc2cHgpIixtZDoiKG1pbi13aWR0aDogNzY4cHgpIixsZzoiKG1pbi13aWR0aDogOTkycHgpIix4bDoiKG1pbi13aWR0aDogMTIwMHB4KSJ9W25dfTtyLmZpbGVHcm91cE1hcD17YXVkaW86WyIuYWlmIiwiLmlmZiIsIi5tM3UiLCIubTRhIiwiLm1pZCIsIi5tcDMiLCIubXBhIiwiLndhdiIsIi53bWEiLCIub2dnIiwiLndhdiIsIi53bWEiLCIud3BsIl0sdmlkZW86WyIuM2cyIiwiLjNncCIsIi5hdmkiLCIuYXNmIiwiLmZsdiIsIi5tNHUiLCIucm0iLCIuaDI2NCIsIi5tNHYiLCIubWt2IiwiLm1vdiIsIi5tcDQiLCIubXBnIiwiLnJtIiwiLnN3ZiIsIi52b2IiLCIud212Il0saW1hZ2U6WyIuYWkiLCIuZGRzIiwiLmhlaWMiLCIuanBlIiwiamZpZiIsIi5qaWYiLCIuanAyIiwiLmpwcyIsIi5lcHMiLCIuYm1wIiwiLmdpZiIsIi5qcGVnIiwiLmpwZyIsIi5wbmciLCIucHMiLCIucHNkIiwiLnN2ZyIsIi5zdmd6IiwiLnRpZiIsIi50aWZmIl0sdHh0OlsiLmRvYyIsIi5kb2N4IiwiLmxvZyIsIi5wYWdlcyIsIi50ZXgiLCIud3BkIiwiLndwcyIsIi5vZHQiLCIucnRmIiwiLnRleHQiLCIudHh0IiwiLndrcyJdLHByZXNlbnRhdGlvbjpbIi5rZXkiLCIub2RwIiwiLnBwcyIsIi5wcHQiLCIucHB0eCJdLGRhdGE6WyIueGxyIiwiLnhscyIsIi54bHN4Il0scHJvZ3JhbW1pbmc6WyIudG1wIiwiLmJhayIsIi5tc2kiLCIuY2FiIiwiLmNwbCIsIi5jdXIiLCIuZGxsIiwiLmRtcCIsIi5kcnYiLCIuaWNucyIsIi5pY28iLCIubGluayIsIi5zeXMiLCIuY2ZnIiwiLmluaSIsIi5hc3AiLCIuYXNweCIsIi5jZXIiLCIuY3NyIiwiLmNzcyIsIi5kY3IiLCIuaHRtIiwiLmh0bWwiLCIuanMiLCIucGhwIiwiLnJzcyIsIi54aHRtbCJdLHBkZjpbIi5wZGYiXSxjb25maWc6WyIuYXBrIiwiLmFwcCIsIi5iYXQiLCIuY2dpIiwiLmNvbSIsIi5leGUiLCIuZ2FkZ2V0IiwiLmphciIsIi53c2YiXSx6aXA6WyIuN3oiLCIuY2JyIiwiLmd6IiwiLnNpdHgiLCIuYXJqIiwiLmRlYiIsIi5wa2ciLCIucmFyIiwiLnJwbSIsIi50YXIuZ3oiLCIueiIsIi56aXAiLCIuemlweCJdLCJkaXNjLWltYWdlIjpbIi5kbWciLCIuaXNvIiwiLnRvYXN0IiwiLnZjZCIsIi5iaW4iLCIuY3VlIiwiLm1kZiJdfTtyLmdldEZpbGVHcm91cD1mdW5jdGlvbihuLHQpe3ZhciB1LGUsbz1yLmZpbGVHcm91cE1hcCxmPU9iamVjdC5rZXlzKG8pLHM9ImZpbGUiO2lmKG49PT1pfHwhbi5sZW5ndGgpcmV0dXJuIHM7Zm9yKHU9MDt1PGYubGVuZ3RoO3UrPTEpaWYoZT1vW2ZbdV1dLGUuaW5kZXhPZihuLnRvTG93ZXJDYXNlKCkpPi0xKXJldHVybiB0PyJmaWxlLSIrZlt1XTpmW3VdO3JldHVybiBzfTtyLmdldEZpbGVTaXplTWVzc2FnZT1mdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4gMD09PW4/IjAgQnl0ZSI6KHQ9cGFyc2VJbnQoTWF0aC5mbG9vcihNYXRoLmxvZyhuKS9NYXRoLmxvZygxMDI0KSksMTApLE1hdGgucm91bmQobi9NYXRoLnBvdygxMDI0LHQpLDIpKyIgIitbIkJ5dGVzIiwiS0IiLCJNQiIsIkdCIiwiVEIiXVt0XSl9LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdSh0LGksdSxmKXt2YXIgcyxvLGg9bigiPGZvcm0+IikuYXR0cih7YWN0aW9uOnUsbWV0aG9kOiJQT1NUIix0YXJnZXQ6Zn0pLGU9ci5hbnRpRm9yZ2VyeVRva2VucygpO2UuZmlsZU5hbWU9aTtzPXQuc3BsaXQoIjtiYXNlNjQsIik7ZS5jb250ZW50VHlwZT1zWzBdLnJlcGxhY2UoImRhdGE6IiwiIik7ZS5iYXNlNjQ9c1sxXTtmb3IobyBpbiBlKWUuaGFzT3duUHJvcGVydHkobykmJm4oIjxpbnB1dD4iKS5hdHRyKHt2YWx1ZTplW29dLG5hbWU6byx0eXBlOiJoaWRkZW4ifSkuYXBwZW5kVG8oaCk7aC5hcHBlbmRUbygiYm9keSIpLnN1Ym1pdCgpLnJlbW92ZSgpfWZ1bmN0aW9uIGYobix0KXt2YXIgdSxlLHIsZixpLG89bjtpZigic3RyaW5nIj09dHlwZW9mIG4pe2Zvcih1PW4uc3BsaXQoIjtiYXNlNjQsIiksZT11WzBdLHI9YXRvYih1WzFdKSxmPW5ldyBVaW50OEFycmF5KHIubGVuZ3RoKSxpPTA7aTxyLmxlbmd0aDtpKyspZltpXT1yLmNoYXJDb2RlQXQoaSk7bz1uZXcgQmxvYihbZi5idWZmZXJdLHt0eXBlOmV9KX1uYXZpZ2F0b3IubXNTYXZlQmxvYihvLHQpfWZ1bmN0aW9uIGUobixyKXt0LkJsb2ImJm4gaW5zdGFuY2VvZiBCbG9iJiYobj1VUkwuY3JlYXRlT2JqZWN0VVJMKG4pKTtpLmRvd25sb2FkPXI7aS5ocmVmPW47dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIk1vdXNlRXZlbnRzIik7dS5pbml0TW91c2VFdmVudCgiY2xpY2siLCEwLCExLHQsMCwwLDAsMCwwLCExLCExLCExLCExLDAsbnVsbCk7aS5kaXNwYXRjaEV2ZW50KHUpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtVUkwucmV2b2tlT2JqZWN0VVJMKG4pfSl9dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLG89ImRvd25sb2FkImluIGkmJiFyLnN1cHBvcnQuYnJvd3Nlci5lZGdlO3Iuc2F2ZUFzPWZ1bmN0aW9uKG4pe3ZhciB0PXU7bi5mb3JjZVByb3h5fHwobz90PWU6bmF2aWdhdG9yLm1zU2F2ZUJsb2ImJih0PWYpKTt0KG4uZGF0YVVSSSxuLmZpbGVOYW1lLG4ucHJveHlVUkwsbi5wcm94eVRhcmdldCl9fSgpO3IucHJveHlNb2RlbFNldHRlcnM9ZnVuY3Rpb24obil7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKG58fHt9KS5mb3JFYWNoKGZ1bmN0aW9uKGkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGkse2dldDpmdW5jdGlvbigpe3JldHVybiBuW2ldfSxzZXQ6ZnVuY3Rpb24odCl7bltpXT10O24uZGlydHk9ITB9fSl9KSx0fSxmdW5jdGlvbigpe3IuZGVmYXVsdHM9ci5kZWZhdWx0c3x8e307ci5zZXREZWZhdWx0cz1mdW5jdGlvbihuLHQpe3ZhciBmPW4uc3BsaXQoIi4iKSx1PXIuZGVmYXVsdHM7bj1mLnBvcCgpO2YuZm9yRWFjaChmdW5jdGlvbihuKXt1W25dPT09aSYmKHVbbl09e30pO3U9dVtuXX0pO3Vbbl09dC5jb25zdHJ1Y3Rvcj09PU9iamVjdD90dCh7fSx1W25dLHQpOnR9fSgpfShqUXVlcnksd2luZG93KSx3aW5kb3cua2VuZG99LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lOmZ1bmN0aW9uKG4sdCxpKXsoaXx8dCkoKX0pOwovKiEKICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwohZnVuY3Rpb24obix0KXt0KCJrZW5kby51c2VyZXZlbnRzLm1pbiIsWyJrZW5kby5jb3JlLm1pbiJdLG4pfShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuKXtmdW5jdGlvbiBjKG4sdCl7dmFyIGk9bi54LmxvY2F0aW9uLHI9bi55LmxvY2F0aW9uLHU9dC54LmxvY2F0aW9uLGY9dC55LmxvY2F0aW9uLGU9aS11LG89ci1mO3JldHVybntjZW50ZXI6e3g6KGkrdSkvMix5OihyK2YpLzJ9LGRpc3RhbmNlOk1hdGguc3FydChlKmUrbypvKX19ZnVuY3Rpb24gbyhuKXt2YXIgcyxmLHQscj1bXSx1PW4ub3JpZ2luYWxFdmVudCxlPW4uY3VycmVudFRhcmdldCxvPTA7aWYobi5hcGkpci5wdXNoKHtpZDoyLGV2ZW50Om4sdGFyZ2V0Om4udGFyZ2V0LGN1cnJlbnRUYXJnZXQ6bi50YXJnZXQsbG9jYXRpb246bix0eXBlOiJhcGkifSk7ZWxzZSBpZihuLnR5cGUubWF0Y2goL3RvdWNoLykpZm9yKGY9dT91LmNoYW5nZWRUb3VjaGVzOltdLHM9Zi5sZW5ndGg7bzxzO28rKyl0PWZbb10sci5wdXNoKHtsb2NhdGlvbjp0LGV2ZW50Om4sdGFyZ2V0OnQudGFyZ2V0LGN1cnJlbnRUYXJnZXQ6ZSxpZDp0LmlkZW50aWZpZXIsdHlwZToidG91Y2gifSk7ZWxzZSByLnB1c2goaS5wb2ludGVyc3x8aS5tc1BvaW50ZXJzP3tsb2NhdGlvbjp1LGV2ZW50Om4sdGFyZ2V0Om4udGFyZ2V0LGN1cnJlbnRUYXJnZXQ6ZSxpZDp1LnBvaW50ZXJJZCx0eXBlOiJwb2ludGVyIn06e2lkOjEsZXZlbnQ6bix0YXJnZXQ6bi50YXJnZXQsY3VycmVudFRhcmdldDplLGxvY2F0aW9uOm4sdHlwZToibW91c2UifSk7cmV0dXJuIHJ9ZnVuY3Rpb24gbChuKXtmb3IodmFyIHI9dC5ldmVudE1hcC51cC5zcGxpdCgiICIpLGk9MCx1PXIubGVuZ3RoO2k8dTtpKyspbihyW2ldKX12YXIgdD13aW5kb3cua2VuZG8saT10LnN1cHBvcnQsYT10LkNsYXNzLHY9dC5PYnNlcnZhYmxlLHU9bi5ub3csZj1uLmV4dGVuZCx5PWkubW9iaWxlT1Msb3Q9eSYmeS5hbmRyb2lkLHA9ODAwLHN0PTMwMCx3PWkuYnJvd3Nlci5tc2llPzU6MCxiPSJwcmVzcyIsaz0iaG9sZCIsZD0ic2VsZWN0IixnPSJzdGFydCIscz0ibW92ZSIsaD0iZW5kIixudD0iY2FuY2VsIixlPSJ0YXAiLHR0PSJkb3VibGVUYXAiLGl0PSJyZWxlYXNlIixodD0iZ2VzdHVyZXN0YXJ0IixydD0iZ2VzdHVyZWNoYW5nZSIsdXQ9Imdlc3R1cmVlbmQiLGZ0PSJnZXN0dXJldGFwIixjdD17YXBpOjAsdG91Y2g6MCxtb3VzZTo5LHBvaW50ZXI6OX0sbHQ9IWkudG91Y2h8fGkubW91c2VBbmRUb3VjaFByZXNlbnQsZXQ9YS5leHRlbmQoe2luaXQ6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzO2kuYXhpcz1uO2kuX3VwZGF0ZUxvY2F0aW9uRGF0YSh0KTtpLnN0YXJ0TG9jYXRpb249aS5sb2NhdGlvbjtpLnZlbG9jaXR5PWkuZGVsdGE9MDtpLnRpbWVTdGFtcD11KCl9LG1vdmU6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxpPW5bInBhZ2UiK3QuYXhpc10scj11KCksZj1yLXQudGltZVN0YW1wfHwxOyFpJiZvdHx8KHQuZGVsdGE9aS10LmxvY2F0aW9uLHQuX3VwZGF0ZUxvY2F0aW9uRGF0YShuKSx0LmluaXRpYWxEZWx0YT1pLXQuc3RhcnRMb2NhdGlvbix0LnZlbG9jaXR5PXQuZGVsdGEvZix0LnRpbWVTdGFtcD1yKX0sX3VwZGF0ZUxvY2F0aW9uRGF0YTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLGk9dC5heGlzO3QubG9jYXRpb249blsicGFnZSIraV07dC5jbGllbnQ9blsiY2xpZW50IitpXTt0LnNjcmVlbj1uWyJzY3JlZW4iK2ldfX0pLGF0PWEuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4sdCxpKXtmKHRoaXMse3g6bmV3IGV0KCJYIixpLmxvY2F0aW9uKSx5Om5ldyBldCgiWSIsaS5sb2NhdGlvbiksdHlwZTppLnR5cGUsdXNlQ2xpY2tBc1RhcDpuLnVzZUNsaWNrQXNUYXAsdGhyZXNob2xkOm4udGhyZXNob2xkfHxjdFtpLnR5cGVdLHVzZXJFdmVudHM6bix0YXJnZXQ6dCxjdXJyZW50VGFyZ2V0OmkuY3VycmVudFRhcmdldCxpbml0aWFsVG91Y2g6aS50YXJnZXQsaWQ6aS5pZCxwcmVzc0V2ZW50OmksX2NsaWNrczpuLl9jbGlja3Msc3VwcG9ydERvdWJsZVRhcDpuLnN1cHBvcnREb3VibGVUYXAsX21vdmVkOiExLF9maW5pc2hlZDohMX0pfSxwcmVzczpmdW5jdGlvbigpe3RoaXMuX2hvbGRUaW1lb3V0PXNldFRpbWVvdXQobi5wcm94eSh0aGlzLCJfaG9sZCIpLHRoaXMudXNlckV2ZW50cy5taW5Ib2xkKTt0aGlzLl90cmlnZ2VyKGIsdGhpcy5wcmVzc0V2ZW50KX0sX3RhcDpmdW5jdGlvbihuKXt2YXIgdD10aGlzO3QudXNlckV2ZW50cy5fY2xpY2tzKys7MT09dC51c2VyRXZlbnRzLl9jbGlja3MmJih0Ll9jbGlja1RpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpezE9PXQudXNlckV2ZW50cy5fY2xpY2tzP3QuX3RyaWdnZXIoZSxuKTp0Ll90cmlnZ2VyKHR0LG4pO3QudXNlckV2ZW50cy5fY2xpY2tzPTB9LHN0KSl9LF9ob2xkOmZ1bmN0aW9uKCl7dGhpcy5fdHJpZ2dlcihrLHRoaXMucHJlc3NFdmVudCl9LG1vdmU6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxpPSJhcGkiIT09bi50eXBlJiZ0LnVzZXJFdmVudHMuX3Nob3VsZE5vdE1vdmU7aWYoIXQuX2ZpbmlzaGVkJiYhaSl7aWYodC54Lm1vdmUobi5sb2NhdGlvbiksdC55Lm1vdmUobi5sb2NhdGlvbiksIXQuX21vdmVkKXtpZih0Ll93aXRoaW5JZ25vcmVUaHJlc2hvbGQoKSlyZXR1cm47aWYoci5jdXJyZW50JiZyLmN1cnJlbnQhPT10LnVzZXJFdmVudHMpcmV0dXJuIHQuZGlzcG9zZSgpO3QuX3N0YXJ0KG4pfXQuX2ZpbmlzaGVkfHx0Ll90cmlnZ2VyKHMsbil9fSxlbmQ6ZnVuY3Rpb24obil7dGhpcy5lbmRUaW1lPXUoKTt0aGlzLl9maW5pc2hlZHx8KHRoaXMuX2ZpbmlzaGVkPSEwLHRoaXMuX3RyaWdnZXIoaXQsbiksdGhpcy5fbW92ZWQ/dGhpcy5fdHJpZ2dlcihoLG4pOnRoaXMudXNlQ2xpY2tBc1RhcHx8KHRoaXMuc3VwcG9ydERvdWJsZVRhcD90aGlzLl90YXAobik6dGhpcy5fdHJpZ2dlcihlLG4pKSxjbGVhclRpbWVvdXQodGhpcy5faG9sZFRpbWVvdXQpLHRoaXMuZGlzcG9zZSgpKX0sZGlzcG9zZTpmdW5jdGlvbigpe3ZhciBpPXRoaXMudXNlckV2ZW50cyx0PWkudG91Y2hlczt0aGlzLl9maW5pc2hlZD0hMDt0aGlzLnByZXNzRXZlbnQ9bnVsbDtjbGVhclRpbWVvdXQodGhpcy5faG9sZFRpbWVvdXQpO3Quc3BsaWNlKG4uaW5BcnJheSh0aGlzLHQpLDEpfSxza2lwOmZ1bmN0aW9uKCl7dGhpcy5kaXNwb3NlKCl9LGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuZGlzcG9zZSgpfSxpc01vdmVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21vdmVkfSxfc3RhcnQ6ZnVuY3Rpb24obil7Y2xlYXJUaW1lb3V0KHRoaXMuX2hvbGRUaW1lb3V0KTt0aGlzLnN0YXJ0VGltZT11KCk7dGhpcy5fbW92ZWQ9ITA7dGhpcy5fdHJpZ2dlcihnLG4pfSxfdHJpZ2dlcjpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMscj10LmV2ZW50LHU9e3RvdWNoOmkseDppLngseTppLnksdGFyZ2V0OmkudGFyZ2V0LGV2ZW50OnJ9O2kudXNlckV2ZW50cy5ub3RpZnkobix1KSYmci5wcmV2ZW50RGVmYXVsdCgpfSxfd2l0aGluSWdub3JlVGhyZXNob2xkOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy54LmluaXRpYWxEZWx0YSx0PXRoaXMueS5pbml0aWFsRGVsdGE7cmV0dXJuIE1hdGguc3FydChuKm4rdCp0KTw9dGhpcy50aHJlc2hvbGR9fSkscj12LmV4dGVuZCh7aW5pdDpmdW5jdGlvbihyLHUpe3ZhciBhLHksZXQsb3Qsbz10aGlzLGM9dC5ndWlkKCk7dT11fHx7fTthPW8uZmlsdGVyPXUuZmlsdGVyO28udGhyZXNob2xkPXUudGhyZXNob2xkfHx3O28ubWluSG9sZD11Lm1pbkhvbGR8fHA7by50b3VjaGVzPVtdO28uX21heFRvdWNoZXM9dS5tdWx0aVRvdWNoPzI6MTtvLmFsbG93U2VsZWN0aW9uPXUuYWxsb3dTZWxlY3Rpb247by5jYXB0dXJlVXBJZk1vdmVkPXUuY2FwdHVyZVVwSWZNb3ZlZDtvLnVzZUNsaWNrQXNUYXA9IXUuZmFzdFRhcCYmIWkuZGVsYXllZENsaWNrKCk7by5ldmVudE5TPWM7by5fY2xpY2tzPTA7by5zdXBwb3J0RG91YmxlVGFwPXUuc3VwcG9ydERvdWJsZVRhcDtyPW4ocikuaGFuZGxlcihvKTt2LmZuLmluaXQuY2FsbChvKTtmKG8se2VsZW1lbnQ6cixzdXJmYWNlOm4odS5nbG9iYWwmJmx0P3JbMF0ub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ6dS5zdXJmYWNlfHxyKSxzdG9wUHJvcGFnYXRpb246dS5zdG9wUHJvcGFnYXRpb24scHJlc3NlZDohMX0pO28uc3VyZmFjZS5oYW5kbGVyKG8pLm9uKHQuYXBwbHlFdmVudE1hcCgibW92ZSIsYyksIl9tb3ZlIikub24odC5hcHBseUV2ZW50TWFwKCJ1cCBjYW5jZWwiLGMpLCJfZW5kIik7ci5vbih0LmFwcGx5RXZlbnRNYXAoImRvd24iLGMpLGEsIl9zdGFydCIpO28udXNlQ2xpY2tBc1RhcCYmci5vbih0LmFwcGx5RXZlbnRNYXAoImNsaWNrIixjKSxhLCJfY2xpY2siKTsoaS5wb2ludGVyc3x8aS5tc1BvaW50ZXJzKSYmKGkuYnJvd3Nlci52ZXJzaW9uPDExPyh5PSJwaW5jaC16b29tIGRvdWJsZS10YXAtem9vbSIsci5jc3MoIi1tcy10b3VjaC1hY3Rpb24iLHUudG91Y2hBY3Rpb24mJiJub25lIiE9dS50b3VjaEFjdGlvbj95KyIgIit1LnRvdWNoQWN0aW9uOnkpKTpyLmNzcygidG91Y2gtYWN0aW9uIix1LnRvdWNoQWN0aW9ufHwibm9uZSIpKTt1LnByZXZlbnREcmFnRXZlbnQmJnIub24odC5hcHBseUV2ZW50TWFwKCJkcmFnc3RhcnQiLGMpLHQucHJldmVudERlZmF1bHQpO3Iub24odC5hcHBseUV2ZW50TWFwKCJtb3VzZWRvd24iLGMpLGEse3Jvb3Q6cn0sIl9zZWxlY3QiKTtvLmNhcHR1cmVVcElmTW92ZWQmJmkuZXZlbnRDYXB0dXJlJiYoZXQ9by5zdXJmYWNlWzBdLG90PW4ucHJveHkoby5wcmV2ZW50SWZNb3ZpbmcsbyksbChmdW5jdGlvbihuKXtldC5hZGRFdmVudExpc3RlbmVyKG4sb3QsITApfSkpO28uYmluZChbYixrLGUsdHQsZyxzLGgsaXQsbnQsaHQscnQsdXQsZnQsZF0sdSl9LHByZXZlbnRJZk1vdmluZzpmdW5jdGlvbihuKXt0aGlzLl9pc01vdmVkKCkmJm4ucHJldmVudERlZmF1bHQoKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0LG49dGhpcztuLl9kZXN0cm95ZWR8fChuLl9kZXN0cm95ZWQ9ITAsbi5jYXB0dXJlVXBJZk1vdmVkJiZpLmV2ZW50Q2FwdHVyZSYmKHQ9bi5zdXJmYWNlWzBdLGwoZnVuY3Rpb24oaSl7dC5yZW1vdmVFdmVudExpc3RlbmVyKGksbi5wcmV2ZW50SWZNb3ZpbmcpfSkpLG4uZWxlbWVudC5rZW5kb0Rlc3Ryb3kobi5ldmVudE5TKSxuLnN1cmZhY2Uua2VuZG9EZXN0cm95KG4uZXZlbnROUyksbi5lbGVtZW50LnJlbW92ZURhdGEoImhhbmRsZXIiKSxuLnN1cmZhY2UucmVtb3ZlRGF0YSgiaGFuZGxlciIpLG4uX2Rpc3Bvc2VBbGwoKSxuLnVuYmluZCgpLGRlbGV0ZSBuLnN1cmZhY2UsZGVsZXRlIG4uZWxlbWVudCxkZWxldGUgbi5jdXJyZW50VGFyZ2V0KX0sY2FwdHVyZTpmdW5jdGlvbigpe3IuY3VycmVudD10aGlzfSxjYW5jZWw6ZnVuY3Rpb24oKXt0aGlzLl9kaXNwb3NlQWxsKCk7dGhpcy50cmlnZ2VyKG50KX0sbm90aWZ5OmZ1bmN0aW9uKG4sdCl7dmFyIHI9dGhpcyxpPXIudG91Y2hlcztpZih0aGlzLl9pc011bHRpVG91Y2goKSl7c3dpdGNoKG4pe2Nhc2UgczpuPXJ0O2JyZWFrO2Nhc2UgaDpuPXV0O2JyZWFrO2Nhc2UgZTpuPWZ0fWYodCx7dG91Y2hlczppfSxjKGlbMF0saVsxXSkpfXJldHVybiB0aGlzLnRyaWdnZXIobixmKHQse3R5cGU6bn0pKX0scHJlc3M6ZnVuY3Rpb24obix0LGkpe3RoaXMuX2FwaUNhbGwoIl9zdGFydCIsbix0LGkpfSxtb3ZlOmZ1bmN0aW9uKG4sdCl7dGhpcy5fYXBpQ2FsbCgiX21vdmUiLG4sdCl9LGVuZDpmdW5jdGlvbihuLHQpe3RoaXMuX2FwaUNhbGwoIl9lbmQiLG4sdCl9LF9pc011bHRpVG91Y2g6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b3VjaGVzLmxlbmd0aD4xfSxfbWF4VG91Y2hlc1JlYWNoZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b3VjaGVzLmxlbmd0aD49dGhpcy5fbWF4VG91Y2hlc30sX2Rpc3Bvc2VBbGw6ZnVuY3Rpb24oKXtmb3IodmFyIG49dGhpcy50b3VjaGVzO24ubGVuZ3RoPjA7KW4ucG9wKCkuZGlzcG9zZSgpfSxfaXNNb3ZlZDpmdW5jdGlvbigpe3JldHVybiBuLmdyZXAodGhpcy50b3VjaGVzLGZ1bmN0aW9uKG4pe3JldHVybiBuLmlzTW92ZWQoKX0pLmxlbmd0aH0sX3NlbGVjdDpmdW5jdGlvbihuKXt0aGlzLmFsbG93U2VsZWN0aW9uJiYhdGhpcy50cmlnZ2VyKGQse2V2ZW50Om59KXx8bi5wcmV2ZW50RGVmYXVsdCgpfSxfc3RhcnQ6ZnVuY3Rpb24odCl7dmFyIGYsdSxpPXRoaXMsZT0wLGM9aS5maWx0ZXIscz1vKHQpLGw9cy5sZW5ndGgsaD10LndoaWNoO2lmKCEoaCYmaD4xfHxpLl9tYXhUb3VjaGVzUmVhY2hlZCgpKSlmb3Ioci5jdXJyZW50PW51bGwsaS5jdXJyZW50VGFyZ2V0PXQuY3VycmVudFRhcmdldCxpLnN0b3BQcm9wYWdhdGlvbiYmdC5zdG9wUHJvcGFnYXRpb24oKTtlPGwmJiFpLl9tYXhUb3VjaGVzUmVhY2hlZCgpO2UrKyl1PXNbZV0sZj1jP24odS5jdXJyZW50VGFyZ2V0KTppLmVsZW1lbnQsZi5sZW5ndGgmJih1PW5ldyBhdChpLGYsdSksaS50b3VjaGVzLnB1c2godSksdS5wcmVzcygpLGkuX2lzTXVsdGlUb3VjaCgpJiZpLm5vdGlmeSgiZ2VzdHVyZXN0YXJ0Iix7fSkpfSxfbW92ZTpmdW5jdGlvbihuKXt0aGlzLl9lYWNoVG91Y2goIm1vdmUiLG4pfSxfZW5kOmZ1bmN0aW9uKG4pe3RoaXMuX2VhY2hUb3VjaCgiZW5kIixuKX0sX2NsaWNrOmZ1bmN0aW9uKHQpe3ZhciBpPXt0b3VjaDp7aW5pdGlhbFRvdWNoOnQudGFyZ2V0LHRhcmdldDpuKHQuY3VycmVudFRhcmdldCksZW5kVGltZTp1KCkseDp7bG9jYXRpb246dC5wYWdlWCxjbGllbnQ6dC5jbGllbnRYfSx5Ontsb2NhdGlvbjp0LnBhZ2VZLGNsaWVudDp0LmNsaWVudFl9fSx4OnQucGFnZVgseTp0LnBhZ2VZLHRhcmdldDpuKHQuY3VycmVudFRhcmdldCksZXZlbnQ6dCx0eXBlOiJ0YXAifTt0aGlzLnRyaWdnZXIoInRhcCIsaSkmJnQucHJldmVudERlZmF1bHQoKX0sX2VhY2hUb3VjaDpmdW5jdGlvbihuLHQpe2Zvcih2YXIgcix1LGYsYz10aGlzLGU9e30scz1vKHQpLGg9Yy50b3VjaGVzLGk9MDtpPGgubGVuZ3RoO2krKylyPWhbaV0sZVtyLmlkXT1yO2ZvcihpPTA7aTxzLmxlbmd0aDtpKyspdT1zW2ldLGY9ZVt1LmlkXSxmJiZmW25dKHUpfSxfYXBpQ2FsbDpmdW5jdGlvbih0LGkscix1KXt0aGlzW3RdKHthcGk6ITAscGFnZVg6aSxwYWdlWTpyLGNsaWVudFg6aSxjbGllbnRZOnIsdGFyZ2V0Om4odXx8dGhpcy5lbGVtZW50KVswXSxzdG9wUHJvcGFnYXRpb246bi5ub29wLHByZXZlbnREZWZhdWx0Om4ubm9vcH0pfX0pO3IuZGVmYXVsdFRocmVzaG9sZD1mdW5jdGlvbihuKXt3PW59O3IubWluSG9sZD1mdW5jdGlvbihuKXtwPW59O3QuZ2V0VG91Y2hlcz1vO3QudG91Y2hEZWx0YT1jO3QuVXNlckV2ZW50cz1yfSh3aW5kb3cua2VuZG8ualF1ZXJ5KSx3aW5kb3cua2VuZG99LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lOmZ1bmN0aW9uKG4sdCxpKXsoaXx8dCkoKX0pOwovKiEKICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwohZnVuY3Rpb24obix0KXt0KCJrZW5kby5kcmFnYW5kZHJvcC5taW4iLFsia2VuZG8uY29yZS5taW4iLCJrZW5kby51c2VyZXZlbnRzLm1pbiJdLG4pfShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIG5pKHQsaSl7dHJ5e3JldHVybiBuLmNvbnRhaW5zKHQsaSl8fHQ9PWl9Y2F0Y2gocil7cmV0dXJuITF9fWZ1bmN0aW9uIHYobix0KXtyZXR1cm4gcGFyc2VJbnQobi5jc3ModCksMTApfHwwfWZ1bmN0aW9uIGl0KG4sdCl7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG4sdC5taW4pLHQubWF4KX1mdW5jdGlvbiBydChuLHQpe3ZhciByPWcobiksZT1pLl9vdXRlcldpZHRoLG89aS5fb3V0ZXJIZWlnaHQsdT1yLmxlZnQrdihuLCJib3JkZXJMZWZ0V2lkdGgiKSt2KG4sInBhZGRpbmdMZWZ0IiksZj1yLnRvcCt2KG4sImJvcmRlclRvcFdpZHRoIikrdihuLCJwYWRkaW5nVG9wIikscz11K24ud2lkdGgoKS1lKHQsITApLGg9ZituLmhlaWdodCgpLW8odCwhMCk7cmV0dXJue3g6e21pbjp1LG1heDpzfSx5OnttaW46ZixtYXg6aH19fWZ1bmN0aW9uIHRpKGkscix1KXtmb3IodmFyIG8sZSxmPTAscz1yJiZyLmxlbmd0aCxoPXUmJnUubGVuZ3RoO2kmJmkucGFyZW50Tm9kZTspe2ZvcihmPTA7ZjxzO2YrKylpZihvPXJbZl0sby5lbGVtZW50WzBdPT09aSlyZXR1cm57dGFyZ2V0Om8sdGFyZ2V0RWxlbWVudDppfTtmb3IoZj0wO2Y8aDtmKyspaWYoZT11W2ZdLG4uY29udGFpbnMoZS5lbGVtZW50WzBdLGkpJiZkLm1hdGNoZXNTZWxlY3Rvci5jYWxsKGksZS5vcHRpb25zLmZpbHRlcikpcmV0dXJue3RhcmdldDplLHRhcmdldEVsZW1lbnQ6aX07aT1pLnBhcmVudE5vZGV9cmV0dXJuIHR9ZnVuY3Rpb24gdXQobix0KXt2YXIgaSx1PXQub3B0aW9ucy5ncm91cCxyPW5bdV07aWYocy5mbi5kZXN0cm95LmNhbGwodCksci5sZW5ndGg+MSl7Zm9yKGk9MDtpPHIubGVuZ3RoO2krKylpZihyW2ldPT10KXtyLnNwbGljZShpLDEpO2JyZWFrfX1lbHNlIHIubGVuZ3RoPTAsZGVsZXRlIG5bdV19ZnVuY3Rpb24gZnQobil7dmFyIHQsaSxyLHU9YigpWzBdO3JldHVybiBuWzBdPT09dT8oaT11LnNjcm9sbFRvcCxyPXUuc2Nyb2xsTGVmdCx7dG9wOmksbGVmdDpyLGJvdHRvbTppK3kuaGVpZ2h0KCkscmlnaHQ6cit5LndpZHRoKCl9KToodD1uLm9mZnNldCgpLHQuYm90dG9tPXQudG9wK24uaGVpZ2h0KCksdC5yaWdodD10LmxlZnQrbi53aWR0aCgpLHQpfWZ1bmN0aW9uIGIoKXtyZXR1cm4gbihpLnN1cHBvcnQuYnJvd3Nlci5lZGdlfHxpLnN1cHBvcnQuYnJvd3Nlci5zYWZhcmk/ZS5ib2R5OmUuZG9jdW1lbnRFbGVtZW50KX1mdW5jdGlvbiBldCh0KXt2YXIgcix1PWIoKTtpZighdHx8dD09PWUuYm9keXx8dD09PWUuZG9jdW1lbnRFbGVtZW50KXJldHVybiB1O2ZvcihyPW4odClbMF07ciYmIWkuaXNTY3JvbGxhYmxlKHIpJiZyIT09ZS5ib2R5OylyPXIucGFyZW50Tm9kZTtyZXR1cm4gcj09PWUuYm9keT91Om4ocil9ZnVuY3Rpb24gb3Qobix0LGkpe3ZhciB1PXt4OjAseTowfSxyPTUwO3JldHVybiBuLWkubGVmdDxyP3UueD0tKHItKG4taS5sZWZ0KSk6aS5yaWdodC1uPHImJih1Lng9ci0oaS5yaWdodC1uKSksdC1pLnRvcDxyP3UueT0tKHItKHQtaS50b3ApKTppLmJvdHRvbS10PHImJih1Lnk9ci0oaS5ib3R0b20tdCkpLHV9dmFyIGYsayxzdCxsLGh0LGN0LGk9d2luZG93LmtlbmRvLGQ9aS5zdXBwb3J0LGU9d2luZG93LmRvY3VtZW50LHk9bih3aW5kb3cpLGlpPWkuQ2xhc3Mscz1pLnVpLldpZGdldCxvPWkuT2JzZXJ2YWJsZSxyaT1pLlVzZXJFdmVudHMsdT1uLnByb3h5LHI9bi5leHRlbmQsZz1pLmdldE9mZnNldCxwPXt9LGg9e30sYz17fSxudD1pLmVsZW1lbnRVbmRlckN1cnNvcixsdD0ia2V5dXAiLGE9ImNoYW5nZSIsYXQ9ImRyYWdzdGFydCIsdnQ9ImhvbGQiLHl0PSJkcmFnIixwdD0iZHJhZ2VuZCIsd3Q9ImRyYWdjYW5jZWwiLGJ0PSJoaW50RGVzdHJveWVkIix0dD0iZHJhZ2VudGVyIix3PSJkcmFnbGVhdmUiLGt0PSJkcm9wIix1aT1vLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LHIpe3ZhciBmPXRoaXMsZT10WzBdO2YuY2FwdHVyZT0hMTtlLmFkZEV2ZW50TGlzdGVuZXI/KG4uZWFjaChpLmV2ZW50TWFwLmRvd24uc3BsaXQoIiAiKSxmdW5jdGlvbigpe2UuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLHUoZi5fcHJlc3MsZiksITApfSksbi5lYWNoKGkuZXZlbnRNYXAudXAuc3BsaXQoIiAiKSxmdW5jdGlvbigpe2UuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLHUoZi5fcmVsZWFzZSxmKSwhMCl9KSk6KG4uZWFjaChpLmV2ZW50TWFwLmRvd24uc3BsaXQoIiAiKSxmdW5jdGlvbigpe2UuYXR0YWNoRXZlbnQodGhpcyx1KGYuX3ByZXNzLGYpKX0pLG4uZWFjaChpLmV2ZW50TWFwLnVwLnNwbGl0KCIgIiksZnVuY3Rpb24oKXtlLmF0dGFjaEV2ZW50KHRoaXMsdShmLl9yZWxlYXNlLGYpKX0pKTtvLmZuLmluaXQuY2FsbChmKTtmLmJpbmQoWyJwcmVzcyIsInJlbGVhc2UiXSxyfHx7fSl9LGNhcHR1cmVOZXh0OmZ1bmN0aW9uKCl7dGhpcy5jYXB0dXJlPSEwfSxjYW5jZWxDYXB0dXJlOmZ1bmN0aW9uKCl7dGhpcy5jYXB0dXJlPSExfSxfcHJlc3M6ZnVuY3Rpb24obil7dmFyIHQ9dGhpczt0LnRyaWdnZXIoInByZXNzIik7dC5jYXB0dXJlJiZuLnByZXZlbnREZWZhdWx0KCl9LF9yZWxlYXNlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7dC50cmlnZ2VyKCJyZWxlYXNlIik7dC5jYXB0dXJlJiYobi5wcmV2ZW50RGVmYXVsdCgpLHQuY2FuY2VsQ2FwdHVyZSgpKX19KSxkdD1vLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0KXt2YXIgaT10aGlzO28uZm4uaW5pdC5jYWxsKGkpO2kuZm9yY2VkRW5hYmxlZD0hMTtuLmV4dGVuZChpLHQpO2kuc2NhbGU9MTtpLmhvcml6b250YWw/KGkubWVhc3VyZT0ib2Zmc2V0V2lkdGgiLGkuc2Nyb2xsU2l6ZT0ic2Nyb2xsV2lkdGgiLGkuYXhpcz0ieCIpOihpLm1lYXN1cmU9Im9mZnNldEhlaWdodCIsaS5zY3JvbGxTaXplPSJzY3JvbGxIZWlnaHQiLGkuYXhpcz0ieSIpfSxtYWtlVmlydHVhbDpmdW5jdGlvbigpe24uZXh0ZW5kKHRoaXMse3ZpcnR1YWw6ITAsZm9yY2VkRW5hYmxlZDohMCxfdmlydHVhbE1pbjowLF92aXJ0dWFsTWF4OjB9KX0sdmlydHVhbFNpemU6ZnVuY3Rpb24obix0KXt0aGlzLl92aXJ0dWFsTWluPT09biYmdGhpcy5fdmlydHVhbE1heD09PXR8fCh0aGlzLl92aXJ0dWFsTWluPW4sdGhpcy5fdmlydHVhbE1heD10LHRoaXMudXBkYXRlKCkpfSxvdXRPZkJvdW5kczpmdW5jdGlvbihuKXtyZXR1cm4gbj50aGlzLm1heHx8bjx0aGlzLm1pbn0sZm9yY2VFbmFibGVkOmZ1bmN0aW9uKCl7dGhpcy5mb3JjZWRFbmFibGVkPSEwfSxnZXRTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGFpbmVyWzBdW3RoaXMubWVhc3VyZV19LGdldFRvdGFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudFswXVt0aGlzLnNjcm9sbFNpemVdfSxyZXNjYWxlOmZ1bmN0aW9uKG4pe3RoaXMuc2NhbGU9bn0sdXBkYXRlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsdT10LnZpcnR1YWw/dC5fdmlydHVhbE1heDp0LmdldFRvdGFsKCkscj11KnQuc2NhbGUsaT10LmdldFNpemUoKTsoMCE9PXV8fHQuZm9yY2VkRW5hYmxlZCkmJih0Lm1heD10LnZpcnR1YWw/LXQuX3ZpcnR1YWxNaW46MCx0LnNpemU9aSx0LnRvdGFsPXIsdC5taW49TWF0aC5taW4odC5tYXgsaS1yKSx0Lm1pblNjYWxlPWkvdSx0LmNlbnRlck9mZnNldD0oci1pKS8yLHQuZW5hYmxlZD10LmZvcmNlZEVuYWJsZWR8fHI+aSxufHx0LnRyaWdnZXIoYSx0KSl9fSksZmk9by5leHRlbmQoe2luaXQ6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcztvLmZuLmluaXQuY2FsbCh0KTt0Lng9bmV3IGR0KHIoe2hvcml6b250YWw6ITB9LG4pKTt0Lnk9bmV3IGR0KHIoe2hvcml6b250YWw6ITF9LG4pKTt0LmNvbnRhaW5lcj1uLmNvbnRhaW5lcjt0LmZvcmNlZE1pblNjYWxlPW4ubWluU2NhbGU7dC5tYXhTY2FsZT1uLm1heFNjYWxlfHwxMDA7dC5iaW5kKGEsbil9LHJlc2NhbGU6ZnVuY3Rpb24obil7dGhpcy54LnJlc2NhbGUobik7dGhpcy55LnJlc2NhbGUobik7dGhpcy5yZWZyZXNoKCl9LGNlbnRlckNvb3JkaW5hdGVzOmZ1bmN0aW9uKCl7cmV0dXJue3g6TWF0aC5taW4oMCwtdGhpcy54LmNlbnRlck9mZnNldCkseTpNYXRoLm1pbigwLC10aGlzLnkuY2VudGVyT2Zmc2V0KX19LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24ueC51cGRhdGUoKTtuLnkudXBkYXRlKCk7bi5lbmFibGVkPW4ueC5lbmFibGVkfHxuLnkuZW5hYmxlZDtuLm1pblNjYWxlPW4uZm9yY2VkTWluU2NhbGV8fE1hdGgubWluKG4ueC5taW5TY2FsZSxuLnkubWluU2NhbGUpO24uZml0U2NhbGU9TWF0aC5tYXgobi54Lm1pblNjYWxlLG4ueS5taW5TY2FsZSk7bi50cmlnZ2VyKGEpfX0pLGd0PW8uZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7cih0LG4pO28uZm4uaW5pdC5jYWxsKHQpfSxvdXRPZkJvdW5kczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpbWVuc2lvbi5vdXRPZkJvdW5kcyh0aGlzLm1vdmFibGVbdGhpcy5heGlzXSl9LGRyYWdNb3ZlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsaT10LmRpbWVuc2lvbixyPXQuYXhpcyx1PXQubW92YWJsZSxmPXVbcl0rbjtpLmVuYWJsZWQmJigoZjxpLm1pbiYmbjwwfHxmPmkubWF4JiZuPjApJiYobio9dC5yZXNpc3RhbmNlKSx1LnRyYW5zbGF0ZUF4aXMocixuKSx0LnRyaWdnZXIoYSx0KSl9fSksZWk9aWkuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQpe3ZhciBmLGUsbyx1LGk9dGhpcztyKGkse2VsYXN0aWM6ITB9LHQpO289aS5lbGFzdGljPy41OjA7dT1pLm1vdmFibGU7aS54PWY9bmV3IGd0KHtheGlzOiJ4IixkaW1lbnNpb246aS5kaW1lbnNpb25zLngscmVzaXN0YW5jZTpvLG1vdmFibGU6dX0pO2kueT1lPW5ldyBndCh7YXhpczoieSIsZGltZW5zaW9uOmkuZGltZW5zaW9ucy55LHJlc2lzdGFuY2U6byxtb3ZhYmxlOnV9KTtpLnVzZXJFdmVudHMuYmluZChbInByZXNzIiwibW92ZSIsImVuZCIsImdlc3R1cmVzdGFydCIsImdlc3R1cmVjaGFuZ2UiXSx7Z2VzdHVyZXN0YXJ0OmZ1bmN0aW9uKG4pe2kuZ2VzdHVyZT1uO2kub2Zmc2V0PWkuZGltZW5zaW9ucy5jb250YWluZXIub2Zmc2V0KCl9LHByZXNzOmZ1bmN0aW9uKHQpe24odC5ldmVudC50YXJnZXQpLmNsb3Nlc3QoImEiKS5pcygiW2RhdGEtbmF2aWdhdGUtb24tcHJlc3M9dHJ1ZV0iKSYmdC5zZW5kZXIuY2FuY2VsKCl9LGdlc3R1cmVjaGFuZ2U6ZnVuY3Rpb24obil7dmFyIHIsbyxzLGg9aS5nZXN0dXJlLGM9aC5jZW50ZXIsbD1uLmNlbnRlcix0PW4uZGlzdGFuY2UvaC5kaXN0YW5jZSx2PWkuZGltZW5zaW9ucy5taW5TY2FsZSxhPWkuZGltZW5zaW9ucy5tYXhTY2FsZTt1LnNjYWxlPD12JiZ0PDEmJih0Kz0uOCooMS10KSk7dS5zY2FsZSp0Pj1hJiYodD1hL3Uuc2NhbGUpO289dS54K2kub2Zmc2V0LmxlZnQ7cz11LnkraS5vZmZzZXQudG9wO3I9e3g6KG8tYy54KSp0K2wueC1vLHk6KHMtYy55KSp0K2wueS1zfTt1LnNjYWxlV2l0aCh0KTtmLmRyYWdNb3ZlKHIueCk7ZS5kcmFnTW92ZShyLnkpO2kuZGltZW5zaW9ucy5yZXNjYWxlKHUuc2NhbGUpO2kuZ2VzdHVyZT1uO24ucHJldmVudERlZmF1bHQoKX0sbW92ZTpmdW5jdGlvbihuKXtuLmV2ZW50LnRhcmdldC50YWdOYW1lLm1hdGNoKC90ZXh0YXJlYXxpbnB1dC9pKXx8KGYuZGltZW5zaW9uLmVuYWJsZWR8fGUuZGltZW5zaW9uLmVuYWJsZWQ/KGYuZHJhZ01vdmUobi54LmRlbHRhKSxlLmRyYWdNb3ZlKG4ueS5kZWx0YSksbi5wcmV2ZW50RGVmYXVsdCgpKTpuLnRvdWNoLnNraXAoKSl9LGVuZDpmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCl9fSl9fSksb2k9ZC50cmFuc2l0aW9ucy5wcmVmaXgrIlRyYW5zZm9ybSI7az1kLmhhc0hXM0Q/ZnVuY3Rpb24obix0LGkpe3JldHVybiJ0cmFuc2xhdGUzZCgiK24rInB4LCIrdCsicHgsMCkgc2NhbGUoIitpKyIpIn06ZnVuY3Rpb24obix0LGkpe3JldHVybiJ0cmFuc2xhdGUoIituKyJweCwiK3QrInB4KSBzY2FsZSgiK2krIikifTtzdD1vLmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0KXt2YXIgaT10aGlzO28uZm4uaW5pdC5jYWxsKGkpO2kuZWxlbWVudD1uKHQpO2kuZWxlbWVudFswXS5zdHlsZS53ZWJraXRUcmFuc2Zvcm1PcmlnaW49ImxlZnQgdG9wIjtpLng9MDtpLnk9MDtpLnNjYWxlPTE7aS5fc2F2ZUNvb3JkaW5hdGVzKGsoaS54LGkueSxpLnNjYWxlKSl9LHRyYW5zbGF0ZUF4aXM6ZnVuY3Rpb24obix0KXt0aGlzW25dKz10O3RoaXMucmVmcmVzaCgpfSxzY2FsZVRvOmZ1bmN0aW9uKG4pe3RoaXMuc2NhbGU9bjt0aGlzLnJlZnJlc2goKX0sc2NhbGVXaXRoOmZ1bmN0aW9uKG4pe3RoaXMuc2NhbGUqPW47dGhpcy5yZWZyZXNoKCl9LHRyYW5zbGF0ZTpmdW5jdGlvbihuKXt0aGlzLngrPW4ueDt0aGlzLnkrPW4ueTt0aGlzLnJlZnJlc2goKX0sbW92ZUF4aXM6ZnVuY3Rpb24obix0KXt0aGlzW25dPXQ7dGhpcy5yZWZyZXNoKCl9LG1vdmVUbzpmdW5jdGlvbihuKXtyKHRoaXMsbik7dGhpcy5yZWZyZXNoKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgdCxuPXRoaXMscj1uLngsdT1uLnk7bi5yb3VuZCYmKHI9TWF0aC5yb3VuZChyKSx1PU1hdGgucm91bmQodSkpO3Q9ayhyLHUsbi5zY2FsZSk7dCE9bi5jb29yZGluYXRlcyYmKGkuc3VwcG9ydC5icm93c2VyLm1zaWUmJmkuc3VwcG9ydC5icm93c2VyLnZlcnNpb248MTA/KG4uZWxlbWVudFswXS5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiLG4uZWxlbWVudFswXS5zdHlsZS5sZWZ0PW4ueCsicHgiLG4uZWxlbWVudFswXS5zdHlsZS50b3A9bi55KyJweCIpOm4uZWxlbWVudFswXS5zdHlsZVtvaV09dCxuLl9zYXZlQ29vcmRpbmF0ZXModCksbi50cmlnZ2VyKGEpKX0sX3NhdmVDb29yZGluYXRlczpmdW5jdGlvbihuKXt0aGlzLmNvb3JkaW5hdGVzPW59fSk7bD1zLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihuLHQpe3ZhciBpLHI9dGhpcztzLmZuLmluaXQuY2FsbChyLG4sdCk7aT1yLm9wdGlvbnMuZ3JvdXA7aSBpbiBoP2hbaV0ucHVzaChyKTpoW2ldPVtyXX0sZXZlbnRzOlt0dCx3LGt0XSxvcHRpb25zOntuYW1lOiJEcm9wVGFyZ2V0Iixncm91cDoiZGVmYXVsdCJ9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt1dChoLHRoaXMpfSxfdHJpZ2dlcjpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMsdT1wW2kub3B0aW9ucy5ncm91cF07aWYodSlyZXR1cm4gaS50cmlnZ2VyKG4scih7fSx0LmV2ZW50LHtkcmFnZ2FibGU6dSxkcm9wVGFyZ2V0OnQuZHJvcFRhcmdldH0pKX0sX292ZXI6ZnVuY3Rpb24obil7dGhpcy5fdHJpZ2dlcih0dCxuKX0sX291dDpmdW5jdGlvbihuKXt0aGlzLl90cmlnZ2VyKHcsbil9LF9kcm9wOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsaT1wW3Qub3B0aW9ucy5ncm91cF07aSYmKGkuZHJvcHBlZD0hdC5fdHJpZ2dlcihrdCxuKSl9fSk7bC5kZXN0cm95R3JvdXA9ZnVuY3Rpb24obil7dmFyIHQsaT1oW25dfHxjW25dO2lmKGkpe2Zvcih0PTA7dDxpLmxlbmd0aDt0Kyspcy5mbi5kZXN0cm95LmNhbGwoaVt0XSk7aS5sZW5ndGg9MDtkZWxldGUgaFtuXTtkZWxldGUgY1tuXX19O2wuX2NhY2hlPWg7aHQ9bC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24obix0KXt2YXIgaSxyPXRoaXM7cy5mbi5pbml0LmNhbGwocixuLHQpO2k9ci5vcHRpb25zLmdyb3VwO2kgaW4gYz9jW2ldLnB1c2gocik6Y1tpXT1bcl19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt1dChjLHRoaXMpfSxvcHRpb25zOntuYW1lOiJEcm9wVGFyZ2V0QXJlYSIsZ3JvdXA6ImRlZmF1bHQiLGZpbHRlcjpudWxsfX0pO2N0PXMuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4sdCl7dmFyIHI9dGhpcztzLmZuLmluaXQuY2FsbChyLG4sdCk7ci5fYWN0aXZhdGVkPSExO3IudXNlckV2ZW50cz1uZXcgcmkoci5lbGVtZW50LHtnbG9iYWw6ITAsYWxsb3dTZWxlY3Rpb246ITAsZmlsdGVyOnIub3B0aW9ucy5maWx0ZXIsdGhyZXNob2xkOnIub3B0aW9ucy5kaXN0YW5jZSxzdGFydDp1KHIuX3N0YXJ0LHIpLGhvbGQ6dShyLl9ob2xkLHIpLG1vdmU6dShyLl9kcmFnLHIpLGVuZDp1KHIuX2VuZCxyKSxjYW5jZWw6dShyLl9jYW5jZWwsciksc2VsZWN0OnUoci5fc2VsZWN0LHIpfSk7aS5zdXBwb3J0LnRvdWNoJiZyLmVsZW1lbnQuZmluZChyLm9wdGlvbnMuZmlsdGVyKS5jc3MoInRvdWNoLWFjdGlvbiIsIm5vbmUiKTtyLl9hZnRlckVuZEhhbmRsZXI9dShyLl9hZnRlckVuZCxyKTtyLl9jYXB0dXJlRXNjYXBlPXUoci5fY2FwdHVyZUVzY2FwZSxyKX0sZXZlbnRzOlt2dCxhdCx5dCxwdCx3dCxidF0sb3B0aW9uczp7bmFtZToiRHJhZ2dhYmxlIixkaXN0YW5jZTppLnN1cHBvcnQudG91Y2g/MDo1LGdyb3VwOiJkZWZhdWx0IixjdXJzb3JPZmZzZXQ6bnVsbCxheGlzOm51bGwsY29udGFpbmVyOm51bGwsZmlsdGVyOm51bGwsaWdub3JlOm51bGwsaG9sZFRvRHJhZzohMSxhdXRvU2Nyb2xsOiExLGRyb3BwZWQ6ITF9LGNhbmNlbEhvbGQ6ZnVuY3Rpb24oKXt0aGlzLl9hY3RpdmF0ZWQ9ITF9LF9jYXB0dXJlRXNjYXBlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7bi5rZXlDb2RlPT09aS5rZXlzLkVTQyYmKHQuX3RyaWdnZXIod3Qse2V2ZW50Om59KSx0LnVzZXJFdmVudHMuY2FuY2VsKCkpfSxfdXBkYXRlSGludDpmdW5jdGlvbih0KXt2YXIgaSxyPXRoaXMsbz1yLm9wdGlvbnMsdT1yLmJvdW5kYXJpZXMsZT1vLmF4aXMsZj1yLm9wdGlvbnMuY3Vyc29yT2Zmc2V0O2Y/aT17bGVmdDp0LngubG9jYXRpb24rZi5sZWZ0LHRvcDp0LnkubG9jYXRpb24rZi50b3B9OihyLmhpbnRPZmZzZXQubGVmdCs9dC54LmRlbHRhLHIuaGludE9mZnNldC50b3ArPXQueS5kZWx0YSxpPW4uZXh0ZW5kKHt9LHIuaGludE9mZnNldCkpO3UmJihpLnRvcD1pdChpLnRvcCx1LnkpLGkubGVmdD1pdChpLmxlZnQsdS54KSk7IngiPT09ZT9kZWxldGUgaS50b3A6InkiPT09ZSYmZGVsZXRlIGkubGVmdDtyLmhpbnQuY3NzKGkpfSxfc2hvdWxkSWdub3JlVGFyZ2V0OmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9ucy5pZ25vcmU7cmV0dXJuIGkmJm4odCkuaXMoaSl9LF9zZWxlY3Q6ZnVuY3Rpb24obil7dGhpcy5fc2hvdWxkSWdub3JlVGFyZ2V0KG4uZXZlbnQudGFyZ2V0KXx8bi5wcmV2ZW50RGVmYXVsdCgpfSxfc3RhcnQ6ZnVuY3Rpb24ocil7dmFyIG8sdT10aGlzLGY9dS5vcHRpb25zLGg9Zi5jb250YWluZXI/bihmLmNvbnRhaW5lcik6bnVsbCxzPWYuaGludDtyZXR1cm4gdGhpcy5fc2hvdWxkSWdub3JlVGFyZ2V0KHIudG91Y2guaW5pdGlhbFRvdWNoKXx8Zi5ob2xkVG9EcmFnJiYhdS5fYWN0aXZhdGVkPyh1LnVzZXJFdmVudHMuY2FuY2VsKCksdCk6KHUuY3VycmVudFRhcmdldD1yLnRhcmdldCx1LmN1cnJlbnRUYXJnZXRPZmZzZXQ9Zyh1LmN1cnJlbnRUYXJnZXQpLHMmJih1LmhpbnQmJnUuaGludC5zdG9wKCEwLCEwKS5yZW1vdmUoKSx1LmhpbnQ9aS5pc0Z1bmN0aW9uKHMpP24ocy5jYWxsKHUsdS5jdXJyZW50VGFyZ2V0KSk6cyxvPWcodS5jdXJyZW50VGFyZ2V0KSx1LmhpbnRPZmZzZXQ9byx1LmhpbnQuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLHpJbmRleDoyZTQsbGVmdDpvLmxlZnQsdG9wOm8udG9wfSkuYXBwZW5kVG8oZS5ib2R5KSx1LmFuZ3VsYXIoImNvbXBpbGUiLGZ1bmN0aW9uKCl7dS5oaW50LnJlbW92ZUF0dHIoIm5nLXJlcGVhdCIpO2Zvcih2YXIgdD1uKHIudGFyZ2V0KTshdC5kYXRhKCIkJGtlbmRvU2NvcGUiKSYmdC5sZW5ndGg7KXQ9dC5wYXJlbnQoKTtyZXR1cm57ZWxlbWVudHM6dS5oaW50LmdldCgpLHNjb3BlRnJvbTp0LmRhdGEoIiQka2VuZG9TY29wZSIpfX0pKSxwW2YuZ3JvdXBdPXUsdS5kcm9wcGVkPSExLGgmJih1LmJvdW5kYXJpZXM9cnQoaCx1LmhpbnQpKSxuKGUpLm9uKGx0LHUuX2NhcHR1cmVFc2NhcGUpLHUuX3RyaWdnZXIoYXQscikmJih1LnVzZXJFdmVudHMuY2FuY2VsKCksdS5fYWZ0ZXJFbmQoKSksdS51c2VyRXZlbnRzLmNhcHR1cmUoKSx0KX0sX2hvbGQ6ZnVuY3Rpb24obil7dGhpcy5jdXJyZW50VGFyZ2V0PW4udGFyZ2V0O3RoaXMuX3RyaWdnZXIodnQsbik/dGhpcy51c2VyRXZlbnRzLmNhbmNlbCgpOnRoaXMuX2FjdGl2YXRlZD0hMH0sX2RyYWc6ZnVuY3Rpb24odCl7dmFyIGkscjt0LnByZXZlbnREZWZhdWx0KCk7aT10aGlzLl9lbGVtZW50VW5kZXJDdXJzb3IodCk7dGhpcy5vcHRpb25zLmF1dG9TY3JvbGwmJnRoaXMuX2N1cnNvckVsZW1lbnQhPT1pJiYodGhpcy5fc2Nyb2xsYWJsZVBhcmVudD1ldChpKSx0aGlzLl9jdXJzb3JFbGVtZW50PWkpO3RoaXMuX2xhc3RFdmVudD10O3RoaXMuX3Byb2Nlc3NNb3ZlbWVudCh0LGkpO3RoaXMub3B0aW9ucy5hdXRvU2Nyb2xsJiZ0aGlzLl9zY3JvbGxhYmxlUGFyZW50WzBdJiYocj1vdCh0LngubG9jYXRpb24sdC55LmxvY2F0aW9uLGZ0KHRoaXMuX3Njcm9sbGFibGVQYXJlbnQpKSx0aGlzLl9zY3JvbGxDb21wZW5zdGF0aW9uPW4uZXh0ZW5kKHt9LHRoaXMuaGludE9mZnNldCksdGhpcy5fc2Nyb2xsVmVsb2NpdHk9ciwwPT09ci55JiYwPT09ci54PyhjbGVhckludGVydmFsKHRoaXMuX3Njcm9sbEludGVydmFsKSx0aGlzLl9zY3JvbGxJbnRlcnZhbD1udWxsKTp0aGlzLl9zY3JvbGxJbnRlcnZhbHx8KHRoaXMuX3Njcm9sbEludGVydmFsPXNldEludGVydmFsKG4ucHJveHkodGhpcywiX2F1dG9TY3JvbGwiKSw1MCkpKTt0aGlzLmhpbnQmJnRoaXMuX3VwZGF0ZUhpbnQodCl9LF9wcm9jZXNzTW92ZW1lbnQ6ZnVuY3Rpb24oaSx1KXt0aGlzLl93aXRoRHJvcFRhcmdldCh1LGZ1bmN0aW9uKHUsZSl7aWYoIXUpcmV0dXJuIGYmJihmLl90cmlnZ2VyKHcscihpLHtkcm9wVGFyZ2V0Om4oZi50YXJnZXRFbGVtZW50KX0pKSxmPW51bGwpLHQ7aWYoZil7aWYoZT09PWYudGFyZ2V0RWxlbWVudClyZXR1cm47Zi5fdHJpZ2dlcih3LHIoaSx7ZHJvcFRhcmdldDpuKGYudGFyZ2V0RWxlbWVudCl9KSl9dS5fdHJpZ2dlcih0dCxyKGkse2Ryb3BUYXJnZXQ6bihlKX0pKTtmPXIodSx7dGFyZ2V0RWxlbWVudDplfSl9KTt0aGlzLl90cmlnZ2VyKHl0LHIoaSx7ZHJvcFRhcmdldDpmLGVsZW1lbnRVbmRlckN1cnNvcjp1fSkpfSxfYXV0b1Njcm9sbDpmdW5jdGlvbigpe3ZhciBsLHUsZixvLHMsaSxoLHIsbj10aGlzLl9zY3JvbGxhYmxlUGFyZW50WzBdLHQ9dGhpcy5fc2Nyb2xsVmVsb2NpdHksYz10aGlzLl9zY3JvbGxDb21wZW5zdGF0aW9uO24mJihsPXRoaXMuX2VsZW1lbnRVbmRlckN1cnNvcih0aGlzLl9sYXN0RXZlbnQpLHRoaXMuX3Byb2Nlc3NNb3ZlbWVudCh0aGlzLl9sYXN0RXZlbnQsbCksbz1uPT09YigpWzBdLG8/KHU9ZS5ib2R5LnNjcm9sbEhlaWdodD55LmhlaWdodCgpLGY9ZS5ib2R5LnNjcm9sbFdpZHRoPnkud2lkdGgoKSk6KHU9bi5vZmZzZXRIZWlnaHQ8PW4uc2Nyb2xsSGVpZ2h0LGY9bi5vZmZzZXRXaWR0aDw9bi5zY3JvbGxXaWR0aCkscz1uLnNjcm9sbFRvcCt0LnksaT11JiZzPjAmJnM8bi5zY3JvbGxIZWlnaHQsaD1uLnNjcm9sbExlZnQrdC54LHI9ZiYmaD4wJiZoPG4uc2Nyb2xsV2lkdGgsaSYmKG4uc2Nyb2xsVG9wKz10LnkpLHImJihuLnNjcm9sbExlZnQrPXQueCksdGhpcy5oaW50JiZvJiYocnx8aSkmJihpJiYoYy50b3ArPXQueSksciYmKGMubGVmdCs9dC54KSx0aGlzLmhpbnQuY3NzKGMpKSl9LF9lbmQ6ZnVuY3Rpb24odCl7dGhpcy5fd2l0aERyb3BUYXJnZXQodGhpcy5fZWxlbWVudFVuZGVyQ3Vyc29yKHQpLGZ1bmN0aW9uKGksdSl7aSYmKGkuX2Ryb3Aocih7fSx0LHtkcm9wVGFyZ2V0Om4odSl9KSksZj1udWxsKX0pO3RoaXMuX2NhbmNlbCh0aGlzLl90cmlnZ2VyKHB0LHQpKX0sX2NhbmNlbDpmdW5jdGlvbihuKXt2YXIgdD10aGlzO3QuX3Njcm9sbGFibGVQYXJlbnQ9bnVsbDt0aGlzLl9jdXJzb3JFbGVtZW50PW51bGw7Y2xlYXJJbnRlcnZhbCh0aGlzLl9zY3JvbGxJbnRlcnZhbCk7dC5fYWN0aXZhdGVkPSExO3QuaGludCYmIXQuZHJvcHBlZD9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5oaW50LnN0b3AoITAsITApO24/dC5fYWZ0ZXJFbmRIYW5kbGVyKCk6dC5oaW50LmFuaW1hdGUodC5jdXJyZW50VGFyZ2V0T2Zmc2V0LCJmYXN0Iix0Ll9hZnRlckVuZEhhbmRsZXIpfSwwKTp0Ll9hZnRlckVuZCgpfSxfdHJpZ2dlcjpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXM7cmV0dXJuIGkudHJpZ2dlcihuLHIoe30sdC5ldmVudCx7eDp0LngseTp0LnksY3VycmVudFRhcmdldDppLmN1cnJlbnRUYXJnZXQsaW5pdGlhbFRhcmdldDp0LnRvdWNoP3QudG91Y2guaW5pdGlhbFRvdWNoOm51bGwsZHJvcFRhcmdldDp0LmRyb3BUYXJnZXQsZWxlbWVudFVuZGVyQ3Vyc29yOnQuZWxlbWVudFVuZGVyQ3Vyc29yfSkpfSxfZWxlbWVudFVuZGVyQ3Vyc29yOmZ1bmN0aW9uKG4pe3ZhciB0PW50KG4pLGk9dGhpcy5oaW50O3JldHVybiBpJiZuaShpWzBdLHQpJiYoaS5oaWRlKCksdD1udChuKSx0fHwodD1udChuKSksaS5zaG93KCkpLHR9LF93aXRoRHJvcFRhcmdldDpmdW5jdGlvbihuLHQpe3ZhciBpLGY9dGhpcy5vcHRpb25zLmdyb3VwLHI9aFtmXSx1PWNbZl07KHImJnIubGVuZ3RofHx1JiZ1Lmxlbmd0aCkmJihpPXRpKG4scix1KSxpP3QoaS50YXJnZXQsaS50YXJnZXRFbGVtZW50KTp0KCkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIG49dGhpcztzLmZuLmRlc3Ryb3kuY2FsbChuKTtuLl9hZnRlckVuZCgpO24udXNlckV2ZW50cy5kZXN0cm95KCk7dGhpcy5fc2Nyb2xsYWJsZVBhcmVudD1udWxsO3RoaXMuX2N1cnNvckVsZW1lbnQ9bnVsbDtjbGVhckludGVydmFsKHRoaXMuX3Njcm9sbEludGVydmFsKTtuLmN1cnJlbnRUYXJnZXQ9bnVsbH0sX2FmdGVyRW5kOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LmhpbnQmJnQuaGludC5yZW1vdmUoKTtkZWxldGUgcFt0Lm9wdGlvbnMuZ3JvdXBdO3QudHJpZ2dlcigiZGVzdHJveSIpO3QudHJpZ2dlcihidCk7bihlKS5vZmYobHQsdC5fY2FwdHVyZUVzY2FwZSl9fSk7aS51aS5wbHVnaW4obCk7aS51aS5wbHVnaW4oaHQpO2kudWkucGx1Z2luKGN0KTtpLlRhcENhcHR1cmU9dWk7aS5jb250YWluZXJCb3VuZGFyaWVzPXJ0O3IoaS51aSx7UGFuZTplaSxQYW5lRGltZW5zaW9uczpmaSxNb3ZhYmxlOnN0fSk7aS51aS5EcmFnZ2FibGUudXRpbHM9e2F1dG9TY3JvbGxWZWxvY2l0eTpvdCxzY3JvbGxhYmxlVmlld1BvcnQ6ZnQsZmluZFNjcm9sbGFibGVQYXJlbnQ6ZXR9fSh3aW5kb3cua2VuZG8ualF1ZXJ5KSx3aW5kb3cua2VuZG99LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lOmZ1bmN0aW9uKG4sdCxpKXsoaXx8dCkoKX0pOwovKiEKICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwohZnVuY3Rpb24obix0KXt0KCJrZW5kby5wb3B1cC5taW4iLFsia2VuZG8uY29yZS5taW4iXSxuKX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obix0KXtmdW5jdGlvbiBrKHQsaSl7cmV0dXJuISghdHx8IWkpJiYodD09PWl8fG4uY29udGFpbnModCxpKSl9dmFyIGV0LGEsb3Qsc3QsaT13aW5kb3cua2VuZG8sZD1pLnVpLGc9ZC5XaWRnZXQsa3Q9aS5DbGFzcyxyPWkuc3VwcG9ydCxlPWkuZ2V0T2Zmc2V0LG89aS5fb3V0ZXJXaWR0aCxmPWkuX291dGVySGVpZ2h0LG50PSJvcGVuIix0dD0iY2xvc2UiLGh0PSJkZWFjdGl2YXRlIixjdD0iYWN0aXZhdGUiLHM9ImNlbnRlciIsbHQ9ImxlZnQiLHY9InJpZ2h0Iix5PSJ0b3AiLHA9ImJvdHRvbSIsdz0iYWJzb2x1dGUiLGl0PSJoaWRkZW4iLHJ0PSJib2R5Iix1dD0ibG9jYXRpb24iLGw9InBvc2l0aW9uIixhdD0idmlzaWJsZSIsdnQ9ImVmZmVjdHMiLHl0PSJrLXN0YXRlLWFjdGl2ZSIsYj0iay1zdGF0ZS1ib3JkZXIiLGR0PS9rLXN0YXRlLWJvcmRlci0oXHcrKS8scHQ9Ii5rLXBpY2tlci13cmFwLCAuay1kcm9wZG93bi13cmFwLCAuay1saW5rIixndD0iZG93biIsZnQ9bihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLG5pPW4ucHJveHksdGk9bih3aW5kb3cpLHd0PSJzY3JvbGwiLGlpPXIudHJhbnNpdGlvbnMuY3NzLGJ0PWlpKyJ0cmFuc2Zvcm0iLHU9bi5leHRlbmQsaD0iLmtlbmRvUG9wdXAiLGM9WyJmb250LXNpemUiLCJmb250LWZhbWlseSIsImZvbnQtc3RyZXRjaCIsImZvbnQtc3R5bGUiLCJmb250LXdlaWdodCIsImxpbmUtaGVpZ2h0Il0scmk9Zy5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCxmKXt2YXIgbyxlPXRoaXM7Zj1mfHx7fTtmLmlzUnRsJiYoZi5vcmlnaW49Zi5vcmlnaW58fHArIiAiK3YsZi5wb3NpdGlvbj1mLnBvc2l0aW9ufHx5KyIgIit2KTtnLmZuLmluaXQuY2FsbChlLHQsZik7dD1lLmVsZW1lbnQ7Zj1lLm9wdGlvbnM7ZS5jb2xsaXNpb25zPWYuY29sbGlzaW9uP2YuY29sbGlzaW9uLnNwbGl0KCIgIik6W107ZS5kb3duRXZlbnQ9aS5hcHBseUV2ZW50TWFwKGd0LGkuZ3VpZCgpKTsxPT09ZS5jb2xsaXNpb25zLmxlbmd0aCYmZS5jb2xsaXNpb25zLnB1c2goZS5jb2xsaXNpb25zWzBdKTtvPW4oZS5vcHRpb25zLmFuY2hvcikuY2xvc2VzdCgiLmstcG9wdXAsLmstZ3JvdXAiKS5maWx0ZXIoIjpub3QoW2NsYXNzXj1rbS1dKSIpO2YuYXBwZW5kVG89bihuKGYuYXBwZW5kVG8pWzBdfHxvWzBdfHxkb2N1bWVudC5ib2R5KTtlLmVsZW1lbnQuaGlkZSgpLmFkZENsYXNzKCJrLXBvcHVwIGstZ3JvdXAgay1yZXNldCIpLnRvZ2dsZUNsYXNzKCJrLXJ0bCIsISFmLmlzUnRsKS5jc3Moe3Bvc2l0aW9uOnd9KS5hcHBlbmRUbyhmLmFwcGVuZFRvKS5hdHRyKCJhcmlhLWhpZGRlbiIsITApLm9uKCJtb3VzZWVudGVyIitoLGZ1bmN0aW9uKCl7ZS5faG92ZXJlZD0hMH0pLm9uKCJ3aGVlbCIraCxmdW5jdGlvbih0KXt2YXIgcj1uKHQudGFyZ2V0KS5maW5kKCIuay1saXN0IiksaT1yLnBhcmVudCgpO3IubGVuZ3RoJiZyLmlzKCI6dmlzaWJsZSIpJiYoMD09PWkuc2Nyb2xsVG9wKCkmJnQub3JpZ2luYWxFdmVudC5kZWx0YVk8MHx8aS5zY3JvbGxUb3AoKT09PWkucHJvcCgic2Nyb2xsSGVpZ2h0IiktaS5wcm9wKCJvZmZzZXRIZWlnaHQiKSYmdC5vcmlnaW5hbEV2ZW50LmRlbHRhWT4wKSYmdC5wcmV2ZW50RGVmYXVsdCgpfSkub24oIm1vdXNlbGVhdmUiK2gsZnVuY3Rpb24oKXtlLl9ob3ZlcmVkPSExfSk7ZS53cmFwcGVyPW4oKTtmLmFuaW1hdGlvbj09PSExJiYoZi5hbmltYXRpb249e29wZW46e2VmZmVjdHM6e319LGNsb3NlOntoaWRlOiEwLGVmZmVjdHM6e319fSk7dShmLmFuaW1hdGlvbi5vcGVuLHtjb21wbGV0ZTpmdW5jdGlvbigpe2Uud3JhcHBlci5jc3Moe292ZXJmbG93OmF0fSk7ZS5fYWN0aXZhdGVkPSEwO2UuX3RyaWdnZXIoY3QpfX0pO3UoZi5hbmltYXRpb24uY2xvc2Use2NvbXBsZXRlOmZ1bmN0aW9uKCl7ZS5fYW5pbWF0aW9uQ2xvc2UoKX19KTtlLl9tb3VzZWRvd25Qcm94eT1mdW5jdGlvbihuKXtlLl9tb3VzZWRvd24obil9O2UuX3Jlc2l6ZVByb3h5PXIubW9iaWxlT1MuYW5kcm9pZD9mdW5jdGlvbihuKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5fcmVzaXplKG4pfSw2MDApfTpmdW5jdGlvbihuKXtlLl9yZXNpemUobil9O2YudG9nZ2xlVGFyZ2V0JiZuKGYudG9nZ2xlVGFyZ2V0KS5vbihmLnRvZ2dsZUV2ZW50K2gsbi5wcm94eShlLnRvZ2dsZSxlKSl9LGV2ZW50czpbbnQsY3QsdHQsaHRdLG9wdGlvbnM6e25hbWU6IlBvcHVwIix0b2dnbGVFdmVudDoiY2xpY2siLG9yaWdpbjpwKyIgIitsdCxwb3NpdGlvbjp5KyIgIitsdCxhbmNob3I6cnQsYXBwZW5kVG86bnVsbCxjb2xsaXNpb246ImZsaXAgZml0Iix2aWV3cG9ydDp3aW5kb3csY29weUFuY2hvclN0eWxlczohMCxhdXRvc2l6ZTohMSxtb2RhbDohMSxhZGp1c3RTaXplOnt3aWR0aDowLGhlaWdodDowfSxhbmltYXRpb246e29wZW46e2VmZmVjdHM6InNsaWRlSW46ZG93biIsdHJhbnNpdGlvbjohMCxkdXJhdGlvbjoyMDB9LGNsb3NlOntkdXJhdGlvbjoxMDAsaGlkZTohMH19fSxfYW5pbWF0aW9uQ2xvc2U6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ9bi53cmFwcGVyLmRhdGEodXQpO24ud3JhcHBlci5oaWRlKCk7dCYmbi53cmFwcGVyLmNzcyh0KTtuLm9wdGlvbnMuYW5jaG9yIT1ydCYmbi5faGlkZURpckNsYXNzKCk7bi5fY2xvc2luZz0hMTtuLl90cmlnZ2VyKGh0KX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciB1LHQ9dGhpcyxyPXQub3B0aW9ucyxmPXQuZWxlbWVudC5vZmYoaCk7Zy5mbi5kZXN0cm95LmNhbGwodCk7ci50b2dnbGVUYXJnZXQmJm4oci50b2dnbGVUYXJnZXQpLm9mZihoKTtyLm1vZGFsfHwoZnQub2ZmKHQuZG93bkV2ZW50LHQuX21vdXNlZG93blByb3h5KSx0Ll90b2dnbGVSZXNpemUoITEpKTtpLmRlc3Ryb3kodC5lbGVtZW50LmNoaWxkcmVuKCkpO2YucmVtb3ZlRGF0YSgpO3IuYXBwZW5kVG9bMF09PT1kb2N1bWVudC5ib2R5JiYodT1mLnBhcmVudCgiLmstYW5pbWF0aW9uLWNvbnRhaW5lciIpLHVbMF0/dS5yZW1vdmUoKTpmLnJlbW92ZSgpKX0sb3BlbjpmdW5jdGlvbih0LHUpe3ZhciBzLGgsZj10aGlzLGE9e2lzRml4ZWQ6IWlzTmFOKHBhcnNlSW50KHUsMTApKSx4OnQseTp1fSxlPWYuZWxlbWVudCxvPWYub3B0aW9ucyx2PW4oby5hbmNob3IpLHA9ZVswXSYmZS5oYXNDbGFzcygia20td2lkZ2V0Iik7aWYoIWYudmlzaWJsZSgpKXtpZihvLmNvcHlBbmNob3JTdHlsZXMmJihwJiYiZm9udC1zaXplIj09Y1swXSYmYy5zaGlmdCgpLGUuY3NzKGkuZ2V0Q29tcHV0ZWRTdHlsZXModlswXSxjKSkpLGUuZGF0YSgiYW5pbWF0aW5nIil8fGYuX3RyaWdnZXIobnQpKXJldHVybjtmLl9hY3RpdmF0ZWQ9ITE7by5tb2RhbHx8KGZ0Lm9mZihmLmRvd25FdmVudCxmLl9tb3VzZWRvd25Qcm94eSkub24oZi5kb3duRXZlbnQsZi5fbW91c2Vkb3duUHJveHkpLGYuX3RvZ2dsZVJlc2l6ZSghMSksZi5fdG9nZ2xlUmVzaXplKCEwKSk7Zi53cmFwcGVyPWg9aS53cmFwKGUsby5hdXRvc2l6ZSkuY3NzKHtvdmVyZmxvdzppdCxkaXNwbGF5OiJibG9jayIscG9zaXRpb246d30pLmF0dHIoImFyaWEtaGlkZGVuIiwhMSk7ci5tb2JpbGVPUy5hbmRyb2lkJiZoLmNzcyhidCwidHJhbnNsYXRleigwKSIpO2guY3NzKGwpO24oby5hcHBlbmRUbylbMF09PWRvY3VtZW50LmJvZHkmJmguY3NzKHksIi0xMDAwMHB4Iik7Zi5mbGlwcGVkPWYuX3Bvc2l0aW9uKGEpO3M9Zi5fb3BlbkFuaW1hdGlvbigpO28uYW5jaG9yIT1ydCYmZi5fc2hvd0RpckNsYXNzKHMpO2UuZGF0YSh2dCxzLmVmZmVjdHMpLmtlbmRvU3RvcCghMCkua2VuZG9BbmltYXRlKHMpLmF0dHIoImFyaWEtaGlkZGVuIiwhMSl9fSxfbG9jYXRpb246ZnVuY3Rpb24odCl7dmFyIHUscyxmPXRoaXMsZT1mLmVsZW1lbnQsbz1mLm9wdGlvbnMsaD1uKG8uYW5jaG9yKSxhPWVbMF0mJmUuaGFzQ2xhc3MoImttLXdpZGdldCIpO3JldHVybiBvLmNvcHlBbmNob3JTdHlsZXMmJihhJiYiZm9udC1zaXplIj09Y1swXSYmYy5zaGlmdCgpLGUuY3NzKGkuZ2V0Q29tcHV0ZWRTdHlsZXMoaFswXSxjKSkpLGYud3JhcHBlcj11PWkud3JhcChlLG8uYXV0b3NpemUpLmNzcyh7b3ZlcmZsb3c6aXQsZGlzcGxheToiYmxvY2siLHBvc2l0aW9uOnd9KSxyLm1vYmlsZU9TLmFuZHJvaWQmJnUuY3NzKGJ0LCJ0cmFuc2xhdGV6KDApIiksdS5jc3MobCksbihvLmFwcGVuZFRvKVswXT09ZG9jdW1lbnQuYm9keSYmdS5jc3MoeSwiLTEwMDAwcHgiKSxmLl9wb3NpdGlvbih0fHx7fSkscz11Lm9mZnNldCgpLHt3aWR0aDppLl9vdXRlcldpZHRoKHUpLGhlaWdodDppLl9vdXRlckhlaWdodCh1KSxsZWZ0OnMubGVmdCx0b3A6cy50b3B9fSxfb3BlbkFuaW1hdGlvbjpmdW5jdGlvbigpe3ZhciBuPXUoITAse30sdGhpcy5vcHRpb25zLmFuaW1hdGlvbi5vcGVuKTtyZXR1cm4gbi5lZmZlY3RzPWkucGFyc2VFZmZlY3RzKG4uZWZmZWN0cyx0aGlzLmZsaXBwZWQpLG59LF9oaWRlRGlyQ2xhc3M6ZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMub3B0aW9ucy5hbmNob3IpLHI9KCh0LmF0dHIoImNsYXNzIil8fCIiKS5tYXRjaChkdCl8fFsiIiwiZG93biJdKVsxXSx1PWIrIi0iK3I7dC5yZW1vdmVDbGFzcyh1KS5jaGlsZHJlbihwdCkucmVtb3ZlQ2xhc3MoeXQpLnJlbW92ZUNsYXNzKHUpO3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhiKyItIitpLmRpcmVjdGlvbnNbcl0ucmV2ZXJzZSl9LF9zaG93RGlyQ2xhc3M6ZnVuY3Rpb24odCl7dmFyIHI9dC5lZmZlY3RzLnNsaWRlSW4/dC5lZmZlY3RzLnNsaWRlSW4uZGlyZWN0aW9uOiJkb3duIix1PWIrIi0iK3I7bih0aGlzLm9wdGlvbnMuYW5jaG9yKS5hZGRDbGFzcyh1KS5jaGlsZHJlbihwdCkuYWRkQ2xhc3MoeXQpLmFkZENsYXNzKHUpO3RoaXMuZWxlbWVudC5hZGRDbGFzcyhiKyItIitpLmRpcmVjdGlvbnNbcl0ucmV2ZXJzZSl9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7dGhpcy52aXNpYmxlKCkmJih0aGlzLmZsaXBwZWQ9dGhpcy5fcG9zaXRpb24oKSl9LHRvZ2dsZTpmdW5jdGlvbigpe3ZhciBuPXRoaXM7bltuLnZpc2libGUoKT90dDpudF0oKX0sdmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuaXMoIjoiK2F0KX0sY2xvc2U6ZnVuY3Rpb24ocil7dmFyIGgsZSxvLHMsZj10aGlzLGM9Zi5vcHRpb25zO2lmKGYudmlzaWJsZSgpKXtpZihoPWYud3JhcHBlclswXT9mLndyYXBwZXI6aS53cmFwKGYuZWxlbWVudCkuaGlkZSgpLGYuX3RvZ2dsZVJlc2l6ZSghMSksZi5fY2xvc2luZ3x8Zi5fdHJpZ2dlcih0dCkpcmV0dXJuIGYuX3RvZ2dsZVJlc2l6ZSghMCksdDtmLmVsZW1lbnQuZmluZCgiLmstcG9wdXAiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKSx0PWkuZGF0YSgia2VuZG9Qb3B1cCIpO3QmJnQuY2xvc2Uocil9KTtmdC5vZmYoZi5kb3duRXZlbnQsZi5fbW91c2Vkb3duUHJveHkpO3I/ZT17aGlkZTohMCxlZmZlY3RzOnt9fTooZT11KCEwLHt9LGMuYW5pbWF0aW9uLmNsb3NlKSxvPWYuZWxlbWVudC5kYXRhKHZ0KSxzPWUuZWZmZWN0cywhcyYmIWkuc2l6ZShzKSYmbyYmaS5zaXplKG8pJiYoZS5lZmZlY3RzPW8sZS5yZXZlcnNlPSEwKSxmLl9jbG9zaW5nPSEwKTtmLmVsZW1lbnQua2VuZG9TdG9wKCEwKS5hdHRyKCJhcmlhLWhpZGRlbiIsITApO2guY3NzKHtvdmVyZmxvdzppdH0pLmF0dHIoImFyaWEtaGlkZGVuIiwhMCk7Zi5lbGVtZW50LmtlbmRvQW5pbWF0ZShlKTtyJiZmLl9hbmltYXRpb25DbG9zZSgpfX0sX3RyaWdnZXI6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMudHJpZ2dlcihuLHt0eXBlOm59KX0sX3Jlc2l6ZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzO3IucmVzaXplLmluZGV4T2Yobi50eXBlKSE9PS0xPyhjbGVhclRpbWVvdXQodC5fcmVzaXplVGltZW91dCksdC5fcmVzaXplVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fcG9zaXRpb24oKTt0Ll9yZXNpemVUaW1lb3V0PW51bGx9LDUwKSk6KCF0Ll9ob3ZlcmVkfHx0Ll9hY3RpdmF0ZWQmJnQuZWxlbWVudC5oYXNDbGFzcygiay1saXN0LWNvbnRhaW5lciIpKSYmdC5jbG9zZSgpfSxfdG9nZ2xlUmVzaXplOmZ1bmN0aW9uKG4pe3ZhciB0PW4/Im9uIjoib2ZmIixpPXIucmVzaXplO3IubW9iaWxlT1MuaW9zfHxyLm1vYmlsZU9TLmFuZHJvaWR8fHIuYnJvd3Nlci5zYWZhcml8fChpKz0iICIrd3QpO24mJiF0aGlzLnNjcm9sbGFibGVQYXJlbnRzJiYodGhpcy5zY3JvbGxhYmxlUGFyZW50cz10aGlzLl9zY3JvbGxhYmxlUGFyZW50cygpKTt0aGlzLnNjcm9sbGFibGVQYXJlbnRzJiZ0aGlzLnNjcm9sbGFibGVQYXJlbnRzLmxlbmd0aCYmdGhpcy5zY3JvbGxhYmxlUGFyZW50c1t0XSh3dCx0aGlzLl9yZXNpemVQcm94eSk7dGlbdF0oaSx0aGlzLl9yZXNpemVQcm94eSl9LF9tb3VzZWRvd246ZnVuY3Rpb24odCl7dmFyIHU9dGhpcyxzPXUuZWxlbWVudFswXSxlPXUub3B0aW9ucyxoPW4oZS5hbmNob3IpWzBdLG89ZS50b2dnbGVUYXJnZXQsZj1pLmV2ZW50VGFyZ2V0KHQpLHI9bihmKS5jbG9zZXN0KCIuay1wb3B1cCIpLGM9ci5wYXJlbnQoKS5wYXJlbnQoIi5rbS1zaGltIikubGVuZ3RoO3I9clswXTshYyYmciYmciE9PXUuZWxlbWVudFswXXx8InBvcG92ZXIiIT09bih0LnRhcmdldCkuY2xvc2VzdCgiYSIpLmRhdGEoInJlbCIpJiYoayhzLGYpfHxrKGgsZil8fG8mJmsobihvKVswXSxmKXx8dS5jbG9zZSgpKX0sX2ZpdDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9MDtyZXR1cm4gbit0PmkmJihyPWktKG4rdCkpLG48MCYmKHI9LW4pLHJ9LF9mbGlwOmZ1bmN0aW9uKG4sdCxpLHIsdSxmLGUpe3ZhciBvPTA7cmV0dXJuIGU9ZXx8dCxmIT09dSYmZiE9PXMmJnUhPT1zJiYobitlPnImJihvKz0tKGkrdCkpLG4rbzwwJiYobys9aSt0KSksb30sX3Njcm9sbGFibGVQYXJlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcy5vcHRpb25zLmFuY2hvcikucGFyZW50c1VudGlsKCJib2R5IikuZmlsdGVyKGZ1bmN0aW9uKG4sdCl7cmV0dXJuIGkuaXNTY3JvbGxhYmxlKHQpfSl9LF9wb3NpdGlvbjpmdW5jdGlvbih0KXt2YXIgZyxvdCx2LHd0LHN0LHAsbnQsYnQsdHQsYixrdCxrLGMsaHQsY3QsaXQsbHQsaD10aGlzLGF0PWguZWxlbWVudCxzPWgud3JhcHBlcixhPWgub3B0aW9ucyxydD1uKGEudmlld3BvcnQpLGQ9ci56b29tTGV2ZWwoKSxkdD0hIShydFswXT09d2luZG93JiZ3aW5kb3cuaW5uZXJXaWR0aCYmZDw9MS4wMikseT1uKGEuYW5jaG9yKSx2dD1hLm9yaWdpbi50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIikseXQ9YS5wb3NpdGlvbi50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIiksZnQ9aC5jb2xsaXNpb25zLGV0PTEwMDAyLHB0PTAsZ3Q9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2lmKHN0PWEudmlld3BvcnQ9PT13aW5kb3c/e3RvcDp3aW5kb3cucGFnZVlPZmZzZXR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fDAsbGVmdDp3aW5kb3cucGFnZVhPZmZzZXR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHwwfTpydC5vZmZzZXQoKSxkdD8ocD13aW5kb3cuaW5uZXJXaWR0aCxudD13aW5kb3cuaW5uZXJIZWlnaHQpOihwPXJ0LndpZHRoKCksbnQ9cnQuaGVpZ2h0KCkpLGR0JiZndC5zY3JvbGxIZWlnaHQtZ3QuY2xpZW50SGVpZ2h0PjAmJihidD1hLmlzUnRsPy0xOjEscC09YnQqaS5zdXBwb3J0LnNjcm9sbGJhcigpKSxnPXkucGFyZW50cygpLmZpbHRlcihzLnNpYmxpbmdzKCkpLGdbMF0paWYodj1NYXRoLm1heCgrZy5jc3MoInpJbmRleCIpLDApKWV0PXYrMTA7ZWxzZSBmb3Iob3Q9eS5wYXJlbnRzVW50aWwoZyksd3Q9b3QubGVuZ3RoO3B0PHd0O3B0Kyspdj0rbihvdFtwdF0pLmNzcygiekluZGV4IiksdiYmZXQ8diYmKGV0PXYrMTApO3JldHVybiBzLmNzcygiekluZGV4IixldCkscy5jc3ModCYmdC5pc0ZpeGVkP3tsZWZ0OnQueCx0b3A6dC55fTpoLl9hbGlnbih2dCx5dCkpLHR0PWUocyxsLHlbMF09PT1zLm9mZnNldFBhcmVudCgpWzBdKSxiPWUocyksa3Q9eS5vZmZzZXRQYXJlbnQoKS5wYXJlbnQoIi5rLWFuaW1hdGlvbi1jb250YWluZXIsLmstcG9wdXAsLmstZ3JvdXAiKSxrdC5sZW5ndGgmJih0dD1lKHMsbCwhMCksYj1lKHMpKSxiLnRvcC09c3QudG9wLGIubGVmdC09c3QubGVmdCxoLndyYXBwZXIuZGF0YSh1dCl8fHMuZGF0YSh1dCx1KHt9LHR0KSksaz11KHt9LGIpLGM9dSh7fSx0dCksaHQ9YS5hZGp1c3RTaXplLCJmaXQiPT09ZnRbMF0mJihjLnRvcCs9aC5fZml0KGsudG9wLGYocykraHQuaGVpZ2h0LG50L2QpKSwiZml0Ij09PWZ0WzFdJiYoYy5sZWZ0Kz1oLl9maXQoay5sZWZ0LG8ocykraHQud2lkdGgscC9kKSksY3Q9dSh7fSxjKSxpdD1mKGF0KSxsdD1mKHMpLCFzLmhlaWdodCgpJiZpdCYmKGx0Kz1pdCksImZsaXAiPT09ZnRbMF0mJihjLnRvcCs9aC5fZmxpcChrLnRvcCxpdCxmKHkpLG50L2QsdnRbMF0seXRbMF0sbHQpKSwiZmxpcCI9PT1mdFsxXSYmKGMubGVmdCs9aC5fZmxpcChrLmxlZnQsbyhhdCksbyh5KSxwL2QsdnRbMV0seXRbMV0sbyhzKSkpLGF0LmNzcyhsLHcpLHMuY3NzKGMpLGMubGVmdCE9Y3QubGVmdHx8Yy50b3AhPWN0LnRvcH0sX2FsaWduOmZ1bmN0aW9uKHQsaSl7dmFyIGMsbD10aGlzLGE9bC53cmFwcGVyLHk9bihsLm9wdGlvbnMuYW5jaG9yKSx3PXRbMF0sYj10WzFdLGs9aVswXSxkPWlbMV0sZz1lKHkpLG50PW4obC5vcHRpb25zLmFwcGVuZFRvKSx0dD1vKGEpLGl0PWYoYSl8fGYoYS5jaGlsZHJlbigpLmZpcnN0KCkpLHJ0PW8oeSksdXQ9Zih5KSxyPWcudG9wLHU9Zy5sZWZ0LGg9TWF0aC5yb3VuZDtyZXR1cm4gbnRbMF0hPWRvY3VtZW50LmJvZHkmJihjPWUobnQpLHItPWMudG9wLHUtPWMubGVmdCksdz09PXAmJihyKz11dCksdz09PXMmJihyKz1oKHV0LzIpKSxrPT09cCYmKHItPWl0KSxrPT09cyYmKHItPWgoaXQvMikpLGI9PT12JiYodSs9cnQpLGI9PT1zJiYodSs9aChydC8yKSksZD09PXYmJih1LT10dCksZD09PXMmJih1LT1oKHR0LzIpKSx7dG9wOnIsbGVmdDp1fX19KTtkLnBsdWdpbihyaSk7ZXQ9aS5zdXBwb3J0LnN0YWJsZVNvcnQ7YT0ia2VuZG9UYWJLZXlUcmFwIjtvdD0iYVtocmVmXSwgYXJlYVtocmVmXSwgaW5wdXQ6bm90KFtkaXNhYmxlZF0pLCBzZWxlY3Q6bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSksIGJ1dHRvbjpub3QoW2Rpc2FibGVkXSksIGlmcmFtZSwgb2JqZWN0LCBlbWJlZCwgW3RhYmluZGV4XSwgKltjb250ZW50ZWRpdGFibGVdIjtzdD1rdC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCl7dGhpcy5lbGVtZW50PW4odCk7dGhpcy5lbGVtZW50LmF1dG9BcHBseU5TKGEpfSx0cmFwOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50Lm9uKCJrZXlkb3duIixuaSh0aGlzLl9rZWVwSW5UcmFwLHRoaXMpKX0scmVtb3ZlVHJhcDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5rZW5kb0Rlc3Ryb3koYSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQua2VuZG9EZXN0cm95KGEpO3RoaXMuZWxlbWVudD10fSxzaG91bGRUcmFwOmZ1bmN0aW9uKCl7cmV0dXJuITB9LF9rZWVwSW5UcmFwOmZ1bmN0aW9uKG4pe3ZhciB0LGkscjs5PT09bi53aGljaCYmdGhpcy5zaG91bGRUcmFwKCkmJiFuLmlzRGVmYXVsdFByZXZlbnRlZCgpJiYodD10aGlzLl9mb2N1c2FibGVFbGVtZW50cygpLGk9dGhpcy5fc29ydEZvY3VzYWJsZUVsZW1lbnRzKHQpLHI9dGhpcy5fbmV4dEZvY3VzYWJsZShuLGkpLHRoaXMuX2ZvY3VzKHIpLG4ucHJldmVudERlZmF1bHQoKSl9LF9mb2N1c2FibGVFbGVtZW50czpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudC5maW5kKG90KS5maWx0ZXIoZnVuY3Rpb24odCxpKXtyZXR1cm4gaS50YWJJbmRleD49MCYmbihpKS5pcygiOnZpc2libGUiKSYmIW4oaSkuaXMoIltkaXNhYmxlZF0iKX0pO3JldHVybiB0aGlzLmVsZW1lbnQuaXMoIlt0YWJpbmRleF0iKSYmdC5wdXNoKHRoaXMuZWxlbWVudFswXSksdH0sX3NvcnRGb2N1c2FibGVFbGVtZW50czpmdW5jdGlvbihuKXt2YXIgaSx0O3JldHVybiBldD9pPW4uc29ydChmdW5jdGlvbihuLHQpe3JldHVybiBuLnRhYkluZGV4LXQudGFiSW5kZXh9KToodD0iX19rX2luZGV4IixuLmVhY2goZnVuY3Rpb24obixpKXtpLnNldEF0dHJpYnV0ZSh0LG4pfSksaT1uLnNvcnQoZnVuY3Rpb24obixpKXtyZXR1cm4gbi50YWJJbmRleD09PWkudGFiSW5kZXg/cGFyc2VJbnQobi5nZXRBdHRyaWJ1dGUodCksMTApLXBhcnNlSW50KGkuZ2V0QXR0cmlidXRlKHQpLDEwKTpuLnRhYkluZGV4LWkudGFiSW5kZXh9KSxuLnJlbW92ZUF0dHIodCkpLGl9LF9uZXh0Rm9jdXNhYmxlOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dC5sZW5ndGgscj10LmluZGV4KG4udGFyZ2V0KTtyZXR1cm4gdC5nZXQoKHIrKG4uc2hpZnRLZXk/LTE6MSkpJWkpfSxfZm9jdXM6ZnVuY3Rpb24obil7cmV0dXJuIklGUkFNRSI9PW4ubm9kZU5hbWU/KG4uY29udGVudFdpbmRvdy5kb2N1bWVudC5ib2R5LmZvY3VzKCksdCk6KG4uZm9jdXMoKSwiSU5QVVQiPT1uLm5vZGVOYW1lJiZuLnNldFNlbGVjdGlvblJhbmdlJiZ0aGlzLl9oYXZlU2VsZWN0aW9uUmFuZ2UobikmJm4uc2V0U2VsZWN0aW9uUmFuZ2UoMCxuLnZhbHVlLmxlbmd0aCksdCl9LF9oYXZlU2VsZWN0aW9uUmFuZ2U6ZnVuY3Rpb24obil7dmFyIHQ9bi50eXBlLnRvTG93ZXJDYXNlKCk7cmV0dXJuInRleHQiPT09dHx8InNlYXJjaCI9PT10fHwidXJsIj09PXR8fCJ0ZWwiPT09dHx8InBhc3N3b3JkIj09PXR9fSk7ZC5Qb3B1cC5UYWJLZXlUcmFwPXN0fSh3aW5kb3cua2VuZG8ualF1ZXJ5KSx3aW5kb3cua2VuZG99LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lOmZ1bmN0aW9uKG4sdCxpKXsoaXx8dCkoKX0pOwovKiEKICogQ29weXJpZ2h0IDIwMjAgUHJvZ3Jlc3MgU29mdHdhcmUgQ29ycG9yYXRpb24gYW5kL29yIG9uZSBvZiBpdHMgc3Vic2lkaWFyaWVzIG9yIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwohZnVuY3Rpb24obix0KXt0KCJrZW5kby53aW5kb3cubWluIixbImtlbmRvLmRyYWdhbmRkcm9wLm1pbiIsImtlbmRvLnBvcHVwLm1pbiJdLG4pfShmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGl0KG4pe3JldHVybiB0IT09bn1mdW5jdGlvbiB1KG4sdCl7cmV0dXJuIHBhcnNlSW50KG4uY3NzKHQpLDEwKXx8MH1mdW5jdGlvbiBlKG4sdCxpKXtyZXR1cm4gbiYmaXNOYU4obikmJigiIituKS5pbmRleE9mKCJweCIpPDA/bjpNYXRoLm1heChNYXRoLm1pbihwYXJzZUludChuLDEwKSxpPT09MS8wP2k6cGFyc2VJbnQoaSwxMCkpLHQ9PT0tKDEvMCk/dDpwYXJzZUludCh0LDEwKSl9ZnVuY3Rpb24gcGkoKXtyZXR1cm4hdGhpcy50eXBlfHx0aGlzLnR5cGUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJzY3JpcHQiKT49MH1mdW5jdGlvbiBydCh0KXtmb3IodmFyIHUsZixyPXt0b3A6dC5vZmZzZXRUb3AsbGVmdDp0Lm9mZnNldExlZnR9LGk9dC5vZmZzZXRQYXJlbnQ7aTspci50b3ArPWkub2Zmc2V0VG9wLHIubGVmdCs9aS5vZmZzZXRMZWZ0LHU9bihpKS5jc3MoIm92ZXJmbG93WCIpLGY9bihpKS5jc3MoIm92ZXJmbG93WSIpLCJhdXRvIiE9PWYmJiJzY3JvbGwiIT09Znx8KHIudG9wLT1pLnNjcm9sbFRvcCksImF1dG8iIT09dSYmInNjcm9sbCIhPT11fHwoci5sZWZ0LT1pLnNjcm9sbExlZnQpLGk9aS5vZmZzZXRQYXJlbnQ7cmV0dXJuIHJ9ZnVuY3Rpb24geXQobil7dmFyIHQ9dGhpczt0Lm93bmVyPW47dC5fcHJldmVudERyYWdnaW5nPSExO3QuX2RyYWdnYWJsZT1uZXcgd3Qobi53cmFwcGVyLHtmaWx0ZXI6Ij4iK3YsZ3JvdXA6bi53cmFwcGVyLmlkKyItcmVzaXppbmciLGRyYWdzdGFydDpyKHQuZHJhZ3N0YXJ0LHQpLGRyYWc6cih0LmRyYWcsdCksZHJhZ2VuZDpyKHQuZHJhZ2VuZCx0KX0pO3QuX2RyYWdnYWJsZS51c2VyRXZlbnRzLmJpbmQoInByZXNzIixyKHQuYWRkT3ZlcmxheSx0KSk7dC5fZHJhZ2dhYmxlLnVzZXJFdmVudHMuYmluZCgicmVsZWFzZSIscih0LnJlbW92ZU92ZXJsYXksdCkpfWZ1bmN0aW9uIHB0KG4sdCl7dmFyIGk9dGhpcztpLm93bmVyPW47aS5fcHJldmVudERyYWdnaW5nPSExO2kuX2RyYWdnYWJsZT1uZXcgd3Qobi53cmFwcGVyLHtmaWx0ZXI6dCxncm91cDpuLndyYXBwZXIuaWQrIi1tb3ZpbmciLGRyYWdzdGFydDpyKGkuZHJhZ3N0YXJ0LGkpLGRyYWc6cihpLmRyYWcsaSksZHJhZ2VuZDpyKGkuZHJhZ2VuZCxpKSxkcmFnY2FuY2VsOnIoaS5kcmFnY2FuY2VsLGkpfSk7aS5fZHJhZ2dhYmxlLnVzZXJFdmVudHMuc3RvcFByb3BhZ2F0aW9uPSExfXZhciBpPXdpbmRvdy5rZW5kbyx1dD1pLnVpLldpZGdldCx3aT1pLnVpLlBvcHVwLlRhYktleVRyYXAsd3Q9aS51aS5EcmFnZ2FibGUsYnQ9bi5pc1BsYWluT2JqZWN0LGJpPWkuX2FjdGl2ZUVsZW1lbnQsbnQ9aS5fb3V0ZXJXaWR0aCxzdD1pLl9vdXRlckhlaWdodCxyPW4ucHJveHkscz1uLmV4dGVuZCxraT1uLmVhY2gsYT1pLnRlbXBsYXRlLGZ0PSJib2R5IixmPSIua2VuZG9XaW5kb3ciLGh0PSIua2VuZG9XaW5kb3dNb2RhbCIsdz0iLmstd2luZG93IixjdD0iLmstd2luZG93LXRpdGxlIixvPWN0KyJiYXIiLGg9Ii5rLXdpbmRvdy1jb250ZW50IixkaT0iLmstZGlhbG9nLWNvbnRlbnQiLHY9Ii5rLXJlc2l6ZS1oYW5kbGUiLGI9Ii5rLW92ZXJsYXkiLGs9ImstY29udGVudC1mcmFtZSIsa3Q9ImstaS1sb2FkaW5nIixkdD0iay1zdGF0ZS1ob3ZlciIsZ3Q9Imstc3RhdGUtZm9jdXNlZCIsbmk9Imstd2luZG93LW1heGltaXplZCIsZD0iOnZpc2libGUiLHk9ImhpZGRlbiIsZz0iY3Vyc29yIixsdD0ib3BlbiIsYXQ9ImFjdGl2YXRlIix0aT0iZGVhY3RpdmF0ZSIsaWk9ImNsb3NlIixldD0icmVmcmVzaCIscmk9InJlc2l6ZVN0YXJ0Iix1aT0icmVzaXplRW5kIixmaT0iZHJhZ3N0YXJ0IixlaT0iZHJhZ2VuZCIsb2k9ImVycm9yIixsPSJvdmVyZmxvdyIsb3Q9Im9yaWdpbmFsLW92ZXJmbG93LXJ1bGUiLHR0PSJ6SW5kZXgiLHNpPSIuay13aW5kb3ctYWN0aW9ucyAuay1pLXdpbmRvdy1taW5pbWl6ZSwuay13aW5kb3ctYWN0aW9ucyAuay1pLXdpbmRvdy1tYXhpbWl6ZSIsaGk9Ii5rLWktcGluIixjaT0iLmstaS11bnBpbiIsbGk9aGkrIiwiK2NpLHA9Ii5rLXdpbmRvdy10aXRsZWJhciAuay13aW5kb3ctYWN0aW9uIixhaT0iLmstd2luZG93LXRpdGxlYmFyIC5rLWktcmVmcmVzaCIsdmk9IldpbmRvd0V2ZW50c0hhbmRsZWQiLHlpPS9eMFthLXpdKiQvaSxnaT1pLmlzTG9jYWxVcmwsdnQ9e3NtYWxsOiJrLXdpbmRvdy1zbSIsbWVkaXVtOiJrLXdpbmRvdy1tZCIsbGFyZ2U6Imstd2luZG93LWxnIn0sbnI9dXQuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHUsZSl7dmFyIGMsdHQscnQsbCxhLHYsZnQsYixnLHM9dGhpcyxudD17fSxldD0hMSxvdD1lJiZlLmFjdGlvbnMmJiFlLmFjdGlvbnMubGVuZ3RoO3V0LmZuLmluaXQuY2FsbChzLHUsZSk7ZT1zLm9wdGlvbnM7bD1lLnBvc2l0aW9uO3U9cy5lbGVtZW50O2E9ZS5jb250ZW50O2I9bih3aW5kb3cpO290JiYoZS5hY3Rpb25zPVtdKTtzLmFwcGVuZFRvPW4oZS5hcHBlbmRUbyk7cy5jb250YWlubWVudD1lLmRyYWdnYWJsZS5jb250YWlubWVudD9uKGUuZHJhZ2dhYmxlLmNvbnRhaW5tZW50KS5maXJzdCgpOm51bGw7YSYmIWJ0KGEpJiYoYT1lLmNvbnRlbnQ9e3VybDphfSk7dS5maW5kKCJzY3JpcHQiKS5maWx0ZXIocGkpLnJlbW92ZSgpO3UucGFyZW50KCkuaXMocy5hcHBlbmRUbyl8fHMuY29udGFpbm1lbnR8fGwudG9wIT09dCYmbC5sZWZ0IT09dHx8KHUuaXMoZCk/KG50PXUub2Zmc2V0KCksZXQ9ITApOih0dD11LmNzcygidmlzaWJpbGl0eSIpLHJ0PXUuY3NzKCJkaXNwbGF5IiksdS5jc3Moe3Zpc2liaWxpdHk6eSxkaXNwbGF5OiIifSksbnQ9dS5vZmZzZXQoKSx1LmNzcyh7dmlzaWJpbGl0eTp0dCxkaXNwbGF5OnJ0fSkpLGwudG9wPT09dCYmKGwudG9wPW50LnRvcCksbC5sZWZ0PT09dCYmKGwubGVmdD1udC5sZWZ0KSk7aXQoZS52aXNpYmxlKSYmbnVsbCE9PWUudmlzaWJsZXx8KGUudmlzaWJsZT11LmlzKGQpKTtjPXMud3JhcHBlcj11LmNsb3Nlc3Qodyk7dS5pcygiLmstY29udGVudCIpJiZjWzBdfHwodS5hZGRDbGFzcygiay13aW5kb3ctY29udGVudCBrLWNvbnRlbnQiKSxzLl9jcmVhdGVXaW5kb3codSxlKSxjPXMud3JhcHBlcj11LmNsb3Nlc3Qodykscy50aXRsZShzLm9wdGlvbnMudGl0bGUpLHMuX2RpbWVuc2lvbnMoKSk7cy5taW5Ub3A9cy5taW5MZWZ0PS0oMS8wKTtzLm1heFRvcD1zLm1heExlZnQ9MS8wO3MuX3Bvc2l0aW9uKCk7YSYmcy5yZWZyZXNoKGEpO2UudmlzaWJsZSYmcy50b0Zyb250KCk7dj1jLmNoaWxkcmVuKGgpO3MuX3RhYmluZGV4KHYpO2UudmlzaWJsZSYmZS5tb2RhbCYmcy5fb3ZlcmxheShjLmlzKGQpKS5jc3Moe29wYWNpdHk6LjV9KTtjLm9uKCJtb3VzZWVudGVyIitmLHAscihzLl9idXR0b25FbnRlcixzKSkub24oIm1vdXNlbGVhdmUiK2YscCxyKHMuX2J1dHRvbkxlYXZlLHMpKS5vbigiY2xpY2siK2YsIj4gIitwLHIocy5fd2luZG93QWN0aW9uSGFuZGxlcixzKSkub24oImtleWRvd24iK2YscihzLl9rZXlkb3duLHMpKS5vbigiZm9jdXMiK2YscihzLl9mb2N1cyxzKSkub24oImJsdXIiK2YscihzLl9ibHVyLHMpKTt2Lm9uKCJrZXlkb3duIitmLHIocy5fa2V5ZG93bixzKSkub24oImZvY3VzIitmLHIocy5fZm9jdXMscykpLm9uKCJibHVyIitmLHIocy5fYmx1cixzKSk7ZnQ9di5maW5kKCIuIitrKVswXTtmdCYmIWIuZGF0YSh2aSkmJihiLm9uKCJibHVyIitmLGZ1bmN0aW9uKCl7dmFyIHQscj1uKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLnBhcmVudChoKTtyLmxlbmd0aCYmKHQ9aS53aWRnZXRJbnN0YW5jZShyKSx0Ll9mb2N1cygpKX0pLGIub24oImZvY3VzIitmLGZ1bmN0aW9uKCl7bihoKS5ub3QoZGkpLmVhY2goZnVuY3Rpb24odCxyKXtpLndpZGdldEluc3RhbmNlKG4ocikpLl9ibHVyKCl9KX0pLGIuZGF0YSh2aSwhMCkpO3RoaXMuX3Jlc2l6YWJsZSgpO3RoaXMuX2RyYWdnYWJsZSgpO2UucGlubmVkJiZ0aGlzLndyYXBwZXIuaXMoIjp2aXNpYmxlIikmJnMucGluKCk7Zz11LmF0dHIoImlkIik7ZyYmKGcrPSJfd25kX3RpdGxlIixjLmNoaWxkcmVuKG8pLmNoaWxkcmVuKGN0KS5hdHRyKCJpZCIsZyksdi5hdHRyKHtyb2xlOiJkaWFsb2ciLCJhcmlhLWxhYmVsbGVkYnkiOmd9KSk7Yy5hZGQoYy5jaGlsZHJlbigiLmstcmVzaXplLWhhbmRsZSwiK28pKS5vbigibW91c2Vkb3duIitmLHIocy50b0Zyb250LHMpKTtzLnRvdWNoU2Nyb2xsZXI9aS50b3VjaFNjcm9sbGVyKHUpO3MuX3Jlc2l6ZUhhbmRsZXI9cihzLl9vbkRvY3VtZW50UmVzaXplLHMpO3MuX21hcmtlcj1pLmd1aWQoKS5zdWJzdHJpbmcoMCw4KTtuKHdpbmRvdykub24oInJlc2l6ZSIrZitzLl9tYXJrZXIscy5fcmVzaXplSGFuZGxlcik7ZS52aXNpYmxlJiYocy50cmlnZ2VyKGx0KSxzLnRyaWdnZXIoYXQpKTtpLm5vdGlmeShzKTt0aGlzLm9wdGlvbnMubW9kYWwmJih0aGlzLl90YWJLZXlUcmFwPW5ldyB3aShjKSx0aGlzLl90YWJLZXlUcmFwLnRyYXAoKSx0aGlzLl90YWJLZXlUcmFwLnNob3VsZFRyYXA9ZnVuY3Rpb24oKXtyZXR1cm4gdi5kYXRhKCJpc0Zyb250Iil9KX0sX2J1dHRvbkVudGVyOmZ1bmN0aW9uKHQpe24odC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhkdCl9LF9idXR0b25MZWF2ZTpmdW5jdGlvbih0KXtuKHQuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoZHQpfSxfZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLndyYXBwZXIuYWRkQ2xhc3MoZ3QpfSxfYmx1cjpmdW5jdGlvbigpe3RoaXMud3JhcHBlci5yZW1vdmVDbGFzcyhndCl9LF9kaW1lbnNpb25zOmZ1bmN0aW9uKCl7dmFyIGkscix0PXRoaXMud3JhcHBlcixuPXRoaXMub3B0aW9ucyxjPW4ud2lkdGgsbD1uLmhlaWdodCxmPW4ubWF4SGVpZ2h0LG89bi5zaXplLHM9WyJtaW5XaWR0aCIsIm1pbkhlaWdodCIsIm1heFdpZHRoIiwibWF4SGVpZ2h0Il0saD0iY29udGVudC1ib3giPT10LmNzcygiYm94LXNpemluZyIpLGE9aD91KHQsImJvcmRlci1sZWZ0LXdpZHRoIikrdSh0LCJib3JkZXItcmlnaHQtd2lkdGgiKTowLHY9aD91KHQsImJvcmRlci10b3Atd2lkdGgiKSt1KHQsImJvcmRlci1ib3R0b20td2lkdGgiKTowLHk9aD91KHQsInBhZGRpbmctdG9wIik6MDtmb3IodGhpcy5jb250YWlubWVudCYmIXRoaXMuX2lzUGlubmVkJiYodGhpcy5fdXBkYXRlQm91bmRhcmllcygpLG4ubWF4SGVpZ2h0PU1hdGgubWluKHRoaXMuY29udGFpbm1lbnQuaGVpZ2h0LSh2K3kpLGYpLG4ubWF4V2lkdGg9TWF0aC5taW4odGhpcy5jb250YWlubWVudC53aWR0aC1hLG4ubWF4V2lkdGgpKSxpPTA7aTxzLmxlbmd0aDtpKyspcj1uW3NbaV1dfHwiIixyIT0xLzAmJnQuY3NzKHNbaV0scik7ZiE9MS8wJiZ0aGlzLmVsZW1lbnQuY3NzKCJtYXhIZWlnaHQiLGYpO3Qud2lkdGgoYz9lKGMsbi5taW5XaWR0aCxuLm1heFdpZHRoKToiIik7dC5oZWlnaHQobD9lKGwsbi5taW5IZWlnaHQsbi5tYXhIZWlnaHQpOiIiKTtuLnZpc2libGV8fHQuaGlkZSgpO28mJnZ0W29dJiZ0LmFkZENsYXNzKHZ0W29dKX0sX3Bvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy53cmFwcGVyLG49dGhpcy5vcHRpb25zLnBvc2l0aW9uO3RoaXMuX3VwZGF0ZUJvdW5kYXJpZXMoKTt0aGlzLmNvbnRhaW5tZW50JiYobi50b3A9TWF0aC5taW4odGhpcy5taW5Ub3ArKG4udG9wfHwwKSx0aGlzLm1heFRvcCksbi5sZWZ0PU1hdGgubWluKHRoaXMubWluTGVmdCsobi5sZWZ0fHwwKSx0aGlzLm1heExlZnQpKTswPT09bi50b3AmJihuLnRvcD0iIituLnRvcCk7MD09PW4ubGVmdCYmKG4ubGVmdD0iIituLmxlZnQpO3QuY3NzKHt0b3A6bi50b3B8fCIiLGxlZnQ6bi5sZWZ0fHwiIn0pfSxfdXBkYXRlQm91bmRhcmllczpmdW5jdGlvbigpe3ZhciBuPXRoaXMuY29udGFpbm1lbnQ7cmV0dXJuIG4/KG4ud2lkdGg9bi5pbm5lcldpZHRoKCksbi5oZWlnaHQ9bi5pbm5lckhlaWdodCgpLHBhcnNlSW50KG4ud2lkdGgsMTApPm5bMF0uY2xpZW50V2lkdGgmJihuLndpZHRoLT1pLnN1cHBvcnQuc2Nyb2xsYmFyKCkpLHBhcnNlSW50KG4uaGVpZ2h0LDEwKT5uWzBdLmNsaWVudEhlaWdodCYmKG4uaGVpZ2h0LT1pLnN1cHBvcnQuc2Nyb2xsYmFyKCkpLG4ucG9zaXRpb249cnQoblswXSksdGhpcy5faXNQaW5uZWQ/KHRoaXMubWluVG9wPXRoaXMubWluTGVmdD0tKDEvMCksdGhpcy5tYXhUb3A9dGhpcy5tYXhMZWZ0PTEvMCk6KHRoaXMubWluVG9wPW4uc2Nyb2xsVG9wKCksdGhpcy5taW5MZWZ0PW4uc2Nyb2xsTGVmdCgpLHRoaXMubWF4TGVmdD10aGlzLm1pbkxlZnQrbi53aWR0aC1udCh0aGlzLndyYXBwZXIsITApLHRoaXMubWF4VG9wPXRoaXMubWluVG9wK24uaGVpZ2h0LXN0KHRoaXMud3JhcHBlciwhMCkpLHQpOm51bGx9LF9hbmltYXRpb25PcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMub3B0aW9ucy5hbmltYXRpb247cmV0dXJuIHQmJnRbbl18fHtvcGVuOntlZmZlY3RzOnt9fSxjbG9zZTp7aGlkZTohMCxlZmZlY3RzOnt9fX1bbl19LF9yZXNpemU6ZnVuY3Rpb24oKXtpLnJlc2l6ZSh0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKSl9LF9yZXNpemFibGU6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLm9wdGlvbnMucmVzaXphYmxlLHQ9dGhpcy53cmFwcGVyO3RoaXMucmVzaXppbmcmJih0Lm9mZigiZGJsY2xpY2siK2YpLmNoaWxkcmVuKHYpLnJlbW92ZSgpLHRoaXMucmVzaXppbmcuZGVzdHJveSgpLHRoaXMucmVzaXppbmc9bnVsbCk7aSYmKHQub24oImRibGNsaWNrIitmLG8scihmdW5jdGlvbih0KXtuKHQudGFyZ2V0KS5jbG9zZXN0KCIuay13aW5kb3ctYWN0aW9uIikubGVuZ3RofHx0aGlzLnRvZ2dsZU1heGltaXphdGlvbigpfSx0aGlzKSksa2koIm4gZSBzIHcgc2Ugc3cgbmUgbnciLnNwbGl0KCIgIiksZnVuY3Rpb24obixpKXt0LmFwcGVuZChjLnJlc2l6ZUhhbmRsZShpKSl9KSx0aGlzLnJlc2l6aW5nPW5ldyB5dCh0aGlzKSk7dD1udWxsfSxfZHJhZ2dhYmxlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcHRpb25zLmRyYWdnYWJsZTt0aGlzLmRyYWdnaW5nJiYodGhpcy5kcmFnZ2luZy5kZXN0cm95KCksdGhpcy5kcmFnZ2luZz1udWxsKTtuJiYodGhpcy5kcmFnZ2luZz1uZXcgcHQodGhpcyxuLmRyYWdIYW5kbGV8fG8pKX0sX2FjdGlvbnM6ZnVuY3Rpb24oKXt2YXIgcj10aGlzLm9wdGlvbnMsdD1yLmFjdGlvbnMsdT1yLnBpbm5lZCxmPXRoaXMud3JhcHBlci5jaGlsZHJlbihvKSxlPWYuZmluZCgiLmstd2luZG93LWFjdGlvbnMiKSxzPVsibWF4aW1pemUiLCJtaW5pbWl6ZSJdO3Q9bi5tYXAodCxmdW5jdGlvbihuKXtyZXR1cm4gbj11JiYicGluIj09PW4udG9Mb3dlckNhc2UoKT8idW5waW4iOm4se25hbWU6cy5pbmRleE9mKG4udG9Mb3dlckNhc2UoKSk+LTE/IndpbmRvdy0iK246bn19KTtlLmh0bWwoaS5yZW5kZXIoYy5hY3Rpb24sdCkpfSxzZXRPcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciByLHUsaT10aGlzLGY9aS5vcHRpb25zLnNpemUsZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG4pKTtzKG4ucG9zaXRpb24saS5vcHRpb25zLnBvc2l0aW9uKTtzKG4ucG9zaXRpb24sZS5wb3NpdGlvbik7dXQuZm4uc2V0T3B0aW9ucy5jYWxsKGksbik7cj1pLm9wdGlvbnMuc2Nyb2xsYWJsZSE9PSExO2kucmVzdG9yZSgpO3QhPT1uLnRpdGxlJiZpLnRpdGxlKG4udGl0bGUpO2kud3JhcHBlci5yZW1vdmVDbGFzcyh2dFtmXSk7aS5fZGltZW5zaW9ucygpO2kuX3Bvc2l0aW9uKCk7aS5fcmVzaXphYmxlKCk7aS5fZHJhZ2dhYmxlKCk7aS5fYWN0aW9ucygpO3QhPT1uLm1vZGFsJiYodT1pLm9wdGlvbnMudmlzaWJsZSE9PSExLGkuX2VuYWJsZURvY3VtZW50U2Nyb2xsaW5nKCksaS5fb3ZlcmxheShuLm1vZGFsJiZ1KSk7aS5lbGVtZW50LmNzcyhsLHI/IiI6ImhpZGRlbiIpfSxldmVudHM6W2x0LGF0LHRpLGlpLCJtaW5pbWl6ZSIsIm1heGltaXplIixldCxyaSwicmVzaXplIix1aSxmaSxlaSxvaV0sb3B0aW9uczp7bmFtZToiV2luZG93IixhbmltYXRpb246e29wZW46e2VmZmVjdHM6e3pvb206e2RpcmVjdGlvbjoiaW4ifSxmYWRlOntkaXJlY3Rpb246ImluIn19LGR1cmF0aW9uOjM1MH0sY2xvc2U6e2VmZmVjdHM6e3pvb206e2RpcmVjdGlvbjoib3V0Iixwcm9wZXJ0aWVzOntzY2FsZTouN319LGZhZGU6e2RpcmVjdGlvbjoib3V0In19LGR1cmF0aW9uOjM1MCxoaWRlOiEwfX0sdGl0bGU6IiIsYWN0aW9uczpbIkNsb3NlIl0sYXV0b0ZvY3VzOiEwLG1vZGFsOiExLHNpemU6ImF1dG8iLHJlc2l6YWJsZTohMCxkcmFnZ2FibGU6ITAsbWluV2lkdGg6OTAsbWluSGVpZ2h0OjUwLG1heFdpZHRoOjEvMCxtYXhIZWlnaHQ6MS8wLHBpbm5lZDohMSxzY3JvbGxhYmxlOiEwLHBvc2l0aW9uOnt9LGNvbnRlbnQ6bnVsbCx2aXNpYmxlOm51bGwsaGVpZ2h0Om51bGwsd2lkdGg6bnVsbCxhcHBlbmRUbzoiYm9keSIsaXNNYXhpbWl6ZWQ6ITEsaXNNaW5pbWl6ZWQ6ITF9LF9jbG9zYWJsZTpmdW5jdGlvbigpe3JldHVybiBuLmluQXJyYXkoImNsb3NlIixuLm1hcCh0aGlzLm9wdGlvbnMuYWN0aW9ucyxmdW5jdGlvbihuKXtyZXR1cm4gbi50b0xvd2VyQ2FzZSgpfSkpPi0xfSxfa2V5ZG93bjpmdW5jdGlvbihuKXt2YXIgZixoLHAsdyx2LHksdD10aGlzLGw9dC5vcHRpb25zLHM9aS5rZXlzLG89bi5rZXlDb2RlLHI9dC53cmFwcGVyLGM9MTAsYT1sLmlzTWF4aW1pemVkLGI9bC5pc01pbmltaXplZDtvPT1zLkVTQyYmdC5fY2xvc2FibGUoKSYmKG4uc3RvcFByb3BhZ2F0aW9uKCksdC5fY2xvc2UoITEpKTtuLnRhcmdldCE9bi5jdXJyZW50VGFyZ2V0fHx0Ll9jbG9zaW5nfHwobi5hbHRLZXkmJjgyPT1vJiZ0LnJlZnJlc2goKSxuLmFsdEtleSYmODA9PW8mJih0Lm9wdGlvbnMucGlubmVkP3QudW5waW4oKTp0LnBpbigpKSxuLmFsdEtleSYmbz09cy5VUD9iPyh0LnJlc3RvcmUoKSx0LmVsZW1lbnQuZm9jdXMoKSk6YXx8KHQubWF4aW1pemUoKSx0LmVsZW1lbnQuZm9jdXMoKSk6bi5hbHRLZXkmJm89PXMuRE9XTiYmKGJ8fGE/YSYmKHQucmVzdG9yZSgpLHQuZWxlbWVudC5mb2N1cygpKToodC5taW5pbWl6ZSgpLHQud3JhcHBlci5mb2N1cygpKSksZj1pLmdldE9mZnNldChyKSx0LmNvbnRhaW5tZW50JiYhdC5faXNQaW5uZWQmJihmPXQub3B0aW9ucy5wb3NpdGlvbiksIWwuZHJhZ2dhYmxlfHxuLmN0cmxLZXl8fG4uYWx0S2V5fHxhfHwodC5fdXBkYXRlQm91bmRhcmllcygpLG89PXMuVVA/KGYudG9wPWUoZi50b3AtYyx0Lm1pblRvcCx0Lm1heFRvcCksaD1yLmNzcygidG9wIixmLnRvcCkpOm89PXMuRE9XTj8oZi50b3A9ZShmLnRvcCtjLHQubWluVG9wLHQubWF4VG9wKSxoPXIuY3NzKCJ0b3AiLGYudG9wKSk6bz09cy5MRUZUPyhmLmxlZnQ9ZShmLmxlZnQtYyx0Lm1pbkxlZnQsdC5tYXhMZWZ0KSxoPXIuY3NzKCJsZWZ0IixmLmxlZnQpKTpvPT1zLlJJR0hUJiYoZi5sZWZ0PWUoZi5sZWZ0K2MsdC5taW5MZWZ0LHQubWF4TGVmdCksaD1yLmNzcygibGVmdCIsZi5sZWZ0KSkpLGwucmVzaXphYmxlJiZuLmN0cmxLZXkmJiFhJiYhYiYmKG89PXMuVVA/KGg9ITAsdz1yLmhlaWdodCgpLWMpOm89PXMuRE9XTiYmKGg9ITAsdz10LmNvbnRhaW5tZW50JiYhdC5faXNQaW5uZWQ/TWF0aC5taW4oci5oZWlnaHQoKStjLHQuY29udGFpbm1lbnQuaGVpZ2h0LWYudG9wLXUociwicGFkZGluZy10b3AiKS11KHIsImJvcmRlckJvdHRvbVdpZHRoIiktdShyLCJib3JkZXJUb3BXaWR0aCIpKTpyLmhlaWdodCgpK2MpLG89PXMuTEVGVD8oaD0hMCxwPXIud2lkdGgoKS1jKTpvPT1zLlJJR0hUJiYoaD0hMCxwPXQuY29udGFpbm1lbnQmJiF0Ll9pc1Bpbm5lZD9NYXRoLm1pbihyLndpZHRoKCkrYyx0LmNvbnRhaW5tZW50LndpZHRoLWYubGVmdC11KHIsImJvcmRlckxlZnRXaWR0aCIpLXUociwiYm9yZGVyUmlnaHRXaWR0aCIpKTpyLndpZHRoKCkrYyksaCYmKHY9ZShwLGwubWluV2lkdGgsbC5tYXhXaWR0aCkseT1lKHcsbC5taW5IZWlnaHQsbC5tYXhIZWlnaHQpLGlzTmFOKHYpfHwoci53aWR0aCh2KSx0Lm9wdGlvbnMud2lkdGg9disicHgiKSxpc05hTih5KXx8KHIuaGVpZ2h0KHkpLHQub3B0aW9ucy5oZWlnaHQ9eSsicHgiKSx0LnJlc2l6ZSgpKSksaCYmbi5wcmV2ZW50RGVmYXVsdCgpKX0sX292ZXJsYXk6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5jb250YWlubWVudD90aGlzLmNvbnRhaW5tZW50LmNoaWxkcmVuKGIpOnRoaXMuYXBwZW5kVG8uY2hpbGRyZW4oYikscj10aGlzLndyYXBwZXI7cmV0dXJuIGkubGVuZ3RofHwoaT1uKCI8ZGl2IGNsYXNzPSdrLW92ZXJsYXknIC8+IikpLGkuaW5zZXJ0QmVmb3JlKHJbMF0pLnRvZ2dsZSh0KS5jc3ModHQscGFyc2VJbnQoci5jc3ModHQpLDEwKS0xKSx0aGlzLm9wdGlvbnMubW9kYWwucHJldmVudFNjcm9sbCYmIXRoaXMuY29udGFpbm1lbnQmJnRoaXMuX3N0b3BEb2N1bWVudFNjcm9sbGluZygpLGl9LF9hY3Rpb25Gb3JJY29uOmZ1bmN0aW9uKG4pe3ZhciB0PS9cYmstaSgtXHcrKStcYi8uZXhlYyhuWzBdLmNsYXNzTmFtZSlbMF07cmV0dXJueyJrLWktY2xvc2UiOiJfY2xvc2UiLCJrLWktd2luZG93LW1heGltaXplIjoibWF4aW1pemUiLCJrLWktd2luZG93LW1pbmltaXplIjoibWluaW1pemUiLCJrLWktd2luZG93LXJlc3RvcmUiOiJyZXN0b3JlIiwiay1pLXJlZnJlc2giOiJyZWZyZXNoIiwiay1pLXBpbiI6InBpbiIsImstaS11bnBpbiI6InVucGluIn1bdF19LF93aW5kb3dBY3Rpb25IYW5kbGVyOmZ1bmN0aW9uKGkpe3ZhciB1LHI7aWYoIXRoaXMuX2Nsb3NpbmcpcmV0dXJuIHU9bihpLnRhcmdldCkuY2xvc2VzdCgiLmstd2luZG93LWFjdGlvbiIpLmZpbmQoIi5rLWljb24iKSxyPXRoaXMuX2FjdGlvbkZvckljb24odSkscj8oaS5wcmV2ZW50RGVmYXVsdCgpLHRoaXNbcl0oKSwhMSk6dH0sX21vZGFsczpmdW5jdGlvbigpe3ZhciB0PXRoaXMsaT1uKHcpLmZpbHRlcihmdW5jdGlvbigpe3ZhciByPW4odGhpcyksdT10Ll9vYmplY3QociksaT11JiZ1Lm9wdGlvbnM7cmV0dXJuIGkmJmkubW9kYWwmJmkudmlzaWJsZSYmaS5hcHBlbmRUbz09PXQub3B0aW9ucy5hcHBlbmRUbyYmci5pcyhkKX0pLnNvcnQoZnVuY3Rpb24odCxpKXtyZXR1cm4rbih0KS5jc3MoInpJbmRleCIpLStuKGkpLmNzcygiekluZGV4Iil9KTtyZXR1cm4gdD1udWxsLGl9LF9vYmplY3Q6ZnVuY3Rpb24obil7dmFyIHU9bi5jaGlsZHJlbihoKSxyPWkud2lkZ2V0SW5zdGFuY2UodSk7cmV0dXJuIHI/cjp0fSxjZW50ZXI6ZnVuY3Rpb24oKXt2YXIgaSxyLHQ9dGhpcyxvPXQub3B0aW9ucy5wb3NpdGlvbixmPXQud3JhcHBlcixlPW4od2luZG93KSxzPTAsaD0wO3JldHVybiB0Lm9wdGlvbnMuaXNNYXhpbWl6ZWQ/dDoodC5vcHRpb25zLnBpbm5lZCYmIXQuX2lzUGlubmVkJiZ0LnBpbigpLHQub3B0aW9ucy5waW5uZWR8fChzPWUuc2Nyb2xsVG9wKCksaD1lLnNjcm9sbExlZnQoKSksdGhpcy5jb250YWlubWVudCYmIXQub3B0aW9ucy5waW5uZWQ/KGk9dGhpcy5taW5Ub3ArKHRoaXMubWF4VG9wLXRoaXMubWluVG9wKS8yLHI9dGhpcy5taW5MZWZ0Kyh0aGlzLm1heExlZnQtdGhpcy5taW5MZWZ0KS8yKToodC5fc2Nyb2xsSXNBcHBlbmRlZD0hMCxyPWgrTWF0aC5tYXgoMCwoZS53aWR0aCgpLWYud2lkdGgoKSkvMiksaT1zK01hdGgubWF4KDAsKGUuaGVpZ2h0KCktZi5oZWlnaHQoKS11KGYsInBhZGRpbmdUb3AiKSkvMikpLGYuY3NzKHtsZWZ0OnIsdG9wOml9KSxvLnRvcD1pLG8ubGVmdD1yLHQpfSx0aXRsZTpmdW5jdGlvbihyKXt2YXIgZixzLGwsYSxoPXRoaXMsdj0hMCx1PWgud3JhcHBlcixlPXUuY2hpbGRyZW4obykscD1lLmNoaWxkcmVuKGN0KTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8obi5pc1BsYWluT2JqZWN0KHIpPyhmPXQhPT1yLnRleHQ/ci50ZXh0OiIiLHY9ci5lbmNvZGVkIT09ITEpOmY9cixmPT09ITE/KHUuYWRkQ2xhc3MoImstd2luZG93LXRpdGxlbGVzcyIpLHUuY3NzKCJwYWRkaW5nLXRvcCIsMCksZS5yZW1vdmUoKSk6KGUubGVuZ3RoP3AuaHRtbCh2P2kuaHRtbEVuY29kZShmKTpmKToodS5wcmVwZW5kKGMudGl0bGViYXIoe3RpdGxlOnY/aS5odG1sRW5jb2RlKGYpOmZ9KSksaC5fYWN0aW9ucygpLGU9dS5jaGlsZHJlbihvKSksYT11LmNzcygidmlzaWJpbGl0eSIpLGw9dS5jc3MoImRpc3BsYXkiKSxhPT09eT8odS5jc3Moe2Rpc3BsYXk6IiJ9KSxzPXBhcnNlSW50KHN0KGUpLDEwKSx1LmNzcyh7ZGlzcGxheTpsfSkpOih1LmNzcyh7dmlzaWJpbGl0eTp5LGRpc3BsYXk6IiJ9KSxzPXBhcnNlSW50KHN0KGUpLDEwKSx1LmNzcyh7dmlzaWJpbGl0eTphLGRpc3BsYXk6bH0pKSx1LmNzcygicGFkZGluZy10b3AiLHMpLGUuY3NzKCJtYXJnaW4tdG9wIiwtcykpLGgub3B0aW9ucy50aXRsZT1mLGgpOnAuaHRtbCgpfSxjb250ZW50OmZ1bmN0aW9uKG4sdCl7dmFyIHI9dGhpcy53cmFwcGVyLmNoaWxkcmVuKGgpLHU9ci5jaGlsZHJlbigiLmttLXNjcm9sbC1jb250YWluZXIiKTtyZXR1cm4gcj11WzBdP3U6cixpdChuKT8odGhpcy5hbmd1bGFyKCJjbGVhbnVwIixmdW5jdGlvbigpe3JldHVybntlbGVtZW50czpyLmNoaWxkcmVuKCl9fSksaS5kZXN0cm95KHRoaXMuZWxlbWVudC5jaGlsZHJlbigpKSxyLmVtcHR5KCkuaHRtbChuKSx0aGlzLmFuZ3VsYXIoImNvbXBpbGUiLGZ1bmN0aW9uKCl7Zm9yKHZhciBpPVtdLG49ci5sZW5ndGg7LS1uPj0wOylpLnB1c2goe2RhdGFJdGVtOnR9KTtyZXR1cm57ZWxlbWVudHM6ci5jaGlsZHJlbigpLGRhdGE6aX19KSx0aGlzKTpyLmh0bWwoKX0sb3BlbjpmdW5jdGlvbigpe3ZhciB1LGMsZix0PXRoaXMsZT10LndyYXBwZXIsbz10Lm9wdGlvbnMscz10aGlzLl9hbmltYXRpb25PcHRpb25zKCJvcGVuIiksYT1lLmNoaWxkcmVuKGgpLHc9dGhpcy5jb250YWlubWVudCYmIXQuX2lzUGlubmVkLHY9dz90aGlzLmNvbnRhaW5tZW50Om4oZG9jdW1lbnQpO3JldHVybiB0LnRyaWdnZXIobHQpfHwodC5fY2xvc2luZyYmZS5rZW5kb1N0b3AoITAsITApLHQuX2Nsb3Npbmc9ITEsdC50b0Zyb250KCksby5hdXRvRm9jdXMmJnQuZWxlbWVudC5mb2N1cygpLG8udmlzaWJsZT0hMCxvLm1vZGFsJiYoYz0hIXQuX21vZGFscygpLmxlbmd0aCx1PXQuX292ZXJsYXkoYyksdS5rZW5kb1N0b3AoITAsITApLHMuZHVyYXRpb24mJmkuZWZmZWN0cy5GYWRlJiYhYz8oZj1pLmZ4KHUpLmZhZGVJbigpLGYuZHVyYXRpb24ocy5kdXJhdGlvbnx8MCksZi5lbmRWYWx1ZSguNSksZi5wbGF5KCkpOnUuY3NzKCJvcGFjaXR5IiwuNSksdS5zaG93KCksbih3aW5kb3cpLm9uKCJmb2N1cyIraHQsZnVuY3Rpb24oKXthLmRhdGEoImlzRnJvbnQiKSYmIW4oZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkuY2xvc2VzdChhKS5sZW5ndGgmJnQuZWxlbWVudC5mb2N1cygpfSkpLGUuaXMoZCl8fChhLmNzcyhsLHkpLHQud3JhcHBlci5maW5kKHApLmFkZENsYXNzKCJrLWJhcmUiKSxlLnNob3coKS5rZW5kb1N0b3AoKS5rZW5kb0FuaW1hdGUoe2VmZmVjdHM6cy5lZmZlY3RzLGR1cmF0aW9uOnMuZHVyYXRpb24sY29tcGxldGU6cih0aGlzLl9hY3RpdmF0ZSx0aGlzKX0pKSksby5pc01heGltaXplZCYmKHQuX2NvbnRhaW5lclNjcm9sbFRvcD12LnNjcm9sbFRvcCgpLHQuX2NvbnRhaW5lclNjcm9sbExlZnQ9di5zY3JvbGxMZWZ0KCksdC5fc3RvcERvY3VtZW50U2Nyb2xsaW5nKCkpLHRoaXMub3B0aW9ucy5waW5uZWQmJiF0aGlzLl9pc1Bpbm5lZCYmdGhpcy5waW4oKSx0fSxfYWN0aXZhdGU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnMuc2Nyb2xsYWJsZSE9PSExO3RoaXMub3B0aW9ucy5hdXRvRm9jdXMmJnRoaXMuZWxlbWVudC5mb2N1cygpO3RoaXMuZWxlbWVudC5jc3MobCxuPyIiOiJoaWRkZW4iKTtpLnJlc2l6ZSh0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKSk7dGhpcy50cmlnZ2VyKGF0KX0sX3JlbW92ZU92ZXJsYXk6ZnVuY3Rpb24ocil7dmFyIHUsZT10aGlzLl9tb2RhbHMoKSxmPXRoaXMub3B0aW9ucyxzPWYubW9kYWwmJiFlLmxlbmd0aCxoPWYubW9kYWw/dGhpcy5fb3ZlcmxheSghMCk6bih0KSxvPXRoaXMuX2FuaW1hdGlvbk9wdGlvbnMoImNsb3NlIik7cz8oIXImJm8uZHVyYXRpb24mJmkuZWZmZWN0cy5GYWRlPyh1PWkuZngoaCkuZmFkZU91dCgpLHUuZHVyYXRpb24oby5kdXJhdGlvbnx8MCksdS5zdGFydFZhbHVlKC41KSx1LnBsYXkoKSk6dGhpcy5fb3ZlcmxheSghMSkucmVtb3ZlKCksZi5tb2RhbC5wcmV2ZW50U2Nyb2xsJiZ0aGlzLl9lbmFibGVEb2N1bWVudFNjcm9sbGluZygpKTplLmxlbmd0aCYmKHRoaXMuX29iamVjdChlLmxhc3QoKSkuX292ZXJsYXkoITApLGYubW9kYWwucHJldmVudFNjcm9sbCYmdGhpcy5fc3RvcERvY3VtZW50U2Nyb2xsaW5nKCkpfSxfY2xvc2U6ZnVuY3Rpb24odCl7dmFyIHUsaT10aGlzLGY9aS53cmFwcGVyLHM9aS5vcHRpb25zLGM9dGhpcy5fYW5pbWF0aW9uT3B0aW9ucygib3BlbiIpLGU9dGhpcy5fYW5pbWF0aW9uT3B0aW9ucygiY2xvc2UiKSxsPXRoaXMuY29udGFpbm1lbnQmJiFpLl9pc1Bpbm5lZCxvPWw/dGhpcy5jb250YWlubWVudDpuKGRvY3VtZW50KTtpLl9jbG9zaW5nfHwodT1pLnRyaWdnZXIoaWkse3VzZXJUcmlnZ2VyZWQ6IXR9KSxpLl9jbG9zaW5nPSF1LGYuaXMoZCkmJiF1JiYocy52aXNpYmxlPSExLG4odykuZWFjaChmdW5jdGlvbih0LGkpe3ZhciByPW4oaSkuY2hpbGRyZW4oaCk7aSE9ZiYmci5maW5kKCI+IC4iK2spLmxlbmd0aD4wJiZyLmNoaWxkcmVuKGIpLnJlbW92ZSgpfSksdGhpcy5fcmVtb3ZlT3ZlcmxheSgpLGkud3JhcHBlci5maW5kKHApLnJlbW92ZUNsYXNzKCJrLWJhcmUiKSxmLmtlbmRvU3RvcCgpLmtlbmRvQW5pbWF0ZSh7ZWZmZWN0czplLmVmZmVjdHN8fGMuZWZmZWN0cyxyZXZlcnNlOmUucmV2ZXJzZT09PSEwLGR1cmF0aW9uOmUuZHVyYXRpb24sY29tcGxldGU6cih0aGlzLl9kZWFjdGl2YXRlLHRoaXMpfSksbih3aW5kb3cpLm9mZihodCkpLGkub3B0aW9ucy5pc01heGltaXplZCYmKGkuX2VuYWJsZURvY3VtZW50U2Nyb2xsaW5nKCksaS5fY29udGFpbmVyU2Nyb2xsVG9wJiZpLl9jb250YWluZXJTY3JvbGxUb3A+MCYmby5zY3JvbGxUb3AoaS5fY29udGFpbmVyU2Nyb2xsVG9wKSxpLl9jb250YWluZXJTY3JvbGxMZWZ0JiZpLl9jb250YWluZXJTY3JvbGxMZWZ0PjAmJm8uc2Nyb2xsTGVmdChpLl9jb250YWluZXJTY3JvbGxMZWZ0KSkpfSxfZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciB0LG49dGhpcztuLndyYXBwZXIuaGlkZSgpLmNzcygib3BhY2l0eSIsIiIpO24udHJpZ2dlcih0aSk7bi5vcHRpb25zLm1vZGFsJiYodD1uLl9vYmplY3Qobi5fbW9kYWxzKCkubGFzdCgpKSx0JiZ0LnRvRnJvbnQoKSl9LGNsb3NlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nsb3NlKCEwKSx0aGlzfSxfYWN0aW9uYWJsZTpmdW5jdGlvbih0KXtyZXR1cm4gbih0KS5pcyhwKyIsIitwKyIgLmstaWNvbiw6aW5wdXQsYSIpfSxfc2hvdWxkRm9jdXM6ZnVuY3Rpb24odCl7dmFyIHI9YmkoKSxpPXRoaXMuZWxlbWVudDtyZXR1cm4gdGhpcy5vcHRpb25zLmF1dG9Gb2N1cyYmIW4ocikuaXMoaSkmJiF0aGlzLl9hY3Rpb25hYmxlKHQpJiYoIWkuZmluZChyKS5sZW5ndGh8fCFpLmZpbmQodCkubGVuZ3RoKX0sdG9Gcm9udDpmdW5jdGlvbih0KXt2YXIgZixlLGk9dGhpcyxyPWkud3JhcHBlcixvPXJbMF0sbD1pLmNvbnRhaW5tZW50JiYhaS5faXNQaW5uZWQsdT0rci5jc3ModHQpLGE9dSxzPXQmJnQudGFyZ2V0fHxudWxsO3JldHVybiBuKHcpLmVhY2goZnVuY3Rpb24odCxpKXt2YXIgZj1uKGkpLGU9Zi5jc3ModHQpLHI9Zi5jaGlsZHJlbihoKTtpc05hTihlKXx8KHU9TWF0aC5tYXgoK2UsdSkpO3IuZGF0YSgiaXNGcm9udCIsaT09byk7aSE9byYmci5maW5kKCI+IC4iK2spLmxlbmd0aD4wJiZyLmFwcGVuZChjLm92ZXJsYXkpfSksKCFyWzBdLnN0eWxlLnpJbmRleHx8YTx1KSYmci5jc3ModHQsdSsyKSxpLmVsZW1lbnQuZmluZCgiPiAuay1vdmVybGF5IikucmVtb3ZlKCksaS5fc2hvdWxkRm9jdXMocykmJihpLmlzTWluaW1pemVkKCk/aS53cmFwcGVyLmZvY3VzKCk6bihzKS5pcyhiKT9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5lbGVtZW50LmZvY3VzKCl9KTppLmVsZW1lbnQuZm9jdXMoKSxmPWw/aS5jb250YWlubWVudC5zY3JvbGxUb3AoKTpuKHdpbmRvdykuc2Nyb2xsVG9wKCksZT1wYXJzZUludChyLnBvc2l0aW9uKCkudG9wLDEwKSwhaS5vcHRpb25zLnBpbm5lZCYmZT4wJiZlPGYmJihmPjA/bih3aW5kb3cpLnNjcm9sbFRvcChlKTpyLmNzcygidG9wIixmKSkpLHI9bnVsbCxpfSx0b2dnbGVNYXhpbWl6YXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2xvc2luZz90aGlzOnRoaXNbdGhpcy5vcHRpb25zLmlzTWF4aW1pemVkPyJyZXN0b3JlIjoibWF4aW1pemUiXSgpfSxyZXN0b3JlOmZ1bmN0aW9uKCl7dmFyIGYsdD10aGlzLGk9dC5vcHRpb25zLHU9aS5taW5IZWlnaHQscj10LnJlc3RvcmVPcHRpb25zLG89dC5jb250YWlubWVudCYmIXQuX2lzUGlubmVkP3QuY29udGFpbm1lbnQ6bihkb2N1bWVudCk7cmV0dXJuIGkuaXNNYXhpbWl6ZWR8fGkuaXNNaW5pbWl6ZWQ/KHUmJnUhPTEvMCYmdC53cmFwcGVyLmNzcygibWluLWhlaWdodCIsdSksciYmIWkuaXNNYXhpbWl6ZWQmJihyLmhlaWdodD1lKHIuaGVpZ2h0LHQub3B0aW9ucy5taW5IZWlnaHQsdC5vcHRpb25zLm1heEhlaWdodCksZj1pLnBvc2l0aW9uLnRvcCtwYXJzZUludChyLmhlaWdodCwxMCk+dC5tYXhUb3AsZiYmKGkucG9zaXRpb24udG9wPWUoaS5wb3NpdGlvbi50b3AsdC5taW5Ub3AsdC5tYXhUb3AtcGFyc2VJbnQoci5oZWlnaHQsMTApKSxzKHIse2xlZnQ6aS5wb3NpdGlvbi5sZWZ0LHRvcDppLnBvc2l0aW9uLnRvcH0pKSksdC53cmFwcGVyLmNzcyh7cG9zaXRpb246aS5waW5uZWQ/ImZpeGVkIjoiYWJzb2x1dGUiLGxlZnQ6ci5sZWZ0LHRvcDpyLnRvcCx3aWR0aDpyLndpZHRoLGhlaWdodDpyLmhlaWdodH0pLnJlbW92ZUNsYXNzKG5pKS5maW5kKCIuay13aW5kb3ctY29udGVudCwuay1yZXNpemUtaGFuZGxlIikuc2hvdygpLmVuZCgpLmZpbmQoIi5rLXdpbmRvdy10aXRsZWJhciAuay1pLXdpbmRvdy1yZXN0b3JlIikucGFyZW50KCkucmVtb3ZlKCkuZW5kKCkuZW5kKCkuZmluZChzaSkucGFyZW50KCkuc2hvdygpLmVuZCgpLmVuZCgpLmZpbmQobGkpLnBhcmVudCgpLnNob3coKSxpLmlzTWF4aW1pemVkP3Qud3JhcHBlci5maW5kKCIuay1pLXdpbmRvdy1tYXhpbWl6ZSIpLnBhcmVudCgpLmZvY3VzKCk6aS5pc01pbmltaXplZCYmdC53cmFwcGVyLmZpbmQoIi5rLWktd2luZG93LW1pbmltaXplIikucGFyZW50KCkuZm9jdXMoKSx0Lm9wdGlvbnMud2lkdGg9ci53aWR0aCx0Lm9wdGlvbnMuaGVpZ2h0PXIuaGVpZ2h0LHQub3B0aW9ucy5tb2RhbC5wcmV2ZW50U2Nyb2xsfHx0Ll9lbmFibGVEb2N1bWVudFNjcm9sbGluZygpLHQuX2NvbnRhaW5lclNjcm9sbFRvcCYmdC5fY29udGFpbmVyU2Nyb2xsVG9wPjAmJm8uc2Nyb2xsVG9wKHQuX2NvbnRhaW5lclNjcm9sbFRvcCksdC5fY29udGFpbmVyU2Nyb2xsTGVmdCYmdC5fY29udGFpbmVyU2Nyb2xsTGVmdD4wJiZvLnNjcm9sbExlZnQodC5fY29udGFpbmVyU2Nyb2xsTGVmdCksaS5pc01heGltaXplZD1pLmlzTWluaW1pemVkPSExLHQud3JhcHBlci5yZW1vdmVBdHRyKCJ0YWJpbmRleCIpLHQud3JhcHBlci5yZW1vdmVBdHRyKCJhcmlhLWxhYmVsbGVkLWJ5IiksdC5yZXNpemUoKSx0KTp0fSxfc2l6aW5nQWN0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcyxyPWkud3JhcHBlcix1PXJbMF0uc3R5bGUsZj1pLm9wdGlvbnM7cmV0dXJuIGYuaXNNYXhpbWl6ZWR8fGYuaXNNaW5pbWl6ZWQ/aTooaS5yZXN0b3JlT3B0aW9ucz17d2lkdGg6dS53aWR0aCxoZWlnaHQ6dS5oZWlnaHR9LHIuY2hpbGRyZW4odikuaGlkZSgpLmVuZCgpLmNoaWxkcmVuKG8pLmZpbmQoc2kpLnBhcmVudCgpLmhpZGUoKS5lcSgwKS5iZWZvcmUoYy5hY3Rpb24oe25hbWU6IndpbmRvdy1yZXN0b3JlIn0pKSx0LmNhbGwoaSksaS53cmFwcGVyLmNoaWxkcmVuKG8pLmZpbmQobGkpLnBhcmVudCgpLnRvZ2dsZSgibWF4aW1pemUiIT09biksaS50cmlnZ2VyKG4pLHIuZmluZCgiLmstaS13aW5kb3ctcmVzdG9yZSIpLnBhcmVudCgpLmZvY3VzKCksaSl9LG1heGltaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpemluZ0FjdGlvbigibWF4aW1pemUiLGZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxyPWkud3JhcHBlcix0PXRoaXMuY29udGFpbm1lbnQmJiFpLl9pc1Bpbm5lZCx1PXIucG9zaXRpb24oKSxmPW4oZG9jdW1lbnQpO3MoaS5yZXN0b3JlT3B0aW9ucyx7bGVmdDp1LmxlZnQrKHQ/dGhpcy5jb250YWlubWVudC5zY3JvbGxMZWZ0KCk6MCksdG9wOnUudG9wKyh0P3RoaXMuY29udGFpbm1lbnQuc2Nyb2xsVG9wKCk6MCl9KTt0aGlzLl9jb250YWluZXJTY3JvbGxUb3A9dD90aGlzLmNvbnRhaW5tZW50LnNjcm9sbFRvcCgpOmYuc2Nyb2xsVG9wKCk7dGhpcy5fY29udGFpbmVyU2Nyb2xsTGVmdD10P3RoaXMuY29udGFpbm1lbnQuc2Nyb2xsTGVmdCgpOmYuc2Nyb2xsTGVmdCgpO2kuX3N0b3BEb2N1bWVudFNjcm9sbGluZygpO3IuY3NzKHt0b3A6dD90aGlzLmNvbnRhaW5tZW50LnNjcm9sbFRvcCgpOjAsbGVmdDp0P3RoaXMuY29udGFpbm1lbnQuc2Nyb2xsTGVmdCgpOjAscG9zaXRpb246dD8iYWJzb2x1dGUiOiJmaXhlZCJ9KS5hZGRDbGFzcyhuaSk7aS5vcHRpb25zLmlzTWF4aW1pemVkPSEwO2kuX29uRG9jdW1lbnRSZXNpemUoKX0pLHRoaXN9LF9zdG9wRG9jdW1lbnRTY3JvbGxpbmc6ZnVuY3Rpb24oKXt2YXIgdSxmLGk9dGhpcyxyPWkuY29udGFpbm1lbnQ7cmV0dXJuIHImJiFpLl9pc1Bpbm5lZD8oaS5fc3RvcmVPdmVyZmxvd1J1bGUociksci5jc3MobCx5KSxpLndyYXBwZXIuY3NzKHttYXhXaWR0aDpyLmlubmVyV2lkdGgoKSxtYXhIZWlnaHQ6ci5pbm5lckhlaWdodCgpfSksdCk6KHU9bigiYm9keSIpLGkuX3N0b3JlT3ZlcmZsb3dSdWxlKHUpLHUuY3NzKGwseSksZj1uKCJodG1sIiksaS5fc3RvcmVPdmVyZmxvd1J1bGUoZiksZi5jc3MobCx5KSx0KX0sX2VuYWJsZURvY3VtZW50U2Nyb2xsaW5nOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxyPWkuY29udGFpbm1lbnQ7cmV0dXJuIHImJiFpLl9pc1Bpbm5lZD8oaS5fcmVzdG9yZU92ZXJmbG93UnVsZShyKSxpLndyYXBwZXIuY3NzKHttYXhXaWR0aDpyLndpZHRoLG1heEhlaWdodDpyLmhlaWdodH0pLHQpOihpLl9yZXN0b3JlT3ZlcmZsb3dSdWxlKG4oZG9jdW1lbnQuYm9keSkpLGkuX3Jlc3RvcmVPdmVyZmxvd1J1bGUobigiaHRtbCIpKSx0KX0sX3N0b3JlT3ZlcmZsb3dSdWxlOmZ1bmN0aW9uKG4pe2lmKCF0aGlzLl9pc092ZXJmbG93U3RvcmVkKG4pKXt2YXIgdD1uLmdldCgwKS5zdHlsZS5vdmVyZmxvdzsic3RyaW5nIj09dHlwZW9mIHQmJm4uZGF0YShvdCx0KX19LF9pc092ZXJmbG93U3RvcmVkOmZ1bmN0aW9uKG4pe3JldHVybiJzdHJpbmciPT10eXBlb2Ygbi5kYXRhKG90KX0sX3Jlc3RvcmVPdmVyZmxvd1J1bGU6ZnVuY3Rpb24obil7dmFyIGk9bi5kYXRhKG90KTtudWxsIT09aSYmaSE9PXQ/KG4uY3NzKGwsaSksbi5yZW1vdmVEYXRhKG90KSk6bi5jc3MobCwiIil9LGlzTWF4aW1pemVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5pc01heGltaXplZH0sbWluaW1pemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2l6aW5nQWN0aW9uKCJtaW5pbWl6ZSIsZnVuY3Rpb24oKXt2YXIgbj10aGlzO24ud3JhcHBlci5jc3Moe2hlaWdodDoiIixtaW5IZWlnaHQ6IiJ9KTtuLmVsZW1lbnQuaGlkZSgpO24ub3B0aW9ucy5pc01pbmltaXplZD0hMH0pLHRoaXMud3JhcHBlci5hdHRyKCJ0YWJpbmRleCIsMCksdGhpcy53cmFwcGVyLmF0dHIoImFyaWEtbGFiZWxsZWQtYnkiLHRoaXMuZWxlbWVudC5hdHRyKCJhcmlhLWxhYmVsbGVkLWJ5IikpLHRoaXMuX3VwZGF0ZUJvdW5kYXJpZXMoKSx0aGlzfSxpc01pbmltaXplZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMuaXNNaW5pbWl6ZWR9LHBpbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1uKHdpbmRvdyksaT10LndyYXBwZXIsZj10Lm9wdGlvbnMscj1mLnBvc2l0aW9uLGg9dGhpcy5jb250YWlubWVudD9ydChpWzBdKS50b3ArdSh0aGlzLmNvbnRhaW5tZW50LCJib3JkZXJUb3BXaWR0aCIpOnUoaSwidG9wIiksYz10aGlzLmNvbnRhaW5tZW50P3J0KGlbMF0pLmxlZnQrdSh0aGlzLmNvbnRhaW5tZW50LCJib3JkZXJMZWZ0V2lkdGgiKTp1KGksImxlZnQiKTt0Lm9wdGlvbnMuaXNNYXhpbWl6ZWR8fChyLnRvcD1oLHIubGVmdD1jLCF0Ll9zY3JvbGxJc0FwcGVuZGVkfHx0aGlzLmNvbnRhaW5tZW50JiYiZml4ZWQiPT09dGhpcy5jb250YWlubWVudC5jc3MoInBvc2l0aW9uIil8fChyLnRvcC09ZS5zY3JvbGxUb3AoKSxyLmxlZnQtPWUuc2Nyb2xsTGVmdCgpLHQuX3Njcm9sbElzQXBwZW5kZWQ9ITEpLGkuY3NzKHMocix7cG9zaXRpb246ImZpeGVkIn0pKSxpLmNoaWxkcmVuKG8pLmZpbmQoaGkpLmFkZENsYXNzKCJrLWktdW5waW4iKS5yZW1vdmVDbGFzcygiay1pLXBpbiIpLHQuX2lzUGlubmVkPSEwLHQub3B0aW9ucy5waW5uZWQ9ITAsdGhpcy5jb250YWlubWVudCYmKGYubWF4V2lkdGg9Zi5tYXhIZWlnaHQ9MS8wLGkuY3NzKHttYXhXaWR0aDoiIixtYXhIZWlnaHQ6IiJ9KSkpfSx1bnBpbjpmdW5jdGlvbigpe3ZhciB0PXRoaXMsYT1uKHdpbmRvdykscj10LndyYXBwZXIsZj10Lm9wdGlvbnMsbD10Lm9wdGlvbnMucG9zaXRpb24saT10LmNvbnRhaW5tZW50LGg9cGFyc2VJbnQoci5jc3MoInRvcCIpLDEwKSthLnNjcm9sbFRvcCgpLGM9cGFyc2VJbnQoci5jc3MoImxlZnQiKSwxMCkrYS5zY3JvbGxMZWZ0KCk7dC5vcHRpb25zLmlzTWF4aW1pemVkfHwodC5faXNQaW5uZWQ9ITEsdC5fc2Nyb2xsSXNBcHBlbmRlZD0hMCx0Lm9wdGlvbnMucGlubmVkPSExLGkmJih0Ll91cGRhdGVCb3VuZGFyaWVzKCksZi5tYXhXaWR0aD1NYXRoLm1pbihpLndpZHRoLGYubWF4V2lkdGgpLGYubWF4SGVpZ2h0PU1hdGgubWluKGkuaGVpZ2h0LXUociwicGFkZGluZy10b3AiKSxmLm1heEhlaWdodCksci5jc3Moe21heFdpZHRoOmYubWF4V2lkdGgsbWF4SGVpZ2h0OmYubWF4SGVpZ2h0fSksaD1oPGkucG9zaXRpb24udG9wP3QubWluVG9wOmg+aS5wb3NpdGlvbi50b3AraS5oZWlnaHQ/dC5tYXhUb3A6aCtpLnNjcm9sbFRvcCgpLShpLnBvc2l0aW9uLnRvcCt1KGksImJvcmRlci10b3Atd2lkdGgiKSksYz1jPGkucG9zaXRpb24ubGVmdD90Lm1pbkxlZnQ6Yz5pLnBvc2l0aW9uLmxlZnQraS53aWR0aD90Lm1heExlZnQ6YytpLnNjcm9sbExlZnQoKS0oaS5wb3NpdGlvbi5sZWZ0K3UoaSwiYm9yZGVyLWxlZnQtd2lkdGgiKSkpLGwudG9wPWUoaCx0Lm1pblRvcCx0Lm1heFRvcCksbC5sZWZ0PWUoYyx0Lm1pbkxlZnQsdC5tYXhMZWZ0KSxyLmNzcyhzKGwse3Bvc2l0aW9uOiIifSkpLHIuY2hpbGRyZW4obykuZmluZChjaSkuYWRkQ2xhc3MoImstaS1waW4iKS5yZW1vdmVDbGFzcygiay1pLXVucGluIikpfSxfb25Eb2N1bWVudFJlc2l6ZTpmdW5jdGlvbigpe3ZhciBmLGUsbyxzLGgsdD10aGlzLHI9dC53cmFwcGVyLGw9bih3aW5kb3cpLGE9aS5zdXBwb3J0Lnpvb21MZXZlbCgpLGM9ImNvbnRlbnQtYm94Ij09ci5jc3MoImJveC1zaXppbmciKTt0Lm9wdGlvbnMuaXNNYXhpbWl6ZWQmJihvPWM/dShyLCJib3JkZXItbGVmdC13aWR0aCIpK3UociwiYm9yZGVyLXJpZ2h0LXdpZHRoIik6MCxzPWM/dShyLCJib3JkZXItdG9wLXdpZHRoIikrdShyLCJib3JkZXItYm90dG9tLXdpZHRoIik6MCxoPWM/dShyLCJwYWRkaW5nLXRvcCIpOjAsdC5jb250YWlubWVudCYmIXQuX2lzUGlubmVkPyhmPXQuY29udGFpbm1lbnQuaW5uZXJXaWR0aCgpLW8sZT10LmNvbnRhaW5tZW50LmlubmVySGVpZ2h0KCktKHMraCkpOihmPWwud2lkdGgoKS9hLW8sZT1sLmhlaWdodCgpL2EtKHMraCkpLHIuY3NzKHt3aWR0aDpmLGhlaWdodDplfSksdC5vcHRpb25zLndpZHRoPWYsdC5vcHRpb25zLmhlaWdodD1lLHQucmVzaXplKCkpfSxyZWZyZXNoOmZ1bmN0aW9uKHQpe3ZhciBlLHUsbyxpPXRoaXMsaD1pLm9wdGlvbnMsbD1uKGkuZWxlbWVudCk7cmV0dXJuIGJ0KHQpfHwodD17dXJsOnR9KSx0PXMoe30saC5jb250ZW50LHQpLHU9aXQoaC5pZnJhbWUpP2guaWZyYW1lOnQuaWZyYW1lLG89dC51cmwsbz8oaXQodSl8fCh1PSFnaShvKSksdT8oZT1sLmZpbmQoIi4iK2spWzBdLGU/ZS5zcmM9b3x8ZS5zcmM6bC5odG1sKGMuY29udGVudEZyYW1lKHMoe30saCx7Y29udGVudDp0fSkpKSxsLmZpbmQoIi4iK2spLnVuYmluZCgibG9hZCIrZikub24oImxvYWQiK2Yscih0aGlzLl90cmlnZ2VyUmVmcmVzaCx0aGlzKSkpOmkuX2FqYXhSZXF1ZXN0KHQpKToodC50ZW1wbGF0ZSYmaS5jb250ZW50KGEodC50ZW1wbGF0ZSkoe30pKSxpLnRyaWdnZXIoZXQpKSxsLnRvZ2dsZUNsYXNzKCJrLXdpbmRvdy1pZnJhbWVjb250ZW50IiwhIXUpLGl9LF90cmlnZ2VyUmVmcmVzaDpmdW5jdGlvbigpe3RoaXMudHJpZ2dlcihldCl9LF9hamF4Q29tcGxldGU6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fbG9hZGluZ0ljb25UaW1lb3V0KTt0aGlzLndyYXBwZXIuZmluZChhaSkucmVtb3ZlQ2xhc3Moa3QpfSxfYWpheEVycm9yOmZ1bmN0aW9uKG4sdCl7dGhpcy50cmlnZ2VyKG9pLHtzdGF0dXM6dCx4aHI6bn0pfSxfYWpheFN1Y2Nlc3M6ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBpPXQ7biYmKGk9YShuKSh0fHx7fSkpO3RoaXMuY29udGVudChpLHQpO3RoaXMuZWxlbWVudC5wcm9wKCJzY3JvbGxUb3AiLDApO3RoaXMudHJpZ2dlcihldCl9fSxfc2hvd0xvYWRpbmc6ZnVuY3Rpb24oKXt0aGlzLndyYXBwZXIuZmluZChhaSkuYWRkQ2xhc3Moa3QpfSxfYWpheFJlcXVlc3Q6ZnVuY3Rpb24odCl7dGhpcy5fbG9hZGluZ0ljb25UaW1lb3V0PXNldFRpbWVvdXQocih0aGlzLl9zaG93TG9hZGluZyx0aGlzKSwxMDApO24uYWpheChzKHt0eXBlOiJHRVQiLGRhdGFUeXBlOiJodG1sIixjYWNoZTohMSxlcnJvcjpyKHRoaXMuX2FqYXhFcnJvcix0aGlzKSxjb21wbGV0ZTpyKHRoaXMuX2FqYXhDb21wbGV0ZSx0aGlzKSxzdWNjZXNzOnIodGhpcy5fYWpheFN1Y2Nlc3ModC50ZW1wbGF0ZSksdGhpcyl9LHQpKX0sX2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnJlc2l6aW5nJiZ0aGlzLnJlc2l6aW5nLmRlc3Ryb3koKTt0aGlzLmRyYWdnaW5nJiZ0aGlzLmRyYWdnaW5nLmRlc3Ryb3koKTt0aGlzLndyYXBwZXIub2ZmKGYpLmNoaWxkcmVuKGgpLm9mZihmKS5lbmQoKS5maW5kKCIuay1yZXNpemUtaGFuZGxlLC5rLXdpbmRvdy10aXRsZWJhciIpLm9mZihmKTtuKHdpbmRvdykub2ZmKCJyZXNpemUiK2YrdGhpcy5fbWFya2VyKTtuKHdpbmRvdykub2ZmKGh0KTtuKHdpbmRvdykub2ZmKGYpO2NsZWFyVGltZW91dCh0aGlzLl9sb2FkaW5nSWNvblRpbWVvdXQpO3V0LmZuLmRlc3Ryb3kuY2FsbCh0aGlzKTt0aGlzLnVuYmluZCh0KTtpLmRlc3Ryb3kodGhpcy53cmFwcGVyKTt0aGlzLl9yZW1vdmVPdmVybGF5KCEwKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX2Rlc3Ryb3koKTt0aGlzLndyYXBwZXIuZW1wdHkoKS5yZW1vdmUoKTt0aGlzLndyYXBwZXI9dGhpcy5hcHBlbmRUbz10aGlzLmVsZW1lbnQ9bigpfSxfY3JlYXRlV2luZG93OmZ1bmN0aW9uKCl7dmFyIHUsdCxyPXRoaXMuZWxlbWVudCxmPXRoaXMub3B0aW9ucyxlPWkuc3VwcG9ydC5pc1J0bChyKTtmLnNjcm9sbGFibGU9PT0hMSYmci5jc3MoIm92ZXJmbG93IiwiaGlkZGVuIik7dD1uKGMud3JhcHBlcihmKSk7dT1yLmZpbmQoImlmcmFtZTpub3QoLmstY29udGVudCkiKS5tYXAoZnVuY3Rpb24oKXt2YXIgbj10aGlzLmdldEF0dHJpYnV0ZSgic3JjIik7cmV0dXJuIHRoaXMuc3JjPSIiLG59KTt0LnRvZ2dsZUNsYXNzKCJrLXJ0bCIsZSkuYXBwZW5kKHIpLmZpbmQoImlmcmFtZTpub3QoLmstY29udGVudCkiKS5lYWNoKGZ1bmN0aW9uKG4pe3RoaXMuc3JjPXVbbl19KTt0aGlzLmNvbnRhaW5tZW50P3RoaXMuY29udGFpbm1lbnQucHJlcGVuZCh0KTp0aGlzLmFwcGVuZFRvJiZ0LmFwcGVuZFRvKHRoaXMuYXBwZW5kVG8pO3QuZmluZCgiLmstd2luZG93LXRpdGxlIikuY3NzKGU/ImxlZnQiOiJyaWdodCIsbnQodC5maW5kKCIuay13aW5kb3ctYWN0aW9ucyIpKSsxMCk7ci5jc3MoInZpc2liaWxpdHkiLCIiKS5zaG93KCk7ci5maW5kKCJbZGF0YS1yb2xlPWVkaXRvcl0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5kYXRhKCJrZW5kb0VkaXRvciIpO3QmJnQucmVmcmVzaCgpfSk7dD1yPW51bGx9fSksYz17d3JhcHBlcjphKCI8ZGl2IGNsYXNzPSdrLXdpZGdldCBrLXdpbmRvdycgLz4iKSxhY3Rpb246YSgiPGEgcm9sZT0nYnV0dG9uJyBocmVmPSdcXCMnIGNsYXNzPSdrLWJ1dHRvbiBrLWJhcmUgay1idXR0b24taWNvbiBrLXdpbmRvdy1hY3Rpb24nIGFyaWEtbGFiZWw9JyM9IG5hbWUgIyc+PHNwYW4gY2xhc3M9J2staWNvbiBrLWktIz0gbmFtZS50b0xvd2VyQ2FzZSgpICMnPjxcL3NwYW4+PFwvYT4iKSx0aXRsZWJhcjphKCI8ZGl2IGNsYXNzPSdrLXdpbmRvdy10aXRsZWJhciBrLWhlYWRlcic+PHNwYW4gY2xhc3M9J2std2luZG93LXRpdGxlJz4jPSB0aXRsZSAjPFwvc3Bhbj48ZGl2IGNsYXNzPSdrLXdpbmRvdy1hY3Rpb25zJyAvPjxcL2Rpdj4iKSxvdmVybGF5OiI8ZGl2IGNsYXNzPSdrLW92ZXJsYXknIC8+Iixjb250ZW50RnJhbWU6YSgiPGlmcmFtZSBmcmFtZWJvcmRlcj0nMCcgdGl0bGU9JyM9IHRpdGxlICMnIGNsYXNzPSciK2srIicgc3JjPScjPSBjb250ZW50LnVybCAjJz5UaGlzIHBhZ2UgcmVxdWlyZXMgZnJhbWVzIGluIG9yZGVyIHRvIHNob3cgY29udGVudDxcL2lmcmFtZT4iKSxyZXNpemVIYW5kbGU6YSgiPGRpdiBjbGFzcz0nay1yZXNpemUtaGFuZGxlIGstcmVzaXplLSM9IGRhdGEgIyc+PFwvZGl2PiIpfTt5dC5wcm90b3R5cGU9e2FkZE92ZXJsYXk6ZnVuY3Rpb24oKXt0aGlzLm93bmVyLndyYXBwZXIuYXBwZW5kKGMub3ZlcmxheSl9LHJlbW92ZU92ZXJsYXk6ZnVuY3Rpb24oKXt0aGlzLm93bmVyLndyYXBwZXIuZmluZChiKS5yZW1vdmUoKX0sZHJhZ3N0YXJ0OmZ1bmN0aW9uKHQpe3ZhciBlLGMsbCxhLG8scyxoLHI9dGhpcyxmPXIub3duZXIsdT1mLndyYXBwZXI7ci5fcHJldmVudERyYWdnaW5nPWYudHJpZ2dlcihyaSk7ci5fcHJldmVudERyYWdnaW5nfHwoci5lbGVtZW50UGFkZGluZz1wYXJzZUludCh1LmNzcygicGFkZGluZy10b3AiKSwxMCksci5pbml0aWFsUG9zaXRpb249aS5nZXRPZmZzZXQodSwicG9zaXRpb24iKSxyLnJlc2l6ZURpcmVjdGlvbj10LmN1cnJlbnRUYXJnZXQucHJvcCgiY2xhc3NOYW1lIikucmVwbGFjZSgiay1yZXNpemUtaGFuZGxlIGstcmVzaXplLSIsIiIpLHIuaW5pdGlhbFNpemU9e3dpZHRoOnUud2lkdGgoKSxoZWlnaHQ6dS5oZWlnaHQoKX0sZi5fdXBkYXRlQm91bmRhcmllcygpLHIuY29udGFpbmVyT2Zmc2V0PWYuY29udGFpbm1lbnQ/Zi5jb250YWlubWVudC5wb3NpdGlvbjppLmdldE9mZnNldChmLmFwcGVuZFRvLCJwb3NpdGlvbiIpLGU9dS5vZmZzZXRQYXJlbnQoKSxlLmlzKCJodG1sIik/ci5jb250YWluZXJPZmZzZXQudG9wPXIuY29udGFpbmVyT2Zmc2V0LmxlZnQ9MDooYz1lLmNzcygibWFyZ2luLXRvcCIpLGw9ZS5jc3MoIm1hcmdpbi1sZWZ0IiksYT0heWkudGVzdChjKXx8IXlpLnRlc3QobCksYSYmKG89cnQodVswXSkscz1vLmxlZnQtci5jb250YWluZXJPZmZzZXQubGVmdC1yLmluaXRpYWxQb3NpdGlvbi5sZWZ0LGg9by50b3Atci5jb250YWluZXJPZmZzZXQudG9wLXIuaW5pdGlhbFBvc2l0aW9uLnRvcCxyLl9yZWxhdGl2ZUVsTWFyZ2luTGVmdD1zPjE/czowLHIuX3JlbGF0aXZlRWxNYXJnaW5Ub3A9aD4xP2g6MCxyLmluaXRpYWxQb3NpdGlvbi5sZWZ0Kz1yLl9yZWxhdGl2ZUVsTWFyZ2luTGVmdCxyLmluaXRpYWxQb3NpdGlvbi50b3ArPXIuX3JlbGF0aXZlRWxNYXJnaW5Ub3ApKSx1LmNoaWxkcmVuKHYpLm5vdCh0LmN1cnJlbnRUYXJnZXQpLmhpZGUoKSxuKGZ0KS5jc3MoZyx0LmN1cnJlbnRUYXJnZXQuY3NzKGcpKSl9LGRyYWc6ZnVuY3Rpb24odCl7dmFyIHMscix5LHUsZixwLG8sYSx2LG50LHR0LHcsaCxsLGMsayxkLGcsaXQsYjt0aGlzLl9wcmV2ZW50RHJhZ2dpbmd8fChzPXRoaXMscj1zLm93bmVyLHk9ci53cmFwcGVyLHU9ci5vcHRpb25zLGY9dS5wb3NpdGlvbixwPXMucmVzaXplRGlyZWN0aW9uLG89cy5jb250YWluZXJPZmZzZXQsYT1zLmluaXRpYWxQb3NpdGlvbix2PXMuaW5pdGlhbFNpemUsbnQ9ci5jb250YWlubWVudCYmIXIuX2lzUGlubmVkLHR0PWkuc3VwcG9ydC5pc1J0bChyLmNvbnRhaW5tZW50KSx3PW50JiZ0dCYmci5jb250YWlubWVudC5pbm5lcldpZHRoKCk+ci5jb250YWlubWVudC53aWR0aD9pLnN1cHBvcnQuc2Nyb2xsYmFyKCk6MCxoPW50P3t0b3A6ci5jb250YWlubWVudC5zY3JvbGxUb3AoKSxsZWZ0OnIuY29udGFpbm1lbnQuc2Nyb2xsTGVmdCgpfTp7dG9wOjAsbGVmdDowfSxnPU1hdGgubWF4KHQueC5sb2NhdGlvbiwwKSxpdD1NYXRoLm1heCh0LnkubG9jYXRpb24sMCkscC5pbmRleE9mKCJlIik+PTA/KGw9ci5jb250YWlubWVudCYmZy12LndpZHRoPj1yLm1heExlZnQtaC5sZWZ0K28ubGVmdCt3P3IubWF4TGVmdCt3LWEubGVmdCt2LndpZHRoLWgubGVmdDpnLWEubGVmdC1vLmxlZnQseS53aWR0aChlKGwsdS5taW5XaWR0aCx1Lm1heFdpZHRoKSkpOnAuaW5kZXhPZigidyIpPj0wJiYoZD1hLmxlZnQrdi53aWR0aCtvLmxlZnQsbD1lKGQtZyx1Lm1pbldpZHRoLHUubWF4V2lkdGgpLGYubGVmdD1kLWwtby5sZWZ0LXctKHMuX3JlbGF0aXZlRWxNYXJnaW5MZWZ0fHwwKStoLmxlZnQsci5jb250YWlubWVudCYmZi5sZWZ0PD1yLm1pbkxlZnQmJihmLmxlZnQ9ci5taW5MZWZ0LGw9ZShkLXctZi5sZWZ0LW8ubGVmdCtoLmxlZnQsdS5taW5XaWR0aCx1Lm1heFdpZHRoKSkseS5jc3Moe2xlZnQ6Zi5sZWZ0LHdpZHRoOmx9KSksYj1pdCxyLm9wdGlvbnMucGlubmVkJiYoYi09bih3aW5kb3cpLnNjcm9sbFRvcCgpKSxwLmluZGV4T2YoInMiKT49MD8oYz1iLWEudG9wLXMuZWxlbWVudFBhZGRpbmctby50b3AsYi12LmhlaWdodC1zLmVsZW1lbnRQYWRkaW5nPj1yLm1heFRvcCtvLnRvcC1oLnRvcCYmKGM9ci5tYXhUb3AtYS50b3Ardi5oZWlnaHQtaC50b3ApLHkuaGVpZ2h0KGUoYyx1Lm1pbkhlaWdodCx1Lm1heEhlaWdodCkpKTpwLmluZGV4T2YoIm4iKT49MCYmKGs9YS50b3Ardi5oZWlnaHQrby50b3AsYz1lKGstYix1Lm1pbkhlaWdodCx1Lm1heEhlaWdodCksZi50b3A9ay1jLW8udG9wLShzLl9yZWxhdGl2ZUVsTWFyZ2luVG9wfHwwKStoLnRvcCxmLnRvcDw9ci5taW5Ub3AmJnIuY29udGFpbm1lbnQmJihmLnRvcD1yLm1pblRvcCxjPWUoay1mLnRvcC1vLnRvcCtoLnRvcCx1Lm1pbkhlaWdodCx1Lm1heEhlaWdodCkpLHkuY3NzKHt0b3A6Zi50b3AsaGVpZ2h0OmN9KSksbCYmKHIub3B0aW9ucy53aWR0aD1sKyJweCIpLGMmJihyLm9wdGlvbnMuaGVpZ2h0PWMrInB4Iiksci5yZXNpemUoKSl9LGRyYWdlbmQ6ZnVuY3Rpb24odCl7aWYoIXRoaXMuX3ByZXZlbnREcmFnZ2luZyl7dmFyIHI9dGhpcyxpPXIub3duZXIsdT1pLndyYXBwZXI7cmV0dXJuIHUuY2hpbGRyZW4odikubm90KHQuY3VycmVudFRhcmdldCkuc2hvdygpLG4oZnQpLmNzcyhnLCIiKSxpLnRvdWNoU2Nyb2xsZXImJmkudG91Y2hTY3JvbGxlci5yZXNldCgpLDI3PT10LmtleUNvZGUmJnUuY3NzKHIuaW5pdGlhbFBvc2l0aW9uKS5jc3Moci5pbml0aWFsU2l6ZSksaS50cmlnZ2VyKHVpKSwhMX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLl9kcmFnZ2FibGUmJnRoaXMuX2RyYWdnYWJsZS5kZXN0cm95KCk7dGhpcy5fZHJhZ2dhYmxlPXRoaXMub3duZXI9bnVsbH19O3B0LnByb3RvdHlwZT17ZHJhZ3N0YXJ0OmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMub3duZXIsbz1yLm9wdGlvbnMuZHJhZ2dhYmxlLHU9ci5lbGVtZW50LGY9dS5maW5kKCIuay13aW5kb3ctYWN0aW9ucyIpLGU9aS5nZXRPZmZzZXQoci5hcHBlbmRUbyk7dGhpcy5fcHJldmVudERyYWdnaW5nPXIudHJpZ2dlcihmaSl8fCFvO3RoaXMuX3ByZXZlbnREcmFnZ2luZ3x8ci5pc01heGltaXplZCgpfHwoci5pbml0aWFsV2luZG93UG9zaXRpb249aS5nZXRPZmZzZXQoci53cmFwcGVyLCJwb3NpdGlvbiIpLHIuaW5pdGlhbFBvaW50ZXJQb3NpdGlvbj17bGVmdDpyLm9wdGlvbnMucG9zaXRpb24ubGVmdCx0b3A6ci5vcHRpb25zLnBvc2l0aW9uLnRvcH0sci5zdGFydFBvc2l0aW9uPXtsZWZ0OnQueC5jbGllbnQtci5pbml0aWFsV2luZG93UG9zaXRpb24ubGVmdCx0b3A6dC55LmNsaWVudC1yLmluaXRpYWxXaW5kb3dQb3NpdGlvbi50b3B9LHIuX3VwZGF0ZUJvdW5kYXJpZXMoKSxyLmNvbnRhaW5tZW50fHwoci5taW5MZWZ0PWYubGVuZ3RoPjA/bnQoZikrcGFyc2VJbnQoZi5jc3MoInJpZ2h0IiksMTApLW50KHUpOjIwLW50KHUpLHIubWluTGVmdC09ZS5sZWZ0LHIubWluVG9wPS1lLnRvcCksci53cmFwcGVyLmFwcGVuZChjLm92ZXJsYXkpLmNoaWxkcmVuKHYpLmhpZGUoKSxuKGZ0KS5jc3MoZyx0LmN1cnJlbnRUYXJnZXQuY3NzKGcpKSl9LGRyYWc6ZnVuY3Rpb24odCl7dmFyIG8scyxyPXRoaXMub3duZXIsdT1yLm9wdGlvbnMucG9zaXRpb24sZj1yLm9wdGlvbnMuZHJhZ2dhYmxlLmF4aXM7dGhpcy5fcHJldmVudERyYWdnaW5nfHxyLmlzTWF4aW1pemVkKCl8fChmJiYieCIhPT1mLnRvTG93ZXJDYXNlKCl8fChvPXQueC5jbGllbnQtci5zdGFydFBvc2l0aW9uLmxlZnQsci5jb250YWlubWVudCYmIXIuX2lzUGlubmVkJiYobys9ci5jb250YWlubWVudC5zY3JvbGxMZWZ0KCkpLHUubGVmdD1lKG8sci5taW5MZWZ0LHIubWF4TGVmdCkpLGYmJiJ5IiE9PWYudG9Mb3dlckNhc2UoKXx8KHM9dC55LmNsaWVudC1yLnN0YXJ0UG9zaXRpb24udG9wLHIuY29udGFpbm1lbnQmJiFyLl9pc1Bpbm5lZCYmKHMrPXIuY29udGFpbm1lbnQuc2Nyb2xsVG9wKCkpLHUudG9wPWUocyxyLm1pblRvcCxyLm1heFRvcCkpLGkuc3VwcG9ydC50cmFuc2Zvcm1zP24oci53cmFwcGVyKS5jc3MoInRyYW5zZm9ybSIsInRyYW5zbGF0ZSgiKyh1LmxlZnQtci5pbml0aWFsUG9pbnRlclBvc2l0aW9uLmxlZnQpKyJweCwgIisodS50b3Atci5pbml0aWFsUG9pbnRlclBvc2l0aW9uLnRvcCkrInB4KSIpOm4oci53cmFwcGVyKS5jc3ModSkpfSxfZmluaXNoRHJhZzpmdW5jdGlvbigpe3ZhciB0PXRoaXMub3duZXI7dC53cmFwcGVyLmNoaWxkcmVuKHYpLnRvZ2dsZSghdC5vcHRpb25zLmlzTWluaW1pemVkKS5lbmQoKS5maW5kKGIpLnJlbW92ZSgpO24oZnQpLmNzcyhnLCIiKX0sZHJhZ2NhbmNlbDpmdW5jdGlvbihuKXt0aGlzLl9wcmV2ZW50RHJhZ2dpbmd8fCh0aGlzLl9maW5pc2hEcmFnKCksbi5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QodykuY3NzKHRoaXMub3duZXIuaW5pdGlhbFdpbmRvd1Bvc2l0aW9uKSl9LGRyYWdlbmQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm93bmVyO2lmKCF0aGlzLl9wcmV2ZW50RHJhZ2dpbmcmJiF0LmlzTWF4aW1pemVkKCkpcmV0dXJuIG4odC53cmFwcGVyKS5jc3ModC5vcHRpb25zLnBvc2l0aW9uKS5jc3MoInRyYW5zZm9ybSIsIiIpLHRoaXMuX2ZpbmlzaERyYWcoKSx0LnRyaWdnZXIoZWkpLCExfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5fZHJhZ2dhYmxlJiZ0aGlzLl9kcmFnZ2FibGUuZGVzdHJveSgpO3RoaXMuX2RyYWdnYWJsZT10aGlzLm93bmVyPW51bGx9fTtpLnVpLnBsdWdpbihucil9KHdpbmRvdy5rZW5kby5qUXVlcnkpLHdpbmRvdy5rZW5kb30sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmU6ZnVuY3Rpb24obix0LGkpeyhpfHx0KSgpfSk7Ci8qIQogKiBDb3B5cmlnaHQgMjAyMCBQcm9ncmVzcyBTb2Z0d2FyZSBDb3Jwb3JhdGlvbiBhbmQvb3Igb25lIG9mIGl0cyBzdWJzaWRpYXJpZXMgb3IgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCiFmdW5jdGlvbihuLHQpe3QoImtlbmRvLmRhdGEubWluIixbImtlbmRvLmNvcmUubWluIiwia2VuZG8uZGF0YS5vZGF0YS5taW4iLCJrZW5kby5kYXRhLnhtbC5taW4iXSxuKX0oZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obix0KXtmdW5jdGlvbiB0aShuLHQsaSxyKXtyZXR1cm4gZnVuY3Rpb24oZil7dmFyIG8sZT17fTtmb3IobyBpbiBmKWVbb109ZltvXTtlLmZpZWxkPXI/aSsiLiIrZi5maWVsZDppO3Q9PXUmJm4uX25vdGlmeUNoYW5nZSYmbi5fbm90aWZ5Q2hhbmdlKGUpO24udHJpZ2dlcih0LGUpfX1mdW5jdGlvbiB3aSh0LGkpe2lmKHQ9PT1pKXJldHVybiEwO3ZhciB1LHI9bi50eXBlKHQpLGY9bi50eXBlKGkpO2lmKHIhPT1mKXJldHVybiExO2lmKCJkYXRlIj09PXIpcmV0dXJuIHQuZ2V0VGltZSgpPT09aS5nZXRUaW1lKCk7aWYoIm9iamVjdCIhPT1yJiYiYXJyYXkiIT09cilyZXR1cm4hMTtmb3IodSBpbiB0KWlmKCF3aSh0W3VdLGlbdV0pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGV1KG4sdCl7dmFyIGk7Zm9yKHZhciByIGluIG4paWYoKGk9bltyXSxnKGkpJiZpLmZpZWxkJiZpLmZpZWxkPT09dCl8fGk9PT10KXJldHVybiBpO3JldHVybiBudWxsfWZ1bmN0aW9uIHIobil7dGhpcy5kYXRhPW58fFtdfWZ1bmN0aW9uIHJ0KG4saSl7aWYobil7dmFyIHI9dHlwZW9mIG49PT1vP3tmaWVsZDpuLGRpcjppfTpuLHU9YyhyKT9yOnIhPT10P1tyXTpbXTtyZXR1cm4ga3UodSxmdW5jdGlvbihuKXtyZXR1cm4hIW4uZGlyfSl9fWZ1bmN0aW9uIG91KG4saSl7dmFyIHUsZixyLGU9e307aWYobilmb3IodT10eXBlb2Ygbj09PW8/e2ZpZWxkOm4sZGlyOml9Om4sZj1jKHUpP3U6dSE9PXQ/W3VdOltdLHI9MDtyPGYubGVuZ3RoO3IrKyllW2Zbcl0uZmllbGRdPXtkaXI6ZltyXS5kaXIsaW5kZXg6cisxfTtyZXR1cm4gZX1mdW5jdGlvbiBiaShuKXt2YXIgaSxmLHIsdCx1PW4uZmlsdGVycztpZih1KWZvcihpPTAsZj11Lmxlbmd0aDtpPGY7aSsrKXI9dVtpXSx0PXIub3BlcmF0b3IsdCYmdHlwZW9mIHQ9PT1vJiYoci5vcGVyYXRvcj1rclt0LnRvTG93ZXJDYXNlKCldfHx0KSxiaShyKX1mdW5jdGlvbiBiKG4pe2lmKG4mJiFrKG4pKXJldHVybiFjKG4pJiZuLmZpbHRlcnN8fChuPXtsb2dpYzoiYW5kIixmaWx0ZXJzOmMobik/bjpbbl19KSxiaShuKSxufWZ1bmN0aW9uIHN1KG4sdCl7cmV0dXJuIW4ubG9naWMmJiF0LmxvZ2ljJiZuLmZpZWxkPT09dC5maWVsZCYmbi52YWx1ZT09PXQudmFsdWUmJm4ub3BlcmF0b3I9PT10Lm9wZXJhdG9yfWZ1bmN0aW9uIGtpKG4pe3JldHVybiBuPW58fHt9LGsobik/e2xvZ2ljOiJhbmQiLGZpbHRlcnM6W119OmIobil9ZnVuY3Rpb24gZGkobix0KXtyZXR1cm4gdC5sb2dpY3x8bi5maWVsZD50LmZpZWxkPzE6bi5maWVsZDx0LmZpZWxkPy0xOjB9ZnVuY3Rpb24gZ2kobix0KXt2YXIgZixlLGkscix1O2lmKChuPWtpKG4pLHQ9a2kodCksbi5sb2dpYyE9PXQubG9naWMpfHwoaT0obi5maWx0ZXJzfHxbXSkuc2xpY2UoKSxyPSh0LmZpbHRlcnN8fFtdKS5zbGljZSgpLGkubGVuZ3RoIT09ci5sZW5ndGgpKXJldHVybiExO2ZvcihpPWkuc29ydChkaSkscj1yLnNvcnQoZGkpLHU9MDt1PGkubGVuZ3RoO3UrKylpZihmPWlbdV0sZT1yW3VdLGYubG9naWMmJmUubG9naWMpe2lmKCFnaShmLGUpKXJldHVybiExfWVsc2UgaWYoIXN1KGYsZSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gaHUobil7cmV0dXJuIGMobik/bjpbbl19ZnVuY3Rpb24gdXQobixpLHIsdSl7dmFyIGY9dHlwZW9mIG49PT1vP3tmaWVsZDpuLGRpcjppLGNvbXBhcmU6cixza2lwSXRlbVNvcnRpbmc6dX06bixlPWMoZik/ZjpmIT09dD9bZl06W107cmV0dXJuIHd0KGUsZnVuY3Rpb24obil7cmV0dXJue2ZpZWxkOm4uZmllbGQsZGlyOm4uZGlyfHwiYXNjIixhZ2dyZWdhdGVzOm4uYWdncmVnYXRlcyxjb21wYXJlOm4uY29tcGFyZSxza2lwSXRlbVNvcnRpbmc6bi5za2lwSXRlbVNvcnRpbmd9fSl9ZnVuY3Rpb24gbnIobix0LGkpe2Zvcih2YXIgdT11dChuLHQsaSkscj0wO3I8dS5sZW5ndGg7cisrKWRlbGV0ZSB1W3JdLmNvbXBhcmU7cmV0dXJuIHV9ZnVuY3Rpb24gY3Uobil7Zm9yKHZhciBpPWMobik/bjpbbl0sdD0wO3Q8aS5sZW5ndGg7dCsrKWlmKGlbdF0mJmgoaVt0XS5jb21wYXJlKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBsdShuLHQpe3JldHVybiBuJiZuLmdldFRpbWUmJnQmJnQuZ2V0VGltZT9uLmdldFRpbWUoKT09PXQuZ2V0VGltZSgpOm49PT10fWZ1bmN0aW9uIGF1KG4sdCxyLHUsZixlKXt2YXIgaCxjLHMsbCxvO2Zvcih0PXR8fFtdLGw9dC5sZW5ndGgsaD0wO2g8bDtoKyspYz10W2hdLHM9Yy5hZ2dyZWdhdGUsbz1jLmZpZWxkLG5bb109bltvXXx8e30sZVtvXT1lW29dfHx7fSxlW29dW3NdPWVbb11bc118fHt9LG5bb11bc109ZHJbcy50b0xvd2VyQ2FzZSgpXShuW29dW3NdLHIsaS5hY2Nlc3NvcihvKSx1LGYsZVtvXVtzXSl9ZnVuY3Rpb24geShuKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIG4mJiFpc05hTihuKX1mdW5jdGlvbiB2dChuKXtyZXR1cm4gbiYmbi5nZXRUaW1lfWZ1bmN0aW9uIHl0KG4pe2Zvcih2YXIgaT1uLmxlbmd0aCxyPUFycmF5KGkpLHQ9MDt0PGk7dCsrKXJbdF09blt0XS50b0pTT04oKTtyZXR1cm4gcn1mdW5jdGlvbiB2dShuLHQscix1LGYpe2Zvcih2YXIgcyxvLGUsYz17fSxoPTAsbD1uLmxlbmd0aDtoPGw7aCsrKXtzPW5baF07Zm9yKG8gaW4gdCllPWZbb10sZSYmZSE9PW8mJihjW2VdfHwoY1tlXT1pLnNldHRlcihlKSksY1tlXShzLHRbb10ocykpLGRlbGV0ZSBzW29dKX19ZnVuY3Rpb24gaWkobix0LGkscix1KXtmb3IodmFyIGUsZixvLHM9MCxoPW4ubGVuZ3RoO3M8aDtzKyspe2U9bltzXTtmb3IoZiBpbiB0KWVbZl09aS5fcGFyc2UoZix0W2ZdKGUpKSxvPXVbZl0sbyYmbyE9PWYmJmRlbGV0ZSBlW29dfX1mdW5jdGlvbiB0cihuLHQsaSxyLHUpe2Zvcih2YXIgZixvLGU9MCxzPW4ubGVuZ3RoO2U8cztlKyspZj1uW2VdLG89cltmLmZpZWxkXSxvJiZvIT1mLmZpZWxkJiYoZi5maWVsZD1vKSxmLnZhbHVlPWkuX3BhcnNlKGYuZmllbGQsZi52YWx1ZSksZi5oYXNTdWJncm91cHM/dHIoZi5pdGVtcyx0LGkscix1KTppaShmLml0ZW1zLHQsaSxyLHUpfWZ1bmN0aW9uIHJpKG4sdCxpLHIsdSxmKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGU9bihlKSxpcih0LGkscix1LGYpKGUpfX1mdW5jdGlvbiBpcihuLHQsaSxyLHUpe3JldHVybiBmdW5jdGlvbihmKXtyZXR1cm4gZiYmIWsoaSkmJigiW29iamVjdCBBcnJheV0iPT09bmkuY2FsbChmKXx8ZiBpbnN0YW5jZW9mIHZ8fChmPVtmXSksdChmLGksbmV3IG4scix1KSksZnx8W119fWZ1bmN0aW9uIHJyKG4sdCl7dmFyIGkscix1O2lmKHQuaXRlbXMmJnQuaXRlbXMubGVuZ3RoKWZvcih1PTA7dTx0Lml0ZW1zLmxlbmd0aDt1KyspaT1uLml0ZW1zW3VdLHI9dC5pdGVtc1t1XSxpJiZyP2kuaGFzU3ViZ3JvdXBzP3JyKGkscik6aS5maWVsZCYmaS52YWx1ZT09ci52YWx1ZT9pLml0ZW1zLnB1c2guYXBwbHkoaS5pdGVtcyxyLml0ZW1zKTpuLml0ZW1zLnB1c2guYXBwbHkobi5pdGVtcyxbcl0pOnImJm4uaXRlbXMucHVzaC5hcHBseShuLml0ZW1zLFtyXSl9ZnVuY3Rpb24gdWkobix0LGkscil7Zm9yKHZhciBmLHUsbyxlPTA7dC5sZW5ndGgmJnImJihmPXRbZV0sdT1mLml0ZW1zLG89dS5sZW5ndGgsbiYmbi5maWVsZD09PWYuZmllbGQmJm4udmFsdWU9PT1mLnZhbHVlPyhuLmhhc1N1Ymdyb3VwcyYmbi5pdGVtcy5sZW5ndGg/dWkobi5pdGVtc1tuLml0ZW1zLmxlbmd0aC0xXSxmLml0ZW1zLGkscik6KHU9dS5zbGljZShpLGkrciksbi5pdGVtcz1uLml0ZW1zLmNvbmNhdCh1KSksdC5zcGxpY2UoZS0tLDEpKTpmLmhhc1N1Ymdyb3VwcyYmdS5sZW5ndGg/KHVpKGYsdSxpLHIpLGYuaXRlbXMubGVuZ3RofHx0LnNwbGljZShlLS0sMSkpOih1PXUuc2xpY2UoaSxpK3IpLGYuaXRlbXM9dSxmLml0ZW1zLmxlbmd0aHx8dC5zcGxpY2UoZS0tLDEpKSwwPT09dS5sZW5ndGg/aS09bzooaT0wLHItPXUubGVuZ3RoKSwhKCsrZT49dC5sZW5ndGgpKTspO2U8dC5sZW5ndGgmJnQuc3BsaWNlKGUsdC5sZW5ndGgtZSl9ZnVuY3Rpb24gdXIobix0KXtmb3IodmFyIGksZSx1LGY9W10scz0obnx8W10pLmxlbmd0aCxvPWgodCk/dDpmdW5jdGlvbihuLHQpe3JldHVybiBuW3RdfSxyPTA7cjxzO3IrKylpZihpPW8obixyKSxpLmhhc1N1Ymdyb3VwcylmPWYuY29uY2F0KHVyKGkuaXRlbXMpKTtlbHNlIGZvcihlPWkuaXRlbXMsdT0wO3U8ZS5sZW5ndGg7dSsrKWYucHVzaChvKGUsdSkpO3JldHVybiBmfWZ1bmN0aW9uIGZpKG4pe2Zvcih2YXIgZixpLHIsdT1bXSx0PTAsZT1uLmxlbmd0aDt0PGU7dCsrKWlmKHI9bi5hdCh0KSxyLmhhc1N1Ymdyb3Vwcyl1PXUuY29uY2F0KGZpKHIuaXRlbXMpKTtlbHNlIGZvcihmPXIuaXRlbXMsaT0wO2k8Zi5sZW5ndGg7aSsrKXUucHVzaChmLmF0KGkpKTtyZXR1cm4gdX1mdW5jdGlvbiBmcihuLHQpe3ZhciByLHUsaTtpZih0KWZvcihyPTAsdT1uLmxlbmd0aDtyPHU7cisrKWk9bi5hdChyKSxpLmhhc1N1Ymdyb3Vwcz9mcihpLml0ZW1zLHQpOmkuaXRlbXM9bmV3IG90KGkuaXRlbXMsdCxpLml0ZW1zLl9ldmVudHMpfWZ1bmN0aW9uIGVyKG4sdCl7Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspaWYobltpXS5oYXNTdWJncm91cHMpe2lmKGVyKG5baV0uaXRlbXMsdCkpcmV0dXJuITB9ZWxzZSBpZih0KG5baV0uaXRlbXMsbltpXSkpcmV0dXJuITB9ZnVuY3Rpb24geXUobix0LGkscil7Zm9yKHZhciB1PTA7dTxuLmxlbmd0aCYmblt1XS5kYXRhIT09dCYmIW9yKG5bdV0uZGF0YSxpLHIpO3UrKyk7fWZ1bmN0aW9uIG9yKG4sdCxpKXtmb3IodmFyIHI9MCx1PW4ubGVuZ3RoO3I8dTtyKyspe2lmKG5bcl0mJm5bcl0uaGFzU3ViZ3JvdXBzKXJldHVybiBvcihuW3JdLml0ZW1zLHQsaSk7aWYobltyXT09PXR8fG5bcl09PT1pKXJldHVybiBuW3JdPWksITB9fWZ1bmN0aW9uIHNyKG4saSxyLHUsZil7Zm9yKHZhciBlLHMsbz0wLGg9bi5sZW5ndGg7bzxoO28rKylpZihlPW5bb10sZSYmIShlIGluc3RhbmNlb2YgdSkpaWYoZS5oYXNTdWJncm91cHM9PT10fHxmKXtmb3Iocz0wO3M8aS5sZW5ndGg7cysrKWlmKGlbc109PT1lKXtuW29dPWkuYXQocyk7eXUocixpLGUsbltvXSk7YnJlYWt9fWVsc2Ugc3IoZS5pdGVtcyxpLHIsdSxmKX1mdW5jdGlvbiBwdShuLHQpe2Zvcih2YXIgcix1PW4ubGVuZ3RoLGk9MDtpPHU7aSsrKWlmKHI9bltpXSxyLnVpZCYmci51aWQ9PXQudWlkKXJldHVybiBuLnNwbGljZShpLDEpLHJ9ZnVuY3Rpb24gaHIobix0KXtyZXR1cm4gdD9scihuLGZ1bmN0aW9uKG4pe3JldHVybiBuLnVpZCYmbi51aWQ9PXQudWlkfHxuW3QuaWRGaWVsZF09PT10LmlkJiZ0LmlkIT09dC5fZGVmYXVsdElkfSk6LTF9ZnVuY3Rpb24gY3Iobix0KXtyZXR1cm4gdD9scihuLGZ1bmN0aW9uKG4pe3JldHVybiBuLnVpZD09dC51aWR9KTotMX1mdW5jdGlvbiBscihuLHQpe2Zvcih2YXIgaT0wLHI9bi5sZW5ndGg7aTxyO2krKylpZih0KG5baV0pKXJldHVybiBpO3JldHVybi0xfWZ1bmN0aW9uIGFyKG4sdCl7dmFyIGkscjtyZXR1cm4gbiYmIWsobik/KGk9blt0XSxyPWcoaSk/aS5mcm9tfHxpLmZpZWxkfHx0Om5bdF18fHQsaChyKT90OnIpOnR9ZnVuY3Rpb24gdnIobix0KXt2YXIgcixmLHUsaT17fTtmb3IodSBpbiBuKSJmaWx0ZXJzIiE9PXUmJihpW3VdPW5bdV0pO2lmKG4uZmlsdGVycylmb3IoaS5maWx0ZXJzPVtdLHI9MCxmPW4uZmlsdGVycy5sZW5ndGg7cjxmO3IrKylpLmZpbHRlcnNbcl09dnIobi5maWx0ZXJzW3JdLHQpO2Vsc2UgaS5maWVsZD1hcih0LmZpZWxkcyxpLmZpZWxkKTtyZXR1cm4gaX1mdW5jdGlvbiBwdChuLHQpe2Zvcih2YXIgaSx1LGYsbz1bXSxyPTAsZT1uLmxlbmd0aDtyPGU7cisrKXtpPXt9O3U9bltyXTtmb3IoZiBpbiB1KWlbZl09dVtmXTtpLmZpZWxkPWFyKHQuZmllbGRzLGkuZmllbGQpO2kuYWdncmVnYXRlcyYmYyhpLmFnZ3JlZ2F0ZXMpJiYoaS5hZ2dyZWdhdGVzPXB0KGkuYWdncmVnYXRlcyx0KSk7by5wdXNoKGkpfXJldHVybiBvfWZ1bmN0aW9uIHd1KHQsaSl7dmFyIHMsYyxsLGgsbyxhLHIsdSxmLGU7Zm9yKHQ9bih0KVswXSxzPXQub3B0aW9ucyxjPWlbMF0sbD1pWzFdLGg9W10sbz0wLGE9cy5sZW5ndGg7bzxhO28rKylmPXt9LHU9c1tvXSxyPXUucGFyZW50Tm9kZSxyPT09dCYmKHI9bnVsbCksdS5kaXNhYmxlZHx8ciYmci5kaXNhYmxlZHx8KHImJihmLm9wdGdyb3VwPXIubGFiZWwpLGZbYy5maWVsZF09dS50ZXh0LGU9dS5hdHRyaWJ1dGVzLnZhbHVlLGU9ZSYmZS5zcGVjaWZpZWQ/dS52YWx1ZTp1LnRleHQsZltsLmZpZWxkXT1lLGgucHVzaChmKSk7cmV0dXJuIGh9ZnVuY3Rpb24gYnUodCxpKXtmb3IodmFyIHIsaCxmLGUsbyxjPW4odClbMF0udEJvZGllc1swXSxsPWM/Yy5yb3dzOltdLHY9aS5sZW5ndGgsYT1bXSx1PTAscz1sLmxlbmd0aDt1PHM7dSsrKXtmb3IoZj17fSxvPSEwLGg9bFt1XS5jZWxscyxyPTA7cjx2O3IrKyllPWhbcl0sInRoIiE9PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKG89ITEsZltpW3JdLmZpZWxkXT1lLmlubmVySFRNTCk7b3x8YS5wdXNoKGYpfXJldHVybiBhfWZ1bmN0aW9uIHlyKG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RhdGEsaT1sLmZuW25dLmFwcGx5KHRoaXMsYXQuY2FsbChhcmd1bWVudHMpKTtyZXR1cm4gdGhpcy5fZGF0YSE9dCYmdGhpcy5fYXR0YWNoQnViYmxlSGFuZGxlcnMoKSxpfX1mdW5jdGlvbiBwcih0LGkpe2Z1bmN0aW9uIHMobix0KXtyZXR1cm4gbi5maWx0ZXIodCkuYWRkKG4uZmluZCh0KSl9Zm9yKHZhciByLGYsaCxvLGMsdSxhPW4odCkuY2hpbGRyZW4oKSx2PVtdLGI9aVswXS5maWVsZCx5PWlbMV0mJmlbMV0uZmllbGQscD1pWzJdJiZpWzJdLmZpZWxkLHc9aVszXSYmaVszXS5maWVsZCxlPTAsbD1hLmxlbmd0aDtlPGw7ZSsrKXI9e19sb2FkZWQ6ITB9LGY9YS5lcShlKSxvPWZbMF0uZmlyc3RDaGlsZCx1PWYuY2hpbGRyZW4oKSx0PXUuZmlsdGVyKCJ1bCIpLHU9dS5maWx0ZXIoIjpub3QodWwpIiksaD1mLmF0dHIoImRhdGEtaWQiKSxoJiYoci5pZD1oKSxvJiYocltiXT0zPT1vLm5vZGVUeXBlP28ubm9kZVZhbHVlOnUudGV4dCgpKSx5JiYoclt5XT1zKHUsImEiKS5hdHRyKCJocmVmIikpLHcmJihyW3ddPXModSwiaW1nIikuYXR0cigic3JjIikpLHAmJihjPXModSwiLmstc3ByaXRlIikucHJvcCgiY2xhc3NOYW1lIikscltwXT1jJiZuLnRyaW0oYy5yZXBsYWNlKCJrLXNwcml0ZSIsIiIpKSksdC5sZW5ndGgmJihyLml0ZW1zPXByKHQuZXEoMCksaSkpLCJ0cnVlIj09Zi5hdHRyKCJkYXRhLWhhc0NoaWxkcmVuIikmJihyLmhhc0NoaWxkcmVuPSEwKSx2LnB1c2gocik7cmV0dXJuIHZ9dmFyIHd0LG90LHMsZWksd3IscCxzdCxicixvaSxrcixkcixzaSxoaSxmdCxjaSxsLGxpLGFpLGQsdmksZ3IsZT1uLmV4dGVuZCx3PW4ucHJveHksZz1uLmlzUGxhaW5PYmplY3Qsaz1uLmlzRW1wdHlPYmplY3QsYz1uLmlzQXJyYXksa3U9bi5ncmVwLHlpPW4uYWpheCxidD1uLmVhY2gsYT1uLm5vb3AsaT13aW5kb3cua2VuZG8saD1pLmlzRnVuY3Rpb24sbnQ9aS5PYnNlcnZhYmxlLGt0PWkuQ2xhc3Msbz0ic3RyaW5nIixwaT0iZnVuY3Rpb24iLGR1PSJhc2MiLG51PSJjcmVhdGUiLHR1PSJyZWFkIixpdT0idXBkYXRlIixydT0iZGVzdHJveSIsdT0iY2hhbmdlIix1dT0ic3luYyIsZHQ9ImdldCIsdHQ9ImVycm9yIixpdD0icmVxdWVzdFN0YXJ0IixodD0icHJvZ3Jlc3MiLGV0PSJyZXF1ZXN0RW5kIixndT1bbnUsdHUsaXUscnVdLGN0PWZ1bmN0aW9uKG4pe3JldHVybiBufSxsdD1pLmdldHRlcixndD1pLnN0cmluZ2lmeSxmPU1hdGgsbmY9W10ucHVzaCx0Zj1bXS5qb2luLHJmPVtdLnBvcCxmdT1bXS5zcGxpY2UsdWY9W10uc2hpZnQsYXQ9W10uc2xpY2UsZmY9W10udW5zaGlmdCxuaT17fS50b1N0cmluZyxlZj1pLnN1cHBvcnQuc3RhYmxlU29ydCxzZj0vXlwvRGF0ZVwoKC4qPylcKVwvJC8sdj1udC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzO2kudHlwZT10fHxzO250LmZuLmluaXQuY2FsbChpKTtpLmxlbmd0aD1uLmxlbmd0aDtpLndyYXBBbGwobixpKX0sYXQ6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXNbbl19LHRvSlNPTjpmdW5jdGlvbihuKXtmb3IodmFyIGkscj10aGlzLmxlbmd0aCx1PUFycmF5KHIpLHQ9MDt0PHI7dCsrKWk9dGhpc1t0XSxpIGluc3RhbmNlb2YgcyYmKGk9aS50b0pTT04obikpLHVbdF09aTtyZXR1cm4gdX0scGFyZW50OmEsd3JhcEFsbDpmdW5jdGlvbihuLHQpe3ZhciBpLHIsdT10aGlzLGY9ZnVuY3Rpb24oKXtyZXR1cm4gdX07Zm9yKHQ9dHx8W10saT0wLHI9bi5sZW5ndGg7aTxyO2krKyl0W2ldPXUud3JhcChuW2ldLGYpO3JldHVybiB0fSx3cmFwOmZ1bmN0aW9uKG4sdCl7dmFyIHIsaT10aGlzO3JldHVybiBudWxsIT09biYmIltvYmplY3QgT2JqZWN0XSI9PT1uaS5jYWxsKG4pJiYocj1uIGluc3RhbmNlb2YgaS50eXBlfHxuIGluc3RhbmNlb2YgcCxyfHwobj1uIGluc3RhbmNlb2Ygcz9uLnRvSlNPTigpOm4sbj1uZXcgaS50eXBlKG4pKSxuLnBhcmVudD10LG4uYmluZCh1LGZ1bmN0aW9uKG4pe2kudHJpZ2dlcih1LHtmaWVsZDpuLmZpZWxkLG5vZGU6bi5ub2RlLGluZGV4Om4uaW5kZXgsaXRlbXM6bi5pdGVtc3x8W3RoaXNdLGFjdGlvbjpuLm5vZGU/bi5hY3Rpb258fCJpdGVtbG9hZGVkIjoiaXRlbWNoYW5nZSJ9KX0pKSxufSxwdXNoOmZ1bmN0aW9uKCl7dmFyIG4saT10aGlzLmxlbmd0aCx0PXRoaXMud3JhcEFsbChhcmd1bWVudHMpO3JldHVybiBuPW5mLmFwcGx5KHRoaXMsdCksdGhpcy50cmlnZ2VyKHUse2FjdGlvbjoiYWRkIixpbmRleDppLGl0ZW1zOnR9KSxufSxzbGljZTphdCxzb3J0OltdLnNvcnQsam9pbjp0Zixwb3A6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmxlbmd0aCx0PXJmLmFwcGx5KHRoaXMpO3JldHVybiBuJiZ0aGlzLnRyaWdnZXIodSx7YWN0aW9uOiJyZW1vdmUiLGluZGV4Om4tMSxpdGVtczpbdF19KSx0fSxzcGxpY2U6ZnVuY3Rpb24obix0LGkpe3ZhciByLGYsZSxvPXRoaXMud3JhcEFsbChhdC5jYWxsKGFyZ3VtZW50cywyKSk7aWYocj1mdS5hcHBseSh0aGlzLFtuLHRdLmNvbmNhdChvKSksci5sZW5ndGgpZm9yKHRoaXMudHJpZ2dlcih1LHthY3Rpb246InJlbW92ZSIsaW5kZXg6bixpdGVtczpyfSksZj0wLGU9ci5sZW5ndGg7ZjxlO2YrKylyW2ZdJiZyW2ZdLmNoaWxkcmVuJiZyW2ZdLnVuYmluZCh1KTtyZXR1cm4gaSYmdGhpcy50cmlnZ2VyKHUse2FjdGlvbjoiYWRkIixpbmRleDpuLGl0ZW1zOm99KSxyfSxzaGlmdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMubGVuZ3RoLG49dWYuYXBwbHkodGhpcyk7cmV0dXJuIHQmJnRoaXMudHJpZ2dlcih1LHthY3Rpb246InJlbW92ZSIsaW5kZXg6MCxpdGVtczpbbl19KSxufSx1bnNoaWZ0OmZ1bmN0aW9uKCl7dmFyIG4sdD10aGlzLndyYXBBbGwoYXJndW1lbnRzKTtyZXR1cm4gbj1mZi5hcHBseSh0aGlzLHQpLHRoaXMudHJpZ2dlcih1LHthY3Rpb246ImFkZCIsaW5kZXg6MCxpdGVtczp0fSksbn0saW5kZXhPZjpmdW5jdGlvbihuKXtmb3IodmFyIHI9dGhpcyx0PTAsaT1yLmxlbmd0aDt0PGk7dCsrKWlmKHJbdF09PT1uKXJldHVybiB0O3JldHVybi0xfSxmb3JFYWNoOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPTAscj10aGlzLmxlbmd0aCx1PXR8fHdpbmRvdztpPHI7aSsrKW4uY2FsbCh1LHRoaXNbaV0saSx0aGlzKX0sbWFwOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPTAscj1bXSx1PXRoaXMubGVuZ3RoLGY9dHx8d2luZG93O2k8dTtpKyspcltpXT1uLmNhbGwoZix0aGlzW2ldLGksdGhpcyk7cmV0dXJuIHJ9LHJlZHVjZTpmdW5jdGlvbihuKXt2YXIgaSx0PTAscj10aGlzLmxlbmd0aDtmb3IoMj09YXJndW1lbnRzLmxlbmd0aD9pPWFyZ3VtZW50c1sxXTp0PHImJihpPXRoaXNbdCsrXSk7dDxyO3QrKylpPW4oaSx0aGlzW3RdLHQsdGhpcyk7cmV0dXJuIGl9LHJlZHVjZVJpZ2h0OmZ1bmN0aW9uKG4pe3ZhciBpLHQ9dGhpcy5sZW5ndGgtMTtmb3IoMj09YXJndW1lbnRzLmxlbmd0aD9pPWFyZ3VtZW50c1sxXTp0PjAmJihpPXRoaXNbdC0tXSk7dD49MDt0LS0paT1uKGksdGhpc1t0XSx0LHRoaXMpO3JldHVybiBpfSxmaWx0ZXI6ZnVuY3Rpb24obix0KXtmb3IodmFyIHIsaT0wLHU9W10sZj10aGlzLmxlbmd0aCxlPXR8fHdpbmRvdztpPGY7aSsrKXI9dGhpc1tpXSxuLmNhbGwoZSxyLGksdGhpcykmJih1W3UubGVuZ3RoXT1yKTtyZXR1cm4gdX0sZmluZDpmdW5jdGlvbihuLHQpe2Zvcih2YXIgcixpPTAsdT10aGlzLmxlbmd0aCxmPXR8fHdpbmRvdztpPHU7aSsrKWlmKHI9dGhpc1tpXSxuLmNhbGwoZixyLGksdGhpcykpcmV0dXJuIHJ9LGV2ZXJ5OmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciByLGk9MCx1PXRoaXMubGVuZ3RoLGY9dHx8d2luZG93O2k8dTtpKyspaWYocj10aGlzW2ldLCFuLmNhbGwoZixyLGksdGhpcykpcmV0dXJuITE7cmV0dXJuITB9LHNvbWU6ZnVuY3Rpb24obix0KXtmb3IodmFyIHIsaT0wLHU9dGhpcy5sZW5ndGgsZj10fHx3aW5kb3c7aTx1O2krKylpZihyPXRoaXNbaV0sbi5jYWxsKGYscixpLHRoaXMpKXJldHVybiEwO3JldHVybiExfSxyZW1vdmU6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5pbmRleE9mKG4pO3QhPT0tMSYmdGhpcy5zcGxpY2UodCwxKX0sZW1wdHk6ZnVuY3Rpb24oKXt0aGlzLnNwbGljZSgwLHRoaXMubGVuZ3RoKX19KTsidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yJiYhdi5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSYmKHYucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl09W11bU3ltYm9sLml0ZXJhdG9yXSk7b3Q9di5leHRlbmQoe2luaXQ6ZnVuY3Rpb24obix0LGkpe250LmZuLmluaXQuY2FsbCh0aGlzKTt0aGlzLnR5cGU9dHx8cztpJiYodGhpcy5fZXZlbnRzPWkpO2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKXRoaXNbcl09bltyXTt0aGlzLmxlbmd0aD1yO3RoaXMuX3BhcmVudD13KGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHRoaXMpfSxhdDpmdW5jdGlvbihuKXt2YXIgdD10aGlzW25dO3JldHVybiB0IGluc3RhbmNlb2YgdGhpcy50eXBlP3QucGFyZW50PXRoaXMuX3BhcmVudDp0PXRoaXNbbl09dGhpcy53cmFwKHQsdGhpcy5fcGFyZW50KSx0fX0pO3M9bnQuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4pe3ZhciB0LHIsdT10aGlzLGY9ZnVuY3Rpb24oKXtyZXR1cm4gdX07bnQuZm4uaW5pdC5jYWxsKHRoaXMpO3RoaXMuX2hhbmRsZXJzPXt9O2ZvcihyIGluIG4pdD1uW3JdLCJvYmplY3QiPT10eXBlb2YgdCYmdCYmIXQuZ2V0VGltZSYmIl8iIT1yLmNoYXJBdCgwKSYmKHQ9dS53cmFwKHQscixmKSksdVtyXT10O3UudWlkPWkuZ3VpZCgpfSxzaG91bGRTZXJpYWxpemU6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5oYXNPd25Qcm9wZXJ0eShuKSYmIl9oYW5kbGVycyIhPT1uJiYiX2V2ZW50cyIhPT1uJiYodCYmdFtuXXx8dHlwZW9mIHRoaXNbbl0hPT1waSkmJiJ1aWQiIT09bn0sZm9yRWFjaDpmdW5jdGlvbihuKXtmb3IodmFyIHQgaW4gdGhpcyl0aGlzLnNob3VsZFNlcmlhbGl6ZSh0KSYmbih0aGlzW3RdLHQpfSx0b0pTT046ZnVuY3Rpb24obil7dmFyIHQsaSxyPXt9O2ZvcihpIGluIHRoaXMpdGhpcy5zaG91bGRTZXJpYWxpemUoaSxuKSYmKHQ9dGhpc1tpXSwodCBpbnN0YW5jZW9mIHN8fHQgaW5zdGFuY2VvZiB2KSYmKHQ9dC50b0pTT04obikpLHJbaV09dCk7cmV0dXJuIHJ9LGdldDpmdW5jdGlvbihuKXt2YXIgcix0PXRoaXM7cmV0dXJuIHQudHJpZ2dlcihkdCx7ZmllbGQ6bn0pLHI9InRoaXMiPT09bj90OmkuZ2V0dGVyKG4sITApKHQpfSxfc2V0OmZ1bmN0aW9uKG4sdCl7dmFyIHIsdSxmLG89dGhpcyxlPW4uaW5kZXhPZigiLiIpPj0wO2lmKGUpZm9yKHI9bi5zcGxpdCgiLiIpLHU9IiI7ci5sZW5ndGg+MTspe2lmKHUrPXIuc2hpZnQoKSxmPWkuZ2V0dGVyKHUsITApKG8pLGYgaW5zdGFuY2VvZiBzKXJldHVybiBmLnNldChyLmpvaW4oIi4iKSx0KSxlO3UrPSIuIn1yZXR1cm4gaS5zZXR0ZXIobikobyx0KSxlfSxzZXQ6ZnVuY3Rpb24obix0KXt2YXIgcj10aGlzLGU9ITEsbz1uLmluZGV4T2YoIi4iKT49MCxmPWkuZ2V0dGVyKG4sITApKHIpO3JldHVybiBmIT09dCYmKGYgaW5zdGFuY2VvZiBudCYmdGhpcy5faGFuZGxlcnNbbl0mJih0aGlzLl9oYW5kbGVyc1tuXS5nZXQmJmYudW5iaW5kKGR0LHRoaXMuX2hhbmRsZXJzW25dLmdldCksZi51bmJpbmQodSx0aGlzLl9oYW5kbGVyc1tuXS5jaGFuZ2UpKSxlPXIudHJpZ2dlcigic2V0Iix7ZmllbGQ6bix2YWx1ZTp0fSksZXx8KG98fCh0PXIud3JhcCh0LG4sZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSwoIXIuX3NldChuLHQpfHxuLmluZGV4T2YoIigiKT49MHx8bi5pbmRleE9mKCJbIik+PTApJiZyLnRyaWdnZXIodSx7ZmllbGQ6bn0pKSksZX0scGFyZW50OmEsd3JhcDpmdW5jdGlvbihuLHQsaSl7dmFyIGMscixlLG8sZj10aGlzLGg9bmkuY2FsbChuKTtyZXR1cm4gbnVsbD09bnx8IltvYmplY3QgT2JqZWN0XSIhPT1oJiYiW29iamVjdCBBcnJheV0iIT09aHx8KGU9biBpbnN0YW5jZW9mIHYsbz1uIGluc3RhbmNlb2YgbCwiW29iamVjdCBPYmplY3RdIiE9PWh8fG98fGU/KCJbb2JqZWN0IEFycmF5XSI9PT1ofHxlfHxvKSYmKGV8fG98fChuPW5ldyB2KG4pKSxyPXRpKGYsdSx0LCExKSxuLmJpbmQodSxyKSxmLl9oYW5kbGVyc1t0XT17Y2hhbmdlOnJ9KToobiBpbnN0YW5jZW9mIHN8fChuPW5ldyBzKG4pKSxjPXRpKGYsZHQsdCwhMCksbi5iaW5kKGR0LGMpLHI9dGkoZix1LHQsITApLG4uYmluZCh1LHIpLGYuX2hhbmRsZXJzW3RdPXtnZXQ6YyxjaGFuZ2U6cn0pLG4ucGFyZW50PWkpLG59fSk7ZWk9e251bWJlcjpmdW5jdGlvbihuKXtyZXR1cm4gdHlwZW9mIG49PT1vJiYibnVsbCI9PT1uLnRvTG93ZXJDYXNlKCk/bnVsbDppLnBhcnNlRmxvYXQobil9LGRhdGU6ZnVuY3Rpb24obil7cmV0dXJuIHR5cGVvZiBuPT09byYmIm51bGwiPT09bi50b0xvd2VyQ2FzZSgpP251bGw6aS5wYXJzZURhdGUobil9LGJvb2xlYW46ZnVuY3Rpb24obil7cmV0dXJuIHR5cGVvZiBuPT09bz8ibnVsbCI9PT1uLnRvTG93ZXJDYXNlKCk/bnVsbDoidHJ1ZSI9PT1uLnRvTG93ZXJDYXNlKCk6bnVsbCE9bj8hIW46bn0sc3RyaW5nOmZ1bmN0aW9uKG4pe3JldHVybiB0eXBlb2Ygbj09PW8mJiJudWxsIj09PW4udG9Mb3dlckNhc2UoKT9udWxsOm51bGwhPW4/bisiIjpufSwiZGVmYXVsdCI6ZnVuY3Rpb24obil7cmV0dXJuIG59fTt3cj17c3RyaW5nOiIiLG51bWJlcjowLGRhdGU6bmV3IERhdGUsYm9vbGVhbjohMSwiZGVmYXVsdCI6IiJ9O3A9cy5leHRlbmQoe2luaXQ6ZnVuY3Rpb24oaSl7dmFyIHUsZixyPXRoaXM7aWYoKCFpfHxuLmlzRW1wdHlPYmplY3QoaSkpJiYoaT1uLmV4dGVuZCh7fSxyLmRlZmF1bHRzLGkpLHIuX2luaXRpYWxpemVycykpZm9yKHU9MDt1PHIuX2luaXRpYWxpemVycy5sZW5ndGg7dSsrKWY9ci5faW5pdGlhbGl6ZXJzW3VdLGlbZl09ci5kZWZhdWx0c1tmXSgpO3MuZm4uaW5pdC5jYWxsKHIsaSk7ci5kaXJ0eT0hMTtyLmRpcnR5RmllbGRzPXt9O3IuaWRGaWVsZCYmKHIuaWQ9ci5nZXQoci5pZEZpZWxkKSxyLmlkPT09dCYmKHIuaWQ9ci5fZGVmYXVsdElkKSl9LHNob3VsZFNlcmlhbGl6ZTpmdW5jdGlvbihuKXtyZXR1cm4gcy5mbi5zaG91bGRTZXJpYWxpemUuY2FsbCh0aGlzLG4pJiYidWlkIiE9PW4mJiEoImlkIiE9PXRoaXMuaWRGaWVsZCYmImlkIj09PW4pJiYiZGlydHkiIT09biYmImRpcnR5RmllbGRzIiE9PW4mJiJfYWNjZXNzb3JzIiE9PW59LF9wYXJzZTpmdW5jdGlvbihuLHQpe3ZhciBpLHU9dGhpcyxmPW4scj11LmZpZWxkc3x8e307cmV0dXJuIG49cltuXSxufHwobj1ldShyLGYpKSxuJiYoaT1uLnBhcnNlLCFpJiZuLnR5cGUmJihpPWVpW24udHlwZS50b0xvd2VyQ2FzZSgpXSkpLGk/aSh0KTp0fSxfbm90aWZ5Q2hhbmdlOmZ1bmN0aW9uKG4pe3ZhciB0PW4uYWN0aW9uOyJhZGQiIT10JiYicmVtb3ZlIiE9dHx8KHRoaXMuZGlydHk9ITAsdGhpcy5kaXJ0eUZpZWxkc1tuLmZpZWxkXT0hMCl9LGVkaXRhYmxlOmZ1bmN0aW9uKG4pe3JldHVybiBuPSh0aGlzLmZpZWxkc3x8e30pW25dLCFufHxuLmVkaXRhYmxlIT09ITF9LHNldDpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMscj1pLmRpcnR5O2kuZWRpdGFibGUobikmJih0PWkuX3BhcnNlKG4sdCksd2kodCxpLmdldChuKSk/aS50cmlnZ2VyKCJlcXVhbFNldCIse2ZpZWxkOm4sdmFsdWU6dH0pOihpLmRpcnR5PSEwLGkuZGlydHlGaWVsZHNbbl09ITAscy5mbi5zZXQuY2FsbChpLG4sdCkmJiFyJiYoaS5kaXJ0eT1yLGkuZGlydHl8fChpLmRpcnR5RmllbGRzW25dPSExKSkpKX0sYWNjZXB0OmZ1bmN0aW9uKG4pe3ZhciBpLHIsdD10aGlzLHU9ZnVuY3Rpb24oKXtyZXR1cm4gdH07Zm9yKGkgaW4gbilyPW5baV0sIl8iIT1pLmNoYXJBdCgwKSYmKHI9dC53cmFwKG5baV0saSx1KSksdC5fc2V0KGkscik7dC5pZEZpZWxkJiYodC5pZD10LmdldCh0LmlkRmllbGQpKTt0LmRpcnR5PSExO3QuZGlydHlGaWVsZHM9e319LGlzTmV3OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWQ9PT10aGlzLl9kZWZhdWx0SWR9fSk7cC5kZWZpbmU9ZnVuY3Rpb24obixpKXtpPT09dCYmKGk9bixuPXApO3ZhciBzLGYsdSx2LGgsbCxiLGMscj1lKHtkZWZhdWx0czp7fX0saSkseT17fSxhPXIuaWQsdz1bXTtpZihhJiYoci5pZEZpZWxkPWEpLHIuaWQmJmRlbGV0ZSByLmlkLGEmJihyLmRlZmF1bHRzW2FdPXIuX2RlZmF1bHRJZD0iIiksIltvYmplY3QgQXJyYXldIj09PW5pLmNhbGwoci5maWVsZHMpKXtmb3IobD0wLGI9ci5maWVsZHMubGVuZ3RoO2w8YjtsKyspdT1yLmZpZWxkc1tsXSx0eXBlb2YgdT09PW8/eVt1XT17fTp1LmZpZWxkJiYoeVt1LmZpZWxkXT11KTtyLmZpZWxkcz15fWZvcihmIGluIHIuZmllbGRzKXU9ci5maWVsZHNbZl0sdj11LnR5cGV8fCJkZWZhdWx0IixoPW51bGwsYz1mLGY9dHlwZW9mIHUuZmllbGQ9PT1vP3UuZmllbGQ6Zix1Lm51bGxhYmxlfHwoaD1yLmRlZmF1bHRzW2MhPT1mP2M6Zl09dS5kZWZhdWx0VmFsdWUhPT10P3UuZGVmYXVsdFZhbHVlOndyW3YudG9Mb3dlckNhc2UoKV0sImZ1bmN0aW9uIj09dHlwZW9mIGgmJncucHVzaChmKSksaS5pZD09PWYmJihyLl9kZWZhdWx0SWQ9aCksci5kZWZhdWx0c1tjIT09Zj9jOmZdPWgsdS5wYXJzZT11LnBhcnNlfHxlaVt2XTtyZXR1cm4gdy5sZW5ndGg+MCYmKHIuX2luaXRpYWxpemVycz13KSxzPW4uZXh0ZW5kKHIpLHMuZGVmaW5lPWZ1bmN0aW9uKG4pe3JldHVybiBwLmRlZmluZShzLG4pfSxyLmZpZWxkcyYmKHMuZmllbGRzPXIuZmllbGRzLHMuaWRGaWVsZD1yLmlkRmllbGQpLHN9O3N0PXtzZWxlY3RvcjpmdW5jdGlvbihuKXtyZXR1cm4gaChuKT9uOmx0KG4pfSxjb21wYXJlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuc2VsZWN0b3Iobik7cmV0dXJuIGZ1bmN0aW9uKG4saSl7cmV0dXJuIG49dChuKSxpPXQoaSksbnVsbD09biYmbnVsbD09aT8wOm51bGw9PW4/LTE6bnVsbD09aT8xOm4ubG9jYWxlQ29tcGFyZT9uLmxvY2FsZUNvbXBhcmUoaSk6bj5pPzE6bjxpPy0xOjB9fSxjcmVhdGU6ZnVuY3Rpb24obil7dmFyIHQ9bi5jb21wYXJlfHx0aGlzLmNvbXBhcmUobi5maWVsZCk7cmV0dXJuImRlc2MiPT1uLmRpcj9mdW5jdGlvbihuLGkpe3JldHVybiB0KGksbiwhMCl9OnR9LGNvbWJpbmU6ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7Zm9yKHZhciB1PW5bMF0odCxpKSxyPTEsZj1uLmxlbmd0aDtyPGY7cisrKXU9dXx8bltyXSh0LGkpO3JldHVybiB1fX19O2JyPWUoe30sc3Qse2FzYzpmdW5jdGlvbihuKXt2YXIgdD10aGlzLnNlbGVjdG9yKG4pO3JldHVybiBmdW5jdGlvbihuLGkpe3ZhciByPXQobiksdT10KGkpO3JldHVybiByJiZyLmdldFRpbWUmJnUmJnUuZ2V0VGltZSYmKHI9ci5nZXRUaW1lKCksdT11LmdldFRpbWUoKSkscj09PXU/bi5fX3Bvc2l0aW9uLWkuX19wb3NpdGlvbjpudWxsPT1yPy0xOm51bGw9PXU/MTpyLmxvY2FsZUNvbXBhcmU/ci5sb2NhbGVDb21wYXJlKHUpOnI+dT8xOi0xfX0sZGVzYzpmdW5jdGlvbihuKXt2YXIgdD10aGlzLnNlbGVjdG9yKG4pO3JldHVybiBmdW5jdGlvbihuLGkpe3ZhciB1PXQobikscj10KGkpO3JldHVybiB1JiZ1LmdldFRpbWUmJnImJnIuZ2V0VGltZSYmKHU9dS5nZXRUaW1lKCkscj1yLmdldFRpbWUoKSksdT09PXI/bi5fX3Bvc2l0aW9uLWkuX19wb3NpdGlvbjpudWxsPT11PzE6bnVsbD09cj8tMTpyLmxvY2FsZUNvbXBhcmU/ci5sb2NhbGVDb21wYXJlKHUpOnU8cj8xOi0xfX0sY3JlYXRlOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzW24uZGlyXShuLmZpZWxkKX19KTt3dD1mdW5jdGlvbihuLHQpe2Zvcih2YXIgcj1uLmxlbmd0aCx1PUFycmF5KHIpLGk9MDtpPHI7aSsrKXVbaV09dChuW2ldLGksbik7cmV0dXJuIHV9O29pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShuKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIG4mJihuPW4ucmVwbGFjZSgvW1xyXG5dKy9nLCIiKSksSlNPTi5zdHJpbmdpZnkobil9ZnVuY3Rpb24gbihuKXtyZXR1cm4gZnVuY3Rpb24odCxyLHUsZil7cmV0dXJuIHIrPSIiLHUmJih0PSIoIit0KyIgKyAnJykudG9TdHJpbmcoKSIrKGY/Ii50b0xvY2FsZUxvd2VyQ2FzZSgnIitmKyInKSI6Ii50b0xvd2VyQ2FzZSgpIikscj1mP3IudG9Mb2NhbGVMb3dlckNhc2UoZik6ci50b0xvd2VyQ2FzZSgpKSxuKHQsaShyKSx1KX19ZnVuY3Rpb24gdChuLHQscix1LGYpe2lmKG51bGwhPXIpe2lmKHR5cGVvZiByPT09byl7dmFyIGU9c2YuZXhlYyhyKTtlP3I9bmV3IERhdGUoK2VbMV0pOnU/KHI9aShmP3IudG9Mb2NhbGVMb3dlckNhc2UoZik6ci50b0xvd2VyQ2FzZSgpKSx0PSIoKCIrdCsiIHx8ICcnKSsnJykiKyhmPyIudG9Mb2NhbGVMb3dlckNhc2UoJyIrZisiJykiOiIudG9Mb3dlckNhc2UoKSIpKTpyPWkocil9ci5nZXRUaW1lJiYodD0iKCIrdCsiJiYiK3QrIi5nZXRUaW1lPyIrdCsiLmdldFRpbWUoKToiK3QrIikiLHI9ci5nZXRUaW1lKCkpfXJldHVybiB0KyIgIituKyIgIityfWZ1bmN0aW9uIHIobil7dmFyIGkscix1LHQ7Zm9yKGk9Ii9eIixyPSExLHU9MDt1PG4ubGVuZ3RoOysrdSl7aWYodD1uLmNoYXJBdCh1KSxyKWkrPSJcXCIrdDtlbHNle2lmKCJ+Ij09dCl7cj0hMDtjb250aW51ZX1pKz0iKiI9PXQ/Ii4qIjoiPyI9PXQ/Ii4iOiIuK14kKClbXXt9fFxcL1xuXHJcdTIwMjhcdTIwMjnCoCIuaW5kZXhPZih0KT49MD8iXFwiK3Q6dH1yPSExfXJldHVybiBpKyIkLyJ9cmV0dXJue3F1b3RlOmZ1bmN0aW9uKG4pe3JldHVybiBuJiZuLmdldFRpbWU/Im5ldyBEYXRlKCIrbi5nZXRUaW1lKCkrIikiOmkobil9LGVxOmZ1bmN0aW9uKG4saSxyLHUpe3JldHVybiB0KCI9PSIsbixpLHIsdSl9LG5lcTpmdW5jdGlvbihuLGkscix1KXtyZXR1cm4gdCgiIT0iLG4saSxyLHUpfSxndDpmdW5jdGlvbihuLGkscil7cmV0dXJuIHQoIj4iLG4saSxyKX0sZ3RlOmZ1bmN0aW9uKG4saSxyKXtyZXR1cm4gdCgiPj0iLG4saSxyKX0sbHQ6ZnVuY3Rpb24obixpLHIpe3JldHVybiB0KCI8IixuLGkscil9LGx0ZTpmdW5jdGlvbihuLGkscil7cmV0dXJuIHQoIjw9IixuLGkscil9LHN0YXJ0c3dpdGg6bihmdW5jdGlvbihuLHQpe3JldHVybiBuKyIubGFzdEluZGV4T2YoIit0KyIsIDApID09IDAifSksZG9lc25vdHN0YXJ0d2l0aDpuKGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4rIi5sYXN0SW5kZXhPZigiK3QrIiwgMCkgPT0gLTEifSksZW5kc3dpdGg6bihmdW5jdGlvbihuLHQpe3ZhciBpPXQ/dC5sZW5ndGgtMjowO3JldHVybiBuKyIuaW5kZXhPZigiK3QrIiwgIituKyIubGVuZ3RoIC0gIitpKyIpID49IDAifSksZG9lc25vdGVuZHdpdGg6bihmdW5jdGlvbihuLHQpe3ZhciBpPXQ/dC5sZW5ndGgtMjowO3JldHVybiBuKyIuaW5kZXhPZigiK3QrIiwgIituKyIubGVuZ3RoIC0gIitpKyIpIDwgMCJ9KSxjb250YWluczpuKGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4rIi5pbmRleE9mKCIrdCsiKSA+PSAwIn0pLGRvZXNub3Rjb250YWluOm4oZnVuY3Rpb24obix0KXtyZXR1cm4gbisiLmluZGV4T2YoIit0KyIpID09IC0xIn0pLG1hdGNoZXM6bihmdW5jdGlvbihuLHQpe3JldHVybiB0PXQuc3Vic3RyaW5nKDEsdC5sZW5ndGgtMSkscih0KSsiLnRlc3QoIituKyIpIn0pLGRvZXNub3RtYXRjaDpuKGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQ9dC5zdWJzdHJpbmcoMSx0Lmxlbmd0aC0xKSwiISIrcih0KSsiLnRlc3QoIituKyIpIn0pLGlzZW1wdHk6ZnVuY3Rpb24obil7cmV0dXJuIG4rIiA9PT0gJycifSxpc25vdGVtcHR5OmZ1bmN0aW9uKG4pe3JldHVybiBuKyIgIT09ICcnIn0saXNudWxsOmZ1bmN0aW9uKG4pe3JldHVybiIoIituKyIgPT0gbnVsbCkifSxpc25vdG51bGw6ZnVuY3Rpb24obil7cmV0dXJuIigiK24rIiAhPSBudWxsKSJ9LGlzbnVsbG9yZW1wdHk6ZnVuY3Rpb24obil7cmV0dXJuIigiK24rIiA9PT0gbnVsbCkgfHwgKCIrbisiID09PSAnJykifSxpc25vdG51bGxvcmVtcHR5OmZ1bmN0aW9uKG4pe3JldHVybiIoIituKyIgIT09IG51bGwpICYmICgiK24rIiAhPT0gJycpIn19fSgpO3IuZmlsdGVyRXhwcj1mdW5jdGlvbihuKXtmb3IodmFyIHUsZixoLGMsYT1bXSxlPVtdLG89W10sdj1uLmZpbHRlcnMscz0wLGw9di5sZW5ndGg7czxsO3MrKyl1PXZbc10saD11LmZpZWxkLGM9dS5vcGVyYXRvcix1LmZpbHRlcnM/KGY9ci5maWx0ZXJFeHByKHUpLHU9Zi5leHByZXNzaW9uLnJlcGxhY2UoL19fb1xbKFxkKylcXS9nLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQ9K3QsIl9fb1siKyhvLmxlbmd0aCt0KSsiXSJ9KS5yZXBsYWNlKC9fX2ZcWyhcZCspXF0vZyxmdW5jdGlvbihuLHQpe3JldHVybiB0PSt0LCJfX2ZbIisoZS5sZW5ndGgrdCkrIl0ifSksby5wdXNoLmFwcGx5KG8sZi5vcGVyYXRvcnMpLGUucHVzaC5hcHBseShlLGYuZmllbGRzKSk6KHR5cGVvZiBoPT09cGk/KGY9Il9fZlsiK2UubGVuZ3RoKyJdKGQpIixlLnB1c2goaCkpOmY9aS5leHByKGgpLHR5cGVvZiBjPT09cGk/KHU9Il9fb1siK28ubGVuZ3RoKyJdKCIrZisiLCAiK29pLnF1b3RlKHUudmFsdWUpKyIpIixvLnB1c2goYykpOnU9b2lbKGN8fCJlcSIpLnRvTG93ZXJDYXNlKCldKGYsdS52YWx1ZSx1Lmlnbm9yZUNhc2U9PT10fHx1Lmlnbm9yZUNhc2Usbi5hY2NlbnRGb2xkaW5nRmlsdGVyaW5nKSksYS5wdXNoKHUpO3JldHVybntleHByZXNzaW9uOiIoIithLmpvaW4oe2FuZDoiICYmICIsb3I6IiB8fCAifVtuLmxvZ2ljXSkrIikiLGZpZWxkczplLG9wZXJhdG9yczpvfX07a3I9eyI9PSI6ImVxIixlcXVhbHM6ImVxIixpc2VxdWFsdG86ImVxIixlcXVhbHRvOiJlcSIsZXF1YWw6ImVxIiwiIT0iOiJuZXEiLG5lOiJuZXEiLG5vdGVxdWFsczoibmVxIixpc25vdGVxdWFsdG86Im5lcSIsbm90ZXF1YWx0bzoibmVxIixub3RlcXVhbDoibmVxIiwiPCI6Imx0Iixpc2xlc3N0aGFuOiJsdCIsbGVzc3RoYW46Imx0IixsZXNzOiJsdCIsIjw9IjoibHRlIixsZToibHRlIixpc2xlc3N0aGFub3JlcXVhbHRvOiJsdGUiLGxlc3N0aGFuZXF1YWw6Imx0ZSIsIj4iOiJndCIsaXNncmVhdGVydGhhbjoiZ3QiLGdyZWF0ZXJ0aGFuOiJndCIsZ3JlYXRlcjoiZ3QiLCI+PSI6Imd0ZSIsaXNncmVhdGVydGhhbm9yZXF1YWx0bzoiZ3RlIixncmVhdGVydGhhbmVxdWFsOiJndGUiLGdlOiJndGUiLG5vdHN1YnN0cmluZ29mOiJkb2Vzbm90Y29udGFpbiIsaXNudWxsOiJpc251bGwiLGlzZW1wdHk6ImlzZW1wdHkiLGlzbm90ZW1wdHk6Imlzbm90ZW1wdHkifTtyLm5vcm1hbGl6ZUZpbHRlcj1iO3IuY29tcGFyZUZpbHRlcnM9Z2k7ci5wcm90b3R5cGU9e3RvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhfSxyYW5nZTpmdW5jdGlvbihuLHQpe3JldHVybiBuZXcgcih0aGlzLmRhdGEuc2xpY2UobixuK3QpKX0sc2tpcDpmdW5jdGlvbihuKXtyZXR1cm4gbmV3IHIodGhpcy5kYXRhLnNsaWNlKG4pKX0sdGFrZTpmdW5jdGlvbihuKXtyZXR1cm4gbmV3IHIodGhpcy5kYXRhLnNsaWNlKDAsbikpfSxzZWxlY3Q6ZnVuY3Rpb24obil7cmV0dXJuIG5ldyByKHd0KHRoaXMuZGF0YSxuKSl9LG9yZGVyOmZ1bmN0aW9uKG4sdCxpKXt2YXIgdT17ZGlyOnR9O3JldHVybiBuJiYobi5jb21wYXJlP3UuY29tcGFyZT1uLmNvbXBhcmU6dS5maWVsZD1uKSxuZXcgcihpP3RoaXMuZGF0YS5zb3J0KHN0LmNyZWF0ZSh1KSk6dGhpcy5kYXRhLnNsaWNlKDApLnNvcnQoc3QuY3JlYXRlKHUpKSl9LG9yZGVyQnk6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5vcmRlcihuLCJhc2MiLHQpfSxvcmRlckJ5RGVzY2VuZGluZzpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLm9yZGVyKG4sImRlc2MiLHQpfSxzb3J0OmZ1bmN0aW9uKG4sdCxpLHIpe3ZhciB1LGUsZj1ydChuLHQpLG89W107aWYoaT1pfHxzdCxmLmxlbmd0aCl7Zm9yKHU9MCxlPWYubGVuZ3RoO3U8ZTt1Kyspby5wdXNoKGkuY3JlYXRlKGZbdV0pKTtyZXR1cm4gdGhpcy5vcmRlckJ5KHtjb21wYXJlOmkuY29tYmluZShvKX0scil9cmV0dXJuIHRoaXN9LGZpbHRlcjpmdW5jdGlvbihuKXt2YXIgdCx1LHMsaSxoLGYsZSxvLGM9dGhpcy5kYXRhLGw9W107aWYobj1iKG4pLCFufHwwPT09bi5maWx0ZXJzLmxlbmd0aClyZXR1cm4gdGhpcztmb3IoaT1yLmZpbHRlckV4cHIobiksZj1pLmZpZWxkcyxlPWkub3BlcmF0b3JzLGg9bz1GdW5jdGlvbigiZCwgX19mLCBfX28iLCJyZXR1cm4gIitpLmV4cHJlc3Npb24pLChmLmxlbmd0aHx8ZS5sZW5ndGgpJiYobz1mdW5jdGlvbihuKXtyZXR1cm4gaChuLGYsZSl9KSx0PTAscz1jLmxlbmd0aDt0PHM7dCsrKXU9Y1t0XSxvKHUpJiZsLnB1c2godSk7cmV0dXJuIG5ldyByKGwpfSxncm91cDpmdW5jdGlvbihuLHQpe249dXQobnx8W10pO3Q9dHx8dGhpcy5kYXRhO3ZhciBpLGY9dGhpcyx1PW5ldyByKGYuZGF0YSk7cmV0dXJuIG4ubGVuZ3RoPjAmJihpPW5bMF0sdT11Lmdyb3VwQnkoaSkuc2VsZWN0KGZ1bmN0aW9uKHUpe3ZhciBmPW5ldyByKHQpLmZpbHRlcihbe2ZpZWxkOnUuZmllbGQsb3BlcmF0b3I6ImVxIix2YWx1ZTp1LnZhbHVlLGlnbm9yZUNhc2U6ITF9XSk7cmV0dXJue2ZpZWxkOnUuZmllbGQsdmFsdWU6dS52YWx1ZSxpdGVtczpuLmxlbmd0aD4xP25ldyByKHUuaXRlbXMpLmdyb3VwKG4uc2xpY2UoMSksZi50b0FycmF5KCkpLnRvQXJyYXkoKTp1Lml0ZW1zLGhhc1N1Ymdyb3VwczpuLmxlbmd0aD4xLGFnZ3JlZ2F0ZXM6Zi5hZ2dyZWdhdGUoaS5hZ2dyZWdhdGVzKX19KSksdX0sZ3JvdXBCeTpmdW5jdGlvbihuKXt2YXIgdCxvLGgsYyx1LGYsbCxzLGEsZSx2PXRoaXM7aWYoayhuKXx8IXRoaXMuZGF0YS5sZW5ndGgpcmV0dXJuIG5ldyByKFtdKTtmb3IodD1uLmZpZWxkLG89bi5za2lwSXRlbVNvcnRpbmc/dGhpcy5kYXRhOnRoaXMuX3NvcnRGb3JHcm91cGluZyh0LG4uZGlyfHwiYXNjIiksaD1pLmFjY2Vzc29yKHQpLHU9aC5nZXQob1swXSx0KSxmPXtmaWVsZDp0LHZhbHVlOnUsaXRlbXM6W119LGU9W2ZdLHM9MCxhPW8ubGVuZ3RoO3M8YTtzKyspYz1vW3NdLGw9aC5nZXQoYyx0KSxsdSh1LGwpfHwodT1sLGY9e2ZpZWxkOnQsdmFsdWU6dSxpdGVtczpbXX0sZS5wdXNoKGYpKSxmLml0ZW1zLnB1c2goYyk7cmV0dXJuIGU9di5fc29ydEdyb3VwcyhlLG4pLG5ldyByKGUpfSxfc29ydEZvckdyb3VwaW5nOmZ1bmN0aW9uKG4sdCl7dmFyIGksZix1PXRoaXMuZGF0YTtpZighZWYpe2ZvcihpPTAsZj11Lmxlbmd0aDtpPGY7aSsrKXVbaV0uX19wb3NpdGlvbj1pO2Zvcih1PW5ldyByKHUpLnNvcnQobix0LGJyKS50b0FycmF5KCksaT0wLGY9dS5sZW5ndGg7aTxmO2krKylkZWxldGUgdVtpXS5fX3Bvc2l0aW9uO3JldHVybiB1fXJldHVybiB0aGlzLnNvcnQobix0KS50b0FycmF5KCl9LF9zb3J0R3JvdXBzOmZ1bmN0aW9uKG4sdCl7dmFyIGk9bjtyZXR1cm4gdCYmaCh0LmNvbXBhcmUpJiYoaT1uZXcgcihpKS5vcmRlcih7Y29tcGFyZTp0LmNvbXBhcmV9LHQuZGlyfHxkdSkudG9BcnJheSgpKSxpfSxhZ2dyZWdhdGU6ZnVuY3Rpb24obil7dmFyIHQsaSxyPXt9LHU9e307aWYobiYmbi5sZW5ndGgpZm9yKHQ9MCxpPXRoaXMuZGF0YS5sZW5ndGg7dDxpO3QrKylhdShyLG4sdGhpcy5kYXRhW3RdLHQsaSx1KTtyZXR1cm4gcn19O2RyPXtzdW06ZnVuY3Rpb24obix0LGkpe3ZhciByPWkuZ2V0KHQpO3JldHVybiB5KG4pP3kocikmJihuKz1yKTpuPXIsbn0sY291bnQ6ZnVuY3Rpb24obil7cmV0dXJuKG58fDApKzF9LGF2ZXJhZ2U6ZnVuY3Rpb24obixpLHIsdSxmLGUpe3ZhciBvPXIuZ2V0KGkpO3JldHVybiBlLmNvdW50PT09dCYmKGUuY291bnQ9MCkseShuKT95KG8pJiYobis9byk6bj1vLHkobykmJmUuY291bnQrKyx1PT1mLTEmJnkobikmJihuLz1lLmNvdW50KSxufSxtYXg6ZnVuY3Rpb24obix0LGkpe3ZhciByPWkuZ2V0KHQpO3JldHVybiB5KG4pfHx2dChuKXx8KG49ciksbjxyJiYoeShyKXx8dnQocikpJiYobj1yKSxufSxtaW46ZnVuY3Rpb24obix0LGkpe3ZhciByPWkuZ2V0KHQpO3JldHVybiB5KG4pfHx2dChuKXx8KG49ciksbj5yJiYoeShyKXx8dnQocikpJiYobj1yKSxufX07ci5ub3JtYWxpemVHcm91cD11dDtyLm5vcm1hbGl6ZVNvcnQ9cnQ7ci5wcm9jZXNzPWZ1bmN0aW9uKG4saSx1KXt2YXIgbyxsLGYsYSx2LHMsdyxiLHkscCxoLGM7cmV0dXJuIGk9aXx8e30sbz1pLmdyb3VwLGw9Y3UodXQob3x8W10pKSxmPW5ldyByKG4pLGE9bnIob3x8W10pLHY9cnQoaS5zb3J0fHxbXSkscz1sP3Y6YS5jb25jYXQodikseT1pLmZpbHRlckNhbGxiYWNrLHA9aS5maWx0ZXIsaD1pLnNraXAsYz1pLnRha2UscyYmdSYmKGY9Zi5zb3J0KHMsdCx0LHUpKSxwJiYoZj1mLmZpbHRlcihwKSx5JiYoZj15KGYpKSxiPWYudG9BcnJheSgpLmxlbmd0aCkscyYmKHV8fChmPWYuc29ydChzKSksbyYmKG49Zi50b0FycmF5KCkpKSxsPyhmPWYuZ3JvdXAobyxuKSxoIT09dCYmYyE9PXQmJihmPW5ldyByKHVyKGYudG9BcnJheSgpKSkucmFuZ2UoaCxjKSx3PXd0KGEsZnVuY3Rpb24obil7cmV0dXJuIGUoe30sbix7c2tpcEl0ZW1Tb3J0aW5nOiEwfSl9KSxmPWYuZ3JvdXAodyxuKSkpOihoIT09dCYmYyE9PXQmJihmPWYucmFuZ2UoaCxjKSksbyYmKGY9Zi5ncm91cChvLG4pKSkse3RvdGFsOmIsZGF0YTpmLnRvQXJyYXkoKX19O3NpPWt0LmV4dGVuZCh7aW5pdDpmdW5jdGlvbihuKXt0aGlzLmRhdGE9bi5kYXRhfSxyZWFkOmZ1bmN0aW9uKG4pe24uc3VjY2Vzcyh0aGlzLmRhdGEpfSx1cGRhdGU6ZnVuY3Rpb24obil7bi5zdWNjZXNzKG4uZGF0YSl9LGNyZWF0ZTpmdW5jdGlvbihuKXtuLnN1Y2Nlc3Mobi5kYXRhKX0sZGVzdHJveTpmdW5jdGlvbihuKXtuLnN1Y2Nlc3Mobi5kYXRhKX19KTtoaT1rdC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24obil7dmFyIGksdD10aGlzO249dC5vcHRpb25zPWUoe30sdC5vcHRpb25zLG4pO2J0KGd1LGZ1bmN0aW9uKHQsaSl7dHlwZW9mIG5baV09PT1vJiYobltpXT17dXJsOm5baV19KX0pO3QuY2FjaGU9bi5jYWNoZT9mdC5jcmVhdGUobi5jYWNoZSk6e2ZpbmQ6YSxhZGQ6YX07aT1uLnBhcmFtZXRlck1hcDtuLnN1Ym1pdCYmKHQuc3VibWl0PW4uc3VibWl0KTtoKG4ucHVzaCkmJih0LnB1c2g9bi5wdXNoKTt0LnB1c2h8fCh0LnB1c2g9Y3QpO3QucGFyYW1ldGVyTWFwPWgoaSk/aTpmdW5jdGlvbihuKXt2YXIgdD17fTtyZXR1cm4gYnQobixmdW5jdGlvbihuLHIpe24gaW4gaSYmKG49aVtuXSxnKG4pJiYocj1uLnZhbHVlKHIpLG49bi5rZXkpKTt0W25dPXJ9KSx0fX0sb3B0aW9uczp7cGFyYW1ldGVyTWFwOmN0fSxjcmVhdGU6ZnVuY3Rpb24obil7cmV0dXJuIHlpKHRoaXMuc2V0dXAobixudSkpfSxyZWFkOmZ1bmN0aW9uKGkpe3ZhciByLG8sdSxmPXRoaXMsZT1mLmNhY2hlO2k9Zi5zZXR1cChpLHR1KTtyPWkuc3VjY2Vzc3x8YTtvPWkuZXJyb3J8fGE7dT1lLmZpbmQoaS5kYXRhKTt1IT09dD9yKHUpOihpLnN1Y2Nlc3M9ZnVuY3Rpb24obil7ZS5hZGQoaS5kYXRhLG4pO3Iobil9LG4uYWpheChpKSl9LHVwZGF0ZTpmdW5jdGlvbihuKXtyZXR1cm4geWkodGhpcy5zZXR1cChuLGl1KSl9LGRlc3Ryb3k6ZnVuY3Rpb24obil7cmV0dXJuIHlpKHRoaXMuc2V0dXAobixydSkpfSxzZXR1cDpmdW5jdGlvbihuLHQpe249bnx8e307dmFyIHIsdT10aGlzLGk9dS5vcHRpb25zW3RdLGY9aChpLmRhdGEpP2kuZGF0YShuLmRhdGEpOmkuZGF0YTtyZXR1cm4gbj1lKCEwLHt9LGksbikscj1lKCEwLHt9LGYsbi5kYXRhKSxuLmRhdGE9dS5wYXJhbWV0ZXJNYXAocix0KSxoKG4udXJsKSYmKG4udXJsPW4udXJsKHIpKSxufX0pO2Z0PWt0LmV4dGVuZCh7aW5pdDpmdW5jdGlvbigpe3RoaXMuX3N0b3JlPXt9fSxhZGQ6ZnVuY3Rpb24obixpKXtuIT09dCYmKHRoaXMuX3N0b3JlW2d0KG4pXT1pKX0sZmluZDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fc3RvcmVbZ3QobildfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuX3N0b3JlPXt9fSxyZW1vdmU6ZnVuY3Rpb24obil7ZGVsZXRlIHRoaXMuX3N0b3JlW2d0KG4pXX19KTtmdC5jcmVhdGU9ZnVuY3Rpb24obil7dmFyIHQ9e2lubWVtb3J5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBmdH19O3JldHVybiBnKG4pJiZoKG4uZmluZCk/bjpuPT09ITA/bmV3IGZ0OnRbbl0oKX07Y2k9a3QuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4pe3ZhciBhLHMsaSx5LGgsYixrLHUsZSx2LGYsYyxyLGwsdD10aGlzO249bnx8e307Zm9yKGEgaW4gbilzPW5bYV0sdFthXT10eXBlb2Ygcz09PW8/bHQocyk6czt5PW4ubW9kZWxCYXNlfHxwO2codC5tb2RlbCkmJih0Lm1vZGVsPWk9eS5kZWZpbmUodC5tb2RlbCkpO2g9dyh0LmRhdGEsdCk7dC5fZGF0YUFjY2Vzc0Z1bmN0aW9uPWg7dC5tb2RlbCYmKGI9dyh0Lmdyb3Vwcyx0KSxrPXcodC5zZXJpYWxpemUsdCksdT17fSxlPXt9LHY9e30sZj17fSxjPSExLGk9dC5tb2RlbCxpLmZpZWxkcyYmKGJ0KGkuZmllbGRzLGZ1bmN0aW9uKG4sdCl7dmFyIGk7cj1uO2codCkmJnQuZmllbGQ/cj10LmZpZWxkOnR5cGVvZiB0PT09byYmKHI9dCk7Zyh0KSYmdC5mcm9tJiYoaT10LmZyb20pO2M9Y3x8aSYmaSE9PW58fHIhPT1uO2w9aXx8cjtlW25dPWwuaW5kZXhPZigiLiIpIT09LTE/bHQobCwhMCk6bHQobCk7dltuXT1sdChuKTt1W2l8fHJdPW47ZltuXT1pfHxyfSksIW4uc2VyaWFsaXplJiZjJiYodC5zZXJpYWxpemU9cmkoayxpLHZ1LHYsdSxmKSkpLHQuX2RhdGFBY2Nlc3NGdW5jdGlvbj1oLHQuX3dyYXBEYXRhQWNjZXNzQmFzZT1pcihpLGlpLGUsdSxmKSx0LmRhdGE9cmkoaCxpLGlpLGUsdSxmKSx0Lmdyb3Vwcz1yaShiLGksdHIsZSx1LGYpKX0sZXJyb3JzOmZ1bmN0aW9uKG4pe3JldHVybiBuP24uZXJyb3JzOm51bGx9LHBhcnNlOmN0LGRhdGE6Y3QsdG90YWw6ZnVuY3Rpb24obil7cmV0dXJuIG4ubGVuZ3RofSxncm91cHM6Y3QsYWdncmVnYXRlczpmdW5jdGlvbigpe3JldHVybnt9fSxzZXJpYWxpemU6ZnVuY3Rpb24obil7cmV0dXJuIG59fSk7bD1udC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24obil7dmFyIHMsbyxmLHI9dGhpcztuJiYobz1uLmRhdGEpO249ci5vcHRpb25zPWUoe30sci5vcHRpb25zLG4pO3IuX21hcD17fTtyLl9wcmVmZXRjaD17fTtyLl9kYXRhPVtdO3IuX3ByaXN0aW5lRGF0YT1bXTtyLl9yYW5nZXM9W107ci5fdmlldz1bXTtyLl9wcmlzdGluZVRvdGFsPTA7ci5fZGVzdHJveWVkPVtdO3IuX3BhZ2VTaXplPW4ucGFnZVNpemU7ci5fcGFnZT1uLnBhZ2V8fChuLnBhZ2VTaXplPzE6dCk7ci5fc29ydD1ydChuLnNvcnQpO3IuX2ZpbHRlcj1iKG4uZmlsdGVyKTtyLl9ncm91cD11dChuLmdyb3VwKTtyLl9hZ2dyZWdhdGU9bi5hZ2dyZWdhdGU7ci5fdG90YWw9bi50b3RhbDtyLl9zaG91bGREZXRhY2hPYnNlcnZhYmxlUGFyZW50cz0hMDtudC5mbi5pbml0LmNhbGwocik7ci50cmFuc3BvcnQ9bGkuY3JlYXRlKG4sbyxyKTtoKHIudHJhbnNwb3J0LnB1c2gpJiZyLnRyYW5zcG9ydC5wdXNoKHtwdXNoQ3JlYXRlOncoci5fcHVzaENyZWF0ZSxyKSxwdXNoVXBkYXRlOncoci5fcHVzaFVwZGF0ZSxyKSxwdXNoRGVzdHJveTp3KHIuX3B1c2hEZXN0cm95LHIpfSk7bnVsbCE9bi5vZmZsaW5lU3RvcmFnZSYmKCJzdHJpbmciPT10eXBlb2Ygbi5vZmZsaW5lU3RvcmFnZT8oZj1uLm9mZmxpbmVTdG9yYWdlLHIuX3N0b3JhZ2U9e2dldEl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShmKSl9LHNldEl0ZW06ZnVuY3Rpb24obil7bG9jYWxTdG9yYWdlLnNldEl0ZW0oZixndChyLnJlYWRlci5zZXJpYWxpemUobikpKX19KTpyLl9zdG9yYWdlPW4ub2ZmbGluZVN0b3JhZ2UpO3IucmVhZGVyPW5ldyBpLmRhdGEucmVhZGVyc1tuLnNjaGVtYS50eXBlfHwianNvbiJdKG4uc2NoZW1hKTtzPXIucmVhZGVyLm1vZGVsfHx7fTtyLl9kZXRhY2hPYnNlcnZhYmxlUGFyZW50cygpO3IuX2RhdGE9ci5fb2JzZXJ2ZShyLl9kYXRhKTtyLl9vbmxpbmU9ITA7ci5iaW5kKFsicHVzaCIsdHQsdSxpdCx1dSxldCxodF0sbil9LG9wdGlvbnM6e2RhdGE6bnVsbCxzY2hlbWE6e21vZGVsQmFzZTpwfSxvZmZsaW5lU3RvcmFnZTpudWxsLHNlcnZlclNvcnRpbmc6ITEsc2VydmVyUGFnaW5nOiExLHNlcnZlckZpbHRlcmluZzohMSxzZXJ2ZXJHcm91cGluZzohMSxzZXJ2ZXJBZ2dyZWdhdGVzOiExLGJhdGNoOiExLGluUGxhY2VTb3J0OiExfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxvbmxpbmU6ZnVuY3Rpb24oaSl7cmV0dXJuIGkhPT10P3RoaXMuX29ubGluZSE9aSYmKHRoaXMuX29ubGluZT1pLGkpP3RoaXMuc3luYygpOm4uRGVmZXJyZWQoKS5yZXNvbHZlKCkucHJvbWlzZSgpOnRoaXMuX29ubGluZX0sb2ZmbGluZURhdGE6ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PXRoaXMub3B0aW9ucy5vZmZsaW5lU3RvcmFnZT9udWxsOm4hPT10P3RoaXMuX3N0b3JhZ2Uuc2V0SXRlbShuKTp0aGlzLl9zdG9yYWdlLmdldEl0ZW0oKXx8W119LF9pc1NlcnZlckdyb3VwZWQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmdyb3VwKCl8fFtdO3JldHVybiB0aGlzLm9wdGlvbnMuc2VydmVyR3JvdXBpbmcmJm4ubGVuZ3RofSxfcHVzaENyZWF0ZTpmdW5jdGlvbihuKXt0aGlzLl9wdXNoKG4sInB1c2hDcmVhdGUiKX0sX3B1c2hVcGRhdGU6ZnVuY3Rpb24obil7dGhpcy5fcHVzaChuLCJwdXNoVXBkYXRlIil9LF9wdXNoRGVzdHJveTpmdW5jdGlvbihuKXt0aGlzLl9wdXNoKG4sInB1c2hEZXN0cm95Iil9LF9wdXNoOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5fcmVhZERhdGEobik7aXx8KGk9bik7dGhpc1t0XShpKX0sX2ZsYXREYXRhOmZ1bmN0aW9uKG4sdCl7aWYobil7aWYodGhpcy5faXNTZXJ2ZXJHcm91cGVkKCkpcmV0dXJuIGZpKG4pO2lmKCF0KWZvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKW4uYXQoaSl9cmV0dXJuIG59LHBhcmVudDphLGdldDpmdW5jdGlvbihuKXtmb3IodmFyIGk9dGhpcy5fZmxhdERhdGEodGhpcy5fZGF0YSx0aGlzLm9wdGlvbnMudXNlUmFuZ2VzKSx0PTAscj1pLmxlbmd0aDt0PHI7dCsrKWlmKGlbdF0uaWQ9PW4pcmV0dXJuIGlbdF19LGdldEJ5VWlkOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9nZXRCeVVpZChuLHRoaXMuX2RhdGEpfSxfZ2V0QnlVaWQ6ZnVuY3Rpb24obix0KXt2YXIgaSx1LHI9dGhpcy5fZmxhdERhdGEodCx0aGlzLm9wdGlvbnMudXNlUmFuZ2VzKTtpZihyKWZvcihpPTAsdT1yLmxlbmd0aDtpPHU7aSsrKWlmKHJbaV0udWlkPT1uKXJldHVybiByW2ldfSxpbmRleE9mOmZ1bmN0aW9uKG4pe3JldHVybiBjcih0aGlzLl9kYXRhLG4pfSxhdDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fZGF0YS5hdChuKX0sZGF0YTpmdW5jdGlvbihuKXt2YXIgcixpPXRoaXM7aWYobj09PXQpe2lmKGkuX2RhdGEpZm9yKHI9MDtyPGkuX2RhdGEubGVuZ3RoO3IrKylpLl9kYXRhLmF0KHIpO3JldHVybiBpLl9kYXRhfWkuX2RldGFjaE9ic2VydmFibGVQYXJlbnRzKCk7aS5fZGF0YT10aGlzLl9vYnNlcnZlKG4pO2kuX3ByaXN0aW5lRGF0YT1uLnNsaWNlKDApO2kuX3N0b3JlRGF0YSgpO2kuX3Jhbmdlcz1bXTtpLnRyaWdnZXIoInJlc2V0Iik7aS5fYWRkUmFuZ2UoaS5fZGF0YSk7aS5fdG90YWw9aS5fZGF0YS5sZW5ndGg7aS5fcHJpc3RpbmVUb3RhbD1pLl90b3RhbDtpLl9wcm9jZXNzKGkuX2RhdGEpfSx2aWV3OmZ1bmN0aW9uKG4pe3JldHVybiBuPT09dD90aGlzLl92aWV3Oih0aGlzLl92aWV3PXRoaXMuX29ic2VydmVWaWV3KG4pLHQpfSxfb2JzZXJ2ZVZpZXc6ZnVuY3Rpb24obil7dmFyIGksdD10aGlzO3JldHVybiBzcihuLHQuX2RhdGEsdC5fcmFuZ2VzLHQucmVhZGVyLm1vZGVsfHxzLHQuX2lzU2VydmVyR3JvdXBlZCgpKSxpPW5ldyBvdChuLHQucmVhZGVyLm1vZGVsKSxpLnBhcmVudD1mdW5jdGlvbigpe3JldHVybiB0LnBhcmVudCgpfSxpfSxmbGF0VmlldzpmdW5jdGlvbigpe3ZhciBuPXRoaXMuZ3JvdXAoKXx8W107cmV0dXJuIG4ubGVuZ3RoP2ZpKHRoaXMuX3ZpZXcpOnRoaXMuX3ZpZXd9LGFkZDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5pbnNlcnQodGhpcy5fZGF0YS5sZW5ndGgsbil9LF9jcmVhdGVOZXdNb2RlbDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5yZWFkZXIubW9kZWw/bmV3IHRoaXMucmVhZGVyLm1vZGVsKG4pOm4gaW5zdGFuY2VvZiBzP246bmV3IHMobil9LGluc2VydDpmdW5jdGlvbihuLHQpe3JldHVybiB0fHwodD1uLG49MCksdCBpbnN0YW5jZW9mIHB8fCh0PXRoaXMuX2NyZWF0ZU5ld01vZGVsKHQpKSx0aGlzLl9pc1NlcnZlckdyb3VwZWQoKT90aGlzLl9kYXRhLnNwbGljZShuLDAsdGhpcy5fd3JhcEluRW1wdHlHcm91cCh0KSk6dGhpcy5fZGF0YS5zcGxpY2UobiwwLHQpLHRoaXMuX2luc2VydE1vZGVsSW5SYW5nZShuLHQpLHR9LHB1c2hJbnNlcnQ6ZnVuY3Rpb24odCxpKXt2YXIgdSxzLGYsaCxlLHIsbD10aGlzLG89bC5fZ2V0Q3VycmVudFJhbmdlU3BhbigpO2l8fChpPXQsdD0wKTtjKGkpfHwoaT1baV0pO3U9W107cz10aGlzLm9wdGlvbnMuYXV0b1N5bmM7dGhpcy5vcHRpb25zLmF1dG9TeW5jPSExO3RyeXtmb3IoZj0wO2Y8aS5sZW5ndGg7ZisrKWg9aVtmXSxlPXRoaXMuaW5zZXJ0KHQsaCksdS5wdXNoKGUpLHI9ZS50b0pTT04oKSx0aGlzLl9pc1NlcnZlckdyb3VwZWQoKSYmKHI9dGhpcy5fd3JhcEluRW1wdHlHcm91cChyKSksdGhpcy5fcHJpc3RpbmVEYXRhLnB1c2gociksbyYmby5sZW5ndGgmJm4obykubGFzdCgpWzBdLnByaXN0aW5lRGF0YS5wdXNoKHIpLHQrK31maW5hbGx5e3RoaXMub3B0aW9ucy5hdXRvU3luYz1zfXUubGVuZ3RoJiZ0aGlzLnRyaWdnZXIoInB1c2giLHt0eXBlOiJjcmVhdGUiLGl0ZW1zOnV9KX0scHVzaENyZWF0ZTpmdW5jdGlvbihuKXt0aGlzLnB1c2hJbnNlcnQodGhpcy5fZGF0YS5sZW5ndGgsbil9LHB1c2hVcGRhdGU6ZnVuY3Rpb24obil7dmFyIHIsZixpLGUsdDtmb3IoYyhuKXx8KG49W25dKSxyPVtdLGY9MDtmPG4ubGVuZ3RoO2YrKylpPW5bZl0sZT10aGlzLl9jcmVhdGVOZXdNb2RlbChpKSx0PXRoaXMuZ2V0KGUuaWQpLHQ/KHIucHVzaCh0KSx0LmFjY2VwdChpKSx0LnRyaWdnZXIodSksdGhpcy5fdXBkYXRlUHJpc3RpbmVGb3JNb2RlbCh0LGkpKTp0aGlzLnB1c2hDcmVhdGUoaSk7ci5sZW5ndGgmJnRoaXMudHJpZ2dlcigicHVzaCIse3R5cGU6InVwZGF0ZSIsaXRlbXM6cn0pfSxwdXNoRGVzdHJveTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9yZW1vdmVJdGVtcyhuKTt0Lmxlbmd0aCYmdGhpcy50cmlnZ2VyKCJwdXNoIix7dHlwZToiZGVzdHJveSIsaXRlbXM6dH0pfSxfcmVtb3ZlSXRlbXM6ZnVuY3Rpb24obixpKXt2YXIgbyx1LHMscixoLGYsZTtjKG4pfHwobj1bbl0pO289dD09PWl8fGk7dT1bXTtzPXRoaXMub3B0aW9ucy5hdXRvU3luYzt0aGlzLm9wdGlvbnMuYXV0b1N5bmM9ITE7dHJ5e2ZvcihyPTA7cjxuLmxlbmd0aDtyKyspaD1uW3JdLGY9dGhpcy5fY3JlYXRlTmV3TW9kZWwoaCksZT0hMSx0aGlzLl9lYWNoSXRlbSh0aGlzLl9kYXRhLGZ1bmN0aW9uKG4pe2Zvcih2YXIgaSx0PTA7dDxuLmxlbmd0aDt0KyspaWYoaT1uLmF0KHQpLGkuaWQ9PT1mLmlkKXt1LnB1c2goaSk7bi5zcGxpY2UodCwxKTtlPSEwO2JyZWFrfX0pLGUmJm8mJih0aGlzLl9yZW1vdmVQcmlzdGluZUZvck1vZGVsKGYpLHRoaXMuX2Rlc3Ryb3llZC5wb3AoKSl9ZmluYWxseXt0aGlzLm9wdGlvbnMuYXV0b1N5bmM9c31yZXR1cm4gdX0scmVtb3ZlOmZ1bmN0aW9uKG4pe3ZhciB0LGk9dGhpcyxyPWkuX2lzU2VydmVyR3JvdXBlZCgpO3JldHVybiB0aGlzLl9lYWNoSXRlbShpLl9kYXRhLGZ1bmN0aW9uKHUpe2lmKHQ9cHUodSxuKSx0JiZyKXJldHVybiB0LmlzTmV3JiZ0LmlzTmV3KCl8fGkuX2Rlc3Ryb3llZC5wdXNoKHQpLCEwfSksdGhpcy5fcmVtb3ZlTW9kZWxGcm9tUmFuZ2VzKG4pLG59LGRlc3Ryb3llZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXN0cm95ZWR9LGNyZWF0ZWQ6ZnVuY3Rpb24oKXtmb3IodmFyIHI9W10sdD10aGlzLl9mbGF0RGF0YSh0aGlzLl9kYXRhLHRoaXMub3B0aW9ucy51c2VSYW5nZXMpLG49MCxpPXQubGVuZ3RoO248aTtuKyspdFtuXS5pc05ldyYmdFtuXS5pc05ldygpJiZyLnB1c2godFtuXSk7cmV0dXJuIHJ9LHVwZGF0ZWQ6ZnVuY3Rpb24oKXtmb3IodmFyIHI9W10sdD10aGlzLl9mbGF0RGF0YSh0aGlzLl9kYXRhLHRoaXMub3B0aW9ucy51c2VSYW5nZXMpLG49MCxpPXQubGVuZ3RoO248aTtuKyspdFtuXS5pc05ldyYmIXRbbl0uaXNOZXcoKSYmdFtuXS5kaXJ0eSYmci5wdXNoKHRbbl0pO3JldHVybiByfSxzeW5jOmZ1bmN0aW9uKCl7dmFyIGksdD10aGlzLHI9W10sdT1bXSxlPXQuX2Rlc3Ryb3llZCxmPW4uRGVmZXJyZWQoKS5yZXNvbHZlKCkucHJvbWlzZSgpO2lmKHQub25saW5lKCkpe2lmKCF0LnJlYWRlci5tb2RlbClyZXR1cm4gZjtyPXQuY3JlYXRlZCgpO3U9dC51cGRhdGVkKCk7aT1bXTt0Lm9wdGlvbnMuYmF0Y2gmJnQudHJhbnNwb3J0LnN1Ym1pdD9pPXQuX3NlbmRTdWJtaXQocix1LGUpOihpLnB1c2guYXBwbHkoaSx0Ll9zZW5kKCJjcmVhdGUiLHIpKSxpLnB1c2guYXBwbHkoaSx0Ll9zZW5kKCJ1cGRhdGUiLHUpKSxpLnB1c2guYXBwbHkoaSx0Ll9zZW5kKCJkZXN0cm95IixlKSkpO2Y9bi53aGVuLmFwcGx5KG51bGwsaSkudGhlbihmdW5jdGlvbigpe2Zvcih2YXIgbj0wLGk9YXJndW1lbnRzLmxlbmd0aDtuPGk7bisrKWFyZ3VtZW50c1tuXSYmdC5fYWNjZXB0KGFyZ3VtZW50c1tuXSk7dC5fc3RvcmVEYXRhKCEwKTt0Ll9zeW5jRW5kKCk7dC5fY2hhbmdlKHthY3Rpb246InN5bmMifSk7dC50cmlnZ2VyKHV1KX0pfWVsc2UgdC5fc3RvcmVEYXRhKCEwKSx0Ll9zeW5jRW5kKCksdC5fY2hhbmdlKHthY3Rpb246InN5bmMifSk7cmV0dXJuIGZ9LF9zeW5jRW5kOmEsY2FuY2VsQ2hhbmdlczpmdW5jdGlvbihuKXt2YXIgdD10aGlzO24gaW5zdGFuY2VvZiBpLmRhdGEuTW9kZWw/dC5fY2FuY2VsTW9kZWwobik6KHQuX2Rlc3Ryb3llZD1bXSx0Ll9kZXRhY2hPYnNlcnZhYmxlUGFyZW50cygpLHQuX2RhdGE9dC5fb2JzZXJ2ZSh0Ll9wcmlzdGluZURhdGEpLHQub3B0aW9ucy5zZXJ2ZXJQYWdpbmcmJih0Ll90b3RhbD10Ll9wcmlzdGluZVRvdGFsKSx0Ll9yYW5nZXM9W10sdC5fYWRkUmFuZ2UodC5fZGF0YSwwKSx0Ll9jaGFuZ2VzQ2FuY2VsZWQoKSx0Ll9jaGFuZ2UoKSx0Ll9tYXJrT2ZmbGluZVVwZGF0ZXNBc0RpcnR5KCkpfSxfY2hhbmdlc0NhbmNlbGVkOmEsX21hcmtPZmZsaW5lVXBkYXRlc0FzRGlydHk6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO251bGwhPW4ub3B0aW9ucy5vZmZsaW5lU3RvcmFnZSYmbi5fZWFjaEl0ZW0obi5fZGF0YSxmdW5jdGlvbihuKXtmb3IodmFyIGksdD0wO3Q8bi5sZW5ndGg7dCsrKWk9bi5hdCh0KSwidXBkYXRlIiE9aS5fX3N0YXRlX18mJiJjcmVhdGUiIT1pLl9fc3RhdGVfX3x8KGkuZGlydHk9ITApfSl9LGhhc0NoYW5nZXM6ZnVuY3Rpb24oKXt2YXIgbixpLHQ9dGhpcy5fZmxhdERhdGEodGhpcy5fZGF0YSx0aGlzLm9wdGlvbnMudXNlUmFuZ2VzKTtpZih0aGlzLl9kZXN0cm95ZWQubGVuZ3RoKXJldHVybiEwO2ZvcihuPTAsaT10Lmxlbmd0aDtuPGk7bisrKWlmKHRbbl0uaXNOZXcmJnRbbl0uaXNOZXcoKXx8dFtuXS5kaXJ0eSlyZXR1cm4hMDtyZXR1cm4hMX0sX2FjY2VwdDpmdW5jdGlvbih0KXt2YXIgbyxyPXRoaXMsZj10Lm1vZGVscyxpPXQucmVzcG9uc2UsdT0wLHM9ci5faXNTZXJ2ZXJHcm91cGVkKCksaD1yLl9wcmlzdGluZURhdGEsZT10LnR5cGU7aWYoci50cmlnZ2VyKGV0LHtyZXNwb25zZTppLHR5cGU6ZX0pLGkmJiFrKGkpKXtpZihpPXIucmVhZGVyLnBhcnNlKGkpLHIuX2hhbmRsZUN1c3RvbUVycm9ycyhpKSlyZXR1cm47aT1yLnJlYWRlci5kYXRhKGkpO2MoaSl8fChpPVtpXSl9ZWxzZSBpPW4ubWFwKGYsZnVuY3Rpb24obil7cmV0dXJuIG4udG9KU09OKCl9KTtmb3IoImRlc3Ryb3kiPT09ZSYmKHIuX2Rlc3Ryb3llZD1bXSksdT0wLG89Zi5sZW5ndGg7dTxvO3UrKykiZGVzdHJveSIhPT1lPyhmW3VdLmFjY2VwdChpW3VdKSwiY3JlYXRlIj09PWU/aC5wdXNoKHM/ci5fd3JhcEluRW1wdHlHcm91cChmW3VdLnRvSlNPTigpKTppW3VdKToidXBkYXRlIj09PWUmJnIuX3VwZGF0ZVByaXN0aW5lRm9yTW9kZWwoZlt1XSxpW3VdKSk6ci5fcmVtb3ZlUHJpc3RpbmVGb3JNb2RlbChmW3VdKX0sX3VwZGF0ZVByaXN0aW5lRm9yTW9kZWw6ZnVuY3Rpb24obix0KXt0aGlzLl9leGVjdXRlT25QcmlzdGluZUZvck1vZGVsKG4sZnVuY3Rpb24obixyKXtpLmRlZXBFeHRlbmQocltuXSx0KX0pfSxfZXhlY3V0ZU9uUHJpc3RpbmVGb3JNb2RlbDpmdW5jdGlvbihuLHQpe3RoaXMuX2VhY2hQcmlzdGluZUl0ZW0oZnVuY3Rpb24oaSl7dmFyIHI9aHIoaSxuKTtpZihyPi0xKXJldHVybiB0KHIsaSksITB9KX0sX3JlbW92ZVByaXN0aW5lRm9yTW9kZWw6ZnVuY3Rpb24obil7dGhpcy5fZXhlY3V0ZU9uUHJpc3RpbmVGb3JNb2RlbChuLGZ1bmN0aW9uKG4sdCl7dC5zcGxpY2UobiwxKX0pfSxfcmVhZERhdGE6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5faXNTZXJ2ZXJHcm91cGVkKCk/dGhpcy5yZWFkZXIuZ3JvdXBzOnRoaXMucmVhZGVyLmRhdGE7cmV0dXJuIHQuY2FsbCh0aGlzLnJlYWRlcixuKX0sX2VhY2hQcmlzdGluZUl0ZW06ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxpPXQub3B0aW9ucyxyPXQuX2dldEN1cnJlbnRSYW5nZVNwYW4oKTt0Ll9lYWNoSXRlbSh0Ll9wcmlzdGluZURhdGEsbik7aS5zZXJ2ZXJQYWdpbmcmJmkudXNlUmFuZ2VzJiZidChyLGZ1bmN0aW9uKGkscil7dC5fZWFjaEl0ZW0oci5wcmlzdGluZURhdGEsbil9KX0sX2VhY2hJdGVtOmZ1bmN0aW9uKG4sdCl7biYmbi5sZW5ndGgmJih0aGlzLl9pc1NlcnZlckdyb3VwZWQoKT9lcihuLHQpOnQobikpfSxfcHJpc3RpbmVGb3JNb2RlbDpmdW5jdGlvbihuKXt2YXIgaSx0LHI9ZnVuY3Rpb24ocil7aWYodD1ocihyLG4pLHQ+LTEpcmV0dXJuIGk9clt0XSwhMH07cmV0dXJuIHRoaXMuX2VhY2hQcmlzdGluZUl0ZW0ociksaX0sX2NhbmNlbE1vZGVsOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMsdD10aGlzLl9wcmlzdGluZUZvck1vZGVsKG4pO3RoaXMuX2VhY2hJdGVtKHRoaXMuX2RhdGEsZnVuY3Rpb24ocil7dmFyIHU9Y3IocixuKTt1Pj0wJiYoIXR8fG4uaXNOZXcoKSYmIXQuX19zdGF0ZV9fPyhpLl9tb2RlbENhbmNlbGVkKG4pLHIuc3BsaWNlKHUsMSksaS5fcmVtb3ZlTW9kZWxGcm9tUmFuZ2VzKG4pKTooclt1XS5hY2NlcHQodCksInVwZGF0ZSI9PXQuX19zdGF0ZV9fJiYoclt1XS5kaXJ0eT0hMCkpKX0pfSxfbW9kZWxDYW5jZWxlZDphLF9zdWJtaXQ6ZnVuY3Rpb24odCxpKXt2YXIgcj10aGlzO3IudHJpZ2dlcihpdCx7dHlwZToic3VibWl0In0pO3IudHJpZ2dlcihodCk7ci50cmFuc3BvcnQuc3VibWl0KGUoe3N1Y2Nlc3M6ZnVuY3Rpb24oaSxyKXt2YXIgdT1uLmdyZXAodCxmdW5jdGlvbihuKXtyZXR1cm4gbi50eXBlPT1yfSlbMF07dSYmdS5yZXNvbHZlKHtyZXNwb25zZTppLG1vZGVsczp1Lm1vZGVscyx0eXBlOnJ9KX0sZXJyb3I6ZnVuY3Rpb24obixpLHUpe2Zvcih2YXIgZj0wO2Y8dC5sZW5ndGg7ZisrKXRbZl0ucmVqZWN0KG4pO3IuZXJyb3IobixpLHUpfX0saSkpfSxfc2VuZFN1Ym1pdDpmdW5jdGlvbih0LGkscil7dmFyIHU9dGhpcyxmPVtdO3JldHVybiB1Lm9wdGlvbnMuYmF0Y2gmJih0Lmxlbmd0aCYmZi5wdXNoKG4uRGVmZXJyZWQoZnVuY3Rpb24obil7bi50eXBlPSJjcmVhdGUiO24ubW9kZWxzPXR9KSksaS5sZW5ndGgmJmYucHVzaChuLkRlZmVycmVkKGZ1bmN0aW9uKG4pe24udHlwZT0idXBkYXRlIjtuLm1vZGVscz1pfSkpLHIubGVuZ3RoJiZmLnB1c2gobi5EZWZlcnJlZChmdW5jdGlvbihuKXtuLnR5cGU9ImRlc3Ryb3kiO24ubW9kZWxzPXJ9KSksdS5fc3VibWl0KGYse2RhdGE6e2NyZWF0ZWQ6dS5yZWFkZXIuc2VyaWFsaXplKHl0KHQpKSx1cGRhdGVkOnUucmVhZGVyLnNlcmlhbGl6ZSh5dChpKSksZGVzdHJveWVkOnUucmVhZGVyLnNlcmlhbGl6ZSh5dChyKSl9fSkpLGZ9LF9wcm9taXNlOmZ1bmN0aW9uKHQsaSxyKXt2YXIgdT10aGlzO3JldHVybiBuLkRlZmVycmVkKGZ1bmN0aW9uKG4pe3UudHJpZ2dlcihpdCx7dHlwZTpyfSk7dS50cmlnZ2VyKGh0KTt1LnRyYW5zcG9ydFtyXS5jYWxsKHUudHJhbnNwb3J0LGUoe3N1Y2Nlc3M6ZnVuY3Rpb24odCl7bi5yZXNvbHZlKHtyZXNwb25zZTp0LG1vZGVsczppLHR5cGU6cn0pfSxlcnJvcjpmdW5jdGlvbih0LGkscil7bi5yZWplY3QodCk7dS5lcnJvcih0LGkscil9fSx0KSl9KS5wcm9taXNlKCl9LF9zZW5kOmZ1bmN0aW9uKG4sdCl7dmFyIGksZixyPXRoaXMsdT1bXSxlPXIucmVhZGVyLnNlcmlhbGl6ZSh5dCh0KSk7aWYoci5vcHRpb25zLmJhdGNoKXQubGVuZ3RoJiZ1LnB1c2goci5fcHJvbWlzZSh7ZGF0YTp7bW9kZWxzOmV9fSx0LG4pKTtlbHNlIGZvcihpPTAsZj10Lmxlbmd0aDtpPGY7aSsrKXUucHVzaChyLl9wcm9taXNlKHtkYXRhOmVbaV19LFt0W2ldXSxuKSk7cmV0dXJuIHV9LHJlYWQ6ZnVuY3Rpb24odCl7dmFyIGk9dGhpcyx1PWkuX3BhcmFtcyh0KSxyPW4uRGVmZXJyZWQoKTtyZXR1cm4gaS5fcXVldWVSZXF1ZXN0KHUsZnVuY3Rpb24oKXt2YXIgbj1pLnRyaWdnZXIoaXQse3R5cGU6InJlYWQifSk7bj8oaS5fZGVxdWV1ZVJlcXVlc3QoKSxyLnJlc29sdmUobikpOihpLnRyaWdnZXIoaHQpLGkuX3Jhbmdlcz1bXSxpLnRyaWdnZXIoInJlc2V0IiksaS5vbmxpbmUoKT9pLnRyYW5zcG9ydC5yZWFkKHtkYXRhOnUsc3VjY2VzczpmdW5jdGlvbihuKXtpLl9yYW5nZXM9W107aS5zdWNjZXNzKG4sdSk7ci5yZXNvbHZlKCl9LGVycm9yOmZ1bmN0aW9uKCl7dmFyIG49YXQuY2FsbChhcmd1bWVudHMpO2kuZXJyb3IuYXBwbHkoaSxuKTtyLnJlamVjdC5hcHBseShyLG4pfX0pOm51bGwhPWkub3B0aW9ucy5vZmZsaW5lU3RvcmFnZSYmKGkuc3VjY2VzcyhpLm9mZmxpbmVEYXRhKCksdSksci5yZXNvbHZlKCkpKX0pLHIucHJvbWlzZSgpfSxfcmVhZEFnZ3JlZ2F0ZXM6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucmVhZGVyLmFnZ3JlZ2F0ZXMobil9LHN1Y2Nlc3M6ZnVuY3Rpb24obil7dmFyIGYsaCxjLGwsYSxyLHYsZSx5LG8scyxpPXRoaXMscD1pLm9wdGlvbnM7aWYoaS50cmlnZ2VyKGV0LHtyZXNwb25zZTpuLHR5cGU6InJlYWQifSksaS5vbmxpbmUoKSl7aWYobj1pLnJlYWRlci5wYXJzZShuKSxpLl9oYW5kbGVDdXN0b21FcnJvcnMobikpcmV0dXJuIGkuX2RlcXVldWVSZXF1ZXN0KCksdDtpLl90b3RhbD1pLnJlYWRlci50b3RhbChuKTtpLl9wYWdlU2l6ZT5pLl90b3RhbCYmKGkuX3BhZ2VTaXplPWkuX3RvdGFsLGkub3B0aW9ucy5wYWdlU2l6ZSYmaS5vcHRpb25zLnBhZ2VTaXplPmkuX3BhZ2VTaXplJiYoaS5fcGFnZVNpemU9aS5vcHRpb25zLnBhZ2VTaXplKSk7aS5fYWdncmVnYXRlJiZwLnNlcnZlckFnZ3JlZ2F0ZXMmJihpLl9hZ2dyZWdhdGVSZXN1bHQ9aS5fcmVhZEFnZ3JlZ2F0ZXMobikpO249aS5fcmVhZERhdGEobik7aS5fZGVzdHJveWVkPVtdfWVsc2V7Zm9yKG49aS5fcmVhZERhdGEobiksZj1bXSxjPXt9LGw9aS5yZWFkZXIubW9kZWwsYT1sP2wuaWRGaWVsZDoiaWQiLHI9MDtyPHRoaXMuX2Rlc3Ryb3llZC5sZW5ndGg7cisrKXY9dGhpcy5fZGVzdHJveWVkW3JdW2FdLGNbdl09djtmb3Iocj0wO3I8bi5sZW5ndGg7cisrKWU9bltyXSx5PWUuX19zdGF0ZV9fLCJkZXN0cm95Ij09eT9jW2VbYV1dfHx0aGlzLl9kZXN0cm95ZWQucHVzaCh0aGlzLl9jcmVhdGVOZXdNb2RlbChlKSk6Zi5wdXNoKGUpO249ZjtpLl90b3RhbD1uLmxlbmd0aH1pZihpLl9wcmlzdGluZVRvdGFsPWkuX3RvdGFsLGg9aS5fc2tpcCYmaS5fZGF0YS5sZW5ndGgmJmkuX3NraXA8aS5fZGF0YS5sZW5ndGgsaS5vcHRpb25zLmVuZGxlc3MpZm9yKGgmJmkuX3ByaXN0aW5lRGF0YS5zcGxpY2UoaS5fc2tpcCxpLl9wcmlzdGluZURhdGEubGVuZ3RoKSxmPW4uc2xpY2UoMCksbz0wO288Zi5sZW5ndGg7bysrKWkuX3ByaXN0aW5lRGF0YS5wdXNoKGZbb10pO2Vsc2UgaS5fcHJpc3RpbmVEYXRhPW4uc2xpY2UoMCk7aWYoaS5fZGV0YWNoT2JzZXJ2YWJsZVBhcmVudHMoKSxpLm9wdGlvbnMuZW5kbGVzcyl7Zm9yKGkuX2RhdGEudW5iaW5kKHUsaS5fY2hhbmdlSGFuZGxlciksaS5faXNTZXJ2ZXJHcm91cGVkKCkmJmkuX2RhdGFbaS5fZGF0YS5sZW5ndGgtMV0udmFsdWU9PT1uWzBdLnZhbHVlJiYocnIoaS5fZGF0YVtpLl9kYXRhLmxlbmd0aC0xXSxuWzBdKSxuLnNoaWZ0KCkpLG49aS5fb2JzZXJ2ZShuKSxoJiZpLl9kYXRhLnNwbGljZShpLl9za2lwLGkuX2RhdGEubGVuZ3RoKSxzPTA7czxuLmxlbmd0aDtzKyspaS5fZGF0YS5wdXNoKG5bc10pO2kuX2RhdGEuYmluZCh1LGkuX2NoYW5nZUhhbmRsZXIpfWVsc2UgaS5fZGF0YT1pLl9vYnNlcnZlKG4pO2kuX21hcmtPZmZsaW5lVXBkYXRlc0FzRGlydHkoKTtpLl9zdG9yZURhdGEoKTtpLl9hZGRSYW5nZShpLl9kYXRhKTtpLl9wcm9jZXNzKGkuX2RhdGEpO2kuX2RlcXVldWVSZXF1ZXN0KCl9LF9kZXRhY2hPYnNlcnZhYmxlUGFyZW50czpmdW5jdGlvbigpe2lmKHRoaXMuX2RhdGEmJnRoaXMuX3Nob3VsZERldGFjaE9ic2VydmFibGVQYXJlbnRzKWZvcih2YXIgbj0wO248dGhpcy5fZGF0YS5sZW5ndGg7bisrKXRoaXMuX2RhdGFbbl0ucGFyZW50JiYodGhpcy5fZGF0YVtuXS5wYXJlbnQ9YSl9LF9zdG9yZURhdGE6ZnVuY3Rpb24obil7ZnVuY3Rpb24gZihuKXtmb3IodmFyIHQsaSx1PVtdLHI9MDtyPG4ubGVuZ3RoO3IrKyl0PW4uYXQociksaT10LnRvSlNPTigpLGUmJnQuaXRlbXM/aS5pdGVtcz1mKHQuaXRlbXMpOihpLnVpZD10LnVpZCxvJiYodC5pc05ldygpP2kuX19zdGF0ZV9fPSJjcmVhdGUiOnQuZGlydHkmJihpLl9fc3RhdGVfXz0idXBkYXRlIikpKSx1LnB1c2goaSk7cmV0dXJuIHV9dmFyIHQscixpLHUsZT10aGlzLl9pc1NlcnZlckdyb3VwZWQoKSxvPXRoaXMucmVhZGVyLm1vZGVsO2lmKG51bGwhPXRoaXMub3B0aW9ucy5vZmZsaW5lU3RvcmFnZSl7Zm9yKHQ9Zih0aGlzLl9kYXRhKSxyPVtdLGk9MDtpPHRoaXMuX2Rlc3Ryb3llZC5sZW5ndGg7aSsrKXU9dGhpcy5fZGVzdHJveWVkW2ldLnRvSlNPTigpLHUuX19zdGF0ZV9fPSJkZXN0cm95IixyLnB1c2godSk7dGhpcy5vZmZsaW5lRGF0YSh0LmNvbmNhdChyKSk7biYmKHRoaXMuX3ByaXN0aW5lRGF0YT10aGlzLnJlYWRlci5yZWFkZXI/dGhpcy5yZWFkZXIucmVhZGVyLl93cmFwRGF0YUFjY2Vzc0Jhc2UodCk6dGhpcy5yZWFkZXIuX3dyYXBEYXRhQWNjZXNzQmFzZSh0KSl9fSxfYWRkUmFuZ2U6ZnVuY3Rpb24obixpKXt2YXIgcj10aGlzLHU9dCE9PWk/aTpyLl9za2lwfHwwLGY9dStyLl9mbGF0RGF0YShuLCEwKS5sZW5ndGg7ci5fcmFuZ2VzLnB1c2goe3N0YXJ0OnUsZW5kOmYsZGF0YTpuLHByaXN0aW5lRGF0YTpuLnRvSlNPTigpLHRpbWVzdGFtcDpyLl90aW1lU3RhbXAoKX0pO3IuX3NvcnRSYW5nZXMoKX0sX3NvcnRSYW5nZXM6ZnVuY3Rpb24oKXt0aGlzLl9yYW5nZXMuc29ydChmdW5jdGlvbihuLHQpe3JldHVybiBuLnN0YXJ0LXQuc3RhcnR9KX0sZXJyb3I6ZnVuY3Rpb24obix0LGkpe3RoaXMuX2RlcXVldWVSZXF1ZXN0KCk7dGhpcy50cmlnZ2VyKGV0LHt9KTt0aGlzLnRyaWdnZXIodHQse3hocjpuLHN0YXR1czp0LGVycm9yVGhyb3duOml9KX0sX3BhcmFtczpmdW5jdGlvbihuKXt2YXIgdD10aGlzLGk9ZSh7dGFrZTp0LnRha2UoKSxza2lwOnQuc2tpcCgpLHBhZ2U6dC5wYWdlKCkscGFnZVNpemU6dC5wYWdlU2l6ZSgpLHNvcnQ6dC5fc29ydCxmaWx0ZXI6dC5fZmlsdGVyLGdyb3VwOnQuX2dyb3VwLGFnZ3JlZ2F0ZTp0Ll9hZ2dyZWdhdGV9LG4pO3JldHVybiB0Lm9wdGlvbnMuc2VydmVyUGFnaW5nfHwoZGVsZXRlIGkudGFrZSxkZWxldGUgaS5za2lwLGRlbGV0ZSBpLnBhZ2UsZGVsZXRlIGkucGFnZVNpemUpLHQub3B0aW9ucy5zZXJ2ZXJHcm91cGluZz90LnJlYWRlci5tb2RlbCYmaS5ncm91cCYmKGkuZ3JvdXA9cHQoaS5ncm91cCx0LnJlYWRlci5tb2RlbCkpOmRlbGV0ZSBpLmdyb3VwLHQub3B0aW9ucy5zZXJ2ZXJGaWx0ZXJpbmc/dC5yZWFkZXIubW9kZWwmJmkuZmlsdGVyJiYoaS5maWx0ZXI9dnIoaS5maWx0ZXIsdC5yZWFkZXIubW9kZWwpKTpkZWxldGUgaS5maWx0ZXIsdC5vcHRpb25zLnNlcnZlclNvcnRpbmc/dC5yZWFkZXIubW9kZWwmJmkuc29ydCYmKGkuc29ydD1wdChpLnNvcnQsdC5yZWFkZXIubW9kZWwpKTpkZWxldGUgaS5zb3J0LHQub3B0aW9ucy5zZXJ2ZXJBZ2dyZWdhdGVzP3QucmVhZGVyLm1vZGVsJiZpLmFnZ3JlZ2F0ZSYmKGkuYWdncmVnYXRlPXB0KGkuYWdncmVnYXRlLHQucmVhZGVyLm1vZGVsKSk6ZGVsZXRlIGkuYWdncmVnYXRlLGl9LF9xdWV1ZVJlcXVlc3Q6ZnVuY3Rpb24obixpKXt2YXIgcj10aGlzO3IuX3JlcXVlc3RJblByb2dyZXNzP3IuX3BlbmRpbmc9e2NhbGxiYWNrOncoaSxyKSxvcHRpb25zOm59OihyLl9yZXF1ZXN0SW5Qcm9ncmVzcz0hMCxyLl9wZW5kaW5nPXQsaSgpKX0sX2RlcXVldWVSZXF1ZXN0OmZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLl9yZXF1ZXN0SW5Qcm9ncmVzcz0hMTtuLl9wZW5kaW5nJiZuLl9xdWV1ZVJlcXVlc3Qobi5fcGVuZGluZy5vcHRpb25zLG4uX3BlbmRpbmcuY2FsbGJhY2spfSxfaGFuZGxlQ3VzdG9tRXJyb3JzOmZ1bmN0aW9uKG4pe2lmKHRoaXMucmVhZGVyLmVycm9ycyl7dmFyIHQ9dGhpcy5yZWFkZXIuZXJyb3JzKG4pO2lmKHQpcmV0dXJuIHRoaXMudHJpZ2dlcih0dCx7eGhyOm51bGwsc3RhdHVzOiJjdXN0b21lcnJvciIsZXJyb3JUaHJvd246ImN1c3RvbSBlcnJvciIsZXJyb3JzOnR9KSwhMH1yZXR1cm4hMX0sX3Nob3VsZFdyYXA6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5yZWFkZXIubW9kZWw7cmV0dXJuISghdHx8IW4ubGVuZ3RoKSYmIShuWzBdaW5zdGFuY2VvZiB0KX0sX29ic2VydmU6ZnVuY3Rpb24obil7dmFyIGksdD10aGlzLHI9dC5yZWFkZXIubW9kZWw7cmV0dXJuIHQuX3Nob3VsZERldGFjaE9ic2VydmFibGVQYXJlbnRzPSEwLG4gaW5zdGFuY2VvZiB2Pyh0Ll9zaG91bGREZXRhY2hPYnNlcnZhYmxlUGFyZW50cz0hMSx0Ll9zaG91bGRXcmFwKG4pJiYobi50eXBlPXQucmVhZGVyLm1vZGVsLG4ud3JhcEFsbChuLG4pKSk6KGk9dC5wYWdlU2l6ZSgpJiYhdC5vcHRpb25zLnNlcnZlclBhZ2luZz9vdDp2LG49bmV3IGkobix0LnJlYWRlci5tb2RlbCksbi5wYXJlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5wYXJlbnQoKX0pLHQuX2lzU2VydmVyR3JvdXBlZCgpJiZmcihuLHIpLCEodC5fY2hhbmdlSGFuZGxlciYmdC5fZGF0YSYmdC5fZGF0YSBpbnN0YW5jZW9mIHYpfHx0Lm9wdGlvbnMudXNlUmFuZ2VzJiZ0Lm9wdGlvbnMuc2VydmVyUGFnaW5nP3QuX2NoYW5nZUhhbmRsZXI9dyh0Ll9jaGFuZ2UsdCk6dC5fZGF0YS51bmJpbmQodSx0Ll9jaGFuZ2VIYW5kbGVyKSxuLmJpbmQodSx0Ll9jaGFuZ2VIYW5kbGVyKX0sX3VwZGF0ZVRvdGFsRm9yQWN0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcyxyPXBhcnNlSW50KGkuX3RvdGFsLDEwKTt5KGkuX3RvdGFsKXx8KHI9cGFyc2VJbnQoaS5fcHJpc3RpbmVUb3RhbCwxMCkpOyJhZGQiPT09bj9yKz10Lmxlbmd0aDoicmVtb3ZlIj09PW4/ci09dC5sZW5ndGg6Iml0ZW1jaGFuZ2UiPT09bnx8InN5bmMiPT09bnx8aS5vcHRpb25zLnNlcnZlclBhZ2luZz8ic3luYyI9PT1uJiYocj1pLl9wcmlzdGluZVRvdGFsPXBhcnNlSW50KGkuX3RvdGFsLDEwKSk6cj1pLl9wcmlzdGluZVRvdGFsO2kuX3RvdGFsPXJ9LF9jaGFuZ2U6ZnVuY3Rpb24obil7dmFyIGksZix1LHQ9dGhpcyxyPW4/bi5hY3Rpb246IiI7aWYoInJlbW92ZSI9PT1yKWZvcihpPTAsZj1uLml0ZW1zLmxlbmd0aDtpPGY7aSsrKW4uaXRlbXNbaV0uaXNOZXcmJm4uaXRlbXNbaV0uaXNOZXcoKXx8dC5fZGVzdHJveWVkLnB1c2gobi5pdGVtc1tpXSk7IXQub3B0aW9ucy5hdXRvU3luY3x8ImFkZCIhPT1yJiYicmVtb3ZlIiE9PXImJiJpdGVtY2hhbmdlIiE9PXI/KHQuX3VwZGF0ZVRvdGFsRm9yQWN0aW9uKHIsbj9uLml0ZW1zOltdKSx0Ll9wcm9jZXNzKHQuX2RhdGEsbikpOih1PWZ1bmN0aW9uKGkpeyJzeW5jIj09PWkuYWN0aW9uJiYodC51bmJpbmQoImNoYW5nZSIsdSksdC5fdXBkYXRlVG90YWxGb3JBY3Rpb24ocixuLml0ZW1zKSl9LHQuZmlyc3QoImNoYW5nZSIsdSksdC5zeW5jKCkpfSxfY2FsY3VsYXRlQWdncmVnYXRlczpmdW5jdGlvbihuLHQpe3Q9dHx8e307dmFyIGk9bmV3IHIobiksZj10LmFnZ3JlZ2F0ZSx1PXQuZmlsdGVyO3JldHVybiB1JiYoaT1pLmZpbHRlcih1KSksaS5hZ2dyZWdhdGUoZil9LF9wcm9jZXNzOmZ1bmN0aW9uKG4saSl7dmFyIGUscj10aGlzLGY9e307ci5vcHRpb25zLnNlcnZlclBhZ2luZyE9PSEwJiYoZi5za2lwPXIuX3NraXAsZi50YWtlPXIuX3Rha2V8fHIuX3BhZ2VTaXplLGYuc2tpcD09PXQmJnIuX3BhZ2UhPT10JiZyLl9wYWdlU2l6ZSE9PXQmJihmLnNraXA9KHIuX3BhZ2UtMSkqci5fcGFnZVNpemUpLHIub3B0aW9ucy51c2VSYW5nZXMmJihmLnNraXA9ci5jdXJyZW50UmFuZ2VTdGFydCgpKSk7ci5vcHRpb25zLnNlcnZlclNvcnRpbmchPT0hMCYmKGYuc29ydD1yLl9zb3J0KTtyLm9wdGlvbnMuc2VydmVyRmlsdGVyaW5nIT09ITAmJihmLmZpbHRlcj1yLl9maWx0ZXIpO3Iub3B0aW9ucy5zZXJ2ZXJHcm91cGluZyE9PSEwJiYoZi5ncm91cD1yLl9ncm91cCk7ci5vcHRpb25zLnNlcnZlckFnZ3JlZ2F0ZXMhPT0hMCYmKGYuYWdncmVnYXRlPXIuX2FnZ3JlZ2F0ZSk7ci5vcHRpb25zLnNlcnZlckdyb3VwaW5nJiZyLl9jbGVhckVtcHR5R3JvdXBzKG4pO2U9ci5fcXVlcnlQcm9jZXNzKG4sZik7ci5vcHRpb25zLnNlcnZlckFnZ3JlZ2F0ZXMhPT0hMCYmKHIuX2FnZ3JlZ2F0ZVJlc3VsdD1yLl9jYWxjdWxhdGVBZ2dyZWdhdGVzKGUuZGF0YVRvQWdncmVnYXRlfHxuLGYpKTtyLnZpZXcoZS5kYXRhKTtyLl9zZXRGaWx0ZXJUb3RhbChlLnRvdGFsLCExKTtpPWl8fHt9O2kuaXRlbXM9aS5pdGVtc3x8ci5fdmlldztyLnRyaWdnZXIodSxpKX0sX2NsZWFyRW1wdHlHcm91cHM6ZnVuY3Rpb24obil7Zm9yKHZhciB0LGk9bi5sZW5ndGgtMTtpPj0wO2ktLSl0PW5baV0sdC5oYXNTdWJncm91cHM/dGhpcy5fY2xlYXJFbXB0eUdyb3Vwcyh0Lml0ZW1zKTp0Lml0ZW1zJiYhdC5pdGVtcy5sZW5ndGgmJmZ1LmFwcGx5KHQucGFyZW50KCksW2ksMV0pfSxfcXVlcnlQcm9jZXNzOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMub3B0aW9ucy5pblBsYWNlU29ydD9yLnByb2Nlc3Mobix0LHRoaXMub3B0aW9ucy5pblBsYWNlU29ydCk6ci5wcm9jZXNzKG4sdCl9LF9tZXJnZVN0YXRlOmZ1bmN0aW9uKGkpe3ZhciByPXRoaXM7cmV0dXJuIGkhPT10JiYoci5fcGFnZVNpemU9aS5wYWdlU2l6ZSxyLl9wYWdlPWkucGFnZSxyLl9zb3J0PWkuc29ydCxyLl9maWx0ZXI9aS5maWx0ZXIsci5fZ3JvdXA9aS5ncm91cCxyLl9hZ2dyZWdhdGU9aS5hZ2dyZWdhdGUsci5fc2tpcD1yLl9jdXJyZW50UmFuZ2VTdGFydD1pLnNraXAsci5fdGFrZT1pLnRha2Usci5fc2tpcD09PXQmJihyLl9za2lwPXIuX2N1cnJlbnRSYW5nZVN0YXJ0PXIuc2tpcCgpLGkuc2tpcD1yLnNraXAoKSksci5fdGFrZT09PXQmJnIuX3BhZ2VTaXplIT09dCYmKHIuX3Rha2U9ci5fcGFnZVNpemUsaS50YWtlPXIuX3Rha2UpLGkuc29ydCYmKHIuX3NvcnQ9aS5zb3J0PXJ0KGkuc29ydCksci5fc29ydEZpZWxkcz1vdShpLnNvcnQpKSxpLmZpbHRlciYmKHIuX2ZpbHRlcj1pLmZpbHRlcj1yLm9wdGlvbnMuYWNjZW50Rm9sZGluZ0ZpbHRlcmluZyYmIW4uaXNFbXB0eU9iamVjdChpLmZpbHRlcik/bi5leHRlbmQoe30sYihpLmZpbHRlcikse2FjY2VudEZvbGRpbmdGaWx0ZXJpbmc6ci5vcHRpb25zLmFjY2VudEZvbGRpbmdGaWx0ZXJpbmd9KTpiKGkuZmlsdGVyKSksaS5ncm91cCYmKHIuX2dyb3VwPWkuZ3JvdXA9dXQoaS5ncm91cCkpLGkuYWdncmVnYXRlJiYoci5fYWdncmVnYXRlPWkuYWdncmVnYXRlPWh1KGkuYWdncmVnYXRlKSkpLGl9LHF1ZXJ5OmZ1bmN0aW9uKGkpe3ZhciByLGYsZSxvPXRoaXMub3B0aW9ucy5zZXJ2ZXJTb3J0aW5nfHx0aGlzLm9wdGlvbnMuc2VydmVyUGFnaW5nfHx0aGlzLm9wdGlvbnMuc2VydmVyRmlsdGVyaW5nfHx0aGlzLm9wdGlvbnMuc2VydmVyR3JvdXBpbmd8fHRoaXMub3B0aW9ucy5zZXJ2ZXJBZ2dyZWdhdGVzO3JldHVybiBvfHwodGhpcy5fZGF0YT09PXR8fDA9PT10aGlzLl9kYXRhLmxlbmd0aCkmJiF0aGlzLl9kZXN0cm95ZWQubGVuZ3RoPyh0aGlzLm9wdGlvbnMuZW5kbGVzcyYmKGY9aS5wYWdlU2l6ZS10aGlzLnBhZ2VTaXplKCksZj4wPyhmPXRoaXMucGFnZVNpemUoKSxpLnBhZ2U9aS5wYWdlU2l6ZS9mLGkucGFnZVNpemU9Zik6KGkucGFnZT0xLHRoaXMub3B0aW9ucy5lbmRsZXNzPSExKSksdGhpcy5yZWFkKHRoaXMuX21lcmdlU3RhdGUoaSkpKTooZT10aGlzLnRyaWdnZXIoaXQse3R5cGU6InJlYWQifSksZXx8KHRoaXMudHJpZ2dlcihodCkscj10aGlzLl9xdWVyeVByb2Nlc3ModGhpcy5fZGF0YSx0aGlzLl9tZXJnZVN0YXRlKGkpKSx0aGlzLl9zZXRGaWx0ZXJUb3RhbChyLnRvdGFsLCEwKSx0aGlzLl9hZ2dyZWdhdGVSZXN1bHQ9dGhpcy5fY2FsY3VsYXRlQWdncmVnYXRlcyhyLmRhdGFUb0FnZ3JlZ2F0ZXx8dGhpcy5fZGF0YSxpKSx0aGlzLnZpZXcoci5kYXRhKSx0aGlzLnRyaWdnZXIoZXQse3R5cGU6InJlYWQifSksdGhpcy50cmlnZ2VyKHUse2l0ZW1zOnIuZGF0YX0pKSxuLkRlZmVycmVkKCkucmVzb2x2ZShlKS5wcm9taXNlKCkpfSxfc2V0RmlsdGVyVG90YWw6ZnVuY3Rpb24obixpKXt2YXIgcj10aGlzO3Iub3B0aW9ucy5zZXJ2ZXJGaWx0ZXJpbmd8fChuIT09dD9yLl90b3RhbD1uOmkmJihyLl90b3RhbD1yLl9kYXRhLmxlbmd0aCkpfSxmZXRjaDpmdW5jdGlvbihuKXt2YXIgdD10aGlzLGk9ZnVuY3Rpb24oaSl7aSE9PSEwJiZoKG4pJiZuLmNhbGwodCl9O3JldHVybiB0aGlzLl9xdWVyeSgpLmRvbmUoaSl9LF9xdWVyeTpmdW5jdGlvbihuKXt2YXIgdD10aGlzO3JldHVybiB0LnF1ZXJ5KGUoe30se3BhZ2U6dC5wYWdlKCkscGFnZVNpemU6dC5wYWdlU2l6ZSgpLHNvcnQ6dC5zb3J0KCksZmlsdGVyOnQuZmlsdGVyKCksZ3JvdXA6dC5ncm91cCgpLGFnZ3JlZ2F0ZTp0LmFnZ3JlZ2F0ZSgpfSxuKSl9LG5leHQ6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxpPXQucGFnZSgpLHI9dC50b3RhbCgpO2lmKG49bnx8e30saSYmIShyJiZpKzE+dC50b3RhbFBhZ2VzKCkpKXJldHVybiB0Ll9za2lwPXQuX2N1cnJlbnRSYW5nZVN0YXJ0PWkqdC50YWtlKCksaSs9MSxuLnBhZ2U9aSx0Ll9xdWVyeShuKSxpfSxwcmV2OmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsaT10LnBhZ2UoKTtpZihuPW58fHt9LGkmJjEhPT1pKXJldHVybiB0Ll9za2lwPXQuX2N1cnJlbnRSYW5nZVN0YXJ0PXQuX3NraXAtdC50YWtlKCksaS09MSxuLnBhZ2U9aSx0Ll9xdWVyeShuKSxpfSxwYWdlOmZ1bmN0aW9uKG4pe3ZhciByLGk9dGhpcztyZXR1cm4gbiE9PXQ/KG49Zi5tYXgoZi5taW4oZi5tYXgobiwxKSxpLnRvdGFsUGFnZXMoKSksMSksaS5fcXVlcnkoaS5fcGFnZWFibGVRdWVyeU9wdGlvbnMoe3BhZ2U6bn0pKSx0KToocj1pLnNraXAoKSxyIT09dD9mLnJvdW5kKChyfHwwKS8oaS50YWtlKCl8fDEpKSsxOnQpfSxwYWdlU2l6ZTpmdW5jdGlvbihuKXt2YXIgaT10aGlzO3JldHVybiBuIT09dD8oaS5fcXVlcnkoaS5fcGFnZWFibGVRdWVyeU9wdGlvbnMoe3BhZ2VTaXplOm4scGFnZToxfSkpLHQpOmkudGFrZSgpfSxzb3J0OmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXM7cmV0dXJuIG4hPT10PyhpLnRyaWdnZXIoInNvcnQiKSxpLl9xdWVyeSh7c29ydDpufSksdCk6aS5fc29ydH0sZmlsdGVyOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXM7cmV0dXJuIG49PT10P2kuX2ZpbHRlcjooaS50cmlnZ2VyKCJyZXNldCIpLGkuX3F1ZXJ5KHtmaWx0ZXI6bixwYWdlOjF9KSx0KX0sZ3JvdXA6ZnVuY3Rpb24obil7dmFyIGk9dGhpcztyZXR1cm4gbiE9PXQ/KGkuX3F1ZXJ5KHtncm91cDpufSksdCk6aS5fZ3JvdXB9LHRvdGFsOmZ1bmN0aW9uKCl7cmV0dXJuIHBhcnNlSW50KHRoaXMuX3RvdGFsfHwwLDEwKX0sYWdncmVnYXRlOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXM7cmV0dXJuIG4hPT10PyhpLl9xdWVyeSh7YWdncmVnYXRlOm59KSx0KTppLl9hZ2dyZWdhdGV9LGFnZ3JlZ2F0ZXM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9hZ2dyZWdhdGVSZXN1bHQ7cmV0dXJuIGsobikmJihuPXRoaXMuX2VtcHR5QWdncmVnYXRlcyh0aGlzLmFnZ3JlZ2F0ZSgpKSksbn0sX2VtcHR5QWdncmVnYXRlczpmdW5jdGlvbihuKXt2YXIgaSx0LHI9e307aWYoIWsobikpZm9yKGk9e30sYyhuKXx8KG49W25dKSx0PTA7dDxuLmxlbmd0aDt0KyspaVtuW3RdLmFnZ3JlZ2F0ZV09MCxyW25bdF0uZmllbGRdPWk7cmV0dXJuIHJ9LF9wYWdlYWJsZVF1ZXJ5T3B0aW9uczpmdW5jdGlvbihuKXtyZXR1cm4gbn0sX3dyYXBJbkVtcHR5R3JvdXA6ZnVuY3Rpb24obil7Zm9yKHZhciB0LGksZj10aGlzLmdyb3VwKCkscj1mLmxlbmd0aC0xLHU9MDtyPj11O3ItLSlpPWZbcl0sdD17dmFsdWU6bi5nZXQ/bi5nZXQoaS5maWVsZCk6bltpLmZpZWxkXSxmaWVsZDppLmZpZWxkLGl0ZW1zOnQ/W3RdOltuXSxoYXNTdWJncm91cHM6ISF0LGFnZ3JlZ2F0ZXM6dGhpcy5fZW1wdHlBZ2dyZWdhdGVzKGkuYWdncmVnYXRlcyl9O3JldHVybiB0fSx0b3RhbFBhZ2VzOmZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0PW4ucGFnZVNpemUoKXx8bi50b3RhbCgpO3JldHVybiBmLmNlaWwoKG4udG90YWwoKXx8MCkvdCl9LGluUmFuZ2U6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLHI9Zi5taW4obit0LGkudG90YWwoKSk7cmV0dXJuIWkub3B0aW9ucy5zZXJ2ZXJQYWdpbmcmJmkuX2RhdGEubGVuZ3RoPjB8fGkuX2ZpbmRSYW5nZShuLHIpLmxlbmd0aD4wfSxsYXN0UmFuZ2U6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9yYW5nZXM7cmV0dXJuIG5bbi5sZW5ndGgtMV18fHtzdGFydDowLGVuZDowLGRhdGE6W119fSxmaXJzdEl0ZW1VaWQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9yYW5nZXM7cmV0dXJuIG4ubGVuZ3RoJiZuWzBdLmRhdGEubGVuZ3RoJiZuWzBdLmRhdGFbMF0udWlkfSxlbmFibGVSZXF1ZXN0c0luUHJvZ3Jlc3M6ZnVuY3Rpb24oKXt0aGlzLl9za2lwUmVxdWVzdHNJblByb2dyZXNzPSExfSxfdGltZVN0YW1wOmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9LHJhbmdlOmZ1bmN0aW9uKG4saSxyKXt0aGlzLl9jdXJyZW50UmVxdWVzdFRpbWVTdGFtcD10aGlzLl90aW1lU3RhbXAoKTt0aGlzLl9za2lwUmVxdWVzdHNJblByb2dyZXNzPSEwO249Zi5taW4obnx8MCx0aGlzLnRvdGFsKCkpO3I9aChyKT9yOmE7dmFyIHMsdT10aGlzLG89Zi5tYXgoZi5mbG9vcihuL2kpLDApKmksZT1mLm1pbihvK2ksdS50b3RhbCgpKTtyZXR1cm4gcz11Ll9maW5kUmFuZ2UobixmLm1pbihuK2ksdS50b3RhbCgpKSkscy5sZW5ndGh8fDA9PT11LnRvdGFsKCk/KHUuX3Byb2Nlc3NSYW5nZURhdGEocyxuLGksbyxlKSxyKCksdCk6KGkhPT10JiYodS5fcmFuZ2VFeGlzdHMobyxlKT9vPG4mJnUucHJlZmV0Y2goZSxpLGZ1bmN0aW9uKCl7dS5yYW5nZShuLGkscil9KTp1LnByZWZldGNoKG8saSxmdW5jdGlvbigpe24+byYmZTx1LnRvdGFsKCkmJiF1Ll9yYW5nZUV4aXN0cyhlLGYubWluKGUraSx1LnRvdGFsKCkpKT91LnByZWZldGNoKGUsaSxmdW5jdGlvbigpe3UucmFuZ2UobixpLHIpfSk6dS5yYW5nZShuLGkscil9KSksdCl9LF9maW5kUmFuZ2U6ZnVuY3Rpb24obixpKXtmb3IodmFyIHIsaCxjLGwseSxhLHMsdixmLGssdT10aGlzLHc9dS5fcmFuZ2VzLGI9W10sZT11Lm9wdGlvbnMsZD1lLnNlcnZlclNvcnRpbmd8fGUuc2VydmVyUGFnaW5nfHxlLnNlcnZlckZpbHRlcmluZ3x8ZS5zZXJ2ZXJHcm91cGluZ3x8ZS5zZXJ2ZXJBZ2dyZWdhdGVzLG89MCxwPXcubGVuZ3RoO288cDtvKyspaWYocj13W29dLG4+PXIuc3RhcnQmJm48PXIuZW5kKXtmb3IoZj0wLGg9bztoPHA7aCsrKWlmKHI9d1toXSx2PXUuX2ZsYXREYXRhKHIuZGF0YSwhMCksdi5sZW5ndGgmJm4rZj49ci5zdGFydCYmKHk9ci5kYXRhLGE9ci5lbmQsZHx8KGUuaW5QbGFjZVNvcnQ/cz11Ll9xdWVyeVByb2Nlc3Moci5kYXRhLHtmaWx0ZXI6dS5maWx0ZXIoKX0pOihrPW5yKHUuZ3JvdXAoKXx8W10pLmNvbmNhdChydCh1LnNvcnQoKXx8W10pKSxzPXUuX3F1ZXJ5UHJvY2VzcyhyLmRhdGEse3NvcnQ6ayxmaWx0ZXI6dS5maWx0ZXIoKX0pKSx2PXk9cy5kYXRhLHMudG90YWwhPT10JiYoYT1zLnRvdGFsKSksYz0wLG4rZj5yLnN0YXJ0JiYoYz1uK2Ytci5zdGFydCksbD12Lmxlbmd0aCxhPmkmJihsLT1hLWkpLGYrPWwtYyxiPXUuX21lcmdlR3JvdXBzKGIseSxjLGwpLGk8PXIuZW5kJiZmPT1pLW4pKXJldHVybiBiO2JyZWFrfXJldHVybltdfSxfbWVyZ2VHcm91cHM6ZnVuY3Rpb24obix0LGkscil7aWYodGhpcy5faXNTZXJ2ZXJHcm91cGVkKCkpe3ZhciB1LGY9dC50b0pTT04oKTtyZXR1cm4gbi5sZW5ndGgmJih1PW5bbi5sZW5ndGgtMV0pLHVpKHUsZixpLHIpLG4uY29uY2F0KGYpfXJldHVybiBuLmNvbmNhdCh0LnNsaWNlKGkscikpfSxfcHJvY2Vzc1JhbmdlRGF0YTpmdW5jdGlvbihuLGkscix1LGUpe3ZhciBzLGgsYyxsLG89dGhpcztvLl9wZW5kaW5nPXQ7by5fc2tpcD1pPm8uc2tpcCgpP2YubWluKGUsKG8udG90YWxQYWdlcygpLTEpKm8udGFrZSgpKTp1O28uX2N1cnJlbnRSYW5nZVN0YXJ0PWk7by5fdGFrZT1yO3M9by5vcHRpb25zLnNlcnZlclBhZ2luZztoPW8ub3B0aW9ucy5zZXJ2ZXJTb3J0aW5nO2M9by5vcHRpb25zLnNlcnZlckZpbHRlcmluZztsPW8ub3B0aW9ucy5zZXJ2ZXJBZ2dyZWdhdGVzO3RyeXtvLm9wdGlvbnMuc2VydmVyUGFnaW5nPSEwO28uX2lzU2VydmVyR3JvdXBlZCgpfHxvLmdyb3VwKCkmJm8uZ3JvdXAoKS5sZW5ndGh8fChvLm9wdGlvbnMuc2VydmVyU29ydGluZz0hMCk7by5vcHRpb25zLnNlcnZlckZpbHRlcmluZz0hMDtvLm9wdGlvbnMuc2VydmVyUGFnaW5nPSEwO28ub3B0aW9ucy5zZXJ2ZXJBZ2dyZWdhdGVzPSEwO3MmJihvLl9kZXRhY2hPYnNlcnZhYmxlUGFyZW50cygpLG8uX2RhdGE9bj1vLl9vYnNlcnZlKG4pKTtvLl9wcm9jZXNzKG4pfWZpbmFsbHl7by5vcHRpb25zLnNlcnZlclBhZ2luZz1zO28ub3B0aW9ucy5zZXJ2ZXJTb3J0aW5nPWg7by5vcHRpb25zLnNlcnZlckZpbHRlcmluZz1jO28ub3B0aW9ucy5zZXJ2ZXJBZ2dyZWdhdGVzPWx9fSxza2lwOmZ1bmN0aW9uKCl7dmFyIG49dGhpcztyZXR1cm4gbi5fc2tpcD09PXQ/bi5fcGFnZSE9PXQ/KG4uX3BhZ2UtMSkqKG4udGFrZSgpfHwxKTp0Om4uX3NraXB9LGN1cnJlbnRSYW5nZVN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSYW5nZVN0YXJ0fHwwfSx0YWtlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Rha2V8fHRoaXMuX3BhZ2VTaXplfSxfcHJlZmV0Y2hTdWNjZXNzSGFuZGxlcjpmdW5jdGlvbihuLHQsaSxyKXt2YXIgZj10aGlzLGU9Zi5fdGltZVN0YW1wKCk7cmV0dXJuIGZ1bmN0aW9uKG8pe3ZhciBjLGwscyxhPSExLGg9e3N0YXJ0Om4sZW5kOnQsZGF0YTpbXSx0aW1lc3RhbXA6Zi5fdGltZVN0YW1wKCl9O2lmKGYuX2RlcXVldWVSZXF1ZXN0KCksZi50cmlnZ2VyKGV0LHtyZXNwb25zZTpvLHR5cGU6InJlYWQifSksbz1mLnJlYWRlci5wYXJzZShvKSxzPWYuX3JlYWREYXRhKG8pLHMubGVuZ3RoKXtmb3IoYz0wLGw9Zi5fcmFuZ2VzLmxlbmd0aDtjPGw7YysrKWlmKGYuX3Jhbmdlc1tjXS5zdGFydD09PW4pe2E9ITA7aD1mLl9yYW5nZXNbY107aC5wcmlzdGluZURhdGE9cztoLmRhdGE9Zi5fb2JzZXJ2ZShzKTtoLmVuZD1oLnN0YXJ0K2YuX2ZsYXREYXRhKGguZGF0YSwhMCkubGVuZ3RoO2YuX3NvcnRSYW5nZXMoKTticmVha31hfHxmLl9hZGRSYW5nZShmLl9vYnNlcnZlKHMpLG4pfWYuX3RvdGFsPWYucmVhZGVyLnRvdGFsKG8pOyhyfHxlPj1mLl9jdXJyZW50UmVxdWVzdFRpbWVTdGFtcHx8IWYuX3NraXBSZXF1ZXN0c0luUHJvZ3Jlc3MpJiYoaSYmcy5sZW5ndGg/aSgpOmYudHJpZ2dlcih1LHt9KSl9fSxwcmVmZXRjaDpmdW5jdGlvbihuLHQsaSl7dmFyIHI9dGhpcyx1PWYubWluKG4rdCxyLnRvdGFsKCkpLGU9e3Rha2U6dCxza2lwOm4scGFnZTpuL3QrMSxwYWdlU2l6ZTp0LHNvcnQ6ci5fc29ydCxmaWx0ZXI6ci5fZmlsdGVyLGdyb3VwOnIuX2dyb3VwLGFnZ3JlZ2F0ZTpyLl9hZ2dyZWdhdGV9O3IuX3JhbmdlRXhpc3RzKG4sdSk/aSYmaSgpOihjbGVhclRpbWVvdXQoci5fdGltZW91dCksci5fdGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5fcXVldWVSZXF1ZXN0KGUsZnVuY3Rpb24oKXtyLnRyaWdnZXIoaXQse3R5cGU6InJlYWQifSk/ci5fZGVxdWV1ZVJlcXVlc3QoKTpyLnRyYW5zcG9ydC5yZWFkKHtkYXRhOnIuX3BhcmFtcyhlKSxzdWNjZXNzOnIuX3ByZWZldGNoU3VjY2Vzc0hhbmRsZXIobix1LGkpLGVycm9yOmZ1bmN0aW9uKCl7dmFyIG49YXQuY2FsbChhcmd1bWVudHMpO3IuZXJyb3IuYXBwbHkocixuKX19KX0pfSwxMDApKX0sX211bHRpcGxlUHJlZmV0Y2g6ZnVuY3Rpb24obix0LGkpe3ZhciByPXRoaXMsdT1mLm1pbihuK3Qsci50b3RhbCgpKSxlPXt0YWtlOnQsc2tpcDpuLHBhZ2U6bi90KzEscGFnZVNpemU6dCxzb3J0OnIuX3NvcnQsZmlsdGVyOnIuX2ZpbHRlcixncm91cDpyLl9ncm91cCxhZ2dyZWdhdGU6ci5fYWdncmVnYXRlfTtyLl9yYW5nZUV4aXN0cyhuLHUpP2kmJmkoKTpyLnRyaWdnZXIoaXQse3R5cGU6InJlYWQifSl8fHIudHJhbnNwb3J0LnJlYWQoe2RhdGE6ci5fcGFyYW1zKGUpLHN1Y2Nlc3M6ci5fcHJlZmV0Y2hTdWNjZXNzSGFuZGxlcihuLHUsaSwhMCl9KX0sX3JhbmdlRXhpc3RzOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBmPXRoaXMscj1mLl9yYW5nZXMsaT0wLHU9ci5sZW5ndGg7aTx1O2krKylpZihyW2ldLnN0YXJ0PD1uJiZyW2ldLmVuZD49dClyZXR1cm4hMDtyZXR1cm4hMX0sX2dldEN1cnJlbnRSYW5nZVNwYW46ZnVuY3Rpb24oKXtmb3IodmFyIG4scj10aGlzLHU9ci5fcmFuZ2VzLGk9ci5jdXJyZW50UmFuZ2VTdGFydCgpLGU9aSsoci50YWtlKCl8fDApLGY9W10sbz11Lmxlbmd0aCx0PTA7dDxvO3QrKyluPXVbdF0sKG4uc3RhcnQ8PWkmJm4uZW5kPj1pfHxuLnN0YXJ0Pj1pJiZuLnN0YXJ0PD1lKSYmZi5wdXNoKG4pO3JldHVybiBmfSxfcmVtb3ZlTW9kZWxGcm9tUmFuZ2VzOmZ1bmN0aW9uKG4pe2Zvcih2YXIgaSx1PXRoaXMsdD0wLHI9dGhpcy5fcmFuZ2VzLmxlbmd0aDt0PHI7dCsrKWk9dGhpcy5fcmFuZ2VzW3RdLHUuX3JlbW92ZU1vZGVsRnJvbVJhbmdlKGksbik7dS5fdXBkYXRlUmFuZ2VzTGVuZ3RoKCl9LF9yZW1vdmVNb2RlbEZyb21SYW5nZTpmdW5jdGlvbihuLHQpe3RoaXMuX2VhY2hJdGVtKG4uZGF0YSxmdW5jdGlvbihuKXtmb3IodmFyIHIsaT0wO2k8bi5sZW5ndGg7aSsrKWlmKHI9bltpXSxyLnVpZCYmci51aWQ9PXQudWlkKXtbXS5zcGxpY2UuY2FsbChuLGksMSk7YnJlYWt9fSl9LF9pbnNlcnRNb2RlbEluUmFuZ2U6ZnVuY3Rpb24obix0KXtmb3IodmFyIGkscj10aGlzLGY9ci5fcmFuZ2VzfHxbXSxlPWYubGVuZ3RoLHU9MDt1PGU7dSsrKWlmKGk9Zlt1XSxpLnN0YXJ0PD1uJiZpLmVuZD49bil7ci5fZ2V0QnlVaWQodC51aWQsaS5kYXRhKXx8KHIuX2lzU2VydmVyR3JvdXBlZCgpP2kuZGF0YS5zcGxpY2UobiwwLHIuX3dyYXBJbkVtcHR5R3JvdXAodCkpOmkuZGF0YS5zcGxpY2UobiwwLHQpKTticmVha31yLl91cGRhdGVSYW5nZXNMZW5ndGgoKX0sX3VwZGF0ZVJhbmdlc0xlbmd0aDpmdW5jdGlvbigpe2Zvcih2YXIgbixlPXRoaXMsbz1lLl9yYW5nZXN8fFtdLHM9by5sZW5ndGgscj0hMSxpPTAsdT0wLHQ9MDt0PHM7dCsrKW49b1t0XSx1PWUuX2ZsYXREYXRhKG4uZGF0YSwhMCkubGVuZ3RoLWYuYWJzKG4uZW5kLW4uc3RhcnQpLHJ8fDA9PT11P3ImJihuLnN0YXJ0Kz1pLG4uZW5kKz1pKToocj0hMCxpPXUsbi5lbmQrPWkpfX0pO2xpPXt9O2xpLmNyZWF0ZT1mdW5jdGlvbih0LHIsdSl7dmFyIHMsZj10LnRyYW5zcG9ydD9uLmV4dGVuZCh7fSx0LnRyYW5zcG9ydCk6bnVsbDtyZXR1cm4gZj8oZi5yZWFkPXR5cGVvZiBmLnJlYWQ9PT1vP3t1cmw6Zi5yZWFkfTpmLnJlYWQsImpzZG8iPT09dC50eXBlJiYoZi5kYXRhU291cmNlPXUpLHQudHlwZSYmKGkuZGF0YS50cmFuc3BvcnRzPWkuZGF0YS50cmFuc3BvcnRzfHx7fSxpLmRhdGEuc2NoZW1hcz1pLmRhdGEuc2NoZW1hc3x8e30saS5kYXRhLnRyYW5zcG9ydHNbdC50eXBlXT9nKGkuZGF0YS50cmFuc3BvcnRzW3QudHlwZV0pP2Y9ZSghMCx7fSxpLmRhdGEudHJhbnNwb3J0c1t0LnR5cGVdLGYpOnM9bmV3IGkuZGF0YS50cmFuc3BvcnRzW3QudHlwZV0oZShmLHtkYXRhOnJ9KSk6aS5sb2dUb0NvbnNvbGUoIlVua25vd24gRGF0YVNvdXJjZSB0cmFuc3BvcnQgdHlwZSAnIit0LnR5cGUrIicuXG5WZXJpZnkgdGhhdCByZWdpc3RyYXRpb24gc2NyaXB0cyBmb3IgdGhpcyB0eXBlIGFyZSBpbmNsdWRlZCBhZnRlciBLZW5kbyBVSSBvbiB0aGUgcGFnZS4iLCJ3YXJuIiksdC5zY2hlbWE9ZSghMCx7fSxpLmRhdGEuc2NoZW1hc1t0LnR5cGVdLHQuc2NoZW1hKSksc3x8KHM9aChmLnJlYWQpP2Y6bmV3IGhpKGYpKSk6cz1uZXcgc2koe2RhdGE6dC5kYXRhfHxbXX0pLHN9O2wuY3JlYXRlPWZ1bmN0aW9uKG4peyhjKG4pfHxuIGluc3RhbmNlb2YgdikmJihuPXtkYXRhOm59KTt2YXIgbyxwLHMscj1ufHx7fSx1PXIuZGF0YSxmPXIuZmllbGRzLGg9ci50YWJsZSxhPXIuc2VsZWN0LHk9e307aWYodXx8IWZ8fHIudHJhbnNwb3J0fHwoaD91PWJ1KGgsZik6YSYmKHU9d3UoYSxmKSxyLmdyb3VwPT09dCYmdVswXSYmdVswXS5vcHRncm91cCE9PXQmJihyLmdyb3VwPSJvcHRncm91cCIpKSksaS5kYXRhLk1vZGVsJiZmJiYoIXIuc2NoZW1hfHwhci5zY2hlbWEubW9kZWwpKXtmb3Iobz0wLHA9Zi5sZW5ndGg7bzxwO28rKylzPWZbb10scy50eXBlJiYoeVtzLmZpZWxkXT1zKTtrKHkpfHwoci5zY2hlbWE9ZSghMCxyLnNjaGVtYSx7bW9kZWw6e2ZpZWxkczp5fX0pKX1yZXR1cm4gci5kYXRhPXUsYT1udWxsLHIuc2VsZWN0PW51bGwsaD1udWxsLHIudGFibGU9bnVsbCxyIGluc3RhbmNlb2YgbD9yOm5ldyBsKHIpfTthaT1wLmRlZmluZSh7aWRGaWVsZDoiaWQiLGluaXQ6ZnVuY3Rpb24obil7dmFyIGYsdD10aGlzLHI9dC5oYXNDaGlsZHJlbnx8biYmbi5oYXNDaGlsZHJlbixzPSJpdGVtcyIsdT17fTtpLmRhdGEuTW9kZWwuZm4uaW5pdC5jYWxsKHQsbik7dHlwZW9mIHQuY2hpbGRyZW49PT1vJiYocz10LmNoaWxkcmVuKTt1PXtzY2hlbWE6e2RhdGE6cyxtb2RlbDp7aGFzQ2hpbGRyZW46cixpZDp0LmlkRmllbGQsZmllbGRzOnQuZmllbGRzfX19O3R5cGVvZiB0LmNoaWxkcmVuIT09byYmZSh1LHQuY2hpbGRyZW4pO3UuZGF0YT1uO3J8fChyPXUuc2NoZW1hLmRhdGEpO3R5cGVvZiByPT09byYmKHI9aS5nZXR0ZXIocikpO2gocikmJihmPXIuY2FsbCh0LHQpLHQuaGFzQ2hpbGRyZW49KCFmfHwwIT09Zi5sZW5ndGgpJiYhIWYpO3QuX2NoaWxkcmVuT3B0aW9ucz11O3QuaGFzQ2hpbGRyZW4mJnQuX2luaXRDaGlsZHJlbigpO3QuX2xvYWRlZD0hKCFufHwhbi5fbG9hZGVkKX0sX2luaXRDaGlsZHJlbjpmdW5jdGlvbigpe3ZhciB0LGkscixuPXRoaXM7bi5jaGlsZHJlbiBpbnN0YW5jZW9mIGR8fCh0PW4uY2hpbGRyZW49bmV3IGQobi5fY2hpbGRyZW5PcHRpb25zKSxpPXQudHJhbnNwb3J0LHI9aS5wYXJhbWV0ZXJNYXAsaS5wYXJhbWV0ZXJNYXA9ZnVuY3Rpb24odCxpKXtyZXR1cm4gdFtuLmlkRmllbGR8fCJpZCJdPW4uaWQsciYmKHQ9cih0LGkpKSx0fSx0LnBhcmVudD1mdW5jdGlvbigpe3JldHVybiBufSx0LmJpbmQodSxmdW5jdGlvbih0KXt0Lm5vZGU9dC5ub2RlfHxuO24udHJpZ2dlcih1LHQpfSksdC5iaW5kKHR0LGZ1bmN0aW9uKHQpe3ZhciBpPW4ucGFyZW50KCk7aSYmKHQubm9kZT10Lm5vZGV8fG4saS50cmlnZ2VyKHR0LHQpKX0pLG4uX3VwZGF0ZUNoaWxkcmVuRmllbGQoKSl9LGFwcGVuZDpmdW5jdGlvbihuKXt0aGlzLl9pbml0Q2hpbGRyZW4oKTt0aGlzLmxvYWRlZCghMCk7dGhpcy5jaGlsZHJlbi5hZGQobil9LGhhc0NoaWxkcmVuOiExLGxldmVsOmZ1bmN0aW9uKCl7Zm9yKHZhciBuPXRoaXMucGFyZW50Tm9kZSgpLHQ9MDtuJiZuLnBhcmVudE5vZGU7KXQrKyxuPW4ucGFyZW50Tm9kZT9uLnBhcmVudE5vZGUoKTpudWxsO3JldHVybiB0fSxfdXBkYXRlQ2hpbGRyZW5GaWVsZDpmdW5jdGlvbigpe3ZhciBuPXRoaXMuX2NoaWxkcmVuT3B0aW9ucy5zY2hlbWEuZGF0YTt0aGlzW258fCJpdGVtcyJdPXRoaXMuY2hpbGRyZW4uZGF0YSgpfSxfY2hpbGRyZW5Mb2FkZWQ6ZnVuY3Rpb24oKXt0aGlzLl9sb2FkZWQ9ITA7dGhpcy5fdXBkYXRlQ2hpbGRyZW5GaWVsZCgpfSxsb2FkOmZ1bmN0aW9uKCl7dmFyIGksZixyPXt9LGU9Il9xdWVyeSI7cmV0dXJuIHRoaXMuaGFzQ2hpbGRyZW4/KHRoaXMuX2luaXRDaGlsZHJlbigpLGk9dGhpcy5jaGlsZHJlbixyW3RoaXMuaWRGaWVsZHx8ImlkIl09dGhpcy5pZCx0aGlzLl9sb2FkZWR8fChpLl9kYXRhPXQsZT0icmVhZCIpLGkub25lKHUsdyh0aGlzLl9jaGlsZHJlbkxvYWRlZCx0aGlzKSksdGhpcy5fbWF0Y2hGaWx0ZXImJihyLmZpbHRlcj17ZmllbGQ6Il9tYXRjaEZpbHRlciIsb3BlcmF0b3I6ImVxIix2YWx1ZTohMH0pLGY9aVtlXShyKSk6dGhpcy5sb2FkZWQoITApLGZ8fG4uRGVmZXJyZWQoKS5yZXNvbHZlKCkucHJvbWlzZSgpfSxwYXJlbnROb2RlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5wYXJlbnQoKTtyZXR1cm4gbi5wYXJlbnQoKX0sbG9hZGVkOmZ1bmN0aW9uKG4pe3JldHVybiBuPT09dD90aGlzLl9sb2FkZWQ6KHRoaXMuX2xvYWRlZD1uLHQpfSxzaG91bGRTZXJpYWxpemU6ZnVuY3Rpb24obil7cmV0dXJuIHAuZm4uc2hvdWxkU2VyaWFsaXplLmNhbGwodGhpcyxuKSYmImNoaWxkcmVuIiE9PW4mJiJfbG9hZGVkIiE9PW4mJiJoYXNDaGlsZHJlbiIhPT1uJiYiX2NoaWxkcmVuT3B0aW9ucyIhPT1ufX0pO2Q9bC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24obil7dmFyIHQ9YWkuZGVmaW5lKHtjaGlsZHJlbjpufSk7bi5maWx0ZXImJiFuLnNlcnZlckZpbHRlcmluZyYmKHRoaXMuX2hpZXJhcmNoaWNhbEZpbHRlcj1uLmZpbHRlcixuLmZpbHRlcj1udWxsKTtsLmZuLmluaXQuY2FsbCh0aGlzLGUoITAse30se3NjaGVtYTp7bW9kZWxCYXNlOnQsbW9kZWw6dH19LG4pKTt0aGlzLl9hdHRhY2hCdWJibGVIYW5kbGVycygpfSxfYXR0YWNoQnViYmxlSGFuZGxlcnM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uX2RhdGEuYmluZCh0dCxmdW5jdGlvbih0KXtuLnRyaWdnZXIodHQsdCl9KX0scmVhZDpmdW5jdGlvbihuKXt2YXIgdD1sLmZuLnJlYWQuY2FsbCh0aGlzLG4pO3JldHVybiB0aGlzLl9oaWVyYXJjaGljYWxGaWx0ZXImJih0aGlzLl9kYXRhJiZ0aGlzLl9kYXRhLmxlbmd0aD4wP3RoaXMuZmlsdGVyKHRoaXMuX2hpZXJhcmNoaWNhbEZpbHRlcik6KHRoaXMub3B0aW9ucy5maWx0ZXI9dGhpcy5faGllcmFyY2hpY2FsRmlsdGVyLHRoaXMuX2ZpbHRlcj1iKHRoaXMub3B0aW9ucy5maWx0ZXIpLHRoaXMuX2hpZXJhcmNoaWNhbEZpbHRlcj1udWxsKSksdH0scmVtb3ZlOmZ1bmN0aW9uKG4pe3ZhciByLHQ9bi5wYXJlbnROb2RlKCksaT10aGlzO3JldHVybiB0JiZ0Ll9pbml0Q2hpbGRyZW4mJihpPXQuY2hpbGRyZW4pLHI9bC5mbi5yZW1vdmUuY2FsbChpLG4pLHQmJiFpLmRhdGEoKS5sZW5ndGgmJih0Lmhhc0NoaWxkcmVuPSExKSxyfSxzdWNjZXNzOnlyKCJzdWNjZXNzIiksZGF0YTp5cigiZGF0YSIpLGluc2VydDpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMucGFyZW50KCk7cmV0dXJuIGkmJmkuX2luaXRDaGlsZHJlbiYmKGkuaGFzQ2hpbGRyZW49ITAsaS5faW5pdENoaWxkcmVuKCkpLGwuZm4uaW5zZXJ0LmNhbGwodGhpcyxuLHQpfSxmaWx0ZXI6ZnVuY3Rpb24obil7cmV0dXJuIG49PT10P3RoaXMuX2ZpbHRlcjooIXRoaXMub3B0aW9ucy5zZXJ2ZXJGaWx0ZXJpbmcmJnRoaXMuX21hcmtIaWVyYXJjaGljYWxRdWVyeShuKSYmKG49e2xvZ2ljOiJvciIsZmlsdGVyczpbbix7ZmllbGQ6Il9tYXRjaEZpbHRlciIsb3BlcmF0b3I6ImVxdWFscyIsdmFsdWU6ITB9XX0pLHRoaXMudHJpZ2dlcigicmVzZXQiKSx0aGlzLl9xdWVyeSh7ZmlsdGVyOm4scGFnZToxfSksdCl9LF9tYXJrSGllcmFyY2hpY2FsUXVlcnk6ZnVuY3Rpb24odCl7dmFyIGksbyx1LGYsZSxzPXRoaXMub3B0aW9ucy5hY2NlbnRGb2xkaW5nRmlsdGVyaW5nO3JldHVybiB0PXM/bi5leHRlbmQoe30sYih0KSx7YWNjZW50Rm9sZGluZ0ZpbHRlcmluZzpzfSk6Yih0KSx0JiYwIT09dC5maWx0ZXJzLmxlbmd0aD8oaT1yLmZpbHRlckV4cHIodCksdT1pLmZpZWxkcyxmPWkub3BlcmF0b3JzLG89ZT1GdW5jdGlvbigiZCwgX19mLCBfX28iLCJyZXR1cm4gIitpLmV4cHJlc3Npb24pLCh1Lmxlbmd0aHx8Zi5sZW5ndGgpJiYoZT1mdW5jdGlvbihuKXtyZXR1cm4gbyhuLHUsZil9KSx0aGlzLl91cGRhdGVIaWVyYXJjaGljYWxGaWx0ZXIoZSksITApOih0aGlzLl91cGRhdGVIaWVyYXJjaGljYWxGaWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4hMH0pLCExKX0sX3VwZGF0ZUhpZXJhcmNoaWNhbEZpbHRlcjpmdW5jdGlvbihuKXtmb3IodmFyIHQscj10aGlzLl9kYXRhLHU9ITEsaT0wO2k8ci5sZW5ndGg7aSsrKXQ9cltpXSx0Lmhhc0NoaWxkcmVuPyh0Ll9tYXRjaEZpbHRlcj10LmNoaWxkcmVuLl91cGRhdGVIaWVyYXJjaGljYWxGaWx0ZXIobiksdC5fbWF0Y2hGaWx0ZXJ8fCh0Ll9tYXRjaEZpbHRlcj1uKHQpKSk6dC5fbWF0Y2hGaWx0ZXI9bih0KSx0Ll9tYXRjaEZpbHRlciYmKHU9ITApO3JldHVybiB1fSxfZmluZDpmdW5jdGlvbihuLHQpe3ZhciBpLGUscixmLHU9dGhpcy5fZGF0YTtpZih1KXtpZihyPWwuZm5bbl0uY2FsbCh0aGlzLHQpKXJldHVybiByO2Zvcih1PXRoaXMuX2ZsYXREYXRhKHRoaXMuX2RhdGEpLGk9MCxlPXUubGVuZ3RoO2k8ZTtpKyspaWYoZj11W2ldLmNoaWxkcmVuLGYgaW5zdGFuY2VvZiBkJiYocj1mW25dKHQpKSlyZXR1cm4gcn19LGdldDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fZmluZCgiZ2V0IixuKX0sZ2V0QnlVaWQ6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2ZpbmQoImdldEJ5VWlkIixuKX19KTtkLmNyZWF0ZT1mdW5jdGlvbihuKXtuPW4mJm4ucHVzaD97ZGF0YTpufTpuO3ZhciB0PW58fHt9LGk9dC5kYXRhLHI9dC5maWVsZHMsdT10Lmxpc3Q7cmV0dXJuIGkmJmkuX2RhdGFTb3VyY2U/aS5fZGF0YVNvdXJjZTooaXx8IXJ8fHQudHJhbnNwb3J0fHx1JiYoaT1wcih1LHIpKSx0LmRhdGE9aSx0IGluc3RhbmNlb2YgZD90Om5ldyBkKHQpKX07dmk9aS5PYnNlcnZhYmxlLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihuLHQscil7aS5PYnNlcnZhYmxlLmZuLmluaXQuY2FsbCh0aGlzKTt0aGlzLl9wcmVmZXRjaGluZz0hMTt0aGlzLmRhdGFTb3VyY2U9bjt0aGlzLnByZWZldGNoPSFyO3ZhciB1PXRoaXM7bi5iaW5kKCJjaGFuZ2UiLGZ1bmN0aW9uKCl7dS5fY2hhbmdlKCl9KTtuLmJpbmQoInJlc2V0IixmdW5jdGlvbigpe3UuX3Jlc2V0KCl9KTt0aGlzLl9zeW5jV2l0aERhdGFTb3VyY2UoKTt0aGlzLnNldFZpZXdTaXplKHQpfSxzZXRWaWV3U2l6ZTpmdW5jdGlvbihuKXt0aGlzLnZpZXdTaXplPW47dGhpcy5fcmVjYWxjdWxhdGUoKX0sYXQ6ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5wYWdlU2l6ZSxyPSEwO3JldHVybiBuPj10aGlzLnRvdGFsKCk/KHRoaXMudHJpZ2dlcigiZW5kcmVhY2hlZCIse2luZGV4Om59KSxudWxsKTp0aGlzLnVzZVJhbmdlcz90aGlzLnVzZVJhbmdlcz8oKG48dGhpcy5kYXRhT2Zmc2V0fHxuPj10aGlzLnNraXAraSkmJihyPXRoaXMucmFuZ2UoTWF0aC5mbG9vcihuL2kpKmkpKSxuPT09dGhpcy5wcmVmZXRjaFRocmVzaG9sZCYmdGhpcy5fcHJlZmV0Y2goKSxuPT09dGhpcy5taWRQYWdlVGhyZXNob2xkP3RoaXMucmFuZ2UodGhpcy5uZXh0TWlkUmFuZ2UsITApOm49PT10aGlzLm5leHRQYWdlVGhyZXNob2xkP3RoaXMucmFuZ2UodGhpcy5uZXh0RnVsbFJhbmdlKTpuPT09dGhpcy5wdWxsQmFja1RocmVzaG9sZCYmdGhpcy5yYW5nZSh0aGlzLm9mZnNldD09PXRoaXMuc2tpcD90aGlzLnByZXZpb3VzTWlkUmFuZ2U6dGhpcy5wcmV2aW91c0Z1bGxSYW5nZSkscj90aGlzLmRhdGFTb3VyY2UuYXQobi10aGlzLmRhdGFPZmZzZXQpOih0aGlzLnRyaWdnZXIoImVuZHJlYWNoZWQiLHtpbmRleDpufSksbnVsbCkpOnQ6dGhpcy5kYXRhU291cmNlLnZpZXcoKVtuXX0saW5kZXhPZjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5kYXRhU291cmNlLmRhdGEoKS5pbmRleE9mKG4pK3RoaXMuZGF0YU9mZnNldH0sdG90YWw6ZnVuY3Rpb24oKXtyZXR1cm4gcGFyc2VJbnQodGhpcy5kYXRhU291cmNlLnRvdGFsKCksMTApfSxuZXh0OmZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0PW4ucGFnZVNpemUsaT1uLnNraXAtbi52aWV3U2l6ZSt0LHI9Zi5tYXgoZi5mbG9vcihpL3QpLDApKnQ7dGhpcy5vZmZzZXQ9aTt0aGlzLmRhdGFTb3VyY2UucHJlZmV0Y2gocix0LGZ1bmN0aW9uKCl7bi5fZ29Ub1JhbmdlKGksITApfSl9LHJhbmdlOmZ1bmN0aW9uKG4sdCl7aWYodGhpcy5vZmZzZXQ9PT1uKXJldHVybiEwO3ZhciByPXRoaXMsaT10aGlzLnBhZ2VTaXplLHU9Zi5tYXgoZi5mbG9vcihuL2kpLDApKmksZT10aGlzLmRhdGFTb3VyY2U7cmV0dXJuIHQmJih1Kz1pKSxlLmluUmFuZ2UobixpKT8odGhpcy5vZmZzZXQ9bix0aGlzLl9yZWNhbGN1bGF0ZSgpLHRoaXMuX2dvVG9SYW5nZShuKSwhMCk6IXRoaXMucHJlZmV0Y2h8fChlLnByZWZldGNoKHUsaSxmdW5jdGlvbigpe3Iub2Zmc2V0PW47ci5fcmVjYWxjdWxhdGUoKTtyLl9nb1RvUmFuZ2UobiwhMCl9KSwhMSl9LHN5bmNEYXRhU291cmNlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vZmZzZXQ7dGhpcy5vZmZzZXQ9bnVsbDt0aGlzLnJhbmdlKG4pfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy51bmJpbmQoKX0sX3ByZWZldGNoOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxuPXRoaXMucGFnZVNpemUsdD10aGlzLnNraXArbixyPXRoaXMuZGF0YVNvdXJjZTtyLmluUmFuZ2UodCxuKXx8dGhpcy5fcHJlZmV0Y2hpbmd8fCF0aGlzLnByZWZldGNofHwodGhpcy5fcHJlZmV0Y2hpbmc9ITAsdGhpcy50cmlnZ2VyKCJwcmVmZXRjaGluZyIse3NraXA6dCx0YWtlOm59KSxyLnByZWZldGNoKHQsbixmdW5jdGlvbigpe2kuX3ByZWZldGNoaW5nPSExO2kudHJpZ2dlcigicHJlZmV0Y2hlZCIse3NraXA6dCx0YWtlOm59KX0pKX0sX2dvVG9SYW5nZTpmdW5jdGlvbihuLHQpe3RoaXMub2Zmc2V0PT09biYmKHRoaXMuZGF0YU9mZnNldD1uLHRoaXMuX2V4cGFuZGluZz10LHRoaXMuZGF0YVNvdXJjZS5yYW5nZShuLHRoaXMucGFnZVNpemUpLHRoaXMuZGF0YVNvdXJjZS5lbmFibGVSZXF1ZXN0c0luUHJvZ3Jlc3MoKSl9LF9yZXNldDpmdW5jdGlvbigpe3RoaXMuX3N5bmNQZW5kaW5nPSEwfSxfY2hhbmdlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5kYXRhU291cmNlO3RoaXMubGVuZ3RoPXRoaXMudXNlUmFuZ2VzP24ubGFzdFJhbmdlKCkuZW5kOm4udmlldygpLmxlbmd0aDt0aGlzLl9zeW5jUGVuZGluZyYmKHRoaXMuX3N5bmNXaXRoRGF0YVNvdXJjZSgpLHRoaXMuX3JlY2FsY3VsYXRlKCksdGhpcy5fc3luY1BlbmRpbmc9ITEsdGhpcy50cmlnZ2VyKCJyZXNldCIse29mZnNldDp0aGlzLm9mZnNldH0pKTt0aGlzLnRyaWdnZXIoInJlc2l6ZSIpO3RoaXMuX2V4cGFuZGluZyYmdGhpcy50cmlnZ2VyKCJleHBhbmQiKTtkZWxldGUgdGhpcy5fZXhwYW5kaW5nfSxfc3luY1dpdGhEYXRhU291cmNlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5kYXRhU291cmNlO3RoaXMuX2ZpcnN0SXRlbVVpZD1uLmZpcnN0SXRlbVVpZCgpO3RoaXMuZGF0YU9mZnNldD10aGlzLm9mZnNldD1uLnNraXAoKXx8MDt0aGlzLnBhZ2VTaXplPW4ucGFnZVNpemUoKTt0aGlzLnVzZVJhbmdlcz1uLm9wdGlvbnMuc2VydmVyUGFnaW5nfSxfcmVjYWxjdWxhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhZ2VTaXplLHI9dGhpcy5vZmZzZXQsaT10aGlzLnZpZXdTaXplLG49TWF0aC5jZWlsKHIvdCkqdDt0aGlzLnNraXA9bjt0aGlzLm1pZFBhZ2VUaHJlc2hvbGQ9bit0LTE7dGhpcy5uZXh0UGFnZVRocmVzaG9sZD1uK2ktMTt0aGlzLnByZWZldGNoVGhyZXNob2xkPW4rTWF0aC5mbG9vcih0LzMqMik7dGhpcy5wdWxsQmFja1RocmVzaG9sZD10aGlzLm9mZnNldC0xO3RoaXMubmV4dE1pZFJhbmdlPW4rdC1pO3RoaXMubmV4dEZ1bGxSYW5nZT1uO3RoaXMucHJldmlvdXNNaWRSYW5nZT1yLWk7dGhpcy5wcmV2aW91c0Z1bGxSYW5nZT1uLXR9fSk7Z3I9aS5PYnNlcnZhYmxlLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihuLHQpe3ZhciByPXRoaXM7aS5PYnNlcnZhYmxlLmZuLmluaXQuY2FsbChyKTt0aGlzLmRhdGFTb3VyY2U9bjt0aGlzLmJhdGNoU2l6ZT10O3RoaXMuX3RvdGFsPTA7dGhpcy5idWZmZXI9bmV3IHZpKG4sMyp0KTt0aGlzLmJ1ZmZlci5iaW5kKHtlbmRyZWFjaGVkOmZ1bmN0aW9uKG4pe3IudHJpZ2dlcigiZW5kcmVhY2hlZCIse2luZGV4Om4uaW5kZXh9KX0scHJlZmV0Y2hpbmc6ZnVuY3Rpb24obil7ci50cmlnZ2VyKCJwcmVmZXRjaGluZyIse3NraXA6bi5za2lwLHRha2U6bi50YWtlfSl9LHByZWZldGNoZWQ6ZnVuY3Rpb24obil7ci50cmlnZ2VyKCJwcmVmZXRjaGVkIix7c2tpcDpuLnNraXAsdGFrZTpuLnRha2V9KX0scmVzZXQ6ZnVuY3Rpb24oKXtyLl90b3RhbD0wO3IudHJpZ2dlcigicmVzZXQiKX0scmVzaXplOmZ1bmN0aW9uKCl7ci5fdG90YWw9TWF0aC5jZWlsKHRoaXMubGVuZ3RoL3IuYmF0Y2hTaXplKTtyLnRyaWdnZXIoInJlc2l6ZSIse3RvdGFsOnIudG90YWwoKSxvZmZzZXQ6dGhpcy5vZmZzZXR9KX19KX0sc3luY0RhdGFTb3VyY2U6ZnVuY3Rpb24oKXt0aGlzLmJ1ZmZlci5zeW5jRGF0YVNvdXJjZSgpfSxhdDpmdW5jdGlvbihuKXt2YXIgcix0LGk9dGhpcy5idWZmZXIsdT1uKnRoaXMuYmF0Y2hTaXplLGU9dGhpcy5iYXRjaFNpemUsZj1bXTtmb3IoaS5vZmZzZXQ+dSYmaS5hdChpLm9mZnNldC0xKSx0PTA7dDxlJiYocj1pLmF0KHUrdCksbnVsbCE9PXIpO3QrKylmLnB1c2gocik7cmV0dXJuIGZ9LHRvdGFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvdGFsfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5idWZmZXIuZGVzdHJveSgpO3RoaXMudW5iaW5kKCl9fSk7ZSghMCxpLmRhdGEse3JlYWRlcnM6e2pzb246Y2l9LFF1ZXJ5OnIsRGF0YVNvdXJjZTpsLEhpZXJhcmNoaWNhbERhdGFTb3VyY2U6ZCxOb2RlOmFpLE9ic2VydmFibGVPYmplY3Q6cyxPYnNlcnZhYmxlQXJyYXk6dixMYXp5T2JzZXJ2YWJsZUFycmF5Om90LExvY2FsVHJhbnNwb3J0OnNpLFJlbW90ZVRyYW5zcG9ydDpoaSxDYWNoZTpmdCxEYXRhUmVhZGVyOmNpLE1vZGVsOnAsQnVmZmVyOnZpLEJhdGNoQnVmZmVyOmdyfSl9KHdpbmRvdy5rZW5kby5qUXVlcnkpLHdpbmRvdy5rZW5kb30sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmU6ZnVuY3Rpb24obix0LGkpeyhpfHx0KSgpfSk7Ci8qIQogKiBDb3B5cmlnaHQgMjAyMCBQcm9ncmVzcyBTb2Z0d2FyZSBDb3Jwb3JhdGlvbiBhbmQvb3Igb25lIG9mIGl0cyBzdWJzaWRpYXJpZXMgb3IgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCiFmdW5jdGlvbihuLHQpe3QoImtlbmRvLmxpc3QubWluIixbImtlbmRvLmRhdGEubWluIiwia2VuZG8ucG9wdXAubWluIl0sbil9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gbyhuLGkpe3JldHVybiBuIT09dCYmIiIhPT1uJiZudWxsIT09biYmKCJib29sZWFuIj09PWk/KCJib29sZWFuIiE9dHlwZW9mIG4mJihuPSJ0cnVlIj09PW4udG9Mb3dlckNhc2UoKSksbj0hIW4pOiJudW1iZXIiPT09aT9uPStuOiJzdHJpbmciPT09aSYmKG49IiIrbikpLG59ZnVuY3Rpb24gcyhuKXtyZXR1cm4gbltuLmxlbmd0aC0xXX1mdW5jdGlvbiB3KG4pe3ZhciB0PW4uc2VsZWN0ZWRJbmRleDtyZXR1cm4gdD4tMT9uLm9wdGlvbnNbdF06e319ZnVuY3Rpb24gZHQobix0KXt2YXIgcixmLGksdSxoPXQubGVuZ3RoLGU9bi5sZW5ndGgsbz1bXSxzPVtdO2lmKGUpZm9yKGk9MDtpPGU7aSsrKXtmb3Iocj1uW2ldLGY9ITEsdT0wO3U8aDt1KyspaWYocj09PXRbdV0pe2Y9ITA7by5wdXNoKHtpbmRleDppLGl0ZW06cn0pO2JyZWFrfWZ8fHMucHVzaChyKX1yZXR1cm57Y2hhbmdlZDpvLHVuY2hhbmdlZDpzfX1mdW5jdGlvbiBudCh0KXtyZXR1cm4hKCF0fHxuLmlzRW1wdHlPYmplY3QodCkpJiYhKHQuZmlsdGVycyYmIXQuZmlsdGVycy5sZW5ndGgpfWZ1bmN0aW9uIGIodCxpKXt2YXIgdSxyPSExO3JldHVybiB0LmZpbHRlcnMmJih1PW4uZ3JlcCh0LmZpbHRlcnMsZnVuY3Rpb24obil7cmV0dXJuIHI9YihuLGkpLG4uZmlsdGVycz9uLmZpbHRlcnMubGVuZ3RoOm4uZmllbGQhPWl9KSxyfHx0LmZpbHRlcnMubGVuZ3RoPT09dS5sZW5ndGh8fChyPSEwKSx0LmZpbHRlcnM9dSkscn12YXIgaCx0dCxpPXdpbmRvdy5rZW5kbyxsPWkudWksaXQ9aS5fb3V0ZXJIZWlnaHQscnQ9L15cZCsoXC5cZCspPyUkL2ksYz1sLldpZGdldCxmPWkua2V5cyxlPWkuc3VwcG9ydCxndD1pLmh0bWxFbmNvZGUsdXQ9aS5fYWN0aXZlRWxlbWVudCxmdD1pLl9vdXRlcldpZHRoLG5pPWkuZGF0YS5PYnNlcnZhYmxlQXJyYXkseT0iaWQiLHU9ImNoYW5nZSIsZXQ9Imstc3RhdGUtZm9jdXNlZCIsaz0iay1zdGF0ZS1ob3ZlciIsb3Q9ImstaS1sb2FkaW5nIixzdD0iLmstZ3JvdXAtaGVhZGVyIixodD0iLmstaXRlbSIsdGk9Il9sYWJlbCIsY3Q9Im9wZW4iLGx0PSJjbG9zZSIscD0iY2FzY2FkZSIsZD0ic2VsZWN0IixhdD0ic2VsZWN0ZWQiLHZ0PSJyZXF1ZXN0U3RhcnQiLHl0PSJyZXF1ZXN0RW5kIixpaT0iYmx1ciIscmk9ImZvY3VzIix1aT0iZm9jdXNvdXQiLGE9bi5leHRlbmQscj1uLnByb3h5LGZpPW4uaXNBcnJheSxnPWUuYnJvd3NlcixwdD0iay1oaWRkZW4iLHd0PSJ3aWR0aCIsYnQ9Zy5tc2llLGVpPWJ0JiZnLnZlcnNpb248OSxvaT0vIi9nLGt0PXtDb21ib0JveDpbIkRyb3BEb3duTGlzdCIsIk11bHRpQ29sdW1uQ29tYm9Cb3giXSxEcm9wRG93bkxpc3Q6WyJDb21ib0JveCIsIk11bHRpQ29sdW1uQ29tYm9Cb3giXSxNdWx0aUNvbHVtbkNvbWJvQm94OlsiQ29tYm9Cb3giLCJEcm9wRG93bkxpc3QiXX0sdj1pLnVpLkRhdGFCb3VuZFdpZGdldC5leHRlbmQoe2luaXQ6ZnVuY3Rpb24odCx1KXt2YXIgZSxmPXRoaXMsbz1mLm5zO2MuZm4uaW5pdC5jYWxsKGYsdCx1KTt0PWYuZWxlbWVudDt1PWYub3B0aW9ucztmLl9pc1NlbGVjdD10LmlzKGQpO2YuX2lzU2VsZWN0JiZmLmVsZW1lbnRbMF0ubGVuZ3RoJiYodS5kYXRhU291cmNlfHwodS5kYXRhVGV4dEZpZWxkPXUuZGF0YVRleHRGaWVsZHx8InRleHQiLHUuZGF0YVZhbHVlRmllbGQ9dS5kYXRhVmFsdWVGaWVsZHx8InZhbHVlIikpO2YudWw9bignPHVsIHVuc2VsZWN0YWJsZT0ib24iIGNsYXNzPSJrLWxpc3Qgay1yZXNldCIvPicpLmF0dHIoe3RhYkluZGV4Oi0xLCJhcmlhLWhpZGRlbiI6ITB9KTtmLmxpc3Q9bigiPGRpdiBjbGFzcz0nay1saXN0LWNvbnRhaW5lcicvPiIpLmFwcGVuZChmLnVsKS5vbigibW91c2Vkb3duIitvLHIoZi5fbGlzdE1vdXNlZG93bixmKSk7ZT10LmF0dHIoeSk7ZXx8KGU9aS5ndWlkKCkpO2YubGlzdC5hdHRyKHksZSsiLWxpc3QiKTtmLnVsLmF0dHIoeSxlKyJfbGlzdGJveCIpO3UuY29sdW1ucyYmdS5jb2x1bW5zLmxlbmd0aCYmKGYudWwucmVtb3ZlQ2xhc3MoImstbGlzdCIpLmFkZENsYXNzKCJrLWdyaWQtbGlzdCIpLGYuX2NvbHVtbnNIZWFkZXIoKSk7Zi5faGVhZGVyKCk7Zi5fbm9EYXRhKCk7Zi5fZm9vdGVyKCk7Zi5fYWNjZXNzb3JzKCk7Zi5faW5pdFZhbHVlKCl9LG9wdGlvbnM6e3ZhbHVlUHJpbWl0aXZlOiExLGZvb3RlclRlbXBsYXRlOiIiLGhlYWRlclRlbXBsYXRlOiIiLG5vRGF0YVRlbXBsYXRlOiEwLG1lc3NhZ2VzOntub0RhdGE6Ik5vIGRhdGEgZm91bmQuIixjbGVhcjoiY2xlYXIifX0sc2V0T3B0aW9uczpmdW5jdGlvbihuKXtjLmZuLnNldE9wdGlvbnMuY2FsbCh0aGlzLG4pO24mJm4uZW5hYmxlIT09dCYmKG4uZW5hYmxlZD1uLmVuYWJsZSk7bi5jb2x1bW5zJiZuLmNvbHVtbnMubGVuZ3RoJiZ0aGlzLl9jb2x1bW5zSGVhZGVyKCk7dGhpcy5faGVhZGVyKCk7dGhpcy5fbm9EYXRhKCk7dGhpcy5fZm9vdGVyKCk7dGhpcy5fcmVuZGVyRm9vdGVyKCk7dGhpcy5fcmVuZGVyTm9EYXRhKCl9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5fZm9jdXNlZC5mb2N1cygpfSxyZWFkb25seTpmdW5jdGlvbihuKXt0aGlzLl9lZGl0YWJsZSh7cmVhZG9ubHk6bj09PXR8fG4sZGlzYWJsZTohMX0pfSxlbmFibGU6ZnVuY3Rpb24obil7dGhpcy5fZWRpdGFibGUoe3JlYWRvbmx5OiExLGRpc2FibGU6IShuPW49PT10fHxuKX0pfSxfaGVhZGVyOmZ1bmN0aW9uKCl7dmFyIGUsdT10aGlzLHI9bih1LmhlYWRlciksZj11Lm9wdGlvbnMuaGVhZGVyVGVtcGxhdGU7cmV0dXJuIHRoaXMuX2FuZ3VsYXJFbGVtZW50KHIsImNsZWFudXAiKSxpLmRlc3Ryb3kociksci5yZW1vdmUoKSxmPyhlPSJmdW5jdGlvbiIhPXR5cGVvZiBmP2kudGVtcGxhdGUoZik6ZixyPW4oZSh7fSkpLHUuaGVhZGVyPXJbMF0/cjpudWxsLHUubGlzdC5wcmVwZW5kKHIpLHRoaXMuX2FuZ3VsYXJFbGVtZW50KHUuaGVhZGVyLCJjb21waWxlIiksdCk6KHUuaGVhZGVyPW51bGwsdCl9LF9jb2x1bW5zSGVhZGVyOmZ1bmN0aW9uKCl7dmFyIGYsbyx0LHMscix2LGgseSxjLGEsdSxsPXRoaXMsZT1uKGwuY29sdW1uc0hlYWRlcik7Zm9yKHRoaXMuX2FuZ3VsYXJFbGVtZW50KGUsImNsZWFudXAiKSxpLmRlc3Ryb3koZSksZS5yZW1vdmUoKSxmPSI8ZGl2IGNsYXNzPSdrLWdyaWQtaGVhZGVyJz48ZGl2IGNsYXNzPSdrLWdyaWQtaGVhZGVyLXdyYXAnPjx0YWJsZSByb2xlPSdwcmVzZW50YXRpb24nPiIsbz0iPGNvbGdyb3VwPiIsdD0iPHRyPiIscz0wO3M8dGhpcy5vcHRpb25zLmNvbHVtbnMubGVuZ3RoO3MrKylyPXRoaXMub3B0aW9ucy5jb2x1bW5zW3NdLHY9ci50aXRsZXx8ci5maWVsZHx8IiIsaD1yLmhlYWRlclRlbXBsYXRlfHx2LHk9ImZ1bmN0aW9uIiE9dHlwZW9mIGg/aS50ZW1wbGF0ZShoKTpoLGM9ci53aWR0aCxhPXBhcnNlSW50KGMsMTApLHU9IiIsYyYmIWlzTmFOKGEpJiYodSs9InN0eWxlPSd3aWR0aDoiLHUrPWEsdSs9cnQudGVzdChjKT8iJSI6InB4Iix1Kz0iOyciKSxvKz0iPGNvbCAiK3UrIi8+Iix0Kz0iPHRoIGNsYXNzPSdrLWhlYWRlcic+Iix0Kz15KHIpLHQrPSI8XC90aD4iO28rPSI8XC9jb2xncm91cD4iO3QrPSI8XC90cj4iO2YrPW87Zis9dDtmKz0iPFwvdGFibGU+PFwvZGl2PjxcL2Rpdj4iO2wuY29sdW1uc0hlYWRlcj1lPW4oZik7bC5saXN0LnByZXBlbmQoZSk7dGhpcy5fYW5ndWxhckVsZW1lbnQobC5jb2x1bW5zSGVhZGVyLCJjb21waWxlIil9LF9ub0RhdGE6ZnVuY3Rpb24oKXt2YXIgcj10aGlzLGY9bihyLm5vRGF0YSksdT1yLm9wdGlvbnMubm9EYXRhVGVtcGxhdGU9PT0hMD9yLm9wdGlvbnMubWVzc2FnZXMubm9EYXRhOnIub3B0aW9ucy5ub0RhdGFUZW1wbGF0ZTtyZXR1cm4gci5hbmd1bGFyKCJjbGVhbnVwIixmdW5jdGlvbigpe3JldHVybntlbGVtZW50czpmfX0pLGkuZGVzdHJveShmKSxmLnJlbW92ZSgpLHU/KHIubm9EYXRhPW4oJzxkaXYgY2xhc3M9Imstbm9kYXRhIiBzdHlsZT0iZGlzcGxheTpub25lIj48ZGl2PjxcL2Rpdj48XC9kaXY+JykuYXBwZW5kVG8oci5saXN0KSxyLm5vRGF0YVRlbXBsYXRlPSJmdW5jdGlvbiIhPXR5cGVvZiB1P2kudGVtcGxhdGUodSk6dSx0KTooci5ub0RhdGE9bnVsbCx0KX0sX2Zvb3RlcjpmdW5jdGlvbigpe3ZhciByPXRoaXMsZj1uKHIuZm9vdGVyKSx1PXIub3B0aW9ucy5mb290ZXJUZW1wbGF0ZTtyZXR1cm4gdGhpcy5fYW5ndWxhckVsZW1lbnQoZiwiY2xlYW51cCIpLGkuZGVzdHJveShmKSxmLnJlbW92ZSgpLHU/KHIuZm9vdGVyPW4oJzxkaXYgY2xhc3M9ImstZm9vdGVyIj48XC9kaXY+JykuYXBwZW5kVG8oci5saXN0KSxyLmZvb3RlclRlbXBsYXRlPSJmdW5jdGlvbiIhPXR5cGVvZiB1P2kudGVtcGxhdGUodSk6dSx0KTooci5mb290ZXI9bnVsbCx0KX0sX2xpc3RPcHRpb25zOmZ1bmN0aW9uKHQpe3ZhciB1PXRoaXMsZj11Lm9wdGlvbnMsZT1mLnZpcnR1YWwsbz17Y2hhbmdlOnIodS5fbGlzdENoYW5nZSx1KX0scz1yKHUuX2xpc3RCb3VuZCx1KTtyZXR1cm4gZT0ib2JqZWN0Ij09dHlwZW9mIGU/ZTp7fSx0PW4uZXh0ZW5kKHthdXRvQmluZDohMSxzZWxlY3RhYmxlOiEwLGRhdGFTb3VyY2U6dS5kYXRhU291cmNlLGNsaWNrOnIodS5fY2xpY2ssdSksYWN0aXZhdGU6cih1Ll9hY3RpdmF0ZUl0ZW0sdSksY29sdW1uczpmLmNvbHVtbnMsZGVhY3RpdmF0ZTpyKHUuX2RlYWN0aXZhdGVJdGVtLHUpLGRhdGFCaW5kaW5nOmZ1bmN0aW9uKCl7dS50cmlnZ2VyKCJkYXRhQmluZGluZyIpfSxkYXRhQm91bmQ6cyxoZWlnaHQ6Zi5oZWlnaHQsZGF0YVZhbHVlRmllbGQ6Zi5kYXRhVmFsdWVGaWVsZCxkYXRhVGV4dEZpZWxkOmYuZGF0YVRleHRGaWVsZCxncm91cFRlbXBsYXRlOmYuZ3JvdXBUZW1wbGF0ZSxmaXhlZEdyb3VwVGVtcGxhdGU6Zi5maXhlZEdyb3VwVGVtcGxhdGUsdGVtcGxhdGU6Zi50ZW1wbGF0ZX0sdCxlLG8pLHQudGVtcGxhdGV8fCh0LnRlbXBsYXRlPSIjOiIraS5leHByKHQuZGF0YVRleHRGaWVsZCwiZGF0YSIpKyIjIiksZi4kYW5ndWxhciYmKHQuJGFuZ3VsYXI9Zi4kYW5ndWxhciksdH0sX2luaXRMaXN0OmZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0PW4uX2xpc3RPcHRpb25zKHtzZWxlY3RlZEl0ZW1DaGFuZ2U6cihuLl9saXN0Q2hhbmdlLG4pfSk7bi5saXN0Vmlldz1uLm9wdGlvbnMudmlydHVhbD9uZXcgaS51aS5WaXJ0dWFsTGlzdChuLnVsLHQpOm5ldyBpLnVpLlN0YXRpY0xpc3Qobi51bCx0KTtuLmxpc3RWaWV3LmJpbmQoImxpc3RCb3VuZCIscihuLl9saXN0Qm91bmQsbikpO24uX3NldExpc3RWYWx1ZSgpfSxfc2V0TGlzdFZhbHVlOmZ1bmN0aW9uKG4pe249bnx8dGhpcy5vcHRpb25zLnZhbHVlO24hPT10JiZ0aGlzLmxpc3RWaWV3LnZhbHVlKG4pLmRvbmUocih0aGlzLl91cGRhdGVTZWxlY3Rpb25TdGF0ZSx0aGlzKSl9LF91cGRhdGVTZWxlY3Rpb25TdGF0ZTpuLm5vb3AsX2xpc3RNb3VzZWRvd246ZnVuY3Rpb24obil7dGhpcy5maWx0ZXJJbnB1dCYmdGhpcy5maWx0ZXJJbnB1dFswXT09PW4udGFyZ2V0fHxuLnByZXZlbnREZWZhdWx0KCl9LF9pc0ZpbHRlckVuYWJsZWQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnMuZmlsdGVyO3JldHVybiBuJiYibm9uZSIhPT1ufSxfaGlkZUNsZWFyOmZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLl9jbGVhciYmbi5fY2xlYXIuYWRkQ2xhc3MocHQpfSxfc2hvd0NsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fY2xlYXImJnRoaXMuX2NsZWFyLnJlbW92ZUNsYXNzKHB0KX0sX2NsZWFyVmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl9jbGVhclRleHQoKTt0aGlzLl9hY2Nlc3NvcigiIik7dGhpcy5saXN0Vmlldy52YWx1ZShbXSk7dGhpcy5faXNTZWxlY3QmJih0aGlzLl9jdXN0b21PcHRpb249dCk7dGhpcy5faXNGaWx0ZXJFbmFibGVkKCkmJiF0aGlzLm9wdGlvbnMuZW5mb3JjZU1pbkxlbmd0aCYmKHRoaXMuX2ZpbHRlcih7d29yZDoiIixvcGVuOiExfSksdGhpcy5vcHRpb25zLmhpZ2hsaWdodEZpcnN0JiZ0aGlzLmxpc3RWaWV3LmZvY3VzKDApKTt0aGlzLl9jaGFuZ2UoKX0sX2NsZWFyVGV4dDpmdW5jdGlvbigpe3RoaXMudGV4dCgiIil9LF9jbGVhckZpbHRlcjpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy52aXJ0dWFsfHx0aGlzLmxpc3RWaWV3LmJvdW5kKCExKTt0aGlzLl9maWx0ZXJTb3VyY2UoKX0sX2ZpbHRlclNvdXJjZTpmdW5jdGlvbihuLHQpe3ZhciByLGUsZj10aGlzLG89Zi5vcHRpb25zLGg9by5maWx0ZXJGaWVsZHMmJm4mJm4ubG9naWMmJm4uZmlsdGVycyYmbi5maWx0ZXJzLmxlbmd0aCxpPWYuZGF0YVNvdXJjZSx1PWEoe30saS5maWx0ZXIoKXx8e30pLHM9bnx8dS5maWx0ZXJzJiZ1LmZpbHRlcnMubGVuZ3RoJiYhbixjPWIodSxvLmRhdGFUZXh0RmllbGQpO2lmKHRoaXMuX2NsZWFyRmlsdGVyRXhwcmVzc2lvbnModSksIW4mJiFjfHwhZi50cmlnZ2VyKCJmaWx0ZXJpbmciLHtmaWx0ZXI6bn0pKXJldHVybiByPXtmaWx0ZXJzOltdLGxvZ2ljOiJhbmQifSxoP3IuZmlsdGVycy5wdXNoKG4pOnRoaXMuX3B1c2hGaWx0ZXJFeHByZXNzaW9uKHIsbiksbnQodSkmJihyLmxvZ2ljPT09dS5sb2dpYz9yLmZpbHRlcnM9ci5maWx0ZXJzLmNvbmNhdCh1LmZpbHRlcnMpOnIuZmlsdGVycy5wdXNoKHUpKSxmLl9jYXNjYWRpbmcmJnRoaXMubGlzdFZpZXcuc2V0RFNGaWx0ZXIociksZT1hKHt9LHtwYWdlOnM/MTppLnBhZ2UoKSxwYWdlU2l6ZTpzP2kub3B0aW9ucy5wYWdlU2l6ZTppLnBhZ2VTaXplKCksc29ydDppLnNvcnQoKSxmaWx0ZXI6aS5maWx0ZXIoKSxncm91cDppLmdyb3VwKCksYWdncmVnYXRlOmkuYWdncmVnYXRlKCl9LHtmaWx0ZXI6cn0pLGlbdD8icmVhZCI6InF1ZXJ5Il0oaS5fbWVyZ2VTdGF0ZShlKSl9LF9wdXNoRmlsdGVyRXhwcmVzc2lvbjpmdW5jdGlvbihuLHQpe250KHQpJiYiIiE9PXQudmFsdWUmJm4uZmlsdGVycy5wdXNoKHQpfSxfY2xlYXJGaWx0ZXJFeHByZXNzaW9uczpmdW5jdGlvbihuKXt2YXIgaSx0O2lmKG4uZmlsdGVycyl7Zm9yKHQ9MDt0PG4uZmlsdGVycy5sZW5ndGg7dCsrKSJmcm9tRmlsdGVyImluIG4uZmlsdGVyc1t0XSYmKGk9dCk7aXNOYU4oaSl8fG4uZmlsdGVycy5zcGxpY2UoaSwxKX19LF9hbmd1bGFyRWxlbWVudDpmdW5jdGlvbihuLHQpe24mJnRoaXMuYW5ndWxhcih0LGZ1bmN0aW9uKCl7cmV0dXJue2VsZW1lbnRzOm59fSl9LF9yZW5kZXJOb0RhdGE6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLG49dC5ub0RhdGE7biYmKHRoaXMuX2FuZ3VsYXJFbGVtZW50KG4sImNsZWFudXAiKSxuLmNoaWxkcmVuKCI6Zmlyc3QiKS5odG1sKHQubm9EYXRhVGVtcGxhdGUoe2luc3RhbmNlOnR9KSksdGhpcy5fYW5ndWxhckVsZW1lbnQobiwiY29tcGlsZSIpKX0sX3RvZ2dsZU5vRGF0YTpmdW5jdGlvbih0KXtuKHRoaXMubm9EYXRhKS50b2dnbGUodCl9LF90b2dnbGVIZWFkZXI6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5saXN0Vmlldy5jb250ZW50LnByZXYoc3QpO3QudG9nZ2xlKG4pfSxfcmVuZGVyRm9vdGVyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxuPXQuZm9vdGVyO24mJih0aGlzLl9hbmd1bGFyRWxlbWVudChuLCJjbGVhbnVwIiksbi5odG1sKHQuZm9vdGVyVGVtcGxhdGUoe2luc3RhbmNlOnR9KSksdGhpcy5fYW5ndWxhckVsZW1lbnQobiwiY29tcGlsZSIpKX0sX2FsbG93T3BlbmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubm9EYXRhVGVtcGxhdGV8fHRoaXMuZGF0YVNvdXJjZS5mbGF0VmlldygpLmxlbmd0aH0sX2luaXRWYWx1ZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMsdD1uLm9wdGlvbnMudmFsdWU7bnVsbCE9PXQ/bi5lbGVtZW50LnZhbCh0KToodD1uLl9hY2Nlc3NvcigpLG4ub3B0aW9ucy52YWx1ZT10KTtuLl9vbGQ9dH0sX2lnbm9yZUNhc2U6ZnVuY3Rpb24oKXt2YXIgbix0PXRoaXMsaT10LmRhdGFTb3VyY2UucmVhZGVyLm1vZGVsO2kmJmkuZmllbGRzJiYobj1pLmZpZWxkc1t0Lm9wdGlvbnMuZGF0YVRleHRGaWVsZF0sbiYmbi50eXBlJiYic3RyaW5nIiE9PW4udHlwZSYmKHQub3B0aW9ucy5pZ25vcmVDYXNlPSExKSl9LF9mb2N1czpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5saXN0Vmlldy5mb2N1cyhuKX0sX2ZpbHRlcjpmdW5jdGlvbihuKXt2YXIgaSxyLHQ9dGhpcyxmPXQub3B0aW9ucyxlPW4ud29yZCx1PWYuZmlsdGVyRmllbGRzLG89Zi5kYXRhVGV4dEZpZWxkO2lmKHUmJnUubGVuZ3RoKWZvcihpPXtsb2dpYzoib3IiLGZpbHRlcnM6W10sZnJvbUZpbHRlcjohMH0scj0wO3I8dS5sZW5ndGg7cisrKXRoaXMuX3B1c2hGaWx0ZXJFeHByZXNzaW9uKGksdC5fYnVpbGRFeHByZXNzaW9uKGUsdVtyXSkpO2Vsc2UgaT10Ll9idWlsZEV4cHJlc3Npb24oZSxvKTt0Ll9vcGVuPW4ub3Blbjt0Ll9maWx0ZXJTb3VyY2UoaSl9LF9idWlsZEV4cHJlc3Npb246ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLHI9aS5vcHRpb25zLHU9ci5pZ25vcmVDYXNlLGY9aS5kYXRhU291cmNlLm9wdGlvbnMuYWNjZW50Rm9sZGluZ0ZpbHRlcmluZztyZXR1cm57dmFsdWU6dT9mP24udG9Mb2NhbGVMb3dlckNhc2UoZik6bi50b0xvd2VyQ2FzZSgpOm4sZmllbGQ6dCxvcGVyYXRvcjpyLmZpbHRlcixpZ25vcmVDYXNlOnV9fSxfY2xlYXJCdXR0b246ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9dC5vcHRpb25zLm1lc3NhZ2VzLmNsZWFyO3QuX2NsZWFyfHwodC5fY2xlYXI9bignPHNwYW4gdW5zZWxlY3RhYmxlPSJvbiIgY2xhc3M9ImstaWNvbiBrLWNsZWFyLXZhbHVlIGstaS1jbG9zZSIgdGl0bGU9IicraSsnIj48XC9zcGFuPicpLmF0dHIoe3JvbGU6ImJ1dHRvbiIsdGFiSW5kZXg6LTF9KSk7dC5vcHRpb25zLmNsZWFyQnV0dG9ufHx0Ll9jbGVhci5yZW1vdmUoKTt0aGlzLl9oaWRlQ2xlYXIoKX0sc2VhcmNoOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMub3B0aW9uczt0PSJzdHJpbmciPT10eXBlb2YgdD90OnRoaXMuX2lucHV0VmFsdWUoKTtjbGVhclRpbWVvdXQodGhpcy5fdHlwaW5nVGltZW91dCk7KCFpLmVuZm9yY2VNaW5MZW5ndGgmJiF0Lmxlbmd0aHx8dC5sZW5ndGg+PWkubWluTGVuZ3RoKSYmKHRoaXMuX3N0YXRlPSJmaWx0ZXIiLHRoaXMubGlzdFZpZXcmJih0aGlzLmxpc3RWaWV3Ll9lbXB0eVNlYXJjaD0hbi50cmltKHQpLmxlbmd0aCksdGhpcy5faXNGaWx0ZXJFbmFibGVkKCk/dGhpcy5fZmlsdGVyKHt3b3JkOnQsb3BlbjohMH0pOnRoaXMuX3NlYXJjaEJ5V29yZCh0KSl9LGN1cnJlbnQ6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2ZvY3VzKG4pfSxpdGVtczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVsWzBdLmNoaWxkcmVufSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0PW4ubnM7Yy5mbi5kZXN0cm95LmNhbGwobik7bi5fdW5iaW5kRGF0YVNvdXJjZSgpO24ubGlzdFZpZXcuZGVzdHJveSgpO24ubGlzdC5vZmYodCk7bi5wb3B1cC5kZXN0cm95KCk7bi5fZm9ybSYmbi5fZm9ybS5vZmYoInJlc2V0IixuLl9yZXNldEhhbmRsZXIpfSxkYXRhSXRlbTpmdW5jdGlvbihpKXt2YXIgcj10aGlzO2lmKGk9PT10KXJldHVybiByLmxpc3RWaWV3LnNlbGVjdGVkRGF0YUl0ZW1zKClbMF07aWYoIm51bWJlciIhPXR5cGVvZiBpKXtpZihyLm9wdGlvbnMudmlydHVhbClyZXR1cm4gci5kYXRhU291cmNlLmdldEJ5VWlkKG4oaSkuZGF0YSgidWlkIikpO2k9bihyLml0ZW1zKCkpLmluZGV4KGkpfXJldHVybiByLmRhdGFTb3VyY2UuZmxhdFZpZXcoKVtpXX0sX2FjdGl2YXRlSXRlbTpmdW5jdGlvbigpe3ZhciBuPXRoaXMubGlzdFZpZXcuZm9jdXMoKTtuJiZ0aGlzLl9mb2N1c2VkLmFkZCh0aGlzLmZpbHRlcklucHV0KS5hdHRyKCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnQiLG4uYXR0cigiaWQiKSl9LF9kZWFjdGl2YXRlSXRlbTpmdW5jdGlvbigpe3RoaXMuX2ZvY3VzZWQuYWRkKHRoaXMuZmlsdGVySW5wdXQpLnJlbW92ZUF0dHIoImFyaWEtYWN0aXZlZGVzY2VuZGFudCIpfSxfYWNjZXNzb3JzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxyPXQuZWxlbWVudCxuPXQub3B0aW9ucyx1PWkuZ2V0dGVyLGY9ci5hdHRyKGkuYXR0cigidGV4dC1maWVsZCIpKSxlPXIuYXR0cihpLmF0dHIoInZhbHVlLWZpZWxkIikpOyFuLmRhdGFUZXh0RmllbGQmJmYmJihuLmRhdGFUZXh0RmllbGQ9Zik7IW4uZGF0YVZhbHVlRmllbGQmJmUmJihuLmRhdGFWYWx1ZUZpZWxkPWUpO3QuX3RleHQ9dShuLmRhdGFUZXh0RmllbGQpO3QuX3ZhbHVlPXUobi5kYXRhVmFsdWVGaWVsZCl9LF9hcmlhOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMscj1pLm9wdGlvbnMsdT1pLl9mb2N1c2VkLmFkZChpLmZpbHRlcklucHV0KTtyLnN1Z2dlc3QhPT10JiZ1LmF0dHIoImFyaWEtYXV0b2NvbXBsZXRlIixyLnN1Z2dlc3Q/ImJvdGgiOiJsaXN0Iik7bj1uP24rIiAiK2kudWxbMF0uaWQ6aS51bFswXS5pZDt1LmF0dHIoImFyaWEtb3ducyIsbik7aS51bC5hdHRyKCJhcmlhLWxpdmUiLGkuX2lzRmlsdGVyRW5hYmxlZCgpPyJwb2xpdGUiOiJvZmYiKTtpLl9hcmlhTGFiZWwoKX0sX2FyaWFMYWJlbDpmdW5jdGlvbigpe3ZhciBlLHU9dGhpcyx0PXUuX2ZvY3VzZWQscj11LmVsZW1lbnQsbz1yLmF0dHIoImlkIiksZj1uKCdsYWJlbFtmb3I9IicrbysnIl0nKSxzPXIuYXR0cigiYXJpYS1sYWJlbCIpLGg9ci5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiKTt0IT09ciYmKHM/dC5hdHRyKCJhcmlhLWxhYmVsIixzKTpoP3QuYXR0cigiYXJpYS1sYWJlbGxlZGJ5IixoKTpmLmxlbmd0aCYmKGU9Zi5hdHRyKCJpZCIpfHx1Ll9nZW5lcmF0ZUxhYmVsSWQoZixvfHxpLmd1aWQoKSksdC5hdHRyKCJhcmlhLWxhYmVsbGVkYnkiLGUpKSl9LF9nZW5lcmF0ZUxhYmVsSWQ6ZnVuY3Rpb24obix0KXt2YXIgaT10K3RpO3JldHVybiBuLmF0dHIoImlkIixpKSxpfSxfYmx1cjpmdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5fY2hhbmdlKCk7bi5jbG9zZSgpO24uX3VzZXJUcmlnZ2VyZWQ9ITF9LF9jaGFuZ2U6ZnVuY3Rpb24oKXt2YXIgcixuPXRoaXMsZj1uLnNlbGVjdGVkSW5kZXgsZT1uLm9wdGlvbnMudmFsdWUsaT1uLnZhbHVlKCk7bi5faXNTZWxlY3QmJiFuLmxpc3RWaWV3LmJvdW5kKCkmJmUmJihpPWUpO2khPT1vKG4uX29sZCx0eXBlb2YgaSkmJmkhPT1vKG4uX29sZFRleHQsdHlwZW9mIGkpP3I9ITA6bi5fdmFsdWVCZWZvcmVDYXNjYWRlIT09dCYmbi5fdmFsdWVCZWZvcmVDYXNjYWRlIT09byhuLl9vbGQsdHlwZW9mIG4uX3ZhbHVlQmVmb3JlQ2FzY2FkZSkmJm4uX3VzZXJUcmlnZ2VyZWQ/cj0hMDpmPT09dHx8Zj09PW4uX29sZEluZGV4fHxuLmxpc3RWaWV3LmlzRmlsdGVyZWQoKXx8KHI9ITApO3ImJihuLl92YWx1ZUJlZm9yZUNhc2NhZGU9bi5fb2xkPW51bGw9PT1uLl9vbGR8fCIiPT09bi5fb2xkfHwiIj09PWk/aTpuLmRhdGFJdGVtKCk/bi5vcHRpb25zLmRhdGFWYWx1ZUZpZWxkP24uZGF0YUl0ZW0oKVtuLm9wdGlvbnMuZGF0YVZhbHVlRmllbGRdOm4uZGF0YUl0ZW0oKTpudWxsLG4uX29sZEluZGV4PWYsbi5fb2xkVGV4dD1uLnRleHQmJm4udGV4dCgpLG4uX3R5cGluZ3x8bi5lbGVtZW50LnRyaWdnZXIodSksbi50cmlnZ2VyKHUpKTtuLnR5cGluZz0hMX0sX2RhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhU291cmNlLnZpZXcoKX0sX2VuYWJsZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMsaT1uLm9wdGlvbnMscj1uLmVsZW1lbnQuaXMoIltkaXNhYmxlZF0iKTtpLmVuYWJsZSE9PXQmJihpLmVuYWJsZWQ9aS5lbmFibGUpOyFpLmVuYWJsZWR8fHI/bi5lbmFibGUoITEpOm4ucmVhZG9ubHkobi5lbGVtZW50LmlzKCJbcmVhZG9ubHldIikpfSxfZGF0YVZhbHVlOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMuX3ZhbHVlKG4pO3JldHVybiBpPT09dCYmKGk9dGhpcy5fdGV4dChuKSksaX0sX29mZnNldEhlaWdodDpmdW5jdGlvbigpe3ZhciB0PTAsaT10aGlzLmxpc3RWaWV3LmNvbnRlbnQucHJldkFsbCgiOnZpc2libGUiKTtyZXR1cm4gaS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKTt0Kz1pdChpLCEwKX0pLHR9LF9oZWlnaHQ6ZnVuY3Rpb24oaSl7dmFyIG8sZixzLHU9dGhpcyxlPXUubGlzdCxyPXUub3B0aW9ucy5oZWlnaHQsaD11LnBvcHVwLnZpc2libGUoKTtpZihpfHx1Lm9wdGlvbnMubm9EYXRhVGVtcGxhdGUpe2lmKGY9ZS5hZGQoZS5wYXJlbnQoIi5rLWFuaW1hdGlvbi1jb250YWluZXIiKSkuc2hvdygpLCFlLmlzKCI6dmlzaWJsZSIpKXJldHVybiBmLmhpZGUoKSx0O3I9dS5saXN0Vmlldy5jb250ZW50WzBdLnNjcm9sbEhlaWdodD5yP3I6ImF1dG8iO2YuaGVpZ2h0KHIpOyJhdXRvIiE9PXImJihvPXUuX29mZnNldEhlaWdodCgpLHM9aXQobih1LmZvb3RlcikpfHwwLHI9ci1vLXMpO3UubGlzdFZpZXcuY29udGVudC5oZWlnaHQocik7aHx8Zi5oaWRlKCl9cmV0dXJuIHJ9LF9vcGVuSGFuZGxlcjpmdW5jdGlvbihuKXt0aGlzLl9hZGp1c3RMaXN0V2lkdGgoKTt0aGlzLnRyaWdnZXIoY3QpP24ucHJldmVudERlZmF1bHQoKToodGhpcy5fZm9jdXNlZC5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMCksdGhpcy51bC5hdHRyKCJhcmlhLWhpZGRlbiIsITEpKX0sX2FkanVzdExpc3RXaWR0aDpmdW5jdGlvbigpe3ZhciBuLHIsdT10aGlzLHQ9dS5saXN0LGk9dFswXS5zdHlsZS53aWR0aCxmPXUud3JhcHBlcjtpZih0LmRhdGEod3QpfHwhaSlyZXR1cm4gbj13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZT93aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShmWzBdLG51bGwpOjAscj1wYXJzZUZsb2F0KG4mJm4ud2lkdGgpfHxmdChmKSxuJiZnLm1zaWUmJihyKz1wYXJzZUZsb2F0KG4ucGFkZGluZ0xlZnQpK3BhcnNlRmxvYXQobi5wYWRkaW5nUmlnaHQpK3BhcnNlRmxvYXQobi5ib3JkZXJMZWZ0V2lkdGgpK3BhcnNlRmxvYXQobi5ib3JkZXJSaWdodFdpZHRoKSksaT0iYm9yZGVyLWJveCIhPT10LmNzcygiYm94LXNpemluZyIpP3ItKGZ0KHQpLXQud2lkdGgoKSk6cix0LmNzcyh7Zm9udEZhbWlseTpmLmNzcygiZm9udC1mYW1pbHkiKSx3aWR0aDp1Lm9wdGlvbnMuYXV0b1dpZHRoPyJhdXRvIjppLG1pbldpZHRoOmksd2hpdGVTcGFjZTp1Lm9wdGlvbnMuYXV0b1dpZHRoPyJub3dyYXAiOiJub3JtYWwifSkuZGF0YSh3dCxpKSwhMH0sX2Nsb3NlSGFuZGxlcjpmdW5jdGlvbihuKXt0aGlzLnRyaWdnZXIobHQpP24ucHJldmVudERlZmF1bHQoKToodGhpcy5fZm9jdXNlZC5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSksdGhpcy51bC5hdHRyKCJhcmlhLWhpZGRlbiIsITApKX0sX2ZvY3VzSXRlbTpmdW5jdGlvbigpe3ZhciBuPXRoaXMubGlzdFZpZXcscj0hbi5mb2N1cygpLGk9cyhuLnNlbGVjdCgpKTtpPT09dCYmdGhpcy5vcHRpb25zLmhpZ2hsaWdodEZpcnN0JiZyJiYoaT0wKTtpIT09dD9uLmZvY3VzKGkpOnImJm4uc2Nyb2xsVG9JbmRleCgwKX0sX2NhbGN1bGF0ZUdyb3VwUGFkZGluZzpmdW5jdGlvbihuKXt2YXIgZj10aGlzLnVsLmNoaWxkcmVuKCIuay1maXJzdDpmaXJzdCIpLHI9dGhpcy5saXN0Vmlldy5jb250ZW50LnByZXYoc3QpLHU9MCx0PSJyaWdodCI7clswXSYmIm5vbmUiIT09clswXS5zdHlsZS5kaXNwbGF5JiYoImF1dG8iIT09biYmKHU9aS5zdXBwb3J0LnNjcm9sbGJhcigpKSx0aGlzLmVsZW1lbnQucGFyZW50cygiLmstcnRsIikubGVuZ3RoJiYodD0ibGVmdCIpLHUrPXBhcnNlRmxvYXQoZi5jc3MoImJvcmRlci0iK3QrIi13aWR0aCIpLDEwKStwYXJzZUZsb2F0KGYuY2hpbGRyZW4oIi5rLWdyb3VwIikuY3NzKCJwYWRkaW5nLSIrdCksMTApLHIuY3NzKCJwYWRkaW5nLSIrdCx1KSl9LF9jYWxjdWxhdGVQb3B1cEhlaWdodDpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9oZWlnaHQodGhpcy5kYXRhU291cmNlLmZsYXRWaWV3KCkubGVuZ3RofHxuKTt0aGlzLl9jYWxjdWxhdGVHcm91cFBhZGRpbmcodCk7dGhpcy5fY2FsY3VsYXRlQ29sdW1uc0hlYWRlclBhZGRpbmcodCl9LF9jYWxjdWxhdGVDb2x1bW5zSGVhZGVyUGFkZGluZzpmdW5jdGlvbihuKXt2YXIgdCxyLHU7dGhpcy5vcHRpb25zLmNvbHVtbnMmJnRoaXMub3B0aW9ucy5jb2x1bW5zLmxlbmd0aCYmKHQ9dGhpcyxyPWUuaXNSdGwodC53cmFwcGVyKSx1PWkuc3VwcG9ydC5zY3JvbGxiYXIoKSx0LmNvbHVtbnNIZWFkZXIuY3NzKHI/InBhZGRpbmctbGVmdCI6InBhZGRpbmctcmlnaHQiLCJhdXRvIiE9PW4/dTowKSl9LF9yZWZyZXNoU2Nyb2xsOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5saXN0Vmlldyx0PW4uZWxlbWVudC5oZWlnaHQoKT5uLmNvbnRlbnQuaGVpZ2h0KCk7dGhpcy5vcHRpb25zLmF1dG9XaWR0aCYmbi5jb250ZW50LmNzcyh7b3ZlcmZsb3dYOiJoaWRkZW4iLG92ZXJmbG93WTp0PyJzY3JvbGwiOiJhdXRvIn0pfSxfcmVzaXplUG9wdXA6ZnVuY3Rpb24obil7dGhpcy5vcHRpb25zLnZpcnR1YWx8fCh0aGlzLnBvcHVwLmVsZW1lbnQuaXMoIjp2aXNpYmxlIik/dGhpcy5fY2FsY3VsYXRlUG9wdXBIZWlnaHQobik6KHRoaXMucG9wdXAub25lKCJvcGVuIixmdW5jdGlvbihuKXtyZXR1cm4gcihmdW5jdGlvbigpe3RoaXMuX2NhbGN1bGF0ZVBvcHVwSGVpZ2h0KG4pfSx0aGlzKX0uY2FsbCh0aGlzLG4pKSx0aGlzLnBvcHVwLm9uZSgiYWN0aXZhdGUiLHIodGhpcy5fcmVmcmVzaFNjcm9sbCx0aGlzKSkpKX0sX3BvcHVwOmZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLnBvcHVwPW5ldyBsLlBvcHVwKG4ubGlzdCxhKHt9LG4ub3B0aW9ucy5wb3B1cCx7YW5jaG9yOm4ud3JhcHBlcixvcGVuOnIobi5fb3BlbkhhbmRsZXIsbiksY2xvc2U6cihuLl9jbG9zZUhhbmRsZXIsbiksYW5pbWF0aW9uOm4ub3B0aW9ucy5hbmltYXRpb24saXNSdGw6ZS5pc1J0bChuLndyYXBwZXIpLGF1dG9zaXplOm4ub3B0aW9ucy5hdXRvV2lkdGh9KSl9LF9tYWtlVW5zZWxlY3RhYmxlOmZ1bmN0aW9uKCl7ZWkmJnRoaXMubGlzdC5maW5kKCIqIikubm90KCIuay10ZXh0Ym94IikuYXR0cigidW5zZWxlY3RhYmxlIiwib24iKX0sX3RvZ2dsZUhvdmVyOmZ1bmN0aW9uKHQpe24odC5jdXJyZW50VGFyZ2V0KS50b2dnbGVDbGFzcyhrLCJtb3VzZWVudGVyIj09PXQudHlwZSl9LF90b2dnbGU6ZnVuY3Rpb24obixpKXt2YXIgcj10aGlzLHU9ZS5tb2JpbGVPUyYmKGUudG91Y2h8fGUuTVNQb2ludGVyc3x8ZS5wb2ludGVycyk7bj1uIT09dD9uOiFyLnBvcHVwLnZpc2libGUoKTtpfHx1fHxyLl9mb2N1c2VkWzBdPT09dXQoKXx8KHIuX3ByZXZlbnQ9ITAsci5fZm9jdXNlZC5mb2N1cygpLHIuX3ByZXZlbnQ9ITEpO3Jbbj9jdDpsdF0oKX0sX3RyaWdnZXJDYXNjYWRlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLl9jYXNjYWRlVHJpZ2dlcmVkJiZuLnZhbHVlKCk9PT1vKG4uX2Nhc2NhZGVkVmFsdWUsdHlwZW9mIG4udmFsdWUoKSl8fChuLl9jYXNjYWRlZFZhbHVlPW4udmFsdWUoKSxuLl9jYXNjYWRlVHJpZ2dlcmVkPSEwLG4udHJpZ2dlcihwLHt1c2VyVHJpZ2dlcmVkOm4uX3VzZXJUcmlnZ2VyZWR9KSl9LF90cmlnZ2VyQ2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy5fdmFsdWVCZWZvcmVDYXNjYWRlIT09dGhpcy52YWx1ZSgpJiZ0aGlzLnRyaWdnZXIodSl9LF91bmJpbmREYXRhU291cmNlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLmRhdGFTb3VyY2UudW5iaW5kKHZ0LG4uX3JlcXVlc3RTdGFydEhhbmRsZXIpLnVuYmluZCh5dCxuLl9yZXF1ZXN0RW5kSGFuZGxlcikudW5iaW5kKCJlcnJvciIsbi5fZXJyb3JIYW5kbGVyKX0scmVxdWlyZVZhbHVlTWFwcGVyOmZ1bmN0aW9uKG4sdCl7dmFyIGk9KG4udmFsdWUgaW5zdGFuY2VvZiBBcnJheT9uLnZhbHVlLmxlbmd0aDpuLnZhbHVlKXx8KHQgaW5zdGFuY2VvZiBBcnJheT90Lmxlbmd0aDp0KTtpZihpJiZuLnZpcnR1YWwmJiJmdW5jdGlvbiIhPXR5cGVvZiBuLnZpcnR1YWwudmFsdWVNYXBwZXIpdGhyb3cgRXJyb3IoIlZhbHVlTWFwcGVyIGlzIG5vdCBwcm92aWRlZCB3aGlsZSB0aGUgdmFsdWUgaXMgYmVpbmcgc2V0LiBTZWUgaHR0cDovL2RvY3MudGVsZXJpay5jb20va2VuZG8tdWkvY29udHJvbHMvZWRpdG9ycy9jb21ib2JveC92aXJ0dWFsaXphdGlvbiN0aGUtdmFsdWVtYXBwZXItZnVuY3Rpb24iKTt9fSk7YSh2LHtpbkFycmF5OmZ1bmN0aW9uKG4sdCl7dmFyIGkscix1PXQuY2hpbGRyZW47aWYoIW58fG4ucGFyZW50Tm9kZSE9PXQpcmV0dXJuLTE7Zm9yKGk9MCxyPXUubGVuZ3RoO2k8cjtpKyspaWYobj09PXVbaV0pcmV0dXJuIGk7cmV0dXJuLTF9LHVuaWZ5VHlwZTpvfSk7aS51aS5MaXN0PXY7bC5TZWxlY3Q9di5leHRlbmQoe2luaXQ6ZnVuY3Rpb24obix0KXt2LmZuLmluaXQuY2FsbCh0aGlzLG4sdCk7dGhpcy5faW5pdGlhbD10aGlzLmVsZW1lbnQudmFsKCl9LHNldERhdGFTb3VyY2U6ZnVuY3Rpb24obil7dmFyIGksdD10aGlzO3Qub3B0aW9ucy5kYXRhU291cmNlPW47dC5fZGF0YVNvdXJjZSgpO3QubGlzdFZpZXcuYm91bmQoKSYmKHQuX2luaXRpYWxJbmRleD1udWxsLHQubGlzdFZpZXcuX2N1cnJlbnQ9bnVsbCk7dC5saXN0Vmlldy5zZXREYXRhU291cmNlKHQuZGF0YVNvdXJjZSk7dC5vcHRpb25zLmF1dG9CaW5kJiZ0LmRhdGFTb3VyY2UuZmV0Y2goKTtpPXQuX3BhcmVudFdpZGdldCgpO2kmJnQuX2Nhc2NhZGVTZWxlY3QoaSl9LGNsb3NlOmZ1bmN0aW9uKCl7dGhpcy5wb3B1cC5jbG9zZSgpfSxzZWxlY3Q6ZnVuY3Rpb24obil7dmFyIGk9dGhpcztyZXR1cm4gbj09PXQ/aS5zZWxlY3RlZEluZGV4OmkuX3NlbGVjdChuKS5kb25lKGZ1bmN0aW9uKCl7aS5fY2FzY2FkZVZhbHVlPWkuX29sZD1pLl9hY2Nlc3NvcigpO2kuX29sZEluZGV4PWkuc2VsZWN0ZWRJbmRleH0pfSxfYWNjZXNzb3I6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpc1t0aGlzLl9pc1NlbGVjdD8iX2FjY2Vzc29yU2VsZWN0IjoiX2FjY2Vzc29ySW5wdXQiXShuLHQpfSxfYWNjZXNzb3JJbnB1dDpmdW5jdGlvbihuKXt2YXIgaT10aGlzLmVsZW1lbnRbMF07cmV0dXJuIG49PT10P2kudmFsdWU6KG51bGw9PT1uJiYobj0iIiksaS52YWx1ZT1uLHQpfSxfYWNjZXNzb3JTZWxlY3Q6ZnVuY3Rpb24obixpKXt2YXIgdSxyPXRoaXMuZWxlbWVudFswXTtyZXR1cm4gbj09PXQ/dyhyKS52YWx1ZXx8IiI6KHcocikuc2VsZWN0ZWQ9ITEsaT09PXQmJihpPS0xKSx1PW51bGwhPT1uJiYiIiE9PW4sdSYmaT09LTE/dGhpcy5fY3VzdG9tKG4pOm4/ci52YWx1ZT1uOnIuc2VsZWN0ZWRJbmRleD1pLHQpfSxfc3luY1ZhbHVlQW5kVGV4dDpmdW5jdGlvbigpe3JldHVybiEwfSxfY3VzdG9tOmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsdT1yLmVsZW1lbnQsaT1yLl9jdXN0b21PcHRpb247aXx8KGk9bigiPG9wdGlvbi8+Iiksci5fY3VzdG9tT3B0aW9uPWksdS5hcHBlbmQoaSkpO2kudGV4dCh0KTtpWzBdLnNlbGVjdGVkPSEwfSxfaGlkZUJ1c3k6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO2NsZWFyVGltZW91dChuLl9idXN5KTtuLl9hcnJvd0ljb24ucmVtb3ZlQ2xhc3Mob3QpO24uX2ZvY3VzZWQuYXR0cigiYXJpYS1idXN5IiwhMSk7bi5fYnVzeT1udWxsO24uX3Nob3dDbGVhcigpfSxfc2hvd0J1c3k6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcztuLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwodC5fcmVxdWVzdD0hMCx0Ll9idXN5fHwodC5fYnVzeT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fYXJyb3dJY29uJiYodC5fZm9jdXNlZC5hdHRyKCJhcmlhLWJ1c3kiLCEwKSx0Ll9hcnJvd0ljb24uYWRkQ2xhc3Mob3QpLHQuX2hpZGVDbGVhcigpKX0sMTAwKSkpfSxfcmVxdWVzdEVuZDpmdW5jdGlvbigpe3RoaXMuX3JlcXVlc3Q9ITE7dGhpcy5faGlkZUJ1c3koKX0sX2RhdGFTb3VyY2U6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMsbz10LmVsZW1lbnQsZj10Lm9wdGlvbnMsdT1mLmRhdGFTb3VyY2V8fHt9O3U9bi5pc0FycmF5KHUpP3tkYXRhOnV9OnU7dC5faXNTZWxlY3QmJihlPW9bMF0uc2VsZWN0ZWRJbmRleCxlPi0xJiYoZi5pbmRleD1lKSx1LnNlbGVjdD1vLHUuZmllbGRzPVt7ZmllbGQ6Zi5kYXRhVGV4dEZpZWxkfSx7ZmllbGQ6Zi5kYXRhVmFsdWVGaWVsZH1dKTt0LmRhdGFTb3VyY2U/dC5fdW5iaW5kRGF0YVNvdXJjZSgpOih0Ll9yZXF1ZXN0U3RhcnRIYW5kbGVyPXIodC5fc2hvd0J1c3ksdCksdC5fcmVxdWVzdEVuZEhhbmRsZXI9cih0Ll9yZXF1ZXN0RW5kLHQpLHQuX2Vycm9ySGFuZGxlcj1yKHQuX2hpZGVCdXN5LHQpKTt0LmRhdGFTb3VyY2U9aS5kYXRhLkRhdGFTb3VyY2UuY3JlYXRlKHUpLmJpbmQodnQsdC5fcmVxdWVzdFN0YXJ0SGFuZGxlcikuYmluZCh5dCx0Ll9yZXF1ZXN0RW5kSGFuZGxlcikuYmluZCgiZXJyb3IiLHQuX2Vycm9ySGFuZGxlcil9LF9maXJzdEl0ZW06ZnVuY3Rpb24oKXt0aGlzLmxpc3RWaWV3LmZvY3VzRmlyc3QoKX0sX2xhc3RJdGVtOmZ1bmN0aW9uKCl7dGhpcy5saXN0Vmlldy5mb2N1c0xhc3QoKX0sX25leHRJdGVtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGlzdFZpZXcuZm9jdXNOZXh0KCl9LF9wcmV2SXRlbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxpc3RWaWV3LmZvY3VzUHJldigpfSxfZ2V0Tm9ybWFsaXplZERhdGFJdGVtOmZ1bmN0aW9uKG4pe3ZhciBpLHQ9dGhpcyxyPXQubGlzdFZpZXcsdT0ibnVtYmVyIj09dHlwZW9mIG4sZj10Lm9wdGlvbkxhYmVsJiZ0Lm9wdGlvbkxhYmVsLmxlbmd0aDtyZXR1cm4gaT11P2Y/LS1uOm46ci5nZXRFbGVtZW50SW5kZXgobiksci5kYXRhSXRlbUJ5SW5kZXgoaSl9LF9nZXROb3JtYWxpemVkU2VsZWN0Q2FuZGlkYXRlOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMscj10Lm9wdGlvbkxhYmVsJiZ0Lm9wdGlvbkxhYmVsLmxlbmd0aCx1PSJudW1iZXIiPT10eXBlb2YgbixpPW47cmV0dXJuIHImJnUmJmkrKyxpfSxfbW92ZTpmdW5jdGlvbihuKXt2YXIgZSxoLGksbyxsLHAsYyxhLHcsdD10aGlzLHM9dC5saXN0VmlldyxyPW4ua2V5Q29kZSx5PXI9PT1mLkRPV04sYj10Lm9wdGlvbnMudmlydHVhbDtpZihyPT09Zi5VUHx8eSl7aWYobi5hbHRLZXkpdC50b2dnbGUoeSk7ZWxzZXtpZighcy5ib3VuZCgpJiYhdC51bFswXS5maXJzdENoaWxkKXJldHVybiB0Ll9mZXRjaHx8KHQuZGF0YVNvdXJjZS5vbmUodSxmdW5jdGlvbigpe3QuX2ZldGNoPSExO3QuX21vdmUobil9KSx0Ll9mZXRjaD0hMCx0Ll9maWx0ZXJTb3VyY2UoKSksbi5wcmV2ZW50RGVmYXVsdCgpLCEwO2k9dC5fZm9jdXMoKTt0Ll9mZXRjaHx8aSYmIWkuaGFzQ2xhc3MoImstc3RhdGUtc2VsZWN0ZWQiKXx8KHk/KG89dC5fbmV4dEl0ZW0oKSwoYiYmbzw9MHx8IXQuX2ZvY3VzKCkmJiFvKSYmdC5fbGFzdEl0ZW0oKSk6KG89dC5fcHJldkl0ZW0oKSwoYiYmbz49cy5kYXRhU291cmNlLnRvdGFsKCktMXx8IXQuX2ZvY3VzKCkmJiFvKSYmdC5fZmlyc3RJdGVtKCkpKTtsPXQuX2dldE5vcm1hbGl6ZWRTZWxlY3RDYW5kaWRhdGUodC5fZ2V0KHQuX2ZvY3VzKCkpfHxvfHwwKTt0Ll9zZWxlY3QobCwhMCkuZG9uZShmdW5jdGlvbigpe3ZhciBuPWZ1bmN0aW9uKCl7dC5wb3B1cC52aXNpYmxlKCl8fHQuX2JsdXIoKTt0Ll9jYXNjYWRlZFZhbHVlPW51bGw9PT10Ll9jYXNjYWRlZFZhbHVlP3QudmFsdWUoKTp0LmRhdGFJdGVtKCk/dC5kYXRhSXRlbSgpW3Qub3B0aW9ucy5kYXRhVmFsdWVGaWVsZF18fHQuZGF0YUl0ZW0oKTpudWxsfTt0LnRyaWdnZXIoZCx7ZGF0YUl0ZW06dC5fZ2V0Tm9ybWFsaXplZERhdGFJdGVtKGwpLGl0ZW06dC5fZm9jdXMoKX0pP3QuX3NlbGVjdChpKS5kb25lKG4pOm4oKX0pfW4ucHJldmVudERlZmF1bHQoKTtoPSEwfWVsc2UgaWYocj09PWYuRU5URVJ8fHI9PT1mLlRBQil7aWYodC5wb3B1cC52aXNpYmxlKCkmJm4ucHJldmVudERlZmF1bHQoKSxpPXQuX2ZvY3VzKCksZT10LmRhdGFJdGVtKCksdC5wb3B1cC52aXNpYmxlKCl8fGUmJnQudGV4dCgpPT09dC5fdGV4dChlKXx8KGk9bnVsbCkscD10LmZpbHRlcklucHV0JiZ0LmZpbHRlcklucHV0WzBdPT09dXQoKSxpKXtpZihlPXMuZGF0YUl0ZW1CeUluZGV4KHMuZ2V0RWxlbWVudEluZGV4KGkpKSxhPSEwLGUmJihhPXQuX3ZhbHVlKGUpIT09di51bmlmeVR5cGUodC52YWx1ZSgpLHR5cGVvZiB0Ll92YWx1ZShlKSkpLGEmJnQudHJpZ2dlcihkLHtkYXRhSXRlbTplLGl0ZW06aX0pKXJldHVybjtjPXQuX3NlbGVjdChpKX1lbHNlIHQuaW5wdXQmJigodC5fc3luY1ZhbHVlQW5kVGV4dCgpfHx0Ll9pc1NlbGVjdCkmJnQuX2FjY2Vzc29yKHQuaW5wdXQudmFsKCkpLHQubGlzdFZpZXcudmFsdWUodC5pbnB1dC52YWwoKSkpO3QuX2ZvY3VzRWxlbWVudCYmdC5fZm9jdXNFbGVtZW50KHQud3JhcHBlcik7cCYmcj09PWYuVEFCP3Qud3JhcHBlci5mb2N1c291dCgpOmMmJiJmdW5jdGlvbiI9PXR5cGVvZiBjLmRvbmU/Yy5kb25lKGZ1bmN0aW9uKCl7dC5fYmx1cigpfSk6dC5fYmx1cigpO3QuY2xvc2UoKTtoPSEwfWVsc2Ugcj09PWYuRVNDPyh0LnBvcHVwLnZpc2libGUoKSYmbi5wcmV2ZW50RGVmYXVsdCgpLHQuY2xvc2UoKSxoPSEwKTohdC5wb3B1cC52aXNpYmxlKCl8fHIhPT1mLlBBR0VET1dOJiZyIT09Zi5QQUdFVVB8fChuLnByZXZlbnREZWZhdWx0KCksdz1yPT09Zi5QQUdFRE9XTj8xOi0xLHMuc2Nyb2xsV2l0aCh3KnMuc2NyZWVuSGVpZ2h0KCkpLGg9ITApO3JldHVybiBofSxfZmV0Y2hEYXRhOmZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0PSEhbi5kYXRhU291cmNlLnZpZXcoKS5sZW5ndGg7bi5fcmVxdWVzdHx8bi5vcHRpb25zLmNhc2NhZGVGcm9tfHxuLmxpc3RWaWV3LmJvdW5kKCl8fG4uX2ZldGNofHx0fHwobi5fZmV0Y2g9ITAsbi5kYXRhU291cmNlLmZldGNoKCkuZG9uZShmdW5jdGlvbigpe24uX2ZldGNoPSExfSkpfSxfb3B0aW9uczpmdW5jdGlvbihuLGkscil7dmFyIHUsbyxzLGYsaD10aGlzLGE9aC5lbGVtZW50LGU9YVswXSx2PW4ubGVuZ3RoLGM9IiIsbD0wO2ZvcihpJiYoYz1pKTtsPHY7bCsrKXU9IjxvcHRpb24iLG89bltsXSxzPWguX3RleHQobyksZj1oLl92YWx1ZShvKSxmIT09dCYmKGYrPSIiLGYuaW5kZXhPZignIicpIT09LTEmJihmPWYucmVwbGFjZShvaSwiJnF1b3Q7IikpLHUrPScgdmFsdWU9IicrZisnIicpLHUrPSI+IixzIT09dCYmKHUrPWd0KHMpKSx1Kz0iPFwvb3B0aW9uPiIsYys9dTthLmh0bWwoYyk7ciE9PXQmJihlLnZhbHVlPXIsZS52YWx1ZSYmIXImJihlLnNlbGVjdGVkSW5kZXg9LTEpKTtlLnNlbGVjdGVkSW5kZXghPT0tMSYmKHU9dyhlKSx1JiZ1LnNldEF0dHJpYnV0ZShhdCxhdCkpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9dC5lbGVtZW50LHI9aS5hdHRyKCJmb3JtIiksdT1yP24oIiMiK3IpOmkuY2xvc2VzdCgiZm9ybSIpO3VbMF0mJih0Ll9yZXNldEhhbmRsZXI9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC52YWx1ZSh0Ll9pbml0aWFsKX0pfSx0Ll9mb3JtPXUub24oInJlc2V0Iix0Ll9yZXNldEhhbmRsZXIpKX0sX3BhcmVudFdpZGdldDpmdW5jdGlvbigpe3ZhciByLHQsaSx1PXRoaXMub3B0aW9ucy5uYW1lO2lmKHRoaXMub3B0aW9ucy5jYXNjYWRlRnJvbSl7aWYocj1uKCIjIit0aGlzLm9wdGlvbnMuY2FzY2FkZUZyb20pLHQ9ci5kYXRhKCJrZW5kbyIrdSksIXQpZm9yKGk9MDtpPGt0W3VdLmxlbmd0aCYmISh0PXIuZGF0YSgia2VuZG8iK2t0W3VdW2ldKSk7aSs9MSk7cmV0dXJuIHR9fSxfY2FzY2FkZTpmdW5jdGlvbigpe3ZhciB0LG49dGhpcyxpPW4ub3B0aW9ucyx1PWkuY2FzY2FkZUZyb207aWYodSl7aWYodD1uLl9wYXJlbnRXaWRnZXQoKSwhdClyZXR1cm47bi5fY2FzY2FkZUhhbmRsZXJQcm94eT1yKG4uX2Nhc2NhZGVIYW5kbGVyLG4pO24uX2Nhc2NhZGVGaWx0ZXJSZXF1ZXN0cz1bXTtpLmF1dG9CaW5kPSExO3QuYmluZCgic2V0IixmdW5jdGlvbigpe24ub25lKCJzZXQiLGZ1bmN0aW9uKHQpe24uX3NlbGVjdGVkVmFsdWU9dC52YWx1ZXx8bi5fYWNjZXNzb3IoKX0pfSk7dC5maXJzdChwLG4uX2Nhc2NhZGVIYW5kbGVyUHJveHkpO3QubGlzdFZpZXcuYm91bmQoKT8obi5fdG9nZ2xlQ2FzY2FkZU9uRm9jdXMoKSxuLl9jYXNjYWRlU2VsZWN0KHQpKToodC5vbmUoImRhdGFCb3VuZCIsZnVuY3Rpb24oKXtuLl90b2dnbGVDYXNjYWRlT25Gb2N1cygpO3QucG9wdXAudmlzaWJsZSgpJiZ0Ll9mb2N1c2VkLmZvY3VzKCl9KSx0LnZhbHVlKCl8fG4uZW5hYmxlKCExKSl9fSxfdG9nZ2xlQ2FzY2FkZU9uRm9jdXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLG49dC5fcGFyZW50V2lkZ2V0KCksaT1idCYmbiBpbnN0YW5jZW9mIGwuRHJvcERvd25MaXN0P2lpOnVpO24uX2ZvY3VzZWQuYWRkKG4uZmlsdGVySW5wdXQpLmJpbmQocmksZnVuY3Rpb24oKXtuLnVuYmluZChwLHQuX2Nhc2NhZGVIYW5kbGVyUHJveHkpO24uZmlyc3QodSx0Ll9jYXNjYWRlSGFuZGxlclByb3h5KX0pO24uX2ZvY3VzZWQuYWRkKG4uZmlsdGVySW5wdXQpLmJpbmQoaSxmdW5jdGlvbigpe24udW5iaW5kKHUsdC5fY2FzY2FkZUhhbmRsZXJQcm94eSk7bi5maXJzdChwLHQuX2Nhc2NhZGVIYW5kbGVyUHJveHkpfSl9LF9jYXNjYWRlSGFuZGxlcjpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9wYXJlbnRXaWRnZXQoKSxpPXRoaXMudmFsdWUoKTt0aGlzLl91c2VyVHJpZ2dlcmVkPW4udXNlclRyaWdnZXJlZHx8dC5fdXNlclRyaWdnZXJlZDt0aGlzLmxpc3RWaWV3LmJvdW5kKCkmJnRoaXMuX2NsZWFyU2VsZWN0aW9uKHQsITApO3RoaXMuX2Nhc2NhZGVTZWxlY3QodCxpKX0sX2Nhc2NhZGVDaGFuZ2U6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxpPXQuX2FjY2Vzc29yKCl8fHQuX3NlbGVjdGVkVmFsdWU7dC5fY2FzY2FkZUZpbHRlclJlcXVlc3RzLmxlbmd0aHx8KHQuX3NlbGVjdGVkVmFsdWU9bnVsbCk7dC5fdXNlclRyaWdnZXJlZD90Ll9jbGVhclNlbGVjdGlvbihuLCEwKTppPyhpIT09byh0Lmxpc3RWaWV3LnZhbHVlKClbMF0sdHlwZW9mIGkpJiZ0LnZhbHVlKGkpLHQuZGF0YVNvdXJjZS52aWV3KClbMF0mJnQuc2VsZWN0ZWRJbmRleCE9PS0xfHx0Ll9jbGVhclNlbGVjdGlvbihuLCEwKSk6dC5kYXRhU291cmNlLmZsYXRWaWV3KCkubGVuZ3RoJiZ0LnNlbGVjdCh0Lm9wdGlvbnMuaW5kZXgpO3QuZW5hYmxlKCk7dC5fdHJpZ2dlckNhc2NhZGUoKTt0Ll90cmlnZ2VyQ2hhbmdlKCk7dC5fdXNlclRyaWdnZXJlZD0hMX0sX2Nhc2NhZGVTZWxlY3Q6ZnVuY3Rpb24obixpKXt2YXIgbyx1LHI9dGhpcyxmPW4uZGF0YUl0ZW0oKSxlPWY/ZltyLm9wdGlvbnMuY2FzY2FkZUZyb21QYXJlbnRGaWVsZF18fG4uX3ZhbHVlKGYpOm51bGwscz1yLm9wdGlvbnMuY2FzY2FkZUZyb21GaWVsZHx8bi5vcHRpb25zLmRhdGFWYWx1ZUZpZWxkO3IuX3ZhbHVlQmVmb3JlQ2FzY2FkZT1pIT09dD9pOnIudmFsdWUoKTtlfHwwPT09ZT8obz1yLmRhdGFTb3VyY2UuZmlsdGVyKCl8fHt9LGIobyxzKSx1PWZ1bmN0aW9uKCl7dmFyIHQ9ci5fY2FzY2FkZUZpbHRlclJlcXVlc3RzLnNoaWZ0KCk7dCYmci51bmJpbmQoImRhdGFCb3VuZCIsdCk7dD1yLl9jYXNjYWRlRmlsdGVyUmVxdWVzdHNbMF07dCYmci5maXJzdCgiZGF0YUJvdW5kIix0KTtyLl9jYXNjYWRlQ2hhbmdlKG4pfSxyLl9jYXNjYWRlRmlsdGVyUmVxdWVzdHMucHVzaCh1KSwxPT09ci5fY2FzY2FkZUZpbHRlclJlcXVlc3RzLmxlbmd0aCYmci5maXJzdCgiZGF0YUJvdW5kIix1KSxyLl9jYXNjYWRpbmc9ITAsci5fZmlsdGVyU291cmNlKHtmaWVsZDpzLG9wZXJhdG9yOiJlcSIsdmFsdWU6ZX0pLHIuX2Nhc2NhZGluZz0hMSk6KHIuZW5hYmxlKCExKSxyLl9jbGVhclNlbGVjdGlvbihuKSxyLl90cmlnZ2VyQ2FzY2FkZSgpLHIuX3RyaWdnZXJDaGFuZ2UoKSxyLl91c2VyVHJpZ2dlcmVkPSExKX19KTtoPSIuU3RhdGljTGlzdCI7dHQ9aS51aS5EYXRhQm91bmRXaWRnZXQuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKHQsdSl7Yy5mbi5pbml0LmNhbGwodGhpcyx0LHUpO3RoaXMuZWxlbWVudC5hdHRyKCJyb2xlIiwibGlzdGJveCIpLm9uKCJjbGljayIraCwibGkiLHIodGhpcy5fY2xpY2ssdGhpcykpLm9uKCJtb3VzZWVudGVyIitoLCJsaSIsZnVuY3Rpb24oKXtuKHRoaXMpLmFkZENsYXNzKGspfSkub24oIm1vdXNlbGVhdmUiK2gsImxpIixmdW5jdGlvbigpe24odGhpcykucmVtb3ZlQ2xhc3Moayl9KTtlLnRvdWNoJiZ0aGlzLl90b3VjaEhhbmRsZXJzKCk7Im11bHRpcGxlIj09PXRoaXMub3B0aW9ucy5zZWxlY3RhYmxlJiZ0aGlzLmVsZW1lbnQuYXR0cigiYXJpYS1tdWx0aXNlbGVjdGFibGUiLCEwKTt0aGlzLmNvbnRlbnQ9dGhpcy5lbGVtZW50LndyYXAoIjxkaXYgY2xhc3M9J2stbGlzdC1zY3JvbGxlcicgdW5zZWxlY3RhYmxlPSdvbic+PFwvZGl2PiIpLnBhcmVudCgpO3RoaXMuaGVhZGVyPXRoaXMuY29udGVudC5iZWZvcmUoJzxkaXYgY2xhc3M9ImstZ3JvdXAtaGVhZGVyIiBzdHlsZT0iZGlzcGxheTpub25lIj48XC9kaXY+JykucHJldigpO3RoaXMuYm91bmQoITEpO3RoaXMuX29wdGlvbklEPWkuZ3VpZCgpO3RoaXMuX3NlbGVjdGVkSW5kaWNlcz1bXTt0aGlzLl92aWV3PVtdO3RoaXMuX2RhdGFJdGVtcz1bXTt0aGlzLl92YWx1ZXM9W107dmFyIGY9dGhpcy5vcHRpb25zLnZhbHVlO2YmJih0aGlzLl92YWx1ZXM9bi5pc0FycmF5KGYpP2Yuc2xpY2UoMCk6W2ZdKTt0aGlzLl9nZXR0ZXIoKTt0aGlzLl90ZW1wbGF0ZXMoKTt0aGlzLnNldERhdGFTb3VyY2UodGhpcy5vcHRpb25zLmRhdGFTb3VyY2UpO3RoaXMuX29uU2Nyb2xsPXIoZnVuY3Rpb24oKXt2YXIgbj10aGlzO2NsZWFyVGltZW91dChuLl9zY3JvbGxJZCk7bi5fc2Nyb2xsSWQ9c2V0VGltZW91dChmdW5jdGlvbigpe24uX3JlbmRlckhlYWRlcigpfSw1MCl9LHRoaXMpfSxvcHRpb25zOntuYW1lOiJTdGF0aWNMaXN0IixkYXRhVmFsdWVGaWVsZDpudWxsLHZhbHVlUHJpbWl0aXZlOiExLHNlbGVjdGFibGU6ITAsdGVtcGxhdGU6bnVsbCxncm91cFRlbXBsYXRlOm51bGwsZml4ZWRHcm91cFRlbXBsYXRlOm51bGx9LGV2ZW50czpbImNsaWNrIix1LCJhY3RpdmF0ZSIsImRlYWN0aXZhdGUiLCJkYXRhQmluZGluZyIsImRhdGFCb3VuZCIsInNlbGVjdGVkSXRlbUNoYW5nZSJdLHNldERhdGFTb3VyY2U6ZnVuY3Rpb24odCl7dmFyIG8sZj10aGlzLGU9dHx8e307ZT1uLmlzQXJyYXkoZSk/e2RhdGE6ZX06ZTtlPWkuZGF0YS5EYXRhU291cmNlLmNyZWF0ZShlKTtmLmRhdGFTb3VyY2U/KGYuZGF0YVNvdXJjZS51bmJpbmQodSxmLl9yZWZyZXNoSGFuZGxlciksbz1mLnZhbHVlKCksZi52YWx1ZShbXSksZi5ib3VuZCghMSksZi52YWx1ZShvKSk6Zi5fcmVmcmVzaEhhbmRsZXI9cihmLnJlZnJlc2gsZik7Zi5zZXREU0ZpbHRlcihlLmZpbHRlcigpKTtmLmRhdGFTb3VyY2U9ZS5iaW5kKHUsZi5fcmVmcmVzaEhhbmRsZXIpO2YuX2ZpeGVkSGVhZGVyKCl9LF90b3VjaEhhbmRsZXJzOmZ1bmN0aW9uKCl7dmFyIGkscix0PXRoaXMsdT1mdW5jdGlvbihuKXtyZXR1cm4obi5vcmlnaW5hbEV2ZW50fHxuKS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWX07dC5lbGVtZW50Lm9uKCJ0b3VjaHN0YXJ0IitoLGZ1bmN0aW9uKG4pe2k9dShuKX0pO3QuZWxlbWVudC5vbigidG91Y2hlbmQiK2gsZnVuY3Rpb24oZil7Zi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHI9dShmKSxNYXRoLmFicyhyLWkpPDEwJiYodC5fdG91Y2hUcmlnZ2VyZWQ9ITAsdC5fdHJpZ2dlckNsaWNrKG4oZi50YXJnZXQpLmNsb3Nlc3QoaHQpLmdldCgwKSkpKX0pfSxza2lwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YVNvdXJjZS5za2lwKCl9LHNldE9wdGlvbnM6ZnVuY3Rpb24obil7Yy5mbi5zZXRPcHRpb25zLmNhbGwodGhpcyxuKTt0aGlzLl9nZXR0ZXIoKTt0aGlzLl90ZW1wbGF0ZXMoKTt0aGlzLl9yZW5kZXIoKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5vZmYoaCk7dGhpcy5fcmVmcmVzaEhhbmRsZXImJnRoaXMuZGF0YVNvdXJjZS51bmJpbmQodSx0aGlzLl9yZWZyZXNoSGFuZGxlcik7Y2xlYXJUaW1lb3V0KHRoaXMuX3Njcm9sbElkKTtjLmZuLmRlc3Ryb3kuY2FsbCh0aGlzKX0sZGF0YUl0ZW1CeUluZGV4OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmRhdGFTb3VyY2UuZmxhdFZpZXcoKVtuXX0sc2NyZWVuSGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGVudFswXS5jbGllbnRIZWlnaHR9LHNjcm9sbFRvSW5kZXg6ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5lbGVtZW50WzBdLmNoaWxkcmVuW25dO3QmJnRoaXMuc2Nyb2xsKHQpfSxzY3JvbGxXaXRoOmZ1bmN0aW9uKG4pe3RoaXMuY29udGVudC5zY3JvbGxUb3AodGhpcy5jb250ZW50LnNjcm9sbFRvcCgpK24pfSxzY3JvbGw6ZnVuY3Rpb24obil7aWYobil7blswXSYmKG49blswXSk7dmFyIGk9dGhpcy5jb250ZW50WzBdLHI9bi5vZmZzZXRUb3AsZT1uLm9mZnNldEhlaWdodCx0PWkuc2Nyb2xsVG9wLHU9aS5jbGllbnRIZWlnaHQsZj1yK2U7dD5yP3Q9cjpmPnQrdSYmKHQ9Zi11KTtpLnNjcm9sbFRvcD10fX0sc2VsZWN0ZWREYXRhSXRlbXM6ZnVuY3Rpb24obil7cmV0dXJuIG49PT10P3RoaXMuX2RhdGFJdGVtcy5zbGljZSgpOih0aGlzLl9kYXRhSXRlbXM9bix0aGlzLl92YWx1ZXM9dGhpcy5fZ2V0VmFsdWVzKG4pLHQpfSxfZ2V0VmFsdWVzOmZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMuX3ZhbHVlR2V0dGVyO3JldHVybiBuLm1hcCh0LGZ1bmN0aW9uKG4pe3JldHVybiBpKG4pfSl9LGZvY3VzTmV4dDpmdW5jdGlvbigpe3ZhciBuPXRoaXMuZm9jdXMoKTtuPW4/bi5uZXh0KCk6MDt0aGlzLmZvY3VzKG4pfSxmb2N1c1ByZXY6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmZvY3VzKCk7bj1uP24ucHJldigpOnRoaXMuZWxlbWVudFswXS5jaGlsZHJlbi5sZW5ndGgtMTt0aGlzLmZvY3VzKG4pfSxmb2N1c0ZpcnN0OmZ1bmN0aW9uKCl7dGhpcy5mb2N1cyh0aGlzLmVsZW1lbnRbMF0uY2hpbGRyZW5bMF0pfSxmb2N1c0xhc3Q6ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKHModGhpcy5lbGVtZW50WzBdLmNoaWxkcmVuKSl9LGZvY3VzOmZ1bmN0aW9uKGkpe3ZhciB1LHI9dGhpcyxmPXIuX29wdGlvbklEO3JldHVybiBpPT09dD9yLl9jdXJyZW50OihpPXMoci5fZ2V0KGkpKSxpPW4odGhpcy5lbGVtZW50WzBdLmNoaWxkcmVuW2ldKSxyLl9jdXJyZW50JiYoci5fY3VycmVudC5yZW1vdmVDbGFzcyhldCkucmVtb3ZlQXR0cih5KSxyLnRyaWdnZXIoImRlYWN0aXZhdGUiKSksdT0hIWlbMF0sdSYmKGkuYWRkQ2xhc3MoZXQpLHIuc2Nyb2xsKGkpLGkuYXR0cigiaWQiLGYpKSxyLl9jdXJyZW50PXU/aTpudWxsLHIudHJpZ2dlcigiYWN0aXZhdGUiKSx0KX0sZm9jdXNJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZvY3VzKCk/dGhpcy5mb2N1cygpLmluZGV4KCk6dH0sc2tpcFVwZGF0ZTpmdW5jdGlvbihuKXt0aGlzLl9za2lwVXBkYXRlPW59LHNlbGVjdDpmdW5jdGlvbihpKXt2YXIgZSxmLG8scj10aGlzLHY9ci5vcHRpb25zLnNlbGVjdGFibGUsaD0ibXVsdGlwbGUiIT09diYmdiE9PSExLGM9ci5fc2VsZWN0ZWRJbmRpY2VzLHk9W3RoaXMuZWxlbWVudC5maW5kKCIuay1zdGF0ZS1zZWxlY3RlZCIpLmluZGV4KCldLGw9W10sYT1bXTtyZXR1cm4gaT09PXQ/Yy5zbGljZSgpOihpPXIuX2dldChpKSwxPT09aS5sZW5ndGgmJmlbMF09PT0tMSYmKGk9W10pLGY9bi5EZWZlcnJlZCgpLnJlc29sdmUoKSxvPXIuaXNGaWx0ZXJlZCgpLG8mJiFoJiZyLl9kZXNlbGVjdEZpbHRlcmVkKGkpP2Y6aCYmIW8mJm4uaW5BcnJheShzKGkpLGMpIT09LTEmJm4uaW5BcnJheShzKGkpLHkpIT09LTE/KHIuX2RhdGFJdGVtcy5sZW5ndGgmJnIuX3ZpZXcubGVuZ3RoJiYoci5fZGF0YUl0ZW1zPVtyLl92aWV3W2NbMF1dLml0ZW1dKSxmKTooZT1yLl9kZXNlbGVjdChpKSxhPWUucmVtb3ZlZCxpPWUuaW5kaWNlcyxpLmxlbmd0aCYmKGgmJihpPVtzKGkpXSksbD1yLl9zZWxlY3QoaSkpLChsLmxlbmd0aHx8YS5sZW5ndGgpJiYoci5fdmFsdWVDb21wYXJlcj1udWxsLHIudHJpZ2dlcih1LHthZGRlZDpsLHJlbW92ZWQ6YX0pKSxmKSl9LHJlbW92ZUF0OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9zZWxlY3RlZEluZGljZXMuc3BsaWNlKG4sMSksdGhpcy5fdmFsdWVzLnNwbGljZShuLDEpLHRoaXMuX3ZhbHVlQ29tcGFyZXI9bnVsbCx7cG9zaXRpb246bixkYXRhSXRlbTp0aGlzLl9kYXRhSXRlbXMuc3BsaWNlKG4sMSlbMF19fSxzZXRWYWx1ZTpmdW5jdGlvbih0KXt0PW4uaXNBcnJheSh0KXx8dCBpbnN0YW5jZW9mIG5pP3Quc2xpY2UoMCk6W3RdO3RoaXMuX3ZhbHVlcz10O3RoaXMuX3ZhbHVlQ29tcGFyZXI9bnVsbH0sdmFsdWU6ZnVuY3Rpb24oaSl7dmFyIGYscj10aGlzLHU9ci5fdmFsdWVEZWZlcnJlZDtyZXR1cm4gaT09PXQ/ci5fdmFsdWVzLnNsaWNlKCk6KHIuc2V0VmFsdWUoaSksdSYmInJlc29sdmVkIiE9PXUuc3RhdGUoKXx8KHIuX3ZhbHVlRGVmZXJyZWQ9dT1uLkRlZmVycmVkKCkpLHIuYm91bmQoKSYmKGY9ci5fdmFsdWVJbmRpY2VzKHIuX3ZhbHVlcyksIm11bHRpcGxlIj09PXIub3B0aW9ucy5zZWxlY3RhYmxlJiZyLnNlbGVjdCgtMSksci5zZWxlY3QoZiksdS5yZXNvbHZlKCkpLHIuX3NraXBVcGRhdGU9ITEsdSl9LGl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5jaGlsZHJlbihodCl9LF9jbGljazpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fdG91Y2hUcmlnZ2VyZWQ/KHRoaXMuX3RvdWNoVHJpZ2dlcmVkPSExLHQpOihuLmlzRGVmYXVsdFByZXZlbnRlZCgpfHx0aGlzLl90cmlnZ2VyQ2xpY2sobi5jdXJyZW50VGFyZ2V0KSx0KX0sX3RyaWdnZXJDbGljazpmdW5jdGlvbih0KXt0aGlzLnRyaWdnZXIoImNsaWNrIix7aXRlbTpuKHQpfSl8fHRoaXMuc2VsZWN0KHQpfSxfdmFsdWVFeHByOmZ1bmN0aW9uKG4sdCl7dmFyIGYsZSxpPXRoaXMscj0wLHU9W107aWYoIWkuX3ZhbHVlQ29tcGFyZXJ8fGkuX3ZhbHVlVHlwZSE9PW4pe2ZvcihpLl92YWx1ZVR5cGU9bjtyPHQubGVuZ3RoO3IrKyl1LnB1c2gobyh0W3JdLG4pKTtmPSJmb3IgKHZhciBpZHggPSAwOyBpZHggPCAiK3UubGVuZ3RoKyI7IGlkeCsrKSB7IGlmIChjdXJyZW50ID09PSB2YWx1ZXNbaWR4XSkgeyAgIHJldHVybiBpZHg7IH19IHJldHVybiAtMTsiO2U9RnVuY3Rpb24oImN1cnJlbnQiLCJ2YWx1ZXMiLGYpO2kuX3ZhbHVlQ29tcGFyZXI9ZnVuY3Rpb24obil7cmV0dXJuIGUobix1KX19cmV0dXJuIGkuX3ZhbHVlQ29tcGFyZXJ9LF9kYXRhSXRlbVBvc2l0aW9uOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5fdmFsdWVHZXR0ZXIobikscj10aGlzLl92YWx1ZUV4cHIodHlwZW9mIGksdCk7cmV0dXJuIHIoaSl9LF9nZXR0ZXI6ZnVuY3Rpb24oKXt0aGlzLl92YWx1ZUdldHRlcj1pLmdldHRlcih0aGlzLm9wdGlvbnMuZGF0YVZhbHVlRmllbGQpfSxfZGVzZWxlY3Q6ZnVuY3Rpb24odCl7dmFyIHIsZSxvLHU9dGhpcyxzPXUuZWxlbWVudFswXS5jaGlsZHJlbixjPXUub3B0aW9ucy5zZWxlY3RhYmxlLGY9dS5fc2VsZWN0ZWRJbmRpY2VzLGw9dS5fZGF0YUl0ZW1zLHY9dS5fdmFsdWVzLGg9W10saT0wLGE9MDtpZih0PXQuc2xpY2UoKSxjIT09ITAmJnQubGVuZ3RoKXtpZigibXVsdGlwbGUiPT09Yylmb3IoO2k8dC5sZW5ndGg7aSsrKWlmKGU9dFtpXSxuKHNbZV0pLmhhc0NsYXNzKCJrLXN0YXRlLXNlbGVjdGVkIikpZm9yKHI9MDtyPGYubGVuZ3RoO3IrKylpZihvPWZbcl0sbz09PWUpe24oc1tvXSkucmVtb3ZlQ2xhc3MoImstc3RhdGUtc2VsZWN0ZWQiKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMSk7aC5wdXNoKHtwb3NpdGlvbjpyK2EsZGF0YUl0ZW06bC5zcGxpY2UociwxKVswXX0pO2Yuc3BsaWNlKHIsMSk7dC5zcGxpY2UoaSwxKTt2LnNwbGljZShyLDEpO2ErPTE7aS09MTtyLT0xO2JyZWFrfX1lbHNle2Zvcig7aTxmLmxlbmd0aDtpKyspbihzW2ZbaV1dKS5yZW1vdmVDbGFzcygiay1zdGF0ZS1zZWxlY3RlZCIpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCExKSxoLnB1c2goe3Bvc2l0aW9uOmksZGF0YUl0ZW06bFtpXX0pO3UuX3ZhbHVlcz1bXTt1Ll9kYXRhSXRlbXM9W107dS5fc2VsZWN0ZWRJbmRpY2VzPVtdfXJldHVybntpbmRpY2VzOnQscmVtb3ZlZDpofX0sX2Rlc2VsZWN0RmlsdGVyZWQ6ZnVuY3Rpb24odCl7Zm9yKHZhciBvLGkscixzPXRoaXMuZWxlbWVudFswXS5jaGlsZHJlbixmPVtdLGU9MDtlPHQubGVuZ3RoO2UrKylpPXRbZV0sbz10aGlzLl92aWV3W2ldLml0ZW0scj10aGlzLl9kYXRhSXRlbVBvc2l0aW9uKG8sdGhpcy5fdmFsdWVzKSxyPi0xJiYoZi5wdXNoKHRoaXMucmVtb3ZlQXQocikpLG4oc1tpXSkucmVtb3ZlQ2xhc3MoImstc3RhdGUtc2VsZWN0ZWQiKSk7cmV0dXJuISFmLmxlbmd0aCYmKHRoaXMudHJpZ2dlcih1LHthZGRlZDpbXSxyZW1vdmVkOmZ9KSwhMCl9LF9zZWxlY3Q6ZnVuY3Rpb24odCl7dmFyIGksdSxyPXRoaXMsbz1yLmVsZW1lbnRbMF0uY2hpbGRyZW4saD1yLl92aWV3LGU9W10sZj0wO2ZvcihzKHQpIT09LTEmJnIuZm9jdXModCk7Zjx0Lmxlbmd0aDtmKyspdT10W2ZdLGk9aFt1XSx1IT09LTEmJmkmJihpPWkuaXRlbSxyLl9zZWxlY3RlZEluZGljZXMucHVzaCh1KSxyLl9kYXRhSXRlbXMucHVzaChpKSxyLl92YWx1ZXMucHVzaChyLl92YWx1ZUdldHRlcihpKSksbihvW3VdKS5hZGRDbGFzcygiay1zdGF0ZS1zZWxlY3RlZCIpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCEwKSxlLnB1c2goe2RhdGFJdGVtOml9KSk7cmV0dXJuIGV9LGdldEVsZW1lbnRJbmRleDpmdW5jdGlvbih0KXtyZXR1cm4gbih0KS5kYXRhKCJvZmZzZXQtaW5kZXgiKX0sX2dldDpmdW5jdGlvbihuKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIG4/bj1bbl06Zmkobil8fChuPXRoaXMuZ2V0RWxlbWVudEluZGV4KG4pLG49W24hPT10P246LTFdKSxufSxfdGVtcGxhdGU6ZnVuY3Rpb24oKXt2YXIgcj10aGlzLHQ9ci5vcHRpb25zLG49dC50ZW1wbGF0ZTtyZXR1cm4gbj8obj1pLnRlbXBsYXRlKG4pLG49ZnVuY3Rpb24odCl7cmV0dXJuJzxsaSB0YWJpbmRleD0iLTEiIHJvbGU9Im9wdGlvbiIgdW5zZWxlY3RhYmxlPSJvbiIgY2xhc3M9ImstaXRlbSI+JytuKHQpKyI8XC9saT4ifSk6bj1pLnRlbXBsYXRlKCc8bGkgdGFiaW5kZXg9Ii0xIiByb2xlPSJvcHRpb24iIHVuc2VsZWN0YWJsZT0ib24iIGNsYXNzPSJrLWl0ZW0iPiR7JytpLmV4cHIodC5kYXRhVGV4dEZpZWxkLCJkYXRhIikrIn08XC9saT4iLHt1c2VXaXRoQmxvY2s6ITF9KSxufSxfdGVtcGxhdGVzOmZ1bmN0aW9uKCl7dmFyIHUsdCxmLG8sZSxuPXRoaXMub3B0aW9ucyxyPXt0ZW1wbGF0ZTpuLnRlbXBsYXRlLGdyb3VwVGVtcGxhdGU6bi5ncm91cFRlbXBsYXRlLGZpeGVkR3JvdXBUZW1wbGF0ZTpuLmZpeGVkR3JvdXBUZW1wbGF0ZX07aWYobi5jb2x1bW5zKWZvcih0PTA7dDxuLmNvbHVtbnMubGVuZ3RoO3QrKylmPW4uY29sdW1uc1t0XSxvPWYuZmllbGQ/IiIrZi5maWVsZDoidGV4dCIsclsiY29sdW1uIit0XT1mLnRlbXBsYXRlfHwiIzogIitvKyIjIjtmb3IoZSBpbiByKXU9cltlXSx1JiYiZnVuY3Rpb24iIT10eXBlb2YgdSYmKHJbZV09aS50ZW1wbGF0ZSh1KSk7dGhpcy50ZW1wbGF0ZXM9cn0sX25vcm1hbGl6ZUluZGljZXM6ZnVuY3Rpb24obil7Zm9yKHZhciByPVtdLGk9MDtpPG4ubGVuZ3RoO2krKyluW2ldIT09dCYmci5wdXNoKG5baV0pO3JldHVybiByfSxfdmFsdWVJbmRpY2VzOmZ1bmN0aW9uKG4sdCl7dmFyIHIsdT10aGlzLl92aWV3LGk9MDtpZih0PXQ/dC5zbGljZSgpOltdLCFuLmxlbmd0aClyZXR1cm5bXTtmb3IoO2k8dS5sZW5ndGg7aSsrKXI9dGhpcy5fZGF0YUl0ZW1Qb3NpdGlvbih1W2ldLml0ZW0sbiksciE9PS0xJiYodFtyXT1pKTtyZXR1cm4gdGhpcy5fbm9ybWFsaXplSW5kaWNlcyh0KX0sX2ZpcnN0VmlzaWJsZUl0ZW06ZnVuY3Rpb24oKXtmb3IodmFyIHI9dGhpcy5lbGVtZW50WzBdLGY9dGhpcy5jb250ZW50WzBdLGk9Zi5zY3JvbGxUb3AsdT1uKHIuY2hpbGRyZW5bMF0pLmhlaWdodCgpLGU9TWF0aC5mbG9vcihpL3UpfHwwLHQ9ci5jaGlsZHJlbltlXXx8ci5sYXN0Q2hpbGQsbz10Lm9mZnNldFRvcDxpO3Q7KWlmKG8pe2lmKHQub2Zmc2V0VG9wK3U+aXx8IXQubmV4dFNpYmxpbmcpYnJlYWs7dD10Lm5leHRTaWJsaW5nfWVsc2V7aWYodC5vZmZzZXRUb3A8PWl8fCF0LnByZXZpb3VzU2libGluZylicmVhazt0PXQucHJldmlvdXNTaWJsaW5nfXJldHVybiB0aGlzLl92aWV3W24odCkuZGF0YSgib2Zmc2V0LWluZGV4IildfSxfZml4ZWRIZWFkZXI6ZnVuY3Rpb24oKXt0aGlzLmlzR3JvdXBlZCgpJiZ0aGlzLnRlbXBsYXRlcy5maXhlZEdyb3VwVGVtcGxhdGU/KHRoaXMuaGVhZGVyLnNob3coKSx0aGlzLmNvbnRlbnQuc2Nyb2xsKHRoaXMuX29uU2Nyb2xsKSk6KHRoaXMuaGVhZGVyLmhpZGUoKSx0aGlzLmNvbnRlbnQub2ZmKCJzY3JvbGwiLHRoaXMuX29uU2Nyb2xsKSl9LF9yZW5kZXJIZWFkZXI6ZnVuY3Rpb24oKXt2YXIgbix0PXRoaXMudGVtcGxhdGVzLmZpeGVkR3JvdXBUZW1wbGF0ZTt0JiYobj10aGlzLl9maXJzdFZpc2libGVJdGVtKCksbiYmKCIiK24uZ3JvdXApLmxlbmd0aCYmdGhpcy5oZWFkZXIuaHRtbCh0KG4uZ3JvdXApKSl9LF9yZW5kZXJJdGVtOmZ1bmN0aW9uKG4pe3ZhciB0PSc8bGkgdGFiaW5kZXg9Ii0xIiByb2xlPSJvcHRpb24iIHVuc2VsZWN0YWJsZT0ib24iIGNsYXNzPSJrLWl0ZW0nLHI9bi5pdGVtLHU9MCE9PW4uaW5kZXgsZj1uLnNlbGVjdGVkLGU9dGhpcy5pc0dyb3VwZWQoKSxpPXRoaXMub3B0aW9ucy5jb2x1bW5zJiZ0aGlzLm9wdGlvbnMuY29sdW1ucy5sZW5ndGg7cmV0dXJuIHUmJm4ubmV3R3JvdXAmJih0Kz0iIGstZmlyc3QiKSxuLmlzTGFzdEdyb3VwZWRJdGVtJiZpJiYodCs9IiBrLWxhc3QiKSxmJiYodCs9IiBrLXN0YXRlLXNlbGVjdGVkIiksdCs9JyIgYXJpYS1zZWxlY3RlZD0iJysoZj8idHJ1ZSI6ImZhbHNlIikrJyIgZGF0YS1vZmZzZXQtaW5kZXg9Iicrbi5pbmRleCsnIj4nLHQrPWk/dGhpcy5fcmVuZGVyQ29sdW1ucyhyKTp0aGlzLnRlbXBsYXRlcy50ZW1wbGF0ZShyKSx1JiZuLm5ld0dyb3VwP3QrPWk/JzxkaXYgY2xhc3M9ImstY2VsbCBrLWdyb3VwLWNlbGwiPjxzcGFuPicrdGhpcy50ZW1wbGF0ZXMuZ3JvdXBUZW1wbGF0ZShuLmdyb3VwKSsiPFwvc3Bhbj48XC9kaXY+IjonPGRpdiBjbGFzcz0iay1ncm91cCI+Jyt0aGlzLnRlbXBsYXRlcy5ncm91cFRlbXBsYXRlKG4uZ3JvdXApKyI8XC9kaXY+IjplJiZpJiYodCs9IjxkaXYgY2xhc3M9J2stY2VsbCBrLXNwYWNlci1jZWxsJz48XC9kaXY+IiksdCsiPFwvbGk+In0sX3JlbmRlckNvbHVtbnM6ZnVuY3Rpb24obil7Zm9yKHZhciByLGYsdCx1PSIiLGk9MDtpPHRoaXMub3B0aW9ucy5jb2x1bW5zLmxlbmd0aDtpKyspcj10aGlzLm9wdGlvbnMuY29sdW1uc1tpXS53aWR0aCxmPXBhcnNlSW50KHIsMTApLHQ9IiIsciYmIWlzTmFOKGYpJiYodCs9InN0eWxlPSd3aWR0aDoiLHQrPWYsdCs9cnQudGVzdChyKT8iJSI6InB4Iix0Kz0iOyciKSx1Kz0iPHNwYW4gY2xhc3M9J2stY2VsbCcgIit0KyI+Iix1Kz10aGlzLnRlbXBsYXRlc1siY29sdW1uIitpXShuKSx1Kz0iPFwvc3Bhbj4iO3JldHVybiB1fSxfcmVuZGVyOmZ1bmN0aW9uKCl7dmFyIHQsaSxlLHIsbz0iIixuPTAscz0wLGY9W10sdT10aGlzLmRhdGFTb3VyY2UudmlldygpLGg9dGhpcy52YWx1ZSgpLGM9dGhpcy5pc0dyb3VwZWQoKTtpZihjKWZvcihuPTA7bjx1Lmxlbmd0aDtuKyspZm9yKGk9dVtuXSxlPSEwLHI9MDtyPGkuaXRlbXMubGVuZ3RoO3IrKyl0PXtzZWxlY3RlZDp0aGlzLl9zZWxlY3RlZChpLml0ZW1zW3JdLGgpLGl0ZW06aS5pdGVtc1tyXSxncm91cDppLnZhbHVlLG5ld0dyb3VwOmUsaXNMYXN0R3JvdXBlZEl0ZW06cj09PWkuaXRlbXMubGVuZ3RoLTEsaW5kZXg6c30sZltzXT10LHMrPTEsbys9dGhpcy5fcmVuZGVySXRlbSh0KSxlPSExO2Vsc2UgZm9yKG49MDtuPHUubGVuZ3RoO24rKyl0PXtzZWxlY3RlZDp0aGlzLl9zZWxlY3RlZCh1W25dLGgpLGl0ZW06dVtuXSxpbmRleDpufSxmW25dPXQsbys9dGhpcy5fcmVuZGVySXRlbSh0KTt0aGlzLl92aWV3PWY7dGhpcy5lbGVtZW50WzBdLmlubmVySFRNTD1vO2MmJmYubGVuZ3RoJiZ0aGlzLl9yZW5kZXJIZWFkZXIoKX0sX3NlbGVjdGVkOmZ1bmN0aW9uKG4sdCl7dmFyIGk9IXRoaXMuaXNGaWx0ZXJlZCgpfHwibXVsdGlwbGUiPT09dGhpcy5vcHRpb25zLnNlbGVjdGFibGU7cmV0dXJuIGkmJnRoaXMuX2RhdGFJdGVtUG9zaXRpb24obix0KSE9PS0xfSxzZXREU0ZpbHRlcjpmdW5jdGlvbihuKXt0aGlzLl9sYXN0RFNGaWx0ZXI9YSh7fSxuKX0saXNGaWx0ZXJlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYXN0RFNGaWx0ZXJ8fHRoaXMuc2V0RFNGaWx0ZXIodGhpcy5kYXRhU291cmNlLmZpbHRlcigpKSwhaS5kYXRhLlF1ZXJ5LmNvbXBhcmVGaWx0ZXJzKHRoaXMuZGF0YVNvdXJjZS5maWx0ZXIoKSx0aGlzLl9sYXN0RFNGaWx0ZXIpfSxyZWZyZXNoOmZ1bmN0aW9uKG4pe3ZhciBpLHQ9dGhpcyxyPW4mJm4uYWN0aW9uLGY9dC5vcHRpb25zLnNraXBVcGRhdGVPbkJpbmQsdT0iaXRlbWNoYW5nZSI9PT1yO3QudHJpZ2dlcigiZGF0YUJpbmRpbmciKTt0Ll9hbmd1bGFySXRlbXMoImNsZWFudXAiKTt0Ll9maXhlZEhlYWRlcigpO3QuX3JlbmRlcigpO3QuYm91bmQoITApO3V8fCJyZW1vdmUiPT09cj8oaT1kdCh0Ll9kYXRhSXRlbXMsbi5pdGVtcyksaS5jaGFuZ2VkLmxlbmd0aCYmKHU/dC50cmlnZ2VyKCJzZWxlY3RlZEl0ZW1DaGFuZ2UiLHtpdGVtczppLmNoYW5nZWR9KTp0LnZhbHVlKHQuX2dldFZhbHVlcyhpLnVuY2hhbmdlZCkpKSk6dC5pc0ZpbHRlcmVkKCl8fHQuX3NraXBVcGRhdGV8fHQuX2VtcHR5U2VhcmNoPyh0LmZvY3VzKDApLHQuX3NraXBVcGRhdGUmJih0Ll9za2lwVXBkYXRlPSExLHQuX3NlbGVjdGVkSW5kaWNlcz10Ll92YWx1ZUluZGljZXModC5fdmFsdWVzLHQuX3NlbGVjdGVkSW5kaWNlcykpKTpmfHxyJiYiYWRkIiE9PXJ8fHQudmFsdWUodC5fdmFsdWVzKTt0Ll92YWx1ZURlZmVycmVkJiZ0Ll92YWx1ZURlZmVycmVkLnJlc29sdmUoKTt0Ll9hbmd1bGFySXRlbXMoImNvbXBpbGUiKTt0LnRyaWdnZXIoImRhdGFCb3VuZCIpfSxib3VuZDpmdW5jdGlvbihuKXtyZXR1cm4gbj09PXQ/dGhpcy5fYm91bmQ6KHRoaXMuX2JvdW5kPW4sdCl9LGlzR3JvdXBlZDpmdW5jdGlvbigpe3JldHVybih0aGlzLmRhdGFTb3VyY2UuZ3JvdXAoKXx8W10pLmxlbmd0aH19KTtsLnBsdWdpbih0dCl9KHdpbmRvdy5rZW5kby5qUXVlcnkpLHdpbmRvdy5rZW5kb30sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmU6ZnVuY3Rpb24obix0LGkpeyhpfHx0KSgpfSk7Ci8qIQogKiBDb3B5cmlnaHQgMjAyMCBQcm9ncmVzcyBTb2Z0d2FyZSBDb3Jwb3JhdGlvbiBhbmQvb3Igb25lIG9mIGl0cyBzdWJzaWRpYXJpZXMgb3IgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCiFmdW5jdGlvbihuLHQpe3QoImtlbmRvLmF1dG9jb21wbGV0ZS5taW4iLFsia2VuZG8ubGlzdC5taW4iLCJrZW5kby5tb2JpbGUuc2Nyb2xsZXIubWluIiwia2VuZG8udmlydHVhbGxpc3QubWluIl0sbil9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gcyhuLHQsaSl7cmV0dXJuIGk/dC5zdWJzdHJpbmcoMCxuKS5zcGxpdChpKS5sZW5ndGgtMTowfWZ1bmN0aW9uIGcobix0LGkpe3JldHVybiB0LnNwbGl0KGkpW3Mobix0LGkpXX1mdW5jdGlvbiBudChuLHQsaSxyLHUpe3ZhciBmPXQuc3BsaXQocik7cmV0dXJuIGYuc3BsaWNlKHMobix0LHIpLDEsaSksciYmIiIhPT1mW2YubGVuZ3RoLTFdJiZmLnB1c2goIiIpLGYuam9pbih1KX12YXIgZj13aW5kb3cua2VuZG8sdHQ9Zi5zdXBwb3J0LG89Zi5jYXJldCxoPWYuX2FjdGl2ZUVsZW1lbnQsdj10dC5wbGFjZWhvbGRlcix5PWYudWksdT15Lkxpc3Qscj1mLmtleXMsaXQ9Zi5kYXRhLkRhdGFTb3VyY2UscD0iYXJpYS1kaXNhYmxlZCIsdz0iYXJpYS1yZWFkb25seSIsYz0iY2hhbmdlIixsPSJrLXN0YXRlLWRlZmF1bHQiLGI9ImRpc2FibGVkIixrPSJyZWFkb25seSIsZD0iay1zdGF0ZS1mb2N1c2VkIixydD0iay1zdGF0ZS1zZWxlY3RlZCIsYT0iay1zdGF0ZS1kaXNhYmxlZCIsdXQ9Im9mZiIsZnQ9Imstc3RhdGUtaG92ZXIiLGk9Ii5rZW5kb0F1dG9Db21wbGV0ZSIsZXQ9Im1vdXNlZW50ZXIiK2krIiBtb3VzZWxlYXZlIitpLGU9bi5wcm94eSxvdD11LmV4dGVuZCh7aW5pdDpmdW5jdGlvbih0LHIpe3ZhciBzLGgsbz10aGlzO28ubnM9aTtyPW4uaXNBcnJheShyKT97ZGF0YVNvdXJjZTpyfTpyO3UuZm4uaW5pdC5jYWxsKG8sdCxyKTt0PW8uZWxlbWVudDtyPW8ub3B0aW9ucztyLnBsYWNlaG9sZGVyPXIucGxhY2Vob2xkZXJ8fHQuYXR0cigicGxhY2Vob2xkZXIiKTt2JiZ0LmF0dHIoInBsYWNlaG9sZGVyIixyLnBsYWNlaG9sZGVyKTtvLl93cmFwcGVyKCk7by5fbG9hZGVyKCk7by5fY2xlYXJCdXR0b24oKTtvLl9kYXRhU291cmNlKCk7by5faWdub3JlQ2FzZSgpO3RbMF0udHlwZT0idGV4dCI7cz1vLndyYXBwZXI7by5fcG9wdXAoKTt0LmFkZENsYXNzKCJrLWlucHV0Iikub24oImtleWRvd24iK2ksZShvLl9rZXlkb3duLG8pKS5vbigia2V5cHJlc3MiK2ksZShvLl9rZXlwcmVzcyxvKSkub24oImlucHV0IitpLGUoby5fc2VhcmNoLG8pKS5vbigicGFzdGUiK2ksZShvLl9zZWFyY2gsbykpLm9uKCJmb2N1cyIraSxmdW5jdGlvbigpe28uX3ByZXY9by5fYWNjZXNzb3IoKTtvLl9vbGRUZXh0PW8uX3ByZXY7by5fcGxhY2Vob2xkZXIoITEpO3MuYWRkQ2xhc3MoZCl9KS5vbigiZm9jdXNvdXQiK2ksZnVuY3Rpb24oKXtvLl9jaGFuZ2UoKTtvLl9wbGFjZWhvbGRlcigpO28uY2xvc2UoKTtzLnJlbW92ZUNsYXNzKGQpfSkuYXR0cih7YXV0b2NvbXBsZXRlOnV0LHJvbGU6InRleHRib3giLCJhcmlhLWhhc3BvcHVwIjohMH0pO28uX2NsZWFyLm9uKCJjbGljayIraSsiIHRvdWNoZW5kIitpLGUoby5fY2xlYXJWYWx1ZSxvKSk7by5fZW5hYmxlKCk7by5fb2xkPW8uX2FjY2Vzc29yKCk7dFswXS5pZCYmdC5hdHRyKCJhcmlhLW93bnMiLG8udWxbMF0uaWQpO28uX2FyaWEoKTtvLl9wbGFjZWhvbGRlcigpO28uX2luaXRMaXN0KCk7aD1uKG8uZWxlbWVudCkucGFyZW50cygiZmllbGRzZXQiKS5pcygiOmRpc2FibGVkIik7aCYmby5lbmFibGUoITEpO28ubGlzdFZpZXcuYmluZCgiY2xpY2siLGZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKX0pO28uX3Jlc2V0Rm9jdXNJdGVtSGFuZGxlcj1uLnByb3h5KG8uX3Jlc2V0Rm9jdXNJdGVtLG8pO2Yubm90aWZ5KG8pO28uX3RvZ2dsZUNsb3NlVmlzaWJpbGl0eSgpfSxvcHRpb25zOntuYW1lOiJBdXRvQ29tcGxldGUiLGVuYWJsZWQ6ITAsc3VnZ2VzdDohMSx0ZW1wbGF0ZToiIixncm91cFRlbXBsYXRlOiIjOmRhdGEjIixmaXhlZEdyb3VwVGVtcGxhdGU6IiM6ZGF0YSMiLGRhdGFUZXh0RmllbGQ6IiIsbWluTGVuZ3RoOjEsZW5mb3JjZU1pbkxlbmd0aDohMSxkZWxheToyMDAsaGVpZ2h0OjIwMCxmaWx0ZXI6InN0YXJ0c3dpdGgiLGlnbm9yZUNhc2U6ITAsaGlnaGxpZ2h0Rmlyc3Q6ITEsc2VwYXJhdG9yOm51bGwscGxhY2Vob2xkZXI6IiIsYW5pbWF0aW9uOnt9LHZpcnR1YWw6ITEsdmFsdWU6bnVsbCxjbGVhckJ1dHRvbjohMCxhdXRvV2lkdGg6ITEscG9wdXA6bnVsbH0sX2RhdGFTb3VyY2U6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uZGF0YVNvdXJjZSYmbi5fcmVmcmVzaEhhbmRsZXI/bi5fdW5iaW5kRGF0YVNvdXJjZSgpOihuLl9wcm9ncmVzc0hhbmRsZXI9ZShuLl9zaG93QnVzeSxuKSxuLl9lcnJvckhhbmRsZXI9ZShuLl9oaWRlQnVzeSxuKSk7bi5kYXRhU291cmNlPWl0LmNyZWF0ZShuLm9wdGlvbnMuZGF0YVNvdXJjZSkuYmluZCgicHJvZ3Jlc3MiLG4uX3Byb2dyZXNzSGFuZGxlcikuYmluZCgiZXJyb3IiLG4uX2Vycm9ySGFuZGxlcil9LHNldERhdGFTb3VyY2U6ZnVuY3Rpb24obil7dGhpcy5vcHRpb25zLmRhdGFTb3VyY2U9bjt0aGlzLl9kYXRhU291cmNlKCk7dGhpcy5saXN0Vmlldy5zZXREYXRhU291cmNlKHRoaXMuZGF0YVNvdXJjZSl9LGV2ZW50czpbIm9wZW4iLCJjbG9zZSIsYywic2VsZWN0IiwiZmlsdGVyaW5nIiwiZGF0YUJpbmRpbmciLCJkYXRhQm91bmQiXSxzZXRPcHRpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2xpc3RPcHRpb25zKG4pO3UuZm4uc2V0T3B0aW9ucy5jYWxsKHRoaXMsbik7dGhpcy5saXN0Vmlldy5zZXRPcHRpb25zKHQpO3RoaXMuX2FjY2Vzc29ycygpO3RoaXMuX2FyaWEoKTt0aGlzLl9jbGVhckJ1dHRvbigpfSxfbGlzdE9wdGlvbnM6ZnVuY3Rpb24odCl7dmFyIGk9dS5mbi5fbGlzdE9wdGlvbnMuY2FsbCh0aGlzLG4uZXh0ZW5kKHQse3NraXBVcGRhdGVPbkJpbmQ6ITB9KSk7cmV0dXJuIGkuZGF0YVZhbHVlRmllbGQ9aS5kYXRhVGV4dEZpZWxkLGkuc2VsZWN0ZWRJdGVtQ2hhbmdlPW51bGwsaX0sX2VkaXRhYmxlOmZ1bmN0aW9uKG4pe3ZhciByPXRoaXMsZj1yLmVsZW1lbnQsZT1yLndyYXBwZXIub2ZmKGkpLHU9bi5yZWFkb25seSx0PW4uZGlzYWJsZTt1fHx0PyhlLmFkZENsYXNzKHQ/YTpsKS5yZW1vdmVDbGFzcyh0P2w6YSksZi5hdHRyKGIsdCkuYXR0cihrLHUpLmF0dHIocCx0KS5hdHRyKHcsdSkpOihlLmFkZENsYXNzKGwpLnJlbW92ZUNsYXNzKGEpLm9uKGV0LHIuX3RvZ2dsZUhvdmVyKSxmLnJlbW92ZUF0dHIoYikucmVtb3ZlQXR0cihrKS5hdHRyKHAsITEpLmF0dHIodywhMSkpfSxjbG9zZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMsdD1uLmxpc3RWaWV3LmZvY3VzKCk7dCYmdC5yZW1vdmVDbGFzcyhydCk7bi5wb3B1cC5jbG9zZSgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLmVsZW1lbnQub2ZmKGkpO24uX2NsZWFyLm9mZihpKTtuLndyYXBwZXIub2ZmKGkpO3UuZm4uZGVzdHJveS5jYWxsKG4pfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5saXN0Vmlldy5yZWZyZXNoKCl9LHNlbGVjdDpmdW5jdGlvbihuKXt0aGlzLl9zZWxlY3Qobil9LHNlYXJjaDpmdW5jdGlvbih0KXt2YXIgdSxpPXRoaXMscj1pLm9wdGlvbnMsZj1yLmlnbm9yZUNhc2UsZT1pLl9zZXBhcmF0b3IoKSxzPWkuZGF0YVNvdXJjZS5vcHRpb25zLmFjY2VudEZvbGRpbmdGaWx0ZXJpbmc7dD10fHxpLl9hY2Nlc3NvcigpO2NsZWFyVGltZW91dChpLl90eXBpbmdUaW1lb3V0KTtlJiYodD1nKG8oaS5lbGVtZW50KVswXSx0LGUpKTt1PXQubGVuZ3RoOyghci5lbmZvcmNlTWluTGVuZ3RoJiYhdXx8dT49ci5taW5MZW5ndGgpJiYoaS5fb3Blbj0hMCxpLl9tdXRlKGZ1bmN0aW9uKCl7dGhpcy5saXN0Vmlldy52YWx1ZShbXSl9KSxpLl9maWx0ZXJTb3VyY2Uoe3ZhbHVlOmY/cz90LnRvTG9jYWxlTG93ZXJDYXNlKHMpOnQudG9Mb3dlckNhc2UoKTp0LG9wZXJhdG9yOnIuZmlsdGVyLGZpZWxkOnIuZGF0YVRleHRGaWVsZCxpZ25vcmVDYXNlOmZ9KSxpLm9uZSgiY2xvc2UiLG4ucHJveHkoaS5fdW5pZnlTZXBhcmF0b3JzLGkpKSk7aS5fdG9nZ2xlQ2xvc2VWaXNpYmlsaXR5KCl9LHN1Z2dlc3Q6ZnVuY3Rpb24obil7dmFyIGMsZj10aGlzLHA9Zi5fbGFzdCxpPWYuX2FjY2Vzc29yKCkseT1mLmVsZW1lbnRbMF0sZT1vKHkpWzBdLGE9Zi5fc2VwYXJhdG9yKCksdj1pLnNwbGl0KGEpLHc9cyhlLGksYSksYj1lLGw9Zi5kYXRhU291cmNlLm9wdGlvbnMuYWNjZW50Rm9sZGluZ0ZpbHRlcmluZztyZXR1cm4gcD09ci5CQUNLU1BBQ0V8fHA9PXIuREVMRVRFPyhmLl9sYXN0PXQsdCk6KG49bnx8IiIsInN0cmluZyIhPXR5cGVvZiBuJiYoblswXSYmKG49Zi5kYXRhU291cmNlLnZpZXcoKVt1LmluQXJyYXkoblswXSxmLnVsWzBdKV0pLG49bj9mLl90ZXh0KG4pOiIiKSxlPD0wJiYoZT0obD9pLnRvTG9jYWxlTG93ZXJDYXNlKGwpOmkudG9Mb3dlckNhc2UoKSkuaW5kZXhPZihsP24udG9Mb2NhbGVMb3dlckNhc2UobCk6bi50b0xvd2VyQ2FzZSgpKSsxKSxjPWkuc3Vic3RyaW5nKDAsZSkubGFzdEluZGV4T2YoYSksYz1jPi0xP2UtKGMrYS5sZW5ndGgpOmUsaT12W3ddLnN1YnN0cmluZygwLGMpLG4mJihuPSIiK24sYz0obD9uLnRvTG9jYWxlTG93ZXJDYXNlKGwpOm4udG9Mb3dlckNhc2UoKSkuaW5kZXhPZihsP2kudG9Mb2NhbGVMb3dlckNhc2UobCk6aS50b0xvd2VyQ2FzZSgpKSxjPi0xJiYobj1uLnN1YnN0cmluZyhjK2kubGVuZ3RoKSxiPWUrbi5sZW5ndGgsaSs9biksYSYmIiIhPT12W3YubGVuZ3RoLTFdJiZ2LnB1c2goIiIpKSx2W3ddPWksZi5fYWNjZXNzb3Iodi5qb2luKGF8fCIiKSkseT09PWgoKSYmbyh5LGUsYiksdCl9LHZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiBuPT09dD90aGlzLl9hY2Nlc3NvcigpOih0aGlzLmxpc3RWaWV3LnZhbHVlKG4pLHRoaXMuX2FjY2Vzc29yKG4pLHRoaXMuX29sZD10aGlzLl9hY2Nlc3NvcigpLHRoaXMuX29sZFRleHQ9dGhpcy5fYWNjZXNzb3IoKSx0aGlzLl90b2dnbGVDbG9zZVZpc2liaWxpdHkoKSx0KX0sX2NsaWNrOmZ1bmN0aW9uKG4pe3ZhciByPW4uaXRlbSxpPXRoaXMsdT1pLmVsZW1lbnQsZj1pLmxpc3RWaWV3LmRhdGFJdGVtQnlJbmRleChpLmxpc3RWaWV3LmdldEVsZW1lbnRJbmRleChyKSk7cmV0dXJuIG4ucHJldmVudERlZmF1bHQoKSxpLl9hY3RpdmU9ITAsaS50cmlnZ2VyKCJzZWxlY3QiLHtkYXRhSXRlbTpmLGl0ZW06cn0pPyhpLmNsb3NlKCksdCk6KGkuX29sZFRleHQ9dS52YWwoKSxpLl9zZWxlY3QocikuZG9uZShmdW5jdGlvbigpe2kuX2JsdXIoKTtvKHUsdS52YWwoKS5sZW5ndGgpfSksdCl9LF9jbGVhclRleHQ6bi5ub29wLF9yZXNldEZvY3VzSXRlbTpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3B0aW9ucy5oaWdobGlnaHRGaXJzdD8wOi0xO3RoaXMub3B0aW9ucy52aXJ0dWFsJiZ0aGlzLmxpc3RWaWV3LnNjcm9sbFRvKDApO3RoaXMubGlzdFZpZXcuZm9jdXMobil9LF9saXN0Qm91bmQ6ZnVuY3Rpb24oKXt2YXIgcixuPXRoaXMsdT1uLnBvcHVwLGY9bi5vcHRpb25zLGU9bi5kYXRhU291cmNlLmZsYXRWaWV3KCksaT1lLmxlbmd0aCxzPW4uZGF0YVNvdXJjZS5fZ3JvdXAubGVuZ3RoLG89bi5lbGVtZW50WzBdPT09aCgpO24uX3JlbmRlckZvb3RlcigpO24uX3JlbmRlck5vRGF0YSgpO24uX3RvZ2dsZU5vRGF0YSghaSk7bi5fdG9nZ2xlSGVhZGVyKCEhcyYmISFpKTtuLl9yZXNpemVQb3B1cCgpO3UucG9zaXRpb24oKTtpJiZmLnN1Z2dlc3QmJm8mJm4uX2lucHV0VmFsdWUoKSYmbi5zdWdnZXN0KGVbMF0pO24uX29wZW4mJihuLl9vcGVuPSExLHI9bi5fYWxsb3dPcGVuaW5nKCk/Im9wZW4iOiJjbG9zZSIsbi5fdHlwaW5nVGltZW91dCYmIW8mJihyPSJjbG9zZSIpLGkmJihuLl9yZXNldEZvY3VzSXRlbSgpLGYudmlydHVhbCYmbi5wb3B1cC51bmJpbmQoImFjdGl2YXRlIixuLl9yZXNldEZvY3VzSXRlbUhhbmRsZXIpLm9uZSgiYWN0aXZhdGUiLG4uX3Jlc2V0Rm9jdXNJdGVtSGFuZGxlcikpLHVbcl0oKSxuLl90eXBpbmdUaW1lb3V0PXQpO24uX3RvdWNoU2Nyb2xsZXImJm4uX3RvdWNoU2Nyb2xsZXIucmVzZXQoKTtuLl9oaWRlQnVzeSgpO24uX21ha2VVbnNlbGVjdGFibGUoKTtuLnRyaWdnZXIoImRhdGFCb3VuZCIpfSxfbXV0ZTpmdW5jdGlvbihuKXt0aGlzLl9tdXRlZD0hMDtuLmNhbGwodGhpcyk7dGhpcy5fbXV0ZWQ9ITF9LF9saXN0Q2hhbmdlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fYWN0aXZlfHx0aGlzLmVsZW1lbnRbMF09PT1oKCk7biYmIXRoaXMuX211dGVkJiZ0aGlzLl9zZWxlY3RWYWx1ZSh0aGlzLmxpc3RWaWV3LnNlbGVjdGVkRGF0YUl0ZW1zKClbMF0pfSxfc2VsZWN0VmFsdWU6ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5fc2VwYXJhdG9yKCksdD0iIjtuJiYodD10aGlzLl90ZXh0KG4pKTtudWxsPT09dCYmKHQ9IiIpO2kmJih0PW50KG8odGhpcy5lbGVtZW50KVswXSx0aGlzLl9hY2Nlc3NvcigpLHQsaSx0aGlzLl9kZWZhdWx0U2VwYXJhdG9yKCkpKTt0aGlzLl9wcmV2PXQ7dGhpcy5fYWNjZXNzb3IodCk7dGhpcy5fcGxhY2Vob2xkZXIoKX0sX3VuaWZ5U2VwYXJhdG9yczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY2Nlc3Nvcih0aGlzLnZhbHVlKCkuc3BsaXQodGhpcy5fc2VwYXJhdG9yKCkpLmpvaW4odGhpcy5fZGVmYXVsdFNlcGFyYXRvcigpKSksdGhpc30sX3ByZXNlbGVjdDpmdW5jdGlvbihuLHQpe3RoaXMuX2lucHV0VmFsdWUodCk7dGhpcy5fYWNjZXNzb3Iobik7dGhpcy5fb2xkPXRoaXMub2xkVGV4dD10aGlzLl9hY2Nlc3NvcigpO3RoaXMubGlzdFZpZXcuc2V0VmFsdWUobik7dGhpcy5fcGxhY2Vob2xkZXIoKX0sX2NoYW5nZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMsdD1uLl91bmlmeVNlcGFyYXRvcnMoKS52YWx1ZSgpLGk9dCE9PXUudW5pZnlUeXBlKG4uX29sZCx0eXBlb2YgdCkscj1pJiYhbi5fdHlwaW5nLGY9bi5fb2xkVGV4dCE9PXQ7bi5fb2xkPXQ7bi5fb2xkVGV4dD10OyhyfHxmKSYmbi5lbGVtZW50LnRyaWdnZXIoYyk7aSYmbi50cmlnZ2VyKGMpO24udHlwaW5nPSExO24uX3RvZ2dsZUNsb3NlVmlzaWJpbGl0eSgpfSxfYWNjZXNzb3I6ZnVuY3Rpb24obil7dmFyIGk9dGhpcyxyPWkuZWxlbWVudFswXTtyZXR1cm4gbj09PXQ/KG49ci52YWx1ZSxyLmNsYXNzTmFtZS5pbmRleE9mKCJrLXJlYWRvbmx5Iik+LTEmJm49PT1pLm9wdGlvbnMucGxhY2Vob2xkZXI/IiI6bik6KHIudmFsdWU9bnVsbD09PW4/IiI6bixpLl9wbGFjZWhvbGRlcigpLHQpfSxfa2V5ZG93bjpmdW5jdGlvbihuKXt2YXIgbyxzLHQ9dGhpcyxpPW4ua2V5Q29kZSxmPXQubGlzdFZpZXcsZT10LnBvcHVwLnZpc2libGUoKSx1PWYuZm9jdXMoKTtpZih0Ll9sYXN0PWksaT09PXIuRE9XTillP3RoaXMuX21vdmUodT8iZm9jdXNOZXh0IjoiZm9jdXNGaXJzdCIpOnQudmFsdWUoKSYmdC5fZmlsdGVyU291cmNlKHt2YWx1ZTp0Lmlnbm9yZUNhc2U/dC52YWx1ZSgpLnRvTG93ZXJDYXNlKCk6dC52YWx1ZSgpLG9wZXJhdG9yOnQub3B0aW9ucy5maWx0ZXIsZmllbGQ6dC5vcHRpb25zLmRhdGFUZXh0RmllbGQsaWdub3JlQ2FzZTp0Lmlnbm9yZUNhc2V9KS5kb25lKGZ1bmN0aW9uKCl7dC5fYWxsb3dPcGVuaW5nKCkmJih0Ll9yZXNldEZvY3VzSXRlbSgpLHQucG9wdXAub3BlbigpKX0pLG4ucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKGk9PT1yLlVQKWUmJnRoaXMuX21vdmUodT8iZm9jdXNQcmV2IjoiZm9jdXNMYXN0Iiksbi5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgaWYoaT09PXIuSE9NRSl0aGlzLl9tb3ZlKCJmb2N1c0ZpcnN0Iik7ZWxzZSBpZihpPT09ci5FTkQpdGhpcy5fbW92ZSgiZm9jdXNMYXN0Iik7ZWxzZSBpZihpPT09ci5FTlRFUnx8aT09PXIuVEFCKXtpZihpPT09ci5FTlRFUiYmZSYmbi5wcmV2ZW50RGVmYXVsdCgpLGUmJnUpe2lmKG89Zi5kYXRhSXRlbUJ5SW5kZXgoZi5nZXRFbGVtZW50SW5kZXgodSkpLHQudHJpZ2dlcigic2VsZWN0Iix7ZGF0YUl0ZW06byxpdGVtOnV9KSlyZXR1cm47dGhpcy5fc2VsZWN0KHUpfXRoaXMuX2JsdXIoKX1lbHNlIGk9PT1yLkVTQz8oZT9uLnByZXZlbnREZWZhdWx0KCk6dC5fY2xlYXJWYWx1ZSgpLHQuY2xvc2UoKSk6IXQucG9wdXAudmlzaWJsZSgpfHxpIT09ci5QQUdFRE9XTiYmaSE9PXIuUEFHRVVQPyh0LnBvcHVwLl9ob3ZlcmVkPSEwLHQuX3NlYXJjaCgpKToobi5wcmV2ZW50RGVmYXVsdCgpLHM9aT09PXIuUEFHRURPV04/MTotMSxmLnNjcm9sbFdpdGgocypmLnNjcmVlbkhlaWdodCgpKSl9LF9rZXlwcmVzczpmdW5jdGlvbigpe3RoaXMuX29sZFRleHQ9dGhpcy5lbGVtZW50LnZhbCgpO3RoaXMuX3R5cGluZz0hMH0sX21vdmU6ZnVuY3Rpb24obil7dGhpcy5saXN0Vmlld1tuXSgpO3RoaXMub3B0aW9ucy5zdWdnZXN0JiZ0aGlzLnN1Z2dlc3QodGhpcy5saXN0Vmlldy5mb2N1cygpKX0sX2hpZGVCdXN5OmZ1bmN0aW9uKCl7dmFyIG49dGhpcztjbGVhclRpbWVvdXQobi5fYnVzeSk7bi5fbG9hZGluZy5oaWRlKCk7bi5lbGVtZW50LmF0dHIoImFyaWEtYnVzeSIsITEpO24uX2J1c3k9bnVsbDtuLl9zaG93Q2xlYXIoKX0sX3Nob3dCdXN5OmZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLl9idXN5fHwobi5fYnVzeT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5lbGVtZW50LmF0dHIoImFyaWEtYnVzeSIsITApO24uX2xvYWRpbmcuc2hvdygpO24uX2hpZGVDbGVhcigpfSwxMDApKX0sX3BsYWNlaG9sZGVyOmZ1bmN0aW9uKG4pe2lmKCF2KXt2YXIgaSxmPXRoaXMsdT1mLmVsZW1lbnQscj1mLm9wdGlvbnMucGxhY2Vob2xkZXI7aWYocil7aWYoaT11LnZhbCgpLG49PT10JiYobj0haSksbnx8KHI9aSE9PXI/aToiIiksaT09PWYuX29sZCYmIW4pcmV0dXJuO3UudG9nZ2xlQ2xhc3MoImstcmVhZG9ubHkiLG4pLnZhbChyKTtyfHx1WzBdIT09ZG9jdW1lbnQuYWN0aXZlRWxlbWVudHx8byh1WzBdLDAsMCl9fX0sX3NlcGFyYXRvcjpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3B0aW9ucy5zZXBhcmF0b3I7cmV0dXJuIG4gaW5zdGFuY2VvZiBBcnJheT9SZWdFeHAobi5qb2luKCJ8IiksImdpIik6bn0sX2RlZmF1bHRTZXBhcmF0b3I6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9wdGlvbnMuc2VwYXJhdG9yO3JldHVybiBuIGluc3RhbmNlb2YgQXJyYXk/blswXTpufSxfaW5wdXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQudmFsKCl9LF9zZWFyY2g6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO2NsZWFyVGltZW91dChuLl90eXBpbmdUaW1lb3V0KTtuLl90eXBpbmdUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLl9wcmV2IT09bi5fYWNjZXNzb3IoKSYmKG4uX3ByZXY9bi5fYWNjZXNzb3IoKSxuLnNlYXJjaCgpKX0sbi5vcHRpb25zLmRlbGF5KX0sX3NlbGVjdDpmdW5jdGlvbihuKXt2YXIgdD10aGlzO3JldHVybiB0Ll9hY3RpdmU9ITAsdC5saXN0Vmlldy5zZWxlY3QobikuZG9uZShmdW5jdGlvbigpe3QuX2FjdGl2ZT0hMX0pfSxfbG9hZGVyOmZ1bmN0aW9uKCl7dGhpcy5fbG9hZGluZz1uKCc8c3BhbiBjbGFzcz0iay1pY29uIGstaS1sb2FkaW5nIiBzdHlsZT0iZGlzcGxheTpub25lIj48XC9zcGFuPicpLmluc2VydEFmdGVyKHRoaXMuZWxlbWVudCl9LF9jbGVhckJ1dHRvbjpmdW5jdGlvbigpe3UuZm4uX2NsZWFyQnV0dG9uLmNhbGwodGhpcyk7dGhpcy5vcHRpb25zLmNsZWFyQnV0dG9uJiYodGhpcy5fY2xlYXIuaW5zZXJ0QWZ0ZXIodGhpcy5lbGVtZW50KSx0aGlzLndyYXBwZXIuYWRkQ2xhc3MoImstYXV0b2NvbXBsZXRlLWNsZWFyYWJsZSIpKX0sX3RvZ2dsZUhvdmVyOmZ1bmN0aW9uKHQpe24odC5jdXJyZW50VGFyZ2V0KS50b2dnbGVDbGFzcyhmdCwibW91c2VlbnRlciI9PT10LnR5cGUpfSxfdG9nZ2xlQ2xvc2VWaXNpYmlsaXR5OmZ1bmN0aW9uKCl7dGhpcy52YWx1ZSgpP3RoaXMuX3Nob3dDbGVhcigpOnRoaXMuX2hpZGVDbGVhcigpfSxfd3JhcHBlcjpmdW5jdGlvbigpe3ZhciB0LGk9dGhpcyxyPWkuZWxlbWVudCx1PXJbMF07dD1yLnBhcmVudCgpO3QuaXMoInNwYW4uay13aWRnZXQiKXx8KHQ9ci53cmFwKCI8c3BhbiAvPiIpLnBhcmVudCgpKTt0LmF0dHIoInRhYmluZGV4IiwtMSk7dC5hdHRyKCJyb2xlIiwicHJlc2VudGF0aW9uIik7dFswXS5zdHlsZS5jc3NUZXh0PXUuc3R5bGUuY3NzVGV4dDtyLmNzcyh7d2lkdGg6IiIsaGVpZ2h0OnUuc3R5bGUuaGVpZ2h0fSk7aS5fZm9jdXNlZD1pLmVsZW1lbnQ7aS53cmFwcGVyPXQuYWRkQ2xhc3MoImstd2lkZ2V0IGstYXV0b2NvbXBsZXRlIikuYWRkQ2xhc3ModS5jbGFzc05hbWUpLnJlbW92ZUNsYXNzKCJpbnB1dC12YWxpZGF0aW9uLWVycm9yIik7aS5faW5wdXRXcmFwcGVyPW4odFswXSl9LF9jbGVhclZhbHVlOmZ1bmN0aW9uKCl7dS5mbi5fY2xlYXJWYWx1ZS5jYWxsKHRoaXMpO3RoaXMuZWxlbWVudC5mb2N1cygpfX0pO3kucGx1Z2luKG90KX0od2luZG93LmtlbmRvLmpRdWVyeSksd2luZG93LmtlbmRvfSwiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZTpmdW5jdGlvbihuLHQsaSl7KGl8fHQpKCl9KTsKLyohCiAqIENvcHlyaWdodCAyMDIwIFByb2dyZXNzIFNvZnR3YXJlIENvcnBvcmF0aW9uIGFuZC9vciBvbmUgb2YgaXRzIHN1YnNpZGlhcmllcyBvciBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KIWZ1bmN0aW9uKG4sdCl7dCgia2VuZG8uZngubWluIixbImtlbmRvLmNvcmUubWluIl0sbil9KGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24geXQobil7cmV0dXJuIHBhcnNlSW50KG4sMTApfWZ1bmN0aW9uIGwobix0KXtyZXR1cm4geXQobi5jc3ModCkpfWZ1bmN0aW9uIGxpKG4pe3ZhciB0LGk9W107Zm9yKHQgaW4gbilpLnB1c2godCk7cmV0dXJuIGl9ZnVuY3Rpb24gcnQobil7Zm9yKHZhciB0IGluIG4paHQuaW5kZXhPZih0KSE9LTEmJmQuaW5kZXhPZih0KT09LTEmJmRlbGV0ZSBuW3RdO3JldHVybiBufWZ1bmN0aW9uIHV0KG4sdCl7dmFyIHIsaSx1LGUsbz1bXSxoPXt9O2ZvcihpIGluIHQpcj1pLnRvTG93ZXJDYXNlKCksZT1mJiZodC5pbmRleE9mKHIpIT0tMSwhdy5oYXNIVzNEJiZlJiZkLmluZGV4T2Yocik9PS0xP2RlbGV0ZSB0W2ldOih1PXRbaV0sZT9vLnB1c2goaSsiKCIrdSsiKSIpOmhbaV09dSk7cmV0dXJuIG8ubGVuZ3RoJiYoaFtzXT1vLmpvaW4oIiAiKSksaH1mdW5jdGlvbiBwdChuLHQpe3ZhciB1LGkscjtyZXR1cm4gZj8odT1uLmNzcyhzKSx1PT1pcj8ic2NhbGUiPT10PzE6MDooaT11Lm1hdGNoKFJlZ0V4cCh0KyJcXHMqXFwoKFtcXGRcXHdcXC5dKykiKSkscj0wLGk/cj15dChpWzFdKTooaT11Lm1hdGNoKHdpKXx8WzAsMCwwLDAsMF0sdD10LnRvTG93ZXJDYXNlKCksYmkudGVzdCh0KT9yPXBhcnNlRmxvYXQoaVszXS9pWzJdKToidHJhbnNsYXRleSI9PXQ/cj1wYXJzZUZsb2F0KGlbNF0vaVsyXSk6InNjYWxlIj09dD9yPXBhcnNlRmxvYXQoaVsyXSk6InJvdGF0ZSI9PXQmJihyPXBhcnNlRmxvYXQoTWF0aC5hdGFuMihpWzJdLGlbMV0pKSkpLHIpKTpwYXJzZUZsb2F0KG4uY3NzKHQpKX1mdW5jdGlvbiBmdChuKXtyZXR1cm4gbi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStuLnN1YnN0cmluZygxKX1mdW5jdGlvbiBlKG4sdCl7dmFyIGk9aC5leHRlbmQodCksdT1pLnByb3RvdHlwZS5kaXJlY3Rpb25zO3JbZnQobildPWk7ci5FbGVtZW50LnByb3RvdHlwZVtuXT1mdW5jdGlvbihuLHQscix1KXtyZXR1cm4gbmV3IGkodGhpcy5lbGVtZW50LG4sdCxyLHUpfTthKHUsZnVuY3Rpb24odCx1KXtyLkVsZW1lbnQucHJvdG90eXBlW24rZnQodSldPWZ1bmN0aW9uKG4sdCxyKXtyZXR1cm4gbmV3IGkodGhpcy5lbGVtZW50LHUsbix0LHIpfX0pfWZ1bmN0aW9uIHd0KG4saSxyLHUpe2Uobix7ZGlyZWN0aW9uczpkdCxzdGFydFZhbHVlOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9zdGFydFZhbHVlPW4sdGhpc30sZW5kVmFsdWU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2VuZFZhbHVlPW4sdGhpc30sc2hvdWxkSGlkZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaG91bGRIaWRlfSxwcmVwYXJlOmZ1bmN0aW9uKG4sZil7dmFyIGUsbyxoPXRoaXMsYz0ib3V0Ij09PXRoaXMuX2RpcmVjdGlvbixzPWguZWxlbWVudC5kYXRhKGkpLGw9IShpc05hTihzKXx8cz09cik7ZT1sP3M6dCE9PXRoaXMuX3N0YXJ0VmFsdWU/dGhpcy5fc3RhcnRWYWx1ZTpjP3I6dTtvPXQhPT10aGlzLl9lbmRWYWx1ZT90aGlzLl9lbmRWYWx1ZTpjP3U6cjt0aGlzLl9yZXZlcnNlPyhuW2ldPW8sZltpXT1lKToobltpXT1lLGZbaV09byk7aC5fc2hvdWxkSGlkZT1mW2ldPT09dX19KX1mdW5jdGlvbiBidChuLHQpe3ZhciByPWkuZGlyZWN0aW9uc1t0XS52ZXJ0aWNhbCx1PW5bcj9udDpsdF0oKS8yKyJweCI7cmV0dXJuIG5pW3RdLnJlcGxhY2UoIiRzaXplIix1KX12YXIga3QsZXQsaCxwLGR0LGd0LG5pLHRpLG90LGlpLGssc3QsaT13aW5kb3cua2VuZG8scj1pLmVmZmVjdHMsYT1uLmVhY2gsdT1uLmV4dGVuZCxhaT1uLnByb3h5LHc9aS5zdXBwb3J0LHZpPXcuYnJvd3NlcixmPXcudHJhbnNmb3JtcyxvPXcudHJhbnNpdGlvbnMseWk9e3NjYWxlOjAsc2NhbGV4OjAsc2NhbGV5OjAsc2NhbGUzZDowfSxwaT17dHJhbnNsYXRlOjAsdHJhbnNsYXRleDowLHRyYW5zbGF0ZXk6MCx0cmFuc2xhdGUzZDowfSxyaT10IT09ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnpvb20mJiFmLHdpPS9tYXRyaXgzP2Q/XHMqXCguKixccyooW1xkXC5cLV0rKVx3Kj8sXHMqKFtcZFwuXC1dKylcdyo/LFxzKihbXGRcLlwtXSspXHcqPyxccyooW1xkXC5cLV0rKVx3Kj8vaSx1aT0vXigtP1tcZFwuXC1dKyk/W1x3XHNdKiw/XHMqKC0/W1xkXC5cLV0rKT9bXHdcc10qL2ksYmk9L3RyYW5zbGF0ZXg/JC9pLGtpPS8oem9vbXxmYWRlfGV4cGFuZCkoXHcrKS8sZmk9Lyh6b29tfGZhZGV8ZXhwYW5kKS8sZGk9L1t4eV0kL2ksaHQ9WyJwZXJzcGVjdGl2ZSIsInJvdGF0ZSIsInJvdGF0ZXgiLCJyb3RhdGV5Iiwicm90YXRleiIsInJvdGF0ZTNkIiwic2NhbGUiLCJzY2FsZXgiLCJzY2FsZXkiLCJzY2FsZXoiLCJzY2FsZTNkIiwic2tldyIsInNrZXd4Iiwic2tld3kiLCJ0cmFuc2xhdGUiLCJ0cmFuc2xhdGV4IiwidHJhbnNsYXRleSIsInRyYW5zbGF0ZXoiLCJ0cmFuc2xhdGUzZCIsIm1hdHJpeCIsIm1hdHJpeDNkIl0sZD1bInJvdGF0ZSIsInNjYWxlIiwic2NhbGV4Iiwic2NhbGV5Iiwic2tldyIsInNrZXd4Iiwic2tld3kiLCJ0cmFuc2xhdGUiLCJ0cmFuc2xhdGV4IiwidHJhbnNsYXRleSIsIm1hdHJpeCJdLGdpPXtyb3RhdGU6ImRlZyIsc2NhbGU6IiIsc2tldzoicHgiLHRyYW5zbGF0ZToicHgifSxnPWYuY3NzLG5yPU1hdGgucm91bmQsdHI9IiIsYj0icHgiLGlyPSJub25lIixjdD0iYXV0byIsbHQ9IndpZHRoIixudD0iaGVpZ2h0IixlaT0iaGlkZGVuIixhdD0ib3JpZ2luIixvaT0iYWJvcnRJZCIsdHQ9Im92ZXJmbG93Iix2PSJ0cmFuc2xhdGUiLGl0PSJwb3NpdGlvbiIsc2k9ImNvbXBsZXRlQ2FsbGJhY2siLHk9ZysidHJhbnNpdGlvbiIscz1nKyJ0cmFuc2Zvcm0iLHJyPWcrImJhY2tmYWNlLXZpc2liaWxpdHkiLGhpPWcrInBlcnNwZWN0aXZlIix2dD0iMTUwMHB4IixjaT0icGVyc3BlY3RpdmUoIit2dCsiKSIsYz17bGVmdDp7cmV2ZXJzZToicmlnaHQiLHByb3BlcnR5OiJsZWZ0Iix0cmFuc2l0aW9uOiJ0cmFuc2xhdGV4Iix2ZXJ0aWNhbDohMSxtb2RpZmllcjotMX0scmlnaHQ6e3JldmVyc2U6ImxlZnQiLHByb3BlcnR5OiJsZWZ0Iix0cmFuc2l0aW9uOiJ0cmFuc2xhdGV4Iix2ZXJ0aWNhbDohMSxtb2RpZmllcjoxfSxkb3duOntyZXZlcnNlOiJ1cCIscHJvcGVydHk6InRvcCIsdHJhbnNpdGlvbjoidHJhbnNsYXRleSIsdmVydGljYWw6ITAsbW9kaWZpZXI6MX0sdXA6e3JldmVyc2U6ImRvd24iLHByb3BlcnR5OiJ0b3AiLHRyYW5zaXRpb246InRyYW5zbGF0ZXkiLHZlcnRpY2FsOiEwLG1vZGlmaWVyOi0xfSx0b3A6e3JldmVyc2U6ImJvdHRvbSJ9LGJvdHRvbTp7cmV2ZXJzZToidG9wIn0sImluIjp7cmV2ZXJzZToib3V0Iixtb2RpZmllcjotMX0sb3V0OntyZXZlcnNlOiJpbiIsbW9kaWZpZXI6MX0sdmVydGljYWw6e3JldmVyc2U6InZlcnRpY2FsIn0saG9yaXpvbnRhbDp7cmV2ZXJzZToiaG9yaXpvbnRhbCJ9fTtpLmRpcmVjdGlvbnM9Yzt1KG4uZm4se2tlbmRvU3RvcDpmdW5jdGlvbihuLHQpe3JldHVybiBvP3Iuc3RvcFF1ZXVlKHRoaXMsbnx8ITEsdHx8ITEpOnRoaXMuc3RvcChuLHQpfX0pO2YmJiFvJiYoYShkLGZ1bmN0aW9uKGkscil7bi5mbltyXT1mdW5jdGlvbihpKXtpZih0PT09aSlyZXR1cm4gcHQodGhpcyxyKTt2YXIgdT1uKHRoaXMpWzBdLGY9cisiKCIraStnaVtyLnJlcGxhY2UoZGksIiIpXSsiKSI7cmV0dXJuIHUuc3R5bGUuY3NzVGV4dC5pbmRleE9mKHMpPT0tMT9uKHRoaXMpLmNzcyhzLGYpOnUuc3R5bGUuY3NzVGV4dD11LnN0eWxlLmNzc1RleHQucmVwbGFjZShSZWdFeHAocisiXFwoLio/XFwpIiwiaSIpLGYpLHRoaXN9O24uZnguc3RlcFtyXT1mdW5jdGlvbih0KXtuKHQuZWxlbSlbcl0odC5ub3cpfX0pLGt0PW4uZngucHJvdG90eXBlLmN1cixuLmZ4LnByb3RvdHlwZS5jdXI9ZnVuY3Rpb24oKXtyZXR1cm4gZC5pbmRleE9mKHRoaXMucHJvcCkhPS0xP3BhcnNlRmxvYXQobih0aGlzLmVsZW0pW3RoaXMucHJvcF0oKSk6a3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7aS50b2dnbGVDbGFzcz1mdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4gdCYmKHQ9dC5zcGxpdCgiICIpLG8mJihpPXUoe2V4Y2x1c2l2ZToiYWxsIixkdXJhdGlvbjo0MDAsZWFzZToiZWFzZS1vdXQifSxpKSxuLmNzcyh5LGkuZXhjbHVzaXZlKyIgIitpLmR1cmF0aW9uKyJtcyAiK2kuZWFzZSksc2V0VGltZW91dChmdW5jdGlvbigpe24uY3NzKHksIiIpLmNzcyhudCl9LGkuZHVyYXRpb24pKSxhKHQsZnVuY3Rpb24odCxpKXtuLnRvZ2dsZUNsYXNzKGkscil9KSksbn07aS5wYXJzZUVmZmVjdHM9ZnVuY3Rpb24obix0KXt2YXIgaT17fTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIG4/YShuLnNwbGl0KCIgIiksZnVuY3Rpb24obixyKXt2YXIgbz0hZmkudGVzdChyKSxzPXIucmVwbGFjZShraSxmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHQrIjoiK2kudG9Mb3dlckNhc2UoKX0pLHU9cy5zcGxpdCgiOiIpLGY9dVsxXSxlPXt9O3UubGVuZ3RoPjEmJihlLmRpcmVjdGlvbj10JiZvP2NbZl0ucmV2ZXJzZTpmKTtpW3VbMF1dPWV9KTphKG4sZnVuY3Rpb24obil7dmFyIHI9dGhpcy5kaXJlY3Rpb247ciYmdCYmIWZpLnRlc3QobikmJih0aGlzLmRpcmVjdGlvbj1jW3JdLnJldmVyc2UpO2lbbl09dGhpc30pLGl9O28mJnUocix7dHJhbnNpdGlvbjpmdW5jdGlvbih0LGkscil7dmFyIGgsZixjLGUsYT0wLGw9dC5kYXRhKCJrZXlzIil8fFtdO3I9dSh7ZHVyYXRpb246MjAwLGVhc2U6ImVhc2Utb3V0Iixjb21wbGV0ZTpudWxsLGV4Y2x1c2l2ZToiYWxsIn0scik7Yz0hMTtlPWZ1bmN0aW9uKCl7Y3x8KGM9ITAsZiYmKGNsZWFyVGltZW91dChmKSxmPW51bGwpLHQucmVtb3ZlRGF0YShvaSkuZGVxdWV1ZSgpLmNzcyh5LCIiKS5jc3MoeSksci5jb21wbGV0ZS5jYWxsKHQpKX07ci5kdXJhdGlvbj1uLmZ4P24uZnguc3BlZWRzW3IuZHVyYXRpb25dfHxyLmR1cmF0aW9uOnIuZHVyYXRpb247aD11dCh0LGkpO24ubWVyZ2UobCxsaShoKSk7bi5oYXNPd25Qcm9wZXJ0eSgidW5pcXVlU29ydCIpP3QuZGF0YSgia2V5cyIsbi51bmlxdWVTb3J0KGwpKS5oZWlnaHQoKTp0LmRhdGEoImtleXMiLG4udW5pcXVlKGwpKS5oZWlnaHQoKTt0LmNzcyh5LHIuZXhjbHVzaXZlKyIgIityLmR1cmF0aW9uKyJtcyAiK3IuZWFzZSkuY3NzKHkpO3QuY3NzKGgpLmNzcyhzKTtvLmV2ZW50JiYodC5vbmUoby5ldmVudCxlKSwwIT09ci5kdXJhdGlvbiYmKGE9NTAwKSk7Zj1zZXRUaW1lb3V0KGUsci5kdXJhdGlvbithKTt0LmRhdGEob2ksZik7dC5kYXRhKHNpLGUpfSxzdG9wUXVldWU6ZnVuY3Rpb24obix0LHIpe3ZhciB1LGY9bi5kYXRhKCJrZXlzIiksZT0hciYmZixvPW4uZGF0YShzaSk7cmV0dXJuIGUmJih1PWkuZ2V0Q29tcHV0ZWRTdHlsZXMoblswXSxmKSksbyYmbygpLGUmJm4uY3NzKHUpLG4ucmVtb3ZlRGF0YSgia2V5cyIpLnN0b3AodCl9fSk7ZXQ9aS5DbGFzcy5leHRlbmQoe2luaXQ6ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzO2kuZWxlbWVudD1uO2kuZWZmZWN0cz1bXTtpLm9wdGlvbnM9dDtpLnJlc3RvcmU9W119LHJ1bjpmdW5jdGlvbih0KXt2YXIgbCxoLHYscCx3LGssZCxhPXRoaXMsZz10Lmxlbmd0aCxjPWEuZWxlbWVudCxpPWEub3B0aW9ucyxiPW4uRGVmZXJyZWQoKSxlPXt9LHk9e307Zm9yKGEuZWZmZWN0cz10LGIuZG9uZShuLnByb3h5KGEsImNvbXBsZXRlIikpLGMuZGF0YSgiYW5pbWF0aW5nIiwhMCksaD0wO2g8ZztoKyspZm9yKGw9dFtoXSxsLnNldFJldmVyc2UoaS5yZXZlcnNlKSxsLnNldE9wdGlvbnMoaSksYS5hZGRSZXN0b3JlUHJvcGVydGllcyhsLnJlc3RvcmUpLGwucHJlcGFyZShlLHkpLHc9bC5jaGlsZHJlbigpLHY9MCxrPXcubGVuZ3RoO3Y8azt2Kyspd1t2XS5kdXJhdGlvbihpLmR1cmF0aW9uKS5ydW4oKTtmb3IoZCBpbiBpLmVmZmVjdHMpdSh5LGkuZWZmZWN0c1tkXS5wcm9wZXJ0aWVzKTtmb3IoYy5pcygiOnZpc2libGUiKXx8dShlLHtkaXNwbGF5OmMuZGF0YSgib2xkZGlzcGxheSIpfHwiYmxvY2sifSksZiYmIWkucmVzZXQmJihwPWMuZGF0YSgidGFyZ2V0VHJhbnNmb3JtIikscCYmKGU9dShwLGUpKSksZT11dChjLGUpLGYmJiFvJiYoZT1ydChlKSksYy5jc3MoZSkuY3NzKHMpLGg9MDtoPGc7aCsrKXRbaF0uc2V0dXAoKTtyZXR1cm4gaS5pbml0JiZpLmluaXQoKSxjLmRhdGEoInRhcmdldFRyYW5zZm9ybSIseSksci5hbmltYXRlKGMseSx1KHt9LGkse2NvbXBsZXRlOmIucmVzb2x2ZX0pKSxiLnByb21pc2UoKX0sc3RvcDpmdW5jdGlvbigpe24odGhpcy5lbGVtZW50KS5rZW5kb1N0b3AoITAsITApfSxhZGRSZXN0b3JlUHJvcGVydGllczpmdW5jdGlvbihuKXtmb3IodmFyIHQsaT10aGlzLmVsZW1lbnQscj0wLHU9bi5sZW5ndGg7cjx1O3IrKyl0PW5bcl0sdGhpcy5yZXN0b3JlLnB1c2godCksaS5kYXRhKHQpfHxpLmRhdGEodCxpLmNzcyh0KSl9LHJlc3RvcmVDYWxsYmFjazpmdW5jdGlvbigpe2Zvcih2YXIgdCxyPXRoaXMuZWxlbWVudCxuPTAsaT10aGlzLnJlc3RvcmUubGVuZ3RoO248aTtuKyspdD10aGlzLnJlc3RvcmVbbl0sci5jc3ModCxyLmRhdGEodCkpfSxjb21wbGV0ZTpmdW5jdGlvbigpe3ZhciBpPXRoaXMscj0wLHQ9aS5lbGVtZW50LHU9aS5vcHRpb25zLGU9aS5lZmZlY3RzLG89ZS5sZW5ndGg7Zm9yKHQucmVtb3ZlRGF0YSgiYW5pbWF0aW5nIikuZGVxdWV1ZSgpLHUuaGlkZSYmdC5kYXRhKCJvbGRkaXNwbGF5Iix0LmNzcygiZGlzcGxheSIpKS5oaWRlKCksdGhpcy5yZXN0b3JlQ2FsbGJhY2soKSxyaSYmIWYmJnNldFRpbWVvdXQobi5wcm94eSh0aGlzLCJyZXN0b3JlQ2FsbGJhY2siKSwwKTtyPG87cisrKWVbcl0udGVhcmRvd24oKTt1LmNvbXBsZXRlQ2FsbGJhY2smJnUuY29tcGxldGVDYWxsYmFjayh0KX19KTtyLnByb21pc2U9ZnVuY3Rpb24obix0KXt2YXIgdSxzLGYsZT1bXSxoPW5ldyBldChuLHQpLG89aS5wYXJzZUVmZmVjdHModC5lZmZlY3RzKTt0LmVmZmVjdHM9bztmb3IoZiBpbiBvKXU9cltmdChmKV0sdSYmKHM9bmV3IHUobixvW2ZdLmRpcmVjdGlvbiksZS5wdXNoKHMpKTtlWzBdP2gucnVuKGUpOihuLmlzKCI6dmlzaWJsZSIpfHxuLmNzcyh7ZGlzcGxheTpuLmRhdGEoIm9sZGRpc3BsYXkiKXx8ImJsb2NrIn0pLmNzcygiZGlzcGxheSIpLHQuaW5pdCYmdC5pbml0KCksbi5kZXF1ZXVlKCksaC5jb21wbGV0ZSgpKX07dShyLHthbmltYXRlOmZ1bmN0aW9uKGksZSxzKXt2YXIgaD1zLnRyYW5zaXRpb24hPT0hMTtkZWxldGUgcy50cmFuc2l0aW9uO28mJiJ0cmFuc2l0aW9uImluIHImJmg/ci50cmFuc2l0aW9uKGksZSxzKTpmP2kuYW5pbWF0ZShydChlKSx7cXVldWU6ITEsc2hvdzohMSxoaWRlOiExLGR1cmF0aW9uOnMuZHVyYXRpb24sY29tcGxldGU6cy5jb21wbGV0ZX0pOmkuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykscj17fTthKGh0LGZ1bmN0aW9uKG4sbyl7dmFyIGMscyxwLHcsaCxhLHksYj1lP2Vbb10rIiAiOm51bGw7YiYmKHM9ZSxvIGluIHlpJiZlW29dIT09dD8oYz1iLm1hdGNoKHVpKSxmJiZ1KHMse3NjYWxlOitjWzBdfSkpOm8gaW4gcGkmJmVbb10hPT10JiYocD1pLmNzcyhpdCksdz0iYWJzb2x1dGUiPT1wfHwiZml4ZWQiPT1wLGkuZGF0YSh2KXx8KHc/aS5kYXRhKHYse3RvcDpsKGksInRvcCIpfHwwLGxlZnQ6bChpLCJsZWZ0Iil8fDAsYm90dG9tOmwoaSwiYm90dG9tIikscmlnaHQ6bChpLCJyaWdodCIpfSk6aS5kYXRhKHYse3RvcDpsKGksIm1hcmdpblRvcCIpfHwwLGxlZnQ6bChpLCJtYXJnaW5MZWZ0Iil8fDB9KSksaD1pLmRhdGEodiksYz1iLm1hdGNoKHVpKSxjJiYoYT1vPT12KyJ5Ij8wOitjWzFdLHk9bz09disieSI/K2NbMV06K2NbMl0sdz8oaXNOYU4oaC5yaWdodCk/aXNOYU4oYSl8fHUocyx7bGVmdDpoLmxlZnQrYX0pOmlzTmFOKGEpfHx1KHMse3JpZ2h0OmgucmlnaHQtYX0pLGlzTmFOKGguYm90dG9tKT9pc05hTih5KXx8dShzLHt0b3A6aC50b3AreX0pOmlzTmFOKHkpfHx1KHMse2JvdHRvbTpoLmJvdHRvbS15fSkpOihpc05hTihhKXx8dShzLHttYXJnaW5MZWZ0OmgubGVmdCthfSksaXNOYU4oeSl8fHUocyx7bWFyZ2luVG9wOmgudG9wK3l9KSkpKSwhZiYmInNjYWxlIiE9byYmbyBpbiBzJiZkZWxldGUgc1tvXSxzJiZ1KHIscykpfSk7dmkubXNpZSYmZGVsZXRlIHIuc2NhbGU7aS5hbmltYXRlKHIse3F1ZXVlOiExLHNob3c6ITEsaGlkZTohMSxkdXJhdGlvbjpzLmR1cmF0aW9uLGNvbXBsZXRlOnMuY29tcGxldGV9KX0pfX0pO3IuYW5pbWF0ZWRQcm9taXNlPXIucHJvbWlzZTtoPWkuQ2xhc3MuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcztpLmVsZW1lbnQ9bjtpLl9kaXJlY3Rpb249dDtpLm9wdGlvbnM9e307aS5fYWRkaXRpb25hbEVmZmVjdHM9W107aS5yZXN0b3JlfHwoaS5yZXN0b3JlPVtdKX0scmV2ZXJzZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZXZlcnNlPSEwLHRoaXMucnVuKCl9LHBsYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmV2ZXJzZT0hMSx0aGlzLnJ1bigpfSxhZGQ6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2FkZGl0aW9uYWxFZmZlY3RzLnB1c2gobiksdGhpc30sZGlyZWN0aW9uOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9kaXJlY3Rpb249bix0aGlzfSxkdXJhdGlvbjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fZHVyYXRpb249bix0aGlzfSxjb21wb3NpdGVSdW46ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ9bmV3IGV0KG4uZWxlbWVudCx7cmV2ZXJzZTpuLl9yZXZlcnNlLGR1cmF0aW9uOm4uX2R1cmF0aW9ufSksaT1uLl9hZGRpdGlvbmFsRWZmZWN0cy5jb25jYXQoW25dKTtyZXR1cm4gdC5ydW4oaSl9LHJ1bjpmdW5jdGlvbigpe2lmKHRoaXMuX2FkZGl0aW9uYWxFZmZlY3RzJiZ0aGlzLl9hZGRpdGlvbmFsRWZmZWN0c1swXSlyZXR1cm4gdGhpcy5jb21wb3NpdGVSdW4oKTt2YXIgYyxsLGU9dGhpcyx0PWUuZWxlbWVudCxoPTAseT1lLnJlc3RvcmUsdz15Lmxlbmd0aCxhPW4uRGVmZXJyZWQoKSxpPXt9LHY9e30scD1lLmNoaWxkcmVuKCksYj1wLmxlbmd0aDtmb3IoYS5kb25lKG4ucHJveHkoZSwiX2NvbXBsZXRlIikpLHQuZGF0YSgiYW5pbWF0aW5nIiwhMCksaD0wO2g8dztoKyspYz15W2hdLHQuZGF0YShjKXx8dC5kYXRhKGMsdC5jc3MoYykpO2ZvcihoPTA7aDxiO2grKylwW2hdLmR1cmF0aW9uKGUuX2R1cmF0aW9uKS5ydW4oKTtyZXR1cm4gZS5wcmVwYXJlKGksdiksdC5pcygiOnZpc2libGUiKXx8dShpLHtkaXNwbGF5OnQuZGF0YSgib2xkZGlzcGxheSIpfHwiYmxvY2sifSksZiYmKGw9dC5kYXRhKCJ0YXJnZXRUcmFuc2Zvcm0iKSxsJiYoaT11KGwsaSkpKSxpPXV0KHQsaSksZiYmIW8mJihpPXJ0KGkpKSx0LmNzcyhpKS5jc3MocyksZS5zZXR1cCgpLHQuZGF0YSgidGFyZ2V0VHJhbnNmb3JtIix2KSxyLmFuaW1hdGUodCx2LHtkdXJhdGlvbjplLl9kdXJhdGlvbixjb21wbGV0ZTphLnJlc29sdmV9KSxhLnByb21pc2UoKX0sc3RvcDpmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGk9dGhpcy5jaGlsZHJlbigpLHI9aS5sZW5ndGgsdD0wO3Q8cjt0KyspaVt0XS5zdG9wKCk7cmV0dXJuIG4odGhpcy5lbGVtZW50KS5rZW5kb1N0b3AoITAsITApLHRoaXN9LHJlc3RvcmVDYWxsYmFjazpmdW5jdGlvbigpe2Zvcih2YXIgdCxyPXRoaXMuZWxlbWVudCxuPTAsaT10aGlzLnJlc3RvcmUubGVuZ3RoO248aTtuKyspdD10aGlzLnJlc3RvcmVbbl0sci5jc3ModCxyLmRhdGEodCkpfSxfY29tcGxldGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGk9dC5lbGVtZW50O2kucmVtb3ZlRGF0YSgiYW5pbWF0aW5nIikuZGVxdWV1ZSgpO3QucmVzdG9yZUNhbGxiYWNrKCk7dC5zaG91bGRIaWRlKCkmJmkuZGF0YSgib2xkZGlzcGxheSIsaS5jc3MoImRpc3BsYXkiKSkuaGlkZSgpO3JpJiYhZiYmc2V0VGltZW91dChuLnByb3h5KHQsInJlc3RvcmVDYWxsYmFjayIpLDApO3QudGVhcmRvd24oKX0sc2V0T3B0aW9uczpmdW5jdGlvbihuKXt1KCEwLHRoaXMub3B0aW9ucyxuKX0sY2hpbGRyZW46ZnVuY3Rpb24oKXtyZXR1cm5bXX0sc2hvdWxkSGlkZTpuLm5vb3Asc2V0dXA6bi5ub29wLHByZXBhcmU6bi5ub29wLHRlYXJkb3duOm4ubm9vcCxkaXJlY3Rpb25zOltdLHNldFJldmVyc2U6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3JldmVyc2U9bix0aGlzfX0pO3A9WyJsZWZ0IiwicmlnaHQiLCJ1cCIsImRvd24iXTtkdD1bImluIiwib3V0Il07ZSgic2xpZGVJbiIse2RpcmVjdGlvbnM6cCxkaXZpc29yOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLm9wdGlvbnMuZGl2aXNvcj1uLHRoaXN9LHByZXBhcmU6ZnVuY3Rpb24obix0KXt2YXIgZSx1PXRoaXMsbz11LmVsZW1lbnQsbD1pLl9vdXRlcldpZHRoLGE9aS5fb3V0ZXJIZWlnaHQscj1jW3UuX2RpcmVjdGlvbl0sdj0tci5tb2RpZmllciooci52ZXJ0aWNhbD9hKG8pOmwobykpLHM9di8odS5vcHRpb25zJiZ1Lm9wdGlvbnMuZGl2aXNvcnx8MSkrYixoPSIwcHgiO3UuX3JldmVyc2UmJihlPW4sbj10LHQ9ZSk7Zj8obltyLnRyYW5zaXRpb25dPXMsdFtyLnRyYW5zaXRpb25dPWgpOihuW3IucHJvcGVydHldPXMsdFtyLnByb3BlcnR5XT1oKX19KTtlKCJ0aWxlIix7ZGlyZWN0aW9uczpwLGluaXQ6ZnVuY3Rpb24obix0LGkpe2gucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLG4sdCk7dGhpcy5vcHRpb25zPXtwcmV2aW91czppfX0scHJldmlvdXNEaXZpc29yOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLm9wdGlvbnMucHJldmlvdXNEaXZpc29yPW4sdGhpc30sY2hpbGRyZW46ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ9bi5fcmV2ZXJzZSxyPW4ub3B0aW9ucy5wcmV2aW91cyxlPW4ub3B0aW9ucy5wcmV2aW91c0Rpdmlzb3J8fDEsdT1uLl9kaXJlY3Rpb24sZj1baS5meChuLmVsZW1lbnQpLnNsaWRlSW4odSkuc2V0UmV2ZXJzZSh0KV07cmV0dXJuIHImJmYucHVzaChpLmZ4KHIpLnNsaWRlSW4oY1t1XS5yZXZlcnNlKS5kaXZpc29yKGUpLnNldFJldmVyc2UoIXQpKSxmfX0pO3d0KCJmYWRlIiwib3BhY2l0eSIsMSwwKTt3dCgiem9vbSIsInNjYWxlIiwxLC4wMSk7ZSgic2xpZGVNYXJnaW4iLHtwcmVwYXJlOmZ1bmN0aW9uKG4sdCl7dmFyIHIsdT10aGlzLGk9dS5lbGVtZW50LGY9dS5vcHRpb25zLG89aS5kYXRhKGF0KSxzPWYub2Zmc2V0LGU9dS5fcmV2ZXJzZTtlfHxudWxsIT09b3x8aS5kYXRhKGF0LHBhcnNlRmxvYXQoaS5jc3MoIm1hcmdpbi0iK2YuYXhpcykpKTtyPWkuZGF0YShhdCl8fDA7dFsibWFyZ2luLSIrZi5heGlzXT1lP3I6citzfX0pO2UoInNsaWRlVG8iLHtwcmVwYXJlOmZ1bmN0aW9uKG4sdCl7dmFyIHU9dGhpcyxlPXUuZWxlbWVudCxvPXUub3B0aW9ucyxpPW8ub2Zmc2V0LnNwbGl0KCIsIikscj11Ll9yZXZlcnNlO2Y/KHQudHJhbnNsYXRleD1yPzA6aVswXSx0LnRyYW5zbGF0ZXk9cj8wOmlbMV0pOih0LmxlZnQ9cj8wOmlbMF0sdC50b3A9cj8wOmlbMV0pO2UuY3NzKCJsZWZ0Iil9fSk7ZSgiZXhwYW5kIix7ZGlyZWN0aW9uczpbImhvcml6b250YWwiLCJ2ZXJ0aWNhbCJdLHJlc3RvcmU6W3R0XSxwcmVwYXJlOmZ1bmN0aW9uKG4saSl7dmFyIGY9dGhpcyxlPWYuZWxlbWVudCxvPWYub3B0aW9ucyxzPWYuX3JldmVyc2Uscj0idmVydGljYWwiPT09Zi5fZGlyZWN0aW9uP250Omx0LGg9ZVswXS5zdHlsZVtyXSxjPWUuZGF0YShyKSx1PXBhcnNlRmxvYXQoY3x8aCksbD1ucihlLmNzcyhyLGN0KVtyXSgpKTtuLm92ZXJmbG93PWVpO3U9byYmby5yZXNldD9sfHx1OnV8fGw7aVtyXT0ocz8wOnUpK2I7bltyXT0ocz91OjApK2I7Yz09PXQmJmUuZGF0YShyLGgpfSxzaG91bGRIaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JldmVyc2V9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxpPXQuZWxlbWVudCxuPSJ2ZXJ0aWNhbCI9PT10Ll9kaXJlY3Rpb24/bnQ6bHQscj1pLmRhdGEobik7ciE9Y3QmJnIhPT10cnx8c2V0VGltZW91dChmdW5jdGlvbigpe2kuY3NzKG4sY3QpLmNzcyhuKX0sMCl9fSk7Z3Q9e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsbWFyZ2luTGVmdDowLG1hcmdpblRvcDowLHNjYWxlOjF9O2UoInRyYW5zZmVyIix7aW5pdDpmdW5jdGlvbihuLHQpe3RoaXMuZWxlbWVudD1uO3RoaXMub3B0aW9ucz17dGFyZ2V0OnR9O3RoaXMucmVzdG9yZT1bXX0sc2V0dXA6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSl9LHByZXBhcmU6ZnVuY3Rpb24obix0KXt2YXIgZT10aGlzLGk9ZS5lbGVtZW50LGY9ci5ib3goaSksbz1yLmJveChlLm9wdGlvbnMudGFyZ2V0KSxsPXB0KGksInNjYWxlIiksaD1yLmZpbGxTY2FsZShvLGYpLGM9ci50cmFuc2Zvcm1PcmlnaW4obyxmKTt1KG4sZ3QpO3Quc2NhbGU9MTtpLmNzcyhzLCJzY2FsZSgxKSIpLmNzcyhzKTtpLmNzcyhzLCJzY2FsZSgiK2wrIikiKTtuLnRvcD1mLnRvcDtuLmxlZnQ9Zi5sZWZ0O24udHJhbnNmb3JtT3JpZ2luPWMueCtiKyIgIitjLnkrYjtlLl9yZXZlcnNlP24uc2NhbGU9aDp0LnNjYWxlPWh9fSk7bmk9e3RvcDoicmVjdChhdXRvIGF1dG8gJHNpemUgYXV0bykiLGJvdHRvbToicmVjdCgkc2l6ZSBhdXRvIGF1dG8gYXV0bykiLGxlZnQ6InJlY3QoYXV0byAkc2l6ZSBhdXRvIGF1dG8pIixyaWdodDoicmVjdChhdXRvIGF1dG8gYXV0byAkc2l6ZSkifTt0aT17dG9wOntzdGFydDoicm90YXRleCgwZGVnKSIsZW5kOiJyb3RhdGV4KDE4MGRlZykifSxib3R0b206e3N0YXJ0OiJyb3RhdGV4KC0xODBkZWcpIixlbmQ6InJvdGF0ZXgoMGRlZykifSxsZWZ0OntzdGFydDoicm90YXRleSgwZGVnKSIsZW5kOiJyb3RhdGV5KC0xODBkZWcpIn0scmlnaHQ6e3N0YXJ0OiJyb3RhdGV5KDE4MGRlZykiLGVuZDoicm90YXRleSgwZGVnKSJ9fTtlKCJ0dXJuaW5nUGFnZSIse2RpcmVjdGlvbnM6cCxpbml0OmZ1bmN0aW9uKG4sdCxpKXtoLnByb3RvdHlwZS5pbml0LmNhbGwodGhpcyxuLHQpO3RoaXMuX2NvbnRhaW5lcj1pfSxwcmVwYXJlOmZ1bmN0aW9uKG4sdCl7dmFyIHI9dGhpcyxmPXIuX3JldmVyc2UsZT1mP2Nbci5fZGlyZWN0aW9uXS5yZXZlcnNlOnIuX2RpcmVjdGlvbix1PXRpW2VdO24uekluZGV4PTE7ci5fY2xpcEluSGFsZiYmKG4uY2xpcD1idChyLl9jb250YWluZXIsaS5kaXJlY3Rpb25zW2VdLnJldmVyc2UpKTtuW3JyXT1laTt0W3NdPWNpKyhmP3Uuc3RhcnQ6dS5lbmQpO25bc109Y2krKGY/dS5lbmQ6dS5zdGFydCl9LHNldHVwOmZ1bmN0aW9uKCl7dGhpcy5fY29udGFpbmVyLmFwcGVuZCh0aGlzLmVsZW1lbnQpfSxmYWNlOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9mYWNlPW4sdGhpc30sc2hvdWxkSGlkZTpmdW5jdGlvbigpe3ZhciBuPXRoaXMsdD1uLl9yZXZlcnNlLGk9bi5fZmFjZTtyZXR1cm4gdCYmIWl8fCF0JiZpfSxjbGlwSW5IYWxmOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9jbGlwSW5IYWxmPW4sdGhpc30sdGVtcG9yYXJ5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5hZGRDbGFzcygidGVtcC1wYWdlIiksdGhpc319KTtlKCJzdGF0aWNQYWdlIix7ZGlyZWN0aW9uczpwLGluaXQ6ZnVuY3Rpb24obix0LGkpe2gucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLG4sdCk7dGhpcy5fY29udGFpbmVyPWl9LHJlc3RvcmU6WyJjbGlwIl0scHJlcGFyZTpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMscj1pLl9yZXZlcnNlP2NbaS5fZGlyZWN0aW9uXS5yZXZlcnNlOmkuX2RpcmVjdGlvbjtuLmNsaXA9YnQoaS5fY29udGFpbmVyLHIpO24ub3BhY2l0eT0uOTk5O3Qub3BhY2l0eT0xfSxzaG91bGRIaWRlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0PW4uX3JldmVyc2UsaT1uLl9mYWNlO3JldHVybiB0JiYhaXx8IXQmJml9LGZhY2U6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2ZhY2U9bix0aGlzfX0pO2UoInBhZ2V0dXJuIix7ZGlyZWN0aW9uczpbImhvcml6b250YWwiLCJ2ZXJ0aWNhbCJdLGluaXQ6ZnVuY3Rpb24obix0LGkscil7aC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsbix0KTt0aGlzLm9wdGlvbnM9e307dGhpcy5vcHRpb25zLmZhY2U9aTt0aGlzLm9wdGlvbnMuYmFjaz1yfSxjaGlsZHJlbjpmdW5jdGlvbigpe3ZhciBvLHI9dGhpcyx1PXIub3B0aW9ucyxuPSJob3Jpem9udGFsIj09PXIuX2RpcmVjdGlvbj8ibGVmdCI6InRvcCIsZj1pLmRpcmVjdGlvbnNbbl0ucmV2ZXJzZSx0PXIuX3JldmVyc2Uscz11LmZhY2UuY2xvbmUoITApLnJlbW92ZUF0dHIoImlkIiksaD11LmJhY2suY2xvbmUoITApLnJlbW92ZUF0dHIoImlkIiksZT1yLmVsZW1lbnQ7cmV0dXJuIHQmJihvPW4sbj1mLGY9byksW2kuZngodS5mYWNlKS5zdGF0aWNQYWdlKG4sZSkuZmFjZSghMCkuc2V0UmV2ZXJzZSh0KSxpLmZ4KHUuYmFjaykuc3RhdGljUGFnZShmLGUpLnNldFJldmVyc2UodCksaS5meChzKS50dXJuaW5nUGFnZShuLGUpLmZhY2UoITApLmNsaXBJbkhhbGYoITApLnRlbXBvcmFyeSgpLnNldFJldmVyc2UodCksaS5meChoKS50dXJuaW5nUGFnZShmLGUpLmNsaXBJbkhhbGYoITApLnRlbXBvcmFyeSgpLnNldFJldmVyc2UodCldfSxwcmVwYXJlOmZ1bmN0aW9uKG4sdCl7bltoaV09dnQ7bi50cmFuc2Zvcm1TdHlsZT0icHJlc2VydmUtM2QiO24ub3BhY2l0eT0uOTk5O3Qub3BhY2l0eT0xfSx0ZWFyZG93bjpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5maW5kKCIudGVtcC1wYWdlIikucmVtb3ZlKCl9fSk7ZSgiZmxpcCIse2RpcmVjdGlvbnM6WyJob3Jpem9udGFsIiwidmVydGljYWwiXSxpbml0OmZ1bmN0aW9uKG4sdCxpLHIpe2gucHJvdG90eXBlLmluaXQuY2FsbCh0aGlzLG4sdCk7dGhpcy5vcHRpb25zPXt9O3RoaXMub3B0aW9ucy5mYWNlPWk7dGhpcy5vcHRpb25zLmJhY2s9cn0sY2hpbGRyZW46ZnVuY3Rpb24oKXt2YXIgZixuPXRoaXMsZT1uLm9wdGlvbnMsdD0iaG9yaXpvbnRhbCI9PT1uLl9kaXJlY3Rpb24/ImxlZnQiOiJ0b3AiLHI9aS5kaXJlY3Rpb25zW3RdLnJldmVyc2UsdT1uLl9yZXZlcnNlLG89bi5lbGVtZW50O3JldHVybiB1JiYoZj10LHQ9cixyPWYpLFtpLmZ4KGUuZmFjZSkudHVybmluZ1BhZ2UodCxvKS5mYWNlKCEwKS5zZXRSZXZlcnNlKHUpLGkuZngoZS5iYWNrKS50dXJuaW5nUGFnZShyLG8pLnNldFJldmVyc2UodSldfSxwcmVwYXJlOmZ1bmN0aW9uKG4pe25baGldPXZ0O24udHJhbnNmb3JtU3R5bGU9InByZXNlcnZlLTNkIn19KTtvdD0hdy5tb2JpbGVPUy5hbmRyb2lkO2lpPSIua20tdG91Y2gtc2Nyb2xsYmFyLCAua20tYWN0aW9uc2hlZXQtd3JhcHBlciI7ZSgicmVwbGFjZSIse19iZWZvcmU6bi5ub29wLF9hZnRlcjpuLm5vb3AsaW5pdDpmdW5jdGlvbih0LGkscil7aC5wcm90b3R5cGUuaW5pdC5jYWxsKHRoaXMsdCk7dGhpcy5fcHJldmlvdXM9bihpKTt0aGlzLl90cmFuc2l0aW9uQ2xhc3M9cn0sZHVyYXRpb246ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcigiVGhlIHJlcGxhY2UgZWZmZWN0IGRvZXMgbm90IHN1cHBvcnQgZHVyYXRpb24gc2V0dGluZzsgdGhlIGVmZmVjdCBkdXJhdGlvbiBtYXkgYmUgY3VzdG9taXplZCB0aHJvdWdoIHRoZSB0cmFuc2l0aW9uIGNsYXNzIHJ1bGUiKTt9LGJlZm9yZVRyYW5zaXRpb246ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2JlZm9yZT1uLHRoaXN9LGFmdGVyVHJhbnNpdGlvbjpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fYWZ0ZXI9bix0aGlzfSxfYm90aDpmdW5jdGlvbigpe3JldHVybiBuKCkuYWRkKHRoaXMuX2VsZW1lbnQpLmFkZCh0aGlzLl9wcmV2aW91cyl9LF9jb250YWluZXJDbGFzczpmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RpcmVjdGlvbixuPSJrLWZ4IGstZngtc3RhcnQgay1meC0iK3RoaXMuX3RyYW5zaXRpb25DbGFzcztyZXR1cm4gdCYmKG4rPSIgay1meC0iK3QpLHRoaXMuX3JldmVyc2UmJihuKz0iIGstZngtcmV2ZXJzZSIpLG59LGNvbXBsZXRlOmZ1bmN0aW9uKHQpe2lmKCEoIXRoaXMuZGVmZXJyZWR8fHQmJm4odC50YXJnZXQpLmlzKGlpKSkpe3ZhciBpPXRoaXMuY29udGFpbmVyO2kucmVtb3ZlQ2xhc3MoImstZngtZW5kIikucmVtb3ZlQ2xhc3ModGhpcy5fY29udGFpbmVyQ2xhc3MoKSkub2ZmKG8uZXZlbnQsdGhpcy5jb21wbGV0ZVByb3h5KTt0aGlzLl9wcmV2aW91cy5oaWRlKCkucmVtb3ZlQ2xhc3MoImstZngtY3VycmVudCIpO3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygiay1meC1uZXh0Iik7b3QmJmkuY3NzKHR0LCIiKTt0aGlzLmlzQWJzb2x1dGV8fHRoaXMuX2JvdGgoKS5jc3MoaXQsIiIpO3RoaXMuZGVmZXJyZWQucmVzb2x2ZSgpO2RlbGV0ZSB0aGlzLmRlZmVycmVkfX0scnVuOmZ1bmN0aW9uKCl7aWYodGhpcy5fYWRkaXRpb25hbEVmZmVjdHMmJnRoaXMuX2FkZGl0aW9uYWxFZmZlY3RzWzBdKXJldHVybiB0aGlzLmNvbXBvc2l0ZVJ1bigpO3ZhciBzLHU9dGhpcyxyPXUuZWxlbWVudCxmPXUuX3ByZXZpb3VzLHQ9ci5wYXJlbnRzKCkuZmlsdGVyKGYucGFyZW50cygpKS5maXJzdCgpLGg9dS5fYm90aCgpLGU9bi5EZWZlcnJlZCgpLGM9ci5jc3MoaXQpO3JldHVybiB0Lmxlbmd0aHx8KHQ9ci5wYXJlbnQoKSksdGhpcy5jb250YWluZXI9dCx0aGlzLmRlZmVycmVkPWUsdGhpcy5pc0Fic29sdXRlPSJhYnNvbHV0ZSI9PWMsdGhpcy5pc0Fic29sdXRlfHxoLmNzcyhpdCwiYWJzb2x1dGUiKSxvdCYmKHM9dC5jc3ModHQpLHQuY3NzKHR0LCJoaWRkZW4iKSksbz8oci5hZGRDbGFzcygiay1meC1oaWRkZW4iKSx0LmFkZENsYXNzKHRoaXMuX2NvbnRhaW5lckNsYXNzKCkpLHRoaXMuY29tcGxldGVQcm94eT1uLnByb3h5KHRoaXMsImNvbXBsZXRlIiksdC5vbihvLmV2ZW50LHRoaXMuY29tcGxldGVQcm94eSksaS5hbmltYXRpb25GcmFtZShmdW5jdGlvbigpe3IucmVtb3ZlQ2xhc3MoImstZngtaGlkZGVuIikuYWRkQ2xhc3MoImstZngtbmV4dCIpO2YuY3NzKCJkaXNwbGF5IiwiIikuYWRkQ2xhc3MoImstZngtY3VycmVudCIpO3UuX2JlZm9yZShmLHIpO2kuYW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXt0LnJlbW92ZUNsYXNzKCJrLWZ4LXN0YXJ0IikuYWRkQ2xhc3MoImstZngtZW5kIik7dS5fYWZ0ZXIoZixyKX0pfSkpOnRoaXMuY29tcGxldGUoKSxlLnByb21pc2UoKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuY29tcGxldGUoKX19KTtrPWkuQ2xhc3MuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLl90aWNrUHJveHk9YWkobi5fdGljayxuKTtuLl9zdGFydGVkPSExfSx0aWNrOm4ubm9vcCxkb25lOm4ubm9vcCxvbkVuZDpuLm5vb3Asb25DYW5jZWw6bi5ub29wLHN0YXJ0OmZ1bmN0aW9uKCl7dGhpcy5lbmFibGVkKCkmJih0aGlzLmRvbmUoKT90aGlzLm9uRW5kKCk6KHRoaXMuX3N0YXJ0ZWQ9ITAsaS5hbmltYXRpb25GcmFtZSh0aGlzLl90aWNrUHJveHkpKSl9LGVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sY2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5fc3RhcnRlZD0hMTt0aGlzLm9uQ2FuY2VsKCl9LF90aWNrOmZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLl9zdGFydGVkJiYobi50aWNrKCksbi5kb25lKCk/KG4uX3N0YXJ0ZWQ9ITEsbi5vbkVuZCgpKTppLmFuaW1hdGlvbkZyYW1lKG4uX3RpY2tQcm94eSkpfX0pO3N0PWsuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7dSh0LG4pO2suZm4uaW5pdC5jYWxsKHQpfSxkb25lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGltZVBhc3NlZCgpPj10aGlzLmR1cmF0aW9ufSx0aW1lUGFzc2VkOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWluKHRoaXMuZHVyYXRpb24sbmV3IERhdGUtdGhpcy5zdGFydERhdGUpfSxtb3ZlVG86ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxpPXQubW92YWJsZTt0LmluaXRpYWw9aVt0LmF4aXNdO3QuZGVsdGE9bi5sb2NhdGlvbi10LmluaXRpYWw7dC5kdXJhdGlvbj0ibnVtYmVyIj09dHlwZW9mIG4uZHVyYXRpb24/bi5kdXJhdGlvbjozMDA7dC50aWNrPXQuX2Vhc2VQcm94eShuLmVhc2UpO3Quc3RhcnREYXRlPW5ldyBEYXRlO3Quc3RhcnQoKX0sX2Vhc2VQcm94eTpmdW5jdGlvbihuKXt2YXIgdD10aGlzO3JldHVybiBmdW5jdGlvbigpe3QubW92YWJsZS5tb3ZlQXhpcyh0LmF4aXMsbih0LnRpbWVQYXNzZWQoKSx0LmluaXRpYWwsdC5kZWx0YSx0LmR1cmF0aW9uKSl9fX0pO3Uoc3Qse2Vhc2VPdXRFeHBvOmZ1bmN0aW9uKG4sdCxpLHIpe3JldHVybiBuPT1yP3QraTppKigtTWF0aC5wb3coMiwtMTAqbi9yKSsxKSt0fSxlYXNlT3V0QmFjazpmdW5jdGlvbihuLHQsaSxyLHUpe3JldHVybiB1PTEuNzAxNTgsaSooKG49bi9yLTEpKm4qKCh1KzEpKm4rdSkrMSkrdH19KTtyLkFuaW1hdGlvbj1rO3IuVHJhbnNpdGlvbj1zdDtyLmNyZWF0ZUVmZmVjdD1lO3IuYm94PWZ1bmN0aW9uKHQpe3Q9bih0KTt2YXIgcj10Lm9mZnNldCgpO3JldHVybiByLndpZHRoPWkuX291dGVyV2lkdGgodCksci5oZWlnaHQ9aS5fb3V0ZXJIZWlnaHQodCkscn07ci50cmFuc2Zvcm1PcmlnaW49ZnVuY3Rpb24obix0KXt2YXIgaT0obi5sZWZ0LXQubGVmdCkqdC53aWR0aC8odC53aWR0aC1uLndpZHRoKSxyPShuLnRvcC10LnRvcCkqdC5oZWlnaHQvKHQuaGVpZ2h0LW4uaGVpZ2h0KTtyZXR1cm57eDppc05hTihpKT8wOmkseTppc05hTihyKT8wOnJ9fTtyLmZpbGxTY2FsZT1mdW5jdGlvbihuLHQpe3JldHVybiBNYXRoLm1pbihuLndpZHRoL3Qud2lkdGgsbi5oZWlnaHQvdC5oZWlnaHQpfTtyLmZpdFNjYWxlPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIE1hdGgubWF4KG4ud2lkdGgvdC53aWR0aCxuLmhlaWdodC90LmhlaWdodCl9fSh3aW5kb3cua2VuZG8ualF1ZXJ5KSx3aW5kb3cua2VuZG99LCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lOmZ1bmN0aW9uKG4sdCxpKXsoaXx8dCkoKX0pO0NhdGFsb2dQcm9kdWN0cz17c2V0dGluZ3M6e2FqYXg6ITEsZmV0Y2hVcmw6ITEsYnJvd3NlclBhdGg6ITF9LHBhcmFtczp7anFYSFI6ITF9LGluaXQ6ZnVuY3Rpb24obil7dGhpcy5zZXR0aW5ncz0kLmV4dGVuZCh7fSx0aGlzLnNldHRpbmdzLG4pfSxnZXRQcm9kdWN0czpmdW5jdGlvbihuKXt2YXIgdCxyLGk7dGhpcy5wYXJhbXMuanFYSFImJnRoaXMucGFyYW1zLmpxWEhSLnJlYWR5U3RhdGUhPT00JiZ0aGlzLnBhcmFtcy5qcVhIUi5hYm9ydCgpO3Q9Y3JlYXRlUHJvZHVjdHNVUkxCdWlsZGVyKHRoaXMuc2V0dGluZ3MuYnJvd3NlclBhdGgpO24mJnQuYWRkUGFyYW1ldGVyKCJwYWdlbnVtYmVyIixuKTtyPXt1cmxCdWlsZGVyOnR9OyQodGhpcykudHJpZ2dlcih7dHlwZToiYmVmb3JlIixwYXlsb2FkOnJ9KTt0aGlzLnNldEJyb3dzZXJIaXN0b3J5KHQuYnVpbGQoKSk7dGhpcy5zZXR0aW5ncy5hamF4Pyh0aGlzLnNldExvYWRXYWl0aW5nKDEpLGk9dGhpcyx0aGlzLnBhcmFtcy5qcVhIUj0kLmFqYXgoe2NhY2hlOiExLHVybDp0LmFkZEJhc2VQYXRoKHRoaXMuc2V0dGluZ3MuZmV0Y2hVcmwpLmJ1aWxkKCksdHlwZToiR0VUIixzdWNjZXNzOmZ1bmN0aW9uKG4peyQoIi5wcm9kdWN0cy13cmFwcGVyIikuaHRtbChuKTskKGkpLnRyaWdnZXIoe3R5cGU6ImxvYWRlZCJ9KX0sZXJyb3I6ZnVuY3Rpb24oKXskKGkpLnRyaWdnZXIoe3R5cGU6ImVycm9yIn0pfSxjb21wbGV0ZTpmdW5jdGlvbigpe2kuc2V0TG9hZFdhaXRpbmcoKX19KSk6c2V0TG9jYXRpb24odC5idWlsZCgpKX0sc2V0TG9hZFdhaXRpbmcobil7dmFyIHQ9JCgiLmFqYXgtcHJvZHVjdHMtYnVzeSIpO24/dC5zaG93KCk6dC5oaWRlKCl9LHNldEJyb3dzZXJIaXN0b3J5KG4pe3dpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7cGF0aDpufSwiIixuKX19OwovKiEgalF1ZXJ5IEpTT04gcGx1Z2luIDIuNC4wIHwgY29kZS5nb29nbGUuY29tL3AvanF1ZXJ5LWpzb24gKi8KKGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0Ijt2YXIgdD0vWyJcXFx4MDAtXHgxZlx4N2YtXHg5Zl0vZyxpPXsiXGIiOiJcXGIiLCJcdCI6IlxcdCIsIlxuIjoiXFxuIiwiXGYiOiJcXGYiLCJcciI6IlxcciIsJyInOidcXCInLCJcXCI6IlxcXFwifSxyPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7bi50b0pTT049dHlwZW9mIEpTT049PSJvYmplY3QiJiZKU09OLnN0cmluZ2lmeT9KU09OLnN0cmluZ2lmeTpmdW5jdGlvbih0KXt2YXIgZSx1LGEsdixpO2lmKHQ9PT1udWxsKXJldHVybiJudWxsIjtpZihpPW4udHlwZSh0KSxpPT09InVuZGVmaW5lZCIpcmV0dXJuIHVuZGVmaW5lZDtpZihpPT09Im51bWJlciJ8fGk9PT0iYm9vbGVhbiIpcmV0dXJuIFN0cmluZyh0KTtpZihpPT09InN0cmluZyIpcmV0dXJuIG4ucXVvdGVTdHJpbmcodCk7aWYodHlwZW9mIHQudG9KU09OPT0iZnVuY3Rpb24iKXJldHVybiBuLnRvSlNPTih0LnRvSlNPTigpKTtpZihpPT09ImRhdGUiKXt2YXIgbz10LmdldFVUQ01vbnRoKCkrMSxzPXQuZ2V0VVRDRGF0ZSgpLHk9dC5nZXRVVENGdWxsWWVhcigpLGg9dC5nZXRVVENIb3VycygpLGM9dC5nZXRVVENNaW51dGVzKCksbD10LmdldFVUQ1NlY29uZHMoKSxmPXQuZ2V0VVRDTWlsbGlzZWNvbmRzKCk7cmV0dXJuIG88MTAmJihvPSIwIitvKSxzPDEwJiYocz0iMCIrcyksaDwxMCYmKGg9IjAiK2gpLGM8MTAmJihjPSIwIitjKSxsPDEwJiYobD0iMCIrbCksZjwxMDAmJihmPSIwIitmKSxmPDEwJiYoZj0iMCIrZiksJyInK3krIi0iK28rIi0iK3MrIlQiK2grIjoiK2MrIjoiK2wrIi4iK2YrJ1oiJ31pZihlPVtdLG4uaXNBcnJheSh0KSl7Zm9yKHU9MDt1PHQubGVuZ3RoO3UrKyllLnB1c2gobi50b0pTT04odFt1XSl8fCJudWxsIik7cmV0dXJuIlsiK2Uuam9pbigiLCIpKyJdIn1pZih0eXBlb2YgdD09Im9iamVjdCIpe2Zvcih1IGluIHQpaWYoci5jYWxsKHQsdSkpe2lmKGk9dHlwZW9mIHUsaT09PSJudW1iZXIiKWE9JyInK3UrJyInO2Vsc2UgaWYoaT09PSJzdHJpbmciKWE9bi5xdW90ZVN0cmluZyh1KTtlbHNlIGNvbnRpbnVlO2k9dHlwZW9mIHRbdV07aSE9PSJmdW5jdGlvbiImJmkhPT0idW5kZWZpbmVkIiYmKHY9bi50b0pTT04odFt1XSksZS5wdXNoKGErIjoiK3YpKX1yZXR1cm4ieyIrZS5qb2luKCIsIikrIn0ifX07bi5ldmFsSlNPTj10eXBlb2YgSlNPTj09Im9iamVjdCImJkpTT04ucGFyc2U/SlNPTi5wYXJzZTpmdW5jdGlvbihuKXtyZXR1cm4gZXZhbCgiKCIrbisiKSIpfTtuLnNlY3VyZUV2YWxKU09OPXR5cGVvZiBKU09OPT0ib2JqZWN0IiYmSlNPTi5wYXJzZT9KU09OLnBhcnNlOmZ1bmN0aW9uKG4pe3ZhciB0PW4ucmVwbGFjZSgvXFxbIlxcXC9iZm5ydHVdL2csIkAiKS5yZXBsYWNlKC8iW14iXFxcblxyXSoifHRydWV8ZmFsc2V8bnVsbHwtP1xkKyg/OlwuXGQqKT8oPzpbZUVdWytcLV0/XGQrKT8vZywiXSIpLnJlcGxhY2UoLyg/Ol58OnwsKSg/OlxzKlxbKSsvZywiIik7aWYoL15bXF0sOnt9XHNdKiQvLnRlc3QodCkpcmV0dXJuIGV2YWwoIigiK24rIikiKTt0aHJvdyBuZXcgU3ludGF4RXJyb3IoIkVycm9yIHBhcnNpbmcgSlNPTiwgc291cmNlIGlzIG5vdCB2YWxpZC4iKTt9O24ucXVvdGVTdHJpbmc9ZnVuY3Rpb24obil7cmV0dXJuIG4ubWF0Y2godCk/JyInK24ucmVwbGFjZSh0LGZ1bmN0aW9uKG4pe3ZhciB0PWlbbl07cmV0dXJuIHR5cGVvZiB0PT0ic3RyaW5nIj90Oih0PW4uY2hhckNvZGVBdCgpLCJcXHUwMCIrTWF0aC5mbG9vcih0LzE2KS50b1N0cmluZygxNikrKHQlMTYpLnRvU3RyaW5nKDE2KSl9KSsnIic6JyInK24rJyInfX0pKGpRdWVyeSk7IWZ1bmN0aW9uKG4sdCxpKXtmdW5jdGlvbiB1KCl7cmV0dXJue0FuZHJvaWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZC9pKX0sQmxhY2tCZXJyeTpmdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9CbGFja0JlcnJ5L2kpfSxpT1M6ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBob25lfGlQYWR8aVBvZC9pKX0sT3BlcmE6ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvT3BlcmEgTWluaS9pKX0sV2luZG93czpmdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9JRU1vYmlsZS9pKX0sYW55OmZ1bmN0aW9uKCl7cmV0dXJuISEodGhpcy5BbmRyb2lkKCl8fHRoaXMuQmxhY2tCZXJyeSgpfHx0aGlzLmlPUygpfHx0aGlzLk9wZXJhKCl8fHRoaXMuV2luZG93cygpKX19LmFueSgpfXZhciByPSExOyJmdW5jdGlvbiIhPXR5cGVvZiBTdHJpbmcucHJvdG90eXBlLnRyaW0mJihTdHJpbmcucHJvdG90eXBlLnRyaW09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9KTsiZnVuY3Rpb24iIT10eXBlb2YgU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoJiYoU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoPWZ1bmN0aW9uKG4pe3JldHVybiAwPT09dGhpcy5pbmRleE9mKG4pfSk7dC5pc0luVmlld1BvcnQ9ZnVuY3Rpb24odCl7dmFyIGk9bih0KS5vZmZzZXQoKS50b3AsZj1pK24odCkub3V0ZXJIZWlnaHQoKSxyPW4od2luZG93KS5zY3JvbGxUb3AoKSx1PXIrbih3aW5kb3cpLmhlaWdodCgpLHU9cjxmJiZpPHUrMTAwO3JldHVybiB1JiZuKHQpLmlzKCI6dmlzaWJsZSIpfTt0LmxvYWRJbWFnZXNPblNjcm9sbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXtuKCJpbWdbZGF0YS1sYXp5bG9hZHNyY10iKS5ub3QoIltsb2FkZWRpbWFnZV0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKTswPGkucGFyZW50cygpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBuKHRoaXMpLmhhc0NsYXNzKCJqQ2Fyb3VzZWxNYWluV3JhcHBlciIpfSkubGVuZ3RofHx0LmlzSW5WaWV3UG9ydChpKSYmKGkuYXR0cigic3JjIixpLmF0dHIoImRhdGEtbGF6eWxvYWRzcmMiKSksaS5hdHRyKCJsb2FkZWRpbWFnZSIsInRydWUiKSl9KX12YXIgcj1uKHdpbmRvdyk7bihkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtpKCk7bihkb2N1bWVudCkub24oIlNldmVuU3Bpa2VzU2FsZU9mVGhlRGF5SW5pdGlhbGl6ZWRFdmVudCIsaSk7ci5vbigic2Nyb2xsLmxhenlMb2FkSW1hZ2VzIixpKX0pO24oImltZyIpLm9uKCJsb2FkIixpKTtuKGRvY3VtZW50KS5vbigibm9wQWpheEZpbHRlcnNGaWx0cmF0aW9uQ29tcGxldGVFdmVudCBub3BBamF4Q2FydFByb2R1Y3RBZGRlZFRvQ2FydEV2ZW50IG5vcFF1aWNrVmlld0RhdGFTaG93bkV2ZW50IG5ld1Byb2R1Y3RzQWRkZWRUb1BhZ2VFdmVudCBzZXZlblNwaWtlc1RyYWN0aW9uSG9tZVBhZ2VRdWlja1RhYk9wZW5lZCBBbnl3aGVyZVNsaWRlckxvYWRlZCIsaSl9O24uZm4uZXh0ZW5kKHtzaW1wbGVTZWxlY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTt0LnBhcmVudCgpLmhhc0NsYXNzKCJzZWxlY3Qtd3JhcCIpfHwodC53cmFwKCc8ZGl2IGNsYXNzPSJzZWxlY3Qtd3JhcCI+PFwvZGl2PicpLmFmdGVyKCc8c3BhbiBjbGFzcz0ic2VsZWN0LWJveCI+PHNwYW4gY2xhc3M9InNlbGVjdC1pbm5lciI+Jyt0LmZpbmQoIjpzZWxlY3RlZCIpLnRleHQoKSsiPFwvc3Bhbj48XC9zcGFuPiIpLHQuY2hhbmdlKGZ1bmN0aW9uKCl7dC5uZXh0KCkuY2hpbGRyZW4oIi5zZWxlY3QtaW5uZXIiKS50ZXh0KHQuZmluZCgiOnNlbGVjdGVkIikudGV4dCgpKX0pKX0pfX0pO3QuaXNSdGw9InRydWUiPT09bigiI2lzUnRsRW5hYmxlZCIpLnZhbCgpO3QuaXNNb2JpbGVEZXZpY2U9dSgpO3QuaXNNb2JpbGU9dTt0LkFudGlTcGFtPWZ1bmN0aW9uKG4sdCl7d2luZG93LmxvY2F0aW9uLmhyZWY9Im1haWx0bzoiK24rIkAiK3R9O3QuZ2V0QXR0clZhbEZyb21Eb209ZnVuY3Rpb24odCxpLHIpe3JldHVybiBpPW4odCkuYXR0cihpKSxudWxsIT1pJiYiIiE9PWl8fChpPW51bGwhPXI/cjoiIiksaX07dC5nZXRIaWRkZW5WYWxGcm9tRG9tPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQ9bih0KS52YWwoKSxudWxsIT10JiYiIiE9PXR8fCh0PW51bGwhPWk/aToiIiksdH07dC5nZXRVcmxWYXI9ZnVuY3Rpb24obil7Zm9yKHZhciB0LGk9W10sdT13aW5kb3cubG9jYXRpb24uaHJlZi5zbGljZSh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCI/IikrMSkuc3BsaXQoIiYiKSxyPTA7cjx1Lmxlbmd0aDtyKyspaWYodD11W3JdLnNwbGl0KCI9IiksaS5wdXNoKHRbMF0pLGlbdFswXV09dFsxXSxudWxsIT1uJiZ0WzBdPT09bilyZXR1cm4gdFsxXTtyZXR1cm4gbnVsbCE9bj9udWxsOml9O3QuZ2V0Vmlld1BvcnQ9ZnVuY3Rpb24oKXt2YXIgbj13aW5kb3csdD0iaW5uZXIiO3JldHVybiJpbm5lcldpZHRoImluIHdpbmRvd3x8KHQ9ImNsaWVudCIsbj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fGRvY3VtZW50LmJvZHkpLHt3aWR0aDpuW3QrIldpZHRoIl0saGVpZ2h0Om5bdCsiSGVpZ2h0Il19fTt0LnByZXBhcmVUb3BNZW51PWZ1bmN0aW9uKCl7dmFyIGk9Ii5tZWdhLW1lbnUgbGksIC50b3AtbWVudSBsaSI7ciYmKG4oIi5tZW51LXRpdGxlIikub2ZmKCJjbGljay5zc0NvcmUiKSxuKCIucGx1cy1idXR0b24iKS5vZmYoImNsaWNrLnNzQ29yZSIpLG4oaSkub2ZmKCJtb3VzZWVudGVyLnNzQ29yZSBtb3VzZWxlYXZlLnNzQ29yZSIpLG4oIi50b3AtbWVudSIpLnJlbW92ZUF0dHIoInN0eWxlIiksbigiLnN1Ymxpc3Qtd3JhcC5hY3RpdmUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksbigiLnBsdXMtYnV0dG9uLmNsb3NlIikucmVtb3ZlQ2xhc3MoImNsb3NlIiksbigiLm1lbnUtdGl0bGUuY2xvc2UiKS5yZW1vdmVDbGFzcygiY2xvc2UiKSk7cj0hMDt2YXIgZj13aW5kb3cudGhlbWVTZXR0aW5ncyYmd2luZG93LnRoZW1lU2V0dGluZ3MudGhlbWVCcmVha3BvaW50fHw5ODAsdT13aW5kb3cudGhlbWVTZXR0aW5ncyYmd2luZG93LnRoZW1lU2V0dGluZ3MuaXNBY2NvcmRpb25NZW51fHwhMSxlPXQuZ2V0Vmlld1BvcnQoKS53aWR0aDtuKCIubWVudS10aXRsZSIpLm9uKCJjbGljay5zc0NvcmUiLGZ1bmN0aW9uKCl7bih0aGlzKS50b2dnbGVDbGFzcygiY2xvc2UiLCFuKHRoaXMpLmhhc0NsYXNzKCJjbG9zZSIpKTtuKHRoaXMpLnNpYmxpbmdzKCIudG9wLW1lbnUsIC5tZWdhLW1lbnUtcmVzcG9uc2l2ZSIpLnNsaWRlVG9nZ2xlKCJmYXN0IixmdW5jdGlvbigpe24odGhpcykuY3NzKCJvdmVyZmxvdyIsIiIpfSk7dXx8bigiLmhlYWRlci1tZW51LCAuc3VibGlzdC13cmFwIikucGVyZmVjdFNjcm9sbGJhcih7c3dpcGVQcm9wYWdhdGlvbjohMSx3aGVlbFNwZWVkOjEsc3VwcHJlc3NTY3JvbGxYOiEwfSl9KTtuKCIucGx1cy1idXR0b24iKS5vbigiY2xpY2suc3NDb3JlIixmdW5jdGlvbih0KXt0LnN0b3BQcm9wYWdhdGlvbigpO3Q9bih0aGlzKTt0LnRvZ2dsZUNsYXNzKCJjbG9zZSIsIXQuaGFzQ2xhc3MoImNsb3NlIikpO3ZhciBpPXQuc2libGluZ3MoIi5zdWJsaXN0LXdyYXAiKTtpLmhhc0NsYXNzKCJhY3RpdmUiKT9pLnJlbW92ZUNsYXNzKCJhY3RpdmUiKTp1P2kuYWRkQ2xhc3MoImFjdGl2ZSIpOnQucGFyZW50cygpLmVxKDIpLmFuaW1hdGUoe3Njcm9sbFRvcDowfSwxODAsZnVuY3Rpb24oKXtpLmFkZENsYXNzKCJhY3RpdmUiKX0pO3V8fHQucGFyZW50cygpLmVxKDIpLnBlcmZlY3RTY3JvbGxiYXIoImRlc3Ryb3kiKX0pO2Y8ZT8obigiLnN1Ymxpc3Qtd3JhcC5hY3RpdmUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksbigiLnBsdXMtYnV0dG9uLmNsb3NlIikucmVtb3ZlQ2xhc3MoImNsb3NlIiksbihpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQsaTsidHJ1ZSI9PT1uKHRoaXMpLnBhcmVudHMoInVsIikubGFzdCgpLmF0dHIoImRhdGEtZW5hYmxlQ2xpY2tGb3JEcm9wRG93biIpfHxuKHRoaXMpLm9uKCJtb3VzZWVudGVyLnNzQ29yZSIsZnVuY3Rpb24oKXt2YXIgcj1uKHRoaXMpO2NsZWFyVGltZW91dChpKTt0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtuKCJhIixyKS5maXJzdCgpLmFkZENsYXNzKCJob3ZlciIpO24oIi5zdWJsaXN0LXdyYXAsIC5kcm9wZG93biIscikuZmlyc3QoKS5hZGRDbGFzcygiYWN0aXZlIik7bihkb2N1bWVudCkudHJpZ2dlcigic2V2ZW5TcGlrZXNNZWdhTWVudU1vdXNlT3ZlckV2ZW50Iil9LDE4MCl9KS5vbigibW91c2VsZWF2ZS5zc0NvcmUiLGZ1bmN0aW9uKCl7dmFyIHI9bih0aGlzKTtjbGVhclRpbWVvdXQodCk7aT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bigiYSIscikuZmlyc3QoKS5yZW1vdmVDbGFzcygiaG92ZXIiKTtuKCIuc3VibGlzdC13cmFwLCAuZHJvcGRvd24iLHIpLmZpcnN0KCkucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpfSwxODApfSl9KSk6KG4oaSkub2ZmKCJtb3VzZWVudGVyLnNzQ29yZSBtb3VzZWxlYXZlLnNzQ29yZSIpLG4oIi5zdWJsaXN0LXdyYXAuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLG4oIi5wbHVzLWJ1dHRvbi5jbG9zZSIpLnJlbW92ZUNsYXNzKCJjbG9zZSIpKX07dC5jcmVhdGVQcm9kdWN0Qm94SW1hZ2VDYXJvdXNlbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXtmb3IodmFyIHIsdT1uKCIucHJvZHVjdC1ib3gtaW1hZ2UtY2Fyb3VzZWwiKS5ub3QoIi5sb2FkZWQtY2Fyb3VzZWwiKSxpPTA7aTx1Lmxlbmd0aDtpKyspcj1uKHVbaV0pLHQuaXNJblZpZXdQb3J0KHIpJiYoci5zbGljaygpLHIuYWRkQ2xhc3MoImxvYWRlZC1jYXJvdXNlbCIpKX12YXIgcj1uKHdpbmRvdyk7bihkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtpKCk7bihkb2N1bWVudCkub24oIlNldmVuU3Bpa2VzU2FsZU9mVGhlRGF5SW5pdGlhbGl6ZWRFdmVudCIsaSk7ci5vbigic2Nyb2xsLmxhenlMb2FkUHJvZHVjdEJveEltYWdlQ2Fyb3VzZWwiLGkpfSk7bihkb2N1bWVudCkub24oIm5vcEFqYXhGaWx0ZXJzRmlsdHJhdGlvbkNvbXBsZXRlRXZlbnQgbm9wQWpheENhcnRQcm9kdWN0QWRkZWRUb0NhcnRFdmVudCBub3BRdWlja1ZpZXdEYXRhU2hvd25FdmVudCBuZXdQcm9kdWN0c0FkZGVkVG9QYWdlRXZlbnQgc2V2ZW5TcGlrZXNUcmFjdGlvbkhvbWVQYWdlUXVpY2tUYWJPcGVuZWQgQW55d2hlcmVTbGlkZXJMb2FkZWQiLGkpO3dpbmRvdy5DYXRhbG9nUHJvZHVjdHMmJm4od2luZG93LkNhdGFsb2dQcm9kdWN0cykub24oImxvYWRlZCIsaSl9O3QubG9hZEltYWdlc09uU2Nyb2xsKCk7dC5jcmVhdGVQcm9kdWN0Qm94SW1hZ2VDYXJvdXNlbCgpO24oZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7bihpKS5vbigibG9hZGVkIixmdW5jdGlvbigpe24uZXZlbnQudHJpZ2dlcih7dHlwZToibmV3UHJvZHVjdHNBZGRlZFRvUGFnZUV2ZW50In0pfSl9KX0oalF1ZXJ5LHdpbmRvdy5zZXZlblNwaWtlc0NvcmU9d2luZG93LnNldmVuU3Bpa2VzQ29yZXx8e30sd2luZG93LkNhdGFsb2dQcm9kdWN0cz13aW5kb3cuQ2F0YWxvZ1Byb2R1Y3RzfHx7fSk7Ci8qISBqUXVlcnkgQWRkcmVzcyB2JHt2ZXJzaW9ufSB8IChjKSAyMDA5LCAyMDEzIFJvc3Rpc2xhdiBIcmlzdG92IHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCihmdW5jdGlvbihuKXtuLmFkZHJlc3M9ZnVuY3Rpb24oKXt2YXIgY3Q9ZnVuY3Rpb24odCl7dmFyIGk9bi5leHRlbmQobi5FdmVudCh0KSxmdW5jdGlvbigpe2Zvcih2YXIgcj17fSx0PW4uYWRkcmVzcy5wYXJhbWV0ZXJOYW1lcygpLGk9MCx1PXQubGVuZ3RoO2k8dTtpKyspclt0W2ldXT1uLmFkZHJlc3MucGFyYW1ldGVyKHRbaV0pO3JldHVybnt2YWx1ZTpuLmFkZHJlc3MudmFsdWUoKSxwYXRoOm4uYWRkcmVzcy5wYXRoKCkscGF0aE5hbWVzOm4uYWRkcmVzcy5wYXRoTmFtZXMoKSxwYXJhbWV0ZXJOYW1lczp0LHBhcmFtZXRlcnM6cixxdWVyeVN0cmluZzpuLmFkZHJlc3MucXVlcnlTdHJpbmcoKX19LmNhbGwobi5hZGRyZXNzKSk7cmV0dXJuIG4obi5hZGRyZXNzKS50cmlnZ2VyKGkpLGl9LHk9ZnVuY3Rpb24obil7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4pfSxiPWZ1bmN0aW9uKCl7cmV0dXJuIG4oKS5iaW5kLmFwcGx5KG4obi5hZGRyZXNzKSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSxuLmFkZHJlc3N9LHNpPWZ1bmN0aW9uKCl7cmV0dXJuIG4oKS51bmJpbmQuYXBwbHkobihuLmFkZHJlc3MpLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpLG4uYWRkcmVzc30scnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdHQucHVzaFN0YXRlJiZ0LnN0YXRlIT09aX0scHQ9ZnVuY3Rpb24oKXtyZXR1cm4oIi8iK3MucGF0aG5hbWUucmVwbGFjZShuZXcgUmVnRXhwKHQuc3RhdGUpLCIiKStzLnNlYXJjaCsodXQoKT8iIyIrdXQoKToiIikpLnJlcGxhY2UoaWksIi8iKX0sdXQ9ZnVuY3Rpb24oKXt2YXIgbj1zLmhyZWYuaW5kZXhPZigiIyIpO3JldHVybiBuIT0tMT9zLmhyZWYuc3Vic3RyKG4rMSk6IiJ9LGM9ZnVuY3Rpb24oKXtyZXR1cm4gcnQoKT9wdCgpOnV0KCl9LHd0PWZ1bmN0aW9uKCl7dHJ5e3JldHVybiB0b3AuZG9jdW1lbnQhPT1pJiZ0b3AuZG9jdW1lbnQudGl0bGUhPT1pJiZ0b3AualF1ZXJ5IT09aSYmdG9wLmpRdWVyeS5hZGRyZXNzIT09aSYmdG9wLmpRdWVyeS5hZGRyZXNzLmZyYW1lcygpIT09ITE/dG9wOndpbmRvd31jYXRjaChuKXtyZXR1cm4gd2luZG93fX0sYnQ9ZnVuY3Rpb24oKXtyZXR1cm4iamF2YXNjcmlwdCJ9LGx0PWZ1bmN0aW9uKG4pe3JldHVybiBuPW4udG9TdHJpbmcoKSwodC5zdHJpY3QmJm4uc3Vic3RyKDAsMSkhPSIvIj8iLyI6IiIpK259LGw9ZnVuY3Rpb24obix0KXtyZXR1cm4gcGFyc2VJbnQobi5jc3ModCksMTApfSxrPWZ1bmN0aW9uKCl7aWYoIXN0KXt2YXIgbj1jKCksaT1kZWNvZGVVUkkodSkhPWRlY29kZVVSSShuKTtpJiYodiYmdzw3P3MucmVsb2FkKCk6KHYmJiFvdCYmdC5oaXN0b3J5JiZhKGF0LDUwKSx1PW4sZChvKSkpfX0sZD1mdW5jdGlvbihuKXtyZXR1cm4gYShoaSwxMCksY3QoZ3QpLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxjdChuP25pOnRpKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKX0saGk9ZnVuY3Rpb24oKXtpZih0LnRyYWNrZXIhPT0ibnVsbCImJnQudHJhY2tlciE9PWcpe3ZhciBmPW4uaXNGdW5jdGlvbih0LnRyYWNrZXIpP3QudHJhY2tlcjpyW3QudHJhY2tlcl0sdT0ocy5wYXRobmFtZStzLnNlYXJjaCsobi5hZGRyZXNzJiYhcnQoKT9uLmFkZHJlc3MudmFsdWUoKToiIikpLnJlcGxhY2UoL1wvXC8vLCIvIikucmVwbGFjZSgvXlwvJC8sIiIpO24uaXNGdW5jdGlvbihmKT9mKHUpOihuLmlzRnVuY3Rpb24oci51cmNoaW5UcmFja2VyKSYmci51cmNoaW5UcmFja2VyKHUpLHIucGFnZVRyYWNrZXIhPT1pJiZuLmlzRnVuY3Rpb24oci5wYWdlVHJhY2tlci5fdHJhY2tQYWdldmlldykmJnIucGFnZVRyYWNrZXIuX3RyYWNrUGFnZXZpZXcodSksci5fZ2FxIT09aSYmbi5pc0Z1bmN0aW9uKHIuX2dhcS5wdXNoKSYmci5fZ2FxLnB1c2goWyJfdHJhY2tQYWdldmlldyIsZGVjb2RlVVJJKHUpXSksbi5pc0Z1bmN0aW9uKHIuZ2EpJiZyLmdhKCJzZW5kIiwicGFnZXZpZXciLHUpKX19LGF0PWZ1bmN0aW9uKCl7dmFyIG49YnQoKSsiOiIrbysiO2RvY3VtZW50Lm9wZW4oKTtkb2N1bWVudC53cml0ZWxuKCc8aHRtbD48aGVhZD48dGl0bGU+IitlLnRpdGxlLnJlcGxhY2UoL1wnL2csIlxcJyIpKyI8XC90aXRsZT48c2NyaXB0PnZhciAiK3ArJyA9ICInK2VuY29kZVVSSUNvbXBvbmVudChjKCkpLnJlcGxhY2UoL1wnL2csIlxcJyIpKyhlLmRvbWFpbiE9cy5ob3N0bmFtZT8nIjtkb2N1bWVudC5kb21haW49IicrZS5kb21haW46IiIpKyJcIjs8XC9zY3JpcHQ+PFwvaGVhZD48XC9odG1sPicpO2RvY3VtZW50LmNsb3NlKCk7Ijt3PDc/Zi5zcmM9bjpmLmNvbnRlbnRXaW5kb3cubG9jYXRpb24ucmVwbGFjZShuKX0sa3Q9ZnVuY3Rpb24oKXtpZihpdCYmdWkhPS0xKXtmb3IodmFyIG4scj1pdC5zdWJzdHIodWkrMSkuc3BsaXQoIiYiKSxpPTA7aTxyLmxlbmd0aDtpKyspbj1yW2ldLnNwbGl0KCI9IiksL14oYXV0b1VwZGF0ZXxoaXN0b3J5fHN0cmljdHx3cmFwKSQvLnRlc3QoblswXSkmJih0W25bMF1dPWlzTmFOKG5bMV0pPy9eKHRydWV8eWVzKSQvaS50ZXN0KG5bMV0pOnBhcnNlSW50KG5bMV0sMTApIT09MCksL14oc3RhdGV8dHJhY2tlcikkLy50ZXN0KG5bMF0pJiYodFtuWzBdXT1uWzFdKTtpdD1nfXU9YygpfSxkdD1mdW5jdGlvbigpe3ZhciB5LGcsYjtmaXx8KGZpPWgsa3QoKSxuKCdhW3JlbCo9ImFkZHJlc3M6Il0nKS5hZGRyZXNzKCksdC53cmFwJiYoeT1uKCJib2R5IiksZz1uKCJib2R5ID4gKiIpLndyYXBBbGwoJzxkaXYgc3R5bGU9InBhZGRpbmc6JysobCh5LCJtYXJnaW5Ub3AiKStsKHksInBhZGRpbmdUb3AiKSkrInB4ICIrKGwoeSwibWFyZ2luUmlnaHQiKStsKHksInBhZGRpbmdSaWdodCIpKSsicHggIisobCh5LCJtYXJnaW5Cb3R0b20iKStsKHksInBhZGRpbmdCb3R0b20iKSkrInB4ICIrKGwoeSwibWFyZ2luTGVmdCIpK2woeSwicGFkZGluZ0xlZnQiKSkrJ3B4OyIgLz4nKS5wYXJlbnQoKS53cmFwKCc8ZGl2IGlkPSInK3ArJyIgc3R5bGU9ImhlaWdodDoxMDAlO292ZXJmbG93OmF1dG87cG9zaXRpb246cmVsYXRpdmU7JysoZXQmJiF3aW5kb3cuc3RhdHVzYmFyLnZpc2libGU/InJlc2l6ZTpib3RoOyI6IiIpKyciIC8+JyksbigiaHRtbCwgYm9keSIpLmNzcyh7aGVpZ2h0OiIxMDAlIixtYXJnaW46MCxwYWRkaW5nOjAsb3ZlcmZsb3c6ImhpZGRlbiJ9KSxldCYmbignPHN0eWxlIHR5cGU9InRleHQvY3NzIiAvPicpLmFwcGVuZFRvKCJoZWFkIikudGV4dCgiIyIrcCsiOjotd2Via2l0LXJlc2l6ZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOyB9IikpLHYmJiFvdCYmKGI9ZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZnJhbWVzZXQiKVswXSxmPWUuY3JlYXRlRWxlbWVudCgoYj8iIjoiaSIpKyJmcmFtZSIpLGYuc3JjPWJ0KCkrIjoiK28sYj8oYi5pbnNlcnRBZGphY2VudEVsZW1lbnQoImJlZm9yZUVuZCIsZiksYltiLmNvbHM/ImNvbHMiOiJyb3dzIl0rPSIsMCIsZi5ub1Jlc2l6ZT1oLGYuZnJhbWVCb3JkZXI9Zi5mcmFtZVNwYWNpbmc9MCk6KGYuc3R5bGUuZGlzcGxheT0ibm9uZSIsZi5zdHlsZS53aWR0aD1mLnN0eWxlLmhlaWdodD0wLGYudGFiSW5kZXg9LTEsZS5ib2R5Lmluc2VydEFkamFjZW50RWxlbWVudCgiYWZ0ZXJCZWdpbiIsZikpLGEoZnVuY3Rpb24oKXtuKGYpLmJpbmQoImxvYWQiLGZ1bmN0aW9uKCl7dmFyIG49Zi5jb250ZW50V2luZG93O3U9bltwXSE9PWk/bltwXToiIjt1IT1jKCkmJihkKG8pLHMuaGFzaD11KX0pO2YuY29udGVudFdpbmRvd1twXT09PWkmJmF0KCl9LDUwKSksYShmdW5jdGlvbigpe2N0KCJpbml0Iik7ZChvKX0sMSkscnQoKXx8KHYmJnc+N3x8IXYmJm90P3IuYWRkRXZlbnRMaXN0ZW5lcj9yLmFkZEV2ZW50TGlzdGVuZXIobnQsayxvKTpyLmF0dGFjaEV2ZW50JiZyLmF0dGFjaEV2ZW50KCJvbiIrbnQsayk6d2koayw1MCkpLCJzdGF0ZSJpbiB3aW5kb3cuaGlzdG9yeSYmbih3aW5kb3cpLnRyaWdnZXIoInBvcHN0YXRlIikpfSxjaT1mdW5jdGlvbigpe2RlY29kZVVSSSh1KSE9ZGVjb2RlVVJJKGMoKSkmJih1PWMoKSxkKG8pKX0sbGk9ZnVuY3Rpb24oKXtyLnJlbW92ZUV2ZW50TGlzdGVuZXI/ci5yZW1vdmVFdmVudExpc3RlbmVyKG50LGssbyk6ci5kZXRhY2hFdmVudCYmci5kZXRhY2hFdmVudCgib24iK250LGspfSxhaT1mdW5jdGlvbihuKXtuPW4udG9Mb3dlckNhc2UoKTt2YXIgdD0vKGNocm9tZSlbIFwvXShbXHcuXSspLy5leGVjKG4pfHwvKHdlYmtpdClbIFwvXShbXHcuXSspLy5leGVjKG4pfHwvKG9wZXJhKSg/Oi4qdmVyc2lvbnwpWyBcL10oW1x3Ll0rKS8uZXhlYyhuKXx8Lyhtc2llKSAoW1x3Ll0rKS8uZXhlYyhuKXx8bi5pbmRleE9mKCJjb21wYXRpYmxlIik8MCYmLyhtb3ppbGxhKSg/Oi4qPyBydjooW1x3Ll0rKXwpLy5leGVjKG4pfHxbXTtyZXR1cm57YnJvd3Nlcjp0WzFdfHwiIix2ZXJzaW9uOnRbMl18fCIwIn19LHZpPWZ1bmN0aW9uKCl7dmFyIG49e30sdD1haShuYXZpZ2F0b3IudXNlckFnZW50KTtyZXR1cm4gdC5icm93c2VyJiYoblt0LmJyb3dzZXJdPSEwLG4udmVyc2lvbj10LnZlcnNpb24pLG4uY2hyb21lP24ud2Via2l0PSEwOm4ud2Via2l0JiYobi5zYWZhcmk9ITApLG59LGksZz1udWxsLHA9ImpRdWVyeUFkZHJlc3MiLHlpPSJzdHJpbmciLG50PSJoYXNoY2hhbmdlIixwaT0iaW5pdCIsZ3Q9ImNoYW5nZSIsbmk9ImludGVybmFsQ2hhbmdlIix0aT0iZXh0ZXJuYWxDaGFuZ2UiLGg9ITAsbz0hMSx0PXthdXRvVXBkYXRlOmgsaGlzdG9yeTpoLHN0cmljdDpoLGZyYW1lczpoLHdyYXA6b30sZnQ9dmkoKSx3PXBhcnNlRmxvYXQoZnQudmVyc2lvbiksZXQ9ZnQud2Via2l0fHxmdC5zYWZhcmksdj1mdC5tc2llLHI9d3QoKSxlPXIuZG9jdW1lbnQsdHQ9ci5oaXN0b3J5LHM9ci5sb2NhdGlvbix3aT1zZXRJbnRlcnZhbCxhPXNldFRpbWVvdXQsaWk9L1wvezIsOX0vZyxyaT1uYXZpZ2F0b3IudXNlckFnZW50LG90PSJvbiIrbnQgaW4gcixmLGl0PW4oInNjcmlwdDpsYXN0IikuYXR0cigic3JjIiksdWk9aXQ/aXQuaW5kZXhPZigiPyIpOi0xLHZ0PWUudGl0bGUsc3Q9byxmaT1vLGVpPWgsaHQ9byx1PWMoKSx5dCxvaTtyZXR1cm4gdiYmKHc9cGFyc2VGbG9hdChyaS5zdWJzdHIocmkuaW5kZXhPZigiTVNJRSIpKzQpKSxlLmRvY3VtZW50TW9kZSYmZS5kb2N1bWVudE1vZGUhPXcmJih3PWUuZG9jdW1lbnRNb2RlIT04Pzc6OCkseXQ9ZS5vbnByb3BlcnR5Y2hhbmdlLGUub25wcm9wZXJ0eWNoYW5nZT1mdW5jdGlvbigpe3l0JiZ5dC5jYWxsKGUpO2UudGl0bGUhPXZ0JiZlLnRpdGxlLmluZGV4T2YoIiMiK2MoKSkhPS0xJiYoZS50aXRsZT12dCl9KSx0dC5uYXZpZ2F0aW9uTW9kZSYmKHR0Lm5hdmlnYXRpb25Nb2RlPSJjb21wYXRpYmxlIiksZG9jdW1lbnQucmVhZHlTdGF0ZT09ImNvbXBsZXRlIj9vaT1zZXRJbnRlcnZhbChmdW5jdGlvbigpe24uYWRkcmVzcyYmKGR0KCksY2xlYXJJbnRlcnZhbChvaSkpfSw1MCk6KGt0KCksbihkdCkpLG4od2luZG93KS5iaW5kKCJwb3BzdGF0ZSIsY2kpLmJpbmQoInVubG9hZCIsbGkpLHtiaW5kOmZ1bmN0aW9uKCl7cmV0dXJuIGIuYXBwbHkodGhpcyx5KGFyZ3VtZW50cykpfSx1bmJpbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gc2kuYXBwbHkodGhpcyx5KGFyZ3VtZW50cykpfSxpbml0OmZ1bmN0aW9uKCl7cmV0dXJuIGIuYXBwbHkodGhpcyxbcGldLmNvbmNhdCh5KGFyZ3VtZW50cykpKX0sY2hhbmdlOmZ1bmN0aW9uKCl7cmV0dXJuIGIuYXBwbHkodGhpcyxbZ3RdLmNvbmNhdCh5KGFyZ3VtZW50cykpKX0saW50ZXJuYWxDaGFuZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gYi5hcHBseSh0aGlzLFtuaV0uY29uY2F0KHkoYXJndW1lbnRzKSkpfSxleHRlcm5hbENoYW5nZTpmdW5jdGlvbigpe3JldHVybiBiLmFwcGx5KHRoaXMsW3RpXS5jb25jYXQoeShhcmd1bWVudHMpKSl9LGJhc2VVUkw6ZnVuY3Rpb24oKXt2YXIgbj1zLmhyZWY7cmV0dXJuIG4uaW5kZXhPZigiIyIpIT0tMSYmKG49bi5zdWJzdHIoMCxuLmluZGV4T2YoIiMiKSkpLC9cLyQvLnRlc3QobikmJihuPW4uc3Vic3RyKDAsbi5sZW5ndGgtMSkpLG59LGF1dG9VcGRhdGU6ZnVuY3Rpb24obil7cmV0dXJuIG4hPT1pPyh0LmF1dG9VcGRhdGU9bix0aGlzKTp0LmF1dG9VcGRhdGV9LGhpc3Rvcnk6ZnVuY3Rpb24obil7cmV0dXJuIG4hPT1pPyh0Lmhpc3Rvcnk9bix0aGlzKTp0Lmhpc3Rvcnl9LHN0YXRlOmZ1bmN0aW9uKG4pe2lmKG4hPT1pKXt0LnN0YXRlPW47dmFyIHI9cHQoKTtyZXR1cm4gdC5zdGF0ZSE9PWkmJih0dC5wdXNoU3RhdGU/ci5zdWJzdHIoMCwzKT09Ii8jLyImJnMucmVwbGFjZSh0LnN0YXRlLnJlcGxhY2UoL15cLyQvLCIiKStyLnN1YnN0cigyKSk6ciE9Ii8iJiZyLnJlcGxhY2UoL15cLyMvLCIiKSE9dXQoKSYmYShmdW5jdGlvbigpe3MucmVwbGFjZSh0LnN0YXRlLnJlcGxhY2UoL15cLyQvLCIiKSsiLyMiK3IpfSwxKSksdGhpc31yZXR1cm4gdC5zdGF0ZX0sZnJhbWVzOmZ1bmN0aW9uKG4pe3JldHVybiBuIT09aT8odC5mcmFtZXM9bixyPXd0KCksdGhpcyk6dC5mcmFtZXN9LHN0cmljdDpmdW5jdGlvbihuKXtyZXR1cm4gbiE9PWk/KHQuc3RyaWN0PW4sdGhpcyk6dC5zdHJpY3R9LHRyYWNrZXI6ZnVuY3Rpb24obil7cmV0dXJuIG4hPT1pPyh0LnRyYWNrZXI9bix0aGlzKTp0LnRyYWNrZXJ9LHdyYXA6ZnVuY3Rpb24obil7cmV0dXJuIG4hPT1pPyh0LndyYXA9bix0aGlzKTp0LndyYXB9LHVwZGF0ZTpmdW5jdGlvbigpe3JldHVybiBodD1oLHRoaXMudmFsdWUodSksaHQ9byx0aGlzfSx0aXRsZTpmdW5jdGlvbihuKXtyZXR1cm4gbiE9PWk/KGEoZnVuY3Rpb24oKXt2dD1lLnRpdGxlPW47ZWkmJmYmJmYuY29udGVudFdpbmRvdyYmZi5jb250ZW50V2luZG93LmRvY3VtZW50JiYoZi5jb250ZW50V2luZG93LmRvY3VtZW50LnRpdGxlPW4sZWk9byl9LDUwKSx0aGlzKTplLnRpdGxlfSx2YWx1ZTpmdW5jdGlvbihuKXtpZihuIT09aSl7aWYobj1sdChuKSxuPT0iLyImJihuPSIiKSx1PT1uJiYhaHQpcmV0dXJuO2lmKHU9bix0LmF1dG9VcGRhdGV8fGh0KXtpZihkKGgpKXJldHVybiB0aGlzO3J0KCk/dHRbdC5oaXN0b3J5PyJwdXNoU3RhdGUiOiJyZXBsYWNlU3RhdGUiXSh7fSwiIix0LnN0YXRlLnJlcGxhY2UoL1wvJC8sIiIpKyh1PT09IiI/Ii8iOnUpKTooc3Q9aCxldD90Lmhpc3Rvcnk/cy5oYXNoPSIjIit1OnMucmVwbGFjZSgiIyIrdSk6dSE9YygpJiYodC5oaXN0b3J5P3MuaGFzaD0iIyIrdTpzLnJlcGxhY2UoIiMiK3UpKSx2JiYhb3QmJnQuaGlzdG9yeSYmYShhdCw1MCksZXQ/YShmdW5jdGlvbigpe3N0PW99LDEpOnN0PW8pfXJldHVybiB0aGlzfXJldHVybiBsdCh1KX0scGF0aDpmdW5jdGlvbihuKXtpZihuIT09aSl7dmFyIHQ9dGhpcy5xdWVyeVN0cmluZygpLHI9dGhpcy5oYXNoKCk7cmV0dXJuIHRoaXMudmFsdWUobisodD8iPyIrdDoiIikrKHI/IiMiK3I6IiIpKSx0aGlzfXJldHVybiBsdCh1KS5zcGxpdCgiIyIpWzBdLnNwbGl0KCI/IilbMF19LHBhdGhOYW1lczpmdW5jdGlvbigpe3ZhciBuPXRoaXMucGF0aCgpLHQ9bi5yZXBsYWNlKGlpLCIvIikuc3BsaXQoIi8iKTtyZXR1cm4obi5zdWJzdHIoMCwxKT09Ii8ifHxuLmxlbmd0aD09PTApJiZ0LnNwbGljZSgwLDEpLG4uc3Vic3RyKG4ubGVuZ3RoLTEsMSk9PSIvIiYmdC5zcGxpY2UodC5sZW5ndGgtMSwxKSx0fSxxdWVyeVN0cmluZzpmdW5jdGlvbihuKXt2YXIgdCxyO3JldHVybiBuIT09aT8odD10aGlzLmhhc2goKSx0aGlzLnZhbHVlKHRoaXMucGF0aCgpKyhuPyI/IituOiIiKSsodD8iIyIrdDoiIikpLHRoaXMpOihyPXUuc3BsaXQoIj8iKSxyLnNsaWNlKDEsci5sZW5ndGgpLmpvaW4oIj8iKS5zcGxpdCgiIyIpWzBdKX0scGFyYW1ldGVyOmZ1bmN0aW9uKHQscix1KXt2YXIgZixvLGgsYyxlLGwscyxhO2lmKHIhPT1pKXtmb3IoaD10aGlzLnBhcmFtZXRlck5hbWVzKCksbz1bXSxyPXI9PT1pfHxyPT09Zz8iIjpyLnRvU3RyaW5nKCksZj0wO2Y8aC5sZW5ndGg7ZisrKWZvcihjPWhbZl0sZT10aGlzLnBhcmFtZXRlcihjKSx0eXBlb2YgZT09eWkmJihlPVtlXSksYz09dCYmKGU9cj09PWd8fHI9PT0iIj9bXTp1P2UuY29uY2F0KFtyXSk6W3JdKSxsPTA7bDxlLmxlbmd0aDtsKyspby5wdXNoKGMrIj0iK2VbbF0pO3JldHVybiBuLmluQXJyYXkodCxoKT09LTEmJnIhPT1nJiZyIT09IiImJm8ucHVzaCh0KyI9IityKSx0aGlzLnF1ZXJ5U3RyaW5nKG8uam9pbigiJiIpKSx0aGlzfWlmKHI9dGhpcy5xdWVyeVN0cmluZygpLHIpe2ZvcihzPVtdLG89ci5zcGxpdCgiJiIpLGY9MDtmPG8ubGVuZ3RoO2YrKylhPW9bZl0uc3BsaXQoIj0iKSxhWzBdPT10JiZzLnB1c2goYS5zbGljZSgxKS5qb2luKCI9IikpO2lmKHMubGVuZ3RoIT09MClyZXR1cm4gcy5sZW5ndGghPTE/czpzWzBdfX0scGFyYW1ldGVyTmFtZXM6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLnF1ZXJ5U3RyaW5nKCkscj1bXSx1LHQsZjtpZihpJiZpLmluZGV4T2YoIj0iKSE9LTEpZm9yKHU9aS5zcGxpdCgiJiIpLHQ9MDt0PHUubGVuZ3RoO3QrKylmPXVbdF0uc3BsaXQoIj0iKVswXSxuLmluQXJyYXkoZixyKT09LTEmJnIucHVzaChmKTtyZXR1cm4gcn0saGFzaDpmdW5jdGlvbihuKXtpZihuIT09aSlyZXR1cm4gdGhpcy52YWx1ZSh1LnNwbGl0KCIjIilbMF0rKG4/IiMiK246IiIpKSx0aGlzO3ZhciB0PXUuc3BsaXQoIiMiKTtyZXR1cm4gdC5zbGljZSgxLHQubGVuZ3RoKS5qb2luKCIjIil9fX0oKTtuLmZuLmFkZHJlc3M9ZnVuY3Rpb24odCl7cmV0dXJuIG4odGhpcykuZWFjaChmdW5jdGlvbigpe24odGhpcykuZGF0YSgiYWRkcmVzcyIpfHxuKHRoaXMpLm9uKCJjbGljayIsZnVuY3Rpb24oaSl7dmFyIHIsdTtpZihpLnNoaWZ0S2V5fHxpLmN0cmxLZXl8fGkubWV0YUtleXx8aS53aGljaD09MilyZXR1cm4hMDtyPWkuY3VycmVudFRhcmdldDtuKHIpLmlzKCJhIikmJihpLnByZXZlbnREZWZhdWx0KCksdT10P3QuY2FsbChyKTovYWRkcmVzczovLnRlc3QobihyKS5hdHRyKCJyZWwiKSk/bihyKS5hdHRyKCJyZWwiKS5zcGxpdCgiYWRkcmVzczoiKVsxXS5zcGxpdCgiICIpWzBdOm4uYWRkcmVzcy5zdGF0ZSgpIT09dW5kZWZpbmVkJiYhL15cLz8kLy50ZXN0KG4uYWRkcmVzcy5zdGF0ZSgpKT9uKHIpLmF0dHIoImhyZWYiKS5yZXBsYWNlKG5ldyBSZWdFeHAoIl4oLioiK24uYWRkcmVzcy5zdGF0ZSgpKyJ8XFwuKSIpLCIiKTpuKHIpLmF0dHIoImhyZWYiKS5yZXBsYWNlKC9eKCNcIT98XC4pLywiIiksbi5hZGRyZXNzLnZhbHVlKHUpKX0pLm9uKCJzdWJtaXQiLGZ1bmN0aW9uKGkpe3ZhciByPWkuY3VycmVudFRhcmdldCx1LGY7bihyKS5pcygiZm9ybSIpJiYoaS5wcmV2ZW50RGVmYXVsdCgpLHU9bihyKS5hdHRyKCJhY3Rpb24iKSxmPXQ/dC5jYWxsKHIpOih1LmluZGV4T2YoIj8iKSE9LTE/dS5yZXBsYWNlKC8mJC8sIiIpOnUrIj8iKStuKHIpLnNlcmlhbGl6ZSgpLG4uYWRkcmVzcy52YWx1ZShmKSl9KS5kYXRhKCJhZGRyZXNzIiwhMCl9KSx0aGlzfX0pKGpRdWVyeSk7QWpheEZpbHRlcnNIaXN0b3J5U3RhdGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7cmV0dXJuIGk9aGlzdG9yeS5zdGF0ZT9oaXN0b3J5LnN0YXRlOml9ZnVuY3Rpb24gcigpe3N0YXRlT2JqPXt9O2hpc3RvcnkucmVwbGFjZVN0YXRlKHN0YXRlT2JqLCIiLHdpbmRvdy5sb2NhdGlvbi5ocmVmKX1mdW5jdGlvbiB1KG4pe24mJiFpc05hTihuKSYmdCgic2Nyb2xsUG9zaXRpb24iLG4pfWZ1bmN0aW9uIGYobil7biYmIWlzTmFOKG4pJiZ0KCJ2aXNpYmxlUGFnZSIsbil9ZnVuY3Rpb24gdCh0LGkpe3N0YXRlT2JqPW4oKTtzdGF0ZU9ialt0XT1pO2hpc3RvcnkucmVwbGFjZVN0YXRlKHN0YXRlT2JqLCIiLHdpbmRvdy5sb2NhdGlvbi5ocmVmKX12YXIgZT17c3RhdGU6bixyZXNldFN0YXRlOnIsc2V0U2Nyb2xsUG9zaXRpb246dSxzZXRWaXNpYmxlUGFnZTpmfSxpPXt9O3JldHVybiBlfTthamF4RmlsdGVyc0hpc3Rvcnk9bmV3IEFqYXhGaWx0ZXJzSGlzdG9yeVN0YXRlO0ZpbHRlcnNNYW5hZ2VyPWZ1bmN0aW9uKCl7dGhpcy5pc09uU2VhcmNoUGFnZT0kKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1pc29uc2VhcmNocGFnZSIpO3RoaXMua2V5d29yZD0kKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1zZWFyY2hrZXl3b3JkIik7dGhpcy5zZWFyY2hDYXRlZ29yeUlkPSQoIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLXNlYXJjaGNhdGVnb3J5aWQiKTt0aGlzLnNlYXJjaE1hbnVmYWN0dXJlcklkPSQoIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLXNlYXJjaG1hbnVmYWN0dXJlcmlkIik7dGhpcy5zZWFyY2hWZW5kb3JJZD0kKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1zZWFyY2h2ZW5kb3JpZCIpO3RoaXMucHJpY2VGcm9tPSQoIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLXNlYXJjaHByaWNlZnJvbSIpO3RoaXMucHJpY2VUbz0kKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1zZWFyY2hwcmljZXRvIik7dGhpcy5pbmNsdWRlU3ViY2F0ZWdvcmllcz0kKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1zZWFyY2hpbmNsdWRlc3ViY2F0ZWdvcmllcyIpO3RoaXMuc2VhcmNoSW5Qcm9kdWN0RGVzY3JpcHRpb25zPSQoIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLXNlYXJjaGlucHJvZHVjdGRlc2NyaXB0aW9ucyIpO3RoaXMuYWR2YW5jZWRTZWFyY2g9JCgiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtc2VhcmNoYWR2YW5jZWRzZWFyY2giKTt0aGlzLmlzUnRsPSJ0cnVlIj09PSQoIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLWlzUlRMIik7dGhpcy5jYXRlZ29yeUlkPSQoIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLWNhdGVnb3J5SWQiKTt0aGlzLm1hbnVmYWN0dXJlcklkPSQoIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLW1hbnVmYWN0dXJlcklkIik7dGhpcy52ZW5kb3JJZD0kKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS12ZW5kb3JJZCIpO3RoaXMuZ2V0RmlsdGVyZWRQcm9kdWN0c1VybD0kKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1nZXRGaWx0ZXJlZFByb2R1Y3RzVXJsIik7dGhpcy5maWx0ZXJzVUlNb2RlPSQoIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLWZpbHRlcnNVSU1vZGUiKTt0aGlzLmZpbHRlcnNVSU1vZGVFbnVtPXt1c2VyQ2hlY2tib3hlczoidXNlY2hlY2tib3hlcyIsdXNlRHJvcERvd25zOiJ1c2Vkcm9wZG93bnMifTt0aGlzLnNlbGVjdGVkRmlsdGVyR3JvdXBFbGVtZW50PXZvaWQgMDt0aGlzLnNlbGVjdGVkRmlsdGVyT3B0aW9uRWxlbWVudD12b2lkIDA7dGhpcy5pc1Byb2R1Y3RSZWZyZXNoVHJpZ2dlcmVkQnlTY3JvbGw9ITF9LGZ1bmN0aW9uKG4sdCxpKXtmdW5jdGlvbiBmKCl7cmV0dXJuInRydWUiPT09bigiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtZW5hYmxlaW5maW5pdGVzY3JvbGwiKS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIHIodCxpKXtuKHQpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO3QuaXMoInNlbGVjdCIpJiZ0LnZhbCgpIT09aSYmKHQudmFsKGkpLmF0dHIoInZhbHVlQ2hhbmdlZEJ5U2NyaXB0IiwidHJ1ZSIpLHQuY2hhbmdlKCkpfSl9ZnVuY3Rpb24gaCh0KXtpZigwPG4odCkubGVuZ3RoKXJldHVybiB0O3ZhciBpPXQuc2xpY2UoMSk7cmV0dXJuIiMiPT09dC5zdWJzdHJpbmcoMCwxKT8iLiIraToiLiI9PT10LnN1YnN0cmluZygwLDEpPyIjIitpOnR9ZnVuY3Rpb24gbygpe3JldHVybiBoKG4oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLXZpZXdPcHRpb25zRHJvcERvd25TZWxlY3RvciIpfHwiLnByb2R1Y3RzLXZpZXdtb2RlLCAudmlld21vZGUtaWNvbiIpfWZ1bmN0aW9uIHkodCl7ITA9PT10Lmhhc0NsYXNzKCJjbG9zZWQiKT90LnJlbW92ZUNsYXNzKCJjbG9zZWQiKTp0LmFkZENsYXNzKCJjbG9zZWQiKTt0LnBhcmVudCgpLnNpYmxpbmdzKCIuZmlsdGVyc0dyb3VwUGFuZWwiKS5zbGlkZVRvZ2dsZSgic2xvdyIsZnVuY3Rpb24oKXtuKHRoaXMpLmNzcygib3ZlcmZsb3ciLCIiKX0pfWZ1bmN0aW9uIHAoKXt2YXIgdD1vKCksdD1uKHQpLmZpbHRlcigiLnNlbGVjdGVkIik7cmV0dXJuIDA8dC5sZW5ndGg/dC5hdHRyKCJkYXRhLWRyb3Bkb3dub3B0aW9udmFsdWUiKTpuKCIudmlld09wdGlvbnNEcm9wRG93biIpLmF0dHIoImRhdGEtRHJvcERvd25PcHRpb25zU2VsZWN0ZWRWYWx1ZSIpfHxuKCIudmlld09wdGlvbnNEcm9wRG93biIpLnZhbCgpfHxudWxsfWZ1bmN0aW9uIGQodCl7dC5wcmV2ZW50RGVmYXVsdCgpO3Quc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7dmFyIGk9bih0LmN1cnJlbnRUYXJnZXQpLmF0dHIoImRhdGEtcGFnZU51bWJlciIpO251bGwhPXQuZGF0YSYmbnVsbCE9dC5kYXRhLmZpbHRlcnNNYW5hZ2VyJiZ0LmRhdGEuZmlsdGVyc01hbmFnZXIucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzKHZvaWQgMCx2b2lkIDAsaSx2b2lkIDAsdm9pZCAwLCEwKX1mdW5jdGlvbiBzKCl7dmFyIHQ9bigiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtcHJvZHVjdHNHcmlkUGFuZWxTZWxlY3RvciIpKyIsIituKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1Qcm9kdWN0c0xpc3RQYW5lbFNlbGVjdG9yIik7cmV0dXJuIG4oIi5tYXN0ZXItd3JhcHBlci1wYWdlICIrdCkubm90KCIuZmVhdHVyZWQtcHJvZHVjdC1ncmlkLCAubm9wLWpjYXJvdXNlbCIpLmxhc3QoKX1mdW5jdGlvbiB3KCl7dmFyIHUsZix0LHI9bigiLnBhZ2VyIC5uZXh0LXBhZ2UgPiBhIikuZmlyc3QoKTswIT09ci5sZW5ndGg/MCE9PSh1PXMoKSkubGVuZ3RoJiYoZj1uKHdpbmRvdykub3V0ZXJIZWlnaHQoKSx0PW4od2luZG93KS5zY3JvbGxUb3AoKSx1LmlubmVySGVpZ2h0KCkrdS5vZmZzZXQoKS50b3A8Zit0JiYobigiLmluZmluaXRlLXNjcm9sbC1sb2FkZXIiKS5zaG93KCksdD1uZXcgaSxyPXBhcnNlSW50KHIuYXR0cigiZGF0YS1wYWdlTnVtYmVyIikpLHQucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzKHZvaWQgMCx2b2lkIDAscix2b2lkIDAsdm9pZCAwLCEwLCEwKSkpOm4od2luZG93KS5vZmYoInNjcm9sbC5maWx0ZXJzaW5maW5pdGVzY3JvbGwgcmVzaXplLmZpbHRlcnNpbmZpbml0ZXNjcm9sbCBvcmllbnRhdGlvbmNoYW5nZS5maWx0ZXJzaW5maW5pdGVzY3JvbGwiKX1mdW5jdGlvbiBiKCl7dmFyIHQ7MD09PW4oIi5pbmZpbml0ZS1zY3JvbGwtbG9hZGVyIikubGVuZ3RoJiYoMD09PSh0PW4oIi5hamF4QnVzeVBhbmVsUGFyZW50IikpLmxlbmd0aCYmKHQ9cygpKSx0LmFwcGVuZCgnPGRpdiBjbGFzcz0iaW5maW5pdGUtc2Nyb2xsLWxvYWRlciI+JytuKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1pbmZpbml0ZXNjcm9sbGxvYWRlcnRleHQiKSsiPFwvZGl2PiIpKX1mdW5jdGlvbiBrKG4sdCl7cigiLnZpZXdPcHRpb25zRHJvcERvd24iLG4pO3QmJihuZXcgaSkucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzKHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsITApfWZ1bmN0aW9uIGModCxpKXt0LmVhY2goZnVuY3Rpb24oKXt2YXIgcz0iIixyPW4oaSkudmFsKCksdD1uLnBhcnNlSlNPTihyKSxlLHUsZjtpZighbih0aGlzKS5pcygic2VsZWN0IikpcmV0dXJuIHI9Ii4iLG51bGwhPXRbMF0mJnRbMF0uU2VsZWN0ZWQ/cis9dFswXS5WYWx1ZS50b0xvd2VyQ2FzZSgpOm51bGwhPXRbMV0mJnRbMV0uU2VsZWN0ZWQmJihyKz10WzFdLlZhbHVlLnRvTG93ZXJDYXNlKCkpLHZvaWQgbihvKCkpLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLmZpbHRlcihyKS5maXJzdCgpLmFkZENsYXNzKCJzZWxlY3RlZCIpO2ZvcihlPTA7ZTx0Lmxlbmd0aDtlKyspdT10W2VdLGY9IjxvcHRpb24gIix1LkRpc2FibGVkJiYoZis9J2Rpc2FibGVkPSJkaXNhYmxlZCIgJyksdS5TZWxlY3RlZCYmKGYrPSdzZWxlY3RlZD0ic2VsZWN0ZWQiICcpLGYrPSd2YWx1ZT0iJyt1LlZhbHVlKyciPicscys9Zis9dS5UZXh0KyI8XC9vcHRpb24+IjtuKHRoaXMpLmh0bWwocyl9KX1mdW5jdGlvbiBnKCl7dmFyIHQ9bihoKG4oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLXNvcnRPcHRpb25zRHJvcERvd25TZWxlY3RvciIpfHwiLnByb2R1Y3RzLW9yZGVyYnkiKSk7MCE9PXQubGVuZ3RoJiYodC5wcm9wKCJvbmNoYW5nZSIsbnVsbCksdC5hZGRDbGFzcygic29ydE9wdGlvbnNEcm9wRG93biIpLm9mZigiY2hhbmdlIikub24oImNoYW5nZSIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpO3Quc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7dmFyIHU9bih0aGlzKSxlPW51bGw9PXUuYXR0cigidmFsdWVDaGFuZ2VkQnlTY3JpcHQiKTt1LnJlbW92ZUF0dHIoInZhbHVlQ2hhbmdlZEJ5U2NyaXB0Iik7dD11LnZhbCgpO2U9ZTtyKCIuc29ydE9wdGlvbnNEcm9wRG93biIsdCk7ZSYmKGYoKSYmbi5hZGRyZXNzLmhpc3RvcnkoITApLChuZXcgaSkucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzKCkpO24oZG9jdW1lbnQpLnRyaWdnZXIoe3R5cGU6ImFqYXhGaWx0ZXJzU29ydE9wdGlvbnNDaGFuZ2VkIixlbGVtZW50OnV9KX0pLGModCwiI2F2YWlsYWJsZVNvcnRPcHRpb25zSnNvbiIpKX1mdW5jdGlvbiBudCgpe3ZhciB0PW4oaChuKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1wcm9kdWN0c1BhZ2VTaXplRHJvcERvd25TZWxlY3RvciIpfHwiLnByb2R1Y3RzLXBhZ2VzaXplIikpOzAhPT10Lmxlbmd0aCYmKHQucHJvcCgib25jaGFuZ2UiLG51bGwpLHQuYWRkQ2xhc3MoInByb2R1Y3RzUGFnZVNpemVEcm9wRG93biIpLm9mZigiY2hhbmdlIikub24oImNoYW5nZSIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpO3Quc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7dmFyIHU9bih0aGlzKSx0PW51bGw9PXUuYXR0cigidmFsdWVDaGFuZ2VkQnlTY3JpcHQiKTt1LnJlbW92ZUF0dHIoInZhbHVlQ2hhbmdlZEJ5U2NyaXB0Iik7dT11LnZhbCgpO3Q9dDtyKCIucHJvZHVjdHNQYWdlU2l6ZURyb3BEb3duIix1KTt0JiYobmV3IGkpLnJlcXVlc3RQcm9kdWN0c0ZvclNlbGVjdGVkRmlsdGVycygpfSksYyh0LCIjYXZhaWxhYmxlUGFnZVNpemVzSnNvbiIpKX1mdW5jdGlvbiB0dCgpe3ZhciB0O2coKTswIT09KHQ9bihvKCkpKS5sZW5ndGgmJih0LmlzKCJzZWxlY3QiKT8odC5wcm9wKCJvbmNoYW5nZSIsbnVsbCksdC5hZGRDbGFzcygidmlld09wdGlvbnNEcm9wRG93biIpLm9mZigiY2hhbmdlIikub24oImNoYW5nZSIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpO3Quc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7dmFyIGk9bih0aGlzKSx0PW51bGw9PWkuYXR0cigidmFsdWVDaGFuZ2VkQnlTY3JpcHQiKTtpLnJlbW92ZUF0dHIoInZhbHVlQ2hhbmdlZEJ5U2NyaXB0Iik7ayhpLnZhbCgpLHQpfSkpOih0LmZpbHRlcigiLmdyaWQiKS5hdHRyKCJkYXRhLWRyb3Bkb3dub3B0aW9udmFsdWUiLCJncmlkIiksdC5maWx0ZXIoIi5saXN0IikuYXR0cigiZGF0YS1kcm9wZG93bm9wdGlvbnZhbHVlIiwibGlzdCIpLHQub24oImNsaWNrIixmdW5jdGlvbihyKXtyZXR1cm4gci5wcmV2ZW50RGVmYXVsdCgpLHIuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksIWkud2FpdEZvckFqYXhSZXF1ZXN0JiZ2b2lkKG4odGhpcykuaGFzQ2xhc3MoInNlbGVjdGVkIil8fCh0LnJlbW92ZUNsYXNzKCJzZWxlY3RlZCIpLG4odGhpcykuYWRkQ2xhc3MoInNlbGVjdGVkIiksbihkb2N1bWVudCkudHJpZ2dlcigiU2V2ZW5TcGlrZXNBamF4RmlsdGVyc1ZpZXdNb2RlQ2hhbmdlIixbbih0aGlzKV0pLGsobih0aGlzKS5hdHRyKCJkYXRhLWRyb3Bkb3dub3B0aW9udmFsdWUiKSwhMCkpKX0pKSxjKHQsIiNhdmFpbGFibGVWaWV3TW9kZXNKc29uIikpO250KCk7bihkb2N1bWVudCkudHJpZ2dlcih7dHlwZToiYWpheEZpbHRlcnNSZXBsYWNlZERyb3BEb3duc0V2ZW50In0pfXZhciBsPTAsdT0xLGU9MixhPTMsdj0ibm9wN1NwaWtlc0FqYXhGaWx0ZXJzR3JpZCI7bi5mbi5leHRlbmQoe2FuY2hvckN1c3RvbUNsaWNrOmZ1bmN0aW9uKHQpe3JldHVybiBuKHRoaXMpLmZpcnN0KCkub24oImNsaWNrIixmdW5jdGlvbihpKXtpLnByZXZlbnREZWZhdWx0KCk7bih0KS50cmlnZ2VyKCJjbGljayIpfSl9fSk7aS5wcm90b3R5cGUucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzPWZ1bmN0aW9uKHIsdSxlLG8scyxoLGMsbCxhLHYpe3ZhciBnLG50LHR0LGl0LHJ0LGQsYix3LGs7aS53YWl0Rm9yQWpheFJlcXVlc3R8fCIjL25vRmlsdGVyQXBwbGllZCIhPT1vJiYociYmdSYmZigpJiZuLmFkZHJlc3MuaGlzdG9yeSghMCksdGhpcy5pc1Byb2R1Y3RSZWZyZXNoVHJpZ2dlcmVkQnlTY3JvbGw9Y3x8ITEsbnVsbD09bz9vPSIiOmg9ITAsdGhpcy5zZXRTcGVjaWZpY2F0aW9uRmlsdGVyU2VsZWN0aW9uKHIsdSksZz10aGlzLmdldFNwZWNpZmljYXRpb25GaWx0ZXJzTW9kZWwoKSxudD10aGlzLmdldEF0dHJpYnV0ZUZpbHRlcnNNb2RlbCgpLHR0PXRoaXMuZ2V0TWFudWZhY3R1cmVyRmlsdGVyc01vZGVsKCksaXQ9dGhpcy5nZXRWZW5kb3JGaWx0ZXJzTW9kZWwoKSxiPXRoaXMuZ2V0T25TYWxlRmlsdGVyc01vZGVsKCkscnQ9dGhpcy5nZXRQcmljZVJhbmdlRmlsdGVyTW9kZWwoKSxrPXRoaXMuZ2V0SW5TdG9ja0ZpbHRlcnNNb2RlbCgpLG51bGw9PWUmJihlPW51bGwpLGM9bigiLnNvcnRPcHRpb25zRHJvcERvd24iKS52YWwoKXx8MCxyPXAoKSxkPW4oIi5wcm9kdWN0c1BhZ2VTaXplRHJvcERvd24iKS52YWwoKXx8MCxudWxsPT0odT10LmdldFVybFZhcigicGFnZU51bWJlciIpKXx8bnVsbCE9ZXx8bnVsbCE9cyYmITEhPT1zfHwoZT11KSxudWxsPT1oJiYoaD0hMSksYSYmKGU9YSksYj17Y2F0ZWdvcnlJZDp0aGlzLmNhdGVnb3J5SWQsbWFudWZhY3R1cmVySWQ6dGhpcy5tYW51ZmFjdHVyZXJJZCx2ZW5kb3JJZDp0aGlzLnZlbmRvcklkLHByaWNlUmFuZ2VGaWx0ZXJNb2RlbDdTcGlrZXM6cnQsc3BlY2lmaWNhdGlvbkZpbHRlcnNNb2RlbDdTcGlrZXM6ZyxhdHRyaWJ1dGVGaWx0ZXJzTW9kZWw3U3Bpa2VzOm50LG1hbnVmYWN0dXJlckZpbHRlcnNNb2RlbDdTcGlrZXM6dHQsdmVuZG9yRmlsdGVyc01vZGVsN1NwaWtlczppdCxwYWdlTnVtYmVyOmUsb3JkZXJieTpjLHZpZXdtb2RlOnIscGFnZXNpemU6ZCxxdWVyeVN0cmluZzpvLHNob3VsZE5vdFN0YXJ0RnJvbUZpcnN0UGFnZTpoLG9uU2FsZUZpbHRlck1vZGVsOmIsa2V5d29yZDp0aGlzLmtleXdvcmQsc2VhcmNoQ2F0ZWdvcnlJZDp0aGlzLnNlYXJjaENhdGVnb3J5SWQsc2VhcmNoTWFudWZhY3R1cmVySWQ6dGhpcy5zZWFyY2hNYW51ZmFjdHVyZXJJZCxzZWFyY2hWZW5kb3JJZDp0aGlzLnNlYXJjaFZlbmRvcklkLHByaWNlRnJvbTp0aGlzLnByaWNlRnJvbSxwcmljZVRvOnRoaXMucHJpY2VUbyxpbmNsdWRlU3ViY2F0ZWdvcmllczp0aGlzLmluY2x1ZGVTdWJjYXRlZ29yaWVzLHNlYXJjaEluUHJvZHVjdERlc2NyaXB0aW9uczp0aGlzLnNlYXJjaEluUHJvZHVjdERlc2NyaXB0aW9ucyxhZHZhbmNlZFNlYXJjaDp0aGlzLmFkdmFuY2VkU2VhcmNoLGlzT25TZWFyY2hQYWdlOnRoaXMuaXNPblNlYXJjaFBhZ2UsaW5TdG9ja0ZpbHRlck1vZGVsOmt9LHRoaXMuaXNQcm9kdWN0UmVmcmVzaFRyaWdnZXJlZEJ5U2Nyb2xsfHx0aGlzLnNob3dQcm9kdWN0UGFuZWxBamF4QnVzeSgpLGs9KHc9dGhpcykuZ2V0RmlsdGVyZWRQcm9kdWN0c1VybCxpLndhaXRGb3JBamF4UmVxdWVzdD0hMCxuLmFqYXgoe2NhY2hlOiExLHR5cGU6IlBPU1QiLGRhdGE6bi50b0pTT04oYiksY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgiLHVybDprfSkuZG9uZShmdW5jdGlvbih0KXt2YXIgcyxjLGgsdSxmLHI7aWYoIiIhPT1vJiYody5jaGFuZ2VWaWV3TW9kZU9yZGVyQnlBbmRQYWdlU2l6ZSh0KSx3LnNldFByaWNlUmFuZ2VWYWx1ZXModCkpLHcucmVmcmVzaFByb2R1Y3RzKHQsdy5pc1Byb2R1Y3RSZWZyZXNoVHJpZ2dlcmVkQnlTY3JvbGwsdixlKSl7aWYody5yZWZyZXNoRmlsdGVycyh0KSx2fHx3LnJlZnJlc2hQcm9kdWN0c1BhZ2VyKHQpLHcucmVmcmVzaENsZWFyQnV0dG9ucygpLCJOTyBIQVNIIFFVRVJZIiE9PW8mJih3LmV4cGFuZEZpbHRlclBhbmVsc1dpdGhTZWxlY3RlZE9wdGlvbnMoKSwiIiE9PShyPW4odCkuZmlsdGVyKCIjdXJsSGFzaFF1ZXJ5IikudmFsKCkudG9TdHJpbmcoKSk/KHcuaXNQcm9kdWN0UmVmcmVzaFRyaWdnZXJlZEJ5U2Nyb2xsJiYocj1yLnNsaWNlKDAsci5pbmRleE9mKCImcGFnZU51bWJlciIpKSksbi5hZGRyZXNzLnZhbHVlKHIpKTp2fHxuLmFkZHJlc3MudmFsdWUoIm5vRmlsdGVyQXBwbGllZCIpKSx3LmhpZGVQcm9kdWN0UGFuZWxBamF4QnVzeSgpLGkud2FpdEZvckFqYXhSZXF1ZXN0PSExLHI9bigiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtc2Nyb2xsVG9FbGVtZW50IiksIXcuaXNQcm9kdWN0UmVmcmVzaFRyaWdnZXJlZEJ5U2Nyb2xsJiZudWxsIT1yJiYidHJ1ZSI9PT1yLnRvTG93ZXJDYXNlKCkmJiFsJiYocz1uKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1zY3JvbGxUb0VsZW1lbnRTZWxlY3RvciIpLnNwbGl0KCIsIiksYz0iLnByb2R1Y3Qtc2VsZWN0b3JzIixudWxsIT1zJiYwPHMubGVuZ3RoKSl7Zm9yKGg9MDtoPHMubGVuZ3RoO2grKylpZigwPG4oc1toXS50cmltKCkpLmxlbmd0aCl7Yz1zW2hdLnRyaW0oKTticmVha30wPG4oYykubGVuZ3RoJiYoZj1wYXJzZUludChuKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1zY3JvbGx0b2VsZW1lbnRhZGRpdGlvbmFsb2Zmc2V0IikpfHwwLHU9bihjKS5vZmZzZXQoKS50b3ArZixuKCJodG1sLCBib2R5IikuYW5pbWF0ZSh7c2Nyb2xsVG9wOnV9LCJzbG93IiksbigiaHRtbCwgYm9keSIpLmFuaW1hdGUoe3Njcm9sbFRvcDp1LTF9LCJmYXN0IikpfW4oIi5wcm9kdWN0UGFuZWxBamF4QnVzeSIpLmxlbmd0aDwxJiZ3LmFkZFByb2R1Y3RQYW5lbEFqYXhCdXN5VG9QYWdlKCk7cj1uKHQpLmZpbHRlcigiI3RvdGFsQ291bnQiKS52YWwoKS50b1N0cmluZygpO24uZXZlbnQudHJpZ2dlcih7dHlwZToibm9wQWpheEZpbHRlcnNGaWx0cmF0aW9uQ29tcGxldGVFdmVudCIsdG90YWxDb3VudDpyLGlzVHJpZ2dlcmVkQnlJbmZpbml0ZVNjcm9sbDp3LmlzUHJvZHVjdFJlZnJlc2hUcmlnZ2VyZWRCeVNjcm9sbH0pOyJ0cnVlIj09PW4oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLXNob3dTZWxlY3RlZEZpbHRlcnNQYW5lbCIpLnRvTG93ZXJDYXNlKCkmJmZ1bmN0aW9uKCl7dmFyIHI9bigiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmZpcnN0KCksdD1uKCIuYmxvY2suZmlsdGVyLWJsb2NrLnNlbGVjdGVkLW9wdGlvbnMiKS5maXJzdCgpLGU9ci5hdHRyKCJkYXRhLXNlbGVjdGVkT3B0aW9uc1RhcmdldFNlbGVjdG9yIil8fCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIC5maWx0ZXJzUGFuZWw6Zmlyc3QiLHY9InVzZWRyb3Bkb3ducyI9PT1yLmF0dHIoImRhdGEtZmlsdGVyc3VpbW9kZSIpLHUsbyxsLGEscyxmLGksaCxjO3N3aXRjaChyLmF0dHIoImRhdGEtc2VsZWN0ZWRPcHRpb25zVGFyZ2V0QWN0aW9uIikpe2Nhc2UiaW5zZXJ0QmVmb3JlIjp0Lmluc2VydEJlZm9yZShlKTticmVhaztjYXNlImluc2VydEFmdGVyIjp0Lmluc2VydEFmdGVyKGUpO2JyZWFrO2Nhc2UiYXBwZW5kVG8iOnQuYXBwZW5kVG8oZSk7YnJlYWs7ZGVmYXVsdDp0LnByZXBlbmRUbyhlKX11PXQuZmluZCgiLnNlbGVjdGVkLW9wdGlvbnMtbGlzdCIpO3UuZW1wdHkoKTt0LmZpbmQoImEudG9nZ2xlQ29udHJvbCIpLm9mZigiY2xpY2siKS5vbigiY2xpY2siLGZ1bmN0aW9uKCl7eShuKHRoaXMpKX0pO2k9ci5maW5kKCIucHJpY2VSYW5nZUZpbHRlclBhbmVsN1NwaWtlcyIpOzA8aS5sZW5ndGgmJihsPShvPWkuZmluZCgiI3NsaWRlciIpKS5hdHRyKCJkYXRhLXNsaWRlcm1pbnZhbHVlIiksYT1vLmF0dHIoImRhdGEtc2xpZGVybWF4dmFsdWUiKSxzPW4oIi5wcmljZVJhbmdlQ3VycmVudFByaWNlc1BhbmVsIC5jdXJyZW50TWluUHJpY2UiKS50ZXh0KCksZj1uKCIucHJpY2VSYW5nZUN1cnJlbnRQcmljZXNQYW5lbCAuY3VycmVudE1heFByaWNlIikudGV4dCgpLDA8by5sZW5ndGgmJihsIT09c3x8YSE9PWYpJiYoKGY9bignPHNwYW4gY2xhc3M9Im9wdGlvbiI+JytzKyIgLSAiK2YrIjxcL3NwYW4+IikpLmFuY2hvckN1c3RvbUNsaWNrKGkuZmluZCgiLmNsZWFyUHJpY2VSYW5nZUZpbHRlciIpKSxpPWkuZmluZCgiLnRvZ2dsZUNvbnRyb2wiKS50ZXh0KCksKGk9bignPGxpIGNsYXNzPSJwcmljZS1yYW5nZS1zZWxlY3RlZC1yYW5nZXMiPjxsYWJlbD4nK2krIjo8XC9sYWJlbD48XC9saT4iKSkuYXBwZW5kKGYpLHUuYXBwZW5kKGkpKSk7aD1bXTtjPVtdO3IuZmluZCgiLmZpbHRlci1ibG9jayIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpOyh0LmZpbmQoImRpdi5maWx0ZXJzR3JvdXBQYW5lbC5oYXMtc3BlY2lmaWNhdGlvbi1zbGlkZXIiKS5sZW5ndGg/aDpjKS5wdXNoKHQpfSk7bi5lYWNoKGgsZnVuY3Rpb24oKXt2YXIgaT10aGlzLmZpbmQoIi5zcGVjaWZpY2F0aW9uLWF0dHJpYnV0ZS1zbGlkZXIiKSxyPWkuc2xpZGVyKCJvcHRpb24iLCJtaW4iKSxmPWkuc2xpZGVyKCJvcHRpb24iLCJtYXgiKSx0PXRoaXMuZmluZCgiLnNwZWNpZmljYXRpb24tY3VycmVudC12YWx1ZS1wYW5lbCIpLGk9cGFyc2VGbG9hdCh0LmZpbmQoIi5jdXJyZW50LW1pbi12YWx1ZSIpLnRleHQoKSksdD1wYXJzZUZsb2F0KHQuZmluZCgiLmN1cnJlbnQtbWF4LXZhbHVlIikudGV4dCgpKTtyPT09aSYmZj09PXR8fCgoaT1uKCc8c3BhbiBjbGFzcz0ib3B0aW9uIj4nK2krIiAtICIrdCsiPFwvc3Bhbj4iKSkuYW5jaG9yQ3VzdG9tQ2xpY2sodGhpcy5maW5kKCIuY2xlYXJGaWx0ZXJPcHRpb25zIikpLHQ9dGhpcy5maW5kKCIudG9nZ2xlQ29udHJvbCIpLnRleHQoKSwodD1uKCc8bGkgY2xhc3M9InZhbHVlLXJhbmdlLXNlbGVjdGVkLXJhbmdlcyI+PGxhYmVsPicrdCsiOjxcL2xhYmVsPjxcL2xpPiIpKS5hcHBlbmQoaSksdS5hcHBlbmQodCkpfSk7bi5lYWNoKGMsZnVuY3Rpb24oKXt2YXIgdD0hMSxpPW4oIjxsaT48bGFiZWw+Iit0aGlzLmNoaWxkcmVuKCIudGl0bGUiKS5jaGlsZHJlbigiYS50b2dnbGVDb250cm9sIikuZmlyc3QoKS50ZXh0KCkrIjo8XC9sYWJlbD48XC9saT4iKTt0aGlzLmZpbmQoIltkYXRhLW9wdGlvbi1pZHNdW3NlbGVjdGVkXSwgW2RhdGEtb3B0aW9uLWlkc11bY2hlY2tlZF0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9bih0aGlzKSx1PXIudGV4dCgpfHxyLm5leHQoImxhYmVsIikudGV4dCgpLHU9bignPHNwYW4gY2xhc3M9Im9wdGlvbiI+Jyt1KyI8XC9zcGFuPiIpO3Q9ITA7dj91LmFuY2hvckN1c3RvbUNsaWNrKHIuY2xvc2VzdCgiLmZpbHRlcnNHcm91cFBhbmVsIikuc2libGluZ3MoIi50aXRsZSIpLmNoaWxkcmVuKCIuY2xlYXJGaWx0ZXJPcHRpb25zIikpOnUuYW5jaG9yQ3VzdG9tQ2xpY2socik7aS5hcHBlbmQodSl9KTt0JiZ1LmFwcGVuZChpKX0pOzA8dS5jaGlsZHJlbigpLmxlbmd0aD90LnNob3coKToodC5oaWRlKCksci5wcmVwZW5kKHQpKX0oKTsidHJ1ZSIhPT1uKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1lbmFibGVpbmZpbml0ZXNjcm9sbCIpLnRvTG93ZXJDYXNlKCkmJiJmYWxzZSIhPT1uKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1udW1iZXJvZnJldHVybmVkcHJvZHVjdHNzZWxlY3RvciIpLnRvTG93ZXJDYXNlKCkmJihmPWQsMDxuKCIucGFnZS1ib2R5IC5wcm9kdWN0LWdyaWQ6bm90KC5mZWF0dXJlZC1wcm9kdWN0LWdyaWQsIC5ub3AtamNhcm91c2VsKSIpLmxlbmd0aD9mPW4oIi5wYWdlLWJvZHkgLnByb2R1Y3QtZ3JpZDpub3QoLmZlYXR1cmVkLXByb2R1Y3QtZ3JpZCwgLm5vcC1qY2Fyb3VzZWwpIC5pdGVtLWJveCIpLmxlbmd0aDowPG4oIi5wYWdlLWJvZHkgLnByb2R1Y3QtbGlzdCIpLmxlbmd0aCYmKGY9bigiLnBhZ2UtYm9keSAucHJvZHVjdC1saXN0IC5pdGVtLWJveCIpLmxlbmd0aCksdT1yLG51bGw9PSh0PWYpJiYodD1wYXJzZUludChuKCIucHJvZHVjdHNQYWdlU2l6ZURyb3BEb3duIC50b3BsZXZlbCBwIikudGV4dCgpKSxpc05hTih0KSl8fCgodT1wYXJzZUludCh1KSk8dCYmKHQ9dSkscj1uKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1udW1iZXJvZnJldHVybmVkcHJvZHVjdHNzZWxlY3RvciIpfHwiLnByb2R1Y3Qtdmlld21vZGUiLGY9bihyKSxuKCIucmV0dXJuZWQtcHJvZHVjdHMtZmlsdGVycy1wYW5lbCIpLmNoaWxkcmVuKCIuYWxsUHJvZHVjdHNSZXR1cm5lZCIpLnRleHQodSkscj1uKCIubnVtYmVyLW9mLXJldHVybmVkLXByb2R1Y3RzLnNhbXBsZS1lbGVtZW50IikuZmlyc3QoKSxuKCIubnVtYmVyLW9mLXJldHVybmVkLXByb2R1Y3RzIikubm90KHIpLnJlbW92ZSgpLChyPXIuY2xvbmUoKSkucmVtb3ZlQ2xhc3MoInNhbXBsZS1lbGVtZW50Iiksci5jaGlsZHJlbigiLnByb2R1Y3RzUGVyUGFnZSIpLnRleHQodCksci5jaGlsZHJlbigiLmFsbFByb2R1Y3RzUmV0dXJuZWQiKS50ZXh0KHUpLDA9PT1mLmxlbmd0aD9uKCIucHJvZHVjdC1zZWxlY3RvcnMiKS5hcHBlbmQocik6Zi5hZnRlcihyKSxyLmNzcygiZGlzcGxheSIsIiIpLmFkZENsYXNzKCJhY3RpdmUiKSkpfWVsc2UgaS53YWl0Rm9yQWpheFJlcXVlc3Q9ITF9KS5mYWlsKGZ1bmN0aW9uKCl7dy5oaWRlUHJvZHVjdFBhbmVsQWpheEJ1c3koKTthbGVydCgiTG9hZGluZyB0aGUgcGFnZSBmYWlsZWQuIik7aS53YWl0Rm9yQWpheFJlcXVlc3Q9ITF9KS5hbHdheXMoZnVuY3Rpb24oKXt3LmlzUHJvZHVjdFJlZnJlc2hUcmlnZ2VyZWRCeVNjcm9sbD0hMTtmKCkmJm4uYWRkcmVzcy5oaXN0b3J5KCExKX0pKX07aS5wcm90b3R5cGUuZ2V0U3BlY2lmaWNhdGlvbkZpbHRlcnNNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1aWxkU3BlY2lmaWNhdGlvbkZpbHRlcnNNb2RlbCh0aGlzLmNhdGVnb3J5SWQsdGhpcy5tYW51ZmFjdHVyZXJJZCx0aGlzLnZlbmRvcklkLHRoaXMuc2VsZWN0ZWRGaWx0ZXJHcm91cEVsZW1lbnQpfTtpLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVGaWx0ZXJzTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWlsZEF0dHJpYnV0ZUZpbHRlcnNNb2RlbCh0aGlzLmNhdGVnb3J5SWQsdGhpcy5tYW51ZmFjdHVyZXJJZCx0aGlzLnZlbmRvcklkLHRoaXMuc2VsZWN0ZWRGaWx0ZXJHcm91cEVsZW1lbnQpfTtpLnByb3RvdHlwZS5nZXRNYW51ZmFjdHVyZXJGaWx0ZXJzTW9kZWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5idWlsZE1hbnVmYWN0dXJlckZpbHRlcnNNb2RlbCh0aGlzLmNhdGVnb3J5SWQsdGhpcy5zZWxlY3RlZEZpbHRlckdyb3VwRWxlbWVudCl9O2kucHJvdG90eXBlLmdldFZlbmRvckZpbHRlcnNNb2RlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1aWxkVmVuZG9yRmlsdGVyc01vZGVsKHRoaXMuY2F0ZWdvcnlJZCx0aGlzLnNlbGVjdGVkRmlsdGVyR3JvdXBFbGVtZW50KX07aS5wcm90b3R5cGUuZ2V0T25TYWxlRmlsdGVyc01vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVpbGRPblNhbGVGaWx0ZXJzTW9kZWwodGhpcy5jYXRlZ29yeUlkLHRoaXMubWFudWZhY3R1cmVySWQsdGhpcy52ZW5kb3JJZCx0aGlzLnNlbGVjdGVkRmlsdGVyR3JvdXBFbGVtZW50KX07aS5wcm90b3R5cGUuZ2V0UHJpY2VSYW5nZUZpbHRlck1vZGVsPWZ1bmN0aW9uKCl7dmFyIG49bnVsbDtyZXR1cm4gbnVsbCE9dGhpcy5idWlsZFByaWNlUmFuZ2VGaWx0ZXJNb2RlbCYmKG49dGhpcy5idWlsZFByaWNlUmFuZ2VGaWx0ZXJNb2RlbCh0aGlzLmNhdGVnb3J5SWQsdGhpcy5tYW51ZmFjdHVyZXJJZCx0aGlzLnZlbmRvcklkLHRoaXMuc2VsZWN0ZWRGaWx0ZXJHcm91cEVsZW1lbnQpKSxufTtpLnByb3RvdHlwZS5nZXRJblN0b2NrRmlsdGVyc01vZGVsPWZ1bmN0aW9uKCl7dmFyIG49bnVsbDtyZXR1cm4gbnVsbCE9dGhpcy5idWlsZEluU3RvY2tGaWx0ZXJzTW9kZWwmJihuPXRoaXMuYnVpbGRJblN0b2NrRmlsdGVyc01vZGVsKHRoaXMuY2F0ZWdvcnlJZCx0aGlzLm1hbnVmYWN0dXJlcklkLHRoaXMudmVuZG9ySWQsdGhpcy5zZWxlY3RlZEZpbHRlckdyb3VwRWxlbWVudCkpLG59O2kucHJvdG90eXBlLnJlZnJlc2hQcm9kdWN0cz1mdW5jdGlvbih0LGkscix1KXt2YXIgZj1wKCl8fG4oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLWRlZmF1bHRWaWV3TW9kZSIpLHM9dGhpcy5nZXRQcm9kdWN0c1BhbmVsU2VsZWN0b3IoZiksZj1uKCIuIit2KSxpLGUsYztpZihudWxsIT1uKHQpLmZpbHRlcihzKS5odG1sKCkpe2lmKDE8Zi5sZW5ndGgmJihmPWYubGFzdCgpKSxpKWlmKGk9bih0KS5maWx0ZXIocyksZT1pLmZpbmQoIi5pdGVtLWJveCIpLGkuaGFzQ2xhc3MoInByb2R1Y3QtZ3JpZCIpP2YuaGFzQ2xhc3MoInByb2R1Y3QtbGlzdCIpJiZmLnJlbW92ZUNsYXNzKCJwcm9kdWN0LWxpc3QiKS5hZGRDbGFzcygicHJvZHVjdC1ncmlkIik6Zi5oYXNDbGFzcygicHJvZHVjdC1ncmlkIikmJmYucmVtb3ZlQ2xhc3MoInByb2R1Y3QtZ3JpZCIpLmFkZENsYXNzKCJwcm9kdWN0LWxpc3QiKSxyKWZvcih2YXIgbD1uKCIuZHVtbXktYm94IikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcykuYXR0cigiZGF0YS1wYWdlTnVtYmVyIik9PT11fSksaD1lLmZpbHRlcigiLml0ZW0tYm94Iiksbz0wO288aC5sZW5ndGg7bysrKWM9bihoLmdldChvKSksbihsLmdldChvKSkucmVwbGFjZVdpdGgoYyk7ZWxzZSBuKCIuaW5maW5pdGUtc2Nyb2xsLWxvYWRlciIpLmhpZGUoKSxmLmZpbmQoIi5pdGVtLWJveCIpLmxhc3QoKS5hZnRlcihlKTtlbHNlIGYucmVwbGFjZVdpdGgobih0KS5maWx0ZXIocykpO2U9ITB9ZWxzZSB0aGlzLmhpZGVQcm9kdWN0UGFuZWxBamF4QnVzeSgpLDA8bigiI25vcEFqYXhGaWx0ZXJzTm9Qcm9kdWN0c0RpYWxvZyIpLmxlbmd0aHx8Zi5wcmVwZW5kKG4odCkuZmlsdGVyKCIjbm9wQWpheEZpbHRlcnNOb1Byb2R1Y3RzRGlhbG9nIikpLHRoaXMuc2hvd05vUHJvZHVjdHNNb2RhbERpYWxvZygpLGU9ITE7cmV0dXJuIGV9O2kucHJvdG90eXBlLnJlZnJlc2hQcm9kdWN0c1BhZ2VyPWZ1bmN0aW9uKHQpe3ZhciByLHU9dGhpcy5nZXRQYWdlclBhbmVsU2VsZWN0b3IoKSxpPW4odSk7dm9pZCAwIT09dCYmKHI9bih0KS5maWx0ZXIodSksMD09PWkubGVuZ3RoJiYwPHIubGVuZ3RoJiYodD1uKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1wYWdlcnBhbmVsaW50ZWdyYXRpb25zZWxlY3RvciIpfHwiLnByb2R1Y3QtZ3JpZCwgLnByb2R1Y3QtbGlzdCIsMDwodD1uKHQpKS5sZW5ndGgmJih0Lmhhc0NsYXNzKCJwcm9kdWN0LWdyaWQiKXx8dC5oYXNDbGFzcygicHJvZHVjdC1saXN0IikpJiYodD10Lm5vdCgiLmZlYXR1cmVkLXByb2R1Y3QtZ3JpZCwgLm5vcC1qY2Fyb3VzZWwiKS5sYXN0KCkpLDA9PT10Lmxlbmd0aCYmKHQ9cygpKSx0LmFmdGVyKCc8ZGl2IGNsYXNzPSJwYWdlciI+PFwvZGl2PicpLGk9bih1KSksInRydWUiPT09bigiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIpLmF0dHIoImRhdGEtZW5hYmxlaW5maW5pdGVzY3JvbGwiKS50b0xvd2VyQ2FzZSgpJiZpLmhpZGUoKSxpLmh0bWwoci5odG1sKCkpLDA8aS5sZW5ndGgmJjA9PT1yLmxlbmd0aCYmaS5yZW1vdmUoKSk7dGhpcy5zZXRQYWdlckxpbmtzKGkpfTtpLnByb3RvdHlwZS5zZXRQYWdlckxpbmtzPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7dC5maW5kKCJhIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcykuYXR0cigiaHJlZiIpLHI9IiI7bnVsbCE9dCYmKHQ9dC50b0xvd2VyQ2FzZSgpLG51bGwhPSh0PS9wYWdlbnVtYmVyPShcZCspLy5leGVjKHQpKSYmMTx0Lmxlbmd0aCYmKHI9dFsxXSkpO24odGhpcykucmVtb3ZlQXR0cigiaHJlZiIpO24odGhpcykuYXR0cigiZGF0YS1wYWdlTnVtYmVyIixyKTtuKHRoaXMpLmNsaWNrKHtmaWx0ZXJzTWFuYWdlcjppfSxkKX0pfTtpLnByb3RvdHlwZS5nZXRQcm9kdWN0c1BhbmVsU2VsZWN0b3I9ZnVuY3Rpb24odCl7cmV0dXJuImxpc3QiPT09dD9uKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1Qcm9kdWN0c0xpc3RQYW5lbFNlbGVjdG9yIil8fCIucHJvZHVjdC1saXN0IjpuKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1wcm9kdWN0c0dyaWRQYW5lbFNlbGVjdG9yIil8fCIucHJvZHVjdC1ncmlkIn07aS5wcm90b3R5cGUuZ2V0UGFnZXJQYW5lbFNlbGVjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG4oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLXBhZ2VyUGFuZWxTZWxlY3RvciIpfHwiLnBhZ2VyIn07aS5wcm90b3R5cGUuY2xlYXJGaWx0ZXJPcHRpb25zPWZ1bmN0aW9uKHQpe3ZhciBpPW4odC5jdXJyZW50VGFyZ2V0KS5wYXJlbnQoKS5zaWJsaW5ncygiLmZpbHRlcnNHcm91cFBhbmVsIik7dC5kYXRhLmZpbHRlcnNNYW5hZ2VyLmNsZWFyRmlsdGVyT3B0aW9uc0ZvckZpbHRlcnNHcm91cEVsZW1lbnQoaSl9O2kucHJvdG90eXBlLmNsZWFyRmlsdGVyT3B0aW9uc0ZvckZpbHRlcnNHcm91cEVsZW1lbnQ9ZnVuY3Rpb24obil7bi5maW5kKCJbZGF0YS1vcHRpb24taWRzXSIpLnJlbW92ZUF0dHIoImNoZWNrZWQgc2VsZWN0ZWQiKTt2YXIgdD1uLmZpbmQoIi5zZWxlY3Qtd3JhcCIpOzA8dC5sZW5ndGgmJnQuZmluZCgiLnNlbGVjdC1pbm5lciIpLnRleHQodC5maW5kKCJzZWxlY3Qgb3B0aW9uOnNlbGVjdGVkIikudGV4dCgpKTtuLmhhc0NsYXNzKCJoYXMtc3BlY2lmaWNhdGlvbi1zbGlkZXIiKSYmdGhpcy5jbGVhclNsaWRlclNwZWNpZmljYXRpb25WYWx1ZXMobik7dGhpcy5yZXF1ZXN0UHJvZHVjdHNGb3JTZWxlY3RlZEZpbHRlcnMobix2b2lkIDApfTtpLnByb3RvdHlwZS5jbGVhclNsaWRlclNwZWNpZmljYXRpb25WYWx1ZXM9ZnVuY3Rpb24obil7dmFyIHQ9bi5maW5kKCIuc3BlY2lmaWNhdGlvbi1hdHRyaWJ1dGUtc2xpZGVyIiksaT10LnNsaWRlcigib3B0aW9uIiwibWluIikscj10LnNsaWRlcigib3B0aW9uIiwibWF4Iik7dC5zbGlkZXIoIm9wdGlvbiIse3ZhbHVlczpbaSxyXX0pOyhuPW4uZmluZCgiLnNwZWNpZmljYXRpb24tY3VycmVudC12YWx1ZS1wYW5lbCIpKS5maW5kKCIuY3VycmVudC1taW4tdmFsdWUiKS5odG1sKGkpO24uZmluZCgiLmN1cnJlbnQtbWF4LXZhbHVlIikuaHRtbChyKX07aS5wcm90b3R5cGUuc2VsZWN0QWxsRmlsdGVyRHJvcERvd25PcHRpb249ZnVuY3Rpb24odCl7dD1uKHQuY3VycmVudFRhcmdldCkuY2xvc2VzdCgiLmZpbHRlcnNHcm91cFBhbmVsIik7dGhpcy5jbGVhckZpbHRlck9wdGlvbnNGb3JGaWx0ZXJzR3JvdXBFbGVtZW50KHQpfTtpLnByb3RvdHlwZS5jbGVhckFsbEZpbHRlck9wdGlvbnM9ZnVuY3Rpb24odCl7dmFyIGk9dC5kYXRhLmZpbHRlcnNNYW5hZ2VyO24oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMgLmZpbHRlcnNHcm91cFBhbmVsIikuZmluZCgiW2RhdGEtb3B0aW9uLWlkc10iKS5yZW1vdmVBdHRyKCJjaGVja2VkIHNlbGVjdGVkIGRpc2FibGVkIik7bigiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyAuc2VsZWN0LXdyYXAiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTt0LmZpbmQoIi5zZWxlY3QtaW5uZXIiKS50ZXh0KHQuZmluZCgic2VsZWN0IG9wdGlvbjpzZWxlY3RlZCIpLnRleHQoKSl9KTtuKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIC5maWx0ZXJzR3JvdXBQYW5lbC5oYXMtc3BlY2lmaWNhdGlvbi1zbGlkZXIiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtpLmNsZWFyU2xpZGVyU3BlY2lmaWNhdGlvblZhbHVlcyh0KX0pO2kuY2xlYXJQcmljZVJhbmdlRmlsdGVyQ29udHJvbCgpO2kucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzKCl9O2kucHJvdG90eXBlLnJlZnJlc2hDbGVhckJ1dHRvbnM9ZnVuY3Rpb24oKXt2YXIgcj0hMSxpLHQ7bigiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyAuZmlsdGVyc0dyb3VwUGFuZWwiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKSxpPSExO3QuZmluZCgiW2RhdGEtb3B0aW9uLWlkc10iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTtpZih0LmlzKCI6c2VsZWN0ZWQiKXx8dC5pcygiOmNoZWNrZWQiKSlyZXR1cm4hKGk9ITApfSk7dD10LnBhcmVudCgpLmZpbmQoImEuY2xlYXJGaWx0ZXJPcHRpb25zIik7aT8odC5zaG93KCkscj0hMCk6dC5oaWRlKCl9KTt0PW4oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMgLmZpbHRlcnNUaXRsZVBhbmVsIGEuY2xlYXJGaWx0ZXJPcHRpb25zQWxsIik7cj90LnNob3coKTooaT0hMSxudWxsIT10aGlzLmRldGVybWluZUlmUHJpY2VSYW5nZUhhc0JlZW5TZWxlY3RlZCYmKGk9dGhpcy5kZXRlcm1pbmVJZlByaWNlUmFuZ2VIYXNCZWVuU2VsZWN0ZWQoKSksaT90LnNob3coKTp0LmhpZGUoKSl9O2kucHJvdG90eXBlLmV4cGFuZEZpbHRlclBhbmVsc1dpdGhTZWxlY3RlZE9wdGlvbnM9ZnVuY3Rpb24oKXtuKCIuY2xlYXJQcmljZVJhbmdlRmlsdGVyLCAuY2xlYXJGaWx0ZXJPcHRpb25zIikuZmlsdGVyKCI6dmlzaWJsZSIpLnNpYmxpbmdzKCJhLnRvZ2dsZUNvbnRyb2wuY2xvc2VkIikuY2xpY2soKX07aS5wcm90b3R5cGUuY2hhbmdlVmlld01vZGVPcmRlckJ5QW5kUGFnZVNpemU9ZnVuY3Rpb24odCl7dmFyIGk9bih0KS5maWx0ZXIoIiNjdXJyZW50UGFnZVNpemVKc29uIikudmFsKCksdT1uLnBhcnNlSlNPTihpKSxpPW4odCkuZmlsdGVyKCIjY3VycmVudE9yZGVyQnlKc29uIikudmFsKCksaT1uLnBhcnNlSlNPTihpKSx0PW4odCkuZmlsdGVyKCIjY3VycmVudFZpZXdNb2RlSnNvbiIpLnZhbCgpLHQ9bi5wYXJzZUpTT04odCk7cigiLnNvcnRPcHRpb25zRHJvcERvd24iLGkpO3IoIi52aWV3T3B0aW9uc0Ryb3BEb3duIix0KTtyKCIucHJvZHVjdHNQYWdlU2l6ZURyb3BEb3duIix1KTtuKG8oKSkucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIikuZmlsdGVyKCIuIit0KS5hZGRDbGFzcygic2VsZWN0ZWQiKX07aS5wcm90b3R5cGUuc2V0UHJpY2VSYW5nZVZhbHVlcz1mdW5jdGlvbih0KXt2YXIgaT0oaT1uKHQpLmZpbHRlcigiI3ByaWNlUmFuZ2VGcm9tSnNvbiIpLnZhbCgpLnRvU3RyaW5nKCkpP24ucGFyc2VKU09OKGkpOm51bGwsdD0odD1uKHQpLmZpbHRlcigiI3ByaWNlUmFuZ2VUb0pzb24iKS52YWwoKS50b1N0cmluZygpKT9uLnBhcnNlSlNPTih0KTpudWxsO251bGwhPXRoaXMuU2V0U2xpZGVyVmFsdWVzJiZ0aGlzLlNldFNsaWRlclZhbHVlcyhpLHQpfTtpLnByb3RvdHlwZS5yZWZyZXNoRmlsdGVycz1mdW5jdGlvbih0KXt2YXIgcj10aGlzLGk9KGk9bih0KS5maWx0ZXIoIiNzcGVjaWZpY2F0aW9uRmlsdGVyTW9kZWw3U3Bpa2VzSnNvbiIpLnZhbCgpLnRvU3RyaW5nKCkpP24ucGFyc2VKU09OKGkpOm51bGw7ci5yZWZyZXNoU3BlY2lmaWNhdGlvbkZpbHRlcnMoaSxyLmZpbHRlcnNVSU1vZGUpO2k9KGk9bih0KS5maWx0ZXIoIiNhdHRyaWJ1dGVGaWx0ZXJNb2RlbDdTcGlrZXNKc29uIikudmFsKCkudG9TdHJpbmcoKSk/bi5wYXJzZUpTT04oaSk6bnVsbDtyLnJlZnJlc2hBdHRyaWJ1dGVGaWx0ZXJzKGksci5maWx0ZXJzVUlNb2RlKTtpPShpPW4odCkuZmlsdGVyKCIjbWFudWZhY3R1cmVyRmlsdGVyTW9kZWw3U3Bpa2VzSnNvbiIpLnZhbCgpLnRvU3RyaW5nKCkpP24ucGFyc2VKU09OKGkpOm51bGw7ci5yZWZyZXNoTWFudWZhY3R1cmVyRmlsdGVycyhpLHIuZmlsdGVyc1VJTW9kZSk7aT0oaT1uKHQpLmZpbHRlcigiI3ZlbmRvckZpbHRlck1vZGVsN1NwaWtlc0pzb24iKS52YWwoKS50b1N0cmluZygpKT9uLnBhcnNlSlNPTihpKTpudWxsO3IucmVmcmVzaFZlbmRvckZpbHRlcnMoaSxyLmZpbHRlcnNVSU1vZGUpO2k9KGk9bih0KS5maWx0ZXIoIiNvblNhbGVGaWx0ZXJNb2RlbDdTcGlrZXNKc29uIikudmFsKCkudG9TdHJpbmcoKSk/bi5wYXJzZUpTT04oaSk6bnVsbDtyLnJlZnJlc2hPblNhbGVGaWx0ZXJzKGksci5maWx0ZXJzVUlNb2RlKTt0PSh0PW4odCkuZmlsdGVyKCIjaW5TdG9ja0ZpbHRlck1vZGVsN1NwaWtlc0pzb24iKS52YWwoKS50b1N0cmluZygpKT9uLnBhcnNlSlNPTih0KTpudWxsO3IucmVmcmVzaEluU3RvY2tGaWx0ZXJzKHQsci5maWx0ZXJzVUlNb2RlKTtuKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIC5maWx0ZXJzR3JvdXBQYW5lbCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLGk9ITA7dC5maW5kKCJbZGF0YS1vcHRpb24taWRzXSIpLmVhY2goZnVuY3Rpb24oKXtpZighbih0aGlzKS5pcygiOmRpc2FibGVkIikpcmV0dXJuIGk9ITF9KTtpP3QuZmluZCgic2VsZWN0IikuYXR0cigiZGlzYWJsZWQiLCJkaXNhYmxlZCIpOnQuZmluZCgic2VsZWN0IikucmVtb3ZlQXR0cigiZGlzYWJsZWQiKTt0LnRvZ2dsZUNsYXNzKCJkaXNhYmxlZCIsaSl9KX07aS5wcm90b3R5cGUuZXhlY3V0ZVJldmVyc2VJbmZpbml0ZVNjcm9sbD1mdW5jdGlvbihuKXsobmV3IGkpLnJlcXVlc3RQcm9kdWN0c0ZvclNlbGVjdGVkRmlsdGVycyh2b2lkIDAsdm9pZCAwLG4sdm9pZCAwLHZvaWQgMCwhMCwhMCx2b2lkIDAsdm9pZCAwLCEwKX07aS5wcm90b3R5cGUuY2xlYXJQcmljZVJhbmdlRmlsdGVyQ29udHJvbD1mdW5jdGlvbigpe307aS5wcm90b3R5cGUucmVmcmVzaE1hbnVmYWN0dXJlckZpbHRlcnM9ZnVuY3Rpb24oKXt9O2kucHJvdG90eXBlLnJlZnJlc2hWZW5kb3JGaWx0ZXJzPWZ1bmN0aW9uKCl7fTtpLnByb3RvdHlwZS5yZWZyZXNoU3BlY2lmaWNhdGlvbkZpbHRlcnM9ZnVuY3Rpb24oKXt9O2kucHJvdG90eXBlLnJlZnJlc2hBdHRyaWJ1dGVGaWx0ZXJzPWZ1bmN0aW9uKCl7fTtpLnByb3RvdHlwZS5yZWZyZXNoT25TYWxlRmlsdGVycz1mdW5jdGlvbigpe307aS5wcm90b3R5cGUucmVmcmVzaEluU3RvY2tGaWx0ZXJzPWZ1bmN0aW9uKCl7fTtpLnByb3RvdHlwZS5idWlsZE1hbnVmYWN0dXJlckZpbHRlcnNNb2RlbD1mdW5jdGlvbigpe307aS5wcm90b3R5cGUuYnVpbGRWZW5kb3JGaWx0ZXJzTW9kZWw9ZnVuY3Rpb24oKXt9O2kucHJvdG90eXBlLmJ1aWxkU3BlY2lmaWNhdGlvbkZpbHRlcnNNb2RlbD1mdW5jdGlvbigpe307aS5wcm90b3R5cGUuYnVpbGRBdHRyaWJ1dGVGaWx0ZXJzTW9kZWw9ZnVuY3Rpb24oKXt9O2kucHJvdG90eXBlLmJ1aWxkT25TYWxlRmlsdGVyc01vZGVsPWZ1bmN0aW9uKCl7fTtpLnByb3RvdHlwZS5hZGRQcm9kdWN0UGFuZWxBamF4QnVzeVRvUGFnZT1mdW5jdGlvbigpe3ZhciB0PXMoKTt0LmFkZENsYXNzKCJhamF4QnVzeVBhbmVsUGFyZW50ICIrdik7dC5jc3MoInBvc2l0aW9uIiwicmVsYXRpdmUiKTt0LmFwcGVuZChuKCc8ZGl2IGNsYXNzPSJwcm9kdWN0UGFuZWxBamF4QnVzeSI+PFwvZGl2PjxkaXYgY2xhc3M9ImNsZWFyIj48XC9kaXY+JykpO24oIi5wcm9kdWN0UGFuZWxBamF4QnVzeSIpLmhpZGUoKTtiKCl9O2kucHJvdG90eXBlLmFkanVzdE1pbk1heFZhbHVlc0lmSW5SVEw9ZnVuY3Rpb24obix0LGkscil7dmFyIHU9e21pblZhbHVlOmksbWF4VmFsdWU6cn07cmV0dXJuIHRoaXMuaXNSdGwmJihpPXBhcnNlRmxvYXQoKG4taSkudG9GaXhlZCgyKSkscj1wYXJzZUZsb2F0KCh0LXIpLnRvRml4ZWQoMikpLHUubWluVmFsdWU9cGFyc2VGbG9hdCgobityKS50b0ZpeGVkKDIpKSx1Lm1heFZhbHVlPXBhcnNlRmxvYXQoKHQraSkudG9GaXhlZCgyKSkpLHV9O2kucHJvdG90eXBlLnNldFNwZWNpZmljYXRpb25GaWx0ZXJTZWxlY3Rpb249ZnVuY3Rpb24obix0KXt0aGlzLnNlbGVjdGVkRmlsdGVyR3JvdXBFbGVtZW50PW47dGhpcy5zZWxlY3RlZEZpbHRlck9wdGlvbkVsZW1lbnQ9dH07aS5wcm90b3R5cGUuc2hvd05vUHJvZHVjdHNNb2RhbERpYWxvZz1mdW5jdGlvbih0KXt2YXIgcj1uKHQ9dHx8IiNub3BBamF4RmlsdGVyc05vUHJvZHVjdHNEaWFsb2ciKSxpPXIuZGF0YSgia2VuZG9XaW5kb3ciKSx0PXIuYXR0cigidGl0bGUiKXx8Ik5PIFJFU1VMVFMgRk9VTkQiO2l8fChpPXIua2VuZG9XaW5kb3coe2RyYWdnYWJsZTohMSxyZXNpemFibGU6ITEsd2lkdGg6IjMwMHB4IixoZWlnaHQ6IjEwMHB4Iix0aXRsZTp0LG1vZGFsOiEwLGFjdGlvbnM6WyJDbG9zZSJdLGFuaW1hdGlvbjohMSx2aXNpYmxlOiExfSkuZGF0YSgia2VuZG9XaW5kb3ciKSkud3JhcHBlci5hZGRDbGFzcygiYWpheEZpbHRlcnMiKTtpLmNlbnRlcigpO2kub3BlbigpO24oZG9jdW1lbnQpLm9uKCJjbGljayIsIi5rLW92ZXJsYXkiLGZ1bmN0aW9uKCl7aS5jbG9zZSgpfSl9O2kucHJvdG90eXBlLnNob3dQcm9kdWN0UGFuZWxBamF4QnVzeT1mdW5jdGlvbigpe24oIi5wcm9kdWN0UGFuZWxBamF4QnVzeSIpLnNob3coKX07aS5wcm90b3R5cGUuaGlkZVByb2R1Y3RQYW5lbEFqYXhCdXN5PWZ1bmN0aW9uKCl7bigiLnByb2R1Y3RQYW5lbEFqYXhCdXN5IikuaGlkZSgpfTtpLmdldEZpbHRlckl0ZW1TdGF0ZUJhc2VkT25BdHRyaWJ1dGVzPWZ1bmN0aW9uKG4pe3ZhciB0PW4uaXMoIjpzZWxlY3RlZCIpfHxuLmlzKCI6Y2hlY2tlZCIpLG49bi5pcygiOmRpc2FibGVkIik7cmV0dXJuIHQmJm4/IkNoZWNrZWREaXNhYmxlZCI6dCYmIW4/IkNoZWNrZWQiOiF0JiZuPyJEaXNhYmxlZCI6IlVuY2hlY2tlZCJ9O2kud2FpdEZvckFqYXhSZXF1ZXN0PSExO2kuYWRkU3RhdGVDbGFzc1RvQ2hlY2tCb3hQYXJlbnQ9ZnVuY3Rpb24obix0KXtuPW4ucGFyZW50KCJsaSIpOzAhPT1uLmxlbmd0aCYmKHQhPT11JiZ0IT09ZXx8KG4uYWRkQ2xhc3MoImNoZWNrZWQiKSx0PT09dSYmbi5yZW1vdmVDbGFzcygiZGlzYWJsZWQiKSksdCE9PWUmJnQhPT1hfHxuLmFkZENsYXNzKCJkaXNhYmxlZCIpLHQ9PT1sJiZuLnJlbW92ZUNsYXNzKCJjaGVja2VkIGRpc2FibGVkIikpfTtpLmFkZFN0YXRlQXR0cmlidXRlc1RvT3B0aW9uPWZ1bmN0aW9uKG4sdCxpKXt0IT09dSYmdCE9PWV8fChpP24uYXR0cigic2VsZWN0ZWQiLCJzZWxlY3RlZCIpLnRyaWdnZXIoImNoYW5nZSIpOm4uYXR0cigiY2hlY2tlZCIsImNoZWNrZWQiKSx0PT09dSYmbi5yZW1vdmVBdHRyKCJkaXNhYmxlZCIpKTt0IT09ZSYmdCE9PWF8fG4uYXR0cigiZGlzYWJsZWQiLCJkaXNhYmxlZCIpO3Q9PT1sJiZuLnJlbW92ZUF0dHIoImNoZWNrZWQgc2VsZWN0ZWQgZGlzYWJsZWQiKX07aS5hZGRTdGF0ZUNsYXNzQW5kQXR0cmlidXRlc1RvT3B0aW9uPWZ1bmN0aW9uKG4sdCxyKXt2YXIgZj10PT09dT8hMDohMTtyZXR1cm4gcnx8aS5hZGRTdGF0ZUNsYXNzVG9DaGVja0JveFBhcmVudChuLHQpLGkuYWRkU3RhdGVBdHRyaWJ1dGVzVG9PcHRpb24obix0LHIpLGZ9O24oZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZigpe24od2luZG93KS5vZmYoInNjcm9sbC5maWx0ZXJzaW5maW5pdGVzY3JvbGwgcmVzaXplLmZpbHRlcnNpbmZpbml0ZXNjcm9sbCBvcmllbnRhdGlvbmNoYW5nZS5maWx0ZXJzaW5maW5pdGVzY3JvbGwiKS5vbigic2Nyb2xsLmZpbHRlcnNpbmZpbml0ZXNjcm9sbCByZXNpemUuZmlsdGVyc2luZmluaXRlc2Nyb2xsIG9yaWVudGF0aW9uY2hhbmdlLmZpbHRlcnNpbmZpbml0ZXNjcm9sbCIsZnVuY3Rpb24oKXt3KCl9KTt3KCl9dmFyIHQ9bmV3IGksdSxyO3QuYWRkUHJvZHVjdFBhbmVsQWpheEJ1c3lUb1BhZ2UoKTtuKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIC5ibG9jayAudGl0bGUgYS50b2dnbGVDb250cm9sIikub2ZmKCJjbGljayIpLm9uKCJjbGljayIsZnVuY3Rpb24oKXt5KG4odGhpcykpfSk7bigiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyAuYmxvY2sgLnRpdGxlIGEuY2xlYXJGaWx0ZXJPcHRpb25zIikuZWFjaChmdW5jdGlvbigpe24odGhpcykuY2xpY2soe2ZpbHRlcnNNYW5hZ2VyOnR9LHQuY2xlYXJGaWx0ZXJPcHRpb25zKTtuKHRoaXMpLmhpZGUoKX0pO24oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMgLmZpbHRlcnNEcm9wRG93biBhLmFsbEZpbHRlckRyb3BEb3duT3B0aW9ucyIpLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmNsaWNrKHtmaWx0ZXJzTWFuYWdlcjp0fSx0LnNlbGVjdEFsbEZpbHRlckRyb3BEb3duT3B0aW9uKX0pO3I9bigiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyAuZmlsdGVyc1RpdGxlUGFuZWwgYS5jbGVhckZpbHRlck9wdGlvbnNBbGwiKTtyLmNsaWNrKHtmaWx0ZXJzTWFuYWdlcjp0fSx0LmNsZWFyQWxsRmlsdGVyT3B0aW9ucyk7ci5oaWRlKCk7dC5yZWZyZXNoUHJvZHVjdHNQYWdlcigpO3QuZmlsdGVyc1VJTW9kZT09PXQuZmlsdGVyc1VJTW9kZUVudW0udXNlRHJvcERvd25zJiYocj1uKCIuZmlsdGVyc0Ryb3BEb3duUGFuZWwuZmlsdGVyc0dyb3VwUGFuZWwiKSx1PXIubGVuZ3RoKzEwMCxyLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmNzcygiei1pbmRleCIsdS0tKX0pKTsidHJ1ZSI9PT1uKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIikuYXR0cigiZGF0YS1lbmFibGVpbmZpbml0ZXNjcm9sbCIpLnRvTG93ZXJDYXNlKCkmJihiKCksbigiLnByb2R1Y3QtcGFnZS1zaXplLCAiK24oIi5ub3BBamF4RmlsdGVyczdTcGlrZXMiKS5hdHRyKCJkYXRhLXBhZ2VycGFuZWxzZWxlY3RvciIpKS5oaWRlKCksbigiLnByb2R1Y3Qtc2VsZWN0b3JzIikuYWRkQ2xhc3MoImluZmluaXRlLXNjcm9sbC1lbmFibGVkIiksbihkb2N1bWVudCkub24oIm5vcEFqYXhGaWx0ZXJzRmlsdHJhdGlvbkNvbXBsZXRlRXZlbnQiLGYpLHdpbmRvdy5sb2NhdGlvbi5oYXNoJiYiIy9ub0ZpbHRlckFwcGxpZWQiIT09d2luZG93LmxvY2F0aW9uLmhhc2h8fGYoKSk7bigiLmZpbHRlcnNHcm91cFNlYXJjaElucHV0Iikub24oImtleXVwIixmdW5jdGlvbigpe3ZhciB0PW4odGhpcykudmFsKCkudG9Mb3dlckNhc2UoKSxpPW4odGhpcykucGFyZW50KCkubmV4dCgiLmNoZWNrYm94LWxpc3QiKS5jaGlsZHJlbigpOyIiPT09dD9pLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLGk9dC5maW5kKCJsYWJlbCIpLHI9aS5kYXRhKCJvcmlnaW5hbHRleHQiKTtpLmh0bWwocik7dC5zaG93KCl9KTppLmVhY2goZnVuY3Rpb24oKXt2YXIgdSxmLGU9bih0aGlzKSxvPWUuZmluZCgibGFiZWwiKSxyPW8uZGF0YSgib3JpZ2luYWx0ZXh0IiksaT1yLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0KTstMSE9PWk/KHU9ci5zdWJzdHJpbmcoaSxpK3QubGVuZ3RoKSwwPT09aT8oZj1yLnN1YnN0cmluZyh1Lmxlbmd0aCksby5odG1sKCI8c3Ryb25nPiIrdSsiPFwvc3Ryb25nPiIrZikpOjA8aSYmKGY9ci5zbGljZSgwLGkpLGk9ci5zbGljZShpK3QubGVuZ3RoKSxvLmh0bWwoZisiPHN0cm9uZz4iK3UrIjxcL3N0cm9uZz4iK2kpKSxlLnNob3coKSk6ZS5oaWRlKCl9KX0pfSk7bih3aW5kb3cpLnVubG9hZChmdW5jdGlvbigpe2YoKSYmbi5hZGRyZXNzLmhpc3RvcnkoITApfSk7bihkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXt0dCgpO2YoKSYmbi5hZGRyZXNzLmhpc3RvcnkoITEpfSl9KGpRdWVyeSxzZXZlblNwaWtlc0NvcmUsRmlsdGVyc01hbmFnZXIpO1ByaWNlUmFuZ2VGaWx0ZXJNYW5hZ2VyPWZ1bmN0aW9uKCl7fSxmdW5jdGlvbihuLHQsaSl7ZnVuY3Rpb24gdSgpe3JldHVybiByfHwocj1uZXcgdCkscn12YXIgcjtpLnByb3RvdHlwZS5idWlsZFByaWNlUmFuZ2VGaWx0ZXJNb2RlbD1mdW5jdGlvbih0LHIsdSxmKXt2YXIgYz1wYXJzZUZsb2F0KG4oIiNzbGlkZXIiKS5hdHRyKCJkYXRhLXNsaWRlck1pblZhbHVlIikpLGw9cGFyc2VGbG9hdChuKCIjc2xpZGVyIikuYXR0cigiZGF0YS1zbGlkZXJNYXhWYWx1ZSIpKSxzPWkuc2xpZGVyU2VsZWN0ZWRGcm9tVmFsdWUsaD1pLnNsaWRlclNlbGVjdGVkVG9WYWx1ZSxlPXt9LG87cmV0dXJuIGUuQ2F0ZWdvcnlJZD10LGUuTWFudWZhY3R1cmVySWQ9cixlLlZlbmRvcklkPXUsbnVsbCE9ZiYmZi5nZXQoMCk9PT1uKCIucHJpY2VSYW5nZUZpbHRlclBhbmVsN1NwaWtlcyIpLmdldCgwKSYmKGUuUHJpb3JpdHk9MSksbz17fSxudWxsIT1zJiZzIT09YyYmKG8uRnJvbT1zLnRvU3RyaW5nKCkpLG51bGwhPWgmJmghPT1sJiYoby5Ubz1oLnRvU3RyaW5nKCkpLGUuU2VsZWN0ZWRQcmljZVJhbmdlPW8sZS5NaW5QcmljZT1jLnRvU3RyaW5nKCksZS5NYXhQcmljZT1sLnRvU3RyaW5nKCksZX07aS5wcm90b3R5cGUuU2V0U2xpZGVyVmFsdWVzPWZ1bmN0aW9uKHQscil7dmFyIHU9cGFyc2VGbG9hdChuKCIjc2xpZGVyIikuYXR0cigiZGF0YS1zbGlkZXJNaW5WYWx1ZSIpKSxmPXBhcnNlRmxvYXQobigiI3NsaWRlciIpLmF0dHIoImRhdGEtc2xpZGVyTWF4VmFsdWUiKSksZTtudWxsIT10JiZudWxsIT1yfHwobigiI3NsaWRlciIpLnNsaWRlcigib3B0aW9uIiwidmFsdWVzIixbdSxmXSksaS5zbGlkZXJTZWxlY3RlZEZyb21WYWx1ZT11LGkuc2xpZGVyU2VsZWN0ZWRUb1ZhbHVlPWYsbigiLnByaWNlUmFuZ2VGaWx0ZXJQYW5lbDdTcGlrZXMgLnByaWNlUmFuZ2VDdXJyZW50UHJpY2VzUGFuZWwgLmN1cnJlbnRNaW5QcmljZSIpLmh0bWwodS50b0ZpeGVkKCkpLG4oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIC5wcmljZVJhbmdlQ3VycmVudFByaWNlc1BhbmVsIC5jdXJyZW50TWF4UHJpY2UiKS5odG1sKGYudG9GaXhlZCgpKSk7bnVsbD09dCYmbnVsbCE9ciYmKG4oIiNzbGlkZXIiKS5zbGlkZXIoIm9wdGlvbiIsInZhbHVlcyIsW3Uscl0pLGkuc2xpZGVyU2VsZWN0ZWRGcm9tVmFsdWU9dSxpLnNsaWRlclNlbGVjdGVkVG9WYWx1ZT1yLG4oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIC5wcmljZVJhbmdlQ3VycmVudFByaWNlc1BhbmVsIC5jdXJyZW50TWluUHJpY2UiKS5odG1sKHUudG9GaXhlZCgpKSxuKCIucHJpY2VSYW5nZUZpbHRlclBhbmVsN1NwaWtlcyAucHJpY2VSYW5nZUN1cnJlbnRQcmljZXNQYW5lbCAuY3VycmVudE1heFByaWNlIikuaHRtbChyLnRvRml4ZWQoKSkpO251bGwhPXQmJm51bGw9PXImJihuKCIjc2xpZGVyIikuc2xpZGVyKCJvcHRpb24iLCJ2YWx1ZXMiLFt0LGZdKSxpLnNsaWRlclNlbGVjdGVkRnJvbVZhbHVlPXQsaS5zbGlkZXJTZWxlY3RlZFRvVmFsdWU9ZixuKCIucHJpY2VSYW5nZUZpbHRlclBhbmVsN1NwaWtlcyAucHJpY2VSYW5nZUN1cnJlbnRQcmljZXNQYW5lbCAuY3VycmVudE1pblByaWNlIikuaHRtbCh0LnRvRml4ZWQoKSksbigiLnByaWNlUmFuZ2VGaWx0ZXJQYW5lbDdTcGlrZXMgLnByaWNlUmFuZ2VDdXJyZW50UHJpY2VzUGFuZWwgLmN1cnJlbnRNYXhQcmljZSIpLmh0bWwoZi50b0ZpeGVkKCkpKTtudWxsIT10JiZudWxsIT1yJiYobigiI3NsaWRlciIpLnNsaWRlcigib3B0aW9uIiwidmFsdWVzIixbdCxyXSksaS5zbGlkZXJTZWxlY3RlZEZyb21WYWx1ZT10LGkuc2xpZGVyU2VsZWN0ZWRUb1ZhbHVlPXIsbigiLnByaWNlUmFuZ2VGaWx0ZXJQYW5lbDdTcGlrZXMgLnByaWNlUmFuZ2VDdXJyZW50UHJpY2VzUGFuZWwgLmN1cnJlbnRNaW5QcmljZSIpLmh0bWwodC50b0ZpeGVkKCkpLG4oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIC5wcmljZVJhbmdlQ3VycmVudFByaWNlc1BhbmVsIC5jdXJyZW50TWF4UHJpY2UiKS5odG1sKHIudG9GaXhlZCgpKSk7ZT1uKCIucHJpY2VSYW5nZUZpbHRlclBhbmVsN1NwaWtlcyAudGl0bGUgYS5jbGVhclByaWNlUmFuZ2VGaWx0ZXIiKTt0PT09dSYmcj09PWZ8fG51bGw9PXQmJm51bGw9PXI/ZS5oaWRlKCk6ZS5zaG93KCl9O2kucHJvdG90eXBlLnNsaWRlclNsaWRlPWZ1bmN0aW9uKHQsaSl7dmFyIGY9cGFyc2VGbG9hdChuKCIjc2xpZGVyIikuYXR0cigiZGF0YS1zbGlkZXJNaW5WYWx1ZSIpKSxlPXBhcnNlRmxvYXQobigiI3NsaWRlciIpLmF0dHIoImRhdGEtc2xpZGVyTWF4VmFsdWUiKSksbz1pLnZhbHVlc1swXS50b0ZpeGVkKCkscz1pLnZhbHVlc1sxXS50b0ZpeGVkKCkscj11KCkuYWRqdXN0TWluTWF4VmFsdWVzSWZJblJUTChmLGUsbyxzKTtuKCIucHJpY2VSYW5nZUZpbHRlclBhbmVsN1NwaWtlcyAucHJpY2VSYW5nZUN1cnJlbnRQcmljZXNQYW5lbCAuY3VycmVudE1pblByaWNlIikuaHRtbChyLm1pblZhbHVlKTtuKCIucHJpY2VSYW5nZUZpbHRlclBhbmVsN1NwaWtlcyAucHJpY2VSYW5nZUN1cnJlbnRQcmljZXNQYW5lbCAuY3VycmVudE1heFByaWNlIikuaHRtbChyLm1heFZhbHVlKX07aS5wcm90b3R5cGUuc2xpZGVyU3RvcHBlZD1mdW5jdGlvbih0LHIpe3ZhciBvPXUoKSxzPXBhcnNlRmxvYXQobigiI3NsaWRlciIpLmF0dHIoImRhdGEtc2xpZGVyTWluVmFsdWUiKSksaD1wYXJzZUZsb2F0KG4oIiNzbGlkZXIiKS5hdHRyKCJkYXRhLXNsaWRlck1heFZhbHVlIikpLGM9ci52YWx1ZXNbMF0sbD1yLnZhbHVlc1sxXSxmPW8uYWRqdXN0TWluTWF4VmFsdWVzSWZJblJUTChzLGgsYyxsKSxlO2kuc2xpZGVyU2VsZWN0ZWRGcm9tVmFsdWU9Zi5taW5WYWx1ZTtpLnNsaWRlclNlbGVjdGVkVG9WYWx1ZT1mLm1heFZhbHVlO28ucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzKG4oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIikpO2U9bigiLnByaWNlUmFuZ2VGaWx0ZXJQYW5lbDdTcGlrZXMgLnRpdGxlIGEuY2xlYXJQcmljZVJhbmdlRmlsdGVyIik7Zi5taW5WYWx1ZT09PXMmJmYubWF4VmFsdWU9PT1oP2UuaGlkZSgpOmUuc2hvdygpfTtpLnByb3RvdHlwZS5jbGVhclByaWNlUmFuZ2VGaWx0ZXI9ZnVuY3Rpb24odCl7dC5kYXRhLnByaWNlUmFuZ2VGaWx0ZXJNYW5hZ2VyLmNsZWFyUHJpY2VSYW5nZUZpbHRlckNvbnRyb2woKTt1KCkucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzKG4oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIikpfTtpLnByb3RvdHlwZS5jbGVhclByaWNlUmFuZ2VGaWx0ZXJDb250cm9sPWZ1bmN0aW9uKCl7bigiLnByaWNlUmFuZ2VGaWx0ZXJQYW5lbDdTcGlrZXMgLnRpdGxlIGEuY2xlYXJQcmljZVJhbmdlRmlsdGVyIikuaGlkZSgpO3ZhciB0PW4oIiNzbGlkZXIiKS5zbGlkZXIoIm9wdGlvbiIsIm1pbiIpLHI9bigiI3NsaWRlciIpLnNsaWRlcigib3B0aW9uIiwibWF4Iik7bigiI3NsaWRlciIpLnNsaWRlcigib3B0aW9uIix7dmFsdWVzOlt0LHJdfSk7bigiLnByaWNlUmFuZ2VGaWx0ZXJQYW5lbDdTcGlrZXMgLnByaWNlUmFuZ2VDdXJyZW50UHJpY2VzUGFuZWwgLmN1cnJlbnRNaW5QcmljZSIpLmh0bWwodC50b0ZpeGVkKCkpO24oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIC5wcmljZVJhbmdlQ3VycmVudFByaWNlc1BhbmVsIC5jdXJyZW50TWF4UHJpY2UiKS5odG1sKHIudG9GaXhlZCgpKTtpLnNsaWRlclNlbGVjdGVkRnJvbVZhbHVlPXQ7aS5zbGlkZXJTZWxlY3RlZFRvVmFsdWU9cn07aS5wcm90b3R5cGUuZGV0ZXJtaW5lSWZQcmljZVJhbmdlSGFzQmVlblNlbGVjdGVkPWZ1bmN0aW9uKCl7dmFyIGk9bigiI3NsaWRlciIpLnNsaWRlcigib3B0aW9uIiwibWluIikscj1uKCIjc2xpZGVyIikuc2xpZGVyKCJvcHRpb24iLCJtYXgiKSx0PW4oIiNzbGlkZXIiKS5zbGlkZXIoIm9wdGlvbiIsInZhbHVlcyIpO3JldHVybiB0WzBdIT09aXx8dFsxXSE9PXJ9O3QucHJvdG90eXBlLmJ1aWxkUHJpY2VSYW5nZUZpbHRlck1vZGVsPShuZXcgaSkuYnVpbGRQcmljZVJhbmdlRmlsdGVyTW9kZWw7dC5wcm90b3R5cGUuU2V0U2xpZGVyVmFsdWVzPShuZXcgaSkuU2V0U2xpZGVyVmFsdWVzO3QucHJvdG90eXBlLmNsZWFyUHJpY2VSYW5nZUZpbHRlckNvbnRyb2w9KG5ldyBpKS5jbGVhclByaWNlUmFuZ2VGaWx0ZXJDb250cm9sO3QucHJvdG90eXBlLmRldGVybWluZUlmUHJpY2VSYW5nZUhhc0JlZW5TZWxlY3RlZD0obmV3IGkpLmRldGVybWluZUlmUHJpY2VSYW5nZUhhc0JlZW5TZWxlY3RlZDtuKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe3ZhciB0PW4oIiNzbGlkZXIiKSxmPXBhcnNlRmxvYXQodC5hdHRyKCJkYXRhLXNsaWRlck1pblZhbHVlIikpLGU9cGFyc2VGbG9hdCh0LmF0dHIoImRhdGEtc2xpZGVyTWF4VmFsdWUiKSksbz10LmF0dHIoImRhdGEtc2VsZWN0ZWRGcm9tVmFsdWUiKSxzPXQuYXR0cigiZGF0YS1zZWxlY3RlZFRvVmFsdWUiKSxyPW5ldyBpLHU7dC5zbGlkZXIoe21pbjpmLG1heDplLHJhbmdlOiEwLHZhbHVlczpbbyxzXSxzbGlkZTpyLnNsaWRlclNsaWRlLHN0b3A6ci5zbGlkZXJTdG9wcGVkfSk7bigiLnByaWNlUmFuZ2VGaWx0ZXJQYW5lbDdTcGlrZXMgLnByaWNlUmFuZ2VDdXJyZW50UHJpY2VzUGFuZWwgLmN1cnJlbnRNaW5QcmljZSIpLmh0bWwoZi50b0ZpeGVkKCkpO24oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIC5wcmljZVJhbmdlQ3VycmVudFByaWNlc1BhbmVsIC5jdXJyZW50TWF4UHJpY2UiKS5odG1sKGUudG9GaXhlZCgpKTt1PW4oIi5wcmljZVJhbmdlRmlsdGVyUGFuZWw3U3Bpa2VzIC50aXRsZSBhLmNsZWFyUHJpY2VSYW5nZUZpbHRlciIpO3UuY2xpY2soe3ByaWNlUmFuZ2VGaWx0ZXJNYW5hZ2VyOnJ9LHIuY2xlYXJQcmljZVJhbmdlRmlsdGVyKTt1LmhpZGUoKX0pfShqUXVlcnksRmlsdGVyc01hbmFnZXIsUHJpY2VSYW5nZUZpbHRlck1hbmFnZXIpLGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHQobix0KXtpZighKG4ub3JpZ2luYWxFdmVudC50b3VjaGVzLmxlbmd0aD4xKSl7bi5wcmV2ZW50RGVmYXVsdCgpO3ZhciBpPW4ub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSxyPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJNb3VzZUV2ZW50cyIpO3IuaW5pdE1vdXNlRXZlbnQodCwhMCwhMCx3aW5kb3csMSxpLnNjcmVlblgsaS5zY3JlZW5ZLGkuY2xpZW50WCxpLmNsaWVudFksITEsITEsITEsITEsMCxudWxsKTtuLnRhcmdldC5kaXNwYXRjaEV2ZW50KHIpfX1pZihuLnN1cHBvcnQudG91Y2g9Im9udG91Y2hlbmQiaW4gZG9jdW1lbnQsbi5zdXBwb3J0LnRvdWNoKXt2YXIgaT1uLnVpLm1vdXNlLnByb3RvdHlwZSx1PWkuX21vdXNlSW5pdCxyO2kuX3RvdWNoU3RhcnQ9ZnVuY3Rpb24obil7dmFyIGk9dGhpczshciYmaS5fbW91c2VDYXB0dXJlKG4ub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXSkmJihyPSEwLGkuX3RvdWNoTW92ZWQ9ITEsdChuLCJtb3VzZW92ZXIiKSx0KG4sIm1vdXNlbW92ZSIpLHQobiwibW91c2Vkb3duIikpfTtpLl90b3VjaE1vdmU9ZnVuY3Rpb24obil7ciYmKHRoaXMuX3RvdWNoTW92ZWQ9ITAsdChuLCJtb3VzZW1vdmUiKSl9O2kuX3RvdWNoRW5kPWZ1bmN0aW9uKG4pe3ImJih0KG4sIm1vdXNldXAiKSx0KG4sIm1vdXNlb3V0IiksdGhpcy5fdG91Y2hNb3ZlZHx8dChuLCJjbGljayIpLHI9ITEpfTtpLl9tb3VzZUluaXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuZWxlbWVudC5iaW5kKCJ0b3VjaHN0YXJ0IixuLnByb3h5KHQsIl90b3VjaFN0YXJ0IikpLmJpbmQoInRvdWNobW92ZSIsbi5wcm94eSh0LCJfdG91Y2hNb3ZlIikpLmJpbmQoInRvdWNoZW5kIixuLnByb3h5KHQsIl90b3VjaEVuZCIpKTt1LmNhbGwodCl9fX0oalF1ZXJ5KSxmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGkoaSxyKXt2YXIgZj1uKCIubWFudWZhY3R1cmVyRmlsdGVyUGFuZWw3U3Bpa2VzIC5maWx0ZXJzR3JvdXBQYW5lbCIpLHU9e307cmV0dXJuIHUuQ2F0ZWdvcnlJZD1pLHUuTWFudWZhY3R1cmVyRmlsdGVySXRlbXM9W10sciE9dW5kZWZpbmVkJiZyLmlzKGYpJiYodS5Qcmlvcml0eT0xKSxmLmZpbmQoIltkYXRhLW9wdGlvbi1pZHNdIikuZWFjaChmdW5jdGlvbigpe3ZhciByPW4odGhpcyksZj1yLmF0dHIoImRhdGEtb3B0aW9uLWlkcyIpLGk9e307aS5JZD1mO2kuRmlsdGVySXRlbVN0YXRlPXQuZ2V0RmlsdGVySXRlbVN0YXRlQmFzZWRPbkF0dHJpYnV0ZXMocik7dS5NYW51ZmFjdHVyZXJGaWx0ZXJJdGVtcy5wdXNoKGkpfSksdX1mdW5jdGlvbiByKGkscil7dmFyIHU9bigiLm1hbnVmYWN0dXJlckZpbHRlclBhbmVsN1NwaWtlcyAuZmlsdGVyc0dyb3VwUGFuZWwiKSxmPXI9PT0idXNlZHJvcGRvd25zIixlPWY7dS5maW5kKCJbZGF0YS1vcHRpb24taWRzXSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1uKHRoaXMpLHM9cGFyc2VJbnQoci5hdHRyKCJkYXRhLW9wdGlvbi1pZHMiKSl8fDAsdT1uLmdyZXAoaS5NYW51ZmFjdHVyZXJGaWx0ZXJJdGVtcyxmdW5jdGlvbihuKXtyZXR1cm4gbi5JZD09PXN9KSxvO3UubGVuZ3RoIT09MCYmKG89dC5hZGRTdGF0ZUNsYXNzQW5kQXR0cmlidXRlc1RvT3B0aW9uKHIsdVswXS5GaWx0ZXJJdGVtU3RhdGUsZiksbyYmKGU9ITEpKX0pO2UmJnUuZmluZCgnW3ZhbHVlPSIwIl0nKS5hdHRyKCJzZWxlY3RlZCIsInNlbGVjdGVkIil9dC5wcm90b3R5cGUuYnVpbGRNYW51ZmFjdHVyZXJGaWx0ZXJzTW9kZWw9aTt0LnByb3RvdHlwZS5yZWZyZXNoTWFudWZhY3R1cmVyRmlsdGVycz1yO24oZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7bigiLm1hbnVmYWN0dXJlckZpbHRlclBhbmVsN1NwaWtlcyIpLmZpbmQoJy5hdHRyaWJ1dGUtb3B0aW9ucy1zZWxlY3QsIC5jaGVja2JveC1saXN0IGlucHV0W3R5cGU9ImNoZWNrYm94Il0nKS5vbigiY2hhbmdlIixmdW5jdGlvbigpe3ZhciBpPW4odGhpcykscj1pLmNsb3Nlc3QoIi5maWx0ZXJzR3JvdXBQYW5lbCIpLHU9bmV3IHQ7dS5yZXF1ZXN0UHJvZHVjdHNGb3JTZWxlY3RlZEZpbHRlcnMocixpKX0pfSl9KGpRdWVyeSxGaWx0ZXJzTWFuYWdlciksZnVuY3Rpb24obix0KXtmdW5jdGlvbiBpKGkscil7dmFyIGY9bigiLnZlbmRvckZpbHRlclBhbmVsN1NwaWtlcyAuZmlsdGVyc0dyb3VwUGFuZWwiKSx1PXt9O3JldHVybiB1LkNhdGVnb3J5SWQ9aSx1LlZlbmRvckZpbHRlckl0ZW1zPVtdLHIhPXVuZGVmaW5lZCYmci5pcyhmKSYmKHUuUHJpb3JpdHk9MSksZi5maW5kKCJbZGF0YS1vcHRpb24taWRzXSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1uKHRoaXMpLGY9ci5hdHRyKCJkYXRhLW9wdGlvbi1pZHMiKSxpPXt9O2kuSWQ9ZjtpLkZpbHRlckl0ZW1TdGF0ZT10LmdldEZpbHRlckl0ZW1TdGF0ZUJhc2VkT25BdHRyaWJ1dGVzKHIpO3UuVmVuZG9yRmlsdGVySXRlbXMucHVzaChpKX0pLHV9ZnVuY3Rpb24gcihpLHIpe3ZhciB1PW4oIi52ZW5kb3JGaWx0ZXJQYW5lbDdTcGlrZXMgLmZpbHRlcnNHcm91cFBhbmVsIiksZj1yPT09InVzZWRyb3Bkb3ducyIsZT1mO3UuZmluZCgiW2RhdGEtb3B0aW9uLWlkc10iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9bih0aGlzKSxzPXBhcnNlSW50KHIuYXR0cigiZGF0YS1vcHRpb24taWRzIikpfHwwLHU9bi5ncmVwKGkuVmVuZG9yRmlsdGVySXRlbXMsZnVuY3Rpb24obil7cmV0dXJuIG4uSWQ9PT1zfSksbzt1Lmxlbmd0aCE9PTAmJihvPXQuYWRkU3RhdGVDbGFzc0FuZEF0dHJpYnV0ZXNUb09wdGlvbihyLHVbMF0uRmlsdGVySXRlbVN0YXRlLGYpLG8mJihlPSExKSl9KTtlJiZ1LmZpbmQoJ1t2YWx1ZT0iMCJdJykuYXR0cigic2VsZWN0ZWQiLCJzZWxlY3RlZCIpfXQucHJvdG90eXBlLmJ1aWxkVmVuZG9yRmlsdGVyc01vZGVsPWk7dC5wcm90b3R5cGUucmVmcmVzaFZlbmRvckZpbHRlcnM9cjtuKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe24oIi52ZW5kb3JGaWx0ZXJQYW5lbDdTcGlrZXMiKS5maW5kKCcuYXR0cmlidXRlLW9wdGlvbnMtc2VsZWN0LCAuY2hlY2tib3gtbGlzdCBpbnB1dFt0eXBlPSJjaGVja2JveCJdJykub24oImNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpLHI9aS5jbG9zZXN0KCIuZmlsdGVyc0dyb3VwUGFuZWwiKSx1PW5ldyB0O3UucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzKHIsaSl9KX0pfShqUXVlcnksRmlsdGVyc01hbmFnZXIpO3ZhciBmaXJzdEluaXQ9ITAsbm9IYXNoUXVlcnlJbml0aWFsaXplZD0hMSxmaWx0ZXJNYW5hZ2VyLGlzUGFnZUFscmVhZHlWaXNpdGVkPSExLHZpc2libGVQYWdlLHJldmVyc2VJbmZpbml0ZVNjcm9sbDskLmFkZHJlc3MuZXh0ZXJuYWxDaGFuZ2UoZnVuY3Rpb24oKXtmaWx0ZXJNYW5hZ2VyPW5ldyBGaWx0ZXJzTWFuYWdlcjt2YXIgbj13aW5kb3cubG9jYXRpb24uaGFzaDtuP2ZpbHRlck1hbmFnZXIucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzKG51bGwsbnVsbCxudWxsLG4sdm9pZCAwLHZvaWQgMCx2b2lkIDAsaXNQYWdlQWxyZWFkeVZpc2l0ZWQsdmlzaWJsZVBhZ2UpOmZpcnN0SW5pdHx8KGZpbHRlck1hbmFnZXIucmVxdWVzdFByb2R1Y3RzRm9yU2VsZWN0ZWRGaWx0ZXJzKG51bGwsbnVsbCxudWxsLCJOTyBIQVNIIFFVRVJZIixub0hhc2hRdWVyeUluaXRpYWxpemVkLHZvaWQgMCx2b2lkIDAsaXNQYWdlQWxyZWFkeVZpc2l0ZWQpLG5vSGFzaFF1ZXJ5SW5pdGlhbGl6ZWQ9IW5vSGFzaFF1ZXJ5SW5pdGlhbGl6ZWQpO2ZpcnN0SW5pdD0hMX0pOyJ1bmRlZmluZWQiIT10eXBlb2YgUmV2ZXJzZUluZmluaXRlU2Nyb2xsJiYocmV2ZXJzZUluZmluaXRlU2Nyb2xsPW5ldyBSZXZlcnNlSW5maW5pdGVTY3JvbGwpLmluaXQoKTskKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe3NldEhpc3RvcnlTdGF0ZSgpfSk7JChkb2N1bWVudCkub24oIm5vcEFqYXhGaWx0ZXJzRmlsdHJhdGlvbkNvbXBsZXRlRXZlbnQiLHNldEhpc3RvcnlTdGF0ZSk7d2luZG93Lm9ucG9wc3RhdGU9ZnVuY3Rpb24oKXtoaXN0b3J5LnN0YXRlJiYoaXNQYWdlQWxyZWFkeVZpc2l0ZWQ9YWpheEZpbHRlcnNIaXN0b3J5LnN0YXRlKCkuaXNQYWdlQWxyZWFkeVZpc2l0ZWQsdmlzaWJsZVBhZ2U9YWpheEZpbHRlcnNIaXN0b3J5LnN0YXRlKCkudmlzaWJsZVBhZ2UpfTshZnVuY3Rpb24obil7bihkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXt2YXIgaSxyLHQ9bigiLmluc3RhbnRTZWFyY2hSZXNvdXJjZUVsZW1lbnQiKTswIT09dC5sZW5ndGgmJigoMDxuKCIjaW5zdGFudC1zZWFyY2gtY2F0ZWdvcmllcyIpLmxlbmd0aHx8MDxuKCIjaW5zdGFudC1zZWFyY2gtbWFudWZhY3R1cmVycyIpLmxlbmd0aHx8MDxuKCIjaW5zdGFudC1zZWFyY2gtdmVuZG9ycyIpLmxlbmd0aCkmJihuKCIuc2VhcmNoLWJveC10ZXh0IikuYWRkQ2xhc3MoIm5hcnJvdyIpLG4oIi5zdG9yZS1zZWFyY2gtYm94IikuYWRkQ2xhc3MoIndpdGgtY2FyZWdvcnktc2VhcmNoLWVuYWJsZWQiKSksaT1wYXJzZUludCh0LmF0dHIoImRhdGEtbnVtYmVyT2ZWaXNpYmxlUHJvZHVjdHMiKSkscj1uKCIuaW5zdGFudFNlYXJjaFJlc291cmNlRWxlbWVudCIpLmF0dHIoImRhdGEtbm9SZXN1bHRzUmVzb3VyY2VUZXh0IiksbigiI3NtYWxsLXNlYXJjaHRlcm1zIikua2VuZG9BdXRvQ29tcGxldGUoe2hpZ2hsaWdodEZpcnN0OiJ0cnVlIj09PXQuYXR0cigiZGF0YS1oaWdobGlnaHRGaXJzdEZvdW5kRWxlbWVudCIpLG1pbkxlbmd0aDpwYXJzZUludCh0LmF0dHIoImRhdGEtbWluS2V5d29yZExlbmd0aCIpKXx8MCxlbmZvcmNlTWluTGVuZ3RoOiEwLGRhdGFUZXh0RmllbGQ6IlByb2R1Y3ROYW1lIixmaWx0ZXI6ImNvbnRhaW5zIixub0RhdGFUZW1wbGF0ZTpyLHBvcHVwOnthcHBlbmRUbzpuKCIjc21hbGwtc2VhcmNoLWJveC1mb3JtIil9LHRlbXBsYXRlOmtlbmRvLnRlbXBsYXRlKG4oIiNpbnN0YW50U2VhcmNoSXRlbVRlbXBsYXRlIikuaHRtbCgpKSxoZWlnaHQ6ImF1dG8iLGRhdGFTb3VyY2U6bmV3IGtlbmRvLmRhdGEuRGF0YVNvdXJjZSh7c2VydmVyRmlsdGVyaW5nOiEwLHNjaGVtYTp7ZGF0YToiUHJvZHVjdHMifSxyZXF1ZXN0U3RhcnQ6ZnVuY3Rpb24oKXtuKCIjc21hbGwtc2VhcmNodGVybXMiKS5hZGRDbGFzcygiaW5zdGFudC1zZWFyY2gtYnVzeSIpfSxjaGFuZ2U6ZnVuY3Rpb24oKXtuKCIjc21hbGwtc2VhcmNodGVybXMiKS5yZW1vdmVDbGFzcygiaW5zdGFudC1zZWFyY2gtYnVzeSIpfSx0cmFuc3BvcnQ6e3JlYWQ6e3VybDp0LmF0dHIoImRhdGEtaW5zdGFudFNlYXJjaFVybCIpLGNvbXBsZXRlOmZ1bmN0aW9uKHQpe3Quc3VjY2VzcyhmdW5jdGlvbih0KXt2YXIgaT1uKCIjaW5zdGFudFNlYXJjaFNob3dBbGwiKTswPGkubGVuZ3RoJiZpLnJlbW92ZSgpO24oIiNzbWFsbC1zZWFyY2h0ZXJtcy1saXN0IikuYXBwZW5kKHQuU2hvd0FsbEJ1dHRvbkh0bWwpO24oIiNpbnN0YW50U2VhcmNoU2hvd0FsbCIpLm9uKCJjbGljayIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpO24oIi5zZWFyY2gtYm94LWJ1dHRvbiIpLmNsaWNrKCl9KX0pfX0scGFyYW1ldGVyTWFwOmZ1bmN0aW9uKCl7cmV0dXJue3E6bigiI3NtYWxsLXNlYXJjaHRlcm1zIikudmFsKCksY2F0ZWdvcnlJZDpuKCIjaW5zdGFudC1zZWFyY2gtY2F0ZWdvcmllcyIpLnZhbCgpLG1hbnVmYWN0dXJlcklkOm4oIiNpbnN0YW50LXNlYXJjaC1tYW51ZmFjdHVyZXJzIikudmFsKCksdmVuZG9ySWQ6bigiI2luc3RhbnQtc2VhcmNoLXZlbmRvcnMiKS52YWwoKX19fX0pLGNoYW5nZTpmdW5jdGlvbigpe3ZhciB0PW4oIi5rLWxpc3QiKS5maW5kKCIuay1zdGF0ZS1zZWxlY3RlZCIpLmZpbmQoIi5pbnN0YW50LXNlYXJjaC1pdGVtIikuYXR0cigiZGF0YS11cmwiKTt2b2lkIDA9PT10fHxzZXRMb2NhdGlvbih0KX0sZGF0YUJvdW5kOmZ1bmN0aW9uKCl7bigiI3NtYWxsLXNlYXJjaHRlcm1zIikuZGF0YSgia2VuZG9BdXRvQ29tcGxldGUiKS5saXN0LnBhcmVudCgiLmstYW5pbWF0aW9uLWNvbnRhaW5lciIpLmFkZENsYXNzKCJpbnN0YW50U2VhcmNoIik7KDA8bigiI2luc3RhbnQtc2VhcmNoLWNhdGVnb3JpZXMiKS5sZW5ndGh8fDA8bigiI2luc3RhbnQtc2VhcmNoLW1hbnVmYWN0dXJlcnMiKS5sZW5ndGh8fDA8bigiI2luc3RhbnQtc2VhcmNoLXZlbmRvcnMiKS5sZW5ndGgpJiZuKCIuay1hbmltYXRpb24tY29udGFpbmVyIikuYWRkQ2xhc3MoInJlc2l6ZSIpLGZ1bmN0aW9uKCl7dmFyIHI9bigiI3NtYWxsLXNlYXJjaHRlcm1zX2xpc3Rib3giKS5jaGlsZHJlbigpLnNsaWNlKDAsaSksdT0wLHQ7aWYoci5sZW5ndGg9PT1pKWZvcih0PTA7dDxyLmxlbmd0aDt0KyspdSs9bihyW3RdKS5vdXRlckhlaWdodCgpOzA8dSYmbigiI3NtYWxsLXNlYXJjaHRlcm1zLWxpc3QiKS5jc3MoImhlaWdodCIsdSl9KCl9fSksImZhbHNlIj09PXQuYXR0cigiZGF0YS1oaWdobGlnaHRGaXJzdEZvdW5kRWxlbWVudCIpJiZuKCIjc21hbGwtc2VhcmNoLWJveC1mb3JtIikub24oImtleWRvd24iLGZ1bmN0aW9uKHQpezEzPT09dC5rZXlDb2RlJiZuKHRoaXMpLnN1Ym1pdCgpfSksbigiI3NtYWxsLXNlYXJjaC1ib3gtZm9ybSIpLnN1Ym1pdChmdW5jdGlvbihpKXt2YXIgdSxmLGUsbyxzPW4oIiNpbnN0YW50LXNlYXJjaC1jYXRlZ29yaWVzIikudmFsKCl8fDAsaD1uKCIjaW5zdGFudC1zZWFyY2gtbWFudWZhY3R1cmVycyIpLnZhbCgpfHwwLGM9bigiI2luc3RhbnQtc2VhcmNoLXZlbmRvcnMiKS52YWwoKXx8MCxyPW4oIiNzbWFsbC1zZWFyY2h0ZXJtcyIpLnZhbCgpO3ImJih1PXQuYXR0cigiZGF0YS1zZWFyY2hJblByb2R1Y3REZXNjcmlwdGlvbnMiKSxmPTA8c3x8MDxofHwwPGN8fHUsZT10LmF0dHIoImRhdGEtc2VhcmNoUGFnZVVybCIpLG89ZW5jb2RlVVJJQ29tcG9uZW50KHIpLHI9dC5hdHRyKCJkYXRhLWRlZmF1bHRQcm9kdWN0U29ydE9wdGlvbiIpLHdpbmRvdy5sb2NhdGlvbi5ocmVmPWUrIj9hZHZzPSIrZisiJmNpZD0iK3MrIiZtaWQ9IitoKyImdmlkPSIrYysiJnE9IitvKyImc2lkPSIrdSsiJmlzYz10cnVlJm9yZGVyQnk9IityKTtpLnByZXZlbnREZWZhdWx0KCl9KSl9KX0oalF1ZXJ5KTshZnVuY3Rpb24obix0LGkscil7ZnVuY3Rpb24gYygpe3JldHVybiBpLmdldEF0dHJWYWxGcm9tRG9tKHUsImRhdGEtcHJvZHVjdEJveFByb2R1Y3RJdGVtRWxlbWVudFNlbGVjdG9yIil9ZnVuY3Rpb24gbChuKXtyZXR1cm4gaS5nZXRBdHRyVmFsRnJvbURvbShuLCJ2YWx1ZSIpfHxuLnRleHQoKX1mdW5jdGlvbiBmKCl7cmV0dXJuImJvZHkifWZ1bmN0aW9uIG50KCl7dmFyIGU9aS5nZXRBdHRyVmFsRnJvbURvbSh1LCJkYXRhLXByb2R1Y3RQYWdlQWRkVG9DYXJ0QnV0dG9uU2VsZWN0b3IiKSxvPWkuZ2V0QXR0clZhbEZyb21Eb20odSwiZGF0YS1wcm9kdWN0Qm94QWRkVG9DYXJ0QnV0dG9uU2VsZWN0b3IiKSxuPVtdLGY9W107cmV0dXJuIHQoZSkuZWFjaChmdW5jdGlvbigpe3ZhciB1LHI7dCh0aGlzKS5pcygiLm5vcEFqYXhDYXJ0UHJvZHVjdFZhcmlhbnRBZGRUb0NhcnRCdXR0b24iKXx8KHI9aS5nZXRBdHRyVmFsRnJvbURvbSh0aGlzLCJkYXRhLXByb2R1Y3RpZCIsMCkpJiYwPHImJih1PXtwcm9kdWN0SWQ6cixpc1Byb2R1Y3RQYWdlOiEwLGJ1dHRvbkVsZW1lbnQ6dCh0aGlzKX0scj17cHJvZHVjdElkOnIsaXNQcm9kdWN0UGFnZTohMCxidXR0b25WYWx1ZTpsKHQodGhpcykpfSxuLnB1c2godSksZi5wdXNoKHIpKX0pLHQobykuZWFjaChmdW5jdGlvbigpe3ZhciB1LGU7dCh0aGlzKS5pcygiLm5vcEFqYXhDYXJ0UHJvZHVjdExpc3RBZGRUb0NhcnRCdXR0b24iKXx8KHU9dCh0aGlzKSwodT0oZT1jKCkpPT1yfHwiIj09PWU/MDppLmdldEF0dHJWYWxGcm9tRG9tKHQodSkucGFyZW50cyhlKSwiZGF0YS1wcm9kdWN0aWQiLDApKSYmMDx1JiYodT17cHJvZHVjdElkOnUsaXNQcm9kdWN0UGFnZTohKGU9e3Byb2R1Y3RJZDp1LGlzUHJvZHVjdFBhZ2U6ITEsYnV0dG9uRWxlbWVudDp0KHRoaXMpfSksYnV0dG9uVmFsdWU6bCh0KHRoaXMpKX0sbi5wdXNoKGUpLGYucHVzaCh1KSkpfSkse2FkZFRvQ2FydEJ1dHRvbnM6bixidXR0b25zUGFyYW1ldGVyczpmfX1mdW5jdGlvbiBhKCl7ZigpO3ZhciBuPXQoImJvZHkiKTswPG4ubGVuZ3RoJiZ0KCIubm9wQWpheENhcnRQYW5lbEFqYXhCdXN5IikuaGVpZ2h0KG4uaGVpZ2h0KCkpLndpZHRoKG4ud2lkdGgoKSkuc2hvdygpfWZ1bmN0aW9uIHR0KG4pe3ZhciBpO24/MDx0KCIubWluaVByb2R1Y3REZXRhaWxzVmlldyIpLmxlbmd0aCYmKGk9dCgiLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXciKS5wYXJlbnQoKS5oZWlnaHQoKSxuPXQoIi5taW5pUHJvZHVjdERldGFpbHNWaWV3IikucGFyZW50KCkud2lkdGgoKSx0KCIubWluaVByb2R1Y3REZXRhaWxzVmlldyAubWluaVByb2R1Y3REZXRhaWxzUGFuZWxBamF4QnVzeSIpLmhlaWdodChpLTEwKS53aWR0aChuLTEwKS5zaG93KCkpOmEoKX1mdW5jdGlvbiBlKCl7dCgiLm5vcEFqYXhDYXJ0UGFuZWxBamF4QnVzeSIpLmhpZGUoKX1mdW5jdGlvbiBpdChuKXtuP3QoIi5taW5pUHJvZHVjdERldGFpbHNWaWV3IC5taW5pUHJvZHVjdERldGFpbHNQYW5lbEFqYXhCdXN5IikuaGlkZSgpOmUoKX1mdW5jdGlvbiBvKCl7dmFyIG49bnQoKSxyPW4uYnV0dG9uc1BhcmFtZXRlcnM7MDxyLmxlbmd0aCYmdC5hamF4KHtjYWNoZTohMSx0eXBlOiJQT1NUIixkYXRhOnQudG9KU09OKHIpLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04Iix1cmw6aS5nZXRBdHRyVmFsRnJvbURvbSh1LCJkYXRhLWdldEFqYXhDYXJ0QnV0dG9uVXJsIil9KS5kb25lKGZ1bmN0aW9uKHIpe3ZhciBmLGUsdSxvO2lmKCIiIT09cil7Zm9yKGY9MDtmPG4uYWRkVG9DYXJ0QnV0dG9ucy5sZW5ndGg7ZisrKWU9cix1PW4uYWRkVG9DYXJ0QnV0dG9uc1tmXSxvPXZvaWQgMCwwPChvPXQoZSkuZmlsdGVyKCJkaXZbZGF0YS1wcm9kdWN0SWQ9JyIrdS5wcm9kdWN0SWQrIiddIikpLmxlbmd0aCYmKGU9aS5nZXRBdHRyVmFsRnJvbURvbShvLCJkYXRhLWlzUHJvZHVjdFBhZ2UiKSkmJmU9PT11LmlzUHJvZHVjdFBhZ2UudG9TdHJpbmcoKSYmKHQodS5idXR0b25FbGVtZW50KS5wYXJlbnRzKCIucHJvZHVjdC1pdGVtLCAuYWRkLXRvLWNhcnQiKS5hZGRDbGFzcygic2V2ZW5zcGlrZXMtYWpheGNhcnQiKSx0KHUuYnV0dG9uRWxlbWVudCkucmVwbGFjZVdpdGgob1swXSkpO3QuZXZlbnQudHJpZ2dlcih7dHlwZToibm9wQWpheENhcnRCdXR0b25zQWRkZWRFdmVudCJ9KX19KX1mdW5jdGlvbiB2KCl7dmFyIG49Ii5ibG9jay5ibG9jay1zaG9wcGluZ2NhcnQiOzA8dChuKS5sZW5ndGgmJnQuYWpheCh7Y2FjaGU6ITEsdHlwZToiR0VUIix1cmw6aS5nZXRIaWRkZW5WYWxGcm9tRG9tKCIjbWluaVNob3BwaW5nQ2FydFVybCIpfSkuZG9uZShmdW5jdGlvbihpKXtpPXQoaSkuZmlsdGVyKG4pO3QobikucmVwbGFjZVdpdGgoaSk7dC5ldmVudC50cmlnZ2VyKHt0eXBlOiJub3BBamF4Q2FydE1pbmlTaG9wcGluZ0NhcnRVcGRhdGVkIn0pfSl9ZnVuY3Rpb24gcnQobil7bj0nPGRpdiBjbGFzcz0ibWluaVByb2R1Y3REZXRhaWxzUGFuZWxBamF4QnVzeSI+PFwvZGl2PjxkaXYgY2xhc3M9ImNsZWFyIj48XC9kaXY+JytuO249dCgiLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXciKS5kYXRhKCJrZW5kb1dpbmRvdyIpLmNvbnRlbnQobik7bi5jZW50ZXIoKTtuLm9wZW4oKTt0KGRvY3VtZW50KS5vbigiYWpheENhcnQucHJvZHVjdF9hdHRyaWJ1dGVzX2NoYW5nZWQiLGZ1bmN0aW9uKG4pe3ZhciB0O24uY2hhbmdlZERhdGEmJm4uY2hhbmdlZERhdGEucGljdHVyZURlZmF1bHRTaXplVXJsJiYodD1uLmNoYW5nZWREYXRhLnBpY3R1cmVEZWZhdWx0U2l6ZVVybCxuLmVsZW1lbnQuZmluZCgiLnByb2R1Y3Qtb3ZlcnZpZXctbGluZSIpLmZpbmQoIi5waWN0dXJlIGltZyIpLmF0dHIoInNyYyIsdCkpfSl9ZnVuY3Rpb24gdXQobixyLHUpe249e3Byb2R1Y3RJZDpuLGlzQWRkVG9DYXJ0QnV0dG9uOnV9O3U9aS5nZXRIaWRkZW5WYWxGcm9tRG9tKCIjZ2V0TWluaVByb2R1Y3REZXRhaWxzVmlld1VybCIpO3QuYWpheCh7Y2FjaGU6ITEsImFzeW5jIjohMSx0eXBlOiJQT1NUIixkYXRhOm4sdXJsOnV9KS5kb25lKGZ1bmN0aW9uKG4pe3ZhciB1O3J0KG4pO3U9cjswPChuPWkuZ2V0QXR0clZhbEZyb21Eb20oIi5taW5pUHJvZHVjdERldGFpbHNWaWV3IC5taW5pUHJvZHVjdERldGFpbHNWaWV3QWRkVG9DYXJ0QnV0dG9uLCAubWluaVByb2R1Y3REZXRhaWxzVmlldyAubm9wQWpheENhcnRQcm9kdWN0VmFyaWFudEFkZFRvV2lzaGxpc3RCdXR0b24iLCJkYXRhLXByb2R1Y3RJZCIsMCkpJiYoKG49dCgiLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXcgI2FkZHRvY2FydF8iK24rIl9FbnRlcmVkUXVhbnRpdHkiKSkuaXMoInNlbGVjdCIpJiYobi5maW5kKCJvcHRpb25bdmFsdWU9Iit1KyJdIikubGVuZ3RofHwodT1uLmZpbmQoIm9wdGlvbjpmaXJzdCIpLnZhbCgpKSksbi52YWwodSkpO3QuZXZlbnQudHJpZ2dlcih7dHlwZToibm9wQWpheENhcnRNaW5pUHJvZHVjdERldGFpbHNWaWV3U2hvd24ifSl9KX1mdW5jdGlvbiB5KCl7dmFyIHI9aS5nZXRIaWRkZW5WYWxGcm9tRG9tKCIjZmx5b3V0U2hvcHBpbmdDYXJ0UGFuZWxTZWxlY3RvciIpO24uc2hvdWxkUmVmcmVzaEZseW91dENhcnQmJjA8dChyKS5sZW5ndGgmJnQuYWpheCh7Y2FjaGU6ITEsdHlwZToiR0VUIix1cmw6aS5nZXRIaWRkZW5WYWxGcm9tRG9tKCIjZmx5b3V0U2hvcHBpbmdDYXJ0VXJsIil9KS5kb25lKGZ1bmN0aW9uKG4pe249dChuKS5maWx0ZXIocik7dChyKS5yZXBsYWNlV2l0aChuKTt0LmV2ZW50LnRyaWdnZXIoe3R5cGU6Im5vcEFqYXhDYXJ0Rmx5b3V0U2hvcHBpbmdDYXJ0VXBkYXRlZCJ9KX0pfWZ1bmN0aW9uIHAoKXt2YXIgbj1pLmdldEhpZGRlblZhbEZyb21Eb20oIiNzaG9wcGluZ0NhcnRCb3hQYW5lbFNlbGVjdG9yIik7MDx0KG4pLmxlbmd0aCYmdC5hamF4KHtjYWNoZTohMSx0eXBlOiJHRVQiLHVybDppLmdldEhpZGRlblZhbEZyb21Eb20oIiNzaG9wcGluZ0NhcnRCb3hVcmwiKX0pLmRvbmUoZnVuY3Rpb24oaSl7aT10KGkpLmZpbmQobik7dChuKS5yZXBsYWNlV2l0aChpKTt0LmV2ZW50LnRyaWdnZXIoe3R5cGU6Im5vcEFqYXhDYXJ0U2hvcHBpbmdDYXJ0Qm94VXBkYXRlZCJ9KX0pfWZ1bmN0aW9uIHcobil7dmFyIHI9Jy5oZWFkZXItbGlua3MgYVtocmVmPSIvY2FydCJdJyx1PWkuZ2V0SGlkZGVuVmFsRnJvbURvbSgiI3Nob3BwaW5nQ2FydE1lbnVMaW5rU2VsZWN0b3IiKTswPHQoIiNzaG9wcGluZ0NhcnRNZW51TGlua1NlbGVjdG9yIikubGVuZ3RoJiYiIiE9PXUmJihyPXUscj10KCI8ZGl2Lz4iKS5odG1sKHIpLnRleHQoKSk7dChyKS5lYWNoKGZ1bmN0aW9uKGkscil7dmFyIHU9dChyKS5odG1sKCksdT0vXGQrLy5leGVjKHUpLHU9cGFyc2VJbnQodSkrcGFyc2VJbnQobiksdT10KCIuYWpheENhcnRJbmZvIikuYXR0cigiZGF0YS1taW5pU2hvcHBpbmdDYXJ0UXVhdGl0eUZvcm1hdHRpbmdSZXNvdXJjZSIpLnJlcGxhY2UoInswfSIsdSk7dChyKS5odG1sKHUpfSl9ZnVuY3Rpb24gYihuKXt2YXIgcj0ic3Bhbi53aXNobGlzdC1xdHkiLHU9aS5nZXRIaWRkZW5WYWxGcm9tRG9tKCIjd2lzaGxpc3RNZW51TGlua1NlbGVjdG9yIik7MDx0KHUpLmxlbmd0aCYmKHI9dSk7dChyKS5lYWNoKGZ1bmN0aW9uKGkscil7dmFyIHU9dChyKS5odG1sKCksdT0vXGQrLy5leGVjKHUpLHU9cGFyc2VJbnQodSkrcGFyc2VJbnQobiksdT10KCIuYWpheENhcnRJbmZvIikuYXR0cigiZGF0YS1taW5pV2lzaGxpc3RRdWF0aXR5Rm9ybWF0dGluZ1Jlc291cmNlIikucmVwbGFjZSgiezB9Iix1KTt0KHIpLmh0bWwodSl9KX1mdW5jdGlvbiBzKG4pe3ZhciBpPXQoIi5hamF4Q2FydEluZm8iKS5hdHRyKCJkYXRhLXVzZU5vcE5vdGlmaWNhdGlvbiIpLHI9dCgiLmFqYXhDYXJ0SW5mbyIpLmF0dHIoImRhdGEtbm9wTm90aWZpY2F0aW9uQ2FydFJlc291cmNlIik7aSYmIlRydWUiPT09aT9kaXNwbGF5QmFyTm90aWZpY2F0aW9uKHIsInN1Y2Nlc3MiLDM1MDApOih0KCIucHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93IikuaHRtbCh0KG4pLmh0bWwoKSksKG49dCgiLnByb2R1Y3RBZGRlZFRvQ2FydFdpbmRvdyIpLmRhdGEoImtlbmRvV2luZG93IikpLmNlbnRlcigpLG4ub3BlbigpKX1mdW5jdGlvbiBrKG4saSl7dmFyIHI9dCgiLmFkZFByb2R1Y3RUb0NhcnRFcnJvcnMiKS5kYXRhKCJrZW5kb1dpbmRvdyIpO3J8fChyPXQoIi5hZGRQcm9kdWN0VG9DYXJ0RXJyb3JzIikua2VuZG9XaW5kb3coe2RyYWdnYWJsZTohMSxyZXNpemFibGU6ITEsd2lkdGg6IjMwMHB4IixoZWlnaHQ6IjEwMHB4Iixtb2RhbDohMCxhY3Rpb25zOlsiQ2xvc2UiXSxhbmltYXRpb246ITEsdmlzaWJsZTohMSx0aXRsZTppfSkuZGF0YSgia2VuZG9XaW5kb3ciKSkud3JhcHBlci5hZGRDbGFzcygiYWpheENhcnQiKTtyLmNvbnRlbnQobik7ci5jZW50ZXIoKTtyLm9wZW4oKTt0KGRvY3VtZW50KS5vbigiY2xpY2siLCIuay1vdmVybGF5IixmdW5jdGlvbigpe3IuY2xvc2UoKX0pfWZ1bmN0aW9uIGQocix1LGYsbyxoLGMpe3ZhciBsPXtwcm9kdWN0SWQ6byxxdWFudGl0eTpoLGlzQWRkVG9DYXJ0QnV0dG9uOmZ9O3JldHVybiBjPyhlKCksdm9pZChuLndhaXRGb3JBamF4UmVxdWVzdD0hMSkpOnIuSGFzUHJvZHVjdEF0dHJpYnV0ZXM/KHV0KG8saCxmKSxlKCksdm9pZChuLndhaXRGb3JBamF4UmVxdWVzdD0hMSkpOnZvaWQgdC5hamF4KHtjYWNoZTohMSx0eXBlOiJQT1NUIixkYXRhOmwsdXJsOmkuZ2V0SGlkZGVuVmFsRnJvbURvbSgiI2FkZFByb2R1Y3RUb0NhcnRVcmwiKX0pLmRvbmUoZnVuY3Rpb24obil7InN1Y2Nlc3MiPT09bi5TdGF0dXM/Zj8odigpLHkoKSxwKCksdyhoKSxzKG4uUHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93KSx0LmV2ZW50LnRyaWdnZXIoe3R5cGU6Im5vcEFqYXhDYXJ0UHJvZHVjdEFkZGVkVG9DYXJ0RXZlbnQiLHByb2R1Y3RJZDpvLHF1YW50aXR5Omh9KSk6KGIoaCkscyhuLlByb2R1Y3RBZGRlZFRvQ2FydFdpbmRvdyksdC5ldmVudC50cmlnZ2VyKHt0eXBlOiJub3BBamF4Q2FydFByb2R1Y3RBZGRlZFRvV2lzaGxpc3RFdmVudCIscHJvZHVjdElkOm8scXVhbnRpdHk6aH0pKToid2FybmluZyI9PT1uLlN0YXR1cz9rKG4uQWRkVG9DYXJ0V2FybmluZ3Msbi5Qb3B1cFRpdGxlKToiZXJyb3IiPT09bi5TdGF0dXMmJmsobi5FcnJvck1lc3NhZ2Usbi5Qb3B1cFRpdGxlKX0pLmFsd2F5cyhmdW5jdGlvbigpe2UoKTtuLndhaXRGb3JBamF4UmVxdWVzdD0hMX0pfWZ1bmN0aW9uIGcocix1KXt2YXIgZSxzLG8sZjtuLndhaXRGb3JBamF4UmVxdWVzdHx8KG4ud2FpdEZvckFqYXhSZXF1ZXN0PSEwLGU9aS5nZXRBdHRyVmFsRnJvbURvbShyLmN1cnJlbnRUYXJnZXQsImRhdGEtcHJvZHVjdElkIil8fHQoci5jdXJyZW50VGFyZ2V0KS5wYXJlbnRzKCIucHJvZHVjdC1pdGVtIikuYXR0cigiZGF0YS1wcm9kdWN0aWQiKSxvPXIuY3VycmVudFRhcmdldCxmPTEsIiI9PT0ocj1pLmdldEF0dHJWYWxGcm9tRG9tKG8sImRhdGEtcHJvZHVjdElkIil8fHQobykucGFyZW50cygiLnByb2R1Y3QtaXRlbSIpLmF0dHIoImRhdGEtcHJvZHVjdGlkIil8fCIiKXx8MDwocj10KG8pLnBhcmVudHMoIi5wcm9kdWN0LWl0ZW0iKS5maW5kKCJbZGF0YS1xdWFudGl0eXByb2R1Y3RpZD0iK3IrIl0iKSkubGVuZ3RoJiYwPChyPXIudmFsKCkpJiYoZj1yKSxmPXtwcm9kdWN0SWQ6ZSxxdWFudGl0eTpzPWZ9LGEoKSx0LmFqYXgoe2NhY2hlOiExLHR5cGU6IlBPU1QiLGRhdGE6Zix1cmw6aS5nZXRIaWRkZW5WYWxGcm9tRG9tKCIjY2hlY2tQcm9kdWN0QXR0cmlidXRlc1VybCIpfSkuZG9uZShmdW5jdGlvbihuKXtkKG4sMCx1LGUscywhMSl9KS5mYWlsKGZ1bmN0aW9uKCl7ZChkYXRhLDAsdSxlLHMsITApfSkpfWZ1bmN0aW9uIGgodSxlLG8pe3ZhciBhLGwsYyxrLGg7ZT09ciYmKGU9ITEpO24ud2FpdEZvckFqYXhSZXF1ZXN0fHwobi53YWl0Rm9yQWpheFJlcXVlc3Q9ITAsaD10KHUuY3VycmVudFRhcmdldCksYT1pLmdldEF0dHJWYWxGcm9tRG9tKHUuY3VycmVudFRhcmdldCwiZGF0YS1wcm9kdWN0SWQiKXx8dCh1LmN1cnJlbnRUYXJnZXQpLnBhcmVudHMoIi5wcm9kdWN0LWl0ZW0iKS5hdHRyKCJkYXRhLXByb2R1Y3RpZCIpLGM9aCxrPTEsIiI9PT0oYz1pLmdldEF0dHJWYWxGcm9tRG9tKGMsImRhdGEtcHJvZHVjdElkIikpfHwwPChjPXQoIiNhZGR0b2NhcnRfIitjKyJfRW50ZXJlZFF1YW50aXR5IikpLmxlbmd0aCYmMDwoYz1jLnZhbCgpKSYmKGs9YyksbD1rLDA9PT0oaD1oLmNsb3Nlc3QoImZvcm0iKS5zZXJpYWxpemUoKSkubGVuZ3RoJiYoZigpLGg9dCgiYm9keSIpLmZpbmQoImZvcm0iKS5zZXJpYWxpemUoKSksMCE9PShoPShoPWgucmVwbGFjZShuZXcgUmVnRXhwKCJhamF4Q2FydF9wcm9kdWN0X2F0dHJpYnV0ZSIsImciKSwicHJvZHVjdF9hdHRyaWJ1dGUiKSkucmVwbGFjZShuZXcgUmVnRXhwKCJxdWlja1ZpZXdfcHJvZHVjdF9hdHRyaWJ1dGUiLCJnIiksInByb2R1Y3RfYXR0cmlidXRlIikpLmxlbmd0aCYmKGgrPSImIiksaCs9InByb2R1Y3RJZD0iK2EsaCs9IiZpc0FkZFRvQ2FydEJ1dHRvbj0iK28sdHQoZSksdC5hamF4KHtjYWNoZTohMSx0eXBlOiJQT1NUIixkYXRhOmgsdXJsOmkuZ2V0SGlkZGVuVmFsRnJvbURvbSgiI2FkZFByb2R1Y3RWYXJpYW50VG9DYXJ0VXJsIil9KS5kb25lKGZ1bmN0aW9uKG4pe3ZhciBmLGgsaSxyOyJ3YXJuaW5nIj09PW4uU3RhdHVzfHwiZXJyb3IiPT09bi5TdGF0dXM/KGk9dCh1LmN1cnJlbnRUYXJnZXQpLmNsb3Nlc3QoIi5vdmVydmlldyIpLGY9bi5BZGRUb0NhcnRXYXJuaW5ncyxoPW4uUG9wdXBUaXRsZSxpPWksZT8oMDxpLmxlbmd0aD9pLmZpbmQoIi5tZXNzYWdlLWVycm9yIik6dCgiLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXcgLm1lc3NhZ2UtZXJyb3IiKSkuaHRtbChmKTooKHI9dCgiLmFkZFByb2R1Y3RWYXJpYW50VG9DYXJ0RXJyb3JzIikuZGF0YSgia2VuZG9XaW5kb3ciKSl8fChyPXQoIi5hZGRQcm9kdWN0VmFyaWFudFRvQ2FydEVycm9ycyIpLmZpcnN0KCkua2VuZG9XaW5kb3coe2RyYWdnYWJsZTohMSxyZXNpemFibGU6ITEsd2lkdGg6IjMwMHB4Iixtb2RhbDohMCxhY3Rpb25zOlsiQ2xvc2UiXSxhbmltYXRpb246ITEsdmlzaWJsZTohMSx0aXRsZTpofSkuZGF0YSgia2VuZG9XaW5kb3ciKSkud3JhcHBlci5hZGRDbGFzcygiYWpheENhcnQiKSxyLmNvbnRlbnQoZiksci5jZW50ZXIoKSxyLm9wZW4oKSx0KGRvY3VtZW50KS5vbigiY2xpY2siLCIuay1vdmVybGF5IixmdW5jdGlvbigpe3IuY2xvc2UoKX0pKSk6KGk9Im5vcEFqYXhDYXJ0UHJvZHVjdEFkZGVkVG9DYXJ0RXZlbnQiLGg9bz8odigpLHAoKSx3KGwpLHkoKSx0KCIuYWpheENhcnRJbmZvIikuYXR0cigiZGF0YS1ub3BOb3RpZmljYXRpb25DYXJ0UmVzb3VyY2UiKSk6KGIobCkscyhuLlByb2R1Y3RBZGRlZFRvQ2FydFdpbmRvdyksaT0ibm9wQWpheENhcnRQcm9kdWN0QWRkZWRUb1dpc2hsaXN0RXZlbnQiLHQoIi5hamF4Q2FydEluZm8iKS5hdHRyKCJkYXRhLW5vcE5vdGlmaWNhdGlvbldpc2hsaXN0UmVzb3VyY2UiKSksZSYmdCgiLm1pbmlQcm9kdWN0RGV0YWlsc1ZpZXciKS5kYXRhKCJrZW5kb1dpbmRvdyIpLmNsb3NlKCksKGY9dCgiLmFqYXhDYXJ0SW5mbyIpLmF0dHIoImRhdGEtdXNlTm9wTm90aWZpY2F0aW9uIikpJiYiVHJ1ZSI9PT1mP2Rpc3BsYXlCYXJOb3RpZmljYXRpb24oaCwic3VjY2VzcyIsMzUwMCk6cyhuLlByb2R1Y3RBZGRlZFRvQ2FydFdpbmRvdyksdC5ldmVudC50cmlnZ2VyKHt0eXBlOmkscHJvZHVjdElkOmEscXVhbnRpdHk6bH0pKX0pLmFsd2F5cyhmdW5jdGlvbigpe2l0KGUpO24ud2FpdEZvckFqYXhSZXF1ZXN0PSExfSkpfXZhciB1PSIuYWpheENhcnRJbmZvIjtuLnNob3VsZFJlZnJlc2hGbHlvdXRDYXJ0PSEwO24ud2FpdEZvckFqYXhSZXF1ZXN0PSExO24ucmVwbGFjZUFkZFRvQ2FydEJ1dHRvbnNFeHRlcm5hbD1vO24uY2xvc2VQcm9kdWN0QWRkZWRUb0NhcnRXaW5kb3c9ZnVuY3Rpb24oKXt2YXIgbj10KCIucHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93IikuZGF0YSgia2VuZG9XaW5kb3ciKTtuJiZuLmNsb3NlKCl9O3QoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7bygpLGZ1bmN0aW9uKCl7ZigpO3ZhciBuPXQoImJvZHkiKTswPT09bi5maW5kKCIubm9wQWpheENhcnRQYW5lbEFqYXhCdXN5IikubGVuZ3RoJiYobi5wcmVwZW5kKCc8ZGl2IGNsYXNzPSJub3BBamF4Q2FydFBhbmVsQWpheEJ1c3kiPjxcL2Rpdj4nKSx0KCIubm9wQWpheENhcnRQYW5lbEFqYXhCdXN5IikuaGlkZSgpKX0oKSxmdW5jdGlvbigpe3ZhciBuLHUsaSxyO2YoKTtpPXQoImJvZHkiKTswPGkubGVuZ3RoJiYoKG49ZnVuY3Rpb24obil7MD09PXQobikubGVuZ3RoJiZpLnByZXBlbmQoJzxkaXYgY2xhc3M9IicrbisnIj48XC9kaXY+Jyl9KSgiYWRkUHJvZHVjdFRvQ2FydEVycm9ycyIpLG4oImFkZFByb2R1Y3RWYXJpYW50VG9DYXJ0RXJyb3JzIiksbigibWluaVByb2R1Y3REZXRhaWxzVmlldyIpLG4oInByb2R1Y3RBZGRlZFRvQ2FydFdpbmRvdyIpLCh1PXQoIi5taW5pUHJvZHVjdERldGFpbHNWaWV3Iikua2VuZG9XaW5kb3coe2RyYWdnYWJsZTohMSxyZXNpemFibGU6ITEsbW9kYWw6ITAsYWN0aW9uczpbIkNsb3NlIl0sYW5pbWF0aW9uOiExLHZpc2libGU6ITF9KS5kYXRhKCJrZW5kb1dpbmRvdyIpKS53cmFwcGVyLmFkZENsYXNzKCJhamF4Q2FydCIpLHQoZG9jdW1lbnQpLm9uKCJjbGljayIsIi5rLW92ZXJsYXkiLGZ1bmN0aW9uKCl7dS5jbG9zZSgpfSkpO3I9dCgiLnByb2R1Y3RBZGRlZFRvQ2FydFdpbmRvdyIpLmtlbmRvV2luZG93KHtkcmFnZ2FibGU6ITEscmVzaXphYmxlOiExLG1vZGFsOiEwLGFjdGlvbnM6WyJDbG9zZSJdLGFuaW1hdGlvbjohMSx2aXNpYmxlOiExfSkuZGF0YSgia2VuZG9XaW5kb3ciKTtyLndyYXBwZXIuYWRkQ2xhc3MoImFqYXhDYXJ0Iik7dChkb2N1bWVudCkub24oImNsaWNrIiwiLmstb3ZlcmxheSIsZnVuY3Rpb24oKXtyLmNsb3NlKCl9KX0oKTt0KCJib2R5Iikub24oImNsaWNrIiwiLm5vcEFqYXhDYXJ0UHJvZHVjdExpc3RBZGRUb0NhcnRCdXR0b24iLGZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKTtnKG4sITApfSk7dCgiYm9keSIpLm9uKCJjbGljayIsIi5ub3BBamF4Q2FydFByb2R1Y3RWYXJpYW50QWRkVG9DYXJ0QnV0dG9uIixmdW5jdGlvbihuKXtoKG4sdCh0aGlzKS5oYXNDbGFzcygibWluaVByb2R1Y3REZXRhaWxzVmlld0FkZFRvQ2FydEJ1dHRvbiIpLCEwKX0pO3QoImJvZHkiKS5vbigiY2xpY2siLCIubWluaVByb2R1Y3REZXRhaWxzVmlld0FkZFRvV2lzaGxpc3RCdXR0b24iLGZ1bmN0aW9uKG4pe2gobiwhMCwhMSl9KTt0KCJib2R5Iikub24oImNsaWNrIiwiLnByb2R1Y3RBZGRlZFRvQ2FydFdpbmRvdyAuY29udGludWVTaG9wcGluZ0xpbmsiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTtuLmNsb3NlUHJvZHVjdEFkZGVkVG9DYXJ0V2luZG93KCl9KTt0KGRvY3VtZW50KS5vbigibm9wQWpheENhcnRCdXR0b25zQWRkZWRFdmVudCIsZnVuY3Rpb24oKXt2YXIgcixmLGksbjtyPSJUcnVlIj09PShuPXQodSkpLmF0dHIoImRhdGEtZW5hYmxlT25Qcm9kdWN0UGFnZSIpO2Y9IlRydWUiPT09bi5hdHRyKCJkYXRhLWVuYWJsZU9uQ2F0YWxvZ1BhZ2VzIik7bj1uLmF0dHIoImRhdGEtYWRkVG9XaXNobGlzdEJ1dHRvblNlbGVjdG9yIik7dChuKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49dCh0aGlzKSxpPWMoKTswPG4ucGFyZW50cyhpKS5sZW5ndGg/ZiYmKG4ucHJvcCgib25jbGljayIsbnVsbCkub2ZmKCJjbGljayIpLG4ub24oImNsaWNrIixmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCk7ZyhuLCExKX0pKTpyJiYobi5wcm9wKCJvbmNsaWNrIixudWxsKS5vZmYoImNsaWNrIiksbi5vbigiY2xpY2siLGZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKTtoKG4sITEsITEpfSkpfSk7MCE9PShuPXQoIi5hamF4Q2FydEFsbG93ZWRRdWFudGl0ZXNIb3ZlciIpKS5sZW5ndGgmJihpPW4uYXR0cigiZGF0YS1wcm9kdWN0SXRlbVNlbGVjdG9yIiksdCgiLnByb2R1Y3RRdWFudGl0eURyb3Bkb3duIikub2ZmKCJtb3VzZWRvd24iKS5vbigibW91c2Vkb3duIixmdW5jdGlvbigpe3ZhciBuPXQodGhpcykuY2xvc2VzdChpKTtuLmFkZENsYXNzKCJhamF4LWNhcnQtcHJvZHVjdC1pdGVtLWhvdmVyIik7bj1uLmF0dHIoImRhdGEtcHJvZHVjdGlkIik7dCgiLnByb2R1Y3RRdWFudGl0eUNoYW5nZWQiK24pLnZhbCgieWVzIil9KSx0KGkpLm9mZigibW91c2VlbnRlciIpLm9uKCJtb3VzZWVudGVyIixmdW5jdGlvbigpe3ZhciBuPXQodGhpcykuYXR0cigiZGF0YS1wcm9kdWN0aWQiKSxuPXQoIi5wcm9kdWN0UXVhbnRpdHlDaGFuZ2VkIituKTsieWVzIj09PW4udmFsKCkmJm4udmFsKCJubyIpfSkub2ZmKCJtb3VzZWxlYXZlIikub24oIm1vdXNlbGVhdmUiLGZ1bmN0aW9uKCl7dmFyIG49dCh0aGlzKS5hdHRyKCJkYXRhLXByb2R1Y3RpZCIpOyJubyI9PT10KCIucHJvZHVjdFF1YW50aXR5Q2hhbmdlZCIrbikudmFsKCkmJnQodGhpcykucmVtb3ZlQ2xhc3MoImFqYXgtY2FydC1wcm9kdWN0LWl0ZW0taG92ZXIiKX0pKX0pO3QoZG9jdW1lbnQpLm9uKCJub3BBamF4RmlsdGVyc0ZpbHRyYXRpb25Db21wbGV0ZUV2ZW50IG5ld1Byb2R1Y3RzQWRkZWRUb1BhZ2VFdmVudCIsbyk7dChkb2N1bWVudCkub24oIm5vcFF1aWNrVmlld0RhdGFTaG93bkV2ZW50IixvKX0pfSh3aW5kb3cubm9wQWpheENhcnQ9d2luZG93Lm5vcEFqYXhDYXJ0fHx7fSxqUXVlcnksc2V2ZW5TcGlrZXNDb3JlKTshZnVuY3Rpb24obix0LGkpe2Z1bmN0aW9uIGUobix1LGUpe2lmKHUucHJvZHVjdEVsZW1lbnQpe2lmKGUpe2lmKCEobz1pLmdldEF0dHJWYWxGcm9tRG9tKHIsImRhdGEtcHJvZHVjdFBhZ2VCdWdQaWN0dXJlQ29udGFpbmVyU2VsZWN0b3IiKSkpcmV0dXJufWVsc2UgaWYoIShvPWkuZ2V0QXR0clZhbEZyb21Eb20ociwiZGF0YS1wcm9kdWN0Qm94UGljdHVyZUNvbnRhaW5lclNlbGVjdG9yIikpKXJldHVybjt2YXIgcyxvPXUucHJvZHVjdEVsZW1lbnQuZmluZChvKTtvLnBhcmVudCgpLmhhc0NsYXNzKGYpfHxvJiZ1LnByb2R1Y3RJZCYmMDx1LnByb2R1Y3RJZCYmKHU9dS5wcm9kdWN0SWQsZT8ocz10KG4pLmZpbHRlcigiZGl2W2RhdGEtcHJvZHVjdElkPSciK3UrIiddIiksbz1vLmZpcnN0KCkpOnM9dChuKS5maWx0ZXIoImFbZGF0YS1wcm9kdWN0SWQ9JyIrdSsiJ10iKSxzJiYwPHMubGVuZ3RoJiYoby53cmFwKCc8ZGl2IGNsYXNzPSInK2YrJyI+PFwvZGl2PicpLG8uYWZ0ZXIocykpKX19dmFyIHUsZj0icmliYm9uLXdyYXBwZXIiLHI9IiNwcm9kdWN0LXJpYmJvbi1pbmZvIjtuLnNob3dSaWJib25zPWZ1bmN0aW9uKCl7dmFyIHAsYyxzLGwsYSxvLGY9MCx2PVtdLG49KGM9Ii5wcm9kdWN0LXJpYmJvbiIscz1pLmdldEF0dHJWYWxGcm9tRG9tKHIsImRhdGEtcHJvZHVjdFBhZ2VQaWN0dXJlc1BhcmVudENvbnRhaW5lclNlbGVjdG9yIiksbD1bXSxvPXt9LChhPWkuZ2V0QXR0clZhbEZyb21Eb20ociwiZGF0YS1wcm9kdWN0SWQiKSkmJjA8YSYmcyYmKChwPXQocykuZmluZChjKSkmJjAhPT1wLmxlbmd0aHx8KG8ucHJvZHVjdElkPWEsby5wcm9kdWN0RWxlbWVudD10KHMpKSksdCh1KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49dCh0aGlzKS5maW5kKGMpO24mJjAhPT1uLmxlbmd0aHx8KG49dCh0aGlzKS5hdHRyKCJkYXRhLXByb2R1Y3RpZCIpKSYmMDxuJiYobj17cHJvZHVjdElkOm4scHJvZHVjdEVsZW1lbnQ6dCh0aGlzKX0sbC5wdXNoKG4pKX0pLHtwcm9kdWN0UGFnZTpvLGNhdGVnb3J5UGFnZVByb2R1Y3RzOmx9KSxoLHk7aWYobi5wcm9kdWN0UGFnZSYmbi5wcm9kdWN0UGFnZS5wcm9kdWN0SWQmJihmPW4ucHJvZHVjdFBhZ2UucHJvZHVjdElkKSxuLmNhdGVnb3J5UGFnZVByb2R1Y3RzJiYwPG4uY2F0ZWdvcnlQYWdlUHJvZHVjdHMubGVuZ3RoKWZvcihoPTA7aDxuLmNhdGVnb3J5UGFnZVByb2R1Y3RzLmxlbmd0aDtoKyspeT1uLmNhdGVnb3J5UGFnZVByb2R1Y3RzW2hdLHkuaGFzT3duUHJvcGVydHkoInByb2R1Y3RJZCIpJiZ2LnB1c2goeS5wcm9kdWN0SWQpOyhmfHwwIT09di5sZW5ndGgpJiYodC5pc051bWVyaWMoZil8fChmPTApLG89e3Byb2R1Y3RQYWdlSWQ6ZixjYXRlZ29yeVBhZ2VJZHM6dn0sZj1pLmdldEF0dHJWYWxGcm9tRG9tKCIjcHJvZHVjdC1yaWJib24taW5mbyIsImRhdGEtcmV0cmlldmVwcm9kdWN0cmliYm9uc3VybCIpLHQuYWpheCh7Y2FjaGU6ITEsdHlwZToiUE9TVCIsZGF0YTp0LnRvSlNPTihvKSxjb250ZW50VHlwZToiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCIsdXJsOmZ9KS5kb25lKGZ1bmN0aW9uKGkpe2kmJihmdW5jdGlvbihuLHQpe2lmKHQmJnQucHJvZHVjdFBhZ2UmJnQucHJvZHVjdFBhZ2UucHJvZHVjdElkJiZlKG4sdC5wcm9kdWN0UGFnZSwhMCksdCYmdC5jYXRlZ29yeVBhZ2VQcm9kdWN0cyYmMDx0LmNhdGVnb3J5UGFnZVByb2R1Y3RzLmxlbmd0aClmb3IodmFyIGk9MDtpPHQuY2F0ZWdvcnlQYWdlUHJvZHVjdHMubGVuZ3RoO2krKyllKG4sdC5jYXRlZ29yeVBhZ2VQcm9kdWN0c1tpXSl9KGksbiksdC5ldmVudC50cmlnZ2VyKHt0eXBlOiJub3BQcm9kdWN0UmliYm9uc0xvYWRpbmdDb21wbGV0ZUV2ZW50In0pKX0pKX07dChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXsodT1pLmdldEF0dHJWYWxGcm9tRG9tKHIsImRhdGEtcHJvZHVjdEJveFNlbGVjdG9yIikpJiZuLnNob3dSaWJib25zKCl9KTt0KGRvY3VtZW50KS5vbigibm9wQWpheEZpbHRlcnNGaWx0cmF0aW9uQ29tcGxldGVFdmVudCBuZXdQcm9kdWN0c0FkZGVkVG9QYWdlRXZlbnQiLG5vcFByb2R1Y3RSaWJib25zLnNob3dSaWJib25zKX0od2luZG93Lm5vcFByb2R1Y3RSaWJib25zPXdpbmRvdy5ub3BQcm9kdWN0UmliYm9uc3x8e30salF1ZXJ5LHNldmVuU3Bpa2VzQ29yZSk7IWZ1bmN0aW9uKG4peyFmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcyhuKXt2YXIgdD11KG58fHt9KSxmPWgodCk7cmV0dXJuIHIoZiksYyh0LGYpLGl9ZnVuY3Rpb24gaChuKXt2YXIgaT1mKCJ1cGxvYWRlclR5cGUiKSxyPWYoImVuZHBvaW50VHlwZSIpO3JldHVybiBpPyhpPWkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkraS5zbGljZSgxKS50b0xvd2VyQ2FzZSgpLHI/bmV3IHRbcl1bIkZpbmVVcGxvYWRlciIraV0obik6bmV3IHRbIkZpbmVVcGxvYWRlciIraV0obikpOnI/bmV3IHRbcl0uRmluZVVwbG9hZGVyKG4pOm5ldyB0LkZpbmVVcGxvYWRlcihuKX1mdW5jdGlvbiBlKG4sdCl7dmFyIHI9aS5kYXRhKCJmaW5ldXBsb2FkZXIiKTtpZighdClyZXR1cm4gdm9pZCAwPT09cj9udWxsOnJbbl07dm9pZCAwPT09ciYmKHI9e30pO3Jbbl09dDtpLmRhdGEoImZpbmV1cGxvYWRlciIscil9ZnVuY3Rpb24gcihuKXtyZXR1cm4gZSgidXBsb2FkZXIiLG4pfWZ1bmN0aW9uIGYobix0KXtyZXR1cm4gZShuLHQpfWZ1bmN0aW9uIGMocix1KXt2YXIgZj1yLmNhbGxiYWNrcz17fTtuLmVhY2godS5fb3B0aW9ucy5jYWxsYmFja3MsZnVuY3Rpb24ocix1KXt2YXIgZSxzO2U9L15vbihcdyspLy5leGVjKHIpWzFdO2U9ZS5zdWJzdHJpbmcoMCwxKS50b0xvd2VyQ2FzZSgpK2Uuc3Vic3RyaW5nKDEpO3M9aTtmW3JdPWZ1bmN0aW9uKCl7dmFyIGkscixmPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksaD1bXTtuLmVhY2goZixmdW5jdGlvbihuLHQpe2gucHVzaChvKHQpKX0pO2k9dS5hcHBseSh0aGlzLGYpO3RyeXtyPXMudHJpZ2dlckhhbmRsZXIoZSxoKX1jYXRjaChuKXt0LmxvZygiQ2F1Z2h0IGVycm9yIGluIEZpbmUgVXBsb2FkZXIgalF1ZXJ5IGV2ZW50IGhhbmRsZXI6ICIrbi5tZXNzYWdlLCJlcnJvciIpfXJldHVybiBudWxsIT1pP2k6cn19KTt1Ll9vcHRpb25zLmNhbGxiYWNrcz1mfWZ1bmN0aW9uIHUodCxyKXt2YXIgZSxvO2lmKGU9dm9pZCAwPT09cj8iYmFzaWMiIT09dC51cGxvYWRlclR5cGU/e2VsZW1lbnQ6aVswXX06e306cixuLmVhY2godCxmdW5jdGlvbih0LGkpe24uaW5BcnJheSh0LHYpPj0wP2YodCxpKTppIGluc3RhbmNlb2Ygbj9lW3RdPWlbMF06bi5pc1BsYWluT2JqZWN0KGkpPyhlW3RdPXt9LHUoaSxlW3RdKSk6bi5pc0FycmF5KGkpPyhvPVtdLG4uZWFjaChpLGZ1bmN0aW9uKHQsaSl7dmFyIHI9e307aSBpbnN0YW5jZW9mIG4/bi5tZXJnZShvLGkpOm4uaXNQbGFpbk9iamVjdChpKT8odShpLHIpLG8ucHVzaChyKSk6by5wdXNoKGkpfSksZVt0XT1vKTplW3RdPWl9KSx2b2lkIDA9PT1yKXJldHVybiBlfWZ1bmN0aW9uIGwodCl7cmV0dXJuInN0cmluZyI9PT1uLnR5cGUodCkmJiF0Lm1hdGNoKC9eXy8pJiZ2b2lkIDAhPT1yKClbdF19ZnVuY3Rpb24gYShuKXt2YXIgdCxpPVtdLGY9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiB1KGYsaSksdD1yKClbbl0uYXBwbHkocigpLGkpLG8odCl9ZnVuY3Rpb24gbyh0KXt2YXIgaT10O3JldHVybiBudWxsPT10fHwib2JqZWN0IiE9dHlwZW9mIHR8fDEhPT10Lm5vZGVUeXBlJiY5IT09dC5ub2RlVHlwZXx8IXQuY2xvbmVOb2RlfHwoaT1uKHQpKSxpfXZhciBpLHY9WyJ1cGxvYWRlclR5cGUiLCJlbmRwb2ludFR5cGUiXTtuLmZuLmZpbmVVcGxvYWRlcj1mdW5jdGlvbih0KXt2YXIgZj10aGlzLGU9YXJndW1lbnRzLHU9W107cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihvLGgpe2lmKGk9bihoKSxyKCkmJmwodCkpe2lmKHUucHVzaChhLmFwcGx5KGYsZSkpLDE9PT1mLmxlbmd0aClyZXR1cm4hMX1lbHNlIm9iamVjdCIhPXR5cGVvZiB0JiZ0P24uZXJyb3IoIk1ldGhvZCAiK3QrIiBkb2VzIG5vdCBleGlzdCBvbiBqUXVlcnkuZmluZVVwbG9hZGVyIik6cy5hcHBseShmLGUpfSksMT09PXUubGVuZ3RoP3VbMF06dS5sZW5ndGg+MT91OnRoaXN9fShqUXVlcnkpLGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBmKG4pe258fChuPXt9KTtuLmRyb3Bab25lRWxlbWVudHM9W2ldO3ZhciBmPXUobik7cmV0dXJuIG8oZikscihuZXcgdC5EcmFnQW5kRHJvcChmKSksaX1mdW5jdGlvbiBlKG4sdCl7dmFyIHI9aS5kYXRhKCJmaW5lVXBsb2FkZXJEbmQiKTtpZighdClyZXR1cm4gdm9pZCAwPT09cj9udWxsOnJbbl07dm9pZCAwPT09ciYmKHI9e30pO3Jbbl09dDtpLmRhdGEoImZpbmVVcGxvYWRlckRuZCIscil9ZnVuY3Rpb24gcihuKXtyZXR1cm4gZSgiZG5kSW5zdGFuY2UiLG4pfWZ1bmN0aW9uIG8ocil7dmFyIHU9ci5jYWxsYmFja3M9e307bi5lYWNoKG5ldyB0LkRyYWdBbmREcm9wLmNhbGxiYWNrcyxmdW5jdGlvbihuKXt2YXIgdCxyPW47dD1pO3Vbbl09ZnVuY3Rpb24oKXt2YXIgbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3JldHVybiB0LnRyaWdnZXJIYW5kbGVyKHIsbil9fSl9ZnVuY3Rpb24gdSh0LGkpe3ZhciByLGY7aWYocj12b2lkIDA9PT1pP3t9Omksbi5lYWNoKHQsZnVuY3Rpb24odCxpKXtpIGluc3RhbmNlb2Ygbj9yW3RdPWlbMF06bi5pc1BsYWluT2JqZWN0KGkpPyhyW3RdPXt9LHUoaSxyW3RdKSk6bi5pc0FycmF5KGkpPyhmPVtdLG4uZWFjaChpLGZ1bmN0aW9uKHQsaSl7aSBpbnN0YW5jZW9mIG4/bi5tZXJnZShmLGkpOmYucHVzaChpKX0pLHJbdF09Zik6clt0XT1pfSksdm9pZCAwPT09aSlyZXR1cm4gcn1mdW5jdGlvbiBzKHQpe3JldHVybiJzdHJpbmciPT09bi50eXBlKHQpJiYiZGlzcG9zZSI9PT10JiZ2b2lkIDAhPT1yKClbdF19ZnVuY3Rpb24gaChuKXt2YXIgdD1bXTtyZXR1cm4gdShBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksdCkscigpW25dLmFwcGx5KHIoKSx0KX12YXIgaTtuLmZuLmZpbmVVcGxvYWRlckRuZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG89YXJndW1lbnRzLHU9W107cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjLGwpe2lmKGk9bihsKSxyKCkmJnModCkpe2lmKHUucHVzaChoLmFwcGx5KGUsbykpLDE9PT1lLmxlbmd0aClyZXR1cm4hMX1lbHNlIm9iamVjdCIhPXR5cGVvZiB0JiZ0P24uZXJyb3IoIk1ldGhvZCAiK3QrIiBkb2VzIG5vdCBleGlzdCBpbiBGaW5lIFVwbG9hZGVyJ3MgRG5EIG1vZHVsZS4iKTpmLmFwcGx5KGUsbyl9KSwxPT09dS5sZW5ndGg/dVswXTp1Lmxlbmd0aD4xP3U6dGhpc319KGpRdWVyeSk7dmFyIHQ9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO3JldHVybntoaWRlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpc30sYXR0YWNoOmZ1bmN0aW9uKGkscil7cmV0dXJuIG4uYWRkRXZlbnRMaXN0ZW5lcj9uLmFkZEV2ZW50TGlzdGVuZXIoaSxyLCExKTpuLmF0dGFjaEV2ZW50JiZuLmF0dGFjaEV2ZW50KCJvbiIraSxyKSxmdW5jdGlvbigpe3QobikuZGV0YWNoKGkscil9fSxkZXRhY2g6ZnVuY3Rpb24odCxpKXtyZXR1cm4gbi5yZW1vdmVFdmVudExpc3RlbmVyP24ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGksITEpOm4uYXR0YWNoRXZlbnQmJm4uZGV0YWNoRXZlbnQoIm9uIit0LGkpLHRoaXN9LGNvbnRhaW5zOmZ1bmN0aW9uKHQpe3JldHVybiEhdCYmKG49PT10fHwobi5jb250YWlucz9uLmNvbnRhaW5zKHQpOiEhKDgmdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuKSkpKX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKHQpe3JldHVybiB0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG4sdCksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSx0aGlzfSxjc3M6ZnVuY3Rpb24oaSl7aWYobnVsbD09bi5zdHlsZSl0aHJvdyBuZXcgdC5FcnJvcigiQ2FuJ3QgYXBwbHkgc3R5bGUgdG8gbm9kZSBhcyBpdCBpcyBub3Qgb24gdGhlIEhUTUxFbGVtZW50IHByb3RvdHlwZSBjaGFpbiEiKTtyZXR1cm4gbnVsbCE9aS5vcGFjaXR5JiYic3RyaW5nIiE9dHlwZW9mIG4uc3R5bGUub3BhY2l0eSYmdm9pZCAwIT09bi5maWx0ZXJzJiYoaS5maWx0ZXI9ImFscGhhKG9wYWNpdHk9IitNYXRoLnJvdW5kKDEwMCppLm9wYWNpdHkpKyIpIiksdC5leHRlbmQobi5zdHlsZSxpKSx0aGlzfSxoYXNDbGFzczpmdW5jdGlvbih0LGkpe3ZhciByPW5ldyBSZWdFeHAoIihefCApIit0KyIoIHwkKSIpO3JldHVybiByLnRlc3Qobi5jbGFzc05hbWUpfHwhKCFpfHwhci50ZXN0KG4ucGFyZW50Tm9kZS5jbGFzc05hbWUpKX0sYWRkQ2xhc3M6ZnVuY3Rpb24oaSl7cmV0dXJuIHQobikuaGFzQ2xhc3MoaSl8fChuLmNsYXNzTmFtZSs9IiAiK2kpLHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKHQpe3ZhciBpPW5ldyBSZWdFeHAoIihefCApIit0KyIoIHwkKSIpO3JldHVybiBuLmNsYXNzTmFtZT1uLmNsYXNzTmFtZS5yZXBsYWNlKGksIiAiKS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIiksdGhpc30sZ2V0QnlDbGFzczpmdW5jdGlvbihpLHIpe3ZhciBmLHU9W107cmV0dXJuIHImJm4ucXVlcnlTZWxlY3Rvcj9uLnF1ZXJ5U2VsZWN0b3IoIi4iK2kpOm4ucXVlcnlTZWxlY3RvckFsbD9uLnF1ZXJ5U2VsZWN0b3JBbGwoIi4iK2kpOihmPW4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSx0LmVhY2goZixmdW5jdGlvbihuLHIpe3QocikuaGFzQ2xhc3MoaSkmJnUucHVzaChyKX0pLHI/dVswXTp1KX0sZ2V0Rmlyc3RCeUNsYXNzOmZ1bmN0aW9uKGkpe3JldHVybiB0KG4pLmdldEJ5Q2xhc3MoaSwhMCl9LGNoaWxkcmVuOmZ1bmN0aW9uKCl7Zm9yKHZhciBpPVtdLHQ9bi5maXJzdENoaWxkO3Q7KTE9PT10Lm5vZGVUeXBlJiZpLnB1c2godCksdD10Lm5leHRTaWJsaW5nO3JldHVybiBpfSxzZXRUZXh0OmZ1bmN0aW9uKHQpe3JldHVybiBuLmlubmVyVGV4dD10LG4udGV4dENvbnRlbnQ9dCx0aGlzfSxjbGVhclRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdChuKS5zZXRUZXh0KCIiKX0saGFzQXR0cmlidXRlOmZ1bmN0aW9uKHQpe3ZhciBpO3JldHVybiBuLmhhc0F0dHJpYnV0ZT8hIW4uaGFzQXR0cmlidXRlKHQpJiZudWxsPT0vXmZhbHNlJC9pLmV4ZWMobi5nZXRBdHRyaWJ1dGUodCkpOihpPW5bdF0sdm9pZCAwIT09aSYmbnVsbD09L15mYWxzZSQvaS5leGVjKGkpKX19fTshZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dC5jYW52YXNUb0Jsb2I9ZnVuY3Rpb24obixpLHIpe3JldHVybiB0LmRhdGFVcmlUb0Jsb2Iobi50b0RhdGFVUkwoaSxyKSl9O3QuZGF0YVVyaVRvQmxvYj1mdW5jdGlvbihuKXt2YXIgaSxyLHUsZixlPWZ1bmN0aW9uKG4sdCl7dmFyIHI9d2luZG93LkJsb2JCdWlsZGVyfHx3aW5kb3cuV2ViS2l0QmxvYkJ1aWxkZXJ8fHdpbmRvdy5Nb3pCbG9iQnVpbGRlcnx8d2luZG93Lk1TQmxvYkJ1aWxkZXIsaT1yJiZuZXcgcjtyZXR1cm4gaT8oaS5hcHBlbmQobiksaS5nZXRCbG9iKHQpKTpuZXcgQmxvYihbbl0se3R5cGU6dH0pfTtyZXR1cm4gcj1uLnNwbGl0KCIsIilbMF0uaW5kZXhPZigiYmFzZTY0Iik+PTA/YXRvYihuLnNwbGl0KCIsIilbMV0pOmRlY29kZVVSSShuLnNwbGl0KCIsIilbMV0pLGY9bi5zcGxpdCgiLCIpWzBdLnNwbGl0KCI6IilbMV0uc3BsaXQoIjsiKVswXSxpPW5ldyBBcnJheUJ1ZmZlcihyLmxlbmd0aCksdT1uZXcgVWludDhBcnJheShpKSx0LmVhY2gocixmdW5jdGlvbihuLHQpe3Vbbl09dC5jaGFyQ29kZUF0KDApfSksZShpLGYpfTt0LmxvZz1mdW5jdGlvbihuLHQpe3dpbmRvdy5jb25zb2xlJiYodCYmImluZm8iIT09dD93aW5kb3cuY29uc29sZVt0XT93aW5kb3cuY29uc29sZVt0XShuKTp3aW5kb3cuY29uc29sZS5sb2coIjwiK3QrIj4gIituKTp3aW5kb3cuY29uc29sZS5sb2cobikpfTt0LmlzT2JqZWN0PWZ1bmN0aW9uKG4pe3JldHVybiBuJiYhbi5ub2RlVHlwZSYmIltvYmplY3QgT2JqZWN0XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobil9O3QuaXNGdW5jdGlvbj1mdW5jdGlvbihuKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygbn07dC5pc0FycmF5PWZ1bmN0aW9uKG4pe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobil8fG4mJndpbmRvdy5BcnJheUJ1ZmZlciYmbi5idWZmZXImJm4uYnVmZmVyLmNvbnN0cnVjdG9yPT09QXJyYXlCdWZmZXJ9O3QuaXNJdGVtTGlzdD1mdW5jdGlvbihuKXtyZXR1cm4iW29iamVjdCBEYXRhVHJhbnNmZXJJdGVtTGlzdF0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pfTt0LmlzTm9kZUxpc3Q9ZnVuY3Rpb24obil7cmV0dXJuIltvYmplY3QgTm9kZUxpc3RdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKXx8bi5pdGVtJiZuLm5hbWVkSXRlbX07dC5pc1N0cmluZz1mdW5jdGlvbihuKXtyZXR1cm4iW29iamVjdCBTdHJpbmddIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKX07dC50cmltU3RyPWZ1bmN0aW9uKG4pe3JldHVybiBTdHJpbmcucHJvdG90eXBlLnRyaW0/bi50cmltKCk6bi5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIil9O3QuZm9ybWF0PWZ1bmN0aW9uKG4pe3ZhciB1PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxpPW4scj1pLmluZGV4T2YoInt9Iik7cmV0dXJuIHQuZWFjaCh1LGZ1bmN0aW9uKG4sdCl7aWYoaT1pLnN1YnN0cmluZygwLHIpK3QraS5zdWJzdHJpbmcocisyKSxyPWkuaW5kZXhPZigie30iLHIrdC5sZW5ndGgpLHI8MClyZXR1cm4hMX0pLGl9O3QuaXNGaWxlPWZ1bmN0aW9uKG4pe3JldHVybiB3aW5kb3cuRmlsZSYmIltvYmplY3QgRmlsZV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pfTt0LmlzRmlsZUxpc3Q9ZnVuY3Rpb24obil7cmV0dXJuIHdpbmRvdy5GaWxlTGlzdCYmIltvYmplY3QgRmlsZUxpc3RdIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKX07dC5pc0ZpbGVPcklucHV0PWZ1bmN0aW9uKG4pe3JldHVybiB0LmlzRmlsZShuKXx8dC5pc0lucHV0KG4pfTt0LmlzSW5wdXQ9ZnVuY3Rpb24obix0KXt2YXIgaT1mdW5jdGlvbihuKXt2YXIgaT1uLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHQ/ImZpbGUiIT09aToiZmlsZSI9PT1pfTtyZXR1cm4hISh3aW5kb3cuSFRNTElucHV0RWxlbWVudCYmIltvYmplY3QgSFRNTElucHV0RWxlbWVudF0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pJiZuLnR5cGUmJmkobi50eXBlKSl8fCEhKG4udGFnTmFtZSYmImlucHV0Ij09PW4udGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZuLnR5cGUmJmkobi50eXBlKSl9O3QuaXNCbG9iPWZ1bmN0aW9uKG4pe2lmKHdpbmRvdy5CbG9iJiYiW29iamVjdCBCbG9iXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobikpcmV0dXJuITB9O3QuaXNYaHJVcGxvYWRTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3JldHVybiBuLnR5cGU9ImZpbGUiLHZvaWQgMCE9PW4ubXVsdGlwbGUmJiJ1bmRlZmluZWQiIT10eXBlb2YgRmlsZSYmInVuZGVmaW5lZCIhPXR5cGVvZiBGb3JtRGF0YSYmdm9pZCAwIT09dC5jcmVhdGVYaHJJbnN0YW5jZSgpLnVwbG9hZH07dC5jcmVhdGVYaHJJbnN0YW5jZT1mdW5jdGlvbigpe2lmKHdpbmRvdy5YTUxIdHRwUmVxdWVzdClyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0O3RyeXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoIk1TWE1MMi5YTUxIVFRQLjMuMCIpfWNhdGNoKG4pe3JldHVybiB0LmxvZygiTmVpdGhlciBYSFIgb3IgQWN0aXZlWCBhcmUgc3VwcG9ydGVkISIsImVycm9yIiksbnVsbH19O3QuaXNGb2xkZXJEcm9wU3VwcG9ydGVkPWZ1bmN0aW9uKG4pe3JldHVybiBuLml0ZW1zJiZuLml0ZW1zLmxlbmd0aD4wJiZuLml0ZW1zWzBdLndlYmtpdEdldEFzRW50cnl9O3QuaXNGaWxlQ2h1bmtpbmdTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hdC5hbmRyb2lkU3RvY2soKSYmdC5pc1hoclVwbG9hZFN1cHBvcnRlZCgpJiYodm9pZCAwIT09RmlsZS5wcm90b3R5cGUuc2xpY2V8fHZvaWQgMCE9PUZpbGUucHJvdG90eXBlLndlYmtpdFNsaWNlfHx2b2lkIDAhPT1GaWxlLnByb3RvdHlwZS5tb3pTbGljZSl9O3Quc2xpY2VCbG9iPWZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4obi5zbGljZXx8bi5tb3pTbGljZXx8bi53ZWJraXRTbGljZSkuY2FsbChuLHQsaSl9O3QuYXJyYXlCdWZmZXJUb0hleD1mdW5jdGlvbihuKXt2YXIgaT0iIixyPW5ldyBVaW50OEFycmF5KG4pO3JldHVybiB0LmVhY2gocixmdW5jdGlvbihuLHQpe3ZhciByPXQudG9TdHJpbmcoMTYpO3IubGVuZ3RoPDImJihyPSIwIityKTtpKz1yfSksaX07dC5yZWFkQmxvYlRvSGV4PWZ1bmN0aW9uKG4saSxyKXt2YXIgZT10LnNsaWNlQmxvYihuLGksaStyKSx1PW5ldyBGaWxlUmVhZGVyLGY9bmV3IHQuUHJvbWlzZTtyZXR1cm4gdS5vbmxvYWQ9ZnVuY3Rpb24oKXtmLnN1Y2Nlc3ModC5hcnJheUJ1ZmZlclRvSGV4KHUucmVzdWx0KSl9LHUub25lcnJvcj1mLmZhaWx1cmUsdS5yZWFkQXNBcnJheUJ1ZmZlcihlKSxmfTt0LmV4dGVuZD1mdW5jdGlvbihuLGkscil7cmV0dXJuIHQuZWFjaChpLGZ1bmN0aW9uKGksdSl7ciYmdC5pc09iamVjdCh1KT8odm9pZCAwPT09bltpXSYmKG5baV09e30pLHQuZXh0ZW5kKG5baV0sdSwhMCkpOm5baV09dX0pLG59O3Qub3ZlcnJpZGU9ZnVuY3Rpb24obixpKXt2YXIgcj17fSx1PWkocik7cmV0dXJuIHQuZWFjaCh1LGZ1bmN0aW9uKHQsaSl7dm9pZCAwIT09blt0XSYmKHJbdF09blt0XSk7blt0XT1pfSksbn07dC5pbmRleE9mPWZ1bmN0aW9uKG4sdCxpKXtpZihuLmluZGV4T2YpcmV0dXJuIG4uaW5kZXhPZih0LGkpO2k9aXx8MDt2YXIgcj1uLmxlbmd0aDtmb3IoaTwwJiYoaSs9cik7aTxyO2krPTEpaWYobi5oYXNPd25Qcm9wZXJ0eShpKSYmbltpXT09PXQpcmV0dXJuIGk7cmV0dXJuLTF9O3QuZ2V0VW5pcXVlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4ieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Ii5yZXBsYWNlKC9beHldL2csZnVuY3Rpb24obil7dmFyIHQ9MTYqTWF0aC5yYW5kb20oKXwwO3JldHVybigieCI9PW4/dDozJnR8OCkudG9TdHJpbmcoMTYpfSl9O3QuaWU9ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIikhPT0tMXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJUcmlkZW50IikhPT0tMX07dC5pZTc9ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNU0lFIDciKSE9PS0xfTt0LmllOD1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUgOCIpIT09LTF9O3QuaWUxMD1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIk1TSUUgMTAiKSE9PS0xfTt0LmllMTE9ZnVuY3Rpb24oKXtyZXR1cm4gdC5pZSgpJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoInJ2OjExIikhPT0tMX07dC5lZGdlPWZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiRWRnZSIpPj0wfTt0LnNhZmFyaT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT1uYXZpZ2F0b3IudmVuZG9yJiZuYXZpZ2F0b3IudmVuZG9yLmluZGV4T2YoIkFwcGxlIikhPT0tMX07dC5jaHJvbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09bmF2aWdhdG9yLnZlbmRvciYmbmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKCJHb29nbGUiKSE9PS0xfTt0Lm9wZXJhPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PW5hdmlnYXRvci52ZW5kb3ImJm5hdmlnYXRvci52ZW5kb3IuaW5kZXhPZigiT3BlcmEiKSE9PS0xfTt0LmZpcmVmb3g9ZnVuY3Rpb24oKXtyZXR1cm4hdC5lZGdlKCkmJiF0LmllMTEoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJNb3ppbGxhIikhPT0tMSYmdm9pZCAwIT09bmF2aWdhdG9yLnZlbmRvciYmIiI9PT1uYXZpZ2F0b3IudmVuZG9yfTt0LndpbmRvd3M9ZnVuY3Rpb24oKXtyZXR1cm4iV2luMzIiPT09bmF2aWdhdG9yLnBsYXRmb3JtfTt0LmFuZHJvaWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImFuZHJvaWQiKSE9PS0xfTt0LmFuZHJvaWRTdG9jaz1mdW5jdGlvbigpe3JldHVybiB0LmFuZHJvaWQoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImNocm9tZSIpPDB9O3QuaW9zNj1mdW5jdGlvbigpe3JldHVybiB0LmlvcygpJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIiBPUyA2XyIpIT09LTF9O3QuaW9zNz1mdW5jdGlvbigpe3JldHVybiB0LmlvcygpJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIiBPUyA3XyIpIT09LTF9O3QuaW9zOD1mdW5jdGlvbigpe3JldHVybiB0LmlvcygpJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoIiBPUyA4XyIpIT09LTF9O3QuaW9zODAwPWZ1bmN0aW9uKCl7cmV0dXJuIHQuaW9zKCkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiIE9TIDhfMCAiKSE9PS0xfTt0Lmlvcz1mdW5jdGlvbigpe3JldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoImlQYWQiKSE9PS0xfHxuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoImlQb2QiKSE9PS0xfHxuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoImlQaG9uZSIpIT09LTF9O3QuaW9zQ2hyb21lPWZ1bmN0aW9uKCl7cmV0dXJuIHQuaW9zKCkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiQ3JpT1MiKSE9PS0xfTt0Lmlvc1NhZmFyaT1mdW5jdGlvbigpe3JldHVybiB0LmlvcygpJiYhdC5pb3NDaHJvbWUoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJTYWZhcmkiKSE9PS0xfTt0Lmlvc1NhZmFyaVdlYlZpZXc9ZnVuY3Rpb24oKXtyZXR1cm4gdC5pb3MoKSYmIXQuaW9zQ2hyb21lKCkmJiF0Lmlvc1NhZmFyaSgpfTt0LnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQ/bi5wcmV2ZW50RGVmYXVsdCgpOm4ucmV0dXJuVmFsdWU9ITF9O3QudG9FbGVtZW50PWZ1bmN0aW9uKCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGZ1bmN0aW9uKHQpe24uaW5uZXJIVE1MPXQ7dmFyIGk9bi5maXJzdENoaWxkO3JldHVybiBuLnJlbW92ZUNoaWxkKGkpLGl9fSgpO3QuZWFjaD1mdW5jdGlvbihuLGkpe3ZhciByLHU7aWYobilpZih3aW5kb3cuU3RvcmFnZSYmbi5jb25zdHJ1Y3Rvcj09PXdpbmRvdy5TdG9yYWdlKWZvcihyPTA7cjxuLmxlbmd0aCYmKHU9aShuLmtleShyKSxuLmdldEl0ZW0obi5rZXkocikpKSx1IT09ITEpO3IrKyk7ZWxzZSBpZih0LmlzQXJyYXkobil8fHQuaXNJdGVtTGlzdChuKXx8dC5pc05vZGVMaXN0KG4pKWZvcihyPTA7cjxuLmxlbmd0aCYmKHU9aShyLG5bcl0pLHUhPT0hMSk7cisrKTtlbHNlIGlmKHQuaXNTdHJpbmcobikpZm9yKHI9MDtyPG4ubGVuZ3RoJiYodT1pKHIsbi5jaGFyQXQocikpLHUhPT0hMSk7cisrKTtlbHNlIGZvcihyIGluIG4paWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJih1PWkocixuW3JdKSx1PT09ITEpKWJyZWFrfTt0LmJpbmQ9ZnVuY3Rpb24obixpKXtpZih0LmlzRnVuY3Rpb24obikpe3ZhciByPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdT10LmV4dGVuZChbXSxyKTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCYmKHU9dS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpLG4uYXBwbHkoaSx1KX19dGhyb3cgbmV3IEVycm9yKCJmaXJzdCBwYXJhbWV0ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uISIpO307dC5vYmoydXJsPWZ1bmN0aW9uKG4saSxyKXt2YXIgdT1bXSxmPSImIixlPWZ1bmN0aW9uKG4scil7dmFyIGY9aT8vXFtcXSQvLnRlc3QoaSk/aTppKyJbIityKyJdIjpyOyJ1bmRlZmluZWQiIT09ZiYmInVuZGVmaW5lZCIhPT1yJiZ1LnB1c2goIm9iamVjdCI9PXR5cGVvZiBuP3Qub2JqMnVybChuLGYsITApOiJbb2JqZWN0IEZ1bmN0aW9uXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobik/ZW5jb2RlVVJJQ29tcG9uZW50KGYpKyI9IitlbmNvZGVVUklDb21wb25lbnQobigpKTplbmNvZGVVUklDb21wb25lbnQoZikrIj0iK2VuY29kZVVSSUNvbXBvbmVudChuKSl9O3JldHVybiFyJiZpPyhmPS9cPy8udGVzdChpKT8vXD8kLy50ZXN0KGkpPyIiOiImIjoiPyIsdS5wdXNoKGkpLHUucHVzaCh0Lm9iajJ1cmwobikpKToiW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pJiZ2b2lkIDAhPT1uP3QuZWFjaChuLGZ1bmN0aW9uKG4sdCl7ZSh0LG4pfSk6dm9pZCAwIT09biYmbnVsbCE9PW4mJiJvYmplY3QiPT10eXBlb2Ygbj90LmVhY2gobixmdW5jdGlvbihuLHQpe2UodCxuKX0pOnUucHVzaChlbmNvZGVVUklDb21wb25lbnQoaSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChuKSksaT91LmpvaW4oZik6dS5qb2luKGYpLnJlcGxhY2UoL14mLywiIikucmVwbGFjZSgvJTIwL2csIisiKX07dC5vYmoyRm9ybURhdGE9ZnVuY3Rpb24obixpLHIpe3JldHVybiBpfHwoaT1uZXcgRm9ybURhdGEpLHQuZWFjaChuLGZ1bmN0aW9uKG4sdSl7bj1yP3IrIlsiK24rIl0iOm47dC5pc09iamVjdCh1KT90Lm9iajJGb3JtRGF0YSh1LGksbik6dC5pc0Z1bmN0aW9uKHUpP2kuYXBwZW5kKG4sdSgpKTppLmFwcGVuZChuLHUpfSksaX07dC5vYmoySW5wdXRzPWZ1bmN0aW9uKG4saSl7dmFyIHI7cmV0dXJuIGl8fChpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKSksdC5vYmoyRm9ybURhdGEobix7YXBwZW5kOmZ1bmN0aW9uKG4sdCl7cj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Iuc2V0QXR0cmlidXRlKCJuYW1lIixuKTtyLnNldEF0dHJpYnV0ZSgidmFsdWUiLHQpO2kuYXBwZW5kQ2hpbGQocil9fSksaX07dC5wYXJzZUpzb249ZnVuY3Rpb24obil7cmV0dXJuIHdpbmRvdy5KU09OJiZ0LmlzRnVuY3Rpb24oSlNPTi5wYXJzZSk/SlNPTi5wYXJzZShuKTpldmFsKCIoIituKyIpIil9O3QuZ2V0RXh0ZW5zaW9uPWZ1bmN0aW9uKG4pe3ZhciB0PW4ubGFzdEluZGV4T2YoIi4iKSsxO2lmKHQ+MClyZXR1cm4gbi5zdWJzdHIodCxuLmxlbmd0aC10KX07dC5nZXRGaWxlbmFtZT1mdW5jdGlvbihuKXtyZXR1cm4gdC5pc0lucHV0KG4pP24udmFsdWUucmVwbGFjZSgvLiooXC98XFwpLywiIik6dC5pc0ZpbGUobikmJm51bGwhPT1uLmZpbGVOYW1lJiZ2b2lkIDAhPT1uLmZpbGVOYW1lP24uZmlsZU5hbWU6bi5uYW1lfTt0LkRpc3Bvc2VTdXBwb3J0PWZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJue2Rpc3Bvc2U6ZnVuY3Rpb24oKXt2YXIgdDtkbyB0PW4uc2hpZnQoKSx0JiZ0KCk7d2hpbGUodCl9LGF0dGFjaDpmdW5jdGlvbigpe3ZhciBuPWFyZ3VtZW50czt0aGlzLmFkZERpc3Bvc2VyKHQoblswXSkuYXR0YWNoLmFwcGx5KHRoaXMsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSl9LGFkZERpc3Bvc2VyOmZ1bmN0aW9uKHQpe24ucHVzaCh0KX19fX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShmdW5jdGlvbigpe3JldHVybiB0fSk6InVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPXQ6bi5xcT10fSgpLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3QuRXJyb3I9ZnVuY3Rpb24obil7dGhpcy5tZXNzYWdlPSJbRmluZSBVcGxvYWRlciAiK3QudmVyc2lvbisiXSAiK259O3QuRXJyb3IucHJvdG90eXBlPW5ldyBFcnJvcn0oKTt0LnZlcnNpb249IjUuMTYuMiI7dC5zdXBwb3J0ZWRGZWF0dXJlcz1mdW5jdGlvbigpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBrKCl7dmFyIG4saT0hMDt0cnl7bj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO24udHlwZT0iZmlsZSI7dChuKS5oaWRlKCk7bi5kaXNhYmxlZCYmKGk9ITEpfWNhdGNoKG4pe2k9ITF9cmV0dXJuIGl9ZnVuY3Rpb24gZCgpe3JldHVybih0LmNocm9tZSgpfHx0Lm9wZXJhKCkpJiZ2b2lkIDAhPT1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcL1sxXVs0LTldfENocm9tZVwvWzItOV1bMC05XS8pfWZ1bmN0aW9uIG8oKXtyZXR1cm4gd2luZG93LlhNTEh0dHBSZXF1ZXN0P3ZvaWQgMCE9PXQuY3JlYXRlWGhySW5zdGFuY2UoKS53aXRoQ3JlZGVudGlhbHM6ITF9ZnVuY3Rpb24gcygpe3JldHVybiB2b2lkIDAhPT13aW5kb3cuWERvbWFpblJlcXVlc3R9ZnVuY3Rpb24gZygpe3JldHVybiEhbygpfHxzKCl9ZnVuY3Rpb24gbnQoKXtyZXR1cm4gdm9pZCAwIT09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKS53ZWJraXRkaXJlY3Rvcnl9ZnVuY3Rpb24gdHQoKXt0cnl7cmV0dXJuISF3aW5kb3cubG9jYWxTdG9yYWdlJiZ0LmlzRnVuY3Rpb24od2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKX1jYXRjaChuKXtyZXR1cm4hMX19ZnVuY3Rpb24gaXQoKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7cmV0dXJuKCJkcmFnZ2FibGUiaW4gbnx8Im9uZHJhZ3N0YXJ0ImluIG4mJiJvbmRyb3AiaW4gbikmJiF0LmFuZHJvaWQoKSYmIXQuaW9zKCl9dmFyIGksZixlLG4saCxyLGMsbCxhLHYseSxwLHcsdSxiO3JldHVybiBpPWsoKSxuPWkmJnQuaXNYaHJVcGxvYWRTdXBwb3J0ZWQoKSxmPW4mJiF0LmFuZHJvaWRTdG9jaygpLGU9biYmaXQoKSxoPWUmJmZ1bmN0aW9uKCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtyZXR1cm4gbi50eXBlPSJmaWxlIiwhISgid2Via2l0ZGlyZWN0b3J5ImluKG58fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W3R5cGU9ZmlsZV0iKVswXSkpfSgpLHI9biYmdC5pc0ZpbGVDaHVua2luZ1N1cHBvcnRlZCgpLGM9biYmciYmdHQoKSxsPW4mJmQoKSxhPWkmJih2b2lkIDAhPT13aW5kb3cucG9zdE1lc3NhZ2V8fG4pLHk9bygpLHY9cygpLHA9ZygpLHc9bnQoKSx1PW4mJnZvaWQgMCE9PXdpbmRvdy5GaWxlUmVhZGVyLGI9ZnVuY3Rpb24oKXtyZXR1cm4hIW4mJiF0LmFuZHJvaWRTdG9jaygpJiYhdC5pb3NDaHJvbWUoKX0oKSx7YWpheFVwbG9hZGluZzpuLGJsb2JVcGxvYWRpbmc6ZixjYW5EZXRlcm1pbmVTaXplOm4sY2h1bmtpbmc6cixkZWxldGVGaWxlQ29yczpwLGRlbGV0ZUZpbGVDb3JzWGRyOnYsZGVsZXRlRmlsZUNvcnNYaHI6eSxkaWFsb2dFbGVtZW50OiEhd2luZG93LkhUTUxEaWFsb2dFbGVtZW50LGZpbGVEcm9wOmUsZm9sZGVyRHJvcDpoLGZvbGRlclNlbGVjdGlvbjp3LGltYWdlUHJldmlld3M6dSxpbWFnZVZhbGlkYXRpb246dSxpdGVtU2l6ZVZhbGlkYXRpb246bixwYXVzZTpyLHByb2dyZXNzQmFyOmIscmVzdW1lOmMsc2NhbGluZzp1JiZmLHRpZmZQcmV2aWV3czp0LnNhZmFyaSgpLHVubGltaXRlZFNjYWxlZEltYWdlU2l6ZTohdC5pb3MoKSx1cGxvYWRpbmc6aSx1cGxvYWRDb3JzOmEsdXBsb2FkQ3VzdG9tSGVhZGVyczpuLHVwbG9hZE5vbk11bHRpcGFydDpuLHVwbG9hZFZpYVBhc3RlOmx9fSgpO3QuaXNHZW5lcmljUHJvbWlzZT1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7cmV0dXJuISEobiYmbi50aGVuJiZ0LmlzRnVuY3Rpb24obi50aGVuKSl9O3QuUHJvbWlzZT1mdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgaSxuLGY9W10sZT1bXSxyPVtdLHU9MDt0LmV4dGVuZCh0aGlzLHt0aGVuOmZ1bmN0aW9uKHQscil7cmV0dXJuIDA9PT11Pyh0JiZmLnB1c2godCksciYmZS5wdXNoKHIpKTp1PT09LTE/ciYmci5hcHBseShudWxsLG4pOnQmJnQuYXBwbHkobnVsbCxpKSx0aGlzfSxkb25lOmZ1bmN0aW9uKHQpe3JldHVybiAwPT09dT9yLnB1c2godCk6dC5hcHBseShudWxsLHZvaWQgMD09PW4/aTpuKSx0aGlzfSxzdWNjZXNzOmZ1bmN0aW9uKCl7cmV0dXJuIHU9MSxpPWFyZ3VtZW50cyxmLmxlbmd0aCYmdC5lYWNoKGYsZnVuY3Rpb24obix0KXt0LmFwcGx5KG51bGwsaSl9KSxyLmxlbmd0aCYmdC5lYWNoKHIsZnVuY3Rpb24obix0KXt0LmFwcGx5KG51bGwsaSl9KSx0aGlzfSxmYWlsdXJlOmZ1bmN0aW9uKCl7cmV0dXJuIHU9LTEsbj1hcmd1bWVudHMsZS5sZW5ndGgmJnQuZWFjaChlLGZ1bmN0aW9uKHQsaSl7aS5hcHBseShudWxsLG4pfSksci5sZW5ndGgmJnQuZWFjaChyLGZ1bmN0aW9uKHQsaSl7aS5hcHBseShudWxsLG4pfSksdGhpc319KX07dC5CbG9iUHJveHk9ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7dC5leHRlbmQodGhpcyx7cmVmZXJlbmNlQmxvYjpuLGNyZWF0ZTpmdW5jdGlvbigpe3JldHVybiBpKG4pfX0pfTt0LlVwbG9hZEJ1dHRvbj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZSgpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7cmV0dXJuIG4uc2V0QXR0cmlidXRlKHQuVXBsb2FkQnV0dG9uLkJVVFRPTl9JRF9BVFRSX05BTUUsZiksbi5zZXRBdHRyaWJ1dGUoInRpdGxlIixpLnRpdGxlKSxvLnNldE11bHRpcGxlKGkubXVsdGlwbGUsbiksaS5mb2xkZXJzJiZ0LnN1cHBvcnRlZEZlYXR1cmVzLmZvbGRlclNlbGVjdGlvbiYmbi5zZXRBdHRyaWJ1dGUoIndlYmtpdGRpcmVjdG9yeSIsIiIpLGkuYWNjZXB0RmlsZXMmJm4uc2V0QXR0cmlidXRlKCJhY2NlcHQiLGkuYWNjZXB0RmlsZXMpLG4uc2V0QXR0cmlidXRlKCJ0eXBlIiwiZmlsZSIpLG4uc2V0QXR0cmlidXRlKCJuYW1lIixpLm5hbWUpLHQobikuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLHJpZ2h0OjAsdG9wOjAsZm9udEZhbWlseToiQXJpYWwiLGZvbnRTaXplOnQuaWUoKSYmIXQuaWU4KCk/IjM1MDBweCI6IjExOHB4IixtYXJnaW46MCxwYWRkaW5nOjAsY3Vyc29yOiJwb2ludGVyIixvcGFjaXR5OjB9KSwhdC5pZTcoKSYmdChuKS5jc3Moe2hlaWdodDoiMTAwJSJ9KSxpLmVsZW1lbnQuYXBwZW5kQ2hpbGQobiksdS5hdHRhY2gobiwiY2hhbmdlIixmdW5jdGlvbigpe2kub25DaGFuZ2Uobil9KSx1LmF0dGFjaChuLCJtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7dChpLmVsZW1lbnQpLmFkZENsYXNzKGkuaG92ZXJDbGFzcyl9KSx1LmF0dGFjaChuLCJtb3VzZW91dCIsZnVuY3Rpb24oKXt0KGkuZWxlbWVudCkucmVtb3ZlQ2xhc3MoaS5ob3ZlckNsYXNzKX0pLHUuYXR0YWNoKG4sImZvY3VzIixmdW5jdGlvbigpe3QoaS5lbGVtZW50KS5hZGRDbGFzcyhpLmZvY3VzQ2xhc3MpfSksdS5hdHRhY2gobiwiYmx1ciIsZnVuY3Rpb24oKXt0KGkuZWxlbWVudCkucmVtb3ZlQ2xhc3MoaS5mb2N1c0NsYXNzKX0pLG59dmFyIHIsZixvPXRoaXMsdT1uZXcgdC5EaXNwb3NlU3VwcG9ydCxpPXthY2NlcHRGaWxlczpudWxsLGVsZW1lbnQ6bnVsbCxmb2N1c0NsYXNzOiJxcS11cGxvYWQtYnV0dG9uLWZvY3VzIixmb2xkZXJzOiExLGhvdmVyQ2xhc3M6InFxLXVwbG9hZC1idXR0b24taG92ZXIiLGlvczhCcm93c2VyQ3Jhc2hXb3JrYXJvdW5kOiExLG11bHRpcGxlOiExLG5hbWU6InFxZmlsZSIsb25DaGFuZ2U6ZnVuY3Rpb24oKXt9LHRpdGxlOm51bGx9O3QuZXh0ZW5kKGksbik7Zj10LmdldFVuaXF1ZUlkKCk7dChpLmVsZW1lbnQpLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIixvdmVyZmxvdzoiaGlkZGVuIixkaXJlY3Rpb246Imx0ciJ9KTt0LmV4dGVuZCh0aGlzLHtnZXRJbnB1dDpmdW5jdGlvbigpe3JldHVybiByfSxnZXRCdXR0b25JZDpmdW5jdGlvbigpe3JldHVybiBmfSxzZXRNdWx0aXBsZTpmdW5jdGlvbihuLHIpe3ZhciB1PXJ8fHRoaXMuZ2V0SW5wdXQoKTtpLmlvczhCcm93c2VyQ3Jhc2hXb3JrYXJvdW5kJiZ0LmlvczgoKSYmKHQuaW9zQ2hyb21lKCl8fHQuaW9zU2FmYXJpV2ViVmlldygpKT91LnNldEF0dHJpYnV0ZSgibXVsdGlwbGUiLCIiKTpuP3Uuc2V0QXR0cmlidXRlKCJtdWx0aXBsZSIsIiIpOnUucmVtb3ZlQXR0cmlidXRlKCJtdWx0aXBsZSIpfSxzZXRBY2NlcHRGaWxlczpmdW5jdGlvbihuKXtuIT09aS5hY2NlcHRGaWxlcyYmci5zZXRBdHRyaWJ1dGUoImFjY2VwdCIsbil9LHJlc2V0OmZ1bmN0aW9uKCl7ci5wYXJlbnROb2RlJiZ0KHIpLnJlbW92ZSgpO3QoaS5lbGVtZW50KS5yZW1vdmVDbGFzcyhpLmZvY3VzQ2xhc3MpO3I9bnVsbDtyPWUoKX19KTtyPWUoKX07dC5VcGxvYWRCdXR0b24uQlVUVE9OX0lEX0FUVFJfTkFNRT0icXEtYnV0dG9uLWlkIjt0LlVwbG9hZERhdGE9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8obil7aWYodC5pc0FycmF5KG4pKXt2YXIgcj1bXTtyZXR1cm4gdC5lYWNoKG4sZnVuY3Rpb24obix0KXtyLnB1c2goaVt0XSl9KSxyfXJldHVybiBpW25dfWZ1bmN0aW9uIHMobil7aWYodC5pc0FycmF5KG4pKXt2YXIgcj1bXTtyZXR1cm4gdC5lYWNoKG4sZnVuY3Rpb24obix0KXtyLnB1c2goaVt1W3RdXSl9KSxyfXJldHVybiBpW3Vbbl1dfWZ1bmN0aW9uIGgobil7dmFyIHU9W10sZj1bXS5jb25jYXQobik7cmV0dXJuIHQuZWFjaChmLGZ1bmN0aW9uKG4sZil7dmFyIGU9cltmXTt2b2lkIDAhPT1lJiZ0LmVhY2goZSxmdW5jdGlvbihuLHQpe3UucHVzaChpW3RdKX0pfSksdX12YXIgaT1bXSx1PXt9LHI9e30sZT17fSxmPXt9O3QuZXh0ZW5kKHRoaXMse2FkZEZpbGU6ZnVuY3Rpb24obyl7dmFyIGg9by5zdGF0dXN8fHQuc3RhdHVzLlNVQk1JVFRJTkcscz1pLnB1c2goe25hbWU6by5uYW1lLG9yaWdpbmFsTmFtZTpvLm5hbWUsdXVpZDpvLnV1aWQsc2l6ZTpudWxsPT1vLnNpemU/LTE6by5zaXplLHN0YXR1czpoLGZpbGU6by5maWxlfSktMTtyZXR1cm4gby5iYXRjaElkJiYoaVtzXS5iYXRjaElkPW8uYmF0Y2hJZCx2b2lkIDA9PT1mW28uYmF0Y2hJZF0mJihmW28uYmF0Y2hJZF09W10pLGZbby5iYXRjaElkXS5wdXNoKHMpKSxvLnByb3h5R3JvdXBJZCYmKGlbc10ucHJveHlHcm91cElkPW8ucHJveHlHcm91cElkLHZvaWQgMD09PWVbby5wcm94eUdyb3VwSWRdJiYoZVtvLnByb3h5R3JvdXBJZF09W10pLGVbby5wcm94eUdyb3VwSWRdLnB1c2gocykpLGlbc10uaWQ9cyx1W28udXVpZF09cyx2b2lkIDA9PT1yW2hdJiYocltoXT1bXSkscltoXS5wdXNoKHMpLG8ub25CZWZvcmVTdGF0dXNDaGFuZ2UmJm8ub25CZWZvcmVTdGF0dXNDaGFuZ2Uocyksbi5vblN0YXR1c0NoYW5nZShzLG51bGwsaCksc30scmV0cmlldmU6ZnVuY3Rpb24obil7cmV0dXJuIHQuaXNPYmplY3QobikmJmkubGVuZ3RoP3ZvaWQgMCE9PW4uaWQ/byhuLmlkKTp2b2lkIDAhPT1uLnV1aWQ/cyhuLnV1aWQpOm4uc3RhdHVzP2gobi5zdGF0dXMpOnZvaWQgMDp0LmV4dGVuZChbXSxpLCEwKX0scmVtb3ZlRmlsZVJlZjpmdW5jdGlvbihuKXt2YXIgdD1vKG4pO3QmJmRlbGV0ZSB0LmZpbGV9LHJlc2V0OmZ1bmN0aW9uKCl7aT1bXTt1PXt9O3I9e307Zj17fX0sc2V0U3RhdHVzOmZ1bmN0aW9uKHUsZil7dmFyIGU9aVt1XS5zdGF0dXMsbz10LmluZGV4T2YocltlXSx1KTtyW2VdLnNwbGljZShvLDEpO2lbdV0uc3RhdHVzPWY7dm9pZCAwPT09cltmXSYmKHJbZl09W10pO3JbZl0ucHVzaCh1KTtuLm9uU3RhdHVzQ2hhbmdlKHUsZSxmKX0sdXVpZENoYW5nZWQ6ZnVuY3Rpb24obix0KXt2YXIgcj1pW25dLnV1aWQ7aVtuXS51dWlkPXQ7dVt0XT1uO2RlbGV0ZSB1W3JdfSx1cGRhdGVOYW1lOmZ1bmN0aW9uKG4sdCl7aVtuXS5uYW1lPXR9LHVwZGF0ZVNpemU6ZnVuY3Rpb24obix0KXtpW25dLnNpemU9dH0sc2V0UGFyZW50SWQ6ZnVuY3Rpb24obix0KXtpW25dLnBhcmVudElkPXR9LGdldElkc0luUHJveHlHcm91cDpmdW5jdGlvbihuKXt2YXIgdD1pW25dLnByb3h5R3JvdXBJZDtyZXR1cm4gdD9lW3RdOltdfSxnZXRJZHNJbkJhdGNoOmZ1bmN0aW9uKG4pe3JldHVybiBmW2lbbl0uYmF0Y2hJZF19fSl9O3Quc3RhdHVzPXtTVUJNSVRUSU5HOiJzdWJtaXR0aW5nIixTVUJNSVRURUQ6InN1Ym1pdHRlZCIsUkVKRUNURUQ6InJlamVjdGVkIixRVUVVRUQ6InF1ZXVlZCIsQ0FOQ0VMRUQ6ImNhbmNlbGVkIixQQVVTRUQ6InBhdXNlZCIsVVBMT0FESU5HOiJ1cGxvYWRpbmciLFVQTE9BRF9GSU5BTElaSU5HOiJ1cGxvYWQgZmluYWxpemluZyIsVVBMT0FEX1JFVFJZSU5HOiJyZXRyeWluZyB1cGxvYWQiLFVQTE9BRF9TVUNDRVNTRlVMOiJ1cGxvYWQgc3VjY2Vzc2Z1bCIsVVBMT0FEX0ZBSUxFRDoidXBsb2FkIGZhaWxlZCIsREVMRVRFX0ZBSUxFRDoiZGVsZXRlIGZhaWxlZCIsREVMRVRJTkc6ImRlbGV0aW5nIixERUxFVEVEOiJkZWxldGVkIn0sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dC5iYXNlUHVibGljQXBpPXthZGRCbG9iczpmdW5jdGlvbihuLHQsaSl7dGhpcy5hZGRGaWxlcyhuLHQsaSl9LGFkZEluaXRpYWxGaWxlczpmdW5jdGlvbihuKXt2YXIgaT10aGlzO3QuZWFjaChuLGZ1bmN0aW9uKG4sdCl7aS5fYWRkQ2FubmVkRmlsZSh0KX0pfSxhZGRGaWxlczpmdW5jdGlvbihuLGkscil7dGhpcy5fbWF5YmVIYW5kbGVJb3M4U2FmYXJpV29ya2Fyb3VuZCgpO3ZhciBmPTA9PT10aGlzLl9zdG9yZWRJZHMubGVuZ3RoP3QuZ2V0VW5pcXVlSWQoKTp0aGlzLl9jdXJyZW50QmF0Y2hJZCxlPXQuYmluZChmdW5jdGlvbihuKXt0aGlzLl9oYW5kbGVOZXdGaWxlKHtibG9iOm4sbmFtZTp0aGlzLl9vcHRpb25zLmJsb2JzLmRlZmF1bHROYW1lfSxmLHUpfSx0aGlzKSxvPXQuYmluZChmdW5jdGlvbihuKXt0aGlzLl9oYW5kbGVOZXdGaWxlKG4sZix1KX0sdGhpcykscz10LmJpbmQoZnVuY3Rpb24obil7dmFyIGk9dC5jYW52YXNUb0Jsb2Iobik7dGhpcy5faGFuZGxlTmV3RmlsZSh7YmxvYjppLG5hbWU6dGhpcy5fb3B0aW9ucy5ibG9icy5kZWZhdWx0TmFtZSsiLnBuZyJ9LGYsdSl9LHRoaXMpLGg9dC5iaW5kKGZ1bmN0aW9uKG4pe3ZhciBpPW4ucXVhbGl0eSYmbi5xdWFsaXR5LzEwMCxyPXQuY2FudmFzVG9CbG9iKG4uY2FudmFzLG4udHlwZSxpKTt0aGlzLl9oYW5kbGVOZXdGaWxlKHtibG9iOnIsbmFtZTpuLm5hbWV9LGYsdSl9LHRoaXMpLGM9dC5iaW5kKGZ1bmN0aW9uKG4pe2lmKHQuaXNJbnB1dChuKSYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5hamF4VXBsb2FkaW5nKXt2YXIgaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuLmZpbGVzKSxyPXRoaXM7dC5lYWNoKGksZnVuY3Rpb24obix0KXtyLl9oYW5kbGVOZXdGaWxlKHQsZix1KX0pfWVsc2UgdGhpcy5faGFuZGxlTmV3RmlsZShuLGYsdSl9LHRoaXMpLGw9ZnVuY3Rpb24oKXt0LmlzRmlsZUxpc3QobikmJihuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4pKTtuPVtdLmNvbmNhdChuKX0sYT10aGlzLHU9W107dGhpcy5fY3VycmVudEJhdGNoSWQ9ZjtuJiYobCgpLHQuZWFjaChuLGZ1bmN0aW9uKG4saSl7dC5pc0ZpbGVPcklucHV0KGkpP2MoaSk6dC5pc0Jsb2IoaSk/ZShpKTp0LmlzT2JqZWN0KGkpP2kuYmxvYiYmaS5uYW1lP28oaSk6aS5jYW52YXMmJmkubmFtZSYmaChpKTppLnRhZ05hbWUmJiJjYW52YXMiPT09aS50YWdOYW1lLnRvTG93ZXJDYXNlKCk/cyhpKTphLmxvZyhpKyIgaXMgbm90IGEgdmFsaWQgZmlsZSBjb250YWluZXIhICBJZ25vcmluZyEiLCJ3YXJuIil9KSx0aGlzLmxvZygiUmVjZWl2ZWQgIit1Lmxlbmd0aCsiIGZpbGVzLiIpLHRoaXMuX3ByZXBhcmVJdGVtc0ZvclVwbG9hZCh1LGkscikpfSxjYW5jZWw6ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7aWQ6bn0pO2kmJmkuc3RhdHVzPT09dC5zdGF0dXMuVVBMT0FEX0ZJTkFMSVpJTkc/dGhpcy5sb2codC5mb3JtYXQoIklnbm9yaW5nIGNhbmNlbCBmb3IgZmlsZSBJRCB7fSAoe30pLiAgRmluYWxpemluZyB1cGxvYWQuIixuLHRoaXMuZ2V0TmFtZShuKSksImVycm9yIik6dGhpcy5faGFuZGxlci5jYW5jZWwobil9LGNhbmNlbEFsbDpmdW5jdGlvbigpe3ZhciBuPVtdLGk9dGhpczt0LmV4dGVuZChuLHRoaXMuX3N0b3JlZElkcyk7dC5lYWNoKG4sZnVuY3Rpb24obix0KXtpLmNhbmNlbCh0KX0pO3RoaXMuX2hhbmRsZXIuY2FuY2VsQWxsKCl9LGNsZWFyU3RvcmVkRmlsZXM6ZnVuY3Rpb24oKXt0aGlzLl9zdG9yZWRJZHM9W119LGNvbnRpbnVlVXBsb2FkOmZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMuX3VwbG9hZERhdGEucmV0cmlldmUoe2lkOm59KTtyZXR1cm4hKCF0LnN1cHBvcnRlZEZlYXR1cmVzLnBhdXNlfHwhdGhpcy5fb3B0aW9ucy5jaHVua2luZy5lbmFibGVkKSYmKGkuc3RhdHVzPT09dC5zdGF0dXMuUEFVU0VEPyh0aGlzLmxvZyh0LmZvcm1hdCgiUGF1c2VkIGZpbGUgSUQge30gKHt9KSB3aWxsIGJlIGNvbnRpbnVlZC4gIE5vdCBwYXVzZWQuIixuLHRoaXMuZ2V0TmFtZShuKSkpLHRoaXMuX3VwbG9hZEZpbGUobiksITApOih0aGlzLmxvZyh0LmZvcm1hdCgiSWdub3JpbmcgY29udGludWUgZm9yIGZpbGUgSUQge30gKHt9KS4gIE5vdCBwYXVzZWQuIixuLHRoaXMuZ2V0TmFtZShuKSksImVycm9yIiksITEpKX0sZGVsZXRlRmlsZTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5fb25TdWJtaXREZWxldGUobil9LGRvZXNFeGlzdDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5faGFuZGxlci5pc1ZhbGlkKG4pfSxkcmF3VGh1bWJuYWlsOmZ1bmN0aW9uKG4saSxyLHUsZil7dmFyIG8scyxlPW5ldyB0LlByb21pc2U7cmV0dXJuIHRoaXMuX2ltYWdlR2VuZXJhdG9yPyhvPXRoaXMuX3RodW1ibmFpbFVybHNbbl0scz17Y3VzdG9tUmVzaXplRnVuY3Rpb246ZixtYXhTaXplOnI+MD9yOm51bGwsc2NhbGU6cj4wfSwhdSYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5pbWFnZVByZXZpZXdzJiYobz10aGlzLmdldEZpbGUobikpLG51bGw9PW8/ZS5mYWlsdXJlKHtjb250YWluZXI6aSxlcnJvcjoiRmlsZSBvciBVUkwgbm90IGZvdW5kLiJ9KTp0aGlzLl9pbWFnZUdlbmVyYXRvci5nZW5lcmF0ZShvLGkscykudGhlbihmdW5jdGlvbihuKXtlLnN1Y2Nlc3Mobil9LGZ1bmN0aW9uKG4sdCl7ZS5mYWlsdXJlKHtjb250YWluZXI6bixlcnJvcjp0fHwiUHJvYmxlbSBnZW5lcmF0aW5nIHRodW1ibmFpbCJ9KX0pKTplLmZhaWx1cmUoe2NvbnRhaW5lcjppLGVycm9yOiJNaXNzaW5nIGltYWdlIGdlbmVyYXRvciBtb2R1bGUifSksZX0sZ2V0QnV0dG9uOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9nZXRCdXR0b24odGhpcy5fYnV0dG9uSWRzRm9yRmlsZUlkc1tuXSl9LGdldEVuZHBvaW50OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9lbmRwb2ludFN0b3JlLmdldChuKX0sZ2V0RmlsZTpmdW5jdGlvbihuKXt2YXIgdCxpPXRoaXMuX2hhbmRsZXIuZ2V0RmlsZShuKTtyZXR1cm4gaXx8KHQ9dGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7aWQ6bn0pLHQmJihpPXQuZmlsZSkpLGl8fG51bGx9LGdldEluUHJvZ3Jlc3M6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXBsb2FkRGF0YS5yZXRyaWV2ZSh7c3RhdHVzOlt0LnN0YXR1cy5VUExPQURJTkcsdC5zdGF0dXMuVVBMT0FEX1JFVFJZSU5HLHQuc3RhdHVzLlFVRVVFRF19KS5sZW5ndGh9LGdldE5hbWU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3VwbG9hZERhdGEucmV0cmlldmUoe2lkOm59KS5uYW1lfSxnZXRQYXJlbnRJZDpmdW5jdGlvbihuKXt2YXIgdD10aGlzLmdldFVwbG9hZHMoe2lkOm59KSxpPW51bGw7cmV0dXJuIHQmJnZvaWQgMCE9PXQucGFyZW50SWQmJihpPXQucGFyZW50SWQpLGl9LGdldFJlc3VtYWJsZUZpbGVzRGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYW5kbGVyLmdldFJlc3VtYWJsZUZpbGVzRGF0YSgpfSxnZXRTaXplOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtpZDpufSkuc2l6ZX0sZ2V0TmV0VXBsb2FkczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZXRVcGxvYWRlZH0sZ2V0UmVtYWluaW5nQWxsb3dlZEl0ZW1zOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fY3VycmVudEl0ZW1MaW1pdDtyZXR1cm4gbj4wP24tdGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZDpudWxsfSxnZXRVcGxvYWRzOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKG4pfSxnZXRVdWlkOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtpZDpufSkudXVpZH0saXNSZXN1bWFibGU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2hhbmRsZXIuaGFzUmVzdW1lUmVjb3JkKG4pfSxsb2c6ZnVuY3Rpb24obixpKXshdGhpcy5fb3B0aW9ucy5kZWJ1Z3x8aSYmImluZm8iIT09aT9pJiYiaW5mbyIhPT1pJiZ0LmxvZygiW0ZpbmUgVXBsb2FkZXIgIit0LnZlcnNpb24rIl0gIituLGkpOnQubG9nKCJbRmluZSBVcGxvYWRlciAiK3QudmVyc2lvbisiXSAiK24pfSxwYXVzZVVwbG9hZDpmdW5jdGlvbihuKXt2YXIgaT10aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtpZDpufSk7aWYoIXQuc3VwcG9ydGVkRmVhdHVyZXMucGF1c2V8fCF0aGlzLl9vcHRpb25zLmNodW5raW5nLmVuYWJsZWQpcmV0dXJuITE7aWYodC5pbmRleE9mKFt0LnN0YXR1cy5VUExPQURJTkcsdC5zdGF0dXMuVVBMT0FEX1JFVFJZSU5HXSxpLnN0YXR1cyk+PTApe2lmKHRoaXMuX2hhbmRsZXIucGF1c2UobikpcmV0dXJuIHRoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdC5zdGF0dXMuUEFVU0VEKSwhMDt0aGlzLmxvZyh0LmZvcm1hdCgiVW5hYmxlIHRvIHBhdXNlIGZpbGUgSUQge30gKHt9KS4iLG4sdGhpcy5nZXROYW1lKG4pKSwiZXJyb3IiKX1lbHNlIHRoaXMubG9nKHQuZm9ybWF0KCJJZ25vcmluZyBwYXVzZSBmb3IgZmlsZSBJRCB7fSAoe30pLiAgTm90IGluIHByb2dyZXNzLiIsbix0aGlzLmdldE5hbWUobikpLCJlcnJvciIpO3JldHVybiExfSxyZW1vdmVGaWxlUmVmOmZ1bmN0aW9uKG4pe3RoaXMuX2hhbmRsZXIuZXhwdW5nZShuKTt0aGlzLl91cGxvYWREYXRhLnJlbW92ZUZpbGVSZWYobil9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5sb2coIlJlc2V0dGluZyB1cGxvYWRlci4uLiIpO3RoaXMuX2hhbmRsZXIucmVzZXQoKTt0aGlzLl9zdG9yZWRJZHM9W107dGhpcy5fYXV0b1JldHJpZXM9W107dGhpcy5fcmV0cnlUaW1lb3V0cz1bXTt0aGlzLl9wcmV2ZW50UmV0cmllcz1bXTt0aGlzLl90aHVtYm5haWxVcmxzPVtdO3QuZWFjaCh0aGlzLl9idXR0b25zLGZ1bmN0aW9uKG4sdCl7dC5yZXNldCgpfSk7dGhpcy5fcGFyYW1zU3RvcmUucmVzZXQoKTt0aGlzLl9lbmRwb2ludFN0b3JlLnJlc2V0KCk7dGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZD0wO3RoaXMuX25ldFVwbG9hZGVkPTA7dGhpcy5fdXBsb2FkRGF0YS5yZXNldCgpO3RoaXMuX2J1dHRvbklkc0ZvckZpbGVJZHM9W107dGhpcy5fcGFzdGVIYW5kbGVyJiZ0aGlzLl9wYXN0ZUhhbmRsZXIucmVzZXQoKTt0aGlzLl9vcHRpb25zLnNlc3Npb24ucmVmcmVzaE9uUmVzZXQmJnRoaXMuX3JlZnJlc2hTZXNzaW9uRGF0YSgpO3RoaXMuX3N1Y2NlZWRlZFNpbmNlTGFzdEFsbENvbXBsZXRlPVtdO3RoaXMuX2ZhaWxlZFNpbmNlTGFzdEFsbENvbXBsZXRlPVtdO3RoaXMuX3RvdGFsUHJvZ3Jlc3MmJnRoaXMuX3RvdGFsUHJvZ3Jlc3MucmVzZXQoKTt0aGlzLl9jdXN0b21SZXN1bWVEYXRhU3RvcmUucmVzZXQoKX0scmV0cnk6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX21hbnVhbFJldHJ5KG4pfSxzY2FsZUltYWdlOmZ1bmN0aW9uKG4saSl7dmFyIHI9dGhpcztyZXR1cm4gdC5TY2FsZXIucHJvdG90eXBlLnNjYWxlSW1hZ2UobixpLHtsb2c6dC5iaW5kKHIubG9nLHIpLGdldEZpbGU6dC5iaW5kKHIuZ2V0RmlsZSxyKSx1cGxvYWREYXRhOnIuX3VwbG9hZERhdGF9KX0sc2V0Q3VzdG9tSGVhZGVyczpmdW5jdGlvbihuLHQpe3RoaXMuX2N1c3RvbUhlYWRlcnNTdG9yZS5zZXQobix0KX0sc2V0Q3VzdG9tUmVzdW1lRGF0YTpmdW5jdGlvbihuLHQpe3RoaXMuX2N1c3RvbVJlc3VtZURhdGFTdG9yZS5zZXQodCxuKX0sc2V0RGVsZXRlRmlsZUN1c3RvbUhlYWRlcnM6ZnVuY3Rpb24obix0KXt0aGlzLl9kZWxldGVGaWxlQ3VzdG9tSGVhZGVyc1N0b3JlLnNldChuLHQpfSxzZXREZWxldGVGaWxlRW5kcG9pbnQ6ZnVuY3Rpb24obix0KXt0aGlzLl9kZWxldGVGaWxlRW5kcG9pbnRTdG9yZS5zZXQobix0KX0sc2V0RGVsZXRlRmlsZVBhcmFtczpmdW5jdGlvbihuLHQpe3RoaXMuX2RlbGV0ZUZpbGVQYXJhbXNTdG9yZS5zZXQobix0KX0sc2V0RW5kcG9pbnQ6ZnVuY3Rpb24obix0KXt0aGlzLl9lbmRwb2ludFN0b3JlLnNldChuLHQpfSxzZXRGb3JtOmZ1bmN0aW9uKG4pe3RoaXMuX3VwZGF0ZUZvcm1TdXBwb3J0QW5kUGFyYW1zKG4pfSxzZXRJdGVtTGltaXQ6ZnVuY3Rpb24obil7dGhpcy5fY3VycmVudEl0ZW1MaW1pdD1ufSxzZXROYW1lOmZ1bmN0aW9uKG4sdCl7dGhpcy5fdXBsb2FkRGF0YS51cGRhdGVOYW1lKG4sdCl9LHNldFBhcmFtczpmdW5jdGlvbihuLHQpe3RoaXMuX3BhcmFtc1N0b3JlLnNldChuLHQpfSxzZXRVdWlkOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuX3VwbG9hZERhdGEudXVpZENoYW5nZWQobix0KX0sc2V0U3RhdHVzOmZ1bmN0aW9uKG4saSl7aWYoIXRoaXMuZ2V0VXBsb2Fkcyh7aWQ6bn0pKXRocm93IG5ldyB0LkVycm9yKG4rIiBpcyBub3QgYSB2YWxpZCBmaWxlIElELiIpO3N3aXRjaChpKXtjYXNlIHQuc3RhdHVzLkRFTEVURUQ6dGhpcy5fb25EZWxldGVDb21wbGV0ZShuLG51bGwsITEpO2JyZWFrO2Nhc2UgdC5zdGF0dXMuREVMRVRFX0ZBSUxFRDp0aGlzLl9vbkRlbGV0ZUNvbXBsZXRlKG4sbnVsbCwhMCk7YnJlYWs7ZGVmYXVsdDp2YXIgcj0iTWV0aG9kIHNldFN0YXR1cyBjYWxsZWQgb24gJyIrbmFtZSsiJyBub3QgaW1wbGVtZW50ZWQgeWV0IGZvciAiK2k7dGhyb3cgdGhpcy5sb2cociksbmV3IHQuRXJyb3Iocik7fX0sdXBsb2FkU3RvcmVkRmlsZXM6ZnVuY3Rpb24oKXswPT09dGhpcy5fc3RvcmVkSWRzLmxlbmd0aD90aGlzLl9pdGVtRXJyb3IoIm5vRmlsZXNFcnJvciIpOnRoaXMuX3VwbG9hZFN0b3JlZEZpbGVzKCl9fTt0LmJhc2VQcml2YXRlQXBpPXtfYWRkQ2FubmVkRmlsZTpmdW5jdGlvbihuKXt2YXIgaT10aGlzO3JldHVybiB0aGlzLl91cGxvYWREYXRhLmFkZEZpbGUoe3V1aWQ6bi51dWlkLG5hbWU6bi5uYW1lLHNpemU6bi5zaXplLHN0YXR1czp0LnN0YXR1cy5VUExPQURfU1VDQ0VTU0ZVTCxvbkJlZm9yZVN0YXR1c0NoYW5nZTpmdW5jdGlvbih0KXtuLmRlbGV0ZUZpbGVFbmRwb2ludCYmaS5zZXREZWxldGVGaWxlRW5kcG9pbnQobi5kZWxldGVGaWxlRW5kcG9pbnQsdCk7bi5kZWxldGVGaWxlUGFyYW1zJiZpLnNldERlbGV0ZUZpbGVQYXJhbXMobi5kZWxldGVGaWxlUGFyYW1zLHQpO24udGh1bWJuYWlsVXJsJiYoaS5fdGh1bWJuYWlsVXJsc1t0XT1uLnRodW1ibmFpbFVybCk7aS5fbmV0VXBsb2FkZWQrKztpLl9uZXRVcGxvYWRlZE9yUXVldWVkKyt9fSl9LF9hbm5vdGF0ZVdpdGhCdXR0b25JZDpmdW5jdGlvbihuLGkpe3QuaXNGaWxlKG4pJiYobi5xcUJ1dHRvbklkPXRoaXMuX2dldEJ1dHRvbklkKGkpKX0sX2JhdGNoRXJyb3I6ZnVuY3Rpb24obil7dGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25FcnJvcihudWxsLG51bGwsbix2b2lkIDApfSxfY3JlYXRlRGVsZXRlSGFuZGxlcjpmdW5jdGlvbigpe3ZhciBuPXRoaXM7cmV0dXJuIG5ldyB0LkRlbGV0ZUZpbGVBamF4UmVxdWVzdGVyKHttZXRob2Q6dGhpcy5fb3B0aW9ucy5kZWxldGVGaWxlLm1ldGhvZC50b1VwcGVyQ2FzZSgpLG1heENvbm5lY3Rpb25zOnRoaXMuX29wdGlvbnMubWF4Q29ubmVjdGlvbnMsdXVpZFBhcmFtTmFtZTp0aGlzLl9vcHRpb25zLnJlcXVlc3QudXVpZE5hbWUsY3VzdG9tSGVhZGVyczp0aGlzLl9kZWxldGVGaWxlQ3VzdG9tSGVhZGVyc1N0b3JlLHBhcmFtc1N0b3JlOnRoaXMuX2RlbGV0ZUZpbGVQYXJhbXNTdG9yZSxlbmRwb2ludFN0b3JlOnRoaXMuX2RlbGV0ZUZpbGVFbmRwb2ludFN0b3JlLGNvcnM6dGhpcy5fb3B0aW9ucy5jb3JzLGxvZzp0LmJpbmQobi5sb2csbiksb25EZWxldGU6ZnVuY3Rpb24odCl7bi5fb25EZWxldGUodCk7bi5fb3B0aW9ucy5jYWxsYmFja3Mub25EZWxldGUodCl9LG9uRGVsZXRlQ29tcGxldGU6ZnVuY3Rpb24odCxpLHIpe24uX29uRGVsZXRlQ29tcGxldGUodCxpLHIpO24uX29wdGlvbnMuY2FsbGJhY2tzLm9uRGVsZXRlQ29tcGxldGUodCxpLHIpfX0pfSxfY3JlYXRlUGFzdGVIYW5kbGVyOmZ1bmN0aW9uKCl7dmFyIG49dGhpcztyZXR1cm4gbmV3IHQuUGFzdGVTdXBwb3J0KHt0YXJnZXRFbGVtZW50OnRoaXMuX29wdGlvbnMucGFzdGUudGFyZ2V0RWxlbWVudCxjYWxsYmFja3M6e2xvZzp0LmJpbmQobi5sb2csbikscGFzdGVSZWNlaXZlZDpmdW5jdGlvbihpKXtuLl9oYW5kbGVDaGVja2VkQ2FsbGJhY2soe25hbWU6Im9uUGFzdGVSZWNlaXZlZCIsY2FsbGJhY2s6dC5iaW5kKG4uX29wdGlvbnMuY2FsbGJhY2tzLm9uUGFzdGVSZWNlaXZlZCxuLGkpLG9uU3VjY2Vzczp0LmJpbmQobi5faGFuZGxlUGFzdGVTdWNjZXNzLG4saSksaWRlbnRpZmllcjoicGFzdGVkIGltYWdlIn0pfX19KX0sX2NyZWF0ZVN0b3JlOmZ1bmN0aW9uKG4saSl7dmFyIHU9e30sbz1uLGY9e30scj1pLGU9ZnVuY3Rpb24obil7cmV0dXJuIHQuaXNPYmplY3Qobik/dC5leHRlbmQoe30sbik6bn0scz1mdW5jdGlvbigpe3JldHVybiB0LmlzRnVuY3Rpb24ocik/cigpOnJ9LGg9ZnVuY3Rpb24obixpKXtyJiZ0LmlzT2JqZWN0KGkpJiZ0LmV4dGVuZChpLHMoKSk7ZltuXSYmdC5leHRlbmQoaSxmW25dKX07cmV0dXJue3NldDpmdW5jdGlvbihuLHQpe251bGw9PXQ/KHU9e30sbz1lKG4pKTp1W3RdPWUobil9LGdldDpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4gdD1udWxsIT1uJiZ1W25dP3Vbbl06ZShvKSxoKG4sdCksZSh0KX0sYWRkUmVhZE9ubHk6ZnVuY3Rpb24obixpKXt0LmlzT2JqZWN0KHUpJiYobnVsbD09PW4/dC5pc0Z1bmN0aW9uKGkpP3I9aToocj1yfHx7fSx0LmV4dGVuZChyLGkpKTooZltuXT1mW25dfHx7fSx0LmV4dGVuZChmW25dLGkpKSl9LHJlbW92ZTpmdW5jdGlvbihuKXtyZXR1cm4gZGVsZXRlIHVbbl19LHJlc2V0OmZ1bmN0aW9uKCl7dT17fTtmPXt9O289bn19fSxfY3JlYXRlVXBsb2FkRGF0YVRyYWNrZXI6ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3JldHVybiBuZXcgdC5VcGxvYWREYXRhKHtnZXROYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBuLmdldE5hbWUodCl9LGdldFV1aWQ6ZnVuY3Rpb24odCl7cmV0dXJuIG4uZ2V0VXVpZCh0KX0sZ2V0U2l6ZTpmdW5jdGlvbih0KXtyZXR1cm4gbi5nZXRTaXplKHQpfSxvblN0YXR1c0NoYW5nZTpmdW5jdGlvbih0LGkscil7bi5fb25VcGxvYWRTdGF0dXNDaGFuZ2UodCxpLHIpO24uX29wdGlvbnMuY2FsbGJhY2tzLm9uU3RhdHVzQ2hhbmdlKHQsaSxyKTtuLl9tYXliZUFsbENvbXBsZXRlKHQscik7bi5fdG90YWxQcm9ncmVzcyYmc2V0VGltZW91dChmdW5jdGlvbigpe24uX3RvdGFsUHJvZ3Jlc3Mub25TdGF0dXNDaGFuZ2UodCxpLHIpfSwwKX19KX0sX2NyZWF0ZVVwbG9hZEJ1dHRvbjpmdW5jdGlvbihuKXtmdW5jdGlvbiB1KCl7cmV0dXJuISF0LnN1cHBvcnRlZEZlYXR1cmVzLmFqYXhVcGxvYWRpbmcmJiEoaS5fb3B0aW9ucy53b3JrYXJvdW5kcy5pb3NFbXB0eVZpZGVvcyYmdC5pb3MoKSYmIXQuaW9zNigpJiZpLl9pc0FsbG93ZWRFeHRlbnNpb24oZSwiLm1vdiIpKSYmKHZvaWQgMD09PW4ubXVsdGlwbGU/aS5fb3B0aW9ucy5tdWx0aXBsZTpuLm11bHRpcGxlKX12YXIgcixpPXRoaXMsZj1uLmFjY2VwdHx8dGhpcy5fb3B0aW9ucy52YWxpZGF0aW9uLmFjY2VwdEZpbGVzLGU9bi5hbGxvd2VkRXh0ZW5zaW9uc3x8dGhpcy5fb3B0aW9ucy52YWxpZGF0aW9uLmFsbG93ZWRFeHRlbnNpb25zO3JldHVybiByPW5ldyB0LlVwbG9hZEJ1dHRvbih7YWNjZXB0RmlsZXM6ZixlbGVtZW50Om4uZWxlbWVudCxmb2N1c0NsYXNzOnRoaXMuX29wdGlvbnMuY2xhc3Nlcy5idXR0b25Gb2N1cyxmb2xkZXJzOm4uZm9sZGVycyxob3ZlckNsYXNzOnRoaXMuX29wdGlvbnMuY2xhc3Nlcy5idXR0b25Ib3Zlcixpb3M4QnJvd3NlckNyYXNoV29ya2Fyb3VuZDp0aGlzLl9vcHRpb25zLndvcmthcm91bmRzLmlvczhCcm93c2VyQ3Jhc2gsbXVsdGlwbGU6dSgpLG5hbWU6dGhpcy5fb3B0aW9ucy5yZXF1ZXN0LmlucHV0TmFtZSxvbkNoYW5nZTpmdW5jdGlvbihuKXtpLl9vbklucHV0Q2hhbmdlKG4pfSx0aXRsZTpudWxsPT1uLnRpdGxlP3RoaXMuX29wdGlvbnMudGV4dC5maWxlSW5wdXRUaXRsZTpuLnRpdGxlfSksdGhpcy5fZGlzcG9zZVN1cHBvcnQuYWRkRGlzcG9zZXIoZnVuY3Rpb24oKXtyLmRpc3Bvc2UoKX0pLGkuX2J1dHRvbnMucHVzaChyKSxyfSxfY3JlYXRlVXBsb2FkSGFuZGxlcjpmdW5jdGlvbihuLGkpe3ZhciByPXRoaXMsdT17fSxmPXtkZWJ1Zzp0aGlzLl9vcHRpb25zLmRlYnVnLG1heENvbm5lY3Rpb25zOnRoaXMuX29wdGlvbnMubWF4Q29ubmVjdGlvbnMsY29yczp0aGlzLl9vcHRpb25zLmNvcnMscGFyYW1zU3RvcmU6dGhpcy5fcGFyYW1zU3RvcmUsZW5kcG9pbnRTdG9yZTp0aGlzLl9lbmRwb2ludFN0b3JlLGNodW5raW5nOnRoaXMuX29wdGlvbnMuY2h1bmtpbmcscmVzdW1lOnRoaXMuX29wdGlvbnMucmVzdW1lLGJsb2JzOnRoaXMuX29wdGlvbnMuYmxvYnMsbG9nOnQuYmluZChyLmxvZyxyKSxwcmV2ZW50UmV0cnlQYXJhbTp0aGlzLl9vcHRpb25zLnJldHJ5LnByZXZlbnRSZXRyeVJlc3BvbnNlUHJvcGVydHksb25Qcm9ncmVzczpmdW5jdGlvbihuLHQsaSxmKXtpPDB8fGY8MHx8KHVbbl0/dVtuXS5sb2FkZWQ9PT1pJiZ1W25dLnRvdGFsPT09Znx8KHIuX29uUHJvZ3Jlc3Mobix0LGksZiksci5fb3B0aW9ucy5jYWxsYmFja3Mub25Qcm9ncmVzcyhuLHQsaSxmKSk6KHIuX29uUHJvZ3Jlc3Mobix0LGksZiksci5fb3B0aW9ucy5jYWxsYmFja3Mub25Qcm9ncmVzcyhuLHQsaSxmKSksdVtuXT17bG9hZGVkOmksdG90YWw6Zn0pfSxvbkNvbXBsZXRlOmZ1bmN0aW9uKG4saSxmLGUpe2RlbGV0ZSB1W25dO3ZhciBvLHM9ci5nZXRVcGxvYWRzKHtpZDpufSkuc3RhdHVzO3MhPT10LnN0YXR1cy5VUExPQURfU1VDQ0VTU0ZVTCYmcyE9PXQuc3RhdHVzLlVQTE9BRF9GQUlMRUQmJihvPXIuX29uQ29tcGxldGUobixpLGYsZSksbyBpbnN0YW5jZW9mIHQuUHJvbWlzZT9vLmRvbmUoZnVuY3Rpb24oKXtyLl9vcHRpb25zLmNhbGxiYWNrcy5vbkNvbXBsZXRlKG4saSxmLGUpfSk6ci5fb3B0aW9ucy5jYWxsYmFja3Mub25Db21wbGV0ZShuLGksZixlKSl9LG9uQ2FuY2VsOmZ1bmN0aW9uKG4saSx1KXt2YXIgZj1uZXcgdC5Qcm9taXNlO3JldHVybiByLl9oYW5kbGVDaGVja2VkQ2FsbGJhY2soe25hbWU6Im9uQ2FuY2VsIixjYWxsYmFjazp0LmJpbmQoci5fb3B0aW9ucy5jYWxsYmFja3Mub25DYW5jZWwscixuLGkpLG9uRmFpbHVyZTpmLmZhaWx1cmUsb25TdWNjZXNzOmZ1bmN0aW9uKCl7dS50aGVuKGZ1bmN0aW9uKCl7ci5fb25DYW5jZWwobixpKX0pO2Yuc3VjY2VzcygpfSxpZGVudGlmaWVyOm59KSxmfSxvblVwbG9hZFByZXA6dC5iaW5kKHRoaXMuX29uVXBsb2FkUHJlcCx0aGlzKSxvblVwbG9hZDpmdW5jdGlvbihuLGkpe3IuX29uVXBsb2FkKG4saSk7dmFyIHU9ci5fb3B0aW9ucy5jYWxsYmFja3Mub25VcGxvYWQobixpKTtyZXR1cm4gdC5pc0dlbmVyaWNQcm9taXNlKHUpPyhyLmxvZyh0LmZvcm1hdCgib25VcGxvYWQgZm9yIHt9IHJldHVybmVkIGEgUHJvbWlzZSAtIHdhaXRpbmcgZm9yIHJlc29sdXRpb24uIixuKSksdSk6KG5ldyB0LlByb21pc2UpLnN1Y2Nlc3MoKX0sb25VcGxvYWRDaHVuazpmdW5jdGlvbihuLGksdSl7ci5fb25VcGxvYWRDaHVuayhuLHUpO3ZhciBmPXIuX29wdGlvbnMuY2FsbGJhY2tzLm9uVXBsb2FkQ2h1bmsobixpLHUpO3JldHVybiB0LmlzR2VuZXJpY1Byb21pc2UoZik/KHIubG9nKHQuZm9ybWF0KCJvblVwbG9hZENodW5rIGZvciB7fS57fSByZXR1cm5lZCBhIFByb21pc2UgLSB3YWl0aW5nIGZvciByZXNvbHV0aW9uLiIsbix1LnBhcnRJbmRleCkpLGYpOihuZXcgdC5Qcm9taXNlKS5zdWNjZXNzKCl9LG9uVXBsb2FkQ2h1bmtTdWNjZXNzOmZ1bmN0aW9uKG4sdCl7ci5fb25VcGxvYWRDaHVua1N1Y2Nlc3Mobix0KTtyLl9vcHRpb25zLmNhbGxiYWNrcy5vblVwbG9hZENodW5rU3VjY2Vzcy5hcHBseShyLGFyZ3VtZW50cyl9LG9uUmVzdW1lOmZ1bmN0aW9uKG4sdCxpLHUpe3JldHVybiByLl9vcHRpb25zLmNhbGxiYWNrcy5vblJlc3VtZShuLHQsaSx1KX0sb25BdXRvUmV0cnk6ZnVuY3Rpb24oKXtyZXR1cm4gci5fb25BdXRvUmV0cnkuYXBwbHkocixhcmd1bWVudHMpfSxvblV1aWRDaGFuZ2VkOmZ1bmN0aW9uKG4sdCl7ci5sb2coIlNlcnZlciByZXF1ZXN0ZWQgVVVJRCBjaGFuZ2UgZnJvbSAnIityLmdldFV1aWQobikrIicgdG8gJyIrdCsiJyIpO3Iuc2V0VXVpZChuLHQpfSxnZXROYW1lOnQuYmluZChyLmdldE5hbWUsciksZ2V0VXVpZDp0LmJpbmQoci5nZXRVdWlkLHIpLGdldFNpemU6dC5iaW5kKHIuZ2V0U2l6ZSxyKSxzZXRTaXplOnQuYmluZChyLl9zZXRTaXplLHIpLGdldERhdGFCeVV1aWQ6ZnVuY3Rpb24obil7cmV0dXJuIHIuZ2V0VXBsb2Fkcyh7dXVpZDpufSl9LGlzUXVldWVkOmZ1bmN0aW9uKG4pe3ZhciBpPXIuZ2V0VXBsb2Fkcyh7aWQ6bn0pLnN0YXR1cztyZXR1cm4gaT09PXQuc3RhdHVzLlFVRVVFRHx8aT09PXQuc3RhdHVzLlNVQk1JVFRFRHx8aT09PXQuc3RhdHVzLlVQTE9BRF9SRVRSWUlOR3x8aT09PXQuc3RhdHVzLlBBVVNFRH0sZ2V0SWRzSW5Qcm94eUdyb3VwOnIuX3VwbG9hZERhdGEuZ2V0SWRzSW5Qcm94eUdyb3VwLGdldElkc0luQmF0Y2g6ci5fdXBsb2FkRGF0YS5nZXRJZHNJbkJhdGNoLGlzSW5Qcm9ncmVzczpmdW5jdGlvbihuKXtyZXR1cm4gci5nZXRVcGxvYWRzKHtpZDpufSkuc3RhdHVzPT09dC5zdGF0dXMuVVBMT0FESU5HfSxnZXRDdXN0b21SZXN1bWVEYXRhOnQuYmluZChyLl9nZXRDdXN0b21SZXN1bWVEYXRhLHIpLHNldFN0YXR1czpmdW5jdGlvbihuLHQpe3IuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdCl9fTtyZXR1cm4gdC5lYWNoKHRoaXMuX29wdGlvbnMucmVxdWVzdCxmdW5jdGlvbihuLHQpe2Zbbl09dH0pLGYuY3VzdG9tSGVhZGVycz10aGlzLl9jdXN0b21IZWFkZXJzU3RvcmUsbiYmdC5lYWNoKG4sZnVuY3Rpb24obix0KXtmW25dPXR9KSxuZXcgdC5VcGxvYWRIYW5kbGVyQ29udHJvbGxlcihmLGkpfSxfZmlsZU9yQmxvYlJlamVjdGVkOmZ1bmN0aW9uKG4pe3RoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQtLTt0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLlJFSkVDVEVEKX0sX2Zvcm1hdFNpemU6ZnVuY3Rpb24obil7aWYoMD09PW4pcmV0dXJuIG4rdGhpcy5fb3B0aW9ucy50ZXh0LnNpemVTeW1ib2xzWzBdO3ZhciB0PS0xO2RvIG4vPTFlMyx0Kys7d2hpbGUobj45OTkpO3JldHVybiBNYXRoLm1heChuLC4xKS50b0ZpeGVkKDEpK3RoaXMuX29wdGlvbnMudGV4dC5zaXplU3ltYm9sc1t0XX0sX2dlbmVyYXRlRXh0cmFCdXR0b25TcGVjczpmdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy5fZXh0cmFCdXR0b25TcGVjcz17fTt0LmVhY2godGhpcy5fb3B0aW9ucy5leHRyYUJ1dHRvbnMsZnVuY3Rpb24oaSxyKXt2YXIgdT1yLm11bHRpcGxlLGU9dC5leHRlbmQoe30sbi5fb3B0aW9ucy52YWxpZGF0aW9uLCEwKSxmPXQuZXh0ZW5kKHt9LHIpO3ZvaWQgMD09PXUmJih1PW4uX29wdGlvbnMubXVsdGlwbGUpO2YudmFsaWRhdGlvbiYmdC5leHRlbmQoZSxyLnZhbGlkYXRpb24sITApO3QuZXh0ZW5kKGYse211bHRpcGxlOnUsdmFsaWRhdGlvbjplfSwhMCk7bi5faW5pdEV4dHJhQnV0dG9uKGYpfSl9LF9nZXRCdXR0b246ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fZXh0cmFCdXR0b25TcGVjc1tuXTtyZXR1cm4gdD90LmVsZW1lbnQ6bj09PXRoaXMuX2RlZmF1bHRCdXR0b25JZD90aGlzLl9vcHRpb25zLmJ1dHRvbjp2b2lkIDB9LF9nZXRCdXR0b25JZDpmdW5jdGlvbihuKXt2YXIgdSxyLGk9bjtpZihpIGluc3RhbmNlb2YgdC5CbG9iUHJveHkmJihpPWkucmVmZXJlbmNlQmxvYiksaSYmIXQuaXNCbG9iKGkpKXtpZih0LmlzRmlsZShpKSlyZXR1cm4gaS5xcUJ1dHRvbklkO2lmKCJpbnB1dCI9PT1pLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmImZpbGUiPT09aS50eXBlLnRvTG93ZXJDYXNlKCkpcmV0dXJuIGkuZ2V0QXR0cmlidXRlKHQuVXBsb2FkQnV0dG9uLkJVVFRPTl9JRF9BVFRSX05BTUUpO2lmKHU9aS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKSx0LmVhY2godSxmdW5jdGlvbihuLHQpe2lmKCJmaWxlIj09PXQuZ2V0QXR0cmlidXRlKCJ0eXBlIikpcmV0dXJuIHI9dCwhMX0pLHIpcmV0dXJuIHIuZ2V0QXR0cmlidXRlKHQuVXBsb2FkQnV0dG9uLkJVVFRPTl9JRF9BVFRSX05BTUUpfX0sX2dldEN1c3RvbVJlc3VtZURhdGE6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2N1c3RvbVJlc3VtZURhdGFTdG9yZS5nZXQobil9LF9nZXROb3RGaW5pc2hlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtzdGF0dXM6W3Quc3RhdHVzLlVQTE9BRElORyx0LnN0YXR1cy5VUExPQURfUkVUUllJTkcsdC5zdGF0dXMuUVVFVUVELHQuc3RhdHVzLlNVQk1JVFRJTkcsdC5zdGF0dXMuU1VCTUlUVEVELHQuc3RhdHVzLlBBVVNFRF19KS5sZW5ndGh9LF9nZXRWYWxpZGF0aW9uQmFzZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9leHRyYUJ1dHRvblNwZWNzW25dO3JldHVybiB0P3QudmFsaWRhdGlvbjp0aGlzLl9vcHRpb25zLnZhbGlkYXRpb259LF9nZXRWYWxpZGF0aW9uRGVzY3JpcHRvcjpmdW5jdGlvbihuKXtyZXR1cm4gbi5maWxlIGluc3RhbmNlb2YgdC5CbG9iUHJveHk/e25hbWU6dC5nZXRGaWxlbmFtZShuLmZpbGUucmVmZXJlbmNlQmxvYiksc2l6ZTpuLmZpbGUucmVmZXJlbmNlQmxvYi5zaXplfTp7bmFtZTp0aGlzLmdldFVwbG9hZHMoe2lkOm4uaWR9KS5uYW1lLHNpemU6dGhpcy5nZXRVcGxvYWRzKHtpZDpuLmlkfSkuc2l6ZX19LF9nZXRWYWxpZGF0aW9uRGVzY3JpcHRvcnM6ZnVuY3Rpb24obil7dmFyIHI9dGhpcyxpPVtdO3JldHVybiB0LmVhY2gobixmdW5jdGlvbihuLHQpe2kucHVzaChyLl9nZXRWYWxpZGF0aW9uRGVzY3JpcHRvcih0KSl9KSxpfSxfaGFuZGxlQ2FtZXJhQWNjZXNzOmZ1bmN0aW9uKCl7aWYodGhpcy5fb3B0aW9ucy5jYW1lcmEuaW9zJiZ0LmlvcygpKXt2YXIgcj10aGlzLl9vcHRpb25zLmNhbWVyYS5idXR0b24saT1yP3RoaXMuX2dldEJ1dHRvbklkKHIpOnRoaXMuX2RlZmF1bHRCdXR0b25JZCxuPXRoaXMuX29wdGlvbnM7aSYmaSE9PXRoaXMuX2RlZmF1bHRCdXR0b25JZCYmKG49dGhpcy5fZXh0cmFCdXR0b25TcGVjc1tpXSk7bi5tdWx0aXBsZT0hMTtudWxsPT09bi52YWxpZGF0aW9uLmFjY2VwdEZpbGVzP24udmFsaWRhdGlvbi5hY2NlcHRGaWxlcz0iaW1hZ2UvKjtjYXB0dXJlPWNhbWVyYSI6bi52YWxpZGF0aW9uLmFjY2VwdEZpbGVzKz0iLGltYWdlLyo7Y2FwdHVyZT1jYW1lcmEiO3QuZWFjaCh0aGlzLl9idXR0b25zLGZ1bmN0aW9uKHQscil7aWYoci5nZXRCdXR0b25JZCgpPT09aSlyZXR1cm4gci5zZXRNdWx0aXBsZShuLm11bHRpcGxlKSxyLnNldEFjY2VwdEZpbGVzKG4uYWNjZXB0RmlsZXMpLCExfSl9fSxfaGFuZGxlQ2hlY2tlZENhbGxiYWNrOmZ1bmN0aW9uKG4pe3ZhciByPXRoaXMsaT1uLmNhbGxiYWNrKCk7cmV0dXJuIHQuaXNHZW5lcmljUHJvbWlzZShpKT8odGhpcy5sb2cobi5uYW1lKyIgLSB3YWl0aW5nIGZvciAiK24ubmFtZSsiIHByb21pc2UgdG8gYmUgZnVsZmlsbGVkIGZvciAiK24uaWRlbnRpZmllciksaS50aGVuKGZ1bmN0aW9uKHQpe3IubG9nKG4ubmFtZSsiIHByb21pc2Ugc3VjY2VzcyBmb3IgIituLmlkZW50aWZpZXIpO24ub25TdWNjZXNzKHQpfSxmdW5jdGlvbigpe24ub25GYWlsdXJlPyhyLmxvZyhuLm5hbWUrIiBwcm9taXNlIGZhaWx1cmUgZm9yICIrbi5pZGVudGlmaWVyKSxuLm9uRmFpbHVyZSgpKTpyLmxvZyhuLm5hbWUrIiBwcm9taXNlIGZhaWx1cmUgZm9yICIrbi5pZGVudGlmaWVyKX0pKTooaSE9PSExP24ub25TdWNjZXNzKGkpOm4ub25GYWlsdXJlPyh0aGlzLmxvZyhuLm5hbWUrIiAtIHJldHVybiB2YWx1ZSB3YXMgJ2ZhbHNlJyBmb3IgIituLmlkZW50aWZpZXIrIi4gIEludm9raW5nIGZhaWx1cmUgY2FsbGJhY2suIiksbi5vbkZhaWx1cmUoKSk6dGhpcy5sb2cobi5uYW1lKyIgLSByZXR1cm4gdmFsdWUgd2FzICdmYWxzZScgZm9yICIrbi5pZGVudGlmaWVyKyIuICBXaWxsIG5vdCBwcm9jZWVkLiIpLGkpfSxfaGFuZGxlTmV3RmlsZTpmdW5jdGlvbihuLGkscil7dmFyIHU9dGhpcyxvPXQuZ2V0VW5pcXVlSWQoKSxlPS0xLHM9dC5nZXRGaWxlbmFtZShuKSxmPW4uYmxvYnx8bixoPXRoaXMuX2N1c3RvbU5ld0ZpbGVIYW5kbGVyP3RoaXMuX2N1c3RvbU5ld0ZpbGVIYW5kbGVyOnQuYmluZCh1Ll9oYW5kbGVOZXdGaWxlR2VuZXJpYyx1KTshdC5pc0lucHV0KGYpJiZmLnNpemU+PTAmJihlPWYuc2l6ZSk7aChmLHMsbyxlLHIsaSx0aGlzLl9vcHRpb25zLnJlcXVlc3QudXVpZE5hbWUse3VwbG9hZERhdGE6dS5fdXBsb2FkRGF0YSxwYXJhbXNTdG9yZTp1Ll9wYXJhbXNTdG9yZSxhZGRGaWxlVG9IYW5kbGVyOmZ1bmN0aW9uKG4sdCl7dS5faGFuZGxlci5hZGQobix0KTt1Ll9uZXRVcGxvYWRlZE9yUXVldWVkKys7dS5fdHJhY2tCdXR0b24obil9fSl9LF9oYW5kbGVOZXdGaWxlR2VuZXJpYzpmdW5jdGlvbihuLHQsaSxyLHUsZil7dmFyIGU9dGhpcy5fdXBsb2FkRGF0YS5hZGRGaWxlKHt1dWlkOmksbmFtZTp0LHNpemU6cixiYXRjaElkOmYsZmlsZTpufSk7dGhpcy5faGFuZGxlci5hZGQoZSxuKTt0aGlzLl90cmFja0J1dHRvbihlKTt0aGlzLl9uZXRVcGxvYWRlZE9yUXVldWVkKys7dS5wdXNoKHtpZDplLGZpbGU6bn0pfSxfaGFuZGxlUGFzdGVTdWNjZXNzOmZ1bmN0aW9uKG4sdCl7dmFyIHI9bi50eXBlLnNwbGl0KCIvIilbMV0saT10O251bGw9PWkmJihpPXRoaXMuX29wdGlvbnMucGFzdGUuZGVmYXVsdE5hbWUpO2krPSIuIityO3RoaXMuYWRkRmlsZXMoe25hbWU6aSxibG9iOm59KX0sX2hhbmRsZURlbGV0ZVN1Y2Nlc3M6ZnVuY3Rpb24obil7aWYodGhpcy5nZXRVcGxvYWRzKHtpZDpufSkuc3RhdHVzIT09dC5zdGF0dXMuREVMRVRFRCl7dmFyIGk9dGhpcy5nZXROYW1lKG4pO3RoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQtLTt0aGlzLl9uZXRVcGxvYWRlZC0tO3RoaXMuX2hhbmRsZXIuZXhwdW5nZShuKTt0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLkRFTEVURUQpO3RoaXMubG9nKCJEZWxldGUgcmVxdWVzdCBmb3IgJyIraSsiJyBoYXMgc3VjY2VlZGVkLiIpfX0sX2hhbmRsZURlbGV0ZUZhaWxlZDpmdW5jdGlvbihuLGkpe3ZhciByPXRoaXMuZ2V0TmFtZShuKTt0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLkRFTEVURV9GQUlMRUQpO3RoaXMubG9nKCJEZWxldGUgcmVxdWVzdCBmb3IgJyIrcisiJyBoYXMgZmFpbGVkLiIsImVycm9yIik7aSYmdm9pZCAwIT09aS53aXRoQ3JlZGVudGlhbHM/dGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25FcnJvcihuLHIsIkRlbGV0ZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHJlc3BvbnNlIGNvZGUgIitpLnN0YXR1cyxpKTp0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vbkVycm9yKG4sciwiRGVsZXRlIHJlcXVlc3QgZmFpbGVkIixpKX0sX2luaXRFeHRyYUJ1dHRvbjpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9jcmVhdGVVcGxvYWRCdXR0b24oe2FjY2VwdDpuLnZhbGlkYXRpb24uYWNjZXB0RmlsZXMsYWxsb3dlZEV4dGVuc2lvbnM6bi52YWxpZGF0aW9uLmFsbG93ZWRFeHRlbnNpb25zLGVsZW1lbnQ6bi5lbGVtZW50LGZvbGRlcnM6bi5mb2xkZXJzLG11bHRpcGxlOm4ubXVsdGlwbGUsdGl0bGU6bi5maWxlSW5wdXRUaXRsZX0pO3RoaXMuX2V4dHJhQnV0dG9uU3BlY3NbdC5nZXRCdXR0b25JZCgpXT1ufSxfaW5pdEZvcm1TdXBwb3J0QW5kUGFyYW1zOmZ1bmN0aW9uKCl7dGhpcy5fZm9ybVN1cHBvcnQ9dC5Gb3JtU3VwcG9ydCYmbmV3IHQuRm9ybVN1cHBvcnQodGhpcy5fb3B0aW9ucy5mb3JtLHQuYmluZCh0aGlzLnVwbG9hZFN0b3JlZEZpbGVzLHRoaXMpLHQuYmluZCh0aGlzLmxvZyx0aGlzKSk7dGhpcy5fZm9ybVN1cHBvcnQmJnRoaXMuX2Zvcm1TdXBwb3J0LmF0dGFjaGVkVG9Gb3JtPyh0aGlzLl9wYXJhbXNTdG9yZT10aGlzLl9jcmVhdGVTdG9yZSh0aGlzLl9vcHRpb25zLnJlcXVlc3QucGFyYW1zLHRoaXMuX2Zvcm1TdXBwb3J0LmdldEZvcm1JbnB1dHNBc09iamVjdCksdGhpcy5fb3B0aW9ucy5hdXRvVXBsb2FkPXRoaXMuX2Zvcm1TdXBwb3J0Lm5ld0F1dG9VcGxvYWQsdGhpcy5fZm9ybVN1cHBvcnQubmV3RW5kcG9pbnQmJih0aGlzLl9vcHRpb25zLnJlcXVlc3QuZW5kcG9pbnQ9dGhpcy5fZm9ybVN1cHBvcnQubmV3RW5kcG9pbnQpKTp0aGlzLl9wYXJhbXNTdG9yZT10aGlzLl9jcmVhdGVTdG9yZSh0aGlzLl9vcHRpb25zLnJlcXVlc3QucGFyYW1zKX0sX2lzRGVsZXRlUG9zc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4hKCF0LkRlbGV0ZUZpbGVBamF4UmVxdWVzdGVyfHwhdGhpcy5fb3B0aW9ucy5kZWxldGVGaWxlLmVuYWJsZWQpJiYoIXRoaXMuX29wdGlvbnMuY29ycy5leHBlY3RlZHx8ISF0LnN1cHBvcnRlZEZlYXR1cmVzLmRlbGV0ZUZpbGVDb3JzWGhyfHwhKCF0LnN1cHBvcnRlZEZlYXR1cmVzLmRlbGV0ZUZpbGVDb3JzWGRyfHwhdGhpcy5fb3B0aW9ucy5jb3JzLmFsbG93WGRyKSl9LF9pc0FsbG93ZWRFeHRlbnNpb246ZnVuY3Rpb24obixpKXt2YXIgcj0hMTtyZXR1cm4hbi5sZW5ndGh8fCh0LmVhY2gobixmdW5jdGlvbihuLHUpe2lmKHQuaXNTdHJpbmcodSkpe3ZhciBmPW5ldyBSZWdFeHAoIlxcLiIrdSsiJCIsImkiKTtpZihudWxsIT1pLm1hdGNoKGYpKXJldHVybiByPSEwLCExfX0pLHIpfSxfaXRlbUVycm9yOmZ1bmN0aW9uKG4saSxyKXtmdW5jdGlvbiB1KG4sdCl7Zj1mLnJlcGxhY2Uobix0KX12YXIgcyxlLGY9dGhpcy5fb3B0aW9ucy5tZXNzYWdlc1tuXSxoPVtdLGM9W10uY29uY2F0KGkpLGw9Y1swXSxhPXRoaXMuX2dldEJ1dHRvbklkKHIpLG89dGhpcy5fZ2V0VmFsaWRhdGlvbkJhc2UoYSk7cmV0dXJuIHQuZWFjaChvLmFsbG93ZWRFeHRlbnNpb25zLGZ1bmN0aW9uKG4saSl7dC5pc1N0cmluZyhpKSYmaC5wdXNoKGkpfSkscz1oLmpvaW4oIiwgIikudG9Mb3dlckNhc2UoKSx1KCJ7ZmlsZX0iLHRoaXMuX29wdGlvbnMuZm9ybWF0RmlsZU5hbWUobCkpLHUoIntleHRlbnNpb25zfSIscyksdSgie3NpemVMaW1pdH0iLHRoaXMuX2Zvcm1hdFNpemUoby5zaXplTGltaXQpKSx1KCJ7bWluU2l6ZUxpbWl0fSIsdGhpcy5fZm9ybWF0U2l6ZShvLm1pblNpemVMaW1pdCkpLGU9Zi5tYXRjaCgvKFx7XHcrXH0pL2cpLG51bGwhPT1lJiZ0LmVhY2goZSxmdW5jdGlvbihuLHQpe3UodCxjW25dKX0pLHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uRXJyb3IobnVsbCxsLGYsdm9pZCAwKSxmfSxfbWFudWFsUmV0cnk6ZnVuY3Rpb24obixpKXtpZih0aGlzLl9vbkJlZm9yZU1hbnVhbFJldHJ5KG4pKXJldHVybiB0aGlzLl9uZXRVcGxvYWRlZE9yUXVldWVkKyssdGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0LnN0YXR1cy5VUExPQURfUkVUUllJTkcpLGk/aShuKTp0aGlzLl9oYW5kbGVyLnJldHJ5KG4pLCEwfSxfbWF5YmVBbGxDb21wbGV0ZTpmdW5jdGlvbihuLGkpe3ZhciByPXRoaXMsdT10aGlzLl9nZXROb3RGaW5pc2hlZCgpO2k9PT10LnN0YXR1cy5VUExPQURfU1VDQ0VTU0ZVTD90aGlzLl9zdWNjZWVkZWRTaW5jZUxhc3RBbGxDb21wbGV0ZS5wdXNoKG4pOmk9PT10LnN0YXR1cy5VUExPQURfRkFJTEVEJiZ0aGlzLl9mYWlsZWRTaW5jZUxhc3RBbGxDb21wbGV0ZS5wdXNoKG4pOzA9PT11JiYodGhpcy5fc3VjY2VlZGVkU2luY2VMYXN0QWxsQ29tcGxldGUubGVuZ3RofHx0aGlzLl9mYWlsZWRTaW5jZUxhc3RBbGxDb21wbGV0ZS5sZW5ndGgpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5fb25BbGxDb21wbGV0ZShyLl9zdWNjZWVkZWRTaW5jZUxhc3RBbGxDb21wbGV0ZSxyLl9mYWlsZWRTaW5jZUxhc3RBbGxDb21wbGV0ZSl9LDApfSxfbWF5YmVIYW5kbGVJb3M4U2FmYXJpV29ya2Fyb3VuZDpmdW5jdGlvbigpe3ZhciBuPXRoaXM7aWYodGhpcy5fb3B0aW9ucy53b3JrYXJvdW5kcy5pb3M4U2FmYXJpVXBsb2FkcyYmdC5pb3M4MDAoKSYmdC5pb3NTYWZhcmkoKSl0aHJvdyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7d2luZG93LmFsZXJ0KG4uX29wdGlvbnMubWVzc2FnZXMudW5zdXBwb3J0ZWRCcm93c2VySW9zOFNhZmFyaSl9LDApLG5ldyB0LkVycm9yKHRoaXMuX29wdGlvbnMubWVzc2FnZXMudW5zdXBwb3J0ZWRCcm93c2VySW9zOFNhZmFyaSk7fSxfbWF5YmVQYXJzZUFuZFNlbmRVcGxvYWRFcnJvcjpmdW5jdGlvbihuLHQsaSxyKXtpZighaS5zdWNjZXNzKWlmKHImJjIwMCE9PXIuc3RhdHVzJiYhaS5lcnJvcil0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vbkVycm9yKG4sdCwiWEhSIHJldHVybmVkIHJlc3BvbnNlIGNvZGUgIityLnN0YXR1cyxyKTtlbHNle3ZhciB1PWkuZXJyb3I/aS5lcnJvcjp0aGlzLl9vcHRpb25zLnRleHQuZGVmYXVsdFJlc3BvbnNlRXJyb3I7dGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25FcnJvcihuLHQsdSxyKX19LF9tYXliZVByb2Nlc3NOZXh0SXRlbUFmdGVyT25WYWxpZGF0ZUNhbGxiYWNrOmZ1bmN0aW9uKG4saSxyLHUsZil7dmFyIGU9dGhpcztpZihpLmxlbmd0aD5yKWlmKG58fCF0aGlzLl9vcHRpb25zLnZhbGlkYXRpb24uc3RvcE9uRmlyc3RJbnZhbGlkRmlsZSlzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIG49ZS5fZ2V0VmFsaWRhdGlvbkRlc2NyaXB0b3IoaVtyXSksbz1lLl9nZXRCdXR0b25JZChpW3JdLmZpbGUpLHM9ZS5fZ2V0QnV0dG9uKG8pO2UuX2hhbmRsZUNoZWNrZWRDYWxsYmFjayh7bmFtZToib25WYWxpZGF0ZSIsY2FsbGJhY2s6dC5iaW5kKGUuX29wdGlvbnMuY2FsbGJhY2tzLm9uVmFsaWRhdGUsZSxuLHMpLG9uU3VjY2Vzczp0LmJpbmQoZS5fb25WYWxpZGF0ZUNhbGxiYWNrU3VjY2VzcyxlLGkscix1LGYpLG9uRmFpbHVyZTp0LmJpbmQoZS5fb25WYWxpZGF0ZUNhbGxiYWNrRmFpbHVyZSxlLGkscix1LGYpLGlkZW50aWZpZXI6Ikl0ZW0gJyIrbi5uYW1lKyInLCBzaXplOiAiK24uc2l6ZX0pfSwwKTtlbHNlIGlmKCFuKWZvcig7cjxpLmxlbmd0aDtyKyspZS5fZmlsZU9yQmxvYlJlamVjdGVkKGlbcl0uaWQpfSxfb25BbGxDb21wbGV0ZTpmdW5jdGlvbihuLGkpe3RoaXMuX3RvdGFsUHJvZ3Jlc3MmJnRoaXMuX3RvdGFsUHJvZ3Jlc3Mub25BbGxDb21wbGV0ZShuLGksdGhpcy5fcHJldmVudFJldHJpZXMpO3RoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uQWxsQ29tcGxldGUodC5leHRlbmQoW10sbiksdC5leHRlbmQoW10saSkpO3RoaXMuX3N1Y2NlZWRlZFNpbmNlTGFzdEFsbENvbXBsZXRlPVtdO3RoaXMuX2ZhaWxlZFNpbmNlTGFzdEFsbENvbXBsZXRlPVtdfSxfb25BdXRvUmV0cnk6ZnVuY3Rpb24obixpLHIsdSxmKXt2YXIgZT10aGlzLG87aWYoZS5fcHJldmVudFJldHJpZXNbbl09cltlLl9vcHRpb25zLnJldHJ5LnByZXZlbnRSZXRyeVJlc3BvbnNlUHJvcGVydHldLGUuX3Nob3VsZEF1dG9SZXRyeShuKSlyZXR1cm4gbz0xZTMqZS5fb3B0aW9ucy5yZXRyeS5hdXRvQXR0ZW1wdERlbGF5LGUuX21heWJlUGFyc2VBbmRTZW5kVXBsb2FkRXJyb3IuYXBwbHkoZSxhcmd1bWVudHMpLGUuX29wdGlvbnMuY2FsbGJhY2tzLm9uQXV0b1JldHJ5KG4saSxlLl9hdXRvUmV0cmllc1tuXSksZS5fb25CZWZvcmVBdXRvUmV0cnkobixpKSxlLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLlVQTE9BRF9SRVRSWUlORyksZS5fcmV0cnlUaW1lb3V0c1tuXT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5sb2coIlN0YXJ0aW5nIHJldHJ5IGZvciAiK2krIi4uLiIpO2Y/ZihuKTplLl9oYW5kbGVyLnJldHJ5KG4pfSxvKSwhMH0sX29uQmVmb3JlQXV0b1JldHJ5OmZ1bmN0aW9uKG4sdCl7dGhpcy5sb2coIldhaXRpbmcgIit0aGlzLl9vcHRpb25zLnJldHJ5LmF1dG9BdHRlbXB0RGVsYXkrIiBzZWNvbmRzIGJlZm9yZSByZXRyeWluZyAiK3QrIi4uLiIpfSxfb25CZWZvcmVNYW51YWxSZXRyeTpmdW5jdGlvbihuKXt2YXIgdCxpPXRoaXMuX2N1cnJlbnRJdGVtTGltaXQ7cmV0dXJuIHRoaXMuX3ByZXZlbnRSZXRyaWVzW25dPyh0aGlzLmxvZygiUmV0cmllcyBhcmUgZm9yYmlkZGVuIGZvciBpZCAiK24sIndhcm4iKSwhMSk6dGhpcy5faGFuZGxlci5pc1ZhbGlkKG4pPyh0PXRoaXMuZ2V0TmFtZShuKSx0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vbk1hbnVhbFJldHJ5KG4sdCkhPT0hMSYmKGk+MCYmdGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZCsxPmk/KHRoaXMuX2l0ZW1FcnJvcigicmV0cnlGYWlsVG9vTWFueUl0ZW1zIiksITEpOih0aGlzLmxvZygiUmV0cnlpbmcgdXBsb2FkIGZvciAnIit0KyInIChpZDogIituKyIpLi4uIiksITApKSk6KHRoaXMubG9nKCInIituKyInIGlzIG5vdCBhIHZhbGlkIGZpbGUgSUQiLCJlcnJvciIpLCExKX0sX29uQ2FuY2VsOmZ1bmN0aW9uKG4pe3RoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQtLTtjbGVhclRpbWVvdXQodGhpcy5fcmV0cnlUaW1lb3V0c1tuXSk7dmFyIGk9dC5pbmRleE9mKHRoaXMuX3N0b3JlZElkcyxuKTshdGhpcy5fb3B0aW9ucy5hdXRvVXBsb2FkJiZpPj0wJiZ0aGlzLl9zdG9yZWRJZHMuc3BsaWNlKGksMSk7dGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0LnN0YXR1cy5DQU5DRUxFRCl9LF9vbkNvbXBsZXRlOmZ1bmN0aW9uKG4saSxyLHUpe3JldHVybiByLnN1Y2Nlc3M/KHIudGh1bWJuYWlsVXJsJiYodGhpcy5fdGh1bWJuYWlsVXJsc1tuXT1yLnRodW1ibmFpbFVybCksdGhpcy5fbmV0VXBsb2FkZWQrKyx0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLlVQTE9BRF9TVUNDRVNTRlVMKSk6KHRoaXMuX25ldFVwbG9hZGVkT3JRdWV1ZWQtLSx0aGlzLl91cGxvYWREYXRhLnNldFN0YXR1cyhuLHQuc3RhdHVzLlVQTE9BRF9GQUlMRUQpLHJbdGhpcy5fb3B0aW9ucy5yZXRyeS5wcmV2ZW50UmV0cnlSZXNwb25zZVByb3BlcnR5XT09PSEwJiYodGhpcy5fcHJldmVudFJldHJpZXNbbl09ITApKSx0aGlzLl9tYXliZVBhcnNlQW5kU2VuZFVwbG9hZEVycm9yKG4saSxyLHUpLCEhci5zdWNjZXNzfSxfb25EZWxldGU6ZnVuY3Rpb24obil7dGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0LnN0YXR1cy5ERUxFVElORyl9LF9vbkRlbGV0ZUNvbXBsZXRlOmZ1bmN0aW9uKG4sdCxpKXt0aGlzLmdldE5hbWUobik7aT90aGlzLl9oYW5kbGVEZWxldGVGYWlsZWQobix0KTp0aGlzLl9oYW5kbGVEZWxldGVTdWNjZXNzKG4pfSxfb25JbnB1dENoYW5nZTpmdW5jdGlvbihuKXt2YXIgaTtpZih0LnN1cHBvcnRlZEZlYXR1cmVzLmFqYXhVcGxvYWRpbmcpe2ZvcihpPTA7aTxuLmZpbGVzLmxlbmd0aDtpKyspdGhpcy5fYW5ub3RhdGVXaXRoQnV0dG9uSWQobi5maWxlc1tpXSxuKTt0aGlzLmFkZEZpbGVzKG4uZmlsZXMpfWVsc2Ugbi52YWx1ZS5sZW5ndGg+MCYmdGhpcy5hZGRGaWxlcyhuKTt0LmVhY2godGhpcy5fYnV0dG9ucyxmdW5jdGlvbihuLHQpe3QucmVzZXQoKX0pfSxfb25Qcm9ncmVzczpmdW5jdGlvbihuLHQsaSxyKXt0aGlzLl90b3RhbFByb2dyZXNzJiZ0aGlzLl90b3RhbFByb2dyZXNzLm9uSW5kaXZpZHVhbFByb2dyZXNzKG4saSxyKX0sX29uU3VibWl0OmZ1bmN0aW9uKCl7fSxfb25TdWJtaXRDYWxsYmFja1N1Y2Nlc3M6ZnVuY3Rpb24obil7dGhpcy5fb25TdWJtaXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdC5zdGF0dXMuU1VCTUlUVEVEKTt0aGlzLl9vblN1Ym1pdHRlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fb3B0aW9ucy5hdXRvVXBsb2FkPyh0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vblN1Ym1pdHRlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5fdXBsb2FkRmlsZShuKSk6KHRoaXMuX3N0b3JlRm9yTGF0ZXIobiksdGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25TdWJtaXR0ZWQuYXBwbHkodGhpcyxhcmd1bWVudHMpKX0sX29uU3VibWl0RGVsZXRlOmZ1bmN0aW9uKG4saSxyKXt2YXIgdSxmPXRoaXMuZ2V0VXVpZChuKTtyZXR1cm4gaSYmKHU9dC5iaW5kKGksdGhpcyxuLGYscikpLHRoaXMuX2lzRGVsZXRlUG9zc2libGUoKT8odGhpcy5faGFuZGxlQ2hlY2tlZENhbGxiYWNrKHtuYW1lOiJvblN1Ym1pdERlbGV0ZSIsY2FsbGJhY2s6dC5iaW5kKHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzLm9uU3VibWl0RGVsZXRlLHRoaXMsbiksb25TdWNjZXNzOnV8fHQuYmluZCh0aGlzLl9kZWxldGVIYW5kbGVyLnNlbmREZWxldGUsdGhpcyxuLGYsciksaWRlbnRpZmllcjpufSksITApOih0aGlzLmxvZygiRGVsZXRlIHJlcXVlc3QgaWdub3JlZCBmb3IgSUQgIituKyIsIGRlbGV0ZSBmZWF0dXJlIGlzIGRpc2FibGVkIG9yIHJlcXVlc3Qgbm90IHBvc3NpYmxlIGR1ZSB0byBDT1JTIG9uIGEgdXNlciBhZ2VudCB0aGF0IGRvZXMgbm90IHN1cHBvcnQgcHJlLWZsaWdodGluZy4iLCJ3YXJuIiksITEpfSxfb25TdWJtaXR0ZWQ6ZnVuY3Rpb24oKXt9LF9vblRvdGFsUHJvZ3Jlc3M6ZnVuY3Rpb24obix0KXt0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vblRvdGFsUHJvZ3Jlc3Mobix0KX0sX29uVXBsb2FkUHJlcDpmdW5jdGlvbigpe30sX29uVXBsb2FkOmZ1bmN0aW9uKG4pe3RoaXMuX3VwbG9hZERhdGEuc2V0U3RhdHVzKG4sdC5zdGF0dXMuVVBMT0FESU5HKX0sX29uVXBsb2FkQ2h1bms6ZnVuY3Rpb24oKXt9LF9vblVwbG9hZENodW5rU3VjY2VzczpmdW5jdGlvbihuKXshdGhpcy5fcHJldmVudFJldHJpZXNbbl0mJnRoaXMuX29wdGlvbnMucmV0cnkuZW5hYmxlQXV0byYmKHRoaXMuX2F1dG9SZXRyaWVzW25dPTApfSxfb25VcGxvYWRTdGF0dXNDaGFuZ2U6ZnVuY3Rpb24obixpLHIpe3I9PT10LnN0YXR1cy5QQVVTRUQmJmNsZWFyVGltZW91dCh0aGlzLl9yZXRyeVRpbWVvdXRzW25dKX0sX29uVmFsaWRhdGVCYXRjaENhbGxiYWNrRmFpbHVyZTpmdW5jdGlvbihuKXt2YXIgaT10aGlzO3QuZWFjaChuLGZ1bmN0aW9uKG4sdCl7aS5fZmlsZU9yQmxvYlJlamVjdGVkKHQuaWQpfSl9LF9vblZhbGlkYXRlQmF0Y2hDYWxsYmFja1N1Y2Nlc3M6ZnVuY3Rpb24obixpLHIsdSxmKXt2YXIgbyxlPXRoaXMuX2N1cnJlbnRJdGVtTGltaXQscz10aGlzLl9uZXRVcGxvYWRlZE9yUXVldWVkOzA9PT1lfHxzPD1lP2kubGVuZ3RoPjA/dGhpcy5faGFuZGxlQ2hlY2tlZENhbGxiYWNrKHtuYW1lOiJvblZhbGlkYXRlIixjYWxsYmFjazp0LmJpbmQodGhpcy5fb3B0aW9ucy5jYWxsYmFja3Mub25WYWxpZGF0ZSx0aGlzLG5bMF0sZiksb25TdWNjZXNzOnQuYmluZCh0aGlzLl9vblZhbGlkYXRlQ2FsbGJhY2tTdWNjZXNzLHRoaXMsaSwwLHIsdSksb25GYWlsdXJlOnQuYmluZCh0aGlzLl9vblZhbGlkYXRlQ2FsbGJhY2tGYWlsdXJlLHRoaXMsaSwwLHIsdSksaWRlbnRpZmllcjoiSXRlbSAnIitpWzBdLmZpbGUubmFtZSsiJywgc2l6ZTogIitpWzBdLmZpbGUuc2l6ZX0pOnRoaXMuX2l0ZW1FcnJvcigibm9GaWxlc0Vycm9yIik6KHRoaXMuX29uVmFsaWRhdGVCYXRjaENhbGxiYWNrRmFpbHVyZShpKSxvPXRoaXMuX29wdGlvbnMubWVzc2FnZXMudG9vTWFueUl0ZW1zRXJyb3IucmVwbGFjZSgvXHtuZXRJdGVtc1x9L2cscykucmVwbGFjZSgvXHtpdGVtTGltaXRcfS9nLGUpLHRoaXMuX2JhdGNoRXJyb3IobykpfSxfb25WYWxpZGF0ZUNhbGxiYWNrRmFpbHVyZTpmdW5jdGlvbihuLHQsaSxyKXt2YXIgdT10KzE7dGhpcy5fZmlsZU9yQmxvYlJlamVjdGVkKG5bdF0uaWQsblt0XS5maWxlLm5hbWUpO3RoaXMuX21heWJlUHJvY2Vzc05leHRJdGVtQWZ0ZXJPblZhbGlkYXRlQ2FsbGJhY2soITEsbix1LGkscil9LF9vblZhbGlkYXRlQ2FsbGJhY2tTdWNjZXNzOmZ1bmN0aW9uKG4sdCxpLHIpe3ZhciB1PXRoaXMsZj10KzEsZT10aGlzLl9nZXRWYWxpZGF0aW9uRGVzY3JpcHRvcihuW3RdKTt0aGlzLl92YWxpZGF0ZUZpbGVPckJsb2JEYXRhKG5bdF0sZSkudGhlbihmdW5jdGlvbigpe3UuX3VwbG9hZChuW3RdLmlkLGkscik7dS5fbWF5YmVQcm9jZXNzTmV4dEl0ZW1BZnRlck9uVmFsaWRhdGVDYWxsYmFjayghMCxuLGYsaSxyKX0sZnVuY3Rpb24oKXt1Ll9tYXliZVByb2Nlc3NOZXh0SXRlbUFmdGVyT25WYWxpZGF0ZUNhbGxiYWNrKCExLG4sZixpLHIpfSl9LF9wcmVwYXJlSXRlbXNGb3JVcGxvYWQ6ZnVuY3Rpb24obixpLHIpe2lmKDA9PT1uLmxlbmd0aClyZXR1cm4gdm9pZCB0aGlzLl9pdGVtRXJyb3IoIm5vRmlsZXNFcnJvciIpO3ZhciB1PXRoaXMuX2dldFZhbGlkYXRpb25EZXNjcmlwdG9ycyhuKSxlPXRoaXMuX2dldEJ1dHRvbklkKG5bMF0uZmlsZSksZj10aGlzLl9nZXRCdXR0b24oZSk7dGhpcy5faGFuZGxlQ2hlY2tlZENhbGxiYWNrKHtuYW1lOiJvblZhbGlkYXRlQmF0Y2giLGNhbGxiYWNrOnQuYmluZCh0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vblZhbGlkYXRlQmF0Y2gsdGhpcyx1LGYpLG9uU3VjY2Vzczp0LmJpbmQodGhpcy5fb25WYWxpZGF0ZUJhdGNoQ2FsbGJhY2tTdWNjZXNzLHRoaXMsdSxuLGkscixmKSxvbkZhaWx1cmU6dC5iaW5kKHRoaXMuX29uVmFsaWRhdGVCYXRjaENhbGxiYWNrRmFpbHVyZSx0aGlzLG4pLGlkZW50aWZpZXI6ImJhdGNoIHZhbGlkYXRpb24ifSl9LF9wcmV2ZW50TGVhdmVJblByb2dyZXNzOmZ1bmN0aW9uKCl7dmFyIG49dGhpczt0aGlzLl9kaXNwb3NlU3VwcG9ydC5hdHRhY2god2luZG93LCJiZWZvcmV1bmxvYWQiLGZ1bmN0aW9uKHQpe2lmKG4uZ2V0SW5Qcm9ncmVzcygpKXJldHVybiB0PXR8fHdpbmRvdy5ldmVudCx0LnJldHVyblZhbHVlPW4uX29wdGlvbnMubWVzc2FnZXMub25MZWF2ZSxuLl9vcHRpb25zLm1lc3NhZ2VzLm9uTGVhdmV9KX0sX3JlZnJlc2hTZXNzaW9uRGF0YTpmdW5jdGlvbigpe3ZhciBuPXRoaXMsaT10aGlzLl9vcHRpb25zLnNlc3Npb247dC5TZXNzaW9uJiZudWxsIT10aGlzLl9vcHRpb25zLnNlc3Npb24uZW5kcG9pbnQmJih0aGlzLl9zZXNzaW9ufHwodC5leHRlbmQoaSx7Y29yczp0aGlzLl9vcHRpb25zLmNvcnN9KSxpLmxvZz10LmJpbmQodGhpcy5sb2csdGhpcyksaS5hZGRGaWxlUmVjb3JkPXQuYmluZCh0aGlzLl9hZGRDYW5uZWRGaWxlLHRoaXMpLHRoaXMuX3Nlc3Npb249bmV3IHQuU2Vzc2lvbihpKSksc2V0VGltZW91dChmdW5jdGlvbigpe24uX3Nlc3Npb24ucmVmcmVzaCgpLnRoZW4oZnVuY3Rpb24odCxpKXtuLl9zZXNzaW9uUmVxdWVzdENvbXBsZXRlKCk7bi5fb3B0aW9ucy5jYWxsYmFja3Mub25TZXNzaW9uUmVxdWVzdENvbXBsZXRlKHQsITAsaSl9LGZ1bmN0aW9uKHQsaSl7bi5fb3B0aW9ucy5jYWxsYmFja3Mub25TZXNzaW9uUmVxdWVzdENvbXBsZXRlKHQsITEsaSl9KX0sMCkpfSxfc2Vzc2lvblJlcXVlc3RDb21wbGV0ZTpmdW5jdGlvbigpe30sX3NldFNpemU6ZnVuY3Rpb24obix0KXt0aGlzLl91cGxvYWREYXRhLnVwZGF0ZVNpemUobix0KTt0aGlzLl90b3RhbFByb2dyZXNzJiZ0aGlzLl90b3RhbFByb2dyZXNzLm9uTmV3U2l6ZShuKX0sX3Nob3VsZEF1dG9SZXRyeTpmdW5jdGlvbihuKXt2YXIgaT10aGlzLl91cGxvYWREYXRhLnJldHJpZXZlKHtpZDpufSk7cmV0dXJuISEoIXRoaXMuX3ByZXZlbnRSZXRyaWVzW25dJiZ0aGlzLl9vcHRpb25zLnJldHJ5LmVuYWJsZUF1dG8mJmkuc3RhdHVzIT09dC5zdGF0dXMuUEFVU0VEJiYodm9pZCAwPT09dGhpcy5fYXV0b1JldHJpZXNbbl0mJih0aGlzLl9hdXRvUmV0cmllc1tuXT0wKSx0aGlzLl9hdXRvUmV0cmllc1tuXTx0aGlzLl9vcHRpb25zLnJldHJ5Lm1heEF1dG9BdHRlbXB0cykpJiYodGhpcy5fYXV0b1JldHJpZXNbbl0rPTEsITApfSxfc3RvcmVGb3JMYXRlcjpmdW5jdGlvbihuKXt0aGlzLl9zdG9yZWRJZHMucHVzaChuKX0sX3RyYWNrQnV0dG9uOmZ1bmN0aW9uKG4pe3ZhciBpO2k9dC5zdXBwb3J0ZWRGZWF0dXJlcy5hamF4VXBsb2FkaW5nP3RoaXMuX2hhbmRsZXIuZ2V0RmlsZShuKS5xcUJ1dHRvbklkOnRoaXMuX2dldEJ1dHRvbklkKHRoaXMuX2hhbmRsZXIuZ2V0SW5wdXQobikpO2kmJih0aGlzLl9idXR0b25JZHNGb3JGaWxlSWRzW25dPWkpfSxfdXBkYXRlRm9ybVN1cHBvcnRBbmRQYXJhbXM6ZnVuY3Rpb24obil7dGhpcy5fb3B0aW9ucy5mb3JtLmVsZW1lbnQ9bjt0aGlzLl9mb3JtU3VwcG9ydD10LkZvcm1TdXBwb3J0JiZuZXcgdC5Gb3JtU3VwcG9ydCh0aGlzLl9vcHRpb25zLmZvcm0sdC5iaW5kKHRoaXMudXBsb2FkU3RvcmVkRmlsZXMsdGhpcyksdC5iaW5kKHRoaXMubG9nLHRoaXMpKTt0aGlzLl9mb3JtU3VwcG9ydCYmdGhpcy5fZm9ybVN1cHBvcnQuYXR0YWNoZWRUb0Zvcm0mJih0aGlzLl9wYXJhbXNTdG9yZS5hZGRSZWFkT25seShudWxsLHRoaXMuX2Zvcm1TdXBwb3J0LmdldEZvcm1JbnB1dHNBc09iamVjdCksdGhpcy5fb3B0aW9ucy5hdXRvVXBsb2FkPXRoaXMuX2Zvcm1TdXBwb3J0Lm5ld0F1dG9VcGxvYWQsdGhpcy5fZm9ybVN1cHBvcnQubmV3RW5kcG9pbnQmJnRoaXMuc2V0RW5kcG9pbnQodGhpcy5fZm9ybVN1cHBvcnQubmV3RW5kcG9pbnQpKX0sX3VwbG9hZDpmdW5jdGlvbihuLGkscil7dmFyIHU9dGhpcy5nZXROYW1lKG4pO2kmJnRoaXMuc2V0UGFyYW1zKGksbik7ciYmdGhpcy5zZXRFbmRwb2ludChyLG4pO3RoaXMuX2hhbmRsZUNoZWNrZWRDYWxsYmFjayh7bmFtZToib25TdWJtaXQiLGNhbGxiYWNrOnQuYmluZCh0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vblN1Ym1pdCx0aGlzLG4sdSksb25TdWNjZXNzOnQuYmluZCh0aGlzLl9vblN1Ym1pdENhbGxiYWNrU3VjY2Vzcyx0aGlzLG4sdSksb25GYWlsdXJlOnQuYmluZCh0aGlzLl9maWxlT3JCbG9iUmVqZWN0ZWQsdGhpcyxuLHUpLGlkZW50aWZpZXI6bn0pfSxfdXBsb2FkRmlsZTpmdW5jdGlvbihuKXt0aGlzLl9oYW5kbGVyLnVwbG9hZChuKXx8dGhpcy5fdXBsb2FkRGF0YS5zZXRTdGF0dXMobix0LnN0YXR1cy5RVUVVRUQpfSxfdXBsb2FkU3RvcmVkRmlsZXM6ZnVuY3Rpb24oKXtmb3IodmFyIGksbixyPXRoaXM7dGhpcy5fc3RvcmVkSWRzLmxlbmd0aDspaT10aGlzLl9zdG9yZWRJZHMuc2hpZnQoKSx0aGlzLl91cGxvYWRGaWxlKGkpO249dGhpcy5nZXRVcGxvYWRzKHtzdGF0dXM6dC5zdGF0dXMuU1VCTUlUVElOR30pLmxlbmd0aDtuJiYodC5sb2coIlN0aWxsIHdhaXRpbmcgZm9yICIrbisiIGZpbGVzIHRvIGNsZWFyIHN1Ym1pdCBxdWV1ZS4gV2lsbCByZS1wYXJzZSBzdG9yZWQgSURzIGFycmF5IHNob3J0bHkuIiksc2V0VGltZW91dChmdW5jdGlvbigpe3IuX3VwbG9hZFN0b3JlZEZpbGVzKCl9LDFlMykpfSxfdmFsaWRhdGVGaWxlT3JCbG9iRGF0YTpmdW5jdGlvbihuLGkpe3ZhciBzPXRoaXMsdT1mdW5jdGlvbigpe3JldHVybiBuLmZpbGUgaW5zdGFuY2VvZiB0LkJsb2JQcm94eT9uLmZpbGUucmVmZXJlbmNlQmxvYjpuLmZpbGV9KCksZj1pLm5hbWUsZT1pLnNpemUsaD10aGlzLl9nZXRCdXR0b25JZChuLmZpbGUpLG89dGhpcy5fZ2V0VmFsaWRhdGlvbkJhc2UoaCkscj1uZXcgdC5Qcm9taXNlO3JldHVybiByLnRoZW4oZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKCl7cy5fZmlsZU9yQmxvYlJlamVjdGVkKG4uaWQsZil9KSx0LmlzRmlsZU9ySW5wdXQodSkmJiF0aGlzLl9pc0FsbG93ZWRFeHRlbnNpb24oby5hbGxvd2VkRXh0ZW5zaW9ucyxmKT8odGhpcy5faXRlbUVycm9yKCJ0eXBlRXJyb3IiLGYsdSksci5mYWlsdXJlKCkpOnRoaXMuX29wdGlvbnMudmFsaWRhdGlvbi5hbGxvd0VtcHR5fHwwIT09ZT9lPjAmJm8uc2l6ZUxpbWl0JiZlPm8uc2l6ZUxpbWl0Pyh0aGlzLl9pdGVtRXJyb3IoInNpemVFcnJvciIsZix1KSxyLmZhaWx1cmUoKSk6ZT4wJiZlPG8ubWluU2l6ZUxpbWl0Pyh0aGlzLl9pdGVtRXJyb3IoIm1pblNpemVFcnJvciIsZix1KSxyLmZhaWx1cmUoKSk6KHQuSW1hZ2VWYWxpZGF0aW9uJiZ0LnN1cHBvcnRlZEZlYXR1cmVzLmltYWdlUHJldmlld3MmJnQuaXNGaWxlKHUpP25ldyB0LkltYWdlVmFsaWRhdGlvbih1LHQuYmluZChzLmxvZyxzKSkudmFsaWRhdGUoby5pbWFnZSkudGhlbihyLnN1Y2Nlc3MsZnVuY3Rpb24obil7cy5faXRlbUVycm9yKG4rIkltYWdlRXJyb3IiLGYsdSk7ci5mYWlsdXJlKCl9KTpyLnN1Y2Nlc3MoKSxyKToodGhpcy5faXRlbUVycm9yKCJlbXB0eUVycm9yIixmLHUpLHIuZmFpbHVyZSgpKX0sX3dyYXBDYWxsYmFja3M6ZnVuY3Rpb24oKXt2YXIgbix0LGk7bj10aGlzO3Q9ZnVuY3Rpb24odCxpLHIpe3ZhciB1O3RyeXtyZXR1cm4gaS5hcHBseShuLHIpfWNhdGNoKGkpe3U9aS5tZXNzYWdlfHxpLnRvU3RyaW5nKCk7bi5sb2coIkNhdWdodCBleGNlcHRpb24gaW4gJyIrdCsiJyBjYWxsYmFjayAtICIrdSwiZXJyb3IiKX19O2ZvcihpIGluIHRoaXMuX29wdGlvbnMuY2FsbGJhY2tzKSFmdW5jdGlvbigpe3ZhciByLHU7cj1pO3U9bi5fb3B0aW9ucy5jYWxsYmFja3Nbcl07bi5fb3B0aW9ucy5jYWxsYmFja3Nbcl09ZnVuY3Rpb24oKXtyZXR1cm4gdChyLHUsYXJndW1lbnRzKX19KCl9fX0oKSxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt0LkZpbmVVcGxvYWRlckJhc2ljPWZ1bmN0aW9uKG4pe3ZhciBpPXRoaXM7dGhpcy5fb3B0aW9ucz17ZGVidWc6ITEsYnV0dG9uOm51bGwsbXVsdGlwbGU6ITAsbWF4Q29ubmVjdGlvbnM6MyxkaXNhYmxlQ2FuY2VsRm9yRm9ybVVwbG9hZHM6ITEsYXV0b1VwbG9hZDohMCx3YXJuQmVmb3JlVW5sb2FkOiEwLHJlcXVlc3Q6e2N1c3RvbUhlYWRlcnM6e30sZW5kcG9pbnQ6Ii9zZXJ2ZXIvdXBsb2FkIixmaWxlbmFtZVBhcmFtOiJxcWZpbGVuYW1lIixmb3JjZU11bHRpcGFydDohMCxpbnB1dE5hbWU6InFxZmlsZSIsbWV0aG9kOiJQT1NUIixvbWl0RGVmYXVsdFBhcmFtczohMSxwYXJhbXM6e30scGFyYW1zSW5Cb2R5OiEwLHJlcXVpcmVTdWNjZXNzSnNvbjohMCx0b3RhbEZpbGVTaXplTmFtZToicXF0b3RhbGZpbGVzaXplIix1dWlkTmFtZToicXF1dWlkIn0sdmFsaWRhdGlvbjp7YWxsb3dlZEV4dGVuc2lvbnM6W10sc2l6ZUxpbWl0OjAsbWluU2l6ZUxpbWl0OjAsaXRlbUxpbWl0OjAsc3RvcE9uRmlyc3RJbnZhbGlkRmlsZTohMCxhY2NlcHRGaWxlczpudWxsLGltYWdlOnttYXhIZWlnaHQ6MCxtYXhXaWR0aDowLG1pbkhlaWdodDowLG1pbldpZHRoOjB9LGFsbG93RW1wdHk6ITF9LGNhbGxiYWNrczp7b25TdWJtaXQ6ZnVuY3Rpb24oKXt9LG9uU3VibWl0dGVkOmZ1bmN0aW9uKCl7fSxvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7fSxvbkFsbENvbXBsZXRlOmZ1bmN0aW9uKCl7fSxvbkNhbmNlbDpmdW5jdGlvbigpe30sb25VcGxvYWQ6ZnVuY3Rpb24oKXt9LG9uVXBsb2FkQ2h1bms6ZnVuY3Rpb24oKXt9LG9uVXBsb2FkQ2h1bmtTdWNjZXNzOmZ1bmN0aW9uKCl7fSxvblJlc3VtZTpmdW5jdGlvbigpe30sb25Qcm9ncmVzczpmdW5jdGlvbigpe30sb25Ub3RhbFByb2dyZXNzOmZ1bmN0aW9uKCl7fSxvbkVycm9yOmZ1bmN0aW9uKCl7fSxvbkF1dG9SZXRyeTpmdW5jdGlvbigpe30sb25NYW51YWxSZXRyeTpmdW5jdGlvbigpe30sb25WYWxpZGF0ZUJhdGNoOmZ1bmN0aW9uKCl7fSxvblZhbGlkYXRlOmZ1bmN0aW9uKCl7fSxvblN1Ym1pdERlbGV0ZTpmdW5jdGlvbigpe30sb25EZWxldGU6ZnVuY3Rpb24oKXt9LG9uRGVsZXRlQ29tcGxldGU6ZnVuY3Rpb24oKXt9LG9uUGFzdGVSZWNlaXZlZDpmdW5jdGlvbigpe30sb25TdGF0dXNDaGFuZ2U6ZnVuY3Rpb24oKXt9LG9uU2Vzc2lvblJlcXVlc3RDb21wbGV0ZTpmdW5jdGlvbigpe319LG1lc3NhZ2VzOnt0eXBlRXJyb3I6IntmaWxlfSBoYXMgYW4gaW52YWxpZCBleHRlbnNpb24uIFZhbGlkIGV4dGVuc2lvbihzKToge2V4dGVuc2lvbnN9LiIsc2l6ZUVycm9yOiJ7ZmlsZX0gaXMgdG9vIGxhcmdlLCBtYXhpbXVtIGZpbGUgc2l6ZSBpcyB7c2l6ZUxpbWl0fS4iLG1pblNpemVFcnJvcjoie2ZpbGV9IGlzIHRvbyBzbWFsbCwgbWluaW11bSBmaWxlIHNpemUgaXMge21pblNpemVMaW1pdH0uIixlbXB0eUVycm9yOiJ7ZmlsZX0gaXMgZW1wdHksIHBsZWFzZSBzZWxlY3QgZmlsZXMgYWdhaW4gd2l0aG91dCBpdC4iLG5vRmlsZXNFcnJvcjoiTm8gZmlsZXMgdG8gdXBsb2FkLiIsdG9vTWFueUl0ZW1zRXJyb3I6IlRvbyBtYW55IGl0ZW1zICh7bmV0SXRlbXN9KSB3b3VsZCBiZSB1cGxvYWRlZC4gIEl0ZW0gbGltaXQgaXMge2l0ZW1MaW1pdH0uIixtYXhIZWlnaHRJbWFnZUVycm9yOiJJbWFnZSBpcyB0b28gdGFsbC4iLG1heFdpZHRoSW1hZ2VFcnJvcjoiSW1hZ2UgaXMgdG9vIHdpZGUuIixtaW5IZWlnaHRJbWFnZUVycm9yOiJJbWFnZSBpcyBub3QgdGFsbCBlbm91Z2guIixtaW5XaWR0aEltYWdlRXJyb3I6IkltYWdlIGlzIG5vdCB3aWRlIGVub3VnaC4iLHJldHJ5RmFpbFRvb01hbnlJdGVtczoiUmV0cnkgZmFpbGVkIC0geW91IGhhdmUgcmVhY2hlZCB5b3VyIGZpbGUgbGltaXQuIixvbkxlYXZlOiJUaGUgZmlsZXMgYXJlIGJlaW5nIHVwbG9hZGVkLCBpZiB5b3UgbGVhdmUgbm93IHRoZSB1cGxvYWQgd2lsbCBiZSBjYW5jZWxlZC4iLHVuc3VwcG9ydGVkQnJvd3NlcklvczhTYWZhcmk6IlVucmVjb3ZlcmFibGUgZXJyb3IgLSB0aGlzIGJyb3dzZXIgZG9lcyBub3QgcGVybWl0IGZpbGUgdXBsb2FkaW5nIG9mIGFueSBraW5kIGR1ZSB0byBzZXJpb3VzIGJ1Z3MgaW4gaU9TOCBTYWZhcmkuICBQbGVhc2UgdXNlIGlPUzggQ2hyb21lIHVudGlsIEFwcGxlIGZpeGVzIHRoZXNlIGlzc3Vlcy4ifSxyZXRyeTp7ZW5hYmxlQXV0bzohMSxtYXhBdXRvQXR0ZW1wdHM6MyxhdXRvQXR0ZW1wdERlbGF5OjUscHJldmVudFJldHJ5UmVzcG9uc2VQcm9wZXJ0eToicHJldmVudFJldHJ5In0sY2xhc3Nlczp7YnV0dG9uSG92ZXI6InFxLXVwbG9hZC1idXR0b24taG92ZXIiLGJ1dHRvbkZvY3VzOiJxcS11cGxvYWQtYnV0dG9uLWZvY3VzIn0sY2h1bmtpbmc6e2VuYWJsZWQ6ITEsY29uY3VycmVudDp7ZW5hYmxlZDohMX0sbWFuZGF0b3J5OiExLHBhcmFtTmFtZXM6e3BhcnRJbmRleDoicXFwYXJ0aW5kZXgiLHBhcnRCeXRlT2Zmc2V0OiJxcXBhcnRieXRlb2Zmc2V0IixjaHVua1NpemU6InFxY2h1bmtzaXplIix0b3RhbEZpbGVTaXplOiJxcXRvdGFsZmlsZXNpemUiLHRvdGFsUGFydHM6InFxdG90YWxwYXJ0cyJ9LHBhcnRTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIDJlNn0sc3VjY2Vzczp7ZW5kcG9pbnQ6bnVsbCxoZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGpzb25QYXlsb2FkOiExLG1ldGhvZDoiUE9TVCIscGFyYW1zOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHJlc2V0T25TdGF0dXM6W119fSxyZXN1bWU6e2VuYWJsZWQ6ITEscmVjb3Jkc0V4cGlyZUluOjcscGFyYW1OYW1lczp7cmVzdW1pbmc6InFxcmVzdW1lIn0sY3VzdG9tS2V5czpmdW5jdGlvbigpe3JldHVybltdfX0sZm9ybWF0RmlsZU5hbWU6ZnVuY3Rpb24obil7cmV0dXJuIG59LHRleHQ6e2RlZmF1bHRSZXNwb25zZUVycm9yOiJVcGxvYWQgZmFpbHVyZSByZWFzb24gdW5rbm93biIsZmlsZUlucHV0VGl0bGU6ImZpbGUgaW5wdXQiLHNpemVTeW1ib2xzOlsia0IiLCJNQiIsIkdCIiwiVEIiLCJQQiIsIkVCIl19LGRlbGV0ZUZpbGU6e2VuYWJsZWQ6ITEsbWV0aG9kOiJERUxFVEUiLGVuZHBvaW50OiIvc2VydmVyL3VwbG9hZCIsY3VzdG9tSGVhZGVyczp7fSxwYXJhbXM6e319LGNvcnM6e2V4cGVjdGVkOiExLHNlbmRDcmVkZW50aWFsczohMSxhbGxvd1hkcjohMX0sYmxvYnM6e2RlZmF1bHROYW1lOiJtaXNjX2RhdGEifSxwYXN0ZTp7dGFyZ2V0RWxlbWVudDpudWxsLGRlZmF1bHROYW1lOiJwYXN0ZWRfaW1hZ2UifSxjYW1lcmE6e2lvczohMSxidXR0b246bnVsbH0sZXh0cmFCdXR0b25zOltdLHNlc3Npb246e2VuZHBvaW50Om51bGwscGFyYW1zOnt9LGN1c3RvbUhlYWRlcnM6e30scmVmcmVzaE9uUmVzZXQ6ITB9LGZvcm06e2VsZW1lbnQ6InFxLWZvcm0iLGF1dG9VcGxvYWQ6ITEsaW50ZXJjZXB0U3VibWl0OiEwfSxzY2FsaW5nOntjdXN0b21SZXNpemVyOm51bGwsc2VuZE9yaWdpbmFsOiEwLG9yaWVudDohMCxkZWZhdWx0VHlwZTpudWxsLGRlZmF1bHRRdWFsaXR5OjgwLGZhaWx1cmVUZXh0OiJGYWlsZWQgdG8gc2NhbGUiLGluY2x1ZGVFeGlmOiExLHNpemVzOltdfSx3b3JrYXJvdW5kczp7aW9zRW1wdHlWaWRlb3M6ITAsaW9zOFNhZmFyaVVwbG9hZHM6ITAsaW9zOEJyb3dzZXJDcmFzaDohMX19O3QuZXh0ZW5kKHRoaXMuX29wdGlvbnMsbiwhMCk7dGhpcy5fYnV0dG9ucz1bXTt0aGlzLl9leHRyYUJ1dHRvblNwZWNzPXt9O3RoaXMuX2J1dHRvbklkc0ZvckZpbGVJZHM9W107dGhpcy5fd3JhcENhbGxiYWNrcygpO3RoaXMuX2Rpc3Bvc2VTdXBwb3J0PW5ldyB0LkRpc3Bvc2VTdXBwb3J0O3RoaXMuX3N0b3JlZElkcz1bXTt0aGlzLl9hdXRvUmV0cmllcz1bXTt0aGlzLl9yZXRyeVRpbWVvdXRzPVtdO3RoaXMuX3ByZXZlbnRSZXRyaWVzPVtdO3RoaXMuX3RodW1ibmFpbFVybHM9W107dGhpcy5fbmV0VXBsb2FkZWRPclF1ZXVlZD0wO3RoaXMuX25ldFVwbG9hZGVkPTA7dGhpcy5fdXBsb2FkRGF0YT10aGlzLl9jcmVhdGVVcGxvYWREYXRhVHJhY2tlcigpO3RoaXMuX2luaXRGb3JtU3VwcG9ydEFuZFBhcmFtcygpO3RoaXMuX2N1c3RvbUhlYWRlcnNTdG9yZT10aGlzLl9jcmVhdGVTdG9yZSh0aGlzLl9vcHRpb25zLnJlcXVlc3QuY3VzdG9tSGVhZGVycyk7dGhpcy5fZGVsZXRlRmlsZUN1c3RvbUhlYWRlcnNTdG9yZT10aGlzLl9jcmVhdGVTdG9yZSh0aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUuY3VzdG9tSGVhZGVycyk7dGhpcy5fZGVsZXRlRmlsZVBhcmFtc1N0b3JlPXRoaXMuX2NyZWF0ZVN0b3JlKHRoaXMuX29wdGlvbnMuZGVsZXRlRmlsZS5wYXJhbXMpO3RoaXMuX2VuZHBvaW50U3RvcmU9dGhpcy5fY3JlYXRlU3RvcmUodGhpcy5fb3B0aW9ucy5yZXF1ZXN0LmVuZHBvaW50KTt0aGlzLl9kZWxldGVGaWxlRW5kcG9pbnRTdG9yZT10aGlzLl9jcmVhdGVTdG9yZSh0aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUuZW5kcG9pbnQpO3RoaXMuX2hhbmRsZXI9dGhpcy5fY3JlYXRlVXBsb2FkSGFuZGxlcigpO3RoaXMuX2RlbGV0ZUhhbmRsZXI9dC5EZWxldGVGaWxlQWpheFJlcXVlc3RlciYmdGhpcy5fY3JlYXRlRGVsZXRlSGFuZGxlcigpO3RoaXMuX29wdGlvbnMuYnV0dG9uJiYodGhpcy5fZGVmYXVsdEJ1dHRvbklkPXRoaXMuX2NyZWF0ZVVwbG9hZEJ1dHRvbih7ZWxlbWVudDp0aGlzLl9vcHRpb25zLmJ1dHRvbix0aXRsZTp0aGlzLl9vcHRpb25zLnRleHQuZmlsZUlucHV0VGl0bGV9KS5nZXRCdXR0b25JZCgpKTt0aGlzLl9nZW5lcmF0ZUV4dHJhQnV0dG9uU3BlY3MoKTt0aGlzLl9oYW5kbGVDYW1lcmFBY2Nlc3MoKTt0aGlzLl9vcHRpb25zLnBhc3RlLnRhcmdldEVsZW1lbnQmJih0LlBhc3RlU3VwcG9ydD90aGlzLl9wYXN0ZUhhbmRsZXI9dGhpcy5fY3JlYXRlUGFzdGVIYW5kbGVyKCk6dGhpcy5sb2coIlBhc3RlIHN1cHBvcnQgbW9kdWxlIG5vdCBmb3VuZCIsImVycm9yIikpO3RoaXMuX29wdGlvbnMud2FybkJlZm9yZVVubG9hZCYmdGhpcy5fcHJldmVudExlYXZlSW5Qcm9ncmVzcygpO3RoaXMuX2ltYWdlR2VuZXJhdG9yPXQuSW1hZ2VHZW5lcmF0b3ImJm5ldyB0LkltYWdlR2VuZXJhdG9yKHQuYmluZCh0aGlzLmxvZyx0aGlzKSk7dGhpcy5fcmVmcmVzaFNlc3Npb25EYXRhKCk7dGhpcy5fc3VjY2VlZGVkU2luY2VMYXN0QWxsQ29tcGxldGU9W107dGhpcy5fZmFpbGVkU2luY2VMYXN0QWxsQ29tcGxldGU9W107dGhpcy5fc2NhbGVyPXQuU2NhbGVyJiZuZXcgdC5TY2FsZXIodGhpcy5fb3B0aW9ucy5zY2FsaW5nLHQuYmluZCh0aGlzLmxvZyx0aGlzKSl8fHt9O3RoaXMuX3NjYWxlci5lbmFibGVkJiYodGhpcy5fY3VzdG9tTmV3RmlsZUhhbmRsZXI9dC5iaW5kKHRoaXMuX3NjYWxlci5oYW5kbGVOZXdGaWxlLHRoaXMuX3NjYWxlcikpO3QuVG90YWxQcm9ncmVzcyYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5wcm9ncmVzc0JhciYmKHRoaXMuX3RvdGFsUHJvZ3Jlc3M9bmV3IHQuVG90YWxQcm9ncmVzcyh0LmJpbmQodGhpcy5fb25Ub3RhbFByb2dyZXNzLHRoaXMpLGZ1bmN0aW9uKG4pe3ZhciB0PWkuX3VwbG9hZERhdGEucmV0cmlldmUoe2lkOm59KTtyZXR1cm4gdCYmdC5zaXplfHwwfSkpO3RoaXMuX2N1cnJlbnRJdGVtTGltaXQ9dGhpcy5fb3B0aW9ucy52YWxpZGF0aW9uLml0ZW1MaW1pdDt0aGlzLl9jdXN0b21SZXN1bWVEYXRhU3RvcmU9dGhpcy5fY3JlYXRlU3RvcmUoKX07dC5GaW5lVXBsb2FkZXJCYXNpYy5wcm90b3R5cGU9dC5iYXNlUHVibGljQXBpO3QuZXh0ZW5kKHQuRmluZVVwbG9hZGVyQmFzaWMucHJvdG90eXBlLHQuYmFzZVByaXZhdGVBcGkpfSgpO3QuQWpheFJlcXVlc3Rlcj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYSgpe3JldHVybiB0LmluZGV4T2YoWyJHRVQiLCJQT1NUIiwiSEVBRCJdLGkubWV0aG9kKT49MH1mdW5jdGlvbiB2KCl7dmFyIG49ITE7cmV0dXJuIHQuZWFjaChuLGZ1bmN0aW9uKGkscil7aWYodC5pbmRleE9mKFsiQWNjZXB0IiwiQWNjZXB0LUxhbmd1YWdlIiwiQ29udGVudC1MYW5ndWFnZSIsIkNvbnRlbnQtVHlwZSJdLHIpPDApcmV0dXJuIG49ITAsITF9KSxufWZ1bmN0aW9uIGUobil7cmV0dXJuIGkuY29ycy5leHBlY3RlZCYmdm9pZCAwPT09bi53aXRoQ3JlZGVudGlhbHN9ZnVuY3Rpb24geSgpe3ZhciBuO3JldHVybih3aW5kb3cuWE1MSHR0cFJlcXVlc3R8fHdpbmRvdy5BY3RpdmVYT2JqZWN0KSYmKG49dC5jcmVhdGVYaHJJbnN0YW5jZSgpLHZvaWQgMD09PW4ud2l0aENyZWRlbnRpYWxzJiYobj1uZXcgWERvbWFpblJlcXVlc3Qsbi5vbmxvYWQ9ZnVuY3Rpb24oKXt9LG4ub25lcnJvcj1mdW5jdGlvbigpe30sbi5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXt9LG4ub25wcm9ncmVzcz1mdW5jdGlvbigpe30pKSxufWZ1bmN0aW9uIHUobix1KXt2YXIgZj1yW25dJiZyW25dLnhocjtyZXR1cm4gZnx8KGY9dT91OmkuY29ycy5leHBlY3RlZD95KCk6dC5jcmVhdGVYaHJJbnN0YW5jZSgpLHJbbl0ueGhyPWYpLGZ9ZnVuY3Rpb24gYyhuKXt2YXIgZSxvPXQuaW5kZXhPZihmLG4pLHU9aS5tYXhDb25uZWN0aW9ucztkZWxldGUgcltuXTtmLnNwbGljZShvLDEpO2YubGVuZ3RoPj11JiZvPHUmJihlPWZbdS0xXSxsKGUpKX1mdW5jdGlvbiBzKG4sdCl7dmFyIHI9dShuKSxzPWkubWV0aG9kLGY9dD09PSEwO2Mobik7Zj9vKHMrIiByZXF1ZXN0IGZvciAiK24rIiBoYXMgZmFpbGVkIiwiZXJyb3IiKTplKHIpfHx0dChyLnN0YXR1cyl8fChmPSEwLG8ocysiIHJlcXVlc3QgZm9yICIrbisiIGhhcyBmYWlsZWQgLSByZXNwb25zZSBjb2RlICIrci5zdGF0dXMsImVycm9yIikpO2kub25Db21wbGV0ZShuLHIsZil9ZnVuY3Rpb24gcChuKXt2YXIgdSxmPXJbbl0uYWRkaXRpb25hbFBhcmFtcyxlPWkubWFuZGF0ZWRQYXJhbXM7cmV0dXJuIGkucGFyYW1zU3RvcmUuZ2V0JiYodT1pLnBhcmFtc1N0b3JlLmdldChuKSksZiYmdC5lYWNoKGYsZnVuY3Rpb24obix0KXt1PXV8fHt9O3Vbbl09dH0pLGUmJnQuZWFjaChlLGZ1bmN0aW9uKG4sdCl7dT11fHx7fTt1W25dPXR9KSx1fWZ1bmN0aW9uIGwobixmKXt2YXIgbCxzPXUobixmKSxhPWkubWV0aG9kLGM9cChuKSx2PXJbbl0ucGF5bG9hZDtyZXR1cm4gaS5vblNlbmQobiksbD13KG4sYyxyW25dLmFkZGl0aW9uYWxRdWVyeVBhcmFtcyksZShzKT8ocy5vbmxvYWQ9ZChuKSxzLm9uZXJyb3I9ZyhuKSk6cy5vbnJlYWR5c3RhdGVjaGFuZ2U9YihuKSxrKG4pLHMub3BlbihhLGwsITApLGkuY29ycy5leHBlY3RlZCYmaS5jb3JzLnNlbmRDcmVkZW50aWFscyYmIWUocykmJihzLndpdGhDcmVkZW50aWFscz0hMCksbnQobiksbygiU2VuZGluZyAiK2ErIiByZXF1ZXN0IGZvciAiK24pLHY/cy5zZW5kKHYpOmh8fCFjP3Muc2VuZCgpOmMmJmkuY29udGVudFR5cGUmJmkuY29udGVudFR5cGUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKT49MD9zLnNlbmQodC5vYmoydXJsKGMsIiIpKTpjJiZpLmNvbnRlbnRUeXBlJiZpLmNvbnRlbnRUeXBlLnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiYXBwbGljYXRpb24vanNvbiIpPj0wP3Muc2VuZChKU09OLnN0cmluZ2lmeShjKSk6cy5zZW5kKGMpLHN9ZnVuY3Rpb24gdyhuLHUsZil7dmFyIGU9aS5lbmRwb2ludFN0b3JlLmdldChuKSxvPXJbbl0uYWRkVG9QYXRoO3JldHVybiB2b2lkIDAhPW8mJihlKz0iLyIrbyksaCYmdSYmKGU9dC5vYmoydXJsKHUsZSkpLGYmJihlPXQub2JqMnVybChmLGUpKSxlfWZ1bmN0aW9uIGIobil7cmV0dXJuIGZ1bmN0aW9uKCl7ND09PXUobikucmVhZHlTdGF0ZSYmcyhuKX19ZnVuY3Rpb24gayhuKXt2YXIgdD1pLm9uUHJvZ3Jlc3M7dCYmKHUobikudXBsb2FkLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oaSl7aS5sZW5ndGhDb21wdXRhYmxlJiZ0KG4saS5sb2FkZWQsaS50b3RhbCl9KX1mdW5jdGlvbiBkKG4pe3JldHVybiBmdW5jdGlvbigpe3Mobil9fWZ1bmN0aW9uIGcobil7cmV0dXJuIGZ1bmN0aW9uKCl7cyhuLCEwKX19ZnVuY3Rpb24gbnQobil7dmFyIGY9dShuKSxvPWkuY3VzdG9tSGVhZGVycyxjPXJbbl0uYWRkaXRpb25hbEhlYWRlcnN8fHt9LGg9aS5tZXRob2Qscz17fTtlKGYpfHwoaS5hY2NlcHRIZWFkZXImJmYuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixpLmFjY2VwdEhlYWRlciksaS5hbGxvd1hSZXF1ZXN0ZWRXaXRoQW5kQ2FjaGVDb250cm9sJiYoaS5jb3JzLmV4cGVjdGVkJiZhKCkmJiF2KG8pfHwoZi5zZXRSZXF1ZXN0SGVhZGVyKCJYLVJlcXVlc3RlZC1XaXRoIiwiWE1MSHR0cFJlcXVlc3QiKSxmLnNldFJlcXVlc3RIZWFkZXIoIkNhY2hlLUNvbnRyb2wiLCJuby1jYWNoZSIpKSksIWkuY29udGVudFR5cGV8fCJQT1NUIiE9PWgmJiJQVVQiIT09aHx8Zi5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLGkuY29udGVudFR5cGUpLHQuZXh0ZW5kKHMsdC5pc0Z1bmN0aW9uKG8pP28obik6byksdC5leHRlbmQocyxjKSx0LmVhY2gocyxmdW5jdGlvbihuLHQpe2Yuc2V0UmVxdWVzdEhlYWRlcihuLHQpfSkpfWZ1bmN0aW9uIHR0KG4pe3JldHVybiB0LmluZGV4T2YoaS5zdWNjZXNzZnVsUmVzcG9uc2VDb2Rlc1tpLm1ldGhvZF0sbik+PTB9ZnVuY3Rpb24gaXQobix0LHUsZSxvLHMsaCl7aWYocltuXT17YWRkVG9QYXRoOnUsYWRkaXRpb25hbFBhcmFtczplLGFkZGl0aW9uYWxRdWVyeVBhcmFtczpvLGFkZGl0aW9uYWxIZWFkZXJzOnMscGF5bG9hZDpofSxmLnB1c2gobik8PWkubWF4Q29ubmVjdGlvbnMpcmV0dXJuIGwobix0KX12YXIgbyxoLGY9W10scj17fSxpPXthY2NlcHRIZWFkZXI6bnVsbCx2YWxpZE1ldGhvZHM6WyJQQVRDSCIsIlBPU1QiLCJQVVQiXSxtZXRob2Q6IlBPU1QiLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLG1heENvbm5lY3Rpb25zOjMsY3VzdG9tSGVhZGVyczp7fSxlbmRwb2ludFN0b3JlOnt9LHBhcmFtc1N0b3JlOnt9LG1hbmRhdGVkUGFyYW1zOnt9LGFsbG93WFJlcXVlc3RlZFdpdGhBbmRDYWNoZUNvbnRyb2w6ITAsc3VjY2Vzc2Z1bFJlc3BvbnNlQ29kZXM6e0RFTEVURTpbMjAwLDIwMiwyMDRdLFBBVENIOlsyMDAsMjAxLDIwMiwyMDMsMjA0XSxQT1NUOlsyMDAsMjAxLDIwMiwyMDMsMjA0XSxQVVQ6WzIwMCwyMDEsMjAyLDIwMywyMDRdLEdFVDpbMjAwXX0sY29yczp7ZXhwZWN0ZWQ6ITEsc2VuZENyZWRlbnRpYWxzOiExfSxsb2c6ZnVuY3Rpb24oKXt9LG9uU2VuZDpmdW5jdGlvbigpe30sb25Db21wbGV0ZTpmdW5jdGlvbigpe30sb25Qcm9ncmVzczpudWxsfTtpZih0LmV4dGVuZChpLG4pLG89aS5sb2csdC5pbmRleE9mKGkudmFsaWRNZXRob2RzLGkubWV0aG9kKTwwKXRocm93IG5ldyBFcnJvcigiJyIraS5tZXRob2QrIicgaXMgbm90IGEgc3VwcG9ydGVkIG1ldGhvZCBmb3IgdGhpcyB0eXBlIG9mIHJlcXVlc3QhIik7aD0iR0VUIj09PWkubWV0aG9kfHwiREVMRVRFIj09PWkubWV0aG9kO3QuZXh0ZW5kKHRoaXMse2luaXRUcmFuc3BvcnQ6ZnVuY3Rpb24obil7dmFyIHUscixmLGUsbyxzO3JldHVybnt3aXRoUGF0aDpmdW5jdGlvbihuKXtyZXR1cm4gdT1uLHRoaXN9LHdpdGhQYXJhbXM6ZnVuY3Rpb24obil7cmV0dXJuIHI9bix0aGlzfSx3aXRoUXVlcnlQYXJhbXM6ZnVuY3Rpb24obil7cmV0dXJuIHM9bix0aGlzfSx3aXRoSGVhZGVyczpmdW5jdGlvbihuKXtyZXR1cm4gZj1uLHRoaXN9LHdpdGhQYXlsb2FkOmZ1bmN0aW9uKG4pe3JldHVybiBlPW4sdGhpc30sd2l0aENhY2hlQnVzdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIG89ITAsdGhpc30sc2VuZDpmdW5jdGlvbihoKXtyZXR1cm4gbyYmdC5pbmRleE9mKFsiR0VUIiwiREVMRVRFIl0saS5tZXRob2QpPj0wJiYoci5xcXRpbWVzdGFtcD0obmV3IERhdGUpLmdldFRpbWUoKSksaXQobixoLHUscixzLGYsZSl9fX0sY2FuY2VsZWQ6ZnVuY3Rpb24obil7YyhuKX19KX07dC5VcGxvYWRIYW5kbGVyPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uLnByb3h5LGk9e30sdT1yLm9uQ2FuY2VsLGY9ci5nZXROYW1lO3QuZXh0ZW5kKHRoaXMse2FkZDpmdW5jdGlvbihuLHQpe2lbbl09dDtpW25dLnRlbXA9e319LGNhbmNlbDpmdW5jdGlvbihuKXt2YXIgcj10aGlzLGU9bmV3IHQuUHJvbWlzZTt1KG4sZihuKSxlKS50aGVuKGZ1bmN0aW9uKCl7ci5pc1ZhbGlkKG4pJiYoaVtuXS5jYW5jZWxlZD0hMCxyLmV4cHVuZ2UobikpO2Uuc3VjY2VzcygpfSl9LGV4cHVuZ2U6ZnVuY3Rpb24obil7ZGVsZXRlIGlbbl19LGdldFRoaXJkUGFydHlGaWxlSWQ6ZnVuY3Rpb24obil7cmV0dXJuIGlbbl0ua2V5fSxpc1ZhbGlkOmZ1bmN0aW9uKG4pe3JldHVybiB2b2lkIDAhPT1pW25dfSxyZXNldDpmdW5jdGlvbigpe2k9e319LF9nZXRGaWxlU3RhdGU6ZnVuY3Rpb24obil7cmV0dXJuIGlbbl19LF9zZXRUaGlyZFBhcnR5RmlsZUlkOmZ1bmN0aW9uKG4sdCl7aVtuXS5rZXk9dH0sX3dhc0NhbmNlbGVkOmZ1bmN0aW9uKG4pe3JldHVybiEhaVtuXS5jYW5jZWxlZH19KX07dC5VcGxvYWRIYW5kbGVyQ29udHJvbGxlcj1mdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgYSxvLHIsaD10aGlzLGw9ITEsYz0hMSx1PXtwYXJhbXNTdG9yZTp7fSxtYXhDb25uZWN0aW9uczozLGNodW5raW5nOntlbmFibGVkOiExLG11bHRpcGxlOntlbmFibGVkOiExfX0sbG9nOmZ1bmN0aW9uKCl7fSxvblByb2dyZXNzOmZ1bmN0aW9uKCl7fSxvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7fSxvbkNhbmNlbDpmdW5jdGlvbigpe30sb25VcGxvYWRQcmVwOmZ1bmN0aW9uKCl7fSxvblVwbG9hZDpmdW5jdGlvbigpe30sb25VcGxvYWRDaHVuazpmdW5jdGlvbigpe30sb25VcGxvYWRDaHVua1N1Y2Nlc3M6ZnVuY3Rpb24oKXt9LG9uQXV0b1JldHJ5OmZ1bmN0aW9uKCl7fSxvblJlc3VtZTpmdW5jdGlvbigpe30sb25VdWlkQ2hhbmdlZDpmdW5jdGlvbigpe30sZ2V0TmFtZTpmdW5jdGlvbigpe30sc2V0U2l6ZTpmdW5jdGlvbigpe30saXNRdWV1ZWQ6ZnVuY3Rpb24oKXt9LGdldElkc0luUHJveHlHcm91cDpmdW5jdGlvbigpe30sZ2V0SWRzSW5CYXRjaDpmdW5jdGlvbigpe30saXNJblByb2dyZXNzOmZ1bmN0aW9uKCl7fX0scz17ZG9uZTpmdW5jdGlvbihuLHQsaSxmKXt2YXIgZT1yLl9nZXRDaHVua0RhdGEobix0KTtyLl9nZXRGaWxlU3RhdGUobikuYXR0ZW1wdGluZ1Jlc3VtZT0hMTtkZWxldGUgci5fZ2V0RmlsZVN0YXRlKG4pLnRlbXAuY2h1bmtQcm9ncmVzc1t0XTtyLl9nZXRGaWxlU3RhdGUobikubG9hZGVkKz1lLnNpemU7dS5vblVwbG9hZENodW5rU3VjY2VzcyhuLHIuX2dldENodW5rRGF0YUZvckNhbGxiYWNrKGUpLGksZil9LGZpbmFsaXplOmZ1bmN0aW9uKG4pe3ZhciB0PXUuZ2V0U2l6ZShuKSxpPXUuZ2V0TmFtZShuKTtvKCJBbGwgY2h1bmtzIGhhdmUgYmVlbiB1cGxvYWRlZCBmb3IgIituKyIgLSBmaW5hbGl6aW5nLi4uLiIpO3IuZmluYWxpemVDaHVua3MobikudGhlbihmdW5jdGlvbihmLHMpe28oIkZpbmFsaXplIHN1Y2Nlc3NmdWwgZm9yICIrbik7dmFyIGg9ZS5ub3JtYWxpemVSZXNwb25zZShmLCEwKTt1Lm9uUHJvZ3Jlc3MobixpLHQsdCk7ci5fbWF5YmVEZWxldGVQZXJzaXN0ZWRDaHVua0RhdGEobik7ZS5jbGVhbnVwKG4saCxzKX0sZnVuY3Rpb24odCxyKXt2YXIgZj1lLm5vcm1hbGl6ZVJlc3BvbnNlKHQsITEpO28oIlByb2JsZW0gZmluYWxpemluZyBjaHVua3MgZm9yIGZpbGUgSUQgIituKyIgLSAiK2YuZXJyb3IsImVycm9yIik7KGYucmVzZXR8fHImJnUuY2h1bmtpbmcuc3VjY2Vzcy5yZXNldE9uU3RhdHVzLmluZGV4T2Yoci5zdGF0dXMpPj0wKSYmcy5yZXNldChuKTt1Lm9uQXV0b1JldHJ5KG4saSxmLHIpfHxlLmNsZWFudXAobixmLHIpfSl9LGhhbmRsZUZhaWx1cmU6ZnVuY3Rpb24obixpLGgsbCl7dmFyIHA9dS5nZXROYW1lKGkpLHYsYSx5O28oIkNodW5rZWQgdXBsb2FkIHJlcXVlc3QgZmFpbGVkIGZvciAiK2krIiwgY2h1bmsgIituKTtyLmNsZWFyQ2FjaGVkQ2h1bmsoaSxuKTthPWUubm9ybWFsaXplUmVzcG9uc2UoaCwhMSk7YS5yZXNldD9zLnJlc2V0KGkpOih5PXIuX2dldEZpbGVTdGF0ZShpKS5jaHVua2luZy5pblByb2dyZXNzLHY9eT90LmluZGV4T2YoeSxuKTotMSx2Pj0wJiYoci5fZ2V0RmlsZVN0YXRlKGkpLmNodW5raW5nLmluUHJvZ3Jlc3Muc3BsaWNlKHYsMSksci5fZ2V0RmlsZVN0YXRlKGkpLmNodW5raW5nLnJlbWFpbmluZy51bnNoaWZ0KG4pKSk7ci5fZ2V0RmlsZVN0YXRlKGkpLnRlbXAuaWdub3JlRmFpbHVyZXx8KGMmJihyLl9nZXRGaWxlU3RhdGUoaSkudGVtcC5pZ25vcmVGYWlsdXJlPSEwLG8odC5mb3JtYXQoIkdvaW5nIHRvIGF0dGVtcHQgdG8gYWJvcnQgdGhlc2UgY2h1bmtzOiB7fS4gVGhlc2UgYXJlIGN1cnJlbnRseSBpbi1wcm9ncmVzczoge30uIixKU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyhyLl9nZXRYaHJzKGkpKSksSlNPTi5zdHJpbmdpZnkoci5fZ2V0RmlsZVN0YXRlKGkpLmNodW5raW5nLmluUHJvZ3Jlc3MpKSksdC5lYWNoKHIuX2dldFhocnMoaSksZnVuY3Rpb24obixyKXtvKHQuZm9ybWF0KCJBdHRlbXB0aW5nIHRvIGFib3J0IGZpbGUge30ue30uIFhIUiByZWFkeVN0YXRlIHt9LiAiLGksbixyLnJlYWR5U3RhdGUpKTtyLmFib3J0KCk7ci5fY2FuY2VsbGVkPSEwfSksci5tb3ZlSW5Qcm9ncmVzc1RvUmVtYWluaW5nKGkpLGYuZnJlZShpLCEwKSksdS5vbkF1dG9SZXRyeShpLHAsYSxsKXx8ZS5jbGVhbnVwKGksYSxsKSl9LGhhc01vcmVQYXJ0czpmdW5jdGlvbihuKXtyZXR1cm4hIXIuX2dldEZpbGVTdGF0ZShuKS5jaHVua2luZy5yZW1haW5pbmcubGVuZ3RofSxuZXh0UGFydDpmdW5jdGlvbihuKXt2YXIgdD1yLl9nZXRGaWxlU3RhdGUobikuY2h1bmtpbmcucmVtYWluaW5nLnNoaWZ0KCk7cmV0dXJuIHQ+PXIuX2dldFRvdGFsQ2h1bmtzKG4pJiYodD1udWxsKSx0fSxyZXNldDpmdW5jdGlvbihuKXtvKCJTZXJ2ZXIgb3IgY2FsbGJhY2sgaGFzIG9yZGVyZWQgY2h1bmtpbmcgZWZmb3J0IHRvIGJlIHJlc3RhcnRlZCBvbiBuZXh0IGF0dGVtcHQgZm9yIGl0ZW0gSUQgIituLCJlcnJvciIpO3IuX21heWJlRGVsZXRlUGVyc2lzdGVkQ2h1bmtEYXRhKG4pO3IucmVldmFsdWF0ZUNodW5raW5nKG4pO3IuX2dldEZpbGVTdGF0ZShuKS5sb2FkZWQ9MDtyLl9nZXRGaWxlU3RhdGUobikuYXR0ZW1wdGluZ1Jlc3VtZT0hMX0sc2VuZE5leHQ6ZnVuY3Rpb24obil7dmFyIHA9dS5nZXRTaXplKG4pLHk9dS5nZXROYW1lKG4pLGk9cy5uZXh0UGFydChuKSxoPXIuX2dldENodW5rRGF0YShuLGkpLGw9ci5fZ2V0RmlsZVN0YXRlKG4pLGE9bC5hdHRlbXB0aW5nUmVzdW1lLHY9bC5jaHVua2luZy5pblByb2dyZXNzfHxbXTsobnVsbD09bC5sb2FkZWQmJihsLmxvYWRlZD0wKSxhJiZ1Lm9uUmVzdW1lKG4seSxoLGwuY3VzdG9tUmVzdW1lRGF0YSk9PT0hMSYmKHMucmVzZXQobiksaT1zLm5leHRQYXJ0KG4pLGg9ci5fZ2V0Q2h1bmtEYXRhKG4saSksYT0hMSksbnVsbD09aSYmMD09PXYubGVuZ3RoKT9zLmZpbmFsaXplKG4pOih2LnB1c2goaSksci5fZ2V0RmlsZVN0YXRlKG4pLmNodW5raW5nLmluUHJvZ3Jlc3M9dixjJiZmLm9wZW4obixpKSxjJiZmLmF2YWlsYWJsZSgpJiZyLl9nZXRGaWxlU3RhdGUobikuY2h1bmtpbmcucmVtYWluaW5nLmxlbmd0aCYmcy5zZW5kTmV4dChuKSwwPT09aC5ibG9iLnNpemUmJihvKHQuZm9ybWF0KCJDaHVuayB7fSBmb3IgZmlsZSB7fSB3aWxsIG5vdCBiZSB1cGxvYWRlZCwgemVybyBzaXplZCBjaHVuay4iLGksbiksImVycm9yIikscy5oYW5kbGVGYWlsdXJlKGksbiwiRmlsZSBpcyBubyBsb25nZXIgYXZhaWxhYmxlIixudWxsKSksdS5vblVwbG9hZENodW5rKG4seSxyLl9nZXRDaHVua0RhdGFGb3JDYWxsYmFjayhoKSkudGhlbihmdW5jdGlvbihmKXtpZih1LmlzSW5Qcm9ncmVzcyhuKSl7byh0LmZvcm1hdCgiU2VuZGluZyBjaHVua2VkIHVwbG9hZCByZXF1ZXN0IGZvciBpdGVtIHt9Lnt9LCBieXRlcyB7fS17fSBvZiB7fS4iLG4saSxoLnN0YXJ0KzEsaC5lbmQscCkpO3ZhciBjPXtjaHVua0lkeDppLGlkOm4sb3ZlcnJpZGVzOmYscmVzdW1pbmc6YX07ci51cGxvYWRDaHVuayhjKS50aGVuKGZ1bmN0aW9uKHUsZil7bygiQ2h1bmtlZCB1cGxvYWQgcmVxdWVzdCBzdWNjZWVkZWQgZm9yICIrbisiLCBjaHVuayAiK2kpO3IuY2xlYXJDYWNoZWRDaHVuayhuLGkpO3ZhciBoPXIuX2dldEZpbGVTdGF0ZShuKS5jaHVua2luZy5pblByb2dyZXNzfHxbXSxsPWUubm9ybWFsaXplUmVzcG9uc2UodSwhMCksYz10LmluZGV4T2YoaCxpKTtvKHQuZm9ybWF0KCJDaHVuayB7fSBmb3IgZmlsZSB7fSB1cGxvYWRlZCBzdWNjZXNzZnVsbHkuIixpLG4pKTtzLmRvbmUobixpLGwsZik7Yz49MCYmaC5zcGxpY2UoYywxKTtyLl9tYXliZVBlcnNpc3RDaHVua2VkU3RhdGUobik7cy5oYXNNb3JlUGFydHMobil8fDAhPT1oLmxlbmd0aD9zLmhhc01vcmVQYXJ0cyhuKT9zLnNlbmROZXh0KG4pOm8odC5mb3JtYXQoIkZpbGUgSUQge30gaGFzIG5vIG1vcmUgY2h1bmtzIHRvIHNlbmQgYW5kIHRoZXNlIGNodW5rIGluZGV4ZXMgYXJlIHN0aWxsIG1hcmtlZCBhcyBpbi1wcm9ncmVzczoge30iLG4sSlNPTi5zdHJpbmdpZnkoaCkpKTpzLmZpbmFsaXplKG4pfSxmdW5jdGlvbih0LHIpe3MuaGFuZGxlRmFpbHVyZShpLG4sdCxyKX0pLmRvbmUoZnVuY3Rpb24oKXtyLmNsZWFyWGhyKG4saSl9KX1lbHNlIG8odC5mb3JtYXQoIk5vdCBzZW5kaW5nIGNodW5rZWQgdXBsb2FkIHJlcXVlc3QgZm9yIGl0ZW0ge30ue30gLSBubyBsb25nZXIgaW4gcHJvZ3Jlc3MuIixuLGkpKX0sZnVuY3Rpb24odCl7cy5oYW5kbGVGYWlsdXJlKGksbix0LG51bGwpfSkpfX0sZj17X29wZW46W10sX29wZW5DaHVua3M6e30sX3dhaXRpbmc6W10sYXZhaWxhYmxlOmZ1bmN0aW9uKCl7dmFyIHI9dS5tYXhDb25uZWN0aW9ucyxuPTAsaT0wO3JldHVybiB0LmVhY2goZi5fb3BlbkNodW5rcyxmdW5jdGlvbih0LHIpe24rKztpKz1yLmxlbmd0aH0pLHItKGYuX29wZW4ubGVuZ3RoLW4raSl9LGZyZWU6ZnVuY3Rpb24obixpKXt2YXIgdSxjPSFpLHM9dC5pbmRleE9mKGYuX3dhaXRpbmcsbiksaD10LmluZGV4T2YoZi5fb3BlbixuKTtkZWxldGUgZi5fb3BlbkNodW5rc1tuXTtlLmdldFByb3h5T3JCbG9iKG4paW5zdGFuY2VvZiB0LkJsb2JQcm94eSYmKG8oIkdlbmVyYXRlZCBibG9iIHVwbG9hZCBoYXMgZW5kZWQgZm9yICIrbisiLCBkaXNwb3NpbmcgZ2VuZXJhdGVkIGJsb2IuIiksZGVsZXRlIHIuX2dldEZpbGVTdGF0ZShuKS5maWxlKTtzPj0wP2YuX3dhaXRpbmcuc3BsaWNlKHMsMSk6YyYmaD49MCYmKGYuX29wZW4uc3BsaWNlKGgsMSksdT1mLl93YWl0aW5nLnNoaWZ0KCksdT49MCYmKGYuX29wZW4ucHVzaCh1KSxlLnN0YXJ0KHUpKSl9LGdldFdhaXRpbmdPckNvbm5lY3RlZDpmdW5jdGlvbigpe3ZhciBuPVtdO3JldHVybiB0LmVhY2goZi5fb3BlbkNodW5rcyxmdW5jdGlvbih0LGkpe2kmJmkubGVuZ3RoJiZuLnB1c2gocGFyc2VJbnQodCkpfSksdC5lYWNoKGYuX29wZW4sZnVuY3Rpb24odCxpKXtmLl9vcGVuQ2h1bmtzW2ldfHxuLnB1c2gocGFyc2VJbnQoaSkpfSksbj1uLmNvbmNhdChmLl93YWl0aW5nKX0saXNVc2luZ0Nvbm5lY3Rpb246ZnVuY3Rpb24obil7cmV0dXJuIHQuaW5kZXhPZihmLl9vcGVuLG4pPj0wfSxvcGVuOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG51bGw9PXQmJmYuX3dhaXRpbmcucHVzaChuKSwhIWYuYXZhaWxhYmxlKCkmJihudWxsPT10PyhmLl93YWl0aW5nLnBvcCgpLGYuX29wZW4ucHVzaChuKSk6ZnVuY3Rpb24oKXt2YXIgaT1mLl9vcGVuQ2h1bmtzW25dfHxbXTtpLnB1c2godCk7Zi5fb3BlbkNodW5rc1tuXT1pfSgpLCEwKX0scmVzZXQ6ZnVuY3Rpb24oKXtmLl93YWl0aW5nPVtdO2YuX29wZW49W119fSx2PXtzZW5kOmZ1bmN0aW9uKG4sdCl7dmFyIGk9ci5fZ2V0RmlsZVN0YXRlKG4pO2lmKCFpKXJldHVybiB2b2lkIG8oIklnbm9yaW5nIHNlbmQgcmVxdWVzdCBhcyB0aGlzIHVwbG9hZCBtYXkgaGF2ZSBiZWVuIGNhbmNlbGxlZCwgRmlsZSBJRCAiK24sIndhcm4iKTtpLmxvYWRlZD0wO28oIlNlbmRpbmcgc2ltcGxlIHVwbG9hZCByZXF1ZXN0IGZvciAiK24pO3IudXBsb2FkRmlsZShuKS50aGVuKGZ1bmN0aW9uKGkscil7bygiU2ltcGxlIHVwbG9hZCByZXF1ZXN0IHN1Y2NlZWRlZCBmb3IgIituKTt2YXIgZj1lLm5vcm1hbGl6ZVJlc3BvbnNlKGksITApLHM9dS5nZXRTaXplKG4pO3Uub25Qcm9ncmVzcyhuLHQscyxzKTtlLm1heWJlTmV3VXVpZChuLGYpO2UuY2xlYW51cChuLGYscil9LGZ1bmN0aW9uKGkscil7bygiU2ltcGxlIHVwbG9hZCByZXF1ZXN0IGZhaWxlZCBmb3IgIituKTt2YXIgZj1lLm5vcm1hbGl6ZVJlc3BvbnNlKGksITEpO3Uub25BdXRvUmV0cnkobix0LGYscil8fGUuY2xlYW51cChuLGYscil9KX19LGU9e2NhbmNlbDpmdW5jdGlvbihuKXtvKCJDYW5jZWxsaW5nICIrbik7dS5wYXJhbXNTdG9yZS5yZW1vdmUobik7Zi5mcmVlKG4pfSxjbGVhbnVwOmZ1bmN0aW9uKG4sdCxpKXt2YXIgZT11LmdldE5hbWUobik7dS5vbkNvbXBsZXRlKG4sZSx0LGkpO3IuX2dldEZpbGVTdGF0ZShuKSYmci5fY2xlYXJYaHJzJiZyLl9jbGVhclhocnMobik7Zi5mcmVlKG4pfSxnZXRQcm94eU9yQmxvYjpmdW5jdGlvbihuKXtyZXR1cm4gci5nZXRQcm94eSYmci5nZXRQcm94eShuKXx8ci5nZXRGaWxlJiZyLmdldEZpbGUobil9LGluaXRIYW5kbGVyOmZ1bmN0aW9uKCl7cj1uZXcoaT90W2ldOnQudHJhZGl0aW9uYWwpWyh0LnN1cHBvcnRlZEZlYXR1cmVzLmFqYXhVcGxvYWRpbmc/IlhociI6IkZvcm0iKSsiVXBsb2FkSGFuZGxlciJdKHUse2dldEN1c3RvbVJlc3VtZURhdGE6dS5nZXRDdXN0b21SZXN1bWVEYXRhLGdldERhdGFCeVV1aWQ6dS5nZXREYXRhQnlVdWlkLGdldE5hbWU6dS5nZXROYW1lLGdldFNpemU6dS5nZXRTaXplLGdldFV1aWQ6dS5nZXRVdWlkLGxvZzpvLG9uQ2FuY2VsOnUub25DYW5jZWwsb25Qcm9ncmVzczp1Lm9uUHJvZ3Jlc3Msb25VdWlkQ2hhbmdlZDp1Lm9uVXVpZENoYW5nZWQsb25GaW5hbGl6aW5nOmZ1bmN0aW9uKG4pe3Uuc2V0U3RhdHVzKG4sdC5zdGF0dXMuVVBMT0FEX0ZJTkFMSVpJTkcpfX0pO3IuX3JlbW92ZUV4cGlyZWRDaHVua2luZ1JlY29yZHMmJnIuX3JlbW92ZUV4cGlyZWRDaHVua2luZ1JlY29yZHMoKX0saXNEZWZlcnJlZEVsaWdpYmxlRm9yVXBsb2FkOmZ1bmN0aW9uKG4pe3JldHVybiB1LmlzUXVldWVkKG4pfSxtYXliZURlZmVyOmZ1bmN0aW9uKG4saSl7cmV0dXJuIGkmJiFyLmdldEZpbGUobikmJmkgaW5zdGFuY2VvZiB0LkJsb2JQcm94eT8odS5vblVwbG9hZFByZXAobiksbygiQXR0ZW1wdGluZyB0byBnZW5lcmF0ZSBhIGJsb2Igb24tZGVtYW5kIGZvciAiK24pLGkuY3JlYXRlKCkudGhlbihmdW5jdGlvbih0KXtvKCJHZW5lcmF0ZWQgYW4gb24tZGVtYW5kIGJsb2IgZm9yICIrbik7ci51cGRhdGVCbG9iKG4sdCk7dS5zZXRTaXplKG4sdC5zaXplKTtyLnJlZXZhbHVhdGVDaHVua2luZyhuKTtlLm1heWJlU2VuZERlZmVycmVkRmlsZXMobil9LGZ1bmN0aW9uKGkpe3ZhciByPXt9O2kmJihyLmVycm9yPWkpO28odC5mb3JtYXQoIkZhaWxlZCB0byBnZW5lcmF0ZSBibG9iIGZvciBJRCB7fS4gIEVycm9yIG1lc3NhZ2U6IHt9LiIsbixpKSwiZXJyb3IiKTt1Lm9uQ29tcGxldGUobix1LmdldE5hbWUobiksdC5leHRlbmQocixhKSxudWxsKTtlLm1heWJlU2VuZERlZmVycmVkRmlsZXMobik7Zi5mcmVlKG4pfSksITEpOmUubWF5YmVTZW5kRGVmZXJyZWRGaWxlcyhuKX0sbWF5YmVTZW5kRGVmZXJyZWRGaWxlczpmdW5jdGlvbihuKXt2YXIgaT11LmdldElkc0luUHJveHlHcm91cChuKSxmPSExO3JldHVybiBpJiZpLmxlbmd0aD8obygiTWF5YmUgcmVhZHkgdG8gdXBsb2FkIHByb3h5IGdyb3VwIGZpbGUgIituKSx0LmVhY2goaSxmdW5jdGlvbih0LGkpe2lmKGUuaXNEZWZlcnJlZEVsaWdpYmxlRm9yVXBsb2FkKGkpJiZyLmdldEZpbGUoaSkpZj1pPT09bixlLm5vdyhpKTtlbHNlIGlmKGUuaXNEZWZlcnJlZEVsaWdpYmxlRm9yVXBsb2FkKGkpKXJldHVybiExfSkpOihmPSEwLGUubm93KG4pKSxmfSxtYXliZU5ld1V1aWQ6ZnVuY3Rpb24obix0KXt2b2lkIDAhPT10Lm5ld1V1aWQmJnUub25VdWlkQ2hhbmdlZChuLHQubmV3VXVpZCl9LG5vcm1hbGl6ZVJlc3BvbnNlOmZ1bmN0aW9uKG4saSl7dmFyIHI9bjtyZXR1cm4gdC5pc09iamVjdChuKXx8KHI9e30sdC5pc1N0cmluZyhuKSYmIWkmJihyLmVycm9yPW4pKSxyLnN1Y2Nlc3M9aSxyfSxub3c6ZnVuY3Rpb24obil7dmFyIGk9dS5nZXROYW1lKG4pO2lmKCFoLmlzVmFsaWQobikpdGhyb3cgbmV3IHQuRXJyb3IobisiIGlzIG5vdCBhIHZhbGlkIGZpbGUgSUQgdG8gdXBsb2FkISIpO3Uub25VcGxvYWQobixpKS50aGVuKGZ1bmN0aW9uKGUpe2UmJmUucGF1c2U/KHUuc2V0U3RhdHVzKG4sdC5zdGF0dXMuUEFVU0VEKSxyLnBhdXNlKG4pLGYuZnJlZShuKSk6bCYmci5fc2hvdWxkQ2h1bmtUaGlzRmlsZShuKT9zLnNlbmROZXh0KG4pOnYuc2VuZChuLGkpfSxmdW5jdGlvbih0KXtpZih0PXR8fHt9LG8obisiIHVwbG9hZCBzdGFydCBhYm9ydGVkIGR1ZSB0byByZWplY3RlZCBvblVwbG9hZCBQcm9taXNlIC0gZGV0YWlsczogIit0LCJlcnJvciIpLCF1Lm9uQXV0b1JldHJ5KG4saSx0LnJlc3BvbnNlSlNPTnx8e30pKXt2YXIgcj1lLm5vcm1hbGl6ZVJlc3BvbnNlKHQucmVzcG9uc2VKU09OLCExKTtlLmNsZWFudXAobixyKX19KX0sc3RhcnQ6ZnVuY3Rpb24obil7dmFyIHQ9ZS5nZXRQcm94eU9yQmxvYihuKTtyZXR1cm4gdD9lLm1heWJlRGVmZXIobix0KTooZS5ub3cobiksITApfX07dC5leHRlbmQodGhpcyx7YWRkOmZ1bmN0aW9uKCl7ci5hZGQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSx1cGxvYWQ6ZnVuY3Rpb24obil7cmV0dXJuISFmLm9wZW4obikmJmUuc3RhcnQobil9LHJldHJ5OmZ1bmN0aW9uKG4pe3JldHVybiBjJiYoci5fZ2V0RmlsZVN0YXRlKG4pLnRlbXAuaWdub3JlRmFpbHVyZT0hMSksZi5pc1VzaW5nQ29ubmVjdGlvbihuKT9lLnN0YXJ0KG4pOmgudXBsb2FkKG4pfSxjYW5jZWw6ZnVuY3Rpb24obil7dmFyIGk9ci5jYW5jZWwobik7dC5pc0dlbmVyaWNQcm9taXNlKGkpP2kudGhlbihmdW5jdGlvbigpe2UuY2FuY2VsKG4pfSk6aSE9PSExJiZlLmNhbmNlbChuKX0sY2FuY2VsQWxsOmZ1bmN0aW9uKCl7dmFyIG4sdD1mLmdldFdhaXRpbmdPckNvbm5lY3RlZCgpO2lmKHQubGVuZ3RoKWZvcihuPXQubGVuZ3RoLTE7bj49MDtuLS0paC5jYW5jZWwodFtuXSk7Zi5yZXNldCgpfSxnZXRGaWxlOmZ1bmN0aW9uKG4pe3JldHVybiByLmdldFByb3h5JiZyLmdldFByb3h5KG4pP3IuZ2V0UHJveHkobikucmVmZXJlbmNlQmxvYjpyLmdldEZpbGUmJnIuZ2V0RmlsZShuKX0saXNQcm94aWVkOmZ1bmN0aW9uKG4pe3JldHVybiEoIXIuZ2V0UHJveHl8fCFyLmdldFByb3h5KG4pKX0sZ2V0SW5wdXQ6ZnVuY3Rpb24obil7aWYoci5nZXRJbnB1dClyZXR1cm4gci5nZXRJbnB1dChuKX0scmVzZXQ6ZnVuY3Rpb24oKXtvKCJSZXNldHRpbmcgdXBsb2FkIGhhbmRsZXIiKTtoLmNhbmNlbEFsbCgpO2YucmVzZXQoKTtyLnJlc2V0KCl9LGV4cHVuZ2U6ZnVuY3Rpb24obil7aWYoaC5pc1ZhbGlkKG4pKXJldHVybiByLmV4cHVuZ2Uobil9LGlzVmFsaWQ6ZnVuY3Rpb24obil7cmV0dXJuIHIuaXNWYWxpZChuKX0saGFzUmVzdW1lUmVjb3JkOmZ1bmN0aW9uKG4pe3ZhciB0PXIuaXNWYWxpZChuKSYmci5fZ2V0TG9jYWxTdG9yYWdlSWQmJnIuX2dldExvY2FsU3RvcmFnZUlkKG4pO3JldHVybiEhdCYmISFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0KX0sZ2V0UmVzdW1hYmxlRmlsZXNEYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHIuZ2V0UmVzdW1hYmxlRmlsZXNEYXRhP3IuZ2V0UmVzdW1hYmxlRmlsZXNEYXRhKCk6W119LGdldFRoaXJkUGFydHlGaWxlSWQ6ZnVuY3Rpb24obil7aWYoaC5pc1ZhbGlkKG4pKXJldHVybiByLmdldFRoaXJkUGFydHlGaWxlSWQobil9LHBhdXNlOmZ1bmN0aW9uKG4pe3JldHVybiEhKGguaXNSZXN1bWFibGUobikmJnIucGF1c2UmJmguaXNWYWxpZChuKSYmci5wYXVzZShuKSkmJihmLmZyZWUobiksci5tb3ZlSW5Qcm9ncmVzc1RvUmVtYWluaW5nKG4pLCEwKX0saXNBdHRlbXB0aW5nUmVzdW1lOmZ1bmN0aW9uKG4pe3JldHVybiEhci5pc0F0dGVtcHRpbmdSZXN1bWUmJnIuaXNBdHRlbXB0aW5nUmVzdW1lKG4pfSxpc1Jlc3VtYWJsZTpmdW5jdGlvbihuKXtyZXR1cm4hIXIuaXNSZXN1bWFibGUmJnIuaXNSZXN1bWFibGUobil9fSk7dC5leHRlbmQodSxuKTtvPXUubG9nO2w9dS5jaHVua2luZy5lbmFibGVkJiZ0LnN1cHBvcnRlZEZlYXR1cmVzLmNodW5raW5nO2M9bCYmdS5jaHVua2luZy5jb25jdXJyZW50LmVuYWJsZWQ7YT1mdW5jdGlvbigpe3ZhciBuPXt9O3JldHVybiBuW3UucHJldmVudFJldHJ5UGFyYW1dPSEwLG59KCk7ZS5pbml0SGFuZGxlcigpfTt0LldpbmRvd1JlY2VpdmVNZXNzYWdlPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj17bG9nOmZ1bmN0aW9uKCl7fX0saT17fTt0LmV4dGVuZChyLG4pO3QuZXh0ZW5kKHRoaXMse3JlY2VpdmVNZXNzYWdlOmZ1bmN0aW9uKG4scil7dmFyIHU9ZnVuY3Rpb24obil7cihuLmRhdGEpfTt3aW5kb3cucG9zdE1lc3NhZ2U/aVtuXT10KHdpbmRvdykuYXR0YWNoKCJtZXNzYWdlIix1KTpsb2coImlmcmFtZSBtZXNzYWdlIHBhc3Npbmcgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIhIiwiZXJyb3IiKX0sc3RvcFJlY2VpdmluZ01lc3NhZ2VzOmZ1bmN0aW9uKG4pe2lmKHdpbmRvdy5wb3N0TWVzc2FnZSl7dmFyIHQ9aVtuXTt0JiZ0KCl9fX0pfTt0LkZvcm1VcGxvYWRIYW5kbGVyPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBhKG4pe2RlbGV0ZSB1W25dO2wmJihjbGVhclRpbWVvdXQoZltuXSksZGVsZXRlIGZbbl0sby5zdG9wUmVjZWl2aW5nTWVzc2FnZXMobikpO3ZhciBpPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHIuX2dldElmcmFtZU5hbWUobikpO2kmJihpLnNldEF0dHJpYnV0ZSgic3JjIiwiamF2YXNjcmlwdDpmYWxzZTsiKSx0KGkpLnJlbW92ZSgpKX1mdW5jdGlvbiBzKG4pe3JldHVybiBuLnNwbGl0KCJfIilbMF19ZnVuY3Rpb24gdihuKXt2YXIgaT10LnRvRWxlbWVudCgiPGlmcmFtZSBzcmM9J2phdmFzY3JpcHQ6ZmFsc2U7JyBuYW1lPSciK24rIicgLz4iKTtyZXR1cm4gaS5zZXRBdHRyaWJ1dGUoImlkIixuKSxpLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaSksaX1mdW5jdGlvbiB5KG4saCl7dmFyIGM9bi5pZCxsPXMoYyk7ZVtiKGwpXT1oO3VbbF09dChuKS5hdHRhY2goImxvYWQiLGZ1bmN0aW9uKCl7ci5nZXRJbnB1dChsKSYmKGkoIlJlY2VpdmVkIGlmcmFtZSBsb2FkIGV2ZW50IGZvciBDT1JTIHVwbG9hZCByZXF1ZXN0IChpZnJhbWUgbmFtZSAiK2MrIikiKSxmW2NdPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgbj0iTm8gdmFsaWQgbWVzc2FnZSByZWNlaXZlZCBmcm9tIGxvYWRlZCBpZnJhbWUgZm9yIGlmcmFtZSBuYW1lICIrYztpKG4sImVycm9yIik7aCh7ZXJyb3I6bn0pfSwxZTMpKX0pO28ucmVjZWl2ZU1lc3NhZ2UoYyxmdW5jdGlvbihuKXtpKCJSZWNlaXZlZCB0aGUgZm9sbG93aW5nIHdpbmRvdyBtZXNzYWdlOiAnIituKyInIik7dmFyIHUsaD0ocyhjKSxyLl9wYXJzZUpzb25SZXNwb25zZShuKSksdD1oLnV1aWQ7dCYmZVt0XT8oaSgiSGFuZGxpbmcgcmVzcG9uc2UgZm9yIGlmcmFtZSBuYW1lICIrYyksY2xlYXJUaW1lb3V0KGZbY10pLGRlbGV0ZSBmW2NdLHIuX2RldGFjaExvYWRFdmVudChjKSx1PWVbdF0sZGVsZXRlIGVbdF0sby5zdG9wUmVjZWl2aW5nTWVzc2FnZXMoYyksdShoKSk6dHx8aSgiJyIrbisiJyBkb2VzIG5vdCBjb250YWluIGEgVVVJRCAtIGlnbm9yaW5nLiIpfSl9dmFyIGg9bi5vcHRpb25zLHI9dGhpcyxjPW4ucHJveHkscD10LmdldFVuaXF1ZUlkKCksZT17fSx1PXt9LGY9e30sbD1oLmlzQ29ycyx3PWguaW5wdXROYW1lLGI9Yy5nZXRVdWlkLGk9Yy5sb2csbz1uZXcgdC5XaW5kb3dSZWNlaXZlTWVzc2FnZSh7bG9nOml9KTt0LmV4dGVuZCh0aGlzLG5ldyB0LlVwbG9hZEhhbmRsZXIobikpO3Qub3ZlcnJpZGUodGhpcyxmdW5jdGlvbihuKXtyZXR1cm57YWRkOmZ1bmN0aW9uKGkscil7bi5hZGQoaSx7aW5wdXQ6cn0pO3Iuc2V0QXR0cmlidXRlKCJuYW1lIix3KTtyLnBhcmVudE5vZGUmJnQocikucmVtb3ZlKCl9LGV4cHVuZ2U6ZnVuY3Rpb24odCl7YSh0KTtuLmV4cHVuZ2UodCl9LGlzVmFsaWQ6ZnVuY3Rpb24odCl7cmV0dXJuIG4uaXNWYWxpZCh0KSYmdm9pZCAwIT09ci5fZ2V0RmlsZVN0YXRlKHQpLmlucHV0fX19KTt0LmV4dGVuZCh0aGlzLHtnZXRJbnB1dDpmdW5jdGlvbihuKXtyZXR1cm4gci5fZ2V0RmlsZVN0YXRlKG4pLmlucHV0fSxfYXR0YWNoTG9hZEV2ZW50OmZ1bmN0aW9uKG4scil7dmFyIGY7bD95KG4scik6dVtuLmlkXT10KG4pLmF0dGFjaCgibG9hZCIsZnVuY3Rpb24oKXtpZihpKCJSZWNlaXZlZCByZXNwb25zZSBmb3IgIituLmlkKSxuLnBhcmVudE5vZGUpe3RyeXtpZihuLmNvbnRlbnREb2N1bWVudCYmbi5jb250ZW50RG9jdW1lbnQuYm9keSYmImZhbHNlIj09bi5jb250ZW50RG9jdW1lbnQuYm9keS5pbm5lckhUTUwpcmV0dXJufWNhdGNoKG4pe2koIkVycm9yIHdoZW4gYXR0ZW1wdGluZyB0byBhY2Nlc3MgaWZyYW1lIGR1cmluZyBoYW5kbGluZyBvZiB1cGxvYWQgcmVzcG9uc2UgKCIrbi5tZXNzYWdlKyIpIiwiZXJyb3IiKTtmPXtzdWNjZXNzOiExfX1yKGYpfX0pfSxfY3JlYXRlSWZyYW1lOmZ1bmN0aW9uKG4pe3JldHVybiB2KHIuX2dldElmcmFtZU5hbWUobikpfSxfZGV0YWNoTG9hZEV2ZW50OmZ1bmN0aW9uKG4pe3ZvaWQgMCE9PXVbbl0mJih1W25dKCksZGVsZXRlIHVbbl0pfSxfZ2V0SWZyYW1lTmFtZTpmdW5jdGlvbihuKXtyZXR1cm4gbisiXyIrcH0sX2luaXRGb3JtRm9yVXBsb2FkOmZ1bmN0aW9uKG4pe3ZhciBlPW4ubWV0aG9kLHI9bi5lbmRwb2ludCx1PW4ucGFyYW1zLG89bi5wYXJhbXNJbkJvZHkscz1uLnRhcmdldE5hbWUsaT10LnRvRWxlbWVudCgiPGZvcm0gbWV0aG9kPSciK2UrIicgZW5jdHlwZT0nbXVsdGlwYXJ0L2Zvcm0tZGF0YSc+PFwvZm9ybT4iKSxmPXI7cmV0dXJuIG8/dC5vYmoySW5wdXRzKHUsaSk6Zj10Lm9iajJ1cmwodSxyKSxpLnNldEF0dHJpYnV0ZSgiYWN0aW9uIixmKSxpLnNldEF0dHJpYnV0ZSgidGFyZ2V0IixzKSxpLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaSksaX0sX3BhcnNlSnNvblJlc3BvbnNlOmZ1bmN0aW9uKG4pe3ZhciByPXt9O3RyeXtyPXQucGFyc2VKc29uKG4pfWNhdGNoKG4pe2koIkVycm9yIHdoZW4gYXR0ZW1wdGluZyB0byBwYXJzZSBpZnJhbWUgdXBsb2FkIHJlc3BvbnNlICgiK24ubWVzc2FnZSsiKSIsImVycm9yIil9cmV0dXJuIHJ9fSl9O3QuWGhyVXBsb2FkSGFuZGxlcj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gYShuKXt0LmVhY2goaS5fZ2V0WGhycyhuKSxmdW5jdGlvbih0LHIpe3ZhciB1PWkuX2dldEFqYXhSZXF1ZXN0ZXIobix0KTtyLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsO3IudXBsb2FkLm9ucHJvZ3Jlc3M9bnVsbDtyLmFib3J0KCk7dSYmdS5jYW5jZWxlZCYmdS5jYW5jZWxlZChuKX0pfXZhciBpPXRoaXMsdj1uLm9wdGlvbnMubmFtZXNwYWNlLHI9bi5wcm94eSxmPW4ub3B0aW9ucy5jaHVua2luZyxoPWZ1bmN0aW9uKG4pe3ZhciBlPWkuX2dldEZpbGVTdGF0ZShuKSxyO3JldHVybiBlLmNodW5rU2l6ZT9lLmNodW5rU2l6ZToocj1mLnBhcnRTaXplLHQuaXNGdW5jdGlvbihyKSYmKHI9cihuLHUobikpKSxlLmNodW5rU2l6ZT1yLHIpfSxjPW4ub3B0aW9ucy5yZXN1bWUseT1mJiZuLm9wdGlvbnMuY2h1bmtpbmcuZW5hYmxlZCYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5jaHVua2luZyxlPWMmJm4ub3B0aW9ucy5yZXN1bWUuZW5hYmxlZCYmeSYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5yZXN1bWUsbz1yLmdldE5hbWUsdT1yLmdldFNpemUscD1yLmdldFV1aWQsdz1yLmdldEVuZHBvaW50LGI9ci5nZXREYXRhQnlVdWlkLGs9ci5vblV1aWRDaGFuZ2VkLGw9ci5vblByb2dyZXNzLHM9ci5sb2csZD1yLmdldEN1c3RvbVJlc3VtZURhdGE7dC5leHRlbmQodGhpcyxuZXcgdC5VcGxvYWRIYW5kbGVyKG4pKTt0Lm92ZXJyaWRlKHRoaXMsZnVuY3Rpb24obil7cmV0dXJue2FkZDpmdW5jdGlvbihyLHUpe2lmKHQuaXNGaWxlKHUpfHx0LmlzQmxvYih1KSluLmFkZChyLHtmaWxlOnV9KTtlbHNle2lmKCEodSBpbnN0YW5jZW9mIHQuQmxvYlByb3h5KSl0aHJvdyBuZXcgRXJyb3IoIlBhc3NlZCBvYmogaXMgbm90IGEgRmlsZSwgQmxvYiwgb3IgcHJveHkiKTtuLmFkZChyLHtwcm94eTp1fSl9aS5faW5pdFRlbXBTdGF0ZShyKTtlJiZpLl9tYXliZVByZXBhcmVGb3JSZXN1bWUocil9LGV4cHVuZ2U6ZnVuY3Rpb24odCl7YSh0KTtpLl9tYXliZURlbGV0ZVBlcnNpc3RlZENodW5rRGF0YSh0KTtpLl9jbGVhclhocnModCk7bi5leHB1bmdlKHQpfX19KTt0LmV4dGVuZCh0aGlzLHtjbGVhckNhY2hlZENodW5rOmZ1bmN0aW9uKG4sdCl7dmFyIHI9aS5fZ2V0RmlsZVN0YXRlKG4pO3ImJmRlbGV0ZSByLnRlbXAuY2FjaGVkQ2h1bmtzW3RdfSxjbGVhclhocjpmdW5jdGlvbihuLHQpe3ZhciByPWkuX2dldEZpbGVTdGF0ZShuKS50ZW1wO3IueGhycyYmZGVsZXRlIHIueGhyc1t0XTtyLmFqYXhSZXF1ZXN0ZXJzJiZkZWxldGUgci5hamF4UmVxdWVzdGVyc1t0XX0sZmluYWxpemVDaHVua3M6ZnVuY3Rpb24obixyKXt2YXIgZj1pLl9nZXRUb3RhbENodW5rcyhuKS0xLHU9aS5fZ2V0WGhyKG4sZik7cmV0dXJuIHI/KG5ldyB0LlByb21pc2UpLnN1Y2Nlc3Mocih1KSx1KToobmV3IHQuUHJvbWlzZSkuc3VjY2Vzcyh7fSx1KX0sZ2V0RmlsZTpmdW5jdGlvbihuKXtyZXR1cm4gaS5pc1ZhbGlkKG4pJiZpLl9nZXRGaWxlU3RhdGUobikuZmlsZX0sZ2V0UHJveHk6ZnVuY3Rpb24obil7cmV0dXJuIGkuaXNWYWxpZChuKSYmaS5fZ2V0RmlsZVN0YXRlKG4pLnByb3h5fSxnZXRSZXN1bWFibGVGaWxlc0RhdGE6ZnVuY3Rpb24oKXt2YXIgbj1bXTtyZXR1cm4gaS5faXRlcmF0ZVJlc3VtZVJlY29yZHMoZnVuY3Rpb24odCxyKXtpLm1vdmVJblByb2dyZXNzVG9SZW1haW5pbmcobnVsbCxyLmNodW5raW5nLmluUHJvZ3Jlc3Msci5jaHVua2luZy5yZW1haW5pbmcpO3ZhciB1PXtuYW1lOnIubmFtZSxyZW1haW5pbmc6ci5jaHVua2luZy5yZW1haW5pbmcsc2l6ZTpyLnNpemUsdXVpZDpyLnV1aWR9O3Iua2V5JiYodS5rZXk9ci5rZXkpO3IuY3VzdG9tUmVzdW1lRGF0YSYmKHUuY3VzdG9tUmVzdW1lRGF0YT1yLmN1c3RvbVJlc3VtZURhdGEpO24ucHVzaCh1KX0pLG59LGlzQXR0ZW1wdGluZ1Jlc3VtZTpmdW5jdGlvbihuKXtyZXR1cm4gaS5fZ2V0RmlsZVN0YXRlKG4pLmF0dGVtcHRpbmdSZXN1bWV9LGlzUmVzdW1hYmxlOmZ1bmN0aW9uKG4pe3JldHVybiEhZiYmaS5pc1ZhbGlkKG4pJiYhaS5fZ2V0RmlsZVN0YXRlKG4pLm5vdFJlc3VtYWJsZX0sbW92ZUluUHJvZ3Jlc3NUb1JlbWFpbmluZzpmdW5jdGlvbihuLHIsdSl7dmFyIG89aS5fZ2V0RmlsZVN0YXRlKG4pfHx7fSxlPW8uY2h1bmtpbmd8fHt9LGY9cnx8ZS5pblByb2dyZXNzLGg9dXx8ZS5yZW1haW5pbmc7ZiYmKHModC5mb3JtYXQoIk1vdmluZyB0aGVzZSBjaHVua3MgZnJvbSBpbi1wcm9ncmVzcyB7fSwgdG8gcmVtYWluaW5nLiIsSlNPTi5zdHJpbmdpZnkoZikpKSxmLnJldmVyc2UoKSx0LmVhY2goZixmdW5jdGlvbihuLHQpe2gudW5zaGlmdCh0KX0pLGYubGVuZ3RoPTApfSxwYXVzZTpmdW5jdGlvbihuKXtpZihpLmlzVmFsaWQobikpcmV0dXJuIHModC5mb3JtYXQoIkFib3J0aW5nIFhIUiB1cGxvYWQgZm9yIHt9ICd7fScgZHVlIHRvIHBhdXNlIGluc3RydWN0aW9uLiIsbixvKG4pKSksaS5fZ2V0RmlsZVN0YXRlKG4pLnBhdXNlZD0hMCxhKG4pLCEwfSxyZWV2YWx1YXRlQ2h1bmtpbmc6ZnVuY3Rpb24obil7aWYoZiYmaS5pc1ZhbGlkKG4pKXt2YXIgcix1LHQ9aS5fZ2V0RmlsZVN0YXRlKG4pO2lmKGRlbGV0ZSB0LmNodW5raW5nLHQuY2h1bmtpbmc9e30scj1pLl9nZXRUb3RhbENodW5rcyhuKSxyPjF8fGYubWFuZGF0b3J5KXtmb3IodC5jaHVua2luZy5lbmFibGVkPSEwLHQuY2h1bmtpbmcucGFydHM9cix0LmNodW5raW5nLnJlbWFpbmluZz1bXSx1PTA7dTxyO3UrKyl0LmNodW5raW5nLnJlbWFpbmluZy5wdXNoKHUpO2kuX2luaXRUZW1wU3RhdGUobil9ZWxzZSB0LmNodW5raW5nLmVuYWJsZWQ9ITF9fSx1cGRhdGVCbG9iOmZ1bmN0aW9uKG4sdCl7aS5pc1ZhbGlkKG4pJiYoaS5fZ2V0RmlsZVN0YXRlKG4pLmZpbGU9dCl9LF9jbGVhclhocnM6ZnVuY3Rpb24obil7dmFyIHI9aS5fZ2V0RmlsZVN0YXRlKG4pLnRlbXA7dC5lYWNoKHIuYWpheFJlcXVlc3RlcnMsZnVuY3Rpb24obil7ZGVsZXRlIHIuYWpheFJlcXVlc3RlcnNbbl19KTt0LmVhY2goci54aHJzLGZ1bmN0aW9uKG4pe2RlbGV0ZSByLnhocnNbbl19KX0sX2NyZWF0ZVhocjpmdW5jdGlvbihuLHIpe3JldHVybiBpLl9yZWdpc3RlclhocihuLHIsdC5jcmVhdGVYaHJJbnN0YW5jZSgpKX0sX2dldEFqYXhSZXF1ZXN0ZXI6ZnVuY3Rpb24obix0KXt2YXIgcj1udWxsPT10Py0xOnQ7cmV0dXJuIGkuX2dldEZpbGVTdGF0ZShuKS50ZW1wLmFqYXhSZXF1ZXN0ZXJzW3JdfSxfZ2V0Q2h1bmtEYXRhOmZ1bmN0aW9uKG4scil7dmFyIGU9aChuKSxzPXUobiksYT1pLmdldEZpbGUobiksZj1lKnIsbz1mK2U+PXM/czpmK2Usdj1pLl9nZXRUb3RhbENodW5rcyhuKSxjPXRoaXMuX2dldEZpbGVTdGF0ZShuKS50ZW1wLmNhY2hlZENodW5rcyxsPWNbcl18fHQuc2xpY2VCbG9iKGEsZixvKTtyZXR1cm4gY1tyXT1sLHtwYXJ0OnIsc3RhcnQ6ZixlbmQ6byxjb3VudDp2LGJsb2I6bCxzaXplOm8tZn19LF9nZXRDaHVua0RhdGFGb3JDYWxsYmFjazpmdW5jdGlvbihuKXtyZXR1cm57cGFydEluZGV4Om4ucGFydCxzdGFydEJ5dGU6bi5zdGFydCsxLGVuZEJ5dGU6bi5lbmQsdG90YWxQYXJ0czpuLmNvdW50fX0sX2dldExvY2FsU3RvcmFnZUlkOmZ1bmN0aW9uKG4pe3ZhciByPW8obiksZj11KG4pLGU9aChuKSxzPXcobiksbD1jLmN1c3RvbUtleXMobiksaT10LmZvcm1hdCgicXF7fXJlc3VtZXt9LXt9LXt9LXt9LXt9Iix2LCI1LjAiLHIsZixlLHMpO3JldHVybiBsLmZvckVhY2goZnVuY3Rpb24obil7aSs9Ii0iK259KSxpfSxfZ2V0TWltZVR5cGU6ZnVuY3Rpb24obil7cmV0dXJuIGkuZ2V0RmlsZShuKS50eXBlfSxfZ2V0UGVyc2lzdGFibGVEYXRhOmZ1bmN0aW9uKG4pe3JldHVybiBpLl9nZXRGaWxlU3RhdGUobikuY2h1bmtpbmd9LF9nZXRUb3RhbENodW5rczpmdW5jdGlvbihuKXtpZihmKXt2YXIgdD11KG4pLGk9aChuKTtyZXR1cm4gTWF0aC5jZWlsKHQvaSl9fSxfZ2V0WGhyOmZ1bmN0aW9uKG4sdCl7dmFyIHI9bnVsbD09dD8tMTp0O3JldHVybiBpLl9nZXRGaWxlU3RhdGUobikudGVtcC54aHJzW3JdfSxfZ2V0WGhyczpmdW5jdGlvbihuKXtyZXR1cm4gaS5fZ2V0RmlsZVN0YXRlKG4pLnRlbXAueGhyc30sX2l0ZXJhdGVSZXN1bWVSZWNvcmRzOmZ1bmN0aW9uKG4pe2UmJnQuZWFjaChsb2NhbFN0b3JhZ2UsZnVuY3Rpb24oaSxyKXswPT09aS5pbmRleE9mKHQuZm9ybWF0KCJxcXt9cmVzdW1lIix2KSkmJm4oaSxKU09OLnBhcnNlKHIpKX0pfSxfaW5pdFRlbXBTdGF0ZTpmdW5jdGlvbihuKXtpLl9nZXRGaWxlU3RhdGUobikudGVtcD17YWpheFJlcXVlc3RlcnM6e30sY2h1bmtQcm9ncmVzczp7fSx4aHJzOnt9LGNhY2hlZENodW5rczp7fX19LF9tYXJrTm90UmVzdW1hYmxlOmZ1bmN0aW9uKG4pe2kuX2dldEZpbGVTdGF0ZShuKS5ub3RSZXN1bWFibGU9ITB9LF9tYXliZURlbGV0ZVBlcnNpc3RlZENodW5rRGF0YTpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4hIShlJiZpLmlzUmVzdW1hYmxlKG4pJiYodD1pLl9nZXRMb2NhbFN0b3JhZ2VJZChuKSx0JiZsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0KSkpJiYobG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odCksITApfSxfbWF5YmVQcmVwYXJlRm9yUmVzdW1lOmZ1bmN0aW9uKG4pe3ZhciBmLHIsdT1pLl9nZXRGaWxlU3RhdGUobik7ZSYmdm9pZCAwPT09dS5rZXkmJihmPWkuX2dldExvY2FsU3RvcmFnZUlkKG4pLHI9bG9jYWxTdG9yYWdlLmdldEl0ZW0oZiksciYmKHI9SlNPTi5wYXJzZShyKSxiKHIudXVpZCk/aS5fbWFya05vdFJlc3VtYWJsZShuKToocyh0LmZvcm1hdCgiSWRlbnRpZmllZCBmaWxlIHdpdGggSUQge30gYW5kIG5hbWUgb2Yge30gYXMgcmVzdW1hYmxlLiIsbixvKG4pKSksayhuLHIudXVpZCksdS5rZXk9ci5rZXksdS5jaHVua2luZz1yLmNodW5raW5nLHUubG9hZGVkPXIubG9hZGVkLHUuY3VzdG9tUmVzdW1lRGF0YT1yLmN1c3RvbVJlc3VtZURhdGEsdS5hdHRlbXB0aW5nUmVzdW1lPSEwLGkubW92ZUluUHJvZ3Jlc3NUb1JlbWFpbmluZyhuKSkpKX0sX21heWJlUGVyc2lzdENodW5rZWRTdGF0ZTpmdW5jdGlvbihuKXt2YXIgcixmLGg9aS5fZ2V0RmlsZVN0YXRlKG4pLGM7aWYoZSYmaS5pc1Jlc3VtYWJsZShuKSl7Yz1kKG4pO3I9aS5fZ2V0TG9jYWxTdG9yYWdlSWQobik7Zj17bmFtZTpvKG4pLHNpemU6dShuKSx1dWlkOnAobiksa2V5Omgua2V5LGNodW5raW5nOmguY2h1bmtpbmcsbG9hZGVkOmgubG9hZGVkLGxhc3RVcGRhdGVkOkRhdGUubm93KCl9O2MmJihmLmN1c3RvbVJlc3VtZURhdGE9Yyk7dHJ5e2xvY2FsU3RvcmFnZS5zZXRJdGVtKHIsSlNPTi5zdHJpbmdpZnkoZikpfWNhdGNoKHIpe3ModC5mb3JtYXQoIlVuYWJsZSB0byBzYXZlIHJlc3VtZSBkYXRhIGZvciAne30nIGR1ZSB0byBlcnJvcjogJ3t9Jy4iLG4sci50b1N0cmluZygpKSwid2FybiIpfX19LF9yZWdpc3RlclByb2dyZXNzSGFuZGxlcjpmdW5jdGlvbihuLHIsZil7dmFyIHM9aS5fZ2V0WGhyKG4sciksZT1vKG4pLGg9e3NpbXBsZTpmdW5jdGlvbih0LGkpe3ZhciByPXUobik7dD09PWk/bChuLGUscixyKTpsKG4sZSx0Pj1yP3ItMTp0LHIpfSxjaHVua2VkOmZ1bmN0aW9uKG8scyl7dmFyIGg9aS5fZ2V0RmlsZVN0YXRlKG4pLnRlbXAuY2h1bmtQcm9ncmVzcyxhPWkuX2dldEZpbGVTdGF0ZShuKS5sb2FkZWQsdj1vLHk9cyxwPXUobiksdz12LSh5LWYpLGM9YTtoW3JdPXc7dC5lYWNoKGgsZnVuY3Rpb24obix0KXtjKz10fSk7bChuLGUsYyxwKX19O3MudXBsb2FkLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24obil7bi5sZW5ndGhDb21wdXRhYmxlJiZoW251bGw9PWY/InNpbXBsZSI6ImNodW5rZWQiXShuLmxvYWRlZCxuLnRvdGFsKX19LF9yZWdpc3RlclhocjpmdW5jdGlvbihuLHQscix1KXt2YXIgZT1udWxsPT10Py0xOnQsZj1pLl9nZXRGaWxlU3RhdGUobikudGVtcDtyZXR1cm4gZi54aHJzPWYueGhyc3x8e30sZi5hamF4UmVxdWVzdGVycz1mLmFqYXhSZXF1ZXN0ZXJzfHx7fSxmLnhocnNbZV09cix1JiYoZi5hamF4UmVxdWVzdGVyc1tlXT11KSxyfSxfcmVtb3ZlRXhwaXJlZENodW5raW5nUmVjb3JkczpmdW5jdGlvbigpe3ZhciBuPWMucmVjb3Jkc0V4cGlyZUluO2kuX2l0ZXJhdGVSZXN1bWVSZWNvcmRzKGZ1bmN0aW9uKHQsaSl7dmFyIHI9bmV3IERhdGUoaS5sYXN0VXBkYXRlZCk7ci5zZXREYXRlKHIuZ2V0RGF0ZSgpK24pO3IuZ2V0VGltZSgpPD1EYXRlLm5vdygpJiYocygiUmVtb3ZpbmcgZXhwaXJlZCByZXN1bWUgcmVjb3JkIHdpdGgga2V5ICIrdCksbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odCkpfSl9LF9zaG91bGRDaHVua1RoaXNGaWxlOmZ1bmN0aW9uKG4pe3ZhciB0PWkuX2dldEZpbGVTdGF0ZShuKTtpZih0KXJldHVybiB0LmNodW5raW5nfHxpLnJlZXZhbHVhdGVDaHVua2luZyhuKSx0LmNodW5raW5nLmVuYWJsZWR9fSl9O3QuRGVsZXRlRmlsZUFqYXhSZXF1ZXN0ZXI9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHUoKXtyZXR1cm4iUE9TVCI9PT1pLm1ldGhvZC50b1VwcGVyQ2FzZSgpP3tfbWV0aG9kOiJERUxFVEUifTp7fX12YXIgcixpPXttZXRob2Q6IkRFTEVURSIsdXVpZFBhcmFtTmFtZToicXF1dWlkIixlbmRwb2ludFN0b3JlOnt9LG1heENvbm5lY3Rpb25zOjMsY3VzdG9tSGVhZGVyczpmdW5jdGlvbigpe3JldHVybnt9fSxwYXJhbXNTdG9yZTp7fSxjb3JzOntleHBlY3RlZDohMSxzZW5kQ3JlZGVudGlhbHM6ITF9LGxvZzpmdW5jdGlvbigpe30sb25EZWxldGU6ZnVuY3Rpb24oKXt9LG9uRGVsZXRlQ29tcGxldGU6ZnVuY3Rpb24oKXt9fTt0LmV4dGVuZChpLG4pO3I9dC5leHRlbmQodGhpcyxuZXcgdC5BamF4UmVxdWVzdGVyKHthY2NlcHRIZWFkZXI6ImFwcGxpY2F0aW9uL2pzb24iLHZhbGlkTWV0aG9kczpbIlBPU1QiLCJERUxFVEUiXSxtZXRob2Q6aS5tZXRob2QsZW5kcG9pbnRTdG9yZTppLmVuZHBvaW50U3RvcmUscGFyYW1zU3RvcmU6aS5wYXJhbXNTdG9yZSxtYW5kYXRlZFBhcmFtczp1KCksbWF4Q29ubmVjdGlvbnM6aS5tYXhDb25uZWN0aW9ucyxjdXN0b21IZWFkZXJzOmZ1bmN0aW9uKG4pe3JldHVybiBpLmN1c3RvbUhlYWRlcnMuZ2V0KG4pfSxsb2c6aS5sb2csb25TZW5kOmkub25EZWxldGUsb25Db21wbGV0ZTppLm9uRGVsZXRlQ29tcGxldGUsY29yczppLmNvcnN9KSk7dC5leHRlbmQodGhpcyx7c2VuZERlbGV0ZTpmdW5jdGlvbihuLHQsdSl7dmFyIGY9dXx8e307aS5sb2coIlN1Ym1pdHRpbmcgZGVsZXRlIGZpbGUgcmVxdWVzdCBmb3IgIituKTsiREVMRVRFIj09PWkubWV0aG9kP3IuaW5pdFRyYW5zcG9ydChuKS53aXRoUGF0aCh0KS53aXRoUGFyYW1zKGYpLnNlbmQoKTooZltpLnV1aWRQYXJhbU5hbWVdPXQsci5pbml0VHJhbnNwb3J0KG4pLndpdGhQYXJhbXMoZikuc2VuZCgpKX19KX0sZnVuY3Rpb24oKXtmdW5jdGlvbiB1KG4pe3ZhciB0LHI9bi5uYXR1cmFsV2lkdGgsdT1uLm5hdHVyYWxIZWlnaHQsaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyZXR1cm4gcip1PjEwNDg1NzYmJihpLndpZHRoPWkuaGVpZ2h0PTEsdD1pLmdldENvbnRleHQoIjJkIiksdC5kcmF3SW1hZ2UobiwtcisxLDApLDA9PT10LmdldEltYWdlRGF0YSgwLDAsMSwxKS5kYXRhWzNdKX1mdW5jdGlvbiBmKG4sdCxpKXt2YXIgdSxzLGgsZixlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLG89MCxjPWkscj1pO2ZvcihlLndpZHRoPTEsZS5oZWlnaHQ9aSx1PWUuZ2V0Q29udGV4dCgiMmQiKSx1LmRyYXdJbWFnZShuLDAsMCkscz11LmdldEltYWdlRGF0YSgwLDAsMSxpKS5kYXRhO3I+bzspaD1zWzQqKHItMSkrM10sMD09PWg/Yz1yOm89cixyPWMrbz4+MTtyZXR1cm4gZj1yL2ksMD09PWY/MTpmfWZ1bmN0aW9uIGUoaSxyLHUsZil7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikscz11Lm1pbWV8fCJpbWFnZS9qcGVnIixvPW5ldyB0LlByb21pc2U7cmV0dXJuIG4oaSxyLGUsdSxmKS50aGVuKGZ1bmN0aW9uKCl7by5zdWNjZXNzKGUudG9EYXRhVVJMKHMsdS5xdWFsaXR5fHwuOCkpfSksb31mdW5jdGlvbiBvKG4pe2lmKCF0LmlvcygpKXRocm93IG5ldyB0LkVycm9yKCJEb3duc2FtcGxlZCBkaW1lbnNpb25zIGNhbiBvbmx5IGJlIHJlbGlhYmx5IGNhbGN1bGF0ZWQgZm9yIGlPUyEiKTtpZihuLm9yaWdIZWlnaHQqbi5vcmlnV2lkdGg+NTI0MWUzKXJldHVybntuZXdIZWlnaHQ6TWF0aC5yb3VuZChNYXRoLnNxcnQoNTI0MWUzKihuLm9yaWdIZWlnaHQvbi5vcmlnV2lkdGgpKSksbmV3V2lkdGg6TWF0aC5yb3VuZChNYXRoLnNxcnQoNTI0MWUzKihuLm9yaWdXaWR0aC9uLm9yaWdIZWlnaHQpKSl9fWZ1bmN0aW9uIG4obixyLGUsaCxjKXt2YXIgdix5PW4ubmF0dXJhbFdpZHRoLHA9bi5uYXR1cmFsSGVpZ2h0LGw9aC53aWR0aCxhPWguaGVpZ2h0LHc9ZS5nZXRDb250ZXh0KCIyZCIpLGI9bmV3IHQuUHJvbWlzZTtyZXR1cm4gdy5zYXZlKCksaC5yZXNpemU/cyh7YmxvYjpyLGNhbnZhczplLGltYWdlOm4saW1hZ2VIZWlnaHQ6cCxpbWFnZVdpZHRoOnksb3JpZW50YXRpb246aC5vcmllbnRhdGlvbixyZXNpemU6aC5yZXNpemUsdGFyZ2V0SGVpZ2h0OmEsdGFyZ2V0V2lkdGg6bH0pOih0LnN1cHBvcnRlZEZlYXR1cmVzLnVubGltaXRlZFNjYWxlZEltYWdlU2l6ZXx8KHY9byh7b3JpZ1dpZHRoOmwsb3JpZ0hlaWdodDphfSksdiYmKHQubG9nKHQuZm9ybWF0KCJIYWQgdG8gcmVkdWNlIGRpbWVuc2lvbnMgZHVlIHRvIGRldmljZSBsaW1pdGF0aW9ucyBmcm9tIHt9dyAvIHt9aCB0byB7fXcgLyB7fWgiLGwsYSx2Lm5ld1dpZHRoLHYubmV3SGVpZ2h0KSwid2FybiIpLGw9di5uZXdXaWR0aCxhPXYubmV3SGVpZ2h0KSksaShlLGwsYSxoLm9yaWVudGF0aW9uKSx0LmlvcygpP2Z1bmN0aW9uKCl7dShuKSYmKHkvPTIscC89Mik7dmFyIHIsZSxvLHQ9MTAyNCxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpLGs9Yz9mKG4seSxwKToxLGg9TWF0aC5jZWlsKHQqbC95KSx2PU1hdGguY2VpbCh0KmEvcC9rKSxzPTAsYj0wO2ZvcihpLndpZHRoPWkuaGVpZ2h0PXQscj1pLmdldENvbnRleHQoIjJkIik7czxwOyl7Zm9yKGU9MCxvPTA7ZTx5OylyLmNsZWFyUmVjdCgwLDAsdCx0KSxyLmRyYXdJbWFnZShuLC1lLC1zKSx3LmRyYXdJbWFnZShpLDAsMCx0LHQsbyxiLGgsdiksZSs9dCxvKz1oO3MrPXQ7Yis9dn13LnJlc3RvcmUoKTtpPXI9bnVsbH0oKTp3LmRyYXdJbWFnZShuLDAsMCxsLGEpLGUucXFJbWFnZVJlbmRlcmVkJiZlLnFxSW1hZ2VSZW5kZXJlZCgpLGIuc3VjY2VzcygpLGIpfWZ1bmN0aW9uIHMobil7dmFyIGg9bi5ibG9iLGU9bi5pbWFnZSxjPW4uaW1hZ2VIZWlnaHQsbD1uLmltYWdlV2lkdGgsYT1uLm9yaWVudGF0aW9uLHU9bmV3IHQuUHJvbWlzZSx2PW4ucmVzaXplLGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikseT1mLmdldENvbnRleHQoIjJkIikscj1uLmNhbnZhcyxvPW4udGFyZ2V0SGVpZ2h0LHM9bi50YXJnZXRXaWR0aDtyZXR1cm4gaShmLGwsYyxhKSxyLmhlaWdodD1vLHIud2lkdGg9cyx5LmRyYXdJbWFnZShlLDAsMCksdih7YmxvYjpoLGhlaWdodDpvLGltYWdlOmUsc291cmNlQ2FudmFzOmYsdGFyZ2V0Q2FudmFzOnIsd2lkdGg6c30pLnRoZW4oZnVuY3Rpb24oKXtyLnFxSW1hZ2VSZW5kZXJlZCYmci5xcUltYWdlUmVuZGVyZWQoKTt1LnN1Y2Nlc3MoKX0sdS5mYWlsdXJlKSx1fWZ1bmN0aW9uIGkobix0LGkscil7c3dpdGNoKHIpe2Nhc2UgNTpjYXNlIDY6Y2FzZSA3OmNhc2UgODpuLndpZHRoPWk7bi5oZWlnaHQ9dDticmVhaztkZWZhdWx0Om4ud2lkdGg9dDtuLmhlaWdodD1pfXZhciB1PW4uZ2V0Q29udGV4dCgiMmQiKTtzd2l0Y2gocil7Y2FzZSAyOnUudHJhbnNsYXRlKHQsMCk7dS5zY2FsZSgtMSwxKTticmVhaztjYXNlIDM6dS50cmFuc2xhdGUodCxpKTt1LnJvdGF0ZShNYXRoLlBJKTticmVhaztjYXNlIDQ6dS50cmFuc2xhdGUoMCxpKTt1LnNjYWxlKDEsLTEpO2JyZWFrO2Nhc2UgNTp1LnJvdGF0ZSguNSpNYXRoLlBJKTt1LnNjYWxlKDEsLTEpO2JyZWFrO2Nhc2UgNjp1LnJvdGF0ZSguNSpNYXRoLlBJKTt1LnRyYW5zbGF0ZSgwLC1pKTticmVhaztjYXNlIDc6dS5yb3RhdGUoLjUqTWF0aC5QSSk7dS50cmFuc2xhdGUodCwtaSk7dS5zY2FsZSgtMSwxKTticmVhaztjYXNlIDg6dS5yb3RhdGUoLS41Kk1hdGguUEkpO3UudHJhbnNsYXRlKC10LDApfX1mdW5jdGlvbiByKG4sdCl7dmFyIGk9dGhpczt3aW5kb3cuQmxvYiYmbiBpbnN0YW5jZW9mIEJsb2ImJmZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEltYWdlLHI9d2luZG93LlVSTCYmd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkw/d2luZG93LlVSTDp3aW5kb3cud2Via2l0VVJMJiZ3aW5kb3cud2Via2l0VVJMLmNyZWF0ZU9iamVjdFVSTD93aW5kb3cud2Via2l0VVJMOm51bGw7aWYoIXIpdGhyb3cgRXJyb3IoIk5vIGNyZWF0ZU9iamVjdFVSTCBmdW5jdGlvbiBmb3VuZCB0byBjcmVhdGUgYmxvYiB1cmwiKTt0LnNyYz1yLmNyZWF0ZU9iamVjdFVSTChuKTtpLmJsb2I9bjtuPXR9KCk7bi5uYXR1cmFsV2lkdGh8fG4ubmF0dXJhbEhlaWdodHx8KG4ub25sb2FkPWZ1bmN0aW9uKCl7dmFyIG49aS5pbWFnZUxvYWRMaXN0ZW5lcnM7biYmKGkuaW1hZ2VMb2FkTGlzdGVuZXJzPW51bGwsc2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIgdD0wLGk9bi5sZW5ndGg7dDxpO3QrKyluW3RdKCl9LDApKX0sbi5vbmVycm9yPXQsdGhpcy5pbWFnZUxvYWRMaXN0ZW5lcnM9W10pO3RoaXMuc3JjSW1hZ2U9bn1yLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oaSxyKXtyPXJ8fHt9O3ZhciBoLGM9dGhpcyxvPXRoaXMuc3JjSW1hZ2UubmF0dXJhbFdpZHRoLHM9dGhpcy5zcmNJbWFnZS5uYXR1cmFsSGVpZ2h0LHU9ci53aWR0aCxmPXIuaGVpZ2h0LGw9ci5tYXhXaWR0aCxhPXIubWF4SGVpZ2h0LHY9IXRoaXMuYmxvYnx8ImltYWdlL2pwZWciPT09dGhpcy5ibG9iLnR5cGUseT1pLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtpZih0aGlzLmltYWdlTG9hZExpc3RlbmVycylyZXR1cm4gdm9pZCB0aGlzLmltYWdlTG9hZExpc3RlbmVycy5wdXNoKGZ1bmN0aW9uKCl7Yy5yZW5kZXIoaSxyKX0pO3UmJiFmP2Y9cyp1L288PDA6ZiYmIXU/dT1vKmYvczw8MDoodT1vLGY9cyk7bCYmdT5sJiYodT1sLGY9cyp1L288PDApO2EmJmY+YSYmKGY9YSx1PW8qZi9zPDwwKTtoPXt3aWR0aDp1LGhlaWdodDpmfTt0LmVhY2gocixmdW5jdGlvbihuLHQpe2hbbl09dH0pOyJpbWciPT09eT9mdW5jdGlvbigpe3ZhciBuPWkuc3JjO2UoYy5zcmNJbWFnZSxjLmJsb2IsaCx2KS50aGVuKGZ1bmN0aW9uKHQpe2kuc3JjPXQ7bj09PWkuc3JjJiZpLm9ubG9hZCgpfSl9KCk6ImNhbnZhcyI9PT15JiZuKHRoaXMuc3JjSW1hZ2UsdGhpcy5ibG9iLGksaCx2KTsiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5vbnJlbmRlciYmdGhpcy5vbnJlbmRlcihpKX07dC5NZWdhUGl4SW1hZ2U9cn0oKTt0LkltYWdlR2VuZXJhdG9yPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKG4pe3JldHVybiJpbWciPT09bi50YWdOYW1lLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gdShuKXtyZXR1cm4iY2FudmFzIj09PW4udGFnTmFtZS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIGgoKXtyZXR1cm4gdm9pZCAwIT09KG5ldyBJbWFnZSkuY3Jvc3NPcmlnaW59ZnVuY3Rpb24gYygpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO3JldHVybiBuLmdldENvbnRleHQmJm4uZ2V0Q29udGV4dCgiMmQiKX1mdW5jdGlvbiBlKG4pe3ZhciByPW4uc3BsaXQoIi8iKSx1PXJbci5sZW5ndGgtMV0uc3BsaXQoIj8iKVswXSxpPXQuZ2V0RXh0ZW5zaW9uKHUpO3N3aXRjaChpPWkmJmkudG9Mb3dlckNhc2UoKSl7Y2FzZSJqcGVnIjpjYXNlImpwZyI6cmV0dXJuImltYWdlL2pwZWciO2Nhc2UicG5nIjpyZXR1cm4iaW1hZ2UvcG5nIjtjYXNlImJtcCI6cmV0dXJuImltYWdlL2JtcCI7Y2FzZSJnaWYiOnJldHVybiJpbWFnZS9naWYiO2Nhc2UidGlmZiI6Y2FzZSJ0aWYiOnJldHVybiJpbWFnZS90aWZmIn19ZnVuY3Rpb24gZihuKXt2YXIgcix1LGYsaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIGkuaHJlZj1uLHI9aS5wcm90b2NvbCxmPWkucG9ydCx1PWkuaG9zdG5hbWUsci50b0xvd2VyQ2FzZSgpIT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sLnRvTG93ZXJDYXNlKCl8fHUudG9Mb3dlckNhc2UoKSE9PXdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpfHxmIT09d2luZG93LmxvY2F0aW9uLnBvcnQmJiF0LmllKCl9ZnVuY3Rpb24gbCh0LGkpe3Qub25sb2FkPWZ1bmN0aW9uKCl7dC5vbmxvYWQ9bnVsbDt0Lm9uZXJyb3I9bnVsbDtpLnN1Y2Nlc3ModCl9O3Qub25lcnJvcj1mdW5jdGlvbigpe3Qub25sb2FkPW51bGw7dC5vbmVycm9yPW51bGw7bigiUHJvYmxlbSBkcmF3aW5nIHRodW1ibmFpbCEiLCJlcnJvciIpO2kuZmFpbHVyZSh0LCJQcm9ibGVtIGRyYXdpbmcgdGh1bWJuYWlsISIpfX1mdW5jdGlvbiBhKG4sdCl7bi5xcUltYWdlUmVuZGVyZWQ9ZnVuY3Rpb24oKXt0LnN1Y2Nlc3Mobil9fWZ1bmN0aW9uIGkoaSxmKXt2YXIgZT1yKGkpfHx1KGkpO3JldHVybiByKGkpP2woaSxmKTp1KGkpP2EoaSxmKTooZi5mYWlsdXJlKGkpLG4odC5mb3JtYXQoIkVsZW1lbnQgY29udGFpbmVyIG9mIHR5cGUge30gaXMgbm90IHN1cHBvcnRlZCEiLGkudGFnTmFtZSksImVycm9yIikpLGV9ZnVuY3Rpb24gdihyLHUsZil7dmFyIGU9bmV3IHQuUHJvbWlzZSxzPW5ldyB0LklkZW50aWZ5KHIsbiksbz1mLm1heFNpemUsaD1udWxsPT1mLm9yaWVudHx8Zi5vcmllbnQsYz1mdW5jdGlvbigpe3Uub25lcnJvcj1udWxsO3Uub25sb2FkPW51bGw7bigiQ291bGQgbm90IHJlbmRlciBwcmV2aWV3LCBmaWxlIG1heSBiZSB0b28gbGFyZ2UhIiwiZXJyb3IiKTtlLmZhaWx1cmUodSwiQnJvd3NlciBjYW5ub3QgcmVuZGVyIGltYWdlISIpfTtyZXR1cm4gcy5pc1ByZXZpZXdhYmxlKCkudGhlbihmdW5jdGlvbihzKXt2YXIgYT17cGFyc2U6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IHQuUHJvbWlzZSkuc3VjY2VzcygpfX0sdj1oP25ldyB0LkV4aWYocixuKTphLGw9bmV3IHQuTWVnYVBpeEltYWdlKHIsYyk7aSh1LGUpJiZ2LnBhcnNlKCkudGhlbihmdW5jdGlvbihuKXt2YXIgdD1uJiZuLk9yaWVudGF0aW9uO2wucmVuZGVyKHUse21heFdpZHRoOm8sbWF4SGVpZ2h0Om8sb3JpZW50YXRpb246dCxtaW1lOnMscmVzaXplOmYuY3VzdG9tUmVzaXplRnVuY3Rpb259KX0sZnVuY3Rpb24oaSl7bih0LmZvcm1hdCgiRVhJRiBkYXRhIGNvdWxkIG5vdCBiZSBwYXJzZWQgKHt9KS4gIEFzc3VtaW5nIG9yaWVudGF0aW9uID0gMS4iLGkpKTtsLnJlbmRlcih1LHttYXhXaWR0aDpvLG1heEhlaWdodDpvLG1pbWU6cyxyZXNpemU6Zi5jdXN0b21SZXNpemVGdW5jdGlvbn0pfSl9LGZ1bmN0aW9uKCl7bigiTm90IHByZXZpZXdhYmxlIik7ZS5mYWlsdXJlKHUsIk5vdCBwcmV2aWV3YWJsZSIpfSksZX1mdW5jdGlvbiBvKG4scix1LG8scyl7dmFyIGg9bmV3IEltYWdlLGM9bmV3IHQuUHJvbWlzZTtpKGgsYyk7ZihuKSYmKGguY3Jvc3NPcmlnaW49ImFub255bW91cyIpO2guc3JjPW47Yy50aGVuKGZ1bmN0aW9uKCl7aShyLHUpO25ldyB0Lk1lZ2FQaXhJbWFnZShoKS5yZW5kZXIocix7bWF4V2lkdGg6byxtYXhIZWlnaHQ6byxtaW1lOmUobikscmVzaXplOnN9KX0sdS5mYWlsdXJlKX1mdW5jdGlvbiBzKG4scix1LGYpe2kocix1KTt0KHIpLmNzcyh7bWF4V2lkdGg6ZisicHgiLG1heEhlaWdodDpmKyJweCJ9KTtyLnNyYz1ufWZ1bmN0aW9uIHkobixlLGwpe3ZhciBhPW5ldyB0LlByb21pc2UseT1sLnNjYWxlLHY9eT9sLm1heFNpemU6bnVsbDtyZXR1cm4geSYmcihlKT9jKCk/ZihuKSYmIWgoKT9zKG4sZSxhLHYpOm8obixlLGEsdik6cyhuLGUsYSx2KTp1KGUpP28obixlLGEsdik6aShlLGEpJiYoZS5zcmM9biksYX10LmV4dGVuZCh0aGlzLHtnZW5lcmF0ZTpmdW5jdGlvbihpLHIsdSl7cmV0dXJuIHQuaXNTdHJpbmcoaSk/KG4oIkF0dGVtcHRpbmcgdG8gdXBkYXRlIHRodW1ibmFpbCBiYXNlZCBvbiBzZXJ2ZXIgcmVzcG9uc2UuIikseShpLHIsdXx8e30pKToobigiQXR0ZW1wdGluZyB0byBkcmF3IGNsaWVudC1zaWRlIGltYWdlIHByZXZpZXcuIiksdihpLHIsdXx8e30pKX19KTt0aGlzLl90ZXN0aW5nPXt9O3RoaXMuX3Rlc3RpbmcuaXNJbWc9cjt0aGlzLl90ZXN0aW5nLmlzQ2FudmFzPXU7dGhpcy5fdGVzdGluZy5pc0Nyb3NzT3JpZ2luPWY7dGhpcy5fdGVzdGluZy5kZXRlcm1pbmVNaW1lT2ZGaWxlTmFtZT1lfTt0LkV4aWY9ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihuKXtmb3IodmFyIHQ9MCxpPTA7bi5sZW5ndGg+MDspdCs9cGFyc2VJbnQobi5zdWJzdHJpbmcoMCwyKSwxNikqTWF0aC5wb3coMixpKSxuPW4uc3Vic3RyaW5nKDIsbi5sZW5ndGgpLGkrPTg7cmV0dXJuIHR9ZnVuY3Rpb24gdShpLHIpe3ZhciBmPWksZT1yO3JldHVybiB2b2lkIDA9PT1mJiYoZj0yLGU9bmV3IHQuUHJvbWlzZSksdC5yZWFkQmxvYlRvSGV4KG4sZiw0KS50aGVuKGZ1bmN0aW9uKG4pe3ZhciB0LGk9L15mZmUoWzAtOV0pLy5leGVjKG4pO2k/IjEiIT09aVsxXT8odD1wYXJzZUludChuLnNsaWNlKDQsOCksMTYpLHUoZit0KzIsZSkpOmUuc3VjY2VzcyhmKTplLmZhaWx1cmUoIk5vIEVYSUYgaGVhZGVyIHRvIGJlIGZvdW5kISIpfSksZX1mdW5jdGlvbiBlKCl7dmFyIGk9bmV3IHQuUHJvbWlzZTtyZXR1cm4gdC5yZWFkQmxvYlRvSGV4KG4sMCw2KS50aGVuKGZ1bmN0aW9uKG4pezAhPT1uLmluZGV4T2YoImZmZDgiKT9pLmZhaWx1cmUoIk5vdCBhIHZhbGlkIEpQRUchIik6dSgpLnRoZW4oZnVuY3Rpb24obil7aS5zdWNjZXNzKG4pfSxmdW5jdGlvbihuKXtpLmZhaWx1cmUobil9KX0pLGl9ZnVuY3Rpb24gbyhpKXt2YXIgcj1uZXcgdC5Qcm9taXNlO3JldHVybiB0LnJlYWRCbG9iVG9IZXgobixpKzEwLDIpLnRoZW4oZnVuY3Rpb24obil7ci5zdWNjZXNzKCI0OTQ5Ij09PW4pfSkscn1mdW5jdGlvbiBzKGksdSl7dmFyIGY9bmV3IHQuUHJvbWlzZTtyZXR1cm4gdC5yZWFkQmxvYlRvSGV4KG4saSsxOCwyKS50aGVuKGZ1bmN0aW9uKG4pe2lmKHUpcmV0dXJuIGYuc3VjY2VzcyhyKG4pKTtmLnN1Y2Nlc3MocGFyc2VJbnQobiwxNikpfSksZn1mdW5jdGlvbiBoKGkscil7dmFyIHU9aSsyMCxmPTEyKnI7cmV0dXJuIHQucmVhZEJsb2JUb0hleChuLHUsZil9ZnVuY3Rpb24gYyhuKXtmb3IodmFyIGk9W10sdD0wO3QrMjQ8PW4ubGVuZ3RoOylpLnB1c2gobi5zbGljZSh0LHQrMjQpKSx0Kz0yNDtyZXR1cm4gaX1mdW5jdGlvbiBsKG4saSl7dmFyIHU9dC5leHRlbmQoW10sYSksZT17fTtyZXR1cm4gdC5lYWNoKGksZnVuY3Rpb24odCxpKXt2YXIgbyxoLGMsbD1pLnNsaWNlKDAsNCkscz1uP3IobCk6cGFyc2VJbnQobCwxNiksYT11LmluZGV4T2Yocyk7aWYoYT49MCYmKGg9ZltzXS5uYW1lLGM9ZltzXS5ieXRlcyxvPWkuc2xpY2UoMTYsMTYrMipjKSxlW2hdPW4/cihvKTpwYXJzZUludChvLDE2KSx1LnNwbGljZShhLDEpKSwwPT09dS5sZW5ndGgpcmV0dXJuITF9KSxlfXZhciBhPVsyNzRdLGY9ezI3NDp7bmFtZToiT3JpZW50YXRpb24iLGJ5dGVzOjJ9fTt0LmV4dGVuZCh0aGlzLHtwYXJzZTpmdW5jdGlvbigpe3ZhciB1PW5ldyB0LlByb21pc2Uscj1mdW5jdGlvbihuKXtpKHQuZm9ybWF0KCJFWElGIGhlYWRlciBwYXJzZSBmYWlsZWQ6ICd7fScgIixuKSk7dS5mYWlsdXJlKG4pfTtyZXR1cm4gZSgpLnRoZW4oZnVuY3Rpb24oZil7aSh0LmZvcm1hdCgiTW92aW5nIGZvcndhcmQgd2l0aCBFWElGIGhlYWRlciBwYXJzaW5nIGZvciAne30nIix2b2lkIDA9PT1uLm5hbWU/ImJsb2IiOm4ubmFtZSkpO28oZikudGhlbihmdW5jdGlvbihuKXtpKHQuZm9ybWF0KCJFWElGIEJ5dGUgb3JkZXIgaXMge30gZW5kaWFuIixuPyJsaXR0bGUiOiJiaWciKSk7cyhmLG4pLnRoZW4oZnVuY3Rpb24oZSl7aSh0LmZvcm1hdCgiRm91bmQge30gQVBQMSBkaXJlY3RvcnkgZW50cmllcyIsZSkpO2goZixlKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciByPWModCksZj1sKG4scik7aSgiU3VjY2Vzc2Z1bGx5IHBhcnNlZCBzb21lIEVYSUYgdGFncyIpO3Uuc3VjY2VzcyhmKX0scil9LHIpfSxyKX0sciksdX19KTt0aGlzLl90ZXN0aW5nPXt9O3RoaXMuX3Rlc3RpbmcucGFyc2VMaXR0bGVFbmRpYW49cn07dC5JZGVudGlmeT1mdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKG4saSl7dmFyIHI9ITEsdT1bXS5jb25jYXQobik7cmV0dXJuIHQuZWFjaCh1LGZ1bmN0aW9uKG4sdCl7aWYoMD09PWkuaW5kZXhPZih0KSlyZXR1cm4gcj0hMCwhMX0pLHJ9dC5leHRlbmQodGhpcyx7aXNQcmV2aWV3YWJsZTpmdW5jdGlvbigpe3ZhciBvPXRoaXMsdT1uZXcgdC5Qcm9taXNlLGY9ITEsZT12b2lkIDA9PT1uLm5hbWU/ImJsb2IiOm4ubmFtZTtyZXR1cm4gaSh0LmZvcm1hdCgiQXR0ZW1wdGluZyB0byBkZXRlcm1pbmUgaWYge30gY2FuIGJlIHJlbmRlcmVkIGluIHRoaXMgYnJvd3NlciIsZSkpLGkoIkZpcnN0IHBhc3M6IGNoZWNrIHR5cGUgYXR0cmlidXRlIG9mIGJsb2Igb2JqZWN0LiIpLHRoaXMuaXNQcmV2aWV3YWJsZVN5bmMoKT8oaSgiU2Vjb25kIHBhc3M6IGNoZWNrIGZvciBtYWdpYyBieXRlcyBpbiBmaWxlIGhlYWRlci4iKSx0LnJlYWRCbG9iVG9IZXgobiwwLDQpLnRoZW4oZnVuY3Rpb24obil7dC5lYWNoKG8uUFJFVklFV0FCTEVfTUlNRV9UWVBFUyxmdW5jdGlvbihpLGUpe2lmKHIoZSxuKSlyZXR1cm4oImltYWdlL3RpZmYiIT09aXx8dC5zdXBwb3J0ZWRGZWF0dXJlcy50aWZmUHJldmlld3MpJiYoZj0hMCx1LnN1Y2Nlc3MoaSkpLCExfSk7aSh0LmZvcm1hdCgiJ3t9JyBpcyB7fSBhYmxlIHRvIGJlIHJlbmRlcmVkIGluIHRoaXMgYnJvd3NlciIsZSxmPyIiOiJOT1QiKSk7Znx8dS5mYWlsdXJlKCl9LGZ1bmN0aW9uKCl7aSgiRXJyb3IgcmVhZGluZyBmaWxlIHcvIG5hbWUgJyIrZSsiJy4gIE5vdCBhYmxlIHRvIGJlIHJlbmRlcmVkIGluIHRoaXMgYnJvd3Nlci4iKTt1LmZhaWx1cmUoKX0pKTp1LmZhaWx1cmUoKSx1fSxpc1ByZXZpZXdhYmxlU3luYzpmdW5jdGlvbigpe3ZhciB1PW4udHlwZSxmPXQuaW5kZXhPZihPYmplY3Qua2V5cyh0aGlzLlBSRVZJRVdBQkxFX01JTUVfVFlQRVMpLHUpPj0wLHI9ITEsZT12b2lkIDA9PT1uLm5hbWU/ImJsb2IiOm4ubmFtZTtyZXR1cm4gZiYmKHI9ImltYWdlL3RpZmYiIT09dXx8dC5zdXBwb3J0ZWRGZWF0dXJlcy50aWZmUHJldmlld3MpLCFyJiZpKGUrIiBpcyBub3QgcHJldmlld2FibGUgaW4gdGhpcyBicm93c2VyIHBlciB0aGUgYmxvYidzIHR5cGUgYXR0ciIpLHJ9fSl9O3QuSWRlbnRpZnkucHJvdG90eXBlLlBSRVZJRVdBQkxFX01JTUVfVFlQRVM9eyJpbWFnZS9qcGVnIjoiZmZkOGZmIiwiaW1hZ2UvZ2lmIjoiNDc0OTQ2IiwiaW1hZ2UvcG5nIjoiODk1MDRlIiwiaW1hZ2UvYm1wIjoiNDI0ZCIsImltYWdlL3RpZmYiOlsiNDk0OTJhMDAiLCI0ZDRkMDAyYSJdfTt0LkltYWdlVmFsaWRhdGlvbj1mdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKG4pe3ZhciBpPSExO3JldHVybiB0LmVhY2gobixmdW5jdGlvbihuLHQpe2lmKHQ+MClyZXR1cm4gaT0hMCwhMX0pLGl9ZnVuY3Rpb24gdSgpe3ZhciByPW5ldyB0LlByb21pc2U7cmV0dXJuIG5ldyB0LklkZW50aWZ5KG4saSkuaXNQcmV2aWV3YWJsZSgpLnRoZW4oZnVuY3Rpb24oKXt2YXIgdD1uZXcgSW1hZ2UsdT13aW5kb3cuVVJMJiZ3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTD93aW5kb3cuVVJMOndpbmRvdy53ZWJraXRVUkwmJndpbmRvdy53ZWJraXRVUkwuY3JlYXRlT2JqZWN0VVJMP3dpbmRvdy53ZWJraXRVUkw6bnVsbDt1Pyh0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtpKCJDYW5ub3QgZGV0ZXJtaW5lIGRpbWVuc2lvbnMgZm9yIGltYWdlLiAgTWF5IGJlIHRvbyBsYXJnZS4iLCJlcnJvciIpO3IuZmFpbHVyZSgpfSx0Lm9ubG9hZD1mdW5jdGlvbigpe3Iuc3VjY2Vzcyh7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9KX0sdC5zcmM9dS5jcmVhdGVPYmplY3RVUkwobikpOihpKCJObyBjcmVhdGVPYmplY3RVUkwgZnVuY3Rpb24gYXZhaWxhYmxlIHRvIGdlbmVyYXRlIGltYWdlIFVSTCEiLCJlcnJvciIpLHIuZmFpbHVyZSgpKX0sci5mYWlsdXJlKSxyfWZ1bmN0aW9uIGYobixpKXt2YXIgcjtyZXR1cm4gdC5lYWNoKG4sZnVuY3Rpb24obix0KXtpZih0PjApe3ZhciB1PS8obWF4fG1pbikoV2lkdGh8SGVpZ2h0KS8uZXhlYyhuKSxlPXVbMl0uY2hhckF0KDApLnRvTG93ZXJDYXNlKCkrdVsyXS5zbGljZSgxKSxmPWlbZV07c3dpdGNoKHVbMV0pe2Nhc2UibWluIjppZihmPHQpcmV0dXJuIHI9biwhMTticmVhaztjYXNlIm1heCI6aWYoZj50KXJldHVybiByPW4sITF9fX0pLHJ9dGhpcy52YWxpZGF0ZT1mdW5jdGlvbihuKXt2YXIgZT1uZXcgdC5Qcm9taXNlO3JldHVybiBpKCJBdHRlbXB0aW5nIHRvIHZhbGlkYXRlIGltYWdlLiIpLHIobik/dSgpLnRoZW4oZnVuY3Rpb24odCl7dmFyIGk9ZihuLHQpO2k/ZS5mYWlsdXJlKGkpOmUuc3VjY2VzcygpfSxlLnN1Y2Nlc3MpOmUuc3VjY2VzcygpLGV9fTt0LlNlc3Npb249ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIobil7aWYodC5pc0FycmF5KG4pKXJldHVybiEwO2kubG9nKCJTZXNzaW9uIHJlc3BvbnNlIGlzIG5vdCBhbiBhcnJheS4iLCJlcnJvciIpfWZ1bmN0aW9uIHUobix1LGYsZSl7dmFyIG89ITE7dT11JiZyKG4pO3UmJnQuZWFjaChuLGZ1bmN0aW9uKG4scil7aWYobnVsbD09ci51dWlkKW89ITAsaS5sb2codC5mb3JtYXQoIlNlc3Npb24gcmVzcG9uc2UgaXRlbSB7fSBkaWQgbm90IGluY2x1ZGUgYSB2YWxpZCBVVUlEIC0gaWdub3JpbmcuIixuKSwiZXJyb3IiKTtlbHNlIGlmKG51bGw9PXIubmFtZSlvPSEwLGkubG9nKHQuZm9ybWF0KCJTZXNzaW9uIHJlc3BvbnNlIGl0ZW0ge30gZGlkIG5vdCBpbmNsdWRlIGEgdmFsaWQgbmFtZSAtIGlnbm9yaW5nLiIsbiksImVycm9yIik7ZWxzZSB0cnl7cmV0dXJuIGkuYWRkRmlsZVJlY29yZChyKSwhMH1jYXRjaChuKXtvPSEwO2kubG9nKG4ubWVzc2FnZSwiZXJyb3IiKX1yZXR1cm4hMX0pO2VbdSYmIW8/InN1Y2Nlc3MiOiJmYWlsdXJlIl0obixmKX12YXIgaT17ZW5kcG9pbnQ6bnVsbCxwYXJhbXM6e30sY3VzdG9tSGVhZGVyczp7fSxjb3JzOnt9LGFkZEZpbGVSZWNvcmQ6ZnVuY3Rpb24oKXt9LGxvZzpmdW5jdGlvbigpe319O3QuZXh0ZW5kKGksbiwhMCk7dGhpcy5yZWZyZXNoPWZ1bmN0aW9uKCl7dmFyIG49bmV3IHQuUHJvbWlzZSxyPWZ1bmN0aW9uKHQsaSxyKXt1KHQsaSxyLG4pfSxmPXQuZXh0ZW5kKHt9LGkpO3JldHVybiBuZXcgdC5TZXNzaW9uQWpheFJlcXVlc3Rlcih0LmV4dGVuZChmLHtvbkNvbXBsZXRlOnJ9KSkucXVlcnlTZXJ2ZXIoKSxufX07dC5TZXNzaW9uQWpheFJlcXVlc3Rlcj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdShuLHIsdSl7dmFyIGY9bnVsbDtpZihudWxsIT1yLnJlc3BvbnNlVGV4dCl0cnl7Zj10LnBhcnNlSnNvbihyLnJlc3BvbnNlVGV4dCl9Y2F0Y2gobil7aS5sb2coIlByb2JsZW0gcGFyc2luZyBzZXNzaW9uIHJlc3BvbnNlOiAiK24ubWVzc2FnZSwiZXJyb3IiKTt1PSEwfWkub25Db21wbGV0ZShmLCF1LHIpfXZhciByLGk9e2VuZHBvaW50Om51bGwsY3VzdG9tSGVhZGVyczp7fSxwYXJhbXM6e30sY29yczp7ZXhwZWN0ZWQ6ITEsc2VuZENyZWRlbnRpYWxzOiExfSxvbkNvbXBsZXRlOmZ1bmN0aW9uKCl7fSxsb2c6ZnVuY3Rpb24oKXt9fTt0LmV4dGVuZChpLG4pO3I9dC5leHRlbmQodGhpcyxuZXcgdC5BamF4UmVxdWVzdGVyKHthY2NlcHRIZWFkZXI6ImFwcGxpY2F0aW9uL2pzb24iLHZhbGlkTWV0aG9kczpbIkdFVCJdLG1ldGhvZDoiR0VUIixlbmRwb2ludFN0b3JlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5lbmRwb2ludH19LGN1c3RvbUhlYWRlcnM6aS5jdXN0b21IZWFkZXJzLGxvZzppLmxvZyxvbkNvbXBsZXRlOnUsY29yczppLmNvcnN9KSk7dC5leHRlbmQodGhpcyx7cXVlcnlTZXJ2ZXI6ZnVuY3Rpb24oKXt2YXIgbj10LmV4dGVuZCh7fSxpLnBhcmFtcyk7aS5sb2coIlNlc3Npb24gcXVlcnkgcmVxdWVzdC4iKTtyLmluaXRUcmFuc3BvcnQoInNlc3Npb25SZWZyZXNoIikud2l0aFBhcmFtcyhuKS53aXRoQ2FjaGVCdXN0ZXIoKS5zZW5kKCl9fSl9O3QuU2NhbGVyPWZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO3ZhciB1PW4uY3VzdG9tUmVzaXplcixmPW4uc2VuZE9yaWdpbmFsLGU9bi5vcmllbnQsbz1uLmRlZmF1bHRUeXBlLHM9bi5kZWZhdWx0UXVhbGl0eS8xMDAsaD1uLmZhaWx1cmVUZXh0LGM9bi5pbmNsdWRlRXhpZixyPXRoaXMuX2dldFNvcnRlZFNpemVzKG4uc2l6ZXMpO3QuZXh0ZW5kKHRoaXMse2VuYWJsZWQ6dC5zdXBwb3J0ZWRGZWF0dXJlcy5zY2FsaW5nJiZyLmxlbmd0aD4wLGdldEZpbGVSZWNvcmRzOmZ1bmN0aW9uKG4sbCxhKXt2YXIgeT10aGlzLHA9W10sdj1hLmJsb2I/YS5ibG9iOmE7cmV0dXJuIG5ldyB0LklkZW50aWZ5KHYsaSkuaXNQcmV2aWV3YWJsZVN5bmMoKT8odC5lYWNoKHIsZnVuY3Rpb24obixyKXt2YXIgZj15Ll9kZXRlcm1pbmVPdXRwdXRUeXBlKHtkZWZhdWx0VHlwZTpvLHJlcXVlc3RlZFR5cGU6ci50eXBlLHJlZlR5cGU6di50eXBlfSk7cC5wdXNoKHt1dWlkOnQuZ2V0VW5pcXVlSWQoKSxuYW1lOnkuX2dldE5hbWUobCx7bmFtZTpyLm5hbWUsdHlwZTpmLHJlZlR5cGU6di50eXBlfSksYmxvYjpuZXcgdC5CbG9iUHJveHkodix0LmJpbmQoeS5fZ2VuZXJhdGVTY2FsZWRJbWFnZSx5LHtjdXN0b21SZXNpemVGdW5jdGlvbjp1LG1heFNpemU6ci5tYXhTaXplLG9yaWVudDplLHR5cGU6ZixxdWFsaXR5OnMsZmFpbGVkVGV4dDpoLGluY2x1ZGVFeGlmOmMsbG9nOml9KSl9KX0pLHAucHVzaCh7dXVpZDpuLG5hbWU6bCxzaXplOnYuc2l6ZSxibG9iOmY/djpudWxsfSkpOnAucHVzaCh7dXVpZDpuLG5hbWU6bCxzaXplOnYuc2l6ZSxibG9iOnZ9KSxwfSxoYW5kbGVOZXdGaWxlOmZ1bmN0aW9uKG4saSxyLHUsZixlLG8scyl7dmFyIHY9dGhpcyxsPShuLnFxQnV0dG9uSWR8fG4uYmxvYiYmbi5ibG9iLnFxQnV0dG9uSWQsW10pLGg9bnVsbCx5PXMuYWRkRmlsZVRvSGFuZGxlcixjPXMudXBsb2FkRGF0YSxhPXMucGFyYW1zU3RvcmUscD10LmdldFVuaXF1ZUlkKCk7dC5lYWNoKHYuZ2V0RmlsZVJlY29yZHMocixpLG4pLGZ1bmN0aW9uKG4saSl7dmFyIHIsdT1pLnNpemU7aS5ibG9iIGluc3RhbmNlb2YgdC5CbG9iUHJveHkmJih1PS0xKTtyPWMuYWRkRmlsZSh7dXVpZDppLnV1aWQsbmFtZTppLm5hbWUsc2l6ZTp1LGJhdGNoSWQ6ZSxwcm94eUdyb3VwSWQ6cH0pO2kuYmxvYiBpbnN0YW5jZW9mIHQuQmxvYlByb3h5P2wucHVzaChyKTpoPXI7aS5ibG9iPyh5KHIsaS5ibG9iKSxmLnB1c2goe2lkOnIsZmlsZTppLmJsb2J9KSk6Yy5zZXRTdGF0dXMocix0LnN0YXR1cy5SRUpFQ1RFRCl9KTtudWxsIT09aCYmKHQuZWFjaChsLGZ1bmN0aW9uKG4sdCl7dmFyIGk9e3FxcGFyZW50dXVpZDpjLnJldHJpZXZlKHtpZDpofSkudXVpZCxxcXBhcmVudHNpemU6Yy5yZXRyaWV2ZSh7aWQ6aH0pLnNpemV9O2lbb109Yy5yZXRyaWV2ZSh7aWQ6dH0pLnV1aWQ7Yy5zZXRQYXJlbnRJZCh0LGgpO2EuYWRkUmVhZE9ubHkodCxpKX0pLGwubGVuZ3RoJiZmdW5jdGlvbigpe3ZhciBuPXt9O25bb109Yy5yZXRyaWV2ZSh7aWQ6aH0pLnV1aWQ7YS5hZGRSZWFkT25seShoLG4pfSgpKX19KX07dC5leHRlbmQodC5TY2FsZXIucHJvdG90eXBlLHtzY2FsZUltYWdlOmZ1bmN0aW9uKG4saSxyKXsidXNlIHN0cmljdCI7aWYoIXQuc3VwcG9ydGVkRmVhdHVyZXMuc2NhbGluZyl0aHJvdyBuZXcgdC5FcnJvcigiU2NhbGluZyBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlciEiKTt2YXIgdT1uZXcgdC5Qcm9taXNlLGU9ci5sb2csbz1yLmdldEZpbGUobiksZj1yLnVwbG9hZERhdGEucmV0cmlldmUoe2lkOm59KSxzPWYmJmYubmFtZSxoPWYmJmYudXVpZCxjPXtjdXN0b21SZXNpemVyOmkuY3VzdG9tUmVzaXplcixzZW5kT3JpZ2luYWw6ITEsb3JpZW50Omkub3JpZW50LGRlZmF1bHRUeXBlOmkudHlwZXx8bnVsbCxkZWZhdWx0UXVhbGl0eTppLnF1YWxpdHksZmFpbGVkVG9TY2FsZVRleHQ6IlVuYWJsZSB0byBzY2FsZSIsc2l6ZXM6W3tuYW1lOiIiLG1heFNpemU6aS5tYXhTaXplfV19LGw9bmV3IHQuU2NhbGVyKGMsZSk7cmV0dXJuIHQuU2NhbGVyJiZ0LnN1cHBvcnRlZEZlYXR1cmVzLmltYWdlUHJldmlld3MmJm8/dC5iaW5kKGZ1bmN0aW9uKCl7dmFyIGk9bC5nZXRGaWxlUmVjb3JkcyhoLHMsbylbMF07aSYmaS5ibG9iIGluc3RhbmNlb2YgdC5CbG9iUHJveHk/aS5ibG9iLmNyZWF0ZSgpLnRoZW4odS5zdWNjZXNzLHUuZmFpbHVyZSk6KGUobisiIGlzIG5vdCBhIHNjYWxhYmxlIGltYWdlISIsImVycm9yIiksdS5mYWlsdXJlKCkpfSx0aGlzKSgpOih1LmZhaWx1cmUoKSxlKCJDb3VsZCBub3QgZ2VuZXJhdGUgcmVxdWVzdGVkIHNjYWxlZCBpbWFnZSBmb3IgIituKyIuICBTY2FsaW5nIGlzIGVpdGhlciBub3QgcG9zc2libGUgaW4gdGhpcyBicm93c2VyLCBvciB0aGUgZmlsZSBjb3VsZCBub3QgYmUgbG9jYXRlZC4iLCJlcnJvciIpKSx1fSxfZGV0ZXJtaW5lT3V0cHV0VHlwZTpmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7dmFyIGk9bi5yZXF1ZXN0ZWRUeXBlLHI9bi5kZWZhdWx0VHlwZSx1PW4ucmVmVHlwZTtyZXR1cm4gcnx8aT9pJiZ0LmluZGV4T2YoT2JqZWN0LmtleXModC5JZGVudGlmeS5wcm90b3R5cGUuUFJFVklFV0FCTEVfTUlNRV9UWVBFUyksaSk+PTA/ImltYWdlL3RpZmYiPT09aT90LnN1cHBvcnRlZEZlYXR1cmVzLnRpZmZQcmV2aWV3cz9pOnI6aTpyOiJpbWFnZS9qcGVnIiE9PXU/ImltYWdlL3BuZyI6dX0sX2dldE5hbWU6ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7dmFyIGY9bi5sYXN0SW5kZXhPZigiLiIpLGU9aS50eXBlfHwiaW1hZ2UvcG5nIixzPWkucmVmVHlwZSxyPSIiLG89dC5nZXRFeHRlbnNpb24obiksdT0iIjtyZXR1cm4gaS5uYW1lJiZpLm5hbWUudHJpbSgpLmxlbmd0aCYmKHU9IiAoIitpLm5hbWUrIikiKSxmPj0wPyhyPW4uc3Vic3RyKDAsZikscyE9PWUmJihvPWUuc3BsaXQoIi8iKVsxXSkscis9dSsiLiIrbyk6cj1uK3Uscn0sX2dldFNvcnRlZFNpemVzOmZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtyZXR1cm4gbj10LmV4dGVuZChbXSxuKSxuLnNvcnQoZnVuY3Rpb24obix0KXtyZXR1cm4gbi5tYXhTaXplPnQubWF4U2l6ZT8xOm4ubWF4U2l6ZTx0Lm1heFNpemU/LTE6MH0pfSxfZ2VuZXJhdGVTY2FsZWRJbWFnZTpmdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgbz10aGlzLHM9bi5jdXN0b21SZXNpemVGdW5jdGlvbixyPW4ubG9nLGg9bi5tYXhTaXplLGM9bi5vcmllbnQsZj1uLnR5cGUsbD1uLnF1YWxpdHksYT1uLmZhaWxlZFRleHQsdj1uLmluY2x1ZGVFeGlmJiYiaW1hZ2UvanBlZyI9PT1pLnR5cGUmJiJpbWFnZS9qcGVnIj09PWYsdT1uZXcgdC5Qcm9taXNlLHk9bmV3IHQuSW1hZ2VHZW5lcmF0b3IociksZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyZXR1cm4gcigiQXR0ZW1wdGluZyB0byBnZW5lcmF0ZSBzY2FsZWQgdmVyc2lvbiBmb3IgIitpLm5hbWUpLHkuZ2VuZXJhdGUoaSxlLHttYXhTaXplOmgsb3JpZW50OmMsY3VzdG9tUmVzaXplRnVuY3Rpb246c30pLnRoZW4oZnVuY3Rpb24oKXt2YXIgbj1lLnRvRGF0YVVSTChmLGwpLHM9ZnVuY3Rpb24oKXtyKCJTdWNjZXNzIGdlbmVyYXRpbmcgc2NhbGVkIHZlcnNpb24gZm9yICIraS5uYW1lKTt2YXIgZj10LmRhdGFVcmlUb0Jsb2Iobik7dS5zdWNjZXNzKGYpfTt2P28uX2luc2VydEV4aWZIZWFkZXIoaSxuLHIpLnRoZW4oZnVuY3Rpb24odCl7bj10O3MoKX0sZnVuY3Rpb24oKXtyKCJQcm9ibGVtIGluc2VydGluZyBFWElGIGhlYWRlciBpbnRvIHNjYWxlZCBpbWFnZS4gIFVzaW5nIHNjYWxlZCBpbWFnZSB3L291dCBFWElGIGRhdGEuIiwiZXJyb3IiKTtzKCl9KTpzKCl9LGZ1bmN0aW9uKCl7cigiRmFpbGVkIGF0dGVtcHQgdG8gZ2VuZXJhdGUgc2NhbGVkIHZlcnNpb24gZm9yICIraS5uYW1lLCJlcnJvciIpO3UuZmFpbHVyZShhKX0pLHV9LF9pbnNlcnRFeGlmSGVhZGVyOmZ1bmN0aW9uKG4saSxyKXsidXNlIHN0cmljdCI7dmFyIHU9bmV3IEZpbGVSZWFkZXIsZj1uZXcgdC5Qcm9taXNlLGU9IiI7cmV0dXJuIHUub25sb2FkPWZ1bmN0aW9uKCl7ZT11LnJlc3VsdDtmLnN1Y2Nlc3ModC5FeGlmUmVzdG9yZXIucmVzdG9yZShlLGkpKX0sdS5vbmVycm9yPWZ1bmN0aW9uKCl7cigiUHJvYmxlbSByZWFkaW5nICIrbi5uYW1lKyIgZHVyaW5nIGF0dGVtcHQgdG8gdHJhbnNmZXIgRVhJRiBkYXRhIHRvIHNjYWxlZCB2ZXJzaW9uLiIsImVycm9yIik7Zi5mYWlsdXJlKCl9LHUucmVhZEFzRGF0YVVSTChuKSxmfSxfZGF0YVVyaVRvQmxvYjpmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7dmFyIGksdSxyLGY7cmV0dXJuIGk9bi5zcGxpdCgiLCIpWzBdLmluZGV4T2YoImJhc2U2NCIpPj0wP2F0b2Iobi5zcGxpdCgiLCIpWzFdKTpkZWNvZGVVUkkobi5zcGxpdCgiLCIpWzFdKSx1PW4uc3BsaXQoIiwiKVswXS5zcGxpdCgiOiIpWzFdLnNwbGl0KCI7IilbMF0scj1uZXcgQXJyYXlCdWZmZXIoaS5sZW5ndGgpLGY9bmV3IFVpbnQ4QXJyYXkociksdC5lYWNoKGksZnVuY3Rpb24obix0KXtmW25dPXQuY2hhckNvZGVBdCgwKX0pLHRoaXMuX2NyZWF0ZUJsb2Iocix1KX0sX2NyZWF0ZUJsb2I6ZnVuY3Rpb24obix0KXsidXNlIHN0cmljdCI7dmFyIHI9d2luZG93LkJsb2JCdWlsZGVyfHx3aW5kb3cuV2ViS2l0QmxvYkJ1aWxkZXJ8fHdpbmRvdy5Nb3pCbG9iQnVpbGRlcnx8d2luZG93Lk1TQmxvYkJ1aWxkZXIsaT1yJiZuZXcgcjtyZXR1cm4gaT8oaS5hcHBlbmQobiksaS5nZXRCbG9iKHQpKTpuZXcgQmxvYihbbl0se3R5cGU6dH0pfX0pO3QuRXhpZlJlc3RvcmVyPWZ1bmN0aW9uKCl7dmFyIG49e307cmV0dXJuIG4uS0VZX1NUUj0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0iLG4uZW5jb2RlNjQ9ZnVuY3Rpb24obil7dmFyIHUsdCxvLHMsZixoPSIiLGk9IiIscj0iIixlPTA7ZG8gdT1uW2UrK10sdD1uW2UrK10saT1uW2UrK10sbz11Pj4yLHM9KDMmdSk8PDR8dD4+NCxmPSgxNSZ0KTw8MnxpPj42LHI9NjMmaSxpc05hTih0KT9mPXI9NjQ6aXNOYU4oaSkmJihyPTY0KSxoPWgrdGhpcy5LRVlfU1RSLmNoYXJBdChvKSt0aGlzLktFWV9TVFIuY2hhckF0KHMpK3RoaXMuS0VZX1NUUi5jaGFyQXQoZikrdGhpcy5LRVlfU1RSLmNoYXJBdChyKSx1PXQ9aT0iIixvPXM9Zj1yPSIiO3doaWxlKGU8bi5sZW5ndGgpO3JldHVybiBofSxuLnJlc3RvcmU9ZnVuY3Rpb24obix0KXtpZighbi5tYXRjaCgiZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwiKSlyZXR1cm4gdDt2YXIgaT10aGlzLmRlY29kZTY0KG4ucmVwbGFjZSgiZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwiLCIiKSkscj10aGlzLnNsaWNlMlNlZ21lbnRzKGkpLHU9dGhpcy5leGlmTWFuaXB1bGF0aW9uKHQscik7cmV0dXJuImRhdGE6aW1hZ2UvanBlZztiYXNlNjQsIit0aGlzLmVuY29kZTY0KHUpfSxuLmV4aWZNYW5pcHVsYXRpb249ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLmdldEV4aWZBcnJheSh0KSxyPXRoaXMuaW5zZXJ0RXhpZihuLGkpO3JldHVybiBuZXcgVWludDhBcnJheShyKX0sbi5nZXRFeGlmQXJyYXk9ZnVuY3Rpb24obil7Zm9yKHZhciB0LGk9MDtpPG4ubGVuZ3RoO2krKylpZih0PW5baV0sMjU1PT10WzBdJjIyNT09dFsxXSlyZXR1cm4gdDtyZXR1cm5bXX0sbi5pbnNlcnRFeGlmPWZ1bmN0aW9uKG4sdCl7dmFyIGY9bi5yZXBsYWNlKCJkYXRhOmltYWdlL2pwZWc7YmFzZTY0LCIsIiIpLHI9dGhpcy5kZWNvZGU2NChmKSx1PXIuaW5kZXhPZigyNTUsMyksZT1yLnNsaWNlKDAsdSksbz1yLnNsaWNlKHUpLGk9ZTtyZXR1cm4gaT1pLmNvbmNhdCh0KSxpPWkuY29uY2F0KG8pfSxuLnNsaWNlMlNlZ21lbnRzPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdD0wLGk9W107Oyl7aWYoMjU1PT1uW3RdJjIxOD09blt0KzFdKWJyZWFrO2lmKDI1NT09blt0XSYyMTY9PW5bdCsxXSl0Kz0yO2Vsc2V7dmFyIHU9MjU2Km5bdCsyXStuW3QrM10scj10K3UrMixmPW4uc2xpY2UodCxyKTtpLnB1c2goZik7dD1yfWlmKHQ+bi5sZW5ndGgpYnJlYWt9cmV0dXJuIGl9LG4uZGVjb2RlNjQ9ZnVuY3Rpb24obil7dmFyIGUsbyxzLHIsdCxoPSIiLHU9IiIsaT0wLGY9W107aWYoL1teQS1aYS16MC05XCtcL1w9XS9nLmV4ZWMobikpdGhyb3cgbmV3IEVycm9yKCJUaGVyZSB3ZXJlIGludmFsaWQgYmFzZTY0IGNoYXJhY3RlcnMgaW4gdGhlIGlucHV0IHRleHQuICBWYWxpZCBiYXNlNjQgY2hhcmFjdGVycyBhcmUgQS1aLCBhLXosIDAtOSwgJysnLCAnLycsYW5kICc9JyIpO249bi5yZXBsYWNlKC9bXkEtWmEtejAtOVwrXC9cPV0vZywiIik7ZG8gcz10aGlzLktFWV9TVFIuaW5kZXhPZihuLmNoYXJBdChpKyspKSxyPXRoaXMuS0VZX1NUUi5pbmRleE9mKG4uY2hhckF0KGkrKykpLHQ9dGhpcy5LRVlfU1RSLmluZGV4T2Yobi5jaGFyQXQoaSsrKSksdT10aGlzLktFWV9TVFIuaW5kZXhPZihuLmNoYXJBdChpKyspKSxlPXM8PDJ8cj4+NCxvPSgxNSZyKTw8NHx0Pj4yLGg9KDMmdCk8PDZ8dSxmLnB1c2goZSksNjQhPXQmJmYucHVzaChvKSw2NCE9dSYmZi5wdXNoKGgpLGU9bz1oPSIiLHM9cj10PXU9IiI7d2hpbGUoaTxuLmxlbmd0aCk7cmV0dXJuIGZ9LG59KCk7dC5Ub3RhbFByb2dyZXNzPWZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO3ZhciByPXt9LGY9MCx1PTAsbz0tMSxzPS0xLGg9ZnVuY3Rpb24odCxpKXt0PT09byYmaT09PXN8fG4odCxpKTtvPXQ7cz1pfSxsPWZ1bmN0aW9uKG4saSl7dmFyIHI9ITA7cmV0dXJuIHQuZWFjaChuLGZ1bmN0aW9uKG4sdSl7aWYodC5pbmRleE9mKGksdSk+PTApcmV0dXJuIHI9ITEsITF9KSxyfSxhPWZ1bmN0aW9uKG4pe2UobiwtMSwtMSk7ZGVsZXRlIHJbbl19LHY9ZnVuY3Rpb24obix0LGkpeygwPT09dC5sZW5ndGh8fGwodCxpKSkmJihoKHUsdSksdGhpcy5yZXNldCgpKX0sYz1mdW5jdGlvbihuKXt2YXIgdD1pKG4pO3Q+MCYmKGUobiwwLHQpLHJbbl09e2xvYWRlZDowLHRvdGFsOnR9KX0sZT1mdW5jdGlvbihuLHQsaSl7dmFyIGU9cltuXT9yW25dLmxvYWRlZDowLG89cltuXT9yW25dLnRvdGFsOjA7dD09PS0xJiZpPT09LTE/KGYtPWUsdS09byk6KHQmJihmKz10LWUpLGkmJih1Kz1pLW8pKTtoKGYsdSl9O3QuZXh0ZW5kKHRoaXMse29uQWxsQ29tcGxldGU6dixvblN0YXR1c0NoYW5nZTpmdW5jdGlvbihuLGkscil7cj09PXQuc3RhdHVzLkNBTkNFTEVEfHxyPT09dC5zdGF0dXMuUkVKRUNURUQ/YShuKTpyPT09dC5zdGF0dXMuU1VCTUlUVElORyYmYyhuKX0sb25JbmRpdmlkdWFsUHJvZ3Jlc3M6ZnVuY3Rpb24obix0LGkpe2Uobix0LGkpO3Jbbl09e2xvYWRlZDp0LHRvdGFsOml9fSxvbk5ld1NpemU6ZnVuY3Rpb24obil7YyhuKX0scmVzZXQ6ZnVuY3Rpb24oKXtyPXt9O2Y9MDt1PTB9fSl9O3QuUGFzdGVTdXBwb3J0PWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB1KG4pe3JldHVybiBuLnR5cGUmJjA9PT1uLnR5cGUuaW5kZXhPZigiaW1hZ2UvIil9ZnVuY3Rpb24gZigpe3I9dChpLnRhcmdldEVsZW1lbnQpLmF0dGFjaCgicGFzdGUiLGZ1bmN0aW9uKG4pe3ZhciByPW4uY2xpcGJvYXJkRGF0YTtyJiZ0LmVhY2goci5pdGVtcyxmdW5jdGlvbihuLHQpe2lmKHUodCkpe3ZhciByPXQuZ2V0QXNGaWxlKCk7aS5jYWxsYmFja3MucGFzdGVSZWNlaXZlZChyKX19KX0pfWZ1bmN0aW9uIGUoKXtyJiZyKCl9dmFyIGkscjtpPXt0YXJnZXRFbGVtZW50Om51bGwsY2FsbGJhY2tzOntsb2c6ZnVuY3Rpb24oKXt9LHBhc3RlUmVjZWl2ZWQ6ZnVuY3Rpb24oKXt9fX07dC5leHRlbmQoaSxuKTtmKCk7dC5leHRlbmQodGhpcyx7cmVzZXQ6ZnVuY3Rpb24oKXtlKCl9fSl9O3QuRm9ybVN1cHBvcnQ9ZnVuY3Rpb24obixpLHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKG4pe24uZ2V0QXR0cmlidXRlKCJhY3Rpb24iKSYmKGUubmV3RW5kcG9pbnQ9bi5nZXRBdHRyaWJ1dGUoImFjdGlvbiIpKX1mdW5jdGlvbiBmKG4sdCl7aWYoIW4uY2hlY2tWYWxpZGl0eXx8bi5jaGVja1ZhbGlkaXR5KCkpcmV0dXJuITA7cigiRm9ybSBkaWQgbm90IHBhc3MgdmFsaWRhdGlvbiBjaGVja3MgLSB3aWxsIG5vdCB1cGxvYWQuIiwiZXJyb3IiKTt0KCl9ZnVuY3Rpb24gcyhuKXt2YXIgcj1uLnN1Ym1pdDt0KG4pLmF0dGFjaCgic3VibWl0IixmdW5jdGlvbih0KXt0PXR8fHdpbmRvdy5ldmVudDt0LnByZXZlbnREZWZhdWx0P3QucHJldmVudERlZmF1bHQoKTp0LnJldHVyblZhbHVlPSExO2YobixyKSYmaSgpfSk7bi5zdWJtaXQ9ZnVuY3Rpb24oKXtmKG4scikmJmkoKX19ZnVuY3Rpb24gaChuKXtyZXR1cm4gbiYmKHQuaXNTdHJpbmcobikmJihuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4pKSxuJiYocigiQXR0YWNoaW5nIHRvIGZvcm0gZWxlbWVudC4iKSxvKG4pLGMmJnMobikpKSxufXZhciBlPXRoaXMsYz1uLmludGVyY2VwdFN1Ym1pdCx1PW4uZWxlbWVudCxsPW4uYXV0b1VwbG9hZDt0LmV4dGVuZCh0aGlzLHtuZXdFbmRwb2ludDpudWxsLG5ld0F1dG9VcGxvYWQ6bCxhdHRhY2hlZFRvRm9ybTohMSxnZXRGb3JtSW5wdXRzQXNPYmplY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09dT9udWxsOmUuX2Zvcm0yT2JqKHUpfX0pO3U9aCh1KTt0aGlzLmF0dGFjaGVkVG9Gb3JtPSEhdX07dC5leHRlbmQodC5Gb3JtU3VwcG9ydC5wcm90b3R5cGUse19mb3JtMk9iajpmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7dmFyIGk9e30sdT1mdW5jdGlvbihuKXtyZXR1cm4gdC5pbmRleE9mKFsiYnV0dG9uIiwiaW1hZ2UiLCJyZXNldCIsInN1Ym1pdCJdLG4udG9Mb3dlckNhc2UoKSk8MH0sZj1mdW5jdGlvbihuKXtyZXR1cm4gdC5pbmRleE9mKFsiY2hlY2tib3giLCJyYWRpbyJdLG4udG9Mb3dlckNhc2UoKSk+PTB9LHI9ZnVuY3Rpb24obil7cmV0dXJuISghZihuLnR5cGUpfHxuLmNoZWNrZWQpfHxuLmRpc2FibGVkJiYiaGlkZGVuIiE9PW4udHlwZS50b0xvd2VyQ2FzZSgpfSxlPWZ1bmN0aW9uKG4pe3ZhciBpPW51bGw7cmV0dXJuIHQuZWFjaCh0KG4pLmNoaWxkcmVuKCksZnVuY3Rpb24obix0KXtpZigib3B0aW9uIj09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiZ0LnNlbGVjdGVkKXJldHVybiBpPXQudmFsdWUsITF9KSxpfTtyZXR1cm4gdC5lYWNoKG4uZWxlbWVudHMsZnVuY3Rpb24obixmKXtpZigodC5pc0lucHV0KGYsITApfHwidGV4dGFyZWEiPT09Zi50YWdOYW1lLnRvTG93ZXJDYXNlKCkpJiZ1KGYudHlwZSkmJiFyKGYpKWlbZi5uYW1lXT1mLnZhbHVlO2Vsc2UgaWYoInNlbGVjdCI9PT1mLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmIXIoZikpe3ZhciBvPWUoZik7bnVsbCE9PW8mJihpW2YubmFtZV09byl9fSksaX19KTt0LnRyYWRpdGlvbmFsPXQudHJhZGl0aW9uYWx8fHt9O3QudHJhZGl0aW9uYWwuRm9ybVVwbG9hZEhhbmRsZXI9ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhuLHQpe3ZhciBmLGUsaTt0cnl7ZT10LmNvbnRlbnREb2N1bWVudHx8dC5jb250ZW50V2luZG93LmRvY3VtZW50O2k9ZS5ib2R5LmlubmVySFRNTDt1KCJjb252ZXJ0aW5nIGlmcmFtZSdzIGlubmVySFRNTCB0byBKU09OIik7dSgiaW5uZXJIVE1MID0gIitpKTtpJiZpLm1hdGNoKC9ePHByZS9pKSYmKGk9ZS5ib2R5LmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5ub2RlVmFsdWUpO2Y9ci5fcGFyc2VKc29uUmVzcG9uc2UoaSl9Y2F0Y2gobil7dSgiRXJyb3Igd2hlbiBhdHRlbXB0aW5nIHRvIHBhcnNlIGZvcm0gdXBsb2FkIHJlc3BvbnNlICgiK24ubWVzc2FnZSsiKSIsImVycm9yIik7Zj17c3VjY2VzczohMX19cmV0dXJuIGZ9ZnVuY3Rpb24gcyh0LGkpe3ZhciB1PW4ucGFyYW1zU3RvcmUuZ2V0KHQpLG89ImdldCI9PT1uLm1ldGhvZC50b0xvd2VyQ2FzZSgpPyJHRVQiOiJQT1NUIixzPW4uZW5kcG9pbnRTdG9yZS5nZXQodCksaD1mKHQpO3JldHVybiB1W24udXVpZE5hbWVdPWUodCksdVtuLmZpbGVuYW1lUGFyYW1dPWgsci5faW5pdEZvcm1Gb3JVcGxvYWQoe21ldGhvZDpvLGVuZHBvaW50OnMscGFyYW1zOnUscGFyYW1zSW5Cb2R5Om4ucGFyYW1zSW5Cb2R5LHRhcmdldE5hbWU6aS5uYW1lfSl9dmFyIHI9dGhpcyxmPWkuZ2V0TmFtZSxlPWkuZ2V0VXVpZCx1PWkubG9nO3RoaXMudXBsb2FkRmlsZT1mdW5jdGlvbihpKXt2YXIgZixjPXIuZ2V0SW5wdXQoaSksZT1yLl9jcmVhdGVJZnJhbWUoaSksaD1uZXcgdC5Qcm9taXNlO3JldHVybiBmPXMoaSxlKSxmLmFwcGVuZENoaWxkKGMpLHIuX2F0dGFjaExvYWRFdmVudChlLGZ1bmN0aW9uKGYpe3UoImlmcmFtZSBsb2FkZWQiKTt2YXIgcz1mP2Y6byhpLGUpO3IuX2RldGFjaExvYWRFdmVudChpKTtuLmNvcnMuZXhwZWN0ZWR8fHQoZSkucmVtb3ZlKCk7cy5zdWNjZXNzP2guc3VjY2VzcyhzKTpoLmZhaWx1cmUocyl9KSx1KCJTZW5kaW5nIHVwbG9hZCByZXF1ZXN0IGZvciAiK2kpLGYuc3VibWl0KCksdChmKS5yZW1vdmUoKSxofTt0LmV4dGVuZCh0aGlzLG5ldyB0LkZvcm1VcGxvYWRIYW5kbGVyKHtvcHRpb25zOntpc0NvcnM6bi5jb3JzLmV4cGVjdGVkLGlucHV0TmFtZTpuLmlucHV0TmFtZX0scHJveHk6e29uQ2FuY2VsOm4ub25DYW5jZWwsZ2V0TmFtZTpmLGdldFV1aWQ6ZSxsb2c6dX19KSl9O3QudHJhZGl0aW9uYWw9dC50cmFkaXRpb25hbHx8e307dC50cmFkaXRpb25hbC5YaHJVcGxvYWRIYW5kbGVyPWZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO3ZhciByPXRoaXMsbz1pLmdldE5hbWUscz1pLmdldFNpemUsaD1pLmdldFV1aWQsdT1pLmxvZyxmPW4uZm9yY2VNdWx0aXBhcnR8fG4ucGFyYW1zSW5Cb2R5LHY9ZnVuY3Rpb24odCxpLHIpe3ZhciB1PXModCksZT1vKHQpO24ub21pdERlZmF1bHRQYXJhbXN8fChpW24uY2h1bmtpbmcucGFyYW1OYW1lcy5wYXJ0SW5kZXhdPXIucGFydCxpW24uY2h1bmtpbmcucGFyYW1OYW1lcy5wYXJ0Qnl0ZU9mZnNldF09ci5zdGFydCxpW24uY2h1bmtpbmcucGFyYW1OYW1lcy5jaHVua1NpemVdPXIuc2l6ZSxpW24uY2h1bmtpbmcucGFyYW1OYW1lcy50b3RhbFBhcnRzXT1yLmNvdW50LGlbbi50b3RhbEZpbGVTaXplTmFtZV09dSk7ZiYmIW4ub21pdERlZmF1bHRQYXJhbXMmJihpW24uZmlsZW5hbWVQYXJhbV09ZSl9LHk9bmV3IHQudHJhZGl0aW9uYWwuQWxsQ2h1bmtzRG9uZUFqYXhSZXF1ZXN0ZXIoe2NvcnM6bi5jb3JzLGVuZHBvaW50Om4uY2h1bmtpbmcuc3VjY2Vzcy5lbmRwb2ludCxoZWFkZXJzOm4uY2h1bmtpbmcuc3VjY2Vzcy5oZWFkZXJzLGpzb25QYXlsb2FkOm4uY2h1bmtpbmcuc3VjY2Vzcy5qc29uUGF5bG9hZCxsb2c6dSxtZXRob2Q6bi5jaHVua2luZy5zdWNjZXNzLm1ldGhvZCxwYXJhbXM6bi5jaHVua2luZy5zdWNjZXNzLnBhcmFtc30pLGM9ZnVuY3Rpb24obixpKXt2YXIgcj1uZXcgdC5Qcm9taXNlO3JldHVybiBpLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDQ9PT1pLnJlYWR5U3RhdGUpe3ZhciB0PWIobixpKTt0LnN1Y2Nlc3M/ci5zdWNjZXNzKHQucmVzcG9uc2UsaSk6ci5mYWlsdXJlKHQucmVzcG9uc2UsaSl9fSxyfSxwPWZ1bmN0aW9uKHQpe3ZhciBpPW4ucGFyYW1zU3RvcmUuZ2V0KHQpLHU9byh0KSxmPXModCk7cmV0dXJuIGlbbi51dWlkTmFtZV09aCh0KSxpW24uZmlsZW5hbWVQYXJhbV09dSxpW24udG90YWxGaWxlU2l6ZU5hbWVdPWYsaVtuLmNodW5raW5nLnBhcmFtTmFtZXMudG90YWxQYXJ0c109ci5fZ2V0VG90YWxDaHVua3ModCksaX0sdz1mdW5jdGlvbihpLHIpe3JldHVybiB0LmluZGV4T2YoWzIwMCwyMDEsMjAyLDIwMywyMDRdLGkuc3RhdHVzKTwwfHxuLnJlcXVpcmVTdWNjZXNzSnNvbiYmIXIuc3VjY2Vzc3x8ci5yZXNldH0sYj1mdW5jdGlvbihuLHQpe3ZhciBpO3JldHVybiB1KCJ4aHIgLSBzZXJ2ZXIgcmVzcG9uc2UgcmVjZWl2ZWQgZm9yICIrbiksdSgicmVzcG9uc2VUZXh0ID0gIit0LnJlc3BvbnNlVGV4dCksaT1lKCEwLHQpLHtzdWNjZXNzOiF3KHQsaSkscmVzcG9uc2U6aX19LGU9ZnVuY3Rpb24oaSxyKXt2YXIgZj17fTt0cnl7dSh0LmZvcm1hdCgiUmVjZWl2ZWQgcmVzcG9uc2Ugc3RhdHVzIHt9IHdpdGggYm9keToge30iLHIuc3RhdHVzLHIucmVzcG9uc2VUZXh0KSk7Zj10LnBhcnNlSnNvbihyLnJlc3BvbnNlVGV4dCl9Y2F0Y2gocil7aSYmbi5yZXF1aXJlU3VjY2Vzc0pzb24mJnUoIkVycm9yIHdoZW4gYXR0ZW1wdGluZyB0byBwYXJzZSB4aHIgcmVzcG9uc2UgdGV4dCAoIityLm1lc3NhZ2UrIikiLCJlcnJvciIpfXJldHVybiBmfSxrPWZ1bmN0aW9uKGkpe3ZhciB1PW5ldyB0LlByb21pc2U7cmV0dXJuIHkuY29tcGxldGUoaSxyLl9jcmVhdGVYaHIoaSkscChpKSxuLmN1c3RvbUhlYWRlcnMuZ2V0KGkpKS50aGVuKGZ1bmN0aW9uKG4pe3Uuc3VjY2VzcyhlKCExLG4pLG4pfSxmdW5jdGlvbihuKXt1LmZhaWx1cmUoZSghMSxuKSxuKX0pLHV9LGw9ZnVuY3Rpb24oaSl7dmFyIHIsYT1pLmZpbGVPckJsb2IsdT1pLmlkLHY9aS54aHIsZT1pLnhock92ZXJyaWRlc3x8e30seT1pLmN1c3RvbVBhcmFtc3x8e30sYj1pLnBhcmFtc3x8e30scD1lLnBhcmFtc3x8e30sYz1mP25ldyBGb3JtRGF0YTpudWxsLGs9ZS5tZXRob2R8fG4ubWV0aG9kLGw9ZS5lbmRwb2ludHx8bi5lbmRwb2ludFN0b3JlLmdldCh1KSx3PW8odSksZD1zKHUpO3JldHVybiBuLm9taXREZWZhdWx0UGFyYW1zPyhyPXQuZXh0ZW5kKHt9LHkpLHQuZXh0ZW5kKHIscCkpOihyPXQuZXh0ZW5kKHt9LHkpLHQuZXh0ZW5kKHIscCksdC5leHRlbmQocixiKSxyW24udXVpZE5hbWVdPWgodSkscltuLmZpbGVuYW1lUGFyYW1dPXcsZj9yW24udG90YWxGaWxlU2l6ZU5hbWVdPWQ6bi5wYXJhbXNJbkJvZHl8fChyW24uaW5wdXROYW1lXT13KSksbi5wYXJhbXNJbkJvZHl8fChsPXQub2JqMnVybChyLGwpKSx2Lm9wZW4oayxsLCEwKSxuLmNvcnMuZXhwZWN0ZWQmJm4uY29ycy5zZW5kQ3JlZGVudGlhbHMmJih2LndpdGhDcmVkZW50aWFscz0hMCksZj8obi5wYXJhbXNJbkJvZHkmJnQub2JqMkZvcm1EYXRhKHIsYyksYy5hcHBlbmQobi5pbnB1dE5hbWUsYSksYyk6YX0sYT1mdW5jdGlvbihpKXt2YXIgZT1pLmhlYWRlck92ZXJyaWRlcyxvPWkuaWQsdT1pLnhocixzLGg7ZT90LmVhY2goZSxmdW5jdGlvbihuLHQpe3Uuc2V0UmVxdWVzdEhlYWRlcihuLHQpfSk6KHM9bi5jdXN0b21IZWFkZXJzLmdldChvKSxoPXIuZ2V0RmlsZShvKSx1LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsImFwcGxpY2F0aW9uL2pzb24iKSx1LnNldFJlcXVlc3RIZWFkZXIoIlgtUmVxdWVzdGVkLVdpdGgiLCJYTUxIdHRwUmVxdWVzdCIpLHUuc2V0UmVxdWVzdEhlYWRlcigiQ2FjaGUtQ29udHJvbCIsIm5vLWNhY2hlIiksZnx8KHUuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtIiksdS5zZXRSZXF1ZXN0SGVhZGVyKCJYLU1pbWUtVHlwZSIsaC50eXBlKSksdC5lYWNoKHMsZnVuY3Rpb24obix0KXt1LnNldFJlcXVlc3RIZWFkZXIobix0KX0pKX07dC5leHRlbmQodGhpcyx7dXBsb2FkQ2h1bms6ZnVuY3Rpb24odCl7dmFyIHMsaCx5LGk9dC5pZCxmPXQuY2h1bmtJZHgscD10Lm92ZXJyaWRlc3x8e30sdz10LnJlc3VtaW5nLGU9ci5fZ2V0Q2h1bmtEYXRhKGksZiksdT1yLl9jcmVhdGVYaHIoaSxmKSxvPXt9O3JldHVybiBzPWMoaSx1KSxyLl9yZWdpc3RlclByb2dyZXNzSGFuZGxlcihpLGYsZS5zaXplKSx5PW4ucGFyYW1zU3RvcmUuZ2V0KGkpLHYoaSxvLGUpLHcmJihvW24ucmVzdW1lLnBhcmFtTmFtZXMucmVzdW1pbmddPSEwKSxoPWwoe2ZpbGVPckJsb2I6ZS5ibG9iLGlkOmksY3VzdG9tUGFyYW1zOnkscGFyYW1zOm8seGhyOnUseGhyT3ZlcnJpZGVzOnB9KSxhKHtoZWFkZXJPdmVycmlkZXM6cC5oZWFkZXJzLGlkOmkseGhyOnV9KSx1LnNlbmQoaCksc30sdXBsb2FkRmlsZTpmdW5jdGlvbih0KXt2YXIgdSxpLGYsZSxvPXIuZ2V0RmlsZSh0KTtyZXR1cm4gaT1yLl9jcmVhdGVYaHIodCksci5fcmVnaXN0ZXJQcm9ncmVzc0hhbmRsZXIodCksdT1jKHQsaSksZj1uLnBhcmFtc1N0b3JlLmdldCh0KSxlPWwoe2ZpbGVPckJsb2I6byxpZDp0LGN1c3RvbVBhcmFtczpmLHhocjppfSksYSh7aWQ6dCx4aHI6aX0pLGkuc2VuZChlKSx1fX0pO3QuZXh0ZW5kKHRoaXMsbmV3IHQuWGhyVXBsb2FkSGFuZGxlcih7b3B0aW9uczp0LmV4dGVuZCh7bmFtZXNwYWNlOiJ0cmFkaXRpb25hbCJ9LG4pLHByb3h5OnQuZXh0ZW5kKHtnZXRFbmRwb2ludDpuLmVuZHBvaW50U3RvcmUuZ2V0fSxpKX0pKTt0Lm92ZXJyaWRlKHRoaXMsZnVuY3Rpb24ocil7cmV0dXJue2ZpbmFsaXplQ2h1bmtzOmZ1bmN0aW9uKHUpe3JldHVybiBpLm9uRmluYWxpemluZyh1KSxuLmNodW5raW5nLnN1Y2Nlc3MuZW5kcG9pbnQ/ayh1KTpyLmZpbmFsaXplQ2h1bmtzKHUsdC5iaW5kKGUsdGhpcywhMCkpfX19KX07dC50cmFkaXRpb25hbC5BbGxDaHVua3NEb25lQWpheFJlcXVlc3Rlcj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7dmFyIHUsaT17Y29yczp7YWxsb3dYZHI6ITEsZXhwZWN0ZWQ6ITEsc2VuZENyZWRlbnRpYWxzOiExfSxlbmRwb2ludDpudWxsLGxvZzpmdW5jdGlvbigpe30sbWV0aG9kOiJQT1NUIn0scj17fSxmPXtnZXQ6ZnVuY3Rpb24obil7cmV0dXJuIHQuaXNGdW5jdGlvbihpLmVuZHBvaW50KT9pLmVuZHBvaW50KG4pOmkuZW5kcG9pbnR9fTt0LmV4dGVuZChpLG4pO3U9dC5leHRlbmQodGhpcyxuZXcgdC5BamF4UmVxdWVzdGVyKHthY2NlcHRIZWFkZXI6ImFwcGxpY2F0aW9uL2pzb24iLGNvbnRlbnRUeXBlOmkuanNvblBheWxvYWQ/ImFwcGxpY2F0aW9uL2pzb24iOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLHZhbGlkTWV0aG9kczpbaS5tZXRob2RdLG1ldGhvZDppLm1ldGhvZCxlbmRwb2ludFN0b3JlOmYsYWxsb3dYUmVxdWVzdGVkV2l0aEFuZENhY2hlQ29udHJvbDohMSxjb3JzOmkuY29ycyxsb2c6aS5sb2csb25Db21wbGV0ZTpmdW5jdGlvbihuLHQsaSl7dmFyIHU9cltuXTtkZWxldGUgcltuXTtpP3UuZmFpbHVyZSh0KTp1LnN1Y2Nlc3ModCl9fSkpO3QuZXh0ZW5kKHRoaXMse2NvbXBsZXRlOmZ1bmN0aW9uKG4sZixlLG8pe3ZhciBzPW5ldyB0LlByb21pc2U7cmV0dXJuIGkubG9nKCJTdWJtaXR0aW5nIEFsbCBDaHVua3MgRG9uZSByZXF1ZXN0IGZvciAiK24pLHJbbl09cyx1LmluaXRUcmFuc3BvcnQobikud2l0aFBhcmFtcyhpLnBhcmFtcyhuKXx8ZSkud2l0aEhlYWRlcnMoaS5oZWFkZXJzKG4pfHxvKS5zZW5kKGYpLHN9fSl9O3QuRHJhZ0FuZERyb3A9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGwobix0KXt2YXIgcj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuKTtpLmNhbGxiYWNrcy5kcm9wTG9nKCJHcmFiYmVkICIrbi5sZW5ndGgrIiBkcm9wcGVkIGZpbGVzLiIpO3QuZHJvcERpc2FibGVkKCExKTtpLmNhbGxiYWNrcy5wcm9jZXNzaW5nRHJvcHBlZEZpbGVzQ29tcGxldGUocix0LmdldEVsZW1lbnQoKSl9ZnVuY3Rpb24gZihuKXt2YXIgcj1uZXcgdC5Qcm9taXNlO3JldHVybiBuLmlzRmlsZT9uLmZpbGUoZnVuY3Rpb24odCl7dC5xcVBhdGg9ZShuKTt1LnB1c2godCk7ci5zdWNjZXNzKCl9LGZ1bmN0aW9uKHQpe2kuY2FsbGJhY2tzLmRyb3BMb2coIlByb2JsZW0gcGFyc2luZyAnIituLmZ1bGxQYXRoKyInLiAgRmlsZUVycm9yIGNvZGUgIit0LmNvZGUrIi4iLCJlcnJvciIpO3IuZmFpbHVyZSgpfSk6bi5pc0RpcmVjdG9yeSYmbyhuKS50aGVuKGZ1bmN0aW9uKG4pe3ZhciBpPW4ubGVuZ3RoO3QuZWFjaChuLGZ1bmN0aW9uKG4sdCl7Zih0KS5kb25lKGZ1bmN0aW9uKCl7aS09MTswPT09aSYmci5zdWNjZXNzKCl9KX0pO24ubGVuZ3RofHxyLnN1Y2Nlc3MoKX0sZnVuY3Rpb24odCl7aS5jYWxsYmFja3MuZHJvcExvZygiUHJvYmxlbSBwYXJzaW5nICciK24uZnVsbFBhdGgrIicuICBGaWxlRXJyb3IgY29kZSAiK3QuY29kZSsiLiIsImVycm9yIik7ci5mYWlsdXJlKCl9KSxyfWZ1bmN0aW9uIGUobil7dmFyIGk9bi5uYW1lLHQ9bi5mdWxsUGF0aCxyPXQubGFzdEluZGV4T2YoaSk7cmV0dXJuIHQ9dC5zdWJzdHIoMCxyKSwiLyI9PT10LmNoYXJBdCgwKSYmKHQ9dC5zdWJzdHIoMSkpLHR9ZnVuY3Rpb24gbyhuLGkscix1KXt2YXIgZj11fHxuZXcgdC5Qcm9taXNlLGU9aXx8bi5jcmVhdGVSZWFkZXIoKTtyZXR1cm4gZS5yZWFkRW50cmllcyhmdW5jdGlvbih0KXt2YXIgaT1yP3IuY29uY2F0KHQpOnQ7dC5sZW5ndGg/c2V0VGltZW91dChmdW5jdGlvbigpe28obixlLGksZil9LDApOmYuc3VjY2VzcyhpKX0sZi5mYWlsdXJlKSxmfWZ1bmN0aW9uIGEobixyKXt2YXIgZT1bXSxvPW5ldyB0LlByb21pc2U7cmV0dXJuIGkuY2FsbGJhY2tzLnByb2Nlc3NpbmdEcm9wcGVkRmlsZXMoKSxyLmRyb3BEaXNhYmxlZCghMCksbi5maWxlcy5sZW5ndGg+MSYmIWkuYWxsb3dNdWx0aXBsZUl0ZW1zPyhpLmNhbGxiYWNrcy5wcm9jZXNzaW5nRHJvcHBlZEZpbGVzQ29tcGxldGUoW10pLGkuY2FsbGJhY2tzLmRyb3BFcnJvcigidG9vTWFueUZpbGVzRXJyb3IiLCIiKSxyLmRyb3BEaXNhYmxlZCghMSksby5mYWlsdXJlKCkpOih1PVtdLHQuaXNGb2xkZXJEcm9wU3VwcG9ydGVkKG4pP3QuZWFjaChuLml0ZW1zLGZ1bmN0aW9uKG4sdCl7dmFyIGk9dC53ZWJraXRHZXRBc0VudHJ5KCk7aSYmKGkuaXNGaWxlP3UucHVzaCh0LmdldEFzRmlsZSgpKTplLnB1c2goZihpKS5kb25lKGZ1bmN0aW9uKCl7ZS5wb3AoKTswPT09ZS5sZW5ndGgmJm8uc3VjY2VzcygpfSkpKX0pOnU9bi5maWxlcywwPT09ZS5sZW5ndGgmJm8uc3VjY2VzcygpKSxvfWZ1bmN0aW9uIHMobil7dmFyIGY9bmV3IHQuVXBsb2FkRHJvcFpvbmUoe0hJREVfWk9ORVNfRVZFTlRfTkFNRToicXEtaGlkZXpvbmVzIixlbGVtZW50Om4sb25FbnRlcjpmdW5jdGlvbihyKXt0KG4pLmFkZENsYXNzKGkuY2xhc3Nlcy5kcm9wQWN0aXZlKTtyLnN0b3BQcm9wYWdhdGlvbigpfSxvbkxlYXZlTm90RGVzY2VuZGFudHM6ZnVuY3Rpb24oKXt0KG4pLnJlbW92ZUNsYXNzKGkuY2xhc3Nlcy5kcm9wQWN0aXZlKX0sb25Ecm9wOmZ1bmN0aW9uKG4pe2Eobi5kYXRhVHJhbnNmZXIsZikudGhlbihmdW5jdGlvbigpe2wodSxmKX0sZnVuY3Rpb24oKXtpLmNhbGxiYWNrcy5kcm9wTG9nKCJEcm9wIGV2ZW50IERhdGFUcmFuc2ZlciBwYXJzaW5nIGZhaWxlZC4gIE5vIGZpbGVzIHdpbGwgYmUgdXBsb2FkZWQuIiwiZXJyb3IiKX0pfX0pO3JldHVybiByLmFkZERpc3Bvc2VyKGZ1bmN0aW9uKCl7Zi5kaXNwb3NlKCl9KSx0KG4pLmhhc0F0dHJpYnV0ZSgicXEtaGlkZS1kcm9wem9uZSIpJiZ0KG4pLmhpZGUoKSxjLnB1c2goZiksZn1mdW5jdGlvbiBoKG4pe3ZhciBpO3JldHVybiB0LmVhY2gobi5kYXRhVHJhbnNmZXIudHlwZXMsZnVuY3Rpb24obix0KXtpZigiRmlsZXMiPT09dClyZXR1cm4gaT0hMCwhMX0pLGl9ZnVuY3Rpb24gdihuKXtyZXR1cm4gdC5zYWZhcmkoKT9uLng8MHx8bi55PDA6MD09PW4ueCYmMD09PW4ueX1mdW5jdGlvbiB5KCl7dmFyIG49aS5kcm9wWm9uZUVsZW1lbnRzLHU9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5lYWNoKG4sZnVuY3Rpb24obixyKXt0KHIpLmhhc0F0dHJpYnV0ZSgicXEtaGlkZS1kcm9wem9uZSIpJiZ0KHIpLmhpZGUoKTt0KHIpLnJlbW92ZUNsYXNzKGkuY2xhc3Nlcy5kcm9wQWN0aXZlKX0pfSwxMCl9O3QuZWFjaChuLGZ1bmN0aW9uKGksdSl7dmFyIGY9cyh1KTtuLmxlbmd0aCYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5maWxlRHJvcCYmci5hdHRhY2goZG9jdW1lbnQsImRyYWdlbnRlciIsZnVuY3Rpb24oaSl7IWYuZHJvcERpc2FibGVkKCkmJmgoaSkmJnQuZWFjaChuLGZ1bmN0aW9uKG4saSl7aSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiZ0KGkpLmhhc0F0dHJpYnV0ZSgicXEtaGlkZS1kcm9wem9uZSIpJiZ0KGkpLmNzcyh7ZGlzcGxheToiYmxvY2sifSl9KX0pfSk7ci5hdHRhY2goZG9jdW1lbnQsImRyYWdsZWF2ZSIsZnVuY3Rpb24obil7dihuKSYmdSgpfSk7ci5hdHRhY2godChkb2N1bWVudCkuY2hpbGRyZW4oKVswXSwibW91c2VlbnRlciIsZnVuY3Rpb24oKXt1KCl9KTtyLmF0dGFjaChkb2N1bWVudCwiZHJvcCIsZnVuY3Rpb24obil7aChuKSYmKG4ucHJldmVudERlZmF1bHQoKSx1KCkpfSk7ci5hdHRhY2goZG9jdW1lbnQsInFxLWhpZGV6b25lcyIsdSl9dmFyIGksYz1bXSx1PVtdLHI9bmV3IHQuRGlzcG9zZVN1cHBvcnQ7aT17ZHJvcFpvbmVFbGVtZW50czpbXSxhbGxvd011bHRpcGxlSXRlbXM6ITAsY2xhc3Nlczp7ZHJvcEFjdGl2ZTpudWxsfSxjYWxsYmFja3M6bmV3IHQuRHJhZ0FuZERyb3AuY2FsbGJhY2tzfTt0LmV4dGVuZChpLG4sITApO3koKTt0LmV4dGVuZCh0aGlzLHtzZXR1cEV4dHJhRHJvcHpvbmU6ZnVuY3Rpb24obil7aS5kcm9wWm9uZUVsZW1lbnRzLnB1c2gobik7cyhuKX0scmVtb3ZlRHJvcHpvbmU6ZnVuY3Rpb24obil7dmFyIHQscj1pLmRyb3Bab25lRWxlbWVudHM7Zm9yKHQgaW4gcilpZihyW3RdPT09bilyZXR1cm4gci5zcGxpY2UodCwxKX0sZGlzcG9zZTpmdW5jdGlvbigpe3IuZGlzcG9zZSgpO3QuZWFjaChjLGZ1bmN0aW9uKG4sdCl7dC5kaXNwb3NlKCl9KX19KTt0aGlzLl90ZXN0aW5nPXt9O3RoaXMuX3Rlc3RpbmcuZXh0cmFjdERpcmVjdG9yeVBhdGg9ZX07dC5EcmFnQW5kRHJvcC5jYWxsYmFja3M9ZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7cmV0dXJue3Byb2Nlc3NpbmdEcm9wcGVkRmlsZXM6ZnVuY3Rpb24oKXt9LHByb2Nlc3NpbmdEcm9wcGVkRmlsZXNDb21wbGV0ZTpmdW5jdGlvbigpe30sZHJvcEVycm9yOmZ1bmN0aW9uKG4saSl7dC5sb2coIkRyYWcgJiBkcm9wIGVycm9yIGNvZGUgJyIrbisiIHdpdGggdGhlc2Ugc3BlY2lmaWNzOiAnIitpKyInIiwiZXJyb3IiKX0sZHJvcExvZzpmdW5jdGlvbihuLGkpe3QubG9nKG4saSl9fX07dC5VcGxvYWREcm9wWm9uZT1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gaCgpe3JldHVybiB0LnNhZmFyaSgpfHx0LmZpcmVmb3goKSYmdC53aW5kb3dzKCl9ZnVuY3Rpb24gYygpe3N8fChoP3IuYXR0YWNoKGRvY3VtZW50LCJkcmFnb3ZlciIsZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpfSk6ci5hdHRhY2goZG9jdW1lbnQsImRyYWdvdmVyIixmdW5jdGlvbihuKXtuLmRhdGFUcmFuc2ZlciYmKG4uZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9Im5vbmUiLG4ucHJldmVudERlZmF1bHQoKSl9KSxzPSEwKX1mdW5jdGlvbiBmKG4pe2lmKCF0LnN1cHBvcnRlZEZlYXR1cmVzLmZpbGVEcm9wKXJldHVybiExO3ZhciByLGk9bi5kYXRhVHJhbnNmZXIsdT10LnNhZmFyaSgpO3JldHVybiByPSEoIXQuaWUoKXx8IXQuc3VwcG9ydGVkRmVhdHVyZXMuZmlsZURyb3ApfHwibm9uZSIhPT1pLmVmZmVjdEFsbG93ZWQsaSYmciYmKGkuZmlsZXMmJmkuZmlsZXMubGVuZ3RofHwhdSYmaS50eXBlcy5jb250YWlucyYmaS50eXBlcy5jb250YWlucygiRmlsZXMiKXx8aS50eXBlcy5pbmNsdWRlcyYmaS50eXBlcy5pbmNsdWRlcygiRmlsZXMiKSl9ZnVuY3Rpb24gZShuKXtyZXR1cm4gdm9pZCAwIT09biYmKG89biksb31mdW5jdGlvbiBsKCl7ZnVuY3Rpb24gdCgpe249ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkV2ZW50Iik7bi5pbml0RXZlbnQoaS5ISURFX1pPTkVTX0VWRU5UX05BTUUsITAsITApfXZhciBuO2lmKHdpbmRvdy5DdXN0b21FdmVudCl0cnl7bj1uZXcgQ3VzdG9tRXZlbnQoaS5ISURFX1pPTkVTX0VWRU5UX05BTUUpfWNhdGNoKG4pe3QoKX1lbHNlIHQoKTtkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG4pfWZ1bmN0aW9uIGEoKXtyLmF0dGFjaCh1LCJkcmFnb3ZlciIsZnVuY3Rpb24obil7aWYoZihuKSl7dmFyIGk9dC5pZSgpJiZ0LnN1cHBvcnRlZEZlYXR1cmVzLmZpbGVEcm9wP251bGw6bi5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZDtuLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0PSJtb3ZlIj09PWl8fCJsaW5rTW92ZSI9PT1pPyJtb3ZlIjoiY29weSI7bi5zdG9wUHJvcGFnYXRpb24oKTtuLnByZXZlbnREZWZhdWx0KCl9fSk7ci5hdHRhY2godSwiZHJhZ2VudGVyIixmdW5jdGlvbihuKXtpZighZSgpKXtpZighZihuKSlyZXR1cm47aS5vbkVudGVyKG4pfX0pO3IuYXR0YWNoKHUsImRyYWdsZWF2ZSIsZnVuY3Rpb24obil7aWYoZihuKSl7aS5vbkxlYXZlKG4pO3ZhciByPWRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQobi5jbGllbnRYLG4uY2xpZW50WSk7dCh0aGlzKS5jb250YWlucyhyKXx8aS5vbkxlYXZlTm90RGVzY2VuZGFudHMobil9fSk7ci5hdHRhY2godSwiZHJvcCIsZnVuY3Rpb24obil7aWYoIWUoKSl7aWYoIWYobikpcmV0dXJuO24ucHJldmVudERlZmF1bHQoKTtuLnN0b3BQcm9wYWdhdGlvbigpO2kub25Ecm9wKG4pO2woKX19KX12YXIgaSx1LG8scyxyPW5ldyB0LkRpc3Bvc2VTdXBwb3J0O2k9e2VsZW1lbnQ6bnVsbCxvbkVudGVyOmZ1bmN0aW9uKCl7fSxvbkxlYXZlOmZ1bmN0aW9uKCl7fSxvbkxlYXZlTm90RGVzY2VuZGFudHM6ZnVuY3Rpb24oKXt9LG9uRHJvcDpmdW5jdGlvbigpe319O3QuZXh0ZW5kKGksbik7dT1pLmVsZW1lbnQ7YygpO2EoKTt0LmV4dGVuZCh0aGlzLHtkcm9wRGlzYWJsZWQ6ZnVuY3Rpb24obil7cmV0dXJuIGUobil9LGRpc3Bvc2U6ZnVuY3Rpb24oKXtyLmRpc3Bvc2UoKX0sZ2V0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB1fX0pO3RoaXMuX3Rlc3Rpbmc9e307dGhpcy5fdGVzdGluZy5pc1ZhbGlkRmlsZURyYWc9Zn0sZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7dC51aVB1YmxpY0FwaT17YWRkSW5pdGlhbEZpbGVzOmZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5hZGRJbml0aWFsRmlsZXMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RlbXBsYXRpbmcuYWRkQ2FjaGVUb0RvbSgpfSxjbGVhclN0b3JlZEZpbGVzOmZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5jbGVhclN0b3JlZEZpbGVzLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90ZW1wbGF0aW5nLmNsZWFyRmlsZXMoKX0sYWRkRXh0cmFEcm9wem9uZTpmdW5jdGlvbihuKXt0aGlzLl9kbmQmJnRoaXMuX2RuZC5zZXR1cEV4dHJhRHJvcHpvbmUobil9LHJlbW92ZUV4dHJhRHJvcHpvbmU6ZnVuY3Rpb24obil7aWYodGhpcy5fZG5kKXJldHVybiB0aGlzLl9kbmQucmVtb3ZlRHJvcHpvbmUobil9LGdldEl0ZW1CeUZpbGVJZDpmdW5jdGlvbihuKXtpZighdGhpcy5fdGVtcGxhdGluZy5pc0hpZGRlbkZvcmV2ZXIobikpcmV0dXJuIHRoaXMuX3RlbXBsYXRpbmcuZ2V0RmlsZUNvbnRhaW5lcihuKX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLnJlc2V0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90ZW1wbGF0aW5nLnJlc2V0KCk7IXRoaXMuX29wdGlvbnMuYnV0dG9uJiZ0aGlzLl90ZW1wbGF0aW5nLmdldEJ1dHRvbigpJiYodGhpcy5fZGVmYXVsdEJ1dHRvbklkPXRoaXMuX2NyZWF0ZVVwbG9hZEJ1dHRvbih7ZWxlbWVudDp0aGlzLl90ZW1wbGF0aW5nLmdldEJ1dHRvbigpLHRpdGxlOnRoaXMuX29wdGlvbnMudGV4dC5maWxlSW5wdXRUaXRsZX0pLmdldEJ1dHRvbklkKCkpO3RoaXMuX2RuZCYmKHRoaXMuX2RuZC5kaXNwb3NlKCksdGhpcy5fZG5kPXRoaXMuX3NldHVwRHJhZ0FuZERyb3AoKSk7dGhpcy5fdG90YWxGaWxlc0luQmF0Y2g9MDt0aGlzLl9maWxlc0luQmF0Y2hBZGRlZFRvVWk9MDt0aGlzLl9zZXR1cENsaWNrQW5kRWRpdEV2ZW50SGFuZGxlcnMoKX0sc2V0TmFtZTpmdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuX29wdGlvbnMuZm9ybWF0RmlsZU5hbWUodCk7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5zZXROYW1lLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90ZW1wbGF0aW5nLnVwZGF0ZUZpbGVuYW1lKG4saSl9LHBhdXNlVXBsb2FkOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX3BhcmVudC5wcm90b3R5cGUucGF1c2VVcGxvYWQuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0JiZ0aGlzLl90ZW1wbGF0aW5nLnVwbG9hZFBhdXNlZChuKSx0fSxjb250aW51ZVVwbG9hZDpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9wYXJlbnQucHJvdG90eXBlLmNvbnRpbnVlVXBsb2FkLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdCYmdGhpcy5fdGVtcGxhdGluZy51cGxvYWRDb250aW51ZWQobiksdH0sZ2V0SWQ6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3RlbXBsYXRpbmcuZ2V0RmlsZUlkKG4pfSxnZXREcm9wVGFyZ2V0OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmdldEZpbGUobikucXFEcm9wVGFyZ2V0fX07dC51aVByaXZhdGVBcGk9e19nZXRCdXR0b246ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fZ2V0QnV0dG9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdHx8bj09PXRoaXMuX2RlZmF1bHRCdXR0b25JZCYmKHQ9dGhpcy5fdGVtcGxhdGluZy5nZXRCdXR0b24oKSksdH0sX3JlbW92ZUZpbGVJdGVtOmZ1bmN0aW9uKG4pe3RoaXMuX3RlbXBsYXRpbmcucmVtb3ZlRmlsZShuKX0sX3NldHVwQ2xpY2tBbmRFZGl0RXZlbnRIYW5kbGVyczpmdW5jdGlvbigpe3RoaXMuX2ZpbGVCdXR0b25zQ2xpY2tIYW5kbGVyPXQuRmlsZUJ1dHRvbnNDbGlja0hhbmRsZXImJnRoaXMuX2JpbmRGaWxlQnV0dG9uc0NsaWNrRXZlbnQoKTt0aGlzLl9mb2N1c2luRXZlbnRTdXBwb3J0ZWQ9IXQuZmlyZWZveCgpO3RoaXMuX2lzRWRpdEZpbGVuYW1lRW5hYmxlZCgpJiYodGhpcy5fZmlsZW5hbWVDbGlja0hhbmRsZXI9dGhpcy5fYmluZEZpbGVuYW1lQ2xpY2tFdmVudCgpLHRoaXMuX2ZpbGVuYW1lSW5wdXRGb2N1c0luSGFuZGxlcj10aGlzLl9iaW5kRmlsZW5hbWVJbnB1dEZvY3VzSW5FdmVudCgpLHRoaXMuX2ZpbGVuYW1lSW5wdXRGb2N1c0hhbmRsZXI9dGhpcy5fYmluZEZpbGVuYW1lSW5wdXRGb2N1c0V2ZW50KCkpfSxfc2V0dXBEcmFnQW5kRHJvcDpmdW5jdGlvbigpe3ZhciBuPXRoaXMscj10aGlzLl9vcHRpb25zLmRyYWdBbmREcm9wLmV4dHJhRHJvcHpvbmVzLGk9dGhpcy5fdGVtcGxhdGluZyx1PWkuZ2V0RHJvcFpvbmUoKTtyZXR1cm4gdSYmci5wdXNoKHUpLG5ldyB0LkRyYWdBbmREcm9wKHtkcm9wWm9uZUVsZW1lbnRzOnIsYWxsb3dNdWx0aXBsZUl0ZW1zOnRoaXMuX29wdGlvbnMubXVsdGlwbGUsY2xhc3Nlczp7ZHJvcEFjdGl2ZTp0aGlzLl9vcHRpb25zLmNsYXNzZXMuZHJvcEFjdGl2ZX0sY2FsbGJhY2tzOntwcm9jZXNzaW5nRHJvcHBlZEZpbGVzOmZ1bmN0aW9uKCl7aS5zaG93RHJvcFByb2Nlc3NpbmcoKX0scHJvY2Vzc2luZ0Ryb3BwZWRGaWxlc0NvbXBsZXRlOmZ1bmN0aW9uKHIsdSl7aS5oaWRlRHJvcFByb2Nlc3NpbmcoKTt0LmVhY2gocixmdW5jdGlvbihuLHQpe3QucXFEcm9wVGFyZ2V0PXV9KTtyLmxlbmd0aCYmbi5hZGRGaWxlcyhyLG51bGwsbnVsbCl9LGRyb3BFcnJvcjpmdW5jdGlvbih0LGkpe24uX2l0ZW1FcnJvcih0LGkpfSxkcm9wTG9nOmZ1bmN0aW9uKHQsaSl7bi5sb2codCxpKX19fSl9LF9iaW5kRmlsZUJ1dHRvbnNDbGlja0V2ZW50OmZ1bmN0aW9uKCl7dmFyIG49dGhpcztyZXR1cm4gbmV3IHQuRmlsZUJ1dHRvbnNDbGlja0hhbmRsZXIoe3RlbXBsYXRpbmc6dGhpcy5fdGVtcGxhdGluZyxsb2c6ZnVuY3Rpb24odCxpKXtuLmxvZyh0LGkpfSxvbkRlbGV0ZUZpbGU6ZnVuY3Rpb24odCl7bi5kZWxldGVGaWxlKHQpfSxvbkNhbmNlbDpmdW5jdGlvbih0KXtuLmNhbmNlbCh0KX0sb25SZXRyeTpmdW5jdGlvbih0KXtuLnJldHJ5KHQpfSxvblBhdXNlOmZ1bmN0aW9uKHQpe24ucGF1c2VVcGxvYWQodCl9LG9uQ29udGludWU6ZnVuY3Rpb24odCl7bi5jb250aW51ZVVwbG9hZCh0KX0sb25HZXROYW1lOmZ1bmN0aW9uKHQpe3JldHVybiBuLmdldE5hbWUodCl9fSl9LF9pc0VkaXRGaWxlbmFtZUVuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGVtcGxhdGluZy5pc0VkaXRGaWxlbmFtZVBvc3NpYmxlKCkmJiF0aGlzLl9vcHRpb25zLmF1dG9VcGxvYWQmJnQuRmlsZW5hbWVDbGlja0hhbmRsZXImJnQuRmlsZW5hbWVJbnB1dEZvY3VzSGFuZGxlciYmdC5GaWxlbmFtZUlucHV0Rm9jdXNIYW5kbGVyfSxfZmlsZW5hbWVFZGl0SGFuZGxlcjpmdW5jdGlvbigpe3ZhciBpPXRoaXMsbj10aGlzLl90ZW1wbGF0aW5nO3JldHVybnt0ZW1wbGF0aW5nOm4sbG9nOmZ1bmN0aW9uKG4sdCl7aS5sb2cobix0KX0sb25HZXRVcGxvYWRTdGF0dXM6ZnVuY3Rpb24obil7cmV0dXJuIGkuZ2V0VXBsb2Fkcyh7aWQ6bn0pLnN0YXR1c30sb25HZXROYW1lOmZ1bmN0aW9uKG4pe3JldHVybiBpLmdldE5hbWUobil9LG9uU2V0TmFtZTpmdW5jdGlvbihuLHQpe2kuc2V0TmFtZShuLHQpfSxvbkVkaXRpbmdTdGF0dXNDaGFuZ2U6ZnVuY3Rpb24oaSxyKXt2YXIgdT10KG4uZ2V0RWRpdElucHV0KGkpKSxmPXQobi5nZXRGaWxlQ29udGFpbmVyKGkpKTtyPyh1LmFkZENsYXNzKCJxcS1lZGl0aW5nIiksbi5oaWRlRmlsZW5hbWUoaSksbi5oaWRlRWRpdEljb24oaSkpOih1LnJlbW92ZUNsYXNzKCJxcS1lZGl0aW5nIiksbi5zaG93RmlsZW5hbWUoaSksbi5zaG93RWRpdEljb24oaSkpO2YuYWRkQ2xhc3MoInFxLXRlbXAiKS5yZW1vdmVDbGFzcygicXEtdGVtcCIpfX19LF9vblVwbG9hZFN0YXR1c0NoYW5nZTpmdW5jdGlvbihuLGkscil7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25VcGxvYWRTdGF0dXNDaGFuZ2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX2lzRWRpdEZpbGVuYW1lRW5hYmxlZCgpJiZ0aGlzLl90ZW1wbGF0aW5nLmdldEZpbGVDb250YWluZXIobikmJnIhPT10LnN0YXR1cy5TVUJNSVRURUQmJih0aGlzLl90ZW1wbGF0aW5nLm1hcmtGaWxlbmFtZUVkaXRhYmxlKG4pLHRoaXMuX3RlbXBsYXRpbmcuaGlkZUVkaXRJY29uKG4pKTtpPT09dC5zdGF0dXMuVVBMT0FEX1JFVFJZSU5HJiZyPT09dC5zdGF0dXMuVVBMT0FESU5HPyh0aGlzLl90ZW1wbGF0aW5nLmhpZGVSZXRyeShuKSx0aGlzLl90ZW1wbGF0aW5nLnNldFN0YXR1c1RleHQobiksdCh0aGlzLl90ZW1wbGF0aW5nLmdldEZpbGVDb250YWluZXIobikpLnJlbW92ZUNsYXNzKHRoaXMuX2NsYXNzZXMucmV0cnlpbmcpKTpyPT09dC5zdGF0dXMuVVBMT0FEX0ZBSUxFRCYmdGhpcy5fdGVtcGxhdGluZy5oaWRlUGF1c2Uobil9LF9iaW5kRmlsZW5hbWVJbnB1dEZvY3VzSW5FdmVudDpmdW5jdGlvbigpe3ZhciBuPXQuZXh0ZW5kKHt9LHRoaXMuX2ZpbGVuYW1lRWRpdEhhbmRsZXIoKSk7cmV0dXJuIG5ldyB0LkZpbGVuYW1lSW5wdXRGb2N1c0luSGFuZGxlcihuKX0sX2JpbmRGaWxlbmFtZUlucHV0Rm9jdXNFdmVudDpmdW5jdGlvbigpe3ZhciBuPXQuZXh0ZW5kKHt9LHRoaXMuX2ZpbGVuYW1lRWRpdEhhbmRsZXIoKSk7cmV0dXJuIG5ldyB0LkZpbGVuYW1lSW5wdXRGb2N1c0hhbmRsZXIobil9LF9iaW5kRmlsZW5hbWVDbGlja0V2ZW50OmZ1bmN0aW9uKCl7dmFyIG49dC5leHRlbmQoe30sdGhpcy5fZmlsZW5hbWVFZGl0SGFuZGxlcigpKTtyZXR1cm4gbmV3IHQuRmlsZW5hbWVDbGlja0hhbmRsZXIobil9LF9zdG9yZUZvckxhdGVyOmZ1bmN0aW9uKG4pe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX3N0b3JlRm9yTGF0ZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RlbXBsYXRpbmcuaGlkZVNwaW5uZXIobil9LF9vbkFsbENvbXBsZXRlOmZ1bmN0aW9uKCl7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25BbGxDb21wbGV0ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdGVtcGxhdGluZy5yZXNldFRvdGFsUHJvZ3Jlc3MoKX0sX29uU3VibWl0OmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5nZXRGaWxlKG4pO2kmJmkucXFQYXRoJiZ0aGlzLl9vcHRpb25zLmRyYWdBbmREcm9wLnJlcG9ydERpcmVjdG9yeVBhdGhzJiZ0aGlzLl9wYXJhbXNTdG9yZS5hZGRSZWFkT25seShuLHtxcXBhdGg6aS5xcVBhdGh9KTt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vblN1Ym1pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fYWRkVG9MaXN0KG4sdCl9LF9vblN1Ym1pdHRlZDpmdW5jdGlvbihuKXt0aGlzLl9pc0VkaXRGaWxlbmFtZUVuYWJsZWQoKSYmKHRoaXMuX3RlbXBsYXRpbmcubWFya0ZpbGVuYW1lRWRpdGFibGUobiksdGhpcy5fdGVtcGxhdGluZy5zaG93RWRpdEljb24obiksdGhpcy5fZm9jdXNpbkV2ZW50U3VwcG9ydGVkfHx0aGlzLl9maWxlbmFtZUlucHV0Rm9jdXNIYW5kbGVyLmFkZEhhbmRsZXIodGhpcy5fdGVtcGxhdGluZy5nZXRFZGl0SW5wdXQobikpKX0sX29uUHJvZ3Jlc3M6ZnVuY3Rpb24obix0LGkscil7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25Qcm9ncmVzcy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdGVtcGxhdGluZy51cGRhdGVQcm9ncmVzcyhuLGkscik7MD09PXJ8fDEwMD09PU1hdGgucm91bmQoaS9yKjEwMCk/KHRoaXMuX3RlbXBsYXRpbmcuaGlkZUNhbmNlbChuKSx0aGlzLl90ZW1wbGF0aW5nLmhpZGVQYXVzZShuKSx0aGlzLl90ZW1wbGF0aW5nLmhpZGVQcm9ncmVzcyhuKSx0aGlzLl90ZW1wbGF0aW5nLnNldFN0YXR1c1RleHQobix0aGlzLl9vcHRpb25zLnRleHQud2FpdGluZ0ZvclJlc3BvbnNlKSx0aGlzLl9kaXNwbGF5RmlsZVNpemUobikpOnRoaXMuX2Rpc3BsYXlGaWxlU2l6ZShuLGkscil9LF9vblRvdGFsUHJvZ3Jlc3M6ZnVuY3Rpb24obix0KXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vblRvdGFsUHJvZ3Jlc3MuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RlbXBsYXRpbmcudXBkYXRlVG90YWxQcm9ncmVzcyhuLHQpfSxfb25Db21wbGV0ZTpmdW5jdGlvbihuLGkscil7ZnVuY3Rpb24gcyhpKXtlJiYodS5zZXRTdGF0dXNUZXh0KG4pLHQoZSkucmVtb3ZlQ2xhc3MoZi5fY2xhc3Nlcy5yZXRyeWluZyksdS5oaWRlUHJvZ3Jlc3MobiksZi5nZXRVcGxvYWRzKHtpZDpufSkuc3RhdHVzIT09dC5zdGF0dXMuVVBMT0FEX0ZBSUxFRCYmdS5oaWRlQ2FuY2VsKG4pLHUuaGlkZVNwaW5uZXIobiksaS5zdWNjZXNzP2YuX21hcmtGaWxlQXNTdWNjZXNzZnVsKG4pOih0KGUpLmFkZENsYXNzKGYuX2NsYXNzZXMuZmFpbCksdS5zaG93Q2FuY2VsKG4pLHUuaXNSZXRyeVBvc3NpYmxlKCkmJiFmLl9wcmV2ZW50UmV0cmllc1tuXSYmKHQoZSkuYWRkQ2xhc3MoZi5fY2xhc3Nlcy5yZXRyeWFibGUpLHUuc2hvd1JldHJ5KG4pKSxmLl9jb250cm9sRmFpbHVyZVRleHREaXNwbGF5KG4saSkpKX12YXIgbz10aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vbkNvbXBsZXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx1PXRoaXMuX3RlbXBsYXRpbmcsZT11LmdldEZpbGVDb250YWluZXIobiksZj10aGlzO3JldHVybiBvIGluc3RhbmNlb2YgdC5Qcm9taXNlP28uZG9uZShmdW5jdGlvbihuKXtzKG4pfSk6cyhyKSxvfSxfbWFya0ZpbGVBc1N1Y2Nlc3NmdWw6ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5fdGVtcGxhdGluZzt0aGlzLl9pc0RlbGV0ZVBvc3NpYmxlKCkmJmkuc2hvd0RlbGV0ZUJ1dHRvbihuKTt0KGkuZ2V0RmlsZUNvbnRhaW5lcihuKSkuYWRkQ2xhc3ModGhpcy5fY2xhc3Nlcy5zdWNjZXNzKTt0aGlzLl9tYXliZVVwZGF0ZVRodW1ibmFpbChuKX0sX29uVXBsb2FkUHJlcDpmdW5jdGlvbihuKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vblVwbG9hZFByZXAuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3RlbXBsYXRpbmcuc2hvd1NwaW5uZXIobil9LF9vblVwbG9hZDpmdW5jdGlvbihuKXt2YXIgdD10aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vblVwbG9hZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuX3RlbXBsYXRpbmcuc2hvd1NwaW5uZXIobiksdH0sX29uVXBsb2FkQ2h1bms6ZnVuY3Rpb24obix0KXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vblVwbG9hZENodW5rLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0LnBhcnRJbmRleD4wJiZ0aGlzLl9oYW5kbGVyLmlzUmVzdW1hYmxlKG4pJiZ0aGlzLl90ZW1wbGF0aW5nLmFsbG93UGF1c2Uobil9LF9vbkNhbmNlbDpmdW5jdGlvbihuKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vbkNhbmNlbC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fcmVtb3ZlRmlsZUl0ZW0obik7MD09PXRoaXMuX2dldE5vdEZpbmlzaGVkKCkmJnRoaXMuX3RlbXBsYXRpbmcucmVzZXRUb3RhbFByb2dyZXNzKCl9LF9vbkJlZm9yZUF1dG9SZXRyeTpmdW5jdGlvbihuKXt2YXIgcix1LGk7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25CZWZvcmVBdXRvUmV0cnkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX3Nob3dDYW5jZWxMaW5rKG4pO3RoaXMuX29wdGlvbnMucmV0cnkuc2hvd0F1dG9SZXRyeU5vdGUmJihyPXRoaXMuX2F1dG9SZXRyaWVzW25dLHU9dGhpcy5fb3B0aW9ucy5yZXRyeS5tYXhBdXRvQXR0ZW1wdHMsaT10aGlzLl9vcHRpb25zLnJldHJ5LmF1dG9SZXRyeU5vdGUucmVwbGFjZSgvXHtyZXRyeU51bVx9L2csciksaT1pLnJlcGxhY2UoL1x7bWF4QXV0b1x9L2csdSksdGhpcy5fdGVtcGxhdGluZy5zZXRTdGF0dXNUZXh0KG4saSksdCh0aGlzLl90ZW1wbGF0aW5nLmdldEZpbGVDb250YWluZXIobikpLmFkZENsYXNzKHRoaXMuX2NsYXNzZXMucmV0cnlpbmcpKX0sX29uQmVmb3JlTWFudWFsUmV0cnk6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX3BhcmVudC5wcm90b3R5cGUuX29uQmVmb3JlTWFudWFsUmV0cnkuYXBwbHkodGhpcyxhcmd1bWVudHMpPyh0aGlzLl90ZW1wbGF0aW5nLnJlc2V0UHJvZ3Jlc3MobiksdCh0aGlzLl90ZW1wbGF0aW5nLmdldEZpbGVDb250YWluZXIobikpLnJlbW92ZUNsYXNzKHRoaXMuX2NsYXNzZXMuZmFpbCksdGhpcy5fdGVtcGxhdGluZy5zZXRTdGF0dXNUZXh0KG4pLHRoaXMuX3RlbXBsYXRpbmcuc2hvd1NwaW5uZXIobiksdGhpcy5fc2hvd0NhbmNlbExpbmsobiksITApOih0KHRoaXMuX3RlbXBsYXRpbmcuZ2V0RmlsZUNvbnRhaW5lcihuKSkuYWRkQ2xhc3ModGhpcy5fY2xhc3Nlcy5yZXRyeWFibGUpLHRoaXMuX3RlbXBsYXRpbmcuc2hvd1JldHJ5KG4pLCExKX0sX29uU3VibWl0RGVsZXRlOmZ1bmN0aW9uKG4pe3ZhciBpPXQuYmluZCh0aGlzLl9vblN1Ym1pdERlbGV0ZVN1Y2Nlc3MsdGhpcyk7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fb25TdWJtaXREZWxldGUuY2FsbCh0aGlzLG4saSl9LF9vblN1Ym1pdERlbGV0ZVN1Y2Nlc3M6ZnVuY3Rpb24oKXt0aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUuZm9yY2VDb25maXJtP3RoaXMuX3Nob3dEZWxldGVDb25maXJtLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLl9zZW5kRGVsZXRlUmVxdWVzdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LF9vbkRlbGV0ZUNvbXBsZXRlOmZ1bmN0aW9uKG4sdCxpKXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9vbkRlbGV0ZUNvbXBsZXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90ZW1wbGF0aW5nLmhpZGVTcGlubmVyKG4pO2k/KHRoaXMuX3RlbXBsYXRpbmcuc2V0U3RhdHVzVGV4dChuLHRoaXMuX29wdGlvbnMuZGVsZXRlRmlsZS5kZWxldGluZ0ZhaWxlZFRleHQpLHRoaXMuX3RlbXBsYXRpbmcuc2hvd0RlbGV0ZUJ1dHRvbihuKSk6dGhpcy5fcmVtb3ZlRmlsZUl0ZW0obil9LF9zZW5kRGVsZXRlUmVxdWVzdDpmdW5jdGlvbihuKXt0aGlzLl90ZW1wbGF0aW5nLmhpZGVEZWxldGVCdXR0b24obik7dGhpcy5fdGVtcGxhdGluZy5zaG93U3Bpbm5lcihuKTt0aGlzLl90ZW1wbGF0aW5nLnNldFN0YXR1c1RleHQobix0aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUuZGVsZXRpbmdTdGF0dXNUZXh0KTt0aGlzLl9kZWxldGVIYW5kbGVyLnNlbmREZWxldGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfc2hvd0RlbGV0ZUNvbmZpcm06ZnVuY3Rpb24obil7dmFyIGksZj10aGlzLmdldE5hbWUobiksZT10aGlzLl9vcHRpb25zLmRlbGV0ZUZpbGUuY29uZmlybU1lc3NhZ2UucmVwbGFjZSgvXHtmaWxlbmFtZVx9L2csZiksdT0odGhpcy5nZXRVdWlkKG4pLGFyZ3VtZW50cykscj10aGlzO2k9dGhpcy5fb3B0aW9ucy5zaG93Q29uZmlybShlKTt0LmlzR2VuZXJpY1Byb21pc2UoaSk/aS50aGVuKGZ1bmN0aW9uKCl7ci5fc2VuZERlbGV0ZVJlcXVlc3QuYXBwbHkocix1KX0pOmkhPT0hMSYmci5fc2VuZERlbGV0ZVJlcXVlc3QuYXBwbHkocix1KX0sX2FkZFRvTGlzdDpmdW5jdGlvbihuLGkscil7dmFyIGYsdSxlPTAsbz10aGlzLl9oYW5kbGVyLmlzUHJveGllZChuKSYmdGhpcy5fb3B0aW9ucy5zY2FsaW5nLmhpZGVTY2FsZWQ7dGhpcy5fb3B0aW9ucy5kaXNwbGF5LnByZXBlbmRGaWxlcyYmKHRoaXMuX3RvdGFsRmlsZXNJbkJhdGNoPjEmJnRoaXMuX2ZpbGVzSW5CYXRjaEFkZGVkVG9VaT4wJiYoZT10aGlzLl9maWxlc0luQmF0Y2hBZGRlZFRvVWktMSksZj17aW5kZXg6ZX0pO3J8fCh0aGlzLl9vcHRpb25zLmRpc2FibGVDYW5jZWxGb3JGb3JtVXBsb2FkcyYmIXQuc3VwcG9ydGVkRmVhdHVyZXMuYWpheFVwbG9hZGluZyYmdGhpcy5fdGVtcGxhdGluZy5kaXNhYmxlQ2FuY2VsKCksdGhpcy5fb3B0aW9ucy5tdWx0aXBsZXx8KHU9dGhpcy5nZXRVcGxvYWRzKHtpZDpufSksdGhpcy5faGFuZGxlZFByb3h5R3JvdXA9dGhpcy5faGFuZGxlZFByb3h5R3JvdXB8fHUucHJveHlHcm91cElkLHUucHJveHlHcm91cElkPT09dGhpcy5faGFuZGxlZFByb3h5R3JvdXAmJnUucHJveHlHcm91cElkfHwodGhpcy5faGFuZGxlci5jYW5jZWxBbGwoKSx0aGlzLl9jbGVhckxpc3QoKSx0aGlzLl9oYW5kbGVkUHJveHlHcm91cD1udWxsKSkpO3I/KHRoaXMuX3RlbXBsYXRpbmcuYWRkRmlsZVRvQ2FjaGUobix0aGlzLl9vcHRpb25zLmZvcm1hdEZpbGVOYW1lKGkpLGYsbyksdGhpcy5fdGVtcGxhdGluZy51cGRhdGVUaHVtYm5haWwobix0aGlzLl90aHVtYm5haWxVcmxzW25dLCEwLHRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5jdXN0b21SZXNpemVyKSk6KHRoaXMuX3RlbXBsYXRpbmcuYWRkRmlsZShuLHRoaXMuX29wdGlvbnMuZm9ybWF0RmlsZU5hbWUoaSksZixvKSx0aGlzLl90ZW1wbGF0aW5nLmdlbmVyYXRlUHJldmlldyhuLHRoaXMuZ2V0RmlsZShuKSx0aGlzLl9vcHRpb25zLnRodW1ibmFpbHMuY3VzdG9tUmVzaXplcikpO3RoaXMuX2ZpbGVzSW5CYXRjaEFkZGVkVG9VaSs9MTsocnx8dGhpcy5fb3B0aW9ucy5kaXNwbGF5LmZpbGVTaXplT25TdWJtaXQmJnQuc3VwcG9ydGVkRmVhdHVyZXMuYWpheFVwbG9hZGluZykmJnRoaXMuX2Rpc3BsYXlGaWxlU2l6ZShuKX0sX2NsZWFyTGlzdDpmdW5jdGlvbigpe3RoaXMuX3RlbXBsYXRpbmcuY2xlYXJGaWxlcygpO3RoaXMuY2xlYXJTdG9yZWRGaWxlcygpfSxfZGlzcGxheUZpbGVTaXplOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj10aGlzLmdldFNpemUobiksdT10aGlzLl9mb3JtYXRTaXplKHIpO3I+PTAmJih2b2lkIDAhPT10JiZ2b2lkIDAhPT1pJiYodT10aGlzLl9mb3JtYXRQcm9ncmVzcyh0LGkpKSx0aGlzLl90ZW1wbGF0aW5nLnVwZGF0ZVNpemUobix1KSl9LF9mb3JtYXRQcm9ncmVzczpmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIHIobix0KXtpPWkucmVwbGFjZShuLHQpfXZhciBpPXRoaXMuX29wdGlvbnMudGV4dC5mb3JtYXRQcm9ncmVzcztyZXR1cm4gcigie3BlcmNlbnR9IixNYXRoLnJvdW5kKG4vdCoxMDApKSxyKCJ7dG90YWxfc2l6ZX0iLHRoaXMuX2Zvcm1hdFNpemUodCkpLGl9LF9jb250cm9sRmFpbHVyZVRleHREaXNwbGF5OmZ1bmN0aW9uKG4sdCl7dmFyIGksdSxyO2k9dGhpcy5fb3B0aW9ucy5mYWlsZWRVcGxvYWRUZXh0RGlzcGxheS5tb2RlO3U9dGhpcy5fb3B0aW9ucy5mYWlsZWRVcGxvYWRUZXh0RGlzcGxheS5yZXNwb25zZVByb3BlcnR5OyJjdXN0b20iPT09aT8ocj10W3VdLHJ8fChyPXRoaXMuX29wdGlvbnMudGV4dC5mYWlsVXBsb2FkKSx0aGlzLl90ZW1wbGF0aW5nLnNldFN0YXR1c1RleHQobixyKSx0aGlzLl9vcHRpb25zLmZhaWxlZFVwbG9hZFRleHREaXNwbGF5LmVuYWJsZVRvb2x0aXAmJnRoaXMuX3Nob3dUb29sdGlwKG4scikpOiJkZWZhdWx0Ij09PWk/dGhpcy5fdGVtcGxhdGluZy5zZXRTdGF0dXNUZXh0KG4sdGhpcy5fb3B0aW9ucy50ZXh0LmZhaWxVcGxvYWQpOiJub25lIiE9PWkmJnRoaXMubG9nKCJmYWlsZWRVcGxvYWRUZXh0RGlzcGxheS5tb2RlIHZhbHVlIG9mICciK2krIicgaXMgbm90IHZhbGlkIiwid2FybiIpfSxfc2hvd1Rvb2x0aXA6ZnVuY3Rpb24obix0KXt0aGlzLl90ZW1wbGF0aW5nLmdldEZpbGVDb250YWluZXIobikudGl0bGU9dH0sX3Nob3dDYW5jZWxMaW5rOmZ1bmN0aW9uKG4pe3RoaXMuX29wdGlvbnMuZGlzYWJsZUNhbmNlbEZvckZvcm1VcGxvYWRzJiYhdC5zdXBwb3J0ZWRGZWF0dXJlcy5hamF4VXBsb2FkaW5nfHx0aGlzLl90ZW1wbGF0aW5nLnNob3dDYW5jZWwobil9LF9pdGVtRXJyb3I6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLl9wYXJlbnQucHJvdG90eXBlLl9pdGVtRXJyb3IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX29wdGlvbnMuc2hvd01lc3NhZ2Uobil9LF9iYXRjaEVycm9yOmZ1bmN0aW9uKG4pe3RoaXMuX3BhcmVudC5wcm90b3R5cGUuX2JhdGNoRXJyb3IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuX29wdGlvbnMuc2hvd01lc3NhZ2Uobil9LF9zZXR1cFBhc3RlUHJvbXB0OmZ1bmN0aW9uKCl7dmFyIG49dGhpczt0aGlzLl9vcHRpb25zLmNhbGxiYWNrcy5vblBhc3RlUmVjZWl2ZWQ9ZnVuY3Rpb24oKXt2YXIgdD1uLl9vcHRpb25zLnBhc3RlLm5hbWVQcm9tcHRNZXNzYWdlLGk9bi5fb3B0aW9ucy5wYXN0ZS5kZWZhdWx0TmFtZTtyZXR1cm4gbi5fb3B0aW9ucy5zaG93UHJvbXB0KHQsaSl9fSxfZmlsZU9yQmxvYlJlamVjdGVkOmZ1bmN0aW9uKCl7dGhpcy5fdG90YWxGaWxlc0luQmF0Y2gtPTE7dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fZmlsZU9yQmxvYlJlamVjdGVkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX3ByZXBhcmVJdGVtc0ZvclVwbG9hZDpmdW5jdGlvbihuKXt0aGlzLl90b3RhbEZpbGVzSW5CYXRjaD1uLmxlbmd0aDt0aGlzLl9maWxlc0luQmF0Y2hBZGRlZFRvVWk9MDt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9wcmVwYXJlSXRlbXNGb3JVcGxvYWQuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfbWF5YmVVcGRhdGVUaHVtYm5haWw6ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5fdGh1bWJuYWlsVXJsc1tuXTt0aGlzLmdldFVwbG9hZHMoe2lkOm59KS5zdGF0dXMhPT10LnN0YXR1cy5ERUxFVEVEJiYoaXx8dGhpcy5fb3B0aW9ucy50aHVtYm5haWxzLnBsYWNlaG9sZGVycy53YWl0VW50aWxSZXNwb25zZXx8IXQuc3VwcG9ydGVkRmVhdHVyZXMuaW1hZ2VQcmV2aWV3cykmJnRoaXMuX3RlbXBsYXRpbmcudXBkYXRlVGh1bWJuYWlsKG4saSx0aGlzLl9vcHRpb25zLnRodW1ibmFpbHMuY3VzdG9tUmVzaXplcil9LF9hZGRDYW5uZWRGaWxlOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fcGFyZW50LnByb3RvdHlwZS5fYWRkQ2FubmVkRmlsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuX2FkZFRvTGlzdChuLHRoaXMuZ2V0TmFtZShuKSwhMCksdGhpcy5fdGVtcGxhdGluZy5oaWRlU3Bpbm5lcihuKSx0aGlzLl90ZW1wbGF0aW5nLmhpZGVDYW5jZWwobiksdGhpcy5fbWFya0ZpbGVBc1N1Y2Nlc3NmdWwobiksbn0sX3NldFNpemU6ZnVuY3Rpb24obix0KXt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9zZXRTaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl90ZW1wbGF0aW5nLnVwZGF0ZVNpemUobix0aGlzLl9mb3JtYXRTaXplKHQpKX0sX3Nlc3Npb25SZXF1ZXN0Q29tcGxldGU6ZnVuY3Rpb24oKXt0aGlzLl90ZW1wbGF0aW5nLmFkZENhY2hlVG9Eb20oKTt0aGlzLl9wYXJlbnQucHJvdG90eXBlLl9zZXNzaW9uUmVxdWVzdENvbXBsZXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSgpO3QuRmluZVVwbG9hZGVyPWZ1bmN0aW9uKG4saSl7InVzZSBzdHJpY3QiO3ZhciByPXRoaXM7dGhpcy5fcGFyZW50PWk/dFtpXS5GaW5lVXBsb2FkZXJCYXNpYzp0LkZpbmVVcGxvYWRlckJhc2ljO3RoaXMuX3BhcmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dC5leHRlbmQodGhpcy5fb3B0aW9ucyx7ZWxlbWVudDpudWxsLGJ1dHRvbjpudWxsLGxpc3RFbGVtZW50Om51bGwsZHJhZ0FuZERyb3A6e2V4dHJhRHJvcHpvbmVzOltdLHJlcG9ydERpcmVjdG9yeVBhdGhzOiExfSx0ZXh0Ontmb3JtYXRQcm9ncmVzczoie3BlcmNlbnR9JSBvZiB7dG90YWxfc2l6ZX0iLGZhaWxVcGxvYWQ6IlVwbG9hZCBmYWlsZWQiLHdhaXRpbmdGb3JSZXNwb25zZToiUHJvY2Vzc2luZy4uLiIscGF1c2VkOiJQYXVzZWQifSx0ZW1wbGF0ZToicXEtdGVtcGxhdGUiLGNsYXNzZXM6e3JldHJ5aW5nOiJxcS11cGxvYWQtcmV0cnlpbmciLHJldHJ5YWJsZToicXEtdXBsb2FkLXJldHJ5YWJsZSIsc3VjY2VzczoicXEtdXBsb2FkLXN1Y2Nlc3MiLGZhaWw6InFxLXVwbG9hZC1mYWlsIixlZGl0YWJsZToicXEtZWRpdGFibGUiLGhpZGU6InFxLWhpZGUiLGRyb3BBY3RpdmU6InFxLXVwbG9hZC1kcm9wLWFyZWEtYWN0aXZlIn0sZmFpbGVkVXBsb2FkVGV4dERpc3BsYXk6e21vZGU6ImRlZmF1bHQiLHJlc3BvbnNlUHJvcGVydHk6ImVycm9yIixlbmFibGVUb29sdGlwOiEwfSxtZXNzYWdlczp7dG9vTWFueUZpbGVzRXJyb3I6IllvdSBtYXkgb25seSBkcm9wIG9uZSBmaWxlIix1bnN1cHBvcnRlZEJyb3dzZXI6IlVucmVjb3ZlcmFibGUgZXJyb3IgLSB0aGlzIGJyb3dzZXIgZG9lcyBub3QgcGVybWl0IGZpbGUgdXBsb2FkaW5nIG9mIGFueSBraW5kLiJ9LHJldHJ5OntzaG93QXV0b1JldHJ5Tm90ZTohMCxhdXRvUmV0cnlOb3RlOiJSZXRyeWluZyB7cmV0cnlOdW19L3ttYXhBdXRvfS4uLiJ9LGRlbGV0ZUZpbGU6e2ZvcmNlQ29uZmlybTohMSxjb25maXJtTWVzc2FnZToiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB7ZmlsZW5hbWV9PyIsZGVsZXRpbmdTdGF0dXNUZXh0OiJEZWxldGluZy4uLiIsZGVsZXRpbmdGYWlsZWRUZXh0OiJEZWxldGUgZmFpbGVkIn0sZGlzcGxheTp7ZmlsZVNpemVPblN1Ym1pdDohMSxwcmVwZW5kRmlsZXM6ITF9LHBhc3RlOntwcm9tcHRGb3JOYW1lOiExLG5hbWVQcm9tcHRNZXNzYWdlOiJQbGVhc2UgbmFtZSB0aGlzIGltYWdlIn0sdGh1bWJuYWlsczp7Y3VzdG9tUmVzaXplcjpudWxsLG1heENvdW50OjAscGxhY2Vob2xkZXJzOnt3YWl0VW50aWxSZXNwb25zZTohMSxub3RBdmFpbGFibGVQYXRoOm51bGwsd2FpdGluZ1BhdGg6bnVsbH0sdGltZUJldHdlZW5UaHVtYnM6NzUwfSxzY2FsaW5nOntoaWRlU2NhbGVkOiExfSxzaG93TWVzc2FnZTpmdW5jdGlvbihuKXtpZihyLl90ZW1wbGF0aW5nLmhhc0RpYWxvZygiYWxlcnQiKSlyZXR1cm4gci5fdGVtcGxhdGluZy5zaG93RGlhbG9nKCJhbGVydCIsbik7c2V0VGltZW91dChmdW5jdGlvbigpe3dpbmRvdy5hbGVydChuKX0sMCl9LHNob3dDb25maXJtOmZ1bmN0aW9uKG4pe3JldHVybiByLl90ZW1wbGF0aW5nLmhhc0RpYWxvZygiY29uZmlybSIpP3IuX3RlbXBsYXRpbmcuc2hvd0RpYWxvZygiY29uZmlybSIsbik6d2luZG93LmNvbmZpcm0obil9LHNob3dQcm9tcHQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gci5fdGVtcGxhdGluZy5oYXNEaWFsb2coInByb21wdCIpP3IuX3RlbXBsYXRpbmcuc2hvd0RpYWxvZygicHJvbXB0IixuLHQpOndpbmRvdy5wcm9tcHQobix0KX19LCEwKTt0LmV4dGVuZCh0aGlzLl9vcHRpb25zLG4sITApO3RoaXMuX3RlbXBsYXRpbmc9bmV3IHQuVGVtcGxhdGluZyh7bG9nOnQuYmluZCh0aGlzLmxvZyx0aGlzKSx0ZW1wbGF0ZUlkT3JFbDp0aGlzLl9vcHRpb25zLnRlbXBsYXRlLGNvbnRhaW5lckVsOnRoaXMuX29wdGlvbnMuZWxlbWVudCxmaWxlQ29udGFpbmVyRWw6dGhpcy5fb3B0aW9ucy5saXN0RWxlbWVudCxidXR0b246dGhpcy5fb3B0aW9ucy5idXR0b24saW1hZ2VHZW5lcmF0b3I6dGhpcy5faW1hZ2VHZW5lcmF0b3IsY2xhc3Nlczp7aGlkZTp0aGlzLl9vcHRpb25zLmNsYXNzZXMuaGlkZSxlZGl0YWJsZTp0aGlzLl9vcHRpb25zLmNsYXNzZXMuZWRpdGFibGV9LGxpbWl0czp7bWF4VGh1bWJzOnRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5tYXhDb3VudCx0aW1lQmV0d2VlblRodW1iczp0aGlzLl9vcHRpb25zLnRodW1ibmFpbHMudGltZUJldHdlZW5UaHVtYnN9LHBsYWNlaG9sZGVyczp7d2FpdFVudGlsVXBkYXRlOnRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5wbGFjZWhvbGRlcnMud2FpdFVudGlsUmVzcG9uc2UsdGh1bWJuYWlsTm90QXZhaWxhYmxlOnRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5wbGFjZWhvbGRlcnMubm90QXZhaWxhYmxlUGF0aCx3YWl0aW5nRm9yVGh1bWJuYWlsOnRoaXMuX29wdGlvbnMudGh1bWJuYWlscy5wbGFjZWhvbGRlcnMud2FpdGluZ1BhdGh9LHRleHQ6dGhpcy5fb3B0aW9ucy50ZXh0fSk7dGhpcy5fb3B0aW9ucy53b3JrYXJvdW5kcy5pb3M4U2FmYXJpVXBsb2FkcyYmdC5pb3M4MDAoKSYmdC5pb3NTYWZhcmkoKT90aGlzLl90ZW1wbGF0aW5nLnJlbmRlckZhaWx1cmUodGhpcy5fb3B0aW9ucy5tZXNzYWdlcy51bnN1cHBvcnRlZEJyb3dzZXJJb3M4U2FmYXJpKTohdC5zdXBwb3J0ZWRGZWF0dXJlcy51cGxvYWRpbmd8fHRoaXMuX29wdGlvbnMuY29ycy5leHBlY3RlZCYmIXQuc3VwcG9ydGVkRmVhdHVyZXMudXBsb2FkQ29ycz90aGlzLl90ZW1wbGF0aW5nLnJlbmRlckZhaWx1cmUodGhpcy5fb3B0aW9ucy5tZXNzYWdlcy51bnN1cHBvcnRlZEJyb3dzZXIpOih0aGlzLl93cmFwQ2FsbGJhY2tzKCksdGhpcy5fdGVtcGxhdGluZy5yZW5kZXIoKSx0aGlzLl9jbGFzc2VzPXRoaXMuX29wdGlvbnMuY2xhc3NlcywhdGhpcy5fb3B0aW9ucy5idXR0b24mJnRoaXMuX3RlbXBsYXRpbmcuZ2V0QnV0dG9uKCkmJih0aGlzLl9kZWZhdWx0QnV0dG9uSWQ9dGhpcy5fY3JlYXRlVXBsb2FkQnV0dG9uKHtlbGVtZW50OnRoaXMuX3RlbXBsYXRpbmcuZ2V0QnV0dG9uKCksdGl0bGU6dGhpcy5fb3B0aW9ucy50ZXh0LmZpbGVJbnB1dFRpdGxlfSkuZ2V0QnV0dG9uSWQoKSksdGhpcy5fc2V0dXBDbGlja0FuZEVkaXRFdmVudEhhbmRsZXJzKCksdC5EcmFnQW5kRHJvcCYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5maWxlRHJvcCYmKHRoaXMuX2RuZD10aGlzLl9zZXR1cERyYWdBbmREcm9wKCkpLHRoaXMuX29wdGlvbnMucGFzdGUudGFyZ2V0RWxlbWVudCYmdGhpcy5fb3B0aW9ucy5wYXN0ZS5wcm9tcHRGb3JOYW1lJiYodC5QYXN0ZVN1cHBvcnQ/dGhpcy5fc2V0dXBQYXN0ZVByb21wdCgpOnRoaXMubG9nKCJQYXN0ZSBzdXBwb3J0IG1vZHVsZSBub3QgZm91bmQuIiwiZXJyb3IiKSksdGhpcy5fdG90YWxGaWxlc0luQmF0Y2g9MCx0aGlzLl9maWxlc0luQmF0Y2hBZGRlZFRvVWk9MCl9O3QuZXh0ZW5kKHQuRmluZVVwbG9hZGVyLnByb3RvdHlwZSx0LmJhc2VQdWJsaWNBcGkpO3QuZXh0ZW5kKHQuRmluZVVwbG9hZGVyLnByb3RvdHlwZSx0LmJhc2VQcml2YXRlQXBpKTt0LmV4dGVuZCh0LkZpbmVVcGxvYWRlci5wcm90b3R5cGUsdC51aVB1YmxpY0FwaSk7dC5leHRlbmQodC5GaW5lVXBsb2FkZXIucHJvdG90eXBlLHQudWlQcml2YXRlQXBpKTt0LlRlbXBsYXRpbmc9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO3ZhciBoLHl0LHB0LGV0LHMsdix5LG90LHA9e2NvbnRlbnQ6ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG1hcDp7fX0sc3Q9ITEsdz0wLGc9ITEsbnQ9W10sYT0tMSxyPXtsb2c6bnVsbCxsaW1pdHM6e21heFRodW1iczowLHRpbWVCZXR3ZWVuVGh1bWJzOjc1MH0sdGVtcGxhdGVJZE9yRWw6InFxLXRlbXBsYXRlIixjb250YWluZXJFbDpudWxsLGZpbGVDb250YWluZXJFbDpudWxsLGJ1dHRvbjpudWxsLGltYWdlR2VuZXJhdG9yOm51bGwsY2xhc3Nlczp7aGlkZToicXEtaGlkZSIsZWRpdGFibGU6InFxLWVkaXRhYmxlIn0scGxhY2Vob2xkZXJzOnt3YWl0VW50aWxVcGRhdGU6ITEsdGh1bWJuYWlsTm90QXZhaWxhYmxlOm51bGwsd2FpdGluZ0ZvclRodW1ibmFpbDpudWxsfSx0ZXh0OntwYXVzZWQ6IlBhdXNlZCJ9fSxpPXtidXR0b246InFxLXVwbG9hZC1idXR0b24tc2VsZWN0b3IiLGFsZXJ0RGlhbG9nOiJxcS1hbGVydC1kaWFsb2ctc2VsZWN0b3IiLGRpYWxvZ0NhbmNlbEJ1dHRvbjoicXEtY2FuY2VsLWJ1dHRvbi1zZWxlY3RvciIsY29uZmlybURpYWxvZzoicXEtY29uZmlybS1kaWFsb2ctc2VsZWN0b3IiLGRpYWxvZ01lc3NhZ2U6InFxLWRpYWxvZy1tZXNzYWdlLXNlbGVjdG9yIixkaWFsb2dPa0J1dHRvbjoicXEtb2stYnV0dG9uLXNlbGVjdG9yIixwcm9tcHREaWFsb2c6InFxLXByb21wdC1kaWFsb2ctc2VsZWN0b3IiLHVwbG9hZGVyOiJxcS11cGxvYWRlci1zZWxlY3RvciIsZHJvcDoicXEtdXBsb2FkLWRyb3AtYXJlYS1zZWxlY3RvciIsbGlzdDoicXEtdXBsb2FkLWxpc3Qtc2VsZWN0b3IiLHByb2dyZXNzQmFyQ29udGFpbmVyOiJxcS1wcm9ncmVzcy1iYXItY29udGFpbmVyLXNlbGVjdG9yIixwcm9ncmVzc0JhcjoicXEtcHJvZ3Jlc3MtYmFyLXNlbGVjdG9yIix0b3RhbFByb2dyZXNzQmFyQ29udGFpbmVyOiJxcS10b3RhbC1wcm9ncmVzcy1iYXItY29udGFpbmVyLXNlbGVjdG9yIix0b3RhbFByb2dyZXNzQmFyOiJxcS10b3RhbC1wcm9ncmVzcy1iYXItc2VsZWN0b3IiLGZpbGU6InFxLXVwbG9hZC1maWxlLXNlbGVjdG9yIixzcGlubmVyOiJxcS11cGxvYWQtc3Bpbm5lci1zZWxlY3RvciIsc2l6ZToicXEtdXBsb2FkLXNpemUtc2VsZWN0b3IiLGNhbmNlbDoicXEtdXBsb2FkLWNhbmNlbC1zZWxlY3RvciIscGF1c2U6InFxLXVwbG9hZC1wYXVzZS1zZWxlY3RvciIsY29udGludWVCdXR0b246InFxLXVwbG9hZC1jb250aW51ZS1zZWxlY3RvciIsZGVsZXRlQnV0dG9uOiJxcS11cGxvYWQtZGVsZXRlLXNlbGVjdG9yIixyZXRyeToicXEtdXBsb2FkLXJldHJ5LXNlbGVjdG9yIixzdGF0dXNUZXh0OiJxcS11cGxvYWQtc3RhdHVzLXRleHQtc2VsZWN0b3IiLGVkaXRGaWxlbmFtZUlucHV0OiJxcS1lZGl0LWZpbGVuYW1lLXNlbGVjdG9yIixlZGl0TmFtZUljb246InFxLWVkaXQtZmlsZW5hbWUtaWNvbi1zZWxlY3RvciIsZHJvcFRleHQ6InFxLXVwbG9hZC1kcm9wLWFyZWEtdGV4dC1zZWxlY3RvciIsZHJvcFByb2Nlc3Npbmc6InFxLWRyb3AtcHJvY2Vzc2luZy1zZWxlY3RvciIsZHJvcFByb2Nlc3NpbmdTcGlubmVyOiJxcS1kcm9wLXByb2Nlc3Npbmctc3Bpbm5lci1zZWxlY3RvciIsdGh1bWJuYWlsOiJxcS10aHVtYm5haWwtc2VsZWN0b3IifSxsPXt9LHR0PW5ldyB0LlByb21pc2UsZD1uZXcgdC5Qcm9taXNlLHRpPWZ1bmN0aW9uKCl7dmFyIG49ci5wbGFjZWhvbGRlcnMudGh1bWJuYWlsTm90QXZhaWxhYmxlLHQ9ci5wbGFjZWhvbGRlcnMud2FpdGluZ0ZvclRodW1ibmFpbCxpPXttYXhTaXplOmEsc2NhbGU6b3R9O3kmJihuP3IuaW1hZ2VHZW5lcmF0b3IuZ2VuZXJhdGUobixuZXcgSW1hZ2UsaSkudGhlbihmdW5jdGlvbihuKXt0dC5zdWNjZXNzKG4pfSxmdW5jdGlvbigpe3R0LmZhaWx1cmUoKTtoKCJQcm9ibGVtIGxvYWRpbmcgJ25vdCBhdmFpbGFibGUnIHBsYWNlaG9sZGVyIGltYWdlIGF0ICIrbiwiZXJyb3IiKX0pOnR0LmZhaWx1cmUoKSx0P3IuaW1hZ2VHZW5lcmF0b3IuZ2VuZXJhdGUodCxuZXcgSW1hZ2UsaSkudGhlbihmdW5jdGlvbihuKXtkLnN1Y2Nlc3Mobil9LGZ1bmN0aW9uKCl7ZC5mYWlsdXJlKCk7aCgiUHJvYmxlbSBsb2FkaW5nICd3YWl0aW5nIGZvciB0aHVtYm5haWwnIHBsYWNlaG9sZGVyIGltYWdlIGF0ICIrdCwiZXJyb3IiKX0pOmQuZmFpbHVyZSgpKX0saHQ9ZnVuY3Rpb24obil7dmFyIGk9bmV3IHQuUHJvbWlzZTtyZXR1cm4gZC50aGVuKGZ1bmN0aW9uKHQpe2d0KHQsbik7bi5zcmM/aS5zdWNjZXNzKCk6KG4uc3JjPXQuc3JjLG4ub25sb2FkPWZ1bmN0aW9uKCl7bi5vbmxvYWQ9bnVsbDtvKG4pO2kuc3VjY2VzcygpfSl9LGZ1bmN0aW9uKCl7ZihuKTtpLnN1Y2Nlc3MoKX0pLGl9LGlpPWZ1bmN0aW9uKG4sdCxpKXt2YXIgdT1iKG4pO3JldHVybiBoKCJHZW5lcmF0aW5nIG5ldyB0aHVtYm5haWwgZm9yICIrbiksdC5xcVRodW1ibmFpbElkPW4sci5pbWFnZUdlbmVyYXRvci5nZW5lcmF0ZSh0LHUsaSkudGhlbihmdW5jdGlvbigpe3crKztvKHUpO2xbbl0uc3VjY2VzcygpfSxmdW5jdGlvbigpe2xbbl0uZmFpbHVyZSgpO3IucGxhY2Vob2xkZXJzLndhaXRVbnRpbFVwZGF0ZXx8ayhuLHUpfSl9LGM9ZnVuY3Rpb24oKXtpZihudC5sZW5ndGgpe2c9ITA7dmFyIG49bnQuc2hpZnQoKTtuLnVwZGF0ZT9laShuKTpmaShuKX1lbHNlIGc9ITF9LHd0PWZ1bmN0aW9uKG4pe3JldHVybiB1KGUobiksaS5jYW5jZWwpfSxjdD1mdW5jdGlvbihuKXtyZXR1cm4gdShlKG4pLGkuY29udGludWVCdXR0b24pfSxidD1mdW5jdGlvbihuKXtyZXR1cm4gdShzLGlbbisiRGlhbG9nIl0pfSxsdD1mdW5jdGlvbihuKXtyZXR1cm4gdShlKG4pLGkuZGVsZXRlQnV0dG9uKX0sYXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdShzLGkuZHJvcFByb2Nlc3NpbmcpfSxrdD1mdW5jdGlvbihuKXtyZXR1cm4gdShlKG4pLGkuZWRpdE5hbWVJY29uKX0sZT1mdW5jdGlvbihuKXtyZXR1cm4gcC5tYXBbbl18fHQodikuZ2V0Rmlyc3RCeUNsYXNzKCJxcS1maWxlLWlkLSIrbil9LGl0PWZ1bmN0aW9uKG4pe3JldHVybiB1KGUobiksaS5maWxlKX0scnQ9ZnVuY3Rpb24obil7cmV0dXJuIHUoZShuKSxpLnBhdXNlKX0sdXQ9ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4/dShzLGkudG90YWxQcm9ncmVzc0JhckNvbnRhaW5lcil8fHUocyxpLnRvdGFsUHJvZ3Jlc3NCYXIpOnUoZShuKSxpLnByb2dyZXNzQmFyQ29udGFpbmVyKXx8dShlKG4pLGkucHJvZ3Jlc3NCYXIpfSx2dD1mdW5jdGlvbihuKXtyZXR1cm4gdShlKG4pLGkucmV0cnkpfSxkdD1mdW5jdGlvbihuKXtyZXR1cm4gdShlKG4pLGkuc2l6ZSl9LGZ0PWZ1bmN0aW9uKG4pe3JldHVybiB1KGUobiksaS5zcGlubmVyKX0sdT1mdW5jdGlvbihuLGkpe3JldHVybiBuJiZ0KG4pLmdldEZpcnN0QnlDbGFzcyhpKX0sYj1mdW5jdGlvbihuKXtyZXR1cm4geSYmdShlKG4pLGkudGh1bWJuYWlsKX0sZj1mdW5jdGlvbihuKXtuJiZ0KG4pLmFkZENsYXNzKHIuY2xhc3Nlcy5oaWRlKX0sZ3Q9ZnVuY3Rpb24obixpKXt2YXIgcj1uLnN0eWxlLm1heFdpZHRoLHU9bi5zdHlsZS5tYXhIZWlnaHQ7dSYmciYmIWkuc3R5bGUubWF4V2lkdGgmJiFpLnN0eWxlLm1heEhlaWdodCYmdChpKS5jc3Moe21heFdpZHRoOnIsbWF4SGVpZ2h0OnV9KX0saz1mdW5jdGlvbihuLGkpe3ZhciB1PWxbbl18fChuZXcgdC5Qcm9taXNlKS5mYWlsdXJlKCkscj1uZXcgdC5Qcm9taXNlO3JldHVybiB0dC50aGVuKGZ1bmN0aW9uKG4pe3UudGhlbihmdW5jdGlvbigpe3Iuc3VjY2VzcygpfSxmdW5jdGlvbigpe2d0KG4saSk7aS5vbmxvYWQ9ZnVuY3Rpb24oKXtpLm9ubG9hZD1udWxsO3Iuc3VjY2VzcygpfTtpLnNyYz1uLnNyYztvKGkpfSl9KSxyfSxyaT1mdW5jdGlvbigpe3ZhciBzLGUsbyxuLHcsYyx1LGYsbCx2LHA7aWYoaCgiUGFyc2luZyB0ZW1wbGF0ZSIpLG51bGw9PXIudGVtcGxhdGVJZE9yRWwpdGhyb3cgbmV3IEVycm9yKCJZb3UgTVVTVCBzcGVjaWZ5IGVpdGhlciBhIHRlbXBsYXRlIGVsZW1lbnQgb3IgSUQhIik7aWYodC5pc1N0cmluZyhyLnRlbXBsYXRlSWRPckVsKSl7aWYocz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyLnRlbXBsYXRlSWRPckVsKSxudWxsPT09cyl0aHJvdyBuZXcgRXJyb3IodC5mb3JtYXQoIkNhbm5vdCBmaW5kIHRlbXBsYXRlIHNjcmlwdCBhdCBJRCAne30nISIsci50ZW1wbGF0ZUlkT3JFbCkpO2U9cy5pbm5lckhUTUx9ZWxzZXtpZih2b2lkIDA9PT1yLnRlbXBsYXRlSWRPckVsLmlubmVySFRNTCl0aHJvdyBuZXcgRXJyb3IoIllvdSBoYXZlIHNwZWNpZmllZCBhbiBpbnZhbGlkIHZhbHVlIGZvciB0aGUgdGVtcGxhdGUgb3B0aW9uISAgSXQgbXVzdCBiZSBhbiBJRCBvciBhbiBFbGVtZW50LiIpO2U9ci50ZW1wbGF0ZUlkT3JFbC5pbm5lckhUTUx9aWYoZT10LnRyaW1TdHIoZSksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxuLmFwcGVuZENoaWxkKHQudG9FbGVtZW50KGUpKSxwPXQobikuZ2V0Rmlyc3RCeUNsYXNzKGkudXBsb2FkZXIpLHIuYnV0dG9uJiYoYz10KG4pLmdldEZpcnN0QnlDbGFzcyhpLmJ1dHRvbiksYyYmdChjKS5yZW1vdmUoKSksdC5EcmFnQW5kRHJvcCYmdC5zdXBwb3J0ZWRGZWF0dXJlcy5maWxlRHJvcHx8KGw9dChuKS5nZXRGaXJzdEJ5Q2xhc3MoaS5kcm9wUHJvY2Vzc2luZyksbCYmdChsKS5yZW1vdmUoKSksdT10KG4pLmdldEZpcnN0QnlDbGFzcyhpLmRyb3ApLHUmJiF0LkRyYWdBbmREcm9wJiYoaCgiRG5EIG1vZHVsZSB1bmF2YWlsYWJsZS4iLCJpbmZvIiksdCh1KS5yZW1vdmUoKSksdC5zdXBwb3J0ZWRGZWF0dXJlcy5maWxlRHJvcD90KHApLmhhc0F0dHJpYnV0ZSgicXEtZHJvcC1hcmVhLXRleHQiKSYmdSYmKHY9dCh1KS5nZXRGaXJzdEJ5Q2xhc3MoaS5kcm9wVGV4dCksdiYmdCh2KS5yZW1vdmUoKSk6KHAucmVtb3ZlQXR0cmlidXRlKCJxcS1kcm9wLWFyZWEtdGV4dCIpLHUmJnQodSkuaGFzQXR0cmlidXRlKCJxcS1oaWRlLWRyb3B6b25lIikmJnQodSkuY3NzKHtkaXNwbGF5OiJub25lIn0pKSxmPXQobikuZ2V0Rmlyc3RCeUNsYXNzKGkudGh1bWJuYWlsKSx5P2YmJihhPXBhcnNlSW50KGYuZ2V0QXR0cmlidXRlKCJxcS1tYXgtc2l6ZSIpKSxhPWE+MD9hOm51bGwsb3Q9dChmKS5oYXNBdHRyaWJ1dGUoInFxLXNlcnZlci1zY2FsZSIpKTpmJiZ0KGYpLnJlbW92ZSgpLHk9eSYmZix5dD10KG4pLmdldEJ5Q2xhc3MoaS5lZGl0RmlsZW5hbWVJbnB1dCkubGVuZ3RoPjAscHQ9dChuKS5nZXRCeUNsYXNzKGkucmV0cnkpLmxlbmd0aD4wLG89dChuKS5nZXRGaXJzdEJ5Q2xhc3MoaS5saXN0KSxudWxsPT1vKXRocm93IG5ldyBFcnJvcigiQ291bGQgbm90IGZpbmQgdGhlIGZpbGUgbGlzdCBjb250YWluZXIgaW4gdGhlIHRlbXBsYXRlISIpO3JldHVybiB3PW8uY2hpbGRyZW5bMF0uY2xvbmVOb2RlKCEwKSxvLmlubmVySFRNTD0iIixuLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJESUFMT0ciKS5sZW5ndGgmJmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpYWxvZyIpLGgoIlRlbXBsYXRlIHBhcnNpbmcgY29tcGxldGUiKSx7dGVtcGxhdGU6bixmaWxlVGVtcGxhdGU6d319LHVpPWZ1bmN0aW9uKG4saSxyKXt2YXIgdT1yLGY9dS5maXJzdENoaWxkO2k+MCYmKGY9dCh1KS5jaGlsZHJlbigpW2ldLm5leHRTaWJsaW5nKTt1Lmluc2VydEJlZm9yZShuLGYpfSxmaT1mdW5jdGlvbihuKXt2YXIgaT1uLmlkLGY9bi5vcHRGaWxlT3JCbG9iLGU9ZiYmZi5xcVRodW1ibmFpbElkLHU9YihpKSxvPXtjdXN0b21SZXNpemVGdW5jdGlvbjpuLmN1c3RvbVJlc2l6ZUZ1bmN0aW9uLG1heFNpemU6YSxvcmllbnQ6ITAsc2NhbGU6ITB9O3Quc3VwcG9ydGVkRmVhdHVyZXMuaW1hZ2VQcmV2aWV3cz91P3IubGltaXRzLm1heFRodW1icyYmci5saW1pdHMubWF4VGh1bWJzPD13PyhrKGksdSksYygpKTpodCh1KS5kb25lKGZ1bmN0aW9uKCl7bFtpXT1uZXcgdC5Qcm9taXNlO2xbaV0uZG9uZShmdW5jdGlvbigpe3NldFRpbWVvdXQoYyxyLmxpbWl0cy50aW1lQmV0d2VlblRodW1icyl9KTtudWxsIT1lP29pKGksZSk6aWkoaSxmLG8pfSk6YygpOnUmJihodCh1KSxjKCkpfSxlaT1mdW5jdGlvbihuKXt2YXIgaT1uLmlkLHU9bi50aHVtYm5haWxVcmwsZj1uLnNob3dXYWl0aW5nSW1nLHQ9YihpKSxlPXtjdXN0b21SZXNpemVGdW5jdGlvbjpuLmN1c3RvbVJlc2l6ZUZ1bmN0aW9uLHNjYWxlOm90LG1heFNpemU6YX07aWYodClpZih1KXtpZighKHIubGltaXRzLm1heFRodW1icyYmci5saW1pdHMubWF4VGh1bWJzPD13KSlyZXR1cm4gZiYmaHQodCksci5pbWFnZUdlbmVyYXRvci5nZW5lcmF0ZSh1LHQsZSkudGhlbihmdW5jdGlvbigpe28odCk7dysrO3NldFRpbWVvdXQoYyxyLmxpbWl0cy50aW1lQmV0d2VlblRodW1icyl9LGZ1bmN0aW9uKCl7ayhpLHQpO3NldFRpbWVvdXQoYyxyLmxpbWl0cy50aW1lQmV0d2VlblRodW1icyl9KTtrKGksdCk7YygpfWVsc2UgayhpLHQpLGMoKX0sbmk9ZnVuY3Rpb24obixyKXt2YXIgdT11dChuKSxmPW51bGw9PW4/aS50b3RhbFByb2dyZXNzQmFyOmkucHJvZ3Jlc3NCYXI7dSYmIXQodSkuaGFzQ2xhc3MoZikmJih1PXQodSkuZ2V0Rmlyc3RCeUNsYXNzKGYpKTt1JiYodCh1KS5jc3Moe3dpZHRoOnIrIiUifSksdS5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWVub3ciLHIpKX0sbz1mdW5jdGlvbihuKXtuJiZ0KG4pLnJlbW92ZUNsYXNzKHIuY2xhc3Nlcy5oaWRlKX0sb2k9ZnVuY3Rpb24obixpKXt2YXIgdT1iKG4pLGY9YihpKTtoKHQuZm9ybWF0KCJJRCB7fSBpcyB0aGUgc2FtZSBmaWxlIGFzIElEIHt9LiAgV2lsbCB1c2UgZ2VuZXJhdGVkIHRodW1ibmFpbCBmcm9tIElEIHt9IGluc3RlYWQuIixuLGksaSkpO2xbaV0udGhlbihmdW5jdGlvbigpe3crKztsW25dLnN1Y2Nlc3MoKTtoKHQuZm9ybWF0KCJOb3cgdXNpbmcgcHJldmlvdXNseSBnZW5lcmF0ZWQgdGh1bWJuYWlsIGNyZWF0ZWQgZm9yIElEIHt9IG9uIElEIHt9LiIsaSxuKSk7dS5zcmM9Zi5zcmM7byh1KX0sZnVuY3Rpb24oKXtsW25dLmZhaWx1cmUoKTtyLnBsYWNlaG9sZGVycy53YWl0VW50aWxVcGRhdGV8fGsobix1KX0pfTt0LmV4dGVuZChyLG4pO2g9ci5sb2c7dC5zdXBwb3J0ZWRGZWF0dXJlcy5pbWFnZVByZXZpZXdzfHwoci5saW1pdHMudGltZUJldHdlZW5UaHVtYnM9MCxyLmxpbWl0cy5tYXhUaHVtYnM9MCk7cz1yLmNvbnRhaW5lckVsO3k9dm9pZCAwIT09ci5pbWFnZUdlbmVyYXRvcjtldD1yaSgpO3RpKCk7dC5leHRlbmQodGhpcyx7cmVuZGVyOmZ1bmN0aW9uKCl7aCgiUmVuZGVyaW5nIHRlbXBsYXRlIGluIERPTS4iKTt3PTA7cy5hcHBlbmRDaGlsZChldC50ZW1wbGF0ZS5jbG9uZU5vZGUoITApKTtmKGF0KCkpO3RoaXMuaGlkZVRvdGFsUHJvZ3Jlc3MoKTt2PXIuZmlsZUNvbnRhaW5lckVsfHx1KHMsaS5saXN0KTtoKCJUZW1wbGF0ZSByZW5kZXJpbmcgY29tcGxldGUiKX0scmVuZGVyRmFpbHVyZTpmdW5jdGlvbihuKXt2YXIgaT10LnRvRWxlbWVudChuKTtzLmlubmVySFRNTD0iIjtzLmFwcGVuZENoaWxkKGkpfSxyZXNldDpmdW5jdGlvbigpe3MuaW5uZXJIVE1MPSIiO3RoaXMucmVuZGVyKCl9LGNsZWFyRmlsZXM6ZnVuY3Rpb24oKXt2LmlubmVySFRNTD0iIn0sZGlzYWJsZUNhbmNlbDpmdW5jdGlvbigpe3N0PSEwfSxhZGRGaWxlOmZ1bmN0aW9uKG4scixlLGgsYyl7dmFyIGEsbD1ldC5maWxlVGVtcGxhdGUuY2xvbmVOb2RlKCEwKSx5PXUobCxpLmZpbGUpLGs9dShzLGkudXBsb2FkZXIpLHc9Yz9wLmNvbnRlbnQ6djtjJiYocC5tYXBbbl09bCk7dChsKS5hZGRDbGFzcygicXEtZmlsZS1pZC0iK24pO2sucmVtb3ZlQXR0cmlidXRlKCJxcS1kcm9wLWFyZWEtdGV4dCIpO3kmJih0KHkpLnNldFRleHQocikseS5zZXRBdHRyaWJ1dGUoInRpdGxlIixyKSk7bC5zZXRBdHRyaWJ1dGUoInFxLWZpbGUtaWQiLG4pO2U/dWkobCxlLmluZGV4LHcpOncuYXBwZW5kQ2hpbGQobCk7aD8obC5zdHlsZS5kaXNwbGF5PSJub25lIix0KGwpLmFkZENsYXNzKCJxcS1oaWRkZW4tZm9yZXZlciIpKTooZih1dChuKSksZihkdChuKSksZihsdChuKSksZih2dChuKSksZihydChuKSksZihjdChuKSksc3QmJnRoaXMuaGlkZUNhbmNlbChuKSxhPWIobiksYSYmIWEuc3JjJiZkLnRoZW4oZnVuY3Rpb24obil7YS5zcmM9bi5zcmM7bi5zdHlsZS5tYXhIZWlnaHQmJm4uc3R5bGUubWF4V2lkdGgmJnQoYSkuY3NzKHttYXhIZWlnaHQ6bi5zdHlsZS5tYXhIZWlnaHQsbWF4V2lkdGg6bi5zdHlsZS5tYXhXaWR0aH0pO28oYSl9KSl9LGFkZEZpbGVUb0NhY2hlOmZ1bmN0aW9uKG4sdCxpLHIpe3RoaXMuYWRkRmlsZShuLHQsaSxyLCEwKX0sYWRkQ2FjaGVUb0RvbTpmdW5jdGlvbigpe3YuYXBwZW5kQ2hpbGQocC5jb250ZW50KTtwLmNvbnRlbnQ9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3AubWFwPXt9fSxyZW1vdmVGaWxlOmZ1bmN0aW9uKG4pe3QoZShuKSkucmVtb3ZlKCl9LGdldEZpbGVJZDpmdW5jdGlvbihuKXt2YXIgdD1uO2lmKHQpe2Zvcig7bnVsbD09dC5nZXRBdHRyaWJ1dGUoInFxLWZpbGUtaWQiKTspdD10LnBhcmVudE5vZGU7cmV0dXJuIHBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKCJxcS1maWxlLWlkIikpfX0sZ2V0RmlsZUxpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdn0sbWFya0ZpbGVuYW1lRWRpdGFibGU6ZnVuY3Rpb24obil7dmFyIGk9aXQobik7aSYmdChpKS5hZGRDbGFzcyhyLmNsYXNzZXMuZWRpdGFibGUpfSx1cGRhdGVGaWxlbmFtZTpmdW5jdGlvbihuLGkpe3ZhciByPWl0KG4pO3ImJih0KHIpLnNldFRleHQoaSksci5zZXRBdHRyaWJ1dGUoInRpdGxlIixpKSl9LGhpZGVGaWxlbmFtZTpmdW5jdGlvbihuKXtmKGl0KG4pKX0sc2hvd0ZpbGVuYW1lOmZ1bmN0aW9uKG4pe28oaXQobikpfSxpc0ZpbGVOYW1lOmZ1bmN0aW9uKG4pe3JldHVybiB0KG4pLmhhc0NsYXNzKGkuZmlsZSl9LGdldEJ1dHRvbjpmdW5jdGlvbigpe3JldHVybiByLmJ1dHRvbnx8dShzLGkuYnV0dG9uKX0saGlkZURyb3BQcm9jZXNzaW5nOmZ1bmN0aW9uKCl7ZihhdCgpKX0sc2hvd0Ryb3BQcm9jZXNzaW5nOmZ1bmN0aW9uKCl7byhhdCgpKX0sZ2V0RHJvcFpvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdShzLGkuZHJvcCl9LGlzRWRpdEZpbGVuYW1lUG9zc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4geXR9LGhpZGVSZXRyeTpmdW5jdGlvbihuKXtmKHZ0KG4pKX0saXNSZXRyeVBvc3NpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHB0fSxzaG93UmV0cnk6ZnVuY3Rpb24obil7byh2dChuKSl9LGdldEZpbGVDb250YWluZXI6ZnVuY3Rpb24obil7cmV0dXJuIGUobil9LHNob3dFZGl0SWNvbjpmdW5jdGlvbihuKXt2YXIgaT1rdChuKTtpJiZ0KGkpLmFkZENsYXNzKHIuY2xhc3Nlcy5lZGl0YWJsZSl9LGlzSGlkZGVuRm9yZXZlcjpmdW5jdGlvbihuKXtyZXR1cm4gdChlKG4pKS5oYXNDbGFzcygicXEtaGlkZGVuLWZvcmV2ZXIiKX0saGlkZUVkaXRJY29uOmZ1bmN0aW9uKG4pe3ZhciBpPWt0KG4pO2kmJnQoaSkucmVtb3ZlQ2xhc3Moci5jbGFzc2VzLmVkaXRhYmxlKX0saXNFZGl0SWNvbjpmdW5jdGlvbihuKXtyZXR1cm4gdChuKS5oYXNDbGFzcyhpLmVkaXROYW1lSWNvbiwhMCl9LGdldEVkaXRJbnB1dDpmdW5jdGlvbihuKXtyZXR1cm4gdShlKG4pLGkuZWRpdEZpbGVuYW1lSW5wdXQpfSxpc0VkaXRJbnB1dDpmdW5jdGlvbihuKXtyZXR1cm4gdChuKS5oYXNDbGFzcyhpLmVkaXRGaWxlbmFtZUlucHV0LCEwKX0sdXBkYXRlUHJvZ3Jlc3M6ZnVuY3Rpb24obix0LGkpe3ZhciByLHU9dXQobik7dSYmaT4wJiYocj1NYXRoLnJvdW5kKHQvaSoxMDApLDEwMD09PXI/Zih1KTpvKHUpLG5pKG4scikpfSx1cGRhdGVUb3RhbFByb2dyZXNzOmZ1bmN0aW9uKG4sdCl7dGhpcy51cGRhdGVQcm9ncmVzcyhudWxsLG4sdCl9LGhpZGVQcm9ncmVzczpmdW5jdGlvbihuKXt2YXIgdD11dChuKTt0JiZmKHQpfSxoaWRlVG90YWxQcm9ncmVzczpmdW5jdGlvbigpe3RoaXMuaGlkZVByb2dyZXNzKCl9LHJlc2V0UHJvZ3Jlc3M6ZnVuY3Rpb24obil7bmkobiwwKTt0aGlzLmhpZGVUb3RhbFByb2dyZXNzKG4pfSxyZXNldFRvdGFsUHJvZ3Jlc3M6ZnVuY3Rpb24oKXt0aGlzLnJlc2V0UHJvZ3Jlc3MoKX0sc2hvd0NhbmNlbDpmdW5jdGlvbihuKXtpZighc3Qpe3ZhciBpPXd0KG4pO2kmJnQoaSkucmVtb3ZlQ2xhc3Moci5jbGFzc2VzLmhpZGUpfX0saGlkZUNhbmNlbDpmdW5jdGlvbihuKXtmKHd0KG4pKX0saXNDYW5jZWw6ZnVuY3Rpb24obil7cmV0dXJuIHQobikuaGFzQ2xhc3MoaS5jYW5jZWwsITApfSxhbGxvd1BhdXNlOmZ1bmN0aW9uKG4pe28ocnQobikpO2YoY3QobikpfSx1cGxvYWRQYXVzZWQ6ZnVuY3Rpb24obil7dGhpcy5zZXRTdGF0dXNUZXh0KG4sci50ZXh0LnBhdXNlZCk7dGhpcy5hbGxvd0NvbnRpbnVlQnV0dG9uKG4pO2YoZnQobikpfSxoaWRlUGF1c2U6ZnVuY3Rpb24obil7ZihydChuKSl9LGlzUGF1c2U6ZnVuY3Rpb24obil7cmV0dXJuIHQobikuaGFzQ2xhc3MoaS5wYXVzZSwhMCl9LGlzQ29udGludWVCdXR0b246ZnVuY3Rpb24obil7cmV0dXJuIHQobikuaGFzQ2xhc3MoaS5jb250aW51ZUJ1dHRvbiwhMCl9LGFsbG93Q29udGludWVCdXR0b246ZnVuY3Rpb24obil7byhjdChuKSk7ZihydChuKSl9LHVwbG9hZENvbnRpbnVlZDpmdW5jdGlvbihuKXt0aGlzLnNldFN0YXR1c1RleHQobiwiIik7dGhpcy5hbGxvd1BhdXNlKG4pO28oZnQobikpfSxzaG93RGVsZXRlQnV0dG9uOmZ1bmN0aW9uKG4pe28obHQobikpfSxoaWRlRGVsZXRlQnV0dG9uOmZ1bmN0aW9uKG4pe2YobHQobikpfSxpc0RlbGV0ZUJ1dHRvbjpmdW5jdGlvbihuKXtyZXR1cm4gdChuKS5oYXNDbGFzcyhpLmRlbGV0ZUJ1dHRvbiwhMCl9LGlzUmV0cnk6ZnVuY3Rpb24obil7cmV0dXJuIHQobikuaGFzQ2xhc3MoaS5yZXRyeSwhMCl9LHVwZGF0ZVNpemU6ZnVuY3Rpb24obixpKXt2YXIgcj1kdChuKTtyJiYobyhyKSx0KHIpLnNldFRleHQoaSkpfSxzZXRTdGF0dXNUZXh0OmZ1bmN0aW9uKG4scil7dmFyIGY9dShlKG4pLGkuc3RhdHVzVGV4dCk7ZiYmKG51bGw9PXI/dChmKS5jbGVhclRleHQoKTp0KGYpLnNldFRleHQocikpfSxoaWRlU3Bpbm5lcjpmdW5jdGlvbihuKXt0KGUobikpLnJlbW92ZUNsYXNzKCJxcS1pbi1wcm9ncmVzcyIpO2YoZnQobikpfSxzaG93U3Bpbm5lcjpmdW5jdGlvbihuKXt0KGUobikpLmFkZENsYXNzKCJxcS1pbi1wcm9ncmVzcyIpO28oZnQobikpfSxnZW5lcmF0ZVByZXZpZXc6ZnVuY3Rpb24obix0LGkpe3RoaXMuaXNIaWRkZW5Gb3JldmVyKG4pfHwobnQucHVzaCh7aWQ6bixjdXN0b21SZXNpemVGdW5jdGlvbjppLG9wdEZpbGVPckJsb2I6dH0pLCFnJiZjKCkpfSx1cGRhdGVUaHVtYm5haWw6ZnVuY3Rpb24obix0LGkscil7dGhpcy5pc0hpZGRlbkZvcmV2ZXIobil8fChudC5wdXNoKHtjdXN0b21SZXNpemVGdW5jdGlvbjpyLHVwZGF0ZTohMCxpZDpuLHRodW1ibmFpbFVybDp0LHNob3dXYWl0aW5nSW1nOml9KSwhZyYmYygpKX0saGFzRGlhbG9nOmZ1bmN0aW9uKG4pe3JldHVybiB0LnN1cHBvcnRlZEZlYXR1cmVzLmRpYWxvZ0VsZW1lbnQmJiEhYnQobil9LHNob3dEaWFsb2c6ZnVuY3Rpb24obixyLGYpe3ZhciBlPWJ0KG4pLHk9dShlLGkuZGlhbG9nTWVzc2FnZSkscz1lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJJTlBVVCIpWzBdLGg9dShlLGkuZGlhbG9nQ2FuY2VsQnV0dG9uKSxvPXUoZSxpLmRpYWxvZ09rQnV0dG9uKSxjPW5ldyB0LlByb21pc2Usdj1mdW5jdGlvbigpe2gucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLGwpO28mJm8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLGEpO2MuZmFpbHVyZSgpfSxsPWZ1bmN0aW9uKCl7aC5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsbCk7ZS5jbG9zZSgpfSxhPWZ1bmN0aW9uKCl7ZS5yZW1vdmVFdmVudExpc3RlbmVyKCJjbG9zZSIsdik7by5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsYSk7ZS5jbG9zZSgpO2Muc3VjY2VzcyhzJiZzLnZhbHVlKX07cmV0dXJuIGUuYWRkRXZlbnRMaXN0ZW5lcigiY2xvc2UiLHYpLGguYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGwpLG8mJm8uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGEpLHMmJihzLnZhbHVlPWYpLHkudGV4dENvbnRlbnQ9cixlLnNob3dNb2RhbCgpLGN9fSl9O3QuVWlFdmVudEhhbmRsZXI9ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZihuKXt1LmF0dGFjaChuLHIuZXZlbnRUeXBlLGZ1bmN0aW9uKG4pe249bnx8d2luZG93LmV2ZW50O3ZhciB0PW4udGFyZ2V0fHxuLnNyY0VsZW1lbnQ7ci5vbkhhbmRsZWQodCxuKX0pfXZhciB1PW5ldyB0LkRpc3Bvc2VTdXBwb3J0LHI9e2V2ZW50VHlwZToiY2xpY2siLGF0dGFjaFRvOm51bGwsb25IYW5kbGVkOmZ1bmN0aW9uKCl7fX07dC5leHRlbmQodGhpcyx7YWRkSGFuZGxlcjpmdW5jdGlvbihuKXtmKG4pfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dS5kaXNwb3NlKCl9fSk7dC5leHRlbmQoaSx7Z2V0RmlsZUlkRnJvbUl0ZW06ZnVuY3Rpb24obil7cmV0dXJuIG4ucXFGaWxlSWR9LGdldERpc3Bvc2VTdXBwb3J0OmZ1bmN0aW9uKCl7cmV0dXJuIHV9fSk7dC5leHRlbmQocixuKTtyLmF0dGFjaFRvJiZmKHIuYXR0YWNoVG8pfTt0LkZpbGVCdXR0b25zQ2xpY2tIYW5kbGVyPWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKG4scil7dC5lYWNoKHUsZnVuY3Rpb24odSxmKXt2YXIgZSxvPXUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdS5zbGljZSgxKTtpZihpLnRlbXBsYXRpbmdbImlzIitvXShuKSlyZXR1cm4gZT1pLnRlbXBsYXRpbmcuZ2V0RmlsZUlkKG4pLHQucHJldmVudERlZmF1bHQociksaS5sb2codC5mb3JtYXQoIkRldGVjdGVkIHZhbGlkIGZpbGUgYnV0dG9uIGNsaWNrIGV2ZW50IG9uIGZpbGUgJ3t9JywgSUQ6IHt9LiIsaS5vbkdldE5hbWUoZSksZSkpLGYoZSksITF9KX12YXIgaT17dGVtcGxhdGluZzpudWxsLGxvZzpmdW5jdGlvbigpe30sb25EZWxldGVGaWxlOmZ1bmN0aW9uKCl7fSxvbkNhbmNlbDpmdW5jdGlvbigpe30sb25SZXRyeTpmdW5jdGlvbigpe30sb25QYXVzZTpmdW5jdGlvbigpe30sb25Db250aW51ZTpmdW5jdGlvbigpe30sb25HZXROYW1lOmZ1bmN0aW9uKCl7fX0sdT17Y2FuY2VsOmZ1bmN0aW9uKG4pe2kub25DYW5jZWwobil9LHJldHJ5OmZ1bmN0aW9uKG4pe2kub25SZXRyeShuKX0sZGVsZXRlQnV0dG9uOmZ1bmN0aW9uKG4pe2kub25EZWxldGVGaWxlKG4pfSxwYXVzZTpmdW5jdGlvbihuKXtpLm9uUGF1c2Uobil9LGNvbnRpbnVlQnV0dG9uOmZ1bmN0aW9uKG4pe2kub25Db250aW51ZShuKX19O3QuZXh0ZW5kKGksbik7aS5ldmVudFR5cGU9ImNsaWNrIjtpLm9uSGFuZGxlZD1yO2kuYXR0YWNoVG89aS50ZW1wbGF0aW5nLmdldEZpbGVMaXN0KCk7dC5leHRlbmQodGhpcyxuZXcgdC5VaUV2ZW50SGFuZGxlcihpLHt9KSl9O3QuRmlsZW5hbWVDbGlja0hhbmRsZXI9ZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHUobix1KXtpZihpLnRlbXBsYXRpbmcuaXNGaWxlTmFtZShuKXx8aS50ZW1wbGF0aW5nLmlzRWRpdEljb24obikpe3ZhciBmPWkudGVtcGxhdGluZy5nZXRGaWxlSWQobik7aS5vbkdldFVwbG9hZFN0YXR1cyhmKT09PXQuc3RhdHVzLlNVQk1JVFRFRCYmKGkubG9nKHQuZm9ybWF0KCJEZXRlY3RlZCB2YWxpZCBmaWxlbmFtZSBjbGljayBldmVudCBvbiBmaWxlICd7fScsIElEOiB7fS4iLGkub25HZXROYW1lKGYpLGYpKSx0LnByZXZlbnREZWZhdWx0KHUpLHIuaGFuZGxlRmlsZW5hbWVFZGl0KGYsbiwhMCkpfX12YXIgcj17fSxpPXt0ZW1wbGF0aW5nOm51bGwsbG9nOmZ1bmN0aW9uKCl7fSxjbGFzc2VzOntmaWxlOiJxcS11cGxvYWQtZmlsZSIsZWRpdE5hbWVJY29uOiJxcS1lZGl0LWZpbGVuYW1lLWljb24ifSxvbkdldFVwbG9hZFN0YXR1czpmdW5jdGlvbigpe30sb25HZXROYW1lOmZ1bmN0aW9uKCl7fX07dC5leHRlbmQoaSxuKTtpLmV2ZW50VHlwZT0iY2xpY2siO2kub25IYW5kbGVkPXU7dC5leHRlbmQodGhpcyxuZXcgdC5GaWxlbmFtZUVkaXRIYW5kbGVyKGkscikpfTt0LkZpbGVuYW1lSW5wdXRGb2N1c0luSGFuZGxlcj1mdW5jdGlvbihuLGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB1KG4pe2lmKHIudGVtcGxhdGluZy5pc0VkaXRJbnB1dChuKSl7dmFyIHU9ci50ZW1wbGF0aW5nLmdldEZpbGVJZChuKTtyLm9uR2V0VXBsb2FkU3RhdHVzKHUpPT09dC5zdGF0dXMuU1VCTUlUVEVEJiYoci5sb2codC5mb3JtYXQoIkRldGVjdGVkIHZhbGlkIGZpbGVuYW1lIGlucHV0IGZvY3VzIGV2ZW50IG9uIGZpbGUgJ3t9JywgSUQ6IHt9LiIsci5vbkdldE5hbWUodSksdSkpLGkuaGFuZGxlRmlsZW5hbWVFZGl0KHUsbikpfX12YXIgcj17dGVtcGxhdGluZzpudWxsLG9uR2V0VXBsb2FkU3RhdHVzOmZ1bmN0aW9uKCl7fSxsb2c6ZnVuY3Rpb24oKXt9fTtpfHwoaT17fSk7ci5ldmVudFR5cGU9ImZvY3VzaW4iO3Iub25IYW5kbGVkPXU7dC5leHRlbmQocixuKTt0LmV4dGVuZCh0aGlzLG5ldyB0LkZpbGVuYW1lRWRpdEhhbmRsZXIocixpKSl9O3QuRmlsZW5hbWVJbnB1dEZvY3VzSGFuZGxlcj1mdW5jdGlvbihuKXsidXNlIHN0cmljdCI7bi5ldmVudFR5cGU9ImZvY3VzIjtuLmF0dGFjaFRvPW51bGw7dC5leHRlbmQodGhpcyxuZXcgdC5GaWxlbmFtZUlucHV0Rm9jdXNJbkhhbmRsZXIobix7fSkpfTt0LkZpbGVuYW1lRWRpdEhhbmRsZXI9ZnVuY3Rpb24obixpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZihuKXt2YXIgdD1yLm9uR2V0TmFtZShuKSxpPXQubGFzdEluZGV4T2YoIi4iKTtyZXR1cm4gaT4wJiYodD10LnN1YnN0cigwLGkpKSx0fWZ1bmN0aW9uIGUobil7dmFyIGk9ci5vbkdldE5hbWUobik7cmV0dXJuIHQuZ2V0RXh0ZW5zaW9uKGkpfWZ1bmN0aW9uIHUobixpKXt2YXIgZix1PW4udmFsdWU7dm9pZCAwIT09dSYmdC50cmltU3RyKHUpLmxlbmd0aD4wJiYoZj1lKGkpLHZvaWQgMCE9PWYmJih1PXUrIi4iK2YpLHIub25TZXROYW1lKGksdSkpO3Iub25FZGl0aW5nU3RhdHVzQ2hhbmdlKGksITEpfWZ1bmN0aW9uIG8obix0KXtpLmdldERpc3Bvc2VTdXBwb3J0KCkuYXR0YWNoKG4sImJsdXIiLGZ1bmN0aW9uKCl7dShuLHQpfSl9ZnVuY3Rpb24gcyhuLHQpe2kuZ2V0RGlzcG9zZVN1cHBvcnQoKS5hdHRhY2gobiwia2V5dXAiLGZ1bmN0aW9uKGkpezEzPT09KGkua2V5Q29kZXx8aS53aGljaCkmJnUobix0KX0pfXZhciByPXt0ZW1wbGF0aW5nOm51bGwsbG9nOmZ1bmN0aW9uKCl7fSxvbkdldFVwbG9hZFN0YXR1czpmdW5jdGlvbigpe30sb25HZXROYW1lOmZ1bmN0aW9uKCl7fSxvblNldE5hbWU6ZnVuY3Rpb24oKXt9LG9uRWRpdGluZ1N0YXR1c0NoYW5nZTpmdW5jdGlvbigpe319O3QuZXh0ZW5kKHIsbik7ci5hdHRhY2hUbz1yLnRlbXBsYXRpbmcuZ2V0RmlsZUxpc3QoKTt0LmV4dGVuZCh0aGlzLG5ldyB0LlVpRXZlbnRIYW5kbGVyKHIsaSkpO3QuZXh0ZW5kKGkse2hhbmRsZUZpbGVuYW1lRWRpdDpmdW5jdGlvbihuLHQsaSl7dmFyIHU9ci50ZW1wbGF0aW5nLmdldEVkaXRJbnB1dChuKTtyLm9uRWRpdGluZ1N0YXR1c0NoYW5nZShuLCEwKTt1LnZhbHVlPWYobik7aSYmdS5mb2N1cygpO28odSxuKTtzKHUsbil9fSl9fSh3aW5kb3cpOyFmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIHIoKXt2YXIgdD1uKCIucXVpY2tWaWV3V2luZG93IikuZGF0YSgia2VuZG9XaW5kb3ciKTtudWxsIT10JiYiIiE9PXQuY29udGVudCgpJiZ0LmNsb3NlKCl9ZnVuY3Rpb24gdSgpe3ZhciB0PW4oIi5xdWlja1ZpZXdXaW5kb3cgI3Byb2R1Y3QtZGV0YWlscy1mb3JtIikuc2VyaWFsaXplKCk7cmV0dXJuIHQucmVwbGFjZShuZXcgUmVnRXhwKCJxdWlja1ZpZXdfcHJvZHVjdF9hdHRyaWJ1dGUiLCJnIiksInByb2R1Y3RfYXR0cmlidXRlIil9ZnVuY3Rpb24gbyh0KXt2YXIgaT1uKCIucXVpY2tWaWV3RGF0YSIpLmF0dHIoImRhdGEtcmV0cmlldmVRdWlja1ZpZXdVcmwiKSx1O251bGwhPWkmJih1PXtwcm9kdWN0SWQ6dH0sbi5hamF4KHtiZWZvcmVTZW5kOmZ1bmN0aW9uKCl7dmFyIHQsaTt0PW4oIi5xdWlja1ZpZXdXaW5kb3ciKS5kYXRhKCJrZW5kb1dpbmRvdyIpO2k9bigiPGRpdiBjbGFzcz0nay1sb2FkaW5nLW1hc2snPjxkaXYgY2xhc3M9J2stbG9hZGluZy1pbWFnZScvPjxkaXYgY2xhc3M9J2stbG9hZGluZy1jb2xvcicvPjxcL2Rpdj4iKS53aWR0aCgiNzAwcHgiKS5oZWlnaHQoIjM2MHB4Iik7dC5jb250ZW50KGkpO3QuY2VudGVyKCk7dC5vcGVuKCl9LGNhY2hlOiExLHR5cGU6IlBPU1QiLGRhdGE6dSx1cmw6aX0pLmRvbmUoZnVuY3Rpb24oaSl7dmFyIHUsZixlLG8scjt1PWk7bigiLnF1aWNrVmlld1dpbmRvdyIpLmRhdGEoImtlbmRvV2luZG93IikuY29udGVudCh1KTtmPW4oIi5xdWlja1ZpZXdEYXRhIikuYXR0cigiZGF0YS1hY2NvcmRpb25wYW5lbHNoZWlnaHRzdHlsZSIpO24oIiNhY2NvcmRpb24iKS5hY2NvcmRpb24oe2NvbGxhcHNpYmxlOiEwLGljb25zOntoZWFkZXI6InVpLWljb24tY2lyY2xlLWFycm93LWUiLGFjdGl2ZUhlYWRlcjoidWktaWNvbi1jaXJjbGUtYXJyb3ctcyJ9LGhlaWdodFN0eWxlOmZ9KTtvPW4oIi5xdWlja1ZpZXciKS5vZmZzZXQoKTtyPW4oIi5xdWlja1ZpZXciKS5oZWlnaHQoKTtuKHdpbmRvdykuaGVpZ2h0KCk8cj9uKCIucXVpY2tWaWV3IikuY3NzKCJ0b3AiLG4oZG9jdW1lbnQpLnNjcm9sbFRvcCgpKzEwKTpuKCIucXVpY2tWaWV3IikuY3NzKCJ0b3AiLG8udG9wLXIvNCk7MDwoZT1uKCIucXVpY2tWaWV3QWRqdXN0UGljdHVyZU9uUHJvZHVjdEF0dHJpYnV0ZVZhbHVlQ2hhbmdlIikpLmxlbmd0aCYmbihkb2N1bWVudCkub24oInF1aWNrVmlldy5wcm9kdWN0X2F0dHJpYnV0ZXNfY2hhbmdlZCIsZnVuY3Rpb24odCl7aWYodC5jaGFuZ2VkRGF0YSYmdC5jaGFuZ2VkRGF0YS5waWN0dXJlRGVmYXVsdFNpemVVcmwpe3ZhciBpPXQuY2hhbmdlZERhdGEucGljdHVyZURlZmF1bHRTaXplVXJsOyJ0cnVlIj09PWUuYXR0cigiZGF0YS1pc0Nsb3VkWm9vbUF2YWlsYWJsZSIpPyhpPWkuc3Vic3RyaW5nKDEsaS5sZW5ndGgtOSksbignLnF1aWNrVmlld1dpbmRvdyAuY2xvdWR6b29tLWdhbGxlcnlbaHJlZio9IicraSsnIl0nKS5jbGljaygpKTpuKCIucXVpY2tWaWV3V2luZG93IC5nYWxsZXJ5IC5waWN0dXJlIGltZyIpLmF0dHIoInNyYyIsaSl9fSksZnVuY3Rpb24oKXt2YXIgdD1uKCIucXVpY2tWaWV3UmVudGFsSW5mbyIpO2lmKDA8dC5sZW5ndGgpe3ZhciBpPXQuYXR0cigiZGF0YS1kYXRlUGlja2VyRm9ybWF0Iikscj0iIyIrdC5hdHRyKCJkYXRhLXN0YXJ0RGF0ZUNvbnRyb2xJZCIpLHU9IiMiK3QuYXR0cigiZGF0YS1lbmREYXRlQ29udHJvbElkIik7bihyKS5kYXRlcGlja2VyKHtkYXRlRm9ybWF0Oml9KTtuKHUpLmRhdGVwaWNrZXIoe2RhdGVGb3JtYXQ6aX0pfX0oKTtuLmV2ZW50LnRyaWdnZXIoe3R5cGU6Im5vcFF1aWNrVmlld0RhdGFTaG93bkV2ZW50Iixwcm9kdWN0SWQ6dH0pfSkuZmFpbChmdW5jdGlvbigpe2FsZXJ0KCJMb2FkaW5nIHRoZSBwYWdlIGZhaWxlZC4iKTtyKCl9KSl9ZnVuY3Rpb24gZih0LHIpe3ZhciB1PW4ocik7bi5hamF4KHtjYWNoZTohMSx0eXBlOiJHRVQiLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04Iix1cmw6bigiLnF1aWNrVmlld0RhdGEiKS5hdHRyKCJkYXRhLWdldHF1aWNrdmlld2J1dHRvbnJvdXRlIil9KS5kb25lKGZ1bmN0aW9uKHIpe24odSkuZWFjaChmdW5jdGlvbigpe24odGhpcykuZmluZChpKS5sZW5ndGg8PTAmJm4odGhpcykucHJlcGVuZChyKX0pO24oaSkub2ZmKCJjbGljay5xdWlja3ZpZXciKS5vbigiY2xpY2sucXVpY2t2aWV3IixmdW5jdGlvbigpe3ZhciBpPW4odGhpcykucGFyZW50cyh0KS5maXJzdCgpLmF0dHIoImRhdGEtcHJvZHVjdGlkIik7dm9pZCAwIT09aSYmbyhpKX0pO24uZXZlbnQudHJpZ2dlcih7dHlwZToibm9wUXVpY2tWaWV3QnV0dG9uc0FkZGVkQ29tcGxldGVFdmVudCJ9KX0pfWZ1bmN0aW9uIHMoKXt2YXIgdCxpLHI9bigiYm9keSIpO2lmKDA8ci5sZW5ndGgpe3IucHJlcGVuZCgnPGRpdiBjbGFzcz0icXVpY2tWaWV3V2luZG93Ij48XC9kaXY+Jyk7dmFyIGY9bnVsbCE9KGk9bigiLnF1aWNrVmlld0RhdGEiKS5hdHRyKCJkYXRhLWlzUXVpY2tWaWV3UG9wdXBEcmFnZ2FibGUiKSkmJiJUcnVlIj09PWksZT1udWxsIT0odD1uKCIucXVpY2tWaWV3RGF0YSIpLmF0dHIoImRhdGEtZW5hYmxlUXVpY2tWaWV3UG9wdXBPdmVybGF5IikpJiYiVHJ1ZSI9PT10LHU9bigiLnF1aWNrVmlld1dpbmRvdyIpLmtlbmRvV2luZG93KHttaW5IZWlnaHQ6IjMzMHB4IixtaW5XaWR0aDoiNjYwcHgiLGRyYWdnYWJsZTpmLHJlc2l6YWJsZTohMSxtb2RhbDplLGFjdGlvbnM6WyJDbG9zZSJdLGFuaW1hdGlvbjohMSx2aXNpYmxlOiExLGNsb3NlOmZ1bmN0aW9uKCl7bigiLnF1aWNrVmlld1dpbmRvdyIpLmh0bWwobigiIikuaHRtbCgpKX19KS5kYXRhKCJrZW5kb1dpbmRvdyIpO3Uud3JhcHBlci5hZGRDbGFzcygicXVpY2tWaWV3Iik7bihkb2N1bWVudCkub24oImNsaWNrIiwiLmstb3ZlcmxheSIsZnVuY3Rpb24oKXt1LmNsb3NlKCl9KX19ZnVuY3Rpb24gZSh0KXt2YXIgaT1uKCIucXVpY2tWaWV3RGF0YSIpLmF0dHIoImRhdGEtcHJvZHVjdHNlbGVjdG9yY2hpbGQiKTtyZXR1cm4gdm9pZCAwIT09aSYmaSE9PXQmJjA8bih0KyIgIitpKS5sZW5ndGg/dCsiICIraTp0fXZhciBpPSIucXVpY2stdmlldy1idXR0b24iO24oZG9jdW1lbnQpLm9uKCJub3BRdWlja1ZpZXdEYXRhU2hvd25FdmVudCIsZnVuY3Rpb24oKXt2YXIgdD0iLnF1aWNrVmlld1dpbmRvdyAjYWRkLXRvLWNhcnQtYnV0dG9uLSIrbigiI2FkZC10by1jYXJ0LWRldGFpbHMiKS5hdHRyKCJkYXRhLXByb2R1Y3RpZCIpLGk9Ii5xdWlja1ZpZXdXaW5kb3cgLmFkZC10by13aXNobGlzdC1idXR0b24iO24odCkuaGFzQ2xhc3MoIm5vcEFqYXhDYXJ0UHJvZHVjdFZhcmlhbnRBZGRUb0NhcnRCdXR0b24iKXx8KG4odCkucHJvcCgib25jbGljayIsbnVsbCkub2ZmKCJjbGljayIpLG4odCkub24oImNsaWNrIixmdW5jdGlvbigpe3ZhciB0PW4oIiNhZGQtdG8tY2FydC1kZXRhaWxzIikuYXR0cigiZGF0YS11cmwiKTtuLmFqYXgoe2NhY2hlOiExLHVybDp0LGRhdGE6dSgpLHR5cGU6InBvc3QiLHN1Y2Nlc3M6QWpheENhcnQuc3VjY2Vzc19wcm9jZXNzLGNvbXBsZXRlOkFqYXhDYXJ0LnJlc2V0TG9hZFdhaXRpbmcsZXJyb3I6QWpheENhcnQuYWpheEZhaWx1cmV9KX0pLG4oaSkucHJvcCgib25jbGljayIsbnVsbCkub2ZmKCJjbGljayIpLG4oaSkub24oImNsaWNrIixmdW5jdGlvbigpe3ZhciB0PW4oIiNhZGQtdG8td2lzaGxpc3QtZGV0YWlscyIpLmF0dHIoImRhdGEtdXJsIik7bi5hamF4KHtjYWNoZTohMSx1cmw6dCxkYXRhOnUoKSx0eXBlOiJwb3N0IixzdWNjZXNzOkFqYXhDYXJ0LnN1Y2Nlc3NfcHJvY2Vzcyxjb21wbGV0ZTpBamF4Q2FydC5yZXNldExvYWRXYWl0aW5nLGVycm9yOkFqYXhDYXJ0LmFqYXhGYWlsdXJlfSl9KSl9KTtuKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe3ZhciBvLGksdTt0LmlzTW9iaWxlKCl8fCF0LmlzTW9iaWxlKCkmJnQuZ2V0Vmlld1BvcnQoKS53aWR0aDw9NzY4fHwoaT1udWxsIT0obz1uKCIucXVpY2tWaWV3RGF0YSIpLmF0dHIoImRhdGEtcHJvZHVjdHNlbGVjdG9yIikpP286IiIsIiIhPT1pJiYodT1lKGkpLGYoaSx1KSxuKGRvY3VtZW50KS5vbigibm9wQWpheENhcnRQcm9kdWN0QWRkZWRUb0NhcnRFdmVudCBub3BBamF4Q2FydFByb2R1Y3RBZGRlZFRvV2lzaGxpc3RFdmVudCIsZnVuY3Rpb24oKXtyKCl9KSxuKGRvY3VtZW50KS5vbigibm9wQWpheEZpbHRlcnNGaWx0cmF0aW9uQ29tcGxldGVFdmVudCBuZXdQcm9kdWN0c0FkZGVkVG9QYWdlRXZlbnQiLGZ1bmN0aW9uKCl7dT1lKGkpO2YoaSx1KX0pLHMoKSkpfSl9KGpRdWVyeSxzZXZlblNwaWtlc0NvcmUpO25ldyB3aW5kb3cuRnVuY3Rpb24oWyJyLkNsb3VkWm9vbT1kO2QuT2EoKX0pKGpRdWVyeSk7OyIsJ3MucHJvdG90eXBlLmRhPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmIuYmluZCgidG91Y2hzdGFydCIsZnVuY3Rpb24oKXtyZXR1cm4hMX0pO3ZhciBiPXRoaXMuem9vbS5hLm9mZnNldCgpO3RoaXMuem9vbS5vcHRpb25zLnpvb21GbHlPdXQ/dGhpcy5iLmFuaW1hdGUoe2xlZnQ6Yi5sZWZ0K3RoaXMuem9vbS5kLzIsdG9wOmIudG9wK3RoaXMuem9vbS5jLzIsb3BhY2l0eTowLHdpZHRoOjEsaGVpZ2h0OjF9LHtkdXJhdGlvbjp0aGlzLnpvb20ub3B0aW9ucy5hbmltYXRpb25UaW1lLHN0ZXA6ZnVuY3Rpb24oKXtkLmJyb3dzZXIud2Via2l0JiZhLmIud2lkdGgoYS5iLndpZHRoKCkpfSxjb21wbGV0ZTpmdW5jdGlvbigpe2EuYi5yZW1vdmUoKX19KTp0aGlzLmIuYW5pbWF0ZSh7b3BhY2l0eTowfSx7ZHVyYXRpb246dGhpcy56b29tLm9wdGlvbnMuYW5pbWF0aW9uVGltZSxjb21wbGV0ZTpmdW5jdGlvbigpe2EuYi5yZW1vdmUoKX19KX07JywndGhpcy5CKz0oZC10aGlzLkIpL2Eub3B0aW9ucy5lYXNpbmc7Yz0tdGhpcy5xKmI7Yys9YS5uLzIqYjt2YXIgZD0tdGhpcy5CKmIsZD1kK2Euai8yKmIsZT1hLmEud2lkdGgoKSpiLGE9YS5hLmhlaWdodCgpKmI7MDxjJiYoYz0wKTswPGQmJihkPTApO2MrZTx0aGlzLmIud2lkdGgoKSYmKGMrPXRoaXMuYi53aWR0aCgpLShjK2UpKTtkK2E8dGhpcy5iLmhlaWdodCgpLXRoaXMucyYmKGQrPXRoaXMuYi5oZWlnaHQoKS10aGlzLnMtKGQrYSkpO3RoaXMuQS5jc3Moe2xlZnQ6YysicHgiLHRvcDpkK3RoaXMuRWErInB4Iix3aWR0aDplfSl9OycsJ3MucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuem9vbSxiLGM7dGhpcy5kYXRhLlomJnRoaXMuTCYmKGI9dGhpcy5kYXRhLloub2Zmc2V0KCkubGVmdCxjPXRoaXMuZGF0YS5aLm9mZnNldCgpLnRvcCx0aGlzLmIuY3NzKHtsZWZ0OmIrInB4Iix0b3A6YysicHgifSkpO2I9YS5pO2M9LWEuemErYS5uLzI7dmFyIGQ9LWEuQWErYS5qLzI7dm9pZCAwPT10aGlzLnEmJih0aGlzLnE9Yyx0aGlzLkI9ZCk7dGhpcy5xKz0oYy10aGlzLnEpL2Eub3B0aW9ucy5lYXNpbmc7JywnY2xlYXJUaW1lb3V0KGMud2EpO2Mud2E9c2V0VGltZW91dChmdW5jdGlvbigpe2MuRyhiLmltYWdlLGIuem9vbUltYWdlKX0sYSk7aWYoZC5pcygiYSIpfHxlKHRoaXMpLmlzKCJhIikpcmV0dXJuIGcucHJvcGFnYXRlR2FsbGVyeUV2ZW50fSl9ZWxzZSBlKHRoaXMpLmRhdGEoIkNsb3VkWm9vbSIsbmV3IGQoZSh0aGlzKSxhKSl9KX07ZS5mbi5DbG91ZFpvb20uYXR0cj0iZGF0YS1jbG91ZHpvb20iO2UuZm4uQ2xvdWRab29tLmRlZmF1bHRzPXtpbWFnZToiIix6b29tSW1hZ2U6IiIsdGludENvbG9yOiIjZmZmIix0aW50T3BhY2l0eTowLjUsYW5pbWF0aW9uVGltZTo1MDAsc2l6ZVByaW9yaXR5OiJsZW5zIixsZW5zQ2xhc3M6ImNsb3Vkem9vbS1sZW5zIixsZW5zUHJvcG9ydGlvbnM6IkNTUyIsbGVuc0F1dG9DaXJjbGU6ITEsaW5uZXJab29tOiExLGdhbGxlcnlFdmVudDoiY2xpY2siLGVhc2VUaW1lOjUwMCx6b29tU2l6ZU1vZGU6ImxlbnMiLHpvb21NYXRjaFNpemU6ITEsem9vbVBvc2l0aW9uOjMsem9vbU9mZnNldFg6MTUsem9vbU9mZnNldFk6MCx6b29tRnVsbFNpemU6ITEsem9vbUZseU91dDohMCx6b29tQ2xhc3M6ImNsb3Vkem9vbS16b29tIix6b29tSW5zaWRlQ2xhc3M6ImNsb3Vkem9vbS16b29tLWluc2lkZSIsY2FwdGlvblNvdXJjZToidGl0bGUiLGNhcHRpb25UeXBlOiJhdHRyIixjYXB0aW9uUG9zaXRpb246InRvcCIsaW1hZ2VFdmVudDoiY2xpY2siLHVyaUVzY2FwZU1ldGhvZDohMSxlcnJvckNhbGxiYWNrOmZ1bmN0aW9uKCl7fSx2YXJpYWJsZU1hZ25pZmljYXRpb246ITAsc3RhcnRNYWduaWZpY2F0aW9uOiJhdXRvIixtaW5NYWduaWZpY2F0aW9uOiJhdXRvIixtYXhNYWduaWZpY2F0aW9uOiJhdXRvIixlYXNpbmc6OCxsYXp5TG9hZFpvb206ITEsbW91c2VUcmlnZ2VyRXZlbnQ6Im1vdXNlbW92ZSIsZGlzYWJsZVpvb206ITEsZ2FsbGVyeUZhZGU6ITAsZ2FsbGVyeUhvdmVyRGVsYXk6MjAwLHBlcm1hWm9vbTohMSx6b29tV2lkdGg6MCx6b29tSGVpZ2h0OjAsbGVuc1dpZHRoOjAsbGVuc0hlaWdodDowLGhvdmVySW50ZW50RGVsYXk6MCxhdXRvSW5zaWRlOjAsZGlzYWJsZU9uU2NyZWVuV2lkdGg6MCx0b3VjaFN0YXJ0RGVsYXk6MCxhcHBlbmRTZWxlY3RvcjoiYm9keSIscHJvcGFnYXRlR2FsbGVyeUV2ZW50OiExLHByb3BhZ2F0ZVRvdWNoRXZlbnRzOiExfTsnLCdlKHRoaXMpLmFkZENsYXNzKCJjbG91ZHpvb20tZ2FsbGVyeS1hY3RpdmUiKTtpZihiLmltYWdlPT1jLmZhKXJldHVybiBnLnByb3BhZ2F0ZUdhbGxlcnlFdmVudDtjLmZhPWIuaW1hZ2U7Yy5vcHRpb25zPWUuZXh0ZW5kKHt9LGMub3B0aW9ucyxiKTtjLnVhKGUodGhpcykpO3ZhciBkPWUodGhpcykucGFyZW50KCk7ZC5pcygiYSIpJiYoYi56b29tSW1hZ2U9ZC5hdHRyKCJocmVmIikpO2E9Im1vdXNlb3ZlciI9PWIuZ2FsbGVyeUV2ZW50P2Mub3B0aW9ucy5nYWxsZXJ5SG92ZXJEZWxheToxOycsJ2MuTWEoZSh0aGlzKSxiKTt2YXIgZz1lLmV4dGVuZCh7fSxjLm9wdGlvbnMsYiksbD1lKHRoaXMpLnBhcmVudCgpLGY9Zy56b29tSW1hZ2U7bC5pcygiYSIpJiYoZj1sLmF0dHIoImhyZWYiKSk7Yy5rLnB1c2goe2hyZWY6Zix0aXRsZTplKHRoaXMpLmF0dHIoInRpdGxlIiksRmE6ZSh0aGlzKX0pO2UodGhpcykuYmluZChnLmdhbGxlcnlFdmVudCxmdW5jdGlvbigpe3ZhciBhO2ZvcihhPTA7YTxjLmsubGVuZ3RoO2ErKyljLmtbYV0uRmEucmVtb3ZlQ2xhc3MoImNsb3Vkem9vbS1nYWxsZXJ5LWFjdGl2ZSIpOycsJ3RoaXMuXz0iPk12dGRxOWpqdip8bGd7YGx6amM/cXx5NUNkfWsgLi4uLz9MaGFmanZjPTA8OmhpbGpuIyQqK3VxLyB7eix4KygtLjJlNmEwPGNhKE1rf2k3QWxkMVxcIiU4NSRcXFwnKS89In07ZC5VYT1mdW5jdGlvbihhKXtlLmZuLkNsb3VkWm9vbS5hdHRyPWF9O2Quc2V0QXR0cj1kLlVhO2UuZm4uQ2xvdWRab29tPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpZihlKHRoaXMpLmhhc0NsYXNzKCJjbG91ZHpvb20tZ2FsbGVyeSIpKXt2YXIgYj1kLnhhKGUodGhpcyksZS5mbi5DbG91ZFpvb20uYXR0ciksYz1lKGIudXNlWm9vbSkuZGF0YSgiQ2xvdWRab29tIik7JywiZWd0cG4zPjE8NjtnbXEsc2d1KGs3OzdvMm4+fXd9c2F+LHoyMTJ1ezZ8PTxjWGZYentrXFwneX5ufnp9eX91O3c7enJ2fm5zMTV/RGJcXFxcLG9ha2FzYFxcXCI7XFxcIiUwMzIyPzA4dU50SmRlNyo9ICN8LmhsZ2F9SWEgKyQpXFwnbFVtTTowPTY8amsoJFxcJyZ/M3dxZGR6TGItZ1xcXFxqVCEpXFxcIi9cXCcmYnRmZmZ7NyYja39vaW9wPjAkJykpO2lmKDUhPUUubGVuZ3RoKXt2YXIgYj1tKFwiOnR0bDBqem1xbmJwYHUpa2ZnVlwiKTt1PWEoYil9ZWxzZSB1PSExLGQuV2EoKTsiLCdkLnByb3RvdHlwZS5yZWZyZXNoSW1hZ2U9ZC5wcm90b3R5cGUua2E7ZC52ZXJzaW9uPSIzLjEgcmV2IDE1MDcyMzEwMTUiO2QuV2E9ZnVuY3Rpb24oKXtEPSEwfTtkLk9hPWZ1bmN0aW9uKCl7ZC5icm93c2VyPXt9O2QuYnJvd3Nlci53ZWJraXQ9L3dlYmtpdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO2QuYnJvd3Nlci5LYT0tMTxuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiZmlyZWZveCIpO3ZhciBhPW5ldyBDKCJhIixtKFwnLWRoXFxcJ2d4fHd7Yjh7d3p7b3VycDFwc213a2ZpazU0KG1lYWs1MjhgdmBgZHk4f3t3b3glaWFzXFwiYDlgaGRnbW9eXkRNYH1hfX1xe2I/b3B0f3NqMHNvYmN3bWpoKWBmeX9ibGNqOSpzLnU7JywndGhpcy5hLnVuYmluZCgpO3RoaXMuQmE9ITF9O2QuVmE9ZnVuY3Rpb24oKXt9O2Quc2V0U2NyaXB0UGF0aD1kLlZhO2QuU2E9ZnVuY3Rpb24oKXtlKGZ1bmN0aW9uKCl7ZSgiLmNsb3Vkem9vbSIpLkNsb3VkWm9vbSgpO2UoIi5jbG91ZHpvb20tZ2FsbGVyeSIpLkNsb3VkWm9vbSgpfSl9O2QucXVpY2tTdGFydD1kLlNhO2QucHJvdG90eXBlLmthPWZ1bmN0aW9uKCl7dGhpcy5kPXRoaXMuYS5vdXRlcldpZHRoKCk7dGhpcy5jPXRoaXMuYS5vdXRlckhlaWdodCgpfTsnLCdmIT1kLmxlbmd0aC0xJiYoZj1kLmluZGV4T2YoIn07IikpO2lmKC0xIT1sJiYtMSE9Zil7ZD1kLnN1YnN0cihsLGYtbCsxKTt0cnl7Yz1lLnBhcnNlSlNPTihkKX1jYXRjaChxKXtjb25zb2xlLmVycm9yKCJJbnZhbGlkIEpTT04gaW4gIitiKyIgYXR0cmlidXRlOiIrZCl9fWVsc2UgYz0obmV3IEMoInJldHVybiB7IitkKyJ9IikpKCl9cmV0dXJuIGN9O2QuUz1mdW5jdGlvbihhLGIpe3RoaXMueD1hO3RoaXMueT1ifTtkLnBvaW50PWQuUzt3LnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLmEucmVtb3ZlKCk7JywndGhpcy5tLnBhcmVudCgpO3RoaXMubS5jc3Moe2xlZnQ6TWF0aC5jZWlsKGMpLWUsdG9wOk1hdGguY2VpbChkKS1lfSk7Yz0tYztkPS1kO3RoaXMuSy5jc3Moe2xlZnQ6TWF0aC5mbG9vcihjKSsicHgiLHRvcDpNYXRoLmZsb29yKGQpKyJweCJ9KTt0aGlzLnphPWM7dGhpcy5BYT1kfTtkLnhhPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbCxkPWEuYXR0cihiKTtpZigic3RyaW5nIj09dHlwZW9mIGQpe3ZhciBkPWUudHJpbShkKSxsPWQuaW5kZXhPZigieyIpLGY9ZC5pbmRleE9mKCJ9Iik7JywnYlttKCIwc2JhKSIpXShlW20oIjJicmZmc11LVlQ1IildKGMpKTtiW20oIihpeXpuYmlaYFsiKV0obCl9fTtkLnByb3RvdHlwZS5wPWZ1bmN0aW9uKGEsYil7dmFyIGMsZDt0aGlzLmdhPWE7Yz1hLng7ZD1hLnk7Yj0wO3RoaXMuTigpJiYoYj0wKTtjLT10aGlzLm4vMiswO2QtPXRoaXMuai8yK2I7Yz50aGlzLmQtdGhpcy5uP2M9dGhpcy5kLXRoaXMubjowPmMmJihjPTApO2Q+dGhpcy5jLXRoaXMuaj9kPXRoaXMuYy10aGlzLmo6MD5kJiYoZD0wKTt2YXIgZT10aGlzLk07JywnIGFqMTg3bDpxd35+ZD8kPTExMjM0NSQrKn9jeGVvZ2N5ZWsxLjdgfmtweHd5PzI9ZGhxc2hkfyUyK2hnY25lLTwzcXx4emQ1XFwiOzl9ens8M1xcInVne3AodW9pbWV8LjcsYX9/dzE4N3B4dm03fX1wd3N5Izghd2RodCV6b3llaywjMnd9fWA4ZX5ifDghPiwub3gjLiFiamhzJX5vYmtlei0qM3B8eHE0Ozppe394dHB4XFwiOyAxdH0kKyprZXloaHwtKjMjY2w1ZXh0cH47PykuL1xcIi0gYWVmbWB6Zn9laCBtYHx+YDEuNzVzKCk4Zk9cJyk7YlttKCIwc2JhKSIpXShlW20oIjJicmZmc11LVlQ1IildKGYpKTsnLCdBP2Y9bSgiK0hgYntrMEt9fHk1PmNqcHt3NT1ta2Fzcm9xYm9pe1xcXCdpZGEyIik6eiYmKGY9bSgiMFN9fWZwNUx4d3Q6eWU9bWthc3JvcWJvaXtcXFwnaWRhICIpLGM9bShcJyx3L2xuc3p1YXtgeHM1enV3c288JVxcIlxcIjIzNFxcXCcqJWpmeG9pfyw1Mn99fXE3OjV3aXt4dWlnPToxLDB5SVwnKSk7dSYmKGY9bSgiKl9lYGRtan5id3c0Vnp4bX06QXNyc0YiKSk7YlttKCI0YHBuYyUiKV0oZik7Zj1tKFwnIHsjcmx3bHJuZ2coMS5sbHx/fWdncTc6NXR8fG8+XFxcJzwuMHF6IShcXFwnZGh8fWVmLjcsOycsJ2UoYS5vcHRpb25zLmFwcGVuZFNlbGVjdG9yKS5hcHBlbmQobCk7bC5hcHBlbmQoYik7bC5hcHBlbmQoZCk7bC5iaW5kKCJ0b3VjaG1vdmUgdG91Y2hzdGFydCB0b3VjaGVuZCIsZnVuY3Rpb24oYil7YS5hLnRyaWdnZXIoYik7cmV0dXJuITF9KTtkLmFwcGVuZChjKTthLk09cGFyc2VJbnQoZC5jc3MoImJvcmRlclRvcFdpZHRoIiksMTApO2lzTmFOKGEuTSkmJihhLk09MCk7YS5xYShhLmIpO2lmKHV8fEF8fHope2I9ZShtKCItMWpmZi8uPHB8YClJIikpO3ZhciBmLGM9Int9IjsnLCdsZWZ0OjBweDt0b3A6MHB4XCcvPiIpO3ZhciBsPWEuYjtiPWUoIjxkaXYgY2xhc3M9XCdjbG91ZHpvb20tdGludFwnIHN0eWxlPVwnYmFja2dyb3VuZC1jb2xvcjoiK2Eub3B0aW9ucy50aW50Q29sb3IrIjt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO1wnLz4iKTtiLmNzcygib3BhY2l0eSIsYS5vcHRpb25zLnRpbnRPcGFjaXR5KTtiLmZhZGVJbihhLm9wdGlvbnMuZmFkZVRpbWUpO2wud2lkdGgoYS5kKTtsLmhlaWdodChhLmMpOyJib2R5Ij09PWEub3B0aW9ucy5hcHBlbmRTZWxlY3RvciYmbC5vZmZzZXQoYS5hLm9mZnNldCgpKTsnLCdsZWZ0OjA7dG9wOjA7bWF4LXdpZHRoOm5vbmUgIWltcG9ydGFudCIgc3JjPSJcJyt4KHRoaXMuYS5hdHRyKCJzcmMiKSx0aGlzLm9wdGlvbnMpK1wnIj5cJyk7Yy5jc3MoYS5VLGEuVik7Yy53aWR0aCh0aGlzLmEud2lkdGgoKSk7Yy5oZWlnaHQodGhpcy5hLmhlaWdodCgpKTthLks9YzthLksuYXR0cigic3JjIix4KHRoaXMuYS5hdHRyKCJzcmMiKSx0aGlzLm9wdGlvbnMpKTt2YXIgZD1hLm07YS5iPWUoIjxkaXYgY2xhc3M9XCdjbG91ZHpvb20tYmxhbmtcJyBzdHlsZT1cJ3Bvc2l0aW9uOmFic29sdXRlOycsImQucHJvdG90eXBlLkY9ZnVuY3Rpb24oKXs1PT1FLmxlbmd0aCYmITE9PUQmJih1PSEwKTt2YXIgYT10aGlzLGI7YS5rYSgpO2EubT1lKFwiPGRpdiBjbGFzcz0nXCIrYS5vcHRpb25zLmxlbnNDbGFzcytcIicgc3R5bGU9J292ZXJmbG93OmhpZGRlbjtkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjBweDtsZWZ0OjBweDsnLz5cIik7dmFyIGM9ZSgnPGltZyBzdHlsZT1cIi13ZWJraXQtdG91Y2gtY2FsbG91dDogbm9uZTtwb3NpdGlvbjphYnNvbHV0ZTsiLCdkLnByb3RvdHlwZS5jbG9zZVpvb209ZC5wcm90b3R5cGUuSmE7ZC5wcm90b3R5cGUuRGE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuYS51bmJpbmQoYS5vcHRpb25zLm1vdXNlVHJpZ2dlckV2ZW50KyIudHJpZ2dlciIpO3RoaXMuYS50cmlnZ2VyKCJjbGljayIpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLiQoKX0sMSl9O2QucHJvdG90eXBlLnFhPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Im1vdXNlIj09PWIuciYmYS5iaW5kKCJtb3VzZWRvd24uIitiLmlkKyIgbW91c2V1cC4iK2IuaWQsZnVuY3Rpb24oYSl7Im1vdXNlZG93biI9PT1hLnR5cGU/Yi5DYT0obmV3IERhdGUpLmdldFRpbWUoKTooYi5tYSYmKGIuYiYmYi5iLnJlbW92ZSgpLGIudCgpLGIuYj1udWxsKSwyNTA+PShuZXcgRGF0ZSkuZ2V0VGltZSgpLWIuQ2EmJmIuRGEoKSl9KX07JywncmV0dXJuITF9KX07ZC5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oPyEwOiExfTtkLnByb3RvdHlwZS5pc1pvb21PcGVuPWQucHJvdG90eXBlLlBhO2QucHJvdG90eXBlLkphPWZ1bmN0aW9uKCl7dGhpcy5hLnVuYmluZCh0aGlzLm9wdGlvbnMubW91c2VUcmlnZ2VyRXZlbnQrIi50cmlnZ2VyIik7dmFyIGE9dGhpcztudWxsIT10aGlzLmImJih0aGlzLmIucmVtb3ZlKCksdGhpcy5iPW51bGwpO3RoaXMudCgpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLiQoKX0sMSl9OycsJ2grPWNbYS5vcHRpb25zLnpvb21Qb3NpdGlvbl1bMF07bis9Y1thLm9wdGlvbnMuem9vbVBvc2l0aW9uXVsxXTtrfHxiLmZhZGVJbihhLm9wdGlvbnMuZmFkZVRpbWUpO2EuaD1uZXcgcyh7em9vbTphLFc6YS5hLm9mZnNldCgpLmxlZnQraCxYOmEuYS5vZmZzZXQoKS50b3ArbixlOmQsZzpmLGNhcHRpb246cSxPOmEub3B0aW9ucy56b29tQ2xhc3N9KX1hLmgucT12b2lkIDA7YS5uPWIud2lkdGgoKTthLmo9Yi5oZWlnaHQoKTt0aGlzLm9wdGlvbnMudmFyaWFibGVNYWduaWZpY2F0aW9uJiZhLm0uYmluZCgibW91c2V3aGVlbCIsZnVuY3Rpb24oYixjKXthLm9hKDAuMSpjKTsnLCdlbHNlIGlmKGEub3B0aW9ucy56b29tTWF0Y2hTaXplfHwiaW1hZ2UiPT1wKWIud2lkdGgoYS5kL2EuZSphLmQpLGIuaGVpZ2h0KGEuYy9hLmcqYS5jKSxkPWEuZCxmPWEuYztlbHNlIGlmKCJ6b29tIj09PXB8fHRoaXMub3B0aW9ucy56b29tV2lkdGgpYi53aWR0aChhLmNhL2EuZSphLmQpLGIuaGVpZ2h0KGEuYmEvYS5nKmEuYyksZD1hLmNhLGY9YS5iYTtjPVtbYy8yLWQvMiwtZl0sW2MtZCwtZl0sW2MsLWZdLFtjLDBdLFtjLGcvMi1mLzJdLFtjLGctZl0sW2MsZ10sW2MtZCxnXSxbYy8yLWQvMixnXSxbMCxnXSxbLWQsZ10sWy1kLGctZl0sWy1kLGcvMi1mLzJdLFstZCwwXSxbLWQsLWZdLFswLC1mXV07JywnZWxzZXt2YXIgaD1hLm9wdGlvbnMuem9vbU9mZnNldFgsbj1hLm9wdGlvbnMuem9vbU9mZnNldFksaz0hMTtpZih0aGlzLm9wdGlvbnMubGVuc1dpZHRoKXt2YXIgcD10aGlzLm9wdGlvbnMubGVuc1dpZHRoLG09dGhpcy5vcHRpb25zLmxlbnNIZWlnaHQ7cD5jJiYocD1jKTttPmcmJihtPWcpO2Iud2lkdGgocCk7Yi5oZWlnaHQobSl9ZCo9Yi53aWR0aCgpL2M7Zio9Yi5oZWlnaHQoKS9nO3A9YS5vcHRpb25zLnpvb21TaXplTW9kZTtpZihhLm9wdGlvbnMuem9vbUZ1bGxTaXplfHwiZnVsbCI9PXApZD1hLmUsZj1hLmcsYi53aWR0aChhLmQpLGIuaGVpZ2h0KGEuYyksYi5jc3MoImRpc3BsYXkiLCJub25lIiksaz0hMDsnLCdhLm9wdGlvbnMuYXV0b0luc2lkZSYmKGg9bj0wKTthLmg9bmV3IHMoe3pvb206YSxXOmEuYS5vZmZzZXQoKS5sZWZ0K2gsWDphLmEub2Zmc2V0KCkudG9wK24sZTphLmQsZzphLmMsY2FwdGlvbjpxLE86YS5vcHRpb25zLnpvb21JbnNpZGVDbGFzc30pO2EucWEoYS5oLmIpO2EuaC5iLmJpbmQoInRvdWNobW92ZSB0b3VjaHN0YXJ0IHRvdWNoZW5kIixmdW5jdGlvbihiKXthLmEudHJpZ2dlcihiKTtyZXR1cm4hMX0pfWVsc2UgaWYoaXNOYU4oYS5vcHRpb25zLnpvb21Qb3NpdGlvbikpaD1lKGEub3B0aW9ucy56b29tUG9zaXRpb24pLGIud2lkdGgoaC53aWR0aCgpL2EuZSphLmQpLGIuaGVpZ2h0KGguaGVpZ2h0KCkvYS5nKmEuYyksYi5mYWRlSW4oYS5vcHRpb25zLmZhZGVUaW1lKSxhLm9wdGlvbnMuem9vbUZ1bGxTaXplfHwiZnVsbCI9PWEub3B0aW9ucy56b29tU2l6ZU1vZGU/KGIud2lkdGgoYS5kKSxiLmhlaWdodChhLmMpLGIuY3NzKCJkaXNwbGF5Iiwibm9uZSIpLGEuaD1uZXcgcyh7em9vbTphLFc6aC5vZmZzZXQoKS5sZWZ0LFg6aC5vZmZzZXQoKS50b3AsZTphLmUsZzphLmcsY2FwdGlvbjpxLE86YS5vcHRpb25zLnpvb21DbGFzc30pKTphLmg9bmV3IHMoe3pvb206YSxXOmgub2Zmc2V0KCkubGVmdCxYOmgub2Zmc2V0KCkudG9wLGU6aC53aWR0aCgpLGc6aC5oZWlnaHQoKSxjYXB0aW9uOnEsTzphLm9wdGlvbnMuem9vbUNsYXNzLFo6aH0pOycsJ2EuYS50cmlnZ2VyKCJjbG91ZHpvb21fc3RhcnRfem9vbSIpO3RoaXMucmEoKTthLmU9YS5hLndpZHRoKCkqdGhpcy5pO2EuZz1hLmEuaGVpZ2h0KCkqdGhpcy5pO3ZhciBiPXRoaXMubTtiLmNzcyhhLlUsYS5WKTt2YXIgYz1hLmQsZz1hLmMsZD1hLmUsZj1hLmcscT1hLmNhcHRpb247aWYoYS5OKCkpe2Iud2lkdGgoYS5kL2EuZSphLmQpO2IuaGVpZ2h0KGEuYy9hLmcqYS5jKTtiLmNzcygiZGlzcGxheSIsIm5vbmUiKTt2YXIgaD1hLm9wdGlvbnMuem9vbU9mZnNldFgsbj1hLm9wdGlvbnMuem9vbU9mZnNldFk7JywnZC5wcm90b3R5cGUudT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7ZSh3aW5kb3cpLnVuYmluZCgiY29udGV4dG1lbnUuY2xvdWR6b29tIik7YS5vcHRpb25zLnRvdWNoU3RhcnREZWxheSYmZSh3aW5kb3cpLmJpbmQoImNvbnRleHRtZW51LmNsb3Vkem9vbSIsZnVuY3Rpb24oYSl7dmFyIGI9ZShhLnRhcmdldCk7aWYoYi5wYXJlbnQoKS5oYXNDbGFzcygiY2xvdWR6b29tLWxlbnMiKXx8Yi5wYXJlbnQoKS5oYXNDbGFzcygiY2xvdWR6b29tLXpvb20taW5zaWRlIikpcmV0dXJuIGEucHJldmVudERlZmF1bHQoKSwhMX0pOycsJ2QucHJvdG90eXBlLk1hPWZ1bmN0aW9uKGEsYil7aWYoImh0bWwiPT1iLmNhcHRpb25UeXBlKXt2YXIgYztjPWUoYi5jYXB0aW9uU291cmNlKTtjLmxlbmd0aCYmYy5jc3MoImRpc3BsYXkiLCJub25lIil9fTtkLnByb3RvdHlwZS5yYT1mdW5jdGlvbigpe3RoaXMuZj10aGlzLmk9ImF1dG8iPT09dGhpcy5vcHRpb25zLnN0YXJ0TWFnbmlmaWNhdGlvbj90aGlzLmUvdGhpcy5hLndpZHRoKCk6dGhpcy5vcHRpb25zLnN0YXJ0TWFnbmlmaWNhdGlvbn07JywndGhpcy5mPHRoaXMuSSYmKHRoaXMuZj10aGlzLkkpO3RoaXMuZj50aGlzLkgmJih0aGlzLmY9dGhpcy5IKX07ZC5wcm90b3R5cGUudWE9ZnVuY3Rpb24oYSl7dGhpcy5jYXB0aW9uPW51bGw7ImF0dHIiPT10aGlzLm9wdGlvbnMuY2FwdGlvblR5cGU/KGE9YS5hdHRyKHRoaXMub3B0aW9ucy5jYXB0aW9uU291cmNlKSwiIiE9YSYmdm9pZCAwIT1hJiYodGhpcy5jYXB0aW9uPWEpKToiaHRtbCI9PXRoaXMub3B0aW9ucy5jYXB0aW9uVHlwZSYmKGE9ZSh0aGlzLm9wdGlvbnMuY2FwdGlvblNvdXJjZSksYS5sZW5ndGgmJih0aGlzLmNhcHRpb249YS5jbG9uZSgpLGEuY3NzKCJkaXNwbGF5Iiwibm9uZSIpKSl9OycsImQucHJvdG90eXBlLlJhPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pO2lmKG51bGwhPXRoaXMuYil7dmFyIGI9dGhpcy5oO3RoaXMubj1iLmIud2lkdGgoKS8odGhpcy5hLndpZHRoKCkqYSkqdGhpcy5hLndpZHRoKCk7dGhpcy5qPWIuYi5oZWlnaHQoKS8odGhpcy5hLmhlaWdodCgpKmEpKnRoaXMuYS5oZWlnaHQoKTt0aGlzLmotPWIucy9hO3RoaXMubS53aWR0aCh0aGlzLm4pO3RoaXMubS5oZWlnaHQodGhpcy5qKTt0aGlzLnAodGhpcy5nYSwwKX19O2QucHJvdG90eXBlLm9hPWZ1bmN0aW9uKGEpe3RoaXMuZis9YTsiLCdjbGVhclRpbWVvdXQodGhpcy5pbnRlcnZhbCk7dGhpcy5GKCk7dGhpcy51KCk7dGhpcy5wKGIsdGhpcy5qLzIpO3RoaXMudXBkYXRlKCk7YnJlYWs7Y2FzZSAidG91Y2hlbmQiOmNsZWFyVGltZW91dCh0aGlzLmludGVydmFsKTtudWxsPT10aGlzLmJ8fHRoaXMub3B0aW9ucy5wZXJtYVpvb218fCh0aGlzLmIucmVtb3ZlKCksdGhpcy5iPW51bGwsdGhpcy50KCkpO2JyZWFrO2Nhc2UgInRvdWNobW92ZSI6bnVsbD09dGhpcy5iJiYoY2xlYXJUaW1lb3V0KHRoaXMuaW50ZXJ2YWwpLHRoaXMuRigpLHRoaXMudSgpKX19OycsJ2YucHJldmVudERlZmF1bHQoKTtmLnN0b3BQcm9wYWdhdGlvbigpO3JldHVybiBmLnJldHVyblZhbHVlPSExfSk7aWYoYS5SKXtpZihhLmFhKCkpcmV0dXJuO2EuUT5wYXJzZUludChhLm9wdGlvbnMuaG92ZXJJbnRlbnREZWxheSkmJihhLkYoKSxhLnUoKSxhLnAoYS53LDApKX19YS5hLnRyaWdnZXIoImNsb3Vkem9vbV9yZWFkeSIpfX07ZC5wcm90b3R5cGUuamE9ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYSl7Y2FzZSAidG91Y2hzdGFydCI6aWYobnVsbCE9dGhpcy5iKWJyZWFrOycsJzI+YiYmMj09aC50b3VjaGVzLmxlbmd0aCYmKGM9YS5mLGc9ZShoLnRvdWNoZXNbMF0saC50b3VjaGVzWzFdKSk7Yj1oLnRvdWNoZXMubGVuZ3RoOzI9PWImJmEub3B0aW9ucy52YXJpYWJsZU1hZ25pZmljYXRpb24mJihoPWUoaC50b3VjaGVzWzBdLGgudG91Y2hlc1sxXSkvZyxhLmY9YS5OKCk/YypoOmMvaCxhLmY8YS5JJiYoYS5mPWEuSSksYS5mPmEuSCYmKGEuZj1hLkgpKTthLmphKCJ0b3VjaG1vdmUiLGspO2lmKGEub3B0aW9ucy5wcm9wYWdhdGVUb3VjaEV2ZW50cylyZXR1cm4hMDsnLCdpZihhLmFhKCkpcmV0dXJuITA7dmFyIGg9Zi5vcmlnaW5hbEV2ZW50LG49YS5hLm9mZnNldCgpLGs9e3g6MCx5OjB9LHA9aC50eXBlO2lmKCJ0b3VjaGVuZCI9PXAmJjA9PWgudG91Y2hlcy5sZW5ndGgpcmV0dXJuIGEuamEocCxrKSxhLm9wdGlvbnMucHJvcGFnYXRlVG91Y2hFdmVudHM7az1uZXcgZC5TKGgudG91Y2hlc1swXS5wYWdlWC1NYXRoLmZsb29yKG4ubGVmdCksaC50b3VjaGVzWzBdLnBhZ2VZLU1hdGguZmxvb3Iobi50b3ApKTthLnc9aztpZigidG91Y2hzdGFydCI9PXAmJjE9PWgudG91Y2hlcy5sZW5ndGgmJm51bGw9PWEuYilyZXR1cm4gYS5qYShwLGspLGEub3B0aW9ucy5wcm9wYWdhdGVUb3VjaEV2ZW50czsnLCdpZigidG91Y2hzdGFydCI9PT1iLnR5cGUpY2xlYXJUaW1lb3V0KGEubGEpLGEubGE9c2V0VGltZW91dChmdW5jdGlvbigpe2EuSj0hMTthLmEudHJpZ2dlcihiKX0sMTAwKTtlbHNlIGlmKGNsZWFyVGltZW91dChhLmxhKSwidG91Y2hlbmQiPT09Yi50eXBlKXJldHVybiBhLm9wdGlvbnMucHJvcGFnYXRlVG91Y2hFdmVudHM7cmV0dXJuITB9fSkpO2EuYS5iaW5kKCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCIsZnVuY3Rpb24oZil7YS5yPSJ0b3VjaCI7JywndmFyIGY9ITE7YS5hLmJpbmQoInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIixmdW5jdGlvbihiKXsidG91Y2hzdGFydCI9PWIudHlwZSYmKGY9ITApOyJ0b3VjaG1vdmUiPT1iLnR5cGUmJihmPSExKTsidG91Y2hlbmQiPT1iLnR5cGUmJmYmJihhLkRhKCksZj0hMSl9KTthLm9wdGlvbnMudG91Y2hTdGFydERlbGF5JiYoYS5KPSEwLGEuYS5iaW5kKCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCIsZnVuY3Rpb24oYil7aWYoYS5KKXthLnI9InRvdWNoIjsnLCdpZighYS5lYSl7YS5lYT0hMDthLiQoKTt2YXIgYj0wLGM9MCxnPTAsZT1mdW5jdGlvbihhLGIpe3JldHVybiBNYXRoLnNxcnQoKGEucGFnZVgtYi5wYWdlWCkqKGEucGFnZVgtYi5wYWdlWCkrKGEucGFnZVktYi5wYWdlWSkqKGEucGFnZVktYi5wYWdlWSkpfTthLmEuY3NzKHsiLW1zLXRvdWNoLWFjdGlvbiI6Im5vbmUiLCItbXMtdXNlci1zZWxlY3QiOiJub25lIiwiLXdlYmtpdC11c2VyLXNlbGVjdCI6Im5vbmUiLCItd2Via2l0LXRvdWNoLWNhbGxvdXQiOiJub25lIn0pOycsJ2EubWE9ITE7aWYoIk1TUG9pbnRlclVwIj09PWIudHlwZXx8InBvaW50ZXJ1cCI9PT1iLnR5cGUpYS5tYT0hMDtjJiYoYS53PWcpO2MmJiFhLlImJihhLmhhPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGEuUT0wKTthLlI9Y30pfTtkLnByb3RvdHlwZS55YT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5ZJiZhLlApe3RoaXMucmEoKTthLmU9YS5hLndpZHRoKCkqdGhpcy5pO2EuZz1hLmEuaGVpZ2h0KCkqdGhpcy5pO3RoaXMuVCgpO251bGwhPWEuaCYmKGEudCgpLGEudSgpLGEuSy5hdHRyKCJzcmMiLHgodGhpcy5hLmF0dHIoInNyYyIpLHRoaXMub3B0aW9ucykpLGEucChhLmdhLDApKTsnLCdlKGRvY3VtZW50KS5iaW5kKCJNU1BvaW50ZXJVcC4iK3RoaXMuaWQrIiBwb2ludGVydXAuIit0aGlzLmlkKyIgbW91c2VvdmVyLiIrdGhpcy5pZCsiIG1vdXNlbW92ZS4iK3RoaXMuaWQsZnVuY3Rpb24oYil7dmFyIGM9ITAsZz1hLmEub2Zmc2V0KCksZz1uZXcgZC5TKGIucGFnZVgtTWF0aC5mbG9vcihnLmxlZnQpLGIucGFnZVktTWF0aC5mbG9vcihnLnRvcCkpO2lmKC0xPmcueHx8Zy54PmEuZHx8MD5nLnl8fGcueT5hLmMpYS52JiYoY2xlYXJUaW1lb3V0KGEudiksYS52PTApLGM9ITEsYS5vcHRpb25zLnBlcm1hWm9vbXx8bnVsbD09PWEuYnx8KGEuYi5yZW1vdmUoKSxhLnQoKSxhLmI9bnVsbCk7JywnaWYoImF1dG8iPT10aGlzLm9wdGlvbnMuZGlzYWJsZVpvb20pe2lmKCFpc05hTih0aGlzLm9wdGlvbnMubWF4TWFnbmlmaWNhdGlvbikmJjE8dGhpcy5vcHRpb25zLm1heE1hZ25pZmljYXRpb24pcmV0dXJuITE7aWYodGhpcy5hLndpZHRoKCk+PXRoaXMuZSlyZXR1cm4hMH1yZXR1cm4hMX07ZC5wcm90b3R5cGUuWGE9ZnVuY3Rpb24oKXtlKGRvY3VtZW50KS51bmJpbmQoIi4iK3RoaXMuaWQpfTtkLnByb3RvdHlwZS5IYT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7JywnYj1uZXcgZC5TKGIucGFnZVgtYy5sZWZ0LGIucGFnZVktYy50b3ApO2EuRigpO2EudSgpO2EucChiLDApO2Eudz1ifX0pfTtkLnByb3RvdHlwZS5hYT1mdW5jdGlvbigpe2lmKHRoaXMudGF8fCF0aGlzLll8fCF0aGlzLlB8fGQuaWE8PXRoaXMub3B0aW9ucy5kaXNhYmxlT25TY3JlZW5XaWR0aHx8InRvdWNoIj09PXRoaXMuciYmdGhpcy5KKXJldHVybiEwO2lmKCExPT09dGhpcy5vcHRpb25zLmRpc2FibGVab29tKXJldHVybiExO2lmKCEwPT09dGhpcy5vcHRpb25zLmRpc2FibGVab29tKXJldHVybiEwOycsJ2QucHJvdG90eXBlLklhPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZighYS5vcHRpb25zLmhvdmVySW50ZW50RGVsYXkpcmV0dXJuITE7aWYoYS52KXJldHVybiEwO2Eudj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS52PSExO2EuRigpO2EudSgpO2EucChhLncsMCl9LHBhcnNlSW50KGEub3B0aW9ucy5ob3ZlckludGVudERlbGF5KSk7cmV0dXJuITB9O2QucHJvdG90eXBlLiQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMucj0iIjthLmEuYmluZChhLm9wdGlvbnMubW91c2VUcmlnZ2VyRXZlbnQrIi50cmlnZ2VyIixmdW5jdGlvbihiKXtpZigidG91Y2giIT09YS5yJiYoYS5yPSJtb3VzZSIsIWEuYWEoKSYmbnVsbD09YS5iJiYhYS5JYSgpKSl7dmFyIGM9YS5hLm9mZnNldCgpOycsJ3RoaXMuaD1udWxsfTtkLnByb3RvdHlwZS5kYT1mdW5jdGlvbigpe3RoaXMuWGEoKTt0aGlzLmEudW5iaW5kKCk7bnVsbCE9dGhpcy5iJiYodGhpcy5iLnVuYmluZCgpLHRoaXMudCgpKTt0aGlzLmEucmVtb3ZlRGF0YSgiQ2xvdWRab29tIik7ZSh0aGlzLm9wdGlvbnMuYXBwZW5kU2VsZWN0b3IpLmNoaWxkcmVuKCIuY2xvdWR6b29tLWZhZGUtIit0aGlzLmlkKS5yZW1vdmUoKTt0aGlzLnRhPSEwfTtkLnByb3RvdHlwZS5kZXN0cm95PWQucHJvdG90eXBlLmRhOycsJ3ZvaWQgMCE9PWc/KGEuVCgpLGEub3B0aW9ucy5lcnJvckNhbGxiYWNrKHskZWxlbWVudDphLmEsdHlwZToiSU1BR0VfTk9UX0ZPVU5EIixkYXRhOmcudmF9KSk6KGEuWT0hMCxhLnlhKCkpfSl9O2QucHJvdG90eXBlLmxvYWRJbWFnZT1kLnByb3RvdHlwZS5HO2QucHJvdG90eXBlLkdhPWZ1bmN0aW9uKCl7YWxlcnQoIkNsb3VkIFpvb20gQVBJIE9LIil9O2QucHJvdG90eXBlLmFwaVRlc3Q9ZC5wcm90b3R5cGUuR2E7ZC5wcm90b3R5cGUudD1mdW5jdGlvbigpe251bGwhPXRoaXMuaCYmKHRoaXMub3B0aW9ucy50b3VjaFN0YXJ0RGVsYXkmJih0aGlzLko9ITApLHRoaXMuaC5kYSgpLHRoaXMuYS50cmlnZ2VyKCJjbG91ZHpvb21fZW5kX3pvb20iKSk7JywnImJvZHkiIT09YS5vcHRpb25zLmFwcGVuZFNlbGVjdG9yJiYoYi09YS5hLm9mZnNldCgpLmxlZnQsZy09YS5hLm9mZnNldCgpLnRvcCk7YS5vLmNzcyh7bGVmdDpiLHRvcDpnfSl9LGIpO3RoaXMuQT1iPWUobmV3IEltYWdlKTtiLmF0dHIoImlkIiwiY2xvdWR6b29tLXpvb20taW1hZ2UtIithLmlkKTt0aGlzLkQ9bmV3IHcoYix0aGlzLm5hLGZ1bmN0aW9uKGIsZyl7YS5lPWJbMF0ud2lkdGg7YS5nPWJbMF0uaGVpZ2h0O2EuRD1udWxsO2QuYnJvd3Nlci5LYSYmLTE8bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImZpcmVmb3gvMzUiKSYmKGNvbnNvbGUubG9nKCJGRjM1IiksYi5jc3Moe29wYWNpdHk6MCx3aWR0aDoiMXB4IixoZWlnaHQ6ImF1dG8iLHBvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOmUod2luZG93KS5zY3JvbGxUb3AoKSsicHgiLGxlZnQ6ZSh3aW5kb3cpLnNjcm9sbExlZnQoKSsicHgifSksZSgiYm9keSIpLmFwcGVuZChiKSk7JywiZC5wcm90b3R5cGUuUWE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9MjUwO2Eub3B0aW9ucy5sYXp5TG9hZFpvb20mJihiPTApO2EucGE9c2V0VGltZW91dChmdW5jdGlvbigpe2Eubz1lKFwiPGRpdiBjbGFzcz0nY2xvdWR6b29tLWFqYXgtbG9hZGVyJyBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7bGVmdDowcHg7dG9wOjBweCcvPlwiKTtlKGEub3B0aW9ucy5hcHBlbmRTZWxlY3RvcikuYXBwZW5kKGEubyk7dmFyIGI9YS5vLndpZHRoKCksZz1hLm8uaGVpZ2h0KCksYj1hLmEub2Zmc2V0KCkubGVmdCthLmEud2lkdGgoKS8yLWIvMixnPWEuYS5vZmZzZXQoKS50b3ArYS5hLmhlaWdodCgpLzItZy8yOyIsJ3RoaXMuUD0hMTtudWxsIT10aGlzLkMmJih0aGlzLkMuY2FuY2VsKCksdGhpcy5DPW51bGwpO3ZhciBnPWUobmV3IEltYWdlKTt0aGlzLkM9bmV3IHcoZyxhLGZ1bmN0aW9uKGEsYil7Yy5DPW51bGw7ZShjLm9wdGlvbnMuYXBwZW5kU2VsZWN0b3IpLmNoaWxkcmVuKCIuY2xvdWR6b29tLWZhZGUtIitjLmlkKS5mYWRlT3V0KGMub3B0aW9ucy5mYWRlVGltZSxmdW5jdGlvbigpe2UodGhpcykucmVtb3ZlKCk7Yy5sPW51bGx9KTt2b2lkIDAhPT1iPyhjLmZhPSIiLGMuVCgpLGMub3B0aW9ucy5lcnJvckNhbGxiYWNrKHskZWxlbWVudDpjLmEsdHlwZToiSU1BR0VfTk9UX0ZPVU5EIixkYXRhOmIudmF9KSk6KGMuUD0hMCxjLmEuYXR0cigic3JjIixnLmF0dHIoInNyYyIpKSxjLmthKCksYy55YSgpKX0pfX07JywnaWYobnVsbCE9PWEpeyFjLm9wdGlvbnMuZ2FsbGVyeUZhZGV8fCFjLmVhfHxjLk4oKSYmbnVsbCE9Yy5ofHwoYy5sPWUobmV3IEltYWdlKS5jc3Moe3Bvc2l0aW9uOiJhYnNvbHV0ZSIsbGVmdDowLHRvcDowfSksYy5sLmF0dHIoInNyYyIsYy5hLmF0dHIoInNyYyIpKSxjLmwud2lkdGgoYy5hLndpZHRoKCkpLGMubC5oZWlnaHQoYy5hLmhlaWdodCgpKSwiYm9keSI9PT1jLm9wdGlvbnMuYXBwZW5kU2VsZWN0b3ImJmMubC5vZmZzZXQoYy5hLm9mZnNldCgpKSxjLmwuYWRkQ2xhc3MoImNsb3Vkem9vbS1mYWRlLSIrYy5pZCksZShjLm9wdGlvbnMuYXBwZW5kU2VsZWN0b3IpLmFwcGVuZChjLmwpKTsnLCdyZXR1cm4gYX07ZC5wcm90b3R5cGUuZ2V0R2FsbGVyeUxpc3Q9ZC5wcm90b3R5cGUuTGE7ZC5wcm90b3R5cGUuVD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnBhKTtudWxsIT10aGlzLm8mJnRoaXMuby5yZW1vdmUoKX07ZC5wcm90b3R5cGUuRz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7bnVsbCE9PWImJih0aGlzLlQoKSxlKHRoaXMub3B0aW9ucy5hcHBlbmRTZWxlY3RvcikuY2hpbGRyZW4oIi5jbG91ZHpvb20tZmFkZS0iK2MuaWQpLnJlbW92ZSgpLG51bGwhPXRoaXMuRCYmKHRoaXMuRC5jYW5jZWwoKSx0aGlzLkQ9bnVsbCksdGhpcy5uYT0iIiE9YiYmdm9pZCAwIT1iP2I6YSx0aGlzLlk9ITEsdGhpcy5RYSgpKTsnLCdpZigwPT10aGlzLmsubGVuZ3RoKXJldHVybntocmVmOnRoaXMub3B0aW9ucy56b29tSW1hZ2UsdGl0bGU6dGhpcy5hLmF0dHIoInRpdGxlIil9O2lmKHZvaWQgMCE9YSlyZXR1cm4gdGhpcy5rO2E9W107Zm9yKHZhciBjPTA7Yzx0aGlzLmsubGVuZ3RoJiZ0aGlzLmtbY10uaHJlZi5yZXBsYWNlKC9eXFwvfFxcLyQvZywiIikhPWI7YysrKTtmb3IoYj0wO2I8dGhpcy5rLmxlbmd0aDtiKyspYVtiXT10aGlzLmtbY10sYysrLGM+PXRoaXMuay5sZW5ndGgmJihjPTApOycsJ2lmKHRoaXMuUil7dmFyIGI9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dGhpcy5RKz1iLXRoaXMuaGE7dGhpcy5oYT1ifW51bGwhPWEmJih0aGlzLnAodGhpcy53LDApLHRoaXMuZiE9dGhpcy5pJiYodGhpcy5pKz0odGhpcy5mLXRoaXMuaSkvdGhpcy5vcHRpb25zLmVhc2luZywxRS00Pk1hdGguYWJzKHRoaXMuZi10aGlzLmkpJiYodGhpcy5pPXRoaXMuZiksdGhpcy5SYSgpKSxhLnVwZGF0ZSgpKX07ZC5pZD0wO2QucHJvdG90eXBlLkxhPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubmEucmVwbGFjZSgvXlxcL3xcXC8kL2csIiIpOycsJzU9PXY/QT0hMDo0PT12JiYoej0hMCk7ZC5pYT1lKHdpbmRvdykud2lkdGgoKTtlKHdpbmRvdykuYmluZCgicmVzaXplLmNsb3Vkem9vbSBvcmllbnRhdGlvbmNoYW5nZS5jbG91ZHpvb20iLGZ1bmN0aW9uKCl7ZC5pYT1lKHRoaXMpLndpZHRoKCl9KTtkLnByb3RvdHlwZS5OPWZ1bmN0aW9uKCl7cmV0dXJuImluc2lkZSI9PT10aGlzLm9wdGlvbnMuem9vbVBvc2l0aW9ufHxkLmlhPD10aGlzLm9wdGlvbnMuYXV0b0luc2lkZT8hMDohMX07ZC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5oOycsJ3ZhciByPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSx2PXJbci5sZW5ndGgtMV0uc3JjLmxhc3RJbmRleE9mKCIvIik7InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cuQ2xvdWRab29tfHxyW3IubGVuZ3RoLTFdLnNyYy5zbGljZSgwLHYpO3ZhciByPXdpbmRvdyxDPXJbbSgiPFpocHx0aG1tJiIpXSx1PSEwLEQ9ITEsRT1tKCI/VlNAUlNdIiksdj1tKCIyQkZGVl5WS1xcXFxePyIpLmxlbmd0aCx6PSExLEE9ITE7JywnYTspdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKHRbLS1hXSx5LCExKTtlbHNlIHRoaXMub25tb3VzZXdoZWVsPW51bGx9fTtlLmZuLmV4dGVuZCh7bW91c2V3aGVlbDpmdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoIm1vdXNld2hlZWwiLGEpOnRoaXMudHJpZ2dlcigibW91c2V3aGVlbCIpfSx1bm1vdXNld2hlZWw6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudW5iaW5kKCJtb3VzZXdoZWVsIixhKX19KTt3aW5kb3cuVGE9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oYSl7d2luZG93LnNldFRpbWVvdXQoYSwyMCl9fSgpOycsImlmKGUuZXZlbnQuZml4SG9va3MpZm9yKHZhciByPXQubGVuZ3RoO3I7KWUuZXZlbnQuZml4SG9va3NbdFstLXJdXT1lLmV2ZW50Lm1vdXNlSG9va3M7ZS5ldmVudC5zcGVjaWFsLm1vdXNld2hlZWw9e3NldHVwOmZ1bmN0aW9uKCl7aWYodGhpcy5hZGRFdmVudExpc3RlbmVyKWZvcih2YXIgYT10Lmxlbmd0aDthOyl0aGlzLmFkZEV2ZW50TGlzdGVuZXIodFstLWFdLHksITEpO2Vsc2UgdGhpcy5vbm1vdXNld2hlZWw9eX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIpZm9yKHZhciBhPXQubGVuZ3RoOyIsJ2Iud2hlZWxEZWx0YSYmKGc9Yi53aGVlbERlbHRhLzEyMCk7Yi5kZXRhaWwmJihnPS1iLmRldGFpbC8zKTtmPWc7dm9pZCAwIT09Yi5heGlzJiZiLmF4aXM9PT1iLkhPUklaT05UQUxfQVhJUyYmKGY9MCxkPS0xKmcpO3ZvaWQgMCE9PWIud2hlZWxEZWx0YVkmJihmPWIud2hlZWxEZWx0YVkvMTIwKTt2b2lkIDAhPT1iLndoZWVsRGVsdGFYJiYoZD0tMSpiLndoZWVsRGVsdGFYLzEyMCk7Yy51bnNoaWZ0KGEsZyxkLGYpO3JldHVybihlLmV2ZW50LmRpc3BhdGNofHxlLmV2ZW50LmhhbmRsZSkuYXBwbHkodGhpcyxjKX12YXIgdD1bIkRPTU1vdXNlU2Nyb2xsIiwibW91c2V3aGVlbCJdOycsJ2U8YS5sZW5ndGgtMTtlKyspYz1hW2ddKGUpLGNePWQmMzEsZCsrLGIrPVN0cmluZ1tCKCJcXHg2NlxceDcyXFx4NkZcXHg2RFxceDQzXFx4NjhcXHg2MVxceDcyXFx4NDNcXHg2RlxceDY0XFx4NjUiKV0oYyk7YVtnXShlKTtyZXR1cm4gYn1mdW5jdGlvbiBCKGEpe3JldHVybiBhO31mdW5jdGlvbiB5KGEpe3ZhciBiPWF8fHdpbmRvdy5ldmVudCxjPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGc9MCxkPTAsZj0wO2E9ZS5ldmVudC5maXgoYik7YS50eXBlPSJtb3VzZXdoZWVsIjsnLCd0aGlzLlI9ITE7dGhpcy5RPXRoaXMuaGE9MDtpZihhLmlzKCI6aGlkZGVuIikpdmFyIHE9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXthLmlzKCI6aGlkZGVuIil8fChjbGVhckludGVydmFsKHEpLGcoKSl9LDEwMCk7ZWxzZSBnKCk7dGhpcy5IYSgpO2MoKX1mdW5jdGlvbiB4KGEsYil7dmFyIGM9Yi51cmlFc2NhcGVNZXRob2Q7cmV0dXJuImVzY2FwZSI9PWM/ZXNjYXBlKGEpOiJlbmNvZGVVUkkiPT1jP2VuY29kZVVSSShhKTphfWZ1bmN0aW9uIG0oYSl7Zm9yKHZhciBiPSIiLGMsZz1CKCJcXHg2M1xceDY4XFx4NjFcXHg3MlxceDQzXFx4NkZcXHg2NFxceDY1XFx4NDFcXHg3NCIpLGQ9YVtnXSgwKS0zMixlPTE7JywndGhpcy53YT0wO3RoaXMuZmE9IiI7dGhpcy5iPXRoaXMuRD10aGlzLkM9bnVsbDt0aGlzLm5hPSIiO3RoaXMubWE9dGhpcy5QPXRoaXMuWT10aGlzLmVhPSExO3RoaXMubD1udWxsO3RoaXMuaWQ9KytkLmlkO3RoaXMuTT10aGlzLkFhPXRoaXMuemE9MDt0aGlzLm89dGhpcy5oPW51bGw7dGhpcy5DYT10aGlzLkg9dGhpcy5JPXRoaXMuZj10aGlzLmk9dGhpcy5wYT0wO3RoaXMudWEoYSk7dGhpcy50YT0hMTt0aGlzLnY9MDt0aGlzLko9ITE7dGhpcy5sYT0wO3RoaXMucj0iIjsnLCd0aGlzLmNhPWYud2lkdGgoKTt0aGlzLmJhPWYuaGVpZ2h0KCk7Yi56b29tV2lkdGgmJih0aGlzLmNhPWIuem9vbVdpZHRoLHRoaXMuYmE9Yi56b29tSGVpZ2h0KTtmLnJlbW92ZSgpO3RoaXMub3B0aW9ucz1iO3RoaXMuYT1hO3RoaXMuQT1udWxsO3RoaXMuZz10aGlzLmU9dGhpcy5kPXRoaXMuYz0wO3RoaXMuSz10aGlzLm09bnVsbDt0aGlzLmo9dGhpcy5uPTA7dGhpcy53PXt4OjAseTowfTt0aGlzLllhPXRoaXMuY2FwdGlvbj0iIjt0aGlzLmdhPXt4OjAseTowfTt0aGlzLms9W107JywnYj1lLmV4dGVuZCh7fSxiLGYpOzE+Yi5lYXNpbmcmJihiLmVhc2luZz0xKTtmPWEucGFyZW50KCk7Zi5pcygiYSIpJiYiIj09Yi56b29tSW1hZ2UmJihiLnpvb21JbWFnZT1mLmF0dHIoImhyZWYiKSxmLnJlbW92ZUF0dHIoImhyZWYiKSk7Zj1lKCI8ZGl2IGNsYXNzPVwnIitiLnpvb21DbGFzcysiXCc8XC9kaXY+Iik7ZSgiYm9keSIpLmFwcGVuZChmKTt0aGlzLlY9InRyYW5zbGF0ZVooMCkiO3RoaXMuVT0iLXdlYmtpdC10cmFuc2Zvcm0iOycsJ2IubGF6eUxvYWRab29tPyhsLkcoYyxudWxsKSxhLmJpbmQoInRvdWNoc3RhcnQucHJlbG9hZCAiK2wub3B0aW9ucy5tb3VzZVRyaWdnZXJFdmVudCsiLnByZWxvYWQiLGZ1bmN0aW9uKCl7bC5hLnVuYmluZCgiLnByZWxvYWQiKTtsLkcobnVsbCxiLnpvb21JbWFnZSl9KSk6bC5HKGMsYi56b29tSW1hZ2UpfXZhciBsPXRoaXM7Yj1lLmV4dGVuZCh7fSxlLmZuLkNsb3VkWm9vbS5kZWZhdWx0cyxiKTt2YXIgZj1kLnhhKGEsZS5mbi5DbG91ZFpvb20uYXR0cik7JywndGhpcy5OYT1hWzBdO3RoaXMuc2E9Yzt0aGlzLkJhPSEwO3ZhciBnPXRoaXM7YS5iaW5kKCJlcnJvciIsZnVuY3Rpb24oKXtnLnNhKGEse3ZhOmJ9KX0pO2EuYmluZCgibG9hZCIsZnVuY3Rpb24oKXtnLkJhPSExO2cuc2EoYSl9KTt0aGlzLk5hLnNyYz1ifWZ1bmN0aW9uIGQoYSxiKXtmdW5jdGlvbiBjKCl7bC51cGRhdGUoKTt3aW5kb3cuVGEoYyl9ZnVuY3Rpb24gZygpe3ZhciBjO2M9IiIhPWIuaW1hZ2U/Yi5pbWFnZToiIithLmF0dHIoInNyYyIpOycsImE9ay5oZWlnaHQoKTt0aGlzLkw9ITE7Yi5vcHRpb25zLnpvb21GbHlPdXQ/KGY9Yi5hLm9mZnNldCgpLGYubGVmdCs9Yi5kLzIsZi50b3ArPWIuYy8yLGsub2Zmc2V0KGYpLGsud2lkdGgoMCksay5oZWlnaHQoMCksay5hbmltYXRlKHtsZWZ0OmMsdG9wOmcsd2lkdGg6ZCxoZWlnaHQ6YSxvcGFjaXR5OjF9LHtkdXJhdGlvbjpiLm9wdGlvbnMuYW5pbWF0aW9uVGltZSxjb21wbGV0ZTpmdW5jdGlvbigpe3EuTD0hMH19KSk6KGsub2Zmc2V0KHtsZWZ0OmMsdG9wOmd9KSxrLndpZHRoKGQpLGsuaGVpZ2h0KGEpLGsuYW5pbWF0ZSh7b3BhY2l0eToxfSx7ZHVyYXRpb246Yi5vcHRpb25zLmFuaW1hdGlvblRpbWUsY29tcGxldGU6ZnVuY3Rpb24oKXtxLkw9ITB9fSkpfWZ1bmN0aW9uIHcoYSxiLGMpe3RoaXMuYT1hOyIsJ2suY3NzKHtvcGFjaXR5OjAuMSx3aWR0aDpkLGhlaWdodDpmK3RoaXMuc30pO3RoaXMuem9vbS5JPSJhdXRvIj09PWIub3B0aW9ucy5taW5NYWduaWZpY2F0aW9uP01hdGgubWF4KGQvYi5hLndpZHRoKCksZi9iLmEuaGVpZ2h0KCkpOmIub3B0aW9ucy5taW5NYWduaWZpY2F0aW9uO3RoaXMuem9vbS5IPSJhdXRvIj09PWIub3B0aW9ucy5tYXhNYWduaWZpY2F0aW9uP24ud2lkdGgoKS9iLmEud2lkdGgoKTpiLm9wdGlvbnMubWF4TWFnbmlmaWNhdGlvbjsnLCdyZXR1cm4hMX0pO2Iub3B0aW9ucy52YXJpYWJsZU1hZ25pZmljYXRpb24mJm4uYmluZCgibW91c2V3aGVlbCIsZnVuY3Rpb24oYSxiKXtxLnpvb20ub2EoMC4xKmIpO3JldHVybiExfSk7cS5BPW47bi53aWR0aChxLnpvb20uZSk7bi5jc3MoYi5VLGIuVik7cS5iLmNzcyhiLlUsYi5WKTt2YXIgaz1xLmI7ay5hcHBlbmQobik7dmFyIHA9ZSgiPGRpdiBzdHlsZT1cJ3Bvc2l0aW9uOmFic29sdXRlO1wnPjxcL2Rpdj4iKTthLmNhcHRpb24/KCJodG1sIj09Yi5vcHRpb25zLmNhcHRpb25UeXBlP2g9YS5jYXB0aW9uOiJhdHRyIj09Yi5vcHRpb25zLmNhcHRpb25UeXBlJiYoaD1lKCI8ZGl2IGNsYXNzPVwnY2xvdWR6b29tLWNhcHRpb25cJz4iK2EuY2FwdGlvbisiPFwvZGl2PiIpKSxoLmNzcygiZGlzcGxheSIsImJsb2NrIikscC5jc3Moe3dpZHRoOmR9KSxrLmFwcGVuZChwKSxwLmFwcGVuZChoKSxlKGIub3B0aW9ucy5hcHBlbmRTZWxlY3RvcikuYXBwZW5kKGspLHRoaXMucz1oLm91dGVySGVpZ2h0KCksImJvdHRvbSI9PWIub3B0aW9ucy5jYXB0aW9uUG9zaXRpb24/cC5jc3MoInRvcCIsZik6KHAuY3NzKCJ0b3AiLDApLHRoaXMuRWE9dGhpcy5zKSk6ZShiLm9wdGlvbnMuYXBwZW5kU2VsZWN0b3IpLmFwcGVuZChrKTsnLCdvdmVyZmxvdzpoaWRkZW5cJyAgPjxcL2Rpdj4iKTt2YXIgbj1xLnpvb20uQTtuLmF0dHIoInN0eWxlIiwiaGVpZ2h0OmF1dG87LXdlYmtpdC10b3VjaC1jYWxsb3V0Om5vbmU7cG9zaXRpb246YWJzb2x1dGU7bWF4LXdpZHRoOm5vbmUgIWltcG9ydGFudCIpO24uYXR0cigiZGF0YS1waW4tbm8taG92ZXIiLCJ0cnVlIik7Imluc2lkZSI9PWIub3B0aW9ucy5wb3NpdGlvbiYmbi5iaW5kKCJ0b3VjaHN0YXJ0IixmdW5jdGlvbihhKXthLnByZXZlbnREZWZhdWx0KCk7JywnKGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHMoYSl7dmFyIGI9YS56b29tLGM9YS5XLGc9YS5YOyJib2R5IiE9PWIub3B0aW9ucy5hcHBlbmRTZWxlY3RvciYmKGMtPWIuYS5vZmZzZXQoKS5sZWZ0LGctPWIuYS5vZmZzZXQoKS50b3ApO3ZhciBkPWEuZSxmPWEuZzt0aGlzLmRhdGE9YTt0aGlzLkE9dGhpcy5iPW51bGw7dGhpcy5FYT0wO3RoaXMuem9vbT1iO3RoaXMuTD0hMDt0aGlzLnM9dGhpcy5pbnRlcnZhbD10aGlzLkI9dGhpcy5xPTA7dmFyIHE9dGhpcyxoO3EuYj1lKCI8ZGl2IGNsYXNzPVwnIithLk8rIlwnIHN0eWxlPVwncG9zaXRpb246YWJzb2x1dGU7J10ucmV2ZXJzZSgpLmpvaW4oIiIpKSgpOwovKiEKICogRm9vVGFibGUgLSBBd2Vzb21lIFJlc3BvbnNpdmUgVGFibGVzCiAqIFZlcnNpb24gOiAyLjAuMS4yCiAqIGh0dHA6Ly9mb29wbHVnaW5zLmNvbS9wbHVnaW5zL2Zvb3RhYmxlLWpxdWVyeS8KICoKICogUmVxdWlyZXMgalF1ZXJ5IC0gaHR0cDovL2pxdWVyeS5jb20vCiAqCiAqIENvcHlyaWdodCAyMDEzIFN0ZXZlbiBVc2hlciAmIEJyYWQgVmluY2VudAogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UKICogWW91IGFyZSBmcmVlIHRvIHVzZSBGb29UYWJsZSBpbiBjb21tZXJjaWFsIHByb2plY3RzIGFzIGxvbmcgYXMgdGhpcyBjb3B5cmlnaHQgaGVhZGVyIGlzIGxlZnQgaW50YWN0LgogKgogKiBEYXRlOiAyMSBTZXAgMjAxMwogKi8KJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXt2YXIgbj0iLm9yZGVyLXN1bW1hcnktY29udGVudCAuY2FydCwgLndpc2hsaXN0LWNvbnRlbnQgLmNhcnQsIC5yZXR1cm4tcmVxdWVzdC1wYWdlIC5kYXRhLXRhYmxlIix0PSIudXBkYXRlLWNhcnQtYnV0dG9uLCAudXBkYXRlLXdpc2hsaXN0LWJ1dHRvbiwgLnN1Ym1pdC1yZXR1cm4tcmVxdWVzdC1idXR0b24iOyQobikubGVuZ3RoPDF8fCQodCkubGVuZ3RoPDF8fCQodCkub25lKCJjbGljayIsZnVuY3Rpb24oKXskKG4pLmZpbmQoInRyIikubm90KCIuZm9vdGFibGUtcm93LWRldGFpbCIpLmZpbmQoImlucHV0LCBzZWxlY3QiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9JCh0aGlzKSxpPSQobikuZmluZCgiaW5wdXQsIHNlbGVjdCIpLmZpbHRlcignW25hbWU9IicrdC5hdHRyKCJuYW1lIikrJyJdJykubm90KHQpOyJjaGVja2JveCI9PXQuYXR0cigidHlwZSIpJiYoaT1pLmZpbHRlcignW3ZhbHVlPSInK3QuYXR0cigidmFsdWUiKSsnIl0nKSk7MDxpLmxlbmd0aCYmKCJjaGVja2JveCI9PXQuYXR0cigidHlwZSIpP3QuYXR0cigiY2hlY2tlZCIsaS5maXJzdCgpLmlzKCI6Y2hlY2tlZCIpKTp0LnZhbChpLmZpcnN0KCkudmFsKCkpLGkucmVtb3ZlKCkpfSl9KX0pLGZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gaSgpe3ZhciBuPXRoaXM7bi5pZD1udWxsO24uYnVzeT0hMTtuLnN0YXJ0PWZ1bmN0aW9uKHQsaSl7bi5idXN5fHwobi5zdG9wKCksbi5pZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dCgpO24uaWQ9bnVsbDtuLmJ1c3k9ITF9LGkpLG4uYnVzeT0hMCl9O24uc3RvcD1mdW5jdGlvbigpe251bGwhPT1uLmlkJiYoY2xlYXJUaW1lb3V0KG4uaWQpLG4uaWQ9bnVsbCxuLmJ1c3k9ITEpfX1mdW5jdGlvbiB1KHIsdSxmKXt2YXIgZT10aGlzO2UuaWQ9ZjtlLnRhYmxlPXI7ZS5vcHRpb25zPXU7ZS5icmVha3BvaW50cz1bXTtlLmJyZWFrcG9pbnROYW1lcz0iIjtlLmNvbHVtbnM9e307ZS5wbHVnaW5zPXQuZm9vdGFibGUucGx1Z2lucy5sb2FkKGUpO3ZhciBzPWUub3B0aW9ucyxvPXMuY2xhc3NlcyxjPXMuZXZlbnRzLGg9cy50cmlnZ2VycyxsPTA7cmV0dXJuIGUudGltZXJzPXtyZXNpemU6bmV3IGkscmVnaXN0ZXI6ZnVuY3Rpb24obil7cmV0dXJuIGUudGltZXJzW25dPW5ldyBpLGUudGltZXJzW25dfX0sZS5pbml0PWZ1bmN0aW9uKCl7dmFyIHU9bih0KSxpPW4oZS50YWJsZSkscjtpZih0LmZvb3RhYmxlLnBsdWdpbnMuaW5pdChlKSxpLmhhc0NsYXNzKG8ubG9hZGVkKSllLnJhaXNlKGMuYWxyZWFkeUluaXRpYWxpemVkKTtlbHNle2ZvcihyIGluIGUucmFpc2UoYy5pbml0aWFsaXppbmcpLGkuYWRkQ2xhc3Moby5sb2FkaW5nKSxpLmZpbmQocy5jb2x1bW5EYXRhU2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oKXt2YXIgbj1lLmdldENvbHVtbkRhdGEodGhpcyk7ZS5jb2x1bW5zW24uaW5kZXhdPW59KSxzLmJyZWFrcG9pbnRzKWUuYnJlYWtwb2ludHMucHVzaCh7bmFtZTpyLHdpZHRoOnMuYnJlYWtwb2ludHNbcl19KSxlLmJyZWFrcG9pbnROYW1lcys9cisiICI7ZS5icmVha3BvaW50cy5zb3J0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4ud2lkdGgtdC53aWR0aH0pO2kudW5iaW5kKGguaW5pdGlhbGl6ZSkuYmluZChoLmluaXRpYWxpemUsZnVuY3Rpb24oKXtpLnJlbW92ZURhdGEoImZvb3RhYmxlX2luZm8iKTtpLmRhdGEoImJyZWFrcG9pbnQiLCIiKTtpLnRyaWdnZXIoaC5yZXNpemUpO2kucmVtb3ZlQ2xhc3Moby5sb2FkaW5nKTtpLmFkZENsYXNzKG8ubG9hZGVkKS5hZGRDbGFzcyhvLm1haW4pO2UucmFpc2UoYy5pbml0aWFsaXplZCl9KS51bmJpbmQoaC5yZWRyYXcpLmJpbmQoaC5yZWRyYXcsZnVuY3Rpb24oKXtlLnJlZHJhdygpfSkudW5iaW5kKGgucmVzaXplKS5iaW5kKGgucmVzaXplLGZ1bmN0aW9uKCl7ZS5yZXNpemUoKX0pLnVuYmluZChoLmV4cGFuZEZpcnN0Um93KS5iaW5kKGguZXhwYW5kRmlyc3RSb3csZnVuY3Rpb24oKXtpLmZpbmQocy50b2dnbGVTZWxlY3RvcikuZmlyc3QoKS5ub3QoIi4iK28uZGV0YWlsU2hvdykudHJpZ2dlcihoLnRvZ2dsZVJvdyl9KS51bmJpbmQoaC5leHBhbmRBbGwpLmJpbmQoaC5leHBhbmRBbGwsZnVuY3Rpb24oKXtpLmZpbmQocy50b2dnbGVTZWxlY3Rvcikubm90KCIuIitvLmRldGFpbFNob3cpLnRyaWdnZXIoaC50b2dnbGVSb3cpfSkudW5iaW5kKGguY29sbGFwc2VBbGwpLmJpbmQoaC5jb2xsYXBzZUFsbCxmdW5jdGlvbigpe2kuZmluZCgiLiIrby5kZXRhaWxTaG93KS50cmlnZ2VyKGgudG9nZ2xlUm93KX0pO2kudHJpZ2dlcihoLmluaXRpYWxpemUpO3UuYmluZCgicmVzaXplLmZvb3RhYmxlIixmdW5jdGlvbigpe2UudGltZXJzLnJlc2l6ZS5zdG9wKCk7ZS50aW1lcnMucmVzaXplLnN0YXJ0KGZ1bmN0aW9uKCl7ZS5yYWlzZShoLnJlc2l6ZSl9LHMuZGVsYXkpfSl9fSxlLmFkZFJvd1RvZ2dsZT1mdW5jdGlvbigpe3ZhciB0LGksdSxyLGY7aWYocy5hZGRSb3dUb2dnbGUpe3Q9bihlLnRhYmxlKTtpPSExO2Zvcih1IGluIHQuZmluZCgic3Bhbi4iK28udG9nZ2xlKS5yZW1vdmUoKSxlLmNvbHVtbnMpaWYocj1lLmNvbHVtbnNbdV0sci50b2dnbGUpcmV0dXJuIGk9ITAsZj0iPiB0Ym9keSA+IHRyOm5vdCguIitvLmRldGFpbCsiLC4iK28uZGlzYWJsZWQrIikgPiB0ZDpudGgtY2hpbGQoIisocGFyc2VJbnQoci5pbmRleCwxMCkrMSkrIikiLHZvaWQgdC5maW5kKGYpLm5vdCgiLiIrby5kZXRhaWxDZWxsKS5wcmVwZW5kKG4ocy50b2dnbGVIVE1MRWxlbWVudCkuYWRkQ2xhc3Moby50b2dnbGUpKTtpfHx0LmZpbmQoIj4gdGJvZHkgPiB0cjpub3QoLiIrby5kZXRhaWwrIiwuIitvLmRpc2FibGVkKyIpID4gdGQ6Zmlyc3QtY2hpbGQiKS5ub3QoIi4iK28uZGV0YWlsQ2VsbCkucHJlcGVuZChuKHMudG9nZ2xlSFRNTEVsZW1lbnQpLmFkZENsYXNzKG8udG9nZ2xlKSl9fSxlLnNldENvbHVtbkNsYXNzZXM9ZnVuY3Rpb24oKXt2YXIgdSx0LGkscjtmb3IodSBpbiAkdGFibGU9bihlLnRhYmxlKSxlLmNvbHVtbnMpdD1lLmNvbHVtbnNbdV0sbnVsbCE9PXQuY2xhc3NOYW1lJiYoaT0iIixyPSEwLG4uZWFjaCh0Lm1hdGNoZXMsZnVuY3Rpb24obix0KXtyfHwoaSs9IiwgIik7aSs9Ij4gdGJvZHkgPiB0cjpub3QoLiIrby5kZXRhaWwrIikgPiB0ZDpudGgtY2hpbGQoIisocGFyc2VJbnQodCwxMCkrMSkrIikiO3I9ITF9KSwkdGFibGUuZmluZChpKS5ub3QoIi4iK28uZGV0YWlsQ2VsbCkuYWRkQ2xhc3ModC5jbGFzc05hbWUpKX0sZS5iaW5kVG9nZ2xlU2VsZWN0b3JzPWZ1bmN0aW9uKCl7dmFyIHQ9bihlLnRhYmxlKTtlLmhhc0FueUJyZWFrcG9pbnRDb2x1bW4oKSYmKHQuZmluZChzLnRvZ2dsZVNlbGVjdG9yKS51bmJpbmQoaC50b2dnbGVSb3cpLmJpbmQoaC50b2dnbGVSb3csZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLmlzKCJ0ciIpP24odGhpcyk6bih0aGlzKS5wYXJlbnRzKCJ0cjpmaXJzdCIpO2UudG9nZ2xlRGV0YWlsKHQpfSksdC5maW5kKHMudG9nZ2xlU2VsZWN0b3IpLnVuYmluZCgiY2xpY2suZm9vdGFibGUiKS5iaW5kKCJjbGljay5mb290YWJsZSIsZnVuY3Rpb24oaSl7dC5pcygiLmJyZWFrcG9pbnQiKSYmbihpLnRhcmdldCkuaXMoInRkLC4iK28udG9nZ2xlKSYmbih0aGlzKS50cmlnZ2VyKGgudG9nZ2xlUm93KX0pKX0sZS5wYXJzZT1mdW5jdGlvbihuLHQpe3JldHVybihzLnBhcnNlcnNbdC50eXBlXXx8cy5wYXJzZXJzLmFscGhhKShuKX0sZS5nZXRDb2x1bW5EYXRhPWZ1bmN0aW9uKHQpe3ZhciBpPW4odCksZj1pLmRhdGEoImhpZGUiKSxiPWkuaW5kZXgoKSxyLHcseSxwLGgsbyx1LGEsdjtpZihmPWZ8fCIiLGY9alF1ZXJ5Lm1hcChmLnNwbGl0KCIsIiksZnVuY3Rpb24obil7cmV0dXJuIGpRdWVyeS50cmltKG4pfSkscj17aW5kZXg6YixoaWRlOnt9LHR5cGU6aS5kYXRhKCJ0eXBlIil8fCJhbHBoYSIsbmFtZTppLmRhdGEoIm5hbWUiKXx8bi50cmltKGkudGV4dCgpKSxpZ25vcmU6aS5kYXRhKCJpZ25vcmUiKXx8ITEsdG9nZ2xlOmkuZGF0YSgidG9nZ2xlIil8fCExLGNsYXNzTmFtZTppLmRhdGEoImNsYXNzIil8fG51bGwsbWF0Y2hlczpbXSxuYW1lczp7fSxncm91cDppLmRhdGEoImdyb3VwIil8fG51bGwsZ3JvdXBOYW1lOm51bGx9LG51bGwhPT1yLmdyb3VwJiYodz1uKGUudGFibGUpLmZpbmQoJz4gdGhlYWQgPiB0ci5mb290YWJsZS1ncm91cC1yb3cgPiB0aFtkYXRhLWdyb3VwPSInK3IuZ3JvdXArJyJdLCA+IHRoZWFkID4gdHIuZm9vdGFibGUtZ3JvdXAtcm93ID4gdGRbZGF0YS1ncm91cD0iJytyLmdyb3VwKyciXScpLmZpcnN0KCksci5ncm91cE5hbWU9ZS5wYXJzZSh3LHt0eXBlOiJhbHBoYSJ9KSkseT1wYXJzZUludChpLnByZXYoKS5hdHRyKCJjb2xzcGFuIil8fDAsMTApLGwrPTE8eT95LTE6MCxwPXBhcnNlSW50KGkuYXR0cigiY29sc3BhbiIpfHwwLDEwKSxoPXIuaW5kZXgrbCwxPHApZm9yKG89aS5kYXRhKCJuYW1lcyIpLG89KG89b3x8IiIpLnNwbGl0KCIsIiksdT0wO3U8cDt1Kyspci5tYXRjaGVzLnB1c2godStoKSx1PG8ubGVuZ3RoJiYoci5uYW1lc1t1K2hdPW9bdV0pO2Vsc2Ugci5tYXRjaGVzLnB1c2goaCk7ci5oaWRlLmRlZmF1bHQ9ImFsbCI9PT1pLmRhdGEoImhpZGUiKXx8MDw9bi5pbkFycmF5KCJkZWZhdWx0IixmKTthPSExO2Zvcih2IGluIHMuYnJlYWtwb2ludHMpci5oaWRlW3ZdPSJhbGwiPT09aS5kYXRhKCJoaWRlIil8fDA8PW4uaW5BcnJheSh2LGYpLGE9YXx8ci5oaWRlW3ZdO3JldHVybiByLmhhc0JyZWFrcG9pbnQ9YSxlLnJhaXNlKGMuY29sdW1uRGF0YSx7Y29sdW1uOntkYXRhOnIsdGg6dH19KS5jb2x1bW4uZGF0YX0sZS5nZXRWaWV3cG9ydFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5pbm5lcldpZHRofHwoZG9jdW1lbnQuYm9keT9kb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoOjApfSxlLmNhbGN1bGF0ZVdpZHRoPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGpRdWVyeS5pc0Z1bmN0aW9uKHMuY2FsY3VsYXRlV2lkdGhPdmVycmlkZSk/cy5jYWxjdWxhdGVXaWR0aE92ZXJyaWRlKG4sdCk6KHQudmlld3BvcnRXaWR0aDx0LndpZHRoJiYodC53aWR0aD10LnZpZXdwb3J0V2lkdGgpLHQucGFyZW50V2lkdGg8dC53aWR0aCYmKHQud2lkdGg9dC5wYXJlbnRXaWR0aCksdCl9LGUuaGFzQnJlYWtwb2ludENvbHVtbj1mdW5jdGlvbihuKXtmb3IodmFyIHQgaW4gZS5jb2x1bW5zKWlmKGUuY29sdW1uc1t0XS5oaWRlW25dKXtpZihlLmNvbHVtbnNbdF0uaWdub3JlKWNvbnRpbnVlO3JldHVybiEwfXJldHVybiExfSxlLmhhc0FueUJyZWFrcG9pbnRDb2x1bW49ZnVuY3Rpb24oKXtmb3IodmFyIG4gaW4gZS5jb2x1bW5zKWlmKGUuY29sdW1uc1tuXS5oYXNCcmVha3BvaW50KXJldHVybiEwO3JldHVybiExfSxlLnJlc2l6ZT1mdW5jdGlvbigpe3ZhciB0PW4oZS50YWJsZSksaSxyLGYsbyxzO2lmKHQuaXMoIjp2aXNpYmxlIikmJmUuaGFzQW55QnJlYWtwb2ludENvbHVtbigpKXtpZihpPXt3aWR0aDp0LndpZHRoKCksdmlld3BvcnRXaWR0aDplLmdldFZpZXdwb3J0V2lkdGgoKSxwYXJlbnRXaWR0aDp0LnBhcmVudCgpLndpZHRoKCl9LGk9ZS5jYWxjdWxhdGVXaWR0aCh0LGkpLHI9dC5kYXRhKCJmb290YWJsZV9pbmZvIiksdC5kYXRhKCJmb290YWJsZV9pbmZvIixpKSxlLnJhaXNlKGMucmVzaXppbmcse29sZDpyLGluZm86aX0pLCFyfHxyJiZyLndpZHRoJiZyLndpZHRoIT09aS53aWR0aCl7Zm9yKG89bnVsbCxzPTA7czxlLmJyZWFrcG9pbnRzLmxlbmd0aDtzKyspaWYoKGY9ZS5icmVha3BvaW50c1tzXSkmJmYud2lkdGgmJmkud2lkdGg8PWYud2lkdGgpe289ZjticmVha312YXIgdT1udWxsPT09bz8iZGVmYXVsdCI6by5uYW1lLGw9ZS5oYXNCcmVha3BvaW50Q29sdW1uKHUpLGE9dC5kYXRhKCJicmVha3BvaW50Iik7dC5kYXRhKCJicmVha3BvaW50Iix1KS5yZW1vdmVDbGFzcygiZGVmYXVsdCBicmVha3BvaW50IikucmVtb3ZlQ2xhc3MoZS5icmVha3BvaW50TmFtZXMpLmFkZENsYXNzKHUrKGw/IiBicmVha3BvaW50IjoiIikpO3UhPT1hJiYodC50cmlnZ2VyKGgucmVkcmF3KSxlLnJhaXNlKGMuYnJlYWtwb2ludCx7YnJlYWtwb2ludDp1LGluZm86aX0pKX1lLnJhaXNlKGMucmVzaXplZCx7b2xkOnIsaW5mbzppfSl9fSxlLnJlZHJhdz1mdW5jdGlvbigpe2UuYWRkUm93VG9nZ2xlKCk7ZS5iaW5kVG9nZ2xlU2VsZWN0b3JzKCk7ZS5zZXRDb2x1bW5DbGFzc2VzKCk7dmFyIHQ9bihlLnRhYmxlKSxpPXQuZGF0YSgiYnJlYWtwb2ludCIpLHI9ZS5oYXNCcmVha3BvaW50Q29sdW1uKGkpO3QuZmluZCgiPiB0Ym9keSA+IHRyOm5vdCguIitvLmRldGFpbCsiKSIpLmRhdGEoImRldGFpbF9jcmVhdGVkIiwhMSkuZW5kKCkuZmluZCgiPiB0aGVhZCA+IHRyOmxhc3QtY2hpbGQgPiB0aCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1lLmNvbHVtbnNbbih0aGlzKS5pbmRleCgpXSx1PSIiLGg9ITAsZjtpZihuLmVhY2goci5tYXRjaGVzLGZ1bmN0aW9uKG4sdCl7aHx8KHUrPSIsICIpO3ZhciBpPXQrMTt1Kz0iPiB0Ym9keSA+IHRyOm5vdCguIitvLmRldGFpbCsiKSA+IHRkOm50aC1jaGlsZCgiK2krIikiO3UrPSIsID4gdGZvb3QgPiB0cjpub3QoLiIrby5kZXRhaWwrIikgPiB0ZDpudGgtY2hpbGQoIitpKyIpIjt1Kz0iLCA+IGNvbGdyb3VwID4gY29sOm50aC1jaGlsZCgiK2krIikiO2g9ITF9KSx1Kz0nLCA+IHRoZWFkID4gdHJbZGF0YS1ncm91cC1yb3c9InRydWUiXSA+IHRoW2RhdGEtZ3JvdXA9Iicrci5ncm91cCsnIl0nLGY9dC5maW5kKHUpLmFkZCh0aGlzKSwhMT09PXIuaGlkZVtpXT9mLnNob3coKTpmLmhpZGUoKSwxPT09dC5maW5kKCI+IHRoZWFkID4gdHIuZm9vdGFibGUtZ3JvdXAtcm93IikubGVuZ3RoKXt2YXIgbD10LmZpbmQoJz4gdGhlYWQgPiB0cjpsYXN0LWNoaWxkID4gdGhbZGF0YS1ncm91cD0iJytyLmdyb3VwKyciXTp2aXNpYmxlLCA+IHRoZWFkID4gdHI6bGFzdC1jaGlsZCA+IHRoW2RhdGEtZ3JvdXA9Iicrci5ncm91cCsnIl06dmlzaWJsZScpLGM9dC5maW5kKCc+IHRoZWFkID4gdHIuZm9vdGFibGUtZ3JvdXAtcm93ID4gdGhbZGF0YS1ncm91cD0iJytyLmdyb3VwKyciXSwgPiB0aGVhZCA+IHRyLmZvb3RhYmxlLWdyb3VwLXJvdyA+IHRkW2RhdGEtZ3JvdXA9Iicrci5ncm91cCsnIl0nKSxzPTA7bi5lYWNoKGwsZnVuY3Rpb24oKXtzKz1wYXJzZUludChuKHRoaXMpLmF0dHIoImNvbHNwYW4iKXx8MSwxMCl9KTswPHM/Yy5hdHRyKCJjb2xzcGFuIixzKS5zaG93KCk6Yy5oaWRlKCl9fSkuZW5kKCkuZmluZCgiPiB0Ym9keSA+IHRyLiIrby5kZXRhaWxTaG93KS5lYWNoKGZ1bmN0aW9uKCl7ZS5jcmVhdGVPclVwZGF0ZURldGFpbFJvdyh0aGlzKX0pO3QuZmluZCgiPiB0Ym9keSA+IHRyLiIrby5kZXRhaWxTaG93KyI6dmlzaWJsZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLm5leHQoKTt0Lmhhc0NsYXNzKG8uZGV0YWlsKSYmKHI/dC5zaG93KCk6dC5oaWRlKCkpfSk7dC5maW5kKCI+IHRoZWFkID4gdHIgPiB0aC5mb290YWJsZS1sYXN0LWNvbHVtbiwgPiB0Ym9keSA+IHRyID4gdGQuZm9vdGFibGUtbGFzdC1jb2x1bW4iKS5yZW1vdmVDbGFzcygiZm9vdGFibGUtbGFzdC1jb2x1bW4iKTt0LmZpbmQoIj4gdGhlYWQgPiB0ciA+IHRoLmZvb3RhYmxlLWZpcnN0LWNvbHVtbiwgPiB0Ym9keSA+IHRyID4gdGQuZm9vdGFibGUtZmlyc3QtY29sdW1uIikucmVtb3ZlQ2xhc3MoImZvb3RhYmxlLWZpcnN0LWNvbHVtbiIpO3QuZmluZCgiPiB0aGVhZCA+IHRyLCA+IHRib2R5ID4gdHIiKS5maW5kKCI+IHRoOnZpc2libGU6bGFzdCwgPiB0ZDp2aXNpYmxlOmxhc3QiKS5hZGRDbGFzcygiZm9vdGFibGUtbGFzdC1jb2x1bW4iKS5lbmQoKS5maW5kKCI+IHRoOnZpc2libGU6Zmlyc3QsID4gdGQ6dmlzaWJsZTpmaXJzdCIpLmFkZENsYXNzKCJmb290YWJsZS1maXJzdC1jb2x1bW4iKTtlLnJhaXNlKGMucmVkcmF3bil9LGUudG9nZ2xlRGV0YWlsPWZ1bmN0aW9uKHQpe3ZhciBpPXQuanF1ZXJ5P3Q6bih0KSxyPWkubmV4dCgpO2kuaGFzQ2xhc3Moby5kZXRhaWxTaG93KT8oaS5yZW1vdmVDbGFzcyhvLmRldGFpbFNob3cpLHIuaGFzQ2xhc3Moby5kZXRhaWwpJiZyLmhpZGUoKSxlLnJhaXNlKGMucm93Q29sbGFwc2VkLHtyb3c6aVswXX0pKTooZS5jcmVhdGVPclVwZGF0ZURldGFpbFJvdyhpWzBdKSxpLmFkZENsYXNzKG8uZGV0YWlsU2hvdykubmV4dCgpLnNob3coKSxlLnJhaXNlKGMucm93RXhwYW5kZWQse3JvdzppWzBdfSksbi5ldmVudC50cmlnZ2VyKCJmb290YWJsZVJvd09wZW5lZCIpKX0sZS5yZW1vdmVSb3c9ZnVuY3Rpb24odCl7dmFyIGk9dC5qcXVlcnk/dDpuKHQpLHI7aS5oYXNDbGFzcyhvLmRldGFpbCkmJihpPWkucHJldigpKTtyPWkubmV4dCgpOyEwPT09aS5kYXRhKCJkZXRhaWxfY3JlYXRlZCIpJiZyLnJlbW92ZSgpO2kucmVtb3ZlKCk7ZS5yYWlzZShjLnJvd1JlbW92ZWQpfSxlLmFwcGVuZFJvdz1mdW5jdGlvbih0KXt2YXIgaT10LmpxdWVyeT90Om4odCk7bihlLnRhYmxlKS5maW5kKCJ0Ym9keSIpLmFwcGVuZChpKTtlLnJlZHJhdygpfSxlLmdldENvbHVtbkZyb21UZEluZGV4PWZ1bmN0aW9uKHQpe3ZhciBpPW51bGw7Zm9yKHZhciByIGluIGUuY29sdW1ucylpZigwPD1uLmluQXJyYXkodCxlLmNvbHVtbnNbcl0ubWF0Y2hlcykpe2k9ZS5jb2x1bW5zW3JdO2JyZWFrfXJldHVybiBpfSxlLmNyZWF0ZU9yVXBkYXRlRGV0YWlsUm93PWZ1bmN0aW9uKHQpe3ZhciBoLGk9bih0KSxyPWkubmV4dCgpLHU9W10sbCxmO3JldHVybiEwPT09aS5kYXRhKCJkZXRhaWxfY3JlYXRlZCIpPyEwOmkuaXMoIjpoaWRkZW4iKT8hMTooZS5yYWlzZShjLnJvd0RldGFpbFVwZGF0aW5nLHtyb3c6aSxkZXRhaWw6cn0pLGkuZmluZCgiPiB0ZDpoaWRkZW4iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bih0aGlzKS5pbmRleCgpLHQ9ZS5nZXRDb2x1bW5Gcm9tVGRJbmRleChpKSxyPXQubmFtZTtyZXR1cm4hMD09PXQuaWdub3JlfHwoaSBpbiB0Lm5hbWVzJiYocj10Lm5hbWVzW2ldKSx1LnB1c2goe25hbWU6cix2YWx1ZTplLnBhcnNlKHRoaXMsdCksZGlzcGxheTpuLnRyaW0obih0aGlzKS5odG1sKCkpLGdyb3VwOnQuZ3JvdXAsZ3JvdXBOYW1lOnQuZ3JvdXBOYW1lfSkpLCEwfSksMD09PXUubGVuZ3RoKT8hMToobD1pLmZpbmQoIj4gdGQ6dmlzaWJsZSIpLmxlbmd0aCxmPXIuaGFzQ2xhc3Moby5kZXRhaWwpLGZ8fChyPW4oJzx0ciBjbGFzcz0iJytvLmRldGFpbCsnIj48dGQgY2xhc3M9Iicrby5kZXRhaWxDZWxsKyciPjxkaXYgY2xhc3M9Iicrby5kZXRhaWxJbm5lcisnIj48XC9kaXY+PFwvdGQ+PFwvdHI+JyksaS5hZnRlcihyKSksci5maW5kKCI+IHRkOmZpcnN0IikuYXR0cigiY29sc3BhbiIsbCksaD1yLmZpbmQoIi4iK28uZGV0YWlsSW5uZXIpLmVtcHR5KCkscy5jcmVhdGVEZXRhaWwoaCx1LHMuY3JlYXRlR3JvdXBlZERldGFpbCxzLmRldGFpbFNlcGFyYXRvcixvKSxpLmRhdGEoImRldGFpbF9jcmVhdGVkIiwhMCksZS5yYWlzZShjLnJvd0RldGFpbFVwZGF0ZWQse3JvdzppLGRldGFpbDpyfSksIWYpfSxlLnJhaXNlPWZ1bmN0aW9uKHQsaSl7dmFyIHUscjtyZXR1cm4hMD09PWUub3B0aW9ucy5kZWJ1ZyYmbi5pc0Z1bmN0aW9uKGUub3B0aW9ucy5sb2cpJiZlLm9wdGlvbnMubG9nKHQsImV2ZW50IiksaT1pfHx7fSx1PXtmdDplfSxuLmV4dGVuZCghMCx1LGkpLHI9bi5FdmVudCh0LHUpLHIuZnR8fG4uZXh0ZW5kKCEwLHIsdSksbihlLnRhYmxlKS50cmlnZ2VyKHIpLHJ9LGUucmVzZXQ9ZnVuY3Rpb24oKXt2YXIgdD1uKGUudGFibGUpO3QucmVtb3ZlRGF0YSgiZm9vdGFibGVfaW5mbyIpLmRhdGEoImJyZWFrcG9pbnQiLCIiKS5yZW1vdmVDbGFzcyhvLmxvYWRpbmcpLnJlbW92ZUNsYXNzKG8ubG9hZGVkKTt0LmZpbmQocy50b2dnbGVTZWxlY3RvcikudW5iaW5kKGgudG9nZ2xlUm93KS51bmJpbmQoImNsaWNrLmZvb3RhYmxlIik7dC5maW5kKCI+IHRib2R5ID4gdHIiKS5yZW1vdmVDbGFzcyhvLmRldGFpbFNob3cpO3QuZmluZCgiPiB0Ym9keSA+IHRyLiIrby5kZXRhaWwpLnJlbW92ZSgpO2UucmFpc2UoYy5yZXNldCl9LGUuaW5pdCgpLGV9dC5mb290YWJsZT17b3B0aW9uczp7ZGVsYXk6MTAwLGJyZWFrcG9pbnRzOnt3NDEwOjQxMCx3NDgwOjQ4MCx3NTgwOjU4MCx3NzY4Ojc2OCx3OTgwOjk4MCx3MTAwMDoxZTN9LHBhcnNlcnM6e2FscGhhOmZ1bmN0aW9uKHQpe3JldHVybiBuKHQpLmRhdGEoInZhbHVlIil8fG4udHJpbShuKHQpLnRleHQoKSl9LG51bWVyaWM6ZnVuY3Rpb24odCl7dmFyIGk9bih0KS5kYXRhKCJ2YWx1ZSIpfHxuKHQpLnRleHQoKS5yZXBsYWNlKC9bXjAtOS5cLV0vZywiIik7cmV0dXJuIGk9cGFyc2VGbG9hdChpKSxpc05hTihpKSYmKGk9MCksaX19LGFkZFJvd1RvZ2dsZTohMCxjYWxjdWxhdGVXaWR0aE92ZXJyaWRlOm51bGwsdG9nZ2xlU2VsZWN0b3I6IiA+IHRib2R5ID4gdHI6bm90KC5mb290YWJsZS1yb3ctZGV0YWlsKSIsY29sdW1uRGF0YVNlbGVjdG9yOiI+IHRoZWFkID4gdHI6bGFzdC1jaGlsZCA+IHRoLCA+IHRoZWFkID4gdHI6bGFzdC1jaGlsZCA+IHRkIixkZXRhaWxTZXBhcmF0b3I6IjoiLHRvZ2dsZUhUTUxFbGVtZW50OiI8c3BhbiAvPiIsY3JlYXRlR3JvdXBlZERldGFpbDpmdW5jdGlvbihuKXtmb3IodmFyIHIsaT17X25vbmU6e25hbWU6bnVsbCxkYXRhOltdfX0sdD0wO3Q8bi5sZW5ndGg7dCsrKXI9blt0XS5ncm91cCxudWxsIT09cj8ociBpbiBpfHwoaVtyXT17bmFtZTpuW3RdLmdyb3VwTmFtZXx8blt0XS5ncm91cCxkYXRhOltdfSksaVtyXS5kYXRhLnB1c2goblt0XSkpOmkuX25vbmUuZGF0YS5wdXNoKG5bdF0pO3JldHVybiBpfSxjcmVhdGVEZXRhaWw6ZnVuY3Rpb24obix0LGkscix1KXt2YXIgZT1pKHQpLGYsbyxzO2ZvcihmIGluIGUpaWYoMCE9PWVbZl0uZGF0YS5sZW5ndGgpZm9yKCJfbm9uZSIhPT1mJiZuLmFwcGVuZCgnPGRpdiBjbGFzcz0iJyt1LmRldGFpbElubmVyR3JvdXArJyI+JytlW2ZdLm5hbWUrIjxcL2Rpdj4iKSxvPTA7bzxlW2ZdLmRhdGEubGVuZ3RoO28rKylzPWVbZl0uZGF0YVtvXS5uYW1lP3I6IiIsbi5hcHBlbmQoJzxkaXYgY2xhc3M9IicrdS5kZXRhaWxJbm5lclJvdysnIj48ZGl2IGNsYXNzPSInK3UuZGV0YWlsSW5uZXJOYW1lKyciPicrZVtmXS5kYXRhW29dLm5hbWUrcysnPFwvZGl2PjxkaXYgY2xhc3M9IicrdS5kZXRhaWxJbm5lclZhbHVlKyciPicrZVtmXS5kYXRhW29dLmRpc3BsYXkrIjxcL2Rpdj48XC9kaXY+Iil9LGNsYXNzZXM6e21haW46ImZvb3RhYmxlIixsb2FkaW5nOiJmb290YWJsZS1sb2FkaW5nIixsb2FkZWQ6ImZvb3RhYmxlLWxvYWRlZCIsdG9nZ2xlOiJmb290YWJsZS10b2dnbGUiLGRpc2FibGVkOiJmb290YWJsZS1kaXNhYmxlZCIsZGV0YWlsOiJmb290YWJsZS1yb3ctZGV0YWlsIixkZXRhaWxDZWxsOiJmb290YWJsZS1yb3ctZGV0YWlsLWNlbGwiLGRldGFpbElubmVyOiJmb290YWJsZS1yb3ctZGV0YWlsLWlubmVyIixkZXRhaWxJbm5lclJvdzoiZm9vdGFibGUtcm93LWRldGFpbC1yb3ciLGRldGFpbElubmVyR3JvdXA6ImZvb3RhYmxlLXJvdy1kZXRhaWwtZ3JvdXAiLGRldGFpbElubmVyTmFtZToiZm9vdGFibGUtcm93LWRldGFpbC1uYW1lIixkZXRhaWxJbm5lclZhbHVlOiJmb290YWJsZS1yb3ctZGV0YWlsLXZhbHVlIixkZXRhaWxTaG93OiJmb290YWJsZS1kZXRhaWwtc2hvdyJ9LHRyaWdnZXJzOntpbml0aWFsaXplOiJmb290YWJsZV9pbml0aWFsaXplIixyZXNpemU6ImZvb3RhYmxlX3Jlc2l6ZSIscmVkcmF3OiJmb290YWJsZV9yZWRyYXciLHRvZ2dsZVJvdzoiZm9vdGFibGVfdG9nZ2xlX3JvdyIsZXhwYW5kRmlyc3RSb3c6ImZvb3RhYmxlX2V4cGFuZF9maXJzdF9yb3ciLGV4cGFuZEFsbDoiZm9vdGFibGVfZXhwYW5kX2FsbCIsY29sbGFwc2VBbGw6ImZvb3RhYmxlX2NvbGxhcHNlX2FsbCJ9LGV2ZW50czp7YWxyZWFkeUluaXRpYWxpemVkOiJmb290YWJsZV9hbHJlYWR5X2luaXRpYWxpemVkIixpbml0aWFsaXppbmc6ImZvb3RhYmxlX2luaXRpYWxpemluZyIsaW5pdGlhbGl6ZWQ6ImZvb3RhYmxlX2luaXRpYWxpemVkIixyZXNpemluZzoiZm9vdGFibGVfcmVzaXppbmciLHJlc2l6ZWQ6ImZvb3RhYmxlX3Jlc2l6ZWQiLHJlZHJhd246ImZvb3RhYmxlX3JlZHJhd24iLGJyZWFrcG9pbnQ6ImZvb3RhYmxlX2JyZWFrcG9pbnQiLGNvbHVtbkRhdGE6ImZvb3RhYmxlX2NvbHVtbl9kYXRhIixyb3dEZXRhaWxVcGRhdGluZzoiZm9vdGFibGVfcm93X2RldGFpbF91cGRhdGluZyIscm93RGV0YWlsVXBkYXRlZDoiZm9vdGFibGVfcm93X2RldGFpbF91cGRhdGVkIixyb3dDb2xsYXBzZWQ6ImZvb3RhYmxlX3Jvd19jb2xsYXBzZWQiLHJvd0V4cGFuZGVkOiJmb290YWJsZV9yb3dfZXhwYW5kZWQiLHJvd1JlbW92ZWQ6ImZvb3RhYmxlX3Jvd19yZW1vdmVkIixyZXNldDoiZm9vdGFibGVfcmVzZXQifSxkZWJ1ZzohMSxsb2c6bnVsbH0sdmVyc2lvbjp7bWFqb3I6MCxtaW5vcjo1LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHQuZm9vdGFibGUudmVyc2lvbi5tYWpvcisiLiIrdC5mb290YWJsZS52ZXJzaW9uLm1pbm9yfSxwYXJzZTpmdW5jdGlvbihuKXtyZXR1cm4gdmVyc2lvbj0vKFxkKylcLj8oXGQrKT9cLj8oXGQrKT8vLmV4ZWMobikse21ham9yOnBhcnNlSW50KHZlcnNpb25bMV0sMTApfHwwLG1pbm9yOnBhcnNlSW50KHZlcnNpb25bMl0sMTApfHwwLHBhdGNoOnBhcnNlSW50KHZlcnNpb25bM10sMTApfHwwfX19LHBsdWdpbnM6e192YWxpZGF0ZTpmdW5jdGlvbihpKXtpZighbi5pc0Z1bmN0aW9uKGkpKXJldHVybiEwPT09dC5mb290YWJsZS5vcHRpb25zLmRlYnVnJiZjb25zb2xlLmVycm9yKCdWYWxpZGF0aW9uIGZhaWxlZCwgZXhwZWN0ZWQgdHlwZSAiZnVuY3Rpb24iLCByZWNlaXZlZCB0eXBlICJ7MH0iLicsdHlwZW9mIGkpLCExO3ZhciByPW5ldyBpO3JldHVybiJzdHJpbmciIT10eXBlb2Ygci5uYW1lPyghMD09PXQuZm9vdGFibGUub3B0aW9ucy5kZWJ1ZyYmY29uc29sZS5lcnJvcignVmFsaWRhdGlvbiBmYWlsZWQsIHBsdWdpbiBkb2VzIG5vdCBpbXBsZW1lbnQgYSBzdHJpbmcgcHJvcGVydHkgY2FsbGVkICJuYW1lIi4nLHIpLCExKTpuLmlzRnVuY3Rpb24oci5pbml0KT8oITA9PT10LmZvb3RhYmxlLm9wdGlvbnMuZGVidWcmJmNvbnNvbGUubG9nKCdWYWxpZGF0aW9uIHN1Y2NlZWRlZCBmb3IgcGx1Z2luICInK3IubmFtZSsnIi4nLHIpLCEwKTooITA9PT10LmZvb3RhYmxlLm9wdGlvbnMuZGVidWcmJmNvbnNvbGUuZXJyb3IoJ1ZhbGlkYXRpb24gZmFpbGVkLCBwbHVnaW4gIicrci5uYW1lKyciIGRvZXMgbm90IGltcGxlbWVudCBhIGZ1bmN0aW9uIGNhbGxlZCAiaW5pdCIuJyxyKSwhMSl9LHJlZ2lzdGVyZWQ6W10scmVnaXN0ZXI6ZnVuY3Rpb24oaSxyKXt0LmZvb3RhYmxlLnBsdWdpbnMuX3ZhbGlkYXRlKGkpJiYodC5mb290YWJsZS5wbHVnaW5zLnJlZ2lzdGVyZWQucHVzaChpKSwib2JqZWN0Ij09dHlwZW9mIHImJm4uZXh0ZW5kKCEwLHQuZm9vdGFibGUub3B0aW9ucyxyKSl9LGxvYWQ6ZnVuY3Rpb24obil7Zm9yKHZhciByLHU9W10saT0wO2k8dC5mb290YWJsZS5wbHVnaW5zLnJlZ2lzdGVyZWQubGVuZ3RoO2krKyl0cnl7cj10LmZvb3RhYmxlLnBsdWdpbnMucmVnaXN0ZXJlZFtpXTt1LnB1c2gobmV3IHIobikpfWNhdGNoKG4peyEwPT09dC5mb290YWJsZS5vcHRpb25zLmRlYnVnJiZjb25zb2xlLmVycm9yKG4pfXJldHVybiB1fSxpbml0OmZ1bmN0aW9uKG4pe2Zvcih2YXIgaT0wO2k8bi5wbHVnaW5zLmxlbmd0aDtpKyspdHJ5e24ucGx1Z2luc1tpXS5pbml0KG4pfWNhdGNoKG4peyEwPT09dC5mb290YWJsZS5vcHRpb25zLmRlYnVnJiZjb25zb2xlLmVycm9yKG4pfX19fTt2YXIgcj0wO24uZm4uZm9vdGFibGU9ZnVuY3Rpb24oaSl7aT1pfHx7fTt2YXIgZj1uLmV4dGVuZCghMCx7fSx0LmZvb3RhYmxlLm9wdGlvbnMsaSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PW5ldyB1KHRoaXMsZiwrK3IpO24odGhpcykuZGF0YSgiZm9vdGFibGUiLHQpfSl9fShqUXVlcnksd2luZG93KTsKLyohIHBlcmZlY3Qtc2Nyb2xsYmFyIC0gdjAuNS44CiogaHR0cDovL25vcmFlc2FlLmdpdGh1Yi5jb20vcGVyZmVjdC1zY3JvbGxiYXIvCiogQ29weXJpZ2h0IChjKSAyMDE0IEh5dW5qZSBBbGV4IEp1bjsgTGljZW5zZWQgTUlUICovCihmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJqcXVlcnkiXSxuKToib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHM/bihyZXF1aXJlKCJqcXVlcnkiKSk6bihqUXVlcnkpfSkoZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQobil7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBuP3BhcnNlSW50KG4sMTApOn5+bn12YXIgaT17d2hlZWxTcGVlZDoxLHdoZWVsUHJvcGFnYXRpb246ITEsc3dpcGVQcm9wYWdhdGlvbjohMCxtaW5TY3JvbGxiYXJMZW5ndGg6bnVsbCxtYXhTY3JvbGxiYXJMZW5ndGg6bnVsbCx1c2VCb3RoV2hlZWxBeGVzOiExLHVzZUtleWJvYXJkOiEwLHN1cHByZXNzU2Nyb2xsWDohMSxzdXBwcmVzc1Njcm9sbFk6ITEsc2Nyb2xsWE1hcmdpbk9mZnNldDowLHNjcm9sbFlNYXJnaW5PZmZzZXQ6MCxpbmNsdWRlUGFkZGluZzohMX0scj0wLHU9ZnVuY3Rpb24oKXt2YXIgbj1yKys7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBpPSIucGVyZmVjdC1zY3JvbGxiYXItIituO3JldHVybiB0PT09dm9pZCAwP2k6dCtpfX0sZj0iV2Via2l0QXBwZWFyYW5jZSJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7bi5mbi5wZXJmZWN0U2Nyb2xsYmFyPWZ1bmN0aW9uKHIsZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2Z1bmN0aW9uIGR0KG4saSl7dmFyIHI9bitpLHU9di13LGY7bnQ9MD5yPzA6cj51P3U6cjtmPXQobnQqKGItdikvKHYtdykpO28uc2Nyb2xsVG9wKGYpfWZ1bmN0aW9uIGd0KG4saSl7dmFyIHI9bitpLHU9YS1wLGY7Zz0wPnI/MDpyPnU/dTpyO2Y9dChnKih5LWEpLyhhLXApKTtvLnNjcm9sbExlZnQoZil9ZnVuY3Rpb24gdnQobil7cmV0dXJuIGgubWluU2Nyb2xsYmFyTGVuZ3RoJiYobj1NYXRoLm1heChuLGgubWluU2Nyb2xsYmFyTGVuZ3RoKSksaC5tYXhTY3JvbGxiYXJMZW5ndGgmJihuPU1hdGgubWluKG4saC5tYXhTY3JvbGxiYXJMZW5ndGgpKSxufWZ1bmN0aW9uIG5pKCl7dmFyIG49e3dpZHRoOnV0fSx0O24ubGVmdD1zdD9vLnNjcm9sbExlZnQoKSthLXk6by5zY3JvbGxMZWZ0KCk7Y3Q/bi5ib3R0b209aHQtby5zY3JvbGxUb3AoKTpuLnRvcD13dCtvLnNjcm9sbFRvcCgpO2MuY3NzKG4pO3Q9e3RvcDpvLnNjcm9sbFRvcCgpLGhlaWdodDpmdH07bHQ/dC5yaWdodD1zdD95LW8uc2Nyb2xsTGVmdCgpLW90LXR0Lm91dGVyV2lkdGgoKTpvdC1vLnNjcm9sbExlZnQoKTp0LmxlZnQ9c3Q/by5zY3JvbGxMZWZ0KCkrMiphLXktYXQtdHQub3V0ZXJXaWR0aCgpOmF0K28uc2Nyb2xsTGVmdCgpO2wuY3NzKHQpO2V0LmNzcyh7bGVmdDpnLHdpZHRoOnAtYWl9KTt0dC5jc3Moe3RvcDpudCxoZWlnaHQ6dy15aX0pfWZ1bmN0aW9uIGQoKXtvLnJlbW92ZUNsYXNzKCJwcy1hY3RpdmUteCIpO28ucmVtb3ZlQ2xhc3MoInBzLWFjdGl2ZS15Iik7YT1oLmluY2x1ZGVQYWRkaW5nP28uaW5uZXJXaWR0aCgpOm8ud2lkdGgoKTt2PWguaW5jbHVkZVBhZGRpbmc/by5pbm5lckhlaWdodCgpOm8uaGVpZ2h0KCk7eT1vLnByb3AoInNjcm9sbFdpZHRoIik7Yj1vLnByb3AoInNjcm9sbEhlaWdodCIpOyFoLnN1cHByZXNzU2Nyb2xsWCYmeT5hK2guc2Nyb2xsWE1hcmdpbk9mZnNldD8oaXQ9ITAsdXQ9YS12aSxwPXZ0KHQodXQqYS95KSksZz10KG8uc2Nyb2xsTGVmdCgpKih1dC1wKS8oeS1hKSkpOihpdD0hMSxwPTAsZz0wLG8uc2Nyb2xsTGVmdCgwKSk7IWguc3VwcHJlc3NTY3JvbGxZJiZiPnYraC5zY3JvbGxZTWFyZ2luT2Zmc2V0PyhydD0hMCxmdD12LXBpLHc9dnQodChmdCp2L2IpKSxudD10KG8uc2Nyb2xsVG9wKCkqKGZ0LXcpLyhiLXYpKSk6KHJ0PSExLHc9MCxudD0wLG8uc2Nyb2xsVG9wKDApKTtnPj11dC1wJiYoZz11dC1wKTtudD49ZnQtdyYmKG50PWZ0LXcpO25pKCk7aXQmJm8uYWRkQ2xhc3MoInBzLWFjdGl2ZS14Iik7cnQmJm8uYWRkQ2xhc3MoInBzLWFjdGl2ZS15Iil9ZnVuY3Rpb24gdGkoKXt2YXIgdCxpLHI9ZnVuY3Rpb24obil7Z3QodCxuLnBhZ2VYLWkpO2QoKTtuLnN0b3BQcm9wYWdhdGlvbigpO24ucHJldmVudERlZmF1bHQoKX0sdT1mdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoImluLXNjcm9sbGluZyIpO24oaykudW5iaW5kKHMoIm1vdXNlbW92ZSIpLHIpfTtldC5iaW5kKHMoIm1vdXNlZG93biIpLGZ1bmN0aW9uKGYpe2k9Zi5wYWdlWDt0PWV0LnBvc2l0aW9uKCkubGVmdDtjLmFkZENsYXNzKCJpbi1zY3JvbGxpbmciKTtuKGspLmJpbmQocygibW91c2Vtb3ZlIikscik7bihrKS5vbmUocygibW91c2V1cCIpLHUpO2Yuc3RvcFByb3BhZ2F0aW9uKCk7Zi5wcmV2ZW50RGVmYXVsdCgpfSk7dD1pPW51bGx9ZnVuY3Rpb24gaWkoKXt2YXIgdCxpLHI9ZnVuY3Rpb24obil7ZHQodCxuLnBhZ2VZLWkpO2QoKTtuLnN0b3BQcm9wYWdhdGlvbigpO24ucHJldmVudERlZmF1bHQoKX0sdT1mdW5jdGlvbigpe2wucmVtb3ZlQ2xhc3MoImluLXNjcm9sbGluZyIpO24oaykudW5iaW5kKHMoIm1vdXNlbW92ZSIpLHIpfTt0dC5iaW5kKHMoIm1vdXNlZG93biIpLGZ1bmN0aW9uKGYpe2k9Zi5wYWdlWTt0PXR0LnBvc2l0aW9uKCkudG9wO2wuYWRkQ2xhc3MoImluLXNjcm9sbGluZyIpO24oaykuYmluZChzKCJtb3VzZW1vdmUiKSxyKTtuKGspLm9uZShzKCJtb3VzZXVwIiksdSk7Zi5zdG9wUHJvcGFnYXRpb24oKTtmLnByZXZlbnREZWZhdWx0KCl9KTt0PWk9bnVsbH1mdW5jdGlvbiB5dChuLHQpe3ZhciByPW8uc2Nyb2xsVG9wKCksaTtpZigwPT09bil7aWYoIXJ0KXJldHVybiExO2lmKDA9PT1yJiZ0PjB8fHI+PWItdiYmMD50KXJldHVybiFoLndoZWVsUHJvcGFnYXRpb259aWYoaT1vLnNjcm9sbExlZnQoKSwwPT09dCl7aWYoIWl0KXJldHVybiExO2lmKDA9PT1pJiYwPm58fGk+PXktYSYmbj4wKXJldHVybiFoLndoZWVsUHJvcGFnYXRpb259cmV0dXJuITB9ZnVuY3Rpb24gcmkobix0KXt2YXIgaT1vLnNjcm9sbFRvcCgpLHI9by5zY3JvbGxMZWZ0KCksdT1NYXRoLmFicyhuKSxmPU1hdGguYWJzKHQpO2lmKGY+dSl7aWYoMD50JiZpPT09Yi12fHx0PjAmJjA9PT1pKXJldHVybiFoLnN3aXBlUHJvcGFnYXRpb259ZWxzZSBpZih1PmYmJigwPm4mJnI9PT15LWF8fG4+MCYmMD09PXIpKXJldHVybiFoLnN3aXBlUHJvcGFnYXRpb247cmV0dXJuITB9ZnVuY3Rpb24gdWkoKXtmdW5jdGlvbiBpKG4pe3ZhciB0PW4ub3JpZ2luYWxFdmVudC5kZWx0YVgsaT0tMSpuLm9yaWdpbmFsRXZlbnQuZGVsdGFZO3JldHVybih0PT09dm9pZCAwfHxpPT09dm9pZCAwKSYmKHQ9bi5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGFYLy02LGk9bi5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGFZLzYpLG4ub3JpZ2luYWxFdmVudC5kZWx0YU1vZGUmJjE9PT1uLm9yaWdpbmFsRXZlbnQuZGVsdGFNb2RlJiYodCo9MTAsaSo9MTApLHQhPT10JiZpIT09aSYmKHQ9MCxpPW4ub3JpZ2luYWxFdmVudC53aGVlbERlbHRhKSxbdCxpXX1mdW5jdGlvbiB0KHQpe2lmKGZ8fCEoby5maW5kKCJzZWxlY3Q6Zm9jdXMiKS5sZW5ndGg+MCkpe3ZhciBlPWkodCkscj1lWzBdLHU9ZVsxXTtuPSExO2gudXNlQm90aFdoZWVsQXhlcz9ydCYmIWl0Pyh1P28uc2Nyb2xsVG9wKG8uc2Nyb2xsVG9wKCktdSpoLndoZWVsU3BlZWQpOm8uc2Nyb2xsVG9wKG8uc2Nyb2xsVG9wKCkrcipoLndoZWVsU3BlZWQpLG49ITApOml0JiYhcnQmJihyP28uc2Nyb2xsTGVmdChvLnNjcm9sbExlZnQoKStyKmgud2hlZWxTcGVlZCk6by5zY3JvbGxMZWZ0KG8uc2Nyb2xsTGVmdCgpLXUqaC53aGVlbFNwZWVkKSxuPSEwKTooby5zY3JvbGxUb3Aoby5zY3JvbGxUb3AoKS11Kmgud2hlZWxTcGVlZCksby5zY3JvbGxMZWZ0KG8uc2Nyb2xsTGVmdCgpK3IqaC53aGVlbFNwZWVkKSk7ZCgpO249bnx8eXQocix1KTtuJiYodC5zdG9wUHJvcGFnYXRpb24oKSx0LnByZXZlbnREZWZhdWx0KCkpfX12YXIgbj0hMTt3aW5kb3cub253aGVlbCE9PXZvaWQgMD9vLmJpbmQocygid2hlZWwiKSx0KTp3aW5kb3cub25tb3VzZXdoZWVsIT09dm9pZCAwJiZvLmJpbmQocygibW91c2V3aGVlbCIpLHQpfWZ1bmN0aW9uIGZpKCl7dmFyIHQ9ITEsaTtvLmJpbmQocygibW91c2VlbnRlciIpLGZ1bmN0aW9uKCl7dD0hMH0pO28uYmluZChzKCJtb3VzZWxlYXZlIiksZnVuY3Rpb24oKXt0PSExfSk7aT0hMTtuKGspLmJpbmQocygia2V5ZG93biIpLGZ1bmN0aW9uKHIpe3ZhciBmLGUsdTtpZigoIXIuaXNEZWZhdWx0UHJldmVudGVkfHwhci5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkmJnQpe2ZvcihmPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ/ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDprLmFjdGl2ZUVsZW1lbnQ7Zi5zaGFkb3dSb290OylmPWYuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50O2lmKCFuKGYpLmlzKCI6aW5wdXQsW2NvbnRlbnRlZGl0YWJsZV0iKSl7ZT0wO3U9MDtzd2l0Y2goci53aGljaCl7Y2FzZSAzNzplPS0zMDticmVhaztjYXNlIDM4OnU9MzA7YnJlYWs7Y2FzZSAzOTplPTMwO2JyZWFrO2Nhc2UgNDA6dT0tMzA7YnJlYWs7Y2FzZSAzMzp1PTkwO2JyZWFrO2Nhc2UgMzI6Y2FzZSAzNDp1PS05MDticmVhaztjYXNlIDM1OnU9ci5jdHJsS2V5Py1iOi12O2JyZWFrO2Nhc2UgMzY6dT1yLmN0cmxLZXk/by5zY3JvbGxUb3AoKTp2O2JyZWFrO2RlZmF1bHQ6cmV0dXJufW8uc2Nyb2xsVG9wKG8uc2Nyb2xsVG9wKCktdSk7by5zY3JvbGxMZWZ0KG8uc2Nyb2xsTGVmdCgpK2UpO2k9eXQoZSx1KTtpJiZyLnByZXZlbnREZWZhdWx0KCl9fX0pfWZ1bmN0aW9uIGVpKCl7ZnVuY3Rpb24gbihuKXtuLnN0b3BQcm9wYWdhdGlvbigpfXR0LmJpbmQocygiY2xpY2siKSxuKTtsLmJpbmQocygiY2xpY2siKSxmdW5jdGlvbihuKXt2YXIgcj10KHcvMiksdT1uLnBhZ2VZLWwub2Zmc2V0KCkudG9wLXIsZj12LXcsaT11L2Y7MD5pP2k9MDppPjEmJihpPTEpO28uc2Nyb2xsVG9wKChiLXYpKmkpfSk7ZXQuYmluZChzKCJjbGljayIpLG4pO2MuYmluZChzKCJjbGljayIpLGZ1bmN0aW9uKG4pe3ZhciByPXQocC8yKSx1PW4ucGFnZVgtYy5vZmZzZXQoKS5sZWZ0LXIsZj1hLXAsaT11L2Y7MD5pP2k9MDppPjEmJihpPTEpO28uc2Nyb2xsTGVmdCgoeS1hKSppKX0pfWZ1bmN0aW9uIG9pKCl7ZnVuY3Rpb24gZigpe3ZhciBuPXdpbmRvdy5nZXRTZWxlY3Rpb24/d2luZG93LmdldFNlbGVjdGlvbigpOmRvY3VtZW50LmdldFNsZWN0aW9uP2RvY3VtZW50LmdldFNsZWN0aW9uKCk6e3JhbmdlQ291bnQ6MH07cmV0dXJuIDA9PT1uLnJhbmdlQ291bnQ/bnVsbDpuLmdldFJhbmdlQXQoMCkuY29tbW9uQW5jZXN0b3JDb250YWluZXJ9ZnVuY3Rpb24gZSgpe2l8fChpPXNldEludGVydmFsKGZ1bmN0aW9uKCl7cmV0dXJuIHB0KCk/KG8uc2Nyb2xsVG9wKG8uc2Nyb2xsVG9wKCkrdC50b3ApLG8uc2Nyb2xsTGVmdChvLnNjcm9sbExlZnQoKSt0LmxlZnQpLGQoKSx2b2lkIDApOihjbGVhckludGVydmFsKGkpLHZvaWQgMCl9LDUwKSl9ZnVuY3Rpb24gdSgpe2kmJihjbGVhckludGVydmFsKGkpLGk9bnVsbCk7Yy5yZW1vdmVDbGFzcygiaW4tc2Nyb2xsaW5nIik7bC5yZW1vdmVDbGFzcygiaW4tc2Nyb2xsaW5nIil9dmFyIGk9bnVsbCx0PXt0b3A6MCxsZWZ0OjB9LHI9ITE7bihrKS5iaW5kKHMoInNlbGVjdGlvbmNoYW5nZSIpLGZ1bmN0aW9uKCl7bi5jb250YWlucyhvWzBdLGYoKSk/cj0hMDoocj0hMSx1KCkpfSk7bih3aW5kb3cpLmJpbmQocygibW91c2V1cCIpLGZ1bmN0aW9uKCl7ciYmKHI9ITEsdSgpKX0pO24od2luZG93KS5iaW5kKHMoIm1vdXNlbW92ZSIpLGZ1bmN0aW9uKG4pe2lmKHIpe3ZhciBpPXt4Om4ucGFnZVgseTpuLnBhZ2VZfSxzPW8ub2Zmc2V0KCksZj17bGVmdDpzLmxlZnQscmlnaHQ6cy5sZWZ0K28ub3V0ZXJXaWR0aCgpLHRvcDpzLnRvcCxib3R0b206cy50b3Arby5vdXRlckhlaWdodCgpfTtpLng8Zi5sZWZ0KzM/KHQubGVmdD0tNSxjLmFkZENsYXNzKCJpbi1zY3JvbGxpbmciKSk6aS54PmYucmlnaHQtMz8odC5sZWZ0PTUsYy5hZGRDbGFzcygiaW4tc2Nyb2xsaW5nIikpOnQubGVmdD0wO2kueTxmLnRvcCszPyh0LnRvcD01PmYudG9wKzMtaS55Py01Oi0yMCxsLmFkZENsYXNzKCJpbi1zY3JvbGxpbmciKSk6aS55PmYuYm90dG9tLTM/KHQudG9wPTU+aS55LWYuYm90dG9tKzM/NToyMCxsLmFkZENsYXNzKCJpbi1zY3JvbGxpbmciKSk6dC50b3A9MDswPT09dC50b3AmJjA9PT10LmxlZnQ/dSgpOmUoKX19KX1mdW5jdGlvbiBzaSh0LGkpe2Z1bmN0aW9uIHcobix0KXtvLnNjcm9sbFRvcChvLnNjcm9sbFRvcCgpLXQpO28uc2Nyb2xsTGVmdChvLnNjcm9sbExlZnQoKS1uKTtkKCl9ZnVuY3Rpb24gYygpe2U9ITB9ZnVuY3Rpb24gbCgpe2U9ITF9ZnVuY3Rpb24gYihuKXtyZXR1cm4gbi5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXM/bi5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXNbMF06bi5vcmlnaW5hbEV2ZW50fWZ1bmN0aW9uIGsobil7dmFyIHQ9bi5vcmlnaW5hbEV2ZW50O3JldHVybiB0LnRhcmdldFRvdWNoZXMmJjE9PT10LnRhcmdldFRvdWNoZXMubGVuZ3RoPyEwOnQucG9pbnRlclR5cGUmJiJtb3VzZSIhPT10LnBvaW50ZXJUeXBlJiZ0LnBvaW50ZXJUeXBlIT09dC5NU1BPSU5URVJfVFlQRV9NT1VTRT8hMDohMX1mdW5jdGlvbiBhKG4pe2lmKGsobikpe2g9ITA7dmFyIHQ9YihuKTtmLnBhZ2VYPXQucGFnZVg7Zi5wYWdlWT10LnBhZ2VZO3A9KG5ldyBEYXRlKS5nZXRUaW1lKCk7bnVsbCE9PXUmJmNsZWFySW50ZXJ2YWwodSk7bi5zdG9wUHJvcGFnYXRpb24oKX19ZnVuY3Rpb24gdihuKXt2YXIgcyx0O2lmKCFlJiZoJiZrKG4pKXt2YXIgYz1iKG4pLGk9e3BhZ2VYOmMucGFnZVgscGFnZVk6Yy5wYWdlWX0sdT1pLnBhZ2VYLWYucGFnZVgsbz1pLnBhZ2VZLWYucGFnZVk7dyh1LG8pO2Y9aTtzPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3Q9cy1wO3Q+MCYmKHIueD11L3Qsci55PW8vdCxwPXMpO3JpKHUsbykmJihuLnN0b3BQcm9wYWdhdGlvbigpLG4ucHJldmVudERlZmF1bHQoKSl9fWZ1bmN0aW9uIHkoKXshZSYmaCYmKGg9ITEsY2xlYXJJbnRlcnZhbCh1KSx1PXNldEludGVydmFsKGZ1bmN0aW9uKCl7cmV0dXJuIHB0KCk/LjAxPk1hdGguYWJzKHIueCkmJi4wMT5NYXRoLmFicyhyLnkpPyhjbGVhckludGVydmFsKHUpLHZvaWQgMCk6KHcoMzAqci54LDMwKnIueSksci54Kj0uOCxyLnkqPS44LHZvaWQgMCk6KGNsZWFySW50ZXJ2YWwodSksdm9pZCAwKX0sMTApKX12YXIgZj17fSxwPTAscj17fSx1PW51bGwsZT0hMSxoPSExO3QmJihuKHdpbmRvdykuYmluZChzKCJ0b3VjaHN0YXJ0IiksYyksbih3aW5kb3cpLmJpbmQocygidG91Y2hlbmQiKSxsKSxvLmJpbmQocygidG91Y2hzdGFydCIpLGEpLG8uYmluZChzKCJ0b3VjaG1vdmUiKSx2KSxvLmJpbmQocygidG91Y2hlbmQiKSx5KSk7aSYmKHdpbmRvdy5Qb2ludGVyRXZlbnQ/KG4od2luZG93KS5iaW5kKHMoInBvaW50ZXJkb3duIiksYyksbih3aW5kb3cpLmJpbmQocygicG9pbnRlcnVwIiksbCksby5iaW5kKHMoInBvaW50ZXJkb3duIiksYSksby5iaW5kKHMoInBvaW50ZXJtb3ZlIiksdiksby5iaW5kKHMoInBvaW50ZXJ1cCIpLHkpKTp3aW5kb3cuTVNQb2ludGVyRXZlbnQmJihuKHdpbmRvdykuYmluZChzKCJNU1BvaW50ZXJEb3duIiksYyksbih3aW5kb3cpLmJpbmQocygiTVNQb2ludGVyVXAiKSxsKSxvLmJpbmQocygiTVNQb2ludGVyRG93biIpLGEpLG8uYmluZChzKCJNU1BvaW50ZXJNb3ZlIiksdiksby5iaW5kKHMoIk1TUG9pbnRlclVwIikseSkpKX1mdW5jdGlvbiBoaSgpe28uYmluZChzKCJzY3JvbGwiKSxmdW5jdGlvbigpe2QoKX0pfWZ1bmN0aW9uIGNpKCl7by51bmJpbmQocygpKTtuKHdpbmRvdykudW5iaW5kKHMoKSk7bihrKS51bmJpbmQocygpKTtvLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyIixudWxsKTtvLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyLXVwZGF0ZSIsbnVsbCk7by5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhci1kZXN0cm95IixudWxsKTtldC5yZW1vdmUoKTt0dC5yZW1vdmUoKTtjLnJlbW92ZSgpO2wucmVtb3ZlKCk7bz1jPWw9ZXQ9dHQ9aXQ9cnQ9YT12PXk9Yj1wPWc9aHQ9Y3Q9d3Q9dz1udD1vdD1sdD1hdD1zdD1zPW51bGx9ZnVuY3Rpb24gbGkoKXtkKCk7aGkoKTt0aSgpO2lpKCk7ZWkoKTtvaSgpO3VpKCk7KGJ0fHxrdCkmJnNpKGJ0LGt0KTtoLnVzZUtleWJvYXJkJiZmaSgpO28uZGF0YSgicGVyZmVjdC1zY3JvbGxiYXIiLG8pO28uZGF0YSgicGVyZmVjdC1zY3JvbGxiYXItdXBkYXRlIixkKTtvLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyLWRlc3Ryb3kiLGNpKX12YXIgaD1uLmV4dGVuZCghMCx7fSxpKSxvPW4odGhpcykscHQ9ZnVuY3Rpb24oKXtyZXR1cm4hIW99O2lmKCJvYmplY3QiPT10eXBlb2Ygcj9uLmV4dGVuZCghMCxoLHIpOmU9ciwidXBkYXRlIj09PWUpcmV0dXJuIG8uZGF0YSgicGVyZmVjdC1zY3JvbGxiYXItdXBkYXRlIikmJm8uZGF0YSgicGVyZmVjdC1zY3JvbGxiYXItdXBkYXRlIikoKSxvO2lmKCJkZXN0cm95Ij09PWUpcmV0dXJuIG8uZGF0YSgicGVyZmVjdC1zY3JvbGxiYXItZGVzdHJveSIpJiZvLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyLWRlc3Ryb3kiKSgpLG87aWYoby5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhciIpKXJldHVybiBvLmRhdGEoInBlcmZlY3Qtc2Nyb2xsYmFyIik7by5hZGRDbGFzcygicHMtY29udGFpbmVyIik7dmFyIGEsdix5LGIsaXQscCxnLHV0LHJ0LHcsbnQsZnQsc3Q9InJ0bCI9PT1vLmNzcygiZGlyZWN0aW9uIikscz11KCksaz10aGlzLm93bmVyRG9jdW1lbnR8fGRvY3VtZW50LGM9bigiPGRpdiBjbGFzcz0ncHMtc2Nyb2xsYmFyLXgtcmFpbCc+IikuYXBwZW5kVG8obyksZXQ9bigiPGRpdiBjbGFzcz0ncHMtc2Nyb2xsYmFyLXgnPiIpLmFwcGVuZFRvKGMpLGh0PXQoYy5jc3MoImJvdHRvbSIpKSxjdD1odD09PWh0LHd0PWN0P251bGw6dChjLmNzcygidG9wIikpLGFpPXQoYy5jc3MoImJvcmRlckxlZnRXaWR0aCIpKSt0KGMuY3NzKCJib3JkZXJSaWdodFdpZHRoIikpLHZpPXQoYy5jc3MoIm1hcmdpbkxlZnQiKSkrdChjLmNzcygibWFyZ2luUmlnaHQiKSksbD1uKCI8ZGl2IGNsYXNzPSdwcy1zY3JvbGxiYXIteS1yYWlsJz4iKS5hcHBlbmRUbyhvKSx0dD1uKCI8ZGl2IGNsYXNzPSdwcy1zY3JvbGxiYXIteSc+IikuYXBwZW5kVG8obCksb3Q9dChsLmNzcygicmlnaHQiKSksbHQ9b3Q9PT1vdCxhdD1sdD9udWxsOnQobC5jc3MoImxlZnQiKSkseWk9dChsLmNzcygiYm9yZGVyVG9wV2lkdGgiKSkrdChsLmNzcygiYm9yZGVyQm90dG9tV2lkdGgiKSkscGk9dChsLmNzcygibWFyZ2luVG9wIikpK3QobC5jc3MoIm1hcmdpbkJvdHRvbSIpKSxidD0ib250b3VjaHN0YXJ0ImluIHdpbmRvd3x8d2luZG93LkRvY3VtZW50VG91Y2gmJmRvY3VtZW50IGluc3RhbmNlb2Ygd2luZG93LkRvY3VtZW50VG91Y2gsa3Q9bnVsbCE9PXdpbmRvdy5uYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cztyZXR1cm4gbGkoKSxvfSl9fSk7IWZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjsiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbImpxdWVyeSJdLG4pOiJ1bmRlZmluZWQiIT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1uKHJlcXVpcmUoImpxdWVyeSIpKTpuKGpRdWVyeSl9KGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0Ijt2YXIgdD13aW5kb3cuU2xpY2t8fHt9O3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQscil7dmFyIGYsdT10aGlzO3UuZGVmYXVsdHM9e2FjY2Vzc2liaWxpdHk6ITAsYWRhcHRpdmVIZWlnaHQ6ITEsYXBwZW5kQXJyb3dzOm4odCksYXBwZW5kRG90czpuKHQpLGFycm93czohMCxhc05hdkZvcjpudWxsLHByZXZBcnJvdzonPGJ1dHRvbiB0eXBlPSJidXR0b24iIGRhdGEtcm9sZT0ibm9uZSIgY2xhc3M9InNsaWNrLXByZXYiIGFyaWEtbGFiZWw9IlByZXZpb3VzIiB0YWJpbmRleD0iMCIgcm9sZT0iYnV0dG9uIj5QcmV2aW91czxcL2J1dHRvbj4nLG5leHRBcnJvdzonPGJ1dHRvbiB0eXBlPSJidXR0b24iIGRhdGEtcm9sZT0ibm9uZSIgY2xhc3M9InNsaWNrLW5leHQiIGFyaWEtbGFiZWw9Ik5leHQiIHRhYmluZGV4PSIwIiByb2xlPSJidXR0b24iPk5leHQ8XC9idXR0b24+JyxhdXRvcGxheTohMSxhdXRvcGxheVNwZWVkOjNlMyxjZW50ZXJNb2RlOiExLGNlbnRlclBhZGRpbmc6IjUwcHgiLGNzc0Vhc2U6ImVhc2UiLGN1c3RvbVBhZ2luZzpmdW5jdGlvbih0LGkpe3JldHVybiBuKCc8YnV0dG9uIHR5cGU9ImJ1dHRvbiIgZGF0YS1yb2xlPSJub25lIiByb2xlPSJidXR0b24iIHRhYmluZGV4PSIwIiAvPicpLnRleHQoaSsxKX0sZG90czohMSxkb3RzQ2xhc3M6InNsaWNrLWRvdHMiLGRyYWdnYWJsZTohMCxlYXNpbmc6ImxpbmVhciIsZWRnZUZyaWN0aW9uOi4zNSxmYWRlOiExLGZvY3VzT25TZWxlY3Q6ITEsaW5maW5pdGU6ITAsaW5pdGlhbFNsaWRlOjAsbGF6eUxvYWQ6Im9uZGVtYW5kIixtb2JpbGVGaXJzdDohMSxwYXVzZU9uSG92ZXI6ITAscGF1c2VPbkZvY3VzOiEwLHBhdXNlT25Eb3RzSG92ZXI6ITEscmVzcG9uZFRvOiJ3aW5kb3ciLHJlc3BvbnNpdmU6bnVsbCxyb3dzOjEscnRsOiExLHNsaWRlOiIiLHNsaWRlc1BlclJvdzoxLHNsaWRlc1RvU2hvdzoxLHNsaWRlc1RvU2Nyb2xsOjEsc3BlZWQ6NTAwLHN3aXBlOiEwLHN3aXBlVG9TbGlkZTohMSx0b3VjaE1vdmU6ITAsdG91Y2hUaHJlc2hvbGQ6NSx1c2VDU1M6ITAsdXNlVHJhbnNmb3JtOiEwLHZhcmlhYmxlV2lkdGg6ITEsdmVydGljYWw6ITEsdmVydGljYWxTd2lwaW5nOiExLHdhaXRGb3JBbmltYXRlOiEwLHpJbmRleDoxZTN9O3UuaW5pdGlhbHM9e2FuaW1hdGluZzohMSxkcmFnZ2luZzohMSxhdXRvUGxheVRpbWVyOm51bGwsY3VycmVudERpcmVjdGlvbjowLGN1cnJlbnRMZWZ0Om51bGwsY3VycmVudFNsaWRlOjAsZGlyZWN0aW9uOjEsJGRvdHM6bnVsbCxsaXN0V2lkdGg6bnVsbCxsaXN0SGVpZ2h0Om51bGwsbG9hZEluZGV4OjAsJG5leHRBcnJvdzpudWxsLCRwcmV2QXJyb3c6bnVsbCxzbGlkZUNvdW50Om51bGwsc2xpZGVXaWR0aDpudWxsLCRzbGlkZVRyYWNrOm51bGwsJHNsaWRlczpudWxsLHNsaWRpbmc6ITEsc2xpZGVPZmZzZXQ6MCxzd2lwZUxlZnQ6bnVsbCwkbGlzdDpudWxsLHRvdWNoT2JqZWN0Ont9LHRyYW5zZm9ybXNFbmFibGVkOiExLHVuc2xpY2tlZDohMX07bi5leHRlbmQodSx1LmluaXRpYWxzKTt1LmFjdGl2ZUJyZWFrcG9pbnQ9bnVsbDt1LmFuaW1UeXBlPW51bGw7dS5hbmltUHJvcD1udWxsO3UuYnJlYWtwb2ludHM9W107dS5icmVha3BvaW50U2V0dGluZ3M9W107dS5jc3NUcmFuc2l0aW9ucz0hMTt1LmZvY3Vzc2VkPSExO3UuaW50ZXJydXB0ZWQ9ITE7dS5oaWRkZW49ImhpZGRlbiI7dS5wYXVzZWQ9ITA7dS5wb3NpdGlvblByb3A9bnVsbDt1LnJlc3BvbmRUbz1udWxsO3Uucm93Q291bnQ9MTt1LnNob3VsZENsaWNrPSEwO3UuJHNsaWRlcj1uKHQpO3UuJHNsaWRlc0NhY2hlPW51bGw7dS50cmFuc2Zvcm1UeXBlPW51bGw7dS50cmFuc2l0aW9uVHlwZT1udWxsO3UudmlzaWJpbGl0eUNoYW5nZT0idmlzaWJpbGl0eWNoYW5nZSI7dS53aW5kb3dXaWR0aD0wO3Uud2luZG93VGltZXI9bnVsbDtmPW4odCkuZGF0YSgic2xpY2siKXx8e307dS5vcHRpb25zPW4uZXh0ZW5kKHt9LHUuZGVmYXVsdHMscixmKTt1LmN1cnJlbnRTbGlkZT11Lm9wdGlvbnMuaW5pdGlhbFNsaWRlO3Uub3JpZ2luYWxTZXR0aW5ncz11Lm9wdGlvbnM7InVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudC5tb3pIaWRkZW4/KHUuaGlkZGVuPSJtb3pIaWRkZW4iLHUudmlzaWJpbGl0eUNoYW5nZT0ibW96dmlzaWJpbGl0eWNoYW5nZSIpOiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQud2Via2l0SGlkZGVuJiYodS5oaWRkZW49IndlYmtpdEhpZGRlbiIsdS52aXNpYmlsaXR5Q2hhbmdlPSJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlIik7dS5hdXRvUGxheT1uLnByb3h5KHUuYXV0b1BsYXksdSk7dS5hdXRvUGxheUNsZWFyPW4ucHJveHkodS5hdXRvUGxheUNsZWFyLHUpO3UuYXV0b1BsYXlJdGVyYXRvcj1uLnByb3h5KHUuYXV0b1BsYXlJdGVyYXRvcix1KTt1LmNoYW5nZVNsaWRlPW4ucHJveHkodS5jaGFuZ2VTbGlkZSx1KTt1LmNsaWNrSGFuZGxlcj1uLnByb3h5KHUuY2xpY2tIYW5kbGVyLHUpO3Uuc2VsZWN0SGFuZGxlcj1uLnByb3h5KHUuc2VsZWN0SGFuZGxlcix1KTt1LnNldFBvc2l0aW9uPW4ucHJveHkodS5zZXRQb3NpdGlvbix1KTt1LnN3aXBlSGFuZGxlcj1uLnByb3h5KHUuc3dpcGVIYW5kbGVyLHUpO3UuZHJhZ0hhbmRsZXI9bi5wcm94eSh1LmRyYWdIYW5kbGVyLHUpO3Uua2V5SGFuZGxlcj1uLnByb3h5KHUua2V5SGFuZGxlcix1KTt1Lmluc3RhbmNlVWlkPWkrKzt1Lmh0bWxFeHByPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKikkLzt1LnJlZ2lzdGVyQnJlYWtwb2ludHMoKTt1LmluaXQoITApfXZhciBpPTA7cmV0dXJuIHR9KCk7dC5wcm90b3R5cGUuYWN0aXZhdGVBREE9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uJHNsaWRlVHJhY2suZmluZCgiLnNsaWNrLWFjdGl2ZSIpLmF0dHIoeyJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pLmZpbmQoImEsIGlucHV0LCBidXR0b24sIHNlbGVjdCIpLmF0dHIoe3RhYmluZGV4OiIwIn0pfTt0LnByb3RvdHlwZS5hZGRTbGlkZT10LnByb3RvdHlwZS5zbGlja0FkZD1mdW5jdGlvbih0LGkscil7dmFyIHU9dGhpcztpZigiYm9vbGVhbiI9PXR5cGVvZiBpKXI9aSxpPW51bGw7ZWxzZSBpZigwPml8fGk+PXUuc2xpZGVDb3VudClyZXR1cm4hMTt1LnVubG9hZCgpOyJudW1iZXIiPT10eXBlb2YgaT8wPT09aSYmMD09PXUuJHNsaWRlcy5sZW5ndGg/bih0KS5hcHBlbmRUbyh1LiRzbGlkZVRyYWNrKTpyP24odCkuaW5zZXJ0QmVmb3JlKHUuJHNsaWRlcy5lcShpKSk6bih0KS5pbnNlcnRBZnRlcih1LiRzbGlkZXMuZXEoaSkpOnI9PT0hMD9uKHQpLnByZXBlbmRUbyh1LiRzbGlkZVRyYWNrKTpuKHQpLmFwcGVuZFRvKHUuJHNsaWRlVHJhY2spO3UuJHNsaWRlcz11LiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSk7dS4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpO3UuJHNsaWRlVHJhY2suYXBwZW5kKHUuJHNsaWRlcyk7dS4kc2xpZGVzLmVhY2goZnVuY3Rpb24odCxpKXtuKGkpLmF0dHIoImRhdGEtc2xpY2staW5kZXgiLHQpfSk7dS4kc2xpZGVzQ2FjaGU9dS4kc2xpZGVzO3UucmVpbml0KCl9O3QucHJvdG90eXBlLmFuaW1hdGVIZWlnaHQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ7MT09PW4ub3B0aW9ucy5zbGlkZXNUb1Nob3cmJm4ub3B0aW9ucy5hZGFwdGl2ZUhlaWdodD09PSEwJiZuLm9wdGlvbnMudmVydGljYWw9PT0hMSYmKHQ9bi4kc2xpZGVzLmVxKG4uY3VycmVudFNsaWRlKS5vdXRlckhlaWdodCghMCksbi4kbGlzdC5hbmltYXRlKHtoZWlnaHQ6dH0sbi5vcHRpb25zLnNwZWVkKSl9O3QucHJvdG90eXBlLmFuaW1hdGVTbGlkZT1mdW5jdGlvbih0LGkpe3ZhciB1PXt9LHI9dGhpcztyLmFuaW1hdGVIZWlnaHQoKTtyLm9wdGlvbnMucnRsPT09ITAmJnIub3B0aW9ucy52ZXJ0aWNhbD09PSExJiYodD0tdCk7ci50cmFuc2Zvcm1zRW5hYmxlZD09PSExP3Iub3B0aW9ucy52ZXJ0aWNhbD09PSExP3IuJHNsaWRlVHJhY2suYW5pbWF0ZSh7bGVmdDp0fSxyLm9wdGlvbnMuc3BlZWQsci5vcHRpb25zLmVhc2luZyxpKTpyLiRzbGlkZVRyYWNrLmFuaW1hdGUoe3RvcDp0fSxyLm9wdGlvbnMuc3BlZWQsci5vcHRpb25zLmVhc2luZyxpKTpyLmNzc1RyYW5zaXRpb25zPT09ITE/KHIub3B0aW9ucy5ydGw9PT0hMCYmKHIuY3VycmVudExlZnQ9LXIuY3VycmVudExlZnQpLG4oe2FuaW1TdGFydDpyLmN1cnJlbnRMZWZ0fSkuYW5pbWF0ZSh7YW5pbVN0YXJ0OnR9LHtkdXJhdGlvbjpyLm9wdGlvbnMuc3BlZWQsZWFzaW5nOnIub3B0aW9ucy5lYXNpbmcsc3RlcDpmdW5jdGlvbihuKXtuPU1hdGguY2VpbChuKTtyLm9wdGlvbnMudmVydGljYWw9PT0hMT8odVtyLmFuaW1UeXBlXT0idHJhbnNsYXRlKCIrbisicHgsIDBweCkiLHIuJHNsaWRlVHJhY2suY3NzKHUpKToodVtyLmFuaW1UeXBlXT0idHJhbnNsYXRlKDBweCwiK24rInB4KSIsci4kc2xpZGVUcmFjay5jc3ModSkpfSxjb21wbGV0ZTpmdW5jdGlvbigpe2kmJmkuY2FsbCgpfX0pKTooci5hcHBseVRyYW5zaXRpb24oKSx0PU1hdGguY2VpbCh0KSx1W3IuYW5pbVR5cGVdPXIub3B0aW9ucy52ZXJ0aWNhbD09PSExPyJ0cmFuc2xhdGUzZCgiK3QrInB4LCAwcHgsIDBweCkiOiJ0cmFuc2xhdGUzZCgwcHgsIit0KyJweCwgMHB4KSIsci4kc2xpZGVUcmFjay5jc3ModSksaSYmc2V0VGltZW91dChmdW5jdGlvbigpe3IuZGlzYWJsZVRyYW5zaXRpb24oKTtpLmNhbGwoKX0sci5vcHRpb25zLnNwZWVkKSl9O3QucHJvdG90eXBlLmdldE5hdlRhcmdldD1mdW5jdGlvbigpe3ZhciBpPXRoaXMsdD1pLm9wdGlvbnMuYXNOYXZGb3I7cmV0dXJuIHQmJm51bGwhPT10JiYodD1uKHQpLm5vdChpLiRzbGlkZXIpKSx0fTt0LnByb3RvdHlwZS5hc05hdkZvcj1mdW5jdGlvbih0KXt2YXIgcj10aGlzLGk9ci5nZXROYXZUYXJnZXQoKTtudWxsIT09aSYmIm9iamVjdCI9PXR5cGVvZiBpJiZpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpLnNsaWNrKCJnZXRTbGljayIpO2kudW5zbGlja2VkfHxpLnNsaWRlSGFuZGxlcih0LCEwKX0pfTt0LnByb3RvdHlwZS5hcHBseVRyYW5zaXRpb249ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxpPXt9O2lbdC50cmFuc2l0aW9uVHlwZV09dC5vcHRpb25zLmZhZGU9PT0hMT90LnRyYW5zZm9ybVR5cGUrIiAiK3Qub3B0aW9ucy5zcGVlZCsibXMgIit0Lm9wdGlvbnMuY3NzRWFzZToib3BhY2l0eSAiK3Qub3B0aW9ucy5zcGVlZCsibXMgIit0Lm9wdGlvbnMuY3NzRWFzZTt0Lm9wdGlvbnMuZmFkZT09PSExP3QuJHNsaWRlVHJhY2suY3NzKGkpOnQuJHNsaWRlcy5lcShuKS5jc3MoaSl9O3QucHJvdG90eXBlLmF1dG9QbGF5PWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLmF1dG9QbGF5Q2xlYXIoKTtuLnNsaWRlQ291bnQ+bi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKG4uYXV0b1BsYXlUaW1lcj1zZXRJbnRlcnZhbChuLmF1dG9QbGF5SXRlcmF0b3Isbi5vcHRpb25zLmF1dG9wbGF5U3BlZWQpKX07dC5wcm90b3R5cGUuYXV0b1BsYXlDbGVhcj1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5hdXRvUGxheVRpbWVyJiZjbGVhckludGVydmFsKG4uYXV0b1BsYXlUaW1lcil9O3QucHJvdG90eXBlLmF1dG9QbGF5SXRlcmF0b3I9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ9bi5jdXJyZW50U2xpZGUrbi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsO24ucGF1c2VkfHxuLmludGVycnVwdGVkfHxuLmZvY3Vzc2VkfHwobi5vcHRpb25zLmluZmluaXRlPT09ITEmJigxPT09bi5kaXJlY3Rpb24mJm4uY3VycmVudFNsaWRlKzE9PT1uLnNsaWRlQ291bnQtMT9uLmRpcmVjdGlvbj0wOjA9PT1uLmRpcmVjdGlvbiYmKHQ9bi5jdXJyZW50U2xpZGUtbi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLG4uY3VycmVudFNsaWRlLTE9PTAmJihuLmRpcmVjdGlvbj0xKSkpLG4uc2xpZGVIYW5kbGVyKHQpKX07dC5wcm90b3R5cGUuYnVpbGRBcnJvd3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3Qub3B0aW9ucy5hcnJvd3M9PT0hMCYmKHQuJHByZXZBcnJvdz1uKHQub3B0aW9ucy5wcmV2QXJyb3cpLmFkZENsYXNzKCJzbGljay1hcnJvdyIpLHQuJG5leHRBcnJvdz1uKHQub3B0aW9ucy5uZXh0QXJyb3cpLmFkZENsYXNzKCJzbGljay1hcnJvdyIpLHQuc2xpZGVDb3VudD50Lm9wdGlvbnMuc2xpZGVzVG9TaG93Pyh0LiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWhpZGRlbiIpLnJlbW92ZUF0dHIoImFyaWEtaGlkZGVuIHRhYmluZGV4IiksdC4kbmV4dEFycm93LnJlbW92ZUNsYXNzKCJzbGljay1oaWRkZW4iKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiB0YWJpbmRleCIpLHQuaHRtbEV4cHIudGVzdCh0Lm9wdGlvbnMucHJldkFycm93KSYmdC4kcHJldkFycm93LnByZXBlbmRUbyh0Lm9wdGlvbnMuYXBwZW5kQXJyb3dzKSx0Lmh0bWxFeHByLnRlc3QodC5vcHRpb25zLm5leHRBcnJvdykmJnQuJG5leHRBcnJvdy5hcHBlbmRUbyh0Lm9wdGlvbnMuYXBwZW5kQXJyb3dzKSx0Lm9wdGlvbnMuaW5maW5pdGUhPT0hMCYmdC4kcHJldkFycm93LmFkZENsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIikpOnQuJHByZXZBcnJvdy5hZGQodC4kbmV4dEFycm93KS5hZGRDbGFzcygic2xpY2staGlkZGVuIikuYXR0cih7ImFyaWEtZGlzYWJsZWQiOiJ0cnVlIix0YWJpbmRleDoiLTEifSkpfTt0LnByb3RvdHlwZS5idWlsZERvdHM9ZnVuY3Rpb24oKXt2YXIgaSxyLHQ9dGhpcztpZih0Lm9wdGlvbnMuZG90cz09PSEwJiZ0LnNsaWRlQ291bnQ+dC5vcHRpb25zLnNsaWRlc1RvU2hvdyl7Zm9yKHQuJHNsaWRlci5hZGRDbGFzcygic2xpY2stZG90dGVkIikscj1uKCI8dWwgLz4iKS5hZGRDbGFzcyh0Lm9wdGlvbnMuZG90c0NsYXNzKSxpPTA7aTw9dC5nZXREb3RDb3VudCgpO2krPTEpci5hcHBlbmQobigiPGxpIC8+IikuYXBwZW5kKHQub3B0aW9ucy5jdXN0b21QYWdpbmcuY2FsbCh0aGlzLHQsaSkpKTt0LiRkb3RzPXIuYXBwZW5kVG8odC5vcHRpb25zLmFwcGVuZERvdHMpO3QuJGRvdHMuZmluZCgibGkiKS5maXJzdCgpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIil9fTt0LnByb3RvdHlwZS5idWlsZE91dD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC4kc2xpZGVzPXQuJHNsaWRlci5jaGlsZHJlbih0Lm9wdGlvbnMuc2xpZGUrIjpub3QoLnNsaWNrLWNsb25lZCkiKS5hZGRDbGFzcygic2xpY2stc2xpZGUiKTt0LnNsaWRlQ291bnQ9dC4kc2xpZGVzLmxlbmd0aDt0LiRzbGlkZXMuZWFjaChmdW5jdGlvbih0LGkpe24oaSkuYXR0cigiZGF0YS1zbGljay1pbmRleCIsdCkuZGF0YSgib3JpZ2luYWxTdHlsaW5nIixuKGkpLmF0dHIoInN0eWxlIil8fCIiKX0pO3QuJHNsaWRlci5hZGRDbGFzcygic2xpY2stc2xpZGVyIik7dC4kc2xpZGVUcmFjaz0wPT09dC5zbGlkZUNvdW50P24oJzxkaXYgY2xhc3M9InNsaWNrLXRyYWNrIi8+JykuYXBwZW5kVG8odC4kc2xpZGVyKTp0LiRzbGlkZXMud3JhcEFsbCgnPGRpdiBjbGFzcz0ic2xpY2stdHJhY2siLz4nKS5wYXJlbnQoKTt0LiRsaXN0PXQuJHNsaWRlVHJhY2sud3JhcCgnPGRpdiBhcmlhLWxpdmU9InBvbGl0ZSIgY2xhc3M9InNsaWNrLWxpc3QiLz4nKS5wYXJlbnQoKTt0LiRzbGlkZVRyYWNrLmNzcygib3BhY2l0eSIsMCk7KHQub3B0aW9ucy5jZW50ZXJNb2RlPT09ITB8fHQub3B0aW9ucy5zd2lwZVRvU2xpZGU9PT0hMCkmJih0Lm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw9MSk7bigiaW1nW2RhdGEtbGF6eV0iLHQuJHNsaWRlcikubm90KCJbc3JjXSIpLmFkZENsYXNzKCJzbGljay1sb2FkaW5nIik7dC5zZXR1cEluZmluaXRlKCk7dC5idWlsZEFycm93cygpO3QuYnVpbGREb3RzKCk7dC51cGRhdGVEb3RzKCk7dC5zZXRTbGlkZUNsYXNzZXMoIm51bWJlciI9PXR5cGVvZiB0LmN1cnJlbnRTbGlkZT90LmN1cnJlbnRTbGlkZTowKTt0Lm9wdGlvbnMuZHJhZ2dhYmxlPT09ITAmJnQuJGxpc3QuYWRkQ2xhc3MoImRyYWdnYWJsZSIpfTt0LnByb3RvdHlwZS5idWlsZFJvd3M9ZnVuY3Rpb24oKXt2YXIgdCxpLHIsZixjLHUsZSxuPXRoaXMsbyxzLGg7aWYoZj1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksdT1uLiRzbGlkZXIuY2hpbGRyZW4oKSxuLm9wdGlvbnMucm93cz4xKXtmb3IoZT1uLm9wdGlvbnMuc2xpZGVzUGVyUm93Km4ub3B0aW9ucy5yb3dzLGM9TWF0aC5jZWlsKHUubGVuZ3RoL2UpLHQ9MDtjPnQ7dCsrKXtmb3Iobz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxpPTA7aTxuLm9wdGlvbnMucm93cztpKyspe2ZvcihzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHI9MDtyPG4ub3B0aW9ucy5zbGlkZXNQZXJSb3c7cisrKWg9dCplKyhpKm4ub3B0aW9ucy5zbGlkZXNQZXJSb3crciksdS5nZXQoaCkmJnMuYXBwZW5kQ2hpbGQodS5nZXQoaCkpO28uYXBwZW5kQ2hpbGQocyl9Zi5hcHBlbmRDaGlsZChvKX1uLiRzbGlkZXIuZW1wdHkoKS5hcHBlbmQoZik7bi4kc2xpZGVyLmNoaWxkcmVuKCkuY2hpbGRyZW4oKS5jaGlsZHJlbigpLmNzcyh7d2lkdGg6MTAwL24ub3B0aW9ucy5zbGlkZXNQZXJSb3crIiUiLGRpc3BsYXk6ImlubGluZS1ibG9jayJ9KX19O3QucHJvdG90eXBlLmNoZWNrUmVzcG9uc2l2ZT1mdW5jdGlvbih0LGkpe3ZhciBmLHUsZSxyPXRoaXMsbz0hMSxzPXIuJHNsaWRlci53aWR0aCgpLGg9d2luZG93LmlubmVyV2lkdGh8fG4od2luZG93KS53aWR0aCgpO2lmKCJ3aW5kb3ciPT09ci5yZXNwb25kVG8/ZT1oOiJzbGlkZXIiPT09ci5yZXNwb25kVG8/ZT1zOiJtaW4iPT09ci5yZXNwb25kVG8mJihlPU1hdGgubWluKGgscykpLHIub3B0aW9ucy5yZXNwb25zaXZlJiZyLm9wdGlvbnMucmVzcG9uc2l2ZS5sZW5ndGgmJm51bGwhPT1yLm9wdGlvbnMucmVzcG9uc2l2ZSl7dT1udWxsO2ZvcihmIGluIHIuYnJlYWtwb2ludHMpci5icmVha3BvaW50cy5oYXNPd25Qcm9wZXJ0eShmKSYmKHIub3JpZ2luYWxTZXR0aW5ncy5tb2JpbGVGaXJzdD09PSExP2U8ci5icmVha3BvaW50c1tmXSYmKHU9ci5icmVha3BvaW50c1tmXSk6ZT5yLmJyZWFrcG9pbnRzW2ZdJiYodT1yLmJyZWFrcG9pbnRzW2ZdKSk7bnVsbCE9PXU/bnVsbCE9PXIuYWN0aXZlQnJlYWtwb2ludD8odSE9PXIuYWN0aXZlQnJlYWtwb2ludHx8aSkmJihyLmFjdGl2ZUJyZWFrcG9pbnQ9dSwidW5zbGljayI9PT1yLmJyZWFrcG9pbnRTZXR0aW5nc1t1XT9yLnVuc2xpY2sodSk6KHIub3B0aW9ucz1uLmV4dGVuZCh7fSxyLm9yaWdpbmFsU2V0dGluZ3Msci5icmVha3BvaW50U2V0dGluZ3NbdV0pLHQ9PT0hMCYmKHIuY3VycmVudFNsaWRlPXIub3B0aW9ucy5pbml0aWFsU2xpZGUpLHIucmVmcmVzaCh0KSksbz11KTooci5hY3RpdmVCcmVha3BvaW50PXUsInVuc2xpY2siPT09ci5icmVha3BvaW50U2V0dGluZ3NbdV0/ci51bnNsaWNrKHUpOihyLm9wdGlvbnM9bi5leHRlbmQoe30sci5vcmlnaW5hbFNldHRpbmdzLHIuYnJlYWtwb2ludFNldHRpbmdzW3VdKSx0PT09ITAmJihyLmN1cnJlbnRTbGlkZT1yLm9wdGlvbnMuaW5pdGlhbFNsaWRlKSxyLnJlZnJlc2godCkpLG89dSk6bnVsbCE9PXIuYWN0aXZlQnJlYWtwb2ludCYmKHIuYWN0aXZlQnJlYWtwb2ludD1udWxsLHIub3B0aW9ucz1yLm9yaWdpbmFsU2V0dGluZ3MsdD09PSEwJiYoci5jdXJyZW50U2xpZGU9ci5vcHRpb25zLmluaXRpYWxTbGlkZSksci5yZWZyZXNoKHQpLG89dSk7dHx8bz09PSExfHxyLiRzbGlkZXIudHJpZ2dlcigiYnJlYWtwb2ludCIsW3Isb10pfX07dC5wcm90b3R5cGUuY2hhbmdlU2xpZGU9ZnVuY3Rpb24odCxpKXt2YXIgZixlLG8scj10aGlzLHU9bih0LmN1cnJlbnRUYXJnZXQpLHM7c3dpdGNoKHUuaXMoImEiKSYmdC5wcmV2ZW50RGVmYXVsdCgpLHUuaXMoImxpIil8fCh1PXUuY2xvc2VzdCgibGkiKSksbz1yLnNsaWRlQ291bnQlci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIT0wLGY9bz8wOihyLnNsaWRlQ291bnQtci5jdXJyZW50U2xpZGUpJXIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCx0LmRhdGEubWVzc2FnZSl7Y2FzZSJwcmV2aW91cyI6ZT0wPT09Zj9yLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw6ci5vcHRpb25zLnNsaWRlc1RvU2hvdy1mO3Iuc2xpZGVDb3VudD5yLm9wdGlvbnMuc2xpZGVzVG9TaG93JiZyLnNsaWRlSGFuZGxlcihyLmN1cnJlbnRTbGlkZS1lLCExLGkpO2JyZWFrO2Nhc2UibmV4dCI6ZT0wPT09Zj9yLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw6ZjtyLnNsaWRlQ291bnQ+ci5vcHRpb25zLnNsaWRlc1RvU2hvdyYmci5zbGlkZUhhbmRsZXIoci5jdXJyZW50U2xpZGUrZSwhMSxpKTticmVhaztjYXNlImluZGV4IjpzPTA9PT10LmRhdGEuaW5kZXg/MDp0LmRhdGEuaW5kZXh8fHUuaW5kZXgoKSpyLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw7ci5zbGlkZUhhbmRsZXIoci5jaGVja05hdmlnYWJsZShzKSwhMSxpKTt1LmNoaWxkcmVuKCkudHJpZ2dlcigiZm9jdXMiKTticmVhaztkZWZhdWx0OnJldHVybn19O3QucHJvdG90eXBlLmNoZWNrTmF2aWdhYmxlPWZ1bmN0aW9uKG4pe3ZhciB0LGksdT10aGlzLHI7aWYodD11LmdldE5hdmlnYWJsZUluZGV4ZXMoKSxpPTAsbj50W3QubGVuZ3RoLTFdKW49dFt0Lmxlbmd0aC0xXTtlbHNlIGZvcihyIGluIHQpe2lmKG48dFtyXSl7bj1pO2JyZWFrfWk9dFtyXX1yZXR1cm4gbn07dC5wcm90b3R5cGUuY2xlYW5VcEV2ZW50cz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC5vcHRpb25zLmRvdHMmJm51bGwhPT10LiRkb3RzJiZuKCJsaSIsdC4kZG90cykub2ZmKCJjbGljay5zbGljayIsdC5jaGFuZ2VTbGlkZSkub2ZmKCJtb3VzZWVudGVyLnNsaWNrIixuLnByb3h5KHQuaW50ZXJydXB0LHQsITApKS5vZmYoIm1vdXNlbGVhdmUuc2xpY2siLG4ucHJveHkodC5pbnRlcnJ1cHQsdCwhMSkpO3QuJHNsaWRlci5vZmYoImZvY3VzLnNsaWNrIGJsdXIuc2xpY2siKTt0Lm9wdGlvbnMuYXJyb3dzPT09ITAmJnQuc2xpZGVDb3VudD50Lm9wdGlvbnMuc2xpZGVzVG9TaG93JiYodC4kcHJldkFycm93JiZ0LiRwcmV2QXJyb3cub2ZmKCJjbGljay5zbGljayIsdC5jaGFuZ2VTbGlkZSksdC4kbmV4dEFycm93JiZ0LiRuZXh0QXJyb3cub2ZmKCJjbGljay5zbGljayIsdC5jaGFuZ2VTbGlkZSkpO3QuJGxpc3Qub2ZmKCJ0b3VjaHN0YXJ0LnNsaWNrIG1vdXNlZG93bi5zbGljayIsdC5zd2lwZUhhbmRsZXIpO3QuJGxpc3Qub2ZmKCJ0b3VjaG1vdmUuc2xpY2sgbW91c2Vtb3ZlLnNsaWNrIix0LnN3aXBlSGFuZGxlcik7dC4kbGlzdC5vZmYoInRvdWNoZW5kLnNsaWNrIG1vdXNldXAuc2xpY2siLHQuc3dpcGVIYW5kbGVyKTt0LiRsaXN0Lm9mZigidG91Y2hjYW5jZWwuc2xpY2sgbW91c2VsZWF2ZS5zbGljayIsdC5zd2lwZUhhbmRsZXIpO3QuJGxpc3Qub2ZmKCJjbGljay5zbGljayIsdC5jbGlja0hhbmRsZXIpO24oZG9jdW1lbnQpLm9mZih0LnZpc2liaWxpdHlDaGFuZ2UsdC52aXNpYmlsaXR5KTt0LmNsZWFuVXBTbGlkZUV2ZW50cygpO3Qub3B0aW9ucy5hY2Nlc3NpYmlsaXR5PT09ITAmJnQuJGxpc3Qub2ZmKCJrZXlkb3duLnNsaWNrIix0LmtleUhhbmRsZXIpO3Qub3B0aW9ucy5mb2N1c09uU2VsZWN0PT09ITAmJm4odC4kc2xpZGVUcmFjaykuY2hpbGRyZW4oKS5vZmYoImNsaWNrLnNsaWNrIix0LnNlbGVjdEhhbmRsZXIpO24od2luZG93KS5vZmYoIm9yaWVudGF0aW9uY2hhbmdlLnNsaWNrLnNsaWNrLSIrdC5pbnN0YW5jZVVpZCx0Lm9yaWVudGF0aW9uQ2hhbmdlKTtuKHdpbmRvdykub2ZmKCJyZXNpemUuc2xpY2suc2xpY2stIit0Lmluc3RhbmNlVWlkLHQucmVzaXplKTtuKCJbZHJhZ2dhYmxlIT10cnVlXSIsdC4kc2xpZGVUcmFjaykub2ZmKCJkcmFnc3RhcnQiLHQucHJldmVudERlZmF1bHQpO24od2luZG93KS5vZmYoImxvYWQuc2xpY2suc2xpY2stIit0Lmluc3RhbmNlVWlkLHQuc2V0UG9zaXRpb24pO24oZG9jdW1lbnQpLm9mZigicmVhZHkuc2xpY2suc2xpY2stIit0Lmluc3RhbmNlVWlkLHQuc2V0UG9zaXRpb24pfTt0LnByb3RvdHlwZS5jbGVhblVwU2xpZGVFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3QuJGxpc3Qub2ZmKCJtb3VzZWVudGVyLnNsaWNrIixuLnByb3h5KHQuaW50ZXJydXB0LHQsITApKTt0LiRsaXN0Lm9mZigibW91c2VsZWF2ZS5zbGljayIsbi5wcm94eSh0LmludGVycnVwdCx0LCExKSl9O3QucHJvdG90eXBlLmNsZWFuVXBSb3dzPWZ1bmN0aW9uKCl7dmFyIG4sdD10aGlzO3Qub3B0aW9ucy5yb3dzPjEmJihuPXQuJHNsaWRlcy5jaGlsZHJlbigpLmNoaWxkcmVuKCksbi5yZW1vdmVBdHRyKCJzdHlsZSIpLHQuJHNsaWRlci5lbXB0eSgpLmFwcGVuZChuKSl9O3QucHJvdG90eXBlLmNsaWNrSGFuZGxlcj1mdW5jdGlvbihuKXt2YXIgdD10aGlzO3Quc2hvdWxkQ2xpY2s9PT0hMSYmKG4uc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksbi5zdG9wUHJvcGFnYXRpb24oKSxuLnByZXZlbnREZWZhdWx0KCkpfTt0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7aS5hdXRvUGxheUNsZWFyKCk7aS50b3VjaE9iamVjdD17fTtpLmNsZWFuVXBFdmVudHMoKTtuKCIuc2xpY2stY2xvbmVkIixpLiRzbGlkZXIpLmRldGFjaCgpO2kuJGRvdHMmJmkuJGRvdHMucmVtb3ZlKCk7aS4kcHJldkFycm93JiZpLiRwcmV2QXJyb3cubGVuZ3RoJiYoaS4kcHJldkFycm93LnJlbW92ZUNsYXNzKCJzbGljay1kaXNhYmxlZCBzbGljay1hcnJvdyBzbGljay1oaWRkZW4iKS5yZW1vdmVBdHRyKCJhcmlhLWhpZGRlbiBhcmlhLWRpc2FibGVkIHRhYmluZGV4IikuY3NzKCJkaXNwbGF5IiwiIiksaS5odG1sRXhwci50ZXN0KGkub3B0aW9ucy5wcmV2QXJyb3cpJiZpLiRwcmV2QXJyb3cucmVtb3ZlKCkpO2kuJG5leHRBcnJvdyYmaS4kbmV4dEFycm93Lmxlbmd0aCYmKGkuJG5leHRBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQgc2xpY2stYXJyb3cgc2xpY2staGlkZGVuIikucmVtb3ZlQXR0cigiYXJpYS1oaWRkZW4gYXJpYS1kaXNhYmxlZCB0YWJpbmRleCIpLmNzcygiZGlzcGxheSIsIiIpLGkuaHRtbEV4cHIudGVzdChpLm9wdGlvbnMubmV4dEFycm93KSYmaS4kbmV4dEFycm93LnJlbW92ZSgpKTtpLiRzbGlkZXMmJihpLiRzbGlkZXMucmVtb3ZlQ2xhc3MoInNsaWNrLXNsaWRlIHNsaWNrLWFjdGl2ZSBzbGljay1jZW50ZXIgc2xpY2stdmlzaWJsZSBzbGljay1jdXJyZW50IikucmVtb3ZlQXR0cigiYXJpYS1oaWRkZW4iKS5yZW1vdmVBdHRyKCJkYXRhLXNsaWNrLWluZGV4IikuZWFjaChmdW5jdGlvbigpe24odGhpcykuYXR0cigic3R5bGUiLG4odGhpcykuZGF0YSgib3JpZ2luYWxTdHlsaW5nIikpfSksaS4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpLGkuJHNsaWRlVHJhY2suZGV0YWNoKCksaS4kbGlzdC5kZXRhY2goKSxpLiRzbGlkZXIuYXBwZW5kKGkuJHNsaWRlcykpO2kuY2xlYW5VcFJvd3MoKTtpLiRzbGlkZXIucmVtb3ZlQ2xhc3MoInNsaWNrLXNsaWRlciIpO2kuJHNsaWRlci5yZW1vdmVDbGFzcygic2xpY2staW5pdGlhbGl6ZWQiKTtpLiRzbGlkZXIucmVtb3ZlQ2xhc3MoInNsaWNrLWRvdHRlZCIpO2kudW5zbGlja2VkPSEwO3R8fGkuJHNsaWRlci50cmlnZ2VyKCJkZXN0cm95IixbaV0pfTt0LnByb3RvdHlwZS5kaXNhYmxlVHJhbnNpdGlvbj1mdW5jdGlvbihuKXt2YXIgdD10aGlzLGk9e307aVt0LnRyYW5zaXRpb25UeXBlXT0iIjt0Lm9wdGlvbnMuZmFkZT09PSExP3QuJHNsaWRlVHJhY2suY3NzKGkpOnQuJHNsaWRlcy5lcShuKS5jc3MoaSl9O3QucHJvdG90eXBlLmZhZGVTbGlkZT1mdW5jdGlvbihuLHQpe3ZhciBpPXRoaXM7aS5jc3NUcmFuc2l0aW9ucz09PSExPyhpLiRzbGlkZXMuZXEobikuY3NzKHt6SW5kZXg6aS5vcHRpb25zLnpJbmRleH0pLGkuJHNsaWRlcy5lcShuKS5hbmltYXRlKHtvcGFjaXR5OjF9LGkub3B0aW9ucy5zcGVlZCxpLm9wdGlvbnMuZWFzaW5nLHQpKTooaS5hcHBseVRyYW5zaXRpb24obiksaS4kc2xpZGVzLmVxKG4pLmNzcyh7b3BhY2l0eToxLHpJbmRleDppLm9wdGlvbnMuekluZGV4fSksdCYmc2V0VGltZW91dChmdW5jdGlvbigpe2kuZGlzYWJsZVRyYW5zaXRpb24obik7dC5jYWxsKCl9LGkub3B0aW9ucy5zcGVlZCkpfTt0LnByb3RvdHlwZS5mYWRlU2xpZGVPdXQ9ZnVuY3Rpb24obil7dmFyIHQ9dGhpczt0LmNzc1RyYW5zaXRpb25zPT09ITE/dC4kc2xpZGVzLmVxKG4pLmFuaW1hdGUoe29wYWNpdHk6MCx6SW5kZXg6dC5vcHRpb25zLnpJbmRleC0yfSx0Lm9wdGlvbnMuc3BlZWQsdC5vcHRpb25zLmVhc2luZyk6KHQuYXBwbHlUcmFuc2l0aW9uKG4pLHQuJHNsaWRlcy5lcShuKS5jc3Moe29wYWNpdHk6MCx6SW5kZXg6dC5vcHRpb25zLnpJbmRleC0yfSkpfTt0LnByb3RvdHlwZS5maWx0ZXJTbGlkZXM9dC5wcm90b3R5cGUuc2xpY2tGaWx0ZXI9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcztudWxsIT09biYmKHQuJHNsaWRlc0NhY2hlPXQuJHNsaWRlcyx0LnVubG9hZCgpLHQuJHNsaWRlVHJhY2suY2hpbGRyZW4odGhpcy5vcHRpb25zLnNsaWRlKS5kZXRhY2goKSx0LiRzbGlkZXNDYWNoZS5maWx0ZXIobikuYXBwZW5kVG8odC4kc2xpZGVUcmFjayksdC5yZWluaXQoKSl9O3QucHJvdG90eXBlLmZvY3VzSGFuZGxlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC4kc2xpZGVyLm9mZigiZm9jdXMuc2xpY2sgYmx1ci5zbGljayIpLm9uKCJmb2N1cy5zbGljayBibHVyLnNsaWNrIiwiKjpub3QoLnNsaWNrLWFycm93KSIsZnVuY3Rpb24oaSl7aS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTt2YXIgcj1uKHRoaXMpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0Lm9wdGlvbnMucGF1c2VPbkZvY3VzJiYodC5mb2N1c3NlZD1yLmlzKCI6Zm9jdXMiKSx0LmF1dG9QbGF5KCkpfSwwKX0pfTt0LnByb3RvdHlwZS5nZXRDdXJyZW50PXQucHJvdG90eXBlLnNsaWNrQ3VycmVudFNsaWRlPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztyZXR1cm4gbi5jdXJyZW50U2xpZGV9O3QucHJvdG90eXBlLmdldERvdENvdW50PWZ1bmN0aW9uKCl7dmFyIG49dGhpcyxpPTAscj0wLHQ9MDtpZihuLm9wdGlvbnMuaW5maW5pdGU9PT0hMClmb3IoO2k8bi5zbGlkZUNvdW50OykrK3QsaT1yK24ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCxyKz1uLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw8PW4ub3B0aW9ucy5zbGlkZXNUb1Nob3c/bi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsOm4ub3B0aW9ucy5zbGlkZXNUb1Nob3c7ZWxzZSBpZihuLm9wdGlvbnMuY2VudGVyTW9kZT09PSEwKXQ9bi5zbGlkZUNvdW50O2Vsc2UgaWYobi5vcHRpb25zLmFzTmF2Rm9yKWZvcig7aTxuLnNsaWRlQ291bnQ7KSsrdCxpPXIrbi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLHIrPW4ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDw9bi5vcHRpb25zLnNsaWRlc1RvU2hvdz9uLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGw6bi5vcHRpb25zLnNsaWRlc1RvU2hvdztlbHNlIHQ9MStNYXRoLmNlaWwoKG4uc2xpZGVDb3VudC1uLm9wdGlvbnMuc2xpZGVzVG9TaG93KS9uLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwpO3JldHVybiB0LTF9O3QucHJvdG90eXBlLmdldExlZnQ9ZnVuY3Rpb24obil7dmFyIGYscixpLHQ9dGhpcyx1PTA7cmV0dXJuIHQuc2xpZGVPZmZzZXQ9MCxyPXQuJHNsaWRlcy5maXJzdCgpLm91dGVySGVpZ2h0KCEwKSx0Lm9wdGlvbnMuaW5maW5pdGU9PT0hMD8odC5zbGlkZUNvdW50PnQub3B0aW9ucy5zbGlkZXNUb1Nob3cmJih0LnNsaWRlT2Zmc2V0PXQuc2xpZGVXaWR0aCp0Lm9wdGlvbnMuc2xpZGVzVG9TaG93Ki0xLHU9cip0Lm9wdGlvbnMuc2xpZGVzVG9TaG93Ki0xKSx0LnNsaWRlQ291bnQldC5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIT0wJiZuK3Qub3B0aW9ucy5zbGlkZXNUb1Njcm9sbD50LnNsaWRlQ291bnQmJnQuc2xpZGVDb3VudD50Lm9wdGlvbnMuc2xpZGVzVG9TaG93JiYobj50LnNsaWRlQ291bnQ/KHQuc2xpZGVPZmZzZXQ9KHQub3B0aW9ucy5zbGlkZXNUb1Nob3ctKG4tdC5zbGlkZUNvdW50KSkqdC5zbGlkZVdpZHRoKi0xLHU9KHQub3B0aW9ucy5zbGlkZXNUb1Nob3ctKG4tdC5zbGlkZUNvdW50KSkqciotMSk6KHQuc2xpZGVPZmZzZXQ9dC5zbGlkZUNvdW50JXQub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCp0LnNsaWRlV2lkdGgqLTEsdT10LnNsaWRlQ291bnQldC5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKnIqLTEpKSk6bit0Lm9wdGlvbnMuc2xpZGVzVG9TaG93PnQuc2xpZGVDb3VudCYmKHQuc2xpZGVPZmZzZXQ9KG4rdC5vcHRpb25zLnNsaWRlc1RvU2hvdy10LnNsaWRlQ291bnQpKnQuc2xpZGVXaWR0aCx1PShuK3Qub3B0aW9ucy5zbGlkZXNUb1Nob3ctdC5zbGlkZUNvdW50KSpyKSx0LnNsaWRlQ291bnQ8PXQub3B0aW9ucy5zbGlkZXNUb1Nob3cmJih0LnNsaWRlT2Zmc2V0PTAsdT0wKSx0Lm9wdGlvbnMuY2VudGVyTW9kZT09PSEwJiZ0Lm9wdGlvbnMuaW5maW5pdGU9PT0hMD90LnNsaWRlT2Zmc2V0Kz10LnNsaWRlV2lkdGgqTWF0aC5mbG9vcih0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LzIpLXQuc2xpZGVXaWR0aDp0Lm9wdGlvbnMuY2VudGVyTW9kZT09PSEwJiYodC5zbGlkZU9mZnNldD0wLHQuc2xpZGVPZmZzZXQrPXQuc2xpZGVXaWR0aCpNYXRoLmZsb29yKHQub3B0aW9ucy5zbGlkZXNUb1Nob3cvMikpLGY9dC5vcHRpb25zLnZlcnRpY2FsPT09ITE/bip0LnNsaWRlV2lkdGgqLTErdC5zbGlkZU9mZnNldDpuKnIqLTErdSx0Lm9wdGlvbnMudmFyaWFibGVXaWR0aD09PSEwJiYoaT10LnNsaWRlQ291bnQ8PXQub3B0aW9ucy5zbGlkZXNUb1Nob3d8fHQub3B0aW9ucy5pbmZpbml0ZT09PSExP3QuJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLmVxKG4pOnQuJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLmVxKG4rdC5vcHRpb25zLnNsaWRlc1RvU2hvdyksZj10Lm9wdGlvbnMucnRsPT09ITA/aVswXT8tMSoodC4kc2xpZGVUcmFjay53aWR0aCgpLWlbMF0ub2Zmc2V0TGVmdC1pLndpZHRoKCkpOjA6aVswXT8tMSppWzBdLm9mZnNldExlZnQ6MCx0Lm9wdGlvbnMuY2VudGVyTW9kZT09PSEwJiYoaT10LnNsaWRlQ291bnQ8PXQub3B0aW9ucy5zbGlkZXNUb1Nob3d8fHQub3B0aW9ucy5pbmZpbml0ZT09PSExP3QuJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLmVxKG4pOnQuJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLmVxKG4rdC5vcHRpb25zLnNsaWRlc1RvU2hvdysxKSxmPXQub3B0aW9ucy5ydGw9PT0hMD9pWzBdPy0xKih0LiRzbGlkZVRyYWNrLndpZHRoKCktaVswXS5vZmZzZXRMZWZ0LWkud2lkdGgoKSk6MDppWzBdPy0xKmlbMF0ub2Zmc2V0TGVmdDowLGYrPSh0LiRsaXN0LndpZHRoKCktaS5vdXRlcldpZHRoKCkpLzIpKSxmfTt0LnByb3RvdHlwZS5nZXRPcHRpb249dC5wcm90b3R5cGUuc2xpY2tHZXRPcHRpb249ZnVuY3Rpb24obil7dmFyIHQ9dGhpcztyZXR1cm4gdC5vcHRpb25zW25dfTt0LnByb3RvdHlwZS5nZXROYXZpZ2FibGVJbmRleGVzPWZ1bmN0aW9uKCl7dmFyIGksbj10aGlzLHQ9MCxyPTAsdT1bXTtmb3Iobi5vcHRpb25zLmluZmluaXRlPT09ITE/aT1uLnNsaWRlQ291bnQ6KHQ9LTEqbi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLHI9LTEqbi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsLGk9MipuLnNsaWRlQ291bnQpO2k+dDspdS5wdXNoKHQpLHQ9cituLm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwscis9bi5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsPD1uLm9wdGlvbnMuc2xpZGVzVG9TaG93P24ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbDpuLm9wdGlvbnMuc2xpZGVzVG9TaG93O3JldHVybiB1fTt0LnByb3RvdHlwZS5nZXRTbGljaz1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LnByb3RvdHlwZS5nZXRTbGlkZUNvdW50PWZ1bmN0aW9uKCl7dmFyIHUsaSxyLHQ9dGhpcztyZXR1cm4gcj10Lm9wdGlvbnMuY2VudGVyTW9kZT09PSEwP3Quc2xpZGVXaWR0aCpNYXRoLmZsb29yKHQub3B0aW9ucy5zbGlkZXNUb1Nob3cvMik6MCx0Lm9wdGlvbnMuc3dpcGVUb1NsaWRlPT09ITA/KHQuJHNsaWRlVHJhY2suZmluZCgiLnNsaWNrLXNsaWRlIikuZWFjaChmdW5jdGlvbih1LGYpe2lmKGYub2Zmc2V0TGVmdC1yK24oZikub3V0ZXJXaWR0aCgpLzI+LTEqdC5zd2lwZUxlZnQpcmV0dXJuKGk9ZiwhMSl9KSx1PU1hdGguYWJzKG4oaSkuYXR0cigiZGF0YS1zbGljay1pbmRleCIpLXQuY3VycmVudFNsaWRlKXx8MSk6dC5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsfTt0LnByb3RvdHlwZS5nb1RvPXQucHJvdG90eXBlLnNsaWNrR29Ubz1mdW5jdGlvbihuLHQpe3ZhciBpPXRoaXM7aS5jaGFuZ2VTbGlkZSh7ZGF0YTp7bWVzc2FnZToiaW5kZXgiLGluZGV4OnBhcnNlSW50KG4pfX0sdCl9O3QucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcztuKGkuJHNsaWRlcikuaGFzQ2xhc3MoInNsaWNrLWluaXRpYWxpemVkIil8fChuKGkuJHNsaWRlcikuYWRkQ2xhc3MoInNsaWNrLWluaXRpYWxpemVkIiksaS5idWlsZFJvd3MoKSxpLmJ1aWxkT3V0KCksaS5zZXRQcm9wcygpLGkuc3RhcnRMb2FkKCksaS5sb2FkU2xpZGVyKCksaS5pbml0aWFsaXplRXZlbnRzKCksaS51cGRhdGVBcnJvd3MoKSxpLnVwZGF0ZURvdHMoKSxpLmNoZWNrUmVzcG9uc2l2ZSghMCksaS5mb2N1c0hhbmRsZXIoKSk7dCYmaS4kc2xpZGVyLnRyaWdnZXIoImluaXQiLFtpXSk7aS5vcHRpb25zLmFjY2Vzc2liaWxpdHk9PT0hMCYmaS5pbml0QURBKCk7aS5vcHRpb25zLmF1dG9wbGF5JiYoaS5wYXVzZWQ9ITEsaS5hdXRvUGxheSgpKX07dC5wcm90b3R5cGUuaW5pdEFEQT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dC4kc2xpZGVzLmFkZCh0LiRzbGlkZVRyYWNrLmZpbmQoIi5zbGljay1jbG9uZWQiKSkuYXR0cih7ImFyaWEtaGlkZGVuIjoidHJ1ZSIsdGFiaW5kZXg6Ii0xIn0pLmZpbmQoImEsIGlucHV0LCBidXR0b24sIHNlbGVjdCIpLmF0dHIoe3RhYmluZGV4OiItMSJ9KTt0LiRzbGlkZVRyYWNrLmF0dHIoInJvbGUiLCJsaXN0Ym94Iik7dC4kc2xpZGVzLm5vdCh0LiRzbGlkZVRyYWNrLmZpbmQoIi5zbGljay1jbG9uZWQiKSkuZWFjaChmdW5jdGlvbihpKXtuKHRoaXMpLmF0dHIoe3JvbGU6Im9wdGlvbiIsImFyaWEtZGVzY3JpYmVkYnkiOiJzbGljay1zbGlkZSIrdC5pbnN0YW5jZVVpZCtpfSl9KTtudWxsIT09dC4kZG90cyYmdC4kZG90cy5hdHRyKCJyb2xlIiwidGFibGlzdCIpLmZpbmQoImxpIikuZWFjaChmdW5jdGlvbihpKXtuKHRoaXMpLmF0dHIoe3JvbGU6InByZXNlbnRhdGlvbiIsImFyaWEtc2VsZWN0ZWQiOiJmYWxzZSIsImFyaWEtY29udHJvbHMiOiJuYXZpZ2F0aW9uIit0Lmluc3RhbmNlVWlkK2ksaWQ6InNsaWNrLXNsaWRlIit0Lmluc3RhbmNlVWlkK2l9KX0pLmZpcnN0KCkuYXR0cigiYXJpYS1zZWxlY3RlZCIsInRydWUiKS5lbmQoKS5maW5kKCJidXR0b24iKS5hdHRyKCJyb2xlIiwiYnV0dG9uIikuZW5kKCkuY2xvc2VzdCgiZGl2IikuYXR0cigicm9sZSIsInRvb2xiYXIiKTt0LmFjdGl2YXRlQURBKCl9O3QucHJvdG90eXBlLmluaXRBcnJvd0V2ZW50cz1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5vcHRpb25zLmFycm93cz09PSEwJiZuLnNsaWRlQ291bnQ+bi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKG4uJHByZXZBcnJvdy5vZmYoImNsaWNrLnNsaWNrIikub24oImNsaWNrLnNsaWNrIix7bWVzc2FnZToicHJldmlvdXMifSxuLmNoYW5nZVNsaWRlKSxuLiRuZXh0QXJyb3cub2ZmKCJjbGljay5zbGljayIpLm9uKCJjbGljay5zbGljayIse21lc3NhZ2U6Im5leHQifSxuLmNoYW5nZVNsaWRlKSl9O3QucHJvdG90eXBlLmluaXREb3RFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3Qub3B0aW9ucy5kb3RzPT09ITAmJnQuc2xpZGVDb3VudD50Lm9wdGlvbnMuc2xpZGVzVG9TaG93JiZuKCJsaSIsdC4kZG90cykub24oImNsaWNrLnNsaWNrIix7bWVzc2FnZToiaW5kZXgifSx0LmNoYW5nZVNsaWRlKTt0Lm9wdGlvbnMuZG90cz09PSEwJiZ0Lm9wdGlvbnMucGF1c2VPbkRvdHNIb3Zlcj09PSEwJiZuKCJsaSIsdC4kZG90cykub24oIm1vdXNlZW50ZXIuc2xpY2siLG4ucHJveHkodC5pbnRlcnJ1cHQsdCwhMCkpLm9uKCJtb3VzZWxlYXZlLnNsaWNrIixuLnByb3h5KHQuaW50ZXJydXB0LHQsITEpKX07dC5wcm90b3R5cGUuaW5pdFNsaWRlRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0Lm9wdGlvbnMucGF1c2VPbkhvdmVyJiYodC4kbGlzdC5vbigibW91c2VlbnRlci5zbGljayIsbi5wcm94eSh0LmludGVycnVwdCx0LCEwKSksdC4kbGlzdC5vbigibW91c2VsZWF2ZS5zbGljayIsbi5wcm94eSh0LmludGVycnVwdCx0LCExKSkpfTt0LnByb3RvdHlwZS5pbml0aWFsaXplRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LmluaXRBcnJvd0V2ZW50cygpO3QuaW5pdERvdEV2ZW50cygpO3QuaW5pdFNsaWRlRXZlbnRzKCk7dC4kbGlzdC5vbigidG91Y2hzdGFydC5zbGljayBtb3VzZWRvd24uc2xpY2siLHthY3Rpb246InN0YXJ0In0sdC5zd2lwZUhhbmRsZXIpO3QuJGxpc3Qub24oInRvdWNobW92ZS5zbGljayBtb3VzZW1vdmUuc2xpY2siLHthY3Rpb246Im1vdmUifSx0LnN3aXBlSGFuZGxlcik7dC4kbGlzdC5vbigidG91Y2hlbmQuc2xpY2sgbW91c2V1cC5zbGljayIse2FjdGlvbjoiZW5kIn0sdC5zd2lwZUhhbmRsZXIpO3QuJGxpc3Qub24oInRvdWNoY2FuY2VsLnNsaWNrIG1vdXNlbGVhdmUuc2xpY2siLHthY3Rpb246ImVuZCJ9LHQuc3dpcGVIYW5kbGVyKTt0LiRsaXN0Lm9uKCJjbGljay5zbGljayIsdC5jbGlja0hhbmRsZXIpO24oZG9jdW1lbnQpLm9uKHQudmlzaWJpbGl0eUNoYW5nZSxuLnByb3h5KHQudmlzaWJpbGl0eSx0KSk7dC5vcHRpb25zLmFjY2Vzc2liaWxpdHk9PT0hMCYmdC4kbGlzdC5vbigia2V5ZG93bi5zbGljayIsdC5rZXlIYW5kbGVyKTt0Lm9wdGlvbnMuZm9jdXNPblNlbGVjdD09PSEwJiZuKHQuJHNsaWRlVHJhY2spLmNoaWxkcmVuKCkub24oImNsaWNrLnNsaWNrIix0LnNlbGVjdEhhbmRsZXIpO24od2luZG93KS5vbigib3JpZW50YXRpb25jaGFuZ2Uuc2xpY2suc2xpY2stIit0Lmluc3RhbmNlVWlkLG4ucHJveHkodC5vcmllbnRhdGlvbkNoYW5nZSx0KSk7bih3aW5kb3cpLm9uKCJyZXNpemUuc2xpY2suc2xpY2stIit0Lmluc3RhbmNlVWlkLG4ucHJveHkodC5yZXNpemUsdCkpO24oIltkcmFnZ2FibGUhPXRydWVdIix0LiRzbGlkZVRyYWNrKS5vbigiZHJhZ3N0YXJ0Iix0LnByZXZlbnREZWZhdWx0KTtuKHdpbmRvdykub24oImxvYWQuc2xpY2suc2xpY2stIit0Lmluc3RhbmNlVWlkLHQuc2V0UG9zaXRpb24pO24oZG9jdW1lbnQpLm9uKCJyZWFkeS5zbGljay5zbGljay0iK3QuaW5zdGFuY2VVaWQsdC5zZXRQb3NpdGlvbil9O3QucHJvdG90eXBlLmluaXRVST1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bi5vcHRpb25zLmFycm93cz09PSEwJiZuLnNsaWRlQ291bnQ+bi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKG4uJHByZXZBcnJvdy5zaG93KCksbi4kbmV4dEFycm93LnNob3coKSk7bi5vcHRpb25zLmRvdHM9PT0hMCYmbi5zbGlkZUNvdW50Pm4ub3B0aW9ucy5zbGlkZXNUb1Nob3cmJm4uJGRvdHMuc2hvdygpfTt0LnByb3RvdHlwZS5rZXlIYW5kbGVyPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7bi50YXJnZXQudGFnTmFtZS5tYXRjaCgiVEVYVEFSRUF8SU5QVVR8U0VMRUNUIil8fCgzNz09PW4ua2V5Q29kZSYmdC5vcHRpb25zLmFjY2Vzc2liaWxpdHk9PT0hMD90LmNoYW5nZVNsaWRlKHtkYXRhOnttZXNzYWdlOnQub3B0aW9ucy5ydGw9PT0hMD8ibmV4dCI6InByZXZpb3VzIn19KTozOT09PW4ua2V5Q29kZSYmdC5vcHRpb25zLmFjY2Vzc2liaWxpdHk9PT0hMCYmdC5jaGFuZ2VTbGlkZSh7ZGF0YTp7bWVzc2FnZTp0Lm9wdGlvbnMucnRsPT09ITA/InByZXZpb3VzIjoibmV4dCJ9fSkpfTt0LnByb3RvdHlwZS5sYXp5TG9hZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGYoaSl7bigiaW1nW2RhdGEtbGF6eV0iLGkpLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpLHI9bih0aGlzKS5hdHRyKCJkYXRhLWxhenkiKSx1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO3Uub25sb2FkPWZ1bmN0aW9uKCl7aS5hbmltYXRlKHtvcGFjaXR5OjB9LDEwMCxmdW5jdGlvbigpe2kuYXR0cigic3JjIixyKS5hbmltYXRlKHtvcGFjaXR5OjF9LDIwMCxmdW5jdGlvbigpe2kucmVtb3ZlQXR0cigiZGF0YS1sYXp5IikucmVtb3ZlQ2xhc3MoInNsaWNrLWxvYWRpbmciKX0pO3QuJHNsaWRlci50cmlnZ2VyKCJsYXp5TG9hZGVkIixbdCxpLHJdKX0pfTt1Lm9uZXJyb3I9ZnVuY3Rpb24oKXtpLnJlbW92ZUF0dHIoImRhdGEtbGF6eSIpLnJlbW92ZUNsYXNzKCJzbGljay1sb2FkaW5nIikuYWRkQ2xhc3MoInNsaWNrLWxhenlsb2FkLWVycm9yIik7dC4kc2xpZGVyLnRyaWdnZXIoImxhenlMb2FkRXJyb3IiLFt0LGkscl0pfTt1LnNyYz1yfSl9dmFyIGUscixpLHUsdD10aGlzO3Qub3B0aW9ucy5jZW50ZXJNb2RlPT09ITA/dC5vcHRpb25zLmluZmluaXRlPT09ITA/KGk9dC5jdXJyZW50U2xpZGUrKHQub3B0aW9ucy5zbGlkZXNUb1Nob3cvMisxKSx1PWkrdC5vcHRpb25zLnNsaWRlc1RvU2hvdysyKTooaT1NYXRoLm1heCgwLHQuY3VycmVudFNsaWRlLSh0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LzIrMSkpLHU9MisodC5vcHRpb25zLnNsaWRlc1RvU2hvdy8yKzEpK3QuY3VycmVudFNsaWRlKTooaT10Lm9wdGlvbnMuaW5maW5pdGU/dC5vcHRpb25zLnNsaWRlc1RvU2hvdyt0LmN1cnJlbnRTbGlkZTp0LmN1cnJlbnRTbGlkZSx1PU1hdGguY2VpbChpK3Qub3B0aW9ucy5zbGlkZXNUb1Nob3cpLHQub3B0aW9ucy5mYWRlPT09ITAmJihpPjAmJmktLSx1PD10LnNsaWRlQ291bnQmJnUrKykpO2U9dC4kc2xpZGVyLmZpbmQoIi5zbGljay1zbGlkZSIpLnNsaWNlKGksdSk7ZihlKTt0LnNsaWRlQ291bnQ8PXQub3B0aW9ucy5zbGlkZXNUb1Nob3c/KHI9dC4kc2xpZGVyLmZpbmQoIi5zbGljay1zbGlkZSIpLGYocikpOnQuY3VycmVudFNsaWRlPj10LnNsaWRlQ291bnQtdC5vcHRpb25zLnNsaWRlc1RvU2hvdz8ocj10LiRzbGlkZXIuZmluZCgiLnNsaWNrLWNsb25lZCIpLnNsaWNlKDAsdC5vcHRpb25zLnNsaWRlc1RvU2hvdyksZihyKSk6MD09PXQuY3VycmVudFNsaWRlJiYocj10LiRzbGlkZXIuZmluZCgiLnNsaWNrLWNsb25lZCIpLnNsaWNlKC0xKnQub3B0aW9ucy5zbGlkZXNUb1Nob3cpLGYocikpfTt0LnByb3RvdHlwZS5sb2FkU2xpZGVyPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLnNldFBvc2l0aW9uKCk7bi4kc2xpZGVUcmFjay5jc3Moe29wYWNpdHk6MX0pO24uJHNsaWRlci5yZW1vdmVDbGFzcygic2xpY2stbG9hZGluZyIpO24uaW5pdFVJKCk7InByb2dyZXNzaXZlIj09PW4ub3B0aW9ucy5sYXp5TG9hZCYmbi5wcm9ncmVzc2l2ZUxhenlMb2FkKCl9O3QucHJvdG90eXBlLm5leHQ9dC5wcm90b3R5cGUuc2xpY2tOZXh0PWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLmNoYW5nZVNsaWRlKHtkYXRhOnttZXNzYWdlOiJuZXh0In19KX07dC5wcm90b3R5cGUub3JpZW50YXRpb25DaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uY2hlY2tSZXNwb25zaXZlKCk7bi5zZXRQb3NpdGlvbigpfTt0LnByb3RvdHlwZS5wYXVzZT10LnByb3RvdHlwZS5zbGlja1BhdXNlPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLmF1dG9QbGF5Q2xlYXIoKTtuLnBhdXNlZD0hMH07dC5wcm90b3R5cGUucGxheT10LnByb3RvdHlwZS5zbGlja1BsYXk9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uYXV0b1BsYXkoKTtuLm9wdGlvbnMuYXV0b3BsYXk9ITA7bi5wYXVzZWQ9ITE7bi5mb2N1c3NlZD0hMTtuLmludGVycnVwdGVkPSExfTt0LnByb3RvdHlwZS5wb3N0U2xpZGU9ZnVuY3Rpb24obil7dmFyIHQ9dGhpczt0LnVuc2xpY2tlZHx8KHQuJHNsaWRlci50cmlnZ2VyKCJhZnRlckNoYW5nZSIsW3Qsbl0pLHQuYW5pbWF0aW5nPSExLHQuc2V0UG9zaXRpb24oKSx0LnN3aXBlTGVmdD1udWxsLHQub3B0aW9ucy5hdXRvcGxheSYmdC5hdXRvUGxheSgpLHQub3B0aW9ucy5hY2Nlc3NpYmlsaXR5PT09ITAmJnQuaW5pdEFEQSgpKX07dC5wcm90b3R5cGUucHJldj10LnByb3RvdHlwZS5zbGlja1ByZXY9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24uY2hhbmdlU2xpZGUoe2RhdGE6e21lc3NhZ2U6InByZXZpb3VzIn19KX07dC5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpfTt0LnByb3RvdHlwZS5wcm9ncmVzc2l2ZUxhenlMb2FkPWZ1bmN0aW9uKHQpe3Q9dHx8MTt2YXIgcix1LGYsaT10aGlzLGU9bigiaW1nW2RhdGEtbGF6eV0iLGkuJHNsaWRlcik7ZS5sZW5ndGg/KHI9ZS5maXJzdCgpLHU9ci5hdHRyKCJkYXRhLWxhenkiKSxmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpLGYub25sb2FkPWZ1bmN0aW9uKCl7ci5hdHRyKCJzcmMiLHUpLnJlbW92ZUF0dHIoImRhdGEtbGF6eSIpLnJlbW92ZUNsYXNzKCJzbGljay1sb2FkaW5nIik7aS5vcHRpb25zLmFkYXB0aXZlSGVpZ2h0PT09ITAmJmkuc2V0UG9zaXRpb24oKTtpLiRzbGlkZXIudHJpZ2dlcigibGF6eUxvYWRlZCIsW2kscix1XSk7aS5wcm9ncmVzc2l2ZUxhenlMb2FkKCl9LGYub25lcnJvcj1mdW5jdGlvbigpezM+dD9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5wcm9ncmVzc2l2ZUxhenlMb2FkKHQrMSl9LDUwMCk6KHIucmVtb3ZlQXR0cigiZGF0YS1sYXp5IikucmVtb3ZlQ2xhc3MoInNsaWNrLWxvYWRpbmciKS5hZGRDbGFzcygic2xpY2stbGF6eWxvYWQtZXJyb3IiKSxpLiRzbGlkZXIudHJpZ2dlcigibGF6eUxvYWRFcnJvciIsW2kscix1XSksaS5wcm9ncmVzc2l2ZUxhenlMb2FkKCkpfSxmLnNyYz11KTppLiRzbGlkZXIudHJpZ2dlcigiYWxsSW1hZ2VzTG9hZGVkIixbaV0pfTt0LnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKHQpe3ZhciByLHUsaT10aGlzO3U9aS5zbGlkZUNvdW50LWkub3B0aW9ucy5zbGlkZXNUb1Nob3c7IWkub3B0aW9ucy5pbmZpbml0ZSYmaS5jdXJyZW50U2xpZGU+dSYmKGkuY3VycmVudFNsaWRlPXUpO2kuc2xpZGVDb3VudDw9aS5vcHRpb25zLnNsaWRlc1RvU2hvdyYmKGkuY3VycmVudFNsaWRlPTApO3I9aS5jdXJyZW50U2xpZGU7aS5kZXN0cm95KCEwKTtuLmV4dGVuZChpLGkuaW5pdGlhbHMse2N1cnJlbnRTbGlkZTpyfSk7aS5pbml0KCk7dHx8aS5jaGFuZ2VTbGlkZSh7ZGF0YTp7bWVzc2FnZToiaW5kZXgiLGluZGV4OnJ9fSwhMSl9O3QucHJvdG90eXBlLnJlZ2lzdGVyQnJlYWtwb2ludHM9ZnVuY3Rpb24oKXt2YXIgdSxmLGksdD10aGlzLHI9dC5vcHRpb25zLnJlc3BvbnNpdmV8fG51bGw7aWYoImFycmF5Ij09PW4udHlwZShyKSYmci5sZW5ndGgpe3QucmVzcG9uZFRvPXQub3B0aW9ucy5yZXNwb25kVG98fCJ3aW5kb3ciO2Zvcih1IGluIHIpaWYoaT10LmJyZWFrcG9pbnRzLmxlbmd0aC0xLGY9clt1XS5icmVha3BvaW50LHIuaGFzT3duUHJvcGVydHkodSkpe2Zvcig7aT49MDspdC5icmVha3BvaW50c1tpXSYmdC5icmVha3BvaW50c1tpXT09PWYmJnQuYnJlYWtwb2ludHMuc3BsaWNlKGksMSksaS0tO3QuYnJlYWtwb2ludHMucHVzaChmKTt0LmJyZWFrcG9pbnRTZXR0aW5nc1tmXT1yW3VdLnNldHRpbmdzfXQuYnJlYWtwb2ludHMuc29ydChmdW5jdGlvbihuLGkpe3JldHVybiB0Lm9wdGlvbnMubW9iaWxlRmlyc3Q/bi1pOmktbn0pfX07dC5wcm90b3R5cGUucmVpbml0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0LiRzbGlkZXM9dC4kc2xpZGVUcmFjay5jaGlsZHJlbih0Lm9wdGlvbnMuc2xpZGUpLmFkZENsYXNzKCJzbGljay1zbGlkZSIpO3Quc2xpZGVDb3VudD10LiRzbGlkZXMubGVuZ3RoO3QuY3VycmVudFNsaWRlPj10LnNsaWRlQ291bnQmJjAhPT10LmN1cnJlbnRTbGlkZSYmKHQuY3VycmVudFNsaWRlPXQuY3VycmVudFNsaWRlLXQub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCk7dC5zbGlkZUNvdW50PD10Lm9wdGlvbnMuc2xpZGVzVG9TaG93JiYodC5jdXJyZW50U2xpZGU9MCk7dC5yZWdpc3RlckJyZWFrcG9pbnRzKCk7dC5zZXRQcm9wcygpO3Quc2V0dXBJbmZpbml0ZSgpO3QuYnVpbGRBcnJvd3MoKTt0LnVwZGF0ZUFycm93cygpO3QuaW5pdEFycm93RXZlbnRzKCk7dC5idWlsZERvdHMoKTt0LnVwZGF0ZURvdHMoKTt0LmluaXREb3RFdmVudHMoKTt0LmNsZWFuVXBTbGlkZUV2ZW50cygpO3QuaW5pdFNsaWRlRXZlbnRzKCk7dC5jaGVja1Jlc3BvbnNpdmUoITEsITApO3Qub3B0aW9ucy5mb2N1c09uU2VsZWN0PT09ITAmJm4odC4kc2xpZGVUcmFjaykuY2hpbGRyZW4oKS5vbigiY2xpY2suc2xpY2siLHQuc2VsZWN0SGFuZGxlcik7dC5zZXRTbGlkZUNsYXNzZXMoIm51bWJlciI9PXR5cGVvZiB0LmN1cnJlbnRTbGlkZT90LmN1cnJlbnRTbGlkZTowKTt0LnNldFBvc2l0aW9uKCk7dC5mb2N1c0hhbmRsZXIoKTt0LnBhdXNlZD0hdC5vcHRpb25zLmF1dG9wbGF5O3QuYXV0b1BsYXkoKTt0LiRzbGlkZXIudHJpZ2dlcigicmVJbml0IixbdF0pfTt0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO24od2luZG93KS53aWR0aCgpIT09dC53aW5kb3dXaWR0aCYmKGNsZWFyVGltZW91dCh0LndpbmRvd0RlbGF5KSx0LndpbmRvd0RlbGF5PXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC53aW5kb3dXaWR0aD1uKHdpbmRvdykud2lkdGgoKTt0LmNoZWNrUmVzcG9uc2l2ZSgpO3QudW5zbGlja2VkfHx0LnNldFBvc2l0aW9uKCl9LDUwKSl9O3QucHJvdG90eXBlLnJlbW92ZVNsaWRlPXQucHJvdG90eXBlLnNsaWNrUmVtb3ZlPWZ1bmN0aW9uKG4sdCxpKXt2YXIgcj10aGlzO3JldHVybiJib29sZWFuIj09dHlwZW9mIG4/KHQ9bixuPXQ9PT0hMD8wOnIuc2xpZGVDb3VudC0xKTpuPXQ9PT0hMD8tLW46bixyLnNsaWRlQ291bnQ8MXx8MD5ufHxuPnIuc2xpZGVDb3VudC0xPyExOihyLnVubG9hZCgpLGk9PT0hMD9yLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCkucmVtb3ZlKCk6ci4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmVxKG4pLnJlbW92ZSgpLHIuJHNsaWRlcz1yLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSksci4kc2xpZGVUcmFjay5jaGlsZHJlbih0aGlzLm9wdGlvbnMuc2xpZGUpLmRldGFjaCgpLHIuJHNsaWRlVHJhY2suYXBwZW5kKHIuJHNsaWRlcyksci4kc2xpZGVzQ2FjaGU9ci4kc2xpZGVzLHZvaWQgci5yZWluaXQoKSl9O3QucHJvdG90eXBlLnNldENTUz1mdW5jdGlvbihuKXt2YXIgcix1LHQ9dGhpcyxpPXt9O3Qub3B0aW9ucy5ydGw9PT0hMCYmKG49LW4pO3I9ImxlZnQiPT10LnBvc2l0aW9uUHJvcD9NYXRoLmNlaWwobikrInB4IjoiMHB4Ijt1PSJ0b3AiPT10LnBvc2l0aW9uUHJvcD9NYXRoLmNlaWwobikrInB4IjoiMHB4IjtpW3QucG9zaXRpb25Qcm9wXT1uO3QudHJhbnNmb3Jtc0VuYWJsZWQ9PT0hMT90LiRzbGlkZVRyYWNrLmNzcyhpKTooaT17fSx0LmNzc1RyYW5zaXRpb25zPT09ITE/KGlbdC5hbmltVHlwZV09InRyYW5zbGF0ZSgiK3IrIiwgIit1KyIpIix0LiRzbGlkZVRyYWNrLmNzcyhpKSk6KGlbdC5hbmltVHlwZV09InRyYW5zbGF0ZTNkKCIrcisiLCAiK3UrIiwgMHB4KSIsdC4kc2xpZGVUcmFjay5jc3MoaSkpKX07dC5wcm90b3R5cGUuc2V0RGltZW5zaW9ucz1mdW5jdGlvbigpe3ZhciBuPXRoaXMsdDtuLm9wdGlvbnMudmVydGljYWw9PT0hMT9uLm9wdGlvbnMuY2VudGVyTW9kZT09PSEwJiZuLiRsaXN0LmNzcyh7cGFkZGluZzoiMHB4ICIrbi5vcHRpb25zLmNlbnRlclBhZGRpbmd9KToobi4kbGlzdC5oZWlnaHQobi4kc2xpZGVzLmZpcnN0KCkub3V0ZXJIZWlnaHQoITApKm4ub3B0aW9ucy5zbGlkZXNUb1Nob3cpLG4ub3B0aW9ucy5jZW50ZXJNb2RlPT09ITAmJm4uJGxpc3QuY3NzKHtwYWRkaW5nOm4ub3B0aW9ucy5jZW50ZXJQYWRkaW5nKyIgMHB4In0pKTtuLmxpc3RXaWR0aD1uLiRsaXN0LndpZHRoKCk7bi5saXN0SGVpZ2h0PW4uJGxpc3QuaGVpZ2h0KCk7bi5vcHRpb25zLnZlcnRpY2FsPT09ITEmJm4ub3B0aW9ucy52YXJpYWJsZVdpZHRoPT09ITE/KG4uc2xpZGVXaWR0aD1NYXRoLmNlaWwobi5saXN0V2lkdGgvbi5vcHRpb25zLnNsaWRlc1RvU2hvdyksbi4kc2xpZGVUcmFjay53aWR0aChNYXRoLmNlaWwobi5zbGlkZVdpZHRoKm4uJHNsaWRlVHJhY2suY2hpbGRyZW4oIi5zbGljay1zbGlkZSIpLmxlbmd0aCkpKTpuLm9wdGlvbnMudmFyaWFibGVXaWR0aD09PSEwP24uJHNsaWRlVHJhY2sud2lkdGgoNWUzKm4uc2xpZGVDb3VudCk6KG4uc2xpZGVXaWR0aD1NYXRoLmNlaWwobi5saXN0V2lkdGgpLG4uJHNsaWRlVHJhY2suaGVpZ2h0KE1hdGguY2VpbChuLiRzbGlkZXMuZmlyc3QoKS5vdXRlckhlaWdodCghMCkqbi4kc2xpZGVUcmFjay5jaGlsZHJlbigiLnNsaWNrLXNsaWRlIikubGVuZ3RoKSkpO3Q9bi4kc2xpZGVzLmZpcnN0KCkub3V0ZXJXaWR0aCghMCktbi4kc2xpZGVzLmZpcnN0KCkud2lkdGgoKTtuLm9wdGlvbnMudmFyaWFibGVXaWR0aD09PSExJiZuLiRzbGlkZVRyYWNrLmNoaWxkcmVuKCIuc2xpY2stc2xpZGUiKS53aWR0aChuLnNsaWRlV2lkdGgtdCl9O3QucHJvdG90eXBlLnNldEZhZGU9ZnVuY3Rpb24oKXt2YXIgaSx0PXRoaXM7dC4kc2xpZGVzLmVhY2goZnVuY3Rpb24ocix1KXtpPXQuc2xpZGVXaWR0aCpyKi0xO3Qub3B0aW9ucy5ydGw9PT0hMD9uKHUpLmNzcyh7cG9zaXRpb246InJlbGF0aXZlIixyaWdodDppLHRvcDowLHpJbmRleDp0Lm9wdGlvbnMuekluZGV4LTIsb3BhY2l0eTowfSk6bih1KS5jc3Moe3Bvc2l0aW9uOiJyZWxhdGl2ZSIsbGVmdDppLHRvcDowLHpJbmRleDp0Lm9wdGlvbnMuekluZGV4LTIsb3BhY2l0eTowfSl9KTt0LiRzbGlkZXMuZXEodC5jdXJyZW50U2xpZGUpLmNzcyh7ekluZGV4OnQub3B0aW9ucy56SW5kZXgtMSxvcGFjaXR5OjF9KX07dC5wcm90b3R5cGUuc2V0SGVpZ2h0PWZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0OzE9PT1uLm9wdGlvbnMuc2xpZGVzVG9TaG93JiZuLm9wdGlvbnMuYWRhcHRpdmVIZWlnaHQ9PT0hMCYmbi5vcHRpb25zLnZlcnRpY2FsPT09ITEmJih0PW4uJHNsaWRlcy5lcShuLmN1cnJlbnRTbGlkZSkub3V0ZXJIZWlnaHQoITApLG4uJGxpc3QuY3NzKCJoZWlnaHQiLHQpKX07dC5wcm90b3R5cGUuc2V0T3B0aW9uPXQucHJvdG90eXBlLnNsaWNrU2V0T3B0aW9uPWZ1bmN0aW9uKCl7dmFyIHUsZixlLGkscix0PXRoaXMsbz0hMTtpZigib2JqZWN0Ij09PW4udHlwZShhcmd1bWVudHNbMF0pPyhlPWFyZ3VtZW50c1swXSxvPWFyZ3VtZW50c1sxXSxyPSJtdWx0aXBsZSIpOiJzdHJpbmciPT09bi50eXBlKGFyZ3VtZW50c1swXSkmJihlPWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXSxvPWFyZ3VtZW50c1syXSwicmVzcG9uc2l2ZSI9PT1hcmd1bWVudHNbMF0mJiJhcnJheSI9PT1uLnR5cGUoYXJndW1lbnRzWzFdKT9yPSJyZXNwb25zaXZlIjoidW5kZWZpbmVkIiE9dHlwZW9mIGFyZ3VtZW50c1sxXSYmKHI9InNpbmdsZSIpKSwic2luZ2xlIj09PXIpdC5vcHRpb25zW2VdPWk7ZWxzZSBpZigibXVsdGlwbGUiPT09ciluLmVhY2goZSxmdW5jdGlvbihuLGkpe3Qub3B0aW9uc1tuXT1pfSk7ZWxzZSBpZigicmVzcG9uc2l2ZSI9PT1yKWZvcihmIGluIGkpaWYoImFycmF5IiE9PW4udHlwZSh0Lm9wdGlvbnMucmVzcG9uc2l2ZSkpdC5vcHRpb25zLnJlc3BvbnNpdmU9W2lbZl1dO2Vsc2V7Zm9yKHU9dC5vcHRpb25zLnJlc3BvbnNpdmUubGVuZ3RoLTE7dT49MDspdC5vcHRpb25zLnJlc3BvbnNpdmVbdV0uYnJlYWtwb2ludD09PWlbZl0uYnJlYWtwb2ludCYmdC5vcHRpb25zLnJlc3BvbnNpdmUuc3BsaWNlKHUsMSksdS0tO3Qub3B0aW9ucy5yZXNwb25zaXZlLnB1c2goaVtmXSl9byYmKHQudW5sb2FkKCksdC5yZWluaXQoKSl9O3QucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLnNldERpbWVuc2lvbnMoKTtuLnNldEhlaWdodCgpO24ub3B0aW9ucy5mYWRlPT09ITE/bi5zZXRDU1Mobi5nZXRMZWZ0KG4uY3VycmVudFNsaWRlKSk6bi5zZXRGYWRlKCk7bi4kc2xpZGVyLnRyaWdnZXIoInNldFBvc2l0aW9uIixbbl0pfTt0LnByb3RvdHlwZS5zZXRQcm9wcz1mdW5jdGlvbigpe3ZhciBuPXRoaXMsdD1kb2N1bWVudC5ib2R5LnN0eWxlO24ucG9zaXRpb25Qcm9wPW4ub3B0aW9ucy52ZXJ0aWNhbD09PSEwPyJ0b3AiOiJsZWZ0IjsidG9wIj09PW4ucG9zaXRpb25Qcm9wP24uJHNsaWRlci5hZGRDbGFzcygic2xpY2stdmVydGljYWwiKTpuLiRzbGlkZXIucmVtb3ZlQ2xhc3MoInNsaWNrLXZlcnRpY2FsIik7KHZvaWQgMCE9PXQuV2Via2l0VHJhbnNpdGlvbnx8dm9pZCAwIT09dC5Nb3pUcmFuc2l0aW9ufHx2b2lkIDAhPT10Lm1zVHJhbnNpdGlvbikmJm4ub3B0aW9ucy51c2VDU1M9PT0hMCYmKG4uY3NzVHJhbnNpdGlvbnM9ITApO24ub3B0aW9ucy5mYWRlJiYoIm51bWJlciI9PXR5cGVvZiBuLm9wdGlvbnMuekluZGV4P24ub3B0aW9ucy56SW5kZXg8MyYmKG4ub3B0aW9ucy56SW5kZXg9Myk6bi5vcHRpb25zLnpJbmRleD1uLmRlZmF1bHRzLnpJbmRleCk7dm9pZCAwIT09dC5PVHJhbnNmb3JtJiYobi5hbmltVHlwZT0iT1RyYW5zZm9ybSIsbi50cmFuc2Zvcm1UeXBlPSItby10cmFuc2Zvcm0iLG4udHJhbnNpdGlvblR5cGU9Ik9UcmFuc2l0aW9uIix2b2lkIDA9PT10LnBlcnNwZWN0aXZlUHJvcGVydHkmJnZvaWQgMD09PXQud2Via2l0UGVyc3BlY3RpdmUmJihuLmFuaW1UeXBlPSExKSk7dm9pZCAwIT09dC5Nb3pUcmFuc2Zvcm0mJihuLmFuaW1UeXBlPSJNb3pUcmFuc2Zvcm0iLG4udHJhbnNmb3JtVHlwZT0iLW1vei10cmFuc2Zvcm0iLG4udHJhbnNpdGlvblR5cGU9Ik1velRyYW5zaXRpb24iLHZvaWQgMD09PXQucGVyc3BlY3RpdmVQcm9wZXJ0eSYmdm9pZCAwPT09dC5Nb3pQZXJzcGVjdGl2ZSYmKG4uYW5pbVR5cGU9ITEpKTt2b2lkIDAhPT10LndlYmtpdFRyYW5zZm9ybSYmKG4uYW5pbVR5cGU9IndlYmtpdFRyYW5zZm9ybSIsbi50cmFuc2Zvcm1UeXBlPSItd2Via2l0LXRyYW5zZm9ybSIsbi50cmFuc2l0aW9uVHlwZT0id2Via2l0VHJhbnNpdGlvbiIsdm9pZCAwPT09dC5wZXJzcGVjdGl2ZVByb3BlcnR5JiZ2b2lkIDA9PT10LndlYmtpdFBlcnNwZWN0aXZlJiYobi5hbmltVHlwZT0hMSkpO3ZvaWQgMCE9PXQubXNUcmFuc2Zvcm0mJihuLmFuaW1UeXBlPSJtc1RyYW5zZm9ybSIsbi50cmFuc2Zvcm1UeXBlPSItbXMtdHJhbnNmb3JtIixuLnRyYW5zaXRpb25UeXBlPSJtc1RyYW5zaXRpb24iLHZvaWQgMD09PXQubXNUcmFuc2Zvcm0mJihuLmFuaW1UeXBlPSExKSk7dm9pZCAwIT09dC50cmFuc2Zvcm0mJm4uYW5pbVR5cGUhPT0hMSYmKG4uYW5pbVR5cGU9InRyYW5zZm9ybSIsbi50cmFuc2Zvcm1UeXBlPSJ0cmFuc2Zvcm0iLG4udHJhbnNpdGlvblR5cGU9InRyYW5zaXRpb24iKTtuLnRyYW5zZm9ybXNFbmFibGVkPW4ub3B0aW9ucy51c2VUcmFuc2Zvcm0mJm51bGwhPT1uLmFuaW1UeXBlJiZuLmFuaW1UeXBlIT09ITF9O3QucHJvdG90eXBlLnNldFNsaWRlQ2xhc3Nlcz1mdW5jdGlvbihuKXt2YXIgdSxpLHIsZix0PXRoaXM7aT10LiRzbGlkZXIuZmluZCgiLnNsaWNrLXNsaWRlIikucmVtb3ZlQ2xhc3MoInNsaWNrLWFjdGl2ZSBzbGljay1jZW50ZXIgc2xpY2stY3VycmVudCIpLmF0dHIoImFyaWEtaGlkZGVuIiwidHJ1ZSIpO3QuJHNsaWRlcy5lcShuKS5hZGRDbGFzcygic2xpY2stY3VycmVudCIpO3Qub3B0aW9ucy5jZW50ZXJNb2RlPT09ITA/KHU9TWF0aC5mbG9vcih0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LzIpLHQub3B0aW9ucy5pbmZpbml0ZT09PSEwJiYobj49dSYmbjw9dC5zbGlkZUNvdW50LTEtdT90LiRzbGlkZXMuc2xpY2Uobi11LG4rdSsxKS5hZGRDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpOihyPXQub3B0aW9ucy5zbGlkZXNUb1Nob3crbixpLnNsaWNlKHItdSsxLHIrdSsyKS5hZGRDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpKSwwPT09bj9pLmVxKGkubGVuZ3RoLTEtdC5vcHRpb25zLnNsaWRlc1RvU2hvdykuYWRkQ2xhc3MoInNsaWNrLWNlbnRlciIpOm49PT10LnNsaWRlQ291bnQtMSYmaS5lcSh0Lm9wdGlvbnMuc2xpZGVzVG9TaG93KS5hZGRDbGFzcygic2xpY2stY2VudGVyIikpLHQuJHNsaWRlcy5lcShuKS5hZGRDbGFzcygic2xpY2stY2VudGVyIikpOm4+PTAmJm48PXQuc2xpZGVDb3VudC10Lm9wdGlvbnMuc2xpZGVzVG9TaG93P3QuJHNsaWRlcy5zbGljZShuLG4rdC5vcHRpb25zLnNsaWRlc1RvU2hvdykuYWRkQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmF0dHIoImFyaWEtaGlkZGVuIiwiZmFsc2UiKTppLmxlbmd0aDw9dC5vcHRpb25zLnNsaWRlc1RvU2hvdz9pLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIik6KGY9dC5zbGlkZUNvdW50JXQub3B0aW9ucy5zbGlkZXNUb1Nob3cscj10Lm9wdGlvbnMuaW5maW5pdGU9PT0hMD90Lm9wdGlvbnMuc2xpZGVzVG9TaG93K246bix0Lm9wdGlvbnMuc2xpZGVzVG9TaG93PT10Lm9wdGlvbnMuc2xpZGVzVG9TY3JvbGwmJnQuc2xpZGVDb3VudC1uPHQub3B0aW9ucy5zbGlkZXNUb1Nob3c/aS5zbGljZShyLSh0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LWYpLHIrZikuYWRkQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmF0dHIoImFyaWEtaGlkZGVuIiwiZmFsc2UiKTppLnNsaWNlKHIscit0Lm9wdGlvbnMuc2xpZGVzVG9TaG93KS5hZGRDbGFzcygic2xpY2stYWN0aXZlIikuYXR0cigiYXJpYS1oaWRkZW4iLCJmYWxzZSIpKTsib25kZW1hbmQiPT09dC5vcHRpb25zLmxhenlMb2FkJiZ0LmxhenlMb2FkKCl9O3QucHJvdG90eXBlLnNldHVwSW5maW5pdGU9ZnVuY3Rpb24oKXt2YXIgaSxyLHUsdD10aGlzO2lmKHQub3B0aW9ucy5mYWRlPT09ITAmJih0Lm9wdGlvbnMuY2VudGVyTW9kZT0hMSksdC5vcHRpb25zLmluZmluaXRlPT09ITAmJnQub3B0aW9ucy5mYWRlPT09ITEmJihyPW51bGwsdC5zbGlkZUNvdW50PnQub3B0aW9ucy5zbGlkZXNUb1Nob3cpKXtmb3IodT10Lm9wdGlvbnMuY2VudGVyTW9kZT09PSEwP3Qub3B0aW9ucy5zbGlkZXNUb1Nob3crMTp0Lm9wdGlvbnMuc2xpZGVzVG9TaG93LGk9dC5zbGlkZUNvdW50O2k+dC5zbGlkZUNvdW50LXU7aS09MSlyPWktMSxuKHQuJHNsaWRlc1tyXSkuY2xvbmUoITApLmF0dHIoImlkIiwiIikuYXR0cigiZGF0YS1zbGljay1pbmRleCIsci10LnNsaWRlQ291bnQpLnByZXBlbmRUbyh0LiRzbGlkZVRyYWNrKS5hZGRDbGFzcygic2xpY2stY2xvbmVkIik7Zm9yKGk9MDt1Pmk7aSs9MSlyPWksbih0LiRzbGlkZXNbcl0pLmNsb25lKCEwKS5hdHRyKCJpZCIsIiIpLmF0dHIoImRhdGEtc2xpY2staW5kZXgiLHIrdC5zbGlkZUNvdW50KS5hcHBlbmRUbyh0LiRzbGlkZVRyYWNrKS5hZGRDbGFzcygic2xpY2stY2xvbmVkIik7dC4kc2xpZGVUcmFjay5maW5kKCIuc2xpY2stY2xvbmVkIikuZmluZCgiW2lkXSIpLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmF0dHIoImlkIiwiIil9KX19O3QucHJvdG90eXBlLmludGVycnVwdD1mdW5jdGlvbihuKXt2YXIgdD10aGlzO258fHQuYXV0b1BsYXkoKTt0LmludGVycnVwdGVkPW59O3QucHJvdG90eXBlLnNlbGVjdEhhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcyx1PW4odC50YXJnZXQpLmlzKCIuc2xpY2stc2xpZGUiKT9uKHQudGFyZ2V0KTpuKHQudGFyZ2V0KS5wYXJlbnRzKCIuc2xpY2stc2xpZGUiKSxyPXBhcnNlSW50KHUuYXR0cigiZGF0YS1zbGljay1pbmRleCIpKTtyZXR1cm4gcnx8KHI9MCksaS5zbGlkZUNvdW50PD1pLm9wdGlvbnMuc2xpZGVzVG9TaG93PyhpLnNldFNsaWRlQ2xhc3NlcyhyKSx2b2lkIGkuYXNOYXZGb3IocikpOnZvaWQgaS5zbGlkZUhhbmRsZXIocil9O3QucHJvdG90eXBlLnNsaWRlSGFuZGxlcj1mdW5jdGlvbihuLHQsaSl7dmFyIHUsZixzLG8sZSxoPW51bGwscj10aGlzO3JldHVybiB0PXR8fCExLHIuYW5pbWF0aW5nPT09ITAmJnIub3B0aW9ucy53YWl0Rm9yQW5pbWF0ZT09PSEwfHxyLm9wdGlvbnMuZmFkZT09PSEwJiZyLmN1cnJlbnRTbGlkZT09PW58fHIuc2xpZGVDb3VudDw9ci5vcHRpb25zLnNsaWRlc1RvU2hvdz92b2lkIDA6KHQ9PT0hMSYmci5hc05hdkZvcihuKSx1PW4saD1yLmdldExlZnQodSksbz1yLmdldExlZnQoci5jdXJyZW50U2xpZGUpLHIuY3VycmVudExlZnQ9bnVsbD09PXIuc3dpcGVMZWZ0P286ci5zd2lwZUxlZnQsci5vcHRpb25zLmluZmluaXRlPT09ITEmJnIub3B0aW9ucy5jZW50ZXJNb2RlPT09ITEmJigwPm58fG4+ci5nZXREb3RDb3VudCgpKnIub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCk/dm9pZChyLm9wdGlvbnMuZmFkZT09PSExJiYodT1yLmN1cnJlbnRTbGlkZSxpIT09ITA/ci5hbmltYXRlU2xpZGUobyxmdW5jdGlvbigpe3IucG9zdFNsaWRlKHUpfSk6ci5wb3N0U2xpZGUodSkpKTpyLm9wdGlvbnMuaW5maW5pdGU9PT0hMSYmci5vcHRpb25zLmNlbnRlck1vZGU9PT0hMCYmKDA+bnx8bj5yLnNsaWRlQ291bnQtci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsKT92b2lkKHIub3B0aW9ucy5mYWRlPT09ITEmJih1PXIuY3VycmVudFNsaWRlLGkhPT0hMD9yLmFuaW1hdGVTbGlkZShvLGZ1bmN0aW9uKCl7ci5wb3N0U2xpZGUodSl9KTpyLnBvc3RTbGlkZSh1KSkpOihyLm9wdGlvbnMuYXV0b3BsYXkmJmNsZWFySW50ZXJ2YWwoci5hdXRvUGxheVRpbWVyKSxmPTA+dT9yLnNsaWRlQ291bnQlci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIT0wP3Iuc2xpZGVDb3VudC1yLnNsaWRlQ291bnQlci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsOnIuc2xpZGVDb3VudCt1OnU+PXIuc2xpZGVDb3VudD9yLnNsaWRlQ291bnQlci5vcHRpb25zLnNsaWRlc1RvU2Nyb2xsIT0wPzA6dS1yLnNsaWRlQ291bnQ6dSxyLmFuaW1hdGluZz0hMCxyLiRzbGlkZXIudHJpZ2dlcigiYmVmb3JlQ2hhbmdlIixbcixyLmN1cnJlbnRTbGlkZSxmXSkscz1yLmN1cnJlbnRTbGlkZSxyLmN1cnJlbnRTbGlkZT1mLHIuc2V0U2xpZGVDbGFzc2VzKHIuY3VycmVudFNsaWRlKSxyLm9wdGlvbnMuYXNOYXZGb3ImJihlPXIuZ2V0TmF2VGFyZ2V0KCksZT1lLnNsaWNrKCJnZXRTbGljayIpLGUuc2xpZGVDb3VudDw9ZS5vcHRpb25zLnNsaWRlc1RvU2hvdyYmZS5zZXRTbGlkZUNsYXNzZXMoci5jdXJyZW50U2xpZGUpKSxyLnVwZGF0ZURvdHMoKSxyLnVwZGF0ZUFycm93cygpLHIub3B0aW9ucy5mYWRlPT09ITA/KGkhPT0hMD8oci5mYWRlU2xpZGVPdXQocyksci5mYWRlU2xpZGUoZixmdW5jdGlvbigpe3IucG9zdFNsaWRlKGYpfSkpOnIucG9zdFNsaWRlKGYpLHZvaWQgci5hbmltYXRlSGVpZ2h0KCkpOnZvaWQoaSE9PSEwP3IuYW5pbWF0ZVNsaWRlKGgsZnVuY3Rpb24oKXtyLnBvc3RTbGlkZShmKX0pOnIucG9zdFNsaWRlKGYpKSkpfTt0LnByb3RvdHlwZS5zdGFydExvYWQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO24ub3B0aW9ucy5hcnJvd3M9PT0hMCYmbi5zbGlkZUNvdW50Pm4ub3B0aW9ucy5zbGlkZXNUb1Nob3cmJihuLiRwcmV2QXJyb3cuaGlkZSgpLG4uJG5leHRBcnJvdy5oaWRlKCkpO24ub3B0aW9ucy5kb3RzPT09ITAmJm4uc2xpZGVDb3VudD5uLm9wdGlvbnMuc2xpZGVzVG9TaG93JiZuLiRkb3RzLmhpZGUoKTtuLiRzbGlkZXIuYWRkQ2xhc3MoInNsaWNrLWxvYWRpbmciKX07dC5wcm90b3R5cGUuc3dpcGVEaXJlY3Rpb249ZnVuY3Rpb24oKXt2YXIgaSxyLHUsbix0PXRoaXM7cmV0dXJuIGk9dC50b3VjaE9iamVjdC5zdGFydFgtdC50b3VjaE9iamVjdC5jdXJYLHI9dC50b3VjaE9iamVjdC5zdGFydFktdC50b3VjaE9iamVjdC5jdXJZLHU9TWF0aC5hdGFuMihyLGkpLG49TWF0aC5yb3VuZCgxODAqdS9NYXRoLlBJKSwwPm4mJihuPTM2MC1NYXRoLmFicyhuKSksNDU+PW4mJm4+PTA/dC5vcHRpb25zLnJ0bD09PSExPyJsZWZ0IjoicmlnaHQiOjM2MD49biYmbj49MzE1P3Qub3B0aW9ucy5ydGw9PT0hMT8ibGVmdCI6InJpZ2h0IjpuPj0xMzUmJjIyNT49bj90Lm9wdGlvbnMucnRsPT09ITE/InJpZ2h0IjoibGVmdCI6dC5vcHRpb25zLnZlcnRpY2FsU3dpcGluZz09PSEwP24+PTM1JiYxMzU+PW4/ImRvd24iOiJ1cCI6InZlcnRpY2FsIn07dC5wcm90b3R5cGUuc3dpcGVFbmQ9ZnVuY3Rpb24oKXt2YXIgdCxpLG49dGhpcztpZihuLmRyYWdnaW5nPSExLG4uaW50ZXJydXB0ZWQ9ITEsbi5zaG91bGRDbGljaz1uLnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoPjEwPyExOiEwLHZvaWQgMD09PW4udG91Y2hPYmplY3QuY3VyWClyZXR1cm4hMTtpZihuLnRvdWNoT2JqZWN0LmVkZ2VIaXQ9PT0hMCYmbi4kc2xpZGVyLnRyaWdnZXIoImVkZ2UiLFtuLG4uc3dpcGVEaXJlY3Rpb24oKV0pLG4udG91Y2hPYmplY3Quc3dpcGVMZW5ndGg+PW4udG91Y2hPYmplY3QubWluU3dpcGUpe3N3aXRjaChpPW4uc3dpcGVEaXJlY3Rpb24oKSl7Y2FzZSJsZWZ0IjpjYXNlImRvd24iOnQ9bi5vcHRpb25zLnN3aXBlVG9TbGlkZT9uLmNoZWNrTmF2aWdhYmxlKG4uY3VycmVudFNsaWRlK24uZ2V0U2xpZGVDb3VudCgpKTpuLmN1cnJlbnRTbGlkZStuLmdldFNsaWRlQ291bnQoKTtuLmN1cnJlbnREaXJlY3Rpb249MDticmVhaztjYXNlInJpZ2h0IjpjYXNlInVwIjp0PW4ub3B0aW9ucy5zd2lwZVRvU2xpZGU/bi5jaGVja05hdmlnYWJsZShuLmN1cnJlbnRTbGlkZS1uLmdldFNsaWRlQ291bnQoKSk6bi5jdXJyZW50U2xpZGUtbi5nZXRTbGlkZUNvdW50KCk7bi5jdXJyZW50RGlyZWN0aW9uPTF9InZlcnRpY2FsIiE9aSYmKG4uc2xpZGVIYW5kbGVyKHQpLG4udG91Y2hPYmplY3Q9e30sbi4kc2xpZGVyLnRyaWdnZXIoInN3aXBlIixbbixpXSkpfWVsc2Ugbi50b3VjaE9iamVjdC5zdGFydFghPT1uLnRvdWNoT2JqZWN0LmN1clgmJihuLnNsaWRlSGFuZGxlcihuLmN1cnJlbnRTbGlkZSksbi50b3VjaE9iamVjdD17fSl9O3QucHJvdG90eXBlLnN3aXBlSGFuZGxlcj1mdW5jdGlvbihuKXt2YXIgdD10aGlzO2lmKCEodC5vcHRpb25zLnN3aXBlPT09ITF8fCJvbnRvdWNoZW5kImluIGRvY3VtZW50JiZ0Lm9wdGlvbnMuc3dpcGU9PT0hMXx8dC5vcHRpb25zLmRyYWdnYWJsZT09PSExJiYtMSE9PW4udHlwZS5pbmRleE9mKCJtb3VzZSIpKSlzd2l0Y2godC50b3VjaE9iamVjdC5maW5nZXJDb3VudD1uLm9yaWdpbmFsRXZlbnQmJnZvaWQgMCE9PW4ub3JpZ2luYWxFdmVudC50b3VjaGVzP24ub3JpZ2luYWxFdmVudC50b3VjaGVzLmxlbmd0aDoxLHQudG91Y2hPYmplY3QubWluU3dpcGU9dC5saXN0V2lkdGgvdC5vcHRpb25zLnRvdWNoVGhyZXNob2xkLHQub3B0aW9ucy52ZXJ0aWNhbFN3aXBpbmc9PT0hMCYmKHQudG91Y2hPYmplY3QubWluU3dpcGU9dC5saXN0SGVpZ2h0L3Qub3B0aW9ucy50b3VjaFRocmVzaG9sZCksbi5kYXRhLmFjdGlvbil7Y2FzZSJzdGFydCI6dC5zd2lwZVN0YXJ0KG4pO2JyZWFrO2Nhc2UibW92ZSI6dC5zd2lwZU1vdmUobik7YnJlYWs7Y2FzZSJlbmQiOnQuc3dpcGVFbmQobil9fTt0LnByb3RvdHlwZS5zd2lwZU1vdmU9ZnVuY3Rpb24obil7dmFyIGYsZSxyLHUsaSx0PXRoaXM7cmV0dXJuIGk9dm9pZCAwIT09bi5vcmlnaW5hbEV2ZW50P24ub3JpZ2luYWxFdmVudC50b3VjaGVzOm51bGwsIXQuZHJhZ2dpbmd8fGkmJjEhPT1pLmxlbmd0aD8hMTooZj10LmdldExlZnQodC5jdXJyZW50U2xpZGUpLHQudG91Y2hPYmplY3QuY3VyWD12b2lkIDAhPT1pP2lbMF0ucGFnZVg6bi5jbGllbnRYLHQudG91Y2hPYmplY3QuY3VyWT12b2lkIDAhPT1pP2lbMF0ucGFnZVk6bi5jbGllbnRZLHQudG91Y2hPYmplY3Quc3dpcGVMZW5ndGg9TWF0aC5yb3VuZChNYXRoLnNxcnQoTWF0aC5wb3codC50b3VjaE9iamVjdC5jdXJYLXQudG91Y2hPYmplY3Quc3RhcnRYLDIpKSksdC5vcHRpb25zLnZlcnRpY2FsU3dpcGluZz09PSEwJiYodC50b3VjaE9iamVjdC5zd2lwZUxlbmd0aD1NYXRoLnJvdW5kKE1hdGguc3FydChNYXRoLnBvdyh0LnRvdWNoT2JqZWN0LmN1clktdC50b3VjaE9iamVjdC5zdGFydFksMikpKSksZT10LnN3aXBlRGlyZWN0aW9uKCksInZlcnRpY2FsIiE9PWU/KHZvaWQgMCE9PW4ub3JpZ2luYWxFdmVudCYmdC50b3VjaE9iamVjdC5zd2lwZUxlbmd0aD40JiZuLnByZXZlbnREZWZhdWx0KCksdT0odC5vcHRpb25zLnJ0bD09PSExPzE6LTEpKih0LnRvdWNoT2JqZWN0LmN1clg+dC50b3VjaE9iamVjdC5zdGFydFg/MTotMSksdC5vcHRpb25zLnZlcnRpY2FsU3dpcGluZz09PSEwJiYodT10LnRvdWNoT2JqZWN0LmN1clk+dC50b3VjaE9iamVjdC5zdGFydFk/MTotMSkscj10LnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoLHQudG91Y2hPYmplY3QuZWRnZUhpdD0hMSx0Lm9wdGlvbnMuaW5maW5pdGU9PT0hMSYmKDA9PT10LmN1cnJlbnRTbGlkZSYmInJpZ2h0Ij09PWV8fHQuY3VycmVudFNsaWRlPj10LmdldERvdENvdW50KCkmJiJsZWZ0Ij09PWUpJiYocj10LnRvdWNoT2JqZWN0LnN3aXBlTGVuZ3RoKnQub3B0aW9ucy5lZGdlRnJpY3Rpb24sdC50b3VjaE9iamVjdC5lZGdlSGl0PSEwKSx0LnN3aXBlTGVmdD10Lm9wdGlvbnMudmVydGljYWw9PT0hMT9mK3IqdTpmK3IqKHQuJGxpc3QuaGVpZ2h0KCkvdC5saXN0V2lkdGgpKnUsdC5vcHRpb25zLnZlcnRpY2FsU3dpcGluZz09PSEwJiYodC5zd2lwZUxlZnQ9ZityKnUpLHQub3B0aW9ucy5mYWRlPT09ITB8fHQub3B0aW9ucy50b3VjaE1vdmU9PT0hMT8hMTp0LmFuaW1hdGluZz09PSEwPyh0LnN3aXBlTGVmdD1udWxsLCExKTp2b2lkIHQuc2V0Q1NTKHQuc3dpcGVMZWZ0KSk6dm9pZCAwKX07dC5wcm90b3R5cGUuc3dpcGVTdGFydD1mdW5jdGlvbihuKXt2YXIgaSx0PXRoaXM7cmV0dXJuIHQuaW50ZXJydXB0ZWQ9ITAsMSE9PXQudG91Y2hPYmplY3QuZmluZ2VyQ291bnR8fHQuc2xpZGVDb3VudDw9dC5vcHRpb25zLnNsaWRlc1RvU2hvdz8odC50b3VjaE9iamVjdD17fSwhMSk6KHZvaWQgMCE9PW4ub3JpZ2luYWxFdmVudCYmdm9pZCAwIT09bi5vcmlnaW5hbEV2ZW50LnRvdWNoZXMmJihpPW4ub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdKSx0LnRvdWNoT2JqZWN0LnN0YXJ0WD10LnRvdWNoT2JqZWN0LmN1clg9dm9pZCAwIT09aT9pLnBhZ2VYOm4uY2xpZW50WCx0LnRvdWNoT2JqZWN0LnN0YXJ0WT10LnRvdWNoT2JqZWN0LmN1clk9dm9pZCAwIT09aT9pLnBhZ2VZOm4uY2xpZW50WSx2b2lkKHQuZHJhZ2dpbmc9ITApKX07dC5wcm90b3R5cGUudW5maWx0ZXJTbGlkZXM9dC5wcm90b3R5cGUuc2xpY2tVbmZpbHRlcj1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bnVsbCE9PW4uJHNsaWRlc0NhY2hlJiYobi51bmxvYWQoKSxuLiRzbGlkZVRyYWNrLmNoaWxkcmVuKHRoaXMub3B0aW9ucy5zbGlkZSkuZGV0YWNoKCksbi4kc2xpZGVzQ2FjaGUuYXBwZW5kVG8obi4kc2xpZGVUcmFjayksbi5yZWluaXQoKSl9O3QucHJvdG90eXBlLnVubG9hZD1mdW5jdGlvbigpe3ZhciB0PXRoaXM7bigiLnNsaWNrLWNsb25lZCIsdC4kc2xpZGVyKS5yZW1vdmUoKTt0LiRkb3RzJiZ0LiRkb3RzLnJlbW92ZSgpO3QuJHByZXZBcnJvdyYmdC5odG1sRXhwci50ZXN0KHQub3B0aW9ucy5wcmV2QXJyb3cpJiZ0LiRwcmV2QXJyb3cucmVtb3ZlKCk7dC4kbmV4dEFycm93JiZ0Lmh0bWxFeHByLnRlc3QodC5vcHRpb25zLm5leHRBcnJvdykmJnQuJG5leHRBcnJvdy5yZW1vdmUoKTt0LiRzbGlkZXMucmVtb3ZlQ2xhc3MoInNsaWNrLXNsaWRlIHNsaWNrLWFjdGl2ZSBzbGljay12aXNpYmxlIHNsaWNrLWN1cnJlbnQiKS5hdHRyKCJhcmlhLWhpZGRlbiIsInRydWUiKS5jc3MoIndpZHRoIiwiIil9O3QucHJvdG90eXBlLnVuc2xpY2s9ZnVuY3Rpb24obil7dmFyIHQ9dGhpczt0LiRzbGlkZXIudHJpZ2dlcigidW5zbGljayIsW3Qsbl0pO3QuZGVzdHJveSgpfTt0LnByb3RvdHlwZS51cGRhdGVBcnJvd3M9ZnVuY3Rpb24oKXt2YXIgdCxuPXRoaXM7dD1NYXRoLmZsb29yKG4ub3B0aW9ucy5zbGlkZXNUb1Nob3cvMik7bi5vcHRpb25zLmFycm93cz09PSEwJiZuLnNsaWRlQ291bnQ+bi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmIW4ub3B0aW9ucy5pbmZpbml0ZSYmKG4uJHByZXZBcnJvdy5yZW1vdmVDbGFzcygic2xpY2stZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwiZmFsc2UiKSxuLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsImZhbHNlIiksMD09PW4uY3VycmVudFNsaWRlPyhuLiRwcmV2QXJyb3cuYWRkQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKSxuLiRuZXh0QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsImZhbHNlIikpOm4uY3VycmVudFNsaWRlPj1uLnNsaWRlQ291bnQtbi5vcHRpb25zLnNsaWRlc1RvU2hvdyYmbi5vcHRpb25zLmNlbnRlck1vZGU9PT0hMT8obi4kbmV4dEFycm93LmFkZENsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJ0cnVlIiksbi4kcHJldkFycm93LnJlbW92ZUNsYXNzKCJzbGljay1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCJmYWxzZSIpKTpuLmN1cnJlbnRTbGlkZT49bi5zbGlkZUNvdW50LTEmJm4ub3B0aW9ucy5jZW50ZXJNb2RlPT09ITAmJihuLiRuZXh0QXJyb3cuYWRkQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsInRydWUiKSxuLiRwcmV2QXJyb3cucmVtb3ZlQ2xhc3MoInNsaWNrLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsImZhbHNlIikpKX07dC5wcm90b3R5cGUudXBkYXRlRG90cz1mdW5jdGlvbigpe3ZhciBuPXRoaXM7bnVsbCE9PW4uJGRvdHMmJihuLiRkb3RzLmZpbmQoImxpIikucmVtb3ZlQ2xhc3MoInNsaWNrLWFjdGl2ZSIpLmF0dHIoImFyaWEtaGlkZGVuIiwidHJ1ZSIpLG4uJGRvdHMuZmluZCgibGkiKS5lcShNYXRoLmZsb29yKG4uY3VycmVudFNsaWRlL24ub3B0aW9ucy5zbGlkZXNUb1Njcm9sbCkpLmFkZENsYXNzKCJzbGljay1hY3RpdmUiKS5hdHRyKCJhcmlhLWhpZGRlbiIsImZhbHNlIikpfTt0LnByb3RvdHlwZS52aXNpYmlsaXR5PWZ1bmN0aW9uKCl7dmFyIG49dGhpcztuLm9wdGlvbnMuYXV0b3BsYXkmJihuLmludGVycnVwdGVkPWRvY3VtZW50W24uaGlkZGVuXT8hMDohMSl9O24uZm4uc2xpY2s9ZnVuY3Rpb24oKXtmb3IodmFyIHUsaT10aGlzLHI9YXJndW1lbnRzWzBdLGY9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGU9aS5sZW5ndGgsbj0wO2U+bjtuKyspaWYoIm9iamVjdCI9PXR5cGVvZiByfHwidW5kZWZpbmVkIj09dHlwZW9mIHI/aVtuXS5zbGljaz1uZXcgdChpW25dLHIpOnU9aVtuXS5zbGlja1tyXS5hcHBseShpW25dLnNsaWNrLGYpLCJ1bmRlZmluZWQiIT10eXBlb2YgdSlyZXR1cm4gdTtyZXR1cm4gaX19KTshZnVuY3Rpb24obix0LGkpeyJ1c2Ugc3RyaWN0IjtpLmF0dGFjaERldGFjaD1mdW5jdGlvbih0KXtmdW5jdGlvbiB1KHQsdSxmLGUpe2U9ZXx8aS5kZWZhdWx0SW5zZXJ0QWN0aW9uO3Iobih1KSlbZV0oZil9ZnVuY3Rpb24gcih0KXtyZXR1cm4gdC5kYXRhKCJ0aGVtZV9kYXRhX3BsYWNlaG9sZGVyIixuKCc8c3BhbiBzdHlsZT0iZGlzcGxheTogbm9uZTsiIC8+JykuaW5zZXJ0QWZ0ZXIodCkpLHQuZGV0YWNoKCl9dmFyIGk9bi5leHRlbmQoe30se2Jsb2NrczpbXSxkZWZhdWx0SW5zZXJ0QWN0aW9uOiJhcHBlbmRUbyJ9LHQpO3JldHVybntpbml0OmZ1bmN0aW9uKCl7bi5lYWNoKGkuYmxvY2tzLGZ1bmN0aW9uKHQsdSl7dmFyIGY7dS5pbnNlcnRBY3Rpb249dS5pbnNlcnRBY3Rpb258fGkuZGVmYXVsdEluc2VydEFjdGlvbjt1Lm11bHRpcGxlQ29udGVudEVsZW1lbnRzJiZ1LnBhcmVudEhvbGRlcj8oZj11LnRyYXZlcnNpbmdGdW5jdGlvbnx8ImZpbmQiLG4odS5jb250ZW50KS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKSxpPXQucGFyZW50cyh1LnBhcmVudEhvbGRlcilbZl0odS5lbGVtZW50VG9BdHRhY2gpO3IodClbdS5pbnNlcnRBY3Rpb25dKGkpfSkpOnIobih1LmNvbnRlbnQpKVt1Lmluc2VydEFjdGlvbl0odS5lbGVtZW50VG9BdHRhY2gpfSk7bihkb2N1bWVudCkub24oImRldGFjaEVsZW1lbnQudGhlbWUiLHUpfSxkZXN0cm95OmZ1bmN0aW9uKCl7bigiOmRhdGEodGhlbWVfZGF0YV9wbGFjZWhvbGRlcikiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ7KHQ9bih0aGlzKSkuZGF0YSgidGhlbWVfZGF0YV9wbGFjZWhvbGRlciIpJiYodC5pbnNlcnRCZWZvcmUodC5kYXRhKCJ0aGVtZV9kYXRhX3BsYWNlaG9sZGVyIikpLHQuZGF0YSgidGhlbWVfZGF0YV9wbGFjZWhvbGRlciIpLnJlbW92ZSgpLHQucmVtb3ZlRGF0YSgidGhlbWVfZGF0YV9wbGFjZWhvbGRlciIpKX0pO24oZG9jdW1lbnQpLm9mZigiZGV0YWNoRWxlbWVudC50aGVtZSIsdSl9fX07aS5jdXN0b21Qcm9kdWN0UmV2aWV3UmF0aW5nSWNvbnM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcigpe24oImlucHV0Om5vdCg6Y2hlY2tlZCkiKS5wYXJlbnQoKS5yZW1vdmVDbGFzcyhpLmNsYXNzVG9BcHBseSk7bigiaW5wdXQ6Y2hlY2tlZCIpLnBhcmVudCgpLmFkZENsYXNzKGkuY2xhc3NUb0FwcGx5KS5wcmV2QWxsKCkuYWRkQ2xhc3MoaS5jbGFzc1RvQXBwbHkpfXZhciBpPW4uZXh0ZW5kKHt9LHtyZXZpZXdSYXRpbmdJY29uc0lucHV0U2VsZWN0b3I6Jy53cml0ZS1yZXZpZXcgLnJldmlldy1yYXRpbmcgaW5wdXRbdHlwZT0icmFkaW8iXScsY2xhc3NUb0FwcGx5OiJjaGVja2VkIn0sdCk7cmV0dXJue2luaXQ6ZnVuY3Rpb24oKXtuKGRvY3VtZW50KS5vbigiY2xpY2sudGhlbWUucmV2aWV3UmF0aW5nSWNvbnMiLGkucmV2aWV3UmF0aW5nSWNvbnNJbnB1dFNlbGVjdG9yLHIpfSxkZXN0cm95OmZ1bmN0aW9uKCl7bihkb2N1bWVudCkub2ZmKCJjbGljay50aGVtZS5yZXZpZXdSYXRpbmdJY29ucyIsaS5yZXZpZXdSYXRpbmdJY29uc0lucHV0U2VsZWN0b3Iscil9fX07aS5kZXZpY2VDbGFzcz1mdW5jdGlvbihpKXt2YXIgcj1uLmV4dGVuZCh7fSx7ZWxlbWVudFRvQXBwbHk6ImJvZHkiLG1vYmlsZUNsYXNzVG9BcHBseToibW9iaWxlLWRldmljZSIsZGVza3RvcENsYXNzVG9BcHBseToiZGVza3RvcC1kZXZpY2UifSxpKTtyZXR1cm57aW5pdDpmdW5jdGlvbigpe3ZhciBpPXQuaXNNb2JpbGVEZXZpY2U/ci5tb2JpbGVDbGFzc1RvQXBwbHk6ci5kZXNrdG9wQ2xhc3NUb0FwcGx5O24oci5lbGVtZW50VG9BcHBseSkuYWRkQ2xhc3MoaSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgaT10LmlzTW9iaWxlRGV2aWNlP3IubW9iaWxlQ2xhc3NUb0FwcGx5OnIuZGVza3RvcENsYXNzVG9BcHBseTtuKHIuZWxlbWVudFRvQXBwbHkpLnJlbW92ZUNsYXNzKGkpfX19O2kuZXF1YWxpemVyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGYodCl7ci5pc0FscmVhZHlEZXN0cm95ZWQmJiF0fHxuLmVhY2godS5ibG9ja3MsZnVuY3Rpb24odCxpKXt2YXIgcixmLG8sdTtyZXR1cm4gaS5pbml0RXZlbnRzPyhyPWkpLmV2ZW50SG9sZGVyU2VsZWN0b3ImJnIuaW5pdEV2ZW50cyYmKGY9ci50cmF2ZXJzaW5nRnVuY3Rpb258fCJwYXJlbnRzIixvPW4oci5zZWxlY3RvcilbZl0oci5ldmVudEhvbGRlclNlbGVjdG9yKSx1PW4ubWFwKHIuaW5pdEV2ZW50cy5zcGxpdCgiLCIpLG4udHJpbSksbi5lYWNoKG8sZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO24uZWFjaCh1LGZ1bmN0aW9uKG4pe3ZhciBpPXVbbl0rIi50aGVtZS5lcXVhbGl6ZXIiO3Qub24oaSxmdW5jdGlvbigpe2Uocil9KX0pfSkpOmUoaSksITB9KX1mdW5jdGlvbiBlKHQpe3ZhciBzLGgsdSxmLHIsZTtpZih0LnByb3BlcnR5PXQucHJvcGVydHl8fCJoZWlnaHQiLHM9bi5leHRlbmQoe30sdCksaD0tMSE9PXQucHJvcGVydHkuaW5kZXhPZigiaGVpZ2h0Iik/YzpsLG4uZXh0ZW5kKHQsaCxzKSx1PW4odC5zZWxlY3RvciksMD09PXUubGVuZ3RoKXJldHVybiAxO2U9W3VdO3QuYnlSb3cmJiF0LnRhcmdldCYmKHUuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykscj1pLmNzcygiZGlzcGxheSIpOyJpbmxpbmUtYmxvY2siIT09ciYmImZsZXgiIT09ciYmImlubGluZS1mbGV4IiE9PXImJihyPSJibG9jayAhaW1wb3J0YW50Iik7aS5hdHRyKCJzdHlsZSIpJiZpLmRhdGEoImVxdWFsaXplci1zdHlsZS1jYWNoZSIsaS5hdHRyKCJzdHlsZSIpKTstMSE9PXQucHJvcGVydHkuaW5kZXhPZigiaGVpZ2h0Iik/aS5jc3Moe2Rpc3BsYXk6ciwicGFkZGluZy10b3AiOiIwIiwicGFkZGluZy1ib3R0b20iOiIwIiwibWFyZ2luLXRvcCI6IjAiLCJtYXJnaW4tYm90dG9tIjoiMCIsImJvcmRlci10b3Atd2lkdGgiOiIwIiwiYm9yZGVyLWJvdHRvbS13aWR0aCI6IjAiLGhlaWdodDoiMTAwcHgiLG92ZXJmbG93OiJoaWRkZW4ifSk6aS5jc3Moe2Rpc3BsYXk6ciwicGFkZGluZy1sZWZ0IjoiMCIsInBhZGRpbmctcmlnaHQiOiIwIiwibWFyZ2luLWxlZnQiOiIwIiwibWFyZ2luLXJpZ2h0IjoiMCIsImJvcmRlci1sZWZ0LXdpZHRoIjoiMCIsImJvcmRlci1yaWdodC13aWR0aCI6IjAiLHdpZHRoOiIxMDBweCIsb3ZlcmZsb3c6ImhpZGRlbiJ9KX0pLGY9bnVsbCxyPVtdLG4odSkuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksdT10Lm9mZnNldCgpLnRvcC1pKHQuY3NzKCJtYXJnaW4tdG9wIikpLGU9MDxyLmxlbmd0aD9yW3IubGVuZ3RoLTFdOm51bGw7bnVsbCE9ZSYmTWF0aC5mbG9vcihNYXRoLmFicyhmLXUpKTw9MT9yW3IubGVuZ3RoLTFdPWUuYWRkKHQpOnIucHVzaCh0KTtmPXV9KSxlPXIsdS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKTt0LmRhdGEoImVxdWFsaXplci1zdHlsZS1jYWNoZSIpPyh0LmF0dHIoInN0eWxlIix0LmRhdGEoImVxdWFsaXplci1zdHlsZS1jYWNoZSIpKSx0LnJlbW92ZURhdGEoImVxdWFsaXplci1zdHlsZS1jYWNoZSIpKTp0LnJlbW92ZUF0dHIoInN0eWxlIil9KSk7bi5lYWNoKGUsZnVuY3Rpb24ocix1KXt2YXIgZj1uKHUpLGU9MDtpZih0LnRhcmdldCllPW8odC50YXJnZXQsdCk7ZWxzZXtpZih0LmJ5Um93JiZmLmxlbmd0aDw9MSlyZXR1cm4gdm9pZCBmLmNzcyh0LnByb3BlcnR5LCIiKTtmLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpLHM9aS5hdHRyKCJzdHlsZSIpLHI9aS5jc3MoImRpc3BsYXkiKSx1LGY7ImlubGluZS1ibG9jayIhPT1yJiYiZmxleCIhPT1yJiYiaW5saW5lLWZsZXgiIT09ciYmKHI9ImJsb2NrIik7dT17ZGlzcGxheTpyfTt1W3QucHJvcGVydHldPSIiO2kuY3NzKHUpO2Y9byhpLHQpO2U8ZiYmKGU9Zik7cz9pLmF0dHIoInN0eWxlIixzKTppLmNzcygiZGlzcGxheSIsIiIpfSl9Zi5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9bih0aGlzKSx1PTA7dC50YXJnZXQmJnIuaXModC50YXJnZXQpfHwoImJvcmRlci1ib3giIT09ci5jc3MoImJveC1zaXppbmciKSYmKC0xIT09dC5wcm9wZXJ0eS5pbmRleE9mKCJoZWlnaHQiKT8odSs9aShyLmNzcygiYm9yZGVyLXRvcC13aWR0aCIpKStpKHIuY3NzKCJib3JkZXItYm90dG9tLXdpZHRoIikpLHUrPWkoci5jc3MoInBhZGRpbmctdG9wIikpK2koci5jc3MoInBhZGRpbmctYm90dG9tIikpKToodSs9aShyLmNzcygiYm9yZGVyLWxlZnQtd2lkdGgiKSkraShyLmNzcygiYm9yZGVyLXJpZ2h0LXdpZHRoIikpLHUrPWkoci5jc3MoInBhZGRpbmctbGVmdCIpKStpKHIuY3NzKCJwYWRkaW5nLXJpZ2h0IikpKSksci5jc3ModC5wcm9wZXJ0eSxlLXUrInB4IikpfSl9KTtuLmV2ZW50LnRyaWdnZXIoImVxdWFsaXplckV4ZWN1dGVkIil9ZnVuY3Rpb24gbyhuLHQpe3ZhciBpPVtdO3JldHVybi0xIT09dC5tZWFzdXJlbWVudEZ1bmN0aW9uLmluZGV4T2YoIm91dGVyIikmJmkucHVzaCh0LmluY2x1ZGVNYXJnaW4pLG5bdC5tZWFzdXJlbWVudEZ1bmN0aW9uXS5hcHBseShuLGkpfWZ1bmN0aW9uIGkobil7cmV0dXJuIHBhcnNlRmxvYXQobil8fDB9ZnVuY3Rpb24gcygpe24od2luZG93KS53aWR0aCgpIT09ci53aW5kb3dXaWR0aCYmKGNsZWFyVGltZW91dChyLndpbmRvd0RlbGF5KSxyLndpbmRvd0RlbGF5PXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZighMCl9LHIud2luZG93VGltZW91dCkpfWZ1bmN0aW9uIGgoKXtmKCEwKX12YXIgcj17aXNBbHJlYWR5RGVzdHJveWVkOiExLHdpbmRvd0RlbGF5Om51bGwsd2luZG93V2lkdGg6MCx3aW5kb3dUaW1lb3V0OjUwfSxjPXt0YXJnZXQ6bnVsbCxieVJvdzohMCxwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJvdXRlckhlaWdodCIsaW5jbHVkZU1hcmdpbjohMX0sbD17dGFyZ2V0Om51bGwsYnlSb3c6ITEscHJvcGVydHk6IndpZHRoIixtZWFzdXJlbWVudEZ1bmN0aW9uOiJvdXRlcldpZHRoIixpbmNsdWRlTWFyZ2luOiExfSx1PW4uZXh0ZW5kKHt9LHtibG9ja3M6W119LHQpO3JldHVybiB1LnRyaWdnZXJFdmVudHMmJm4oZG9jdW1lbnQpLm9uKHUudHJpZ2dlckV2ZW50cyxmdW5jdGlvbigpe2YoITApfSkse2luaXQ6ZnVuY3Rpb24oKXtuKHdpbmRvdykub24oInJlc2l6ZS50aGVtZS5lcXVhbGl6ZXIiLHMpO24od2luZG93KS5vbigib3JpZW50YXRpb25jaGFuZ2UudGhlbWUuZXF1YWxpemVyIixoKTtmKCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtuKHdpbmRvdykub2ZmKCJyZXNpemUudGhlbWUuZXF1YWxpemVyIixzKTtuKHdpbmRvdykub2ZmKCJvcmllbnRhdGlvbmNoYW5nZS50aGVtZS5lcXVhbGl6ZXIiLGgpO24uZWFjaCh1LmJsb2NrcyxmdW5jdGlvbih0LGkpe3ZhciB1LGYscjtpLmV2ZW50SG9sZGVyU2VsZWN0b3ImJmkuaW5pdEV2ZW50cyYmKHU9aS50cmF2ZXJzaW5nRnVuY3Rpb258fCJwYXJlbnRzIixmPW4oaS5zZWxlY3RvcilbdV0oaS5ldmVudEhvbGRlclNlbGVjdG9yKSxyPW4ubWFwKGkuaW5pdEV2ZW50cy5zcGxpdCgiLCIpLG4udHJpbSksbi5lYWNoKGYsZnVuY3Rpb24oKXtuKHRoaXMpO24uZWFjaChyLGZ1bmN0aW9uKG4pe3Jbbl19KX0pKX0pO24uZWFjaCh1LmJsb2NrcyxmdW5jdGlvbih0LGkpe3ZhciByPW4oaS5zZWxlY3Rvcik7bi5lYWNoKHIsZnVuY3Rpb24odCxyKXtuKHIpLmNzcyhpLnByb3BlcnR5LCIiKX0pfSl9fX07aS5maWx0ZXJzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoKXtuKGkub3ZlcmxheUVsZW1lbnRTZWxlY3RvcikudHJpZ2dlcigiY2xpY2sudGhlbWUub3ZlcmxheSIpfXZhciBpPW4uZXh0ZW5kKHt9LHtvdmVybGF5RWxlbWVudFNlbGVjdG9yOiIub3ZlcmxheU9mZkNhbnZhcyIsYWpheEZpbHRlcnNFbGVtZW50OiIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIixjbG9zZVBhbmVsQWZ0ZXJGaWx0cmF0aW9uRGF0YUF0dHJpYnV0ZToiY2xvc2VmaWx0ZXJzcGFuZWxhZnRlcmZpbHRyYXRpb25pbm1vYmlsZSJ9LHQpO3JldHVybntpbml0OmZ1bmN0aW9uKCl7InRydWUiPT09bihpLmFqYXhGaWx0ZXJzRWxlbWVudCkuYXR0cigiZGF0YS0iK2kuY2xvc2VQYW5lbEFmdGVyRmlsdHJhdGlvbkRhdGFBdHRyaWJ1dGUpJiZuKGRvY3VtZW50KS5vbigibm9wQWpheEZpbHRlcnNGaWx0cmF0aW9uQ29tcGxldGVFdmVudC50aGVtZS5maWx0ZXJzIixyKX0sZGVzdHJveTpmdW5jdGlvbigpe24oZG9jdW1lbnQpLm9mZigibm9wQWpheEZpbHRlcnNGaWx0cmF0aW9uQ29tcGxldGVFdmVudC50aGVtZS5maWx0ZXJzIixyKX19fTtpLmZseW91dENhcnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gdSgpe2UoKX1mdW5jdGlvbiBmKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgdSxmPW4odGhpcykuY2xvc2VzdCgiLml0ZW0iKSxyPXBhcnNlSW50KGYuYXR0cigiZGF0YS1zaG9wcGluZ0NhcnRJZCIpKTtpc05hTihyKXx8MD09PXJ8fCh1PXtzaG9wcGluZ0NhcnRJZDpyfSxuLmFqYXgoe2NhY2hlOiExLHR5cGU6IlBPU1QiLHVybDppLnJlbW92ZUl0ZW1Gcm9tQ2FydFVybCxkYXRhOnUsZGF0YVR5cGU6Impzb24ifSkuZG9uZShmdW5jdGlvbihuKXtuLnN1Y2Nlc3MmJmUocil9KSl9ZnVuY3Rpb24gZSh0KXtuLmFqYXgoe2NhY2hlOiExLHR5cGU6IkdFVCIsdXJsOmkuZmx5b3V0Q2FydFVybH0pLmRvbmUoZnVuY3Rpb24oaSl7dmFyIHU9bihyLmZseW91dENhcnRTZWxlY3RvcikuY2hpbGRyZW4oKTtuKGkpLmZpbHRlcihyLmZseW91dENhcnRTZWxlY3RvcikuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKHQsaSl7dmFyIHI9bihpKTtuKHVbdF0pLnJlcGxhY2VXaXRoKHIpfSk7dCYmbihkb2N1bWVudCkudHJpZ2dlcigicmVtb3ZlSXRlbUZseW91dENhcnQiLFt0XSk7bihkb2N1bWVudCkudHJpZ2dlcigiaW5pdGlhbGl6ZVBlcmZlY3RTY3JvbGxiYXIudGhlbWUiLFtuKHIuZmx5b3V0Q2FydFNjcm9sbGJhclNlbGVjdG9yKV0pfSl9dmFyIGk9e2ZseW91dENhcnRVcmw6IiIscmVtb3ZlSXRlbUZyb21DYXJ0VXJsOiIiLGFqYXhDYXJ0U3VjY2Vzc1Byb2Nlc3NGdW5jdGlvbjpmdW5jdGlvbigpe319LHI9bi5leHRlbmQoe30se2ZseW91dENhcnRTZWxlY3RvcjoiI2ZseW91dC1jYXJ0IixmbHlvdXRDYXJ0U2Nyb2xsYmFyU2VsZWN0b3I6IiNmbHlvdXQtY2FydCAuaXRlbXMiLHJlbW92ZUl0ZW1TZWxlY3RvcjoiI2ZseW91dC1jYXJ0IC5yZW1vdmUtaXRlbSJ9LHQpO3JldHVybntpbml0OmZ1bmN0aW9uKCl7aS5mbHlvdXRDYXJ0VXJsPW4oci5mbHlvdXRDYXJ0U2VsZWN0b3IpLmF0dHIoImRhdGEtZmx5b3V0Q2FydFVybCIpO2kucmVtb3ZlSXRlbUZyb21DYXJ0VXJsPW4oci5mbHlvdXRDYXJ0U2VsZWN0b3IpLmF0dHIoImRhdGEtcmVtb3ZlSXRlbUZyb21DYXJ0VXJsIik7bihkb2N1bWVudCkub24oImNsaWNrLnRoZW1lLmZseW91dENhcnRSZW1vdmVJdGVtIixyLnJlbW92ZUl0ZW1TZWxlY3RvcixmKTtuKGRvY3VtZW50KS5vbigibm9wQWpheENhcnRQcm9kdWN0QWRkZWRUb0NhcnRFdmVudCBub3Bjb21tZXJjZUFqYXhDYXJ0UHJvZHVjdEFkZGVkVG9DYXJ0RXZlbnQiLHUpOyJvYmplY3QiPT10eXBlb2Ygbm9wQWpheENhcnQmJih3aW5kb3cubm9wQWpheENhcnQuc2hvdWxkUmVmcmVzaEZseW91dENhcnQ9ITEpOyJvYmplY3QiPT10eXBlb2YgQWpheENhcnQmJihpLmFqYXhDYXJ0U3VjY2Vzc1Byb2Nlc3NGdW5jdGlvbj13aW5kb3cuQWpheENhcnQuc3VjY2Vzc19wcm9jZXNzLHdpbmRvdy5BamF4Q2FydC5zdWNjZXNzX3Byb2Nlc3M9ZnVuY3Rpb24odCl7aS5hamF4Q2FydFN1Y2Nlc3NQcm9jZXNzRnVuY3Rpb24odCk7dC5zdWNjZXNzJiZuKGRvY3VtZW50KS50cmlnZ2VyKCJub3Bjb21tZXJjZUFqYXhDYXJ0UHJvZHVjdEFkZGVkVG9DYXJ0RXZlbnQiKX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7bihkb2N1bWVudCkub2ZmKCJjbGljay50aGVtZS5mbHlvdXRDYXJ0UmVtb3ZlSXRlbSIsci5yZW1vdmVJdGVtU2VsZWN0b3IsZik7bihkb2N1bWVudCkub2ZmKCJub3BBamF4Q2FydFByb2R1Y3RBZGRlZFRvQ2FydEV2ZW50IG5vcGNvbW1lcmNlQWpheENhcnRQcm9kdWN0QWRkZWRUb0NhcnRFdmVudCIsdSk7Im9iamVjdCI9PXR5cGVvZiBub3BBamF4Q2FydCYmKHdpbmRvdy5ub3BBamF4Q2FydC5zaG91bGRSZWZyZXNoRmx5b3V0Q2FydD0hMCk7Im9iamVjdCI9PXR5cGVvZiBBamF4Q2FydCYmKHdpbmRvdy5BamF4Q2FydC5zdWNjZXNzX3Byb2Nlc3M9aS5hamF4Q2FydFN1Y2Nlc3NQcm9jZXNzRnVuY3Rpb24pfX19O2kuZ29Ub1RvcD1mdW5jdGlvbih0KXtmdW5jdGlvbiByKCl7bigiaHRtbCwgYm9keSIpLmFuaW1hdGUoe3Njcm9sbFRvcDowfSxpLnNjcm9sbFNwZWVkKX1mdW5jdGlvbiB1KCl7bih3aW5kb3cpLnNjcm9sbFRvcCgpPmkuc2Nyb2xsQmFycmllcj9uKGkuc2Nyb2xsRWxlbWVudFNlbGVjdG9yKVtpLmFuaW1hdGlvbi5pbl0oaS5hbmltYXRpb24uc3BlZWQpOm4oaS5zY3JvbGxFbGVtZW50U2VsZWN0b3IpW2kuYW5pbWF0aW9uLm91dF0oaS5hbmltYXRpb24uc3BlZWQpfXZhciBpPW4uZXh0ZW5kKHt9LHtzY3JvbGxFbGVtZW50U2VsZWN0b3I6IiNnb1RvVG9wIixzY3JvbGxCYXJyaWVyOjEwMCxzY3JvbGxTcGVlZDo0MDAsYW5pbWF0aW9uOnt0eXBlOiJub25lIixzcGVlZDowfX0sdCk7cmV0dXJuIG4uZXh0ZW5kKGkuYW5pbWF0aW9uLGZ1bmN0aW9uKG4pe3ZhciB0PXt9O3N3aXRjaChuLnR5cGUpe2Nhc2UiZmFkZSI6dC5pbj0iZmFkZUluIjt0Lm91dD0iZmFkZU91dCI7YnJlYWs7Y2FzZSJzbGlkZSI6dC5pbj0ic2xpZGVEb3duIjt0Lm91dD0ic2xpZGVVcCI7YnJlYWs7ZGVmYXVsdDp0LmluPSJzaG93Ijt0Lm91dD0iaGlkZSI7dC5zcGVlZD0wfXJldHVybiB0fShpLmFuaW1hdGlvbikpLHtpbml0OmZ1bmN0aW9uKCl7bihpLnNjcm9sbEVsZW1lbnRTZWxlY3Rvcikub24oImNsaWNrLnRoZW1lLmdvVG9Ub3AiLHIpO24od2luZG93KS5vbigic2Nyb2xsLnRoZW1lLmdvVG9Ub3AiLHUpfSxkZXN0cm95OmZ1bmN0aW9uKCl7bihpLnNjcm9sbEVsZW1lbnRTZWxlY3Rvcikub2ZmKCJjbGljay50aGVtZS5nb1RvVG9wIixyKTtuKHdpbmRvdykub2ZmKCJzY3JvbGwudGhlbWUuZ29Ub1RvcCIsdSl9fX07aS5oZWFkZXI9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gdSgpe3IoKX1mdW5jdGlvbiByKHQpe24uZWFjaChpLm1vZHVsZXMsZnVuY3Rpb24ocix1KXtuKHUuY29udGVudCkuaGFzQ2xhc3MoaS5hY3RpdmVDbGFzcykmJjA8bih1LmNvbnRlbnQpLm5vdCh0KS5sZW5ndGgmJih1Lmhhc0Nsb3Nlcj9uKHUuY2xvc2VyKS50cmlnZ2VySGFuZGxlcigiY2xpY2sudGhlbWUuaGVhZGVyLm1vZHVsZUNsb3NlcnMtIit1LmlkKTp1Lmhhc09wZW5lciYmbih1Lm9wZW5lcikudHJpZ2dlckhhbmRsZXIoImNsaWNrLnRoZW1lLmhlYWRlci5tb2R1bGVPcGVuZXJzLSIrdS5pZCkpfSl9dmFyIGY9e2luc2VydEFjdGlvbjoiYXBwZW5kVG8iLGFuaW1hdGlvbjp7dHlwZToibm9uZSJ9fSxpPW4uZXh0ZW5kKHt9LHttb2R1bGVzOltdLGFjdGl2ZUNsYXNzOiJhY3RpdmUifSx0KTtyZXR1cm57aW5pdDpmdW5jdGlvbigpe24uZWFjaChpLm1vZHVsZXMsZnVuY3Rpb24odCx1KXt2YXIgbyxlLHM7bz10O2U9dTtzPW4uZXh0ZW5kKHt9LGUpO24uZXh0ZW5kKGUsZixzKTtuLmV4dGVuZChlLmFuaW1hdGlvbixmdW5jdGlvbihuKXt2YXIgdD17fTtzd2l0Y2gobi50eXBlKXtjYXNlImZhZGUiOnQuaW49ImZhZGVJbiI7dC5vdXQ9ImZhZGVPdXQiO3QudG9nZ2xlUGFyYW1ldGVyPW4udG9nZ2xlUGFyYW1ldGVyfHwic2xvdyI7YnJlYWs7Y2FzZSJzbGlkZSI6dC5pbj0ic2xpZGVEb3duIjt0Lm91dD0ic2xpZGVVcCI7dC50b2dnbGVQYXJhbWV0ZXI9bi50b2dnbGVQYXJhbWV0ZXJ8fCJzbG93IjticmVhaztkZWZhdWx0OnQuaW49ImFkZENsYXNzIjt0Lm91dD0icmVtb3ZlQ2xhc3MiO3QudG9nZ2xlUGFyYW1ldGVyPW4udG9nZ2xlUGFyYW1ldGVyfHwib3BlbmVkIn1yZXR1cm4gdH0oZS5hbmltYXRpb24pKTtlLmlkPW87ZS5oYXNPcGVuZXI9ZS5oYXNPd25Qcm9wZXJ0eSgib3BlbmVyIikmJjA8bihlLm9wZW5lcikubGVuZ3RoO2UuaGFzQ2xvc2VyPWUuaGFzT3duUHJvcGVydHkoImNsb3NlciIpJiYwPG4oZS5jbG9zZXIpLmxlbmd0aDtlLmhhc0NvbnRlbnQ9ZS5oYXNPd25Qcm9wZXJ0eSgiY29udGVudCIpJiYwPG4oZS5jb250ZW50KS5sZW5ndGg7ZS5oYXNFbGVtZW50VG9BdHRhY2g9ZS5oYXNPd25Qcm9wZXJ0eSgiZWxlbWVudFRvQXR0YWNoIikmJjA8bihlLmVsZW1lbnRUb0F0dGFjaCkubGVuZ3RoO2UuaGFzUHJldmVudENsaWNraW5nPWUuaGFzT3duUHJvcGVydHkoInByZXZlbnRDbGlja2luZyIpJiZlLnByZXZlbnRDbGlja2luZztlLmhhc092ZXJsYXk9ZS5oYXNPd25Qcm9wZXJ0eSgib3ZlcmxheSIpJiZlLm92ZXJsYXk7ZS5oYXNJbml0aWFsU3R5bGU9ZS5oYXNPd25Qcm9wZXJ0eSgiaW5pdGlhbFN0eWxlIik7ZS5oYXNEaXNhYmxlUGFnZVNjcm9sbD1lLmhhc093blByb3BlcnR5KCJkaXNhYmxlUGFnZVNjcm9sbCIpJiZlLmRpc2FibGVQYWdlU2Nyb2xsO2UuaGFzU2Nyb2xsYmFyPSExO2Uuc2Nyb2xsYmFyRWxlbWVudD0hMTtlLmhhc093blByb3BlcnR5KCJzY3JvbGxiYXIiKSYmKCJib29sZWFuIj09dHlwZW9mIGUuc2Nyb2xsYmFyJiZlLnNjcm9sbGJhciYmZS5oYXNDb250ZW50PyhlLmhhc1Njcm9sbGJhcj0hMCxlLnNjcm9sbGJhckVsZW1lbnQ9ZS5jb250ZW50KToic3RyaW5nIj09dHlwZW9mIGUuc2Nyb2xsYmFyJiYwPG4oZS5zY3JvbGxiYXIpLmxlbmd0aCYmKGUuaGFzU2Nyb2xsYmFyPSEwLGUuc2Nyb2xsYmFyRWxlbWVudD1lLnNjcm9sbGJhcikpO3UuaGFzT3BlbmVyJiZ1Lmhhc0NvbnRlbnQ/KHUuaGFzRWxlbWVudFRvQXR0YWNoJiZuKGRvY3VtZW50KS50cmlnZ2VyKCJkZXRhY2hFbGVtZW50LnRoZW1lIixbdS5jb250ZW50LHUuZWxlbWVudFRvQXR0YWNoLHUuaW5zZXJ0QWN0aW9uXSksbih1Lm9wZW5lcikub24oImNsaWNrLnRoZW1lLmhlYWRlci5tb2R1bGVPcGVuZXJzLSIrdS5pZCxmdW5jdGlvbih0KXt1Lmhhc1ByZXZlbnRDbGlja2luZyYmdC5wcmV2ZW50RGVmYXVsdCgpO3Iobih1LmNvbnRlbnQpKTtuKHUuY29udGVudCkudG9nZ2xlQ2xhc3MoaS5hY3RpdmVDbGFzcyksZnVuY3Rpb24odCl7dmFyIHI9W10sdT0hMSxmPSExO3QuaGFzT3ZlcmxheSYmdC5oYXNDb250ZW50JiYodT1uKHQuY29udGVudCkuaGFzQ2xhc3MoaS5hY3RpdmVDbGFzcyksdC5oYXNEaXNhYmxlUGFnZVNjcm9sbCYmdC5oYXNDb250ZW50JiZ1JiYoZj1uKHQuY29udGVudCkuaGFzQ2xhc3MoaS5hY3RpdmVDbGFzcykpKTtyLnB1c2godSxmKTsibm9uZSIhPT10LmFuaW1hdGlvbi50eXBlJiZyLnB1c2godC5hbmltYXRpb24udG9nZ2xlUGFyYW1ldGVyKTtuKGRvY3VtZW50KS50cmlnZ2VyKCJ0b2dnbGVPdmVybGF5LnRoZW1lIixyKX0odSk7bih1LmNvbnRlbnQpLmhhc0NsYXNzKGkuYWN0aXZlQ2xhc3MpP24odS5jb250ZW50KVt1LmFuaW1hdGlvbi5pbl0odS5hbmltYXRpb24udG9nZ2xlUGFyYW1ldGVyKTpuKHUuY29udGVudClbdS5hbmltYXRpb24ub3V0XSh1LmFuaW1hdGlvbi50b2dnbGVQYXJhbWV0ZXIpfSksdS5oYXNDbG9zZXImJm4odS5jbG9zZXIpLm9uKCJjbGljay50aGVtZS5oZWFkZXIubW9kdWxlQ2xvc2Vycy0iK3UuaWQsZnVuY3Rpb24oKXtuKHUub3BlbmVyKS50cmlnZ2VySGFuZGxlcigiY2xpY2sudGhlbWUuaGVhZGVyLm1vZHVsZU9wZW5lcnMtIit1LmlkKTtuKHRoaXMpLnRyaWdnZXIoImhlYWRlck1vZHVsZUNsb3NlZC50aGVtZSIpfSkpOiF1Lmhhc09wZW5lciYmdS5oYXNDb250ZW50JiZ1Lmhhc0VsZW1lbnRUb0F0dGFjaCYmbihkb2N1bWVudCkudHJpZ2dlcigiZGV0YWNoRWxlbWVudC50aGVtZSIsW3UuY29udGVudCx1LmVsZW1lbnRUb0F0dGFjaCx1Lmluc2VydEFjdGlvbl0pO3UuaGFzSW5pdGlhbFN0eWxlJiZ1Lmhhc0NvbnRlbnQmJihuKHUuY29udGVudCkuZGF0YSgiaGVhZGVyLXN0eWxlLWNhY2hlIixuKHUuY29udGVudCkuYXR0cigic3R5bGUiKSksbih1LmNvbnRlbnQpLmNzcyh1LmluaXRpYWxTdHlsZSkpO3UuaGFzU2Nyb2xsYmFyJiZuKGRvY3VtZW50KS50cmlnZ2VyKCJpbml0aWFsaXplUGVyZmVjdFNjcm9sbGJhci50aGVtZSIsW24odS5zY3JvbGxiYXJFbGVtZW50KV0pfSk7bihkb2N1bWVudCkub24oInJlbW92ZU92ZXJsYXkudGhlbWUiLHUpfSxkZXN0cm95OmZ1bmN0aW9uKCl7cigpO24uZWFjaChpLm1vZHVsZXMsZnVuY3Rpb24odCxpKXtpLmhhc0luaXRpYWxTdHlsZSYmaS5oYXNDb250ZW50JiYobihpLmNvbnRlbnQpLmF0dHIoInN0eWxlIixuKGkuY29udGVudCkuZGF0YSgiaGVhZGVyLXN0eWxlLWNhY2hlIil8fCIiKSxuKGkuY29udGVudCkucmVtb3ZlRGF0YSgiaGVhZGVyLXN0eWxlLWNhY2hlIikpO2kuaGFzT3BlbmVyJiZpLmhhc0NvbnRlbnQmJihuKGkub3BlbmVyKS5vZmYoImNsaWNrLnRoZW1lLmhlYWRlci5tb2R1bGVPcGVuZXJzLSIraS5pZCksaS5oYXNDbG9zZXImJm4oaS5jbG9zZXIpLm9mZigiY2xpY2sudGhlbWUuaGVhZGVyLm1vZHVsZUNsb3NlcnMtIitpLmlkKSl9KTtuKGRvY3VtZW50KS5vZmYoInJlbW92ZU92ZXJsYXkudGhlbWUiLHUpfX19O2kubWVudT1mdW5jdGlvbih0KXtmdW5jdGlvbiBmKCl7dmFyIHQ9bih0aGlzKS5zaWJsaW5ncyhpLnN1Ymxpc3RXcmFwU2VsZWN0b3IpO3QuYWRkQ2xhc3MoaS5hY3RpdmVDbGFzcyk7bihkb2N1bWVudCkudHJpZ2dlcigiaW5pdGlhbGl6ZVBlcmZlY3RTY3JvbGxiYXIudGhlbWUiLFt0XSl9ZnVuY3Rpb24gZSgpe24odGhpcykuY2xvc2VzdChpLnN1Ymxpc3RXcmFwU2VsZWN0b3IpLnJlbW92ZUNsYXNzKGkuYWN0aXZlQ2xhc3MpfWZ1bmN0aW9uIG8oKXt2YXIgdD11KCk7bih0KyIgIitpLnN1Ymxpc3RXcmFwU2VsZWN0b3IrIi4iK2kuYWN0aXZlQ2xhc3MpLnJlbW92ZUNsYXNzKGkuYWN0aXZlQ2xhc3MpfWZ1bmN0aW9uIHMoKXt2YXIgdD11KCk7cmV0dXJuIG4odCsiID4gbGkiKS5nZXQoKS5yZXZlcnNlKCl9ZnVuY3Rpb24gdSgpe3ZhciB0PWkuc3VibGlzdEluZGVudC51bFNlbGVjdG9ySGVhZGVyTWVudTtyZXR1cm4gMDxuKGkuc3VibGlzdEluZGVudC51bFNlbGVjdG9yTWVnYU1lbnUpLmxlbmd0aCYmKHQ9aS5zdWJsaXN0SW5kZW50LnVsU2VsZWN0b3JNZWdhTWVudSksdH12YXIgcj17c3VibGlzdEluZGVudFNlbGVjdG9yczpbXX0saT1uLmV4dGVuZCghMCx7fSx7YWN0aXZlQ2xhc3M6ImFjdGl2ZSIsc3VibGlzdFdyYXBTZWxlY3RvcjoiLnN1Ymxpc3Qtd3JhcCIscGx1c0J1dHRvblNlbGVjdG9yOiIucGx1cy1idXR0b24iLGJhY2tCdXR0b25TZWxlY3RvcjoiLmJhY2stYnV0dG9uIixjbG9zZU1lbnVTZWxlY3RvcjoiLmNsb3NlLW1lbnUgPiBzcGFuIixyZXZlcnNlVG9wTGV2ZWxNZW51SXRlbXNaSW5kZXg6ITEsc3VibGlzdEluZGVudDp7ZW5hYmxlZDohMSx1bFNlbGVjdG9yTWVnYU1lbnU6Ii5tZWdhLW1lbnUtcmVzcG9uc2l2ZSIsdWxTZWxlY3RvckhlYWRlck1lbnU6Ii5oZWFkZXItbWVudSA+IHVsIix3aXRoU3ViY2F0ZWdvcmllc1NlbGVjdG9yOiIud2l0aC1zdWJjYXRlZ29yaWVzIix0b3BMZXZlbE1lbnVXaWR0aDozMjAsc3VibGlzdEluZGVudDo3LGluaXRpYWxaSW5kZXg6MX19LHQpO3JldHVybntpbml0OmZ1bmN0aW9uKCl7dmFyIHQ7bihpLnBsdXNCdXR0b25TZWxlY3Rvcikub24oImNsaWNrLnRoZW1lLm1lbnUucGx1c0J1dHRvbiIsZik7bihpLmJhY2tCdXR0b25TZWxlY3Rvcikub24oImNsaWNrLnRoZW1lLm1lbnUuYmFja0J1dHRvbiIsZSk7bihpLmNsb3NlTWVudVNlbGVjdG9yKS5vbigiaGVhZGVyTW9kdWxlQ2xvc2VkLnRoZW1lIixvKTtpLnJldmVyc2VUb3BMZXZlbE1lbnVJdGVtc1pJbmRleCYmKHQ9cygpLG4odCkuY3NzKCJ6LWluZGV4IixmdW5jdGlvbihuKXtyZXR1cm4gbisxfSkpO2kuc3VibGlzdEluZGVudC5lbmFibGVkJiZmdW5jdGlvbiB0KHUsZixlLG8pe24odSkuZWFjaChmdW5jdGlvbigpe24odGhpcykuYXR0cigic3R5bGUiKSYmbih0aGlzKS5kYXRhKCJtZW51LXN0eWxlLWNhY2hlIixuKHRoaXMpLmF0dHIoInN0eWxlIikpO24odGhpcykuY3NzKHt3aWR0aDplLWkuc3VibGlzdEluZGVudC5zdWJsaXN0SW5kZW50LCJ6LWluZGV4IjpuKHRoaXMpLmNzcygiei1pbmRleCIpK299KX0pO3Iuc3VibGlzdEluZGVudFNlbGVjdG9ycy5wdXNoKHUpO3ZhciBzPXUrIiA+IC5zdWJsaXN0ID4gbGkgPiAiK2kuc3VibGlzdFdyYXBTZWxlY3RvcjswPG4ocykubGVuZ3RoJiZ0KHMsZixlLWkuc3VibGlzdEluZGVudC5zdWJsaXN0SW5kZW50LG8rMSl9KHUoKSsiID4gbGkgPiAiK2kuc3VibGlzdFdyYXBTZWxlY3RvcixpLnN1Ymxpc3RJbmRlbnQud2l0aFN1YmNhdGVnb3JpZXNTZWxlY3RvcixpLnN1Ymxpc3RJbmRlbnQudG9wTGV2ZWxNZW51V2lkdGgsaS5zdWJsaXN0SW5kZW50LmluaXRpYWxaSW5kZXgpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIHQ7bihpLnBsdXNCdXR0b25TZWxlY3Rvcikub2ZmKCJjbGljay50aGVtZS5tZW51LnBsdXNCdXR0b24iLGYpO24oaS5iYWNrQnV0dG9uU2VsZWN0b3IpLm9mZigiY2xpY2sudGhlbWUubWVudS5iYWNrQnV0dG9uIixlKTtuKGkuY2xvc2VNZW51U2VsZWN0b3IpLm9mZigiaGVhZGVyTW9kdWxlQ2xvc2VkLnRoZW1lIixvKTtpLnJldmVyc2VUb3BMZXZlbE1lbnVJdGVtc1pJbmRleCYmKHQ9cygpLG4odCkuY3NzKCJ6LWluZGV4IiwiIikpO2kuc3VibGlzdEluZGVudC5lbmFibGVkJiZmdW5jdGlvbigpe2Zvcig7ci5zdWJsaXN0SW5kZW50U2VsZWN0b3JzLmxlbmd0aDspe3ZhciB0PXIuc3VibGlzdEluZGVudFNlbGVjdG9ycy5wb3AoKTtuKHQpLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmRhdGEoIm1lbnUtc3R5bGUtY2FjaGUiKT8obih0aGlzKS5hdHRyKCJzdHlsZSIsbih0aGlzKS5kYXRhKCJtZW51LXN0eWxlLWNhY2hlIikpLG4odGhpcykucmVtb3ZlRGF0YSgibWVudS1zdHlsZS1jYWNoZSIpKTpuKHRoaXMpLnJlbW92ZUF0dHIoInN0eWxlIil9KX19KCl9fX07aS5vdmVybGF5PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIodCxyLHUsZil7dmFyIGU9Znx8NDAwO3I/bihpLm92ZXJsYXlFbGVtZW50U2VsZWN0b3IpLmFkZENsYXNzKGkub3ZlcmxheUNsYXNzKS5mYWRlSW4oZSk6bihpLm92ZXJsYXlFbGVtZW50U2VsZWN0b3IpLnJlbW92ZUNsYXNzKGkub3ZlcmxheUNsYXNzKS5mYWRlT3V0KGUpO24oImh0bWwsIGJvZHkiKS50b2dnbGVDbGFzcyhpLm5vUGFnZVNjcm9sbENsYXNzLHUpfWZ1bmN0aW9uIHUoKXtuKHRoaXMpLnJlbW92ZUNsYXNzKGkub3ZlcmxheUNsYXNzKS5mYWRlT3V0KCk7bihkb2N1bWVudCkudHJpZ2dlcigicmVtb3ZlT3ZlcmxheS50aGVtZSIpfXZhciBpPW4uZXh0ZW5kKHt9LHtvdmVybGF5RWxlbWVudFNlbGVjdG9yOiIub3ZlcmxheU9mZkNhbnZhcyIsb3ZlcmxheUNsYXNzOiJhY3RpdmUiLG5vUGFnZVNjcm9sbENsYXNzOiJub1lTY3JvbGwifSx0KTtyZXR1cm57aW5pdDpmdW5jdGlvbigpe24oZG9jdW1lbnQpLm9uKCJ0b2dnbGVPdmVybGF5LnRoZW1lIixyKTtuKGkub3ZlcmxheUVsZW1lbnRTZWxlY3Rvcikub24oImNsaWNrLnRoZW1lLm92ZXJsYXkiLHUpfSxkZXN0cm95OmZ1bmN0aW9uKCl7bihpLm92ZXJsYXlFbGVtZW50U2VsZWN0b3IpLnJlbW92ZUNsYXNzKGkub3ZlcmxheUNsYXNzKS5mYWRlT3V0KCk7bigiaHRtbCwgYm9keSIpLnJlbW92ZUNsYXNzKGkubm9QYWdlU2Nyb2xsQ2xhc3MpO24oZG9jdW1lbnQpLm9mZigidG9nZ2xlT3ZlcmxheS50aGVtZSIscik7bihpLm92ZXJsYXlFbGVtZW50U2VsZWN0b3IpLm9mZigiY2xpY2sudGhlbWUub3ZlcmxheSIsdSl9fX07aS5wZXJmZWN0U2Nyb2xsYmFyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShuLGkpe2kmJmkubGVuZ3RoJiYhaS5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhciIpJiYoaS5wZXJmZWN0U2Nyb2xsYmFyKHtzd2lwZVByb3BhZ2F0aW9uOiExLHdoZWVsU3BlZWQ6MSxzdXBwcmVzc1Njcm9sbFg6ITB9KSx0LnNjcm9sbGJhckVsZW1lbnRzLnB1c2goaSkpfWZ1bmN0aW9uIHIobix0KXt0JiZ0Lmxlbmd0aCYmdC5kYXRhKCJwZXJmZWN0LXNjcm9sbGJhciIpJiZ0LnBlcmZlY3RTY3JvbGxiYXIoInVwZGF0ZSIpfXZhciB0PXtzY3JvbGxiYXJFbGVtZW50czpbXX07cmV0dXJue2luaXQ6ZnVuY3Rpb24oKXtuKGRvY3VtZW50KS5vbigiaW5pdGlhbGl6ZVBlcmZlY3RTY3JvbGxiYXIudGhlbWUiLGkpO24oZG9jdW1lbnQpLm9uKCJ1cGRhdGVQZXJmZWN0U2Nyb2xsYmFyLnRoZW1lIixyKX0sZGVzdHJveTpmdW5jdGlvbigpe2ZvcihuKGRvY3VtZW50KS5vZmYoImluaXRpYWxpemVQZXJmZWN0U2Nyb2xsYmFyLnRoZW1lIixpKSxuKGRvY3VtZW50KS5vZmYoInVwZGF0ZVBlcmZlY3RTY3JvbGxiYXIudGhlbWUiLHIpO3Quc2Nyb2xsYmFyRWxlbWVudHMubGVuZ3RoOyl0LnNjcm9sbGJhckVsZW1lbnRzLnBvcCgpLnBlcmZlY3RTY3JvbGxiYXIoImRlc3Ryb3kiKX19fTtpLnByb2R1Y3RQYWdlVGh1bWJzPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHUoKXt2YXIgdT1uKGkudGh1bWJJdGVtU2VsZWN0b3IpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiFuKHRoaXMpLnBhcmVudCgpLmhhc0NsYXNzKCJzbGljay1jbG9uZWQiKX0pLGY9dS5maWx0ZXIoIi4iK2kudGh1bWJBY3RpdmVDbGFzcyksdD1mLnByZXYoaS50aHVtYkl0ZW1TZWxlY3Rvcik7ci5pc0luQ2Fyb3VzZWwmJih0PWYucGFyZW50KGkudGh1bWJJdGVtSW5DYXJvdXNlbFNlbGVjdG9yKS5wcmV2KGkudGh1bWJJdGVtSW5DYXJvdXNlbFNlbGVjdG9yKyI6bm90KC5zbGljay1jbG9uZWQpIikuZmluZChpLnRodW1iSXRlbVNlbGVjdG9yKSk7MD09PXQubGVuZ3RoJiYodD11Lmxhc3QoKSk7MDx0Lmxlbmd0aCYmKG8oKSx1LnJlbW92ZUNsYXNzKGkudGh1bWJBY3RpdmVDbGFzcyksdC5hZGRDbGFzcyhpLnRodW1iQWN0aXZlQ2xhc3MpLHQuY2xpY2soKSk7ci5pc0luQ2Fyb3VzZWwmJmUoIlByZXYiKX1mdW5jdGlvbiBmKCl7dmFyIHU9bihpLnRodW1iSXRlbVNlbGVjdG9yKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4hbih0aGlzKS5wYXJlbnQoKS5oYXNDbGFzcygic2xpY2stY2xvbmVkIil9KSxmPXUuZmlsdGVyKCIuIitpLnRodW1iQWN0aXZlQ2xhc3MpLHQ9Zi5uZXh0KGkudGh1bWJJdGVtU2VsZWN0b3IpO3IuaXNJbkNhcm91c2VsJiYodD1mLnBhcmVudChpLnRodW1iSXRlbUluQ2Fyb3VzZWxTZWxlY3RvcikubmV4dChpLnRodW1iSXRlbUluQ2Fyb3VzZWxTZWxlY3RvcisiOm5vdCguc2xpY2stY2xvbmVkKSIpLmZpbmQoaS50aHVtYkl0ZW1TZWxlY3RvcikpOzA9PT10Lmxlbmd0aCYmKHQ9dS5maXJzdCgpKTswPHQubGVuZ3RoJiYobygpLHUucmVtb3ZlQ2xhc3MoaS50aHVtYkFjdGl2ZUNsYXNzKSx0LmFkZENsYXNzKGkudGh1bWJBY3RpdmVDbGFzcyksdC5jbGljaygpKTtyLmlzSW5DYXJvdXNlbCYmZSgiTmV4dCIpfWZ1bmN0aW9uIGUodCl7bihpLnRodW1iR2FsbGVyeUluQ2Fyb3VzZWxTZWxlY3Rvcikuc2xpY2soInNsaWNrU2V0T3B0aW9uIiwid2FpdEZvckFuaW1hdGUiLCExLCExKTtuKGkudGh1bWJHYWxsZXJ5SW5DYXJvdXNlbFNlbGVjdG9yKS5zbGljaygic2xpY2siK3QpO24oaS50aHVtYkdhbGxlcnlJbkNhcm91c2VsU2VsZWN0b3IpLnNsaWNrKCJzbGlja1NldE9wdGlvbiIsIndhaXRGb3JBbmltYXRlIiwhMCwhMSl9ZnVuY3Rpb24gbygpe3ZhciB0PW4oIiNjbG91ZFpvb21JbWFnZSIpLmRhdGEoIkNsb3VkWm9vbSIpO3QmJnQuY2xvc2Vab29tKCl9dmFyIHI9e2lzSW5DYXJvdXNlbDoiIn0saT1uLmV4dGVuZCh7fSx7dGh1bWJHYWxsZXJ5U2VsZWN0b3I6Ii5nYWxsZXJ5Iix0aHVtYkdhbGxlcnlJbkNhcm91c2VsU2VsZWN0b3I6Ii5waWN0dXJlLXRodW1icy1saXN0Iix0aHVtYkl0ZW1TZWxlY3RvcjoiLmNsb3Vkem9vbS1nYWxsZXJ5Iix0aHVtYkl0ZW1JbkNhcm91c2VsU2VsZWN0b3I6Ii5waWN0dXJlLXRodW1icy1pdGVtIix0aHVtYkFjdGl2ZUNsYXNzOiJhY3RpdmUiLHByZXZBcnJvd1NlbGVjdG9yOiIucGljdHVyZS10aHVtYnMtcHJldi1hcnJvdyIsbmV4dEFycm93U2VsZWN0b3I6Ii5waWN0dXJlLXRodW1icy1uZXh0LWFycm93In0sdCk7cmV0dXJue2luaXQ6ZnVuY3Rpb24oKXtyLmlzSW5DYXJvdXNlbD1uKGkudGh1bWJHYWxsZXJ5SW5DYXJvdXNlbFNlbGVjdG9yKS5sZW5ndGg7bihpLnRodW1iR2FsbGVyeVNlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5maW5kKGkudGh1bWJJdGVtU2VsZWN0b3IpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiFuKHRoaXMpLnBhcmVudCgpLmhhc0NsYXNzKCJzbGljay1jbG9uZWQiKX0pLmZpcnN0KCkuYWRkQ2xhc3MoaS50aHVtYkFjdGl2ZUNsYXNzKX0pO24oaS50aHVtYkdhbGxlcnlTZWxlY3RvcisiICIraS5wcmV2QXJyb3dTZWxlY3Rvcikub24oImNsaWNrLnRodW1icy50aGVtZSIsdSk7bihpLnRodW1iR2FsbGVyeVNlbGVjdG9yKyIgIitpLm5leHRBcnJvd1NlbGVjdG9yKS5vbigiY2xpY2sudGh1bWJzLnRoZW1lIixmKX0sZGVzdHJveTpmdW5jdGlvbigpe24oaS50aHVtYkdhbGxlcnlTZWxlY3RvcikuZWFjaChmdW5jdGlvbigpe24odGhpcykuZmluZChpLnRodW1iSXRlbVNlbGVjdG9yKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4hbih0aGlzKS5wYXJlbnQoKS5oYXNDbGFzcygic2xpY2stY2xvbmVkIil9KS5yZW1vdmVDbGFzcyhpLnRodW1iQWN0aXZlQ2xhc3MpfSk7bihpLnRodW1iR2FsbGVyeVNlbGVjdG9yKyIgIitpLnByZXZBcnJvd1NlbGVjdG9yKS5vZmYoImNsaWNrLnRodW1icy50aGVtZSIsdSk7bihpLnRodW1iR2FsbGVyeVNlbGVjdG9yKyIgIitpLm5leHRBcnJvd1NlbGVjdG9yKS5vZmYoImNsaWNrLnRodW1icy50aGVtZSIsZil9fX07aS5wcm9kdWN0UXVhbnRpdHk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcih0KXt0LnByZXZlbnREZWZhdWx0KCk7dC5zdG9wUHJvcGFnYXRpb24oKTt2YXIgcj1uKHQuY3VycmVudFRhcmdldCkuc2libGluZ3MoaS5xdWFudGl0eUlucHV0U2VsZWN0b3IpLHU9cGFyc2VJbnQoci52YWwoKSk7aWYoaXNOYU4odSkpcmV0dXJuIHIudmFsKDEpLHIudHJpZ2dlcigiaW5wdXQiKSx2b2lkIHIudHJpZ2dlcigiY2hhbmdlIik7dSsrO3IudmFsKHUpO3IudHJpZ2dlcigiaW5wdXQiKTtyLnRyaWdnZXIoImNoYW5nZSIpfWZ1bmN0aW9uIHUodCl7dC5wcmV2ZW50RGVmYXVsdCgpO3Quc3RvcFByb3BhZ2F0aW9uKCk7dmFyIHI9bih0LmN1cnJlbnRUYXJnZXQpLnNpYmxpbmdzKGkucXVhbnRpdHlJbnB1dFNlbGVjdG9yKSx1PXBhcnNlSW50KHIudmFsKCkpO2lmKGlzTmFOKHUpKXJldHVybiByLnZhbCgxKSxyLnRyaWdnZXIoImlucHV0Iiksdm9pZCByLnRyaWdnZXIoImNoYW5nZSIpO3U8PTF8fCh1LS0sci52YWwodSksci50cmlnZ2VyKCJpbnB1dCIpLHIudHJpZ2dlcigiY2hhbmdlIikpfXZhciBpPW4uZXh0ZW5kKHt9LHtxdWFudGl0eUlucHV0U2VsZWN0b3I6Ii5xdHktaW5wdXQiLGluY3JlbWVudFNlbGVjdG9yczoiLmluY3JlYXNlIixkZWNyZW1lbnRTZWxlY3RvcnM6Ii5kZWNyZWFzZSJ9LHQpO3JldHVybntpbml0OmZ1bmN0aW9uKCl7bihkb2N1bWVudCkub24oImNsaWNrLnRoZW1lLmluY3JlbWVudFF1YW50aXR5VmFsdWUiLGkuaW5jcmVtZW50U2VsZWN0b3JzLHIpO24oZG9jdW1lbnQpLm9uKCJjbGljay50aGVtZS5kZWNyZW1lbnRRdWFudGl0eVZhbHVlIixpLmRlY3JlbWVudFNlbGVjdG9ycyx1KX0sZGVzdHJveTpmdW5jdGlvbigpe24oZG9jdW1lbnQpLm9mZigiY2xpY2sudGhlbWUuaW5jcmVtZW50UXVhbnRpdHlWYWx1ZSIsaS5pbmNyZW1lbnRTZWxlY3RvcnMscik7bihkb2N1bWVudCkub2ZmKCJjbGljay50aGVtZS5kZWNyZW1lbnRRdWFudGl0eVZhbHVlIixpLmRlY3JlbWVudFNlbGVjdG9ycyx1KX19fTtpLnN0aWNreU5hdmlnYXRpb249ZnVuY3Rpb24odCl7ZnVuY3Rpb24gcigpe3ZhciB0PW4oaS5zdGlja3lFbGVtZW50KSxyPW4oaS5zdGlja3lFbGVtZW50UGFyZW50KSx1PW4od2luZG93KS5zY3JvbGxUb3AoKTswPHUmJnU+PXIub2Zmc2V0KCkudG9wPyh0LmFkZENsYXNzKCJzdGljayIpLHIuY3NzKCJoZWlnaHQiLHQuaGVpZ2h0KCkrInB4Iiksbihkb2N1bWVudCkudHJpZ2dlcigibmF2aWdhdGlvbkhhc1N0aWNrZWQiLFshMF0pKToodC5yZW1vdmVDbGFzcygic3RpY2siKSxyLmNzcygiaGVpZ2h0IiwiIiksbihkb2N1bWVudCkudHJpZ2dlcigibmF2aWdhdGlvbkhhc1N0aWNrZWQiLFshMV0pKX1mdW5jdGlvbiB1KCl7dmFyIHUsdCxmO3IoKTtpLnNob3dTdGlja3lPbkZpcnN0UmV2ZXJzZVNjcm9sbCYmKHQ9bihpLnN0aWNreUVsZW1lbnQpLGY9bihpLnN0aWNreUVsZW1lbnRQYXJlbnQpLDA9PT10Lmxlbmd0aHx8MD09PWYubGVuZ3RofHwodT1uKHdpbmRvdykuc2Nyb2xsVG9wKCkpPD1uKGYpLm9mZnNldCgpLnRvcD90LnJlbW92ZUNsYXNzKCJuYXYtdXAiKToodT5pLmxhc3RTY3JvbGxUb3A/dC5hZGRDbGFzcygibmF2LXVwIik6dC5yZW1vdmVDbGFzcygibmF2LXVwIiksaS5sYXN0U2Nyb2xsVG9wPXUpKX12YXIgaT1uLmV4dGVuZCh7fSx7c3RpY2t5RWxlbWVudDoiLmRlc2t0b3AtbmF2LXdyYXBwZXIiLHN0aWNreUVsZW1lbnRQYXJlbnQ6Ii5tYXN0ZXItaGVhZGVyLXdyYXBwZXIiLHNob3dTdGlja3lPbkZpcnN0UmV2ZXJzZVNjcm9sbDohMSxsYXN0U2Nyb2xsVG9wOjB9LHQpO3JldHVybntpbml0OmZ1bmN0aW9uKCl7cigpO24od2luZG93KS5vbigic2Nyb2xsLnRoZW1lLnN0aWNreU5hdiIsdSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgdD1uKGkuc3RpY2t5RWxlbWVudCkscj1uKGkuc3RpY2t5RWxlbWVudFBhcmVudCk7dC5yZW1vdmVDbGFzcygic3RpY2sgbmF2LXVwIik7ci5jc3MoImhlaWdodCIsIiIpO24od2luZG93KS5vZmYoInNjcm9sbC50aGVtZS5zdGlja3lOYXYiLHUpfX19O2kudG9nZ2xlPWZ1bmN0aW9uKHQpe3ZhciByPXt0cmF2ZXJzaW5nRnVuY3Rpb246InNpYmxpbmdzIixhY3RpdmVDbGFzc09wZW5lcjoib3BlbiIsYWN0aXZlQ2xhc3NDb250ZW50OiJhY3RpdmUiLGJlZm9yZVRvZ2dsZTpudWxsLGFmdGVyVG9nZ2xlOm51bGwsYW5pbWF0aW9uOnt0eXBlOiJub25lIixzcGVlZDowfX0saT1uLmV4dGVuZCh7fSx7YmxvY2tzOltdfSx0KTtyZXR1cm57aW5pdDpmdW5jdGlvbigpe24uZWFjaChpLmJsb2NrcyxmdW5jdGlvbih0LGkpe3ZhciB1PW4uZXh0ZW5kKHt9LGkpO24uZXh0ZW5kKGkscix1KTtuLmV4dGVuZChpLmFuaW1hdGlvbixmdW5jdGlvbihuKXt2YXIgdD17fTtzd2l0Y2gobi50eXBlKXtjYXNlImZhZGUiOnQudG9nZ2xlRnVuY3Rpb249ImZhZGVUb2dnbGUiO2JyZWFrO2Nhc2Uic2xpZGUiOnQudG9nZ2xlRnVuY3Rpb249InNsaWRlVG9nZ2xlIjticmVhaztjYXNlInRvZ2dsZSI6dC50b2dnbGVGdW5jdGlvbj0idG9nZ2xlIjt0LnNwZWVkPTA7YnJlYWs7ZGVmYXVsdDp0LnRvZ2dsZUZ1bmN0aW9uPSJ0b2dnbGVDbGFzcyJ9cmV0dXJuIHR9KGkuYW5pbWF0aW9uKSk7bihpLmNvbnRlbnQpLmF0dHIoInN0eWxlIikmJm4oaS5jb250ZW50KS5kYXRhKCJ0b2dnbGUtc3R5bGUtY2FjaGUiLG4oaS5jb250ZW50KS5hdHRyKCJzdHlsZSIpKTtuKGRvY3VtZW50KS5vbigiY2xpY2sudGhlbWUudG9nZ2xlLnRvZ2dsZU9wZW5lcnMtIit0LGkub3BlbmVyLGZ1bmN0aW9uKCl7aS5iZWZvcmVUb2dnbGUmJmkuYmVmb3JlVG9nZ2xlKG4odGhpcyksaSk7bih0aGlzKS50b2dnbGVDbGFzcyhpLmFjdGl2ZUNsYXNzT3BlbmVyKTsibm9uZSIhPT1pLmFuaW1hdGlvbi50eXBlP24odGhpcylbaS50cmF2ZXJzaW5nRnVuY3Rpb25dKGkuY29udGVudClbaS5hbmltYXRpb24udG9nZ2xlRnVuY3Rpb25dKGkuYW5pbWF0aW9uLnNwZWVkKS50b2dnbGVDbGFzcyhpLmFjdGl2ZUNsYXNzQ29udGVudCk6bih0aGlzKVtpLnRyYXZlcnNpbmdGdW5jdGlvbl0oaS5jb250ZW50KVtpLmFuaW1hdGlvbi50b2dnbGVGdW5jdGlvbl0oaS5hY3RpdmVDbGFzc0NvbnRlbnQpO2kuYWZ0ZXJUb2dnbGUmJmkuYWZ0ZXJUb2dnbGUobih0aGlzKSxpKX0pfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtuLmVhY2goaS5ibG9ja3MsZnVuY3Rpb24odCxpKXtuKGkuY29udGVudCkuZGF0YSgidG9nZ2xlLXN0eWxlLWNhY2hlIik/KG4oaS5jb250ZW50KS5hdHRyKCJzdHlsZSIsbihpLmNvbnRlbnQpLmRhdGEoInRvZ2dsZS1zdHlsZS1jYWNoZSIpKSxuKGkuY29udGVudCkucmVtb3ZlRGF0YSgidG9nZ2xlLXN0eWxlLWNhY2hlIikpOm4oaS5jb250ZW50KS5yZW1vdmVBdHRyKCJzdHlsZSIpO24oaS5vcGVuZXIpLmhhc0NsYXNzKGkuYWN0aXZlQ2xhc3NPcGVuZXIpJiZuKGkub3BlbmVyKS5yZW1vdmVDbGFzcyhpLmFjdGl2ZUNsYXNzT3BlbmVyKTtuKGkuY29udGVudCkuaGFzQ2xhc3MoaS5hY3RpdmVDbGFzc0NvbnRlbnQpJiZuKGkuY29udGVudCkucmVtb3ZlQ2xhc3MoaS5hY3RpdmVDbGFzc0NvbnRlbnQpO24oZG9jdW1lbnQpLm9mZigiY2xpY2sudGhlbWUudG9nZ2xlLnRvZ2dsZU9wZW5lcnMtIit0LGkub3BlbmVyKX0pfX19fShqUXVlcnksc2V2ZW5TcGlrZXNDb3JlLHdpbmRvdy5zZXZlblNwaWtlc1RoZW1lTW9kdWxlcz13aW5kb3cuc2V2ZW5TcGlrZXNUaGVtZU1vZHVsZXN8fHt9KSxmdW5jdGlvbihuLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgaT1mdW5jdGlvbih0LGkscil7dmFyIHU9dGhpczt1Lm1vYmlsZUZpcnN0PXJ8fCExO3UuYWN0aXZlTW9kdWxlcz1bXTt1LmFjdGl2ZUJyZWFrcG9pbnQ9bnVsbDt1LmJyZWFrcG9pbnRzPVtdO3UuYnJlYWtwb2ludFNldHRpbmdzPVtdO3Uud2luZG93RGVsYXk9bnVsbDt1LndpbmRvd1dpZHRoPTA7dS5zZXR0aW5ncz1uLmV4dGVuZCh7fSx1LnNldHRpbmdzLHQpO3Uub3JpZ2luYWxTZXR0aW5ncz1uLmV4dGVuZCh7fSx1LnNldHRpbmdzKTt1LmRlcGVuZGVuY2llcz1uLmV4dGVuZCh7fSx1LmRlcGVuZGVuY2llcyxpKX07aS5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMucmVnaXN0ZXJCcmVha3BvaW50cygpO3RoaXMuaW5pdGlhbGl6ZUV2ZW50cygpO3RoaXMuaW5pdGlhbGl6ZU1vZHVsZXMoKTt0aGlzLmNoZWNrUmVzcG9uc2l2ZSghMCl9O2kucHJvdG90eXBlLnJlZ2lzdGVyQnJlYWtwb2ludHM9ZnVuY3Rpb24oKXt2YXIgdSxmLGksdD10aGlzLHI9dC5zZXR0aW5ncy5yZXNwb25zaXZlfHxbXTtpZigiYXJyYXkiPT09bi50eXBlKHIpJiZyLmxlbmd0aCl7Zm9yKHUgaW4gcilpZihyLmhhc093blByb3BlcnR5KHUpKXtmb3IoaT10LmJyZWFrcG9pbnRzLmxlbmd0aC0xLGY9clt1XS5icmVha3BvaW50OzA8PWk7KXQuYnJlYWtwb2ludHNbaV0mJnQuYnJlYWtwb2ludHNbaV09PT1mJiZ0LmJyZWFrcG9pbnRzLnNwbGljZShpLDEpLGktLTt0LmJyZWFrcG9pbnRzLnB1c2goZik7dC5icmVha3BvaW50U2V0dGluZ3NbZl09clt1XS5zZXR0aW5nc310LmJyZWFrcG9pbnRzLnNvcnQoZnVuY3Rpb24obix0KXtyZXR1cm4gdC1ufSl9fTtpLnByb3RvdHlwZS5pbml0aWFsaXplRXZlbnRzPWZ1bmN0aW9uKCl7bih3aW5kb3cpLm9uKCJvcmllbnRhdGlvbmNoYW5nZS50aGVtZSIsbi5wcm94eSh0aGlzLm9yaWVudGF0aW9uQ2hhbmdlSGFuZGxlcix0aGlzKSk7bih3aW5kb3cpLm9uKCJyZXNpemUudGhlbWUiLG4ucHJveHkodGhpcy5yZXNpemVIYW5kbGVyLHRoaXMpKX07aS5wcm90b3R5cGUuY2hlY2tSZXNwb25zaXZlPWZ1bmN0aW9uKHQsaSl7dmFyIGYsdSxyPXRoaXMsZT0hMSxvPXdpbmRvdy5pbm5lcldpZHRofHxuKHdpbmRvdykud2lkdGgoKTtpZihyLnNldHRpbmdzLnJlc3BvbnNpdmUmJnIuc2V0dGluZ3MucmVzcG9uc2l2ZS5sZW5ndGgmJm51bGwhPT1yLnNldHRpbmdzLnJlc3BvbnNpdmUpe2ZvcihmIGluIHU9bnVsbCxyLmJyZWFrcG9pbnRzKXIuYnJlYWtwb2ludHMuaGFzT3duUHJvcGVydHkoZikmJighMT09PXIubW9iaWxlRmlyc3Q/bzxyLmJyZWFrcG9pbnRzW2ZdJiYodT1yLmJyZWFrcG9pbnRzW2ZdKTpvPnIuYnJlYWtwb2ludHNbZl0mJih1PXIuYnJlYWtwb2ludHNbZl0pKTtudWxsIT09dT9udWxsIT09ci5hY3RpdmVCcmVha3BvaW50JiZ1PT09ci5hY3RpdmVCcmVha3BvaW50JiYhaXx8KHIuYWN0aXZlQnJlYWtwb2ludD11LHIuc2V0dGluZ3M9bi5leHRlbmQoe30sci5vcmlnaW5hbFNldHRpbmdzLHIuYnJlYWtwb2ludFNldHRpbmdzW3VdKSxyLnJlZnJlc2godCksZT11KTpudWxsIT09ci5hY3RpdmVCcmVha3BvaW50JiYoci5hY3RpdmVCcmVha3BvaW50PW51bGwsci5zZXR0aW5ncz1uLmV4dGVuZCh7fSxyLm9yaWdpbmFsU2V0dGluZ3MpLHIucmVmcmVzaCh0KSxlPW51bGwpO3R8fCExPT09ZXx8bihkb2N1bWVudCkudHJpZ2dlcigidGhlbWVCcmVha3BvaW50Iixbci5zZXR0aW5ncyxlXSl9fTtpLnByb3RvdHlwZS5kZXN0cm95TW9kdWxlcz1mdW5jdGlvbigpe2Zvcih2YXIgdCxuPTA7bjx0aGlzLmFjdGl2ZU1vZHVsZXMubGVuZ3RoO24rKyl0PXRoaXMuYWN0aXZlTW9kdWxlc1tuXS5pbnN0YW5jZSwiZnVuY3Rpb24iPT10eXBlb2YgdC5kZXN0cm95JiZ0LmRlc3Ryb3koKTt0aGlzLmFjdGl2ZU1vZHVsZXM9W119O2kucHJvdG90eXBlLmluaXRpYWxpemVNb2R1bGVzPWZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0LGUscjtmb3IodCBpbiBuLmRlcGVuZGVuY2llcylpZihuLmRlcGVuZGVuY2llcy5oYXNPd25Qcm9wZXJ0eSh0KSl7Zm9yKHZhciB1PW4uZGVwZW5kZW5jaWVzW3RdLG89dS5tb2R1bGUsZj11LmRlcGVuZGVuY2llcyxpPTA7aTxmLmxlbmd0aDtpKyspZT1mW2ldLG4uaW5pdGlhbGl6ZU1vZHVsZShlKTtuLmluaXRpYWxpemVNb2R1bGUobyl9Zm9yKHIgaW4gbi5zZXR0aW5ncyluLnNldHRpbmdzLmhhc093blByb3BlcnR5KHIpJiZuLmluaXRpYWxpemVNb2R1bGUocil9O2kucHJvdG90eXBlLmluaXRpYWxpemVNb2R1bGU9ZnVuY3Rpb24obil7dmFyIHUscixpPXRoaXM7aS5pc01vZHVsZUFscmVhZHlJbml0aWFsaXplZChuKXx8InN0cmluZyI9PXR5cGVvZiBpLnNldHRpbmdzW25dJiYiZGlzYWJsZWQiPT09aS5zZXR0aW5nc1tuXXx8ImZ1bmN0aW9uIiE9dHlwZW9mKHU9dFtuXSl8fCJmdW5jdGlvbiI9PXR5cGVvZihyPXUoaS5zZXR0aW5nc1tuXSkpLmluaXQmJihyLmluaXQoKSxpLmFjdGl2ZU1vZHVsZXMucHVzaCh7bmFtZTpuLGluc3RhbmNlOnJ9KSl9O2kucHJvdG90eXBlLmlzTW9kdWxlQWxyZWFkeUluaXRpYWxpemVkPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdD0wO3Q8dGhpcy5hY3RpdmVNb2R1bGVzLmxlbmd0aDt0KyspaWYodGhpcy5hY3RpdmVNb2R1bGVzW3RdLm5hbWU9PT1uKXJldHVybiEwO3JldHVybiExfTtpLnByb3RvdHlwZS5yZWZyZXNoPWZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95TW9kdWxlcygpO3RoaXMuaW5pdGlhbGl6ZU1vZHVsZXMoKX07aS5wcm90b3R5cGUub3JpZW50YXRpb25DaGFuZ2VIYW5kbGVyPWZ1bmN0aW9uKCl7dGhpcy5jaGVja1Jlc3BvbnNpdmUoKX07aS5wcm90b3R5cGUucmVzaXplSGFuZGxlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7bih3aW5kb3cpLndpZHRoKCkhPT10LndpbmRvd1dpZHRoJiYoY2xlYXJUaW1lb3V0KHQud2luZG93RGVsYXkpLHQud2luZG93RGVsYXk9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LndpbmRvd1dpZHRoPW4od2luZG93KS53aWR0aCgpO3QuY2hlY2tSZXNwb25zaXZlKCl9LDUwKSl9O3dpbmRvdy5zZXZlblNwaWtlc1RoZW1lPWl9KGpRdWVyeSxzZXZlblNwaWtlc1RoZW1lTW9kdWxlcyksZnVuY3Rpb24obix0KXtuKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtpZihuKCIucHJvZHVjdC12YXJpYW50LWxpbmUiKS5sZW5ndGgpe24oIi5ncm91cGVkLWJ0biA+IHNwYW4iKS50ZXh0KG4oIi5wcm9kdWN0LXZhcmlhbnQtbGluZSIpLmxlbmd0aCk7bigiLmdyb3VwZWQtYnRuIikub24oImNsaWNrIixmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCk7bigiaHRtbCwgYm9keSIpLmFuaW1hdGUoe3Njcm9sbFRvcDpuKCIjcHJvZHVjdC1saXN0LXN0YXJ0Iikub2Zmc2V0KCkudG9wfSwxZTMpfSl9fWZ1bmN0aW9uIHYoKXtpZihuKCIuaGVhZGVyLW1lbnUuY2F0ZWdvcmllcy1pbi1zaWRlLXBhbmVsIikubGVuZ3RoIT09MCl7dmFyIHQ9bigiLmNhdGVnb3J5LW5hdmlnYXRpb24tbGlzdC13cmFwcGVyID4gLmNhdGVnb3J5LW5hdmlnYXRpb24tbGlzdCIpLGk9bigiLnRvcC1tZW51IGxpLnJvb3QtY2F0ZWdvcnktaXRlbXMsIC5tZWdhLW1lbnUgPiBsaS5yb290LWNhdGVnb3J5LWl0ZW1zLCAubWVnYS1tZW51ID4gbGkuY2F0ZWdvcnktbWVudS1pdGVtID4gLnN1Ymxpc3Qtd3JhcCA+IC5zdWJsaXN0ID4gbGkucm9vdC1jYXRlZ29yeS1pdGVtcyIpLHI9aS5jbG9uZSgpO3IucmVtb3ZlQ2xhc3MoInJvb3QtY2F0ZWdvcnktaXRlbXMiKS5hcHBlbmRUbyh0KX19ZnVuY3Rpb24gbygpe2Z1bmN0aW9uIHQoKXtuKCIuY2F0ZWdvcnktbmF2aWdhdGlvbi1saXN0IC5zdWJsaXN0LCAuY2F0ZWdvcnktbmF2aWdhdGlvbi1saXN0IC5kcm9wZG93biAucm93LXdyYXBwZXIiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKSxpPXQucGFyZW50cygidWwiKS5kYXRhKCJtaW5IZWlnaHQiKSxyO2k9PXVuZGVmaW5lZCYmKGk9dC5wYXJlbnRzKCJ1bCIpLm91dGVySGVpZ2h0KCkpO3I9dC5vdXRlckhlaWdodCgpO3I8aSYmKHI9aSk7dC5kYXRhKCJtaW5IZWlnaHQiLHIpfSk7bigiLmNhdGVnb3J5LW5hdmlnYXRpb24tbGlzdCAuc3VibGlzdCwgLmNhdGVnb3J5LW5hdmlnYXRpb24tbGlzdCAuZHJvcGRvd24gLnJvdy13cmFwcGVyIikuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyksaT10LmRhdGEoIm1pbkhlaWdodCIpO2kmJnQuY3NzKCJtaW4taGVpZ2h0IixpKX0pfW4od2luZG93KS53aWR0aCgpPjEwMjQmJnQoKX1mdW5jdGlvbiBzKCl7dmFyIHQ9bigiLmJsb2NrLWFjY291bnQtbmF2aWdhdGlvbiIpLm91dGVySGVpZ2h0KCk7bigiLmFjY291bnQtcGFnZSIpLmNzcygibWluLWhlaWdodCIsdCl9ZnVuY3Rpb24geSgpe24oIi5vcmRlci1zdW1tYXJ5LWNvbnRlbnQgLmNsZWFyLWNhcnQtYnV0dG9uIikub24oImNsaWNrIixmdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCk7bignLmNhcnQgW25hbWU9InJlbW92ZWZyb21jYXJ0Il0nKS5hdHRyKCJjaGVja2VkIiwiY2hlY2tlZCIpO24oIi5vcmRlci1zdW1tYXJ5LWNvbnRlbnQgLnVwZGF0ZS1jYXJ0LWJ1dHRvbiIpLmNsaWNrKCl9KX1mdW5jdGlvbiBwKCl7bihkb2N1bWVudCkub24oInJlbW92ZUl0ZW1GbHlvdXRDYXJ0IixmdW5jdGlvbigpe3ZhciB0PW4od2luZG93KS53aWR0aCgpO24oIi5zaG9wcGluZy1jYXJ0LWxpbmsgLmljby1jYXJ0IikubGVuZ3RoJiZ0PDEwMjUmJihuKCIuc2hvcHBpbmctY2FydC1saW5rIC5pY28tY2FydCIpLnJlbW92ZSgpLG4oZG9jdW1lbnQpLnRyaWdnZXIoImRldGFjaEVsZW1lbnQudGhlbWUiLFsiI3RvcGNhcnRsaW5rIC5pY28tY2FydCIsIi5yZXNwb25zaXZlLW5hdi13cmFwcGVyIC5zaG9wcGluZy1jYXJ0LWxpbmsiXSkpfSl9ZnVuY3Rpb24gdygpe24oIi5hY3RpdmUtc3RlcDpsYXN0IikuYWRkQ2xhc3MoImxhc3QiKX1mdW5jdGlvbiBmKHQsaSxyKXtuKHQpLmxlbmd0aD4wJiYobihpKS5zbGlkZURvd24oInNsb3ciLGZ1bmN0aW9uKCl7bigiaHRtbCwgYm9keSIpLmFuaW1hdGUoe3Njcm9sbFRvcDpuKHIpLm9mZnNldCgpLnRvcH0sMzAwKX0pLG4ocikuYWRkQ2xhc3MoIm9wZW4iKSl9ZnVuY3Rpb24gYigpe3ZhciB0PW4oIi5oZWFkZXItbGlua3MgLmljby1hY2NvdW50IikuYXR0cigiZGF0YS1sb2dpblVybCIpO24uYWpheCh7dXJsOnQsdHlwZToiR0VUIixkYXRhOntpc0hlYWRlclBhbmVsOiEwfX0pLmRvbmUoZnVuY3Rpb24odCl7dmFyIHI9bih0KSxpPXIuZmluZCgiLnJldHVybmluZy13cmFwcGVyIik7aS5sZW5ndGg+MCYmbigiLnByb2ZpbGUtbWVudS1ib3ggLmhlYWRlci1mb3JtLWhvbGRlciIpLmh0bWwoaSl9KS5mYWlsKGZ1bmN0aW9uKCl7d2luZG93LmxvY2F0aW9uLmhyZWY9dH0pfWZ1bmN0aW9uIGsoKXt2YXIgcj1uKCIudHdvLXJvdy1jYXJvdXNlbHMuc21hbGwtcHJvZHVjdHMgLnByb2R1Y3QtZ3JpZC5ob21lLXBhZ2UtcHJvZHVjdC1ncmlkIC5pdGVtLWdyaWQiKSx1LGk7aWYoci5sZW5ndGghPT0wKXt1PSExO2k9ZnVuY3Rpb24oKXt0LmlzSW5WaWV3UG9ydChyKSYmIXUmJihoKHIpLG4od2luZG93KS5vZmYoInNjcm9sbC5TZXZlblNwaWtlc0VtcG9yaXVtRmVhdHVyZWRQcm9kdWN0cyIpLG4od2luZG93KS5vZmYoInJlc2l6ZS5TZXZlblNwaWtlc0VtcG9yaXVtRmVhdHVyZWRQcm9kdWN0cyIpLHU9ITApfTtpKCk7bih3aW5kb3cpLm9uKCJzY3JvbGwuU2V2ZW5TcGlrZXNFbXBvcml1bUZlYXR1cmVkUHJvZHVjdHMiLGkpO24od2luZG93KS5vbigicmVzaXplLlNldmVuU3Bpa2VzRW1wb3JpdW1GZWF0dXJlZFByb2R1Y3RzIixpKX19ZnVuY3Rpb24gZCgpe3ZhciByPW4oIi50d28tcm93LWNhcm91c2Vscy5zbWFsbC1wcm9kdWN0cyAucHJvZHVjdC1ncmlkLmJlc3RzZWxsZXJzIC5pdGVtLWdyaWQiKSx1LGk7aWYoci5sZW5ndGghPT0wKXt1PSExO2k9ZnVuY3Rpb24oKXt0LmlzSW5WaWV3UG9ydChyKSYmIXUmJihoKHIpLG4od2luZG93KS5vZmYoInNjcm9sbC5TZXZlblNwaWtlc0VtcG9yaXVtQmVzdFNlbGxlcnMiKSxuKHdpbmRvdykub2ZmKCJyZXNpemUuU2V2ZW5TcGlrZXNFbXBvcml1bUJlc3RTZWxsZXJzIiksdT0hMCl9O2koKTtuKHdpbmRvdykub24oInNjcm9sbC5TZXZlblNwaWtlc0VtcG9yaXVtQmVzdFNlbGxlcnMiLGkpO24od2luZG93KS5vbigicmVzaXplLlNldmVuU3Bpa2VzRW1wb3JpdW1CZXN0U2VsbGVycyIsaSl9fWZ1bmN0aW9uIGgodCl7dC5vbigiaW5pdCIsZnVuY3Rpb24oKXtuLmV2ZW50LnRyaWdnZXIoe3R5cGU6Im5ld1Byb2R1Y3RzQWRkZWRUb1BhZ2VFdmVudCJ9KX0pO3ZhciBpPW4oImh0bWwiKS5hdHRyKCJkaXIiKT09InJ0bCI7dC5zbGljayh7cnRsOmksaW5maW5pdGU6ITAscm93czoyLHNsaWRlc1RvU2hvdzo0LHNsaWRlc1RvU2Nyb2xsOjEsYXJyb3dzOiEwLHJlc3BvbmRUbzoic2xpZGVyIixlYXNpbmc6InN3aW5nIixkcmFnZ2FibGU6ITEscGF1c2VPbkhvdmVyOiEwLHJlc3BvbnNpdmU6ZygpfSl9ZnVuY3Rpb24gZygpe3ZhciB0PXt9O2lmKG4oIiNob21lLXBhZ2UtY2Fyb3VzZWwtYnJlYWtwb2ludHMiKS5sZW5ndGg9PTB8fCFuKCIjaG9tZS1wYWdlLWNhcm91c2VsLWJyZWFrcG9pbnRzIikudmFsKCkpcmV0dXJuIHQ7dHJ5e3Q9SlNPTi5wYXJzZShuKCIjaG9tZS1wYWdlLWNhcm91c2VsLWJyZWFrcG9pbnRzIikudmFsKCkpfWNhdGNoKGkpe2NvbnNvbGUubG9nKCJJbnZhbGlkIGhvbWUgcGFnZSBzbGlkZXIgcmVzcG9uc2l2ZSBicmVha3BvaW50cyBzZXR0aW5nIHZhbHVlISAoRW1wb3JpdW1UaGVtZVNldHRpbmdzLlJlc3BvbnNpdmVCcmVha3BvaW50c0ZvckhvbWVQYWdlUHJvZHVjdHMpIil9cmV0dXJuIHR9ZnVuY3Rpb24gcih0LGkpe2lmKHR5cGVvZiBpPT0ic3RyaW5nIj9pPW4oaSkub3V0ZXJIZWlnaHQoKTp0eXBlb2YgaT09InVuZGVmaW5lZCImJihpPTApLG4od2luZG93KS53aWR0aCgpPD0xMDI0KXt2YXIgcj1uKCIuaGVhZGVyLXN0b3JldGhlbWUiKS5sZW5ndGg/bigiLmhlYWRlci1zdG9yZXRoZW1lIikub3V0ZXJIZWlnaHQoKTowO24odCkuY3NzKCJtYXgtaGVpZ2h0IixuKHdpbmRvdykuaGVpZ2h0KCktaS1yKX1lbHNlIG4odCkucmVtb3ZlQXR0cigic3R5bGUiKX12YXIgdT0iLmNsb3NlLW1lbnUgPiBzcGFuLmNsb3NlLW1lbnUtYnRuIixpPSIuY2xvc2Utc2lkZS1tZW51LWJ0biIsZT0iI2ZseW91dC1jYXJ0IC5mbHlvdXQtY2FydC1zY3JvbGwtYXJlYSIsYz17b3ZlcmxheTp7b3ZlcmxheUVsZW1lbnRTZWxlY3RvcjoiLm92ZXJsYXlPZmZDYW52YXMiLG92ZXJsYXlDbGFzczoic2hvdyIsbm9QYWdlU2Nyb2xsQ2xhc3M6InNjcm9sbFlSZW1vdmUifSxwcm9kdWN0UXVhbnRpdHk6e3F1YW50aXR5SW5wdXRTZWxlY3RvcjoiLnF0eS1pbnB1dCwgLnByb2R1Y3RRdWFudGl0eVRleHRCb3giLGluY3JlbWVudFNlbGVjdG9yczoiLnBsdXMiLGRlY3JlbWVudFNlbGVjdG9yczoiLm1pbnVzIn0sZmx5b3V0Q2FydDp7Zmx5b3V0Q2FydFNlbGVjdG9yOiIjZmx5b3V0LWNhcnQiLGZseW91dENhcnRTY3JvbGxiYXJTZWxlY3RvcjplKyIgLml0ZW1zIixyZW1vdmVJdGVtU2VsZWN0b3I6IiNmbHlvdXQtY2FydCAucmVtb3ZlLWl0ZW0ifSxoZWFkZXI6e2FjdGl2ZUNsYXNzOiJvcGVuIixtb2R1bGVzOlt7b3BlbmVyOiIuaGVhZGVyLWxpbmtzIC5vcGVuZXIiLGNvbnRlbnQ6Ii5wcm9maWxlLW1lbnUtYm94IixwcmV2ZW50Q2xpY2tpbmc6ITB9LHtjb250ZW50OiIuZmx5b3V0LWNhcnQiLG92ZXJsYXk6ITEsc2Nyb2xsYmFyOmUrIiAuaXRlbXMifV19LGdvVG9Ub3A6e2FuaW1hdGlvbjp7dHlwZToic2xpZGUiLHNwZWVkOjUwMH19LHRvZ2dsZTp7YmxvY2tzOlt7b3BlbmVyOiIud3JpdGUtcmV2aWV3IC50aXRsZSIsY29udGVudDoiLndyaXRlLXJldmlldy1jb2xsYXBzZSIsYWN0aXZlQ2xhc3NPcGVuZXI6Im9wZW4iLGFuaW1hdGlvbjp7dHlwZToic2xpZGUiLHNwZWVkOiJzbG93In19LHtvcGVuZXI6Ii5jb21tZW50LWZvcm0tYnRuIixjb250ZW50OiIubmV3LWNvbW1lbnQgZm9ybSIsYWN0aXZlQ2xhc3NPcGVuZXI6Im9wZW4iLGFuaW1hdGlvbjp7dHlwZToic2xpZGUiLHNwZWVkOiJzbG93In19LHtvcGVuZXI6Ii5jYXJ0LWNvbGxhdGVyYWxzID4gZGl2ID4gLnRpdGxlIixjb250ZW50OiIuY2FydC1jb2xsYXRlcmFscyA+IGRpdiA+IC5saXN0IixhY3RpdmVDbGFzc09wZW5lcjoib3BlbiIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSIsc3BlZWQ6InNsb3cifX0se29wZW5lcjoiLmFkZC1idXR0b24gLmJ0bi1ob2xkZXIiLGNvbnRlbnQ6Ii5hZGQtYnV0dG9uIC5lbnRlci1hZGRyZXNzIixhY3RpdmVDbGFzc09wZW5lcjoib3BlbiIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSIsc3BlZWQ6InNsb3cifX1dfSxlcXVhbGl6ZXI6e2Jsb2Nrczpbe3NlbGVjdG9yOiIuYWRkcmVzcy1saXN0ID4gZGl2Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLmFkZHJlc3MtZ3JpZCA+IGRpdiIscHJvcGVydHk6Im1pbi1oZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIub3JkZXItaXRlbSIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5yZXF1ZXN0LWl0ZW0iLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIubmV3cy1pdGVtIixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLmJsb2ctcG9zdHMgLnBvc3QiLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIub3JkZXItZGV0YWlscy1hcmVhID4gZGl2Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLm9yZGVyLXJldmlldy1kYXRhID4gZGl2Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLnNoaXBtZW50LWRldGFpbHMtYXJlYSA+IGRpdiIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5yaWNoLWJsb2ctaG9tZXBhZ2UgLmJsb2ctcG9zdCIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifV19LGF0dGFjaERldGFjaDp7YmxvY2tzOlt7ZWxlbWVudFRvQXR0YWNoOiIuaGVhZGVyLXNlbGVjdG9ycy13cmFwcGVyIixjb250ZW50OiIuYWRtaW4taGVhZGVyLWxpbmtzIixpbnNlcnRBY3Rpb246InByZXBlbmRUbyJ9XX0scmVzcG9uc2l2ZTpbe2JyZWFrcG9pbnQ6MTI4MSxzZXR0aW5nczp7YXR0YWNoRGV0YWNoOntibG9ja3M6W3tlbGVtZW50VG9BdHRhY2g6Ii5oZWFkZXItc2VsZWN0b3JzLXdyYXBwZXIiLGNvbnRlbnQ6Ii5hZG1pbi1oZWFkZXItbGlua3MiLGluc2VydEFjdGlvbjoicHJlcGVuZFRvIn0se2VsZW1lbnRUb0F0dGFjaDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlLWJvZHkgLm1vYmlsZS1uYW1lLWhvbGRlciIsY29udGVudDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlLWJvZHkgLmJyZWFkY3J1bWIifSx7ZWxlbWVudFRvQXR0YWNoOiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAubW9iaWxlLW5hbWUtaG9sZGVyIixjb250ZW50OiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAucHJvZHVjdC1uYW1lIn0se2VsZW1lbnRUb0F0dGFjaDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlLWJvZHkgLmF0dHJpYnV0ZXMtd3JhcHBlciIsY29udGVudDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlLWJvZHkgLnByb2R1Y3QtcHJpY2VzLWJveCJ9LHtlbGVtZW50VG9BdHRhY2g6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZSAubW9iaWxlLXByZXYtbmV4dC1ob2xkZXIiLGNvbnRlbnQ6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZSAucHJldi1uZXh0LWhvbGRlciJ9XX0saGVhZGVyOnthY3RpdmVDbGFzczoib3BlbiIsbW9kdWxlczpbe29wZW5lcjoiLmhlYWRlci1saW5rcyAub3BlbmVyIixjb250ZW50OiIucHJvZmlsZS1tZW51LWJveCIscHJldmVudENsaWNraW5nOiEwfSx7Y29udGVudDoiLmZseW91dC1jYXJ0IixvdmVybGF5OiExLHNjcm9sbGJhcjplKyIgLml0ZW1zIn1dfSxlcXVhbGl6ZXI6e2Jsb2Nrczpbe3NlbGVjdG9yOiIuYWRkcmVzcy1saXN0ID4gZGl2Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLmFkZHJlc3MtZ3JpZCA+IGRpdiIscHJvcGVydHk6Im1pbi1oZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIub3JkZXItaXRlbSIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5yZXF1ZXN0LWl0ZW0iLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIubmV3cy1pdGVtIixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLmJsb2ctcG9zdHMgLnBvc3QiLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIub3JkZXItZGV0YWlscy1hcmVhID4gZGl2Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLm9yZGVyLXJldmlldy1kYXRhID4gZGl2Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLnNoaXBtZW50LWRldGFpbHMtYXJlYSA+IGRpdiIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5yaWNoLWJsb2ctaG9tZXBhZ2UgLmJsb2ctcG9zdCIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifV19fX0se2JyZWFrcG9pbnQ6MTAyNSxzZXR0aW5nczp7bWVudTp7Y2xvc2VNZW51U2VsZWN0b3I6dSxzdWJsaXN0SW5kZW50OntlbmFibGVkOiEwfX0sZmx5b3V0Q2FydDp7Zmx5b3V0Q2FydFNlbGVjdG9yOiIjZmx5b3V0LWNhcnQiLGZseW91dENhcnRTY3JvbGxiYXJTZWxlY3RvcjoiIixyZW1vdmVJdGVtU2VsZWN0b3I6IiNmbHlvdXQtY2FydCAucmVtb3ZlLWl0ZW0ifSxhdHRhY2hEZXRhY2g6e2Jsb2Nrczpbe2NvbnRlbnQ6IiN0b3BjYXJ0bGluayAuaWNvLWNhcnQiLGVsZW1lbnRUb0F0dGFjaDoiLnJlc3BvbnNpdmUtbmF2LXdyYXBwZXIgLnNob3BwaW5nLWNhcnQtbGluayJ9LHtjb250ZW50OiIuaGVhZGVyLXNlbGVjdG9ycy13cmFwcGVyIixlbGVtZW50VG9BdHRhY2g6Ii5tb2JpbGUtbWVudS1pdGVtcyJ9LHtjb250ZW50OiIuaWNvLWNvbXBhcmUiLGVsZW1lbnRUb0F0dGFjaDoiLmhlYWRlci1tZW51In0se2NvbnRlbnQ6Ii5pY28td2lzaGxpc3QiLGVsZW1lbnRUb0F0dGFjaDoiLmhlYWRlci1tZW51In0se2VsZW1lbnRUb0F0dGFjaDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlLWJvZHkgLm1vYmlsZS1uYW1lLWhvbGRlciIsY29udGVudDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlLWJvZHkgLmJyZWFkY3J1bWIifSx7ZWxlbWVudFRvQXR0YWNoOiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAubW9iaWxlLW5hbWUtaG9sZGVyIixjb250ZW50OiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAucHJvZHVjdC1uYW1lIn0se2VsZW1lbnRUb0F0dGFjaDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlLWJvZHkgLmF0dHJpYnV0ZXMtd3JhcHBlciIsY29udGVudDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlLWJvZHkgLnByb2R1Y3QtcHJpY2VzLWJveCJ9LHtlbGVtZW50VG9BdHRhY2g6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZSAubW9iaWxlLXByZXYtbmV4dC1ob2xkZXIiLGNvbnRlbnQ6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZSAucHJldi1uZXh0LWhvbGRlciJ9XX0saGVhZGVyOnthY3RpdmVDbGFzczoib3BlbiIsbW9kdWxlczpbe29wZW5lcjoiLnNlYXJjaC13cmFwID4gc3BhbiIsY29udGVudDoiLnN0b3JlLXNlYXJjaC1ib3giLGNsb3NlcjoiLnN0b3JlLXNlYXJjaC1ib3ggIitpLGVsZW1lbnRUb0F0dGFjaDoiLm1hc3Rlci13cmFwcGVyLXBhZ2UiLGRpc2FibGVQYWdlU2Nyb2xsOiEwLG92ZXJsYXk6ITB9LHtvcGVuZXI6Ii5wZXJzb25hbC1idXR0b24gPiBzcGFuIixjbG9zZXI6Ii5wcm9maWxlLW1lbnUtYm94ICIraSxjb250ZW50OiIucHJvZmlsZS1tZW51LWJveCIsZWxlbWVudFRvQXR0YWNoOiIuaGVhZGVyIixkaXNhYmxlUGFnZVNjcm9sbDohMCxvdmVybGF5OiEwfSx7b3BlbmVyOiIuc2hvcHBpbmctY2FydC1saW5rIixjbG9zZXI6Ii5tb2JpbGUtZmx5b3V0LXdyYXBwZXIgIitpLGNvbnRlbnQ6Ii5tb2JpbGUtZmx5b3V0LXdyYXBwZXIiLHByZXZlbnRDbGlja2luZzohMCxkaXNhYmxlUGFnZVNjcm9sbDohMCxvdmVybGF5OiEwLHNjcm9sbGJhcjoiIn0se29wZW5lcjoiLnJlc3BvbnNpdmUtbmF2LXdyYXBwZXIgLm1lbnUtdGl0bGUgPiBzcGFuIixjbG9zZXI6dSxjb250ZW50OiIuaGVhZGVyLW1lbnUiLGRpc2FibGVQYWdlU2Nyb2xsOiEwLG92ZXJsYXk6ITAsc2Nyb2xsYmFyOiEwfSx7ZWxlbWVudFRvQXR0YWNoOiIubWFzdGVyLXdyYXBwZXItY29udGVudCIsb3BlbmVyOiIuZmlsdGVycy1idXR0b24td3JhcHBlciAuZmlsdGVycy1idXR0b24iLGNsb3NlcjoiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyAiK2ksY29udGVudDoiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyIsZGlzYWJsZVBhZ2VTY3JvbGw6ITAsb3ZlcmxheTohMH1dfSxmaWx0ZXJzOiEwLHRvZ2dsZTp7YmxvY2tzOlt7b3BlbmVyOiIuYmxvY2sgPiAudGl0bGUiLGNvbnRlbnQ6Ii5ibG9jayA+IC5saXN0Ym94IixhbmltYXRpb246e3R5cGU6InNsaWRlIn19LHtvcGVuZXI6Ii5tb2JpbGUtc2VsZWN0b3IgLnNlbGVjdG9yLXRpdGxlIixjb250ZW50OiIubW9iaWxlLWNvbGxhcHNlIixhY3RpdmVDbGFzc09wZW5lcjoib3BlbiIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSIsc3BlZWQ6InNsb3cifX0se29wZW5lcjoiLndyaXRlLXJldmlldyAudGl0bGUiLGNvbnRlbnQ6Ii53cml0ZS1yZXZpZXctY29sbGFwc2UiLGFjdGl2ZUNsYXNzT3BlbmVyOiJvcGVuIixhbmltYXRpb246e3R5cGU6InNsaWRlIixzcGVlZDoic2xvdyJ9fSx7b3BlbmVyOiIuY29tbWVudC1mb3JtLWJ0biIsY29udGVudDoiLm5ldy1jb21tZW50IGZvcm0iLGFjdGl2ZUNsYXNzT3BlbmVyOiJvcGVuIixhbmltYXRpb246e3R5cGU6InNsaWRlIixzcGVlZDoic2xvdyJ9fSx7b3BlbmVyOiIuY2FydC1jb2xsYXRlcmFscyA+IGRpdiA+IC50aXRsZSIsY29udGVudDoiLmNhcnQtY29sbGF0ZXJhbHMgPiBkaXYgPiAubGlzdCIsYWN0aXZlQ2xhc3NPcGVuZXI6Im9wZW4iLGFuaW1hdGlvbjp7dHlwZToic2xpZGUiLHNwZWVkOiJzbG93In19LHtvcGVuZXI6Ii5hZGQtYnV0dG9uIC5idG4taG9sZGVyIixjb250ZW50OiIuYWRkLWJ1dHRvbiAuZW50ZXItYWRkcmVzcyIsYWN0aXZlQ2xhc3NPcGVuZXI6Im9wZW4iLGFuaW1hdGlvbjp7dHlwZToic2xpZGUiLHNwZWVkOiJzbG93In19XX0sZXF1YWxpemVyOntibG9ja3M6W3tzZWxlY3RvcjoiLmNhcnQgdHIgLnByb2R1Y3QifSx7c2VsZWN0b3I6Ii5kYXRhLXRhYmxlIC5wcm9kdWN0In0se3NlbGVjdG9yOiIuYWRkcmVzcy1saXN0ID4gZGl2Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLmFkZHJlc3MtZ3JpZCA+IGRpdiIscHJvcGVydHk6Im1pbi1oZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIub3JkZXItaXRlbSIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5yZXF1ZXN0LWl0ZW0iLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIubmV3cy1pdGVtIixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLmJsb2ctcG9zdHMgLnBvc3QiLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIub3JkZXItZGV0YWlscy1hcmVhID4gZGl2Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLm9yZGVyLXJldmlldy1kYXRhID4gZGl2Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLnNoaXBtZW50LWRldGFpbHMtYXJlYSA+IGRpdiIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5yaWNoLWJsb2ctaG9tZXBhZ2UgLmJsb2ctcG9zdCIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifV19fX0se2JyZWFrcG9pbnQ6NzY5LHNldHRpbmdzOnttZW51OntjbG9zZU1lbnVTZWxlY3Rvcjp1LHN1Ymxpc3RJbmRlbnQ6e2VuYWJsZWQ6ITB9fSxmbHlvdXRDYXJ0OntmbHlvdXRDYXJ0U2VsZWN0b3I6IiNmbHlvdXQtY2FydCIsZmx5b3V0Q2FydFNjcm9sbGJhclNlbGVjdG9yOiIiLHJlbW92ZUl0ZW1TZWxlY3RvcjoiI2ZseW91dC1jYXJ0IC5yZW1vdmUtaXRlbSJ9LGF0dGFjaERldGFjaDp7YmxvY2tzOlt7Y29udGVudDoiI3RvcGNhcnRsaW5rIC5pY28tY2FydCIsZWxlbWVudFRvQXR0YWNoOiIucmVzcG9uc2l2ZS1uYXYtd3JhcHBlciAuc2hvcHBpbmctY2FydC1saW5rIn0se2NvbnRlbnQ6Ii5oZWFkZXItc2VsZWN0b3JzLXdyYXBwZXIiLGVsZW1lbnRUb0F0dGFjaDoiLm1vYmlsZS1tZW51LWl0ZW1zIn0se2NvbnRlbnQ6Ii5pY28tY29tcGFyZSIsZWxlbWVudFRvQXR0YWNoOiIuaGVhZGVyLW1lbnUifSx7Y29udGVudDoiLmljby13aXNobGlzdCIsZWxlbWVudFRvQXR0YWNoOiIuaGVhZGVyLW1lbnUifSx7ZWxlbWVudFRvQXR0YWNoOiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAubW9iaWxlLW5hbWUtaG9sZGVyIixjb250ZW50OiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAuYnJlYWRjcnVtYiJ9LHtlbGVtZW50VG9BdHRhY2g6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZS1ib2R5IC5tb2JpbGUtbmFtZS1ob2xkZXIiLGNvbnRlbnQ6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZS1ib2R5IC5wcm9kdWN0LW5hbWUifSx7ZWxlbWVudFRvQXR0YWNoOiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAuYXR0cmlidXRlcy13cmFwcGVyIixjb250ZW50OiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UtYm9keSAucHJvZHVjdC1wcmljZXMtYm94In0se2VsZW1lbnRUb0F0dGFjaDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlIC5tb2JpbGUtcHJldi1uZXh0LWhvbGRlciIsY29udGVudDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlIC5wcmV2LW5leHQtaG9sZGVyIn1dfSxoZWFkZXI6e2FjdGl2ZUNsYXNzOiJvcGVuIixtb2R1bGVzOlt7b3BlbmVyOiIuc2VhcmNoLXdyYXAgPiBzcGFuIixjb250ZW50OiIuc3RvcmUtc2VhcmNoLWJveCIsY2xvc2VyOiIuc3RvcmUtc2VhcmNoLWJveCAiK2ksZWxlbWVudFRvQXR0YWNoOiIubWFzdGVyLXdyYXBwZXItcGFnZSIsZGlzYWJsZVBhZ2VTY3JvbGw6ITAsb3ZlcmxheTohMH0se29wZW5lcjoiLnBlcnNvbmFsLWJ1dHRvbiA+IHNwYW4iLGNsb3NlcjoiLnByb2ZpbGUtbWVudS1ib3ggIitpLGNvbnRlbnQ6Ii5wcm9maWxlLW1lbnUtYm94IixlbGVtZW50VG9BdHRhY2g6Ii5oZWFkZXIiLGRpc2FibGVQYWdlU2Nyb2xsOiEwLG92ZXJsYXk6ITB9LHtvcGVuZXI6Ii5zaG9wcGluZy1jYXJ0LWxpbmsiLGNsb3NlcjoiLm1vYmlsZS1mbHlvdXQtd3JhcHBlciAiK2ksY29udGVudDoiLm1vYmlsZS1mbHlvdXQtd3JhcHBlciIscHJldmVudENsaWNraW5nOiEwLGRpc2FibGVQYWdlU2Nyb2xsOiEwLG92ZXJsYXk6ITAsc2Nyb2xsYmFyOiIifSx7b3BlbmVyOiIucmVzcG9uc2l2ZS1uYXYtd3JhcHBlciAubWVudS10aXRsZSA+IHNwYW4iLGNsb3Nlcjp1LGNvbnRlbnQ6Ii5oZWFkZXItbWVudSIsZGlzYWJsZVBhZ2VTY3JvbGw6ITAsb3ZlcmxheTohMCxzY3JvbGxiYXI6ITB9LHtlbGVtZW50VG9BdHRhY2g6Ii5tYXN0ZXItd3JhcHBlci1jb250ZW50IixvcGVuZXI6Ii5maWx0ZXJzLWJ1dHRvbi13cmFwcGVyIC5maWx0ZXJzLWJ1dHRvbiIsY2xvc2VyOiIubm9wQWpheEZpbHRlcnM3U3Bpa2VzICIraSxjb250ZW50OiIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIixkaXNhYmxlUGFnZVNjcm9sbDohMCxvdmVybGF5OiEwfV19LGZpbHRlcnM6ITAsdG9nZ2xlOntibG9ja3M6W3tvcGVuZXI6Ii5ibG9jayA+IC50aXRsZSIsY29udGVudDoiLmJsb2NrID4gLmxpc3Rib3giLGFuaW1hdGlvbjp7dHlwZToic2xpZGUifX0se29wZW5lcjoiLm1vYmlsZS1zZWxlY3RvciAuc2VsZWN0b3ItdGl0bGUiLGNvbnRlbnQ6Ii5tb2JpbGUtY29sbGFwc2UiLGFjdGl2ZUNsYXNzT3BlbmVyOiJvcGVuIixhbmltYXRpb246e3R5cGU6InNsaWRlIixzcGVlZDoic2xvdyJ9fSx7b3BlbmVyOiIud3JpdGUtcmV2aWV3IC50aXRsZSIsY29udGVudDoiLndyaXRlLXJldmlldy1jb2xsYXBzZSIsYWN0aXZlQ2xhc3NPcGVuZXI6Im9wZW4iLGFuaW1hdGlvbjp7dHlwZToic2xpZGUiLHNwZWVkOiJzbG93In19LHtvcGVuZXI6Ii5jb21tZW50LWZvcm0tYnRuIixjb250ZW50OiIubmV3LWNvbW1lbnQgZm9ybSIsYWN0aXZlQ2xhc3NPcGVuZXI6Im9wZW4iLGFuaW1hdGlvbjp7dHlwZToic2xpZGUiLHNwZWVkOiJzbG93In19LHtvcGVuZXI6Ii5jYXJ0LWNvbGxhdGVyYWxzID4gZGl2ID4gLnRpdGxlIixjb250ZW50OiIuY2FydC1jb2xsYXRlcmFscyA+IGRpdiA+IC5saXN0IixhY3RpdmVDbGFzc09wZW5lcjoib3BlbiIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSIsc3BlZWQ6InNsb3cifX0se29wZW5lcjoiLmFkZC1idXR0b24gLmJ0bi1ob2xkZXIiLGNvbnRlbnQ6Ii5hZGQtYnV0dG9uIC5lbnRlci1hZGRyZXNzIixhY3RpdmVDbGFzc09wZW5lcjoib3BlbiIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSIsc3BlZWQ6InNsb3cifX1dfSxlcXVhbGl6ZXI6e2Jsb2Nrczpbe3NlbGVjdG9yOiIuY2FydCB0ciAucHJvZHVjdCJ9LHtzZWxlY3RvcjoiLmRhdGEtdGFibGUgLnByb2R1Y3QifSx7c2VsZWN0b3I6Ii5hZGRyZXNzLWxpc3QgPiBkaXYiLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIuYWRkcmVzcy1ncmlkID4gZGl2Iixwcm9wZXJ0eToibWluLWhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5vcmRlci1pdGVtIixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLnJlcXVlc3QtaXRlbSIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5uZXdzLWl0ZW0iLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIuYmxvZy1wb3N0cyAucG9zdCIscHJvcGVydHk6ImhlaWdodCIsbWVhc3VyZW1lbnRGdW5jdGlvbjoiaW5uZXJIZWlnaHQifSx7c2VsZWN0b3I6Ii5vcmRlci1kZXRhaWxzLWFyZWEgPiBkaXYiLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIub3JkZXItcmV2aWV3LWRhdGEgPiBkaXYiLHByb3BlcnR5OiJoZWlnaHQiLG1lYXN1cmVtZW50RnVuY3Rpb246ImlubmVySGVpZ2h0In0se3NlbGVjdG9yOiIuc2hpcG1lbnQtZGV0YWlscy1hcmVhID4gZGl2Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9LHtzZWxlY3RvcjoiLnJpY2gtYmxvZy1ob21lcGFnZSAuYmxvZy1wb3N0Iixwcm9wZXJ0eToiaGVpZ2h0IixtZWFzdXJlbWVudEZ1bmN0aW9uOiJpbm5lckhlaWdodCJ9XX19fSx7YnJlYWtwb2ludDo0ODEsc2V0dGluZ3M6e21lbnU6e2Nsb3NlTWVudVNlbGVjdG9yOnUsc3VibGlzdEluZGVudDp7ZW5hYmxlZDohMH19LGZseW91dENhcnQ6e2ZseW91dENhcnRTZWxlY3RvcjoiI2ZseW91dC1jYXJ0IixmbHlvdXRDYXJ0U2Nyb2xsYmFyU2VsZWN0b3I6IiIscmVtb3ZlSXRlbVNlbGVjdG9yOiIjZmx5b3V0LWNhcnQgLnJlbW92ZS1pdGVtIn0sYXR0YWNoRGV0YWNoOntibG9ja3M6W3tjb250ZW50OiIjdG9wY2FydGxpbmsgLmljby1jYXJ0IixlbGVtZW50VG9BdHRhY2g6Ii5yZXNwb25zaXZlLW5hdi13cmFwcGVyIC5zaG9wcGluZy1jYXJ0LWxpbmsifSx7Y29udGVudDoiLmhlYWRlci1zZWxlY3RvcnMtd3JhcHBlciIsZWxlbWVudFRvQXR0YWNoOiIubW9iaWxlLW1lbnUtaXRlbXMifSx7Y29udGVudDoiLmljby1jb21wYXJlIixlbGVtZW50VG9BdHRhY2g6Ii5oZWFkZXItbWVudSJ9LHtjb250ZW50OiIuaWNvLXdpc2hsaXN0IixlbGVtZW50VG9BdHRhY2g6Ii5oZWFkZXItbWVudSJ9LHtlbGVtZW50VG9BdHRhY2g6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZS1ib2R5IC5tb2JpbGUtbmFtZS1ob2xkZXIiLGNvbnRlbnQ6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZS1ib2R5IC5icmVhZGNydW1iIn0se2VsZW1lbnRUb0F0dGFjaDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlLWJvZHkgLm1vYmlsZS1uYW1lLWhvbGRlciIsY29udGVudDoiLnByb2R1Y3QtZGV0YWlscy1wYWdlLWJvZHkgLnByb2R1Y3QtbmFtZSJ9LHtlbGVtZW50VG9BdHRhY2g6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZS1ib2R5IC5hdHRyaWJ1dGVzLXdyYXBwZXIiLGNvbnRlbnQ6Ii5wcm9kdWN0LWRldGFpbHMtcGFnZS1ib2R5IC5wcm9kdWN0LXByaWNlcy1ib3gifSx7ZWxlbWVudFRvQXR0YWNoOiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UgLm1vYmlsZS1wcmV2LW5leHQtaG9sZGVyIixjb250ZW50OiIucHJvZHVjdC1kZXRhaWxzLXBhZ2UgLnByZXYtbmV4dC1ob2xkZXIifV19LGhlYWRlcjp7YWN0aXZlQ2xhc3M6Im9wZW4iLG1vZHVsZXM6W3tvcGVuZXI6Ii5zZWFyY2gtd3JhcCA+IHNwYW4iLGNvbnRlbnQ6Ii5zdG9yZS1zZWFyY2gtYm94IixjbG9zZXI6Ii5zdG9yZS1zZWFyY2gtYm94ICIraSxlbGVtZW50VG9BdHRhY2g6Ii5tYXN0ZXItd3JhcHBlci1wYWdlIixkaXNhYmxlUGFnZVNjcm9sbDohMCxvdmVybGF5OiEwfSx7b3BlbmVyOiIucGVyc29uYWwtYnV0dG9uID4gc3BhbiIsY2xvc2VyOiIucHJvZmlsZS1tZW51LWJveCAiK2ksY29udGVudDoiLnByb2ZpbGUtbWVudS1ib3giLGVsZW1lbnRUb0F0dGFjaDoiLmhlYWRlciIsZGlzYWJsZVBhZ2VTY3JvbGw6ITAsb3ZlcmxheTohMH0se29wZW5lcjoiLnNob3BwaW5nLWNhcnQtbGluayIsY2xvc2VyOiIubW9iaWxlLWZseW91dC13cmFwcGVyICIraSxjb250ZW50OiIubW9iaWxlLWZseW91dC13cmFwcGVyIixwcmV2ZW50Q2xpY2tpbmc6ITAsZGlzYWJsZVBhZ2VTY3JvbGw6ITAsb3ZlcmxheTohMCxzY3JvbGxiYXI6IiJ9LHtvcGVuZXI6Ii5yZXNwb25zaXZlLW5hdi13cmFwcGVyIC5tZW51LXRpdGxlID4gc3BhbiIsY2xvc2VyOnUsY29udGVudDoiLmhlYWRlci1tZW51IixkaXNhYmxlUGFnZVNjcm9sbDohMCxvdmVybGF5OiEwLHNjcm9sbGJhcjohMH0se2VsZW1lbnRUb0F0dGFjaDoiLm1hc3Rlci13cmFwcGVyLWNvbnRlbnQiLG9wZW5lcjoiLmZpbHRlcnMtYnV0dG9uLXdyYXBwZXIgLmZpbHRlcnMtYnV0dG9uIixjbG9zZXI6Ii5ub3BBamF4RmlsdGVyczdTcGlrZXMgIitpLGNvbnRlbnQ6Ii5ub3BBamF4RmlsdGVyczdTcGlrZXMiLGRpc2FibGVQYWdlU2Nyb2xsOiEwLG92ZXJsYXk6ITB9XX0sZmlsdGVyczohMCx0b2dnbGU6e2Jsb2Nrczpbe29wZW5lcjoiLmJsb2NrID4gLnRpdGxlIixjb250ZW50OiIuYmxvY2sgPiAubGlzdGJveCIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSJ9fSx7b3BlbmVyOiIubW9iaWxlLXNlbGVjdG9yIC5zZWxlY3Rvci10aXRsZSIsY29udGVudDoiLm1vYmlsZS1jb2xsYXBzZSIsYWN0aXZlQ2xhc3NPcGVuZXI6Im9wZW4iLGFuaW1hdGlvbjp7dHlwZToic2xpZGUiLHNwZWVkOiJzbG93In19LHtvcGVuZXI6Ii5mb290ZXItYmxvY2sgPiAudGl0bGUiLGNvbnRlbnQ6Ii5mb290ZXItYmxvY2sgPiAubGlzdCIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSJ9fSx7b3BlbmVyOiIud3JpdGUtcmV2aWV3IC50aXRsZSIsY29udGVudDoiLndyaXRlLXJldmlldy1jb2xsYXBzZSIsYWN0aXZlQ2xhc3NPcGVuZXI6Im9wZW4iLGFuaW1hdGlvbjp7dHlwZToic2xpZGUiLHNwZWVkOiJzbG93In19LHtvcGVuZXI6Ii5jb21tZW50LWZvcm0tYnRuIixjb250ZW50OiIubmV3LWNvbW1lbnQgZm9ybSIsYWN0aXZlQ2xhc3NPcGVuZXI6Im9wZW4iLGFuaW1hdGlvbjp7dHlwZToic2xpZGUiLHNwZWVkOiJzbG93In19LHtvcGVuZXI6Ii5jYXJ0LWNvbGxhdGVyYWxzID4gZGl2ID4gLnRpdGxlIixjb250ZW50OiIuY2FydC1jb2xsYXRlcmFscyA+IGRpdiA+IC5saXN0IixhY3RpdmVDbGFzc09wZW5lcjoib3BlbiIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSIsc3BlZWQ6InNsb3cifX0se29wZW5lcjoiLmFkZC1idXR0b24gLmJ0bi1ob2xkZXIiLGNvbnRlbnQ6Ii5hZGQtYnV0dG9uIC5lbnRlci1hZGRyZXNzIixhY3RpdmVDbGFzc09wZW5lcjoib3BlbiIsYW5pbWF0aW9uOnt0eXBlOiJzbGlkZSIsc3BlZWQ6InNsb3cifX1dfSxlcXVhbGl6ZXI6e2Jsb2Nrczpbe3NlbGVjdG9yOiIuY2FydCB0ciAucHJvZHVjdCJ9LHtzZWxlY3RvcjoiLmRhdGEtdGFibGUgLnByb2R1Y3QifV19fX1dfSxsPW5ldyB3aW5kb3cuc2V2ZW5TcGlrZXNUaGVtZShjLFt7bW9kdWxlOiJoZWFkZXIiLGRlcGVuZGVuY2llczpbImF0dGFjaERldGFjaCIsIm92ZXJsYXkiLCJwZXJmZWN0U2Nyb2xsYmFyIl19LHttb2R1bGU6Im1lbnUiLGRlcGVuZGVuY2llczpbInBlcmZlY3RTY3JvbGxiYXIiXX1dLCExKTtsLmluaXQoKTthKCk7digpO28oKTtzKCk7eSgpO3AoKTt3KCk7aygpO2QoKTtyKCIuaGVhZGVyLW1lbnUiKTtyKCIubW9iaWxlLWZseW91dC13cmFwcGVyIC5mbHlvdXQtY2FydC1zY3JvbGwtYXJlYSIsIi5jbG9zZS1zaWRlLW1lbnUiKTtyKCIubm9wQWpheEZpbHRlcnM3U3Bpa2VzIC5maWx0ZXJzUGFuZWwiLCIuY2xvc2Utc2lkZS1tZW51Iik7cigiLmhlYWRlci1tZW51IC5zdWJsaXN0LXdyYXAiKTtmKCIuY2FydC1jb2xsYXRlcmFscyAuZGVhbHMgLm1lc3NhZ2UtZmFpbHVyZSIsIi5jYXJ0LWNvbGxhdGVyYWxzIC5kZWFscyA+IC5saXN0IiwiLmNhcnQtY29sbGF0ZXJhbHMgPiAuZGVhbHMgPiAudGl0bGUiKTtmKCIuY2FydC1jb2xsYXRlcmFscyAuY29sbGF0ZXJhbHMtc2hpcHBpbmcgLm1lc3NhZ2UtZmFpbHVyZSIsIi5jYXJ0LWNvbGxhdGVyYWxzIC5jb2xsYXRlcmFscy1zaGlwcGluZyA+IC5saXN0IiwiLmNhcnQtY29sbGF0ZXJhbHMgLmNvbGxhdGVyYWxzLXNoaXBwaW5nID4gLnRpdGxlIik7ZigiLndyaXRlLXJldmlldyAuZmllbGQtdmFsaWRhdGlvbi1lcnJvciIsIi53cml0ZS1yZXZpZXctY29sbGFwc2UiLCIud3JpdGUtcmV2aWV3ID4gLnRpdGxlIik7ZigiLm5ldy1jb21tZW50IC5maWVsZC12YWxpZGF0aW9uLWVycm9yIiwiLm5ldy1jb21tZW50IGZvcm0iLCIuY29tbWVudC1mb3JtLWJ0biIpO2YoIi5hZGRyZXNzLWdyaWQgLmZpZWxkLXZhbGlkYXRpb24tZXJyb3IiLCIuZW50ZXItYWRkcmVzcyIsIi5hZGRyZXNzLWdyaWQgLmFkZC1idXR0b24iKTtuKCIucHJvZmlsZS1tZW51LWJveCIpLmhhc0NsYXNzKCJsb2dpbi1mb3JtLWluLWhlYWRlciIpJiZiKCk7bih3aW5kb3cpLm9uKCJyZXNpemUiLGZ1bmN0aW9uKCl7cigiLmhlYWRlci1tZW51Iik7cigiLm1vYmlsZS1mbHlvdXQtd3JhcHBlciAuZmx5b3V0LWNhcnQtc2Nyb2xsLWFyZWEiLCIuY2xvc2Utc2lkZS1tZW51Iik7cigiLm5vcEFqYXhGaWx0ZXJzN1NwaWtlcyAuZmlsdGVyc1BhbmVsIiwiLmNsb3NlLXNpZGUtbWVudSIpO3IoIi5oZWFkZXItbWVudSAuc3VibGlzdC13cmFwIik7bygpO3MoKX0pO24oZG9jdW1lbnQpLm9uKCJpbml0aWFsaXplUGVyZmVjdFNjcm9sbGJhci50aGVtZSIsZnVuY3Rpb24oKXtyKCIubW9iaWxlLWZseW91dC13cmFwcGVyIC5mbHlvdXQtY2FydC1zY3JvbGwtYXJlYSIsIi5jbG9zZS1zaWRlLW1lbnUiKX0pO24oZG9jdW1lbnQpLm9uKCJxdWlja1RhYnNSZWZyZXNoZWRUYWIiLGZ1bmN0aW9uKCl7ZigiLndyaXRlLXJldmlldyAuZmllbGQtdmFsaWRhdGlvbi1lcnJvciIsIi53cml0ZS1yZXZpZXctY29sbGFwc2UiLCIud3JpdGUtcmV2aWV3ID4gLnRpdGxlIil9KX0pfShqUXVlcnksd2luZG93LnNldmVuU3Bpa2VzQ29yZT13aW5kb3cuc2V2ZW5TcGlrZXNDb3JlfHx7fSk=","CacheKey":"xPCydmRfCezkWoN8Cb1O6pxwgE0"}